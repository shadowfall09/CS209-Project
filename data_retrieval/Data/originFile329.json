{"items":[{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1688510571,"post_id":76616170,"comment_id":135082554,"body_markdown":"You do not have the same `Uri`, and the one that you are parsing is not a valid `Uri`. Also, you can remove `addFlags()`, since your code has no rights to the file in question.","body":"You do not have the same <code>Uri</code>, and the one that you are parsing is not a valid <code>Uri</code>. Also, you can remove <code>addFlags()</code>, since your code has no rights to the file in question."},{"owner":{"account_id":4273079,"reputation":219,"user_id":4051597,"accept_rate":80,"display_name":"TuxForLife"},"score":0,"creation_date":1688511216,"post_id":76616170,"comment_id":135082617,"body_markdown":"If I put the &quot;file://&quot; header, the app doesn&#39;t open altogether, as opposed to at least opening without the target file","body":"If I put the &quot;file://&quot; header, the app doesn&#39;t open altogether, as opposed to at least opening without the target file"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1688511417,"post_id":76616170,"comment_id":135082636,"body_markdown":"Then look at Logcat and see what errors the other app is reporting. It may not have rights to work with that file either.","body":"Then look at Logcat and see what errors the other app is reporting. It may not have rights to work with that file either."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688529045,"creation_date":1688529045,"answer_id":76616995,"question_id":76616170,"body_markdown":"You cannot use Uri.parse().\r\n\r\nUse FileProvider to get an uri for your file.\r\n\r\nAnd keep the flag.","title":"How to send an intent from an app to open a file with text editor app?","body":"<p>You cannot use Uri.parse().</p>\n<p>Use FileProvider to get an uri for your file.</p>\n<p>And keep the flag.</p>\n"}],"owner":{"account_id":4273079,"reputation":219,"user_id":4051597,"accept_rate":80,"display_name":"TuxForLife"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688529045,"creation_date":1688510461,"question_id":76616170,"body_markdown":"I have a base app, and would like to open a specific text file with a text editor app called QuickEdit.\r\n\r\nI&#39;m able to successfully do it with activitymanager like this:\r\n\r\n    am start -a android.intent.action.VIEW -n com.rhmsoft.edit.pro/com.rhmsoft.edit.activity.MainActivity -d file:///storage/emulated/0/file.txt\r\n\r\n\r\nThat gives me the exact result I&#39;m looking for: the file is opened and ready for editing in the QuickEdit app.\r\n\r\nI&#39;ve tried to replicate the successful am command as an intent in my base app. It opens the QuickEdit app, but it does not open the specific app I&#39;m aiming for.\r\n\r\n\r\n    Intent intent = new Intent ();\r\n    intent.setAction(Intent.ACTION_VIEW);\r\n    intent.setComponent(new (&quot;com.rhmsoft.edit.pro&quot;,&quot;com.rhmsoft.edit.activity.MainActivity&quot;));\r\n    Uri uri = Uri.parse(&quot;/storage/emulated/0/file.txt&quot;);\r\n    intent.setData(uri);\r\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);\r\n    startActivity(intent);\r\n\r\nI&#39;ve tried many many things in thh manifest, is there any suggestions on the manifest and/or current java code?\r\n","title":"How to send an intent from an app to open a file with text editor app?","body":"<p>I have a base app, and would like to open a specific text file with a text editor app called QuickEdit.</p>\n<p>I'm able to successfully do it with activitymanager like this:</p>\n<pre><code>am start -a android.intent.action.VIEW -n com.rhmsoft.edit.pro/com.rhmsoft.edit.activity.MainActivity -d file:///storage/emulated/0/file.txt\n</code></pre>\n<p>That gives me the exact result I'm looking for: the file is opened and ready for editing in the QuickEdit app.</p>\n<p>I've tried to replicate the successful am command as an intent in my base app. It opens the QuickEdit app, but it does not open the specific app I'm aiming for.</p>\n<pre><code>Intent intent = new Intent ();\nintent.setAction(Intent.ACTION_VIEW);\nintent.setComponent(new (&quot;com.rhmsoft.edit.pro&quot;,&quot;com.rhmsoft.edit.activity.MainActivity&quot;));\nUri uri = Uri.parse(&quot;/storage/emulated/0/file.txt&quot;);\nintent.setData(uri);\nintent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION | Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION);\nstartActivity(intent);\n</code></pre>\n<p>I've tried many many things in thh manifest, is there any suggestions on the manifest and/or current java code?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1675515521,"post_id":75345209,"comment_id":132947897,"body_markdown":"Does this answer your question? [Read Content from Files which are inside Zip file](https://stackoverflow.com/questions/15667125/read-content-from-files-which-are-inside-zip-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15667125/read-content-from-files-which-are-inside-zip-file\">Read Content from Files which are inside Zip file</a>"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1675522010,"post_id":75345209,"comment_id":132948959,"body_markdown":"Nope. To list files in z.zip you need access to it. Only way to do that is to unpack x.zip and y.zip","body":"Nope. To list files in z.zip you need access to it. Only way to do that is to unpack x.zip and y.zip"},{"owner":{"account_id":5395380,"reputation":182,"user_id":17547033,"display_name":"nik0x1"},"score":0,"creation_date":1675539834,"post_id":75345209,"comment_id":132952629,"body_markdown":"Is it possible with a zero compression level?","body":"Is it possible with a zero compression level?"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675549866,"creation_date":1675549866,"answer_id":75348799,"question_id":75345209,"body_markdown":"You can read zip file contents directly from another zip entry’s InputStream.  Be warned, however, that this is known to be rather slow:\r\n\r\n    import java.io.IOException;\r\n\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipFile;\r\n    import java.util.zip.ZipInputStream;\r\n    import java.util.zip.ZipException;\r\n\r\n    import java.util.stream.Stream;\r\n\r\n    public class NestedZipReader {\r\n        public List&lt;String&gt; listEntries(ZipFile zipFile,\r\n                                        List&lt;String&gt; nestedZipFiles)\r\n        throws IOException {\r\n            if (nestedZipFiles.isEmpty()) {\r\n                try (Stream&lt;? extends ZipEntry&gt; entries = zipFile.stream()) {\r\n                    return entries.map(ZipEntry::getName).toList();\r\n                }\r\n            } else {\r\n                String name = nestedZipFiles.get(0);\r\n                ZipEntry entry = zipFile.getEntry(name);\r\n                if (entry != null) {\r\n                    try (ZipInputStream nested = new ZipInputStream(\r\n                        zipFile.getInputStream(entry))) {\r\n\r\n                        return listEntries(nested, nestedZipFiles, 1);\r\n                    }\r\n                }\r\n\r\n                throw new IllegalArgumentException(&quot;Entry not found: &quot; + name);\r\n            }\r\n        }\r\n\r\n        public List&lt;String&gt; listEntries(ZipInputStream zipFile,\r\n                                        List&lt;String&gt; nestedZipFiles)\r\n        throws IOException {\r\n            return listEntries(zipFile, nestedZipFiles, 0);\r\n        }\r\n\r\n        private List&lt;String&gt; listEntries(ZipInputStream zipFile,\r\n                                         List&lt;String&gt; nestedZipFiles,\r\n                                         int nestedZipFileIndex)\r\n        throws IOException {\r\n\r\n            int count = nestedZipFiles.size();\r\n            if (nestedZipFileIndex &gt;= count) {\r\n                List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n\r\n                ZipEntry entry;\r\n                while ((entry = zipFile.getNextEntry()) != null) {\r\n                    names.add(entry.getName());\r\n                }\r\n\r\n                return names;\r\n            } else {\r\n                String name = nestedZipFiles.get(nestedZipFileIndex);\r\n\r\n                ZipEntry entry;\r\n                while ((entry = zipFile.getNextEntry()) != null) {\r\n                    if (entry.getName().equals(name)) {\r\n                        try (ZipInputStream nested = new ZipInputStream(zipFile)) {\r\n                            return listEntries(\r\n                                nested, nestedZipFiles, nestedZipFileIndex + 1);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                throw new IllegalArgumentException(&quot;Entry not found: &quot;\r\n                    + String.join(&quot; =&gt; &quot;, \r\n                        nestedZipFiles.subList(0, nestedZipFileIndex + 1)));\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args)\r\n        throws ZipException,\r\n               IOException {\r\n\r\n            NestedZipReader reader = new NestedZipReader();\r\n            List&lt;String&gt; entries;\r\n\r\n            try (ZipFile zipFile = new ZipFile(args[0])) {\r\n                entries = reader.listEntries(zipFile,\r\n                    Arrays.asList(args).subList(1, args.length));\r\n            }\r\n\r\n            System.out.printf(&quot;%,d entries:%n%n&quot;, entries.size());\r\n            for (String entry : entries) {\r\n                System.out.println(entry);\r\n            }\r\n        }\r\n    }\r\n","title":"How to list files in a sub-zip without unpacking?","body":"<p>You can read zip file contents directly from another zip entry’s InputStream.  Be warned, however, that this is known to be rather slow:</p>\n<pre><code>import java.io.IOException;\n\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipFile;\nimport java.util.zip.ZipInputStream;\nimport java.util.zip.ZipException;\n\nimport java.util.stream.Stream;\n\npublic class NestedZipReader {\n    public List&lt;String&gt; listEntries(ZipFile zipFile,\n                                    List&lt;String&gt; nestedZipFiles)\n    throws IOException {\n        if (nestedZipFiles.isEmpty()) {\n            try (Stream&lt;? extends ZipEntry&gt; entries = zipFile.stream()) {\n                return entries.map(ZipEntry::getName).toList();\n            }\n        } else {\n            String name = nestedZipFiles.get(0);\n            ZipEntry entry = zipFile.getEntry(name);\n            if (entry != null) {\n                try (ZipInputStream nested = new ZipInputStream(\n                    zipFile.getInputStream(entry))) {\n\n                    return listEntries(nested, nestedZipFiles, 1);\n                }\n            }\n\n            throw new IllegalArgumentException(&quot;Entry not found: &quot; + name);\n        }\n    }\n\n    public List&lt;String&gt; listEntries(ZipInputStream zipFile,\n                                    List&lt;String&gt; nestedZipFiles)\n    throws IOException {\n        return listEntries(zipFile, nestedZipFiles, 0);\n    }\n\n    private List&lt;String&gt; listEntries(ZipInputStream zipFile,\n                                     List&lt;String&gt; nestedZipFiles,\n                                     int nestedZipFileIndex)\n    throws IOException {\n\n        int count = nestedZipFiles.size();\n        if (nestedZipFileIndex &gt;= count) {\n            List&lt;String&gt; names = new ArrayList&lt;&gt;();\n\n            ZipEntry entry;\n            while ((entry = zipFile.getNextEntry()) != null) {\n                names.add(entry.getName());\n            }\n\n            return names;\n        } else {\n            String name = nestedZipFiles.get(nestedZipFileIndex);\n\n            ZipEntry entry;\n            while ((entry = zipFile.getNextEntry()) != null) {\n                if (entry.getName().equals(name)) {\n                    try (ZipInputStream nested = new ZipInputStream(zipFile)) {\n                        return listEntries(\n                            nested, nestedZipFiles, nestedZipFileIndex + 1);\n                    }\n                }\n            }\n\n            throw new IllegalArgumentException(&quot;Entry not found: &quot;\n                + String.join(&quot; =&gt; &quot;, \n                    nestedZipFiles.subList(0, nestedZipFileIndex + 1)));\n        }\n    }\n\n    public static void main(String[] args)\n    throws ZipException,\n           IOException {\n\n        NestedZipReader reader = new NestedZipReader();\n        List&lt;String&gt; entries;\n\n        try (ZipFile zipFile = new ZipFile(args[0])) {\n            entries = reader.listEntries(zipFile,\n                Arrays.asList(args).subList(1, args.length));\n        }\n\n        System.out.printf(&quot;%,d entries:%n%n&quot;, entries.size());\n        for (String entry : entries) {\n            System.out.println(entry);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5395380,"reputation":182,"user_id":17547033,"display_name":"nik0x1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1688528304,"creation_date":1675514985,"question_id":75345209,"body_markdown":"I have a `x.zip` file with the following structure (zip in zip in zip):\r\n\r\n    x.zip\r\n         /y.zip\r\n               /z.zip\r\n\r\nI want to know the list of files and directories in the root of the `z.zip` without any unpacking archives.","title":"How to list files in a sub-zip without unpacking?","body":"<p>I have a <code>x.zip</code> file with the following structure (zip in zip in zip):</p>\n<pre><code>x.zip\n     /y.zip\n           /z.zip\n</code></pre>\n<p>I want to know the list of files and directories in the root of the <code>z.zip</code> without any unpacking archives.</p>\n"},{"tags":["javascript","java","https","jmeter","preprocessor"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688123534,"creation_date":1688123534,"answer_id":76588396,"question_id":76588321,"body_markdown":"If you want the results in GUI mode - take a look at [View Results in Table][1] listener:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf you&#39;re [running your JMeter test in non-GUI mode][3] - the [.jtl results file][4] will contain the response time for each sampler by default:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#View_Results_in_Table\r\n  [2]: https://i.stack.imgur.com/gQ0z7.png\r\n  [3]: https://www.blazemeter.com/blog/jmeter-non-gui-mode\r\n  [4]: https://cwiki.apache.org/confluence/display/jmeter/JtlFiles\r\n  [5]: https://i.stack.imgur.com/mkNQx.png","title":"How to capture response time of each request in JMeter?","body":"<p>If you want the results in GUI mode - take a look at <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#View_Results_in_Table\" rel=\"nofollow noreferrer\">View Results in Table</a> listener:</p>\n<p><a href=\"https://i.stack.imgur.com/gQ0z7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQ0z7.png\" alt=\"enter image description here\" /></a></p>\n<p>If you're <a href=\"https://www.blazemeter.com/blog/jmeter-non-gui-mode\" rel=\"nofollow noreferrer\">running your JMeter test in non-GUI mode</a> - the <a href=\"https://cwiki.apache.org/confluence/display/jmeter/JtlFiles\" rel=\"nofollow noreferrer\">.jtl results file</a> will contain the response time for each sampler by default:</p>\n<p><a href=\"https://i.stack.imgur.com/mkNQx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mkNQx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":3779194,"reputation":441,"user_id":3139146,"accept_rate":33,"display_name":"Guru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688123582,"creation_date":1688123582,"answer_id":76588404,"question_id":76588321,"body_markdown":"you should use Listeners like Summary Report/Aggregate Report/View Results in Table \r\nto get the response times.","title":"How to capture response time of each request in JMeter?","body":"<p>you should use Listeners like Summary Report/Aggregate Report/View Results in Table\nto get the response times.</p>\n"},{"tags":[],"owner":{"account_id":7748845,"reputation":1674,"user_id":5865492,"accept_rate":75,"display_name":"Lemonseed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688527408,"creation_date":1688527408,"answer_id":76616931,"question_id":76588321,"body_markdown":"Depending on what you are using the response time of your request for, there are two possibilities for *when* the value of the response time for your request is needed that will determine *how* to extract this information:\r\n\r\n 1. **Knowing the response time of a request after your test is completed:**\r\n\r\n    This is probably the most common scenario, where you would like to analyze the response times for many requests after your test completes.  Response times are written to the [.JTL][1] file that is compiled while your test is running and where most post-test data analysis comes from.  `JTL` files are comma-delimited flat data files.  Specifically, you can find this in the `elapsed` column within this file:\r\n\r\n    [![enter image description here][2]][2]\r\n\r\n    The most common use of this file is displaying your test results in the [JMeter Dashboard Report][3], which includes several response time analyses. \r\n (You can read more general information about interpreting the JMeter Dashboard Report [here][4].)  Additionally, any spreadsheet application can open the `.JTL` file simply by changing the file extension to `.CSV`.\r\n\r\n 2. **Knowing the response time of a request while the test is running:**\r\n\r\n    If you need to know the response time of a request while your test is running, you can accomplish this with a post-processor.  The following line of *JSR223* code will save the response time for the previous request to a JMeter variable:\r\n\r\n    ```vars.put(&quot;lastResponseTime&quot;, String.valueOf(prev.getTime()));```\r\n\r\n    Using the `prev.getTime()` function obtains the response time in milliseconds for the previous request, and using `vars.put(...)` will allow you to later retrieve this value using `vars.get(...)`.\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/jmeter/JtlFiles\r\n  [2]: https://i.stack.imgur.com/Sv7Lh.png\r\n  [3]: https://jmeter.apache.org/usermanual/generating-dashboard.html\r\n  [4]: https://www.redline13.com/blog/2022/05/use-cases-jmeter-dashboard/","title":"How to capture response time of each request in JMeter?","body":"<p>Depending on what you are using the response time of your request for, there are two possibilities for <em>when</em> the value of the response time for your request is needed that will determine <em>how</em> to extract this information:</p>\n<ol>\n<li><p><strong>Knowing the response time of a request after your test is completed:</strong></p>\n<p>This is probably the most common scenario, where you would like to analyze the response times for many requests after your test completes.  Response times are written to the <a href=\"https://cwiki.apache.org/confluence/display/jmeter/JtlFiles\" rel=\"nofollow noreferrer\">.JTL</a> file that is compiled while your test is running and where most post-test data analysis comes from.  <code>JTL</code> files are comma-delimited flat data files.  Specifically, you can find this in the <code>elapsed</code> column within this file:</p>\n<p><a href=\"https://i.stack.imgur.com/Sv7Lh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sv7Lh.png\" alt=\"enter image description here\" /></a></p>\n<p>The most common use of this file is displaying your test results in the <a href=\"https://jmeter.apache.org/usermanual/generating-dashboard.html\" rel=\"nofollow noreferrer\">JMeter Dashboard Report</a>, which includes several response time analyses.\n(You can read more general information about interpreting the JMeter Dashboard Report <a href=\"https://www.redline13.com/blog/2022/05/use-cases-jmeter-dashboard/\" rel=\"nofollow noreferrer\">here</a>.)  Additionally, any spreadsheet application can open the <code>.JTL</code> file simply by changing the file extension to <code>.CSV</code>.</p>\n</li>\n<li><p><strong>Knowing the response time of a request while the test is running:</strong></p>\n<p>If you need to know the response time of a request while your test is running, you can accomplish this with a post-processor.  The following line of <em>JSR223</em> code will save the response time for the previous request to a JMeter variable:</p>\n<p><code>vars.put(&quot;lastResponseTime&quot;, String.valueOf(prev.getTime()));</code></p>\n<p>Using the <code>prev.getTime()</code> function obtains the response time in milliseconds for the previous request, and using <code>vars.put(...)</code> will allow you to later retrieve this value using <code>vars.get(...)</code>.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":13578948,"reputation":1,"user_id":9795543,"display_name":"Himasha Nahallage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688527408,"creation_date":1688122852,"question_id":76588321,"body_markdown":"Need to capture response time in each request going in JMeter. Do I need to add any Listener or any Preprocessor? Or is there any way to capture it in View Result Tree?\r\n\r\nTried on JavaScript code and few other Listeners. Please let me know if there is an easy way to capture this?","title":"How to capture response time of each request in JMeter?","body":"<p>Need to capture response time in each request going in JMeter. Do I need to add any Listener or any Preprocessor? Or is there any way to capture it in View Result Tree?</p>\n<p>Tried on JavaScript code and few other Listeners. Please let me know if there is an easy way to capture this?</p>\n"},{"tags":["java","generics","list","dictionary"],"comments":[{"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"score":0,"creation_date":1278546085,"post_id":3199657,"comment_id":3297450,"body_markdown":"@Aircule: One could use the old functor hack just fine here.","body":"@Aircule: One could use the old functor hack just fine here."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1278546118,"post_id":3199657,"comment_id":3297452,"body_markdown":"I don&#39;t get it. You want to have a list of `x`  thing and convert it to a map where the key is the thing name and the value is the thing?","body":"I don&#39;t get it. You want to have a list of <code>x</code>  thing and convert it to a map where the key is the thing name and the value is the thing?"},{"owner":{"account_id":158262,"reputation":1358,"user_id":376763,"accept_rate":100,"display_name":"ebt"},"score":0,"creation_date":1278546622,"post_id":3199657,"comment_id":3297487,"body_markdown":"right, the key is a string value returned from the method passed (object Person has method name(), persons name becomes the key), the value is the object itself. Its much easier to compare strings than having to have an object on hand for comparison.","body":"right, the key is a string value returned from the method passed (object Person has method name(), persons name becomes the key), the value is the object itself. Its much easier to compare strings than having to have an object on hand for comparison."}],"answers":[{"tags":[],"owner":{"account_id":7670,"reputation":34983,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1278546472,"creation_date":1278546472,"answer_id":3199737,"question_id":3199657,"body_markdown":"Using reflection and generics:\r\n\r\n    public static &lt;T&gt; Map&lt;String, T&gt; MapMe(Class&lt;T&gt; clz, Collection&lt;T&gt; list, String methodName)\r\n    throws Exception{\r\n      Map&lt;String, T&gt; map = new HashMap&lt;String, T&gt;();\r\n      Method method = clz.getMethod(methodName);\r\n      for (T el : list){\r\n        map.put((String)method.invoke(el), el);\r\n      }\r\n      return map;\r\n    }\r\n\r\nIn your documentation, make sure you mention that the return type of the method must be a String. Otherwise, it will throw a ClassCastException when it tries to cast the return value.","title":"Java: how to convert a List&lt;?&gt; to a Map&lt;String,?&gt;","body":"<p>Using reflection and generics:</p>\n\n<pre><code>public static &lt;T&gt; Map&lt;String, T&gt; MapMe(Class&lt;T&gt; clz, Collection&lt;T&gt; list, String methodName)\nthrows Exception{\n  Map&lt;String, T&gt; map = new HashMap&lt;String, T&gt;();\n  Method method = clz.getMethod(methodName);\n  for (T el : list){\n    map.put((String)method.invoke(el), el);\n  }\n  return map;\n}\n</code></pre>\n\n<p>In your documentation, make sure you mention that the return type of the method must be a String. Otherwise, it will throw a ClassCastException when it tries to cast the return value.</p>\n"},{"tags":[],"owner":{"account_id":154498,"reputation":27407,"user_id":370483,"accept_rate":82,"display_name":"quantumSoup"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1282438001,"creation_date":1278546680,"answer_id":3199748,"question_id":3199657,"body_markdown":"Here&#39;s what I would do. I am not entirely sure if I am handling generics right, but oh well:\r\n\r\n    public &lt;T&gt; Map&lt;String, T&gt; mapMe(Collection&lt;T&gt; list) {\r\n       Map&lt;String, T&gt; map = new HashMap&lt;String, T&gt;();\r\n       for (T el : list) {\r\n           map.put(el.toString(), el);\r\n       }   \r\n       return map;\r\n    }\r\n\r\nJust pass a Collection to it, and have your classes implement toString() to return the name. Polymorphism will take care of it.","title":"Java: how to convert a List&lt;?&gt; to a Map&lt;String,?&gt;","body":"<p>Here's what I would do. I am not entirely sure if I am handling generics right, but oh well:</p>\n\n<pre><code>public &lt;T&gt; Map&lt;String, T&gt; mapMe(Collection&lt;T&gt; list) {\n   Map&lt;String, T&gt; map = new HashMap&lt;String, T&gt;();\n   for (T el : list) {\n       map.put(el.toString(), el);\n   }   \n   return map;\n}\n</code></pre>\n\n<p>Just pass a Collection to it, and have your classes implement toString() to return the name. Polymorphism will take care of it.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1278548529,"creation_date":1278548529,"answer_id":3199872,"question_id":3199657,"body_markdown":"Avoid reflection like the plague.\r\n\r\nUnfortunately, Java&#39;s syntax for this is verbose. (A recent JDK7 proposal would make it much more consise.)\r\n\r\n    interface ToString&lt;T&gt; {\r\n        String toString(T obj);\r\n    }\r\n\r\n    public static &lt;T&gt; Map&lt;String,T&gt; stringIndexOf(\r\n        Iterable&lt;T&gt; things,\r\n        ToString&lt;T&gt; toString\r\n    ) {\r\n        Map&lt;String,T&gt; map = new HashMap&lt;String,T&gt;();\r\n        for (T thing : things) {\r\n            map.put(toString.toString(thing), thing);\r\n        }\r\n        return map;\r\n    }\r\n\r\nCurrently call as:\r\n\r\n    Map&lt;String,Thing&gt; map = stringIndexOf(\r\n        things,\r\n        new ToString&lt;Thing&gt;() { public String toString(Thing thing) {\r\n            return thing.getSomething();\r\n        }\r\n    );\r\n\r\nIn JDK7, it may be something like:\r\n\r\n    Map&lt;String,Thing&gt; map = stringIndexOf(\r\n        things,\r\n        { thing -&gt; thing.getSomething(); }\r\n    );\r\n\r\n(Might need a `yield` in there.)","title":"Java: how to convert a List&lt;?&gt; to a Map&lt;String,?&gt;","body":"<p>Avoid reflection like the plague.</p>\n\n<p>Unfortunately, Java's syntax for this is verbose. (A recent JDK7 proposal would make it much more consise.)</p>\n\n<pre><code>interface ToString&lt;T&gt; {\n    String toString(T obj);\n}\n\npublic static &lt;T&gt; Map&lt;String,T&gt; stringIndexOf(\n    Iterable&lt;T&gt; things,\n    ToString&lt;T&gt; toString\n) {\n    Map&lt;String,T&gt; map = new HashMap&lt;String,T&gt;();\n    for (T thing : things) {\n        map.put(toString.toString(thing), thing);\n    }\n    return map;\n}\n</code></pre>\n\n<p>Currently call as:</p>\n\n<pre><code>Map&lt;String,Thing&gt; map = stringIndexOf(\n    things,\n    new ToString&lt;Thing&gt;() { public String toString(Thing thing) {\n        return thing.getSomething();\n    }\n);\n</code></pre>\n\n<p>In JDK7, it may be something like:</p>\n\n<pre><code>Map&lt;String,Thing&gt; map = stringIndexOf(\n    things,\n    { thing -&gt; thing.getSomething(); }\n);\n</code></pre>\n\n<p>(Might need a <code>yield</code> in there.)</p>\n"},{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1688527335,"creation_date":1278548939,"answer_id":3199899,"question_id":3199657,"body_markdown":"Using [Guava (formerly Google Collections)][1]:\r\n\r\n    Map&lt;String,Role&gt; mappedRoles = Maps.uniqueIndex(yourList, Functions.toStringFunction());\r\n\r\nOr, if you want to supply your own method that makes a `String` out of the object:\r\n\r\n    Map&lt;String,Role&gt; mappedRoles = Maps.uniqueIndex(yourList, new Function&lt;Role,String&gt;() {\r\n      public String apply(Role from) {\r\n        return from.getName(); // or something else\r\n      }});\r\n\r\n[1]: https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Maps.html#uniqueIndex(java.lang.Iterable,com.google.common.base.Function)","title":"Java: how to convert a List&lt;?&gt; to a Map&lt;String,?&gt;","body":"<p>Using <a href=\"https://guava.dev/releases/snapshot/api/docs/com/google/common/collect/Maps.html#uniqueIndex(java.lang.Iterable,com.google.common.base.Function)\" rel=\"nofollow noreferrer\">Guava (formerly Google Collections)</a>:</p>\n<pre><code>Map&lt;String,Role&gt; mappedRoles = Maps.uniqueIndex(yourList, Functions.toStringFunction());\n</code></pre>\n<p>Or, if you want to supply your own method that makes a <code>String</code> out of the object:</p>\n<pre><code>Map&lt;String,Role&gt; mappedRoles = Maps.uniqueIndex(yourList, new Function&lt;Role,String&gt;() {\n  public String apply(Role from) {\n    return from.getName(); // or something else\n  }});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1278638195,"creation_date":1278551896,"answer_id":3200072,"question_id":3199657,"body_markdown":"If you&#39;re sure that each object in the `List` will have a unique index, use [Guava][1] with Jorn&#39;s suggestion of `Maps.uniqueIndex`.\r\n\r\nIf, on the other hand, more than one object may have the same value for the index field (which, while not true for your specific example perhaps, is true in many use cases for this sort of thing), the more general way do this indexing is to use [Multimaps.index(Iterable&amp;lt;V&amp;gt; values, Function&amp;lt;? super V,K&amp;gt; keyFunction)][2] to create an `ImmutableListMultimap&lt;K,V&gt;` that maps each key to one or more matching values.\r\n\r\nHere&#39;s an example that uses a custom `Function` that creates an index on a specific property of an object:\r\n\r\n    List&lt;Foo&gt; foos = ...\r\n    ImmutableListMultimap&lt;String, Foo&gt; index = Multimaps.index(foos,\r\n        new Function&lt;Foo, String&gt;() {\r\n          public String apply(Foo input) {\r\n            return input.getBar();\r\n          }\r\n        });\r\n\r\n    // iterate over all Foos that have &quot;baz&quot; as their Bar property\r\n    for (Foo foo : index.get(&quot;baz&quot;)) { ... }\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com/\r\n  [2]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimaps.html#index%28java.lang.Iterable,%20com.google.common.base.Function%29","title":"Java: how to convert a List&lt;?&gt; to a Map&lt;String,?&gt;","body":"<p>If you're sure that each object in the <code>List</code> will have a unique index, use <a href=\"http://guava-libraries.googlecode.com/\" rel=\"nofollow noreferrer\">Guava</a> with Jorn's suggestion of <code>Maps.uniqueIndex</code>.</p>\n\n<p>If, on the other hand, more than one object may have the same value for the index field (which, while not true for your specific example perhaps, is true in many use cases for this sort of thing), the more general way do this indexing is to use <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimaps.html#index%28java.lang.Iterable,%20com.google.common.base.Function%29\" rel=\"nofollow noreferrer\">Multimaps.index(Iterable&lt;V&gt; values, Function&lt;? super V,K&gt; keyFunction)</a> to create an <code>ImmutableListMultimap&lt;K,V&gt;</code> that maps each key to one or more matching values.</p>\n\n<p>Here's an example that uses a custom <code>Function</code> that creates an index on a specific property of an object:</p>\n\n<pre><code>List&lt;Foo&gt; foos = ...\nImmutableListMultimap&lt;String, Foo&gt; index = Multimaps.index(foos,\n    new Function&lt;Foo, String&gt;() {\n      public String apply(Foo input) {\n        return input.getBar();\n      }\n    });\n\n// iterate over all Foos that have \"baz\" as their Bar property\nfor (Foo foo : index.get(\"baz\")) { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1411138005,"creation_date":1411138005,"answer_id":25936631,"question_id":3199657,"body_markdown":"Java 8 streams and method references make this so easy you don&#39;t need a helper method for it.\r\n\r\n    Map&lt;String, Foo&gt; map = listOfFoos.stream()\r\n        .collect(Collectors.toMap(Foo::getName, Function.identity()));\r\n\r\nIf there may be duplicate keys, you can aggregate the values with the [toMap overload that takes a value merge function](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-), or you can use [groupingBy](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-) to collect into a list:\r\n\r\n    //taken right from the Collectors javadoc\r\n    Map&lt;Department, List&lt;Employee&gt;&gt; byDept = employees.stream()\r\n        .collect(Collectors.groupingBy(Employee::getDepartment));\r\n\r\nAs shown above, none of this is specific to String -- you can create an index on any type.\r\n\r\nIf you have a lot of objects to process and/or your indexing function is expensive, you can go parallel by using `Collection.parallelStream()` or `stream().parallel()` ([they do the same thing](https://stackoverflow.com/questions/24603186/why-does-collection-parallelstream-exist-when-stream-parallel-does-the-sa)).  In that case you might use [toConcurrentMap](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toConcurrentMap-java.util.function.Function-java.util.function.Function-) or [groupingByConcurrent](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingByConcurrent-java.util.function.Function-), as they allow the stream implementation to just blast elements into a ConcurrentMap instead of making separate maps for each thread and then merging them.\r\n\r\nIf you don&#39;t want to commit to `Foo::getName` (or any specific method) at the call site, you can use a Function passed in by a caller, stored in a field, etc..  Whoever actually creates the Function can still take advantage of method reference or lambda syntax.","title":"Java: how to convert a List&lt;?&gt; to a Map&lt;String,?&gt;","body":"<p>Java 8 streams and method references make this so easy you don't need a helper method for it.</p>\n\n<pre><code>Map&lt;String, Foo&gt; map = listOfFoos.stream()\n    .collect(Collectors.toMap(Foo::getName, Function.identity()));\n</code></pre>\n\n<p>If there may be duplicate keys, you can aggregate the values with the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-java.util.function.BinaryOperator-\" rel=\"nofollow\">toMap overload that takes a value merge function</a>, or you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-\" rel=\"nofollow\">groupingBy</a> to collect into a list:</p>\n\n<pre><code>//taken right from the Collectors javadoc\nMap&lt;Department, List&lt;Employee&gt;&gt; byDept = employees.stream()\n    .collect(Collectors.groupingBy(Employee::getDepartment));\n</code></pre>\n\n<p>As shown above, none of this is specific to String -- you can create an index on any type.</p>\n\n<p>If you have a lot of objects to process and/or your indexing function is expensive, you can go parallel by using <code>Collection.parallelStream()</code> or <code>stream().parallel()</code> (<a href=\"https://stackoverflow.com/questions/24603186/why-does-collection-parallelstream-exist-when-stream-parallel-does-the-sa\">they do the same thing</a>).  In that case you might use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toConcurrentMap-java.util.function.Function-java.util.function.Function-\" rel=\"nofollow\">toConcurrentMap</a> or <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingByConcurrent-java.util.function.Function-\" rel=\"nofollow\">groupingByConcurrent</a>, as they allow the stream implementation to just blast elements into a ConcurrentMap instead of making separate maps for each thread and then merging them.</p>\n\n<p>If you don't want to commit to <code>Foo::getName</code> (or any specific method) at the call site, you can use a Function passed in by a caller, stored in a field, etc..  Whoever actually creates the Function can still take advantage of method reference or lambda syntax.</p>\n"}],"owner":{"account_id":158262,"reputation":1358,"user_id":376763,"accept_rate":100,"display_name":"ebt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47098,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1449083941,"accepted_answer_id":3199748,"answer_count":6,"score":10,"last_activity_date":1688527335,"creation_date":1278545285,"question_id":3199657,"body_markdown":"I would like to find a way to take the object specific routine below and abstract it into a method that you can pass a class, list, and fieldname to get back a Map.\r\nIf I could get a general pointer on the pattern used &lt;T&gt; or &lt;?&gt;, etc that could get me started in the right direction.\r\n   \r\n      Map&lt;String,Role&gt; mapped_roles = new HashMap&lt;String,Role&gt;();\r\n\t\tList&lt;Role&gt; p_roles = (List&lt;Role&gt;) c.list();\r\n\t\tfor (Role el :  p_roles) {\r\n\t\t\tmapped_roles.put(el.getName(), el);\r\n\t\t}\r\nto this? (Pseudo code)\r\n\r\n      Map&lt;String,?&gt; MapMe(Class clz, Collection list, String methodName)\r\n      Map&lt;String,?&gt; map = new HashMap&lt;String,?&gt;();\r\n\t\tfor (clz el :  list) {\r\n\t\t\tmap.put(el.methodName(), el);\r\n\t\t}\r\nis it possible?","title":"Java: how to convert a List&lt;?&gt; to a Map&lt;String,?&gt;","body":"<p>I would like to find a way to take the object specific routine below and abstract it into a method that you can pass a class, list, and fieldname to get back a Map.\nIf I could get a general pointer on the pattern used  or , etc that could get me started in the right direction.</p>\n\n<pre><code>  Map&lt;String,Role&gt; mapped_roles = new HashMap&lt;String,Role&gt;();\n    List&lt;Role&gt; p_roles = (List&lt;Role&gt;) c.list();\n    for (Role el :  p_roles) {\n        mapped_roles.put(el.getName(), el);\n    }\n</code></pre>\n\n<p>to this? (Pseudo code)</p>\n\n<pre><code>  Map&lt;String,?&gt; MapMe(Class clz, Collection list, String methodName)\n  Map&lt;String,?&gt; map = new HashMap&lt;String,?&gt;();\n    for (clz el :  list) {\n        map.put(el.methodName(), el);\n    }\n</code></pre>\n\n<p>is it possible?</p>\n"},{"tags":["java","elasticsearch","opensearch"],"owner":{"account_id":5560157,"reputation":11,"user_id":4409782,"display_name":"ninjacoder99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688527022,"creation_date":1688527022,"question_id":76616920,"body_markdown":"query :-\r\n\r\n```\r\nPOST demo_index/_update_by_query\r\n{\r\n &quot;query&quot; : {\r\n      &quot;terms&quot; : {\r\n          &quot;_id&quot; :[\r\n                &quot;123&quot;\r\n               ]\r\n             }\r\n},\r\n&quot;script&quot; : {\r\n   &quot;source&quot; : &quot;if (cox._source.time &lt; params.time ) { cox.source.time = 8;}&quot;,\r\n   &quot;lang&quot;: &quot;painless&quot;,\r\n   &quot;params&quot; : {\r\n       &quot;time&quot; : 2,\r\n       &quot;acctId&quot; : &quot;999&quot;,\r\n       &quot;hash&quot; : &quot;rqwtqw&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\nTrying to implement this in OpenSearch using Java Client but couldn&#39;t figure out how to use Script.Builder for creating script data.\r\n\r\n\r\nI did find some examples of ElasticSearch but I guess classes are different in OpenSearch so not able to use that same classes","title":"OpenSearch implement QueryByUpdate with query and script tag using Java Client","body":"<p>query :-</p>\n<pre><code>POST demo_index/_update_by_query\n{\n &quot;query&quot; : {\n      &quot;terms&quot; : {\n          &quot;_id&quot; :[\n                &quot;123&quot;\n               ]\n             }\n},\n&quot;script&quot; : {\n   &quot;source&quot; : &quot;if (cox._source.time &lt; params.time ) { cox.source.time = 8;}&quot;,\n   &quot;lang&quot;: &quot;painless&quot;,\n   &quot;params&quot; : {\n       &quot;time&quot; : 2,\n       &quot;acctId&quot; : &quot;999&quot;,\n       &quot;hash&quot; : &quot;rqwtqw&quot;\n    }\n  }\n}\n</code></pre>\n<p>Trying to implement this in OpenSearch using Java Client but couldn't figure out how to use Script.Builder for creating script data.</p>\n<p>I did find some examples of ElasticSearch but I guess classes are different in OpenSearch so not able to use that same classes</p>\n"},{"tags":["java","regex","javadoc"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1688427206,"post_id":76608562,"comment_id":135070041,"body_markdown":"It&#39;s testing each part of the expression in order. Quantifiers are greedy by default and try to match the longest subsequence possible. If there&#39;s no matching sequence, it backtracks and tries the next variant. I&#39;m not sure where the ambiguity is, especially in that piece of Javadoc.","body":"It&#39;s testing each part of the expression in order. Quantifiers are greedy by default and try to match the longest subsequence possible. If there&#39;s no matching sequence, it backtracks and tries the next variant. I&#39;m not sure where the ambiguity is, especially in that piece of Javadoc."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1688428241,"post_id":76608562,"comment_id":135070123,"body_markdown":"Looks exactly like I&#39;d expect.  For alternation, it&#39;s matching the first alternative, so does not try the second.  What would you have it do?  How should it determine which alternative is &quot;best&quot;?","body":"Looks exactly like I&#39;d expect.  For alternation, it&#39;s matching the first alternative, so does not try the second.  What would you have it do?  How should it determine which alternative is &quot;best&quot;?"},{"owner":{"account_id":370114,"reputation":2232,"user_id":717858,"accept_rate":86,"display_name":"Todd O&#39;Bryan"},"score":0,"creation_date":1688505087,"post_id":76608562,"comment_id":135081965,"body_markdown":"The reason this came up is that I&#39;m working on an FSA-based implementation. My results don&#39;t match the results Java gives, but do match what the documentation says. Say `Pattern x;` `x.matcher(&quot;abc&quot;);` `x.find()` is true and `x.group()` is `&quot;abc&quot;`. I think from the JavaDoc it&#39;s safe to assume that the subsequences `&quot;a&quot;`, `&quot;b&quot;`, and `&quot;ab&quot;` do NOT match the pattern, since the doc says the find method returns the &quot;next subsequence that matches the pattern.&quot; However, as we&#39;ve seen, that&#39;s not true.","body":"The reason this came up is that I&#39;m working on an FSA-based implementation. My results don&#39;t match the results Java gives, but do match what the documentation says. Say <code>Pattern x;</code> <code>x.matcher(&quot;abc&quot;);</code> <code>x.find()</code> is true and <code>x.group()</code> is <code>&quot;abc&quot;</code>. I think from the JavaDoc it&#39;s safe to assume that the subsequences <code>&quot;a&quot;</code>, <code>&quot;b&quot;</code>, and <code>&quot;ab&quot;</code> do NOT match the pattern, since the doc says the find method returns the &quot;next subsequence that matches the pattern.&quot; However, as we&#39;ve seen, that&#39;s not true."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1688506832,"post_id":76608562,"comment_id":135082204,"body_markdown":"I see. But I think you&#39;re reading too much into &quot;next subsequence.&quot; To me it just means the subsequence starting at the nearest index, without specifying whether longer or shorter sequences are prioritized.","body":"I see. But I think you&#39;re reading too much into &quot;next subsequence.&quot; To me it just means the subsequence starting at the nearest index, without specifying whether longer or shorter sequences are prioritized."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1688428609,"creation_date":1688428609,"answer_id":76608682,"question_id":76608562,"body_markdown":"Java&#39;s regular expressions use a [backtracking](https://en.wikipedia.org/wiki/Backtracking) implementation, so given a pattern like `x|y`, it will first attempt to match `x`, and if that fails, reset and try `y`. Thus, the order matters. \r\n\r\nFor the first example, both `a` and `ad` will at least partially match the string `&quot;ad&quot;`, so whichever pattern is given first to the or operator is found as the match.\r\n\r\nFor the second example, `+` is a greedy quantifier, so it will attempt to match as much as possible. In this case, the whole string matches. To match as little as possible, the reluctant `+?` should be used, which would only match a single `&quot;a&quot;`.\r\n\r\nThe documentation for this specific `Matcher` method does not explain all these details about regular expressions, but it is not incorrect.","title":"What does Matcher.find() really do?","body":"<p>Java's regular expressions use a <a href=\"https://en.wikipedia.org/wiki/Backtracking\" rel=\"nofollow noreferrer\">backtracking</a> implementation, so given a pattern like <code>x|y</code>, it will first attempt to match <code>x</code>, and if that fails, reset and try <code>y</code>. Thus, the order matters.</p>\n<p>For the first example, both <code>a</code> and <code>ad</code> will at least partially match the string <code>&quot;ad&quot;</code>, so whichever pattern is given first to the or operator is found as the match.</p>\n<p>For the second example, <code>+</code> is a greedy quantifier, so it will attempt to match as much as possible. In this case, the whole string matches. To match as little as possible, the reluctant <code>+?</code> should be used, which would only match a single <code>&quot;a&quot;</code>.</p>\n<p>The documentation for this specific <code>Matcher</code> method does not explain all these details about regular expressions, but it is not incorrect.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688526700,"creation_date":1688526700,"answer_id":76616903,"question_id":76608562,"body_markdown":"&gt; _&quot;... Clearly, the subsequence a matches both patterns, but the second matcher skips over `a` and finds `ad` as the &quot;next subsequence that matches the pattern&quot;. ...&quot;_\r\n\r\nIt&#39;s not skipping over _a_, as the pattern has specified _ad_ first.\r\n\r\n&gt; _&quot;... It&#39;s not the longest subsequence that matches (see `a` vs `ad`) ...&quot;_\r\n\r\nIt would be the longest subsequence of the input, not the pattern.\r\n\r\nThe regex engine is going to try and match the first supplied pattern, not the shortest of the two.\r\n\r\n&gt; _&quot;... Similarly, I think we can all agree that `[abc]+` matches a single `a`, `b`, or `c`, but ... which skips over the fact that `a` is a perfectly fine match for the pattern. ...&quot;_\r\n\r\nThe `+` is specifying that it should match as many as possible.  \r\nYou _could_ append a `?`, `[abc]+?`.&amp;nbsp; This will cause it to match just the _a_, and then the _b_, and so on and so forth.\r\n\r\n&gt; _&quot;... It finds a next subsequence that matches the pattern based not just on what strings match the pattern, but also how the pattern is constructed.&quot;_\r\n\r\nExactly; I guess they are inferring this.&amp;nbsp; I find that most technical writing has some sort of unintentional inferred context.  \r\nYou could, of course, just inquire about this to the company.&amp;nbsp; I&#39;m sure they&#39;d appreciate the notice.\r\n\r\nEssentially, a regex engine is very simplistic, it just works from left to right, within a loop.\r\n\r\nI suggest reading the _Wikipedia_ article on _regex_, it covers all of these topics.  \r\n_[Wikipedia &amp;ndash; Regular expression](https://en.wikipedia.org/wiki/Regular_expression)_.","title":"What does Matcher.find() really do?","body":"<blockquote>\n<p><em>&quot;... Clearly, the subsequence a matches both patterns, but the second matcher skips over <code>a</code> and finds <code>ad</code> as the &quot;next subsequence that matches the pattern&quot;. ...&quot;</em></p>\n</blockquote>\n<p>It's not skipping over <em>a</em>, as the pattern has specified <em>ad</em> first.</p>\n<blockquote>\n<p><em>&quot;... It's not the longest subsequence that matches (see <code>a</code> vs <code>ad</code>) ...&quot;</em></p>\n</blockquote>\n<p>It would be the longest subsequence of the input, not the pattern.</p>\n<p>The regex engine is going to try and match the first supplied pattern, not the shortest of the two.</p>\n<blockquote>\n<p><em>&quot;... Similarly, I think we can all agree that <code>[abc]+</code> matches a single <code>a</code>, <code>b</code>, or <code>c</code>, but ... which skips over the fact that <code>a</code> is a perfectly fine match for the pattern. ...&quot;</em></p>\n</blockquote>\n<p>The <code>+</code> is specifying that it should match as many as possible.<br />\nYou <em>could</em> append a <code>?</code>, <code>[abc]+?</code>.  This will cause it to match just the <em>a</em>, and then the <em>b</em>, and so on and so forth.</p>\n<blockquote>\n<p><em>&quot;... It finds a next subsequence that matches the pattern based not just on what strings match the pattern, but also how the pattern is constructed.&quot;</em></p>\n</blockquote>\n<p>Exactly; I guess they are inferring this.  I find that most technical writing has some sort of unintentional inferred context.<br />\nYou could, of course, just inquire about this to the company.  I'm sure they'd appreciate the notice.</p>\n<p>Essentially, a regex engine is very simplistic, it just works from left to right, within a loop.</p>\n<p>I suggest reading the <em>Wikipedia</em> article on <em>regex</em>, it covers all of these topics.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">Wikipedia – Regular expression</a></em>.</p>\n"}],"owner":{"account_id":370114,"reputation":2232,"user_id":717858,"accept_rate":86,"display_name":"Todd O&#39;Bryan"},"comment_count":4,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1688674962,"answer_count":2,"score":-4,"last_activity_date":1688526700,"creation_date":1688425996,"question_id":76608562,"body_markdown":"The JavaDoc for `java.util.regex.Matcher.find()` says:\r\n\r\n&gt; Attempts to find the next subsequence of the input sequence that\r\n&gt; matches the pattern.\r\n&gt; \r\n&gt; This method starts at the beginning of this matcher&#39;s region, or, if a\r\n&gt; previous  invocation of the method was successful and the matcher has\r\n&gt; not since been reset, at  the first character not matched by the\r\n&gt; previous match.\r\n&gt; \r\n&gt; If the match succeeds then more information can be obtained via the\r\n&gt; start,  end, and group methods.\r\n\r\nThis is not what it actually does. And after playing with it for a bit, I have some intuitions about what it actually does, but I wonder if the behavior is actually documented anywhere.\r\n\r\nSome examples:\r\n```java\r\nPattern.compile(&quot;a|ad&quot;).matcher(&quot;ad&quot;).find() --&gt; group() = &quot;a&quot;\r\nPattern.compile(&quot;ad|a&quot;).matcher(&quot;ad&quot;).find() --&gt; group() = &quot;ad&quot;\r\n```\r\nClearly, the subsequence `a` matches both patterns, but the second matcher skips over `a` and finds `ad` as the &quot;next subsequence that matches the pattern&quot;.\r\n\r\nSimilarly, I think we can all agree that `[abc]+` matches a single `a`, `b`, or `c`, but\r\n```\r\nPattern.compile(&quot;[abc]+&quot;).matcher(&quot;ababab&quot;).find() --&gt; group = &quot;ababab&quot;\r\n```\r\nwhich skips over the fact that `a` is a perfectly fine match for the pattern.\r\n\r\nI _think_ what&#39;s happening is that, given that the implementation is pattern-based, it&#39;s trying pieces of the pattern in some order. Thus `a|ad` matches `a` and ignores `d`, but `ad|a` does the opposite. `[abc]+` greedily matches, even when it&#39;s looking for the next subsequence match.\r\n\r\nSo the question is, what should the JavaDoc say? It&#39;s not the longest subsequence that matches (see `a` vs `ad`), and it&#39;s not the first subsequence that matches (see `ababab` vs `a`). So what is this method actually doing, and is there a way to pin it down to a reasonable specification?\r\n\r\nNote that I understand what is going on here. I&#39;m simply pointing out that the behavior of this method doesn&#39;t match the JavaDoc _and_ that it&#39;s not clear how you could fix the JavaDoc without explicitly describing the implementation of the method. `find` does not find &quot;the next subsequence that matches the pattern&quot;. It finds _a_ next subsequence that matches the pattern based not just on what strings match the pattern, but also how the pattern is constructed.","title":"What does Matcher.find() really do?","body":"<p>The JavaDoc for <code>java.util.regex.Matcher.find()</code> says:</p>\n<blockquote>\n<p>Attempts to find the next subsequence of the input sequence that\nmatches the pattern.</p>\n<p>This method starts at the beginning of this matcher's region, or, if a\nprevious  invocation of the method was successful and the matcher has\nnot since been reset, at  the first character not matched by the\nprevious match.</p>\n<p>If the match succeeds then more information can be obtained via the\nstart,  end, and group methods.</p>\n</blockquote>\n<p>This is not what it actually does. And after playing with it for a bit, I have some intuitions about what it actually does, but I wonder if the behavior is actually documented anywhere.</p>\n<p>Some examples:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern.compile(&quot;a|ad&quot;).matcher(&quot;ad&quot;).find() --&gt; group() = &quot;a&quot;\nPattern.compile(&quot;ad|a&quot;).matcher(&quot;ad&quot;).find() --&gt; group() = &quot;ad&quot;\n</code></pre>\n<p>Clearly, the subsequence <code>a</code> matches both patterns, but the second matcher skips over <code>a</code> and finds <code>ad</code> as the &quot;next subsequence that matches the pattern&quot;.</p>\n<p>Similarly, I think we can all agree that <code>[abc]+</code> matches a single <code>a</code>, <code>b</code>, or <code>c</code>, but</p>\n<pre><code>Pattern.compile(&quot;[abc]+&quot;).matcher(&quot;ababab&quot;).find() --&gt; group = &quot;ababab&quot;\n</code></pre>\n<p>which skips over the fact that <code>a</code> is a perfectly fine match for the pattern.</p>\n<p>I <em>think</em> what's happening is that, given that the implementation is pattern-based, it's trying pieces of the pattern in some order. Thus <code>a|ad</code> matches <code>a</code> and ignores <code>d</code>, but <code>ad|a</code> does the opposite. <code>[abc]+</code> greedily matches, even when it's looking for the next subsequence match.</p>\n<p>So the question is, what should the JavaDoc say? It's not the longest subsequence that matches (see <code>a</code> vs <code>ad</code>), and it's not the first subsequence that matches (see <code>ababab</code> vs <code>a</code>). So what is this method actually doing, and is there a way to pin it down to a reasonable specification?</p>\n<p>Note that I understand what is going on here. I'm simply pointing out that the behavior of this method doesn't match the JavaDoc <em>and</em> that it's not clear how you could fix the JavaDoc without explicitly describing the implementation of the method. <code>find</code> does not find &quot;the next subsequence that matches the pattern&quot;. It finds <em>a</em> next subsequence that matches the pattern based not just on what strings match the pattern, but also how the pattern is constructed.</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1688538400,"post_id":76616777,"comment_id":135084729,"body_markdown":"You have to use a string lliteral: instead of `LIKE ? ESCAPE \\\\ ` write `LIKE ? ESCAPE &#39;\\\\&#39;`. If that is generated code, the component that generates the code has a bug.","body":"You have to use a string lliteral: instead of <code>LIKE ? ESCAPE \\\\ </code> write <code>LIKE ? ESCAPE &#39;\\\\&#39;</code>. If that is generated code, the component that generates the code has a bug."},{"owner":{"account_id":269957,"reputation":996,"user_id":559616,"accept_rate":50,"display_name":"HJED"},"score":0,"creation_date":1688539387,"post_id":76616777,"comment_id":135084906,"body_markdown":"Hi @LaurenzAlbe yeah hibernate/jpa is generating that. Doesn&#39;t appear to be a way to disable it that I can find","body":"Hi @LaurenzAlbe yeah hibernate/jpa is generating that. Doesn&#39;t appear to be a way to disable it that I can find"},{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1688539569,"post_id":76616777,"comment_id":135084940,"body_markdown":"Well, report the bug to them.","body":"Well, report the bug to them."},{"owner":{"account_id":269957,"reputation":996,"user_id":559616,"accept_rate":50,"display_name":"HJED"},"score":0,"creation_date":1688540851,"post_id":76616777,"comment_id":135085182,"body_markdown":"Hm, was hopping it was configuration error or similar - but I&#39;ve now raised https://hibernate.atlassian.net/browse/HHH-16893","body":"Hm, was hopping it was configuration error or similar - but I&#39;ve now raised <a href=\"https://hibernate.atlassian.net/browse/HHH-16893\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-16893</a>"}],"owner":{"account_id":269957,"reputation":996,"user_id":559616,"accept_rate":50,"display_name":"HJED"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688525180,"creation_date":1688524421,"question_id":76616777,"body_markdown":"I&#39;m getting a weird error, after upgrading to spring boot 3 (Hibernate 6). \r\n\r\nIt seems that Hibernate 6 is generating invalid syntax SQL (which it wasn&#39;t in hibernate 5).\r\n\r\nHere&#39;s the exception:\r\n```java\r\norg.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select b1_0.int_id,b1_0.country,b1_0.governing_district,b1_0.id,b1_0.legacy_id,b1_0.name,b1_0.postal_area from basic_suburbs b1_0 where b1_0.country=? and upper(b1_0.name) like upper(?) escape \\ or b1_0.country=? and b1_0.postal_area like ? escape \\ order by b1_0.name offset ? rows fetch first ? rows only] [ERROR: syntax error at or near &quot;\\&quot;\r\n  Position: 196] [n/a]\r\n\r\n\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\r\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\r\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\r\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\r\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\r\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:119)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy326.getResultList(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.MethodInvocationValidator.invoke(MethodInvocationValidator.java:94)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy260.findAllByCountryAndNameLikeIgnoreCaseOrCountryAndPostalAreaLikeOrderByName(Unknown Source)\r\n\tat nct.core.suburbs.adapters.sql.BasicSuburbCrudRepository$DefaultImpls.findAllByCountryAndNameLikeIgnoreCaseOrCountryAndPostalAreaLikeOrderByName$default(BasicSuburbRepository.kt:61)\r\n\tat nct.core.suburbs.adapters.sql.BasicSuburbRepository.queryFirst10ByCountryAndNameOrPostalArea(BasicSuburbRepository.kt:49)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n\tat nct.core.suburbs.adapters.sql.BasicSuburbRepository$$SpringCGLIB$$0.queryFirst10ByCountryAndNameOrPostalArea(&lt;generated&gt;)\r\n\tat nct.core.suburbs.adapters.sql.BasicSuburbRepositoryTest.shouldGetUpTo10NameAndPostalAreaMatchingSuburbs(BasicSuburbRepositoryTest.kt:374)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;\\&quot;\r\n  Position: 196\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\r\n\t... 132 more\r\n```\r\n\r\nThe Repository Code:\r\n\r\n```kotlin\r\ninternal interface BasicSuburbCrudRepository : CrudRepository&lt;BasicSuburbEntity, Int&gt;, JpaSpecificationExecutor&lt;BasicSuburbEntity&gt; {\r\n\r\n    fun findAllByCountryAndNameLikeIgnoreCaseOrCountryAndPostalAreaLikeOrderByName(\r\n        country: String, nameQuery: String,\r\n        countryForPostalAreaQuery: String = country, postalAreaQuery: String,\r\n        pageable: Pageable,\r\n    ): List&lt;BasicSuburbEntity&gt;\r\n\r\n}\r\n```\r\nEntity class - note same error occurs with and without `@JdbcTypeCode(SqlTypes.LONGVARCHAR)` annotation.\r\n```kotlin\r\n@Entity\r\n@Table(name = &quot;basic_suburbs&quot;)\r\ndata class BasicSuburbEntity(\r\n    @Id\r\n    @Column(name = &quot;int_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    val intId: Int? = null,\r\n\r\n    @JdbcTypeCode(SqlTypes.LONGVARCHAR)\r\n    @Column(name = &quot;legacy_id&quot;)\r\n    val legacyId: String,\r\n\r\n    @JdbcTypeCode(SqlTypes.LONGVARCHAR)\r\n    @Column(name = &quot;name&quot;)\r\n    val name: String,\r\n\r\n    @JdbcTypeCode(SqlTypes.LONGVARCHAR)\r\n    @Column(name = &quot;country&quot;)\r\n    val country: String,\r\n\r\n    @JdbcTypeCode(SqlTypes.LONGVARCHAR)\r\n    @Column(name = &quot;governing_district&quot;)\r\n    val governingDistrict: String,\r\n\r\n    @JdbcTypeCode(SqlTypes.LONGVARCHAR)\r\n    @Column(name = &quot;postal_area&quot;)\r\n    val postalArea: String,\r\n\r\n    @Column(name = &quot;id&quot;)\r\n    val id: UUID?,\r\n)\r\n```\r\n\r\n\r\nFrom what I understand Spring Boot should auto-configure dialect and database type so it should be generating correctly. However even when manually setting the dialect it still fails. None of the migration guides seem to mention anything that could be causing this as far as I can work out (except possibly the text type change but fixes for that don&#39;t seem to work here). This query works in Hibernate 5/Spring Boot 2.7.\r\n\r\nFrom manually running the query it should be quoting the slash in `escape \\ ` but can&#39;t see how to configure this.\r\n\r\nOther queries such as `findAll` with a `Specification` work correctly. \r\n\r\nThanks for your help. ","title":"Hibernate 6 Upgrade - ERROR: syntax error at or near &quot;\\&quot;","body":"<p>I'm getting a weird error, after upgrading to spring boot 3 (Hibernate 6).</p>\n<p>It seems that Hibernate 6 is generating invalid syntax SQL (which it wasn't in hibernate 5).</p>\n<p>Here's the exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select b1_0.int_id,b1_0.country,b1_0.governing_district,b1_0.id,b1_0.legacy_id,b1_0.name,b1_0.postal_area from basic_suburbs b1_0 where b1_0.country=? and upper(b1_0.name) like upper(?) escape \\ or b1_0.country=? and b1_0.postal_area like ? escape \\ order by b1_0.name offset ? rows fetch first ? rows only] [ERROR: syntax error at or near &quot;\\&quot;\n  Position: 196] [n/a]\n\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:89)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:257)\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:163)\n    at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advanceNext(JdbcValuesResultSetImpl.java:254)\n    at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:134)\n    at org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:19)\n    at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:66)\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:198)\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:361)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:168)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:93)\n    at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:110)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:303)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:244)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:518)\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:367)\n    at org.hibernate.query.Query.getResultList(Query.java:119)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405)\n    at jdk.proxy2/jdk.proxy2.$Proxy326.getResultList(Unknown Source)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:129)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:92)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.repository.core.support.MethodInvocationValidator.invoke(MethodInvocationValidator.java:94)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)\n    at jdk.proxy2/jdk.proxy2.$Proxy260.findAllByCountryAndNameLikeIgnoreCaseOrCountryAndPostalAreaLikeOrderByName(Unknown Source)\n    at nct.core.suburbs.adapters.sql.BasicSuburbCrudRepository$DefaultImpls.findAllByCountryAndNameLikeIgnoreCaseOrCountryAndPostalAreaLikeOrderByName$default(BasicSuburbRepository.kt:61)\n    at nct.core.suburbs.adapters.sql.BasicSuburbRepository.queryFirst10ByCountryAndNameOrPostalArea(BasicSuburbRepository.kt:49)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n    at nct.core.suburbs.adapters.sql.BasicSuburbRepository$$SpringCGLIB$$0.queryFirst10ByCountryAndNameOrPostalArea(&lt;generated&gt;)\n    at nct.core.suburbs.adapters.sql.BasicSuburbRepositoryTest.shouldGetUpTo10NameAndPostalAreaMatchingSuburbs(BasicSuburbRepositoryTest.kt:374)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;\\&quot;\n  Position: 196\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)\n    at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239)\n    ... 132 more\n</code></pre>\n<p>The Repository Code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>internal interface BasicSuburbCrudRepository : CrudRepository&lt;BasicSuburbEntity, Int&gt;, JpaSpecificationExecutor&lt;BasicSuburbEntity&gt; {\n\n    fun findAllByCountryAndNameLikeIgnoreCaseOrCountryAndPostalAreaLikeOrderByName(\n        country: String, nameQuery: String,\n        countryForPostalAreaQuery: String = country, postalAreaQuery: String,\n        pageable: Pageable,\n    ): List&lt;BasicSuburbEntity&gt;\n\n}\n</code></pre>\n<p>Entity class - note same error occurs with and without <code>@JdbcTypeCode(SqlTypes.LONGVARCHAR)</code> annotation.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\n@Table(name = &quot;basic_suburbs&quot;)\ndata class BasicSuburbEntity(\n    @Id\n    @Column(name = &quot;int_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    val intId: Int? = null,\n\n    @JdbcTypeCode(SqlTypes.LONGVARCHAR)\n    @Column(name = &quot;legacy_id&quot;)\n    val legacyId: String,\n\n    @JdbcTypeCode(SqlTypes.LONGVARCHAR)\n    @Column(name = &quot;name&quot;)\n    val name: String,\n\n    @JdbcTypeCode(SqlTypes.LONGVARCHAR)\n    @Column(name = &quot;country&quot;)\n    val country: String,\n\n    @JdbcTypeCode(SqlTypes.LONGVARCHAR)\n    @Column(name = &quot;governing_district&quot;)\n    val governingDistrict: String,\n\n    @JdbcTypeCode(SqlTypes.LONGVARCHAR)\n    @Column(name = &quot;postal_area&quot;)\n    val postalArea: String,\n\n    @Column(name = &quot;id&quot;)\n    val id: UUID?,\n)\n</code></pre>\n<p>From what I understand Spring Boot should auto-configure dialect and database type so it should be generating correctly. However even when manually setting the dialect it still fails. None of the migration guides seem to mention anything that could be causing this as far as I can work out (except possibly the text type change but fixes for that don't seem to work here). This query works in Hibernate 5/Spring Boot 2.7.</p>\n<p>From manually running the query it should be quoting the slash in <code>escape \\ </code> but can't see how to configure this.</p>\n<p>Other queries such as <code>findAll</code> with a <code>Specification</code> work correctly.</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","spring-boot","maven-compiler-plugin"],"answers":[{"tags":[],"owner":{"account_id":14876882,"reputation":21,"user_id":10742673,"display_name":"maihexi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688525172,"creation_date":1688524734,"answer_id":76616803,"question_id":76604818,"body_markdown":"problem solved, this class not found is due to spring-boot-maven-plugin repackage, this plugin repackage maven build jar to a jar which can be deployed as web service, but this jar could not be imported or use as dependency, so we should change the spring-boot-maven-plugin configuration, and generate two jar, one is used as dependency and the other is used to deploy.\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;classifier&gt;exec&lt;/classifier&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;repackage&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```","title":"maven-compiler-plugin could not found class in spring boot application","body":"<p>problem solved, this class not found is due to spring-boot-maven-plugin repackage, this plugin repackage maven build jar to a jar which can be deployed as web service, but this jar could not be imported or use as dependency, so we should change the spring-boot-maven-plugin configuration, and generate two jar, one is used as dependency and the other is used to deploy.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;classifier&gt;exec&lt;/classifier&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":14876882,"reputation":21,"user_id":10742673,"display_name":"maihexi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688525172,"creation_date":1688387795,"question_id":76604818,"body_markdown":"i had a strange issue in my spring boot application. Pls help me to found out the cause, thanks in advance!\r\n\r\nDescription\r\nI had module A and module B in my application, module B is a set of functional tests for module A, B have dependencies in module A so i add A as a dependency of B. When i want to do functional tests, i ran application A and then run functional tests in module B, it works well. \r\nBut when i do *mvn clean install*, module B will raise exception in maven-compiler plugin, which says it could not found classes referenced from module A, while in my IDE and during runtime, it works fine.\r\n\r\nCould anyone help me to figure out this question? thanks\r\n\r\ni tried to change pom.xml configuration, and change scope of module A dependency, both did not work","title":"maven-compiler-plugin could not found class in spring boot application","body":"<p>i had a strange issue in my spring boot application. Pls help me to found out the cause, thanks in advance!</p>\n<p>Description\nI had module A and module B in my application, module B is a set of functional tests for module A, B have dependencies in module A so i add A as a dependency of B. When i want to do functional tests, i ran application A and then run functional tests in module B, it works well.\nBut when i do <em>mvn clean install</em>, module B will raise exception in maven-compiler plugin, which says it could not found classes referenced from module A, while in my IDE and during runtime, it works fine.</p>\n<p>Could anyone help me to figure out this question? thanks</p>\n<p>i tried to change pom.xml configuration, and change scope of module A dependency, both did not work</p>\n"},{"tags":["java","spring","spring-boot","mockito","junit5"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688515165,"post_id":76616271,"comment_id":135082898,"body_markdown":"You haven’t stubbed UserMapper.toEntity","body":"You haven’t stubbed UserMapper.toEntity"}],"answers":[{"tags":[],"owner":{"account_id":28753328,"reputation":31,"user_id":22020873,"display_name":"stackoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688523112,"creation_date":1688523112,"answer_id":76616720,"question_id":76616271,"body_markdown":"Its clear on your provided error message.\r\n\r\n    java.lang.NullPointerException: Cannot invoke\r\n    &quot;com.project.univ.model.updatedUserDto.setId(java.lang.Long)&quot;\r\n    because &quot;updatedUserDto&quot; is null\r\n\r\nOn your code, `updatedUserDto` property has this method call:\r\n\r\n    UpdatedUserDto.setId(existingUserId);\r\nif  `updatedUserDto` is a inject property, please mock and stub it.\r\n\r\n     @Mock\r\n     private InjectBean bean;\r\n\r\n     // Stub\r\n     doReturn(entity).when(bean).methodCall(any());\r\n\r\n\r\nOr, use this to star a integration test.\r\n\r\n    @SpringBootTest(classes = YourStarterClass.class, webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)","title":"spring boot unit test for service layer method return null pointer exception","body":"<p>Its clear on your provided error message.</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke\n&quot;com.project.univ.model.updatedUserDto.setId(java.lang.Long)&quot;\nbecause &quot;updatedUserDto&quot; is null\n</code></pre>\n<p>On your code, <code>updatedUserDto</code> property has this method call:</p>\n<pre><code>UpdatedUserDto.setId(existingUserId);\n</code></pre>\n<p>if  <code>updatedUserDto</code> is a inject property, please mock and stub it.</p>\n<pre><code> @Mock\n private InjectBean bean;\n\n // Stub\n doReturn(entity).when(bean).methodCall(any());\n</code></pre>\n<p>Or, use this to star a integration test.</p>\n<pre><code>@SpringBootTest(classes = YourStarterClass.class, webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\n</code></pre>\n"}],"owner":{"account_id":17143647,"reputation":7,"user_id":12407074,"display_name":"lnikoli31"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76616720,"answer_count":1,"score":0,"last_activity_date":1688523112,"creation_date":1688512517,"question_id":76616271,"body_markdown":"I have created a unit test for my service layer method and when i called this method i have an nullpointer exception\r\n\r\nIn my test class \r\n\r\n \r\n\r\n    @Test\r\n      void whencreateOrUpdateUser() {\r\n    \r\n        final var userDto = new UserDto();\r\n        userDto.setId(UUID.randomUUID());\r\n        userDto.setName(&quot;toto&quot;);\r\n    \r\n        final var userEntity = mock(UserEntity.class);\r\n    \r\n        when(userRepository.findByUserIdAndType(UUID.randomUUID(), UserTypes.ACTIF))\r\n            .thenReturn(Optional.of(userEntity));\r\n        when(userRepository.save(userEntity)).thenReturn(userEntity);\r\n        when(userMapper.toDto(userEntity)).thenReturn(userDto);\r\n    \r\n        // When\r\n    \r\n        final var result = service.createOrUpdateUser(userDto);\r\n    \r\n        // Then\r\n    \r\n        assertEquals(result, userDto);\r\n      }\r\n\r\nIn my service class, i have this method\r\n\r\n    public UserDto createOrUpdateUser(UserDto userDto) {\r\n    \r\n        var newUser =\r\n            userRepository\r\n                .findByUserIdAndType(userDto.getUserId(), UserType.ACTIF)\r\n                .map(\r\n                    existingUser -&gt; {\r\n                      var updatedUserDto = userMapper.toEntity(userDto);\r\n                      updatedUserDto.setId(existingUser.getId());\r\n    \r\n                      return userRepository.save(updatedUserDto);\r\n                    })\r\n                .orElseGet(() -&gt; userRepository.save(userMapper.toEntity(userDto)));\r\n    \r\n        return UserMapper.toDto(newUser);\r\n      }\r\n\r\nWhen i call this service layer method in my test i have a null pointer exception :\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;com.project.univ.model.updatedUserDto .setId(java.lang.Long)&quot; because &quot;updatedUserDto&quot; is null\r\n\r\nhow can i fix this please\r\n\r\n\r\n","title":"spring boot unit test for service layer method return null pointer exception","body":"<p>I have created a unit test for my service layer method and when i called this method i have an nullpointer exception</p>\n<p>In my test class</p>\n<pre><code>@Test\n  void whencreateOrUpdateUser() {\n\n    final var userDto = new UserDto();\n    userDto.setId(UUID.randomUUID());\n    userDto.setName(&quot;toto&quot;);\n\n    final var userEntity = mock(UserEntity.class);\n\n    when(userRepository.findByUserIdAndType(UUID.randomUUID(), UserTypes.ACTIF))\n        .thenReturn(Optional.of(userEntity));\n    when(userRepository.save(userEntity)).thenReturn(userEntity);\n    when(userMapper.toDto(userEntity)).thenReturn(userDto);\n\n    // When\n\n    final var result = service.createOrUpdateUser(userDto);\n\n    // Then\n\n    assertEquals(result, userDto);\n  }\n</code></pre>\n<p>In my service class, i have this method</p>\n<pre><code>public UserDto createOrUpdateUser(UserDto userDto) {\n\n    var newUser =\n        userRepository\n            .findByUserIdAndType(userDto.getUserId(), UserType.ACTIF)\n            .map(\n                existingUser -&gt; {\n                  var updatedUserDto = userMapper.toEntity(userDto);\n                  updatedUserDto.setId(existingUser.getId());\n\n                  return userRepository.save(updatedUserDto);\n                })\n            .orElseGet(() -&gt; userRepository.save(userMapper.toEntity(userDto)));\n\n    return UserMapper.toDto(newUser);\n  }\n</code></pre>\n<p>When i call this service layer method in my test i have a null pointer exception :</p>\n<p>java.lang.NullPointerException: Cannot invoke &quot;com.project.univ.model.updatedUserDto .setId(java.lang.Long)&quot; because &quot;updatedUserDto&quot; is null</p>\n<p>how can i fix this please</p>\n"},{"tags":["java","android","input"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1688524292,"post_id":76616653,"comment_id":135083559,"body_markdown":"You might be interested in browsing the [String API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html). Are you looking for `.equals (Object otherString)` or `,equalsIgnoreCase (String otherString)`?","body":"You might be interested in browsing the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html\" rel=\"nofollow noreferrer\">String API</a>. Are you looking for <code>.equals (Object otherString)</code> or <code>,equalsIgnoreCase (String otherString)</code>?"},{"owner":{"account_id":25142429,"reputation":15,"user_id":18988632,"display_name":"Carolina743433"},"score":0,"creation_date":1688524440,"post_id":76616653,"comment_id":135083571,"body_markdown":"I wanted to see if  the inputted text and the answer matches, but the str.matches(&quot;LION&quot;) seems to be for regex","body":"I wanted to see if  the inputted text and the answer matches, but the str.matches(&quot;LION&quot;) seems to be for regex"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1688525107,"post_id":76616653,"comment_id":135083613,"body_markdown":"So, try `if (str.equals (&quot;LION&quot;))` or `if (str.equalsIgnoreCase(&quot;Lion&quot;))`  Does that work for you?  https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String)","body":"So, try <code>if (str.equals (&quot;LION&quot;))</code> or <code>if (str.equalsIgnoreCase(&quot;Lion&quot;))</code>  Does that work for you?  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"},{"owner":{"account_id":25142429,"reputation":15,"user_id":18988632,"display_name":"Carolina743433"},"score":0,"creation_date":1688525416,"post_id":76616653,"comment_id":135083625,"body_markdown":"I&#39;ve already tried if (str.equals (&quot;LION&quot;)), but well, it didn&#39;t work too.","body":"I&#39;ve already tried if (str.equals (&quot;LION&quot;)), but well, it didn&#39;t work too."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1688528805,"post_id":76616653,"comment_id":135083836,"body_markdown":"You need to include more details - *where* is the code you posted located in your Activity or Fragment? Most likely, it is in the wrong place so the check either doesn&#39;t run or runs before the user can actually enter any text.","body":"You need to include more details - <i>where</i> is the code you posted located in your Activity or Fragment? Most likely, it is in the wrong place so the check either doesn&#39;t run or runs before the user can actually enter any text."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1688568793,"post_id":76616653,"comment_id":135091434,"body_markdown":"I agree -- you need to add more details to your question. (1) How do you define &quot;if they&#39;re correct&quot;? (2) Your code shows what should happen if the response is correct. But, it doesn&#39;t show what should happen if not correct. This raises the question, suggested in the previous comment, &quot;How do you know the `if` is actually reached?&quot;  (3) Please edit the question to show a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) .","body":"I agree -- you need to add more details to your question. (1) How do you define &quot;if they&#39;re correct&quot;? (2) Your code shows what should happen if the response is correct. But, it doesn&#39;t show what should happen if not correct. This raises the question, suggested in the previous comment, &quot;How do you know the <code>if</code> is actually reached?&quot;  (3) Please edit the question to show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a> ."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1688581175,"post_id":76616653,"comment_id":135094196,"body_markdown":"If you have not done so, use a debugger. It might be `str` doesn&#39;t contain what you think it does. It could, for example, have whitespace at the end. In any case, knowing how to debug is necessary if you want to develop software.","body":"If you have not done so, use a debugger. It might be <code>str</code> doesn&#39;t contain what you think it does. It could, for example, have whitespace at the end. In any case, knowing how to debug is necessary if you want to develop software."}],"answers":[{"tags":[],"owner":{"account_id":5625534,"reputation":571,"user_id":4958506,"display_name":"Nathaniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688522963,"creation_date":1688522963,"answer_id":76616714,"question_id":76616653,"body_markdown":"str matches is for regex matching\r\n\r\nIf you need match the exact answer you can use something like \r\nstr.matches(&quot;^LION$&quot;)\r\n\r\nIf you need the answer to just include the answer you want you can use something like\r\n\r\nstr.matches(&quot;.*LION.*&quot;)","title":"How can I check the inputted text to see if it matches the answer or not?","body":"<p>str matches is for regex matching</p>\n<p>If you need match the exact answer you can use something like\nstr.matches(&quot;^LION$&quot;)</p>\n<p>If you need the answer to just include the answer you want you can use something like</p>\n<p>str.matches(&quot;.<em>LION.</em>&quot;)</p>\n"}],"owner":{"account_id":25142429,"reputation":15,"user_id":18988632,"display_name":"Carolina743433"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76616714,"answer_count":1,"score":-1,"last_activity_date":1688522963,"creation_date":1688521701,"question_id":76616653,"body_markdown":"I have recently made another project which has some questions and some EditTexts in Android Studio with Java language. It&#39;s a small project, and I want to check the texts the players entered to see if they&#39;re correct or not. If yes then I&#39;ll make a message that says &quot;Correct&quot;, and if not then the &quot;Wrong&quot; message will appear. I have tried this:\r\n   \r\n\r\n     String str = monkey.getText().toString();\r\n     if(str.matches(&quot;LION&quot;)) {\r\n                    Toast.makeText(this, &quot;Correct&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                } \r\nBut it didn&#39;t work. I searched this question on the Internet and got no answer. Does anybody knows how to answer this question? If yes, then thanks a lot!","title":"How can I check the inputted text to see if it matches the answer or not?","body":"<p>I have recently made another project which has some questions and some EditTexts in Android Studio with Java language. It's a small project, and I want to check the texts the players entered to see if they're correct or not. If yes then I'll make a message that says &quot;Correct&quot;, and if not then the &quot;Wrong&quot; message will appear. I have tried this:</p>\n<pre><code> String str = monkey.getText().toString();\n if(str.matches(&quot;LION&quot;)) {\n                Toast.makeText(this, &quot;Correct&quot;, Toast.LENGTH_SHORT).show();\n\n            } \n</code></pre>\n<p>But it didn't work. I searched this question on the Internet and got no answer. Does anybody knows how to answer this question? If yes, then thanks a lot!</p>\n"},{"tags":["java","android","kotlin","view"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1688491547,"post_id":76613391,"comment_id":135080157,"body_markdown":"What data are you passing to the ViewHolder?","body":"What data are you passing to the ViewHolder?"},{"owner":{"account_id":27807834,"reputation":38,"user_id":21230806,"display_name":"TranquilRock"},"score":0,"creation_date":1688523668,"post_id":76613391,"comment_id":135083511,"body_markdown":"List&lt;String&gt;, I am trying to config the view like [[&quot;Spinner&quot;, &quot;Option 1&quot;, &quot;Option 2&quot;], [&quot;EditText&quot;, &quot;PlaceHolder&quot;]].","body":"List&lt;String&gt;, I am trying to config the view like [[&quot;Spinner&quot;, &quot;Option 1&quot;, &quot;Option 2&quot;], [&quot;EditText&quot;, &quot;PlaceHolder&quot;]]."}],"answers":[{"tags":[],"owner":{"account_id":14487226,"reputation":401,"user_id":10464730,"display_name":"rminaj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688522679,"creation_date":1688522679,"answer_id":76616700,"question_id":76613391,"body_markdown":"There&#39;s a simple way to do this. You don&#39;t necessarily need some complex custom view for this. You can just put both `Spinner` and `EditText` on your UI, then just `android:visibility=gone` the view that you don&#39;t need currently, and `android:visibility=visible` the one you need.","title":"How to create a view that shows either spinner or edittext on condition?","body":"<p>There's a simple way to do this. You don't necessarily need some complex custom view for this. You can just put both <code>Spinner</code> and <code>EditText</code> on your UI, then just <code>android:visibility=gone</code> the view that you don't need currently, and <code>android:visibility=visible</code> the one you need.</p>\n"}],"owner":{"account_id":27807834,"reputation":38,"user_id":21230806,"display_name":"TranquilRock"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76616700,"answer_count":1,"score":0,"last_activity_date":1688522679,"creation_date":1688479020,"question_id":76613391,"body_markdown":"I use recyclerView and a few cardViews with some editTexts on it, for example:[![cardview](https://i.stack.imgur.com/Yiqv0.png)](https://i.stack.imgur.com/Yiqv0.png)\r\nAnd now I want to modify the design to programmatically display either spinner or editText based on data given to viewHolder.\r\n\r\nI have read the official [doc](https://developer.android.com/develop/ui/views/layout/custom-views/custom-components) about the custom view, but I am not sure if self-implementing onDraw, onMeasure, ..., will be the right way. \r\n\r\nI&#39;m also looking into [ViewGroup](https://developer.android.com/reference/android/view/ViewGroup.html) but have not understood it yet.\r\n\r\nThanks :)","title":"How to create a view that shows either spinner or edittext on condition?","body":"<p>I use recyclerView and a few cardViews with some editTexts on it, for example:<a href=\"https://i.stack.imgur.com/Yiqv0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yiqv0.png\" alt=\"cardview\" /></a>\nAnd now I want to modify the design to programmatically display either spinner or editText based on data given to viewHolder.</p>\n<p>I have read the official <a href=\"https://developer.android.com/develop/ui/views/layout/custom-views/custom-components\" rel=\"nofollow noreferrer\">doc</a> about the custom view, but I am not sure if self-implementing onDraw, onMeasure, ..., will be the right way.</p>\n<p>I'm also looking into <a href=\"https://developer.android.com/reference/android/view/ViewGroup.html\" rel=\"nofollow noreferrer\">ViewGroup</a> but have not understood it yet.</p>\n<p>Thanks :)</p>\n"},{"tags":["java","minecraft","bukkit"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688451127,"creation_date":1688451127,"answer_id":76609793,"question_id":76609313,"body_markdown":"This type of issue appear because the entity isn&#39;t ready yet to respawn (as you can cancel event for example. It&#39;s like &quot;pre&quot; event.\r\n\r\nAnd as when you&#39;re dead/respawning, you can&#39;t have potion effect, you don&#39;t have one)\r\n\r\nTo fix this, you can apply this but few times after thanks to [`BukkitScheduler`](https://hub.spigotmc.org/javadocs/spigot/org/bukkit/scheduler/BukkitScheduler.html) :\r\n```java\r\n@EventHandler\r\npublic void OnUseTotem(EntityResurrectEvent event) {\r\n      Bukkit.getLogger().info(&quot;TOTEM USED&quot;);\r\n      Entity entity = event.getEntity();\r\n\r\n      entity.sendMessage(&quot;TOTEM HAS BEEN USED&quot;);\r\n      entity.sendMessage(&quot;Activate&quot;);\r\n      Bukkit.getScheduler().runTaskLater(myPlugin, () -&gt; {\r\n          entity.addPotionEffect(new PotionEffect(PotionEffectType.SLOW, 200,10),true);\r\n      }, 1);\r\n}\r\n```\r\nWait 1 tick should be enough. You can set &quot;0&quot;, it will just wait for next tick. You can set more to be sure (as 20 tick, so 1 second)","title":"Detect when a player uses a totem of undying","body":"<p>This type of issue appear because the entity isn't ready yet to respawn (as you can cancel event for example. It's like &quot;pre&quot; event.</p>\n<p>And as when you're dead/respawning, you can't have potion effect, you don't have one)</p>\n<p>To fix this, you can apply this but few times after thanks to <a href=\"https://hub.spigotmc.org/javadocs/spigot/org/bukkit/scheduler/BukkitScheduler.html\" rel=\"nofollow noreferrer\"><code>BukkitScheduler</code></a> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EventHandler\npublic void OnUseTotem(EntityResurrectEvent event) {\n      Bukkit.getLogger().info(&quot;TOTEM USED&quot;);\n      Entity entity = event.getEntity();\n\n      entity.sendMessage(&quot;TOTEM HAS BEEN USED&quot;);\n      entity.sendMessage(&quot;Activate&quot;);\n      Bukkit.getScheduler().runTaskLater(myPlugin, () -&gt; {\n          entity.addPotionEffect(new PotionEffect(PotionEffectType.SLOW, 200,10),true);\n      }, 1);\n}\n</code></pre>\n<p>Wait 1 tick should be enough. You can set &quot;0&quot;, it will just wait for next tick. You can set more to be sure (as 20 tick, so 1 second)</p>\n"}],"owner":{"account_id":21599107,"reputation":13,"user_id":15927568,"display_name":"Aidan Latno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76609793,"answer_count":1,"score":1,"last_activity_date":1688522547,"creation_date":1688442924,"question_id":76609313,"body_markdown":"I am currently making a plugin and would like to give the player some potion effects such as slowness when they use a totem of undying.\r\n\r\nThis is what I&#39;ve tried so far. It runs when an entity dies without a totem, but when an entity dies with a totem, it will send the message &quot;Totem has been Used&quot; but will not give the effects.\r\n```\r\n@EventHandler\r\npublic void OnUseTotem(EntityResurrectEvent event)\r\n{\r\n        Bukkit.getLogger().info(&quot;TOTEM USED&quot;);\r\n        event.getEntity().sendMessage(&quot;TOTEM HAS BEEN USED&quot;);\r\n\r\n        Entity entity = event.getEntity();\r\n\r\n        entity.sendMessage(&quot;Activate&quot;);\r\n        entity.addPotionEffect(new PotionEffect(PotionEffectType.SLOW, 200,10),true);\r\n}\r\n```\r\n","title":"Detect when a player uses a totem of undying","body":"<p>I am currently making a plugin and would like to give the player some potion effects such as slowness when they use a totem of undying.</p>\n<p>This is what I've tried so far. It runs when an entity dies without a totem, but when an entity dies with a totem, it will send the message &quot;Totem has been Used&quot; but will not give the effects.</p>\n<pre><code>@EventHandler\npublic void OnUseTotem(EntityResurrectEvent event)\n{\n        Bukkit.getLogger().info(&quot;TOTEM USED&quot;);\n        event.getEntity().sendMessage(&quot;TOTEM HAS BEEN USED&quot;);\n\n        Entity entity = event.getEntity();\n\n        entity.sendMessage(&quot;Activate&quot;);\n        entity.addPotionEffect(new PotionEffect(PotionEffectType.SLOW, 200,10),true);\n}\n</code></pre>\n"},{"tags":["java","spring","oracle","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3281466,"reputation":2250,"user_id":2761985,"accept_rate":38,"display_name":"Jens Baitinger"},"score":0,"creation_date":1615205171,"post_id":66529387,"comment_id":117610637,"body_markdown":"Do you have more lines of your Stack Trace? it does not look complete.\n\nAdditionally it could be a consequential error (some error, timer is canceled, BAM your error). Are there any other errors in the logs?","body":"Do you have more lines of your Stack Trace? it does not look complete.  Additionally it could be a consequential error (some error, timer is canceled, BAM your error). Are there any other errors in the logs?"},{"owner":{"account_id":6592672,"reputation":23,"user_id":5093387,"accept_rate":25,"display_name":"vivek sharma"},"score":0,"creation_date":1615205944,"post_id":66529387,"comment_id":117610953,"body_markdown":"@JensBaitinger Hi.. I have added complete error logs. I am just seeing this error only.","body":"@JensBaitinger Hi.. I have added complete error logs. I am just seeing this error only."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1615206577,"post_id":66529387,"comment_id":117611240,"body_markdown":"Is the DB up and running? I suspect this might be a timing issue. Also, the stack trace mentioned `secondaryEntityManagerFactory`, are there other EMFs connecting to the same DB?","body":"Is the DB up and running? I suspect this might be a timing issue. Also, the stack trace mentioned <code>secondaryEntityManagerFactory</code>, are there other EMFs connecting to the same DB?"},{"owner":{"account_id":6592672,"reputation":23,"user_id":5093387,"accept_rate":25,"display_name":"vivek sharma"},"score":0,"creation_date":1615206909,"post_id":66529387,"comment_id":117611407,"body_markdown":"Yes Db is runnning. Also when i am running the application from intellij, it runs smoothly. @crizzis","body":"Yes Db is runnning. Also when i am running the application from intellij, it runs smoothly. @crizzis"},{"owner":{"account_id":3299976,"reputation":426,"user_id":2776371,"display_name":"Jacob"},"score":0,"creation_date":1638901344,"post_id":66529387,"comment_id":124209287,"body_markdown":"Was this fixed? If yes, please provide the details","body":"Was this fixed? If yes, please provide the details"},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1648557697,"post_id":66529387,"comment_id":126650100,"body_markdown":"a note - but maybe not the same case - i&#39;ve seen this error pop up out of a sudden while working with Netbeans 12, Java 8 and external Tomcat 9 server, while connected to Oracle and trying to retrieve data from database via JDBC calls. the only way for me to get it go away was to restart Netbeans.","body":"a note - but maybe not the same case - i&#39;ve seen this error pop up out of a sudden while working with Netbeans 12, Java 8 and external Tomcat 9 server, while connected to Oracle and trying to retrieve data from database via JDBC calls. the only way for me to get it go away was to restart Netbeans."},{"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"score":0,"creation_date":1667295577,"post_id":66529387,"comment_id":131129337,"body_markdown":"The solution in https://stackoverflow.com/a/64973739/4003272 helped me.","body":"The solution in <a href=\"https://stackoverflow.com/a/64973739/4003272\">stackoverflow.com/a/64973739/4003272</a> helped me."}],"owner":{"account_id":6592672,"reputation":23,"user_id":5093387,"accept_rate":25,"display_name":"vivek sharma"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688521750,"creation_date":1615204424,"question_id":66529387,"body_markdown":"Hi I am connecting to oracle database. Using spring boot 2.3.3.,spring-data-jpa. On my local it is working fine ad the application is connecting to the database. But when i am creating docker image and deploying it on Kubernetes, it is giving me this error\r\n\r\n\r\n        05:28:08.536 [main] INFO c.o.e.a.t.events.EventService - establishing kafka event streams\r\n    \r\n    05:28:10.450 [main] INFO c.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...\r\n    \r\n    05:28:11.715 [main] ERROR c.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.\r\n    \r\n    java.lang.IllegalStateException: Timer already cancelled.\r\n    \r\n    at java.base/java.util.Timer.sched(Timer.java:398)\r\n    \r\n    at java.base/java.util.Timer.schedule(Timer.java:194)\r\n    \r\n    at oracle.net.nt.TimeoutInterruptHandler.scheduleInterrupt(TimeoutInterruptHandler.java:90)\r\n    \r\n    at oracle.net.nt.TimeoutInterruptHandler.scheduleInterrupt(TimeoutInterruptHandler.java:103)\r\n    \r\n    at oracle.net.nt.TimeoutSocketChannel.scheduleInterrupt(TimeoutSocketChannel.java:235)\r\n    \r\n    at oracle.net.nt.TimeoutSocketChannel.connect(TimeoutSocketChannel.java:97)\r\n    \r\n    at oracle.net.nt.TimeoutSocketChannel.&lt;init&gt;(TimeoutSocketChannel.java:77)\r\n    \r\n    at oracle.net.nt.TcpNTAdapter.connect(TcpNTAdapter.java:192)\r\n    \r\n    at oracle.net.nt.ConnOption.connect(ConnOption.java:174)\r\n    \r\n    at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:510)\r\n    \r\n    at oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:548)\r\n    \r\n    at oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:682)\r\n    \r\n    at oracle.net.ns.NSProtocol.connect(NSProtocol.java:309)\r\n    \r\n    at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1596)\r\n    \r\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:588)\r\n    \r\n    at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:793)\r\n    \r\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:57)\r\n    \r\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:747)\r\n    \r\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562)\r\n    \r\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n    \r\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)\r\n    \r\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n    \r\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)\r\n    \r\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)\r\n    \r\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n    \r\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n    \r\n    at com.zaxxer.hikari.HikariDataSource$$FastClassBySpringCGLIB$$eeb1ae86.invoke(&lt;generated&gt;)\r\n    \r\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n    \r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \r\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\r\n    \r\n    at io.opentracing.contrib.spring.cloud.jdbc.JdbcAspect.getConnection(JdbcAspect.java:56)\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \r\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n    \r\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n    \r\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n    \r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n    \r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \r\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n    \r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \r\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n    \r\n    at com.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$8e61f198.getConnection(&lt;generated&gt;)\r\n    \r\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n    \r\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)\r\n    \r\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)\r\n    \r\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n    \r\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n    \r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n    \r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n    \r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \r\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)\r\n    \r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\r\n    \r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\r\n    \r\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n    \r\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176)\r\n    \r\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118)\r\n    \r\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1224)\r\n    \r\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1255)\r\n    \r\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\r\n    \r\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n    \r\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)\r\n    \r\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)\r\n    \r\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n    \r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \r\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109)\r\n    \r\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n    \r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\r\n    \r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\r\n    \r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n    \r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\r\n    \r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n    \r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n    \r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n    \r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n    \r\n    at com.optum.ses.peo.paas.api.DBAutomationAPIApplication.main(DBAutomationAPIApplication.java:16)\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \r\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n    \r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n    \r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n    \r\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\n    \r\n    05:28:11.719 [main] WARN o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata : Failed to initialize pool: Timer already cancelled.\r\n    \r\n    05:28:12.953 [main] INFO c.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...\r\n    \r\n    05:28:13.958 [main] ERROR c.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.\r\n    \r\n    java.lang.IllegalStateException: Timer already cancelled.\r\n    \r\n    at java.base/java.util.Timer.sched(Timer.java:398)\r\n    \r\n    at java.base/java.util.Timer.schedule(Timer.java:194)\r\n    \r\n    at oracle.net.nt.TimeoutInterruptHandler.scheduleInterrupt(TimeoutInterruptHandler.java:90)\r\n    \r\n    at oracle.net.nt.TimeoutInterruptHandler.scheduleInterrupt(TimeoutInterruptHandler.java:103)\r\n    \r\n    at oracle.net.nt.TimeoutSocketChannel.scheduleInterrupt(TimeoutSocketChannel.java:235)\r\n    \r\n    at oracle.net.nt.TimeoutSocketChannel.connect(TimeoutSocketChannel.java:97)\r\n    \r\n    at oracle.net.nt.TimeoutSocketChannel.&lt;init&gt;(TimeoutSocketChannel.java:77)\r\n    \r\n    at oracle.net.nt.TcpNTAdapter.connect(TcpNTAdapter.java:192)\r\n    \r\n    at oracle.net.nt.ConnOption.connect(ConnOption.java:174)\r\n    \r\n    at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:510)\r\n    \r\n    at oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:548)\r\n    \r\n    at oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:682)\r\n    \r\n    at oracle.net.ns.NSProtocol.connect(NSProtocol.java:309)\r\n    \r\n    at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1596)\r\n    \r\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:588)\r\n    \r\n    at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:793)\r\n    \r\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:57)\r\n    \r\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:747)\r\n    \r\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562)\r\n    \r\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n    \r\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)\r\n    \r\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n    \r\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)\r\n    \r\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)\r\n    \r\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n    \r\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n    \r\n    at com.zaxxer.hikari.HikariDataSource$$FastClassBySpringCGLIB$$eeb1ae86.invoke(&lt;generated&gt;)\r\n    \r\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n    \r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \r\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\r\n    \r\n    at io.opentracing.contrib.spring.cloud.jdbc.JdbcAspect.getConnection(JdbcAspect.java:56)\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \r\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n    \r\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n    \r\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n    \r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n    \r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \r\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n    \r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \r\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n    \r\n    at com.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$8e61f198.getConnection(&lt;generated&gt;)\r\n    \r\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\r\n    \r\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\r\n    \r\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\r\n    \r\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:324)\r\n    \r\n    at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:120)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.lambda$isInitializingDatabase$0(DataSourceInitializedPublisher.java:116)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:136)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:102)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:94)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.isInitializingDatabase(DataSourceInitializedPublisher.java:118)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:98)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.postProcessAfterInitialization(DataSourceInitializedPublisher.java:90)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:430)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1798)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n    \r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \r\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109)\r\n    \r\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n    \r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\r\n    \r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\r\n    \r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n    \r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\r\n    \r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n    \r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n    \r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n    \r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n    \r\n    at com.optum.ses.peo.paas.api.DBAutomationAPIApplication.main(DBAutomationAPIApplication.java:16)\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \r\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n    \r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n    \r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n    \r\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\n    \r\n    05:28:13.961 [main] WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;secondaryEntityManagerFactory&#39; defined in class path resource [com/optum/ses/peo/paas/api/Configuration/CmdbConfig.class]: Initialization of bean failed; nested exception is com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Timer already cancelled.\r\n    \r\n    05:28:14.344 [main] ERROR o.s.boot.SpringApplication - Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;secondaryEntityManagerFactory&#39; defined in class path resource [com/optum/ses/peo/paas/api/Configuration/CmdbConfig.class]: Initialization of bean failed; nested exception is com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Timer already cancelled.\r\n    \r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n    \r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \r\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109)\r\n    \r\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n    \r\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\r\n    \r\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\r\n    \r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n    \r\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\r\n    \r\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n    \r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n    \r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\r\n    \r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n    \r\n    at com.optum.ses.peo.paas.api.DBAutomationAPIApplication.main(DBAutomationAPIApplication.java:16)\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \r\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n    \r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n    \r\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n    \r\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\n    \r\n    Caused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Timer already cancelled.\r\n    \r\n    at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:595)\r\n    \r\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:581)\r\n    \r\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n    \r\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n    \r\n    at com.zaxxer.hikari.HikariDataSource$$FastClassBySpringCGLIB$$eeb1ae86.invoke(&lt;generated&gt;)\r\n    \r\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n    \r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \r\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\r\n    \r\n    at io.opentracing.contrib.spring.cloud.jdbc.JdbcAspect.getConnection(JdbcAspect.java:56)\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \r\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n    \r\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n    \r\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n    \r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n    \r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \r\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n    \r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n    \r\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n    \r\n    at com.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$8e61f198.getConnection(&lt;generated&gt;)\r\n    \r\n    at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\r\n    \r\n    at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\r\n    \r\n    at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\r\n    \r\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:324)\r\n    \r\n    at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:120)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.lambda$isInitializingDatabase$0(DataSourceInitializedPublisher.java:116)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:136)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:102)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:94)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.isInitializingDatabase(DataSourceInitializedPublisher.java:118)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:98)\r\n    \r\n    at org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.postProcessAfterInitialization(DataSourceInitializedPublisher.java:90)\r\n    \r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:430)\r\n   \r\n    \r\n\r\n\r\nHere is my code:\r\n\r\npom.xml:\r\n\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;19.3.0.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t  &lt;/dependency&gt;\r\n\r\napplication.properties:\r\n\r\n    spring.datasource.url=jdbc:oracle:thin:@XVZ.XYZ.com:1521/XYZ.XYZ.com?serverTimezone=CST6CDT\r\n    spring.datasource.username=name\r\n    spring.datasource.password=pwd\r\n    spring.datasource.driverClassName=oracle.jdbc.OracleDriver\r\n\r\n\r\n\r\nThanks in advance..\r\n","title":"Caused by: java.lang.IllegalStateException: Timer already cancelled.: Oracle database","body":"<p>Hi I am connecting to oracle database. Using spring boot 2.3.3.,spring-data-jpa. On my local it is working fine ad the application is connecting to the database. But when i am creating docker image and deploying it on Kubernetes, it is giving me this error</p>\n<pre><code>    05:28:08.536 [main] INFO c.o.e.a.t.events.EventService - establishing kafka event streams\n\n05:28:10.450 [main] INFO c.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...\n\n05:28:11.715 [main] ERROR c.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.\n\njava.lang.IllegalStateException: Timer already cancelled.\n\nat java.base/java.util.Timer.sched(Timer.java:398)\n\nat java.base/java.util.Timer.schedule(Timer.java:194)\n\nat oracle.net.nt.TimeoutInterruptHandler.scheduleInterrupt(TimeoutInterruptHandler.java:90)\n\nat oracle.net.nt.TimeoutInterruptHandler.scheduleInterrupt(TimeoutInterruptHandler.java:103)\n\nat oracle.net.nt.TimeoutSocketChannel.scheduleInterrupt(TimeoutSocketChannel.java:235)\n\nat oracle.net.nt.TimeoutSocketChannel.connect(TimeoutSocketChannel.java:97)\n\nat oracle.net.nt.TimeoutSocketChannel.&lt;init&gt;(TimeoutSocketChannel.java:77)\n\nat oracle.net.nt.TcpNTAdapter.connect(TcpNTAdapter.java:192)\n\nat oracle.net.nt.ConnOption.connect(ConnOption.java:174)\n\nat oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:510)\n\nat oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:548)\n\nat oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:682)\n\nat oracle.net.ns.NSProtocol.connect(NSProtocol.java:309)\n\nat oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1596)\n\nat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:588)\n\nat oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:793)\n\nat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:57)\n\nat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:747)\n\nat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562)\n\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)\n\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)\n\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)\n\nat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\n\nat com.zaxxer.hikari.HikariDataSource$$FastClassBySpringCGLIB$$eeb1ae86.invoke(&lt;generated&gt;)\n\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n\nat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\n\nat io.opentracing.contrib.spring.cloud.jdbc.JdbcAspect.getConnection(JdbcAspect.java:56)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\n\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\n\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n\nat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n\nat com.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$8e61f198.getConnection(&lt;generated&gt;)\n\nat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\n\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)\n\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)\n\nat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n\nat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n\nat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)\n\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\n\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\n\nat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176)\n\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118)\n\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1224)\n\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1255)\n\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\n\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\n\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391)\n\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378)\n\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\n\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)\n\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790)\n\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\n\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\n\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109)\n\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\n\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\n\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n\nat com.optum.ses.peo.paas.api.DBAutomationAPIApplication.main(DBAutomationAPIApplication.java:16)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\n\nat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n\nat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\n\n05:28:11.719 [main] WARN o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata : Failed to initialize pool: Timer already cancelled.\n\n05:28:12.953 [main] INFO c.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...\n\n05:28:13.958 [main] ERROR c.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.\n\njava.lang.IllegalStateException: Timer already cancelled.\n\nat java.base/java.util.Timer.sched(Timer.java:398)\n\nat java.base/java.util.Timer.schedule(Timer.java:194)\n\nat oracle.net.nt.TimeoutInterruptHandler.scheduleInterrupt(TimeoutInterruptHandler.java:90)\n\nat oracle.net.nt.TimeoutInterruptHandler.scheduleInterrupt(TimeoutInterruptHandler.java:103)\n\nat oracle.net.nt.TimeoutSocketChannel.scheduleInterrupt(TimeoutSocketChannel.java:235)\n\nat oracle.net.nt.TimeoutSocketChannel.connect(TimeoutSocketChannel.java:97)\n\nat oracle.net.nt.TimeoutSocketChannel.&lt;init&gt;(TimeoutSocketChannel.java:77)\n\nat oracle.net.nt.TcpNTAdapter.connect(TcpNTAdapter.java:192)\n\nat oracle.net.nt.ConnOption.connect(ConnOption.java:174)\n\nat oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:510)\n\nat oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:548)\n\nat oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:682)\n\nat oracle.net.ns.NSProtocol.connect(NSProtocol.java:309)\n\nat oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1596)\n\nat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:588)\n\nat oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:793)\n\nat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:57)\n\nat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:747)\n\nat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562)\n\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358)\n\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n\nat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477)\n\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560)\n\nat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\n\nat com.zaxxer.hikari.HikariDataSource$$FastClassBySpringCGLIB$$eeb1ae86.invoke(&lt;generated&gt;)\n\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n\nat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\n\nat io.opentracing.contrib.spring.cloud.jdbc.JdbcAspect.getConnection(JdbcAspect.java:56)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\n\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\n\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n\nat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n\nat com.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$8e61f198.getConnection(&lt;generated&gt;)\n\nat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\n\nat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\n\nat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\n\nat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:324)\n\nat org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:120)\n\nat org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.lambda$isInitializingDatabase$0(DataSourceInitializedPublisher.java:116)\n\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41)\n\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:136)\n\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:102)\n\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:94)\n\nat org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.isInitializingDatabase(DataSourceInitializedPublisher.java:118)\n\nat org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:98)\n\nat org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.postProcessAfterInitialization(DataSourceInitializedPublisher.java:90)\n\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:430)\n\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1798)\n\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\n\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\n\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109)\n\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\n\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\n\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n\nat com.optum.ses.peo.paas.api.DBAutomationAPIApplication.main(DBAutomationAPIApplication.java:16)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\n\nat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n\nat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\n\n05:28:13.961 [main] WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'secondaryEntityManagerFactory' defined in class path resource [com/optum/ses/peo/paas/api/Configuration/CmdbConfig.class]: Initialization of bean failed; nested exception is com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Timer already cancelled.\n\n05:28:14.344 [main] ERROR o.s.boot.SpringApplication - Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'secondaryEntityManagerFactory' defined in class path resource [com/optum/ses/peo/paas/api/Configuration/CmdbConfig.class]: Initialization of bean failed; nested exception is com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Timer already cancelled.\n\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)\n\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\n\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109)\n\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\n\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\n\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n\nat com.optum.ses.peo.paas.api.DBAutomationAPIApplication.main(DBAutomationAPIApplication.java:16)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\n\nat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n\nat org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n\nat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\n\nCaused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Timer already cancelled.\n\nat com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:595)\n\nat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:581)\n\nat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n\nat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\n\nat com.zaxxer.hikari.HikariDataSource$$FastClassBySpringCGLIB$$eeb1ae86.invoke(&lt;generated&gt;)\n\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n\nat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)\n\nat io.opentracing.contrib.spring.cloud.jdbc.JdbcAspect.getConnection(JdbcAspect.java:56)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\n\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\n\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n\nat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\n\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n\nat com.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$8e61f198.getConnection(&lt;generated&gt;)\n\nat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158)\n\nat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116)\n\nat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79)\n\nat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:324)\n\nat org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:120)\n\nat org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.lambda$isInitializingDatabase$0(DataSourceInitializedPublisher.java:116)\n\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41)\n\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:136)\n\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:102)\n\nat org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:94)\n\nat org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.isInitializingDatabase(DataSourceInitializedPublisher.java:118)\n\nat org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.publishEventIfRequired(DataSourceInitializedPublisher.java:98)\n\nat org.springframework.boot.autoconfigure.orm.jpa.DataSourceInitializedPublisher.postProcessAfterInitialization(DataSourceInitializedPublisher.java:90)\n\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:430)\n</code></pre>\n<p>Here is my code:</p>\n<p>pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n        &lt;version&gt;19.3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@XVZ.XYZ.com:1521/XYZ.XYZ.com?serverTimezone=CST6CDT\nspring.datasource.username=name\nspring.datasource.password=pwd\nspring.datasource.driverClassName=oracle.jdbc.OracleDriver\n</code></pre>\n<p>Thanks in advance..</p>\n"},{"tags":["java","redis","backend","jedis"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1688510592,"post_id":76616147,"comment_id":135082561,"body_markdown":"Is the same Jedis connection instance being used both for subscribing and publishing? If so, this is the issue, Redis does not allow for this","body":"Is the same Jedis connection instance being used both for subscribing and publishing? If so, this is the issue, Redis does not allow for this"}],"answers":[{"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688520078,"creation_date":1688520078,"answer_id":76616577,"question_id":76616147,"body_markdown":"You are using same Jedis object for both subscribe and publish operations. Use separate Jedis objects for these purposes.","title":"How to create an internal communication with redis","body":"<p>You are using same Jedis object for both subscribe and publish operations. Use separate Jedis objects for these purposes.</p>\n"}],"owner":{"account_id":28864519,"reputation":11,"user_id":22107570,"display_name":"Lvkas_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76616577,"answer_count":1,"score":0,"last_activity_date":1688520078,"creation_date":1688509929,"question_id":76616147,"body_markdown":"I just created an instance of Jedis (Redis for Java) and connected to my redis server.\r\n\r\nMy backend should be able to run more than once so for example the user-cache must be invalidated if a user becomes updated.\r\n\r\nI want to send with redis a message to all servers - which subscribed for example the user_update channel - to clear the cache after incoming message on this channel.\r\n\r\n\r\n\r\nI created a new thread with `new Thread(() -&gt; this.jedis.subscribe(this, &quot;user_update&quot;)).start();` and listened to the new channel. So a new thread is required otherwise my programm is stuck if that line is called.\r\n\r\nI extended my own class from the JedisPubSub and implemented the following method:\r\n\r\n```\r\n    @Override\r\n    public void onMessage(String channel, String message) {\r\n        System.out.println(channel + &quot; -&gt; &quot; + message);\r\n    }\r\n```\r\n\r\n\r\nNow if I use the `this.jedis.publish(channel, message);` method an error will be thrown:\r\n`redis.clients.jedis.exceptions.JedisDataException: ERR Can&#39;t execute &#39;publish&#39;: only (P|S)SUBSCRIBE / (P|S)UNSUBSCRIBE / PING / QUIT / RESET are allowed in this context`\r\n\r\nI guess it&#39;s because I listened on the server instance to the message.\r\nBut why does that happen? Any ideas?\r\n\r\nHow can I only listen to other servers?\r\n","title":"How to create an internal communication with redis","body":"<p>I just created an instance of Jedis (Redis for Java) and connected to my redis server.</p>\n<p>My backend should be able to run more than once so for example the user-cache must be invalidated if a user becomes updated.</p>\n<p>I want to send with redis a message to all servers - which subscribed for example the user_update channel - to clear the cache after incoming message on this channel.</p>\n<p>I created a new thread with <code>new Thread(() -&gt; this.jedis.subscribe(this, &quot;user_update&quot;)).start();</code> and listened to the new channel. So a new thread is required otherwise my programm is stuck if that line is called.</p>\n<p>I extended my own class from the JedisPubSub and implemented the following method:</p>\n<pre><code>    @Override\n    public void onMessage(String channel, String message) {\n        System.out.println(channel + &quot; -&gt; &quot; + message);\n    }\n</code></pre>\n<p>Now if I use the <code>this.jedis.publish(channel, message);</code> method an error will be thrown:\n<code>redis.clients.jedis.exceptions.JedisDataException: ERR Can't execute 'publish': only (P|S)SUBSCRIBE / (P|S)UNSUBSCRIBE / PING / QUIT / RESET are allowed in this context</code></p>\n<p>I guess it's because I listened on the server instance to the message.\nBut why does that happen? Any ideas?</p>\n<p>How can I only listen to other servers?</p>\n"},{"tags":["java","https","tls1.2","http2","tls1.3"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688518998,"post_id":76616523,"comment_id":135083167,"body_markdown":"What&#39;s the difference?","body":"What&#39;s the difference?"},{"owner":{"account_id":28563032,"reputation":45,"user_id":21866306,"display_name":"Manny"},"score":0,"creation_date":1688519275,"post_id":76616523,"comment_id":135083188,"body_markdown":"I added the screenshots","body":"I added the screenshots"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688519329,"post_id":76616523,"comment_id":135083192,"body_markdown":"Please don&#39;t post text as screenshots.","body":"Please don&#39;t post text as screenshots."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688519398,"post_id":76616523,"comment_id":135083197,"body_markdown":"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\" title=\"why should i not upload images of code data errors\">meta.stackoverflow.com/questions/285551/&hellip;</a>"},{"owner":{"account_id":28563032,"reputation":45,"user_id":21866306,"display_name":"Manny"},"score":0,"creation_date":1688519646,"post_id":76616523,"comment_id":135083218,"body_markdown":"Updated, please check, @tgdavies","body":"Updated, please check, @tgdavies"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688519793,"post_id":76616523,"comment_id":135083224,"body_markdown":"Which differences in the results are you interested in?","body":"Which differences in the results are you interested in?"},{"owner":{"account_id":28563032,"reputation":45,"user_id":21866306,"display_name":"Manny"},"score":0,"creation_date":1688519882,"post_id":76616523,"comment_id":135083233,"body_markdown":"tls - &gt; ciphers","body":"tls - &gt; ciphers"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688519960,"post_id":76616523,"comment_id":135083244,"body_markdown":"`HttpClient` supports a different set of ciphers than the browser you&#39;re using.","body":"<code>HttpClient</code> supports a different set of ciphers than the browser you&#39;re using."},{"owner":{"account_id":28563032,"reputation":45,"user_id":21866306,"display_name":"Manny"},"score":0,"creation_date":1688519999,"post_id":76616523,"comment_id":135083246,"body_markdown":"Yes, so I tried in several ways. How to resolve it?\nI want to make java response the same as browser response","body":"Yes, so I tried in several ways. How to resolve it? I want to make java response the same as browser response"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1688520059,"post_id":76616523,"comment_id":135083256,"body_markdown":"How did you &#39;try&#39; to affect the cipher selection?","body":"How did you &#39;try&#39; to affect the cipher selection?"},{"owner":{"account_id":28563032,"reputation":45,"user_id":21866306,"display_name":"Manny"},"score":0,"creation_date":1688520105,"post_id":76616523,"comment_id":135083259,"body_markdown":"```\nSSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\nsslContext.init(null, null, null);\nSSLParameters sslParameters = sslContext.getDefaultSSLParameters();\nHttpClient httpClient = HttpClient.newBuilder()\n                .version(HttpClient.Version.HTTP_2)\n                .sslParameters(sslParameters)\n                .build();\n```","body":"``` SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;); sslContext.init(null, null, null); SSLParameters sslParameters = sslContext.getDefaultSSLParameters(); HttpClient httpClient = HttpClient.newBuilder()                 .version(HttpClient.Version.HTTP_2)                 .sslParameters(sslParameters)                 .build(); ```"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688522693,"post_id":76616523,"comment_id":135083439,"body_markdown":"That&#39;s not what the code in your question says.","body":"That&#39;s not what the code in your question says."},{"owner":{"account_id":28563032,"reputation":45,"user_id":21866306,"display_name":"Manny"},"score":0,"creation_date":1688523319,"post_id":76616523,"comment_id":135083486,"body_markdown":"How to make the same? Can you help me?","body":"How to make the same? Can you help me?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1688539411,"post_id":76616523,"comment_id":135084911,"body_markdown":"Your Java code uses the Java implementation of TLS (JSSE). Your browser uses a different implementation of TLS, depending on which browser it is. Different implementations are different (even if you set _some applevel_ headers to lie about what you are using, as you did).","body":"Your Java code uses the Java implementation of TLS (JSSE). Your browser uses a different implementation of TLS, depending on which browser it is. Different implementations are different (even if you set <i>some applevel</i> headers to lie about what you are using, as you did)."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688550112,"post_id":76616523,"comment_id":135087013,"body_markdown":"Can you explain why you want these to be the same? I can&#39;t imagine a situation where it matters.","body":"Can you explain why you want these to be the same? I can&#39;t imagine a situation where it matters."},{"owner":{"account_id":28563032,"reputation":45,"user_id":21866306,"display_name":"Manny"},"score":0,"creation_date":1688553521,"post_id":76616523,"comment_id":135087714,"body_markdown":"@tgdavies could you please check this post?\nhttps://stackoverflow.com/questions/76618680/support-tls-grease-in-java","body":"@tgdavies could you please check this post? <a href=\"https://stackoverflow.com/questions/76618680/support-tls-grease-in-java\" title=\"support tls grease in java\">stackoverflow.com/questions/76618680/support-tls-grease-in-j&zwnj;&#8203;ava</a>"}],"owner":{"account_id":28563032,"reputation":45,"user_id":21866306,"display_name":"Manny"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688519527,"creation_date":1688518919,"question_id":76616523,"body_markdown":"Trying to call `https://tls.peet.ws/api/all`\r\n\r\nI tried http request to the uri on the browser and also tried in Java code.\r\n\r\n```\r\nHttpClient httpClient = HttpClient.newBuilder()\r\n                .version(HttpClient.Version.HTTP_2)\r\n                .build();\r\nHttpRequest request = HttpRequest.newBuilder()\r\n                .GET()\r\n                .uri(new URI(&quot;https://tls.peet.ws/api/all&quot;))\r\n                .setHeader(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&quot;)\r\n                .setHeader(&quot;Accept-Encoding&quot;, &quot;gzip, deflate, br&quot;)\r\n                .setHeader(&quot;Accept-Language&quot;, &quot;en&quot;)\r\n                .setHeader(&quot;Referer&quot;, &quot;https://tls.peet.ws/&quot;)\r\n                .setHeader(&quot;Sec-Ch-Ua&quot;, &quot;\\&quot;Not.A/Brand\\&quot;;v=\\&quot;8\\&quot;, \\&quot;Chromium\\&quot;;v=\\&quot;114\\&quot;, \\&quot;Google Chrome\\&quot;;v=\\&quot;114\\&quot;&quot;)\r\n                .setHeader(&quot;Sec-Ch-Ua-Mobile&quot;, &quot;?1&quot;)\r\n                .setHeader(&quot;Sec-Ch-Ua-Platform&quot;, &quot;\\&quot;Windows\\&quot;&quot;)\r\n                .setHeader(&quot;Sec-Fetch-Dest&quot;, &quot;empty&quot;)\r\n                .setHeader(&quot;Sec-Fetch-Mode&quot;, &quot;cors&quot;)\r\n                .setHeader(&quot;Sec-Fetch-Site&quot;, &quot;same-origin&quot;)\r\n                .setHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Mobile Safari/537.36&quot;)\r\n                .build();\r\n        httpClient.sendAsync(request, HttpResponse.BodyHandlers.ofString())\r\n                .thenApply(HttpResponse::body)\r\n                .thenAccept(s -&gt; {\r\n                    System.out.println(s);\r\n                });\r\n```\r\n\r\nBut the results are different.\r\n\r\nWhat&#39;s the reason?\r\n\r\nI need your help.\r\n\r\n\r\nResponse with code\r\n```\r\n{\r\n  &quot;ip&quot;: &quot;198.144.149.2:59514&quot;,\r\n  &quot;http_version&quot;: &quot;h2&quot;,\r\n  &quot;method&quot;: &quot;GET&quot;,\r\n  &quot;user_agent&quot;: &quot;Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Mobile Safari/537.36&quot;,\r\n  &quot;tls&quot;: {\r\n    &quot;ciphers&quot;: [\r\n      &quot;TLS_AES_256_GCM_SHA384&quot;,\r\n      &quot;TLS_AES_128_GCM_SHA256&quot;,\r\n      &quot;TLS_CHACHA20_POLY1305_SHA256&quot;,\r\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384&quot;,\r\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256&quot;,\r\n      &quot;TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256&quot;,\r\n      &quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;,\r\n      &quot;TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256&quot;,\r\n      &quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&quot;,\r\n      &quot;TLS_DHE_RSA_WITH_AES_256_GCM_SHA384&quot;,\r\n      &quot;TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256&quot;,\r\n      &quot;TLS_DHE_DSS_WITH_AES_256_GCM_SHA384&quot;,\r\n      &quot;TLS_DHE_RSA_WITH_AES_128_GCM_SHA256&quot;,\r\n      &quot;TLS_DHE_DSS_WITH_AES_128_GCM_SHA256&quot;,\r\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384&quot;,\r\n      &quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384&quot;,\r\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256&quot;,\r\n      &quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256&quot;,\r\n      &quot;TLS_DHE_RSA_WITH_AES_256_CBC_SHA256&quot;,\r\n      &quot;TLS_DHE_DSS_WITH_AES_256_CBC_SHA256&quot;,\r\n      &quot;TLS_DHE_RSA_WITH_AES_128_CBC_SHA256&quot;,\r\n      &quot;TLS_DHE_DSS_WITH_AES_128_CBC_SHA256&quot;,\r\n      &quot;TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384&quot;,\r\n      &quot;TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384&quot;,\r\n      &quot;TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256&quot;,\r\n      &quot;TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256&quot;,\r\n      &quot;TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384&quot;,\r\n      &quot;TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384&quot;,\r\n      &quot;TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256&quot;,\r\n      &quot;TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256&quot;,\r\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA&quot;,\r\n      &quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA&quot;,\r\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA&quot;,\r\n      &quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA&quot;,\r\n      &quot;TLS_DHE_RSA_WITH_AES_256_CBC_SHA&quot;,\r\n      &quot;TLS_DHE_DSS_WITH_AES_256_CBC_SHA&quot;,\r\n      &quot;TLS_DHE_RSA_WITH_AES_128_CBC_SHA&quot;,\r\n      &quot;TLS_DHE_DSS_WITH_AES_128_CBC_SHA&quot;,\r\n      &quot;TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA&quot;,\r\n      &quot;TLS_ECDH_RSA_WITH_AES_256_CBC_SHA&quot;,\r\n      &quot;TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA&quot;,\r\n      &quot;TLS_ECDH_RSA_WITH_AES_128_CBC_SHA&quot;,\r\n      &quot;TLS_RSA_WITH_AES_256_GCM_SHA384&quot;,\r\n      &quot;TLS_RSA_WITH_AES_128_GCM_SHA256&quot;,\r\n      &quot;TLS_RSA_WITH_AES_256_CBC_SHA256&quot;,\r\n      &quot;TLS_RSA_WITH_AES_128_CBC_SHA256&quot;,\r\n      &quot;TLS_RSA_WITH_AES_256_CBC_SHA&quot;,\r\n      &quot;TLS_RSA_WITH_AES_128_CBC_SHA&quot;,\r\n      &quot;TLS_EMPTY_RENEGOTIATION_INFO&quot;\r\n    ],\r\n    &quot;extensions&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;server_name (0)&quot;,\r\n        &quot;server_name&quot;: &quot;tls.peet.ws&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;status_request (5)&quot;,\r\n        &quot;status_request&quot;: {\r\n          &quot;certificate_status_type&quot;: &quot;OSCP (1)&quot;,\r\n          &quot;responder_id_list_length&quot;: 0,\r\n          &quot;request_extensions_length&quot;: 0\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;supported_groups (10)&quot;,\r\n        &quot;supported_groups&quot;: [\r\n          &quot;X25519 (29)&quot;,\r\n          &quot;P-256 (23)&quot;,\r\n          &quot;P-384 (24)&quot;,\r\n          &quot;P-521 (25)&quot;,\r\n          &quot;X448 (30)&quot;,\r\n          &quot;ffdhe2048 (256)&quot;,\r\n          &quot;ffdhe3072 (257)&quot;,\r\n          &quot;ffdhe4096 (258)&quot;,\r\n          &quot;ffdhe6144 (259)&quot;,\r\n          &quot;ffdhe8192 (260)&quot;\r\n        ]\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;ec_point_formats (11)&quot;,\r\n        &quot;elliptic_curves_point_formats&quot;: [\r\n          &quot;0x00&quot;\r\n        ]\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;application_layer_protocol_negotiation (16)&quot;,\r\n        &quot;protocols&quot;: [\r\n          &quot;h2&quot;,\r\n          &quot;http/1.1&quot;\r\n        ]\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;status_request_v2 (17)&quot;,\r\n        &quot;data&quot;: &quot;000702000400000000&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;extended_master_secret (23)&quot;,\r\n        &quot;master_secret_data&quot;: &quot;&quot;,\r\n        &quot;extended_master_secret_data&quot;: &quot;&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;session_ticket (35)&quot;,\r\n        &quot;data&quot;: &quot;&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;signature_algorithms (13)&quot;,\r\n        &quot;signature_algorithms&quot;: [\r\n          &quot;ecdsa_secp256r1_sha256&quot;,\r\n          &quot;ecdsa_secp384r1_sha384&quot;,\r\n          &quot;ecdsa_secp521r1_sha512&quot;,\r\n          &quot;ed25519&quot;,\r\n          &quot;ed25519&quot;,\r\n          &quot;rsa_pss_rsae_sha256&quot;,\r\n          &quot;rsa_pss_rsae_sha384&quot;,\r\n          &quot;rsa_pss_rsae_sha512&quot;,\r\n          &quot;rsa_pss_pss_sha256&quot;,\r\n          &quot;rsa_pss_pss_sha384&quot;,\r\n          &quot;rsa_pss_pss_sha512&quot;,\r\n          &quot;rsa_pkcs1_sha256&quot;,\r\n          &quot;rsa_pkcs1_sha384&quot;,\r\n          &quot;rsa_pkcs1_sha512&quot;,\r\n          &quot;0x402&quot;,\r\n          &quot;ecdsa_sha1&quot;,\r\n          &quot;rsa_pkcs1_sha1&quot;,\r\n          &quot;0x202&quot;\r\n        ]\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;supported_versions (43)&quot;,\r\n        &quot;versions&quot;: [\r\n          &quot;TLS 1.3&quot;,\r\n          &quot;TLS 1.2&quot;\r\n        ]\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;psk_key_exchange_modes (45)&quot;,\r\n        &quot;PSK_Key_Exchange_Mode&quot;: &quot;PSK with (EC)DHE key establishment (psk_dhe_ke) (1)&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;signature_algorithms_cert (50)&quot;,\r\n        &quot;data&quot;: &quot;0024040305030603080708080804080508060809080a080b0401050106010402020302010202&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;key_share (51)&quot;,\r\n        &quot;shared_keys&quot;: [\r\n          {\r\n            &quot;X25519 (29)&quot;: &quot;a6ebae411483a28484828d94d37ee228f9acd58200f449d0d57bed82d0f9f66c&quot;\r\n          },\r\n          {\r\n            &quot;P-256 (23)&quot;: &quot;044e72258d8516de5ae3f5e6073685d90d0a3aa089fe41079adbd85917b054bb408a7f0108878faa03d3924c7c4154ebaa440d53a4e80690b78d07b04236ffa327&quot;\r\n          }\r\n        ]\r\n      }\r\n    ],\r\n    &quot;tls_version_record&quot;: &quot;771&quot;,\r\n    &quot;tls_version_negotiated&quot;: &quot;772&quot;,\r\n    &quot;ja3&quot;: &quot;771,4866-4865-4867-49196-49195-52393-49200-52392-49199-159-52394-163-158-162-49188-49192-49187-49191-107-106-103-64-49198-49202-49197-49201-49190-49194-49189-49193-49162-49172-49161-49171-57-56-51-50-49157-49167-49156-49166-157-156-61-60-53-47-255,0-5-10-11-16-17-23-35-13-43-45-50-51,29-23-24-25-30-256-257-258-259-260,0&quot;,\r\n    &quot;ja3_hash&quot;: &quot;62f6a6727fda5a1104d5b147cd82e520&quot;,\r\n    &quot;peetprint&quot;: &quot;772-771|2-1.1|29-23-24-25-30-256-257-258-259-260|1027-1283-1539-2055-2056-2052-2053-2054-2057-2058-2059-1025-1281-1537-1026-515-513-514|1||4866-4865-4867-49196-49195-52393-49200-52392-49199-159-52394-163-158-162-49188-49192-49187-49191-107-106-103-64-49198-49202-49197-49201-49190-49194-49189-49193-49162-49172-49161-49171-57-56-51-50-49157-49167-49156-49166-157-156-61-60-53-47-255|0-10-11-13-16-17-23-35-43-45-5-50-51&quot;,\r\n    &quot;peetprint_hash&quot;: &quot;92e116d3b813833e2bdc78ebb00bca61&quot;,\r\n    &quot;client_random&quot;: &quot;be7aaeeb52b752e2911756e40387609f18acf570df14b3b09e93cf1767684bbc&quot;,\r\n    &quot;session_id&quot;: &quot;65083ae8047987bda0cccefbee61e8a63d2e040b1942231cc2c8be467849ec50&quot;\r\n  },\r\n  &quot;http2&quot;: {\r\n    &quot;akamai_fingerprint&quot;: &quot;1:16384,2:1,3:100,4:16777216,5:16384|33488897|0|a,m,p,s&quot;,\r\n    &quot;akamai_fingerprint_hash&quot;: &quot;73fddff6c02f4da2760ec1efcca3f9a5&quot;,\r\n    &quot;sent_frames&quot;: [\r\n      {\r\n        &quot;frame_type&quot;: &quot;SETTINGS&quot;,\r\n        &quot;length&quot;: 30,\r\n        &quot;settings&quot;: [\r\n          &quot;HEADER_TABLE_SIZE = 16384&quot;,\r\n          &quot;ENABLE_PUSH = 1&quot;,\r\n          &quot;MAX_CONCURRENT_STREAMS = 100&quot;,\r\n          &quot;INITIAL_WINDOW_SIZE = 16777216&quot;,\r\n          &quot;MAX_FRAME_SIZE = 16384&quot;\r\n        ]\r\n      },\r\n      {\r\n        &quot;frame_type&quot;: &quot;WINDOW_UPDATE&quot;,\r\n        &quot;length&quot;: 4,\r\n        &quot;increment&quot;: 33488897\r\n      },\r\n      {\r\n        &quot;frame_type&quot;: &quot;HEADERS&quot;,\r\n        &quot;stream_id&quot;: 1,\r\n        &quot;length&quot;: 478,\r\n        &quot;headers&quot;: [\r\n          &quot;:authority: tls.peet.ws&quot;,\r\n          &quot;:method: GET&quot;,\r\n          &quot;:path: /api/all&quot;,\r\n          &quot;:scheme: https&quot;,\r\n          &quot;accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&quot;,\r\n          &quot;accept-encoding: gzip, deflate, br&quot;,\r\n          &quot;accept-language: en&quot;,\r\n          &quot;authority: tls.peet.ws&quot;,\r\n          &quot;method: GET&quot;,\r\n          &quot;path: /api/all&quot;,\r\n          &quot;referer: https://tls.peet.ws/&quot;,\r\n          &quot;scheme: https&quot;,\r\n          &quot;sec-ch-ua: \\\\\\&quot;Not.A/Brand\\\\\\&quot;;v=\\\\\\&quot;8\\\\\\&quot;, \\\\\\&quot;Chromium\\\\\\&quot;;v=\\\\\\&quot;114\\\\\\&quot;, \\\\\\&quot;Google Chrome\\\\\\&quot;;v=\\\\\\&quot;114\\\\&quot;,\r\n          &quot;sec-ch-ua-mobile: ?1&quot;,\r\n          &quot;sec-ch-ua-platform: \\\\\\&quot;Windows\\\\&quot;,\r\n          &quot;sec-fetch-dest: empty&quot;,\r\n          &quot;sec-fetch-mode: cors&quot;,\r\n          &quot;sec-fetch-site: same-origin&quot;,\r\n          &quot;user-agent: Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Mobile Safari/537.36&quot;\r\n        ],\r\n        &quot;flags&quot;: [\r\n          &quot;EndStream (0x1)&quot;,\r\n          &quot;EndHeaders (0x4)&quot;\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nBrowser Response\r\n```\r\n{\r\n  &quot;ip&quot;: &quot;198.144.149.2:13072&quot;,\r\n  &quot;http_version&quot;: &quot;h2&quot;,\r\n  &quot;method&quot;: &quot;GET&quot;,\r\n  &quot;user_agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot;,\r\n  &quot;tls&quot;: {\r\n    &quot;ciphers&quot;: [\r\n      &quot;TLS_GREASE (0x2A2A)&quot;,\r\n      &quot;TLS_AES_128_GCM_SHA256&quot;,\r\n      &quot;TLS_AES_256_GCM_SHA384&quot;,\r\n      &quot;TLS_CHACHA20_POLY1305_SHA256&quot;,\r\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256&quot;,\r\n      &quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&quot;,\r\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384&quot;,\r\n      &quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;,\r\n      &quot;TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256&quot;,\r\n      &quot;TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256&quot;,\r\n      &quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA&quot;,\r\n      &quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA&quot;,\r\n      &quot;TLS_RSA_WITH_AES_128_GCM_SHA256&quot;,\r\n      &quot;TLS_RSA_WITH_AES_256_GCM_SHA384&quot;,\r\n      &quot;TLS_RSA_WITH_AES_128_CBC_SHA&quot;,\r\n      &quot;TLS_RSA_WITH_AES_256_CBC_SHA&quot;\r\n    ],\r\n    &quot;extensions&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;TLS_GREASE (0xaaaa)&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;extensionRenegotiationInfo (boringssl) (65281)&quot;,\r\n        &quot;data&quot;: &quot;00&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;session_ticket (35)&quot;,\r\n        &quot;data&quot;: &quot;&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;server_name (0)&quot;,\r\n        &quot;server_name&quot;: &quot;tls.peet.ws&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;signed_certificate_timestamp (18)&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;signature_algorithms (13)&quot;,\r\n        &quot;signature_algorithms&quot;: [\r\n          &quot;ecdsa_secp256r1_sha256&quot;,\r\n          &quot;rsa_pss_rsae_sha256&quot;,\r\n          &quot;rsa_pkcs1_sha256&quot;,\r\n          &quot;ecdsa_secp384r1_sha384&quot;,\r\n          &quot;rsa_pss_rsae_sha384&quot;,\r\n          &quot;rsa_pkcs1_sha384&quot;,\r\n          &quot;rsa_pss_rsae_sha512&quot;,\r\n          &quot;rsa_pkcs1_sha512&quot;\r\n        ]\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;application_layer_protocol_negotiation (16)&quot;,\r\n        &quot;protocols&quot;: [\r\n          &quot;h2&quot;,\r\n          &quot;http/1.1&quot;\r\n        ]\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;extended_master_secret (23)&quot;,\r\n        &quot;master_secret_data&quot;: &quot;&quot;,\r\n        &quot;extended_master_secret_data&quot;: &quot;&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;supported_versions (43)&quot;,\r\n        &quot;versions&quot;: [\r\n          &quot;TLS_GREASE (0x4a4a)&quot;,\r\n          &quot;TLS 1.3&quot;,\r\n          &quot;TLS 1.2&quot;\r\n        ]\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;compress_certificate (27)&quot;,\r\n        &quot;algorithms&quot;: [\r\n          &quot;brotli (2)&quot;\r\n        ]\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;key_share (51)&quot;,\r\n        &quot;shared_keys&quot;: [\r\n          {\r\n            &quot;TLS_GREASE (0xcaca)&quot;: &quot;00&quot;\r\n          },\r\n          {\r\n            &quot;X25519 (29)&quot;: &quot;3da35c41b2dce7ae406c0526c39c393bc9ebfd623a1ef509f36d87f53abf221f&quot;\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;application_settings (17513)&quot;,\r\n        &quot;protocols&quot;: [\r\n          &quot;h2&quot;\r\n        ]\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;psk_key_exchange_modes (45)&quot;,\r\n        &quot;PSK_Key_Exchange_Mode&quot;: &quot;PSK with (EC)DHE key establishment (psk_dhe_ke) (1)&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;supported_groups (10)&quot;,\r\n        &quot;supported_groups&quot;: [\r\n          &quot;TLS_GREASE (0xcaca)&quot;,\r\n          &quot;X25519 (29)&quot;,\r\n          &quot;P-256 (23)&quot;,\r\n          &quot;P-384 (24)&quot;\r\n        ]\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;ec_point_formats (11)&quot;,\r\n        &quot;elliptic_curves_point_formats&quot;: [\r\n          &quot;0x00&quot;\r\n        ]\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;status_request (5)&quot;,\r\n        &quot;status_request&quot;: {\r\n          &quot;certificate_status_type&quot;: &quot;OSCP (1)&quot;,\r\n          &quot;responder_id_list_length&quot;: 0,\r\n          &quot;request_extensions_length&quot;: 0\r\n        }\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;TLS_GREASE (0x9a9a)&quot;\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;padding (21)&quot;,\r\n        &quot;padding_data_length&quot;: 88\r\n      },\r\n      {\r\n        &quot;name&quot;: &quot;pre_shared_key (41)&quot;,\r\n        &quot;data&quot;: &quot;00770071d029b12eb298b01844996710e8e875142afee7597038c3c96961ccbc8183be7e662a48caf19ae7bb8bbb07dbd6eb763db2728e53d54cfc80d02c45cd25aaa3328b5a443e32192ae0d3b59217b6cd0f07cbd68a0e153f858a9a8daeac6a4c334eeaed2444bc879d799d514e5851df96b7db88ccea35002120d7b0ba764f658ae688d5bf71c94543bef2023a4dc0e0bc2431f3c41cffd76dad&quot;\r\n      }\r\n    ],\r\n    &quot;tls_version_record&quot;: &quot;771&quot;,\r\n    &quot;tls_version_negotiated&quot;: &quot;772&quot;,\r\n    &quot;ja3&quot;: &quot;771,4865-4866-4867-49195-49199-49196-49200-52393-52392-49171-49172-156-157-47-53,65281-35-0-18-13-16-23-43-27-51-17513-45-10-11-5-21-41,29-23-24,0&quot;,\r\n    &quot;ja3_hash&quot;: &quot;c238fc8220c1fc1aa01cd2e11a95415f&quot;,\r\n    &quot;peetprint&quot;: &quot;GREASE-772-771|2-1.1|GREASE-29-23-24|1027-2052-1025-1283-2053-1281-2054-1537|1|2|GREASE-4865-4866-4867-49195-49199-49196-49200-52393-52392-49171-49172-156-157-47-53|0-10-11-13-16-17513-18-21-23-27-35-41-43-45-5-51-65281-GREASE-GREASE&quot;,\r\n    &quot;peetprint_hash&quot;: &quot;a0468212376b470d0ee57e6922986be3&quot;,\r\n    &quot;client_random&quot;: &quot;ed96a8a53f8237a55a696a045488ffab3f6ad03dc6b741bc21ceff34aa3d5962&quot;,\r\n    &quot;session_id&quot;: &quot;abee7435a568f83998b53534445c8e2e659635a158df3d94c530b5e070958f3b&quot;\r\n  },\r\n  &quot;http2&quot;: {\r\n    &quot;akamai_fingerprint&quot;: &quot;1:65536,2:0,3:1000,4:6291456,6:262144|15663105|0|m,a,s,p&quot;,\r\n    &quot;akamai_fingerprint_hash&quot;: &quot;46cedabdca2073198a42fa10ca4494d0&quot;,\r\n    &quot;sent_frames&quot;: [\r\n      {\r\n        &quot;frame_type&quot;: &quot;SETTINGS&quot;,\r\n        &quot;length&quot;: 30,\r\n        &quot;settings&quot;: [\r\n          &quot;HEADER_TABLE_SIZE = 65536&quot;,\r\n          &quot;ENABLE_PUSH = 0&quot;,\r\n          &quot;MAX_CONCURRENT_STREAMS = 1000&quot;,\r\n          &quot;INITIAL_WINDOW_SIZE = 6291456&quot;,\r\n          &quot;MAX_HEADER_LIST_SIZE = 262144&quot;\r\n        ]\r\n      },\r\n      {\r\n        &quot;frame_type&quot;: &quot;WINDOW_UPDATE&quot;,\r\n        &quot;length&quot;: 4,\r\n        &quot;increment&quot;: 15663105\r\n      },\r\n      {\r\n        &quot;frame_type&quot;: &quot;HEADERS&quot;,\r\n        &quot;stream_id&quot;: 1,\r\n        &quot;length&quot;: 439,\r\n        &quot;headers&quot;: [\r\n          &quot;:method: GET&quot;,\r\n          &quot;:authority: tls.peet.ws&quot;,\r\n          &quot;:scheme: https&quot;,\r\n          &quot;:path: /api/all&quot;,\r\n          &quot;cache-control: max-age=0&quot;,\r\n          &quot;sec-ch-ua: \\\\\\&quot;Not.A/Brand\\\\\\&quot;;v=\\\\\\&quot;8\\\\\\&quot;, \\\\\\&quot;Chromium\\\\\\&quot;;v=\\\\\\&quot;114\\\\\\&quot;, \\\\\\&quot;Google Chrome\\\\\\&quot;;v=\\\\\\&quot;114\\\\&quot;,\r\n          &quot;sec-ch-ua-mobile: ?0&quot;,\r\n          &quot;sec-ch-ua-platform: \\\\\\&quot;Windows\\\\&quot;,\r\n          &quot;upgrade-insecure-requests: 1&quot;,\r\n          &quot;user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot;,\r\n          &quot;accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&quot;,\r\n          &quot;sec-fetch-site: none&quot;,\r\n          &quot;sec-fetch-mode: navigate&quot;,\r\n          &quot;sec-fetch-user: ?1&quot;,\r\n          &quot;sec-fetch-dest: document&quot;,\r\n          &quot;accept-encoding: gzip, deflate, br&quot;,\r\n          &quot;accept-language: en&quot;\r\n        ],\r\n        &quot;flags&quot;: [\r\n          &quot;EndStream (0x1)&quot;,\r\n          &quot;EndHeaders (0x4)&quot;,\r\n          &quot;Priority (0x20)&quot;\r\n        ],\r\n        &quot;priority&quot;: {\r\n          &quot;weight&quot;: 256,\r\n          &quot;depends_on&quot;: 0,\r\n          &quot;exclusive&quot;: 1\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n","title":"Why are Browser Http response and Program Http response different?","body":"<p>Trying to call <code>https://tls.peet.ws/api/all</code></p>\n<p>I tried http request to the uri on the browser and also tried in Java code.</p>\n<pre><code>HttpClient httpClient = HttpClient.newBuilder()\n                .version(HttpClient.Version.HTTP_2)\n                .build();\nHttpRequest request = HttpRequest.newBuilder()\n                .GET()\n                .uri(new URI(&quot;https://tls.peet.ws/api/all&quot;))\n                .setHeader(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&quot;)\n                .setHeader(&quot;Accept-Encoding&quot;, &quot;gzip, deflate, br&quot;)\n                .setHeader(&quot;Accept-Language&quot;, &quot;en&quot;)\n                .setHeader(&quot;Referer&quot;, &quot;https://tls.peet.ws/&quot;)\n                .setHeader(&quot;Sec-Ch-Ua&quot;, &quot;\\&quot;Not.A/Brand\\&quot;;v=\\&quot;8\\&quot;, \\&quot;Chromium\\&quot;;v=\\&quot;114\\&quot;, \\&quot;Google Chrome\\&quot;;v=\\&quot;114\\&quot;&quot;)\n                .setHeader(&quot;Sec-Ch-Ua-Mobile&quot;, &quot;?1&quot;)\n                .setHeader(&quot;Sec-Ch-Ua-Platform&quot;, &quot;\\&quot;Windows\\&quot;&quot;)\n                .setHeader(&quot;Sec-Fetch-Dest&quot;, &quot;empty&quot;)\n                .setHeader(&quot;Sec-Fetch-Mode&quot;, &quot;cors&quot;)\n                .setHeader(&quot;Sec-Fetch-Site&quot;, &quot;same-origin&quot;)\n                .setHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Mobile Safari/537.36&quot;)\n                .build();\n        httpClient.sendAsync(request, HttpResponse.BodyHandlers.ofString())\n                .thenApply(HttpResponse::body)\n                .thenAccept(s -&gt; {\n                    System.out.println(s);\n                });\n</code></pre>\n<p>But the results are different.</p>\n<p>What's the reason?</p>\n<p>I need your help.</p>\n<p>Response with code</p>\n<pre><code>{\n  &quot;ip&quot;: &quot;198.144.149.2:59514&quot;,\n  &quot;http_version&quot;: &quot;h2&quot;,\n  &quot;method&quot;: &quot;GET&quot;,\n  &quot;user_agent&quot;: &quot;Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Mobile Safari/537.36&quot;,\n  &quot;tls&quot;: {\n    &quot;ciphers&quot;: [\n      &quot;TLS_AES_256_GCM_SHA384&quot;,\n      &quot;TLS_AES_128_GCM_SHA256&quot;,\n      &quot;TLS_CHACHA20_POLY1305_SHA256&quot;,\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384&quot;,\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256&quot;,\n      &quot;TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256&quot;,\n      &quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;,\n      &quot;TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256&quot;,\n      &quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&quot;,\n      &quot;TLS_DHE_RSA_WITH_AES_256_GCM_SHA384&quot;,\n      &quot;TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256&quot;,\n      &quot;TLS_DHE_DSS_WITH_AES_256_GCM_SHA384&quot;,\n      &quot;TLS_DHE_RSA_WITH_AES_128_GCM_SHA256&quot;,\n      &quot;TLS_DHE_DSS_WITH_AES_128_GCM_SHA256&quot;,\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384&quot;,\n      &quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384&quot;,\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256&quot;,\n      &quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256&quot;,\n      &quot;TLS_DHE_RSA_WITH_AES_256_CBC_SHA256&quot;,\n      &quot;TLS_DHE_DSS_WITH_AES_256_CBC_SHA256&quot;,\n      &quot;TLS_DHE_RSA_WITH_AES_128_CBC_SHA256&quot;,\n      &quot;TLS_DHE_DSS_WITH_AES_128_CBC_SHA256&quot;,\n      &quot;TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384&quot;,\n      &quot;TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384&quot;,\n      &quot;TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256&quot;,\n      &quot;TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256&quot;,\n      &quot;TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384&quot;,\n      &quot;TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384&quot;,\n      &quot;TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256&quot;,\n      &quot;TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256&quot;,\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA&quot;,\n      &quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA&quot;,\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA&quot;,\n      &quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA&quot;,\n      &quot;TLS_DHE_RSA_WITH_AES_256_CBC_SHA&quot;,\n      &quot;TLS_DHE_DSS_WITH_AES_256_CBC_SHA&quot;,\n      &quot;TLS_DHE_RSA_WITH_AES_128_CBC_SHA&quot;,\n      &quot;TLS_DHE_DSS_WITH_AES_128_CBC_SHA&quot;,\n      &quot;TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA&quot;,\n      &quot;TLS_ECDH_RSA_WITH_AES_256_CBC_SHA&quot;,\n      &quot;TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA&quot;,\n      &quot;TLS_ECDH_RSA_WITH_AES_128_CBC_SHA&quot;,\n      &quot;TLS_RSA_WITH_AES_256_GCM_SHA384&quot;,\n      &quot;TLS_RSA_WITH_AES_128_GCM_SHA256&quot;,\n      &quot;TLS_RSA_WITH_AES_256_CBC_SHA256&quot;,\n      &quot;TLS_RSA_WITH_AES_128_CBC_SHA256&quot;,\n      &quot;TLS_RSA_WITH_AES_256_CBC_SHA&quot;,\n      &quot;TLS_RSA_WITH_AES_128_CBC_SHA&quot;,\n      &quot;TLS_EMPTY_RENEGOTIATION_INFO&quot;\n    ],\n    &quot;extensions&quot;: [\n      {\n        &quot;name&quot;: &quot;server_name (0)&quot;,\n        &quot;server_name&quot;: &quot;tls.peet.ws&quot;\n      },\n      {\n        &quot;name&quot;: &quot;status_request (5)&quot;,\n        &quot;status_request&quot;: {\n          &quot;certificate_status_type&quot;: &quot;OSCP (1)&quot;,\n          &quot;responder_id_list_length&quot;: 0,\n          &quot;request_extensions_length&quot;: 0\n        }\n      },\n      {\n        &quot;name&quot;: &quot;supported_groups (10)&quot;,\n        &quot;supported_groups&quot;: [\n          &quot;X25519 (29)&quot;,\n          &quot;P-256 (23)&quot;,\n          &quot;P-384 (24)&quot;,\n          &quot;P-521 (25)&quot;,\n          &quot;X448 (30)&quot;,\n          &quot;ffdhe2048 (256)&quot;,\n          &quot;ffdhe3072 (257)&quot;,\n          &quot;ffdhe4096 (258)&quot;,\n          &quot;ffdhe6144 (259)&quot;,\n          &quot;ffdhe8192 (260)&quot;\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;ec_point_formats (11)&quot;,\n        &quot;elliptic_curves_point_formats&quot;: [\n          &quot;0x00&quot;\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;application_layer_protocol_negotiation (16)&quot;,\n        &quot;protocols&quot;: [\n          &quot;h2&quot;,\n          &quot;http/1.1&quot;\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;status_request_v2 (17)&quot;,\n        &quot;data&quot;: &quot;000702000400000000&quot;\n      },\n      {\n        &quot;name&quot;: &quot;extended_master_secret (23)&quot;,\n        &quot;master_secret_data&quot;: &quot;&quot;,\n        &quot;extended_master_secret_data&quot;: &quot;&quot;\n      },\n      {\n        &quot;name&quot;: &quot;session_ticket (35)&quot;,\n        &quot;data&quot;: &quot;&quot;\n      },\n      {\n        &quot;name&quot;: &quot;signature_algorithms (13)&quot;,\n        &quot;signature_algorithms&quot;: [\n          &quot;ecdsa_secp256r1_sha256&quot;,\n          &quot;ecdsa_secp384r1_sha384&quot;,\n          &quot;ecdsa_secp521r1_sha512&quot;,\n          &quot;ed25519&quot;,\n          &quot;ed25519&quot;,\n          &quot;rsa_pss_rsae_sha256&quot;,\n          &quot;rsa_pss_rsae_sha384&quot;,\n          &quot;rsa_pss_rsae_sha512&quot;,\n          &quot;rsa_pss_pss_sha256&quot;,\n          &quot;rsa_pss_pss_sha384&quot;,\n          &quot;rsa_pss_pss_sha512&quot;,\n          &quot;rsa_pkcs1_sha256&quot;,\n          &quot;rsa_pkcs1_sha384&quot;,\n          &quot;rsa_pkcs1_sha512&quot;,\n          &quot;0x402&quot;,\n          &quot;ecdsa_sha1&quot;,\n          &quot;rsa_pkcs1_sha1&quot;,\n          &quot;0x202&quot;\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;supported_versions (43)&quot;,\n        &quot;versions&quot;: [\n          &quot;TLS 1.3&quot;,\n          &quot;TLS 1.2&quot;\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;psk_key_exchange_modes (45)&quot;,\n        &quot;PSK_Key_Exchange_Mode&quot;: &quot;PSK with (EC)DHE key establishment (psk_dhe_ke) (1)&quot;\n      },\n      {\n        &quot;name&quot;: &quot;signature_algorithms_cert (50)&quot;,\n        &quot;data&quot;: &quot;0024040305030603080708080804080508060809080a080b0401050106010402020302010202&quot;\n      },\n      {\n        &quot;name&quot;: &quot;key_share (51)&quot;,\n        &quot;shared_keys&quot;: [\n          {\n            &quot;X25519 (29)&quot;: &quot;a6ebae411483a28484828d94d37ee228f9acd58200f449d0d57bed82d0f9f66c&quot;\n          },\n          {\n            &quot;P-256 (23)&quot;: &quot;044e72258d8516de5ae3f5e6073685d90d0a3aa089fe41079adbd85917b054bb408a7f0108878faa03d3924c7c4154ebaa440d53a4e80690b78d07b04236ffa327&quot;\n          }\n        ]\n      }\n    ],\n    &quot;tls_version_record&quot;: &quot;771&quot;,\n    &quot;tls_version_negotiated&quot;: &quot;772&quot;,\n    &quot;ja3&quot;: &quot;771,4866-4865-4867-49196-49195-52393-49200-52392-49199-159-52394-163-158-162-49188-49192-49187-49191-107-106-103-64-49198-49202-49197-49201-49190-49194-49189-49193-49162-49172-49161-49171-57-56-51-50-49157-49167-49156-49166-157-156-61-60-53-47-255,0-5-10-11-16-17-23-35-13-43-45-50-51,29-23-24-25-30-256-257-258-259-260,0&quot;,\n    &quot;ja3_hash&quot;: &quot;62f6a6727fda5a1104d5b147cd82e520&quot;,\n    &quot;peetprint&quot;: &quot;772-771|2-1.1|29-23-24-25-30-256-257-258-259-260|1027-1283-1539-2055-2056-2052-2053-2054-2057-2058-2059-1025-1281-1537-1026-515-513-514|1||4866-4865-4867-49196-49195-52393-49200-52392-49199-159-52394-163-158-162-49188-49192-49187-49191-107-106-103-64-49198-49202-49197-49201-49190-49194-49189-49193-49162-49172-49161-49171-57-56-51-50-49157-49167-49156-49166-157-156-61-60-53-47-255|0-10-11-13-16-17-23-35-43-45-5-50-51&quot;,\n    &quot;peetprint_hash&quot;: &quot;92e116d3b813833e2bdc78ebb00bca61&quot;,\n    &quot;client_random&quot;: &quot;be7aaeeb52b752e2911756e40387609f18acf570df14b3b09e93cf1767684bbc&quot;,\n    &quot;session_id&quot;: &quot;65083ae8047987bda0cccefbee61e8a63d2e040b1942231cc2c8be467849ec50&quot;\n  },\n  &quot;http2&quot;: {\n    &quot;akamai_fingerprint&quot;: &quot;1:16384,2:1,3:100,4:16777216,5:16384|33488897|0|a,m,p,s&quot;,\n    &quot;akamai_fingerprint_hash&quot;: &quot;73fddff6c02f4da2760ec1efcca3f9a5&quot;,\n    &quot;sent_frames&quot;: [\n      {\n        &quot;frame_type&quot;: &quot;SETTINGS&quot;,\n        &quot;length&quot;: 30,\n        &quot;settings&quot;: [\n          &quot;HEADER_TABLE_SIZE = 16384&quot;,\n          &quot;ENABLE_PUSH = 1&quot;,\n          &quot;MAX_CONCURRENT_STREAMS = 100&quot;,\n          &quot;INITIAL_WINDOW_SIZE = 16777216&quot;,\n          &quot;MAX_FRAME_SIZE = 16384&quot;\n        ]\n      },\n      {\n        &quot;frame_type&quot;: &quot;WINDOW_UPDATE&quot;,\n        &quot;length&quot;: 4,\n        &quot;increment&quot;: 33488897\n      },\n      {\n        &quot;frame_type&quot;: &quot;HEADERS&quot;,\n        &quot;stream_id&quot;: 1,\n        &quot;length&quot;: 478,\n        &quot;headers&quot;: [\n          &quot;:authority: tls.peet.ws&quot;,\n          &quot;:method: GET&quot;,\n          &quot;:path: /api/all&quot;,\n          &quot;:scheme: https&quot;,\n          &quot;accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&quot;,\n          &quot;accept-encoding: gzip, deflate, br&quot;,\n          &quot;accept-language: en&quot;,\n          &quot;authority: tls.peet.ws&quot;,\n          &quot;method: GET&quot;,\n          &quot;path: /api/all&quot;,\n          &quot;referer: https://tls.peet.ws/&quot;,\n          &quot;scheme: https&quot;,\n          &quot;sec-ch-ua: \\\\\\&quot;Not.A/Brand\\\\\\&quot;;v=\\\\\\&quot;8\\\\\\&quot;, \\\\\\&quot;Chromium\\\\\\&quot;;v=\\\\\\&quot;114\\\\\\&quot;, \\\\\\&quot;Google Chrome\\\\\\&quot;;v=\\\\\\&quot;114\\\\&quot;,\n          &quot;sec-ch-ua-mobile: ?1&quot;,\n          &quot;sec-ch-ua-platform: \\\\\\&quot;Windows\\\\&quot;,\n          &quot;sec-fetch-dest: empty&quot;,\n          &quot;sec-fetch-mode: cors&quot;,\n          &quot;sec-fetch-site: same-origin&quot;,\n          &quot;user-agent: Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Mobile Safari/537.36&quot;\n        ],\n        &quot;flags&quot;: [\n          &quot;EndStream (0x1)&quot;,\n          &quot;EndHeaders (0x4)&quot;\n        ]\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Browser Response</p>\n<pre><code>{\n  &quot;ip&quot;: &quot;198.144.149.2:13072&quot;,\n  &quot;http_version&quot;: &quot;h2&quot;,\n  &quot;method&quot;: &quot;GET&quot;,\n  &quot;user_agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot;,\n  &quot;tls&quot;: {\n    &quot;ciphers&quot;: [\n      &quot;TLS_GREASE (0x2A2A)&quot;,\n      &quot;TLS_AES_128_GCM_SHA256&quot;,\n      &quot;TLS_AES_256_GCM_SHA384&quot;,\n      &quot;TLS_CHACHA20_POLY1305_SHA256&quot;,\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256&quot;,\n      &quot;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&quot;,\n      &quot;TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384&quot;,\n      &quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&quot;,\n      &quot;TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256&quot;,\n      &quot;TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256&quot;,\n      &quot;TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA&quot;,\n      &quot;TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA&quot;,\n      &quot;TLS_RSA_WITH_AES_128_GCM_SHA256&quot;,\n      &quot;TLS_RSA_WITH_AES_256_GCM_SHA384&quot;,\n      &quot;TLS_RSA_WITH_AES_128_CBC_SHA&quot;,\n      &quot;TLS_RSA_WITH_AES_256_CBC_SHA&quot;\n    ],\n    &quot;extensions&quot;: [\n      {\n        &quot;name&quot;: &quot;TLS_GREASE (0xaaaa)&quot;\n      },\n      {\n        &quot;name&quot;: &quot;extensionRenegotiationInfo (boringssl) (65281)&quot;,\n        &quot;data&quot;: &quot;00&quot;\n      },\n      {\n        &quot;name&quot;: &quot;session_ticket (35)&quot;,\n        &quot;data&quot;: &quot;&quot;\n      },\n      {\n        &quot;name&quot;: &quot;server_name (0)&quot;,\n        &quot;server_name&quot;: &quot;tls.peet.ws&quot;\n      },\n      {\n        &quot;name&quot;: &quot;signed_certificate_timestamp (18)&quot;\n      },\n      {\n        &quot;name&quot;: &quot;signature_algorithms (13)&quot;,\n        &quot;signature_algorithms&quot;: [\n          &quot;ecdsa_secp256r1_sha256&quot;,\n          &quot;rsa_pss_rsae_sha256&quot;,\n          &quot;rsa_pkcs1_sha256&quot;,\n          &quot;ecdsa_secp384r1_sha384&quot;,\n          &quot;rsa_pss_rsae_sha384&quot;,\n          &quot;rsa_pkcs1_sha384&quot;,\n          &quot;rsa_pss_rsae_sha512&quot;,\n          &quot;rsa_pkcs1_sha512&quot;\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;application_layer_protocol_negotiation (16)&quot;,\n        &quot;protocols&quot;: [\n          &quot;h2&quot;,\n          &quot;http/1.1&quot;\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;extended_master_secret (23)&quot;,\n        &quot;master_secret_data&quot;: &quot;&quot;,\n        &quot;extended_master_secret_data&quot;: &quot;&quot;\n      },\n      {\n        &quot;name&quot;: &quot;supported_versions (43)&quot;,\n        &quot;versions&quot;: [\n          &quot;TLS_GREASE (0x4a4a)&quot;,\n          &quot;TLS 1.3&quot;,\n          &quot;TLS 1.2&quot;\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;compress_certificate (27)&quot;,\n        &quot;algorithms&quot;: [\n          &quot;brotli (2)&quot;\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;key_share (51)&quot;,\n        &quot;shared_keys&quot;: [\n          {\n            &quot;TLS_GREASE (0xcaca)&quot;: &quot;00&quot;\n          },\n          {\n            &quot;X25519 (29)&quot;: &quot;3da35c41b2dce7ae406c0526c39c393bc9ebfd623a1ef509f36d87f53abf221f&quot;\n          }\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;application_settings (17513)&quot;,\n        &quot;protocols&quot;: [\n          &quot;h2&quot;\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;psk_key_exchange_modes (45)&quot;,\n        &quot;PSK_Key_Exchange_Mode&quot;: &quot;PSK with (EC)DHE key establishment (psk_dhe_ke) (1)&quot;\n      },\n      {\n        &quot;name&quot;: &quot;supported_groups (10)&quot;,\n        &quot;supported_groups&quot;: [\n          &quot;TLS_GREASE (0xcaca)&quot;,\n          &quot;X25519 (29)&quot;,\n          &quot;P-256 (23)&quot;,\n          &quot;P-384 (24)&quot;\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;ec_point_formats (11)&quot;,\n        &quot;elliptic_curves_point_formats&quot;: [\n          &quot;0x00&quot;\n        ]\n      },\n      {\n        &quot;name&quot;: &quot;status_request (5)&quot;,\n        &quot;status_request&quot;: {\n          &quot;certificate_status_type&quot;: &quot;OSCP (1)&quot;,\n          &quot;responder_id_list_length&quot;: 0,\n          &quot;request_extensions_length&quot;: 0\n        }\n      },\n      {\n        &quot;name&quot;: &quot;TLS_GREASE (0x9a9a)&quot;\n      },\n      {\n        &quot;name&quot;: &quot;padding (21)&quot;,\n        &quot;padding_data_length&quot;: 88\n      },\n      {\n        &quot;name&quot;: &quot;pre_shared_key (41)&quot;,\n        &quot;data&quot;: &quot;00770071d029b12eb298b01844996710e8e875142afee7597038c3c96961ccbc8183be7e662a48caf19ae7bb8bbb07dbd6eb763db2728e53d54cfc80d02c45cd25aaa3328b5a443e32192ae0d3b59217b6cd0f07cbd68a0e153f858a9a8daeac6a4c334eeaed2444bc879d799d514e5851df96b7db88ccea35002120d7b0ba764f658ae688d5bf71c94543bef2023a4dc0e0bc2431f3c41cffd76dad&quot;\n      }\n    ],\n    &quot;tls_version_record&quot;: &quot;771&quot;,\n    &quot;tls_version_negotiated&quot;: &quot;772&quot;,\n    &quot;ja3&quot;: &quot;771,4865-4866-4867-49195-49199-49196-49200-52393-52392-49171-49172-156-157-47-53,65281-35-0-18-13-16-23-43-27-51-17513-45-10-11-5-21-41,29-23-24,0&quot;,\n    &quot;ja3_hash&quot;: &quot;c238fc8220c1fc1aa01cd2e11a95415f&quot;,\n    &quot;peetprint&quot;: &quot;GREASE-772-771|2-1.1|GREASE-29-23-24|1027-2052-1025-1283-2053-1281-2054-1537|1|2|GREASE-4865-4866-4867-49195-49199-49196-49200-52393-52392-49171-49172-156-157-47-53|0-10-11-13-16-17513-18-21-23-27-35-41-43-45-5-51-65281-GREASE-GREASE&quot;,\n    &quot;peetprint_hash&quot;: &quot;a0468212376b470d0ee57e6922986be3&quot;,\n    &quot;client_random&quot;: &quot;ed96a8a53f8237a55a696a045488ffab3f6ad03dc6b741bc21ceff34aa3d5962&quot;,\n    &quot;session_id&quot;: &quot;abee7435a568f83998b53534445c8e2e659635a158df3d94c530b5e070958f3b&quot;\n  },\n  &quot;http2&quot;: {\n    &quot;akamai_fingerprint&quot;: &quot;1:65536,2:0,3:1000,4:6291456,6:262144|15663105|0|m,a,s,p&quot;,\n    &quot;akamai_fingerprint_hash&quot;: &quot;46cedabdca2073198a42fa10ca4494d0&quot;,\n    &quot;sent_frames&quot;: [\n      {\n        &quot;frame_type&quot;: &quot;SETTINGS&quot;,\n        &quot;length&quot;: 30,\n        &quot;settings&quot;: [\n          &quot;HEADER_TABLE_SIZE = 65536&quot;,\n          &quot;ENABLE_PUSH = 0&quot;,\n          &quot;MAX_CONCURRENT_STREAMS = 1000&quot;,\n          &quot;INITIAL_WINDOW_SIZE = 6291456&quot;,\n          &quot;MAX_HEADER_LIST_SIZE = 262144&quot;\n        ]\n      },\n      {\n        &quot;frame_type&quot;: &quot;WINDOW_UPDATE&quot;,\n        &quot;length&quot;: 4,\n        &quot;increment&quot;: 15663105\n      },\n      {\n        &quot;frame_type&quot;: &quot;HEADERS&quot;,\n        &quot;stream_id&quot;: 1,\n        &quot;length&quot;: 439,\n        &quot;headers&quot;: [\n          &quot;:method: GET&quot;,\n          &quot;:authority: tls.peet.ws&quot;,\n          &quot;:scheme: https&quot;,\n          &quot;:path: /api/all&quot;,\n          &quot;cache-control: max-age=0&quot;,\n          &quot;sec-ch-ua: \\\\\\&quot;Not.A/Brand\\\\\\&quot;;v=\\\\\\&quot;8\\\\\\&quot;, \\\\\\&quot;Chromium\\\\\\&quot;;v=\\\\\\&quot;114\\\\\\&quot;, \\\\\\&quot;Google Chrome\\\\\\&quot;;v=\\\\\\&quot;114\\\\&quot;,\n          &quot;sec-ch-ua-mobile: ?0&quot;,\n          &quot;sec-ch-ua-platform: \\\\\\&quot;Windows\\\\&quot;,\n          &quot;upgrade-insecure-requests: 1&quot;,\n          &quot;user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot;,\n          &quot;accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7&quot;,\n          &quot;sec-fetch-site: none&quot;,\n          &quot;sec-fetch-mode: navigate&quot;,\n          &quot;sec-fetch-user: ?1&quot;,\n          &quot;sec-fetch-dest: document&quot;,\n          &quot;accept-encoding: gzip, deflate, br&quot;,\n          &quot;accept-language: en&quot;\n        ],\n        &quot;flags&quot;: [\n          &quot;EndStream (0x1)&quot;,\n          &quot;EndHeaders (0x4)&quot;,\n          &quot;Priority (0x20)&quot;\n        ],\n        &quot;priority&quot;: {\n          &quot;weight&quot;: 256,\n          &quot;depends_on&quot;: 0,\n          &quot;exclusive&quot;: 1\n        }\n      }\n    ]\n  }\n}\n</code></pre>\n"},{"tags":["java","hadoop","mapr"],"answers":[{"tags":[],"owner":{"account_id":171864,"reputation":1887,"user_id":399551,"display_name":"Ted Dunning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688519350,"creation_date":1688519350,"answer_id":76616545,"question_id":76509687,"body_markdown":"This code looks a bit out of date.\r\n\r\nCould it be that you don&#39;t want to use the method `queryAsStream`, but would rather use `DocumentStore.find()`?\r\n\r\nThat returns a `QueryResult` which is a subclass of `DocumentStream`.\r\n\r\nIf this makes sense, then `jsonStore` should be of type `DocumentStore`.\r\n\r\nSee https://www.ojai.io/javadocs/latest/","title":"Implement requests with mapr","body":"<p>This code looks a bit out of date.</p>\n<p>Could it be that you don't want to use the method <code>queryAsStream</code>, but would rather use <code>DocumentStore.find()</code>?</p>\n<p>That returns a <code>QueryResult</code> which is a subclass of <code>DocumentStream</code>.</p>\n<p>If this makes sense, then <code>jsonStore</code> should be of type <code>DocumentStore</code>.</p>\n<p>See <a href=\"https://www.ojai.io/javadocs/latest/\" rel=\"nofollow noreferrer\">https://www.ojai.io/javadocs/latest/</a></p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688519350,"creation_date":1687204300,"question_id":76509687,"body_markdown":"I have the following Java code snippet: \r\n\r\n    import org.ojai.Document;\r\n    \r\n    public class JsonRepository {\r\n    \r\n    \r\n        public Object jsonStore; // what type should be this Object \r\n    \r\n        public Document createDocument()\r\n        {\r\n         ....\r\n        }\r\n    }\r\n\r\n    import org.ojai.Document;\r\n    import org.ojai.DocumentStream;\r\n    import org.ojai.store.QueryCondition;\r\n\r\n    @Repository\r\n    public class accountRepository extends JsonRepository {\r\n    \r\n             public DocumentStream accountsAsStream(List&lt;String&gt; ids) {\r\n                  QueryCondition condition = jsonStore.getQueryCondition().in(123, ids);\r\n\r\n                  ......\r\n                  List&lt;Document&gt; documents = jsonStore.query(condition);\r\n                  .......\r\n    \r\n                 return jsonStore.queryAsStream(condition);\r\n             }\r\n\r\n             public DocumentStream accountIdsAsStream() {\r\n                 return jsonStore.getAllDocumentsAsStream(&quot;id&quot;);\r\n             }\r\n    }\r\n\r\n\r\nI can&#39;t find what type of variable should be `jsonStore`. It needs to support these methods: `queryAsStream`, `query`, `queryAsStream`, `getAllDocumentsAsStream` etc. Do you know how I can find this?\r\n","title":"Implement requests with mapr","body":"<p>I have the following Java code snippet:</p>\n<pre><code>import org.ojai.Document;\n\npublic class JsonRepository {\n\n\n    public Object jsonStore; // what type should be this Object \n\n    public Document createDocument()\n    {\n     ....\n    }\n}\n\nimport org.ojai.Document;\nimport org.ojai.DocumentStream;\nimport org.ojai.store.QueryCondition;\n\n@Repository\npublic class accountRepository extends JsonRepository {\n\n         public DocumentStream accountsAsStream(List&lt;String&gt; ids) {\n              QueryCondition condition = jsonStore.getQueryCondition().in(123, ids);\n\n              ......\n              List&lt;Document&gt; documents = jsonStore.query(condition);\n              .......\n\n             return jsonStore.queryAsStream(condition);\n         }\n\n         public DocumentStream accountIdsAsStream() {\n             return jsonStore.getAllDocumentsAsStream(&quot;id&quot;);\n         }\n}\n</code></pre>\n<p>I can't find what type of variable should be <code>jsonStore</code>. It needs to support these methods: <code>queryAsStream</code>, <code>query</code>, <code>queryAsStream</code>, <code>getAllDocumentsAsStream</code> etc. Do you know how I can find this?</p>\n"},{"tags":["java","spring","spring-boot","gradle","apache-camel"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688519144,"post_id":76616496,"comment_id":135083176,"body_markdown":"Please edit your question and add the complete stack trace of the exception.","body":"Please edit your question and add the complete stack trace of the exception."},{"owner":{"account_id":7063527,"reputation":471,"user_id":5407758,"accept_rate":0,"display_name":"bvyas"},"score":0,"creation_date":1698248906,"post_id":76616496,"comment_id":136381967,"body_markdown":"Can you share the setting.yaml . The exception strace is not there so it will be hard to find, can u add it.","body":"Can you share the setting.yaml . The exception strace is not there so it will be hard to find, can u add it."}],"owner":{"account_id":22394292,"reputation":1,"user_id":16605788,"display_name":"Akhil Ram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688518259,"creation_date":1688518189,"question_id":76616496,"body_markdown":"The error is\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;camel-1&#39;: Invocation of init method failed; nested exception is java.lang.NoSuchFieldError: log\r\nBuild.gradle file for the project is :\r\nThe versions used are \r\norg.springframework.boot : 2.6.8\r\nio.spring.dependency-management : 1.1.0\r\nand java : 17\r\n\r\nGradle Dependencies are:\r\n\r\n`\r\n```\r\ndependencies {\r\nimplementation platform(&#39;org.apache.camel.springboot:camel-spring-boot-bom:3.18.0&#39;)\r\nimplementation &#39;org.apache.camel:camel-bom:3.18.0&#39;\r\nimplementation &#39;org.apache.camel.springboot:camel-spring-boot-starter:3.18.0&#39;\r\nimplementation &#39;org.apache.camel:camel-rabbitmq:3.18.0&#39;\r\nimplementation &#39;org.apache.camel:camel-jackson:3.18.0&#39;\r\nimplementation &#39;org.apache.camel:camel-gson:3.18.0&#39;\r\nimplementation &#39;org.apache.camel:camel-jetty:3.18.0&#39;\r\nimplementation &#39;org.apache.camel:camel-netty:3.18.0&#39;\r\nimplementation &#39;org.apache.camel:camel-netty-http:3.18.0&#39;\r\nimplementation &#39;org.apache.camel:camel-swagger-java:3.18.0&#39;\r\nimplementation &#39;org.apache.camel:camel-jpa:3.18.0&#39;\r\nimplementation &#39;org.apache.camel:camel-dozer:3.18.0&#39;\r\nimplementation &#39;org.apache.camel:camel-spring-security:3.18.0&#39;\r\nimplementation &#39;org.apache.camel:camel-jsonpath:3.18.0&#39;\r\nimplementation &#39;org.springframework.data:spring-data-jpa:2.6.8&#39;\r\nimplementation &#39;com.zaxxer:HikariCP:3.3.1&#39;\r\nimplementation &#39;org.apache.camel:camel-properties:3.0.0-RC1&#39;\r\nimplementation(&#39;org.apache.camel:camel-core:3.18.0&#39;) {\r\nexclude group: &#39;org.apache.logging.log4j&#39;, module: &#39;log4j-core&#39;\r\n}\r\nimplementation &#39;org.postgresql:postgresql:42.2.8&#39;\r\nimplementation &#39;com.vladmihalcea:hibernate-types-52:1.0.0&#39;\r\nimplementation &#39;io.jsonwebtoken:jjwt:0.9.1&#39;\r\nimplementation &#39;org.apache.commons:commons-lang3:3.9&#39;\r\nimplementation &#39;com.google.code.gson:gson:2.8.5&#39;\r\nimplementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.10.0&#39;\r\nimplementation &#39;javax.persistence:javax.persistence-api:2.2&#39;\r\nimplementation &#39;io.swagger:swagger-annotations:1.5.23&#39;\r\nimplementation &#39;org.eclipse.jetty:jetty-server:9.4.21.v20190926&#39;\r\nimplementation &#39;org.eclipse.jetty:jetty-servlet:9.4.21.v20190926&#39;\r\nimplementation &#39;org.eclipse.jetty:jetty-util:9.4.21.v20190926&#39;\r\nimplementation &#39;org.eclipse.jetty:jetty-security:9.4.21.v20190926&#39;\r\nimplementation &#39;org.eclipse.jetty:jetty-http:9.4.21.v20190926&#39;\r\nimplementation &#39;org.eclipse.jetty:jetty-io:9.4.21.v20190926&#39;\r\nimplementation &#39;org.eclipse.jetty:jetty-continuation:9.4.21.v20190926&#39;\r\nimplementation &#39;org.apache.commons:commons-collections4:4.4&#39;\r\nimplementation &#39;javax.validation:validation-api:2.0.1.Final&#39;\r\nimplementation &#39;org.hibernate.validator:hibernate-validator:6.0.13.Final&#39;\r\n\r\ntestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\ntestImplementation &#39;junit:junit:4.13.1&#39;\r\ntestImplementation &#39;junit:junit:4.13.1&#39;\r\n}\r\n```","title":"Error tying to update the camel version of my spring application from camel-3.0.0 to 3.18.0","body":"<p>The error is\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'camel-1': Invocation of init method failed; nested exception is java.lang.NoSuchFieldError: log\nBuild.gradle file for the project is :\nThe versions used are\norg.springframework.boot : 2.6.8\nio.spring.dependency-management : 1.1.0\nand java : 17</p>\n<p>Gradle Dependencies are:</p>\n<p>`</p>\n<pre><code>dependencies {\nimplementation platform('org.apache.camel.springboot:camel-spring-boot-bom:3.18.0')\nimplementation 'org.apache.camel:camel-bom:3.18.0'\nimplementation 'org.apache.camel.springboot:camel-spring-boot-starter:3.18.0'\nimplementation 'org.apache.camel:camel-rabbitmq:3.18.0'\nimplementation 'org.apache.camel:camel-jackson:3.18.0'\nimplementation 'org.apache.camel:camel-gson:3.18.0'\nimplementation 'org.apache.camel:camel-jetty:3.18.0'\nimplementation 'org.apache.camel:camel-netty:3.18.0'\nimplementation 'org.apache.camel:camel-netty-http:3.18.0'\nimplementation 'org.apache.camel:camel-swagger-java:3.18.0'\nimplementation 'org.apache.camel:camel-jpa:3.18.0'\nimplementation 'org.apache.camel:camel-dozer:3.18.0'\nimplementation 'org.apache.camel:camel-spring-security:3.18.0'\nimplementation 'org.apache.camel:camel-jsonpath:3.18.0'\nimplementation 'org.springframework.data:spring-data-jpa:2.6.8'\nimplementation 'com.zaxxer:HikariCP:3.3.1'\nimplementation 'org.apache.camel:camel-properties:3.0.0-RC1'\nimplementation('org.apache.camel:camel-core:3.18.0') {\nexclude group: 'org.apache.logging.log4j', module: 'log4j-core'\n}\nimplementation 'org.postgresql:postgresql:42.2.8'\nimplementation 'com.vladmihalcea:hibernate-types-52:1.0.0'\nimplementation 'io.jsonwebtoken:jjwt:0.9.1'\nimplementation 'org.apache.commons:commons-lang3:3.9'\nimplementation 'com.google.code.gson:gson:2.8.5'\nimplementation 'com.fasterxml.jackson.core:jackson-annotations:2.10.0'\nimplementation 'javax.persistence:javax.persistence-api:2.2'\nimplementation 'io.swagger:swagger-annotations:1.5.23'\nimplementation 'org.eclipse.jetty:jetty-server:9.4.21.v20190926'\nimplementation 'org.eclipse.jetty:jetty-servlet:9.4.21.v20190926'\nimplementation 'org.eclipse.jetty:jetty-util:9.4.21.v20190926'\nimplementation 'org.eclipse.jetty:jetty-security:9.4.21.v20190926'\nimplementation 'org.eclipse.jetty:jetty-http:9.4.21.v20190926'\nimplementation 'org.eclipse.jetty:jetty-io:9.4.21.v20190926'\nimplementation 'org.eclipse.jetty:jetty-continuation:9.4.21.v20190926'\nimplementation 'org.apache.commons:commons-collections4:4.4'\nimplementation 'javax.validation:validation-api:2.0.1.Final'\nimplementation 'org.hibernate.validator:hibernate-validator:6.0.13.Final'\n\ntestImplementation 'org.springframework.boot:spring-boot-starter-test'\ntestImplementation 'junit:junit:4.13.1'\ntestImplementation 'junit:junit:4.13.1'\n}\n</code></pre>\n"},{"tags":["java","synchronized"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1688517627,"post_id":76616469,"comment_id":135083075,"body_markdown":"Please show a complete example which illustrates the behaviour.","body":"Please show a complete example which illustrates the behaviour."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688529683,"post_id":76616469,"comment_id":135083903,"body_markdown":"No, the threads that are blocked on the old `Object` will unblock when the block that is currently synchronized on it exits. Just like any other time, Changing the object reference inside the synchronized block (or anywhere else) doesn&#39;t change what the block is synchronized on. Why you would actually want to do this is another mystery.","body":"No, the threads that are blocked on the old <code>Object</code> will unblock when the block that is currently synchronized on it exits. Just like any other time, Changing the object reference inside the synchronized block (or anywhere else) doesn&#39;t change what the block is synchronized on. Why you would actually want to do this is another mystery."}],"answers":[{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688518009,"creation_date":1688518009,"answer_id":76616486,"question_id":76616469,"body_markdown":"Assume we&#39;re at a point where method &#39;reinitialized&#39; is holding the monitor on object-1.  Method &#39;doSomething&#39; is waiting for the monitor on object-1.\r\n\r\nNow we point variable &#39;object&#39; to object-2.\r\n\r\nMethod &#39;reinitialized&#39; is still holding the monitor on object-1.  Method &#39;doSomething&#39; is still waiting for the monitor on object-1.  \r\n\r\nSynchronization is based on the object, not the variable.\r\n\r\nNothing else can synchronize on object-1 since it is no longer reachable from any variable.  Any thread that starts a &#39;synchronized&#39; block after the effect of the assignment becomes visible will sync on object-2.  (There are inherent races in this, so don&#39;t do it).","title":"Why does reinitializing an object used in thread synchronization not result in a deadlock?","body":"<p>Assume we're at a point where method 'reinitialized' is holding the monitor on object-1.  Method 'doSomething' is waiting for the monitor on object-1.</p>\n<p>Now we point variable 'object' to object-2.</p>\n<p>Method 'reinitialized' is still holding the monitor on object-1.  Method 'doSomething' is still waiting for the monitor on object-1.</p>\n<p>Synchronization is based on the object, not the variable.</p>\n<p>Nothing else can synchronize on object-1 since it is no longer reachable from any variable.  Any thread that starts a 'synchronized' block after the effect of the assignment becomes visible will sync on object-2.  (There are inherent races in this, so don't do it).</p>\n"}],"owner":{"account_id":383494,"reputation":5234,"user_id":3640269,"accept_rate":80,"display_name":"BJ Dela Cruz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688518093,"creation_date":1688517574,"question_id":76616469,"body_markdown":"Can someone please explain why the following code will not result in a deadlock?\r\n\r\n    public class Example {\r\n      private static Object object;\r\n\r\n      public static synchronized void init() {\r\n        if (object == null) {\r\n          object = new Object();\r\n        } else {\r\n          // do nothing\r\n        }\r\n      }\r\n\r\n      public static void doSomething() {\r\n       synchronized (object) {\r\n         // do something\r\n       }\r\n      }\r\n\r\n      public static void reinitialize() {\r\n       synchronized (object) {\r\n         try {\r\n           Thread.sleep(5000l);\r\n         }\r\n         catch (Exception e) { }\r\n         object = new Object();\r\n       }\r\n      }\r\n    }\r\n\r\nI wrote the code below with many threads that call the `doSomething` method in a loop and only one thread that calls the `reinitialize` method. I made that thread sleep so it can hold on to the lock and I can see the other threads waiting to resume execution.\r\n\r\n    var threads = IntStream.range(0, 100).mapToObj(i -&gt; new Thread(() -&gt; {\r\n      Example.init();\r\n      for (var count = 0; count &lt; 1000; count++) {\r\n        Example.doSomething();\r\n      }\r\n    })).toList();\r\n\r\n    threads.forEach(Thread::start);\r\n    new Thread(() -&gt; Example.reinitialize()).start();\r\n\r\n    threads.forEach(t -&gt; {\r\n      try {\r\n        t.join();\r\n      } catch (Exception e) {});\r\n\r\n    // The threads do not deadlock and the main method\r\n    // finishes executing after all the threads finish\r\n    // their work\r\n\r\nI thought that by reinitializing the `object` variable, the threads that are blocked in the `doSomething` method will be blocked forever because `object` is a different instance.\r\n\r\nThis is just a learning exercise for me. I would not write code in the `reinitialize` method. Instead, I would have just made the object a constant (`static final`).","title":"Why does reinitializing an object used in thread synchronization not result in a deadlock?","body":"<p>Can someone please explain why the following code will not result in a deadlock?</p>\n<pre><code>public class Example {\n  private static Object object;\n\n  public static synchronized void init() {\n    if (object == null) {\n      object = new Object();\n    } else {\n      // do nothing\n    }\n  }\n\n  public static void doSomething() {\n   synchronized (object) {\n     // do something\n   }\n  }\n\n  public static void reinitialize() {\n   synchronized (object) {\n     try {\n       Thread.sleep(5000l);\n     }\n     catch (Exception e) { }\n     object = new Object();\n   }\n  }\n}\n</code></pre>\n<p>I wrote the code below with many threads that call the <code>doSomething</code> method in a loop and only one thread that calls the <code>reinitialize</code> method. I made that thread sleep so it can hold on to the lock and I can see the other threads waiting to resume execution.</p>\n<pre><code>var threads = IntStream.range(0, 100).mapToObj(i -&gt; new Thread(() -&gt; {\n  Example.init();\n  for (var count = 0; count &lt; 1000; count++) {\n    Example.doSomething();\n  }\n})).toList();\n\nthreads.forEach(Thread::start);\nnew Thread(() -&gt; Example.reinitialize()).start();\n\nthreads.forEach(t -&gt; {\n  try {\n    t.join();\n  } catch (Exception e) {});\n\n// The threads do not deadlock and the main method\n// finishes executing after all the threads finish\n// their work\n</code></pre>\n<p>I thought that by reinitializing the <code>object</code> variable, the threads that are blocked in the <code>doSomething</code> method will be blocked forever because <code>object</code> is a different instance.</p>\n<p>This is just a learning exercise for me. I would not write code in the <code>reinitialize</code> method. Instead, I would have just made the object a constant (<code>static final</code>).</p>\n"},{"tags":["java","webautomation"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1688475999,"post_id":76612930,"comment_id":135077035,"body_markdown":"Make the field static.","body":"Make the field static."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1688476003,"post_id":76612930,"comment_id":135077036,"body_markdown":"The value for `page` field will be assigned *after* `super` call in constructor. Before that it will hold `null`, which is its *initial* value, so something you don&#39;t want to use (otherwise you would explicitly write `null` instead of `page`). Error is trying to prevent you from making that mistake.","body":"The value for <code>page</code> field will be assigned <i>after</i> <code>super</code> call in constructor. Before that it will hold <code>null</code>, which is its <i>initial</i> value, so something you don&#39;t want to use (otherwise you would explicitly write <code>null</code> instead of <code>page</code>). Error is trying to prevent you from making that mistake."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":3,"creation_date":1688477234,"post_id":76612930,"comment_id":135077313,"body_markdown":"Please don&#39;t post images of code or text.  And please take the [tour] and read [ask].","body":"Please don&#39;t post images of code or text.  And please take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":28844578,"reputation":1,"user_id":22134890,"display_name":"Shabbin Hossain"},"score":0,"creation_date":1688478018,"post_id":76612930,"comment_id":135077479,"body_markdown":"okay now right after I make the field as static The constructor BaseForm(WebElement) is undefined error occurs...","body":"okay now right after I make the field as static The constructor BaseForm(WebElement) is undefined error occurs..."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1688478481,"post_id":76612930,"comment_id":135077606,"body_markdown":"Please read the [ask] link and then giving your question and [edit] so that it meets or exceeds site standards including showing all code and error messages as text, not as images.","body":"Please read the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> link and then giving your question and <a href=\"https://stackoverflow.com/posts/76612930/edit\">edit</a> so that it meets or exceeds site standards including showing all code and error messages as text, not as images."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1688517821,"creation_date":1688517821,"answer_id":76616478,"question_id":76612930,"body_markdown":"&gt; _&quot;... I need to do the following operation(see screenshot) in order to use the isPageOpen() to validate my page is open or not, but this error is keeping me away from doing such is there any one who could tell me the right way to do this?? ...&quot;_\r\n\r\nEssentially, the _super_ class must be instantiated prior to your sub-class, _Main_Page_.\r\n\r\nAs a remedy, you could create a method within your _super_ class to set the value.  \r\nAdditionally, provide a _default constructor_, so you won&#39;t have to assign a value.\r\n\r\nFor example.\r\n\r\n```java\r\nclass BaseForm {\r\n    String string;\r\n\r\n    BaseForm() {\r\n    }\r\n    \r\n    BaseForm(String string) {\r\n        this.string = string;\r\n    }\r\n\r\n    void setString(String string) {\r\n        this.string = string;\r\n    }\r\n}\r\n\r\nclass Main_Page extends BaseForm {\r\n    String string = &quot;&quot;;\r\n\r\n    Main_Page(String string) {\r\n        super();\r\n        super.setString(this.string);\r\n    }\r\n}\r\n```","title":"Cannot refer to an instance field page while explicitly invoking a constructor","body":"<blockquote>\n<p><em>&quot;... I need to do the following operation(see screenshot) in order to use the isPageOpen() to validate my page is open or not, but this error is keeping me away from doing such is there any one who could tell me the right way to do this?? ...&quot;</em></p>\n</blockquote>\n<p>Essentially, the <em>super</em> class must be instantiated prior to your sub-class, <em>Main_Page</em>.</p>\n<p>As a remedy, you could create a method within your <em>super</em> class to set the value.<br />\nAdditionally, provide a <em>default constructor</em>, so you won't have to assign a value.</p>\n<p>For example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class BaseForm {\n    String string;\n\n    BaseForm() {\n    }\n    \n    BaseForm(String string) {\n        this.string = string;\n    }\n\n    void setString(String string) {\n        this.string = string;\n    }\n}\n\nclass Main_Page extends BaseForm {\n    String string = &quot;&quot;;\n\n    Main_Page(String string) {\n        super();\n        super.setString(this.string);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28844578,"reputation":1,"user_id":22134890,"display_name":"Shabbin Hossain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1688517821,"creation_date":1688475716,"question_id":76612930,"body_markdown":"[This is my BaseForm class which I would like to use it to validate if my page(Main_Page) is open or not](https://i.stack.imgur.com/mv4pQ.png)\r\n\r\n\r\n\r\n[This is my Main_Page class which inherits from BaseForm class, and I&#39;m trying invoke the constructor and the error is shown in my screenshot, I need to do the following operation(see screenshot) in order to use the isPageOpen() to validate my page is open or not, but this error is keeping me away from doing such is there any one who could tell me the right way to do this?? **also I&#39;m not allowed to use static methods**.](https://i.stack.imgur.com/lOhBB.png)","title":"Cannot refer to an instance field page while explicitly invoking a constructor","body":"<p><a href=\"https://i.stack.imgur.com/mv4pQ.png\" rel=\"nofollow noreferrer\">This is my BaseForm class which I would like to use it to validate if my page(Main_Page) is open or not</a></p>\n<p><a href=\"https://i.stack.imgur.com/lOhBB.png\" rel=\"nofollow noreferrer\">This is my Main_Page class which inherits from BaseForm class, and I'm trying invoke the constructor and the error is shown in my screenshot, I need to do the following operation(see screenshot) in order to use the isPageOpen() to validate my page is open or not, but this error is keeping me away from doing such is there any one who could tell me the right way to do this?? <strong>also I'm not allowed to use static methods</strong>.</a></p>\n"},{"tags":["java","scala","sbt"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1688392965,"post_id":76605482,"comment_id":135064482,"body_markdown":"Something is passing your `scala.bat` file as a class name to `java`. That&#39;s not going to work. You probably have arguments mixed up somewhere.","body":"Something is passing your <code>scala.bat</code> file as a class name to <code>java</code>. That&#39;s not going to work. You probably have arguments mixed up somewhere."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1688395364,"post_id":76605482,"comment_id":135065023,"body_markdown":"Does this answer your question? [How do I resolve ClassNotFoundException?](https://stackoverflow.com/questions/17408769/how-do-i-resolve-classnotfoundexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17408769/how-do-i-resolve-classnotfoundexception\">How do I resolve ClassNotFoundException?</a>"},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":2,"creation_date":1688399615,"post_id":76605482,"comment_id":135065979,"body_markdown":"Personal advice, use **WSL** and install everything in there using **coursier** instead of trying to get **Scala** on **Windows** working.","body":"Personal advice, use <b>WSL</b> and install everything in there using <b>coursier</b> instead of trying to get <b>Scala</b> on <b>Windows</b> working."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1688422031,"post_id":76605482,"comment_id":135069570,"body_markdown":"It looks like a problem with the space character in the directory path","body":"It looks like a problem with the space character in the directory path"},{"owner":{"account_id":17080935,"reputation":5349,"user_id":12370687,"display_name":"blackraven"},"score":1,"creation_date":1688471944,"post_id":76605482,"comment_id":135076091,"body_markdown":"Try [changing your folder](https://www.minitool.com/news/change-user-folder-name-windows-10.html) to &quot;RuchiraLakmal&quot; so that your path becomes `C:\\Users\\RuchiraLakmal` (without space), then reinstall everything all over including path variables.","body":"Try <a href=\"https://www.minitool.com/news/change-user-folder-name-windows-10.html\" rel=\"nofollow noreferrer\">changing your folder</a> to &quot;RuchiraLakmal&quot; so that your path becomes <code>C:\\Users\\RuchiraLakmal</code> (without space), then reinstall everything all over including path variables."},{"owner":{"account_id":27706898,"reputation":31,"user_id":21150338,"display_name":"Ruchira Lakmal"},"score":0,"creation_date":1688479124,"post_id":76605482,"comment_id":135077791,"body_markdown":"Thank  you @perpetualstudent , it worked","body":"Thank  you @perpetualstudent , it worked"}],"answers":[{"tags":[],"owner":{"account_id":17080935,"reputation":5349,"user_id":12370687,"display_name":"blackraven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688515061,"creation_date":1688515061,"answer_id":76616367,"question_id":76605482,"body_markdown":"Try [changing your Windows folder name](https://www.minitool.com/news/change-user-folder-name-windows-10.html) to &quot;RuchiraLakmal&quot; so that your path becomes  \r\n`C:\\Users\\RuchiraLakmal` (without space),  \r\nthen reinstall everything all over including path variables.","title":"why terminal give me an error message when I try to use scala?","body":"<p>Try <a href=\"https://www.minitool.com/news/change-user-folder-name-windows-10.html\" rel=\"nofollow noreferrer\">changing your Windows folder name</a> to &quot;RuchiraLakmal&quot; so that your path becomes<br />\n<code>C:\\Users\\RuchiraLakmal</code> (without space),<br />\nthen reinstall everything all over including path variables.</p>\n"}],"owner":{"account_id":27706898,"reputation":31,"user_id":21150338,"display_name":"Ruchira Lakmal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76616367,"answer_count":1,"score":0,"last_activity_date":1688515232,"creation_date":1688392802,"question_id":76605482,"body_markdown":"I already installed java jdk , sbt and scala on my pc and I already set up all path variables. But the terminal give me following error message when I try to use scala: \r\n\r\n![myfault](https://i.stack.imgur.com/WbhoR.png)\r\n\r\n&gt;C:\\Users\\Ruchira Lakmal&gt;scala  \r\nError: Could not find or load main class Lakmal\\AppData\\Local\\Coursier\\data\\bin\\scala.bat  \r\nCaused by: java.lang.ClassNotFoundException: Lakmal\\AppData\\Local\\Coursier\\data\\bin\\scala.bat\r\n\r\nMay I know what is the reason and what is the solution please?","title":"why terminal give me an error message when I try to use scala?","body":"<p>I already installed java jdk , sbt and scala on my pc and I already set up all path variables. But the terminal give me following error message when I try to use scala:</p>\n<p><img src=\"https://i.stack.imgur.com/WbhoR.png\" alt=\"myfault\" /></p>\n<blockquote>\n<p>C:\\Users\\Ruchira Lakmal&gt;scala<br />\nError: Could not find or load main class Lakmal\\AppData\\Local\\Coursier\\data\\bin\\scala.bat<br />\nCaused by: java.lang.ClassNotFoundException: Lakmal\\AppData\\Local\\Coursier\\data\\bin\\scala.bat</p>\n</blockquote>\n<p>May I know what is the reason and what is the solution please?</p>\n"},{"tags":["java","spring-boot","gitlab","gitlab-ci","testcontainers"],"comments":[{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":1,"creation_date":1688411471,"post_id":76604211,"comment_id":135068024,"body_markdown":"Check the following blogpost https://www.atomicjar.com/2023/01/running-testcontainers-tests-on-gitlab-ci/","body":"Check the following blogpost <a href=\"https://www.atomicjar.com/2023/01/running-testcontainers-tests-on-gitlab-ci/\" rel=\"nofollow noreferrer\">atomicjar.com/2023/01/running-testcontainers-tests-on-gitlab&zwnj;&#8203;-ci</a>"},{"owner":{"account_id":14244028,"reputation":707,"user_id":10289641,"display_name":"Gereon99"},"score":0,"creation_date":1688471476,"post_id":76604211,"comment_id":135076005,"body_markdown":"@Edd&#250;Mel&#233;ndez Thank you, with a bit of tweaking, since I use gradle, it works now.","body":"@Edd&#250;Mel&#233;ndez Thank you, with a bit of tweaking, since I use gradle, it works now."}],"owner":{"account_id":14244028,"reputation":707,"user_id":10289641,"display_name":"Gereon99"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688514974,"creation_date":1688382937,"question_id":76604211,"body_markdown":"I&#39;m trying to get my pipeline up and running, where I run unit tests from my Spring boot application. I&#39;m using gradle so I can locally run the tests just fine with `gradle test --rerun-tasks`. However, once I try this with GitLab CI I run into a problem. \r\n\r\nIn my tests I make use of Testcontainers, most importantly a MySQL container, which requires a docker environment. If I use a docker image for my testing stage there is no Java present, so gradle can&#39;t run. If I use a Java image, I get the opposite error, because I no longer have a docker environment.\r\n\r\nThis is my .gitlab-ci.yml so far:\r\n\r\n```\r\nimage: docker:latest\r\n\r\nservices:\r\n  - docker:dind\r\n\r\nstages:\r\n  - test\r\n\r\ntest-backend:\r\n  image: openjdk:17-jdk-alpine\r\n  stage: test\r\n  script:\r\n    - cd spring\r\n    - ./gradlew test --stacktrace\r\n  tags:\r\n    - docker\r\n\r\n```\r\n\r\nI was hoping by providing dind as a service that I could somehow have a docker environment, even if I use a different image for my testing stage. \r\nCan someone show me how its done in a proper way?\r\n\r\nEdit:\r\nI ended up with this solution, which works perfectly:\r\n```\r\nimage: gradle:6.9.4-jdk17-jammy\r\n\r\nservices:\r\n - name: docker:dind\r\n   command: [&quot;--tls=false&quot;]\r\n\r\nvariables:\r\n DOCKER_HOST: &quot;tcp://docker:2375&quot;\r\n DOCKER_TLS_CERTDIR: &quot;&quot;\r\n DOCKER_DRIVER: overlay2\r\n\r\nstages:\r\n  - test\r\n\r\ntest-api:\r\n  stage: test\r\n  script:\r\n    - gradle test\r\n\r\n```","title":"Running SpringBoot JUnit tests requiring a docker environment in GitLab CI with Gradle","body":"<p>I'm trying to get my pipeline up and running, where I run unit tests from my Spring boot application. I'm using gradle so I can locally run the tests just fine with <code>gradle test --rerun-tasks</code>. However, once I try this with GitLab CI I run into a problem.</p>\n<p>In my tests I make use of Testcontainers, most importantly a MySQL container, which requires a docker environment. If I use a docker image for my testing stage there is no Java present, so gradle can't run. If I use a Java image, I get the opposite error, because I no longer have a docker environment.</p>\n<p>This is my .gitlab-ci.yml so far:</p>\n<pre><code>image: docker:latest\n\nservices:\n  - docker:dind\n\nstages:\n  - test\n\ntest-backend:\n  image: openjdk:17-jdk-alpine\n  stage: test\n  script:\n    - cd spring\n    - ./gradlew test --stacktrace\n  tags:\n    - docker\n\n</code></pre>\n<p>I was hoping by providing dind as a service that I could somehow have a docker environment, even if I use a different image for my testing stage.\nCan someone show me how its done in a proper way?</p>\n<p>Edit:\nI ended up with this solution, which works perfectly:</p>\n<pre><code>image: gradle:6.9.4-jdk17-jammy\n\nservices:\n - name: docker:dind\n   command: [&quot;--tls=false&quot;]\n\nvariables:\n DOCKER_HOST: &quot;tcp://docker:2375&quot;\n DOCKER_TLS_CERTDIR: &quot;&quot;\n DOCKER_DRIVER: overlay2\n\nstages:\n  - test\n\ntest-api:\n  stage: test\n  script:\n    - gradle test\n\n</code></pre>\n"},{"tags":["java","css","selenium-webdriver","automation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688512819,"post_id":76616173,"comment_id":135082743,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688514085,"creation_date":1688514085,"answer_id":76616332,"question_id":76616173,"body_markdown":"As the desired element is within a [`&lt;iframe&gt;`](https://stackoverflow.com/a/53276478/7429447) so you have to:\r\n\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the desired _frameToBeAvailableAndSwitchToIt_.\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/50621712/7429447) for the desired _elementToBeClickable_.\r\n- You can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n  - Using _cssSelector_:\r\n\r\n\t    new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[id$=&#39;PushIframe&#39;]&quot;)));\r\n\r\n  - Using _xpath_:\r\n\r\n\t    new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[contains(@id, &#39;PushIframe&#39;)]&quot;)));","title":"Cant access an element in iframe for automation test","body":"<p>As the desired element is within a <a href=\"https://stackoverflow.com/a/53276478/7429447\"><code>&lt;iframe&gt;</code></a> so you have to:</p>\n<ul>\n<li>Induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the desired <em>frameToBeAvailableAndSwitchToIt</em>.</li>\n<li>Induce <a href=\"https://stackoverflow.com/a/50621712/7429447\">WebDriverWait</a> for the desired <em>elementToBeClickable</em>.</li>\n<li>You can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[id$='PushIframe']&quot;)));\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.xpath(&quot;//iframe[contains(@id, 'PushIframe')]&quot;)));\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":28772493,"reputation":1,"user_id":22035937,"display_name":"Valentina Bianchi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688514085,"creation_date":1688510587,"question_id":76616173,"body_markdown":"i&#39;ve dealing with this for to days now and i cant solve it, hope you can help me.\r\n\r\nI have this automation POC for a job (which obviously i wont get) where i have to automate something on an oracle page.\r\n\r\nThe thing is that i&#39;m trying to click on the menu but all elements are in an iframe. So changed the iframe in my program but there is no way to find the css locator that will find that object. I tried to run selenium IDE to stole the locators from it but it didn&#39;t work either.\r\n\r\nAny idea of what may be happening to me? there are fundamental buttons, like the menu one, i will share with you the HTML thanks in advance for reading me.\r\n\r\nThe iframe is id=&quot;afr::PushIframe&quot; and the element i want is \\&lt;path class=&quot;svg-outline&quot; d=&quot;M3 7H25M3 14H25M3 21H25&quot;\\&gt;\\&lt;/path\\&gt;\r\n\r\nThanks again!!","title":"Cant access an element in iframe for automation test","body":"<p>i've dealing with this for to days now and i cant solve it, hope you can help me.</p>\n<p>I have this automation POC for a job (which obviously i wont get) where i have to automate something on an oracle page.</p>\n<p>The thing is that i'm trying to click on the menu but all elements are in an iframe. So changed the iframe in my program but there is no way to find the css locator that will find that object. I tried to run selenium IDE to stole the locators from it but it didn't work either.</p>\n<p>Any idea of what may be happening to me? there are fundamental buttons, like the menu one, i will share with you the HTML thanks in advance for reading me.</p>\n<p>The iframe is id=&quot;afr::PushIframe&quot; and the element i want is &lt;path class=&quot;svg-outline&quot; d=&quot;M3 7H25M3 14H25M3 21H25&quot;&gt;&lt;/path&gt;</p>\n<p>Thanks again!!</p>\n"},{"tags":["java","jvm","profiling","jfr"],"answers":[{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688512559,"creation_date":1599835245,"answer_id":63849269,"question_id":63846646,"body_markdown":"There is no support in the JDK to convert a JSON printout into the binary recording format, and I&#39;m not aware of any third-party tool that can do it. The binary file format is undocumented and it would require lots of processing to compress it back into its original form.\r\n\r\nIf you want to filter out events or scrub a recording, it&#39;s possible from JDK 19, both from command line and [programmatically][1]. \r\n\r\n    $ jfr scrub --exclude-events \r\n      InitialEnvironmentVariable recording.jfr no-psw.jfr\r\n\r\nFor JDKs prior to JDK 19, the best you can do is to turn off the events you don&#39;t want. In JDK 17, you can do that from command line:\r\n\r\n    $ java -XX:StartFlightRecording:\r\n            jdk.InitialEnvironmentVariable#enabled=false ...\r\n\r\nFor JDK 16, or earlier, you need to create custom .jfc file.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/jdk.jfr/jdk/jfr/consumer/RecordingFile.html#write(java.nio.file.Path,java.util.function.Predicate)","title":"Can JFR files once printed as Json be compiled back to .jfr format","body":"<p>There is no support in the JDK to convert a JSON printout into the binary recording format, and I'm not aware of any third-party tool that can do it. The binary file format is undocumented and it would require lots of processing to compress it back into its original form.</p>\n<p>If you want to filter out events or scrub a recording, it's possible from JDK 19, both from command line and <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/jdk.jfr/jdk/jfr/consumer/RecordingFile.html#write(java.nio.file.Path,java.util.function.Predicate)\" rel=\"nofollow noreferrer\">programmatically</a>.</p>\n<pre><code>$ jfr scrub --exclude-events \n  InitialEnvironmentVariable recording.jfr no-psw.jfr\n</code></pre>\n<p>For JDKs prior to JDK 19, the best you can do is to turn off the events you don't want. In JDK 17, you can do that from command line:</p>\n<pre><code>$ java -XX:StartFlightRecording:\n        jdk.InitialEnvironmentVariable#enabled=false ...\n</code></pre>\n<p>For JDK 16, or earlier, you need to create custom .jfc file.</p>\n"}],"owner":{"account_id":13908047,"reputation":23,"user_id":10041943,"display_name":"Abhinav Rohatgi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":63849269,"answer_count":1,"score":1,"last_activity_date":1688512559,"creation_date":1599825480,"question_id":63846646,"body_markdown":"I have JSON file that I created using the `jfr print --json` command, will I be able to convert them back into an .jfr file?","title":"Can JFR files once printed as Json be compiled back to .jfr format","body":"<p>I have JSON file that I created using the <code>jfr print --json</code> command, will I be able to convert them back into an .jfr file?</p>\n"},{"tags":["java","spring","spring-security","jwt"],"owner":{"account_id":28723288,"reputation":1,"user_id":21996637,"display_name":"gzhe1056"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688511576,"creation_date":1688511576,"question_id":76616220,"body_markdown":"So I&#39;ve been trying to solve the problem of my bearer jwt token not generating after a successful login. I tried many things to try to get my backend api to generate the token after the validation. I&#39;m not sure what I&#39;m doing wrong. Any answers would be much appreciated! Below, I have added my generator, validation and controller class for this issue. Feel free to ask about what other code snippets you would like to see.\r\n````\r\npackage com.instacloneapi.instacloneapi.config;\r\n\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.springframework.lang.NonNull;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport javax.crypto.SecretKey;\r\nimport java.io.IOException;\r\nimport java.util.Collection;\r\nimport java.util.Date;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class JwtTokenGeneratorFilter extends OncePerRequestFilter {\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            @NonNull HttpServletRequest request,\r\n            @NonNull HttpServletResponse response,\r\n            @NonNull FilterChain filterChain\r\n    ) throws ServletException, IOException {\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n        if (authentication != null) {\r\n            SecretKey key = Keys.hmacShaKeyFor(SecurityContext.JWT_KEY.getBytes());\r\n            String jwt = Jwts.builder()\r\n                    .setIssuer(&quot;instagram&quot;)\r\n                    .setIssuedAt(new Date())\r\n                    .claim(&quot;authorities&quot;, populateAuthorities(authentication.getAuthorities()))\r\n                    .claim(&quot;username&quot;, authentication.getName())\r\n                    .setExpiration(new Date(new Date().getTime() + 1000000000))\r\n                    .signWith(key).compact();\r\n            response.setHeader(SecurityContext.HEADER, jwt);\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    public static String populateAuthorities(Collection&lt;? extends GrantedAuthority&gt; collection) {\r\n        Set&lt;String&gt; authorities = new HashSet&lt;&gt;();\r\n\r\n        for (GrantedAuthority authority : collection) {\r\n            authorities.add(authority.getAuthority());\r\n        }\r\n        return String.join(&quot;,&quot;, authorities);\r\n    }\r\n\r\n    protected boolean shouldNotFilter(HttpServletRequest request) {\r\n        return !request.getServletPath().equals(&quot;/signin&quot;);\r\n    }\r\n}\r\n````\r\n````\r\npackage com.instacloneapi.instacloneapi.config;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.jetbrains.annotations.NotNull;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.AuthorityUtils;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport javax.crypto.SecretKey;\r\nimport java.io.IOException;\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\n\r\npublic class JwtTokenValidationFilter extends OncePerRequestFilter {\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, @NotNull HttpServletResponse response, @NotNull FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n\r\n        String jwt = request.getHeader(SecurityContext.HEADER);\r\n        if (jwt != null) {\r\n            try {\r\n                jwt = jwt.substring(7);\r\n                SecretKey key = Keys.hmacShaKeyFor(SecurityContext.JWT_KEY.getBytes());\r\n                Claims claims = Jwts\r\n                        .parserBuilder()\r\n                        .setSigningKey(key)\r\n                        .build()\r\n                        .parseClaimsJws(jwt)\r\n                        .getBody();\r\n\r\n                String username = String.valueOf(claims.get(&quot;username&quot;));\r\n                String authorities = (String)claims.get(&quot;authority&quot;);\r\n\r\n                List&lt;GrantedAuthority&gt; authorityList = AuthorityUtils.commaSeparatedStringToAuthorityList(authorities);\r\n                Authentication authentication = new UsernamePasswordAuthenticationToken(username, authorityList);\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            } catch (Exception e) {\r\n                throw new BadCredentialsException(e.getMessage());\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    @Override\r\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n        return !request.getServletPath().equals(&quot;/signin&quot;);\r\n    }\r\n}\r\n````\r\n````\r\npackage com.instacloneapi.instacloneapi.controller;\r\n\r\nimport com.instacloneapi.instacloneapi.exception.UserException;\r\nimport com.instacloneapi.instacloneapi.model.User;\r\nimport com.instacloneapi.instacloneapi.repository.UserRepository;\r\nimport com.instacloneapi.instacloneapi.service.UserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.Optional;\r\n\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;)\r\npublic class AuthController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @PostMapping(&quot;/signup&quot;)\r\n    public ResponseEntity&lt;User&gt; registerUserHandler(@RequestBody User user) throws UserException {\r\n\r\n        User createdUser = userService.registerUser(user);\r\n\r\n        return new ResponseEntity&lt;&gt;(createdUser, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/signin&quot;)\r\n    public ResponseEntity&lt;User&gt; signinHandler(Authentication authentication) throws BadCredentialsException {\r\n\r\n        Optional&lt;User&gt; opt = userRepository.findByEmail(authentication.getName());\r\n\r\n        if (opt.isPresent()) {\r\n            return new ResponseEntity&lt;&gt;(opt.get(), HttpStatus.ACCEPTED);\r\n        }\r\n        throw new BadCredentialsException(&quot;Invalid username or password&quot;);\r\n    }\r\n\r\n}\r\n````","title":"Bearer token not generating and not setting to header in Spring Boot","body":"<p>So I've been trying to solve the problem of my bearer jwt token not generating after a successful login. I tried many things to try to get my backend api to generate the token after the validation. I'm not sure what I'm doing wrong. Any answers would be much appreciated! Below, I have added my generator, validation and controller class for this issue. Feel free to ask about what other code snippets you would like to see.</p>\n<pre><code>package com.instacloneapi.instacloneapi.config;\n\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.security.Keys;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.lang.NonNull;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.crypto.SecretKey;\nimport java.io.IOException;\nimport java.util.Collection;\nimport java.util.Date;\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class JwtTokenGeneratorFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(\n            @NonNull HttpServletRequest request,\n            @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain\n    ) throws ServletException, IOException {\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n\n        if (authentication != null) {\n            SecretKey key = Keys.hmacShaKeyFor(SecurityContext.JWT_KEY.getBytes());\n            String jwt = Jwts.builder()\n                    .setIssuer(&quot;instagram&quot;)\n                    .setIssuedAt(new Date())\n                    .claim(&quot;authorities&quot;, populateAuthorities(authentication.getAuthorities()))\n                    .claim(&quot;username&quot;, authentication.getName())\n                    .setExpiration(new Date(new Date().getTime() + 1000000000))\n                    .signWith(key).compact();\n            response.setHeader(SecurityContext.HEADER, jwt);\n        }\n        filterChain.doFilter(request, response);\n    }\n\n    public static String populateAuthorities(Collection&lt;? extends GrantedAuthority&gt; collection) {\n        Set&lt;String&gt; authorities = new HashSet&lt;&gt;();\n\n        for (GrantedAuthority authority : collection) {\n            authorities.add(authority.getAuthority());\n        }\n        return String.join(&quot;,&quot;, authorities);\n    }\n\n    protected boolean shouldNotFilter(HttpServletRequest request) {\n        return !request.getServletPath().equals(&quot;/signin&quot;);\n    }\n}\n</code></pre>\n<pre><code>package com.instacloneapi.instacloneapi.config;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.security.Keys;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.jetbrains.annotations.NotNull;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.AuthorityUtils;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.crypto.SecretKey;\nimport java.io.IOException;\nimport java.util.Date;\nimport java.util.List;\n\n\npublic class JwtTokenValidationFilter extends OncePerRequestFilter {\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, @NotNull HttpServletResponse response, @NotNull FilterChain filterChain)\n            throws ServletException, IOException {\n\n        String jwt = request.getHeader(SecurityContext.HEADER);\n        if (jwt != null) {\n            try {\n                jwt = jwt.substring(7);\n                SecretKey key = Keys.hmacShaKeyFor(SecurityContext.JWT_KEY.getBytes());\n                Claims claims = Jwts\n                        .parserBuilder()\n                        .setSigningKey(key)\n                        .build()\n                        .parseClaimsJws(jwt)\n                        .getBody();\n\n                String username = String.valueOf(claims.get(&quot;username&quot;));\n                String authorities = (String)claims.get(&quot;authority&quot;);\n\n                List&lt;GrantedAuthority&gt; authorityList = AuthorityUtils.commaSeparatedStringToAuthorityList(authorities);\n                Authentication authentication = new UsernamePasswordAuthenticationToken(username, authorityList);\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            } catch (Exception e) {\n                throw new BadCredentialsException(e.getMessage());\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n\n    @Override\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n        return !request.getServletPath().equals(&quot;/signin&quot;);\n    }\n}\n</code></pre>\n<pre><code>package com.instacloneapi.instacloneapi.controller;\n\nimport com.instacloneapi.instacloneapi.exception.UserException;\nimport com.instacloneapi.instacloneapi.model.User;\nimport com.instacloneapi.instacloneapi.repository.UserRepository;\nimport com.instacloneapi.instacloneapi.service.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.Optional;\n\n@RestController\n@CrossOrigin(origins = &quot;*&quot;)\npublic class AuthController {\n\n    @Autowired\n    private UserService userService;\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @PostMapping(&quot;/signup&quot;)\n    public ResponseEntity&lt;User&gt; registerUserHandler(@RequestBody User user) throws UserException {\n\n        User createdUser = userService.registerUser(user);\n\n        return new ResponseEntity&lt;&gt;(createdUser, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/signin&quot;)\n    public ResponseEntity&lt;User&gt; signinHandler(Authentication authentication) throws BadCredentialsException {\n\n        Optional&lt;User&gt; opt = userRepository.findByEmail(authentication.getName());\n\n        if (opt.isPresent()) {\n            return new ResponseEntity&lt;&gt;(opt.get(), HttpStatus.ACCEPTED);\n        }\n        throw new BadCredentialsException(&quot;Invalid username or password&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","sqlite","android-fragments"],"comments":[{"owner":{"account_id":903132,"reputation":15025,"user_id":938694,"accept_rate":59,"display_name":"Cubic"},"score":1,"creation_date":1687557198,"post_id":76543631,"comment_id":134959114,"body_markdown":"You have a `return` statement on line 4 of your `onCreateView`. Everything after that is dead code.","body":"You have a <code>return</code> statement on line 4 of your <code>onCreateView</code>. Everything after that is dead code."}],"answers":[{"tags":[],"owner":{"account_id":6317187,"reputation":44,"user_id":4906690,"display_name":"yannick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687558969,"creation_date":1687558969,"answer_id":76543758,"question_id":76543631,"body_markdown":"In your code, the createNotificationChannel() method is called after the return binding.getRoot(); statement, resulting in an &quot;unreachable statement&quot; error, as code after a return statement will not be executed.\r\n\r\nTo call the createNotificationChannel() method correctly in your Fragment, you need to place it before the return binding.getRoot(); statement in the onCreateView() method.\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        view = inflater.inflate(R.layout.fragment_alarm, container, false);\r\n        binding = FragmentAlarmBinding.inflate(getLayoutInflater());\r\n        \r\n        createNotificationChannel(); // call your method here before the view returns\r\n        \r\n        binding.selectedTime.setOnClickListener(new View.OnClickListener() {\r\n            // ...\r\n        });\r\n    \r\n        binding.setAlarmBtn.setOnClickListener(new View.OnClickListener() {\r\n            // ...\r\n        });\r\n    \r\n        binding.cancelAlarmBtn.setOnClickListener(new View.OnClickListener() {\r\n            // ...\r\n        });\r\n        \r\n        return binding.getRoot();\r\n    }\r\n\r\nBy moving the createNotificationChannel() call to before the view return, the method will be called at the right time when the Fragment is created.\r\n\r\nBe sure to test this code and check that you don&#39;t have any other errors in your Fragment.","title":"How can I use createNotificationChannel(); in fragments?","body":"<p>In your code, the createNotificationChannel() method is called after the return binding.getRoot(); statement, resulting in an &quot;unreachable statement&quot; error, as code after a return statement will not be executed.</p>\n<p>To call the createNotificationChannel() method correctly in your Fragment, you need to place it before the return binding.getRoot(); statement in the onCreateView() method.</p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    view = inflater.inflate(R.layout.fragment_alarm, container, false);\n    binding = FragmentAlarmBinding.inflate(getLayoutInflater());\n    \n    createNotificationChannel(); // call your method here before the view returns\n    \n    binding.selectedTime.setOnClickListener(new View.OnClickListener() {\n        // ...\n    });\n\n    binding.setAlarmBtn.setOnClickListener(new View.OnClickListener() {\n        // ...\n    });\n\n    binding.cancelAlarmBtn.setOnClickListener(new View.OnClickListener() {\n        // ...\n    });\n    \n    return binding.getRoot();\n}\n</code></pre>\n<p>By moving the createNotificationChannel() call to before the view return, the method will be called at the right time when the Fragment is created.</p>\n<p>Be sure to test this code and check that you don't have any other errors in your Fragment.</p>\n"}],"owner":{"account_id":27657833,"reputation":3,"user_id":21111318,"display_name":"Nisanur Turan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76543758,"answer_count":1,"score":-1,"last_activity_date":1688511014,"creation_date":1687556756,"question_id":76543631,"body_markdown":"```java\r\npublic class FragmetAlarm extends Fragment {\r\n\r\n    private FragmentAlarmBinding binding;\r\n    private MaterialTimePicker picker;\r\n    private AlarmManager alarmManager;\r\n    private Calendar calendar;\r\n    private PendingIntent pendingIntent;\r\n    View view;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        view = inflater.inflate(R.layout.fragment_alarm, container, false);\r\n        binding = FragmentAlarmBinding.inflate(getLayoutInflater());\r\n        return binding.getRoot();\r\n        createNotificationChannel(); //problem!! &quot;`your text`unreachable statement&quot;\r\n\r\n        binding.selectedTime.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                showTimePicker();\r\n            }\r\n        });\r\n\r\n        binding.setAlarmBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                setAlarm();\r\n\r\n            }\r\n        });\r\n\r\n        binding.cancelAlarmBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                cancelAlarm();\r\n                \r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void cancelAlarm() {\r\n        Intent intent = new Intent (FragmetAlarm.this.getActivity(), AlarmReceiver.class);\r\n\r\n        pendingIntent = PendingIntent.getBroadcast(this.getActivity(),0,intent,0);\r\n\r\n        if (alarmManager == null){\r\n\r\n            alarmManager = (AlarmManager) getActivity().getSystemService(Context.ALARM_SERVICE);\r\n\r\n        }\r\n\r\n        alarmManager.cancel(pendingIntent);\r\n        Toast.makeText(getActivity(),&quot;Alarmınız silindi&quot;,Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    private void setAlarm() {\r\n\r\n        alarmManager = (AlarmManager) getActivity().getSystemService(Context.ALARM_SERVICE);\r\n        Intent intent = new Intent(FragmetAlarm.this.getActivity(), AlarmReceiver.class);\r\n\r\n        pendingIntent = PendingIntent.getBroadcast(this.getActivity(),0,intent,0);\r\n\r\n        alarmManager.setInexactRepeating(AlarmManager.RTC_WAKEUP,calendar.getTimeInMillis(),\r\n                AlarmManager.INTERVAL_DAY,pendingIntent);\r\n\r\n        Toast.makeText(getActivity(),&quot;Alarmınız Kuruldu :)&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n    }\r\n\r\n    private void showTimePicker() {\r\n        picker = new MaterialTimePicker.Builder()\r\n                .setTimeFormat(TimeFormat.CLOCK_24H)\r\n                .setHour(12)\r\n                .setMinute(0)\r\n                .setTitleText(&quot;Alarm i&#231;in saat se&#231;iniz&quot;)\r\n                .build();\r\n\r\n        picker.show(getParentFragmentManager(),&quot;nisa&quot;);\r\n        picker.addOnPositiveButtonClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                if(picker.getHour() &gt; 24){\r\n\r\n                    binding.selectedTime.setText(\r\n                            String.format(&quot;%02d&quot;, (picker.getHour()-24))+&quot; : &quot;+String.format(&quot;%02d&quot;, picker.getMinute())\r\n                    );\r\n\r\n                }else{\r\n\r\n                    binding.selectedTime.setText(picker.getHour()+&quot; : &quot;+ picker.getMinute());\r\n\r\n                }\r\n\r\n                calendar = Calendar.getInstance();\r\n                calendar.set(Calendar.HOUR_OF_DAY,picker.getHour());\r\n                calendar.set(Calendar.MINUTE,picker.getMinute());\r\n                calendar.set(Calendar.SECOND,0);\r\n                calendar.set(Calendar.MILLISECOND,0);\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void createNotificationChannel() {\r\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\r\n            CharSequence name = &quot;nisanurReminderChannel&quot;;\r\n            String description = &quot;Channel for Alarm manager&quot;;\r\n            int importance = NotificationManager.IMPORTANCE_HIGH;\r\n            NotificationChannel channel = new NotificationChannel(&quot;nisa&quot;, name, importance);\r\n            channel.setDescription(description);\r\n\r\n            NotificationManager notificationManager = getActivity().getSystemService(NotificationManager.class);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHow can I fix this? I tried opening `onCreateView` and typing below it but that didn&#39;t work.","title":"How can I use createNotificationChannel(); in fragments?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class FragmetAlarm extends Fragment {\n\n    private FragmentAlarmBinding binding;\n    private MaterialTimePicker picker;\n    private AlarmManager alarmManager;\n    private Calendar calendar;\n    private PendingIntent pendingIntent;\n    View view;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        view = inflater.inflate(R.layout.fragment_alarm, container, false);\n        binding = FragmentAlarmBinding.inflate(getLayoutInflater());\n        return binding.getRoot();\n        createNotificationChannel(); //problem!! &quot;`your text`unreachable statement&quot;\n\n        binding.selectedTime.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                showTimePicker();\n            }\n        });\n\n        binding.setAlarmBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                setAlarm();\n\n            }\n        });\n\n        binding.cancelAlarmBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                cancelAlarm();\n                \n            }\n        });\n\n    }\n\n    private void cancelAlarm() {\n        Intent intent = new Intent (FragmetAlarm.this.getActivity(), AlarmReceiver.class);\n\n        pendingIntent = PendingIntent.getBroadcast(this.getActivity(),0,intent,0);\n\n        if (alarmManager == null){\n\n            alarmManager = (AlarmManager) getActivity().getSystemService(Context.ALARM_SERVICE);\n\n        }\n\n        alarmManager.cancel(pendingIntent);\n        Toast.makeText(getActivity(),&quot;Alarmınız silindi&quot;,Toast.LENGTH_SHORT).show();\n    }\n\n    private void setAlarm() {\n\n        alarmManager = (AlarmManager) getActivity().getSystemService(Context.ALARM_SERVICE);\n        Intent intent = new Intent(FragmetAlarm.this.getActivity(), AlarmReceiver.class);\n\n        pendingIntent = PendingIntent.getBroadcast(this.getActivity(),0,intent,0);\n\n        alarmManager.setInexactRepeating(AlarmManager.RTC_WAKEUP,calendar.getTimeInMillis(),\n                AlarmManager.INTERVAL_DAY,pendingIntent);\n\n        Toast.makeText(getActivity(),&quot;Alarmınız Kuruldu :)&quot;,Toast.LENGTH_SHORT).show();\n\n    }\n\n    private void showTimePicker() {\n        picker = new MaterialTimePicker.Builder()\n                .setTimeFormat(TimeFormat.CLOCK_24H)\n                .setHour(12)\n                .setMinute(0)\n                .setTitleText(&quot;Alarm için saat seçiniz&quot;)\n                .build();\n\n        picker.show(getParentFragmentManager(),&quot;nisa&quot;);\n        picker.addOnPositiveButtonClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                if(picker.getHour() &gt; 24){\n\n                    binding.selectedTime.setText(\n                            String.format(&quot;%02d&quot;, (picker.getHour()-24))+&quot; : &quot;+String.format(&quot;%02d&quot;, picker.getMinute())\n                    );\n\n                }else{\n\n                    binding.selectedTime.setText(picker.getHour()+&quot; : &quot;+ picker.getMinute());\n\n                }\n\n                calendar = Calendar.getInstance();\n                calendar.set(Calendar.HOUR_OF_DAY,picker.getHour());\n                calendar.set(Calendar.MINUTE,picker.getMinute());\n                calendar.set(Calendar.SECOND,0);\n                calendar.set(Calendar.MILLISECOND,0);\n\n            }\n        });\n    }\n\n    private void createNotificationChannel() {\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\n            CharSequence name = &quot;nisanurReminderChannel&quot;;\n            String description = &quot;Channel for Alarm manager&quot;;\n            int importance = NotificationManager.IMPORTANCE_HIGH;\n            NotificationChannel channel = new NotificationChannel(&quot;nisa&quot;, name, importance);\n            channel.setDescription(description);\n\n            NotificationManager notificationManager = getActivity().getSystemService(NotificationManager.class);\n            notificationManager.createNotificationChannel(channel);\n        }\n    }\n}\n</code></pre>\n<p>How can I fix this? I tried opening <code>onCreateView</code> and typing below it but that didn't work.</p>\n"},{"tags":["java","angular","spring-boot","httpclient","angular7"],"comments":[{"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1555761290,"post_id":55773221,"comment_id":98219071,"body_markdown":"show your Get method in the spring boot controller","body":"show your Get method in the spring boot controller"},{"owner":{"account_id":9556644,"reputation":273,"user_id":7098898,"display_name":"Apophis"},"score":0,"creation_date":1555761580,"post_id":55773221,"comment_id":98219136,"body_markdown":"Thanks for quick reply. I edited my question with my spring boot controller","body":"Thanks for quick reply. I edited my question with my spring boot controller"},{"owner":{"account_id":10416537,"reputation":931,"user_id":7680446,"display_name":"Kyler Love"},"score":0,"creation_date":1555761696,"post_id":55773221,"comment_id":98219162,"body_markdown":"Have you tried to set it up without a space in the uri? Change `muster shop` to `musterShop` and see if you are still getting the null","body":"Have you tried to set it up without a space in the uri? Change <code>muster shop</code> to <code>musterShop</code> and see if you are still getting the null"},{"owner":{"account_id":9556644,"reputation":273,"user_id":7098898,"display_name":"Apophis"},"score":0,"creation_date":1555761906,"post_id":55773221,"comment_id":98219216,"body_markdown":"I got 404 like expected from backend.                                                         \nRequest URL: http://pc01:8081/shopsystem/shops/MusterShop\nRequest Method: GET\nStatus Code: 404","body":"I got 404 like expected from backend.                                                          Request URL: <a href=\"http://pc01:8081/shopsystem/shops/MusterShop\" rel=\"nofollow noreferrer\">pc01:8081/shopsystem/shops/MusterShop</a> Request Method: GET Status Code: 404"},{"owner":{"account_id":10416537,"reputation":931,"user_id":7680446,"display_name":"Kyler Love"},"score":0,"creation_date":1555762422,"post_id":55773221,"comment_id":98219372,"body_markdown":"Cause your auto wired service is looking for `muster shop` when you check if its present which it&#39;s not cause you changed it in angular.  So either change it there or do what Maciej&#39;s answer says. both would work.  Either way, the `%20` space encoding is what the issue is","body":"Cause your auto wired service is looking for <code>muster shop</code> when you check if its present which it&#39;s not cause you changed it in angular.  So either change it there or do what Maciej&#39;s answer says. both would work.  Either way, the <code>%20</code> space encoding is what the issue is"},{"owner":{"account_id":9556644,"reputation":273,"user_id":7098898,"display_name":"Apophis"},"score":0,"creation_date":1555762931,"post_id":55773221,"comment_id":98219476,"body_markdown":"But If I call it from postman or on browser I go my response. Ok now I changed it on my db name to &#39;mustershop&#39; and I got no response data like before on httpclient but on postman I got the reponse.","body":"But If I call it from postman or on browser I go my response. Ok now I changed it on my db name to &#39;mustershop&#39; and I got no response data like before on httpclient but on postman I got the reponse."},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1555768580,"post_id":55773221,"comment_id":98220832,"body_markdown":"Does the request reach your controller in both cases? Do you have any errors in the Chrome console? I suspect it is a CORS issue as your server is running on a different machine.","body":"Does the request reach your controller in both cases? Do you have any errors in the Chrome console? I suspect it is a CORS issue as your server is running on a different machine."},{"owner":{"account_id":9556644,"reputation":273,"user_id":7098898,"display_name":"Apophis"},"score":0,"creation_date":1555772258,"post_id":55773221,"comment_id":98221861,"body_markdown":"No error in the chrome console cause I use cors add-on to enable cors. As I said if my spring boot controller returns List&lt;Shop&gt; I got the response with contents.","body":"No error in the chrome console cause I use cors add-on to enable cors. As I said if my spring boot controller returns List&lt;Shop&gt; I got the response with contents."},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":1,"creation_date":1555773852,"post_id":55773221,"comment_id":98222282,"body_markdown":"I recon it’s your addon stuffing things up. Turn it off and see what happens. Run the apps on same machine and see what happens. Enable Cors properly in spring boot and see what happens. Looks like you have some debugging to do.","body":"I recon it’s your addon stuffing things up. Turn it off and see what happens. Run the apps on same machine and see what happens. Enable Cors properly in spring boot and see what happens. Looks like you have some debugging to do."},{"owner":{"account_id":9556644,"reputation":273,"user_id":7098898,"display_name":"Apophis"},"score":0,"creation_date":1555775756,"post_id":55773221,"comment_id":98222749,"body_markdown":"Thank you very much :-)  yes I have to enable cors on spring boot controller","body":"Thank you very much :-)  yes I have to enable cors on spring boot controller"}],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1555761758,"creation_date":1555761758,"answer_id":55773327,"question_id":55773221,"body_markdown":"Your Angular HttpClient encodes the space in the path variable so it comes to the RestController as **Muster%20Shop**.\r\n\r\nThen you try to find a record with that exact name which does not exist.\r\n\r\nYou have to decode the `@PathVariable` before you send it to your query as **Muster Shop**. ","title":"Why Angular HttpClient response is null?","body":"<p>Your Angular HttpClient encodes the space in the path variable so it comes to the RestController as <strong>Muster%20Shop</strong>.</p>\n\n<p>Then you try to find a record with that exact name which does not exist.</p>\n\n<p>You have to decode the <code>@PathVariable</code> before you send it to your query as <strong>Muster Shop</strong>. </p>\n"},{"tags":[],"owner":{"account_id":15332775,"reputation":105,"user_id":11062034,"display_name":"Dmytro Yamborko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569495276,"creation_date":1569427645,"answer_id":58102524,"question_id":55773221,"body_markdown":"add annotation @CrossOrigin to your Controller class\r\n\r\n```@Slf4j\r\n@CrossOrigin\r\n@RestController\r\n@RequiredArgsConstructor\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class UserController {\r\n\r\n\tprivate final FileStorageService fileStorageService;\r\n\tprivate final GameService service;\r\n\r\n\r\n\t@GetMapping(&quot;{id}&quot;)\r\n\tpublic GameDTO getUserbyID(@PathVariable Long id) {\r\n\t\tlog.info(&quot;get {} at {}&quot;, service.getUserbyID(id), Calendar.getInstance().getTime());\r\n\t\treturn service.getUserbyID(id);\r\n\t}\r\n","title":"Why Angular HttpClient response is null?","body":"<p>add annotation @CrossOrigin to your Controller class</p>\n\n<pre><code>@CrossOrigin\n@RestController\n@RequiredArgsConstructor\n@RequestMapping(\"/api/v1\")\npublic class UserController {\n\n    private final FileStorageService fileStorageService;\n    private final GameService service;\n\n\n    @GetMapping(\"{id}\")\n    public GameDTO getUserbyID(@PathVariable Long id) {\n        log.info(\"get {} at {}\", service.getUserbyID(id), Calendar.getInstance().getTime());\n        return service.getUserbyID(id);\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10867665,"reputation":59,"user_id":7990529,"display_name":"JCC_PP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688510602,"creation_date":1688510602,"answer_id":76616175,"question_id":55773221,"body_markdown":"It might be resolved but i&#39;ve been dealing with somenthing similar i think and when it comes to observables in HttpClient you need to add a property in the options param of the http request method. i. e.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a5VNy.png\r\n\r\nIt&#39;s somenthing that never happened before to me, but since im not the one who made the API cant be sure if there&#39;s somenthing in backend that may be related to this issue.","title":"Why Angular HttpClient response is null?","body":"<p>It might be resolved but i've been dealing with somenthing similar i think and when it comes to observables in HttpClient you need to add a property in the options param of the http request method. i. e.</p>\n<p><a href=\"https://i.stack.imgur.com/a5VNy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a5VNy.png\" alt=\"enter image description here\" /></a></p>\n<p>It's somenthing that never happened before to me, but since im not the one who made the API cant be sure if there's somenthing in backend that may be related to this issue.</p>\n"}],"owner":{"account_id":9556644,"reputation":273,"user_id":7098898,"display_name":"Apophis"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1530,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1688510602,"creation_date":1555760881,"question_id":55773221,"body_markdown":"**My Environments:**\r\n\r\n - Shop RestController : Spring Boot\r\n  - on localhost laptopn ubuntu 18:04\r\n - ShopService: Angular HttpClient\r\n  - on localhost desktop pc windows 10\r\n\r\n**Problem:**\r\n\r\nMy get request via HttpClient got the response null.\r\nBut if I use postman or on browser, I got my expected response body.\r\n\r\n*Angular Code:*\r\n\r\n    const BASE_URL = &#39;http://pc01:8081/shopsystem/shops&#39;;\r\n    const  SHOP_NAME = &#39;Muster Shop&#39;;\r\n    \r\n    @Injectable({\r\n      providedIn: &#39;root&#39;\r\n    })\r\n    export class ShopService {\r\n    \r\n      shop$: Shop;\r\n      address$: Address;\r\n      owner$: Owner;\r\n    \r\n      //header = new HttpHeaders({ &#39;Content-Type&#39;: &#39;application/json&#39; });\r\n    \r\n      constructor(private http: HttpClient) { }\r\n    \r\n      public getShop(): Observable&lt;Shop&gt;{\r\n        return this.http.get&lt;Shop&gt;(BASE_URL + &#39;/&#39; + SHOP_NAME);\r\n      }\r\n\r\n*Response-Header:*\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n*Response:*\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n*Request on postman:*\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n*Spring Boot controller:*\r\n\r\n[![enter image description here][4]][4]\r\n\r\nI have already tried with Observable with any and HttpHeaders with application/json\r\nbut same response. \r\n\r\nAnother thing: If my Spring Boot controller returns a List then I got the response body with contents.\r\n\r\n**Question:**\r\n\r\nWhy I got a null or empty body in my HttpClient request?\r\n\r\nHow can I solve this?\r\n\r\nThank you\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3gwO8.png\r\n  [2]: https://i.stack.imgur.com/TaWem.png\r\n  [3]: https://i.stack.imgur.com/POT75.png\r\n  [4]: https://i.stack.imgur.com/vVMKR.png","title":"Why Angular HttpClient response is null?","body":"<p><strong>My Environments:</strong></p>\n\n<ul>\n<li>Shop RestController : Spring Boot\n\n<ul>\n<li>on localhost laptopn ubuntu 18:04</li>\n</ul></li>\n<li>ShopService: Angular HttpClient\n\n<ul>\n<li>on localhost desktop pc windows 10</li>\n</ul></li>\n</ul>\n\n<p><strong>Problem:</strong></p>\n\n<p>My get request via HttpClient got the response null.\nBut if I use postman or on browser, I got my expected response body.</p>\n\n<p><em>Angular Code:</em></p>\n\n<pre><code>const BASE_URL = 'http://pc01:8081/shopsystem/shops';\nconst  SHOP_NAME = 'Muster Shop';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShopService {\n\n  shop$: Shop;\n  address$: Address;\n  owner$: Owner;\n\n  //header = new HttpHeaders({ 'Content-Type': 'application/json' });\n\n  constructor(private http: HttpClient) { }\n\n  public getShop(): Observable&lt;Shop&gt;{\n    return this.http.get&lt;Shop&gt;(BASE_URL + '/' + SHOP_NAME);\n  }\n</code></pre>\n\n<p><em>Response-Header:</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/3gwO8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3gwO8.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>Response:</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/TaWem.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TaWem.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>Request on postman:</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/POT75.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/POT75.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>Spring Boot controller:</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/vVMKR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vVMKR.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have already tried with Observable with any and HttpHeaders with application/json\nbut same response. </p>\n\n<p>Another thing: If my Spring Boot controller returns a List then I got the response body with contents.</p>\n\n<p><strong>Question:</strong></p>\n\n<p>Why I got a null or empty body in my HttpClient request?</p>\n\n<p>How can I solve this?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","java-threads"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1688502385,"post_id":76615639,"comment_id":135081605,"body_markdown":"Your code was at the `println(&quot;Executing...&quot;)` part when it got interrupted, so that code still ran, then the `while` loop checked the status of the interrupt flag, then &quot;stopped&quot; got printed.","body":"Your code was at the <code>println(&quot;Executing...&quot;)</code> part when it got interrupted, so that code still ran, then the <code>while</code> loop checked the status of the interrupt flag, then &quot;stopped&quot; got printed."},{"owner":{"account_id":28946641,"reputation":1,"user_id":22172099,"display_name":"Christian"},"score":0,"creation_date":1688504372,"post_id":76615639,"comment_id":135081870,"body_markdown":"Why do you think that output is not generated by that code?","body":"Why do you think that output is not generated by that code?"},{"owner":{"account_id":28946641,"reputation":1,"user_id":22172099,"display_name":"Christian"},"score":0,"creation_date":1688504742,"post_id":76615639,"comment_id":135081921,"body_markdown":"@markspace I don&#39;t understand how it is possible though, since t7.isInterrupted at finish: false was given in output before &quot;t7 executing&quot; and then &quot;t7 stopped&quot;...","body":"@markspace I don&#39;t understand how it is possible though, since t7.isInterrupted at finish: false was given in output before &quot;t7 executing&quot; and then &quot;t7 stopped&quot;..."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1688505851,"post_id":76615639,"comment_id":135082072,"body_markdown":"An interrupt is a flag, it can be set and will be true but the code hasn&#39;t actually tested it yet in the `while` loop.","body":"An interrupt is a flag, it can be set and will be true but the code hasn&#39;t actually tested it yet in the <code>while</code> loop."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1688506729,"post_id":76615639,"comment_id":135082193,"body_markdown":"Why I think that output is not generated by that code? Exactly because of the *errors* you edited: see [here](https://i.stack.imgur.com/VPKY8.png)  &#128544;","body":"Why I think that output is not generated by that code? Exactly because of the <i>errors</i> you edited: see <a href=\"https://i.stack.imgur.com/VPKY8.png\" rel=\"nofollow noreferrer\">here</a>  😠"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1688515361,"post_id":76615639,"comment_id":135082910,"body_markdown":"NB `Thread.interrupted()` clears the interrupted status of the thread.","body":"NB <code>Thread.interrupted()</code> clears the interrupted status of the thread."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688510329,"creation_date":1688510329,"answer_id":76616164,"question_id":76615639,"body_markdown":"Threading can produce confusing results sometimes, as the concept of threading itself is almost counter-intuitive to the concept of &quot;programming&quot;.\r\n\r\nFirstly, here is the output I got from executing the code.\r\n\r\n```none\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nt7 executing...\r\nt7 stopped!\r\nt7.isInterrupted: true\r\nt7.isInterrupted at finish: false\r\n```\r\n\r\nYou can break down the execution of your statements in a procedural fashion.\r\n\r\nYou first assign a new object to _t7_, and then flag for its execution with the _start_ method.\r\n\r\n```java\r\nThread t7 = new Thread(() -&gt; {\r\n    while (!Thread.interrupted()) {\r\n        System.out.println(&quot;t7 executing...&quot;);\r\n    }\r\n    System.out.println(&quot;t7 stopped!&quot;);\r\n}\r\n);\r\nt7.start();\r\n```\r\n\r\nThen, a _for-loop_ will iterate _10_ times, printing out some text to the _standard-out_.\r\n\r\n```java\r\nfor (int i = 0; i&lt;10; i++){\r\n    System.out.println(&quot;Waiting for t7 to be interrupted...&quot;);\r\n}\r\n```\r\n\r\nGenerally, you should expect to see different outputs within the _standard-out_ here, since there are multiple threads appending data, and the _println_ method sets a _lock_ on _System#out_ when it prints the data.\r\n\r\nHere is the source code for _println_.  \r\n_[GitHub &amp;ndash; jdk/src/java.base/share/classes/java/io/PrintStream.java](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L1166)_.\r\n\r\nContinuing further, the _lock_ on _System#out_ will have been released, so the _t7_ thread will print out _&quot;t7 executing...&quot;_.\r\n\r\n```java\r\nwhile (!Thread.interrupted()) {\r\n    System.out.println(&quot;t7 executing...&quot;);\r\n}\r\n```\r\n\r\nYour next statement is an _interrupt_ call, to _t7_.  \r\nAgain, generally you will see mixed results here, in terms of which statement of either thread will be executed first.\r\n\r\nFor example, you may see it print _&quot;t7 executing...&quot;_, additionally.\r\n\r\n```java\r\nt7.interrupt();\r\n```\r\n\r\nAnd, this is followed by two _println_ calls.\r\n\r\n```java\r\nSystem.out.println(&quot;t7.isInterrupted: &quot; + t7.isInterrupted());\r\nSystem.out.println(&quot;t7.isInterrupted at finish: &quot; + t7.isInterrupted());\r\n```\r\n\r\nYour question is,\r\n\r\n&gt; _&#39;... I don&#39;t understand why there is also that &quot;t7 executing...&quot; there, since from the outputs I would expect only &quot;t7 stopped!&quot;.&#39;_\r\n\r\nYou are implying that the conditional statement for the _t7_ _while-loop_ will not have been met, thus will skip the code block.\r\n\r\nThis will vary from each execution, although in this application, you will most likely receive the same result every time.\r\n\r\nThe reason is because the _for-loop_ on your local thread is providing enough time for the _t7_ code to execute&amp;mdash;they are working concurrently, and not in alternation.\r\n\r\nFor example, if you increase the _priority_ of the _t7_ thread, you will see a different result&amp;mdash;the default is _5_, of _10_.  \r\n\r\n\r\n```java\r\nt7.setPriority(10);\r\nt7.start();\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nt7 executing...\r\nt7 executing...\r\nt7 executing...\r\nt7 executing...\r\nt7 executing...\r\nt7 executing...\r\nt7 executing...\r\nt7 executing...\r\nt7 executing...\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nWaiting for t7 to be interrupted...\r\nt7 executing...\r\nt7 stopped!\r\nt7.isInterrupted: true\r\nt7.isInterrupted at finish: false\r\n```\r\n\r\nHere is the _Java_ tutorial on threading, which will provide some insight to your specific question.  \r\n_[Lesson: Concurrency (The Java&amp;trade; Tutorials &amp;gt; Essential Java Classes)](https://docs.oracle.com/javase/tutorial/essential/concurrency/index.html)_.","title":"Strange Threads execution Java","body":"<p>Threading can produce confusing results sometimes, as the concept of threading itself is almost counter-intuitive to the concept of &quot;programming&quot;.</p>\n<p>Firstly, here is the output I got from executing the code.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Waiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nt7 executing...\nt7 stopped!\nt7.isInterrupted: true\nt7.isInterrupted at finish: false\n</code></pre>\n<p>You can break down the execution of your statements in a procedural fashion.</p>\n<p>You first assign a new object to <em>t7</em>, and then flag for its execution with the <em>start</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Thread t7 = new Thread(() -&gt; {\n    while (!Thread.interrupted()) {\n        System.out.println(&quot;t7 executing...&quot;);\n    }\n    System.out.println(&quot;t7 stopped!&quot;);\n}\n);\nt7.start();\n</code></pre>\n<p>Then, a <em>for-loop</em> will iterate <em>10</em> times, printing out some text to the <em>standard-out</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i&lt;10; i++){\n    System.out.println(&quot;Waiting for t7 to be interrupted...&quot;);\n}\n</code></pre>\n<p>Generally, you should expect to see different outputs within the <em>standard-out</em> here, since there are multiple threads appending data, and the <em>println</em> method sets a <em>lock</em> on <em>System#out</em> when it prints the data.</p>\n<p>Here is the source code for <em>println</em>.<br />\n<em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/io/PrintStream.java#L1166\" rel=\"nofollow noreferrer\">GitHub – jdk/src/java.base/share/classes/java/io/PrintStream.java</a></em>.</p>\n<p>Continuing further, the <em>lock</em> on <em>System#out</em> will have been released, so the <em>t7</em> thread will print out <em>&quot;t7 executing...&quot;</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (!Thread.interrupted()) {\n    System.out.println(&quot;t7 executing...&quot;);\n}\n</code></pre>\n<p>Your next statement is an <em>interrupt</em> call, to <em>t7</em>.<br />\nAgain, generally you will see mixed results here, in terms of which statement of either thread will be executed first.</p>\n<p>For example, you may see it print <em>&quot;t7 executing...&quot;</em>, additionally.</p>\n<pre class=\"lang-java prettyprint-override\"><code>t7.interrupt();\n</code></pre>\n<p>And, this is followed by two <em>println</em> calls.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;t7.isInterrupted: &quot; + t7.isInterrupted());\nSystem.out.println(&quot;t7.isInterrupted at finish: &quot; + t7.isInterrupted());\n</code></pre>\n<p>Your question is,</p>\n<blockquote>\n<p><em>'... I don't understand why there is also that &quot;t7 executing...&quot; there, since from the outputs I would expect only &quot;t7 stopped!&quot;.'</em></p>\n</blockquote>\n<p>You are implying that the conditional statement for the <em>t7</em> <em>while-loop</em> will not have been met, thus will skip the code block.</p>\n<p>This will vary from each execution, although in this application, you will most likely receive the same result every time.</p>\n<p>The reason is because the <em>for-loop</em> on your local thread is providing enough time for the <em>t7</em> code to execute—they are working concurrently, and not in alternation.</p>\n<p>For example, if you increase the <em>priority</em> of the <em>t7</em> thread, you will see a different result—the default is <em>5</em>, of <em>10</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>t7.setPriority(10);\nt7.start();\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>Waiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nt7 executing...\nt7 executing...\nt7 executing...\nt7 executing...\nt7 executing...\nt7 executing...\nt7 executing...\nt7 executing...\nt7 executing...\nWaiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nWaiting for t7 to be interrupted...\nt7 executing...\nt7 stopped!\nt7.isInterrupted: true\nt7.isInterrupted at finish: false\n</code></pre>\n<p>Here is the <em>Java</em> tutorial on threading, which will provide some insight to your specific question.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/index.html\" rel=\"nofollow noreferrer\">Lesson: Concurrency (The Java™ Tutorials &gt; Essential Java Classes)</a></em>.</p>\n"}],"owner":{"account_id":28946641,"reputation":1,"user_id":22172099,"display_name":"Christian"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1688510329,"creation_date":1688501491,"question_id":76615639,"body_markdown":"I have encountered a strange execution while testing my knowledge about threads haha.\r\n\r\nI have the following class:\r\n\r\n```\r\npublic class ThreadTest {\r\n\r\n    public static void main (String[] args){\r\n        Thread t7 = new Thread(() -&gt; {\r\n            while (!Thread.interrupted()) {\r\n                System.out.println(&quot;t7 executing...&quot;);\r\n            }\r\n            System.out.println(&quot;t7 stopped!&quot;);\r\n            }\r\n        );\r\n        t7.start();\r\n        for (int i = 0; i&lt;10; i++){\r\n            System.out.println(&quot;Waiting for t7 to be interrupted...&quot;);\r\n        }\r\n        t7.interrupt();\r\n        System.out.println(&quot;t7.isInterrupted: &quot; + t7.isInterrupted());\r\n        System.out.println(&quot;t7.isInterrupted at finish: &quot; + t7.isInterrupted());\r\n}\r\n```\r\n\r\nOne the outputs from the execution of the main method was the following:\r\n\r\n```\r\nWaiting for t7 to be interrupted...\r\n.\r\n.\r\n.\r\nWaiting for t7 to be interrupted...\r\nt7.isInterrupted: true\r\nt7.isInterrupted at finish: false\r\nt7 executing...\r\nt7 stopped!\r\n```\r\n\r\nI don&#39;t understand why there is also that &quot;t7 executing...&quot; there, since from the outputs I would expect only &quot;t7 stopped!&quot;.","title":"Strange Threads execution Java","body":"<p>I have encountered a strange execution while testing my knowledge about threads haha.</p>\n<p>I have the following class:</p>\n<pre><code>public class ThreadTest {\n\n    public static void main (String[] args){\n        Thread t7 = new Thread(() -&gt; {\n            while (!Thread.interrupted()) {\n                System.out.println(&quot;t7 executing...&quot;);\n            }\n            System.out.println(&quot;t7 stopped!&quot;);\n            }\n        );\n        t7.start();\n        for (int i = 0; i&lt;10; i++){\n            System.out.println(&quot;Waiting for t7 to be interrupted...&quot;);\n        }\n        t7.interrupt();\n        System.out.println(&quot;t7.isInterrupted: &quot; + t7.isInterrupted());\n        System.out.println(&quot;t7.isInterrupted at finish: &quot; + t7.isInterrupted());\n}\n</code></pre>\n<p>One the outputs from the execution of the main method was the following:</p>\n<pre><code>Waiting for t7 to be interrupted...\n.\n.\n.\nWaiting for t7 to be interrupted...\nt7.isInterrupted: true\nt7.isInterrupted at finish: false\nt7 executing...\nt7 stopped!\n</code></pre>\n<p>I don't understand why there is also that &quot;t7 executing...&quot; there, since from the outputs I would expect only &quot;t7 stopped!&quot;.</p>\n"},{"tags":["java","exception","processbuilder"],"answers":[{"tags":[],"owner":{"account_id":7648218,"reputation":401,"user_id":5798041,"accept_rate":29,"display_name":"Shreyansh Patni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485324354,"creation_date":1485323659,"answer_id":41844379,"question_id":41843999,"body_markdown":"Done it for printing in console....\r\n\r\nI used the ProcessBuilder inheritIO method which sets the source and destination for sub process standard I/O to be the same as those of the current Java process.\r\n\r\nHence the modified code...\r\n\r\n    try {\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, CommonConstants.jarFileLocation,\r\n                    fileEntry.getAbsolutePath(), CommonConstants.commonFileLocation).redirectError(Redirect.INHERIT);       \r\n            Process p = pb.start();         \r\n        } \r\n    catch (Exception e) {           \r\n            e.printStackTrace();    \r\n        }\r\n\r\n\r\nHowever, need it to be caught by the catch block.\r\nNeed Help!","title":"Processbuilder in Java is not throwing up the sub process exception","body":"<p>Done it for printing in console....</p>\n\n<p>I used the ProcessBuilder inheritIO method which sets the source and destination for sub process standard I/O to be the same as those of the current Java process.</p>\n\n<p>Hence the modified code...</p>\n\n<pre><code>try {\nProcessBuilder pb = new ProcessBuilder(\"java\", \"-jar\", CommonConstants.jarFileLocation,\n                fileEntry.getAbsolutePath(), CommonConstants.commonFileLocation).redirectError(Redirect.INHERIT);       \n        Process p = pb.start();         \n    } \ncatch (Exception e) {           \n        e.printStackTrace();    \n    }\n</code></pre>\n\n<p>However, need it to be caught by the catch block.\nNeed Help!</p>\n"},{"tags":[],"owner":{"account_id":2079111,"reputation":175,"user_id":1959809,"display_name":"thatbrainiac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688509361,"creation_date":1688509060,"answer_id":76616105,"question_id":41843999,"body_markdown":"It is not caught in the `catch` block because the sub-process will not throw any exceptions other than `IOException` when you start it and `InterruptedException` when you wait for its completion. You would have to parse whatever you get from the `stderr` stream and throw appropriate exceptions yourself.\r\nThis means you have to know exactly what your errors look like and act accordingly.\r\nBelow is an example in Java 8 with `CompletableFuture`. You can also use `Thread`s to read from the input stream and parse your error messages accordingly.\r\n\r\n    try {\r\n        ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, \r\n                                    CommonConstants.jarFileLocation,\r\n                                    fileEntry.getAbsolutePath(), \r\n                                    CommonConstants.commonFileLocation);\r\n\r\n        Process p = pb.start();\r\n        InputStream errorStream = process.getErrorStream();\r\n        \r\n        CompletableFuture&lt;List&lt;String&gt;&gt; errorMessages = CompletableFuture.supplyAsync(() -&gt; {\r\n            try (BufferedReader br = new BufferedReader(new InputStreamReader(errorStream))) {\r\n                return br\r\n                        .lines()\r\n                        .collect(Collectors.toList());\r\n            } catch (IOException e) {\r\n                return new ArrayList&lt;&gt;();\r\n            }\r\n        });\r\n\r\n       int exitCode = process.waitFor();\r\n       \r\n       for (String errorMessage: errorMessages.get()) {\r\n            if (errorMessage.contains(&quot;reason X&quot;)) {\r\n                 throw new ReasonXException(); // assuming we defined this custom exception somewhere\r\n            }\r\n            if (errorMessage.contains(&quot;reason Y&quot;)) {\r\n                 throw new ReasonYException(); // assuming we defined this custom exception somewhere\r\n            }\r\n            throw new Exception(errorMessage);\r\n       }\r\n\r\n       if (exitCode != 0) {\r\n           throw new Exception(&quot;Program exited with a non-zero status code&quot;);\r\n       }\r\n    }\r\n    catch (Exception e) {           \r\n        e.printStackTrace();   // catching generic Exception here for brevity, you should catch more specific exceptions in your own code.\r\n    }\r\n\r\nNote that this is not a universal solution and might have to be altered to match your use case. This example works only if there is a single error message per line. So if that&#39;s not the case for you, then you&#39;d have to adapt the error message handling logic accordingly, probably having a more complex mechanism of mapping them to the &quot;final&quot; list of error messages.\r\n\r\nAlso, if you want to use this approach, do NOT call `inheritIO()` on the `Process` as `getErrorStream()` will then return an empty stream and you wouldn&#39;t be able to fetch any error messages.","title":"Processbuilder in Java is not throwing up the sub process exception","body":"<p>It is not caught in the <code>catch</code> block because the sub-process will not throw any exceptions other than <code>IOException</code> when you start it and <code>InterruptedException</code> when you wait for its completion. You would have to parse whatever you get from the <code>stderr</code> stream and throw appropriate exceptions yourself.\nThis means you have to know exactly what your errors look like and act accordingly.\nBelow is an example in Java 8 with <code>CompletableFuture</code>. You can also use <code>Thread</code>s to read from the input stream and parse your error messages accordingly.</p>\n<pre><code>try {\n    ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, \n                                CommonConstants.jarFileLocation,\n                                fileEntry.getAbsolutePath(), \n                                CommonConstants.commonFileLocation);\n\n    Process p = pb.start();\n    InputStream errorStream = process.getErrorStream();\n    \n    CompletableFuture&lt;List&lt;String&gt;&gt; errorMessages = CompletableFuture.supplyAsync(() -&gt; {\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(errorStream))) {\n            return br\n                    .lines()\n                    .collect(Collectors.toList());\n        } catch (IOException e) {\n            return new ArrayList&lt;&gt;();\n        }\n    });\n\n   int exitCode = process.waitFor();\n   \n   for (String errorMessage: errorMessages.get()) {\n        if (errorMessage.contains(&quot;reason X&quot;)) {\n             throw new ReasonXException(); // assuming we defined this custom exception somewhere\n        }\n        if (errorMessage.contains(&quot;reason Y&quot;)) {\n             throw new ReasonYException(); // assuming we defined this custom exception somewhere\n        }\n        throw new Exception(errorMessage);\n   }\n\n   if (exitCode != 0) {\n       throw new Exception(&quot;Program exited with a non-zero status code&quot;);\n   }\n}\ncatch (Exception e) {           \n    e.printStackTrace();   // catching generic Exception here for brevity, you should catch more specific exceptions in your own code.\n}\n</code></pre>\n<p>Note that this is not a universal solution and might have to be altered to match your use case. This example works only if there is a single error message per line. So if that's not the case for you, then you'd have to adapt the error message handling logic accordingly, probably having a more complex mechanism of mapping them to the &quot;final&quot; list of error messages.</p>\n<p>Also, if you want to use this approach, do NOT call <code>inheritIO()</code> on the <code>Process</code> as <code>getErrorStream()</code> will then return an empty stream and you wouldn't be able to fetch any error messages.</p>\n"}],"owner":{"account_id":7648218,"reputation":401,"user_id":5798041,"accept_rate":29,"display_name":"Shreyansh Patni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2090,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1688509361,"creation_date":1485321788,"question_id":41843999,"body_markdown":"I am trying to execute a jar file in Java using ProcessBuilder. Now, Whenever the sub process called by the ProcessBuilder, throws any exception, the ProcessBuilder don&#39;t catch the exception and execution keeps on proceeding continuously.\r\n\r\nBelow is my code:\r\n\r\n    try {\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;, &quot;-jar&quot;, CommonConstants.jarFileLocation,\r\n    \t\t\t\tfileEntry.getAbsolutePath(), CommonConstants.commonFileLocation);\t\t\r\n    \t\tProcess p = pb.start();\t\t\t\r\n    \t} \r\n    catch (Exception e) {\t\t\t\r\n    \t\te.printStackTrace();    \r\n    \t}\r\n\r\n\r\nThe catch block is suppose to print any exception whenever the sub process throws any. However, it never does.\r\nAm i missing something?","title":"Processbuilder in Java is not throwing up the sub process exception","body":"<p>I am trying to execute a jar file in Java using ProcessBuilder. Now, Whenever the sub process called by the ProcessBuilder, throws any exception, the ProcessBuilder don't catch the exception and execution keeps on proceeding continuously.</p>\n\n<p>Below is my code:</p>\n\n<pre><code>try {\nProcessBuilder pb = new ProcessBuilder(\"java\", \"-jar\", CommonConstants.jarFileLocation,\n                fileEntry.getAbsolutePath(), CommonConstants.commonFileLocation);       \n        Process p = pb.start();         \n    } \ncatch (Exception e) {           \n        e.printStackTrace();    \n    }\n</code></pre>\n\n<p>The catch block is suppose to print any exception whenever the sub process throws any. However, it never does.\nAm i missing something?</p>\n"},{"tags":["java","javafx","parent"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1688483323,"post_id":76611136,"comment_id":135078715,"body_markdown":"The only place you can access the border pane is in the actual controller that was created when you loaded the FXML that specifies that border pane. So you need to call a method (or otherwise arrange for a method to be called) on that specific controller instance.","body":"The only place you can access the border pane is in the actual controller that was created when you loaded the FXML that specifies that border pane. So you need to call a method (or otherwise arrange for a method to be called) on that specific controller instance."}],"owner":{"account_id":28947301,"reputation":1,"user_id":22172636,"display_name":"Franco Rossi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688509207,"creation_date":1688462590,"question_id":76611136,"body_markdown":"When I try modifying a parent (borderpane) from a child (button), I get a nullpointerexception on the borderpane. On the other hand, if the button is outside the borderpane, it works.\r\n\r\nEverything that is in the borderpane is loaded from other FXMLs.\r\n\r\nI tried using a single controller or multiple ones but nothing changes.\r\nI tried creating a single Loader function so that is independent:\r\n``` java\r\npublic void loader(String page) throws IOException {\r\n        content.setCenter(null);\r\n        content.setCenter(FXMLLoader.load(Objects.requireNonNull(MainApplication.class.getResource(page))));\r\n    }\r\n```","title":"Modify parent from child in javafx 17.0.2","body":"<p>When I try modifying a parent (borderpane) from a child (button), I get a nullpointerexception on the borderpane. On the other hand, if the button is outside the borderpane, it works.</p>\n<p>Everything that is in the borderpane is loaded from other FXMLs.</p>\n<p>I tried using a single controller or multiple ones but nothing changes.\nI tried creating a single Loader function so that is independent:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void loader(String page) throws IOException {\n        content.setCenter(null);\n        content.setCenter(FXMLLoader.load(Objects.requireNonNull(MainApplication.class.getResource(page))));\n    }\n</code></pre>\n"},{"tags":["java","android","android-sqlite","ftp-client"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1688529343,"post_id":76616085,"comment_id":135083873,"body_markdown":"Do not use OutputStream. Use FileOutputStream.","body":"Do not use OutputStream. Use FileOutputStream."},{"owner":{"account_id":14735037,"reputation":13,"user_id":10641316,"display_name":"PAR"},"score":0,"creation_date":1688552700,"post_id":76616085,"comment_id":135087559,"body_markdown":"Thank you for your help but infortunately problem continues....","body":"Thank you for your help but infortunately problem continues...."}],"owner":{"account_id":14735037,"reputation":13,"user_id":10641316,"display_name":"PAR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688508762,"creation_date":1688508762,"question_id":76616085,"body_markdown":"I have an app where I download a sqlite database from FTP.\r\nThe file works fine, if I upload into the tablet to the data folder works fine, but if I download with FtpClient as soon as I try to manipulate the database, Android creates a sqlite.corrupt.\r\nI decug checking the file once is downloaded and it is already corrupt, but if THE SAME file I upload with Device File Explorer it works perfectly, where is the problem????\r\n\r\nThis is my code:\r\n\r\n``` \r\ntry{\r\n Thread myThread = new Thread(() -&gt; {\r\n                try {\r\n                    FTPClient ftpClient = new FTPClient();\r\n                    ftpClient.connect(Constantes.FtpServer, Constantes.FtpPort);\r\n                    ftpClient.login(Constantes.FtpUser, Constantes.FtpPassword);\r\n                    ftpClient.enterLocalPassiveMode();\r\n                    ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\r\n\r\n\r\n                    try {\r\n                        OutputStream outputStream1 = new BufferedOutputStream(new FileOutputStream(new File(ct.getDatabasePath(&quot;bdGeneral&quot;).getPath())));\r\n                        boolean success = ftpClient.retrieveFile(&quot;BaseDatos/bdGeneral&quot;, outputStream1);\r\n                        outputStream1.close();\r\n                        \r\n\r\n                        //Elimino registros\r\n                        BbddGeneral bdGeneral = new BbddGeneral(ct, &quot;bdGeneral&quot;, null, 1);\r\n                        SQLiteDatabase d = bdGeneral.getWritableDatabase();\r\n``` \r\n\r\nMy database is named bdGeneral, once I create the SqliteDatabase Android creates bdGeneral.corrupt\r\n\r\nHere you have what I get in console:\r\n\r\n```E/SQLiteLog: (11) database corruption at line 70974 of [bcd014c473]\r\n    (11) Invalid page count: nPage: 13477, nPageFile: 13375\r\n    (11) Corrupt in lockBtree: rc 11, nPageHeader 13477, nPageFile 13375\r\n    (11) printing out first page (size: 4096) of  DB /data/user/0/par.fg.fg2022/databases/bdGeneral\r\n    (11) Page (1) content:\r\n    (11)   1 - 53 51 4C 69 74 65 20 66 6F 72 6D 61 74 20 33 00 10 00 01 01 00 40 20 20 00 03 E1 FA 00 00 34 A5\r\n    (11)   2 - 00 00 2B 1E 00 00 0F ED 00 00 00 0C 00 00 00 04 00 00 00 00 00 00 00 00 00 00 00 01 00 00 00 00\r\n    (11)   3 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 03 E1 FA\r\nE/SQLiteLog: (11)   4 - 00 2E 30 3A 00 00 00 0A 01 9B 00 0F 72 0E 67 D3 0C 6B 0A 76 09 8F 08 3B 05 0E 03 E4 01 9B 00 00\r\n    (11)   5 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\r\n    (11)   6 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\r\n    (11)   7 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\r\n    (11)   8 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\r\n    (11)   9 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\r\n    (11)  10 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\r\n    (11)  11 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\r\n    (11)  12 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\r\n    (11)  13 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 84 46 0B 07 17 1D 1D\r\n    (11)  14 - 01 88 5F 74 61 62 6C 65 43 6C 69 65 6E 74 65 73 43 6C 69 65 6E 74 65 73 05 43 52 45 41 54 45 20\r\n    (11)  15 - 54 41 42 4C 45 20 5B 43 6C 69 65 6E 74 65 73 5D 20 28 0A 5B 69 64 43 6C 69 65 6E 74 65 5D 20 6E\r\n    (11)  16 - 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 6E 6F 6D 62 72 65 5D 20 6E 76 61 72 63 68 61 72 28\r\n    (11)  17 - 32 35 35 29 2C 0A 5B 74 65 6C 65 66 6F 6E 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A\r\n    (11)  18 - 5B 64 69 72 65 63 63 69 6F 6E 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 6F 62 6C\r\n    (11)  19 - 61 63 69 6F 6E 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 72 6F 76 69 6E 63 69 61\r\n    (11)  20 - 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 63 6F 72 72 65 6F 5D 20 6E 76 61 72 63 68\r\n    (11)  21 - 61 72 28 32 35 35 29 2C 0A 5B 63 6F 6D 65 72 63 69 61 6C 5D 20 6E 76 61 72 63 68 61 72 28 32 35\r\n    (11)  22 - 35 29 2C 0A 5B 6E 6F 6D 62 72 65 4D 6F 64 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B\r\n    (11)  23 - 64 69 72 65 63 63 69 6F 6E 4D 6F 64 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 6F\r\n    (11)  24 - 62 6C 61 63 69 6F 6E 4D 6F 64 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 72 6F 76\r\n    (11)  25 - 69 6E 63 69 61 4D 6F 64 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 6E 75 6D 44 69 72\r\n    (11)  26 - 65 63 63 69 6F 6E 65 73 45 6E 76 69 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 65\r\n    (11)  27 - 6E 76 69 6F 31 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 65 6E 76 69 6F 32 5D 20 6E\r\n    (11)  28 - 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 65 6E 76 69 6F 33 5D 20 6E 76 61 72 63 68 61 72 28\r\n    (11)  29 - 32 35 35 29 2C 0A 5B 65 6E 76 69 6F 34 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 65\r\n    (11)  30 - 6E 76 69 6F 35 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 65 6E 76 69 6F 36 5D 20 6E\r\n    (11)  31 - 76 61 72 63 68 61 72 28 32 35 35 29 0A 29 82 27 0A 07 17 25 25 02 84 0F 74 61 62 6C 65 41 63 75\r\n    (11)  32 - 6D 75 6C 61 74 69 76 6F 73 41 63 75 6D 75 6C 61 74 69 76 6F 73 1B CA 43 52 45 41 54 45 20 54 41\r\n    (11)  33 - 42 4C 45 20 5B 41 63 75 6D 75 6C 61 74 69 76 6F 73 5D 20 28 0A 5B 69 64 43 6C 69 65 6E 74 65 5D\r\n    (11)  34 - 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 6E 6F 6D 62 72 65 5D 20 6E 76 61 72 63 68 61\r\n    (11)  35 - 72 28 32 35 35 29 2C 0A 5B 70 6F 62 6C 61 63 69 6F 6E 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35\r\n    (11)  36 - 29 2C 0A 5B 70 72 6F 76 69 6E 63 69 61 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 6E\r\n    (11)  37 - 6F 6D 62 72 65 4D 6F 64 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 6F 62 6C 61 63\r\n    (11)  38 - 69 6F 6E 4D 6F 64 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 79 61 41 63 75 6D 75 6C\r\n    (11)  39 - 61 64 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 63 6F 6D 65 72 63 69 61 6C 5D 20\r\n    (11)  40 - 6E 76 61 72 63 68 61 72 28 32 35 35 29 0A 29 86 2A 09 07 17 33 33 02 8B 79 74 61 62 6C 65 52 65\r\n    (11)  41 - 66 65 72 65 6E 63 69 61 73 43 72 75 7A 61 64 61 73 52 65 66 65 72 65 6E 63 69 61 73 43 72 75 7A\r\n    (11)  42 - 61 64 61 73 00 E3 43 52 45 41 54 45 20 54 41 42 4C 45 20 5B 52 65 66 65 72 65 6E 63 69 61 73 43\r\n    (11)  43 - 72 75 7A 61 64 61 73 5D 20 28 0A 5B 42 72 61 6E 64 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29\r\n    (11)  44 - 2C 0A 5B 4D 6F 64 65 6C 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 4C 65 6E\r\n    (11)  45 - 67 74 68 43 6D 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 4C 65 6E 67 74 68\r\n    (11)  46 - 49 6E 63 68 65 73 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 50 69 74 63 68 5D 20 6E\r\n    (11)  47 - 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 47 61 75 67 65 5D 20 6E 76 61 72 63 68 61 72 28 32\r\n    (11)  48 - 35 35 29 2C 0A 5B 44 4C 43 6F 75 6E 74 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 4D\r\n    (11)  49 - 6F 74 6F 72 4D 6F 75 6E 74 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 53 70 72 6F 63\r\n    (11)  50 - 6B 65 74 54 68 65 65 74 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 43 6F 6D 65 6E 74\r\n    (11)  51 - 61 72 69 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 41 6C 74 30 31 5D 20\r\n    (11)  52 - 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 41 6C 74 30 32 5D 20 6E 76 61 72 63 68\r\n    (11)  53 - 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 41 6C 74 30 33 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35\r\n    (11)  54 - 29 2C 0A 5B 42 61 72 41 6C 74 30 34 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61\r\n    (11)  55 - 72 41 6C 74 30 35 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 41 6C 74 30 36\r\n    (11)  56 - 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 41 6C 74 30 37 5D 20 6E 76 61 72\r\n    (11)  57 - 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 41 6C 74 30 38 5D 20 6E 76 61 72 63 68 61 72 28 32\r\n    (11)  58 - 35 35 29 2C 0A 5B 42 61 72 41 6C 74 30 39 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B\r\n    (11)  59 - 42 61 72 41 6C 74 31 30 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 43 68 61 69 6E 41\r\n    (11)  60 - 6C 74 30 31 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 43 68 61 69 6E 41 6C 74 30 32\r\n    (11)  61 - 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 43 68 61 69 6E 41 6C 74 30 33 5D 20 6E 76\r\n    (11)  62 - 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 43 68 61 69 6E 41 6C 74 30 34 5D 20 6E 76 61 72 63 68\r\n    (11)  63 - 61 72 28 32 35 35 29 2C 0A 5B 43 68 61 69 6E 41 6C 74 30 35 5D 20 6E 76 61 72 63 68 61 72 28 32\r\n    (11)  64 - 35 35 29 2C 0A 5B 43 68 61 69 6E 41 6C 74 30 36 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 0A\r\n    (11)  65 - 29 82 51 08 07 17 1F 1F 02 84 6F 74 61 62 6C 65 50 72 6F 64 75 63 74 6F 73 50 72 6F 64 75 63 74\r\n    (11)  66 - 6F 73 00 E2 43 52 45 41 54 45 20 54 41 42 4C 45 20 5B 50 72 6F 64 75 63 74 6F 73 5D 20 28 0A 5B\r\n    (11)  67 - 69 64 50 72 6F 64 75 63 74 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 65 73 63\r\n    (11)  68 - 72 69 70 63 69 6F 6E 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 66 61 6D 69 6C 69 61\r\n    (11)  69 - 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 76 70 5D 20 6E 76 61 72 63 68 61 72 28\r\n    (11)  70 - 32 35 35 29 2C 0A 5B 73 74 6F 63 6B 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 75 6E\r\n    (11)  71 - 69 64 61 64 65 73 43 61 6A 61 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 65 6E 64\r\n    (11)  72 - 69 65 6E 74 65 73 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 65 64 69 64 61 73 5D\r\n    (11)  73 - 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 67 72 75 70 6F 44 74 6F 5D 20 6E 76 61 72 63\r\nE/SQLiteLog: (11)  74 - 68 61 72 28 32 35 35 29 2C 0A 5B 64 65 73 63 72 69 70 63 69 6F 6E 4D 6F 64 5D 20 6E 76 61 72 63\r\n    (11)  75 - 68 61 72 28 32 35 35 29 0A 29 81 64 07 07 17 2F 2F 02 82 75 74 61 62 6C 65 4D 61 74 65 72 69 61\r\n    (11)  76 - 6C 50 65 6E 64 69 65 6E 74 65 4D 61 74 65 72 69 61 6C 50 65 6E 64 69 65 6E 74 65 00 E1 43 52 45\r\n    (11)  77 - 41 54 45 20 54 41 42 4C 45 20 5B 4D 61 74 65 72 69 61 6C 50 65 6E 64 69 65 6E 74 65 5D 20 28 0A\r\n    (11)  78 - 5B 69 64 43 6C 69 65 6E 74 65 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 72 65 66 65\r\n    (11)  79 - 72 65 6E 63 69 61 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 65 73 63 72 69 70 63\r\n    (11)  80 - 69 6F 6E 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 63 61 6E 74 69 64 61 64 5D 20 6E\r\n    (11)  81 - 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 66 65 63 68 61 50 65 64 69 64 6F 5D 20 6E 76 61 72\r\n    (11)  82 - 63 68 61 72 28 32 35 35 29 0A 29 83 72 06 07 17 1D 1D 02 87 35 74 61 62 6C 65 46 61 63 74 75 72\r\n    (11)  83 - 61 73 46 61 63 74 75 72 61 73 00 E0 43 52 45 41 54 45 20 54 41 42 4C 45 20 5B 46 61 63 74 75 72\r\n    (11)  84 - 61 73 5D 20 28 0A 5B 69 64 43 6C 69 65 6E 74 65 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C\r\n    (11)  85 - 0A 5B 72 65 66 65 72 65 6E 63 69 61 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 65\r\n    (11)  86 - 73 63 72 69 70 63 69 6F 6E 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 66 61 6D 69 6C\r\n    (11)  87 - 69 61 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 63 61 6E 74 69 64 61 64 5D 20 6E 76\r\n    (11)  88 - 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 69 6D 70 6F 72 74 65 5D 20 6E 76 61 72 63 68 61 72 28\r\n    (11)  89 - 32 35 35 29 2C 0A 5B 69 6D 70 6F 72 74 65 44 74 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29\r\n    (11)  90 - 2C 0A 5B 64 65 73 63 75 65 6E 74 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 66 65\r\n    (11)  91 - 63 68 61 42 6F 6E 69 74 61 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 66 65 63 68 61\r\n    (11)  92 - 4C 6F 6E 67 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 79 65 61 72 5D 20 6E 76 61 72\r\n    (11)  93 - 63 68 61 72 28 32 35 35 29 2C 0A 5B 6D 65 73 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A\r\n    (11)  94 - 5B 64 69 61 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 63 6F 6D 65 72 63 69 61 6C 5D\r\n    (11)  95 - 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 63 61 6E 74 69 64 61 64 55 6E 69 64 61 64 5D\r\n    (11)  96 - 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 66 65 63 68 61 52 65 67 69 73 74 72 6F 5D 20\r\n    (11)  97 - 6E 76 61 72 63 68 61 72 28 32 35 35 29 0A 29 82 65 05 07 17 2D 2D 02 84 7B 74 61 62 6C 65 44 65\r\n    (11)  98 - 73 63 75 65 6E 74 6F 73 4F 66 65 72 74 61 44 65 73 63 75 65 6E 74 6F 73 4F 66 65 72 74 61 00 DF\r\n    (11)  99 - 43 52 45 41 54 45 20 54 41 42 4C 45 20 5B 44 65 73 63 75 65 6E 74 6F 73 4F 66 65 72 74 61 5D 20\r\n    (11) 100 - 28 0A 5B 69 64 46 61 6D 69 6C 69 61 50 72 6F 64 75 63 74 6F 5D 20 6E 76 61 72 63 68 61 72 28 32\r\n    (11) 101 - 35 35 29 2C 0A 5B 64 74 6F 30 31 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 74 6F\r\n    (11) 102 - 30 32 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 74 6F 30 33 5D 20 6E 76 61 72 63\r\n    (11) 103 - 68 61 72 28 32 35 35 29 2C 0A 5B 64 74 6F 30 34 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C\r\n    (11) 104 - 0A 5B 64 74 6F 30 35 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 74 6F 30 36 5D 20\r\n    (11) 105 - 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 74 6F 30 37 5D 20 6E 76 61 72 63 68 61 72 28\r\n    (11) 106 - 32 35 35 29 2C 0A 5B 64 74 6F 30 38 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 74\r\n    (11) 107 - 6F 30 39 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 74 6F 31 30 5D 20 6E 76 61 72\r\n    (11) 108 - 63 68 61 72 28 32 35 35 29 0A 29 81 11 04 07 17 31 31 02 81 4B 74 61 62 6C 65 44 65 73 63 75 65\r\n    (11) 109 - 6E 74 6F 73 45 73 74 61 6E 64 61 72 44 65 73 63 75 65 6E 74 6F 73 45 73 74 61 6E 64 61 72 00 DE\r\n    (11) 110 - 43 52 45 41 54 45 20 54 41 42 4C 45 20 5B 44 65 73 63 75 65 6E 74 6F 73 45 73 74 61 6E 64 61 72\r\n    (11) 111 - 5D 20 28 0A 5B 69 64 46 61 6D 69 6C 69 61 50 72 6F 64 75 63 74 6F 5D 20 6E 76 61 72 63 68 61 72\r\n    (11) 112 - 28 32 35 35 29 2C 0A 5B 64 74 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 0A 29 82 08 03 07\r\n    (11) 113 - 17 21 21 02 83 59 74 61 62 6C 65 44 65 73 63 75 65 6E 74 6F 73 44 65 73 63 75 65 6E 74 6F 73 00\r\n    (11) 114 - DD 43 52 45 41 54 45 20 54 41 42 4C 45 20 5B 44 65 73 63 75 65 6E 74 6F 73 5D 20 28 0A 5B 69 64\r\n    (11) 115 - 43 6C 69 65 6E 74 65 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 69 64 46 61 6D 69 6C\r\n    (11) 116 - 69 61 50 72 6F 64 75 63 74 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 65 73 63\r\n    (11) 117 - 75 65 6E 74 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 63 61 6E 74 69 64 61 64 5D\r\n    (11) 118 - 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 6E 6F 74 61 73 5D 20 6E 76 61 72 63 68 61 72\r\n    (11) 119 - 28 32 35 35 29 2C 0A 5B 66 65 63 68 61 49 6E 69 63 69 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35\r\n    (11) 120 - 35 29 2C 0A 5B 63 6F 6D 65 72 63 69 61 6C 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 0A 29 81\r\n    (11) 121 - 0B 01 07 17 1D 1D 01 81 69 74 61 62 6C 65 41 6E 75 6E 63 69 6F 73 41 6E 75 6E 63 69 6F 73 02 43\r\n    (11) 122 - 52 45 41 54 45 20 54 41 42 4C 45 20 5B 41 6E 75 6E 63 69 6F 73 5D 20 28 0A 5B 66 65 63 68 61 49\r\n    (11) 123 - 6E 69 63 69 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 66 65 63 68 61 46 69 6E 5D\r\n    (11) 124 - 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 61 6E 75 6E 63 69 6F 5D 20 6E 76 61 72 63 68\r\n    (11) 125 - 61 72 28 32 35 35 29 0A 29 05 00 00 00 02 0F F5 00 00 00 01 47 0F FB 0F F5 0E E5 0E AA 0E 78 0E\r\n    (11) 126 - 3C 0E 0E D4 A7 7A 4D 1D 0C EE 0C BF 0C 8D 0C 60 0C 2B 0B FA 0B C4 0B 96 0B 64 0B 36 0A FB 0A CB\r\n    (11) 127 - 0A 90 0A 5E 0A 22 09 F3 09 C5 09 8B 09 5E 09 31 09 04 08 D4 08 A5 08 76 08 44 08 17 07 E6 07 B0\r\n    (11) 128 - 07 82 07 54 07 22 06 F4 06 B9 06 89 06 4E 06 1C 05 E0 05 B1 05 83 05 49 05 1C 04 EF 04 C2 04 92\r\n    (1) Stat of fd(6) : st_mode(100660) st_uid(10353) st_gid(10353) st_ino(45439) st_size(54780053)\r\nE/SQLiteLog: (1) File name of fd(6) : /data/data/par.fg.fg2022/databases/bdGeneral\r\n    (1) Stat of /data/user/0/par.fg.fg2022/databases/bdGeneral : st_mode (100660) st_uid (10353) st_gid (10353) st_ino(45439) st_size(54780053)\r\n    (11) database disk image is malformed in &quot;PRAGMA journal_mode&quot;\r\nD/SQLiteConnection: Corruption detected - isPrimary: true, address: @e72e58b\r\nE/SQLiteDatabase: Database corruption detected in open()\r\n    android.database.sqlite.SQLiteDatabaseCorruptException: database disk image is malformed (code 11 SQLITE_CORRUPT[11]): , while compiling: PRAGMA journal_mode\r\n        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\r\n        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1521)\r\n        at android.database.sqlite.SQLiteConnection.executeForString(SQLiteConnection.java:1108)\r\n        at android.database.sqlite.SQLiteConnection.setJournalMode(SQLiteConnection.java:655)\r\n        at android.database.sqlite.SQLiteConnection.setJournalFromConfiguration(SQLiteConnection.java:550)\r\n        at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:406)\r\n        at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:226)\r\n        at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:743)\r\n        at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:288)\r\n        at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:255)\r\n        at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:1581)\r\n        at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:1522)\r\n        at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:1163)\r\n        at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:470)\r\n        at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:413)\r\n        at par.fg.fg2022.Activities.Actualizar.lambda$onCreate$3$Actualizar(Actualizar.java:100)\r\n        at par.fg.fg2022.Activities.-$$Lambda$Actualizar$jerTyJVebVH9dcw480hY08ibPgE.run(Unknown Source:2)\r\n        at java.lang.Thread.run(Thread.java:1012)\r\nE/DefaultDatabaseErrorHandler: Corruption reported by sqlite on database: /data/user/0/par.fg.fg2022/databases/bdGeneral\r\nE/SQLiteDatabase: DB wipe detected: package=par.fg.fg2022 reason=corruption file=/data/user/0/par.fg.fg2022/databases/bdGeneral ctime=2023-07-04T21:59:02Z mtime=2023-07-04T21:59:02Z atime=2023-07-04T21:58:52Z checkfile [unable to obtain timestamp]\r\n    java.lang.Throwable: STACKTRACE\r\n        at android.database.sqlite.SQLiteDatabase.wipeDetected(SQLiteDatabase.java:3994)\r\n        at android.database.DefaultDatabaseErrorHandler.onCorruption(DefaultDatabaseErrorHandler.java:68)\r\n        at android.database.sqlite.SQLiteDatabase.onCorruption(SQLiteDatabase.java:3130)\r\n        at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:1526)\r\n        at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:1163)\r\n        at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:470)\r\n        at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:413)\r\n        at par.fg.fg2022.Activities.Actualizar.lambda$onCreate$3$Actualizar(Actualizar.java:100)\r\n        at par.fg.fg2022.Activities.-$$Lambda$Actualizar$jerTyJVebVH9dcw480hY08ibPgE.run(Unknown Source:2)\r\n        at java.lang.Thread.run(Thread.java:1012)\r\n```\r\n\r\nThe weirdest thing is that it was working for years but suddenly I got this problem.  Any idea?","title":"Image malformed downloading from FTP","body":"<p>I have an app where I download a sqlite database from FTP.\nThe file works fine, if I upload into the tablet to the data folder works fine, but if I download with FtpClient as soon as I try to manipulate the database, Android creates a sqlite.corrupt.\nI decug checking the file once is downloaded and it is already corrupt, but if THE SAME file I upload with Device File Explorer it works perfectly, where is the problem????</p>\n<p>This is my code:</p>\n<pre><code>try{\n Thread myThread = new Thread(() -&gt; {\n                try {\n                    FTPClient ftpClient = new FTPClient();\n                    ftpClient.connect(Constantes.FtpServer, Constantes.FtpPort);\n                    ftpClient.login(Constantes.FtpUser, Constantes.FtpPassword);\n                    ftpClient.enterLocalPassiveMode();\n                    ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\n\n\n                    try {\n                        OutputStream outputStream1 = new BufferedOutputStream(new FileOutputStream(new File(ct.getDatabasePath(&quot;bdGeneral&quot;).getPath())));\n                        boolean success = ftpClient.retrieveFile(&quot;BaseDatos/bdGeneral&quot;, outputStream1);\n                        outputStream1.close();\n                        \n\n                        //Elimino registros\n                        BbddGeneral bdGeneral = new BbddGeneral(ct, &quot;bdGeneral&quot;, null, 1);\n                        SQLiteDatabase d = bdGeneral.getWritableDatabase();\n</code></pre>\n<p>My database is named bdGeneral, once I create the SqliteDatabase Android creates bdGeneral.corrupt</p>\n<p>Here you have what I get in console:</p>\n<pre><code>    (11) Invalid page count: nPage: 13477, nPageFile: 13375\n    (11) Corrupt in lockBtree: rc 11, nPageHeader 13477, nPageFile 13375\n    (11) printing out first page (size: 4096) of  DB /data/user/0/par.fg.fg2022/databases/bdGeneral\n    (11) Page (1) content:\n    (11)   1 - 53 51 4C 69 74 65 20 66 6F 72 6D 61 74 20 33 00 10 00 01 01 00 40 20 20 00 03 E1 FA 00 00 34 A5\n    (11)   2 - 00 00 2B 1E 00 00 0F ED 00 00 00 0C 00 00 00 04 00 00 00 00 00 00 00 00 00 00 00 01 00 00 00 00\n    (11)   3 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 03 E1 FA\nE/SQLiteLog: (11)   4 - 00 2E 30 3A 00 00 00 0A 01 9B 00 0F 72 0E 67 D3 0C 6B 0A 76 09 8F 08 3B 05 0E 03 E4 01 9B 00 00\n    (11)   5 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n    (11)   6 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n    (11)   7 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n    (11)   8 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n    (11)   9 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n    (11)  10 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n    (11)  11 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n    (11)  12 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\n    (11)  13 - 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 84 46 0B 07 17 1D 1D\n    (11)  14 - 01 88 5F 74 61 62 6C 65 43 6C 69 65 6E 74 65 73 43 6C 69 65 6E 74 65 73 05 43 52 45 41 54 45 20\n    (11)  15 - 54 41 42 4C 45 20 5B 43 6C 69 65 6E 74 65 73 5D 20 28 0A 5B 69 64 43 6C 69 65 6E 74 65 5D 20 6E\n    (11)  16 - 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 6E 6F 6D 62 72 65 5D 20 6E 76 61 72 63 68 61 72 28\n    (11)  17 - 32 35 35 29 2C 0A 5B 74 65 6C 65 66 6F 6E 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A\n    (11)  18 - 5B 64 69 72 65 63 63 69 6F 6E 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 6F 62 6C\n    (11)  19 - 61 63 69 6F 6E 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 72 6F 76 69 6E 63 69 61\n    (11)  20 - 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 63 6F 72 72 65 6F 5D 20 6E 76 61 72 63 68\n    (11)  21 - 61 72 28 32 35 35 29 2C 0A 5B 63 6F 6D 65 72 63 69 61 6C 5D 20 6E 76 61 72 63 68 61 72 28 32 35\n    (11)  22 - 35 29 2C 0A 5B 6E 6F 6D 62 72 65 4D 6F 64 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B\n    (11)  23 - 64 69 72 65 63 63 69 6F 6E 4D 6F 64 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 6F\n    (11)  24 - 62 6C 61 63 69 6F 6E 4D 6F 64 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 72 6F 76\n    (11)  25 - 69 6E 63 69 61 4D 6F 64 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 6E 75 6D 44 69 72\n    (11)  26 - 65 63 63 69 6F 6E 65 73 45 6E 76 69 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 65\n    (11)  27 - 6E 76 69 6F 31 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 65 6E 76 69 6F 32 5D 20 6E\n    (11)  28 - 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 65 6E 76 69 6F 33 5D 20 6E 76 61 72 63 68 61 72 28\n    (11)  29 - 32 35 35 29 2C 0A 5B 65 6E 76 69 6F 34 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 65\n    (11)  30 - 6E 76 69 6F 35 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 65 6E 76 69 6F 36 5D 20 6E\n    (11)  31 - 76 61 72 63 68 61 72 28 32 35 35 29 0A 29 82 27 0A 07 17 25 25 02 84 0F 74 61 62 6C 65 41 63 75\n    (11)  32 - 6D 75 6C 61 74 69 76 6F 73 41 63 75 6D 75 6C 61 74 69 76 6F 73 1B CA 43 52 45 41 54 45 20 54 41\n    (11)  33 - 42 4C 45 20 5B 41 63 75 6D 75 6C 61 74 69 76 6F 73 5D 20 28 0A 5B 69 64 43 6C 69 65 6E 74 65 5D\n    (11)  34 - 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 6E 6F 6D 62 72 65 5D 20 6E 76 61 72 63 68 61\n    (11)  35 - 72 28 32 35 35 29 2C 0A 5B 70 6F 62 6C 61 63 69 6F 6E 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35\n    (11)  36 - 29 2C 0A 5B 70 72 6F 76 69 6E 63 69 61 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 6E\n    (11)  37 - 6F 6D 62 72 65 4D 6F 64 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 6F 62 6C 61 63\n    (11)  38 - 69 6F 6E 4D 6F 64 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 79 61 41 63 75 6D 75 6C\n    (11)  39 - 61 64 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 63 6F 6D 65 72 63 69 61 6C 5D 20\n    (11)  40 - 6E 76 61 72 63 68 61 72 28 32 35 35 29 0A 29 86 2A 09 07 17 33 33 02 8B 79 74 61 62 6C 65 52 65\n    (11)  41 - 66 65 72 65 6E 63 69 61 73 43 72 75 7A 61 64 61 73 52 65 66 65 72 65 6E 63 69 61 73 43 72 75 7A\n    (11)  42 - 61 64 61 73 00 E3 43 52 45 41 54 45 20 54 41 42 4C 45 20 5B 52 65 66 65 72 65 6E 63 69 61 73 43\n    (11)  43 - 72 75 7A 61 64 61 73 5D 20 28 0A 5B 42 72 61 6E 64 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29\n    (11)  44 - 2C 0A 5B 4D 6F 64 65 6C 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 4C 65 6E\n    (11)  45 - 67 74 68 43 6D 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 4C 65 6E 67 74 68\n    (11)  46 - 49 6E 63 68 65 73 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 50 69 74 63 68 5D 20 6E\n    (11)  47 - 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 47 61 75 67 65 5D 20 6E 76 61 72 63 68 61 72 28 32\n    (11)  48 - 35 35 29 2C 0A 5B 44 4C 43 6F 75 6E 74 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 4D\n    (11)  49 - 6F 74 6F 72 4D 6F 75 6E 74 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 53 70 72 6F 63\n    (11)  50 - 6B 65 74 54 68 65 65 74 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 43 6F 6D 65 6E 74\n    (11)  51 - 61 72 69 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 41 6C 74 30 31 5D 20\n    (11)  52 - 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 41 6C 74 30 32 5D 20 6E 76 61 72 63 68\n    (11)  53 - 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 41 6C 74 30 33 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35\n    (11)  54 - 29 2C 0A 5B 42 61 72 41 6C 74 30 34 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61\n    (11)  55 - 72 41 6C 74 30 35 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 41 6C 74 30 36\n    (11)  56 - 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 41 6C 74 30 37 5D 20 6E 76 61 72\n    (11)  57 - 63 68 61 72 28 32 35 35 29 2C 0A 5B 42 61 72 41 6C 74 30 38 5D 20 6E 76 61 72 63 68 61 72 28 32\n    (11)  58 - 35 35 29 2C 0A 5B 42 61 72 41 6C 74 30 39 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B\n    (11)  59 - 42 61 72 41 6C 74 31 30 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 43 68 61 69 6E 41\n    (11)  60 - 6C 74 30 31 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 43 68 61 69 6E 41 6C 74 30 32\n    (11)  61 - 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 43 68 61 69 6E 41 6C 74 30 33 5D 20 6E 76\n    (11)  62 - 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 43 68 61 69 6E 41 6C 74 30 34 5D 20 6E 76 61 72 63 68\n    (11)  63 - 61 72 28 32 35 35 29 2C 0A 5B 43 68 61 69 6E 41 6C 74 30 35 5D 20 6E 76 61 72 63 68 61 72 28 32\n    (11)  64 - 35 35 29 2C 0A 5B 43 68 61 69 6E 41 6C 74 30 36 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 0A\n    (11)  65 - 29 82 51 08 07 17 1F 1F 02 84 6F 74 61 62 6C 65 50 72 6F 64 75 63 74 6F 73 50 72 6F 64 75 63 74\n    (11)  66 - 6F 73 00 E2 43 52 45 41 54 45 20 54 41 42 4C 45 20 5B 50 72 6F 64 75 63 74 6F 73 5D 20 28 0A 5B\n    (11)  67 - 69 64 50 72 6F 64 75 63 74 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 65 73 63\n    (11)  68 - 72 69 70 63 69 6F 6E 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 66 61 6D 69 6C 69 61\n    (11)  69 - 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 76 70 5D 20 6E 76 61 72 63 68 61 72 28\n    (11)  70 - 32 35 35 29 2C 0A 5B 73 74 6F 63 6B 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 75 6E\n    (11)  71 - 69 64 61 64 65 73 43 61 6A 61 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 65 6E 64\n    (11)  72 - 69 65 6E 74 65 73 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 70 65 64 69 64 61 73 5D\n    (11)  73 - 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 67 72 75 70 6F 44 74 6F 5D 20 6E 76 61 72 63\nE/SQLiteLog: (11)  74 - 68 61 72 28 32 35 35 29 2C 0A 5B 64 65 73 63 72 69 70 63 69 6F 6E 4D 6F 64 5D 20 6E 76 61 72 63\n    (11)  75 - 68 61 72 28 32 35 35 29 0A 29 81 64 07 07 17 2F 2F 02 82 75 74 61 62 6C 65 4D 61 74 65 72 69 61\n    (11)  76 - 6C 50 65 6E 64 69 65 6E 74 65 4D 61 74 65 72 69 61 6C 50 65 6E 64 69 65 6E 74 65 00 E1 43 52 45\n    (11)  77 - 41 54 45 20 54 41 42 4C 45 20 5B 4D 61 74 65 72 69 61 6C 50 65 6E 64 69 65 6E 74 65 5D 20 28 0A\n    (11)  78 - 5B 69 64 43 6C 69 65 6E 74 65 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 72 65 66 65\n    (11)  79 - 72 65 6E 63 69 61 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 65 73 63 72 69 70 63\n    (11)  80 - 69 6F 6E 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 63 61 6E 74 69 64 61 64 5D 20 6E\n    (11)  81 - 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 66 65 63 68 61 50 65 64 69 64 6F 5D 20 6E 76 61 72\n    (11)  82 - 63 68 61 72 28 32 35 35 29 0A 29 83 72 06 07 17 1D 1D 02 87 35 74 61 62 6C 65 46 61 63 74 75 72\n    (11)  83 - 61 73 46 61 63 74 75 72 61 73 00 E0 43 52 45 41 54 45 20 54 41 42 4C 45 20 5B 46 61 63 74 75 72\n    (11)  84 - 61 73 5D 20 28 0A 5B 69 64 43 6C 69 65 6E 74 65 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C\n    (11)  85 - 0A 5B 72 65 66 65 72 65 6E 63 69 61 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 65\n    (11)  86 - 73 63 72 69 70 63 69 6F 6E 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 66 61 6D 69 6C\n    (11)  87 - 69 61 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 63 61 6E 74 69 64 61 64 5D 20 6E 76\n    (11)  88 - 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 69 6D 70 6F 72 74 65 5D 20 6E 76 61 72 63 68 61 72 28\n    (11)  89 - 32 35 35 29 2C 0A 5B 69 6D 70 6F 72 74 65 44 74 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29\n    (11)  90 - 2C 0A 5B 64 65 73 63 75 65 6E 74 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 66 65\n    (11)  91 - 63 68 61 42 6F 6E 69 74 61 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 66 65 63 68 61\n    (11)  92 - 4C 6F 6E 67 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 79 65 61 72 5D 20 6E 76 61 72\n    (11)  93 - 63 68 61 72 28 32 35 35 29 2C 0A 5B 6D 65 73 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A\n    (11)  94 - 5B 64 69 61 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 63 6F 6D 65 72 63 69 61 6C 5D\n    (11)  95 - 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 63 61 6E 74 69 64 61 64 55 6E 69 64 61 64 5D\n    (11)  96 - 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 66 65 63 68 61 52 65 67 69 73 74 72 6F 5D 20\n    (11)  97 - 6E 76 61 72 63 68 61 72 28 32 35 35 29 0A 29 82 65 05 07 17 2D 2D 02 84 7B 74 61 62 6C 65 44 65\n    (11)  98 - 73 63 75 65 6E 74 6F 73 4F 66 65 72 74 61 44 65 73 63 75 65 6E 74 6F 73 4F 66 65 72 74 61 00 DF\n    (11)  99 - 43 52 45 41 54 45 20 54 41 42 4C 45 20 5B 44 65 73 63 75 65 6E 74 6F 73 4F 66 65 72 74 61 5D 20\n    (11) 100 - 28 0A 5B 69 64 46 61 6D 69 6C 69 61 50 72 6F 64 75 63 74 6F 5D 20 6E 76 61 72 63 68 61 72 28 32\n    (11) 101 - 35 35 29 2C 0A 5B 64 74 6F 30 31 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 74 6F\n    (11) 102 - 30 32 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 74 6F 30 33 5D 20 6E 76 61 72 63\n    (11) 103 - 68 61 72 28 32 35 35 29 2C 0A 5B 64 74 6F 30 34 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C\n    (11) 104 - 0A 5B 64 74 6F 30 35 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 74 6F 30 36 5D 20\n    (11) 105 - 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 74 6F 30 37 5D 20 6E 76 61 72 63 68 61 72 28\n    (11) 106 - 32 35 35 29 2C 0A 5B 64 74 6F 30 38 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 74\n    (11) 107 - 6F 30 39 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 74 6F 31 30 5D 20 6E 76 61 72\n    (11) 108 - 63 68 61 72 28 32 35 35 29 0A 29 81 11 04 07 17 31 31 02 81 4B 74 61 62 6C 65 44 65 73 63 75 65\n    (11) 109 - 6E 74 6F 73 45 73 74 61 6E 64 61 72 44 65 73 63 75 65 6E 74 6F 73 45 73 74 61 6E 64 61 72 00 DE\n    (11) 110 - 43 52 45 41 54 45 20 54 41 42 4C 45 20 5B 44 65 73 63 75 65 6E 74 6F 73 45 73 74 61 6E 64 61 72\n    (11) 111 - 5D 20 28 0A 5B 69 64 46 61 6D 69 6C 69 61 50 72 6F 64 75 63 74 6F 5D 20 6E 76 61 72 63 68 61 72\n    (11) 112 - 28 32 35 35 29 2C 0A 5B 64 74 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 0A 29 82 08 03 07\n    (11) 113 - 17 21 21 02 83 59 74 61 62 6C 65 44 65 73 63 75 65 6E 74 6F 73 44 65 73 63 75 65 6E 74 6F 73 00\n    (11) 114 - DD 43 52 45 41 54 45 20 54 41 42 4C 45 20 5B 44 65 73 63 75 65 6E 74 6F 73 5D 20 28 0A 5B 69 64\n    (11) 115 - 43 6C 69 65 6E 74 65 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 69 64 46 61 6D 69 6C\n    (11) 116 - 69 61 50 72 6F 64 75 63 74 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 64 65 73 63\n    (11) 117 - 75 65 6E 74 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 63 61 6E 74 69 64 61 64 5D\n    (11) 118 - 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 6E 6F 74 61 73 5D 20 6E 76 61 72 63 68 61 72\n    (11) 119 - 28 32 35 35 29 2C 0A 5B 66 65 63 68 61 49 6E 69 63 69 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35\n    (11) 120 - 35 29 2C 0A 5B 63 6F 6D 65 72 63 69 61 6C 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 0A 29 81\n    (11) 121 - 0B 01 07 17 1D 1D 01 81 69 74 61 62 6C 65 41 6E 75 6E 63 69 6F 73 41 6E 75 6E 63 69 6F 73 02 43\n    (11) 122 - 52 45 41 54 45 20 54 41 42 4C 45 20 5B 41 6E 75 6E 63 69 6F 73 5D 20 28 0A 5B 66 65 63 68 61 49\n    (11) 123 - 6E 69 63 69 6F 5D 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 66 65 63 68 61 46 69 6E 5D\n    (11) 124 - 20 6E 76 61 72 63 68 61 72 28 32 35 35 29 2C 0A 5B 61 6E 75 6E 63 69 6F 5D 20 6E 76 61 72 63 68\n    (11) 125 - 61 72 28 32 35 35 29 0A 29 05 00 00 00 02 0F F5 00 00 00 01 47 0F FB 0F F5 0E E5 0E AA 0E 78 0E\n    (11) 126 - 3C 0E 0E D4 A7 7A 4D 1D 0C EE 0C BF 0C 8D 0C 60 0C 2B 0B FA 0B C4 0B 96 0B 64 0B 36 0A FB 0A CB\n    (11) 127 - 0A 90 0A 5E 0A 22 09 F3 09 C5 09 8B 09 5E 09 31 09 04 08 D4 08 A5 08 76 08 44 08 17 07 E6 07 B0\n    (11) 128 - 07 82 07 54 07 22 06 F4 06 B9 06 89 06 4E 06 1C 05 E0 05 B1 05 83 05 49 05 1C 04 EF 04 C2 04 92\n    (1) Stat of fd(6) : st_mode(100660) st_uid(10353) st_gid(10353) st_ino(45439) st_size(54780053)\nE/SQLiteLog: (1) File name of fd(6) : /data/data/par.fg.fg2022/databases/bdGeneral\n    (1) Stat of /data/user/0/par.fg.fg2022/databases/bdGeneral : st_mode (100660) st_uid (10353) st_gid (10353) st_ino(45439) st_size(54780053)\n    (11) database disk image is malformed in &quot;PRAGMA journal_mode&quot;\nD/SQLiteConnection: Corruption detected - isPrimary: true, address: @e72e58b\nE/SQLiteDatabase: Database corruption detected in open()\n    android.database.sqlite.SQLiteDatabaseCorruptException: database disk image is malformed (code 11 SQLITE_CORRUPT[11]): , while compiling: PRAGMA journal_mode\n        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1521)\n        at android.database.sqlite.SQLiteConnection.executeForString(SQLiteConnection.java:1108)\n        at android.database.sqlite.SQLiteConnection.setJournalMode(SQLiteConnection.java:655)\n        at android.database.sqlite.SQLiteConnection.setJournalFromConfiguration(SQLiteConnection.java:550)\n        at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:406)\n        at android.database.sqlite.SQLiteConnection.open(SQLiteConnection.java:226)\n        at android.database.sqlite.SQLiteConnectionPool.openConnectionLocked(SQLiteConnectionPool.java:743)\n        at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:288)\n        at android.database.sqlite.SQLiteConnectionPool.open(SQLiteConnectionPool.java:255)\n        at android.database.sqlite.SQLiteDatabase.openInner(SQLiteDatabase.java:1581)\n        at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:1522)\n        at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:1163)\n        at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:470)\n        at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:413)\n        at par.fg.fg2022.Activities.Actualizar.lambda$onCreate$3$Actualizar(Actualizar.java:100)\n        at par.fg.fg2022.Activities.-$$Lambda$Actualizar$jerTyJVebVH9dcw480hY08ibPgE.run(Unknown Source:2)\n        at java.lang.Thread.run(Thread.java:1012)\nE/DefaultDatabaseErrorHandler: Corruption reported by sqlite on database: /data/user/0/par.fg.fg2022/databases/bdGeneral\nE/SQLiteDatabase: DB wipe detected: package=par.fg.fg2022 reason=corruption file=/data/user/0/par.fg.fg2022/databases/bdGeneral ctime=2023-07-04T21:59:02Z mtime=2023-07-04T21:59:02Z atime=2023-07-04T21:58:52Z checkfile [unable to obtain timestamp]\n    java.lang.Throwable: STACKTRACE\n        at android.database.sqlite.SQLiteDatabase.wipeDetected(SQLiteDatabase.java:3994)\n        at android.database.DefaultDatabaseErrorHandler.onCorruption(DefaultDatabaseErrorHandler.java:68)\n        at android.database.sqlite.SQLiteDatabase.onCorruption(SQLiteDatabase.java:3130)\n        at android.database.sqlite.SQLiteDatabase.open(SQLiteDatabase.java:1526)\n        at android.database.sqlite.SQLiteDatabase.openDatabase(SQLiteDatabase.java:1163)\n        at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked(SQLiteOpenHelper.java:470)\n        at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase(SQLiteOpenHelper.java:413)\n        at par.fg.fg2022.Activities.Actualizar.lambda$onCreate$3$Actualizar(Actualizar.java:100)\n        at par.fg.fg2022.Activities.-$$Lambda$Actualizar$jerTyJVebVH9dcw480hY08ibPgE.run(Unknown Source:2)\n        at java.lang.Thread.run(Thread.java:1012)\n</code></pre>\n<p>The weirdest thing is that it was working for years but suddenly I got this problem.  Any idea?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688508348,"post_id":76616056,"comment_id":135082363,"body_markdown":"You&#39;ve declared `s` as a &quot;raw&quot; `ArrayList`, so the compiler doesn&#39;t know what sort of data it contains. Declare it as `ArrayList&lt;String&gt;`.","body":"You&#39;ve declared <code>s</code> as a &quot;raw&quot; <code>ArrayList</code>, so the compiler doesn&#39;t know what sort of data it contains. Declare it as <code>ArrayList&lt;String&gt;</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688508364,"post_id":76616056,"comment_id":135082368,"body_markdown":"Your addressing hierarchy is `for(List&lt;List&lt;String&gt; xList : shoppingList) for(List&lt;String&gt; item : xList)`","body":"Your addressing hierarchy is <code>for(List&lt;List&lt;String&gt; xList : shoppingList) for(List&lt;String&gt; item : xList)</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688508452,"post_id":76616056,"comment_id":135082377,"body_markdown":"Ooops! I could be","body":"Ooops! I could be"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688508956,"post_id":76616056,"comment_id":135082432,"body_markdown":"Yes @tgdavies is right so it&#39;s `for(List&lt;String&gt; xList : shoppingList) for(String item : xList) System.out.println(item);`","body":"Yes @tgdavies is right so it&#39;s <code>for(List&lt;String&gt; xList : shoppingList) for(String item : xList) System.out.println(item);</code>"}],"owner":{"account_id":28888011,"reputation":1,"user_id":22125915,"display_name":"jerseypizza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688508654,"answer_count":0,"score":0,"last_activity_date":1688508219,"creation_date":1688508059,"question_id":76616056,"body_markdown":"```java\r\npackage package101;\r\nimport java.util.ArrayList;\r\n\r\npublic class TwoDimentionalArrayList {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tArrayList&lt;String&gt; bakeryList = new ArrayList();\r\n\t\tArrayList&lt;String&gt; produceList = new ArrayList();\r\n\t\tArrayList&lt;String&gt; drinkList = new ArrayList();\r\n\t\tArrayList&lt;ArrayList&lt;String&gt;&gt; shoppingList = new ArrayList();\r\n\t\t\r\n\t\r\n\t\tbakeryList.add(&quot;sugar&quot;);\r\n\t\tbakeryList.add(&quot;flower&quot;);\r\n\t\tbakeryList.add(&quot;baking powder&quot;);\r\n\t\t\r\n\t\tproduceList.add(&quot;lettuce&quot;);\r\n\t\tproduceList.add(&quot;tomato&quot;);\r\n\t\tproduceList.add(&quot;cucumber&quot;);\r\n\t\tproduceList.add(&quot;potato&quot;);\r\n\t\t\r\n\t\tdrinkList.add(&quot;pepsi&quot;);\r\n\t\tdrinkList.add(&quot;coke&quot;);\r\n\t\tdrinkList.add(&quot;orange juice&quot;);\r\n\t\tdrinkList.add(&quot;coffee&quot;);\r\n\t\tdrinkList.add(&quot;lemonade&quot;);\r\n\t\t\r\n\t\tshoppingList.add(bakeryList); \r\n\t\tshoppingList.add(produceList);\r\n\t\tshoppingList.add(drinkList);\r\n\t\t\r\n\t\t// Method using two loops successful.\r\n\t\t\t\r\n\t\tfor (int i = 0; i &lt; shoppingList.size(); i++)\r\n\t\t{\r\n\t\t    for (int j = 0; j &lt; shoppingList.get(i).size(); j++)\r\n\t\t    {\r\n\t\t    \tSystem.out.println(shoppingList.get(i).get(j));\r\n\t\t    } \r\n\t\t}\r\n\r\n\t\t//Why I am not allowed to put String before t instead of Object?\r\n                //Isn&#39;t each element in s of String type?\r\n\r\n\t\t\r\n\t\tfor (ArrayList s : shoppingList){\t\r\n\t\t    for (Object t : s)\r\n\t\t    {\r\n\t\t    \tSystem.out.println(t);\r\n\t\t    } \r\n\t\t}\t\t\t\t\t\t\r\n\t}\r\n}\r\n\r\n//Method using 2 for loops successful. Method using 2 for each loops with String t : s failed. \r\n//Is there a simple way to make the second method work as well?\r\n```","title":"Java how to use for each loop in a 2 dimentional array list","body":"<pre class=\"lang-java prettyprint-override\"><code>package package101;\nimport java.util.ArrayList;\n\npublic class TwoDimentionalArrayList {\n\n    public static void main(String[] args) {\n        \n        ArrayList&lt;String&gt; bakeryList = new ArrayList();\n        ArrayList&lt;String&gt; produceList = new ArrayList();\n        ArrayList&lt;String&gt; drinkList = new ArrayList();\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; shoppingList = new ArrayList();\n        \n    \n        bakeryList.add(&quot;sugar&quot;);\n        bakeryList.add(&quot;flower&quot;);\n        bakeryList.add(&quot;baking powder&quot;);\n        \n        produceList.add(&quot;lettuce&quot;);\n        produceList.add(&quot;tomato&quot;);\n        produceList.add(&quot;cucumber&quot;);\n        produceList.add(&quot;potato&quot;);\n        \n        drinkList.add(&quot;pepsi&quot;);\n        drinkList.add(&quot;coke&quot;);\n        drinkList.add(&quot;orange juice&quot;);\n        drinkList.add(&quot;coffee&quot;);\n        drinkList.add(&quot;lemonade&quot;);\n        \n        shoppingList.add(bakeryList); \n        shoppingList.add(produceList);\n        shoppingList.add(drinkList);\n        \n        // Method using two loops successful.\n            \n        for (int i = 0; i &lt; shoppingList.size(); i++)\n        {\n            for (int j = 0; j &lt; shoppingList.get(i).size(); j++)\n            {\n                System.out.println(shoppingList.get(i).get(j));\n            } \n        }\n\n        //Why I am not allowed to put String before t instead of Object?\n                //Isn't each element in s of String type?\n\n        \n        for (ArrayList s : shoppingList){   \n            for (Object t : s)\n            {\n                System.out.println(t);\n            } \n        }                       \n    }\n}\n\n//Method using 2 for loops successful. Method using 2 for each loops with String t : s failed. \n//Is there a simple way to make the second method work as well?\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1688539167,"post_id":76615947,"comment_id":135084869,"body_markdown":"Can you please explain how is this question related to Firebase?","body":"Can you please explain how is this question related to Firebase?"},{"owner":{"account_id":28951210,"reputation":1,"user_id":22175758,"display_name":"Goodsir 23"},"score":0,"creation_date":1688562275,"post_id":76615947,"comment_id":135089715,"body_markdown":"Well when reading up on how to do the app I was directed a few times to add firebase to it so I assumed that it was important. I never really did any heaving programming especially in app development.","body":"Well when reading up on how to do the app I was directed a few times to add firebase to it so I assumed that it was important. I never really did any heaving programming especially in app development."}],"owner":{"account_id":28951210,"reputation":1,"user_id":22175758,"display_name":"Goodsir 23"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688508181,"creation_date":1688506073,"question_id":76615947,"body_markdown":"when I hit the submit button on the current activity(dbdisplay), it should switch to the alarmset activity but only when alarmmanager is not null. the other day when I was working on it it would switch from dbdisplay to alarmset but not set an alarm and now it wont even change to the alarmset activity but nothing was changed since i last worked on it. logcat is not giving me any errors, building and cleaning the app didnt work. I&#39;m using google firebase to get the travel time then adding an extra hour then set it as an alarm.  This was all done on the android studio IDE.\r\n\r\nTLDR: press button calculate alarm based on start and end point, change activity to confirm the alarm is set and alarm not being set. sorry for weird format.\r\n\r\n[Heres a pastebin of all the relevant code](https://pastebin.com/q0Yx0Jag)\r\n\r\n\r\n    public void onTravelTimeReceived(String travelTime) {\r\n    \r\n        long arrivalTime = calculateArrivalTime(travelTime);\r\n        long alarmTime = arrivalTime + (1 * 60 * 60 * 1000);\r\n\r\n        AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\r\n        Intent alarmIntent = new Intent(this, AlarmReceiver.class);\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0, alarmIntent, PendingIntent.FLAG_IMMUTABLE)\r\n        ;\r\n\r\n        if (alarmManager != null) {\r\n            alarmManager.set(AlarmManager.RTC_WAKEUP, alarmTime, pendingIntent);\r\n\r\n\r\n            Intent intent = new Intent(dbdisplay.this, alarmset.class);\r\n            startActivity(intent);\r\n        }else{\r\n            Intent intent = new Intent(dbdisplay.this, settings.class);\r\n            startActivity(intent);\r\n\r\n        }\r\n    }\r\n\r\nheres the function to change activitys when an alarm has been set full code in the pastebin.\r\n       \r\n\r\n\r\nI was expecting that once the user presses the confirm button on dbdisplay, an alarm will be set based on the travel time from point a to point b via public transit. the alarm should be using the default clock app on the android device. I have tried to clean and rebuild the app, check the manifest and made sure that the firebase package was added correctly.\r\n","title":"Im trying to make a custom alarm android app but alarm not setting","body":"<p>when I hit the submit button on the current activity(dbdisplay), it should switch to the alarmset activity but only when alarmmanager is not null. the other day when I was working on it it would switch from dbdisplay to alarmset but not set an alarm and now it wont even change to the alarmset activity but nothing was changed since i last worked on it. logcat is not giving me any errors, building and cleaning the app didnt work. I'm using google firebase to get the travel time then adding an extra hour then set it as an alarm.  This was all done on the android studio IDE.</p>\n<p>TLDR: press button calculate alarm based on start and end point, change activity to confirm the alarm is set and alarm not being set. sorry for weird format.</p>\n<p><a href=\"https://pastebin.com/q0Yx0Jag\" rel=\"nofollow noreferrer\">Heres a pastebin of all the relevant code</a></p>\n<pre><code>public void onTravelTimeReceived(String travelTime) {\n\n    long arrivalTime = calculateArrivalTime(travelTime);\n    long alarmTime = arrivalTime + (1 * 60 * 60 * 1000);\n\n    AlarmManager alarmManager = (AlarmManager) getSystemService(Context.ALARM_SERVICE);\n    Intent alarmIntent = new Intent(this, AlarmReceiver.class);\n    PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0, alarmIntent, PendingIntent.FLAG_IMMUTABLE)\n    ;\n\n    if (alarmManager != null) {\n        alarmManager.set(AlarmManager.RTC_WAKEUP, alarmTime, pendingIntent);\n\n\n        Intent intent = new Intent(dbdisplay.this, alarmset.class);\n        startActivity(intent);\n    }else{\n        Intent intent = new Intent(dbdisplay.this, settings.class);\n        startActivity(intent);\n\n    }\n}\n</code></pre>\n<p>heres the function to change activitys when an alarm has been set full code in the pastebin.</p>\n<p>I was expecting that once the user presses the confirm button on dbdisplay, an alarm will be set based on the travel time from point a to point b via public transit. the alarm should be using the default clock app on the android device. I have tried to clean and rebuild the app, check the manifest and made sure that the firebase package was added correctly.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1688468865,"post_id":76610265,"comment_id":135075449,"body_markdown":"The problem is the usual lifecycle of the application and how the test generates its needed resources/configurations.\n Context and Application is created - Module will be registered and in the end when everything is ready the property are defined/created. So they are not available at the time when your extension is registered. TODO: Create the properties as a @Configuration which will be built before OR since it is a test use fallback/hardcoded default values since you should know them.","body":"The problem is the usual lifecycle of the application and how the test generates its needed resources/configurations.  Context and Application is created - Module will be registered and in the end when everything is ready the property are defined/created. So they are not available at the time when your extension is registered. TODO: Create the properties as a @Configuration which will be built before OR since it is a test use fallback/hardcoded default values since you should know them."},{"owner":{"account_id":28455451,"reputation":1,"user_id":21772905,"display_name":"user21772905"},"score":0,"creation_date":1688477409,"post_id":76610265,"comment_id":135077346,"body_markdown":"Thank you for your response. I have created a class with : @Configuration public class TestConfig { }, but still the annotated values accessKey and secretKey are null before the extension is registered. Do you have please any working example? Thanks","body":"Thank you for your response. I have created a class with : @Configuration public class TestConfig { }, but still the annotated values accessKey and secretKey are null before the extension is registered. Do you have please any working example? Thanks"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1688539739,"post_id":76610265,"comment_id":135084971,"body_markdown":"If you make `S3ProxyExtension EXTENSION` static it would be created before JUnit runs its lifecycle and invokes the TestInstancePostProcessor (and Spring context).","body":"If you make <code>S3ProxyExtension EXTENSION</code> static it would be created before JUnit runs its lifecycle and invokes the TestInstancePostProcessor (and Spring context)."}],"owner":{"account_id":28455451,"reputation":1,"user_id":21772905,"display_name":"user21772905"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688507537,"creation_date":1688455782,"question_id":76610265,"body_markdown":"I have the following test class in which I’m registering the S3ProxyExtension:\r\n\r\n```java\r\nimport org.gaul.s3proxy.junit.S3ProxyExtension;\r\nimport org.junit.jupiter.api.extension.RegisterExtension;\r\n\r\n@TestPropertySource(&quot;classpath:application.properties&quot;)\r\n@SpringBootTest(classes = { ABC.class })\r\npublic class ABCTest {\r\n    @Value(&quot;${accessKey}&quot;)\r\n    private String accessKey;\r\n    @Value(&quot;${secretKey}&quot;)\r\n    private String secretKey;\r\n \r\n    @RegisterExtension\r\n    S3ProxyExtension EXTENSION = S3ProxyExtension.builder().withPort(5444).withCredentials(accessKey, secretKey).build();\r\n    // ...\r\n}\r\n```\r\n\r\nHow can I use the annotated variables accessKey  and secretKey, while registering the extension? Cause for now it throws an error “java.lang.ExceptionInInitializerError”.\r\n\r\nI have tried to use annotated variables while registering a Junit extension but it still throws a “java.lang.ExceptionInInitializerError” error.","title":"How to register an extension with annotated variables in JUnit","body":"<p>I have the following test class in which I’m registering the S3ProxyExtension:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.gaul.s3proxy.junit.S3ProxyExtension;\nimport org.junit.jupiter.api.extension.RegisterExtension;\n\n@TestPropertySource(&quot;classpath:application.properties&quot;)\n@SpringBootTest(classes = { ABC.class })\npublic class ABCTest {\n    @Value(&quot;${accessKey}&quot;)\n    private String accessKey;\n    @Value(&quot;${secretKey}&quot;)\n    private String secretKey;\n \n    @RegisterExtension\n    S3ProxyExtension EXTENSION = S3ProxyExtension.builder().withPort(5444).withCredentials(accessKey, secretKey).build();\n    // ...\n}\n</code></pre>\n<p>How can I use the annotated variables accessKey  and secretKey, while registering the extension? Cause for now it throws an error “java.lang.ExceptionInInitializerError”.</p>\n<p>I have tried to use annotated variables while registering a Junit extension but it still throws a “java.lang.ExceptionInInitializerError” error.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1688506987,"post_id":76615482,"comment_id":135082217,"body_markdown":"*&quot;By researching online, i found that if you declare the autocompletionBinding like this, the dispose() method doesn&#39;t work&quot;*. That makes no sense at all. *&quot;The right way to declare it is this one:&quot;*. No: it is (almost) never correct to use raw types. Using raw types cannot change the functionality of a method call.","body":"<i>&quot;By researching online, i found that if you declare the autocompletionBinding like this, the dispose() method doesn&#39;t work&quot;</i>. That makes no sense at all. <i>&quot;The right way to declare it is this one:&quot;</i>. No: it is (almost) never correct to use raw types. Using raw types cannot change the functionality of a method call."},{"owner":{"account_id":28630571,"reputation":39,"user_id":21921697,"display_name":"TrySoHard"},"score":0,"creation_date":1688559280,"post_id":76615482,"comment_id":135088919,"body_markdown":"I know it doesn&#39;t make sense. But i found it was a sort of bug. Here&#39;s the link. https://superuser.com/questions/1417267/the-controlsfx-textfields-bindautocompletion-will-not-update-with-new-parameters\n\nYou can also find similar posts here on STO.","body":"I know it doesn&#39;t make sense. But i found it was a sort of bug. Here&#39;s the link. <a href=\"https://superuser.com/questions/1417267/the-controlsfx-textfields-bindautocompletion-will-not-update-with-new-parameters\" title=\"the controlsfx textfields bindautocompletion will not update with new parameters\">superuser.com/questions/1417267/&hellip;</a>  You can also find similar posts here on STO."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1688561183,"post_id":76615482,"comment_id":135089419,"body_markdown":"But that link is clearly nonsense. The user there is claiming that it&#39;s a bug to have multiple suggestion boxes; obviously this is not a bug in the library but is just caused by creating multiple autocompletion bindings for the same text field, just like you are doing in your code. I recommend *critically evaluating* information you find online, not just taking it at face value.","body":"But that link is clearly nonsense. The user there is claiming that it&#39;s a bug to have multiple suggestion boxes; obviously this is not a bug in the library but is just caused by creating multiple autocompletion bindings for the same text field, just like you are doing in your code. I recommend <i>critically evaluating</i> information you find online, not just taking it at face value."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688507526,"creation_date":1688506881,"answer_id":76615992,"question_id":76615482,"body_markdown":"I&#39;m not exactly sure why disposing the autocompletion binding doesn&#39;t work, but your approach is just not the correct approach. Note that you&#39;re constantly creating new autocompletion bindings. Every time the user types anything, and the text is longer than three characters, a new autocompletion binding is created. (But note that even if this is fixed, it doesn&#39;t actually fix the issue.) The autocompletion binding works by, presumably, adding a listener to the text field&#39;s `textProperty`, and having two such listeners with non-orthogonal functionality is never a good idea.\r\n\r\nThe autocompletion will not be visible if the resulting suggestion list is empty, so simply return an empty list if the length of the text is less than three characters:\r\n\r\n    public void initialize() {\r\n\r\n        String[] suggestions = {&quot;ciao&quot;, &quot;12345&quot;, &quot;abcdefg&quot;};\r\n\r\n        TextFields.bindAutoCompletion(name, input -&gt; {\r\n            if (input.getUserText().length() &lt; 3) return Collections.emptyList();\r\n            return Stream.of(suggestions)\r\n                .filter(s -&gt; s.contains(input.getUserText()))\r\n                .collect(Collectors.toList());\r\n        });\r\n    }","title":"ControlsFX, unbind AutocompletionBinding from Textfield doesn&#39;t work using dispose()","body":"<p>I'm not exactly sure why disposing the autocompletion binding doesn't work, but your approach is just not the correct approach. Note that you're constantly creating new autocompletion bindings. Every time the user types anything, and the text is longer than three characters, a new autocompletion binding is created. (But note that even if this is fixed, it doesn't actually fix the issue.) The autocompletion binding works by, presumably, adding a listener to the text field's <code>textProperty</code>, and having two such listeners with non-orthogonal functionality is never a good idea.</p>\n<p>The autocompletion will not be visible if the resulting suggestion list is empty, so simply return an empty list if the length of the text is less than three characters:</p>\n<pre><code>public void initialize() {\n\n    String[] suggestions = {&quot;ciao&quot;, &quot;12345&quot;, &quot;abcdefg&quot;};\n\n    TextFields.bindAutoCompletion(name, input -&gt; {\n        if (input.getUserText().length() &lt; 3) return Collections.emptyList();\n        return Stream.of(suggestions)\n            .filter(s -&gt; s.contains(input.getUserText()))\n            .collect(Collectors.toList());\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":28630571,"reputation":39,"user_id":21921697,"display_name":"TrySoHard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688507526,"creation_date":1688499671,"question_id":76615482,"body_markdown":"I want a Textfield to show suggestions only when you write 3 or more characters inside the Textfield. I&#39;m using the ControlsFX library to do this.\r\n\r\nThis is my code:\r\n\r\n\r\n\r\n```\r\npublic class TestView{\r\n\r\n\r\nprivate Textfield name;\r\nprivate AutoCompletionBinding acb;\r\n\r\n\r\n@FXML\r\n    public void initialize() {\r\n\r\n         String[] suggestions = {&quot;ciao&quot;, &quot;12345&quot;, &quot;abcdefg&quot;};\r\n\r\n         name.textProperty().addListener(new ChangeListener&lt;String&gt;() {\r\n            @Override\r\n            public void changed(ObservableValue&lt;? extends String&gt; observable, String oldValue, String newValue) {\r\n                if (newValue.length() &gt;= 3) {\r\n                       acb = TextFields.bindAutoCompletion(name, suggestions);\r\n                } else {\r\n                    if (acb != null) {\r\n                        acb.dispose();\r\n                        acb = null;\r\n                    }\r\n                }\r\n            }\r\n\r\n        });\r\n}\r\n}\r\n\r\n```\r\n\r\nWhat happens is that yes, the autocompletion starts only when i write 3 or more letters... but if i delete everything, the autocompletionbinding doesn&#39;t get disposed. It shows me suggestions even if i write 1 letter from that point on.\r\n\r\nBy researching online, i found that if you declare the autocompletionBinding like this, the dispose() method doesn&#39;t work:\r\n\r\n```\r\nAutoCompletionBinding&lt;String&gt; auto;\r\n```\r\n\r\nThe right way to declare it is this one:\r\n\r\n```\r\nAutoCompletionBinding auto;\r\n```\r\n\r\nThat&#39;s what i did. But still, it doesn&#39;t work. I want it to show suggestions only from 3 letters or more, and if i delete everything in the textworks, the suggestions shouldn&#39;t pop up until i input 3 letters again. Any suggestions?\r\n\r\n\r\n","title":"ControlsFX, unbind AutocompletionBinding from Textfield doesn&#39;t work using dispose()","body":"<p>I want a Textfield to show suggestions only when you write 3 or more characters inside the Textfield. I'm using the ControlsFX library to do this.</p>\n<p>This is my code:</p>\n<pre><code>public class TestView{\n\n\nprivate Textfield name;\nprivate AutoCompletionBinding acb;\n\n\n@FXML\n    public void initialize() {\n\n         String[] suggestions = {&quot;ciao&quot;, &quot;12345&quot;, &quot;abcdefg&quot;};\n\n         name.textProperty().addListener(new ChangeListener&lt;String&gt;() {\n            @Override\n            public void changed(ObservableValue&lt;? extends String&gt; observable, String oldValue, String newValue) {\n                if (newValue.length() &gt;= 3) {\n                       acb = TextFields.bindAutoCompletion(name, suggestions);\n                } else {\n                    if (acb != null) {\n                        acb.dispose();\n                        acb = null;\n                    }\n                }\n            }\n\n        });\n}\n}\n\n</code></pre>\n<p>What happens is that yes, the autocompletion starts only when i write 3 or more letters... but if i delete everything, the autocompletionbinding doesn't get disposed. It shows me suggestions even if i write 1 letter from that point on.</p>\n<p>By researching online, i found that if you declare the autocompletionBinding like this, the dispose() method doesn't work:</p>\n<pre><code>AutoCompletionBinding&lt;String&gt; auto;\n</code></pre>\n<p>The right way to declare it is this one:</p>\n<pre><code>AutoCompletionBinding auto;\n</code></pre>\n<p>That's what i did. But still, it doesn't work. I want it to show suggestions only from 3 letters or more, and if i delete everything in the textworks, the suggestions shouldn't pop up until i input 3 letters again. Any suggestions?</p>\n"},{"tags":["java","android","kotlin","data-binding","android-databinding"],"answers":[{"tags":[],"owner":{"account_id":404598,"reputation":2116,"user_id":773024,"display_name":"Jonas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688507391,"creation_date":1688507391,"answer_id":76616018,"question_id":76562681,"body_markdown":"I had the exact same issue. Aar library failing after R8 with databinding.\r\n\r\nPlease try adding to library project proguard-rules:\r\n\r\n&gt; -keep class androidx.databinding.** { *; }\r\n\r\nThis seems to have fixed issue for me.","title":"Android Error &quot;AbstractMethodError: abstract method androidx.databinding.ViewDataBinding androidx.databinding.DataBinderMapper.getDataBinder","body":"<p>I had the exact same issue. Aar library failing after R8 with databinding.</p>\n<p>Please try adding to library project proguard-rules:</p>\n<blockquote>\n<p>-keep class androidx.databinding.** { *; }</p>\n</blockquote>\n<p>This seems to have fixed issue for me.</p>\n"}],"owner":{"account_id":11789078,"reputation":21,"user_id":8625804,"display_name":"Alvaro Sanchez Duran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688507391,"creation_date":1687852087,"question_id":76562681,"body_markdown":"I have a library made by me, the library uses databinding, I export the library as an aar file. I have a test project where the library works for me, but when I import it into another project, it gives me the following error:\r\n\r\n&gt; java.lang.AbstractMethodError: abstract method\r\n&gt; &quot;androidx.databinding.ViewDataBinding\r\n&gt; androidx.databinding.DataBinderMapper.getDataBinder(androidx.databinding.DataBindingComponent,\r\n&gt; android.view.View, int)&quot;\r\n&gt;                                                                                                     \tat\r\n&gt; androidx.databinding.MergedDataBinderMapper.getDataBinder(MergedDataBinderMapper.java:79)\r\n&gt;                                                                                                     \tat\r\n&gt; androidx.databinding.DataBindingUtil.bind(DataBindingUtil.java:199)\r\n&gt;                                                                                                     \tat\r\n&gt; androidx.databinding.DataBindingUtil.bindToAddedViews(DataBindingUtil.java:327)\r\n&gt;                                                                                                     \tat\r\n&gt; androidx.databinding.DataBindingUtil.setContentView(DataBindingUtil.java:306)\r\n&gt;                                                                                                     \tat\r\n&gt; androidx.databinding.DataBindingUtil.setContentView(DataBindingUtil.java:284)\r\n&gt;                                                                                                     \tat\r\n&gt; org.sigmaaie.mobile.survey.ui.SurveyActivity.setupBinding(SurveyActivity.kt:27)\r\n&gt;                                                                                                     \tat\r\n&gt; com.sigma.core.ui.BaseModuleActivity.onCreate(BaseModuleActivity.kt:54)\r\n&gt;                                                                                                     \tat\r\n&gt; org.sigmaaie.mobile.survey.ui.SurveyActivity.onCreate(SurveyActivity.kt:22)\r\n&gt;                                                                                                     \tat android.app.Activity.performCreate(Activity.java:8109)\r\n&gt;                                                                                                     \tat android.app.Activity.performCreate(Activity.java:8083)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3452)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3651)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n&gt;                                                                                                     \tat\r\n&gt; android.app.ActivityThread$H.handleMessage(ActivityThread.java:2104)\r\n&gt;                                                                                                     \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n&gt;                                                                                                     \tat android.os.Looper.loop(Looper.java:236)\r\n&gt;                                                                                                     \tat android.app.ActivityThread.main(ActivityThread.java:7861)\r\n&gt;                                                                                                     \tat java.lang.reflect.Method.invoke(Native Method)\r\n&gt;                                                                                                     \tat\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:600)\r\n&gt;                                                                                                     \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\r\n\r\n\r\n\r\nIn both projects, databinding is enabled.\r\n\r\nI tried to remove all pro-guards rules","title":"Android Error &quot;AbstractMethodError: abstract method androidx.databinding.ViewDataBinding androidx.databinding.DataBinderMapper.getDataBinder","body":"<p>I have a library made by me, the library uses databinding, I export the library as an aar file. I have a test project where the library works for me, but when I import it into another project, it gives me the following error:</p>\n<blockquote>\n<p>java.lang.AbstractMethodError: abstract method\n&quot;androidx.databinding.ViewDataBinding\nandroidx.databinding.DataBinderMapper.getDataBinder(androidx.databinding.DataBindingComponent,\nandroid.view.View, int)&quot;\nat\nandroidx.databinding.MergedDataBinderMapper.getDataBinder(MergedDataBinderMapper.java:79)\nat\nandroidx.databinding.DataBindingUtil.bind(DataBindingUtil.java:199)\nat\nandroidx.databinding.DataBindingUtil.bindToAddedViews(DataBindingUtil.java:327)\nat\nandroidx.databinding.DataBindingUtil.setContentView(DataBindingUtil.java:306)\nat\nandroidx.databinding.DataBindingUtil.setContentView(DataBindingUtil.java:284)\nat\norg.sigmaaie.mobile.survey.ui.SurveyActivity.setupBinding(SurveyActivity.kt:27)\nat\ncom.sigma.core.ui.BaseModuleActivity.onCreate(BaseModuleActivity.kt:54)\nat\norg.sigmaaie.mobile.survey.ui.SurveyActivity.onCreate(SurveyActivity.kt:22)\nat android.app.Activity.performCreate(Activity.java:8109)\nat android.app.Activity.performCreate(Activity.java:8083)\nat\nandroid.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310)\nat\nandroid.app.ActivityThread.performLaunchActivity(ActivityThread.java:3452)\nat\nandroid.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3651)\nat\nandroid.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\nat\nandroid.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat\nandroid.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat\nandroid.app.ActivityThread$H.handleMessage(ActivityThread.java:2104)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:236)\nat android.app.ActivityThread.main(ActivityThread.java:7861)\nat java.lang.reflect.Method.invoke(Native Method)\nat\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:600)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)</p>\n</blockquote>\n<p>In both projects, databinding is enabled.</p>\n<p>I tried to remove all pro-guards rules</p>\n"},{"tags":["java","selenium-webdriver","webdriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688506682,"creation_date":1688506682,"answer_id":76615980,"question_id":76611842,"body_markdown":"`disable-dev-shm-usage` argument isn&#39;t effective unless you are using the `--no-sandbox` argument as well. So try to remove it.\r\n\r\nAgain, the argument is `--remote-allow-origins=*` instead of `--remote-allow-origins=\\*` which you mentioned. So remove it.\r\n\r\nMaking the above mentioned adjustments execute your code.","title":"Selenium Cucumber Maven framework - driver not working on VM of my company","body":"<p><code>disable-dev-shm-usage</code> argument isn't effective unless you are using the <code>--no-sandbox</code> argument as well. So try to remove it.</p>\n<p>Again, the argument is <code>--remote-allow-origins=*</code> instead of <code>--remote-allow-origins=\\*</code> which you mentioned. So remove it.</p>\n<p>Making the above mentioned adjustments execute your code.</p>\n"}],"owner":{"account_id":24894125,"reputation":27,"user_id":18765607,"display_name":"Jano Marek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76615980,"answer_count":1,"score":1,"last_activity_date":1688506682,"creation_date":1688467668,"question_id":76611842,"body_markdown":"Hello I have this problem. I&#39;m trying to run selenium tests on ubuntu machine of my company via Jenkins build started but it looks like there is some version mismatch  `chrome: 108.0.5359.124`\r\nand `chromedriver 108.0.5359.71` but there is nothing on internet like `chromedriver:108.0.5359.124`.\r\nMy log output:\r\n````\r\n(unknown error: DevToolsActivePort file doesn&#39;t exist)   (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)  Host info: host: &#39;pdbnhpsron043&#39;, ip: &#39;10.102.8.74&#39; Build info: version: &#39;4.9.0&#39;, revision: &#39;d7057100a6&#39; System info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.0-60-generic&#39;, java.version: &#39;17.0.7&#39; Driver info: org.openqa.selenium.chrome.ChromeDriver Command: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-\r\n````\r\n\r\nI try running it with driver 109 it didn&#39;t helped at all. I tried to run it with : \r\n````\r\noptions.addArguments(&quot;--remote-allow-origins=\\*&quot;); \r\noptions.addArguments(&quot;--disable-dev-shm-usage&quot;); \r\noptions.addArguments(&quot;--ignore-ssl-errors=yes&quot;); \r\noptions.addArguments(&quot;--ignore-certificate-errors&quot;); \r\n````\r\nAlso problem is that I don&#39;t have access to VM so I cannot manipulate it","title":"Selenium Cucumber Maven framework - driver not working on VM of my company","body":"<p>Hello I have this problem. I'm trying to run selenium tests on ubuntu machine of my company via Jenkins build started but it looks like there is some version mismatch  <code>chrome: 108.0.5359.124</code>\nand <code>chromedriver 108.0.5359.71</code> but there is nothing on internet like <code>chromedriver:108.0.5359.124</code>.\nMy log output:</p>\n<pre><code>(unknown error: DevToolsActivePort file doesn't exist)   (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)  Host info: host: 'pdbnhpsron043', ip: '10.102.8.74' Build info: version: '4.9.0', revision: 'd7057100a6' System info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.0-60-generic', java.version: '17.0.7' Driver info: org.openqa.selenium.chrome.ChromeDriver Command: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-\n</code></pre>\n<p>I try running it with driver 109 it didn't helped at all. I tried to run it with :</p>\n<pre><code>options.addArguments(&quot;--remote-allow-origins=\\*&quot;); \noptions.addArguments(&quot;--disable-dev-shm-usage&quot;); \noptions.addArguments(&quot;--ignore-ssl-errors=yes&quot;); \noptions.addArguments(&quot;--ignore-certificate-errors&quot;); \n</code></pre>\n<p>Also problem is that I don't have access to VM so I cannot manipulate it</p>\n"},{"tags":["java","ubuntu","selenium-webdriver","jenkins"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688479791,"creation_date":1688479791,"answer_id":76613490,"question_id":76613249,"body_markdown":"The selenium version you are using is `v4.9.0`. And the compatible browser for this version of selenium is as below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nYour browser is `v114`, see the supported version below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7YqXq.png\r\n  [2]: https://i.stack.imgur.com/C2lFz.png\r\n\r\nReference: https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\r\n\r\n\r\n**SOLUTION:** You need to switch to latest Selenium `v4.10.0`","title":"Selenium response code 500 on VM on local machine working","body":"<p>The selenium version you are using is <code>v4.9.0</code>. And the compatible browser for this version of selenium is as below:</p>\n<p><a href=\"https://i.stack.imgur.com/7YqXq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7YqXq.png\" alt=\"enter image description here\" /></a></p>\n<p>Your browser is <code>v114</code>, see the supported version below:</p>\n<p><a href=\"https://i.stack.imgur.com/C2lFz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C2lFz.png\" alt=\"enter image description here\" /></a></p>\n<p>Reference: <a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG</a></p>\n<p><strong>SOLUTION:</strong> You need to switch to latest Selenium <code>v4.10.0</code></p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688505715,"creation_date":1688505715,"answer_id":76615930,"question_id":76613249,"body_markdown":"Drop the following arguments incase they aren&#39;t mandatory:\r\n\r\n- _`--remote-allow-origins=*`_\r\n- _`--disable-dev-shm-usage`_\r\n- _`--no-sandbox`_\r\n- _`--ignore-certificate-errors`_\r\n\r\nand retest. You should be good to go.","title":"Selenium response code 500 on VM on local machine working","body":"<p>Drop the following arguments incase they aren't mandatory:</p>\n<ul>\n<li><em><code>--remote-allow-origins=*</code></em></li>\n<li><em><code>--disable-dev-shm-usage</code></em></li>\n<li><em><code>--no-sandbox</code></em></li>\n<li><em><code>--ignore-certificate-errors</code></em></li>\n</ul>\n<p>and retest. You should be good to go.</p>\n"}],"owner":{"account_id":24894125,"reputation":27,"user_id":18765607,"display_name":"Jano Marek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76615930,"answer_count":2,"score":1,"last_activity_date":1688505715,"creation_date":1688478079,"question_id":76613249,"body_markdown":"Hello I have Maven Selenium Cucumber project on my local machine everything is working. Im trying to launch it on Virtual machine via jenkins. after build starts i have this error on every test:\r\nVersions:\r\n\r\n```\r\nChromeDriver 114.0.5735.16 (7e1ff058633f5b79b1cd7479aca585ba385519d8-refs/branch-heads/5735@{#182})\r\nGoogle Chrome 114.0.5735.198 \r\n```\r\n\r\n```\r\nGiven Chrome browser is initalized                                                     # stepDefinitions.login.chrome_browser_is_initalized()\r\n      org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: exited abnormally.\r\n  (chrome not reachable)\r\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \r\nHost info: host: &#39;pdbnhpsron043&#39;, ip: &#39;10.102.8.74&#39;\r\nBuild info: version: &#39;4.9.0&#39;, revision: &#39;d7057100a6&#39;\r\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.0-76-generic&#39;, java.version: &#39;17.0.7&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-dev-shm-usage, --no-sandbox, --ignore-certificate-errors, --remote-debugging-port=9222], extensions: []}}]}]\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:136)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:94)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:73)\r\n\tat stepDefinitions.MySharedClass.startBrowser(MySharedClass.java:32)\r\n\tat stepDefinitions.login.&lt;init&gt;(login.java:20)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.picocontainer.injectors.AbstractInjector.newInstance(AbstractInjector.java:145)\r\n\tat org.picocontainer.injectors.ConstructorInjector$1.run(ConstructorInjector.java:342)\r\n\tat org.picocontainer.injectors.AbstractInjector$ThreadLocalCyclicDependencyGuard.observe(AbstractInjector.java:270)\r\n\tat org.picocontainer.injectors.ConstructorInjector.getComponentInstance(ConstructorInjector.java:364)\r\n\tat org.picocontainer.injectors.AbstractInjectionFactory$LifecycleAdapter.getComponentInstance(AbstractInjectionFactory.java:56)\r\n\tat org.picocontainer.behaviors.AbstractBehavior.getComponentInstance(AbstractBehavior.java:64)\r\n\tat org.picocontainer.behaviors.Stored.getComponentInstance(Stored.java:91)\r\n\tat org.picocontainer.DefaultPicoContainer.getInstance(DefaultPicoContainer.java:699)\r\n\tat org.picocontainer.DefaultPicoContainer.getComponent(DefaultPicoContainer.java:647)\r\n\tat org.picocontainer.DefaultPicoContainer.getComponent(DefaultPicoContainer.java:678)\r\n\tat io.cucumber.picocontainer.PicoFactory.getInstance(PicoFactory.java:54)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n\tat io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\r\n\tat io.cucumber.core.runner.TestCase.run(TestCase.java:84)\r\n\tat io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\r\n\tat io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\r\n\tat io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)\r\n\tat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:144)\r\n\tat io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:28)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat io.cucumber.junit.FeatureRunner.run(FeatureRunner.java:137)\r\n\tat io.cucumber.junit.Cucumber.runChild(Cucumber.java:196)\r\n\tat io.cucumber.junit.Cucumber.runChild(Cucumber.java:89)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.lambda$runFeatures$6(CucumberExecutionContext.java:148)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.execute(CucumberExecutionContext.java:163)\r\n\tat io.cucumber.core.runtime.CucumberExecutionContext.runFeatures(CucumberExecutionContext.java:146)\r\n\tat io.cucumber.junit.Cucumber$StartAndFinishTestRun.evaluate(Cucumber.java:226)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:316)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:240)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:214)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:155)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)\r\n\r\n  And I go to url mtf-ref.telekom.de within Telekom network                              # stepDefinitions.login.i_go_to_url_mtf_ref_telekom_de_within_telekom_network()\r\n  When I press button Anmeldung mit Passwort                                             # stepDefinitions.login.i_press_button_anmeldung_mit_passwort()\r\n  And I enter &quot;robo_sb_v_sp&quot; in field Benutzername and &quot;abcABC123!!!&quot; in field Password. # stepDefinitions.login.i_enter_in_field_benutzername_and_in_field_password(java.lang.String,java.lang.String)\r\n  Then I press button Anmelden                                                           # stepDefinitions.login.i_press_button_anmelden()\r\n  And Im logged in succesfully                                                           # stepDefinitions.login.im_logged_in_succesfully()\r\n      java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.TakesScreenshot.getScreenshotAs(org.openqa.selenium.OutputType)&quot; because &quot;ts&quot; is null\r\n\tat stepDefinitions.MySharedClass.closeBrowser(MySharedClass.java:45)\r\n```\r\n\r\nI updated to latest versions and i was thinking it will help. Watch ton of videos about trouble shooting nothing helps","title":"Selenium response code 500 on VM on local machine working","body":"<p>Hello I have Maven Selenium Cucumber project on my local machine everything is working. Im trying to launch it on Virtual machine via jenkins. after build starts i have this error on every test:\nVersions:</p>\n<pre><code>ChromeDriver 114.0.5735.16 (7e1ff058633f5b79b1cd7479aca585ba385519d8-refs/branch-heads/5735@{#182})\nGoogle Chrome 114.0.5735.198 \n</code></pre>\n<pre><code>Given Chrome browser is initalized                                                     # stepDefinitions.login.chrome_browser_is_initalized()\n      org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: exited abnormally.\n  (chrome not reachable)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.) \nHost info: host: 'pdbnhpsron043', ip: '10.102.8.74'\nBuild info: version: '4.9.0', revision: 'd7057100a6'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.0-76-generic', java.version: '17.0.7'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--remote-allow-origins=*, --disable-dev-shm-usage, --no-sandbox, --ignore-certificate-errors, --remote-debugging-port=9222], extensions: []}}]}]\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:136)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:94)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:84)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:73)\n    at stepDefinitions.MySharedClass.startBrowser(MySharedClass.java:32)\n    at stepDefinitions.login.&lt;init&gt;(login.java:20)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.picocontainer.injectors.AbstractInjector.newInstance(AbstractInjector.java:145)\n    at org.picocontainer.injectors.ConstructorInjector$1.run(ConstructorInjector.java:342)\n    at org.picocontainer.injectors.AbstractInjector$ThreadLocalCyclicDependencyGuard.observe(AbstractInjector.java:270)\n    at org.picocontainer.injectors.ConstructorInjector.getComponentInstance(ConstructorInjector.java:364)\n    at org.picocontainer.injectors.AbstractInjectionFactory$LifecycleAdapter.getComponentInstance(AbstractInjectionFactory.java:56)\n    at org.picocontainer.behaviors.AbstractBehavior.getComponentInstance(AbstractBehavior.java:64)\n    at org.picocontainer.behaviors.Stored.getComponentInstance(Stored.java:91)\n    at org.picocontainer.DefaultPicoContainer.getInstance(DefaultPicoContainer.java:699)\n    at org.picocontainer.DefaultPicoContainer.getComponent(DefaultPicoContainer.java:647)\n    at org.picocontainer.DefaultPicoContainer.getComponent(DefaultPicoContainer.java:678)\n    at io.cucumber.picocontainer.PicoFactory.getInstance(PicoFactory.java:54)\n    at io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\n    at io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\n    at io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\n    at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\n    at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\n    at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\n    at io.cucumber.core.runner.TestStep.run(TestStep.java:56)\n    at io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)\n    at io.cucumber.core.runner.TestCase.run(TestCase.java:84)\n    at io.cucumber.core.runner.Runner.runPickle(Runner.java:75)\n    at io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)\n    at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)\n    at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)\n    at io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)\n    at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:144)\n    at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:28)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at io.cucumber.junit.FeatureRunner.run(FeatureRunner.java:137)\n    at io.cucumber.junit.Cucumber.runChild(Cucumber.java:196)\n    at io.cucumber.junit.Cucumber.runChild(Cucumber.java:89)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runFeatures$6(CucumberExecutionContext.java:148)\n    at io.cucumber.core.runtime.CucumberExecutionContext.execute(CucumberExecutionContext.java:163)\n    at io.cucumber.core.runtime.CucumberExecutionContext.runFeatures(CucumberExecutionContext.java:146)\n    at io.cucumber.junit.Cucumber$StartAndFinishTestRun.evaluate(Cucumber.java:226)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:316)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:240)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:214)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:155)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\n    at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)\n\n  And I go to url mtf-ref.telekom.de within Telekom network                              # stepDefinitions.login.i_go_to_url_mtf_ref_telekom_de_within_telekom_network()\n  When I press button Anmeldung mit Passwort                                             # stepDefinitions.login.i_press_button_anmeldung_mit_passwort()\n  And I enter &quot;robo_sb_v_sp&quot; in field Benutzername and &quot;abcABC123!!!&quot; in field Password. # stepDefinitions.login.i_enter_in_field_benutzername_and_in_field_password(java.lang.String,java.lang.String)\n  Then I press button Anmelden                                                           # stepDefinitions.login.i_press_button_anmelden()\n  And Im logged in succesfully                                                           # stepDefinitions.login.im_logged_in_succesfully()\n      java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.TakesScreenshot.getScreenshotAs(org.openqa.selenium.OutputType)&quot; because &quot;ts&quot; is null\n    at stepDefinitions.MySharedClass.closeBrowser(MySharedClass.java:45)\n</code></pre>\n<p>I updated to latest versions and i was thinking it will help. Watch ton of videos about trouble shooting nothing helps</p>\n"},{"tags":["java","security","cryptography","hsm","softhsm"],"answers":[{"tags":[],"owner":{"account_id":1413799,"reputation":731,"user_id":1339879,"display_name":"Manuel Pardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688505650,"creation_date":1688505650,"answer_id":76615926,"question_id":73034996,"body_markdown":"Yes it is possible.\r\n\r\nJust create two configs, and USE different names otherwise it will use always the same first one\r\n\r\n    pkcs11.slot1.conf\r\n        name = Slot1\r\n        library = /usr/local/lib/softhsm/libsofthsm2.so\r\n        slot=225432144\r\n\r\n\r\n    pkcs11.slot2.conf\r\n        name = Slot2\r\n        library = /usr/local/lib/softhsm/libsofthsm2.so\r\n        slot=1288498471\r\n\r\n\r\nIn Java you could do something like this to load different slots configs:\r\n\r\n    Provider providerPKCS11 = Security.getProvider(&quot;SunPKCS11&quot;);\r\n    if (providerId != null &amp;&amp; providerId.equals(&quot;1&quot;)) {\r\n            providerPKCS11 =providerPKCS11.configure(&quot;pkcs11.slot1.conf&quot;);\r\n\r\n    } else {\r\n            providerPKCS11 =providerPKCS11.configure(&quot;pkcs11.slot2.conf&quot;);\r\n\r\n    }\r\n    Security.addProvider(providerPKCS11);\r\n\r\n    KeyStore ks = KeyStore.getInstance(&quot;PKCS11&quot;, providerPKCS11);\r\n    ...\r\n    ..\r\n    .\r\n\r\n","title":"How can I make multiple clients connect to multiple slots in SoftHSM by Java code","body":"<p>Yes it is possible.</p>\n<p>Just create two configs, and USE different names otherwise it will use always the same first one</p>\n<pre><code>pkcs11.slot1.conf\n    name = Slot1\n    library = /usr/local/lib/softhsm/libsofthsm2.so\n    slot=225432144\n\n\npkcs11.slot2.conf\n    name = Slot2\n    library = /usr/local/lib/softhsm/libsofthsm2.so\n    slot=1288498471\n</code></pre>\n<p>In Java you could do something like this to load different slots configs:</p>\n<pre><code>Provider providerPKCS11 = Security.getProvider(&quot;SunPKCS11&quot;);\nif (providerId != null &amp;&amp; providerId.equals(&quot;1&quot;)) {\n        providerPKCS11 =providerPKCS11.configure(&quot;pkcs11.slot1.conf&quot;);\n\n} else {\n        providerPKCS11 =providerPKCS11.configure(&quot;pkcs11.slot2.conf&quot;);\n\n}\nSecurity.addProvider(providerPKCS11);\n\nKeyStore ks = KeyStore.getInstance(&quot;PKCS11&quot;, providerPKCS11);\n...\n..\n.\n</code></pre>\n"}],"owner":{"account_id":25669393,"reputation":1,"user_id":19433895,"display_name":"Việt Nguyễn Ho&#224;ng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688505650,"creation_date":1658225267,"question_id":73034996,"body_markdown":"I&#39;m doing a task about SoftHSM. I have built an application in Java as a server. So, I config the connection in a softhsm.cfg file\r\n```name = SoftHSM\r\nlibrary = F:\\SoftHSM2\\lib\\softhsm2-x64.dll\r\nslot = 767671965\r\nattributes(generate, *, *) = {\r\n\t CKA_TOKEN = true\r\n}\r\nattributes(generate, CKO_CERTIFICATE, *) = {\r\n\t CKA_PRIVATE = false\r\n}\r\nattributes(generate, CKO_PUBLIC_KEY, *) = {\r\n\t CKA_PRIVATE = false\r\n}\r\n```\r\nThen I use SunPKCS11 provider to connect from my client to SoftHSM server\r\n```\r\nSunPKCS11 provider = new SunPKCS11(Constant.CONFIG_NAME);\r\n            if (Security.getProvider(Constant.PROVIDER_NAME) != null) {\r\n                Security.removeProvider(Constant.PROVIDER_NAME);\r\n            }\r\n            Security.addProvider(provider);\r\n            log.info(&quot;Name of provider :{}&quot;, provider.getName());\r\n            // Load the key store\r\n            char[] pin = bean.getPin().toCharArray();\r\n            KeyStore ks = KeyStore.getInstance(Constant.KEYSTORE_TYPE, provider);\r\n            ks.load(null, pin);\r\n\r\n            KeyPair keyPair = generateKeyPair();\r\n            PrivateKey privateKey = keyPair.getPrivate();\r\n\r\n            X509Certificate[] chain = generateV3Certificate(keyPair);\r\n            ks.setKeyEntry(bean.getAliasName(), privateKey, bean.getPin().toCharArray(), chain);\r\n```\r\nI put keys into keystore and get them to do cryptographic operations\r\n\r\nAll above things, I only connect a client to server. But, now I want 3 or more clients connecting to SoftHSM server. I want to each client possess different PIN to do cryptographic operations.\r\nHow can I do? ","title":"How can I make multiple clients connect to multiple slots in SoftHSM by Java code","body":"<p>I'm doing a task about SoftHSM. I have built an application in Java as a server. So, I config the connection in a softhsm.cfg file</p>\n<pre><code>library = F:\\SoftHSM2\\lib\\softhsm2-x64.dll\nslot = 767671965\nattributes(generate, *, *) = {\n     CKA_TOKEN = true\n}\nattributes(generate, CKO_CERTIFICATE, *) = {\n     CKA_PRIVATE = false\n}\nattributes(generate, CKO_PUBLIC_KEY, *) = {\n     CKA_PRIVATE = false\n}\n</code></pre>\n<p>Then I use SunPKCS11 provider to connect from my client to SoftHSM server</p>\n<pre><code>SunPKCS11 provider = new SunPKCS11(Constant.CONFIG_NAME);\n            if (Security.getProvider(Constant.PROVIDER_NAME) != null) {\n                Security.removeProvider(Constant.PROVIDER_NAME);\n            }\n            Security.addProvider(provider);\n            log.info(&quot;Name of provider :{}&quot;, provider.getName());\n            // Load the key store\n            char[] pin = bean.getPin().toCharArray();\n            KeyStore ks = KeyStore.getInstance(Constant.KEYSTORE_TYPE, provider);\n            ks.load(null, pin);\n\n            KeyPair keyPair = generateKeyPair();\n            PrivateKey privateKey = keyPair.getPrivate();\n\n            X509Certificate[] chain = generateV3Certificate(keyPair);\n            ks.setKeyEntry(bean.getAliasName(), privateKey, bean.getPin().toCharArray(), chain);\n</code></pre>\n<p>I put keys into keystore and get them to do cryptographic operations</p>\n<p>All above things, I only connect a client to server. But, now I want 3 or more clients connecting to SoftHSM server. I want to each client possess different PIN to do cryptographic operations.\nHow can I do?</p>\n"},{"tags":["java","lambda","java-11"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1688505084,"post_id":76615879,"comment_id":135081963,"body_markdown":"I guess you could write helper methods that give you the lambda, e.g. `class FooPods { static int x(FooPod f) { return f.x; } }`, then use `FooPods::x`. But short of that, you&#39;ve got to write the lambda.","body":"I guess you could write helper methods that give you the lambda, e.g. <code>class FooPods { static int x(FooPod f) { return f.x; } }</code>, then use <code>FooPods::x</code>. But short of that, you&#39;ve got to write the lambda."},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":1,"creation_date":1688505210,"post_id":76615879,"comment_id":135081984,"body_markdown":"() -&gt; x seems pretty succinct to me.","body":"() -&gt; x seems pretty succinct to me."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1688506358,"post_id":76615879,"comment_id":135082154,"body_markdown":"You could use a `record`. Or Lombok.","body":"You could use a <code>record</code>. Or Lombok."},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":1,"creation_date":1688506583,"post_id":76615879,"comment_id":135082183,"body_markdown":"Exactly what do you expect `FooPod::x` to do? Seems like it&#39;s just giving you `FooPod.x` so just do that?","body":"Exactly what do you expect <code>FooPod::x</code> to do? Seems like it&#39;s just giving you <code>FooPod.x</code> so just do that?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1688507671,"post_id":76615879,"comment_id":135082285,"body_markdown":"Is there a programming language you are referring to?  What is a _&quot;succinct method reference&quot;_?  Is it related to the _[succinct data structure](https://en.wikipedia.org/wiki/Succinct_data_structure)_?","body":"Is there a programming language you are referring to?  What is a <i>&quot;succinct method reference&quot;</i>?  Is it related to the <i><a href=\"https://en.wikipedia.org/wiki/Succinct_data_structure\" rel=\"nofollow noreferrer\">succinct data structure</a></i>?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1688558171,"post_id":76615879,"comment_id":135088678,"body_markdown":"Is `Foo::x` so much better than `foo -&gt; foo.x` (or `f-&gt;f.x` if brevity matters that much)? Besides, you probably want to use `ToIntFunction&lt;Foo&gt;` instead of `Function&lt;Foo, Integer&gt;`.","body":"Is <code>Foo::x</code> so much better than <code>foo -&gt; foo.x</code> (or <code>f-&gt;f.x</code> if brevity matters that much)? Besides, you probably want to use <code>ToIntFunction&lt;Foo&gt;</code> instead of <code>Function&lt;Foo, Integer&gt;</code>."}],"owner":{"account_id":50030,"reputation":61435,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688504862,"creation_date":1688504862,"question_id":76615879,"body_markdown":"Does Java have something analogous the succinct method reference syntax?\r\n\r\nE.g., imagine I have:\r\n\r\n```java\r\nclass Foo {\r\n  public int getX() { ... };\r\n  public int getY() { ... };\r\n  public int getY() { ... };\r\n}\r\n```\r\n\r\nI might write some generic code to handle all of these methods equivalently using method references, e.g.,:\r\n\r\n```java\r\nvoid printOne(String name, Function&lt;Foo, Integer&gt; extractFn) { .... };\r\n\r\nprintOne(&quot;x&quot;, Foo::getX);\r\nprintOne(&quot;y&quot;, Foo::getY);\r\nprintOne(&quot;z&quot;, Foo::getZ);\r\n```\r\n\r\nSo far so good.\r\n\r\nNow if instead of getters I had a simple POD like:\r\n\r\n```java\r\nclass FooPod {\r\n  public int x, y, z;\r\n}\r\n```\r\n\r\nIs there any equivalent way to use something succinct like `FooPod::x` without needing to write out the whole lambda each time?\r\n","title":"Java &quot;member reference&quot;","body":"<p>Does Java have something analogous the succinct method reference syntax?</p>\n<p>E.g., imagine I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo {\n  public int getX() { ... };\n  public int getY() { ... };\n  public int getY() { ... };\n}\n</code></pre>\n<p>I might write some generic code to handle all of these methods equivalently using method references, e.g.,:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void printOne(String name, Function&lt;Foo, Integer&gt; extractFn) { .... };\n\nprintOne(&quot;x&quot;, Foo::getX);\nprintOne(&quot;y&quot;, Foo::getY);\nprintOne(&quot;z&quot;, Foo::getZ);\n</code></pre>\n<p>So far so good.</p>\n<p>Now if instead of getters I had a simple POD like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FooPod {\n  public int x, y, z;\n}\n</code></pre>\n<p>Is there any equivalent way to use something succinct like <code>FooPod::x</code> without needing to write out the whole lambda each time?</p>\n"},{"tags":["java","android","firebase","push-notification"],"comments":[{"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"score":0,"creation_date":1539847830,"post_id":52868396,"comment_id":92651578,"body_markdown":"Possible duplicate of [startForeground fail after upgrade to Android 8.1](https://stackoverflow.com/questions/47531742/startforeground-fail-after-upgrade-to-android-8-1)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/47531742/startforeground-fail-after-upgrade-to-android-8-1\">startForeground fail after upgrade to Android 8.1</a>"},{"owner":{"account_id":9262331,"reputation":115,"user_id":6878953,"accept_rate":75,"display_name":"Dnveeraj"},"score":0,"creation_date":1540020499,"post_id":52868396,"comment_id":92717965,"body_markdown":"Well I solved my problem, I used startForegroundService() method somewhere in my Location Tracking class. else the above code is working perfectly fine.","body":"Well I solved my problem, I used startForegroundService() method somewhere in my Location Tracking class. else the above code is working perfectly fine."},{"owner":{"account_id":5799771,"reputation":262,"user_id":4574300,"display_name":"Thamarai T"},"score":0,"creation_date":1554804135,"post_id":52868396,"comment_id":97877028,"body_markdown":"Can you send the value of &#39;R.string.default_notification_channel_id&#39;?","body":"Can you send the value of &#39;R.string.default_notification_channel_id&#39;?"}],"answers":[{"tags":[],"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539851131,"creation_date":1539846154,"answer_id":52868626,"question_id":52868396,"body_markdown":"**Put your logic inside `onMessageReceived`**: Check [Firebase quickstart sample.][1]\r\n\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        // Handle data payload of FCM messages.\r\n        Log.d(TAG, &quot;From: &quot; + remoteMessage.getFrom());\r\n        // Check if message contains a data payload.\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n            Log.d(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\r\n            Map&lt;String, String&gt; params = remoteMessage.getData();\r\n            JSONObject object = new JSONObject(params);\r\n            if (/* Check if data needs to be processed by long running job */ true) {\r\n                // For long-running tasks (10 seconds or more) use Firebase Job Dispatcher.\r\n                scheduleJob();\r\n            } else {\r\n                // Handle message within 10 seconds\r\n                final String msg = object.getString(&quot;msg&quot;);\r\n                sendNotification(msg);\r\n                handleNow();\r\n            }\r\n\r\n        }\r\n\r\n        // Check if message contains a notification payload.\r\n        if (remoteMessage.getNotification() != null) {\r\n            Log.d(TAG, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\r\n        }\r\n    }\r\n\r\n    private void sendNotification(String messageBody) {\r\n        Intent intent = new Intent(this, Home.class);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\r\n                PendingIntent.FLAG_ONE_SHOT);\r\n\r\n        String channelId = getString(R.string.default_notification_channel_id);\r\n        Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n        NotificationCompat.Builder notificationBuilder =\r\n                new NotificationCompat.Builder(this, channelId)\r\n                        .setSmallIcon(R.drawable.ic_stat_ic_notification)\r\n                        .setContentTitle(getString(R.string.fcm_message))\r\n                        .setContentText(messageBody)\r\n                        .setAutoCancel(true)\r\n                        .setSound(defaultSoundUri)\r\n                        .setContentIntent(pendingIntent);\r\n\r\n        NotificationManager notificationManager =\r\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n        // Since android Oreo notification channel is needed.\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel channel = new NotificationChannel(channelId,\r\n                    &quot;Channel human readable title&quot;,\r\n                    NotificationManager.IMPORTANCE_DEFAULT);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n        notificationManager.notify(0 /* ID of notification */, notificationBuilder.build());\r\n    }\r\n\r\n\r\n  [1]: https://github.com/firebase/quickstart-android/blob/master/messaging/app/src/main/java/com/google/firebase/quickstart/fcm/java/MyFirebaseMessagingService.java","title":"Android Version 8.1, Bad notification for startForeground","body":"<p><strong>Put your logic inside <code>onMessageReceived</code></strong>: Check <a href=\"https://github.com/firebase/quickstart-android/blob/master/messaging/app/src/main/java/com/google/firebase/quickstart/fcm/java/MyFirebaseMessagingService.java\" rel=\"nofollow noreferrer\">Firebase quickstart sample.</a></p>\n\n<pre><code>public void onMessageReceived(RemoteMessage remoteMessage) {\n    // Handle data payload of FCM messages.\n    Log.d(TAG, \"From: \" + remoteMessage.getFrom());\n    // Check if message contains a data payload.\n    if (remoteMessage.getData().size() &gt; 0) {\n        Log.d(TAG, \"Message data payload: \" + remoteMessage.getData());\n        Map&lt;String, String&gt; params = remoteMessage.getData();\n        JSONObject object = new JSONObject(params);\n        if (/* Check if data needs to be processed by long running job */ true) {\n            // For long-running tasks (10 seconds or more) use Firebase Job Dispatcher.\n            scheduleJob();\n        } else {\n            // Handle message within 10 seconds\n            final String msg = object.getString(\"msg\");\n            sendNotification(msg);\n            handleNow();\n        }\n\n    }\n\n    // Check if message contains a notification payload.\n    if (remoteMessage.getNotification() != null) {\n        Log.d(TAG, \"Message Notification Body: \" + remoteMessage.getNotification().getBody());\n    }\n}\n\nprivate void sendNotification(String messageBody) {\n    Intent intent = new Intent(this, Home.class);\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\n            PendingIntent.FLAG_ONE_SHOT);\n\n    String channelId = getString(R.string.default_notification_channel_id);\n    Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n    NotificationCompat.Builder notificationBuilder =\n            new NotificationCompat.Builder(this, channelId)\n                    .setSmallIcon(R.drawable.ic_stat_ic_notification)\n                    .setContentTitle(getString(R.string.fcm_message))\n                    .setContentText(messageBody)\n                    .setAutoCancel(true)\n                    .setSound(defaultSoundUri)\n                    .setContentIntent(pendingIntent);\n\n    NotificationManager notificationManager =\n            (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n    // Since android Oreo notification channel is needed.\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        NotificationChannel channel = new NotificationChannel(channelId,\n                \"Channel human readable title\",\n                NotificationManager.IMPORTANCE_DEFAULT);\n        notificationManager.createNotificationChannel(channel);\n    }\n    notificationManager.notify(0 /* ID of notification */, notificationBuilder.build());\n}\n</code></pre>\n"}],"owner":{"account_id":9262331,"reputation":115,"user_id":6878953,"accept_rate":75,"display_name":"Dnveeraj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7916,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1688504720,"creation_date":1539845191,"question_id":52868396,"body_markdown":"I have given my couple of days to solve this issue. My app is getting crash whose android version is 8.1. It is working perfectly fine in Android Version 8.0.\r\n\r\nI followed the link mentioned below for the solution and tried many solutions given in this link but my application is not opening.\r\n\r\nhttps://stackoverflow.com/questions/47531742/startforeground-fail-after-upgrade-to-android-8-1/47533338\r\n\r\nI check the Android version in FirebaseMessageService class and create the channel for Oreo version but below given error is showing everytime\r\n\r\n     android.app.RemoteServiceException: Bad notification for startForeground: java.lang.RuntimeException: invalid channel for service notification: Notification(channel=null pri=0 contentView=null vibrate=null sound=null defaults=0x0 flags=0x40 color=0x00000000 vis=PRIVATE)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1795)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:171)\r\n            at android.app.ActivityThread.main(ActivityThread.java:6649)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:824)\r\n\r\nHere below is my code. Please help me to rectify this problem\r\n\r\n        public class MyFirebaseMessagingService extends FirebaseMessagingService\r\n        {\r\n            private NotificationManager notifManager;\r\n            Context mContext;\r\n            Random random = new Random();\r\n            int m = random.nextInt(9999 - 1000) + 1000;\r\n        \r\n            @Override\r\n            public void onMessageReceived(RemoteMessage remoteMessage) \r\n            {\r\n               sendNotification();\r\n            }\r\n        \r\n     \r\n    \r\n       public void sendNotification()\r\n       {\r\n       Intent intent = new Intent(this, Home.class);\r\n       intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n       PendingIntent pendingIntent = PendingIntent.getActivity(this, m /* Request code */, intent, PendingIntent.FLAG_ONE_SHOT);\r\n    \r\n       String channelId = getString(R.string.default_notification_channel_id);\r\n       Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n       NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, channelId)\r\n                       .setSmallIcon(R.drawable.app_icon)\r\n                       .setContentTitle(&quot;Logipace&quot;)\r\n                       .setStyle(new NotificationCompat.BigTextStyle()\r\n                               .bigText(message))\r\n                       .setContentText(message)\r\n                       .setAutoCancel(true)\r\n                       .setSound(defaultSoundUri)\r\n                       .setContentIntent(pendingIntent);\r\n       notificationBuilder.setDefaults(Notification.DEFAULT_SOUND);\r\n    \r\n       NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n    \r\n        // Since android Oreo notification channel is needed.\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n        {\r\n            NotificationChannel channel = new NotificationChannel(channelId, &quot;LOGIPACE&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n            notificationManager.createNotificationChannel(channel);\r\n        }\r\n    \r\n        notificationManager.notify(m /* ID of notification */, notificationBuilder.build());\r\n    \r\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        startActivity(intent);\r\n    }\r\n        }\r\n\r\n\r\nBelow is the code which I used in the onCreate() method of my Activity class.\r\n\r\n     if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n            {\r\n                // Create channel to show notifications.\r\n                String channelId  = getString(R.string.default_notification_channel_id);\r\n                String channelName = getString(R.string.default_notification_channel_name);\r\n                NotificationManager notificationManager =\r\n                        getSystemService(NotificationManager.class);\r\n                notificationManager.createNotificationChannel(new NotificationChannel(channelId,\r\n                        channelName, NotificationManager.IMPORTANCE_LOW));\r\n            }\r\n\r\n\r\n\r\nHelp me to resolve this issue.","title":"Android Version 8.1, Bad notification for startForeground","body":"<p>I have given my couple of days to solve this issue. My app is getting crash whose android version is 8.1. It is working perfectly fine in Android Version 8.0.</p>\n\n<p>I followed the link mentioned below for the solution and tried many solutions given in this link but my application is not opening.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/47531742/startforeground-fail-after-upgrade-to-android-8-1/47533338\">startForeground fail after upgrade to Android 8.1</a></p>\n\n<p>I check the Android version in FirebaseMessageService class and create the channel for Oreo version but below given error is showing everytime</p>\n\n<pre><code> android.app.RemoteServiceException: Bad notification for startForeground: java.lang.RuntimeException: invalid channel for service notification: Notification(channel=null pri=0 contentView=null vibrate=null sound=null defaults=0x0 flags=0x40 color=0x00000000 vis=PRIVATE)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1795)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:171)\n        at android.app.ActivityThread.main(ActivityThread.java:6649)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:824)\n</code></pre>\n\n<p>Here below is my code. Please help me to rectify this problem</p>\n\n<pre><code>    public class MyFirebaseMessagingService extends FirebaseMessagingService\n    {\n        private NotificationManager notifManager;\n        Context mContext;\n        Random random = new Random();\n        int m = random.nextInt(9999 - 1000) + 1000;\n\n        @Override\n        public void onMessageReceived(RemoteMessage remoteMessage) \n        {\n           sendNotification();\n        }\n\n\n\n   public void sendNotification()\n   {\n   Intent intent = new Intent(this, Home.class);\n   intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n   PendingIntent pendingIntent = PendingIntent.getActivity(this, m /* Request code */, intent, PendingIntent.FLAG_ONE_SHOT);\n\n   String channelId = getString(R.string.default_notification_channel_id);\n   Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n   NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, channelId)\n                   .setSmallIcon(R.drawable.app_icon)\n                   .setContentTitle(\"Logipace\")\n                   .setStyle(new NotificationCompat.BigTextStyle()\n                           .bigText(message))\n                   .setContentText(message)\n                   .setAutoCancel(true)\n                   .setSound(defaultSoundUri)\n                   .setContentIntent(pendingIntent);\n   notificationBuilder.setDefaults(Notification.DEFAULT_SOUND);\n\n   NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n    // Since android Oreo notification channel is needed.\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n    {\n        NotificationChannel channel = new NotificationChannel(channelId, \"LOGIPACE\", NotificationManager.IMPORTANCE_DEFAULT);\n        notificationManager.createNotificationChannel(channel);\n    }\n\n    notificationManager.notify(m /* ID of notification */, notificationBuilder.build());\n\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n    startActivity(intent);\n}\n    }\n</code></pre>\n\n<p>Below is the code which I used in the onCreate() method of my Activity class.</p>\n\n<pre><code> if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n        {\n            // Create channel to show notifications.\n            String channelId  = getString(R.string.default_notification_channel_id);\n            String channelName = getString(R.string.default_notification_channel_name);\n            NotificationManager notificationManager =\n                    getSystemService(NotificationManager.class);\n            notificationManager.createNotificationChannel(new NotificationChannel(channelId,\n                    channelName, NotificationManager.IMPORTANCE_LOW));\n        }\n</code></pre>\n\n<p>Help me to resolve this issue.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user1907906"},"score":0,"creation_date":1430146207,"post_id":29898941,"comment_id":47920722,"body_markdown":"I don&#39;t think this is meant for general usage.","body":"I don&#39;t think this is meant for general usage."},{"owner":{"account_id":2406105,"reputation":15821,"user_id":2102532,"accept_rate":67,"display_name":"meskobalazs"},"score":2,"creation_date":1430146250,"post_id":29898941,"comment_id":47920764,"body_markdown":"Of course it is not meant for it, it is *unsafe* for a reason :) That however, does not make this a bad question.","body":"Of course it is not meant for it, it is <i>unsafe</i> for a reason :) That however, does not make this a bad question."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1430146259,"post_id":29898941,"comment_id":47920773,"body_markdown":"why are you using something from a `sun.*` package, those are not intended to be public! **You should not be using these classes especially if you have to ask questions like this.**","body":"why are you using something from a <code>sun.*</code> package, those are not intended to be public! <b>You should not be using these classes especially if you have to ask questions like this.</b>"},{"owner":{"account_id":5877017,"reputation":2197,"user_id":4627565,"accept_rate":100,"display_name":"Bionix1441"},"score":2,"creation_date":1430146357,"post_id":29898941,"comment_id":47920861,"body_markdown":"it is unsafe sure, but there is no harm in understanding how it works and what the is the value returned by this method.","body":"it is unsafe sure, but there is no harm in understanding how it works and what the is the value returned by this method."},{"owner":{"display_name":"user1907906"},"score":1,"creation_date":1430146372,"post_id":29898941,"comment_id":47920871,"body_markdown":"Ask Sun for the sources. Maybe they will help you understand the code.","body":"Ask Sun for the sources. Maybe they will help you understand the code."},{"owner":{"account_id":5715254,"reputation":2865,"user_id":4515720,"accept_rate":75,"display_name":"Evan Bechtol"},"score":3,"creation_date":1430146575,"post_id":29898941,"comment_id":47921017,"body_markdown":"The method gives you Java object memory layout information.\n\nThis is used to determine the amount of memory that the given array is occupying.\nScale Factor is a term that represents how much a given quantity, in this case memory, is being multiplied by to represent the total.\n\nYou **should not use the method that you are trying to use; UNSAFE**. However, there are safer versions that you can use:\n\n    staticFieldBase\nor\n\n    staticFieldOffset","body":"The method gives you Java object memory layout information.  This is used to determine the amount of memory that the given array is occupying. Scale Factor is a term that represents how much a given quantity, in this case memory, is being multiplied by to represent the total.  You <b>should not use the method that you are trying to use; UNSAFE</b>. However, there are safer versions that you can use:      staticFieldBase or      staticFieldOffset"},{"owner":{"account_id":5877017,"reputation":2197,"user_id":4627565,"accept_rate":100,"display_name":"Bionix1441"},"score":0,"creation_date":1430147189,"post_id":29898941,"comment_id":47921433,"body_markdown":"I hope I have understood what you said correctly. So if this method returns 4, so 4 * some number gives the total amount of memory occupied by this object right ?","body":"I hope I have understood what you said correctly. So if this method returns 4, so 4 * some number gives the total amount of memory occupied by this object right ?"},{"owner":{"account_id":5956954,"reputation":3080,"user_id":4683264,"accept_rate":92,"display_name":"J Atkin"},"score":1,"creation_date":1430148148,"post_id":29898941,"comment_id":47922091,"body_markdown":"If the method returns 4, the memory used by the object is 4 bytes.","body":"If the method returns 4, the memory used by the object is 4 bytes."},{"owner":{"account_id":25029,"reputation":14407,"user_id":64046,"display_name":"JasonMArcher"},"score":5,"creation_date":1430154856,"post_id":29898941,"comment_id":47926632,"body_markdown":"The suggested duplicate does not make sense because it does not answer the question at all.  @EvanBechtol has a great answer, so we should reopen so that he can post it.","body":"The suggested duplicate does not make sense because it does not answer the question at all.  @EvanBechtol has a great answer, so we should reopen so that he can post it."},{"owner":{"account_id":5715254,"reputation":2865,"user_id":4515720,"accept_rate":75,"display_name":"Evan Bechtol"},"score":0,"creation_date":1430163946,"post_id":29898941,"comment_id":47931856,"body_markdown":"@apsillers Thanks for the update! Just posted my comment as an answer.","body":"@apsillers Thanks for the update! Just posted my comment as an answer."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1688501822,"post_id":29898941,"comment_id":135081542,"body_markdown":"@JAtkin I don&#39;t think that you are correct. For example: `UNSAFE.arrayIndexScale(Long[].class)` will report 4 (meaning 4 bytes) per each slot in the array (a reference with `UseCompressedOops` enabled), while `UNSAFE.arrayIndexScale(long[].class)` will report 8, because a long occupies 8 bytes.","body":"@JAtkin I don&#39;t think that you are correct. For example: <code>UNSAFE.arrayIndexScale(Long[].class)</code> will report 4 (meaning 4 bytes) per each slot in the array (a reference with <code>UseCompressedOops</code> enabled), while <code>UNSAFE.arrayIndexScale(long[].class)</code> will report 8, because a long occupies 8 bytes."}],"answers":[{"tags":[],"owner":{"account_id":5715254,"reputation":2865,"user_id":4515720,"accept_rate":75,"display_name":"Evan Bechtol"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1430163924,"creation_date":1430163924,"answer_id":29904594,"question_id":29898941,"body_markdown":"The method gives you Java object memory layout information. \r\n\r\nThis is used to determine the amount of memory that the given array is occupying. Scale Factor is a term that represents how much a given quantity, in this case memory, is being multiplied by to represent the total. **You should not use the method that you are trying to use; it&#39;s UNSAFE**. \r\n\r\n*However*, there are safer versions that you can use: \r\n`staticFieldBase` or `staticFieldOffset`.\r\n","title":"What does the value returned by arrayIndexScale refer to?","body":"<p>The method gives you Java object memory layout information. </p>\n\n<p>This is used to determine the amount of memory that the given array is occupying. Scale Factor is a term that represents how much a given quantity, in this case memory, is being multiplied by to represent the total. <strong>You should not use the method that you are trying to use; it's UNSAFE</strong>. </p>\n\n<p><em>However</em>, there are safer versions that you can use: \n<code>staticFieldBase</code> or <code>staticFieldOffset</code>.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688504448,"creation_date":1688504448,"answer_id":76615857,"question_id":29898941,"body_markdown":"imo, an example should make this far easier to understand:\r\n\r\n\r\n```\r\nlong [] longs = {1L, 2L, 3L};\r\nlong offset = UNSAFE.arrayBaseOffset(long[].class);\r\nlong indexScale = UNSAFE.arrayIndexScale(long[].class);\r\n\r\nlong rawIndex = offset + 2 * indexScale;\r\nSystem.out.println(UNSAFE.getLong(longs, rawIndex));\r\n```\r\n\r\nThe last line will print `3` meaning we are trying to get to the 3-rd index. \r\n\r\nAnother example of just that method would be:\r\n\r\n```\r\nlong indexScale = UNSAFE.arrayIndexScale(Long[].class);\r\nSystem.out.println(indexScale);\r\n```\r\n\r\nwhich will print `4`, but running it with `-XX:-UseCompressedOops`, will print `8`. ","title":"What does the value returned by arrayIndexScale refer to?","body":"<p>imo, an example should make this far easier to understand:</p>\n<pre><code>long [] longs = {1L, 2L, 3L};\nlong offset = UNSAFE.arrayBaseOffset(long[].class);\nlong indexScale = UNSAFE.arrayIndexScale(long[].class);\n\nlong rawIndex = offset + 2 * indexScale;\nSystem.out.println(UNSAFE.getLong(longs, rawIndex));\n</code></pre>\n<p>The last line will print <code>3</code> meaning we are trying to get to the 3-rd index.</p>\n<p>Another example of just that method would be:</p>\n<pre><code>long indexScale = UNSAFE.arrayIndexScale(Long[].class);\nSystem.out.println(indexScale);\n</code></pre>\n<p>which will print <code>4</code>, but running it with <code>-XX:-UseCompressedOops</code>, will print <code>8</code>.</p>\n"}],"owner":{"account_id":5877017,"reputation":2197,"user_id":4627565,"accept_rate":100,"display_name":"Bionix1441"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1178,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":29904594,"answer_count":2,"score":7,"last_activity_date":1688504448,"creation_date":1430145947,"question_id":29898941,"body_markdown":"I would like to know what is the usage of sun.misc.unsafe.arrayIndexScale, in the `javadoc` it is said that:\r\n\r\n&gt; Report the scale factor for addressing elements in the storage allocation of a given array class. However, arrays of &quot;narrow&quot; types will generally not work properly with accessors like `getByte(java.lang.Object,int)`, so the scale factor for such classes is reported as zero. \r\n\r\nThis method returns an `int`, but I am not sure what the value means. \r\n","title":"What does the value returned by arrayIndexScale refer to?","body":"<p>I would like to know what is the usage of sun.misc.unsafe.arrayIndexScale, in the <code>javadoc</code> it is said that:</p>\n\n<blockquote>\n  <p>Report the scale factor for addressing elements in the storage allocation of a given array class. However, arrays of \"narrow\" types will generally not work properly with accessors like <code>getByte(java.lang.Object,int)</code>, so the scale factor for such classes is reported as zero. </p>\n</blockquote>\n\n<p>This method returns an <code>int</code>, but I am not sure what the value means. </p>\n"},{"tags":["java","arrays","json","java-8","gson"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688509180,"post_id":76615573,"comment_id":135082450,"body_markdown":"Where are you stuck doing this? Please read [ask].","body":"Where are you stuck doing this? Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":16027245,"reputation":41,"user_id":11567183,"display_name":"Chiamaka Etchie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688503309,"creation_date":1688503309,"answer_id":76615767,"question_id":76615573,"body_markdown":"This should work \r\n\r\n      public JsonNode test() throws JsonProcessingException {\r\n            String jsonArray = &quot;[\\n&quot; +\r\n                    &quot; {\\n&quot; +\r\n                    &quot;  \\&quot;id\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;name\\&quot;: \\&quot;abc\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;gender\\&quot;: \\&quot;F\\&quot;\\n&quot; +\r\n                    &quot; },\\n&quot; +\r\n                    &quot;{\\n&quot; +\r\n                    &quot;  \\&quot;id\\&quot;: \\&quot;2\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;name\\&quot;: \\&quot;dgc\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;address\\&quot;: \\&quot;MDU\\&quot;\\n&quot; +\r\n                    &quot; },\\n&quot; +\r\n                    &quot; {\\n&quot; +\r\n                    &quot;  \\&quot;id\\&quot;: \\&quot;3\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;name\\&quot;: \\&quot;ghf\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;gender\\&quot;: \\&quot;M\\&quot;\\n&quot; +\r\n                    &quot; }\\n&quot; +\r\n                    &quot;]&quot;;\r\n    \r\n            // Parse the JSON array\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            JsonNode jsonNode = objectMapper.readTree(jsonArray);\r\n    \r\n            // Create a map to hold the combined values\r\n            Map&lt;String, String&gt; combinedValues = new HashMap&lt;&gt;();\r\n    \r\n            // Iterate over the JSON array and combine values\r\n            Iterator&lt;JsonNode&gt; iterator = jsonNode.iterator();\r\n            while (iterator.hasNext()) {\r\n                JsonNode item = iterator.next();\r\n                item.fields().forEachRemaining(entry -&gt; {\r\n                    String key = entry.getKey();\r\n                    String value = entry.getValue().asText();\r\n                    combinedValues.merge(key, value, (v1, v2) -&gt; v1 + &quot;,&quot; + v2);\r\n                });\r\n            }\r\n    \r\n            // Create the resulting JSON object\r\n            return objectMapper.valueToTree(combinedValues);\r\n    \r\n        }","title":"Combine the list rows values as comma separated by its key using java 8","body":"<p>This should work</p>\n<pre><code>  public JsonNode test() throws JsonProcessingException {\n        String jsonArray = &quot;[\\n&quot; +\n                &quot; {\\n&quot; +\n                &quot;  \\&quot;id\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\n                &quot;  \\&quot;name\\&quot;: \\&quot;abc\\&quot;,\\n&quot; +\n                &quot;  \\&quot;gender\\&quot;: \\&quot;F\\&quot;\\n&quot; +\n                &quot; },\\n&quot; +\n                &quot;{\\n&quot; +\n                &quot;  \\&quot;id\\&quot;: \\&quot;2\\&quot;,\\n&quot; +\n                &quot;  \\&quot;name\\&quot;: \\&quot;dgc\\&quot;,\\n&quot; +\n                &quot;  \\&quot;address\\&quot;: \\&quot;MDU\\&quot;\\n&quot; +\n                &quot; },\\n&quot; +\n                &quot; {\\n&quot; +\n                &quot;  \\&quot;id\\&quot;: \\&quot;3\\&quot;,\\n&quot; +\n                &quot;  \\&quot;name\\&quot;: \\&quot;ghf\\&quot;,\\n&quot; +\n                &quot;  \\&quot;gender\\&quot;: \\&quot;M\\&quot;\\n&quot; +\n                &quot; }\\n&quot; +\n                &quot;]&quot;;\n\n        // Parse the JSON array\n        ObjectMapper objectMapper = new ObjectMapper();\n        JsonNode jsonNode = objectMapper.readTree(jsonArray);\n\n        // Create a map to hold the combined values\n        Map&lt;String, String&gt; combinedValues = new HashMap&lt;&gt;();\n\n        // Iterate over the JSON array and combine values\n        Iterator&lt;JsonNode&gt; iterator = jsonNode.iterator();\n        while (iterator.hasNext()) {\n            JsonNode item = iterator.next();\n            item.fields().forEachRemaining(entry -&gt; {\n                String key = entry.getKey();\n                String value = entry.getValue().asText();\n                combinedValues.merge(key, value, (v1, v2) -&gt; v1 + &quot;,&quot; + v2);\n            });\n        }\n\n        // Create the resulting JSON object\n        return objectMapper.valueToTree(combinedValues);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":2153272,"reputation":3,"user_id":1909044,"display_name":"Saranya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76615767,"answer_count":1,"score":-2,"last_activity_date":1688503309,"creation_date":1688500813,"question_id":76615573,"body_markdown":"My input is a JsonArray with dynamic attributes and values.\r\n```\r\n[\r\n {\r\n  &quot;id&quot;: &quot;1&quot;,\r\n  &quot;name&quot;: &quot;abc&quot;,\r\n  &quot;gender&quot;: &quot;F&quot;\r\n },\r\n{\r\n  &quot;id&quot;: &quot;2&quot;,\r\n  &quot;name&quot;: &quot;dgc&quot;,\r\n  &quot;address&quot;: &quot;MDU&quot;\r\n },{\r\n  &quot;id&quot;: &quot;3&quot;,\r\n  &quot;name&quot;: &quot;ghf&quot;,\r\n  &quot;gender&quot;: &quot;M&quot;\r\n },\r\n]\r\n```\r\nExpecting the output as below:\r\n\r\n```\r\n{\r\n&quot;id&quot;: &quot;1,2,3&quot;,\r\n&quot;name&quot;: &quot;abc,dgc,ghf&quot;,\r\n&quot;gender&quot;: &quot;F,M&quot; \r\n&quot;address&quot;:&quot;MDU&quot;\r\n}\r\n```\r\n\r\nI am expecting the logic which will read the dynamic attributes in the JsonArray and combining the values as a comma separated one. By using those values need to create a JsonObject with key.","title":"Combine the list rows values as comma separated by its key using java 8","body":"<p>My input is a JsonArray with dynamic attributes and values.</p>\n<pre><code>[\n {\n  &quot;id&quot;: &quot;1&quot;,\n  &quot;name&quot;: &quot;abc&quot;,\n  &quot;gender&quot;: &quot;F&quot;\n },\n{\n  &quot;id&quot;: &quot;2&quot;,\n  &quot;name&quot;: &quot;dgc&quot;,\n  &quot;address&quot;: &quot;MDU&quot;\n },{\n  &quot;id&quot;: &quot;3&quot;,\n  &quot;name&quot;: &quot;ghf&quot;,\n  &quot;gender&quot;: &quot;M&quot;\n },\n]\n</code></pre>\n<p>Expecting the output as below:</p>\n<pre><code>{\n&quot;id&quot;: &quot;1,2,3&quot;,\n&quot;name&quot;: &quot;abc,dgc,ghf&quot;,\n&quot;gender&quot;: &quot;F,M&quot; \n&quot;address&quot;:&quot;MDU&quot;\n}\n</code></pre>\n<p>I am expecting the logic which will read the dynamic attributes in the JsonArray and combining the values as a comma separated one. By using those values need to create a JsonObject with key.</p>\n"},{"tags":["java","android","android-studio"],"owner":{"account_id":28800459,"reputation":33,"user_id":22057526,"display_name":"Oussama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688503078,"creation_date":1688503078,"question_id":76615753,"body_markdown":"When i hit the add button inside the Adapter class it adds 4 cardviews to the mainactivity layout and when i try to delete nothing happens and instead it adds another 4 cardviews\r\n\r\nI tried everything nothing seem to be solving my problem\r\n\r\nHere&#39;s my Adapter class:\r\n\r\n```\r\npackage com.example.itask;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class TaskAdapter extends RecyclerView.Adapter&lt;TaskAdapter.ViewHolder&gt;{\r\n    private static final String TAG = &quot;TaskAdapter&quot;;\r\n\r\n    ArrayList&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\r\n\r\n    private Context context;\r\n\r\n    public TaskAdapter(Context context) {\r\n        this.context = context;\r\n    }\r\n    interface DeleteTask {\r\n        void onDeletingTask(int bookId);\r\n    }\r\n    public DeleteTask deleteTask;\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.task_list_item_rec_view, parent, false);\r\n        ViewHolder holder = new ViewHolder(view);\r\n        return holder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n        Log.d(TAG, &quot;onBindViewHolder: called&quot;);\r\n        holder.name.setText(tasks.get(position).getName());\r\n        holder.date.setText(tasks.get(position).getDate());\r\n        holder.card.setOnLongClickListener(new View.OnLongClickListener() {\r\n            @Override\r\n            public boolean onLongClick(View v) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(context)\r\n                        .setTitle(&quot;Deleting task&quot;)\r\n                        .setMessage(&quot;Are you sure you want to delete this task?&quot;)\r\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialog, int which) {\r\n                                try {\r\n                                    deleteTask = (DeleteTask) context;\r\n                                    deleteTask.onDeletingTask(tasks.get(position).getId());\r\n                                }catch (ClassCastException e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        }).setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(DialogInterface dialog, int which) {\r\n                                dialog.dismiss();\r\n                            }\r\n                        });\r\n                builder.create().show();\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return tasks.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        private TextView name;\r\n        private TextView date;\r\n        private CardView card;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            name = (TextView) itemView.findViewById(R.id.txtTaskName);\r\n            date = (TextView) itemView.findViewById(R.id.txtTaskDate);\r\n            card = (CardView) itemView.findViewById(R.id.parent);\r\n        }\r\n    }\r\n\r\n    public void setTasks(ArrayList&lt;Task&gt; tasks) {\r\n        this.tasks = tasks;\r\n        notifyDataSetChanged();\r\n    }\r\n}\r\n```\r\nHere&#39;s my MainActivity\r\n\r\n```\r\npackage com.example.itask;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.database.Cursor;\r\nimport android.database.SQLException;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.TreeSet;\r\n\r\npublic class MainActivity extends AppCompatActivity implements AddTaskDialog.AddNewTask, TaskAdapter.DeleteTask {\r\n\r\n    private Button buttonAddTask;\r\n    private RecyclerView recyclerView;\r\n\r\n    private ArrayList&lt;Task&gt; allTasks;\r\n    private TaskAdapter adapter;\r\n    private SQLiteDatabase database;\r\n    private DataBaseHelper dataBaseHelper;\r\n    private Cursor cursor;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        buttonAddTask = (Button) findViewById(R.id.btnAddTask);\r\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\r\n        adapter = new TaskAdapter(this);\r\n        recyclerView.setAdapter(adapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        allTasks = new ArrayList&lt;&gt;();\r\n        DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n        dataAsyncTask.execute();\r\n\r\n\r\n        buttonAddTask.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                AddTaskDialog dialog = new AddTaskDialog();\r\n                dialog.show(getSupportFragmentManager(), &quot;add new task&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDeletingTask(int bookId) {\r\n        Log.d(TAG, &quot;onDeletingTask: trying to delete this task with id &quot;+bookId);\r\n        try {\r\n            dataBaseHelper.delete(database, bookId);\r\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n            dataAsyncTask.execute();\r\n        }catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public class DataAsyncTask extends AsyncTask&lt;Void, Void, ArrayList&lt;Task&gt;&gt;{\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            dataBaseHelper = new DataBaseHelper(MainActivity.this);\r\n            database = dataBaseHelper.getReadableDatabase();\r\n        }\r\n\r\n        @Override\r\n        protected ArrayList&lt;Task&gt; doInBackground(Void... voids) {\r\n            try {\r\n                cursor = database.query(&quot;tasks&quot;, null,null,null,null, null, null);\r\n                if (cursor.moveToFirst()) {\r\n                    for (int i=0; i&lt;cursor.getCount(); i++) {\r\n                        Task task = new Task();\r\n                        for (int j=0; j&lt;cursor.getColumnCount(); j++) {\r\n                            switch (cursor.getColumnName(j)) {\r\n                                case &quot;_id&quot;:\r\n                                    task.setId(cursor.getInt(j));\r\n                                case &quot;name&quot;:\r\n                                    task.setName(cursor.getString(j));\r\n                                    break;\r\n                                case &quot;date&quot;:\r\n                                    task.setDate(cursor.getString(j));\r\n                                    break;\r\n                                case &quot;notes&quot;:\r\n                                    task.setNotes(cursor.getString(j));\r\n                                    break;\r\n                                default:\r\n                                    break;\r\n                            }\r\n                            allTasks.add(task);\r\n                        }\r\n                    }\r\n                }\r\n            }catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return allTasks;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(ArrayList&lt;Task&gt; tasks) {\r\n            super.onPostExecute(tasks);\r\n            if (tasks == null || tasks.isEmpty()) {\r\n                recyclerView.setVisibility(View.GONE);\r\n                buttonAddTask.setVisibility(View.VISIBLE);\r\n            } else {\r\n                recyclerView.setVisibility(View.VISIBLE);\r\n                buttonAddTask.setVisibility(View.GONE);\r\n            }\r\n            adapter.setTasks(tasks);\r\n    }\r\n    }\r\n\r\n    @Override\r\n    public void onAddingTask(Task task) {\r\n        Log.d(TAG, &quot;onAddingTask: new book: &quot;+task.toString());\r\n        try {\r\n            dataBaseHelper.insert(database, task);\r\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n            dataAsyncTask.execute();\r\n        }catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if (cursor != null &amp;&amp; !cursor.isClosed()) {\r\n            cursor.close();\r\n        }\r\n        if (database != null &amp;&amp; database.isOpen()) {\r\n            database.close();\r\n        }\r\n    }\r\n}\r\n```\r\nand here&#39;s my dialog class:\r\n\r\n```\r\npackage com.example.itask;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.database.Cursor;\r\nimport android.database.SQLException;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.TreeSet;\r\n\r\npublic class MainActivity extends AppCompatActivity implements AddTaskDialog.AddNewTask, TaskAdapter.DeleteTask {\r\n\r\n    private Button buttonAddTask;\r\n    private RecyclerView recyclerView;\r\n\r\n    private ArrayList&lt;Task&gt; allTasks;\r\n    private TaskAdapter adapter;\r\n    private SQLiteDatabase database;\r\n    private DataBaseHelper dataBaseHelper;\r\n    private Cursor cursor;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        buttonAddTask = (Button) findViewById(R.id.btnAddTask);\r\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\r\n        adapter = new TaskAdapter(this);\r\n        recyclerView.setAdapter(adapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        allTasks = new ArrayList&lt;&gt;();\r\n        DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n        dataAsyncTask.execute();\r\n\r\n\r\n        buttonAddTask.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                AddTaskDialog dialog = new AddTaskDialog();\r\n                dialog.show(getSupportFragmentManager(), &quot;add new task&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDeletingTask(int bookId) {\r\n        Log.d(TAG, &quot;onDeletingTask: trying to delete this task with id &quot;+bookId);\r\n        try {\r\n            dataBaseHelper.delete(database, bookId);\r\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n            dataAsyncTask.execute();\r\n        }catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public class DataAsyncTask extends AsyncTask&lt;Void, Void, ArrayList&lt;Task&gt;&gt;{\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            dataBaseHelper = new DataBaseHelper(MainActivity.this);\r\n            database = dataBaseHelper.getReadableDatabase();\r\n        }\r\n\r\n        @Override\r\n        protected ArrayList&lt;Task&gt; doInBackground(Void... voids) {\r\n            try {\r\n                cursor = database.query(&quot;tasks&quot;, null,null,null,null, null, null);\r\n                if (cursor.moveToFirst()) {\r\n                    for (int i=0; i&lt;cursor.getCount(); i++) {\r\n                        Task task = new Task();\r\n                        for (int j=0; j&lt;cursor.getColumnCount(); j++) {\r\n                            switch (cursor.getColumnName(j)) {\r\n                                case &quot;_id&quot;:\r\n                                    task.setId(cursor.getInt(j));\r\n                                case &quot;name&quot;:\r\n                                    task.setName(cursor.getString(j));\r\n                                    break;\r\n                                case &quot;date&quot;:\r\n                                    task.setDate(cursor.getString(j));\r\n                                    break;\r\n                                case &quot;notes&quot;:\r\n                                    task.setNotes(cursor.getString(j));\r\n                                    break;\r\n                                default:\r\n                                    break;\r\n                            }\r\n                            allTasks.add(task);\r\n                        }\r\n                    }\r\n                }\r\n            }catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return allTasks;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(ArrayList&lt;Task&gt; tasks) {\r\n            super.onPostExecute(tasks);\r\n            if (tasks == null || tasks.isEmpty()) {\r\n                recyclerView.setVisibility(View.GONE);\r\n                buttonAddTask.setVisibility(View.VISIBLE);\r\n            } else {\r\n                recyclerView.setVisibility(View.VISIBLE);\r\n                buttonAddTask.setVisibility(View.GONE);\r\n            }\r\n            adapter.setTasks(tasks);\r\n    }\r\n    }\r\n\r\n    @Override\r\n    public void onAddingTask(Task task) {\r\n        Log.d(TAG, &quot;onAddingTask: new book: &quot;+task.toString());\r\n        try {\r\n            dataBaseHelper.insert(database, task);\r\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n            dataAsyncTask.execute();\r\n        }catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if (cursor != null &amp;&amp; !cursor.isClosed()) {\r\n            cursor.close();\r\n        }\r\n        if (database != null &amp;&amp; database.isOpen()) {\r\n            database.close();\r\n        }\r\n    }\r\n}\r\n```\r\nmy database helper class:\r\n\r\n```\r\npackage com.example.itask;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.database.Cursor;\r\nimport android.database.SQLException;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.TreeSet;\r\n\r\npublic class MainActivity extends AppCompatActivity implements AddTaskDialog.AddNewTask, TaskAdapter.DeleteTask {\r\n\r\n    private Button buttonAddTask;\r\n    private RecyclerView recyclerView;\r\n\r\n    private ArrayList&lt;Task&gt; allTasks;\r\n    private TaskAdapter adapter;\r\n    private SQLiteDatabase database;\r\n    private DataBaseHelper dataBaseHelper;\r\n    private Cursor cursor;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        buttonAddTask = (Button) findViewById(R.id.btnAddTask);\r\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\r\n        adapter = new TaskAdapter(this);\r\n        recyclerView.setAdapter(adapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        allTasks = new ArrayList&lt;&gt;();\r\n        DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n        dataAsyncTask.execute();\r\n\r\n\r\n        buttonAddTask.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                AddTaskDialog dialog = new AddTaskDialog();\r\n                dialog.show(getSupportFragmentManager(), &quot;add new task&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDeletingTask(int bookId) {\r\n        Log.d(TAG, &quot;onDeletingTask: trying to delete this task with id &quot;+bookId);\r\n        try {\r\n            dataBaseHelper.delete(database, bookId);\r\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n            dataAsyncTask.execute();\r\n        }catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public class DataAsyncTask extends AsyncTask&lt;Void, Void, ArrayList&lt;Task&gt;&gt;{\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            dataBaseHelper = new DataBaseHelper(MainActivity.this);\r\n            database = dataBaseHelper.getReadableDatabase();\r\n        }\r\n\r\n        @Override\r\n        protected ArrayList&lt;Task&gt; doInBackground(Void... voids) {\r\n            try {\r\n                cursor = database.query(&quot;tasks&quot;, null,null,null,null, null, null);\r\n                if (cursor.moveToFirst()) {\r\n                    for (int i=0; i&lt;cursor.getCount(); i++) {\r\n                        Task task = new Task();\r\n                        for (int j=0; j&lt;cursor.getColumnCount(); j++) {\r\n                            switch (cursor.getColumnName(j)) {\r\n                                case &quot;_id&quot;:\r\n                                    task.setId(cursor.getInt(j));\r\n                                case &quot;name&quot;:\r\n                                    task.setName(cursor.getString(j));\r\n                                    break;\r\n                                case &quot;date&quot;:\r\n                                    task.setDate(cursor.getString(j));\r\n                                    break;\r\n                                case &quot;notes&quot;:\r\n                                    task.setNotes(cursor.getString(j));\r\n                                    break;\r\n                                default:\r\n                                    break;\r\n                            }\r\n                            allTasks.add(task);\r\n                        }\r\n                    }\r\n                }\r\n            }catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return allTasks;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(ArrayList&lt;Task&gt; tasks) {\r\n            super.onPostExecute(tasks);\r\n            if (tasks == null || tasks.isEmpty()) {\r\n                recyclerView.setVisibility(View.GONE);\r\n                buttonAddTask.setVisibility(View.VISIBLE);\r\n            } else {\r\n                recyclerView.setVisibility(View.VISIBLE);\r\n                buttonAddTask.setVisibility(View.GONE);\r\n            }\r\n            adapter.setTasks(tasks);\r\n    }\r\n    }\r\n\r\n    @Override\r\n    public void onAddingTask(Task task) {\r\n        Log.d(TAG, &quot;onAddingTask: new book: &quot;+task.toString());\r\n        try {\r\n            dataBaseHelper.insert(database, task);\r\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\r\n            dataAsyncTask.execute();\r\n        }catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if (cursor != null &amp;&amp; !cursor.isClosed()) {\r\n            cursor.close();\r\n        }\r\n        if (database != null &amp;&amp; database.isOpen()) {\r\n            database.close();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"For some reason when i hit the add button it adds 4 cardviews and when i long click on the cardview nothing happens","body":"<p>When i hit the add button inside the Adapter class it adds 4 cardviews to the mainactivity layout and when i try to delete nothing happens and instead it adds another 4 cardviews</p>\n<p>I tried everything nothing seem to be solving my problem</p>\n<p>Here's my Adapter class:</p>\n<pre><code>package com.example.itask;\n\nimport android.annotation.SuppressLint;\nimport android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class TaskAdapter extends RecyclerView.Adapter&lt;TaskAdapter.ViewHolder&gt;{\n    private static final String TAG = &quot;TaskAdapter&quot;;\n\n    ArrayList&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\n\n    private Context context;\n\n    public TaskAdapter(Context context) {\n        this.context = context;\n    }\n    interface DeleteTask {\n        void onDeletingTask(int bookId);\n    }\n    public DeleteTask deleteTask;\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.task_list_item_rec_view, parent, false);\n        ViewHolder holder = new ViewHolder(view);\n        return holder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n        Log.d(TAG, &quot;onBindViewHolder: called&quot;);\n        holder.name.setText(tasks.get(position).getName());\n        holder.date.setText(tasks.get(position).getDate());\n        holder.card.setOnLongClickListener(new View.OnLongClickListener() {\n            @Override\n            public boolean onLongClick(View v) {\n                AlertDialog.Builder builder = new AlertDialog.Builder(context)\n                        .setTitle(&quot;Deleting task&quot;)\n                        .setMessage(&quot;Are you sure you want to delete this task?&quot;)\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n                                try {\n                                    deleteTask = (DeleteTask) context;\n                                    deleteTask.onDeletingTask(tasks.get(position).getId());\n                                }catch (ClassCastException e) {\n                                    e.printStackTrace();\n                                }\n                            }\n                        }).setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialog, int which) {\n                                dialog.dismiss();\n                            }\n                        });\n                builder.create().show();\n                return true;\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return tasks.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        private TextView name;\n        private TextView date;\n        private CardView card;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            name = (TextView) itemView.findViewById(R.id.txtTaskName);\n            date = (TextView) itemView.findViewById(R.id.txtTaskDate);\n            card = (CardView) itemView.findViewById(R.id.parent);\n        }\n    }\n\n    public void setTasks(ArrayList&lt;Task&gt; tasks) {\n        this.tasks = tasks;\n        notifyDataSetChanged();\n    }\n}\n</code></pre>\n<p>Here's my MainActivity</p>\n<pre><code>package com.example.itask;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\n\nimport java.util.ArrayList;\nimport java.util.TreeSet;\n\npublic class MainActivity extends AppCompatActivity implements AddTaskDialog.AddNewTask, TaskAdapter.DeleteTask {\n\n    private Button buttonAddTask;\n    private RecyclerView recyclerView;\n\n    private ArrayList&lt;Task&gt; allTasks;\n    private TaskAdapter adapter;\n    private SQLiteDatabase database;\n    private DataBaseHelper dataBaseHelper;\n    private Cursor cursor;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        buttonAddTask = (Button) findViewById(R.id.btnAddTask);\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\n        adapter = new TaskAdapter(this);\n        recyclerView.setAdapter(adapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        allTasks = new ArrayList&lt;&gt;();\n        DataAsyncTask dataAsyncTask = new DataAsyncTask();\n        dataAsyncTask.execute();\n\n\n        buttonAddTask.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                AddTaskDialog dialog = new AddTaskDialog();\n                dialog.show(getSupportFragmentManager(), &quot;add new task&quot;);\n            }\n        });\n    }\n\n    @Override\n    public void onDeletingTask(int bookId) {\n        Log.d(TAG, &quot;onDeletingTask: trying to delete this task with id &quot;+bookId);\n        try {\n            dataBaseHelper.delete(database, bookId);\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\n            dataAsyncTask.execute();\n        }catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public class DataAsyncTask extends AsyncTask&lt;Void, Void, ArrayList&lt;Task&gt;&gt;{\n\n        @Override\n        protected void onPreExecute() {\n            dataBaseHelper = new DataBaseHelper(MainActivity.this);\n            database = dataBaseHelper.getReadableDatabase();\n        }\n\n        @Override\n        protected ArrayList&lt;Task&gt; doInBackground(Void... voids) {\n            try {\n                cursor = database.query(&quot;tasks&quot;, null,null,null,null, null, null);\n                if (cursor.moveToFirst()) {\n                    for (int i=0; i&lt;cursor.getCount(); i++) {\n                        Task task = new Task();\n                        for (int j=0; j&lt;cursor.getColumnCount(); j++) {\n                            switch (cursor.getColumnName(j)) {\n                                case &quot;_id&quot;:\n                                    task.setId(cursor.getInt(j));\n                                case &quot;name&quot;:\n                                    task.setName(cursor.getString(j));\n                                    break;\n                                case &quot;date&quot;:\n                                    task.setDate(cursor.getString(j));\n                                    break;\n                                case &quot;notes&quot;:\n                                    task.setNotes(cursor.getString(j));\n                                    break;\n                                default:\n                                    break;\n                            }\n                            allTasks.add(task);\n                        }\n                    }\n                }\n            }catch (SQLException e) {\n                e.printStackTrace();\n            }\n            return allTasks;\n        }\n\n        @Override\n        protected void onPostExecute(ArrayList&lt;Task&gt; tasks) {\n            super.onPostExecute(tasks);\n            if (tasks == null || tasks.isEmpty()) {\n                recyclerView.setVisibility(View.GONE);\n                buttonAddTask.setVisibility(View.VISIBLE);\n            } else {\n                recyclerView.setVisibility(View.VISIBLE);\n                buttonAddTask.setVisibility(View.GONE);\n            }\n            adapter.setTasks(tasks);\n    }\n    }\n\n    @Override\n    public void onAddingTask(Task task) {\n        Log.d(TAG, &quot;onAddingTask: new book: &quot;+task.toString());\n        try {\n            dataBaseHelper.insert(database, task);\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\n            dataAsyncTask.execute();\n        }catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (cursor != null &amp;&amp; !cursor.isClosed()) {\n            cursor.close();\n        }\n        if (database != null &amp;&amp; database.isOpen()) {\n            database.close();\n        }\n    }\n}\n</code></pre>\n<p>and here's my dialog class:</p>\n<pre><code>package com.example.itask;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\n\nimport java.util.ArrayList;\nimport java.util.TreeSet;\n\npublic class MainActivity extends AppCompatActivity implements AddTaskDialog.AddNewTask, TaskAdapter.DeleteTask {\n\n    private Button buttonAddTask;\n    private RecyclerView recyclerView;\n\n    private ArrayList&lt;Task&gt; allTasks;\n    private TaskAdapter adapter;\n    private SQLiteDatabase database;\n    private DataBaseHelper dataBaseHelper;\n    private Cursor cursor;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        buttonAddTask = (Button) findViewById(R.id.btnAddTask);\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\n        adapter = new TaskAdapter(this);\n        recyclerView.setAdapter(adapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        allTasks = new ArrayList&lt;&gt;();\n        DataAsyncTask dataAsyncTask = new DataAsyncTask();\n        dataAsyncTask.execute();\n\n\n        buttonAddTask.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                AddTaskDialog dialog = new AddTaskDialog();\n                dialog.show(getSupportFragmentManager(), &quot;add new task&quot;);\n            }\n        });\n    }\n\n    @Override\n    public void onDeletingTask(int bookId) {\n        Log.d(TAG, &quot;onDeletingTask: trying to delete this task with id &quot;+bookId);\n        try {\n            dataBaseHelper.delete(database, bookId);\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\n            dataAsyncTask.execute();\n        }catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public class DataAsyncTask extends AsyncTask&lt;Void, Void, ArrayList&lt;Task&gt;&gt;{\n\n        @Override\n        protected void onPreExecute() {\n            dataBaseHelper = new DataBaseHelper(MainActivity.this);\n            database = dataBaseHelper.getReadableDatabase();\n        }\n\n        @Override\n        protected ArrayList&lt;Task&gt; doInBackground(Void... voids) {\n            try {\n                cursor = database.query(&quot;tasks&quot;, null,null,null,null, null, null);\n                if (cursor.moveToFirst()) {\n                    for (int i=0; i&lt;cursor.getCount(); i++) {\n                        Task task = new Task();\n                        for (int j=0; j&lt;cursor.getColumnCount(); j++) {\n                            switch (cursor.getColumnName(j)) {\n                                case &quot;_id&quot;:\n                                    task.setId(cursor.getInt(j));\n                                case &quot;name&quot;:\n                                    task.setName(cursor.getString(j));\n                                    break;\n                                case &quot;date&quot;:\n                                    task.setDate(cursor.getString(j));\n                                    break;\n                                case &quot;notes&quot;:\n                                    task.setNotes(cursor.getString(j));\n                                    break;\n                                default:\n                                    break;\n                            }\n                            allTasks.add(task);\n                        }\n                    }\n                }\n            }catch (SQLException e) {\n                e.printStackTrace();\n            }\n            return allTasks;\n        }\n\n        @Override\n        protected void onPostExecute(ArrayList&lt;Task&gt; tasks) {\n            super.onPostExecute(tasks);\n            if (tasks == null || tasks.isEmpty()) {\n                recyclerView.setVisibility(View.GONE);\n                buttonAddTask.setVisibility(View.VISIBLE);\n            } else {\n                recyclerView.setVisibility(View.VISIBLE);\n                buttonAddTask.setVisibility(View.GONE);\n            }\n            adapter.setTasks(tasks);\n    }\n    }\n\n    @Override\n    public void onAddingTask(Task task) {\n        Log.d(TAG, &quot;onAddingTask: new book: &quot;+task.toString());\n        try {\n            dataBaseHelper.insert(database, task);\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\n            dataAsyncTask.execute();\n        }catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (cursor != null &amp;&amp; !cursor.isClosed()) {\n            cursor.close();\n        }\n        if (database != null &amp;&amp; database.isOpen()) {\n            database.close();\n        }\n    }\n}\n</code></pre>\n<p>my database helper class:</p>\n<pre><code>package com.example.itask;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\n\nimport java.util.ArrayList;\nimport java.util.TreeSet;\n\npublic class MainActivity extends AppCompatActivity implements AddTaskDialog.AddNewTask, TaskAdapter.DeleteTask {\n\n    private Button buttonAddTask;\n    private RecyclerView recyclerView;\n\n    private ArrayList&lt;Task&gt; allTasks;\n    private TaskAdapter adapter;\n    private SQLiteDatabase database;\n    private DataBaseHelper dataBaseHelper;\n    private Cursor cursor;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        buttonAddTask = (Button) findViewById(R.id.btnAddTask);\n        recyclerView = (RecyclerView) findViewById(R.id.recyclerView);\n        adapter = new TaskAdapter(this);\n        recyclerView.setAdapter(adapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        allTasks = new ArrayList&lt;&gt;();\n        DataAsyncTask dataAsyncTask = new DataAsyncTask();\n        dataAsyncTask.execute();\n\n\n        buttonAddTask.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                AddTaskDialog dialog = new AddTaskDialog();\n                dialog.show(getSupportFragmentManager(), &quot;add new task&quot;);\n            }\n        });\n    }\n\n    @Override\n    public void onDeletingTask(int bookId) {\n        Log.d(TAG, &quot;onDeletingTask: trying to delete this task with id &quot;+bookId);\n        try {\n            dataBaseHelper.delete(database, bookId);\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\n            dataAsyncTask.execute();\n        }catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public class DataAsyncTask extends AsyncTask&lt;Void, Void, ArrayList&lt;Task&gt;&gt;{\n\n        @Override\n        protected void onPreExecute() {\n            dataBaseHelper = new DataBaseHelper(MainActivity.this);\n            database = dataBaseHelper.getReadableDatabase();\n        }\n\n        @Override\n        protected ArrayList&lt;Task&gt; doInBackground(Void... voids) {\n            try {\n                cursor = database.query(&quot;tasks&quot;, null,null,null,null, null, null);\n                if (cursor.moveToFirst()) {\n                    for (int i=0; i&lt;cursor.getCount(); i++) {\n                        Task task = new Task();\n                        for (int j=0; j&lt;cursor.getColumnCount(); j++) {\n                            switch (cursor.getColumnName(j)) {\n                                case &quot;_id&quot;:\n                                    task.setId(cursor.getInt(j));\n                                case &quot;name&quot;:\n                                    task.setName(cursor.getString(j));\n                                    break;\n                                case &quot;date&quot;:\n                                    task.setDate(cursor.getString(j));\n                                    break;\n                                case &quot;notes&quot;:\n                                    task.setNotes(cursor.getString(j));\n                                    break;\n                                default:\n                                    break;\n                            }\n                            allTasks.add(task);\n                        }\n                    }\n                }\n            }catch (SQLException e) {\n                e.printStackTrace();\n            }\n            return allTasks;\n        }\n\n        @Override\n        protected void onPostExecute(ArrayList&lt;Task&gt; tasks) {\n            super.onPostExecute(tasks);\n            if (tasks == null || tasks.isEmpty()) {\n                recyclerView.setVisibility(View.GONE);\n                buttonAddTask.setVisibility(View.VISIBLE);\n            } else {\n                recyclerView.setVisibility(View.VISIBLE);\n                buttonAddTask.setVisibility(View.GONE);\n            }\n            adapter.setTasks(tasks);\n    }\n    }\n\n    @Override\n    public void onAddingTask(Task task) {\n        Log.d(TAG, &quot;onAddingTask: new book: &quot;+task.toString());\n        try {\n            dataBaseHelper.insert(database, task);\n            DataAsyncTask dataAsyncTask = new DataAsyncTask();\n            dataAsyncTask.execute();\n        }catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (cursor != null &amp;&amp; !cursor.isClosed()) {\n            cursor.close();\n        }\n        if (database != null &amp;&amp; database.isOpen()) {\n            database.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":50846,"reputation":1015,"user_id":151759,"accept_rate":65,"display_name":"Bertolt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680203452,"creation_date":1680203452,"answer_id":75892100,"question_id":75891737,"body_markdown":"[This stackoverflow answer describes how to enable http wire logging for Spring RestTemplate.][1] With this enabled, you should be able to see in your logs which URL is actually called and figure out from where, why you receive a 404 return code.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39109538/151759","title":"Spring boot returns a 404 when calling another API internally","body":"<p><a href=\"https://stackoverflow.com/a/39109538/151759\">This stackoverflow answer describes how to enable http wire logging for Spring RestTemplate.</a> With this enabled, you should be able to see in your logs which URL is actually called and figure out from where, why you receive a 404 return code.</p>\n"},{"tags":[],"owner":{"account_id":24553342,"reputation":5,"user_id":18462267,"display_name":"ArneVC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688501004,"creation_date":1688501004,"answer_id":76615599,"question_id":75891737,"body_markdown":"I solved the issue I was having here by adding the @ResponseBody annotation to the methods.","title":"Spring boot returns a 404 when calling another API internally","body":"<p>I solved the issue I was having here by adding the @ResponseBody annotation to the methods.</p>\n"}],"owner":{"account_id":24553342,"reputation":5,"user_id":18462267,"display_name":"ArneVC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76615599,"answer_count":2,"score":0,"last_activity_date":1688501718,"creation_date":1680200737,"question_id":75891737,"body_markdown":"I have a spring boot API that internally has to call another API and just &quot;forward&quot; the request.\r\n```JAVA\r\nprivate String APIRoot;\r\npublic APIInteractionController() {\r\n        this.APIRoot = &quot;&lt;API root here, not showing it because it&#39;s private&gt;&quot;;\r\n    }\r\n//test if calling API works\r\n@GetMapping(&quot;/test&quot;)\r\npublic String testAPI(){\r\n    logCallAPI(APIRoot);\r\n    String result = callAPI(APIRoot);\r\n    return result;\r\n}\r\nprivate String callAPI(String uri){\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    String result = restTemplate.getForObject(uri, String.class);\r\n    return result;\r\n}\r\nprivate void logCallAPI(String uri){\r\n    System.out.println(&quot;call API:\\nuri: &quot; + uri);\r\n}\r\n```\r\nWhen I call the endpoint on my sprig boot app, the logger statement gets outputted in the console, but in postmane I just get a 404 even though when I call the API on itself it just returns &quot;hello world&quot; as the root just returns a test string.\r\nWhy is this, and how can I resolve this.","title":"Spring boot returns a 404 when calling another API internally","body":"<p>I have a spring boot API that internally has to call another API and just &quot;forward&quot; the request.</p>\n<pre><code>private String APIRoot;\npublic APIInteractionController() {\n        this.APIRoot = &quot;&lt;API root here, not showing it because it's private&gt;&quot;;\n    }\n//test if calling API works\n@GetMapping(&quot;/test&quot;)\npublic String testAPI(){\n    logCallAPI(APIRoot);\n    String result = callAPI(APIRoot);\n    return result;\n}\nprivate String callAPI(String uri){\n    RestTemplate restTemplate = new RestTemplate();\n    String result = restTemplate.getForObject(uri, String.class);\n    return result;\n}\nprivate void logCallAPI(String uri){\n    System.out.println(&quot;call API:\\nuri: &quot; + uri);\n}\n</code></pre>\n<p>When I call the endpoint on my sprig boot app, the logger statement gets outputted in the console, but in postmane I just get a 404 even though when I call the API on itself it just returns &quot;hello world&quot; as the root just returns a test string.\nWhy is this, and how can I resolve this.</p>\n"},{"tags":["java","android","android-studio","profiling","performance-testing"],"owner":{"account_id":28950912,"reputation":1,"user_id":22175548,"display_name":"Hamza Khawaja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688500909,"creation_date":1688500909,"question_id":76615586,"body_markdown":"I am working on an Android app that will be distributed to multiple users, and I would like to perform remote app profiling on their devices. In Android Studio, the built-in profiler allows me to monitor various performance metrics like CPU usage, memory usage, and network activity. However, I need to find a way to perform similar profiling remotely on user devices without physically connecting to each device.\r\n\r\nI tried using firebase monitoring tool but it doesnt provide details similar to android studio profiler.","title":"Is it possible to remotely perform app profiling similar to Android Studio&#39;s profiler?","body":"<p>I am working on an Android app that will be distributed to multiple users, and I would like to perform remote app profiling on their devices. In Android Studio, the built-in profiler allows me to monitor various performance metrics like CPU usage, memory usage, and network activity. However, I need to find a way to perform similar profiling remotely on user devices without physically connecting to each device.</p>\n<p>I tried using firebase monitoring tool but it doesnt provide details similar to android studio profiler.</p>\n"},{"tags":["java","aws-lambda","aws-cli"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1688499647,"post_id":76615441,"comment_id":135081265,"body_markdown":"Your terminal output says: 1) your HTTP communication with AWS Lambda worked (HTTP status 200)... but 2) your invocation of your Java function (&quot;HelloWorldJava&quot;) failed.  Most of the error message is about how the Jackson deserializer in your Java function couldn&#39;t read the JSON input.  Q: CAN YOU SHOW US YOUR JAVA CODE?","body":"Your terminal output says: 1) your HTTP communication with AWS Lambda worked (HTTP status 200)... but 2) your invocation of your Java function (&quot;HelloWorldJava&quot;) failed.  Most of the error message is about how the Jackson deserializer in your Java function couldn&#39;t read the JSON input.  Q: CAN YOU SHOW US YOUR JAVA CODE?"},{"owner":{"account_id":22676894,"reputation":37,"user_id":16847742,"display_name":"j_falcon"},"score":0,"creation_date":1688500873,"post_id":76615441,"comment_id":135081413,"body_markdown":"I added the Java code above @paulsm4","body":"I added the Java code above @paulsm4"},{"owner":{"account_id":137535,"reputation":4952,"user_id":341772,"accept_rate":60,"display_name":"Max"},"score":0,"creation_date":1688512472,"post_id":76615441,"comment_id":135082720,"body_markdown":"Is this AWS CLI v2 or v1?","body":"Is this AWS CLI v2 or v1?"},{"owner":{"account_id":137535,"reputation":4952,"user_id":341772,"accept_rate":60,"display_name":"Max"},"score":0,"creation_date":1688512688,"post_id":76615441,"comment_id":135082734,"body_markdown":"Hm, seems like it should be working. Can you test it out in the AWS Console? Navigate to your Lambda and check out the Test tab. It might also help to see the entire Java class.","body":"Hm, seems like it should be working. Can you test it out in the AWS Console? Navigate to your Lambda and check out the Test tab. It might also help to see the entire Java class."},{"owner":{"account_id":22676894,"reputation":37,"user_id":16847742,"display_name":"j_falcon"},"score":0,"creation_date":1688520291,"post_id":76615441,"comment_id":135083281,"body_markdown":"It&#39;s using aws-cli 2.12.6\n\nIt&#39;s working fine when I use the &#39;Test&#39; functionality in the console, so doesn&#39;t there have to be something wrong with how the payload is being formatted?\n\nThis is on a Win 10 machine using GitBash for the terminal if that matters.","body":"It&#39;s using aws-cli 2.12.6  It&#39;s working fine when I use the &#39;Test&#39; functionality in the console, so doesn&#39;t there have to be something wrong with how the payload is being formatted?  This is on a Win 10 machine using GitBash for the terminal if that matters."}],"owner":{"account_id":22676894,"reputation":37,"user_id":16847742,"display_name":"j_falcon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1688500826,"creation_date":1688499192,"question_id":76615441,"body_markdown":"I am new to AWS Lambda and I&#39;m trying to go through a very basic tutorial example, but Lambda keeps yelling at me. Apparently jackson.databind can&#39;t deserialize what I&#39;m sending.\r\n\r\nI am trying this with AWS CLI to invoke a Lambda Function written in Java:\r\n\r\n```\r\n$ aws lambda invoke --invocation-type RequestResponse --function-name HelloWorldJava --cli-binary-format raw-in-base64-out --payload &#39;{&quot;a&quot;:&quot;x&quot;,&quot;b&quot;:&quot;y&quot;}&#39; outputfile.txt\r\n```\r\n\r\ngetting this in the terminal output:\r\n\r\n```\r\n{\r\n    &quot;StatusCode&quot;: 200,\r\n    &quot;FunctionError&quot;: &quot;Unhandled&quot;,\r\n    &quot;ExecutedVersion&quot;: &quot;$LATEST&quot;\r\n}\r\n```\r\n\r\nand this in the log file...\r\n\r\n```\r\n{&quot;errorMessage&quot;:&quot;An error occurred during JSON parsing&quot;,&quot;errorType&quot;:&quot;java.lang.RuntimeException&quot;,&quot;stackTrace&quot;:[],&quot;cause&quot;:{&quot;errorMessage&quot;:&quot;com.fasterxml.jackson.databind.JsonMappingExce\r\nption: Can not deserialize instance of int out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@589838eb; line: 1, column: 1]&quot;,&quot;errorType&quot;:&quot;java.io.Unc\r\nheckedIOException&quot;,&quot;stackTrace&quot;:[],&quot;cause&quot;:{&quot;errorMessage&quot;:&quot;Can not deserialize instance of int out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@58\r\n9838eb; line: 1, column: 1]&quot;,&quot;errorType&quot;:&quot;com.fasterxml.jackson.databind.JsonMappingException&quot;,&quot;stackTrace&quot;:[&quot;com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingExcept\r\nion.java:148)&quot;,&quot;com.fasterxml.jackson.databind.DeserializationContext.mappingException(DeserializationContext.java:857)&quot;,&quot;com.fasterxml.jackson.databind.deser.std.StdDeserializer._pars\r\neInteger(StdDeserializer.java:460)&quot;,&quot;com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:309)&quot;,&quot;com.fasterxml.jackson.\r\ndatabind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:287)&quot;,&quot;com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1511)\r\n&quot;,&quot;com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1102)&quot;]}}}\r\n```\r\n\r\nThis is the Java code in the Lambda function:\r\n\r\n    public Map&lt;String, String&gt; handlerMap(Map&lt;String,String&gt; input){\r\n        Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;();\r\n        input.forEach((k,v) -&gt; newMap.put(&quot;New Map -&gt; &quot; + k, v));\r\n        return newMap;\r\n    }\r\n\r\nI can&#39;t figure out for the life of me how to format a json or array so that my Lambda function will deserialize it properly on the other end. Any help would be greatly appreciated!","title":"How to properly serialize json for invoking AWS Lambda function written in Java from AWS CLI?","body":"<p>I am new to AWS Lambda and I'm trying to go through a very basic tutorial example, but Lambda keeps yelling at me. Apparently jackson.databind can't deserialize what I'm sending.</p>\n<p>I am trying this with AWS CLI to invoke a Lambda Function written in Java:</p>\n<pre><code>$ aws lambda invoke --invocation-type RequestResponse --function-name HelloWorldJava --cli-binary-format raw-in-base64-out --payload '{&quot;a&quot;:&quot;x&quot;,&quot;b&quot;:&quot;y&quot;}' outputfile.txt\n</code></pre>\n<p>getting this in the terminal output:</p>\n<pre><code>{\n    &quot;StatusCode&quot;: 200,\n    &quot;FunctionError&quot;: &quot;Unhandled&quot;,\n    &quot;ExecutedVersion&quot;: &quot;$LATEST&quot;\n}\n</code></pre>\n<p>and this in the log file...</p>\n<pre><code>{&quot;errorMessage&quot;:&quot;An error occurred during JSON parsing&quot;,&quot;errorType&quot;:&quot;java.lang.RuntimeException&quot;,&quot;stackTrace&quot;:[],&quot;cause&quot;:{&quot;errorMessage&quot;:&quot;com.fasterxml.jackson.databind.JsonMappingExce\nption: Can not deserialize instance of int out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@589838eb; line: 1, column: 1]&quot;,&quot;errorType&quot;:&quot;java.io.Unc\nheckedIOException&quot;,&quot;stackTrace&quot;:[],&quot;cause&quot;:{&quot;errorMessage&quot;:&quot;Can not deserialize instance of int out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@58\n9838eb; line: 1, column: 1]&quot;,&quot;errorType&quot;:&quot;com.fasterxml.jackson.databind.JsonMappingException&quot;,&quot;stackTrace&quot;:[&quot;com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingExcept\nion.java:148)&quot;,&quot;com.fasterxml.jackson.databind.DeserializationContext.mappingException(DeserializationContext.java:857)&quot;,&quot;com.fasterxml.jackson.databind.deser.std.StdDeserializer._pars\neInteger(StdDeserializer.java:460)&quot;,&quot;com.fasterxml.jackson.databind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:309)&quot;,&quot;com.fasterxml.jackson.\ndatabind.deser.std.NumberDeserializers$IntegerDeserializer.deserialize(NumberDeserializers.java:287)&quot;,&quot;com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1511)\n&quot;,&quot;com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1102)&quot;]}}}\n</code></pre>\n<p>This is the Java code in the Lambda function:</p>\n<pre><code>public Map&lt;String, String&gt; handlerMap(Map&lt;String,String&gt; input){\n    Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;();\n    input.forEach((k,v) -&gt; newMap.put(&quot;New Map -&gt; &quot; + k, v));\n    return newMap;\n}\n</code></pre>\n<p>I can't figure out for the life of me how to format a json or array so that my Lambda function will deserialize it properly on the other end. Any help would be greatly appreciated!</p>\n"},{"tags":["java","gradle","gradle-task"],"answers":[{"tags":[],"owner":{"account_id":14194335,"reputation":11,"user_id":10254059,"display_name":"Mateusz Kasprzak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688500826,"creation_date":1688500826,"answer_id":76615577,"question_id":75006378,"body_markdown":"To achieve this one option is to overwrite exec&#39;s standardOutput and/or errorOutput with `ByteArrayOutputStream` and re-throwing the exception with modified message from it.\r\n\r\nFor example:\r\n```groovy\r\ndef execOutput = new ByteArrayOutputStream()\r\ntry {\r\n    return this.project.exec({\r\n        it.errorOutput = execOutput\r\n        it.standardOutput = execOutput       \r\n        // rest of exec&#39;s config\r\n    })\r\n} catch (exception) {\r\n    // Will print task&#39;s output as part of the error message\r\n    throw new ExecException(exception.message + LineSeparator.SYSTEM + execOutput.toString())\r\n} finally {\r\n    // Preserve the logs in the task output\r\n    print execOutput.toString()\r\n}\r\n```","title":"How to modify error message after executing a command via a Gradle task","body":"<p>To achieve this one option is to overwrite exec's standardOutput and/or errorOutput with <code>ByteArrayOutputStream</code> and re-throwing the exception with modified message from it.</p>\n<p>For example:</p>\n<pre><code>def execOutput = new ByteArrayOutputStream()\ntry {\n    return this.project.exec({\n        it.errorOutput = execOutput\n        it.standardOutput = execOutput       \n        // rest of exec's config\n    })\n} catch (exception) {\n    // Will print task's output as part of the error message\n    throw new ExecException(exception.message + LineSeparator.SYSTEM + execOutput.toString())\n} finally {\n    // Preserve the logs in the task output\n    print execOutput.toString()\n}\n</code></pre>\n"}],"owner":{"account_id":425139,"reputation":12301,"user_id":805563,"accept_rate":87,"display_name":"Bee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688500826,"creation_date":1672839872,"question_id":75006378,"body_markdown":"I&#39;m implementing a Gradle Java plugin which registers below task.\r\n\r\n```\r\nTaskProvider&lt;Exec&gt; taskProvider = project.getTasks().register(&quot;spectralTask&quot;, Exec.class);\r\ntaskProvider.configure(exec -&gt; {\r\n    exec.executable(&quot;spectral&quot;);\r\n    exec.args(&quot;lint&quot;);\r\n});\r\n```\r\n\r\nWhen the output of the executed command is an error, this is what I get. \r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:spectralTask&#39;.\r\n&gt; Process &#39;command &#39;spectral&#39;&#39; finished with non-zero exit value 1\r\n```\r\n\r\nThis error message is not very helpful. I want to fix it. \r\nIs there a way to do below?\r\n\r\n1) Print a custom error message. \r\n2) Print the exact error message given by the executed command. ","title":"How to modify error message after executing a command via a Gradle task","body":"<p>I'm implementing a Gradle Java plugin which registers below task.</p>\n<pre><code>TaskProvider&lt;Exec&gt; taskProvider = project.getTasks().register(&quot;spectralTask&quot;, Exec.class);\ntaskProvider.configure(exec -&gt; {\n    exec.executable(&quot;spectral&quot;);\n    exec.args(&quot;lint&quot;);\n});\n</code></pre>\n<p>When the output of the executed command is an error, this is what I get.</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:spectralTask'.\n&gt; Process 'command 'spectral'' finished with non-zero exit value 1\n</code></pre>\n<p>This error message is not very helpful. I want to fix it.\nIs there a way to do below?</p>\n<ol>\n<li>Print a custom error message.</li>\n<li>Print the exact error message given by the executed command.</li>\n</ol>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":28950527,"reputation":1,"user_id":22175247,"display_name":"SerhiiNahornyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688500637,"creation_date":1688493794,"question_id":76614967,"body_markdown":"How to send metrics of \r\ngetQueryPlanCacheHitCount()\r\ngetQueryPlanCacheMissCount()\r\nto micrometer? \r\n\r\nI tried to set spring.jpa.properties.hibernate.generate_statistics=true\r\nAnd created bean \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    @Bean\r\n    MeterBinder hibernateQueryMetrics(EntityManagerFactory entityManager) {\r\n        return new HibernateQueryMetrics(entityManager.unwrap(SessionFactoryImplementor.class), &quot;authorizationSvcSessionFactory&quot;, Tags.empty());\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIt sends hibernate statistics but without plan cache metrics","title":"How to send metrics of Hibernate Query Plan Cache?","body":"<p>How to send metrics of\ngetQueryPlanCacheHitCount()\ngetQueryPlanCacheMissCount()\nto micrometer?</p>\n<p>I tried to set spring.jpa.properties.hibernate.generate_statistics=true\nAnd created bean</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Bean\nMeterBinder hibernateQueryMetrics(EntityManagerFactory entityManager) {\n    return new HibernateQueryMetrics(entityManager.unwrap(SessionFactoryImplementor.class), \"authorizationSvcSessionFactory\", Tags.empty());\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>It sends hibernate statistics but without plan cache metrics</p>\n"},{"tags":["java","encryption","cryptography","public-key-encryption","private-key"],"comments":[{"owner":{"account_id":1198635,"reputation":72902,"user_id":1169798,"accept_rate":56,"display_name":"Sirko"},"score":0,"creation_date":1415369172,"post_id":26803003,"comment_id":42179271,"body_markdown":"Simple example for using your private key to encrypt something would be *signing* some document/text/hash thereof/...","body":"Simple example for using your private key to encrypt something would be <i>signing</i> some document/text/hash thereof/..."},{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1415370341,"post_id":26803003,"comment_id":42179986,"body_markdown":"See Crypto.SE: [How does asymmetric encryption work?](http://crypto.stackexchange.com/questions/292/how-does-asymmetric-encryption-work)","body":"See Crypto.SE: <a href=\"http://crypto.stackexchange.com/questions/292/how-does-asymmetric-encryption-work\">How does asymmetric encryption work?</a>"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1415371668,"post_id":26803003,"comment_id":42180784,"body_markdown":"@ArtjomB. I tried to explain more extensively [here](http://crypto.stackexchange.com/questions/15997/is-rsa-encryption-the-same-as-signature-generation) - not with too much success in upvotes though. Maybe too complex an explanation.","body":"@ArtjomB. I tried to explain more extensively <a href=\"http://crypto.stackexchange.com/questions/15997/is-rsa-encryption-the-same-as-signature-generation\">here</a> - not with too much success in upvotes though. Maybe too complex an explanation."},{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1415376816,"post_id":26803003,"comment_id":42183848,"body_markdown":"@owlstead I originally searched for something like that, but haven&#39;t found it. Great self-post. It certainly is not too complex for Crypto.SE, but SO users might have problems with this.","body":"@owlstead I originally searched for something like that, but haven&#39;t found it. Great self-post. It certainly is not too complex for Crypto.SE, but SO users might have problems with this."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1415379807,"post_id":26803003,"comment_id":42185622,"body_markdown":"@ArtjomB. I&#39;ve restructured that answer, hopefully it&#39;s easier to read now.","body":"@ArtjomB. I&#39;ve restructured that answer, hopefully it&#39;s easier to read now."}],"answers":[{"tags":[],"owner":{"display_name":"user1990592"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1415369474,"creation_date":1415369474,"answer_id":26803155,"question_id":26803003,"body_markdown":"Asymmetric means you cannot use the same key for decryption that you used for encryption.\r\nCode signing is one scenario where you encrypt using the private key. Recipients of the code can then use their public key to verify if the code was unchanged.","title":"Public key encryption vs private key encryption","body":"<p>Asymmetric means you cannot use the same key for decryption that you used for encryption.\nCode signing is one scenario where you encrypt using the private key. Recipients of the code can then use their public key to verify if the code was unchanged.</p>\n"},{"tags":[],"owner":{"account_id":5239926,"reputation":2061,"user_id":4187323,"display_name":"gregdim"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1415371404,"creation_date":1415370158,"answer_id":26803331,"question_id":26803003,"body_markdown":"As far as the term *encryption* is considered to be *on the message itself*, the answer is **no** because such an encryption is totally useless. Since the public key is supposed to be public everyone could use it to decrypt. Encrypting with the private key thus fails to provide confidentiality.\r\n \r\nSigning on the other side, as others have already mentioned is the only use case for this. It does not apply the encryption to the actual payload (the message). It encrypts a cryptographic hash over the message (that can be reproduced from the same message only), using a different *padding scheme*. In this way you can be sure the actual party that has the private key signed the message.","title":"Public key encryption vs private key encryption","body":"<p>As far as the term <em>encryption</em> is considered to be <em>on the message itself</em>, the answer is <strong>no</strong> because such an encryption is totally useless. Since the public key is supposed to be public everyone could use it to decrypt. Encrypting with the private key thus fails to provide confidentiality.</p>\n\n<p>Signing on the other side, as others have already mentioned is the only use case for this. It does not apply the encryption to the actual payload (the message). It encrypts a cryptographic hash over the message (that can be reproduced from the same message only), using a different <em>padding scheme</em>. In this way you can be sure the actual party that has the private key signed the message.</p>\n"},{"tags":[],"owner":{"account_id":15004,"reputation":1605,"user_id":31274,"accept_rate":73,"display_name":"D. Rattansingh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688500333,"creation_date":1688500333,"answer_id":76615535,"question_id":26803003,"body_markdown":"I&#39;m not sure what you&#39;re asking is called asymmetric, rather RSA public/private key encryption. And yes you could use both keys to encrypt and decrypt but there are 2 separate issues.\r\n\r\nSecrecy - encrypt with public key and only the private key could decrypt. The enclosed message is secure\r\n\r\nAuthentication - encrypt with private key and anyone with public key could decrypt. Secrecy is not offered however if the public key decrypts successfully, you&#39;re sure of who I am because if anyone tampers with the message then the public key won&#39;t decrypt it","title":"Public key encryption vs private key encryption","body":"<p>I'm not sure what you're asking is called asymmetric, rather RSA public/private key encryption. And yes you could use both keys to encrypt and decrypt but there are 2 separate issues.</p>\n<p>Secrecy - encrypt with public key and only the private key could decrypt. The enclosed message is secure</p>\n<p>Authentication - encrypt with private key and anyone with public key could decrypt. Secrecy is not offered however if the public key decrypts successfully, you're sure of who I am because if anyone tampers with the message then the public key won't decrypt it</p>\n"}],"owner":{"account_id":174908,"reputation":3883,"user_id":2097397,"accept_rate":79,"display_name":"Himalay Majumdar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":994,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":26803331,"answer_count":3,"score":3,"last_activity_date":1688500333,"creation_date":1415369007,"question_id":26803003,"body_markdown":"I have implemented **asymmetric encryption** in my project using &quot;public key&quot; to &quot;encrypt&quot; the message and &quot;private key&quot; to &quot;decrypt&quot; the message. \r\n\r\nDo we ever use &quot;private key&quot; to &quot;encrypt&quot; the message and and &quot;public key&quot; to &quot;decrypt&quot;. If yes, can someone give me a use case of that and is this kind of cryptography also called &quot;asymmetric encryption&quot;\r\n\r\n","title":"Public key encryption vs private key encryption","body":"<p>I have implemented <strong>asymmetric encryption</strong> in my project using \"public key\" to \"encrypt\" the message and \"private key\" to \"decrypt\" the message. </p>\n\n<p>Do we ever use \"private key\" to \"encrypt\" the message and and \"public key\" to \"decrypt\". If yes, can someone give me a use case of that and is this kind of cryptography also called \"asymmetric encryption\"</p>\n"},{"tags":["java","system-clock"],"comments":[{"owner":{"account_id":8597210,"reputation":1368,"user_id":6439899,"display_name":"Coding thermodynamist"},"score":2,"creation_date":1688477639,"post_id":76613168,"comment_id":135077400,"body_markdown":"See https://superuser.com/questions/759730/how-much-clock-drift-is-considered-normal-for-a-non-networked-windows-7-pc).","body":"See <a href=\"https://superuser.com/questions/759730/how-much-clock-drift-is-considered-normal-for-a-non-networked-windows-7-pc\" title=\"how much clock drift is considered normal for a non networked windows 7 pc\">superuser.com/questions/759730/&hellip;</a>)."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":4,"creation_date":1688477882,"post_id":76613168,"comment_id":135077450,"body_markdown":"Why are you using the outdated and buggy Date class?  Unless absolutely required,  you should be using classes from the [java.time](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html) package.","body":"Why are you using the outdated and buggy Date class?  Unless absolutely required,  you should be using classes from the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package."},{"owner":{"account_id":4093045,"reputation":237,"user_id":3360565,"accept_rate":45,"display_name":"Nayan Sonthalia"},"score":1,"creation_date":1688477991,"post_id":76613168,"comment_id":135077472,"body_markdown":"@Nathan : thanks for the pointer. but my issue works fine for some occurances and fails for other. if, for eg, i execute the sample code 3000 time in a day then it will work fine for about 600-1000 times and return expected result. for other times it give some random results. for some instances it is off by 1few milli seconds of others it is 2 sec or 3 sec or 4 sec and so on.. also, i am on windows server 2019","body":"@Nathan : thanks for the pointer. but my issue works fine for some occurances and fails for other. if, for eg, i execute the sample code 3000 time in a day then it will work fine for about 600-1000 times and return expected result. for other times it give some random results. for some instances it is off by 1few milli seconds of others it is 2 sec or 3 sec or 4 sec and so on.. also, i am on windows server 2019"},{"owner":{"account_id":4093045,"reputation":237,"user_id":3360565,"accept_rate":45,"display_name":"Nayan Sonthalia"},"score":0,"creation_date":1688483417,"post_id":76613168,"comment_id":135078732,"body_markdown":"@g00se :  thanks for your answer. due to compliance requirement in Europe, i am trying to get times from two different places. 1) using new Date() to get time in milli seconds for one field 2) using the nanosecond time which i mentioned about to get the compliance. problem is, the difference between 1 and 2 is off by more than 2 seconds in some cases. i am ok if they are off by a second or two. thats ok. if cant be off by more than 2 seconds","body":"@g00se :  thanks for your answer. due to compliance requirement in Europe, i am trying to get times from two different places. 1) using new Date() to get time in milli seconds for one field 2) using the nanosecond time which i mentioned about to get the compliance. problem is, the difference between 1 and 2 is off by more than 2 seconds in some cases. i am ok if they are off by a second or two. thats ok. if cant be off by more than 2 seconds"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688483550,"post_id":76613168,"comment_id":135078769,"body_markdown":"OK thanks for clarifying. It sounds like you should be doing something more like getting two `ZonedDateTime` instances and from these deriving two `Instant`s","body":"OK thanks for clarifying. It sounds like you should be doing something more like getting two <code>ZonedDateTime</code> instances and from these deriving two <code>Instant</code>s"}],"answers":[{"tags":[],"owner":{"account_id":4217515,"reputation":8460,"user_id":3453226,"accept_rate":77,"display_name":"spongebob"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688499816,"creation_date":1688478038,"answer_id":76613242,"question_id":76613168,"body_markdown":"The discrepancy is due to system clock drift.\r\n\r\n[`System.currentTimeMillis()`][1] is vulnerable to adjustments in the system clock, for example from the NTP daemon.\r\nOn the other hand [`System.nanoTime()`][2] is a value that increases by 10&lt;sup&gt;9&lt;/sup&gt; every second, irrespective of any adjustments to the system clock.\r\n\r\nWhenever there is such an adjustment, you will get a divergence between `NanoClock`, which calls `System.currentTimeMillis()` once and stores its result, and something which calls `System.currentTimeMillis()` each time, like `new Date()`.\r\n\r\n----------\r\n\r\n`NanoClock` is buggy.\r\n\r\n`System.currentTimeMillis()` returns `X` while the current time is `X milliseconds + Y microseconds + Z nanoseconds`.\r\n\r\nSo `EPOCH_NANOS` is `Y microseconds + Z nanoseconds` before the correct epoch.\r\n\r\n----------\r\n\r\nNote that `System.nanoTime()` provides nanosecond precision, but not necessarily nanosecond resolution (that is, how frequently the value changes).\r\n\r\n----------\r\n\r\nFrom Java 9 onwards, [`Instant.now()`][3] gives you the current system time with nanosecond precision (but not nanosecond resolution).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#currentTimeMillis--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#nanoTime--\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html#now--","title":"Instant.now(new NanoClock()) returns incorrect time","body":"<p>The discrepancy is due to system clock drift.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#currentTimeMillis--\" rel=\"nofollow noreferrer\"><code>System.currentTimeMillis()</code></a> is vulnerable to adjustments in the system clock, for example from the NTP daemon.\nOn the other hand <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#nanoTime--\" rel=\"nofollow noreferrer\"><code>System.nanoTime()</code></a> is a value that increases by 10<sup>9</sup> every second, irrespective of any adjustments to the system clock.</p>\n<p>Whenever there is such an adjustment, you will get a divergence between <code>NanoClock</code>, which calls <code>System.currentTimeMillis()</code> once and stores its result, and something which calls <code>System.currentTimeMillis()</code> each time, like <code>new Date()</code>.</p>\n<hr />\n<p><code>NanoClock</code> is buggy.</p>\n<p><code>System.currentTimeMillis()</code> returns <code>X</code> while the current time is <code>X milliseconds + Y microseconds + Z nanoseconds</code>.</p>\n<p>So <code>EPOCH_NANOS</code> is <code>Y microseconds + Z nanoseconds</code> before the correct epoch.</p>\n<hr />\n<p>Note that <code>System.nanoTime()</code> provides nanosecond precision, but not necessarily nanosecond resolution (that is, how frequently the value changes).</p>\n<hr />\n<p>From Java 9 onwards, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html#now--\" rel=\"nofollow noreferrer\"><code>Instant.now()</code></a> gives you the current system time with nanosecond precision (but not nanosecond resolution).</p>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688480857,"creation_date":1688480274,"answer_id":76613559,"question_id":76613168,"body_markdown":"I don&#39;t think you fully understand how milliseconds / nanoseconds work in the jvm.\r\n\r\nYou can only compare two `System.nanoTime()` values to see how many nanoseconds have elapsed. You can&#39;t use them to construct `Date` or `Instant` instances.\r\n\r\nThe following is not valid\r\n\r\n```java\r\nprivate static final long EPOCH_NANOS = System.currentTimeMillis()*1000000;\r\n```\r\n\r\nThe result of this multiplication might exceed `Long.MAX_VALUE`\r\n\r\nPlease explain what you are trying to achieve as I feel this might be an [X/Y problem](https://en.wikipedia.org/wiki/XY_problem). For instance you might be able to create a `StopWatch` class based on `System.nanoTime()` to achieve your goal.","title":"Instant.now(new NanoClock()) returns incorrect time","body":"<p>I don't think you fully understand how milliseconds / nanoseconds work in the jvm.</p>\n<p>You can only compare two <code>System.nanoTime()</code> values to see how many nanoseconds have elapsed. You can't use them to construct <code>Date</code> or <code>Instant</code> instances.</p>\n<p>The following is not valid</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final long EPOCH_NANOS = System.currentTimeMillis()*1000000;\n</code></pre>\n<p>The result of this multiplication might exceed <code>Long.MAX_VALUE</code></p>\n<p>Please explain what you are trying to achieve as I feel this might be an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">X/Y problem</a>. For instance you might be able to create a <code>StopWatch</code> class based on <code>System.nanoTime()</code> to achieve your goal.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688481418,"creation_date":1688481418,"answer_id":76613705,"question_id":76613168,"body_markdown":"This may be a naive test, but how are you going to adjust for accuracy when subsequent calls take inconsistent times well below your expected precision requirements.  The values change per run.  The first can probably be ignored for startup time.\r\n```\r\nlong[] times = new long[20];        \r\ntimes[0] = System.nanoTime();       \r\ntimes[1] = System.nanoTime();       \r\ntimes[2] = System.nanoTime();       \r\ntimes[3] = System.nanoTime();       \r\ntimes[4] = System.nanoTime();       \r\ntimes[5] = System.nanoTime();       \r\ntimes[6] = System.nanoTime();       \r\ntimes[7] = System.nanoTime();       \r\ntimes[8] = System.nanoTime();       \r\ntimes[9] = System.nanoTime();       \r\ntimes[10] = System.nanoTime();      \r\ntimes[11] = System.nanoTime();      \r\ntimes[12] = System.nanoTime();      \r\ntimes[13] = System.nanoTime();      \r\ntimes[14] = System.nanoTime();      \r\ntimes[15] = System.nanoTime();      \r\ntimes[16] = System.nanoTime();      \r\ntimes[17] = System.nanoTime();      \r\ntimes[18] = System.nanoTime();      \r\ntimes[19] = System.nanoTime();      \r\n                                    \r\n                                    \r\nfor (int i = 0; i &lt; times.length; i+=2) {\r\n    System.out.println(times[i+1] - times[i]);\r\n}                                  \r\n```\r\nprints\r\n```\r\n200\r\n100\r\n100\r\n0\r\n0\r\n0\r\n0\r\n0\r\n0\r\n100","title":"Instant.now(new NanoClock()) returns incorrect time","body":"<p>This may be a naive test, but how are you going to adjust for accuracy when subsequent calls take inconsistent times well below your expected precision requirements.  The values change per run.  The first can probably be ignored for startup time.</p>\n<pre><code>long[] times = new long[20];        \ntimes[0] = System.nanoTime();       \ntimes[1] = System.nanoTime();       \ntimes[2] = System.nanoTime();       \ntimes[3] = System.nanoTime();       \ntimes[4] = System.nanoTime();       \ntimes[5] = System.nanoTime();       \ntimes[6] = System.nanoTime();       \ntimes[7] = System.nanoTime();       \ntimes[8] = System.nanoTime();       \ntimes[9] = System.nanoTime();       \ntimes[10] = System.nanoTime();      \ntimes[11] = System.nanoTime();      \ntimes[12] = System.nanoTime();      \ntimes[13] = System.nanoTime();      \ntimes[14] = System.nanoTime();      \ntimes[15] = System.nanoTime();      \ntimes[16] = System.nanoTime();      \ntimes[17] = System.nanoTime();      \ntimes[18] = System.nanoTime();      \ntimes[19] = System.nanoTime();      \n                                    \n                                    \nfor (int i = 0; i &lt; times.length; i+=2) {\n    System.out.println(times[i+1] - times[i]);\n}                                  \n</code></pre>\n<p>prints</p>\n<pre><code>200\n100\n100\n0\n0\n0\n0\n0\n0\n100\n</code></pre>\n"}],"owner":{"account_id":4093045,"reputation":237,"user_id":3360565,"accept_rate":45,"display_name":"Nayan Sonthalia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1688499816,"creation_date":1688477483,"question_id":76613168,"body_markdown":"we are having a piece of code where we are using NanoClock to get the exact time. In a nut shell below is the code snippet of how i am generating the nano time and how we are converting to simple date format. the problem is, nono time (in some cases) is off by few seconds. so for eg, the system time is 12:23:**44**.125 the nano time will be 12:23:**56**.1234567.\r\n\r\n    public static Date getTimeStamp() {\r\n        final Clock clock = new NanoClock();\r\n        Instant instant = Instant.now(clock);\r\n        return Timestamp.from(instant);\r\n    }\r\n    \r\n    public static Date getTimeInMilis(Timestamp timestamp) throws ParseException {\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n        String miliDate = dateFormat.format(timestamp);\r\n        return dateFormat.parse(miliDate);\r\n    }\r\n\r\nwe are using **NanoClock** as follows\r\n\r\n    public static final long NANOS_PER_SECOND = 1000000000;\r\n    \r\n    private static final long EPOCH_NANOS = System.currentTimeMillis() * 1000000;\r\n    private static final long NANO_START = System.nanoTime();\r\n    \r\n    final long now = System.nanoTime() - NANO_START + EPOCH_NANOS;\r\n    return Instant.ofEpochSecond(now / NANOS_PER_SECOND, now % NANOS_PER_SECOND);\r\n\r\nwe were running this code in production for over 5 years and it was always fine. it started giving this discrepancy since past 2 months.\r\nwe are using JAVA 8 update 71 (64 bits) and nothing has changed on the system with respect to JAVA or my code in past 4-5 months.","title":"Instant.now(new NanoClock()) returns incorrect time","body":"<p>we are having a piece of code where we are using NanoClock to get the exact time. In a nut shell below is the code snippet of how i am generating the nano time and how we are converting to simple date format. the problem is, nono time (in some cases) is off by few seconds. so for eg, the system time is 12:23:<strong>44</strong>.125 the nano time will be 12:23:<strong>56</strong>.1234567.</p>\n<pre><code>public static Date getTimeStamp() {\n    final Clock clock = new NanoClock();\n    Instant instant = Instant.now(clock);\n    return Timestamp.from(instant);\n}\n\npublic static Date getTimeInMilis(Timestamp timestamp) throws ParseException {\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\n    String miliDate = dateFormat.format(timestamp);\n    return dateFormat.parse(miliDate);\n}\n</code></pre>\n<p>we are using <strong>NanoClock</strong> as follows</p>\n<pre><code>public static final long NANOS_PER_SECOND = 1000000000;\n\nprivate static final long EPOCH_NANOS = System.currentTimeMillis() * 1000000;\nprivate static final long NANO_START = System.nanoTime();\n\nfinal long now = System.nanoTime() - NANO_START + EPOCH_NANOS;\nreturn Instant.ofEpochSecond(now / NANOS_PER_SECOND, now % NANOS_PER_SECOND);\n</code></pre>\n<p>we were running this code in production for over 5 years and it was always fine. it started giving this discrepancy since past 2 months.\nwe are using JAVA 8 update 71 (64 bits) and nothing has changed on the system with respect to JAVA or my code in past 4-5 months.</p>\n"},{"tags":["java","spring-mvc","graphql"],"owner":{"account_id":13443994,"reputation":354,"user_id":9700478,"display_name":"GeekOverdose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688498123,"creation_date":1688497123,"question_id":76615272,"body_markdown":"I have a domain layer where I have models such as an abstract class `User` that is implemented by concrete classes `Client` and `Seller`, where `User` holds some common data and functionality but each of the concrete classes have their unique ones too.\r\n\r\nNow I could see a simple mapping strategy being used for example,\r\n\r\n`User` -&gt; `UserDto`\r\n\r\n`Client` -&gt; `ClientDto`\r\n\r\n`Seller` -&gt; `SellerDto`\r\n\r\nWhere `UserDto` only contains the fields declared in `User`, `ClientDto` only contains fields unique to `Client`, etc.\r\n\r\nHowever, I run into an issue when pairing this with a GraphQL resolver. If I have the following schema:\r\n```graphql\r\ntype Query {\r\n    getUser(id: ID!): User\r\n}\r\n\r\ninterface User {\r\n    id: ID!\r\n    email: String!\r\n}\r\n\r\ntype Client implements User {\r\n    id: ID!\r\n    email: String!\r\n    name: String!\r\n}\r\n\r\ntype Seller implements User {\r\n    id: ID!\r\n    email: String!\r\n    brand: String!\r\n}\r\n```\r\n\r\nAnd lets say I run the following query:\r\n```graphql\r\nquery {\r\n    getUser(&quot;A1B2C3&quot;) {\r\n        id\r\n        email\r\n        ... on Client {\r\n            name\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf I were to return from, say, a `UserService.getUser(String id)` an object of type `UserDTO`, then it would not have the necessary information to respond adequately to the GraphQL request, even though the corresponding `User` object DID have that needed information, as it was in fact an instance of one of the concrete classes. How do I prevent this data loss from taking place, and represent polymorphic/inheritance-based entities effectively with DTOs?","title":"How should I represent inheritance+polymorphism with DTOs, when working with GraphQL?","body":"<p>I have a domain layer where I have models such as an abstract class <code>User</code> that is implemented by concrete classes <code>Client</code> and <code>Seller</code>, where <code>User</code> holds some common data and functionality but each of the concrete classes have their unique ones too.</p>\n<p>Now I could see a simple mapping strategy being used for example,</p>\n<p><code>User</code> -&gt; <code>UserDto</code></p>\n<p><code>Client</code> -&gt; <code>ClientDto</code></p>\n<p><code>Seller</code> -&gt; <code>SellerDto</code></p>\n<p>Where <code>UserDto</code> only contains the fields declared in <code>User</code>, <code>ClientDto</code> only contains fields unique to <code>Client</code>, etc.</p>\n<p>However, I run into an issue when pairing this with a GraphQL resolver. If I have the following schema:</p>\n<pre><code>type Query {\n    getUser(id: ID!): User\n}\n\ninterface User {\n    id: ID!\n    email: String!\n}\n\ntype Client implements User {\n    id: ID!\n    email: String!\n    name: String!\n}\n\ntype Seller implements User {\n    id: ID!\n    email: String!\n    brand: String!\n}\n</code></pre>\n<p>And lets say I run the following query:</p>\n<pre><code>query {\n    getUser(&quot;A1B2C3&quot;) {\n        id\n        email\n        ... on Client {\n            name\n        }\n    }\n}\n</code></pre>\n<p>If I were to return from, say, a <code>UserService.getUser(String id)</code> an object of type <code>UserDTO</code>, then it would not have the necessary information to respond adequately to the GraphQL request, even though the corresponding <code>User</code> object DID have that needed information, as it was in fact an instance of one of the concrete classes. How do I prevent this data loss from taking place, and represent polymorphic/inheritance-based entities effectively with DTOs?</p>\n"},{"tags":["java","swagger","swagger-ui","openapi","resteasy"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1688209074,"post_id":76594246,"comment_id":135045379,"body_markdown":"Old Swagger problem. Start with defaults, no custom URL. Did you raise Spring/Swagger log level to see if initialized? Add spring-boot-actuator to get all endpoints.","body":"Old Swagger problem. Start with defaults, no custom URL. Did you raise Spring/Swagger log level to see if initialized? Add spring-boot-actuator to get all endpoints."},{"owner":{"account_id":28929823,"reputation":11,"user_id":22158812,"display_name":"Involute"},"score":0,"creation_date":1688233664,"post_id":76594246,"comment_id":135047800,"body_markdown":"Its not a Spring project. Its a plain simple Java Maven Project with RESTeasy","body":"Its not a Spring project. Its a plain simple Java Maven Project with RESTeasy"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1688313525,"post_id":76594246,"comment_id":135054421,"body_markdown":"You need to use the -jakarta versions of the Swagger dependencies.","body":"You need to use the -jakarta versions of the Swagger dependencies."},{"owner":{"account_id":28929823,"reputation":11,"user_id":22158812,"display_name":"Involute"},"score":0,"creation_date":1688321635,"post_id":76594246,"comment_id":135055446,"body_markdown":"I swapped to the jakarta dependencies but its sadly still not working. I get the Error 404 from tomcat","body":"I swapped to the jakarta dependencies but its sadly still not working. I get the Error 404 from tomcat"}],"answers":[{"tags":[],"owner":{"account_id":28929823,"reputation":11,"user_id":22158812,"display_name":"Involute"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688498119,"creation_date":1688498119,"answer_id":76615354,"question_id":76594246,"body_markdown":"Ok i fixed it now. I needed to do the following things:\r\n\r\nIn my Application class:\r\n\r\n        classes.add(OpenApiResource.class);\r\n        classes.add(AcceptHeaderOpenApiResource.class);\r\nI needed to add those.\r\nI also deleted my openapi.yaml and instead used the initializer dependency. As mentioned above and kindly pointed out by @James R. Perkins i switched to the -jakarta dependencies.","title":"Adding Swagger to RESTeasy Java Application","body":"<p>Ok i fixed it now. I needed to do the following things:</p>\n<p>In my Application class:</p>\n<pre><code>    classes.add(OpenApiResource.class);\n    classes.add(AcceptHeaderOpenApiResource.class);\n</code></pre>\n<p>I needed to add those.\nI also deleted my openapi.yaml and instead used the initializer dependency. As mentioned above and kindly pointed out by @James R. Perkins i switched to the -jakarta dependencies.</p>\n"}],"owner":{"account_id":28929823,"reputation":11,"user_id":22158812,"display_name":"Involute"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76615354,"answer_count":1,"score":0,"last_activity_date":1688498119,"creation_date":1688206938,"question_id":76594246,"body_markdown":"I want to try to add Swagger to my RESTeasy Application. I tried to follow the [Documentation](https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Integration-and-configuration) but i cant reach the Endpoint of Swagger. All i get is an Error 404.\r\n\r\nMy tech Stack:\r\n- Tomcat 10.0.1\r\n- Java 17\r\n\r\nMy Goal:\r\n- I want to Access my nice API Documentation under http://localhost:8080/sample/openapi\r\n\r\n\r\n```\r\nopenapi: &quot;3.0.3&quot;\r\ninfo:\r\n  title: &quot;My API2&quot;\r\n  version: &quot;1.0&quot;\r\nservers:\r\n  - url: &quot;http://localhost:8080/&quot;\r\npaths:\r\n\r\n```\r\nopenapi.yaml in src/main/resources\r\n\r\n\r\n```\r\n@ApplicationPath(&quot;/api&quot;)\r\npublic class TimeToolRestApplication extends Application {\r\n    private Set&lt;Object&gt; singletons = new HashSet&lt;&gt;();\r\n    private static final Logger logger = LogManager.getLogger(TimeToolRestApplication.class);\r\n\r\n    public TimeToolRestApplication() {\r\n        singletons.add(new HealthController());\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Object&gt; getSingletons() {\r\n        return singletons;\r\n    }\r\n}\r\n```\r\nTimeToolRestApplication.java\r\n\r\n```\r\n@Path(&quot;/v1&quot;)\r\npublic class HealthController {\r\n\r\n    @GET\r\n    @Path(&quot;/health&quot;)\r\n    public Response healthcheck() {\r\n        return Response.ok().entity(true).build();\r\n    }\r\n}\r\n```\r\nHealthController.java\r\n\r\n```\r\n            &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;resteasy.version&gt;6.2.4.Final&lt;/resteasy.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        \r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-yaml --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.15.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-servlet-initializer&lt;/artifactId&gt;\r\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.jboss.resteasy/resteasy-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;resteasy-jaxb-provider&lt;/artifactId&gt;\r\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-jaxrs2-servlet-initializer-v2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-core-jakarta&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n``` \r\npom.xml\r\n\r\n\r\nI tried following the [Documentation](https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Getting-started) of Swagger. With and without the initializer. But nothing seemed to work","title":"Adding Swagger to RESTeasy Java Application","body":"<p>I want to try to add Swagger to my RESTeasy Application. I tried to follow the <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Integration-and-configuration\" rel=\"nofollow noreferrer\">Documentation</a> but i cant reach the Endpoint of Swagger. All i get is an Error 404.</p>\n<p>My tech Stack:</p>\n<ul>\n<li>Tomcat 10.0.1</li>\n<li>Java 17</li>\n</ul>\n<p>My Goal:</p>\n<ul>\n<li>I want to Access my nice API Documentation under http://localhost:8080/sample/openapi</li>\n</ul>\n<pre><code>openapi: &quot;3.0.3&quot;\ninfo:\n  title: &quot;My API2&quot;\n  version: &quot;1.0&quot;\nservers:\n  - url: &quot;http://localhost:8080/&quot;\npaths:\n\n</code></pre>\n<p>openapi.yaml in src/main/resources</p>\n<pre><code>@ApplicationPath(&quot;/api&quot;)\npublic class TimeToolRestApplication extends Application {\n    private Set&lt;Object&gt; singletons = new HashSet&lt;&gt;();\n    private static final Logger logger = LogManager.getLogger(TimeToolRestApplication.class);\n\n    public TimeToolRestApplication() {\n        singletons.add(new HealthController());\n    }\n\n    @Override\n    public Set&lt;Object&gt; getSingletons() {\n        return singletons;\n    }\n}\n</code></pre>\n<p>TimeToolRestApplication.java</p>\n<pre><code>@Path(&quot;/v1&quot;)\npublic class HealthController {\n\n    @GET\n    @Path(&quot;/health&quot;)\n    public Response healthcheck() {\n        return Response.ok().entity(true).build();\n    }\n}\n</code></pre>\n<p>HealthController.java</p>\n<pre><code>            &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;resteasy.version&gt;6.2.4.Final&lt;/resteasy.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-yaml --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\n            &lt;version&gt;2.15.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.15.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-servlet-initializer&lt;/artifactId&gt;\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-core&lt;/artifactId&gt;\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.jboss.resteasy/resteasy-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-jaxb-provider&lt;/artifactId&gt;\n            &lt;version&gt;${resteasy.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\n            &lt;version&gt;2.2.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-jaxrs2-servlet-initializer-v2&lt;/artifactId&gt;\n            &lt;version&gt;2.2.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-core-jakarta&lt;/artifactId&gt;\n            &lt;version&gt;2.2.14&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>pom.xml</p>\n<p>I tried following the <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Getting-started\" rel=\"nofollow noreferrer\">Documentation</a> of Swagger. With and without the initializer. But nothing seemed to work</p>\n"},{"tags":["java","multithreading","kubernetes"],"answers":[{"tags":[],"owner":{"account_id":28813538,"reputation":716,"user_id":22067717,"display_name":"Ray John Navarro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688497306,"creation_date":1688497306,"answer_id":76615281,"question_id":76574866,"body_markdown":"The number of threads in the common pool is equal to the number of available processors (cores) returned by `Runtime.getRuntime().availableProcessors().`\r\nRemember when your service runs in a Kubernetes pod, the JVM is unaware of the CPU limits you&#39;ve set in the pod spec. The JVM sees the number of cores available on the underlying node that it&#39;s running on and not the limit set in the pod spec. This will result in  `availableProcessors()` returning the number of cores available on the node.\r\n\r\nExample,  if you set a CPU limit for the pod that&#39;s less than 1 CPU, e.g 0.8m CPU (which is equivalent to 0.0008 of a CPU core, since the m stands for milliCPU units), your service may end up creating more threads than there are CPUs available within the limit you&#39;ve set. It&#39;s also important to note that while setting a CPU limit, 0.8m is 0.0008 of a CPU core, not 0.8 of a CPU core. \r\n\r\nAttached are resource materials related to this that are helpful for your use case. [1] [2]\r\n\r\n[1] https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/\r\n\r\n[2] https://developers.redhat.com/blog/2017/04/04/openjdk-and-containers\r\n","title":"Java number of threads in parallel streams in Kubernetes","body":"<p>The number of threads in the common pool is equal to the number of available processors (cores) returned by <code>Runtime.getRuntime().availableProcessors().</code>\nRemember when your service runs in a Kubernetes pod, the JVM is unaware of the CPU limits you've set in the pod spec. The JVM sees the number of cores available on the underlying node that it's running on and not the limit set in the pod spec. This will result in  <code>availableProcessors()</code> returning the number of cores available on the node.</p>\n<p>Example,  if you set a CPU limit for the pod that's less than 1 CPU, e.g 0.8m CPU (which is equivalent to 0.0008 of a CPU core, since the m stands for milliCPU units), your service may end up creating more threads than there are CPUs available within the limit you've set. It's also important to note that while setting a CPU limit, 0.8m is 0.0008 of a CPU core, not 0.8 of a CPU core.</p>\n<p>Attached are resource materials related to this that are helpful for your use case. [1] [2]</p>\n<p>[1] <a href=\"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/</a></p>\n<p>[2] <a href=\"https://developers.redhat.com/blog/2017/04/04/openjdk-and-containers\" rel=\"nofollow noreferrer\">https://developers.redhat.com/blog/2017/04/04/openjdk-and-containers</a></p>\n"}],"owner":{"account_id":14805606,"reputation":523,"user_id":10692677,"display_name":"PavlMits"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688497306,"creation_date":1687967823,"question_id":76574866,"body_markdown":"I have a Java service deployed in Kubernetes, and it uses parallel streams for concurrent processing. I [read][1] that the number of threads that spawed is being determined by the number of cores that the machine has in the parallel streams. If my Kubernetes configuration for cpu is 0.8m limit (0.8 milliCPU), how many threads will be spawed? I&#39;m trying to understand the behavior of parallel streams in terms of thread usage in this constrained environment.\r\n\r\nBased on the allocated CPU resources, I suspect that the number of threads spawned by the parallel streams (ForkJoinPool) will be 0-1. However, I&#39;m unsure about the exact number of threads being utilized in this scenario. Is by any chance considers the node cores?\r\n\r\nCan someone explain how many threads will be spawned by parallel streams in Java when the service is deployed in Kubernetes with e.g. 0.8m CPU? Additionally, any insights into the factors that may influence the number of threads in such an environment would be greatly appreciated.\r\n\r\nThank you in advance for your help!\r\n\r\n\r\n  [1]: https://java2blog.com/java-8-parallel-stream/#:~:text=Parallel%20Stream%20takes%20the%20benefits%20of%20all%20available%20CPU%20cores%20and%20processes%20the%20tasks%20in%20parallel.%20If%20number%20of%20tasks%20exceeds%20the%20number%20of%20cores%2C%20then%20remaining%20tasks%20wait%20for%20currently%20running%20task%20to%20complete.","title":"Java number of threads in parallel streams in Kubernetes","body":"<p>I have a Java service deployed in Kubernetes, and it uses parallel streams for concurrent processing. I <a href=\"https://java2blog.com/java-8-parallel-stream/#:%7E:text=Parallel%20Stream%20takes%20the%20benefits%20of%20all%20available%20CPU%20cores%20and%20processes%20the%20tasks%20in%20parallel.%20If%20number%20of%20tasks%20exceeds%20the%20number%20of%20cores%2C%20then%20remaining%20tasks%20wait%20for%20currently%20running%20task%20to%20complete.\" rel=\"nofollow noreferrer\">read</a> that the number of threads that spawed is being determined by the number of cores that the machine has in the parallel streams. If my Kubernetes configuration for cpu is 0.8m limit (0.8 milliCPU), how many threads will be spawed? I'm trying to understand the behavior of parallel streams in terms of thread usage in this constrained environment.</p>\n<p>Based on the allocated CPU resources, I suspect that the number of threads spawned by the parallel streams (ForkJoinPool) will be 0-1. However, I'm unsure about the exact number of threads being utilized in this scenario. Is by any chance considers the node cores?</p>\n<p>Can someone explain how many threads will be spawned by parallel streams in Java when the service is deployed in Kubernetes with e.g. 0.8m CPU? Additionally, any insights into the factors that may influence the number of threads in such an environment would be greatly appreciated.</p>\n<p>Thank you in advance for your help!</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688497028,"creation_date":1688497028,"answer_id":76615264,"question_id":76615112,"body_markdown":"You should be able to do it with `@JsonAlias`\r\n\r\n    class DataModel {\r\n      // Some other fields are not shown\r\n      @JsonAlias(&quot;oldField&quot;)\r\n      NewField newField;\r\n    }\r\n    \r\n    class NewField {\r\n      String foo;\r\n    }","title":"Jackson custom deserializer for a field while using default deserializer for the rest of the fields?","body":"<p>You should be able to do it with <code>@JsonAlias</code></p>\n<pre><code>class DataModel {\n  // Some other fields are not shown\n  @JsonAlias(&quot;oldField&quot;)\n  NewField newField;\n}\n\nclass NewField {\n  String foo;\n}\n</code></pre>\n"}],"owner":{"account_id":2067155,"reputation":451,"user_id":1842456,"accept_rate":80,"display_name":"P. Hoang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76615264,"answer_count":1,"score":0,"last_activity_date":1688497028,"creation_date":1688495386,"question_id":76615112,"body_markdown":"I need to deserialize a JSON that has a field into another field. \r\n\r\nFor example, here is the JSON where I want the property `oldField` to be deserialized into the field `newField` in the `DataModel`. \r\n```json\r\n{\r\n   // Some other fields are not shown\r\n   &quot;oldField&quot;: {\r\n       &quot;foo&quot;: &quot;Some value&quot;\r\n   }\r\n}\r\n```\r\n\r\n```java\r\nclass DataModel {\r\n  // Some other fields are not shown\r\n  NewField newField;\r\n}\r\n\r\nclass NewField {\r\n  String foo;\r\n}\r\n```\r\n\r\nThe reason is because the JSON was deserialized from an old data model that has been changed, i.e. `oldField` being renamed to `newField` in the `DataModel` class. I can write a custom deserializer for `DataModel` class but it means I have to manually deserialize all other fields in addition to the `newField`. \r\n\r\nIs there a way that I can only provide the custom deserialize for the field I am interested in while leaving other things to the default deserializer provided by Jackson?","title":"Jackson custom deserializer for a field while using default deserializer for the rest of the fields?","body":"<p>I need to deserialize a JSON that has a field into another field.</p>\n<p>For example, here is the JSON where I want the property <code>oldField</code> to be deserialized into the field <code>newField</code> in the <code>DataModel</code>.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   // Some other fields are not shown\n   &quot;oldField&quot;: {\n       &quot;foo&quot;: &quot;Some value&quot;\n   }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class DataModel {\n  // Some other fields are not shown\n  NewField newField;\n}\n\nclass NewField {\n  String foo;\n}\n</code></pre>\n<p>The reason is because the JSON was deserialized from an old data model that has been changed, i.e. <code>oldField</code> being renamed to <code>newField</code> in the <code>DataModel</code> class. I can write a custom deserializer for <code>DataModel</code> class but it means I have to manually deserialize all other fields in addition to the <code>newField</code>.</p>\n<p>Is there a way that I can only provide the custom deserialize for the field I am interested in while leaving other things to the default deserializer provided by Jackson?</p>\n"},{"tags":["java","quarkus","slack-api","microprofile"],"answers":[{"tags":[],"owner":{"account_id":18090204,"reputation":1,"user_id":21298789,"display_name":"Fernando Gabriel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688497023,"creation_date":1688497023,"answer_id":76615263,"question_id":76613579,"body_markdown":"I could solve it by leaving it like this\r\n\r\n    @RegisterRestClient(configKey = &quot;open-co.scd.integration.slack.api.scd-report-file&quot;)\r\n    @RegisterProvider(BaseExceptionMapper.class)\r\n    @RegisterProvider(MultipartFormDataWriter.class)\r\n    public interface SCDReportFileUploadClient {\r\n    \r\n      @POST\r\n      @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n      @Produces(MediaType.TEXT_PLAIN)\r\n      Response sendFileUpload(\r\n          @MultipartForm SlackReportFileUploadRequest requestBody,\r\n          @HeaderParam(&quot;Authorization&quot;) String token);\r\n    }\r\n\r\nand\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class SlackReportFileUploadRequest {\r\n    \r\n      @FormParam(&quot;content&quot;)\r\n      @PartType(MediaType.APPLICATION_OCTET_STREAM)\r\n      private InputStream content;\r\n    \r\n      @FormParam(&quot;channels&quot;)\r\n      @PartType(MediaType.TEXT_PLAIN)\r\n      private String channels;\r\n    \r\n      @FormParam(&quot;title&quot;)\r\n      @PartType(MediaType.TEXT_PLAIN)\r\n      private String fileName;\r\n    }","title":"Slack-Api File Upload - Error No_File_Data","body":"<p>I could solve it by leaving it like this</p>\n<pre><code>@RegisterRestClient(configKey = &quot;open-co.scd.integration.slack.api.scd-report-file&quot;)\n@RegisterProvider(BaseExceptionMapper.class)\n@RegisterProvider(MultipartFormDataWriter.class)\npublic interface SCDReportFileUploadClient {\n\n  @POST\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\n  @Produces(MediaType.TEXT_PLAIN)\n  Response sendFileUpload(\n      @MultipartForm SlackReportFileUploadRequest requestBody,\n      @HeaderParam(&quot;Authorization&quot;) String token);\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class SlackReportFileUploadRequest {\n\n  @FormParam(&quot;content&quot;)\n  @PartType(MediaType.APPLICATION_OCTET_STREAM)\n  private InputStream content;\n\n  @FormParam(&quot;channels&quot;)\n  @PartType(MediaType.TEXT_PLAIN)\n  private String channels;\n\n  @FormParam(&quot;title&quot;)\n  @PartType(MediaType.TEXT_PLAIN)\n  private String fileName;\n}\n</code></pre>\n"}],"owner":{"account_id":18090204,"reputation":1,"user_id":21298789,"display_name":"Fernando Gabriel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688497023,"creation_date":1688480385,"question_id":76613579,"body_markdown":"I created a call to slack&#39;s api, but I&#39;m getting no_file_data error, I&#39;ve tested my file and it is being generated, I&#39;ve sent it with filename in multiform, with filetype, but the error persists\r\n\r\n\r\n\r\nCLASSE MICROPOFILE (client):\r\n```\r\n@Path(&quot;/slack&quot;)\r\n@RegisterRestClient(configKey = &quot;open-co.scd.integration.slack.api.scd-report-file&quot;)\r\n@RegisterProvider(BaseExceptionMapper.class)\r\npublic interface SCDReportFileUploadClient {\r\n\r\n  @POST\r\n  @Path(&quot;/files.upload&quot;)\r\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n  @Produces(MediaType.APPLICATION_JSON)\r\n  Response sendFileUpload(\r\n      @MultipartForm SlackReportFileUploadRequest requestBody,\r\n      @HeaderParam(&quot;Authorization&quot;) String token);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nCLASSE DO FORM:\r\n```\r\npublic class SlackReportFileUploadRequest {\r\n\r\n  @FormParam(&quot;file&quot;)\r\n  @PartType(MediaType.APPLICATION_OCTET_STREAM)\r\n  private InputStream file;\r\n\r\n  @FormParam(&quot;channels&quot;)\r\n  @PartType(MediaType.TEXT_PLAIN)\r\n  private String channels;\r\n\r\n  @FormParam(&quot;filename&quot;)\r\n  private String fileName;\r\n\r\n  @FormParam(&quot;filetype&quot;)\r\n  private String fileType = &quot;text&quot;;\r\n\r\n  public SlackReportFileUploadRequest() {}\r\n\r\n  public SlackReportFileUploadRequest(\r\n      InputStream file, String channels, String fileName, String fileType) {\r\n    this.file = file;\r\n    this.channels = channels;\r\n    this.fileName = fileName;\r\n    this.fileType = fileType;\r\n  }\r\n\r\n  public InputStream getFile() {\r\n    return file;\r\n  }\r\n\r\n  public void setFile(InputStream file) {\r\n    this.file = file;\r\n  }\r\n\r\n  public String getChannels() {\r\n    return channels;\r\n  }\r\n\r\n  public void setChannels(String channels) {\r\n    this.channels = channels;\r\n  }\r\n\r\n  public String getFileName() {\r\n    return fileName;\r\n  }\r\n\r\n  public void setFileName(String fileName) {\r\n    this.fileName = fileName;\r\n  }\r\n\r\n  public String getFileType() {\r\n    return fileType;\r\n  }\r\n\r\n  public void setFileType(String fileType) {\r\n    this.fileType = fileType;\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\nCLASSE REQUEST:\r\n\r\n```\r\n.\r\n.\r\n.\r\n  public Response sendFileReport(byte[] content, String fileName) throws IOException {\r\n    return fileUploadClient.sendFileUpload(requestBodySendFile(content, fileName, channels), token);\r\n  }\r\n\r\n\r\n  private SlackReportFileUploadRequest requestBodySendFile(\r\n      byte[] content, String fileName, String channels) throws IOException {\r\n\r\n    SlackReportFileUploadRequest buildForm = new SlackReportFileUploadRequest();\r\n    buildForm.setFile(new ByteArrayInputStream(content));\r\n    buildForm.setChannels(channels);\r\n    buildForm.setFileName(fileName);\r\n\r\n    return buildForm;\r\n  }\r\n.\r\n.\r\n.\r\n```\r\n\r\nI need a generalist class that I can send files like .txt and .csv","title":"Slack-Api File Upload - Error No_File_Data","body":"<p>I created a call to slack's api, but I'm getting no_file_data error, I've tested my file and it is being generated, I've sent it with filename in multiform, with filetype, but the error persists</p>\n<p>CLASSE MICROPOFILE (client):</p>\n<pre><code>@Path(&quot;/slack&quot;)\n@RegisterRestClient(configKey = &quot;open-co.scd.integration.slack.api.scd-report-file&quot;)\n@RegisterProvider(BaseExceptionMapper.class)\npublic interface SCDReportFileUploadClient {\n\n  @POST\n  @Path(&quot;/files.upload&quot;)\n  @Consumes(MediaType.MULTIPART_FORM_DATA)\n  @Produces(MediaType.APPLICATION_JSON)\n  Response sendFileUpload(\n      @MultipartForm SlackReportFileUploadRequest requestBody,\n      @HeaderParam(&quot;Authorization&quot;) String token);\n}\n</code></pre>\n<p>CLASSE DO FORM:</p>\n<pre><code>public class SlackReportFileUploadRequest {\n\n  @FormParam(&quot;file&quot;)\n  @PartType(MediaType.APPLICATION_OCTET_STREAM)\n  private InputStream file;\n\n  @FormParam(&quot;channels&quot;)\n  @PartType(MediaType.TEXT_PLAIN)\n  private String channels;\n\n  @FormParam(&quot;filename&quot;)\n  private String fileName;\n\n  @FormParam(&quot;filetype&quot;)\n  private String fileType = &quot;text&quot;;\n\n  public SlackReportFileUploadRequest() {}\n\n  public SlackReportFileUploadRequest(\n      InputStream file, String channels, String fileName, String fileType) {\n    this.file = file;\n    this.channels = channels;\n    this.fileName = fileName;\n    this.fileType = fileType;\n  }\n\n  public InputStream getFile() {\n    return file;\n  }\n\n  public void setFile(InputStream file) {\n    this.file = file;\n  }\n\n  public String getChannels() {\n    return channels;\n  }\n\n  public void setChannels(String channels) {\n    this.channels = channels;\n  }\n\n  public String getFileName() {\n    return fileName;\n  }\n\n  public void setFileName(String fileName) {\n    this.fileName = fileName;\n  }\n\n  public String getFileType() {\n    return fileType;\n  }\n\n  public void setFileType(String fileType) {\n    this.fileType = fileType;\n  }\n}\n\n</code></pre>\n<p>CLASSE REQUEST:</p>\n<pre><code>.\n.\n.\n  public Response sendFileReport(byte[] content, String fileName) throws IOException {\n    return fileUploadClient.sendFileUpload(requestBodySendFile(content, fileName, channels), token);\n  }\n\n\n  private SlackReportFileUploadRequest requestBodySendFile(\n      byte[] content, String fileName, String channels) throws IOException {\n\n    SlackReportFileUploadRequest buildForm = new SlackReportFileUploadRequest();\n    buildForm.setFile(new ByteArrayInputStream(content));\n    buildForm.setChannels(channels);\n    buildForm.setFileName(fileName);\n\n    return buildForm;\n  }\n.\n.\n.\n</code></pre>\n<p>I need a generalist class that I can send files like .txt and .csv</p>\n"},{"tags":["javascript","java","post","servlets","tomcat9"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1688494733,"post_id":76614899,"comment_id":135080609,"body_markdown":"Since user and password are usually sent in a header called &quot;Authorization&quot;, how exactly do you send the request? Can you add this to the question please?","body":"Since user and password are usually sent in a header called &quot;Authorization&quot;, how exactly do you send the request? Can you add this to the question please?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1688544668,"post_id":76614899,"comment_id":135085911,"body_markdown":"OK, my question was not precise enough - What I wanted to find out effectively was the content of the actual HTTP  call (without the form you use, it&#39;s hard to tell). Can you record one in your browser, anonymize it and add it to the question please? Including request headers and request body. Response is not of interest for now.","body":"OK, my question was not precise enough - What I wanted to find out effectively was the content of the actual HTTP  call (without the form you use, it&#39;s hard to tell). Can you record one in your browser, anonymize it and add it to the question please? Including request headers and request body. Response is not of interest for now."}],"owner":{"account_id":23246438,"reputation":29,"user_id":17334973,"display_name":"Proth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688496926,"creation_date":1688492924,"question_id":76614899,"body_markdown":"I can&#39;t understand why in my servlet on my tomcat server, i can print out the parameters taken from a request but when check `user == null || user.isEmpty()` it gives me `true`.\r\nThis is the code for the servlet class.\r\n``` lang-java\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\nimport javax.servlet.ServletContext;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.MultipartConfig;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(&quot;/Login&quot;)\r\n@MultipartConfig\r\npublic class login extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate Connection conn = null;\r\n\t\r\n\tpublic void init() {\r\n\t\tServletContext ctx = getServletContext();\r\n\t\t\r\n\t\tfinal String DB_URL = ctx.getInitParameter(&quot;dbUrl&quot;);\r\n\t\tfinal String USER = ctx.getInitParameter(&quot;dbUser&quot;);\r\n\t\tfinal String PASS = ctx.getInitParameter(&quot;dbPass&quot;);\r\n\t\tfinal String DRIVER = ctx.getInitParameter(&quot;dbDriver&quot;);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\tconn = DriverManager.getConnection(DB_URL, USER, PASS);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\tdoPost(request, response);\r\n\t\t\r\n\t}\r\n\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t\t\tthrows ServletException, IOException {\r\n\t\tString user = request.getParameter(&quot;username&quot;);\r\n\t\tString password = request.getParameter(&quot;password&quot;);\r\n\t\t\r\n\t\tif(user == null || password == null || user.isEmpty() || password.isEmpty()) response.getWriter().write(&quot;missing fields&quot;);\r\n\t}\r\n\t\r\n\tpublic void destroy() {\r\n\t\ttry {\r\n\t\t\tconn.close();\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\n\r\nI use javascript XMLHttpRequest to send the post request, and the formdata which contains the parameters.\r\n\r\nTo sends the form i use:\r\n```\r\n{\r\n\tdocument.getElementById(&quot;loginbutton&quot;).addEventListener(&quot;click&quot;, (e)=&gt;{\r\n\t\tconst formd = document.getElementById(&quot;login_form&quot;);\r\n\t\t\r\n\t\tmakeCall(&quot;POST&quot;, &quot;Login&quot;, formd, (request) =&gt; {\r\n\t\t\tif(request.readyState == 4 &amp;&amp; request.status == 200){\r\n\t\t\t\tconsole.log(&quot;Cioa&quot;);\r\n\t\t\t}\r\n\t\t}, null, false);\r\n\t});\r\n}\r\n```\r\nas the caller of the function\r\nand: \r\n```\r\nfunction makeCall(method, url, formElement, callBack , objectToSend , reset = true) {\r\n    let request = new XMLHttpRequest();\r\n    request.onreadystatechange = function() {\r\n        callBack(request);\r\n    };\r\n\r\n    request.open(method, url);\r\n\r\n    if (formElement == null &amp;&amp; objectToSend == null) {\r\n        request.send();\r\n    } else if(formElement != null){\r\n    \t//Send the form\r\n        request.send(new FormData(formElement));\r\n    } else {\r\n\t\t//Send the object\r\n        let toSend = JSON.stringify(objectToSend);\r\n        request.send(toSend);\r\n    }\r\n\r\n    //If there is a form and reset is true -&gt; reset the fields of the form\r\n    if (formElement !== null &amp;&amp; reset === true) {\r\n        formElement.reset();\r\n    }\r\n}\r\n```","title":"HttpServletRequest parameters empty","body":"<p>I can't understand why in my servlet on my tomcat server, i can print out the parameters taken from a request but when check <code>user == null || user.isEmpty()</code> it gives me <code>true</code>.\nThis is the code for the servlet class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.io.PrintWriter;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.MultipartConfig;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/Login&quot;)\n@MultipartConfig\npublic class login extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    private Connection conn = null;\n    \n    public void init() {\n        ServletContext ctx = getServletContext();\n        \n        final String DB_URL = ctx.getInitParameter(&quot;dbUrl&quot;);\n        final String USER = ctx.getInitParameter(&quot;dbUser&quot;);\n        final String PASS = ctx.getInitParameter(&quot;dbPass&quot;);\n        final String DRIVER = ctx.getInitParameter(&quot;dbDriver&quot;);\n        \n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            conn = DriverManager.getConnection(DB_URL, USER, PASS);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        doPost(request, response);\n        \n    }\n\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        String user = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n        \n        if(user == null || password == null || user.isEmpty() || password.isEmpty()) response.getWriter().write(&quot;missing fields&quot;);\n    }\n    \n    public void destroy() {\n        try {\n            conn.close();\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    \n\n}\n</code></pre>\n<p>I use javascript XMLHttpRequest to send the post request, and the formdata which contains the parameters.</p>\n<p>To sends the form i use:</p>\n<pre><code>{\n    document.getElementById(&quot;loginbutton&quot;).addEventListener(&quot;click&quot;, (e)=&gt;{\n        const formd = document.getElementById(&quot;login_form&quot;);\n        \n        makeCall(&quot;POST&quot;, &quot;Login&quot;, formd, (request) =&gt; {\n            if(request.readyState == 4 &amp;&amp; request.status == 200){\n                console.log(&quot;Cioa&quot;);\n            }\n        }, null, false);\n    });\n}\n</code></pre>\n<p>as the caller of the function\nand:</p>\n<pre><code>function makeCall(method, url, formElement, callBack , objectToSend , reset = true) {\n    let request = new XMLHttpRequest();\n    request.onreadystatechange = function() {\n        callBack(request);\n    };\n\n    request.open(method, url);\n\n    if (formElement == null &amp;&amp; objectToSend == null) {\n        request.send();\n    } else if(formElement != null){\n        //Send the form\n        request.send(new FormData(formElement));\n    } else {\n        //Send the object\n        let toSend = JSON.stringify(objectToSend);\n        request.send(toSend);\n    }\n\n    //If there is a form and reset is true -&gt; reset the fields of the form\n    if (formElement !== null &amp;&amp; reset === true) {\n        formElement.reset();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate"],"comments":[{"owner":{"display_name":"user18473608"},"score":0,"creation_date":1688511758,"post_id":76615233,"comment_id":135082667,"body_markdown":"Try to use indexed parameters instead of named parameters. I mean, change `:number` for `?1` in your SQL query.","body":"Try to use indexed parameters instead of named parameters. I mean, change <code>:number</code> for <code>?1</code> in your SQL query."},{"owner":{"account_id":28763882,"reputation":11,"user_id":22029203,"display_name":"Sergey"},"score":0,"creation_date":1688533639,"post_id":76615233,"comment_id":135084215,"body_markdown":"Unfortunately, the error is the same: No Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111","body":"Unfortunately, the error is the same: No Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111"},{"owner":{"display_name":"user18473608"},"score":0,"creation_date":1688538694,"post_id":76615233,"comment_id":135084777,"body_markdown":"Is Social class an entity class (`@Entity`) ?","body":"Is Social class an entity class (<code>@Entity</code>) ?"}],"owner":{"account_id":28763882,"reputation":11,"user_id":22029203,"display_name":"Sergey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688496830,"creation_date":1688496744,"question_id":76615233,"body_markdown":"In short, I have Hibernate, Spring, PostgreSQL and entity:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;accounts&quot;)\r\n@DynamicUpdate\r\n@TypeDefs({\r\n        @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class),\r\n        @TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\r\n})\r\npublic class Account {\r\n    @Id\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @Column(unique = true, nullable = false)\r\n    @Type(type = &quot;pg-uuid&quot;)\r\n    private UUID id;\r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Generated(GenerationTime.INSERT)\r\n    @Column(unique = true, nullable = false, insertable = false, updatable = false)\r\n    private Integer number;\r\n\r\n    @Type(type = &quot;jsonb&quot;)\r\n    @Column(columnDefinition = &quot;jsonb&quot;)\r\n    private Information information;\r\n\r\n    @Type(type = &quot;jsonb&quot;)\r\n    @Column(columnDefinition = &quot;jsonb&quot;)\r\n    private Social social;\r\n}\r\n```\r\n\r\nQueries of this kind work fine:\r\n\r\n```\r\nAccount findByNumber(Integer number);\r\n```\r\n\r\nI need to make a request of this kind:\r\n\r\n```\r\n@Query(value = &quot;select social from accounts where number = :number&quot;, nativeQuery = true)\r\nSocial findSocialByNumber(@Param(&quot;number&quot;) int number);\r\n```\r\n\r\nWhen executing the query written above, I get an error:\r\n`No Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111`\r\n\r\nSocial class:\r\n\r\n```\r\npublic class Social {\r\n    private Friends friends;\r\n    private Mail mail;\r\n\r\n    public Friends getFriends() {\r\n        return friends;\r\n    }\r\n\r\n    public void setFriends(Friends friends) {\r\n        this.friends = friends;\r\n    }\r\n\r\n    public Mail getMail() {\r\n        return mail;\r\n    }\r\n\r\n    public void setMail(Mail mail) {\r\n        this.mail = mail;\r\n    }\r\n}\r\n```\r\n\r\nI tried a bunch of annotations in different quantities and combinations, but I couldn&#39;t get the Social object. How can I get a Social object by querying the database?","title":"Get the jsonb entity field","body":"<p>In short, I have Hibernate, Spring, PostgreSQL and entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;accounts&quot;)\n@DynamicUpdate\n@TypeDefs({\n        @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class),\n        @TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\n})\npublic class Account {\n    @Id\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    @Column(unique = true, nullable = false)\n    @Type(type = &quot;pg-uuid&quot;)\n    private UUID id;\n\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Generated(GenerationTime.INSERT)\n    @Column(unique = true, nullable = false, insertable = false, updatable = false)\n    private Integer number;\n\n    @Type(type = &quot;jsonb&quot;)\n    @Column(columnDefinition = &quot;jsonb&quot;)\n    private Information information;\n\n    @Type(type = &quot;jsonb&quot;)\n    @Column(columnDefinition = &quot;jsonb&quot;)\n    private Social social;\n}\n</code></pre>\n<p>Queries of this kind work fine:</p>\n<pre><code>Account findByNumber(Integer number);\n</code></pre>\n<p>I need to make a request of this kind:</p>\n<pre><code>@Query(value = &quot;select social from accounts where number = :number&quot;, nativeQuery = true)\nSocial findSocialByNumber(@Param(&quot;number&quot;) int number);\n</code></pre>\n<p>When executing the query written above, I get an error:\n<code>No Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111</code></p>\n<p>Social class:</p>\n<pre><code>public class Social {\n    private Friends friends;\n    private Mail mail;\n\n    public Friends getFriends() {\n        return friends;\n    }\n\n    public void setFriends(Friends friends) {\n        this.friends = friends;\n    }\n\n    public Mail getMail() {\n        return mail;\n    }\n\n    public void setMail(Mail mail) {\n        this.mail = mail;\n    }\n}\n</code></pre>\n<p>I tried a bunch of annotations in different quantities and combinations, but I couldn't get the Social object. How can I get a Social object by querying the database?</p>\n"},{"tags":["java","postman","moodle","moodle-api","moodle-mobile"],"owner":{"account_id":28950682,"reputation":1,"user_id":22175361,"display_name":"Smiley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688496800,"creation_date":1688496800,"question_id":76615237,"body_markdown":"Retrieve all questions just created by user (that are not replied = without any attempt) is what I&#39;m looking for.\r\n\r\n\r\nIt&#39;s possible to retrieve the different attempts of a question (already replied = with attempts) through **mod_quiz_get_user_attempts**, but it isn&#39;t possible with questions without any reply or attempt.\r\n\r\nBasing on [Moodle Documentation](https://docs.moodle.org/dev/Web_service_API_functions), I didn&#39;t found the right function.\r\nAny suggestion will be appreciated and thanks in advance.","title":"API to Retrieve created questions without any attempt from Moodle","body":"<p>Retrieve all questions just created by user (that are not replied = without any attempt) is what I'm looking for.</p>\n<p>It's possible to retrieve the different attempts of a question (already replied = with attempts) through <strong>mod_quiz_get_user_attempts</strong>, but it isn't possible with questions without any reply or attempt.</p>\n<p>Basing on <a href=\"https://docs.moodle.org/dev/Web_service_API_functions\" rel=\"nofollow noreferrer\">Moodle Documentation</a>, I didn't found the right function.\nAny suggestion will be appreciated and thanks in advance.</p>\n"},{"tags":["java","json","performance","parallel-processing"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":4,"creation_date":1606192395,"post_id":64980274,"comment_id":114881164,"body_markdown":"_measure_, don&#39;t guess","body":"<i>measure</i>, don&#39;t guess"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1606193198,"post_id":64980274,"comment_id":114881306,"body_markdown":"You said &quot;I have some code; how can I make it faster?&quot;. You didn&#39;t show the code, you didn&#39;t show measurements of where the slow parts are.","body":"You said &quot;I have some code; how can I make it faster?&quot;. You didn&#39;t show the code, you didn&#39;t show measurements of where the slow parts are."},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1606215739,"post_id":64980274,"comment_id":114889426,"body_markdown":"Use a profiler to find out which aspect (method call stack) of your process consumes most of the time. Edit the results into your question. Tell us which library/framework you&#39;re using for JSON parsing and database insertion. Show us example code. Without these informations, you can&#39;t hope for useful answers, only guesswork.","body":"Use a profiler to find out which aspect (method call stack) of your process consumes most of the time. Edit the results into your question. Tell us which library/framework you&#39;re using for JSON parsing and database insertion. Show us example code. Without these informations, you can&#39;t hope for useful answers, only guesswork."},{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1607287541,"post_id":64980274,"comment_id":115218710,"body_markdown":"1. right, measure, what is the most time consuming part of the process (remember about Amdahl&#39;s low) 2. if JSON parsing takes significant part of time, don&#39;t use object mapping at all, use event/token/stream based parsing adding new insert into JDBC batch with PreparedStatement for each node on-the-fly 3. tune your DB to improve performance of inserts (optimize or even drop indexes before run, sharde db, use SSD etc etc). 4. find optimal num of threads for the job, 2500 threads may slow down the system because of context switching, IO/memory bus and other contentions...","body":"1. right, measure, what is the most time consuming part of the process (remember about Amdahl&#39;s low) 2. if JSON parsing takes significant part of time, don&#39;t use object mapping at all, use event/token/stream based parsing adding new insert into JDBC batch with PreparedStatement for each node on-the-fly 3. tune your DB to improve performance of inserts (optimize or even drop indexes before run, sharde db, use SSD etc etc). 4. find optimal num of threads for the job, 2500 threads may slow down the system because of context switching, IO/memory bus and other contentions..."}],"answers":[{"tags":[],"owner":{"account_id":4218279,"reputation":1719,"user_id":3453727,"display_name":"Alex Chernyshev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688496570,"creation_date":1606193509,"answer_id":64980460,"question_id":64980274,"body_markdown":"What you described should not take so much time (30-50 min to parse), also a json file with ~5k nodes is relatively small.\r\nThe bottleneck will be in database, during mass insert, especially if you have indexes on fields.\r\n\r\nSo i suggest to:\r\n1. Don&#39;t waste time on threading - unpacking and parsing jsons should be fast in your case, focus on batch inserts and do it properly: 1000+ batch queue and manual commit after.\r\n2. Disable indexes before importing, especially full-text and enable (+reindex) after ","title":"How to improve Performance in JSON parsing","body":"<p>What you described should not take so much time (30-50 min to parse), also a json file with ~5k nodes is relatively small.\nThe bottleneck will be in database, during mass insert, especially if you have indexes on fields.</p>\n<p>So i suggest to:</p>\n<ol>\n<li>Don't waste time on threading - unpacking and parsing jsons should be fast in your case, focus on batch inserts and do it properly: 1000+ batch queue and manual commit after.</li>\n<li>Disable indexes before importing, especially full-text and enable (+reindex) after</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1311659,"reputation":982,"user_id":1259544,"display_name":"binhgreat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606193661,"creation_date":1606193661,"answer_id":64980477,"question_id":64980274,"body_markdown":"I think, the performance problem may come from:\r\n\r\n 1. JSON parsing &amp; create objects\r\n 2. Inserting data to DB: if you insert many times, performance reduce a lot\r\n\r\nIf you run 2500 threads, it&#39;s may not effective if you don&#39;t have much CPU, since the overhead may increase. Depend on your HW configuration, you can define number of thread.\r\n\r\nAnd to insert data to DB, I suggest to do as bellow:\r\n- Each thread, after JSON parsing and create objects, you put the objects into CSV file\r\n- After finish, try to import CSV to DB","title":"How to improve Performance in JSON parsing","body":"<p>I think, the performance problem may come from:</p>\n<ol>\n<li>JSON parsing &amp; create objects</li>\n<li>Inserting data to DB: if you insert many times, performance reduce a lot</li>\n</ol>\n<p>If you run 2500 threads, it's may not effective if you don't have much CPU, since the overhead may increase. Depend on your HW configuration, you can define number of thread.</p>\n<p>And to insert data to DB, I suggest to do as bellow:</p>\n<ul>\n<li>Each thread, after JSON parsing and create objects, you put the objects into CSV file</li>\n<li>After finish, try to import CSV to DB</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3274316,"reputation":1168,"user_id":2756833,"display_name":"mfe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606473549,"creation_date":1606473549,"answer_id":65035908,"question_id":64980274,"body_markdown":"I would suggest you using [DSM][1] library. With DSM, you can easily parse very complex JSON files and process them during parsing.\r\nYou don&#39;t need to wait until all JSON files being processing. I guess this is your main problem.\r\nBTW:\r\nIt uses Jackson stream API to read JSON so, it consumes very low memory.\r\n\r\n\r\nExample usage can be found in this answer:\r\n\r\nhttps://stackoverflow.com/questions/9390368/java-best-approach-to-parse-huge-extra-large-json-file/56007435#56007435\r\n\r\n  [1]: https://mfatihercik.github.io/dsm/","title":"How to improve Performance in JSON parsing","body":"<p>I would suggest you using <a href=\"https://mfatihercik.github.io/dsm/\" rel=\"nofollow noreferrer\">DSM</a> library. With DSM, you can easily parse very complex JSON files and process them during parsing.\nYou don't need to wait until all JSON files being processing. I guess this is your main problem.\nBTW:\nIt uses Jackson stream API to read JSON so, it consumes very low memory.</p>\n<p>Example usage can be found in this answer:</p>\n<p><a href=\"https://stackoverflow.com/questions/9390368/java-best-approach-to-parse-huge-extra-large-json-file/56007435#56007435\">JAVA - Best approach to parse huge (extra large) JSON file</a></p>\n"}],"owner":{"account_id":1922562,"reputation":553,"user_id":1733690,"accept_rate":62,"display_name":"Nabs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64980460,"answer_count":3,"score":0,"last_activity_date":1688496570,"creation_date":1606192248,"question_id":64980274,"body_markdown":"I have a scenario where user is going to upload a zip file. This zip file can have 4999 json files, each json file can have 4999 nodes which I am parsing and creating objects. Eventually I am inserting them in db. When I tested this scenario it took me 30-50 min to parse. \r\n\r\nI am looking for suggestions where \r\n1. I want to read JSON files in parallel: let&#39;s say if I have a batch of 100 jsonfiles then I can have 50 threads running in parallel\r\n\r\n2. Each thread will be responsible for parsing the JSON files, which might result in another perf bottleneck as we have 4999 nodes to parse. So I was thinking another batch of 100 node reads at a time which will cause 50 child threads again\r\n\r\nSo in total there will be 2500 threads in the system but should help parallel execution of around 25,000,000 sequential operations.\r\n\r\nLet me know if this approach sounds fine or not?","title":"How to improve Performance in JSON parsing","body":"<p>I have a scenario where user is going to upload a zip file. This zip file can have 4999 json files, each json file can have 4999 nodes which I am parsing and creating objects. Eventually I am inserting them in db. When I tested this scenario it took me 30-50 min to parse.</p>\n<p>I am looking for suggestions where</p>\n<ol>\n<li><p>I want to read JSON files in parallel: let's say if I have a batch of 100 jsonfiles then I can have 50 threads running in parallel</p>\n</li>\n<li><p>Each thread will be responsible for parsing the JSON files, which might result in another perf bottleneck as we have 4999 nodes to parse. So I was thinking another batch of 100 node reads at a time which will cause 50 child threads again</p>\n</li>\n</ol>\n<p>So in total there will be 2500 threads in the system but should help parallel execution of around 25,000,000 sequential operations.</p>\n<p>Let me know if this approach sounds fine or not?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666029710,"post_id":74100891,"comment_id":130833915,"body_markdown":"What would the output be for `String str = &quot;aasdddraabcdaa&quot; ?","body":"What would the output be for `String str = &quot;aasdddraabcdaa&quot; ?"},{"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"score":1,"creation_date":1666074261,"post_id":74100891,"comment_id":130842735,"body_markdown":"The output of String str = &quot;aasdddraabcdaa&quot; would be a6s1d4r1b1c1.","body":"The output of String str = &quot;aasdddraabcdaa&quot; would be a6s1d4r1b1c1."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1666082442,"post_id":74100891,"comment_id":130845298,"body_markdown":"I think you should use a [Map](https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html) but I guess that if you have not yet learned [arrays](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html) then you probably can&#39;t use `Map`.","body":"I think you should use a <a href=\"https://docs.oracle.com/javase/tutorial/collections/interfaces/map.html\" rel=\"nofollow noreferrer\">Map</a> but I guess that if you have not yet learned <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">arrays</a> then you probably can&#39;t use <code>Map</code>."},{"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"score":0,"creation_date":1666095508,"post_id":74100891,"comment_id":130849754,"body_markdown":"Yes, I don&#39;t have any knowledge about array or map. I looked at everywhere, but there isn&#39;t any solution without them.","body":"Yes, I don&#39;t have any knowledge about array or map. I looked at everywhere, but there isn&#39;t any solution without them."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666237945,"post_id":74100891,"comment_id":130889750,"body_markdown":"Are there restrictions on what characters may be in the String? Are digits allowed? Punctuation characters?  If digits are allowed, there is the potential for ambiguities in the result.","body":"Are there restrictions on what characters may be in the String? Are digits allowed? Punctuation characters?  If digits are allowed, there is the potential for ambiguities in the result."},{"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"score":1,"creation_date":1666242915,"post_id":74100891,"comment_id":130890538,"body_markdown":"The characters should be letters.","body":"The characters should be letters."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666275907,"post_id":74100891,"comment_id":130902409,"body_markdown":"@NevzatTalha&#214;zcan, Your code shows you have the right idea. But, the question is closed, and it&#39;s difficult to answer in comments. Here is one suggestion: add `counter = 0;`  before the inner `for` loop. `String str = &quot;aasdddr&quot;, result = &quot;&quot;; \n  int counter ;\n  for(int i = 0; i &lt; str.length(); i++){\n      counter = 0;\n      result += &quot;&quot; + str.charAt(i);`  . Your code will still not work, but that change should give you an idea for the next step.","body":"@NevzatTalha&#214;zcan, Your code shows you have the right idea. But, the question is closed, and it&#39;s difficult to answer in comments. Here is one suggestion: add <code>counter = 0;</code>  before the inner <code>for</code> loop. <code>String str = &quot;aasdddr&quot;, result = &quot;&quot;;    int counter ;   for(int i = 0; i &lt; str.length(); i++){       counter = 0;       result += &quot;&quot; + str.charAt(i);</code>  . Your code will still not work, but that change should give you an idea for the next step."},{"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"score":0,"creation_date":1666302070,"post_id":74100891,"comment_id":130911364,"body_markdown":"thank you so much. I can&#39;t get used the concept of stack over flow for question. I hope it doesn&#39;t take long :(","body":"thank you so much. I can&#39;t get used the concept of stack over flow for question. I hope it doesn&#39;t take long :("},{"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"score":0,"creation_date":1666373477,"post_id":74100891,"comment_id":130929881,"body_markdown":"@OldDogProgrammer Thank you very much for your effort to reopen this question. I appreciate you.","body":"@OldDogProgrammer Thank you very much for your effort to reopen this question. I appreciate you."}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666471941,"creation_date":1666456912,"answer_id":74165335,"question_id":74100891,"body_markdown":"First, `counter` needs to be reset _inside_ the `for` loop. Each time you encounter a character in the `source` String, you want to restart the counter. Otherwise, as you have seen, the value of the counter is strictly increasing.\r\n\r\nNow, think about what happens if a character occurs in more than one place in the `source` String, as in the `&quot;aasdddraabcdaa&quot;` example. A sequence of 1 or more `a` appears in 3 places. Because, at the time you get to the 2nd occurrence of `a`, `a` has been previously counted, you want to skip over it. \r\n\r\nBecause the `source` String cannot contain digits, the `result` String can be used to check if a particular character value has already been processed. So, after fixing the problem with `counter`, the code can be fixed by adding these two lines: \r\n\r\n     if (result.indexOf (source.charAt(i)) &gt;= 0) { \r\n         continue; }\r\n\r\nHere is the complete result:\r\n\r\n    package stackoverflowmisc;\r\n    \r\n    public class StackOverflowMisc {\r\n        \r\n        public static String freqDist(String source) {\r\n            String result = &quot;&quot;;\r\n            int counter ;  \r\n            for (int i = 0; i &lt; source.length(); i++) {\r\n                if (result.indexOf (source.charAt(i)) &gt;= 0) { continue; }\r\n                counter = 1;\r\n                result += source.charAt(i);\r\n                for (int j = 1; j &lt; source.length(); j++) {\r\n                    if (source.charAt(i) == source.charAt(j)) {\r\n                        counter++;\r\n                    }\r\n                }\r\n                result += counter;\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String [] test = {&quot;aasdddr&quot;, &quot;aabacc&quot;, &quot;aasdddraabcdaa&quot;};\r\n            \r\n            for (int i = 0; i &lt; test.length; ++i) {\r\n                System.out.println (test[i] + &quot; - &quot; + freqDist (test[i]));\r\n            }\r\n            System.out.println (&quot;End of Program&quot;);\r\n        }    \r\n    }\r\n\r\nRun results:\r\n\r\n    aasdddr - a2s2d4r2\r\n    aabacc - a3b2c3\r\n    aasdddraabcdaa - a6s2d5r2b2c2\r\n    End of Program\r\n\r\nIn one of the Q&amp;A comments, you said the source string can contain only letters. How would the program work if it were allowed to contain digits? You can&#39;t use the `result` String, because the processing inserts digits there. Again, this is an easy fix: Add a 3rd String to record which values have already been found: \r\n\r\n    public static String freqDist2(String source) {\r\n            String result = &quot;&quot;, found = &quot;&quot;;\r\n            int counter ;\r\n            for (int i = 0; i &lt; source.length(); i++) {            \r\n                if (found.indexOf (source.charAt(i)) &gt;= 0) { continue; }\r\n                counter = 1;\r\n                result += source.charAt(i);\r\n                found += source.charAt(i);\r\n                for (int j = 1; j &lt; source.length(); j++) {\r\n                    if (source.charAt(i) == source.charAt(j)) {\r\n                        counter++;\r\n                    }\r\n                }\r\n                result += counter;\r\n            }\r\n            return result;\r\n    }\r\n\r\nAnother possibility is to delete the corresponding characters from the `source` String as they are counted. If you are not allowed to modify the `Source` String, make a copy and use the copy.\r\n\r\nComment:  I don&#39;t know if this is what your professor or whomever had in mind by placing the &quot;No array&quot; restriction, because a `String` is essentially built on a `char` array.","title":"How to find frequency of characters in a string without using array in java","body":"<p>First, <code>counter</code> needs to be reset <em>inside</em> the <code>for</code> loop. Each time you encounter a character in the <code>source</code> String, you want to restart the counter. Otherwise, as you have seen, the value of the counter is strictly increasing.</p>\n<p>Now, think about what happens if a character occurs in more than one place in the <code>source</code> String, as in the <code>&quot;aasdddraabcdaa&quot;</code> example. A sequence of 1 or more <code>a</code> appears in 3 places. Because, at the time you get to the 2nd occurrence of <code>a</code>, <code>a</code> has been previously counted, you want to skip over it.</p>\n<p>Because the <code>source</code> String cannot contain digits, the <code>result</code> String can be used to check if a particular character value has already been processed. So, after fixing the problem with <code>counter</code>, the code can be fixed by adding these two lines:</p>\n<pre><code> if (result.indexOf (source.charAt(i)) &gt;= 0) { \n     continue; }\n</code></pre>\n<p>Here is the complete result:</p>\n<pre><code>package stackoverflowmisc;\n\npublic class StackOverflowMisc {\n    \n    public static String freqDist(String source) {\n        String result = &quot;&quot;;\n        int counter ;  \n        for (int i = 0; i &lt; source.length(); i++) {\n            if (result.indexOf (source.charAt(i)) &gt;= 0) { continue; }\n            counter = 1;\n            result += source.charAt(i);\n            for (int j = 1; j &lt; source.length(); j++) {\n                if (source.charAt(i) == source.charAt(j)) {\n                    counter++;\n                }\n            }\n            result += counter;\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        String [] test = {&quot;aasdddr&quot;, &quot;aabacc&quot;, &quot;aasdddraabcdaa&quot;};\n        \n        for (int i = 0; i &lt; test.length; ++i) {\n            System.out.println (test[i] + &quot; - &quot; + freqDist (test[i]));\n        }\n        System.out.println (&quot;End of Program&quot;);\n    }    \n}\n</code></pre>\n<p>Run results:</p>\n<pre><code>aasdddr - a2s2d4r2\naabacc - a3b2c3\naasdddraabcdaa - a6s2d5r2b2c2\nEnd of Program\n</code></pre>\n<p>In one of the Q&amp;A comments, you said the source string can contain only letters. How would the program work if it were allowed to contain digits? You can't use the <code>result</code> String, because the processing inserts digits there. Again, this is an easy fix: Add a 3rd String to record which values have already been found:</p>\n<pre><code>public static String freqDist2(String source) {\n        String result = &quot;&quot;, found = &quot;&quot;;\n        int counter ;\n        for (int i = 0; i &lt; source.length(); i++) {            \n            if (found.indexOf (source.charAt(i)) &gt;= 0) { continue; }\n            counter = 1;\n            result += source.charAt(i);\n            found += source.charAt(i);\n            for (int j = 1; j &lt; source.length(); j++) {\n                if (source.charAt(i) == source.charAt(j)) {\n                    counter++;\n                }\n            }\n            result += counter;\n        }\n        return result;\n}\n</code></pre>\n<p>Another possibility is to delete the corresponding characters from the <code>source</code> String as they are counted. If you are not allowed to modify the <code>Source</code> String, make a copy and use the copy.</p>\n<p>Comment:  I don't know if this is what your professor or whomever had in mind by placing the &quot;No array&quot; restriction, because a <code>String</code> is essentially built on a <code>char</code> array.</p>\n"},{"tags":[],"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666473814,"creation_date":1666473615,"answer_id":74167173,"question_id":74100891,"body_markdown":"Finally, I found the solution. But I think any question has more than one solution.\r\nFirst, we should declare an empty string to keep the result. We use a nested loop because the outer loop will keep a character fixed during each iteration of the inner loop. Also, we should declare a count variable inside the outer loop. Because in each match, it will be increased by one and after controlling each character in the inner loop, it will be zero for the next check. Finally, after the inner loop, we should put a condition to check whether we have that character inside the result string. If there isn&#39;t any character like that, then it will be added to the result string. After that, its frequency (count) will be added. Outside of the loop, we can print it.\r\n\r\n    public class FrequenciesOfChar {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String str = &quot;aabcccd&quot;; // be sure that you don&#39;t have any digit in your string\r\n\r\n        String result = &quot;&quot;; // this will hold new string\r\n\r\n        for (int i = 0; i &lt; str.length(); i++) { // this will hold a character till be checked by inner loop\r\n\r\n            int count = 0; // put here so that it can be zero after each cycle for new character\r\n\r\n            for (int j = 0; j &lt; str.length(); j++) { // this will change\r\n\r\n                if(str.charAt(i) == str.charAt(j)){ // this will check whether there is a same character\r\n\r\n                    count++; // if there is a same character, count will increase\r\n\r\n                }\r\n\r\n            }\r\n\r\n            if( !(result.contains(&quot;&quot;+str.charAt(i))) ){ // this checks if result doesn&#39;t contain the checked character\r\n                result += &quot;&quot;+str.charAt(i); // first if result doesn&#39;t contain the checked character, character will be added\r\n                result += count; // then the character&#39;s frequency will be added\r\n            }\r\n\r\n        }\r\n\r\n        System.out.println(result);\r\n\r\n    }\r\n}\r\n\r\nRun Result:\r\naabcccd - a2b1c3d1","title":"How to find frequency of characters in a string without using array in java","body":"<p>Finally, I found the solution. But I think any question has more than one solution.\nFirst, we should declare an empty string to keep the result. We use a nested loop because the outer loop will keep a character fixed during each iteration of the inner loop. Also, we should declare a count variable inside the outer loop. Because in each match, it will be increased by one and after controlling each character in the inner loop, it will be zero for the next check. Finally, after the inner loop, we should put a condition to check whether we have that character inside the result string. If there isn't any character like that, then it will be added to the result string. After that, its frequency (count) will be added. Outside of the loop, we can print it.</p>\n<pre><code>public class FrequenciesOfChar {\n\npublic static void main(String[] args) {\n\n    String str = &quot;aabcccd&quot;; // be sure that you don't have any digit in your string\n\n    String result = &quot;&quot;; // this will hold new string\n\n    for (int i = 0; i &lt; str.length(); i++) { // this will hold a character till be checked by inner loop\n\n        int count = 0; // put here so that it can be zero after each cycle for new character\n\n        for (int j = 0; j &lt; str.length(); j++) { // this will change\n\n            if(str.charAt(i) == str.charAt(j)){ // this will check whether there is a same character\n\n                count++; // if there is a same character, count will increase\n\n            }\n\n        }\n\n        if( !(result.contains(&quot;&quot;+str.charAt(i))) ){ // this checks if result doesn't contain the checked character\n            result += &quot;&quot;+str.charAt(i); // first if result doesn't contain the checked character, character will be added\n            result += count; // then the character's frequency will be added\n        }\n\n    }\n\n    System.out.println(result);\n\n}\n</code></pre>\n<p>}</p>\n<p>Run Result:\naabcccd - a2b1c3d1</p>\n"},{"tags":[],"owner":{"account_id":13468344,"reputation":51,"user_id":9717784,"display_name":"Partha.B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688495854,"creation_date":1688495854,"answer_id":76615148,"question_id":74100891,"body_markdown":"    You can check below solution:-\r\n        String sentence = &quot;aasdddraabcdaa&quot;;\r\n        Arrays.stream(sentence.split(&quot;&quot;))\r\n        .map(String::toLowerCase)\r\n        .collect(Collectors.groupingBy(str -&gt;str, TreeMap::new, Collectors.counting()))\r\n        .forEach((k,v) -&gt; System.out.print(k+v));\r\n\r\nResult : a6b1c1d4r1s1","title":"How to find frequency of characters in a string without using array in java","body":"<pre><code>You can check below solution:-\n    String sentence = &quot;aasdddraabcdaa&quot;;\n    Arrays.stream(sentence.split(&quot;&quot;))\n    .map(String::toLowerCase)\n    .collect(Collectors.groupingBy(str -&gt;str, TreeMap::new, Collectors.counting()))\n    .forEach((k,v) -&gt; System.out.print(k+v));\n</code></pre>\n<p>Result : a6b1c1d4r1s1</p>\n"}],"owner":{"account_id":26366750,"reputation":13,"user_id":20022082,"display_name":"Nevzat Talha &#214;zcan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":804,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74165335,"answer_count":3,"score":-1,"last_activity_date":1688495854,"creation_date":1666026948,"question_id":74100891,"body_markdown":"Given a String, I want to create a frequency distribution of characters in the String.  That is, for each distinct character in the string, I want to count how many times it occurs. \r\n\r\nOutput is a `String` that consists of zero or more occurrences of the pattern _xd_, where _x_ is a character from the source String, and _d_ is the number of occurrences of _x_ within the String. Each _x_ in the output should occur once. \r\n\r\nThe challenge is to do this without using an array or `Collection`. \r\n\r\nExamples:\r\n\r\n     Source:  &quot;aasdddr&quot;          Result: &quot;a2s1d3r1&quot;\r\n     Source:  &quot;aabacc&quot;           Result: &quot;a3b1c2&quot;\r\n     Source:  &quot;aasdddraabcdaa&quot;   Result: &quot;a6s1d4r1b1c1&quot;\r\n\r\n\r\nI tried this way:\r\n\r\n      String str = &quot;aasdddr&quot;, result = &quot;&quot;; \r\n      int counter = 0;\r\n      for(int i = 0; i &lt; str.length(); i++){\r\n          result += &quot;&quot; + str.charAt(i);\r\n          for(int j = 1; j &lt; str.length(); j++){\r\n              if(str.charAt(i) == str.charAt(j)){\r\n                  counter++;\r\n              }\r\n          }\r\n          result += counter;\r\n        }\r\n      System.out.println(result);\r\n\r\nMy output is `a1a2s3d6d9d12r13`\r\n\r\n\r\n","title":"How to find frequency of characters in a string without using array in java","body":"<p>Given a String, I want to create a frequency distribution of characters in the String.  That is, for each distinct character in the string, I want to count how many times it occurs.</p>\n<p>Output is a <code>String</code> that consists of zero or more occurrences of the pattern <em>xd</em>, where <em>x</em> is a character from the source String, and <em>d</em> is the number of occurrences of <em>x</em> within the String. Each <em>x</em> in the output should occur once.</p>\n<p>The challenge is to do this without using an array or <code>Collection</code>.</p>\n<p>Examples:</p>\n<pre><code> Source:  &quot;aasdddr&quot;          Result: &quot;a2s1d3r1&quot;\n Source:  &quot;aabacc&quot;           Result: &quot;a3b1c2&quot;\n Source:  &quot;aasdddraabcdaa&quot;   Result: &quot;a6s1d4r1b1c1&quot;\n</code></pre>\n<p>I tried this way:</p>\n<pre><code>  String str = &quot;aasdddr&quot;, result = &quot;&quot;; \n  int counter = 0;\n  for(int i = 0; i &lt; str.length(); i++){\n      result += &quot;&quot; + str.charAt(i);\n      for(int j = 1; j &lt; str.length(); j++){\n          if(str.charAt(i) == str.charAt(j)){\n              counter++;\n          }\n      }\n      result += counter;\n    }\n  System.out.println(result);\n</code></pre>\n<p>My output is <code>a1a2s3d6d9d12r13</code></p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"owner":{"account_id":18810156,"reputation":333,"user_id":13718502,"display_name":"Martin Malfertheiner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1688495768,"creation_date":1688495768,"question_id":76615139,"body_markdown":"I&#39;m using Spring Boot with Hibernate to develop applications, and I would like to enhance the type safety of my JPA entities&#39; IDs. Currently, the ID field is defined as a `Long`, but I want to provide it with an explicit type. Here&#39;s an example of what I have:\r\n\r\n```java\r\n@Entity\r\npublic class User {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long id;\r\n}\r\n```\r\n\r\nI want to modify this code to give the ID field a more specific type. Here&#39;s what I have in mind:\r\n\r\n```java\r\n@Entity\r\npublic class User {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Id id;\r\n\r\n  record Id(Long id) {}\r\n}\r\n```\r\n\r\nBy introducing a nested record class called `Id`, I can ensure that only instances of this class are used as IDs for the `User` entity. This approach allows me to avoid accidentally passing another entity&#39;s ID as a parameter since it&#39;s no longer just a `Long`.","title":"How can I use typed IDs for JPA entities in Spring Boot with Hibernate?","body":"<p>I'm using Spring Boot with Hibernate to develop applications, and I would like to enhance the type safety of my JPA entities' IDs. Currently, the ID field is defined as a <code>Long</code>, but I want to provide it with an explicit type. Here's an example of what I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class User {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n}\n</code></pre>\n<p>I want to modify this code to give the ID field a more specific type. Here's what I have in mind:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class User {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Id id;\n\n  record Id(Long id) {}\n}\n</code></pre>\n<p>By introducing a nested record class called <code>Id</code>, I can ensure that only instances of this class are used as IDs for the <code>User</code> entity. This approach allows me to avoid accidentally passing another entity's ID as a parameter since it's no longer just a <code>Long</code>.</p>\n"},{"tags":["java","types","casting","operator-keyword"],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688495602,"creation_date":1688495096,"answer_id":76615088,"question_id":76614986,"body_markdown":"In Java compound assignment operators:  +=, -=, *=, etc., perform an implicit cast to the type of the variable on the left side of the operator.\r\n\r\nThis is stated in:\r\n\r\nhttps://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.26.2\r\n\r\n&gt; A compound assignment expression of the form E1 op= E2 is equivalent to E1 = (T) ((E1) op (E2)), where T is the type of E1, except that E1 is evaluated only once.\r\n\r\nso:\r\n\r\n    result1 -= 5.5\r\n\r\nis actually:\r\n\r\n    result1 = (int)(result1 - 5.5)\r\n\r\nIn case:\r\n\r\n    result2 = (result2 - 5.5);\r\n\r\nthere is no implicit cast, so you must do explicit cast with `(int)`\r\n\r\nAs to your question:\r\n\r\n&gt; why does that same logic cannot be applied in case of simple expression.\r\n\r\nI suppose in case of compound assignments, language designers decided that such expressions are clear that you want to update the original variable and such implicit cast will make code more concise. But in case of simple expression, such implicit cast might cause data loss - and programmer must be here explicit.","title":"why does java cant figure out data type of &quot;result2&quot; without type casting it as it figure out datatype of &quot;result1&quot;?","body":"<p>In Java compound assignment operators:  +=, -=, *=, etc., perform an implicit cast to the type of the variable on the left side of the operator.</p>\n<p>This is stated in:</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.26.2\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.26.2</a></p>\n<blockquote>\n<p>A compound assignment expression of the form E1 op= E2 is equivalent to E1 = (T) ((E1) op (E2)), where T is the type of E1, except that E1 is evaluated only once.</p>\n</blockquote>\n<p>so:</p>\n<pre><code>result1 -= 5.5\n</code></pre>\n<p>is actually:</p>\n<pre><code>result1 = (int)(result1 - 5.5)\n</code></pre>\n<p>In case:</p>\n<pre><code>result2 = (result2 - 5.5);\n</code></pre>\n<p>there is no implicit cast, so you must do explicit cast with <code>(int)</code></p>\n<p>As to your question:</p>\n<blockquote>\n<p>why does that same logic cannot be applied in case of simple expression.</p>\n</blockquote>\n<p>I suppose in case of compound assignments, language designers decided that such expressions are clear that you want to update the original variable and such implicit cast will make code more concise. But in case of simple expression, such implicit cast might cause data loss - and programmer must be here explicit.</p>\n"}],"owner":{"account_id":22946976,"reputation":49,"user_id":17078836,"display_name":"Vishal Sangole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688501123,"accepted_answer_id":76615088,"answer_count":1,"score":0,"last_activity_date":1688495602,"creation_date":1688494030,"question_id":76614986,"body_markdown":"        int result1 = 10;\r\n        result1 -= 5.5;// due to compound assignment this will not cause error and result will be 4\r\n        System.out.println(result1);\r\n\r\n        int result2 = 10;\r\n        result2 = (int) (result - 5.5);// this will cause error if we domt use cascting\r\n        System.out.println(result);\r\n\r\n what is exact logic behind dynamic datatype conversion for compound assignment operator (&quot; -= &quot;) used in above code. and why does that same logic cannot be applied in case of simple expression.","title":"why does java cant figure out data type of &quot;result2&quot; without type casting it as it figure out datatype of &quot;result1&quot;?","body":"<pre><code>    int result1 = 10;\n    result1 -= 5.5;// due to compound assignment this will not cause error and result will be 4\n    System.out.println(result1);\n\n    int result2 = 10;\n    result2 = (int) (result - 5.5);// this will cause error if we domt use cascting\n    System.out.println(result);\n</code></pre>\n<p>what is exact logic behind dynamic datatype conversion for compound assignment operator (&quot; -= &quot;) used in above code. and why does that same logic cannot be applied in case of simple expression.</p>\n"},{"tags":["java","maven","unit-testing"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1688509000,"post_id":76615035,"comment_id":135082437,"body_markdown":"You shouldn&#39;t have jars in `src/main/webapp/WEB-INF/lib`, they should be maven dependencies.","body":"You shouldn&#39;t have jars in <code>src&#47;main&#47;webapp&#47;WEB-INF&#47;lib</code>, they should be maven dependencies."},{"owner":{"account_id":12154225,"reputation":73,"user_id":8873596,"display_name":"mop"},"score":0,"creation_date":1688510075,"post_id":76615035,"comment_id":135082516,"body_markdown":"Guess you are right, thing is this dependency is not public nor available in a repository, should I include in a local repository (eg. https://stackoverflow.com/a/28762617/8873596 https://stackoverflow.com/a/19226672/8873596 ) Or is there any better alternative?","body":"Guess you are right, thing is this dependency is not public nor available in a repository, should I include in a local repository (eg. <a href=\"https://stackoverflow.com/a/28762617/8873596\">stackoverflow.com/a/28762617/8873596</a> <a href=\"https://stackoverflow.com/a/19226672/8873596\">stackoverflow.com/a/19226672/8873596</a> ) Or is there any better alternative?"}],"owner":{"account_id":12154225,"reputation":73,"user_id":8873596,"display_name":"mop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688494575,"creation_date":1688494575,"question_id":76615035,"body_markdown":"I&#39;m trying to create some tests for a web application that will be deployed in a WAR file.\r\n\r\nI&#39;d like to include several libraries that I have in my `webapp/WEB-INF/lib` folder to be available during the execution of these tests but I haven&#39;t achived it.\r\n\r\nI have tried including:\r\n```xml\r\n\t\t&lt;testResources&gt;\r\n\t\t\t&lt;testResource&gt;\r\n\t\t\t\t&lt;filtering&gt;false&lt;/filtering&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/webapp/WEB-INF/lib&lt;/directory&gt;\r\n&lt;!-- \t\t\t\t&lt;targetPath&gt;${project.basedir}/src/test/webapp/WEB-INF/lib&lt;/targetPath&gt; --&gt;\r\n\t\t\t&lt;/testResource&gt;\r\n\t\t&lt;/testResources&gt;\r\n```\r\nAnd altough they seems to appear in the following location `target\\test-classes`\r\nI have the following error: LIB ABC is not available to the JVM.","title":"Maven copy include WEB-INF jars in classpath of tests","body":"<p>I'm trying to create some tests for a web application that will be deployed in a WAR file.</p>\n<p>I'd like to include several libraries that I have in my <code>webapp/WEB-INF/lib</code> folder to be available during the execution of these tests but I haven't achived it.</p>\n<p>I have tried including:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;filtering&gt;false&lt;/filtering&gt;\n                &lt;directory&gt;src/main/webapp/WEB-INF/lib&lt;/directory&gt;\n&lt;!--                &lt;targetPath&gt;${project.basedir}/src/test/webapp/WEB-INF/lib&lt;/targetPath&gt; --&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n</code></pre>\n<p>And altough they seems to appear in the following location <code>target\\test-classes</code>\nI have the following error: LIB ABC is not available to the JVM.</p>\n"},{"tags":["java","spring-boot","microservices","spring-webflux","reactive-programming"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1681895652,"post_id":76049339,"comment_id":134129322,"body_markdown":"ex can never be null, as reactive datatypes like `Mono` and `Flux` do not allow null values","body":"ex can never be null, as reactive datatypes like <code>Mono</code> and <code>Flux</code> do not allow null values"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681885073,"creation_date":1681885073,"answer_id":76051275,"question_id":76049339,"body_markdown":"in order to use the `error` channel of a Mono, you need to wrap the exception into a mono, not directly throw it. In other words, your mocking should look like this:\r\n\r\n    doReturn(Mono.error(() -&gt; new WebClientResponseException(400, &quot;Bad Request&quot;, null, null, null)))\r\n        .when(myWebClient)\r\n    \t.getResponse(any());\r\n\r\nNow the code will reach the `onErrorResume` block. In this block, you can recover from the error and return a default `student` (wrapped in a mono) if you want, or the code flow reaches the end of the block and it will return a `Mono.empty()`. \r\n\r\nIf you want to test it, there are a few different ways, for example you can use a StepVerifier: https://www.baeldung.com/reactive-streams-step-verifier-test-publisher\r\n\r\nA less flexible (but simpler) alternative is to block the result for assertions:\r\n\r\n    @Test\r\n    void test() {\r\n    \tMyWebClient myWebClient = mock(MyWebClient.class);\r\n    \tdoReturn(Mono.error(() -&gt; new WebClientResponseException(400, &quot;Bad Request&quot;, null, null, null)))\r\n    \t\t\t.when(myWebClient)\r\n    \t\t\t.getResponse(any());\r\n    \r\n    \tMono&lt;Student&gt; responseDataMono = (Mono&lt;Student&gt;) myWebClient\r\n    \t\t\t.getResponse(&quot;url&quot;);\r\n    \r\n    \tvar testedFlow = responseDataMono\r\n    \t\t\t.onErrorResume(ex -&gt; {\r\n    \t\t\t\tif (null != ex &amp;&amp; null != ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;404&quot;)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;not found!&quot;);\r\n    \t\t\t\t\t// not found logic\r\n    \t\t\t\t} else if (null != ex &amp;&amp; null != ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;400&quot;)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;client error!&quot;);\r\n    \t\t\t\t\t//timeout logic\r\n    \t\t\t\t} else if (ex instanceof TimeoutException) {\r\n    \t\t\t\t\t//bad request logic\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\t// internal servicer error logic\r\n    \t\t\t\t}\r\n    \t\t\t\treturn Mono.empty();\r\n    \t\t\t}).map(resp -&gt; resp);\r\n    \r\n    \tassertThat(testedFlow.blockOptional()).isEmpty();\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nPs: there are better ways of handling errors with Mono&#39;s API. For example you can break the if-else logic like this:\r\n\r\n    responseDataMono\r\n\t\t.onErrorResume(err -&gt; err.getMessage().contains(&quot;404&quot;), err -&gt; {\r\n\t\t\t// not found logic\r\n\t\t\treturn Mono.empty();\r\n\t\t})\r\n\t\t.onErrorResume(err -&gt; err.getMessage().contains(&quot;400&quot;), err -&gt; {\r\n\t\t\t// bad request logic\r\n\t\t\treturn Mono.empty();\r\n\t\t})\r\n\t\t.onErrorResume(TimeoutException.class, err -&gt; {\r\n\t\t\t// not found logic\r\n\t\t\treturn Mono.empty();\r\n\t\t})\r\n\t\t.onErrorResume(ex -&gt; {\r\n\t\t\t// internal servicer error logic\r\n\t\t\treturn Mono.empty();\r\n\t\t}).map(resp -&gt; resp);\r\n\r\nAdditionally, I wouldn&#39;t relly on the error message containing a string, what if the error is something like &quot;account with id=12400 was not found&quot; - is this a 400 error or a 404? Alternatively, you can do something like this:\r\n\r\n    responseDataMono\r\n\t\t.onErrorResume(WebClientResponseException.NotFound.class, err -&gt; {\r\n\t\t\t// not found logic\r\n\t\t\treturn Mono.empty();\r\n\t\t})\r\n\t\t.onErrorResume(WebClientResponseException.BadRequest.class, err -&gt; {\r\n\t\t\t// bad request logic\r\n\t\t\treturn Mono.empty();\r\n\t\t})\r\n\t\t// ... etc\r\n\t\t.map(resp -&gt; resp);","title":"How to test OnErrorResume functionality in reactive programming","body":"<p>in order to use the <code>error</code> channel of a Mono, you need to wrap the exception into a mono, not directly throw it. In other words, your mocking should look like this:</p>\n<pre><code>doReturn(Mono.error(() -&gt; new WebClientResponseException(400, &quot;Bad Request&quot;, null, null, null)))\n    .when(myWebClient)\n    .getResponse(any());\n</code></pre>\n<p>Now the code will reach the <code>onErrorResume</code> block. In this block, you can recover from the error and return a default <code>student</code> (wrapped in a mono) if you want, or the code flow reaches the end of the block and it will return a <code>Mono.empty()</code>.</p>\n<p>If you want to test it, there are a few different ways, for example you can use a StepVerifier: <a href=\"https://www.baeldung.com/reactive-streams-step-verifier-test-publisher\" rel=\"nofollow noreferrer\">https://www.baeldung.com/reactive-streams-step-verifier-test-publisher</a></p>\n<p>A less flexible (but simpler) alternative is to block the result for assertions:</p>\n<pre><code>@Test\nvoid test() {\n    MyWebClient myWebClient = mock(MyWebClient.class);\n    doReturn(Mono.error(() -&gt; new WebClientResponseException(400, &quot;Bad Request&quot;, null, null, null)))\n            .when(myWebClient)\n            .getResponse(any());\n\n    Mono&lt;Student&gt; responseDataMono = (Mono&lt;Student&gt;) myWebClient\n            .getResponse(&quot;url&quot;);\n\n    var testedFlow = responseDataMono\n            .onErrorResume(ex -&gt; {\n                if (null != ex &amp;&amp; null != ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;404&quot;)) {\n                    System.out.println(&quot;not found!&quot;);\n                    // not found logic\n                } else if (null != ex &amp;&amp; null != ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;400&quot;)) {\n                    System.out.println(&quot;client error!&quot;);\n                    //timeout logic\n                } else if (ex instanceof TimeoutException) {\n                    //bad request logic\n                } else {\n                    // internal servicer error logic\n                }\n                return Mono.empty();\n            }).map(resp -&gt; resp);\n\n    assertThat(testedFlow.blockOptional()).isEmpty();\n}\n</code></pre>\n<hr />\n<p>Ps: there are better ways of handling errors with Mono's API. For example you can break the if-else logic like this:</p>\n<pre><code>responseDataMono\n    .onErrorResume(err -&gt; err.getMessage().contains(&quot;404&quot;), err -&gt; {\n        // not found logic\n        return Mono.empty();\n    })\n    .onErrorResume(err -&gt; err.getMessage().contains(&quot;400&quot;), err -&gt; {\n        // bad request logic\n        return Mono.empty();\n    })\n    .onErrorResume(TimeoutException.class, err -&gt; {\n        // not found logic\n        return Mono.empty();\n    })\n    .onErrorResume(ex -&gt; {\n        // internal servicer error logic\n        return Mono.empty();\n    }).map(resp -&gt; resp);\n</code></pre>\n<p>Additionally, I wouldn't relly on the error message containing a string, what if the error is something like &quot;account with id=12400 was not found&quot; - is this a 400 error or a 404? Alternatively, you can do something like this:</p>\n<pre><code>responseDataMono\n    .onErrorResume(WebClientResponseException.NotFound.class, err -&gt; {\n        // not found logic\n        return Mono.empty();\n    })\n    .onErrorResume(WebClientResponseException.BadRequest.class, err -&gt; {\n        // bad request logic\n        return Mono.empty();\n    })\n    // ... etc\n    .map(resp -&gt; resp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14073451,"reputation":138,"user_id":10166394,"display_name":"YWILLS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688493254,"creation_date":1681885149,"answer_id":76051284,"question_id":76049339,"body_markdown":"It seems u have wrong brackets order, &#39;getResponse&#39; should be inside of &#39;when&#39; brackets\r\n\r\n    doThrow((new WebClientResponseException(400,&quot;Bad Request&quot;,null,null,null)))\r\n                    .when(myWebClient.getResponse(any()));","title":"How to test OnErrorResume functionality in reactive programming","body":"<p>It seems u have wrong brackets order, 'getResponse' should be inside of 'when' brackets</p>\n<pre><code>doThrow((new WebClientResponseException(400,&quot;Bad Request&quot;,null,null,null)))\n                .when(myWebClient.getResponse(any()));\n</code></pre>\n"}],"owner":{"account_id":20779810,"reputation":317,"user_id":15260521,"display_name":"Sweety"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688493254,"creation_date":1681855080,"question_id":76049339,"body_markdown":"I have the below service code\r\n\r\n```\r\nMono&lt;Student&gt; responseDataMono = (Mono&lt;Student&gt;)myWebClient\r\n                .getResponse(&quot;url&quot;);\r\n\r\n        return responseDataMono\r\n                .onErrorResume(ex -&gt; {\r\n                  \r\n                    if (null!=ex &amp;&amp; null!= ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;404&quot;)) {\r\n                        // not found logic\r\n                        \r\n                    } else if(null!=ex &amp;&amp; null!= ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;400&quot;)){\r\n                        //timeout logic\r\n                        \r\n                    }else if(ex instanceof io.netty.handler.timeout.TimeoutException){\r\n                        //bad request logic\r\n                        \r\n                    }else{\r\n                        // internal servicer error logic\r\n                        \r\n                    }\r\n                    return Mono.empty();\r\n                }).map(resp-&gt; resp);\r\n```\r\nso based on the error type i have added my logic. It is working fine. i.e) while calling API it is executing corresponding if block based on the logic added.\r\nNow i want to add junit for that. This is my junit code\r\n\r\n```\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class ServiceTest{\r\n    @InjectMocks\r\n    private MyService myServiceMock;\r\n\r\n    @Mock\r\n    private MyWebClient myWebClient;\r\n\r\n   public void TestErrorCode(){\r\n\r\n      doThrow((new WebClientResponseException(400,&quot;Bad Request&quot;,null,null,null)))\r\n                .when(myWebClient)\r\n                .getResponse(any());\r\n     Assert.assertThrows(WebClientResponseException.class, () -&gt; {\r\n            Mono&lt;Student&gt; student= \r\n            myServiceMock.myServiceMethod();\r\n        });\r\n      \r\n   }\r\n\r\n}\r\n```\r\nI tried the above method assuming that will throw web client exception while calling webclient so that my service will also throw error and my onErrorResume code will execute.\r\n\r\nbut what is happening is while calling the webclient it is throwing error which is correct but the responsedataMono is null. So it is not proceeding further.\r\n\r\nCan anyone please guide how to cover these scenarios in recative.","title":"How to test OnErrorResume functionality in reactive programming","body":"<p>I have the below service code</p>\n<pre><code>Mono&lt;Student&gt; responseDataMono = (Mono&lt;Student&gt;)myWebClient\n                .getResponse(&quot;url&quot;);\n\n        return responseDataMono\n                .onErrorResume(ex -&gt; {\n                  \n                    if (null!=ex &amp;&amp; null!= ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;404&quot;)) {\n                        // not found logic\n                        \n                    } else if(null!=ex &amp;&amp; null!= ex.getMessage() &amp;&amp; ex.getMessage().contains(&quot;400&quot;)){\n                        //timeout logic\n                        \n                    }else if(ex instanceof io.netty.handler.timeout.TimeoutException){\n                        //bad request logic\n                        \n                    }else{\n                        // internal servicer error logic\n                        \n                    }\n                    return Mono.empty();\n                }).map(resp-&gt; resp);\n</code></pre>\n<p>so based on the error type i have added my logic. It is working fine. i.e) while calling API it is executing corresponding if block based on the logic added.\nNow i want to add junit for that. This is my junit code</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ServiceTest{\n    @InjectMocks\n    private MyService myServiceMock;\n\n    @Mock\n    private MyWebClient myWebClient;\n\n   public void TestErrorCode(){\n\n      doThrow((new WebClientResponseException(400,&quot;Bad Request&quot;,null,null,null)))\n                .when(myWebClient)\n                .getResponse(any());\n     Assert.assertThrows(WebClientResponseException.class, () -&gt; {\n            Mono&lt;Student&gt; student= \n            myServiceMock.myServiceMethod();\n        });\n      \n   }\n\n}\n</code></pre>\n<p>I tried the above method assuming that will throw web client exception while calling webclient so that my service will also throw error and my onErrorResume code will execute.</p>\n<p>but what is happening is while calling the webclient it is throwing error which is correct but the responsedataMono is null. So it is not proceeding further.</p>\n<p>Can anyone please guide how to cover these scenarios in recative.</p>\n"},{"tags":["java","android","android-studio","debugging"],"answers":[{"tags":[],"owner":{"account_id":4238457,"reputation":46,"user_id":3469032,"display_name":"gekn76"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1502679419,"creation_date":1502674134,"answer_id":45666353,"question_id":45666317,"body_markdown":"What does the GameObject.class do? Your Camera class is extending GameObject.class and calls a super() in the constructor. Skip the debugger and use classic logging instead to print out before vars are set.\r\n\r\n- [Update]\r\n\r\nSingleton doesn&#39;t do anything special except keeping itself as single instance, have no clue how the Android Studio Debugger handles them but it shouldn&#39;t be problematic. There&#39;s a NULL when you try to instantiate the Camera.class.\r\n\r\nTry catching the NullPointer when instantiating the Camera()\r\n\r\n    try {\r\n        Camera cam = new Camera();\r\n    } catch (NullPointerException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nThe stacktrace should tell you where the NullPointer is in the code ","title":"Stuck in collecting data when I try to debug in android studio","body":"<p>What does the GameObject.class do? Your Camera class is extending GameObject.class and calls a super() in the constructor. Skip the debugger and use classic logging instead to print out before vars are set.</p>\n\n<ul>\n<li>[Update]</li>\n</ul>\n\n<p>Singleton doesn't do anything special except keeping itself as single instance, have no clue how the Android Studio Debugger handles them but it shouldn't be problematic. There's a NULL when you try to instantiate the Camera.class.</p>\n\n<p>Try catching the NullPointer when instantiating the Camera()</p>\n\n<pre><code>try {\n    Camera cam = new Camera();\n} catch (NullPointerException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>The stacktrace should tell you where the NullPointer is in the code </p>\n"},{"tags":[],"owner":{"account_id":1930329,"reputation":371,"user_id":1739847,"display_name":"mir"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1662449880,"creation_date":1502677782,"answer_id":45666691,"question_id":45666317,"body_markdown":"Not sure if this should be a comment or an answer...\r\n\r\nI&#39;ve seen the same problem in a completely different context and it &quot;somehow&quot; has to do with using threads.\r\nIt seems when the debugger tries to get a value and for that needs to run something that is associated with another thread, it deadlocks.\r\n\r\nIn my case I have a javascript engine which is invoked on a non-ui thread when I need to execute JS. If I have variables anywhere that are e.g. subclasses of JSObject, the debugger locks up.\r\n\r\nOnly way I found working around this is to do logging and setting my breakpoints wisely.\r\n\r\nCheck if your code runs into any locks or synchronized statements when accessing variables, that might be the cause in your case.\r\n\r\nTill this is fixed, you can see your object while debugging as json string using &quot;Gson().toJson(yourObject)&quot;.\r\n\r\n","title":"Stuck in collecting data when I try to debug in android studio","body":"<p>Not sure if this should be a comment or an answer...</p>\n<p>I've seen the same problem in a completely different context and it &quot;somehow&quot; has to do with using threads.\nIt seems when the debugger tries to get a value and for that needs to run something that is associated with another thread, it deadlocks.</p>\n<p>In my case I have a javascript engine which is invoked on a non-ui thread when I need to execute JS. If I have variables anywhere that are e.g. subclasses of JSObject, the debugger locks up.</p>\n<p>Only way I found working around this is to do logging and setting my breakpoints wisely.</p>\n<p>Check if your code runs into any locks or synchronized statements when accessing variables, that might be the cause in your case.</p>\n<p>Till this is fixed, you can see your object while debugging as json string using &quot;Gson().toJson(yourObject)&quot;.</p>\n"},{"tags":[],"owner":{"account_id":7851586,"reputation":189,"user_id":5934912,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611689696,"creation_date":1611689696,"answer_id":65908068,"question_id":45666317,"body_markdown":"I was having the same problem after creating a new virtual device to replicate my phone. It had been working for a while then every time I tried to debug it stopped working at the first breakpoint it came to and was &quot;collecting data...&quot; \r\n\r\nI just switched back to the original virtual device (5.1 WVGA API 25) and the debugger started doing as it was told again.\r\n\r\nI switched to my newer virtual device and the problem had gone away.\r\n\r\nMight have been something to do with an infinite loop I had created which threw the activity snapshot out but not too sure. Will update if it happens again.","title":"Stuck in collecting data when I try to debug in android studio","body":"<p>I was having the same problem after creating a new virtual device to replicate my phone. It had been working for a while then every time I tried to debug it stopped working at the first breakpoint it came to and was &quot;collecting data...&quot;</p>\n<p>I just switched back to the original virtual device (5.1 WVGA API 25) and the debugger started doing as it was told again.</p>\n<p>I switched to my newer virtual device and the problem had gone away.</p>\n<p>Might have been something to do with an infinite loop I had created which threw the activity snapshot out but not too sure. Will update if it happens again.</p>\n"},{"tags":[],"owner":{"account_id":1715992,"reputation":3373,"user_id":1573036,"accept_rate":92,"display_name":"Victor Oliveira"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1674468998,"creation_date":1673709694,"answer_id":75119019,"question_id":45666317,"body_markdown":"I came across this issue. To solve, for a single object, what helped me was to right-click the stuck object, then go to `view as` and select `object` instead of `Kotlin class`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nas a definitive measure, [this][3] answer could be a possible solution, but it does not work for me on\r\n\r\n```\r\nAndroid Studio Electric Eel | 2022.1.1\r\nBuild #AI-221.6008.13.2211.9477386, built on January 11, 2023\r\nRuntime version: 11.0.15+0-b2043.56-8887301 x86_64\r\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\nmacOS 12.6.2\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hWy0o.png\r\n  [2]: https://i.stack.imgur.com/sLEPP.png\r\n  [3]: https://stackoverflow.com/a/33569211/1573036","title":"Stuck in collecting data when I try to debug in android studio","body":"<p>I came across this issue. To solve, for a single object, what helped me was to right-click the stuck object, then go to <code>view as</code> and select <code>object</code> instead of <code>Kotlin class</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/hWy0o.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hWy0o.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/sLEPP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sLEPP.png\" alt=\"enter image description here\" /></a></p>\n<p>as a definitive measure, <a href=\"https://stackoverflow.com/a/33569211/1573036\">this</a> answer could be a possible solution, but it does not work for me on</p>\n<pre><code>Android Studio Electric Eel | 2022.1.1\nBuild #AI-221.6008.13.2211.9477386, built on January 11, 2023\nRuntime version: 11.0.15+0-b2043.56-8887301 x86_64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nmacOS 12.6.2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91056,"reputation":124854,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688492170,"creation_date":1688492170,"answer_id":76614828,"question_id":45666317,"body_markdown":"Having the same problem in Android Studio Flamingo:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n Right-click the stuck object, then go to &lt;kbd&gt;View as&lt;/kbd&gt; and select &lt;kbd&gt;Object&lt;/kbd&gt;:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nthen you will be able to see the content of your object:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EA5Zm.png\r\n  [2]: https://i.stack.imgur.com/yANdK.png\r\n  [3]: https://i.stack.imgur.com/S6kdG.png","title":"Stuck in collecting data when I try to debug in android studio","body":"<p>Having the same problem in Android Studio Flamingo:</p>\n<p><a href=\"https://i.stack.imgur.com/EA5Zm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EA5Zm.png\" alt=\"enter image description here\" /></a></p>\n<p>Right-click the stuck object, then go to <kbd>View as</kbd> and select <kbd>Object</kbd>:</p>\n<p><a href=\"https://i.stack.imgur.com/yANdK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yANdK.png\" alt=\"enter image description here\" /></a></p>\n<p>then you will be able to see the content of your object:</p>\n<p><a href=\"https://i.stack.imgur.com/S6kdG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S6kdG.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11036756,"reputation":357,"user_id":8106257,"display_name":"신승빈"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9399,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":5,"score":26,"last_activity_date":1688492170,"creation_date":1502673847,"question_id":45666317,"body_markdown":"I was try to write a code by singleton pattern.\r\n\r\nthis is my MainActivity.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    public static MainActivity activity;\r\n    public TouchSensor touchSensor;\r\n    public SurfaceViewThread surfaceViewThread;\r\n    public TriggerChecker triggerChecker;\r\n\r\n    public Physics physics;\r\n\r\n    //public static Handler mHandler = new Handler();\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\n        activity = this;\r\n        surfaceViewThread = SurfaceViewThread.getInstance();\r\n        touchSensor = TouchSensor.getInstance();\r\n        triggerChecker = TriggerChecker.getInstance();\r\n        physics = Physics.getInstance();\r\n\r\n        touchSensor.start();\r\n        triggerChecker.start();\r\n        physics.start();\r\n        //surfaceViewThread is already started.\r\n\r\n        activity.setContentView(surfaceViewThread);\r\n    }\r\n\r\nand this is a code what I try to write by singleton pattern.\r\n\r\n    public class SurfaceViewThread extends SurfaceView implements Runnable, SurfaceHolder.Callback {\r\n\r\n    private static SurfaceViewThread surfaceViewThread = new SurfaceViewThread();\r\n\r\n    private static Camera camera;\r\n    private SurfaceHolder holder;\r\n    private Thread thread;\r\n    private boolean run;\r\n\r\n    private Vector&lt;ObjectGraphic&gt; objects;\r\n    private Vector&lt;Graphic&gt; UIs;\r\n    private ObjectGraphic field;\r\n\r\n    private Vector&lt;ObjectGraphic&gt; draws;\r\n    private ComponentMessage componentMessage;\r\n\r\n    public static SurfaceViewThread getInstance()\r\n    {\r\n        if(surfaceViewThread == null)\r\n            surfaceViewThread = new SurfaceViewThread();\r\n        return surfaceViewThread;\r\n    }\r\n    private SurfaceViewThread()\r\n    {\r\n        super(activity.getApplicationContext());\r\n        camera = new Camera();\r\n        getHolder().addCallback(this);\r\n        holder = getHolder();\r\n        objects = new Vector&lt;&gt;();\r\n        UIs = new Vector&lt;&gt;();\r\n\r\n        draws = new Vector&lt;&gt;();\r\n\r\n        run = false;\r\n\r\n        componentMessage = new ComponentMessage();\r\n    }\r\n    \r\nand when I build this code, Camera class crashed by NullPointException.\r\n\r\n    public class Camera extends GameObject {\r\n\r\n    private Rect area;\r\n    private int sight;\r\n    private int maxSight = 50;\r\n    private int minSight = 10;\r\n    private int[] fieldOfView;//{vertical, horizontal}\r\n    private int[] maxFieldOfView = new int[] { 60, 45 };\r\n    private int[] minFieldOfView = new int[] { 10, 10 };\r\n\r\n    public Camera()\r\n    {\r\n        super();\r\n        area = new Rect();\r\n        this.fieldOfView = new int[] { 60, 45 };\r\n        objectMatrix.Rotate(objectMatrix.xVector(), Math.toRadians(-45));\r\n\r\n        setDisplayVector();\r\n    }\r\n    private void setSight()\r\n    {\r\n        double angle = Math.PI/2 - Math.acos(new Common_Math.Matrix1X4(0, 1, 0, 0).Inner(objectMatrix.zVector().Invert()));\r\n        if(angle &lt; 0 &amp;&amp; angle &gt; - Math.PI/2) {\r\n            double t = -objectMatrix.qVector().getY() / objectMatrix.zVector().getY();\r\n            int x = (int) (objectMatrix.zVector().getX() * t + objectMatrix.qVector().getX());\r\n            int z = (int) (objectMatrix.zVector().getZ() * t + objectMatrix.qVector().getZ());\r\n\r\n            sight = (int)Math.sqrt(Math.pow((x - objectMatrix.qVector().getX()), 2) + Math.pow((objectMatrix.qVector().getY()), 2) + Math.pow((z - objectMatrix.qVector().getZ()), 2));\r\n            if(sight &lt; minSight)\r\n                sight = minSight;\r\n        }\r\n        else\r\n        {\r\n            sight = maxSight;\r\n        }\r\n    }\r\n    private void setDisplayVector()\r\n    {\r\n        setSight();\r\n        Common_Math.Matrix1X4 upVector, downVector, leftVector, rightVector;\r\n        Common_Math.Matrix1X4 zVector = objectMatrix.zVector();\r\n\r\n        upVector = zVector.Rotate(objectMatrix.xVector(), fieldOfView[0]);\r\n        downVector = zVector.Rotate(objectMatrix.xVector(), -fieldOfView[0]);\r\n        leftVector = zVector.Rotate(objectMatrix.yVector(), fieldOfView[1]);\r\n        rightVector = zVector.Rotate(objectMatrix.yVector(), -fieldOfView[1]);\r\n\r\n        double angle = Math.PI/2 - Math.acos(new Common_Math.Matrix1X4(0, 1, 0, 0).Inner(objectMatrix.zVector().Invert()));\r\n        upVector = upVector.Scaled((int)(Math.abs(objectMatrix.qVector().getY() * Math.tan(angle + fieldOfView[0]))));\r\n        downVector = downVector.Scaled((int)(Math.abs(objectMatrix.qVector().getY() * Math.tan(angle - fieldOfView[0]))));\r\n        leftVector = leftVector.Scaled((int)(sight * Math.asin(fieldOfView[1])));\r\n        rightVector = rightVector.Scaled((int)(sight * Math.asin(fieldOfView[1])));\r\n\r\n        area.left = (int) objectMatrix.qVector().Add(leftVector).getX();\r\n        area.top = (int) objectMatrix.qVector().Add(upVector).getY();\r\n        area.right = (int) objectMatrix.qVector().Add(rightVector).getX();\r\n        area.bottom = (int) objectMatrix.qVector().Add(downVector).getY();\r\n    }\r\n\r\nand this is GameObject class \r\n\r\n    public class GameObject {\r\n\r\n    protected GameObject upperGameObject;//if upperGameObject is null, this GameObject is parent GameObject.\r\n\r\n    protected Common_Math.Matrix4X4 objectMatrix;\r\n    private Vector&lt;SeaWeedComponent&gt; componentVector;\r\n\r\n    public GameObject()\r\n    {\r\n        objectMatrix = new Common_Math.Matrix4X4();\r\n        AllocatePhysicsSpace();\r\n        componentVector = new Vector&lt;&gt;();\r\n    }\r\n\r\nand Matrix4x4 class\r\n\r\n    public static class Matrix4X4\r\n    {\r\n        private Matrix1X4 xVector, yVector, zVector, qVector;\r\n\r\n        public Matrix4X4() {\r\n            xVector = new Matrix1X4(1, 0, 0, 0);\r\n            yVector = new Matrix1X4(0, 1, 0, 0);\r\n            zVector = new Matrix1X4(0, 0, 1, 0);\r\n            qVector = new Matrix1X4(0, 0, 0, 1);\r\n        }\r\n\r\nso I was check a break point to see why this happened but when I debug this, every variables are stuck at &quot;Collecting data..&quot; and nothing happen. and even debuger respond is slow down.\r\n\r\nI can&#39;t guess why this happen. is there any problem in my code? how can I see the variables?","title":"Stuck in collecting data when I try to debug in android studio","body":"<p>I was try to write a code by singleton pattern.</p>\n\n<p>this is my MainActivity.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\npublic static MainActivity activity;\npublic TouchSensor touchSensor;\npublic SurfaceViewThread surfaceViewThread;\npublic TriggerChecker triggerChecker;\n\npublic Physics physics;\n\n//public static Handler mHandler = new Handler();\n\n@Override\npublic void onCreate(Bundle savedInstanceState)\n{\n    super.onCreate(savedInstanceState);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n    activity = this;\n    surfaceViewThread = SurfaceViewThread.getInstance();\n    touchSensor = TouchSensor.getInstance();\n    triggerChecker = TriggerChecker.getInstance();\n    physics = Physics.getInstance();\n\n    touchSensor.start();\n    triggerChecker.start();\n    physics.start();\n    //surfaceViewThread is already started.\n\n    activity.setContentView(surfaceViewThread);\n}\n</code></pre>\n\n<p>and this is a code what I try to write by singleton pattern.</p>\n\n<pre><code>public class SurfaceViewThread extends SurfaceView implements Runnable, SurfaceHolder.Callback {\n\nprivate static SurfaceViewThread surfaceViewThread = new SurfaceViewThread();\n\nprivate static Camera camera;\nprivate SurfaceHolder holder;\nprivate Thread thread;\nprivate boolean run;\n\nprivate Vector&lt;ObjectGraphic&gt; objects;\nprivate Vector&lt;Graphic&gt; UIs;\nprivate ObjectGraphic field;\n\nprivate Vector&lt;ObjectGraphic&gt; draws;\nprivate ComponentMessage componentMessage;\n\npublic static SurfaceViewThread getInstance()\n{\n    if(surfaceViewThread == null)\n        surfaceViewThread = new SurfaceViewThread();\n    return surfaceViewThread;\n}\nprivate SurfaceViewThread()\n{\n    super(activity.getApplicationContext());\n    camera = new Camera();\n    getHolder().addCallback(this);\n    holder = getHolder();\n    objects = new Vector&lt;&gt;();\n    UIs = new Vector&lt;&gt;();\n\n    draws = new Vector&lt;&gt;();\n\n    run = false;\n\n    componentMessage = new ComponentMessage();\n}\n</code></pre>\n\n<p>and when I build this code, Camera class crashed by NullPointException.</p>\n\n<pre><code>public class Camera extends GameObject {\n\nprivate Rect area;\nprivate int sight;\nprivate int maxSight = 50;\nprivate int minSight = 10;\nprivate int[] fieldOfView;//{vertical, horizontal}\nprivate int[] maxFieldOfView = new int[] { 60, 45 };\nprivate int[] minFieldOfView = new int[] { 10, 10 };\n\npublic Camera()\n{\n    super();\n    area = new Rect();\n    this.fieldOfView = new int[] { 60, 45 };\n    objectMatrix.Rotate(objectMatrix.xVector(), Math.toRadians(-45));\n\n    setDisplayVector();\n}\nprivate void setSight()\n{\n    double angle = Math.PI/2 - Math.acos(new Common_Math.Matrix1X4(0, 1, 0, 0).Inner(objectMatrix.zVector().Invert()));\n    if(angle &lt; 0 &amp;&amp; angle &gt; - Math.PI/2) {\n        double t = -objectMatrix.qVector().getY() / objectMatrix.zVector().getY();\n        int x = (int) (objectMatrix.zVector().getX() * t + objectMatrix.qVector().getX());\n        int z = (int) (objectMatrix.zVector().getZ() * t + objectMatrix.qVector().getZ());\n\n        sight = (int)Math.sqrt(Math.pow((x - objectMatrix.qVector().getX()), 2) + Math.pow((objectMatrix.qVector().getY()), 2) + Math.pow((z - objectMatrix.qVector().getZ()), 2));\n        if(sight &lt; minSight)\n            sight = minSight;\n    }\n    else\n    {\n        sight = maxSight;\n    }\n}\nprivate void setDisplayVector()\n{\n    setSight();\n    Common_Math.Matrix1X4 upVector, downVector, leftVector, rightVector;\n    Common_Math.Matrix1X4 zVector = objectMatrix.zVector();\n\n    upVector = zVector.Rotate(objectMatrix.xVector(), fieldOfView[0]);\n    downVector = zVector.Rotate(objectMatrix.xVector(), -fieldOfView[0]);\n    leftVector = zVector.Rotate(objectMatrix.yVector(), fieldOfView[1]);\n    rightVector = zVector.Rotate(objectMatrix.yVector(), -fieldOfView[1]);\n\n    double angle = Math.PI/2 - Math.acos(new Common_Math.Matrix1X4(0, 1, 0, 0).Inner(objectMatrix.zVector().Invert()));\n    upVector = upVector.Scaled((int)(Math.abs(objectMatrix.qVector().getY() * Math.tan(angle + fieldOfView[0]))));\n    downVector = downVector.Scaled((int)(Math.abs(objectMatrix.qVector().getY() * Math.tan(angle - fieldOfView[0]))));\n    leftVector = leftVector.Scaled((int)(sight * Math.asin(fieldOfView[1])));\n    rightVector = rightVector.Scaled((int)(sight * Math.asin(fieldOfView[1])));\n\n    area.left = (int) objectMatrix.qVector().Add(leftVector).getX();\n    area.top = (int) objectMatrix.qVector().Add(upVector).getY();\n    area.right = (int) objectMatrix.qVector().Add(rightVector).getX();\n    area.bottom = (int) objectMatrix.qVector().Add(downVector).getY();\n}\n</code></pre>\n\n<p>and this is GameObject class </p>\n\n<pre><code>public class GameObject {\n\nprotected GameObject upperGameObject;//if upperGameObject is null, this GameObject is parent GameObject.\n\nprotected Common_Math.Matrix4X4 objectMatrix;\nprivate Vector&lt;SeaWeedComponent&gt; componentVector;\n\npublic GameObject()\n{\n    objectMatrix = new Common_Math.Matrix4X4();\n    AllocatePhysicsSpace();\n    componentVector = new Vector&lt;&gt;();\n}\n</code></pre>\n\n<p>and Matrix4x4 class</p>\n\n<pre><code>public static class Matrix4X4\n{\n    private Matrix1X4 xVector, yVector, zVector, qVector;\n\n    public Matrix4X4() {\n        xVector = new Matrix1X4(1, 0, 0, 0);\n        yVector = new Matrix1X4(0, 1, 0, 0);\n        zVector = new Matrix1X4(0, 0, 1, 0);\n        qVector = new Matrix1X4(0, 0, 0, 1);\n    }\n</code></pre>\n\n<p>so I was check a break point to see why this happened but when I debug this, every variables are stuck at \"Collecting data..\" and nothing happen. and even debuger respond is slow down.</p>\n\n<p>I can't guess why this happen. is there any problem in my code? how can I see the variables?</p>\n"},{"tags":["java","mocking","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1687902829,"post_id":76560360,"comment_id":135001652,"body_markdown":"Does this answer your question? [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a>"},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688170636,"post_id":76560360,"comment_id":135042805,"body_markdown":"no it doesn&#39;t. It provided a temporary solution by using an abstract class with `newRandomNumGen()`, but now the end2end test fails because I can&#39;t instantiate a bean of abstract class","body":"no it doesn&#39;t. It provided a temporary solution by using an abstract class with <code>newRandomNumGen()</code>, but now the end2end test fails because I can&#39;t instantiate a bean of abstract class"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1688212872,"post_id":76560360,"comment_id":135045727,"body_markdown":"Why abstract? Inject your dependency in the constructor, switch it with a test dependency. Your bean is still a concrete implementation","body":"Why abstract? Inject your dependency in the constructor, switch it with a test dependency. Your bean is still a concrete implementation"},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688317747,"post_id":76560360,"comment_id":135054978,"body_markdown":"Isn&#39;t the dependency already injected in the constructor. What do you mean switch it with a test dependency?","body":"Isn&#39;t the dependency already injected in the constructor. What do you mean switch it with a test dependency?"},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688317750,"post_id":76560360,"comment_id":135054979,"body_markdown":"its abstract because `public abstract RandomNumGen newRandomNumGen();` has no implementation. I didn&#39;t want it to return `new RandomNumGen()`, like the `RandomFactory` in the link you provided. But I couldn&#39;t make it an interface because I need the parameter `thresh`.","body":"its abstract because <code>public abstract RandomNumGen newRandomNumGen();</code> has no implementation. I didn&#39;t want it to return <code>new RandomNumGen()</code>, like the <code>RandomFactory</code> in the link you provided. But I couldn&#39;t make it an interface because I need the parameter <code>thresh</code>."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1688318231,"post_id":76560360,"comment_id":135055054,"body_markdown":"Why do you have `conf` at all? Just do `public BSending(Sender sender, int thresh, RandomNumGen rand)` like in the linked question. Also, why is `thresh` preventing you from defining an interface? `setThresh(int thresh)` and `getThresh()` can live in an interface just fine. Having said that, I don&#39;t think you need your `Conf` class at all. `@Component` is something to put on your _concrete_ implementations, not on an abstract base. You must implement your interface/base class for your production code.","body":"Why do you have <code>conf</code> at all? Just do <code>public BSending(Sender sender, int thresh, RandomNumGen rand)</code> like in the linked question. Also, why is <code>thresh</code> preventing you from defining an interface? <code>setThresh(int thresh)</code> and <code>getThresh()</code> can live in an interface just fine. Having said that, I don&#39;t think you need your <code>Conf</code> class at all. <code>@Component</code> is something to put on your <i>concrete</i> implementations, not on an abstract base. You must implement your interface/base class for your production code."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688321047,"post_id":76560360,"comment_id":135055371,"body_markdown":"Because `BSending` needs to get `thresh` from an input text file so I can&#39;t use `RandomNumGen` as a parameter for the `BSendingService` constructor as it doesn&#39;t know yet the value of `thresh`","body":"Because <code>BSending</code> needs to get <code>thresh</code> from an input text file so I can&#39;t use <code>RandomNumGen</code> as a parameter for the <code>BSendingService</code> constructor as it doesn&#39;t know yet the value of <code>thresh</code>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1688321663,"post_id":76560360,"comment_id":135055450,"body_markdown":"But `thresh` is not used by `RandomNumGen`? (Missing [mre]?) If it were, then it should be a parameter in the constructor of `RandomNumGen`. Your test impl would implement the same interface, but use a different constructor (parameterless or with fixed thresh). Maybe I&#39;m not understanding or seeing your problem. I think your task (&quot;how to test BSending with a fixed random generator&quot;) is perfectly solved by the many solutions given in the dupe question/answer.","body":"But <code>thresh</code> is not used by <code>RandomNumGen</code>? (Missing <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?) If it were, then it should be a parameter in the constructor of <code>RandomNumGen</code>. Your test impl would implement the same interface, but use a different constructor (parameterless or with fixed thresh). Maybe I&#39;m not understanding or seeing your problem. I think your task (&quot;how to test BSending with a fixed random generator&quot;) is perfectly solved by the many solutions given in the dupe question/answer."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688324254,"post_id":76560360,"comment_id":135055746,"body_markdown":"I provided the code for `RandomNumGen` in EDIT2. Its from a 3rd-party library that I cant modify.","body":"I provided the code for <code>RandomNumGen</code> in EDIT2. Its from a 3rd-party library that I cant modify."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688324339,"post_id":76560360,"comment_id":135055755,"body_markdown":"If I make `conf` an interface, then I can&#39;t inject a bean of it in `BSending` , right? I get no such bean error in the end2end test when I make it an interface","body":"If I make <code>conf</code> an interface, then I can&#39;t inject a bean of it in <code>BSending</code> , right? I get no such bean error in the end2end test when I make it an interface"},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688325306,"post_id":76560360,"comment_id":135055861,"body_markdown":"`BSending` needs to use `@Autowired` since it injects additional beans that I can&#39;t show the code for","body":"<code>BSending</code> needs to use <code>@Autowired</code> since it injects additional beans that I can&#39;t show the code for"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1688326587,"post_id":76560360,"comment_id":135056011,"body_markdown":"Why woudln&#39;t you be able to inject a bean of the interface? `interface Conf { void whatever(); }` then `@Component class ConfBean implements Conf { @Override void whatever() { /* your impl */; } }` and finally `@Component class BSending { @Autowired BSending(Conf conf, ...) { ... } }`. If `RandomNumGen` cannot be modified directly, create an Adapter or a Decorator for it to suit your use case.","body":"Why woudln&#39;t you be able to inject a bean of the interface? <code>interface Conf { void whatever(); }</code> then <code>@Component class ConfBean implements Conf { @Override void whatever() { &#47;* your impl *&#47;; } }</code> and finally <code>@Component class BSending { @Autowired BSending(Conf conf, ...) { ... } }</code>. If <code>RandomNumGen</code> cannot be modified directly, create an Adapter or a Decorator for it to suit your use case."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688328046,"post_id":76560360,"comment_id":135056167,"body_markdown":"wouldn&#39;t `ConfBean` require implementing `RandomNumGen newRandomNumGen();`? The point of that is so I wouldn&#39;t have to implement it using `new RandomNumGen()` for `Delayed Construction via Factory` in the link you provided","body":"wouldn&#39;t <code>ConfBean</code> require implementing <code>RandomNumGen newRandomNumGen();</code>? The point of that is so I wouldn&#39;t have to implement it using <code>new RandomNumGen()</code> for <code>Delayed Construction via Factory</code> in the link you provided"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1688332403,"post_id":76560360,"comment_id":135056653,"body_markdown":"Yes. And your `class TestConf implements Conf { ... }` would return whatever fake implementation you require in your tests. Then your `BSending` can simply call `conf.newRandomNumGen()` and get the real thing in production and in your test you instantiate as `new BSending(new TestConf())`, thus your class will get the fake random number generator.","body":"Yes. And your <code>class TestConf implements Conf { ... }</code> would return whatever fake implementation you require in your tests. Then your <code>BSending</code> can simply call <code>conf.newRandomNumGen()</code> and get the real thing in production and in your test you instantiate as <code>new BSending(new TestConf())</code>, thus your class will get the fake random number generator."},{"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"score":0,"creation_date":1688445571,"post_id":76560360,"comment_id":135071426,"body_markdown":"your suggestion worked, thanks","body":"your suggestion worked, thanks"}],"answers":[{"tags":[],"owner":{"account_id":12917853,"reputation":997,"user_id":9341434,"display_name":"Brooklyn99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687815876,"creation_date":1687815876,"answer_id":76560412,"question_id":76560360,"body_markdown":"yes you are correct.\r\n\r\nIn your test, you are mocking the behavior of the RandomNumGen class using \r\n\r\n`when(randomNumGen.isChosen()).thenReturn(true);`\r\n\r\nThis means that whenever `randomNumGen.isChosen();` is called in the test, it should return true. \r\n\r\nHowever, when you create a new instance of RandomNumGen using\r\n` new RandomNumGen()` inside the BSending class, it creates a different instance that is not aware of the mocking behavior set up in the test.\r\n\r\nTo fix this one way you can do is:\r\n\r\n```java\r\npublic class BSending {\r\n    protected final Sender aSender;\r\n    private final RandomNumGen randomNumGen;\r\n\r\n    @Autowired\r\n    public BSending(Sender sender, RandomNumGen randomNumGen) {\r\n        this.aSender = sender;\r\n        this.randomNumGen = randomNumGen;\r\n    }\r\n\r\n    public void sendTask() {\r\n        if (randomNumGen.isChosen()) {\r\n            aSender.printLine();\r\n        }\r\n    }\r\n}\r\n```\r\nand then you can run your test.\r\n\r\n\r\n","title":"Mock thenReturn on New object not working if can&#39;t use Abstract class?","body":"<p>yes you are correct.</p>\n<p>In your test, you are mocking the behavior of the RandomNumGen class using</p>\n<p><code>when(randomNumGen.isChosen()).thenReturn(true);</code></p>\n<p>This means that whenever <code>randomNumGen.isChosen();</code> is called in the test, it should return true.</p>\n<p>However, when you create a new instance of RandomNumGen using\n<code> new RandomNumGen()</code> inside the BSending class, it creates a different instance that is not aware of the mocking behavior set up in the test.</p>\n<p>To fix this one way you can do is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BSending {\n    protected final Sender aSender;\n    private final RandomNumGen randomNumGen;\n\n    @Autowired\n    public BSending(Sender sender, RandomNumGen randomNumGen) {\n        this.aSender = sender;\n        this.randomNumGen = randomNumGen;\n    }\n\n    public void sendTask() {\n        if (randomNumGen.isChosen()) {\n            aSender.printLine();\n        }\n    }\n}\n</code></pre>\n<p>and then you can run your test.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688490358,"creation_date":1688490358,"answer_id":76614671,"question_id":76560360,"body_markdown":"`new`ing up instances in your class couples them to a single implementation. There are ways around it, which usually involves using PowerMockito or similar tools to intercept constructor calls and return a different implementation.\r\n\r\nBut you don&#39;t have to use such tools or libraries if you are willing to restructure your classes a little bit. If you do that, standard Java has got you covered.\r\n\r\nFor a proper discussion, let&#39;s look at the original code:\r\n\r\n```\r\npublic class Sender {\r\n    public void printLine() { System.out.println(&quot;print line&quot;); }\r\n}\r\n\r\npublic class BSending {\r\n    protected final Sender aSender;\r\n    private final RandomNumGen randomNumGen;\r\n\r\n    @Autowired\r\n    public BSending(Sender sender, int thresh) {\r\n        this.aSender = sender;\r\n        this.randomNumGen = new RandomNumGen(thresh);\r\n        //also injects other beans\r\n    }\r\n\r\n    public void sendTask() {\r\n        if (this.randomNumGen.isChosen()) aSender.printLine();\r\n    }\r\n}\r\n\r\npublic class BSendingTest {\r\n    @Mock private Sender aSender;\r\n    @Mock private RandomNumGen randomNumGen;\r\n\r\n    @Test void test() {\r\n        when(randomNumGen.isChosen()).thenReturn(true);\r\n        BSending bSending = new BSending(aSender, 25);\r\n        bSending.sendTask();\r\n        verify(aSender, times(1)).printLine();\r\n    }\r\n}\r\n```\r\n\r\nAs written above, `this.randomNumGen = new RandomNumGen(thresh)` tightly couples your class to this single random number generator implementation. Your `@Mock RandomNumGen randomNumGen` is never used by your class – how would it, you never pass it to the class and the class instantiates its own instance. While not the source of the problem, it is also worth pointing out that passing `thresh` to the `BSending` class is a bit odd too. `BSending` shouldn&#39;t know about the threshold for the number generator; the generator implementation should (and a different implementation might not even use a threshold).\r\n\r\nYou mention that `RandomNumGen` is a third-party _class_ and you cannot change it. That requires a bit more work on our part, but this is mostly writing a bit of boilerplate.\r\n\r\nFirst, let&#39;s start by introducing our own &quot;random number&quot; contract, which we&#39;ll consume in the service:\r\n\r\n```\r\ninterface RandomChooser {\r\n  boolean isChosen();\r\n}\r\n```\r\n\r\nand a &quot;production implementation&quot;, which wraps the third-party generator:\r\n\r\n```\r\n@Component // create bean elligible for autowiring\r\nclass RandomNumGenChooser implements RandomChooser {\r\n  private final RandomNumGen random;\r\n  public RandomNumGenChooser(final int thresh) {\r\n    this.random = new RandomNumGen(thresh);\r\n  }\r\n  @Override public boolean isChosen() { return random.isChosen(); }\r\n}\r\n```\r\n\r\nOnce we have that, migrate the service to consume the new interface:\r\n\r\n```\r\npublic class BSending {\r\n    protected final Sender aSender;\r\n    private final RandomChooser random;\r\n\r\n    @Autowired\r\n    public BSending(final Sender sender, final int thresh) {\r\n        this.aSender = sender;\r\n        this.random = new RandomNumGenChooser(thresh);\r\n        //also injects other beans\r\n    }\r\n\r\n    public void sendTask() {\r\n        if (random.isChosen()) aSender.printLine();\r\n    }\r\n}\r\n```\r\n\r\nIn the next step, move instantiation of the dependency out of the constructor. Since the implementation was already marked with `@Component`, it is added as bean to the application context and will be picked up by the autowiring mechanism:\r\n\r\n```\r\npublic class BSending {\r\n    protected final Sender aSender;\r\n    private final RandomChooser random;\r\n\r\n    @Autowired\r\n    public BSending(final Sender sender, final RandomChooser random) {\r\n        this.aSender = sender;\r\n        this.random = random;\r\n        //also injects other beans\r\n    }\r\n\r\n    public void sendTask() {\r\n        if (random.isChosen()) aSender.printLine();\r\n    }\r\n}\r\n```\r\n\r\nBut there&#39;s a problem! Spring cannot create an instance of the bean, because Spring does not know the value of `thresh`. You have 2 options:\r\n\r\n1. Annotate the constructor parameter with `@Value` to read it from a config file or the environment\r\n2. Implement a factory which creates the correct instance for you:\r\n\r\nThe factory could look like this:\r\n\r\n```\r\n@Component\r\nclass RandomChooserFactory {\r\n  RandomChooser randomChooser() {\r\n    final int thresh = // obtain threshold\r\n    return new RandomNumGenChooser(thresh);\r\n  }\r\n}\r\n```\r\n\r\nOkay, but how does that solve your problem? So far, we have only introduced additional interfaces, classes, and indirection. Correct, but all of that allows us to easily swap the `RandomNumGenChooser` with any implementation we desire in the tests.\r\n\r\nOne such possible implementation could look like this:\r\n\r\n```\r\nclass StaticRandomChooser implements RandomChooser {\r\n  private final boolean chosen;\r\n  public StaticRandomChooser(final boolean chosen) { this.chosen = chosen; }\r\n  @Override public boolean isChosen() { return chosen; }\r\n}\r\n```\r\n\r\nand it doesn&#39;t even have to be a bean.\r\n\r\nUsing it in your test becomes trivial now:\r\n\r\n```\r\npublic class BSendingTest {\r\n    @Mock private Sender aSender;\r\n\r\n    @Test void test() {\r\n        final BSending bSending = new BSending(\r\n            aSender,\r\n            new StaticRandomChooser(true));\r\n        bSending.sendTask();\r\n        verify(aSender).printLine();\r\n    }\r\n}\r\n```\r\n\r\nThis solution and variants for similar problems are explained in https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test","title":"Mock thenReturn on New object not working if can&#39;t use Abstract class?","body":"<p><code>new</code>ing up instances in your class couples them to a single implementation. There are ways around it, which usually involves using PowerMockito or similar tools to intercept constructor calls and return a different implementation.</p>\n<p>But you don't have to use such tools or libraries if you are willing to restructure your classes a little bit. If you do that, standard Java has got you covered.</p>\n<p>For a proper discussion, let's look at the original code:</p>\n<pre><code>public class Sender {\n    public void printLine() { System.out.println(&quot;print line&quot;); }\n}\n\npublic class BSending {\n    protected final Sender aSender;\n    private final RandomNumGen randomNumGen;\n\n    @Autowired\n    public BSending(Sender sender, int thresh) {\n        this.aSender = sender;\n        this.randomNumGen = new RandomNumGen(thresh);\n        //also injects other beans\n    }\n\n    public void sendTask() {\n        if (this.randomNumGen.isChosen()) aSender.printLine();\n    }\n}\n\npublic class BSendingTest {\n    @Mock private Sender aSender;\n    @Mock private RandomNumGen randomNumGen;\n\n    @Test void test() {\n        when(randomNumGen.isChosen()).thenReturn(true);\n        BSending bSending = new BSending(aSender, 25);\n        bSending.sendTask();\n        verify(aSender, times(1)).printLine();\n    }\n}\n</code></pre>\n<p>As written above, <code>this.randomNumGen = new RandomNumGen(thresh)</code> tightly couples your class to this single random number generator implementation. Your <code>@Mock RandomNumGen randomNumGen</code> is never used by your class – how would it, you never pass it to the class and the class instantiates its own instance. While not the source of the problem, it is also worth pointing out that passing <code>thresh</code> to the <code>BSending</code> class is a bit odd too. <code>BSending</code> shouldn't know about the threshold for the number generator; the generator implementation should (and a different implementation might not even use a threshold).</p>\n<p>You mention that <code>RandomNumGen</code> is a third-party <em>class</em> and you cannot change it. That requires a bit more work on our part, but this is mostly writing a bit of boilerplate.</p>\n<p>First, let's start by introducing our own &quot;random number&quot; contract, which we'll consume in the service:</p>\n<pre><code>interface RandomChooser {\n  boolean isChosen();\n}\n</code></pre>\n<p>and a &quot;production implementation&quot;, which wraps the third-party generator:</p>\n<pre><code>@Component // create bean elligible for autowiring\nclass RandomNumGenChooser implements RandomChooser {\n  private final RandomNumGen random;\n  public RandomNumGenChooser(final int thresh) {\n    this.random = new RandomNumGen(thresh);\n  }\n  @Override public boolean isChosen() { return random.isChosen(); }\n}\n</code></pre>\n<p>Once we have that, migrate the service to consume the new interface:</p>\n<pre><code>public class BSending {\n    protected final Sender aSender;\n    private final RandomChooser random;\n\n    @Autowired\n    public BSending(final Sender sender, final int thresh) {\n        this.aSender = sender;\n        this.random = new RandomNumGenChooser(thresh);\n        //also injects other beans\n    }\n\n    public void sendTask() {\n        if (random.isChosen()) aSender.printLine();\n    }\n}\n</code></pre>\n<p>In the next step, move instantiation of the dependency out of the constructor. Since the implementation was already marked with <code>@Component</code>, it is added as bean to the application context and will be picked up by the autowiring mechanism:</p>\n<pre><code>public class BSending {\n    protected final Sender aSender;\n    private final RandomChooser random;\n\n    @Autowired\n    public BSending(final Sender sender, final RandomChooser random) {\n        this.aSender = sender;\n        this.random = random;\n        //also injects other beans\n    }\n\n    public void sendTask() {\n        if (random.isChosen()) aSender.printLine();\n    }\n}\n</code></pre>\n<p>But there's a problem! Spring cannot create an instance of the bean, because Spring does not know the value of <code>thresh</code>. You have 2 options:</p>\n<ol>\n<li>Annotate the constructor parameter with <code>@Value</code> to read it from a config file or the environment</li>\n<li>Implement a factory which creates the correct instance for you:</li>\n</ol>\n<p>The factory could look like this:</p>\n<pre><code>@Component\nclass RandomChooserFactory {\n  RandomChooser randomChooser() {\n    final int thresh = // obtain threshold\n    return new RandomNumGenChooser(thresh);\n  }\n}\n</code></pre>\n<p>Okay, but how does that solve your problem? So far, we have only introduced additional interfaces, classes, and indirection. Correct, but all of that allows us to easily swap the <code>RandomNumGenChooser</code> with any implementation we desire in the tests.</p>\n<p>One such possible implementation could look like this:</p>\n<pre><code>class StaticRandomChooser implements RandomChooser {\n  private final boolean chosen;\n  public StaticRandomChooser(final boolean chosen) { this.chosen = chosen; }\n  @Override public boolean isChosen() { return chosen; }\n}\n</code></pre>\n<p>and it doesn't even have to be a bean.</p>\n<p>Using it in your test becomes trivial now:</p>\n<pre><code>public class BSendingTest {\n    @Mock private Sender aSender;\n\n    @Test void test() {\n        final BSending bSending = new BSending(\n            aSender,\n            new StaticRandomChooser(true));\n        bSending.sendTask();\n        verify(aSender).printLine();\n    }\n}\n</code></pre>\n<p>This solution and variants for similar problems are explained in <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a></p>\n"}],"owner":{"account_id":7562811,"reputation":1768,"user_id":5739619,"accept_rate":52,"display_name":"user5739619"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688490358,"creation_date":1687815233,"question_id":76560360,"body_markdown":"originally had the code below\r\n\r\n    public class Sender {\r\n        public void printLine() {\r\n            System.out.println(&quot;print line&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    public class BSending {\r\n        protected final Sender aSender;\r\n        private final RandomNumGen randomNumGen;\r\n\r\n        @Autowired\r\n        public BSending(Sender sender, int thresh) {\r\n            this.aSender = sender;\r\n            this.randomNumGen = new RandomNumGen(thresh);\r\n            //also injects other beans\r\n        }\r\n\r\n        public void sendTask() {\r\n            if (this.randomNumGen.isChosen()) {\r\n                aSender.printLine();\r\n            }\r\n        }\r\n    }\r\n\r\n    public class BSendingTest {\r\n        @Mock private Sender aSender;\r\n        @Mock private RandomNumGen randomNumGen;\r\n\r\n\r\n        @Test\r\n        void test() {\r\n            when(randomNumGen.isChosen()).thenReturn(true);\r\n            BSending bSending = new BSending(aSender, 25);\r\n            bSending.sendTask();\r\n            verify(aSender, times(1)).printLine();\r\n        }\r\n    }\r\n\r\n\r\n    end2endTest {\r\n        ..\r\n\r\n        @SpringBootTest(\r\n           classes = {\r\n                BSending.class\r\n           })\r\n\r\n       ..\r\n\r\n    }\r\n\r\n\r\nwhere `randomNumGen.isChosen()` uses a random-number generator to determine if it should return true or false,\r\nbut it depends on the value `thresh` that is passed into `BSending`. This value is read from an input text file\r\n\r\nHere, I expected `aSender.printLine()` to be hit, but its not. Its because the mocked `randomNumGen` isn&#39;t being used due to the `new RandomNumGen(thresh)`\r\n\r\n\r\n**EDIT**:\r\n\r\nIf I then create an abstract class `Conf` so the now becomes\r\n\r\n    @Component\r\n    public abstract class Conf {\r\n        public int thresh;\r\n        public abstract RandomNumGen newRandomNumGen();\r\n\r\n    }\r\n\r\n    public class BSending {\r\n        protected final Sender aSender;\r\n        private final Conf conf;\r\n\r\n        @Autowired\r\n        public BSending(Sender sender, int thresh, Conf conf) {\r\n            this.aSender = sender;\r\n            this.conf = conf;\r\n            this.conf.thresh = thresh;\r\n        }\r\n\r\n        public void sendTask() {\r\n            if (conf.randomNumGen.isChosen()) {\r\n                aSender.printLine();\r\n            }\r\n        }\r\n    }\r\n\r\n    public class BSendingTest {\r\n        @Mock private Sender aSender;\r\n        @Mock private RandomNumGen randomNumGen;\r\n        @Mock private Conf conf;\r\n\r\n\r\n        @Test\r\n        void test() {\r\n            when(conf.newRandomNumGen()).thenReturn(randomNumGen);\r\n            when(randomNumGen.isChosen()).thenReturn(true);\r\n            BSending bSending = new BSending(aSender, 25, conf);\r\n            bSending.sendTask();\r\n            verify(aSender, times(1)).printLine();\r\n        }\r\n    }\r\n\r\n\r\nwhere `randomNumGen.isChosen()` uses a random-number generator to determine if it should return true or false\r\n\r\n Before, I expected `aSender.printLine()` to be hit, but its not. But with this new code with the abstract class `Conf`, now it works.\r\n\r\n The problem now is that because `Conf` is an abstract class (I made it abstract because it has the `thresh` member and `newRandomGen()` method), the end2end test now fails with `BeanInstantiationException is it an abstract class` as it has\r\n\r\n     @SpringBootTest(\r\n       classes = {\r\n            BSending.class, Conf.class\r\n       })\r\n\r\nIs there a way I can replicate the above without having to make `Conf` an abstract class?\r\n\r\n**EDIT2**:\r\n\r\n    public class RandomNumGen {\r\n        private final thresh;\r\n        public RandomNumGen(int thresh) {\r\n            this.thresh = thresh;\r\n        }\r\n        public boolean isChosen() {\r\n            return isChosenX(this.thresh, new Random())\r\n        }\r\n        public boolean isChosenX(int thresh, Random random) {\r\n            //determine if chosen using random number generator and thresh\r\n        }\r\n        \r\n            \r\n    }","title":"Mock thenReturn on New object not working if can&#39;t use Abstract class?","body":"<p>originally had the code below</p>\n<pre><code>public class Sender {\n    public void printLine() {\n        System.out.println(&quot;print line&quot;);\n    }\n}\n\n\npublic class BSending {\n    protected final Sender aSender;\n    private final RandomNumGen randomNumGen;\n\n    @Autowired\n    public BSending(Sender sender, int thresh) {\n        this.aSender = sender;\n        this.randomNumGen = new RandomNumGen(thresh);\n        //also injects other beans\n    }\n\n    public void sendTask() {\n        if (this.randomNumGen.isChosen()) {\n            aSender.printLine();\n        }\n    }\n}\n\npublic class BSendingTest {\n    @Mock private Sender aSender;\n    @Mock private RandomNumGen randomNumGen;\n\n\n    @Test\n    void test() {\n        when(randomNumGen.isChosen()).thenReturn(true);\n        BSending bSending = new BSending(aSender, 25);\n        bSending.sendTask();\n        verify(aSender, times(1)).printLine();\n    }\n}\n\n\nend2endTest {\n    ..\n\n    @SpringBootTest(\n       classes = {\n            BSending.class\n       })\n\n   ..\n\n}\n</code></pre>\n<p>where <code>randomNumGen.isChosen()</code> uses a random-number generator to determine if it should return true or false,\nbut it depends on the value <code>thresh</code> that is passed into <code>BSending</code>. This value is read from an input text file</p>\n<p>Here, I expected <code>aSender.printLine()</code> to be hit, but its not. Its because the mocked <code>randomNumGen</code> isn't being used due to the <code>new RandomNumGen(thresh)</code></p>\n<p><strong>EDIT</strong>:</p>\n<p>If I then create an abstract class <code>Conf</code> so the now becomes</p>\n<pre><code>@Component\npublic abstract class Conf {\n    public int thresh;\n    public abstract RandomNumGen newRandomNumGen();\n\n}\n\npublic class BSending {\n    protected final Sender aSender;\n    private final Conf conf;\n\n    @Autowired\n    public BSending(Sender sender, int thresh, Conf conf) {\n        this.aSender = sender;\n        this.conf = conf;\n        this.conf.thresh = thresh;\n    }\n\n    public void sendTask() {\n        if (conf.randomNumGen.isChosen()) {\n            aSender.printLine();\n        }\n    }\n}\n\npublic class BSendingTest {\n    @Mock private Sender aSender;\n    @Mock private RandomNumGen randomNumGen;\n    @Mock private Conf conf;\n\n\n    @Test\n    void test() {\n        when(conf.newRandomNumGen()).thenReturn(randomNumGen);\n        when(randomNumGen.isChosen()).thenReturn(true);\n        BSending bSending = new BSending(aSender, 25, conf);\n        bSending.sendTask();\n        verify(aSender, times(1)).printLine();\n    }\n}\n</code></pre>\n<p>where <code>randomNumGen.isChosen()</code> uses a random-number generator to determine if it should return true or false</p>\n<p>Before, I expected <code>aSender.printLine()</code> to be hit, but its not. But with this new code with the abstract class <code>Conf</code>, now it works.</p>\n<p>The problem now is that because <code>Conf</code> is an abstract class (I made it abstract because it has the <code>thresh</code> member and <code>newRandomGen()</code> method), the end2end test now fails with <code>BeanInstantiationException is it an abstract class</code> as it has</p>\n<pre><code> @SpringBootTest(\n   classes = {\n        BSending.class, Conf.class\n   })\n</code></pre>\n<p>Is there a way I can replicate the above without having to make <code>Conf</code> an abstract class?</p>\n<p><strong>EDIT2</strong>:</p>\n<pre><code>public class RandomNumGen {\n    private final thresh;\n    public RandomNumGen(int thresh) {\n        this.thresh = thresh;\n    }\n    public boolean isChosen() {\n        return isChosenX(this.thresh, new Random())\n    }\n    public boolean isChosenX(int thresh, Random random) {\n        //determine if chosen using random number generator and thresh\n    }\n    \n        \n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1342185,"reputation":355,"user_id":1283658,"display_name":"P.An"},"score":1,"creation_date":1507297804,"post_id":46607292,"comment_id":80166394,"body_markdown":"Everything is possible, but could you please share the code of what was done?","body":"Everything is possible, but could you please share the code of what was done?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1507298045,"post_id":46607292,"comment_id":80166557,"body_markdown":"I am guessing you are using radio buttons. Have you considered just adding an option &#39;none&#39;. Eg. one button will always be selected, but their is an option to say none of the above.","body":"I am guessing you are using radio buttons. Have you considered just adding an option &#39;none&#39;. Eg. one button will always be selected, but their is an option to say none of the above."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1507298203,"post_id":46607292,"comment_id":80166666,"body_markdown":"Add a button to the group labelled &#39;none of the other options&#39;..","body":"Add a button to the group labelled &#39;none of the other options&#39;.."}],"answers":[{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507297931,"creation_date":1507297931,"answer_id":46607367,"question_id":46607292,"body_markdown":"Just use the `clearSelection()` method of `ButtonGroup` :\r\n\r\n\r\n[ButtonGroup.clearSelection()][1]\r\n\r\n&gt; Clears the selection such that none of the buttons in the ButtonGroup\r\n&gt; are selected.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/swing/ButtonGroup.html#clearSelection--","title":"Have a Button Group in Java where all buttons can be deselected?","body":"<p>Just use the <code>clearSelection()</code> method of <code>ButtonGroup</code> :</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/ButtonGroup.html#clearSelection--\" rel=\"nofollow noreferrer\">ButtonGroup.clearSelection()</a></p>\n\n<blockquote>\n  <p>Clears the selection such that none of the buttons in the ButtonGroup\n  are selected.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3784598,"reputation":3859,"user_id":3142971,"accept_rate":100,"display_name":"Steampunkery"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1507298920,"creation_date":1507298920,"answer_id":46607690,"question_id":46607292,"body_markdown":"This snippet demonstrates how you can clear selections using `ButtonGroup.clearSelection()`:\r\n\r\n        //The buttons\r\n\t\tJFrame frame = new JFrame(&quot;Button test&quot;);\r\n\t\tJPanel panel = new JPanel();\r\n\t\tJRadioButton btn1 = new JRadioButton(&quot;Button1&quot;);\r\n\t\tJRadioButton btn2 = new JRadioButton(&quot;Button2&quot;);\r\n\t\tJButton clearbutton = new JButton(&quot;Clear&quot;);\r\n\r\n\t\tpanel.add(btn1);\r\n\t\tpanel.add(btn2);\r\n\t\tpanel.add(clearbutton);\r\n\t\tframe.add(panel);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.pack();\r\n\t\t\r\n\t\t//The Group, make sure only one button is selected at a time in the group\r\n\t\tButtonGroup btngroup = new ButtonGroup();\r\n\t\tbtngroup.add(btn1);\r\n\t\tbtngroup.add(btn2);\r\n\r\n\t\tbtn1.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t\t// Do whatever you want here\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tbtn2.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t\t// Do whatever you want here\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tclearbutton.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t\t// Clear all selections\r\n\t\t\t\tbtngroup.clearSelection();\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\nAs you can see, this creates two JRadioButtons and adds them to group then makes a button that clears selections. Really simple. Or you could create your own radio button class that allows for the unchecking of the button, which is also doable relatively easily.","title":"Have a Button Group in Java where all buttons can be deselected?","body":"<p>This snippet demonstrates how you can clear selections using <code>ButtonGroup.clearSelection()</code>:</p>\n\n<pre><code>    //The buttons\n    JFrame frame = new JFrame(\"Button test\");\n    JPanel panel = new JPanel();\n    JRadioButton btn1 = new JRadioButton(\"Button1\");\n    JRadioButton btn2 = new JRadioButton(\"Button2\");\n    JButton clearbutton = new JButton(\"Clear\");\n\n    panel.add(btn1);\n    panel.add(btn2);\n    panel.add(clearbutton);\n    frame.add(panel);\n    frame.setVisible(true);\n    frame.pack();\n\n    //The Group, make sure only one button is selected at a time in the group\n    ButtonGroup btngroup = new ButtonGroup();\n    btngroup.add(btn1);\n    btngroup.add(btn2);\n\n    btn1.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n            // Do whatever you want here\n\n        }\n    });\n\n    btn2.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n            // Do whatever you want here\n\n        }\n    });\n\n    clearbutton.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n\n            // Clear all selections\n            btngroup.clearSelection();\n\n        }\n    });\n</code></pre>\n\n<p>As you can see, this creates two JRadioButtons and adds them to group then makes a button that clears selections. Really simple. Or you could create your own radio button class that allows for the unchecking of the button, which is also doable relatively easily.</p>\n"},{"tags":[],"owner":{"account_id":14907986,"reputation":1,"user_id":19702985,"display_name":"Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688488417,"creation_date":1688230255,"answer_id":76595685,"question_id":46607292,"body_markdown":"I faced the same issue. `ButtonGroup` didn&#39;t work well, thus I had to code this behavior manually.\r\nI had two `JCheckBoxs`, A and B, they can&#39;t be selected both at the same time; only one selected at a time or none.\r\nI had to add `actionListener` to both `JCheckBoxs`, and had each `JCheckBox` to clear the selection the other `JCheckBox`.\r\n\r\nHere is the code snippet :\r\n\r\n    JCheckBox A = new JCheckBox(&quot;A&quot;);\r\n    JCheckBox B = new JCheckBox(&quot;B&quot;);\r\n    \r\n    A.addActionListener(new ActionListener() {\r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tif(A.isSelected()) {\r\n    \t\t\tif(B.isSelected()) {\r\n    \t\t\t\tB.setSelected(false);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    });\r\n    B.addActionListener(new ActionListener() {\r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tif(B.isSelected()) {\r\n    \t\t\tif(A.isSelected()) {\r\n    \t\t\t\tA.setSelected(false);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    });\r\n","title":"Have a Button Group in Java where all buttons can be deselected?","body":"<p>I faced the same issue. <code>ButtonGroup</code> didn't work well, thus I had to code this behavior manually.\nI had two <code>JCheckBoxs</code>, A and B, they can't be selected both at the same time; only one selected at a time or none.\nI had to add <code>actionListener</code> to both <code>JCheckBoxs</code>, and had each <code>JCheckBox</code> to clear the selection the other <code>JCheckBox</code>.</p>\n<p>Here is the code snippet :</p>\n<pre><code>JCheckBox A = new JCheckBox(&quot;A&quot;);\nJCheckBox B = new JCheckBox(&quot;B&quot;);\n\nA.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n        if(A.isSelected()) {\n            if(B.isSelected()) {\n                B.setSelected(false);\n            }\n        }\n    }\n});\nB.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        // TODO Auto-generated method stub\n        if(B.isSelected()) {\n            if(A.isSelected()) {\n                A.setSelected(false);\n            }\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":11325705,"reputation":34,"user_id":8304687,"accept_rate":20,"display_name":"JenniferHL3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688488417,"creation_date":1507297726,"question_id":46607292,"body_markdown":"I want to have a Button Group in which either only one option is selected or none of them are. At the moment, I can get it to have no options ticked by default, and then if one of them is ticked only one of them can be ticked, but I also want to be able to untick the button that was selected. Is this possible?\r\n\r\nEDIT: Ideally without having a clear all button, as it would ruin the symmetry of my GUI. Also, here is my code thus far:\r\n\r\n    ButtonGroup option = new ButtonGroup();\r\n        for(int i = 0; i &lt; n; i++) {\r\n                JCheckBox check = new JCheckBox(&quot;&quot;, false);\r\n                option.add(check);\r\n                row3b.add(check);\r\n            } ","title":"Have a Button Group in Java where all buttons can be deselected?","body":"<p>I want to have a Button Group in which either only one option is selected or none of them are. At the moment, I can get it to have no options ticked by default, and then if one of them is ticked only one of them can be ticked, but I also want to be able to untick the button that was selected. Is this possible?</p>\n\n<p>EDIT: Ideally without having a clear all button, as it would ruin the symmetry of my GUI. Also, here is my code thus far:</p>\n\n<pre><code>ButtonGroup option = new ButtonGroup();\n    for(int i = 0; i &lt; n; i++) {\n            JCheckBox check = new JCheckBox(\"\", false);\n            option.add(check);\n            row3b.add(check);\n        } \n</code></pre>\n"},{"tags":["java","design-patterns","builder","builder-pattern"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1688440927,"post_id":76609185,"comment_id":135071071,"body_markdown":"`Builder` is a *creational* design pattern. Your alternative is a fluent interface. They aren&#39;t the same thing. One reason to use a `Builder` is to ensure the `Employee` is never in an inconsistent state, and you would typically make the fields immutable as well. Why? Because then every `Employee` can be used by multiple threads safely.","body":"<code>Builder</code> is a <i>creational</i> design pattern. Your alternative is a fluent interface. They aren&#39;t the same thing. One reason to use a <code>Builder</code> is to ensure the <code>Employee</code> is never in an inconsistent state, and you would typically make the fields immutable as well. Why? Because then every <code>Employee</code> can be used by multiple threads safely."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1688442236,"post_id":76609185,"comment_id":135071174,"body_markdown":"Does this answer your question? [When would you use the Builder Pattern?](https://stackoverflow.com/questions/328496/when-would-you-use-the-builder-pattern)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/328496/when-would-you-use-the-builder-pattern\">When would you use the Builder Pattern?</a>"},{"owner":{"account_id":28771520,"reputation":31,"user_id":22035173,"display_name":"Shameem94"},"score":0,"creation_date":1688449447,"post_id":76609185,"comment_id":135071745,"body_markdown":"@MauricePerry Not exactly, that question is not very specific","body":"@MauricePerry Not exactly, that question is not very specific"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688449769,"post_id":76609185,"comment_id":135071777,"body_markdown":"one use case: to have the `Employee` class immutable, that is, no methods to change the fields (`final` fields)","body":"one use case: to have the <code>Employee</code> class immutable, that is, no methods to change the fields (<code>final</code> fields)"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1688475941,"post_id":76609185,"comment_id":135077021,"body_markdown":"Actually, in modern Java, you should probably make the `Employee` a [*record*](https://docs.oracle.com/en/java/javase/20/language/records.html).","body":"Actually, in modern Java, you should probably make the <code>Employee</code> a <a href=\"https://docs.oracle.com/en/java/javase/20/language/records.html\" rel=\"nofollow noreferrer\"><i>record</i></a>."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688443032,"creation_date":1688443032,"answer_id":76609319,"question_id":76609185,"body_markdown":"&gt; _&quot;... What is the purpose of defining this class? ...&quot;_\r\n\r\nThe idea is to separate the field accessors, from the _builder_ design.\r\n\r\nIt&#39;s a common misconception that accessors are created specifically for accessing fields from _outside_ of the class.\r\n\r\nThey are actually just part of the _object-oriented design_ principle; as a way to define a single point of assignment and retrieval, of the data.\r\n\r\nIn other words, _setters and getters_ should be used throughout the class.\r\n\r\n```java\r\nclass Employee {\r\n    int id;\r\n    String name;\r\n\r\n    public Employee(int id, String name) {\r\n        setId(id);\r\n        setName(name);\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\nAs opposed to,\r\n\r\n```java\r\npublic Employee(int id, String name) {\r\n    this.id = id;\r\n    this.name = name;\r\n}\r\n```\r\n\r\nThis considered, you would want to have an inner-class, to separate the design.\r\n\r\nKeep in mind though, design patterns are just outlines.&amp;nbsp; There is no exact way to write them; as they are just recommendations.\r\n\r\nIf adjusting the pattern, by removing the inner-class, improves your design, I would recommend using that.\r\n\r\nSometimes design concepts can clash, and actually degrade the scalability of the product, thus, defeating the purpose of their use.","title":"Why do we need a &#39;Builder class&#39; in Builder design pattern?","body":"<blockquote>\n<p><em>&quot;... What is the purpose of defining this class? ...&quot;</em></p>\n</blockquote>\n<p>The idea is to separate the field accessors, from the <em>builder</em> design.</p>\n<p>It's a common misconception that accessors are created specifically for accessing fields from <em>outside</em> of the class.</p>\n<p>They are actually just part of the <em>object-oriented design</em> principle; as a way to define a single point of assignment and retrieval, of the data.</p>\n<p>In other words, <em>setters and getters</em> should be used throughout the class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Employee {\n    int id;\n    String name;\n\n    public Employee(int id, String name) {\n        setId(id);\n        setName(name);\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>As opposed to,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Employee(int id, String name) {\n    this.id = id;\n    this.name = name;\n}\n</code></pre>\n<p>This considered, you would want to have an inner-class, to separate the design.</p>\n<p>Keep in mind though, design patterns are just outlines.  There is no exact way to write them; as they are just recommendations.</p>\n<p>If adjusting the pattern, by removing the inner-class, improves your design, I would recommend using that.</p>\n<p>Sometimes design concepts can clash, and actually degrade the scalability of the product, thus, defeating the purpose of their use.</p>\n"},{"tags":[],"owner":{"account_id":28771520,"reputation":31,"user_id":22035173,"display_name":"Shameem94"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688488399,"creation_date":1688488399,"answer_id":76614501,"question_id":76609185,"body_markdown":"Thanks for all the responses. As [Elliott Frisch](https://stackoverflow.com/users/2970947/elliott-frisch) and others mentioned in the above comments, using a **Builder** inner class helps us achieve consistency and immutability (apart from preventing telescoping constructor anti-pattern). Let me elaborate it.\r\n\r\nIf we use setter methods instead of Builder inner class we have the following limitations\r\n\r\n 1. Class cannot be made immutable. For e.g., the following is possible \r\n\r\n    ```\r\n    Employee emp = new Employee().id(1).name(&quot;Abc&quot;);\r\n    emp.name(&quot;Xyz&quot;);\r\n    ```\r\n\r\n 2. Fields are set after instantiation i.e., the object is first created followed by setting of each and every field. This can lead to inconsistent state of the object if it is shared by multiple threads. In other words, the object becomes accessible by other threads before all the fields are set.\r\n\r\nThe above problems can be avoided if we use a **Builder** inner class (which is what Builder design pattern actually is).\r\n\r\nIn addition to the above points we can also perform validations for fields inside the &#39;**build()**&#39; method. For e.g.,\r\n\r\n```\r\npublic Employee build() {\r\n  if (this.id == null) {\r\n    throw new RuntimeException(&quot;&#39;id&#39; cannot be null&quot;);\r\n  }\r\n  return new Employee(this);\r\n}\r\n```\r\n\r\n","title":"Why do we need a &#39;Builder class&#39; in Builder design pattern?","body":"<p>Thanks for all the responses. As <a href=\"https://stackoverflow.com/users/2970947/elliott-frisch\">Elliott Frisch</a> and others mentioned in the above comments, using a <strong>Builder</strong> inner class helps us achieve consistency and immutability (apart from preventing telescoping constructor anti-pattern). Let me elaborate it.</p>\n<p>If we use setter methods instead of Builder inner class we have the following limitations</p>\n<ol>\n<li><p>Class cannot be made immutable. For e.g., the following is possible</p>\n<pre><code>Employee emp = new Employee().id(1).name(&quot;Abc&quot;);\nemp.name(&quot;Xyz&quot;);\n</code></pre>\n</li>\n<li><p>Fields are set after instantiation i.e., the object is first created followed by setting of each and every field. This can lead to inconsistent state of the object if it is shared by multiple threads. In other words, the object becomes accessible by other threads before all the fields are set.</p>\n</li>\n</ol>\n<p>The above problems can be avoided if we use a <strong>Builder</strong> inner class (which is what Builder design pattern actually is).</p>\n<p>In addition to the above points we can also perform validations for fields inside the '<strong>build()</strong>' method. For e.g.,</p>\n<pre><code>public Employee build() {\n  if (this.id == null) {\n    throw new RuntimeException(&quot;'id' cannot be null&quot;);\n  }\n  return new Employee(this);\n}\n</code></pre>\n"}],"owner":{"account_id":28771520,"reputation":31,"user_id":22035173,"display_name":"Shameem94"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76614501,"answer_count":2,"score":2,"last_activity_date":1688488399,"creation_date":1688440681,"question_id":76609185,"body_markdown":"In Builder design pattern a &#39;**Builder**&#39; inner class is used through which we set the values for the fields of that class. What is the purpose of defining this class?\r\n\r\nOne of the main reasons cited for using a builder pattern is that it solves the **Telescoping Constructor Problem**\r\n\r\nIf so, why can&#39;t we just go ahead with setter methods?\r\n\r\n(Note: Although there are some questions that had already discussed this topic ([link](https://stackoverflow.com/questions/71419541/why-we-use-builder-design-pattern-instead-of-setters)) those questions and answers were not very straight forward. Hence, I had to draft this question)\r\n\r\nFor e.g.,\r\nWhy do this?\r\n```\r\npublic class Employee {\r\n  private int id;\r\n  private String name;\r\n\r\n  public Employee (Builder builder) {\r\n    this.id = builder.id;\r\n    this.name = builder.name;\r\n  }\r\n\r\n  public static class Builder {\r\n    private int id;\r\n    private String name;\r\n\r\n    public Builder id(int id) {\r\n      this.id = id;\r\n      return this;\r\n    }\r\n\r\n    public Builder name(String name) {\r\n      this.name = name;\r\n      return this;\r\n    }\r\n\r\n    public Employee build() {\r\n      return new Employee(this);\r\n    }\r\n  }\r\n}\r\n\r\n// Employee emp = new Employee.Builder().id(1).name(&quot;Abc&quot;).build();\r\n```\r\ninstead of this?\r\n```\r\npublic class Employee {\r\n  private int id;\r\n  private String name;\r\n\r\n  public Employee id(int id) {\r\n    this.id = id;\r\n    return this;\r\n  }\r\n\r\n  public Employee name(String name) {\r\n    this.name = name;\r\n    return this;\r\n  }\r\n}\r\n\r\n// Employee emp = new Employee().id(1).name(&quot;Abc&quot;);\r\n```","title":"Why do we need a &#39;Builder class&#39; in Builder design pattern?","body":"<p>In Builder design pattern a '<strong>Builder</strong>' inner class is used through which we set the values for the fields of that class. What is the purpose of defining this class?</p>\n<p>One of the main reasons cited for using a builder pattern is that it solves the <strong>Telescoping Constructor Problem</strong></p>\n<p>If so, why can't we just go ahead with setter methods?</p>\n<p>(Note: Although there are some questions that had already discussed this topic (<a href=\"https://stackoverflow.com/questions/71419541/why-we-use-builder-design-pattern-instead-of-setters\">link</a>) those questions and answers were not very straight forward. Hence, I had to draft this question)</p>\n<p>For e.g.,\nWhy do this?</p>\n<pre><code>public class Employee {\n  private int id;\n  private String name;\n\n  public Employee (Builder builder) {\n    this.id = builder.id;\n    this.name = builder.name;\n  }\n\n  public static class Builder {\n    private int id;\n    private String name;\n\n    public Builder id(int id) {\n      this.id = id;\n      return this;\n    }\n\n    public Builder name(String name) {\n      this.name = name;\n      return this;\n    }\n\n    public Employee build() {\n      return new Employee(this);\n    }\n  }\n}\n\n// Employee emp = new Employee.Builder().id(1).name(&quot;Abc&quot;).build();\n</code></pre>\n<p>instead of this?</p>\n<pre><code>public class Employee {\n  private int id;\n  private String name;\n\n  public Employee id(int id) {\n    this.id = id;\n    return this;\n  }\n\n  public Employee name(String name) {\n    this.name = name;\n    return this;\n  }\n}\n\n// Employee emp = new Employee().id(1).name(&quot;Abc&quot;);\n</code></pre>\n"},{"tags":["java","spring-cloud-sleuth"],"answers":[{"tags":[],"owner":{"account_id":1746185,"reputation":31,"user_id":1596353,"display_name":"Alex Korotkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688488299,"creation_date":1688488299,"answer_id":76614485,"question_id":74403466,"body_markdown":"Sleuth can propagate x-b3-* header automatically only to restTemplate, webClient and feign.\r\n\r\nwhat httpclient are you using to make SOAP-calls?","title":"Spring Sleuth not working for SOAP outgoing calls (out-of-the-box)","body":"<p>Sleuth can propagate x-b3-* header automatically only to restTemplate, webClient and feign.</p>\n<p>what httpclient are you using to make SOAP-calls?</p>\n"}],"owner":{"account_id":25298092,"reputation":1,"user_id":19122873,"display_name":"Diego Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688488299,"creation_date":1668174509,"question_id":74403466,"body_markdown":"I&#39;m trying to set up the following Spring Sleuth configuration to propagate remote fields (HTTP request headers) across the projects out-of-the-box:\r\n\r\n```\r\nsleuth:\r\n  async:\r\n    enabled: true\r\n  baggage:\r\n    remote-fields:\r\n      - Caller-Id\r\n```\r\n\r\nFor the outgoing Rest calls, it&#39;s working fine:\r\n\r\n`Request headers: {Accept=[application/json; distances], Authorization=[Bearer ...], X-B3-TraceId=[3f3f61757851d371], X-B3-SpanId=[3f3f61757851d371], X-B3-Sampled=[1], `**`caller-id=[value]`**`} `\r\n\r\nHowever, it&#39;s not true for the SOAP outgoing calls:\r\n\r\n`SOAP Headers - {Authorization=[Bearer...]}`\r\n\r\nWe&#39;re using Feign as Rest client and jaxws-spring for SOAP.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.revinate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxws-spring&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAm I doing something wrong?","title":"Spring Sleuth not working for SOAP outgoing calls (out-of-the-box)","body":"<p>I'm trying to set up the following Spring Sleuth configuration to propagate remote fields (HTTP request headers) across the projects out-of-the-box:</p>\n<pre><code>sleuth:\n  async:\n    enabled: true\n  baggage:\n    remote-fields:\n      - Caller-Id\n</code></pre>\n<p>For the outgoing Rest calls, it's working fine:</p>\n<p><code>Request headers: {Accept=[application/json; distances], Authorization=[Bearer ...], X-B3-TraceId=[3f3f61757851d371], X-B3-SpanId=[3f3f61757851d371], X-B3-Sampled=[1], </code><strong><code>caller-id=[value]</code></strong><code>} </code></p>\n<p>However, it's not true for the SOAP outgoing calls:</p>\n<p><code>SOAP Headers - {Authorization=[Bearer...]}</code></p>\n<p>We're using Feign as Rest client and jaxws-spring for SOAP.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.revinate&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-spring&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Am I doing something wrong?</p>\n"},{"tags":["java","deadlock"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1688494107,"post_id":76614464,"comment_id":135080534,"body_markdown":"`doPullAll gets the lock first, and while-loop waits` how do you know it will enter the while ? Did you debug this part ?","body":"<code>doPullAll gets the lock first, and while-loop waits</code> how do you know it will enter the while ? Did you debug this part ?"}],"owner":{"account_id":16783651,"reputation":31,"user_id":12133207,"display_name":"Lucien Evans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688488109,"creation_date":1688488109,"question_id":76614464,"body_markdown":"https://github.com/alibaba/DataX\r\n\r\nI would like to ask a question. In the MemoryChannel of DataX, both doPullAll and doPushAll will  lock. Why does it no cause a deadlock?\r\nFor example, under the initial conditions, the queue is empty, then doPullAll gets the lock first, and while-loop waits.\r\nAt this time, the doPushAll is called; it also tries to acquire the lock, but it will fail because the lock is already occupied. Thus a deadlock occurs.\r\n\r\nBut it is definitely not the case, this procedure must be normal. Why is there no deadlock?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAny help is appreciated\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9YiwN.png\r\n  [2]: https://i.stack.imgur.com/PRath.png","title":"Why is not there a dead lock in MemoryChannel of DataX","body":"<p><a href=\"https://github.com/alibaba/DataX\" rel=\"nofollow noreferrer\">https://github.com/alibaba/DataX</a></p>\n<p>I would like to ask a question. In the MemoryChannel of DataX, both doPullAll and doPushAll will  lock. Why does it no cause a deadlock?\nFor example, under the initial conditions, the queue is empty, then doPullAll gets the lock first, and while-loop waits.\nAt this time, the doPushAll is called; it also tries to acquire the lock, but it will fail because the lock is already occupied. Thus a deadlock occurs.</p>\n<p>But it is definitely not the case, this procedure must be normal. Why is there no deadlock?</p>\n<p><a href=\"https://i.stack.imgur.com/9YiwN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9YiwN.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/PRath.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PRath.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help is appreciated</p>\n"},{"tags":["java","spring-boot","ssl","okhttp"],"answers":[{"tags":[],"owner":{"account_id":3350985,"reputation":304,"user_id":2815062,"display_name":"Alexandrakis alexandros"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1613074199,"creation_date":1613074199,"answer_id":66162070,"question_id":66152780,"body_markdown":"Apparently the only way to do it is to make OkHttp to ignore hostname verification\r\n\r\n```\r\n OkHttpClient okHttpClient = new OkHttpClient.Builder().hostnameVerifier(new HostnameVerifier() {\r\n                @Override\r\n                public boolean verify(String hostname, SSLSession session) {\r\n                    return true;\r\n                }\r\n            }).build();\r\n            Retrofit retrofit = new Retrofit.Builder()\r\n                    .client(okHttpClient)\r\n                    .baseUrl(&quot;https://localhost:8443/&quot;)\r\n                    .addConverterFactory(MoshiConverterFactory.create())\r\n                    .build();\r\n```","title":"How to avoid javax.net.ssl.SSLPeerUnverifiedException: Hostname test.server.com not verified","body":"<p>Apparently the only way to do it is to make OkHttp to ignore hostname verification</p>\n<pre><code> OkHttpClient okHttpClient = new OkHttpClient.Builder().hostnameVerifier(new HostnameVerifier() {\n                @Override\n                public boolean verify(String hostname, SSLSession session) {\n                    return true;\n                }\n            }).build();\n            Retrofit retrofit = new Retrofit.Builder()\n                    .client(okHttpClient)\n                    .baseUrl(&quot;https://localhost:8443/&quot;)\n                    .addConverterFactory(MoshiConverterFactory.create())\n                    .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1613136855,"creation_date":1613121413,"answer_id":66169133,"question_id":66152780,"body_markdown":"I suspect that it is because you are generating an invalid certificates, CN shouldn&#39;t be used anymore for hostname validation.  subjectAltNames is empty in your certificate. This changed in 3.10.0\r\n\r\nhttps://square.github.io/okhttp/changelog_3x/#version-3100\r\n\r\n&gt; New: Don’t fall back to common name (CN) verification for hostnames. This behavior was deprecated with RFC 2818 in May 2000 and was recently dropped from major web browsers.\r\n\r\n\r\nIf you just want to white list one devserver you can use the following\r\n\r\nhttps://square.github.io/okhttp/changelog/#version-470\r\n\r\n```\r\nval clientCertificates = HandshakeCertificates.Builder()\r\n    .addPlatformTrustedCertificates()\r\n    .addInsecureHost(&quot;localhost&quot;)\r\n    .build()\r\n\r\nval client = OkHttpClient.Builder()\r\n    .sslSocketFactory(clientCertificates.sslSocketFactory(), clientCertificates.trustManager)\r\n    .build()\r\n```","title":"How to avoid javax.net.ssl.SSLPeerUnverifiedException: Hostname test.server.com not verified","body":"<p>I suspect that it is because you are generating an invalid certificates, CN shouldn't be used anymore for hostname validation.  subjectAltNames is empty in your certificate. This changed in 3.10.0</p>\n<p><a href=\"https://square.github.io/okhttp/changelog_3x/#version-3100\" rel=\"noreferrer\">https://square.github.io/okhttp/changelog_3x/#version-3100</a></p>\n<blockquote>\n<p>New: Don’t fall back to common name (CN) verification for hostnames. This behavior was deprecated with RFC 2818 in May 2000 and was recently dropped from major web browsers.</p>\n</blockquote>\n<p>If you just want to white list one devserver you can use the following</p>\n<p><a href=\"https://square.github.io/okhttp/changelog/#version-470\" rel=\"noreferrer\">https://square.github.io/okhttp/changelog/#version-470</a></p>\n<pre><code>val clientCertificates = HandshakeCertificates.Builder()\n    .addPlatformTrustedCertificates()\n    .addInsecureHost(&quot;localhost&quot;)\n    .build()\n\nval client = OkHttpClient.Builder()\n    .sslSocketFactory(clientCertificates.sslSocketFactory(), clientCertificates.trustManager)\n    .build()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":244147,"reputation":748,"user_id":516754,"accept_rate":80,"display_name":"d4c0d312"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688487669,"creation_date":1688487669,"answer_id":76614425,"question_id":66152780,"body_markdown":"Currently targeting Android SDK 33 , i found that i needed to do more than one thing - combining the suggestions of [@alexandrakis-alexandros][1] and [@yuri-schimke][2]\r\n\r\n     httpLoggingInterceptor.level = HttpLoggingInterceptor.Level.BODY\r\n        val clientCertificates = HandshakeCertificates.Builder()\r\n            .addPlatformTrustedCertificates()\r\n            .addInsecureHost(&quot;myhttpslocalhost&quot;)\r\n            .build()\r\n\r\n        return Retrofit.Builder()\r\n            .baseUrl(BuildConfig.BASE_SERVER_URL)\r\n            .client(\r\n                OkHttpClient.Builder()\r\n                    .hostnameVerifier { _, _ -&gt; true }\r\n                    .sslSocketFactory(clientCertificates.sslSocketFactory(), clientCertificates.trustManager)\r\n                    .addInterceptor(httpLoggingInterceptor)\r\n                    .build(),\r\n            )\r\n            ...\r\n            .build()\r\n\r\nI had to use both a HandshakeCertificates class and a HostNameVerifier override.\r\n\r\nDon&#39;t forget to remove it in production or amend your code to only implement it in debug mode.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2815062/alexandrakis-alexandros\r\n  [2]: https://stackoverflow.com/users/1542667/yuri-schimke","title":"How to avoid javax.net.ssl.SSLPeerUnverifiedException: Hostname test.server.com not verified","body":"<p>Currently targeting Android SDK 33 , i found that i needed to do more than one thing - combining the suggestions of <a href=\"https://stackoverflow.com/users/2815062/alexandrakis-alexandros\">@alexandrakis-alexandros</a> and <a href=\"https://stackoverflow.com/users/1542667/yuri-schimke\">@yuri-schimke</a></p>\n<pre><code> httpLoggingInterceptor.level = HttpLoggingInterceptor.Level.BODY\n    val clientCertificates = HandshakeCertificates.Builder()\n        .addPlatformTrustedCertificates()\n        .addInsecureHost(&quot;myhttpslocalhost&quot;)\n        .build()\n\n    return Retrofit.Builder()\n        .baseUrl(BuildConfig.BASE_SERVER_URL)\n        .client(\n            OkHttpClient.Builder()\n                .hostnameVerifier { _, _ -&gt; true }\n                .sslSocketFactory(clientCertificates.sslSocketFactory(), clientCertificates.trustManager)\n                .addInterceptor(httpLoggingInterceptor)\n                .build(),\n        )\n        ...\n        .build()\n</code></pre>\n<p>I had to use both a HandshakeCertificates class and a HostNameVerifier override.</p>\n<p>Don't forget to remove it in production or amend your code to only implement it in debug mode.</p>\n"}],"owner":{"account_id":3350985,"reputation":304,"user_id":2815062,"display_name":"Alexandrakis alexandros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9309,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1688487669,"creation_date":1613038832,"question_id":66152780,"body_markdown":"I have a spring-boot app (version 2.3.7) that uses okhttp3 and I&#39;m trying to call an api in `https://test.server.com:8888/api` . The certificate on the server is self-signed so I have updated my carets to trust this certificate. When I m running the SSLPoke.class like this `java SSLPoke test.server.com 8888` I m getting `Successfully Connected`. But when the request is made from my app I m getting the `javax.net.ssl.SSLPeerUnverifiedException: Hostname test.server.com not verified:` error. Since the cacerts is updated do I need to write extra code to verify the hostname ?\r\n\r\nTo be more specific I have the following snippet. If I pass the truststore in the VM options `-Djavax.net.ssl.trustStore=client-truststore.jks -Djavax.net.ssl.trustStorePassword=changeit` the call with the okhttp fails, but with rest template succeeds. \r\n\r\n```\r\n@SpringBootApplication\r\npublic class DemoOkhttpClientApplication implements CommandLineRunner {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemoOkhttpClientApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        try {\r\n            Retrofit retrofit = new Retrofit.Builder()\r\n                    .baseUrl(&quot;https://localhost:8443/&quot;)\r\n                    .addConverterFactory(MoshiConverterFactory.create())\r\n                    .build();\r\n            TestClient testClient = retrofit.create(TestClient.class);\r\n            System.out.println(String.format(&quot;OkHttp Response %s&quot;, testClient.callTestEndpoint().execute().body()));\r\n        } catch (Exception ex){\r\n            System.err.println();\r\n            System.err.println(&quot;Ok Http error &quot; + ex.getMessage());\r\n        }\r\n\r\n        try {\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            System.out.println(String.format(&quot;Rest Template Response %s&quot;,\r\n                    restTemplate.exchange(&quot;https://localhost:8443/test&quot;, HttpMethod.GET, null, String.class)));\r\n        } catch (Exception ex){\r\n            System.err.println(&quot;Rest Template error&quot; + ex.getMessage());\r\n        }\r\n    }\r\n}\r\n\r\ninterface TestClient {\r\n    @GET(&quot;/test&quot;)\r\n    Call&lt;String&gt; callTestEndpoint();\r\n}\r\n\r\n```\r\n\r\nThe output of the above snippet is this\r\n\r\n```\r\nOk Http error Hostname localhost not verified:\r\n    certificate: sha256/INkKXJiMFIGNnvE5ga1Ye0KjxjP5jO9hIrNvQs4wuU0=\r\n    DN: CN=localhost, OU=PC, O=PC, L=Marousi, ST=Athens, C=GR\r\n    subjectAltNames: []\r\nRest Template Response &lt;200,Ok,[Content-Type:&quot;text/plain;charset=UTF-8&quot;, Content-Length:&quot;2&quot;, Date:&quot;Thu, 11 Feb 2021 17:09:55 GMT&quot;, Keep-Alive:&quot;timeout=60&quot;, Connection:&quot;keep-alive&quot;]&gt;\r\n\r\n```\r\n","title":"How to avoid javax.net.ssl.SSLPeerUnverifiedException: Hostname test.server.com not verified","body":"<p>I have a spring-boot app (version 2.3.7) that uses okhttp3 and I'm trying to call an api in <code>https://test.server.com:8888/api</code> . The certificate on the server is self-signed so I have updated my carets to trust this certificate. When I m running the SSLPoke.class like this <code>java SSLPoke test.server.com 8888</code> I m getting <code>Successfully Connected</code>. But when the request is made from my app I m getting the <code>javax.net.ssl.SSLPeerUnverifiedException: Hostname test.server.com not verified:</code> error. Since the cacerts is updated do I need to write extra code to verify the hostname ?</p>\n<p>To be more specific I have the following snippet. If I pass the truststore in the VM options <code>-Djavax.net.ssl.trustStore=client-truststore.jks -Djavax.net.ssl.trustStorePassword=changeit</code> the call with the okhttp fails, but with rest template succeeds.</p>\n<pre><code>@SpringBootApplication\npublic class DemoOkhttpClientApplication implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoOkhttpClientApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        try {\n            Retrofit retrofit = new Retrofit.Builder()\n                    .baseUrl(&quot;https://localhost:8443/&quot;)\n                    .addConverterFactory(MoshiConverterFactory.create())\n                    .build();\n            TestClient testClient = retrofit.create(TestClient.class);\n            System.out.println(String.format(&quot;OkHttp Response %s&quot;, testClient.callTestEndpoint().execute().body()));\n        } catch (Exception ex){\n            System.err.println();\n            System.err.println(&quot;Ok Http error &quot; + ex.getMessage());\n        }\n\n        try {\n            RestTemplate restTemplate = new RestTemplate();\n            System.out.println(String.format(&quot;Rest Template Response %s&quot;,\n                    restTemplate.exchange(&quot;https://localhost:8443/test&quot;, HttpMethod.GET, null, String.class)));\n        } catch (Exception ex){\n            System.err.println(&quot;Rest Template error&quot; + ex.getMessage());\n        }\n    }\n}\n\ninterface TestClient {\n    @GET(&quot;/test&quot;)\n    Call&lt;String&gt; callTestEndpoint();\n}\n\n</code></pre>\n<p>The output of the above snippet is this</p>\n<pre><code>Ok Http error Hostname localhost not verified:\n    certificate: sha256/INkKXJiMFIGNnvE5ga1Ye0KjxjP5jO9hIrNvQs4wuU0=\n    DN: CN=localhost, OU=PC, O=PC, L=Marousi, ST=Athens, C=GR\n    subjectAltNames: []\nRest Template Response &lt;200,Ok,[Content-Type:&quot;text/plain;charset=UTF-8&quot;, Content-Length:&quot;2&quot;, Date:&quot;Thu, 11 Feb 2021 17:09:55 GMT&quot;, Keep-Alive:&quot;timeout=60&quot;, Connection:&quot;keep-alive&quot;]&gt;\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","liquibase","sap-business-technology-platform"],"comments":[{"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"score":0,"creation_date":1586336544,"post_id":61096780,"comment_id":108088486,"body_markdown":"look at this [answer](https://stackoverflow.com/questions/41801965/spring-liquibase-recover-when-application-is-crashed/41802213#41802213)","body":"look at this <a href=\"https://stackoverflow.com/questions/41801965/spring-liquibase-recover-when-application-is-crashed/41802213#41802213\">answer</a>"},{"owner":{"account_id":18215414,"reputation":1,"user_id":13257169,"display_name":"Jose Paolo San Pedro"},"score":0,"creation_date":1586337257,"post_id":61096780,"comment_id":108088851,"body_markdown":"not sure how this helps. The issue is that liquibase updates the locked column with an integer value but the column has a boolean data type. Although this should be okay right? Since boolean should also accept 0/1 as the input. Sorry but what exactly should I check in the link you mentioned?","body":"not sure how this helps. The issue is that liquibase updates the locked column with an integer value but the column has a boolean data type. Although this should be okay right? Since boolean should also accept 0/1 as the input. Sorry but what exactly should I check in the link you mentioned?"},{"owner":{"account_id":7966981,"reputation":6819,"user_id":6012939,"accept_rate":100,"display_name":"htshame"},"score":0,"creation_date":1586337647,"post_id":61096780,"comment_id":108089049,"body_markdown":"@JosePaoloSanPedro you mean that when you drop `databasechangeloglock` table, it gets recreated with `locked` column of `smallint` type and not `boolean`?","body":"@JosePaoloSanPedro you mean that when you drop <code>databasechangeloglock</code> table, it gets recreated with <code>locked</code> column of <code>smallint</code> type and not <code>boolean</code>?"},{"owner":{"account_id":18215414,"reputation":1,"user_id":13257169,"display_name":"Jose Paolo San Pedro"},"score":0,"creation_date":1586338272,"post_id":61096780,"comment_id":108089362,"body_markdown":"Hi @htshame, when I try to drop the `databasechangeloglock`, it recreates the table with the `locked` column having the `boolean` data type. But when I&#39;m trying to start my application in `sap cloud platform` it fails with the error shown above. \n\n`INT type is not comparable with BOOLEAN type`. Liquibase tries to update the table using `0/1` as inputs for `locked` column","body":"Hi @htshame, when I try to drop the <code>databasechangeloglock</code>, it recreates the table with the <code>locked</code> column having the <code>boolean</code> data type. But when I&#39;m trying to start my application in <code>sap cloud platform</code> it fails with the error shown above.   <code>INT type is not comparable with BOOLEAN type</code>. Liquibase tries to update the table using <code>0&#47;1</code> as inputs for <code>locked</code> column"}],"owner":{"account_id":18215414,"reputation":1,"user_id":13257169,"display_name":"Jose Paolo San Pedro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688487419,"creation_date":1586335818,"question_id":61096780,"body_markdown":"Lately we updated our Liquibase version to 3.8.7\r\n\r\nWith the update, I encountered an issue regarding the DATABASECHANGELOGLOCK table.\r\nThe table has all the same columns except for the LOCKED column which was changed from smallint to boolean.\r\n\r\nNow this is causing an issue about the data types. See the log error below.\r\n&gt; liquibase.exception.LockException: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = &#39;vsa7421484s.ash.od.sap.biz (10.108.3.107)&#39;, &quot;LOCKGRANTED&quot; = &#39;2020-04-08 08:32:29.759&#39; WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)\r\n\r\nFull log:\r\n```\r\n2020 04 08 08:32:29#+00#ERROR#org.springframework.web.context.ContextLoader##anonymous#localhost-startStop-1#na#b515b1a3c#jpsol21c#web##na#na#na#na#Context initialization failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in ServletContext resource [/WEB-INF/repository-context.xml]: Invocation of init method failed; nested exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = &#39;vsa7421484s.ash.od.sap.biz (10.108.3.107)&#39;, &quot;LOCKGRANTED&quot; = &#39;2020-04-08 08:32:29.759&#39; WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1630)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\r\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\r\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\r\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756)\r\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\r\nat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)\r\nat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)\r\nat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\r\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4699)\r\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5165)\r\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:743)\r\nat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:719)\r\nat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\r\nat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:970)\r\nat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1841)\r\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\nat java.lang.Thread.run(Thread.java:836)\r\nCaused by: liquibase.exception.LockException: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = &#39;vsa7421484s.ash.od.sap.biz (10.108.3.107)&#39;, &quot;LOCKGRANTED&quot; = &#39;2020-04-08 08:32:29.759&#39; WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)\r\nat liquibase.lockservice.StandardLockService.acquireLock(StandardLockService.java:242)\r\nat liquibase.lockservice.StandardLockService.waitForLock(StandardLockService.java:170)\r\nat liquibase.Liquibase.update(Liquibase.java:196)\r\nat liquibase.Liquibase.update(Liquibase.java:192)\r\nat liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:431)\r\nat liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:388)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1688)\r\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1626)\r\n... 25 common frames omitted\r\nCaused by: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = &#39;vsa7421484s.ash.od.sap.biz (10.108.3.107)&#39;, &quot;LOCKGRANTED&quot; = &#39;2020-04-08 08:32:29.759&#39; WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)\r\nat liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:68)\r\nat liquibase.executor.jvm.JdbcExecutor.update(JdbcExecutor.java:231)\r\nat liquibase.executor.jvm.JdbcExecutor.update(JdbcExecutor.java:205)\r\nat liquibase.lockservice.StandardLockService.acquireLock(StandardLockService.java:215)\r\n... 35 common frames omitted\r\n```\r\n\r\nAlready tried to drop the DATABASECHANGELOGLOCK table and its still not working. Any suggestions?","title":"Liquibase LOCKED column data type issue","body":"<p>Lately we updated our Liquibase version to 3.8.7</p>\n<p>With the update, I encountered an issue regarding the DATABASECHANGELOGLOCK table.\nThe table has all the same columns except for the LOCKED column which was changed from smallint to boolean.</p>\n<p>Now this is causing an issue about the data types. See the log error below.</p>\n<blockquote>\n<p>liquibase.exception.LockException: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = 'vsa7421484s.ash.od.sap.biz (10.108.3.107)', &quot;LOCKGRANTED&quot; = '2020-04-08 08:32:29.759' WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)</p>\n</blockquote>\n<p>Full log:</p>\n<pre><code>2020 04 08 08:32:29#+00#ERROR#org.springframework.web.context.ContextLoader##anonymous#localhost-startStop-1#na#b515b1a3c#jpsol21c#web##na#na#na#na#Context initialization failed org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in ServletContext resource [/WEB-INF/repository-context.xml]: Invocation of init method failed; nested exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = 'vsa7421484s.ash.od.sap.biz (10.108.3.107)', &quot;LOCKGRANTED&quot; = '2020-04-08 08:32:29.759' WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1630)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\nat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:443)\nat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:325)\nat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4699)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5165)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\nat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:743)\nat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:719)\nat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\nat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:970)\nat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1841)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:836)\nCaused by: liquibase.exception.LockException: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = 'vsa7421484s.ash.od.sap.biz (10.108.3.107)', &quot;LOCKGRANTED&quot; = '2020-04-08 08:32:29.759' WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)\nat liquibase.lockservice.StandardLockService.acquireLock(StandardLockService.java:242)\nat liquibase.lockservice.StandardLockService.waitForLock(StandardLockService.java:170)\nat liquibase.Liquibase.update(Liquibase.java:196)\nat liquibase.Liquibase.update(Liquibase.java:192)\nat liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:431)\nat liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:388)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1688)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1626)\n... 25 common frames omitted\nCaused by: liquibase.exception.DatabaseException: Error executing SQL UPDATE &quot;B515B1A3C_JPSOL21C&quot;.&quot;DATABASECHANGELOGLOCK&quot; SET &quot;LOCKED&quot; = 1, &quot;LOCKEDBY&quot; = 'vsa7421484s.ash.od.sap.biz (10.108.3.107)', &quot;LOCKGRANTED&quot; = '2020-04-08 08:32:29.759' WHERE &quot;ID&quot; = 1 AND &quot;LOCKED&quot; = 0: SAP DBTech JDBC: [266] (at 200): inconsistent datatype: INT type is not comparable with BOOLEAN type.: line 1 col 201 (at pos 200)\nat liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:68)\nat liquibase.executor.jvm.JdbcExecutor.update(JdbcExecutor.java:231)\nat liquibase.executor.jvm.JdbcExecutor.update(JdbcExecutor.java:205)\nat liquibase.lockservice.StandardLockService.acquireLock(StandardLockService.java:215)\n... 35 common frames omitted\n</code></pre>\n<p>Already tried to drop the DATABASECHANGELOGLOCK table and its still not working. Any suggestions?</p>\n"},{"tags":["javascript","java","node.js","encryption","des"],"answers":[{"tags":[],"owner":{"account_id":15198268,"reputation":96,"user_id":10966982,"display_name":"Gaurav singh rajpoot"},"down_vote_count":2,"up_vote_count":1,"is_accepted":true,"score":-1,"last_activity_date":1688486993,"creation_date":1688374508,"answer_id":76603262,"question_id":76603215,"body_markdown":"\r\n```javascript\r\nconst crypto = require(&#39;crypto&#39;);\r\n\r\nfunction getSignature(skey, iv, data) {\r\n    const IV = Buffer.from(iv, &#39;utf-8&#39;);\r\n    const desKey = Buffer.from(skey, &#39;utf-8&#39;);\r\n\r\n    const cipher = crypto.createCipheriv(&#39;des&#39;, desKey.slice(0, 8), IV);\r\n    let encrypted = cipher.update(data, &#39;utf-8&#39;, &#39;base64&#39;);\r\n    encrypted += cipher.final(&#39;base64&#39;);\r\n    return encrypted;\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"How do you convert this DES encryption code from Java code to JavaScript?","body":"<pre class=\"lang-js prettyprint-override\"><code>const crypto = require('crypto');\n\nfunction getSignature(skey, iv, data) {\n    const IV = Buffer.from(iv, 'utf-8');\n    const desKey = Buffer.from(skey, 'utf-8');\n\n    const cipher = crypto.createCipheriv('des', desKey.slice(0, 8), IV);\n    let encrypted = cipher.update(data, 'utf-8', 'base64');\n    encrypted += cipher.final('base64');\n    return encrypted;\n}\n</code></pre>\n"}],"owner":{"account_id":132808,"reputation":3515,"user_id":333729,"accept_rate":97,"display_name":"bbnn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76603262,"answer_count":1,"score":1,"last_activity_date":1688486993,"creation_date":1688374164,"question_id":76603215,"body_markdown":"How can I convert this Java code to JavaScript?\r\n\r\n```java\r\npublic static String getSignature(String skey, String iv, String data) throws Exception {\r\n  IvParameterSpec Ⅳ = new IvParameterSpec(iv.getBytes(&quot;utf-8&quot;));\r\n  DESKeySpec desKey = new DESKeySpec(skey.getBytes(&quot;utf-8&quot;));\r\n  SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;DES&quot;);\r\n  SecretKey key = keyFactory.generateSecret(desKey);\r\n  Cipher cipher = Cipher.getInstance(&quot;DES/CBC/PKCS5Padding&quot;);\r\n  cipher.init(Cipher.ENCRYPT_MODE, key, Ⅳ);\r\n  byte[] databyte = cipher.doFinal(data.getBytes(&quot;utf-8&quot;));\r\n  return new String(Base64.getEncoder().encode(databyte));\r\n}\r\n```\r\n\r\nI tried it myself, and I got:\r\n\r\n```js\r\n  function getSignature(\r\n    skey,\r\n    iv,\r\n    data,\r\n  ) {\r\n    const IV = Buffer.from(ivString, &#39;utf-8&#39;);\r\n    const desKey = Buffer.from(skey, &#39;utf-8&#39;);\r\n\r\n    const cipher = crypto.createCipheriv(&#39;des-cbc&#39;, desKey, IV);\r\n    let encrypted = cipher.update(data, &#39;utf-8&#39;, &#39;base64&#39;);\r\n    encrypted += cipher.final(&#39;base64&#39;);\r\n    return encrypted;\r\n  }\r\n```\r\n\r\nBut I got an `ERR_CRYPTO_INVALID_KEYLEN` error, because my key is not 8 in length. I&#39;m guessing that my JavaScript code is missing this part of the Java code, but I don&#39;t know how to translate this part into JavaScript...:\r\n\r\n```\r\n  SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;DES&quot;);\r\n  SecretKey key = keyFactory.generateSecret(desKey);\r\n\r\n```\r\n\r\n","title":"How do you convert this DES encryption code from Java code to JavaScript?","body":"<p>How can I convert this Java code to JavaScript?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getSignature(String skey, String iv, String data) throws Exception {\n  IvParameterSpec Ⅳ = new IvParameterSpec(iv.getBytes(&quot;utf-8&quot;));\n  DESKeySpec desKey = new DESKeySpec(skey.getBytes(&quot;utf-8&quot;));\n  SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;DES&quot;);\n  SecretKey key = keyFactory.generateSecret(desKey);\n  Cipher cipher = Cipher.getInstance(&quot;DES/CBC/PKCS5Padding&quot;);\n  cipher.init(Cipher.ENCRYPT_MODE, key, Ⅳ);\n  byte[] databyte = cipher.doFinal(data.getBytes(&quot;utf-8&quot;));\n  return new String(Base64.getEncoder().encode(databyte));\n}\n</code></pre>\n<p>I tried it myself, and I got:</p>\n<pre class=\"lang-js prettyprint-override\"><code>  function getSignature(\n    skey,\n    iv,\n    data,\n  ) {\n    const IV = Buffer.from(ivString, 'utf-8');\n    const desKey = Buffer.from(skey, 'utf-8');\n\n    const cipher = crypto.createCipheriv('des-cbc', desKey, IV);\n    let encrypted = cipher.update(data, 'utf-8', 'base64');\n    encrypted += cipher.final('base64');\n    return encrypted;\n  }\n</code></pre>\n<p>But I got an <code>ERR_CRYPTO_INVALID_KEYLEN</code> error, because my key is not 8 in length. I'm guessing that my JavaScript code is missing this part of the Java code, but I don't know how to translate this part into JavaScript...:</p>\n<pre><code>  SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;DES&quot;);\n  SecretKey key = keyFactory.generateSecret(desKey);\n\n</code></pre>\n"},{"tags":["java","spring-boot","ssl","openshift","cacerts"],"owner":{"account_id":26115127,"reputation":1,"user_id":19808385,"display_name":"hakktastic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688486460,"creation_date":1688486397,"question_id":76614296,"body_markdown":"# Background\r\nI&#39;m building two Springboot applications with Java which I&#39;m deploying on OpenShift in the same namespace using RedHat Universal Base Images. The applications communicate with each other through the Service URL. One of the applications functions as a server, the other one as a client. For the server I enabled TLS.\r\n\r\nI&#39;m using [OpenShift service serving certificates](https://docs.openshift.com/container-platform/4.8/security/certificates/service-serving-certificate.html) to generate dynamically the certificates I need:\r\n- secret: tls.key &amp; cert.key (server)\r\n- configMap: service-ca.crt (client)\r\n\r\nI&#39;m able to inject the certificates in the client- and server app through volumes and I&#39;m able to curl from the client to the server container using https:\r\n\r\n```\r\ncurl --cacert /etc/pki/ca-trust/extracted/java/service-ca.crt https://service-url  \r\n```\r\n\r\nIn order to let the client Java app use the service-ca.crt I need to import it to the cacerts. When I try to do this I get stuck because I don&#39;t have write permission in the container:\r\n\r\n```\r\nsh-4.4$ cd /etc/pki/ca-trust/extracted/java; ls -ll \r\ntotal 0\r\nlrwxrwxrwx. 1 root 1000970000 14 Jul  4 12:45 cacerts -&gt; ..data/cacerts\r\nlrwxrwxrwx. 1 root 1000970000 21 Jul  4 12:45 service-ca.crt -&gt; ..data/service-ca.crt\r\n\r\nsh-4.4$ keytool -import -noprompt -file service-ca.crt -alias service-x-ca -keystore cacerts -storepass changeit\r\nWarning: use -cacerts option to access cacerts keystore\r\nCertificate was added to keystore\r\nkeytool error: java.io.FileNotFoundException: cacerts (Read-only file system)\r\n```\r\n\r\nIf this succeeds, the next step will be to try to set the service-ca through a command in initContainers and set the truststore via the env var JAVA_OPTIONS.\r\n\r\n# Questions\r\n- How can I update cacerts and inject my service-ca.crt in the container? \r\n- Is it that I don&#39;t have write permissions because of rootless containers/RedHat UBI? If yes, is there a kind of a workaround without the need for another base image? I saw in another [stackoverflow thread](https://stackoverflow.com/questions/36224793/how-add-a-certificate-to-the-java-ca-certificate-store-in-openshift-cacerts) from a couple of years ago some suggestions, but not really a solution","title":"OpenShift add service-ca.crt to cacerts in container","body":"<h1>Background</h1>\n<p>I'm building two Springboot applications with Java which I'm deploying on OpenShift in the same namespace using RedHat Universal Base Images. The applications communicate with each other through the Service URL. One of the applications functions as a server, the other one as a client. For the server I enabled TLS.</p>\n<p>I'm using <a href=\"https://docs.openshift.com/container-platform/4.8/security/certificates/service-serving-certificate.html\" rel=\"nofollow noreferrer\">OpenShift service serving certificates</a> to generate dynamically the certificates I need:</p>\n<ul>\n<li>secret: tls.key &amp; cert.key (server)</li>\n<li>configMap: service-ca.crt (client)</li>\n</ul>\n<p>I'm able to inject the certificates in the client- and server app through volumes and I'm able to curl from the client to the server container using https:</p>\n<pre><code>curl --cacert /etc/pki/ca-trust/extracted/java/service-ca.crt https://service-url  \n</code></pre>\n<p>In order to let the client Java app use the service-ca.crt I need to import it to the cacerts. When I try to do this I get stuck because I don't have write permission in the container:</p>\n<pre><code>sh-4.4$ cd /etc/pki/ca-trust/extracted/java; ls -ll \ntotal 0\nlrwxrwxrwx. 1 root 1000970000 14 Jul  4 12:45 cacerts -&gt; ..data/cacerts\nlrwxrwxrwx. 1 root 1000970000 21 Jul  4 12:45 service-ca.crt -&gt; ..data/service-ca.crt\n\nsh-4.4$ keytool -import -noprompt -file service-ca.crt -alias service-x-ca -keystore cacerts -storepass changeit\nWarning: use -cacerts option to access cacerts keystore\nCertificate was added to keystore\nkeytool error: java.io.FileNotFoundException: cacerts (Read-only file system)\n</code></pre>\n<p>If this succeeds, the next step will be to try to set the service-ca through a command in initContainers and set the truststore via the env var JAVA_OPTIONS.</p>\n<h1>Questions</h1>\n<ul>\n<li>How can I update cacerts and inject my service-ca.crt in the container?</li>\n<li>Is it that I don't have write permissions because of rootless containers/RedHat UBI? If yes, is there a kind of a workaround without the need for another base image? I saw in another <a href=\"https://stackoverflow.com/questions/36224793/how-add-a-certificate-to-the-java-ca-certificate-store-in-openshift-cacerts\">stackoverflow thread</a> from a couple of years ago some suggestions, but not really a solution</li>\n</ul>\n"},{"tags":["java","integration-testing","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1688477693,"post_id":76612108,"comment_id":135077416,"body_markdown":"What you are seeing it standard JUnit behavior","body":"What you are seeing it standard JUnit behavior"},{"owner":{"account_id":12259153,"reputation":11,"user_id":8947387,"display_name":"Mehmet Zorlu"},"score":0,"creation_date":1688478847,"post_id":76612108,"comment_id":135077713,"body_markdown":"Thank you for your reply @geoand, is there a better way of handling this situation? We do not like removing the inheritance but also could not find any other solutions.","body":"Thank you for your reply @geoand, is there a better way of handling this situation? We do not like removing the inheritance but also could not find any other solutions."}],"answers":[{"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688486421,"creation_date":1688486421,"answer_id":76614299,"question_id":76612108,"body_markdown":"I&#39;ve had similar issues, and there are a few things you could try. \r\n\r\n## Avoid inheritance between tests\r\n\r\nInheritance is great and eliminates code duplication, and it&#39;s usually my first instinct too. I know at least some of the Quarkus quickstarts use inheritance between the `*IT` and `*Test`. However, some people also say it&#39;s [an anti-pattern in tests](https://www.petrikainulainen.net/programming/unit-testing/3-reasons-why-we-should-not-use-inheritance-in-our-tests/).\r\n \r\nThe reasons usually given are that:\r\n - The true goal of inheritance is polymorphism, not code re-use\r\n - Executing all the `@Before` and `@After` methods in a test hierarchy has a performance cost (and, as you&#39;ve seen, can also lead to undesirable behaviour)\r\n- Having some behaviour in a superclass and some in a subclass can make code harder to read \r\n\r\nSo what do you do instead of inheritance? \r\n\r\n### JUnit Extension \r\n\r\n[One option](https://medium.com/decisionbrain/factor-test-code-the-junit-5-way-that-is-without-inheritance-9ba2784d34) is to write a JUnit extension, but that seems way too much like hard work. It would maybe be appropriate if you needed to repeat lots of assertions, but it&#39;s overkill for many use cases.\r\n\r\n### Utility class \r\n\r\nA much simpler technique is to just extract your common code into a utility class. This can work, but it doesn&#39;t necessarily help readability, you need to remember to invoke the required method on the utility class, and it&#39;s not really taking advantage of what Quarkus offers you. \r\n\r\n### Use `QuarkusTestResourceLifecycleManager`\r\n\r\nQuarkus allows you to define [`QuarkusTestResourceLifecycleManager`](https://quarkus.io/guides/getting-started-testing#quarkus-test-resource) which can be used to start and stop shared services. That might also be useful for the shared filesystem work. \r\n\r\n## Use conditions to only run &#39;destructive&#39; code once\r\n\r\nAlternatively, you could take advantage of conditional execution to disable some tests/part of the test classes, and ensure the problematic code only ran once, even with inheritance.\r\n\r\n### Use a `QuarkusTestProfile` as a guard\r\n\r\nQuarkus has [an ability](https://quarkus.io/guides/getting-started-testing#writing-a-profile) to define profiles that customise what config and resources tests see. You could define one profile for the subclass, and one profile for the superclass, and then use tags plus command-line arguments to [enable and disable tests](https://quarkus.io/guides/getting-started-testing#running-specific-tests). \r\n\r\nFor example, you could define a profile as \r\n\r\n```\r\npublic class MostOfTheTime implements QuarkusTestProfile {\r\n        @Override\r\n        public Set&lt;String&gt; tags() {\r\n            return Collections.singleton(&quot;favouritetest&quot;);\r\n        }\r\n    }\r\n```    \r\n\r\n```\r\n@QuarkusTest\r\n@TestProfile(MostOfTheTime.class)\r\npublic class MostOfTheTimeTest {\r\n\r\n    @Test\r\n    public void test() {\r\n        // test something\r\n    }\r\n}\r\n```\r\n\r\nwould run most of the time, but if you ran with a environment variable or system property, such as `quarkus.test.profile.tags=nope`, the test would be disabled. The caution is I don&#39;t know for sure how this would interact with inheritance and your class hierarchy, so you might end up disabling both tests, rather than just the target one.\r\n","title":"Quarkus Integration Tests Run Multiple Times Due To Inheritance","body":"<p>I've had similar issues, and there are a few things you could try.</p>\n<h2>Avoid inheritance between tests</h2>\n<p>Inheritance is great and eliminates code duplication, and it's usually my first instinct too. I know at least some of the Quarkus quickstarts use inheritance between the <code>*IT</code> and <code>*Test</code>. However, some people also say it's <a href=\"https://www.petrikainulainen.net/programming/unit-testing/3-reasons-why-we-should-not-use-inheritance-in-our-tests/\" rel=\"nofollow noreferrer\">an anti-pattern in tests</a>.</p>\n<p>The reasons usually given are that:</p>\n<ul>\n<li>The true goal of inheritance is polymorphism, not code re-use</li>\n<li>Executing all the <code>@Before</code> and <code>@After</code> methods in a test hierarchy has a performance cost (and, as you've seen, can also lead to undesirable behaviour)</li>\n<li>Having some behaviour in a superclass and some in a subclass can make code harder to read</li>\n</ul>\n<p>So what do you do instead of inheritance?</p>\n<h3>JUnit Extension</h3>\n<p><a href=\"https://medium.com/decisionbrain/factor-test-code-the-junit-5-way-that-is-without-inheritance-9ba2784d34\" rel=\"nofollow noreferrer\">One option</a> is to write a JUnit extension, but that seems way too much like hard work. It would maybe be appropriate if you needed to repeat lots of assertions, but it's overkill for many use cases.</p>\n<h3>Utility class</h3>\n<p>A much simpler technique is to just extract your common code into a utility class. This can work, but it doesn't necessarily help readability, you need to remember to invoke the required method on the utility class, and it's not really taking advantage of what Quarkus offers you.</p>\n<h3>Use <code>QuarkusTestResourceLifecycleManager</code></h3>\n<p>Quarkus allows you to define <a href=\"https://quarkus.io/guides/getting-started-testing#quarkus-test-resource\" rel=\"nofollow noreferrer\"><code>QuarkusTestResourceLifecycleManager</code></a> which can be used to start and stop shared services. That might also be useful for the shared filesystem work.</p>\n<h2>Use conditions to only run 'destructive' code once</h2>\n<p>Alternatively, you could take advantage of conditional execution to disable some tests/part of the test classes, and ensure the problematic code only ran once, even with inheritance.</p>\n<h3>Use a <code>QuarkusTestProfile</code> as a guard</h3>\n<p>Quarkus has <a href=\"https://quarkus.io/guides/getting-started-testing#writing-a-profile\" rel=\"nofollow noreferrer\">an ability</a> to define profiles that customise what config and resources tests see. You could define one profile for the subclass, and one profile for the superclass, and then use tags plus command-line arguments to <a href=\"https://quarkus.io/guides/getting-started-testing#running-specific-tests\" rel=\"nofollow noreferrer\">enable and disable tests</a>.</p>\n<p>For example, you could define a profile as</p>\n<pre><code>public class MostOfTheTime implements QuarkusTestProfile {\n        @Override\n        public Set&lt;String&gt; tags() {\n            return Collections.singleton(&quot;favouritetest&quot;);\n        }\n    }\n</code></pre>\n<pre><code>@QuarkusTest\n@TestProfile(MostOfTheTime.class)\npublic class MostOfTheTimeTest {\n\n    @Test\n    public void test() {\n        // test something\n    }\n}\n</code></pre>\n<p>would run most of the time, but if you ran with a environment variable or system property, such as <code>quarkus.test.profile.tags=nope</code>, the test would be disabled. The caution is I don't know for sure how this would interact with inheritance and your class hierarchy, so you might end up disabling both tests, rather than just the target one.</p>\n"}],"owner":{"account_id":12259153,"reputation":11,"user_id":8947387,"display_name":"Mehmet Zorlu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688486421,"creation_date":1688469795,"question_id":76612108,"body_markdown":"We have a project that has two integration classes, Test.java and IT.java. Test.java has the annotation @QuarkusMainTest, IT.java has the annotation @QuarkusMainIntegrationTest above the class declarations and IT.java extends Test.java class. \r\n\r\nWe have implemented a new feature where the program checks if a file to be generated already exists in the target folder and acts accordingly. We have written some integration tests where files are generated, the feature is used to check their existence and at the end of the integration tests all files and folders get wiped out. \r\n\r\nThe problem we have encountered is that when the integration tests run, all tests in Test.java pass followed by some tests failing in IT.java. This is because IT.java somehow first runs the parent Test.java tests again and then runs its own tests before wiping, causing unwanted files to be generated and giving wrong results. \r\n\r\nThe current solution we have is removing the inheritance between the two classes and copy all the tests from Test.java to IT.java. By doing this we do not have the problem anymore but now every integration test needs to be duplicated in the classes.\r\n\r\nAre there any alternative solutions to this?\r\n\r\n(We tried following this guidelines from the original documentation: https://quarkus.io/guides/getting-started-testing#quarkus-integration-test)","title":"Quarkus Integration Tests Run Multiple Times Due To Inheritance","body":"<p>We have a project that has two integration classes, Test.java and IT.java. Test.java has the annotation @QuarkusMainTest, IT.java has the annotation @QuarkusMainIntegrationTest above the class declarations and IT.java extends Test.java class.</p>\n<p>We have implemented a new feature where the program checks if a file to be generated already exists in the target folder and acts accordingly. We have written some integration tests where files are generated, the feature is used to check their existence and at the end of the integration tests all files and folders get wiped out.</p>\n<p>The problem we have encountered is that when the integration tests run, all tests in Test.java pass followed by some tests failing in IT.java. This is because IT.java somehow first runs the parent Test.java tests again and then runs its own tests before wiping, causing unwanted files to be generated and giving wrong results.</p>\n<p>The current solution we have is removing the inheritance between the two classes and copy all the tests from Test.java to IT.java. By doing this we do not have the problem anymore but now every integration test needs to be duplicated in the classes.</p>\n<p>Are there any alternative solutions to this?</p>\n<p>(We tried following this guidelines from the original documentation: <a href=\"https://quarkus.io/guides/getting-started-testing#quarkus-integration-test\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/getting-started-testing#quarkus-integration-test</a>)</p>\n"},{"tags":["java","project","bluej"],"comments":[{"owner":{"account_id":3986034,"reputation":4137,"user_id":3286569,"accept_rate":94,"display_name":"JDurstberger"},"score":0,"creation_date":1448473203,"post_id":33922982,"comment_id":55607030,"body_markdown":"I am not familiar with BlueJ but there should be an output-folder which contains the compiled java file. You could decompile it","body":"I am not familiar with BlueJ but there should be an output-folder which contains the compiled java file. You could decompile it"}],"answers":[{"tags":[],"owner":{"account_id":1492534,"reputation":4433,"user_id":6999690,"display_name":"Ruslan L&#243;pez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448477552,"creation_date":1448477248,"answer_id":33924242,"question_id":33922982,"body_markdown":"As you can see in their [manual][1] at page 42 the `#backup` file is always saved in the same directory so your `#backup` file should be gone.\r\n\r\nIf you versioned it with svn or alike in the `Team` menu you can get `Project History`.\r\n\r\nOtherwise.... you can use some [file recovery programs][2].\r\n\r\nThe most popular can search for source codes in many languages.\r\nThe advantage of this approach is that you will recover comments meanwhile you won&#39;t by decompiling.\r\n\r\n  [1]: http://www.bluej.org/doc/bluej-ref-manual.pdf\r\n  [2]: http://pcsupport.about.com/od/filerecovery/tp/free-file-recovery-programs.htm","title":"My BlueJ source code got deleted","body":"<p>As you can see in their <a href=\"http://www.bluej.org/doc/bluej-ref-manual.pdf\" rel=\"nofollow\">manual</a> at page 42 the <code>#backup</code> file is always saved in the same directory so your <code>#backup</code> file should be gone.</p>\n\n<p>If you versioned it with svn or alike in the <code>Team</code> menu you can get <code>Project History</code>.</p>\n\n<p>Otherwise.... you can use some <a href=\"http://pcsupport.about.com/od/filerecovery/tp/free-file-recovery-programs.htm\" rel=\"nofollow\">file recovery programs</a>.</p>\n\n<p>The most popular can search for source codes in many languages.\nThe advantage of this approach is that you will recover comments meanwhile you won't by decompiling.</p>\n"},{"tags":[],"owner":{"account_id":2399674,"reputation":2691,"user_id":2097675,"display_name":"JJF"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448479791,"creation_date":1448477379,"answer_id":33924277,"question_id":33922982,"body_markdown":"If your source code is truly gone (non-recoverable) you can try to use a de-compiler against the .class file.  Jad and FernFlower are two that I&#39;ve used and work pretty well.\r\n\r\nhttps://github.com/fesh0r/fernflower\r\n\r\n\r\nhttp://www.javadecompilers.com/jad\r\n","title":"My BlueJ source code got deleted","body":"<p>If your source code is truly gone (non-recoverable) you can try to use a de-compiler against the .class file.  Jad and FernFlower are two that I've used and work pretty well.</p>\n\n<p><a href=\"https://github.com/fesh0r/fernflower\" rel=\"nofollow\">https://github.com/fesh0r/fernflower</a></p>\n\n<p><a href=\"http://www.javadecompilers.com/jad\" rel=\"nofollow\">http://www.javadecompilers.com/jad</a></p>\n"},{"tags":[],"owner":{"account_id":28949925,"reputation":1,"user_id":22174761,"display_name":"areeb ahmad"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688486341,"creation_date":1688486341,"answer_id":76614287,"question_id":33922982,"body_markdown":"to find a file you need the program&#39;s interface to open the folderis was deleted from or go to the folder content aware analysis and select the file you have been looking for and click rec","title":"My BlueJ source code got deleted","body":"<p>to find a file you need the program's interface to open the folderis was deleted from or go to the folder content aware analysis and select the file you have been looking for and click rec</p>\n"}],"owner":{"account_id":7362519,"reputation":21,"user_id":5605339,"display_name":"Samarth Hari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5421,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1688486341,"creation_date":1448472848,"question_id":33922982,"body_markdown":"I was doing my school project today when suddenly my java BlueJ crashed and both my current file and my backup file got deleted.   \r\n\r\nOne of my most important classes(SignIn.java) got deleted(only the source code).   \r\n\r\nWhile executing, it still works as it is linked but i can&#39;t find the source code to make changes or print it. There is a file with #BACKUP which might help me.   \r\n\r\nIs there anyway i can retrieve it? I spent almost 6 hours on this class and it took a lot of work. ","title":"My BlueJ source code got deleted","body":"<p>I was doing my school project today when suddenly my java BlueJ crashed and both my current file and my backup file got deleted.   </p>\n\n<p>One of my most important classes(SignIn.java) got deleted(only the source code).   </p>\n\n<p>While executing, it still works as it is linked but i can't find the source code to make changes or print it. There is a file with #BACKUP which might help me.   </p>\n\n<p>Is there anyway i can retrieve it? I spent almost 6 hours on this class and it took a lot of work. </p>\n"},{"tags":["java","gradle"],"owner":{"account_id":28949679,"reputation":1,"user_id":22174564,"display_name":"Thea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688486308,"creation_date":1688486169,"question_id":76614272,"body_markdown":"I need some help with a Multiproject with Gradle.\r\nThis is the structure of my project.\r\n\r\nPRoot\r\n\r\n│ \r\n\r\n├── P2\r\n\r\n│   ...\r\n\r\n│   └── build.gradle\r\n\r\n├── P1\r\n\r\n│   ...\r\n\r\n│   └── build.gradle\r\n\r\n│ \r\n\r\n├── build.gradle\r\n\r\n└── settings.gradle\r\n\r\n\r\nEverything works fine\r\n\r\nNow i need a second way to build my project. I created 2 new Files:\r\n\r\nPRoot\r\n\r\n│ \r\n\r\n├── P2\r\n\r\n│   ...\r\n\r\n│   └── build.gradle\r\n\r\n├── P1\r\n\r\n│   ...\r\n\r\n│   └── build.gradle\r\n\r\n│ \r\n\r\n├── build.gradle\r\n\r\n├── settings.gradle\r\n\r\n├── build2.gradle\r\n\r\n└── settings2.gradle\r\n\r\n\r\n\r\nThen started Gradle with\r\n\r\nbuild --build-file=build_dev.gradle --settings-file=settings_dev.gradle\r\n\r\nbut that doesn&#39;t work, even without changing anything in the two files\r\n\r\nHow is the best way to do something like this?","title":"Gradle: How to define a second way to build a multiproject","body":"<p>I need some help with a Multiproject with Gradle.\nThis is the structure of my project.</p>\n<p>PRoot</p>\n<p>│</p>\n<p>├── P2</p>\n<p>│   ...</p>\n<p>│   └── build.gradle</p>\n<p>├── P1</p>\n<p>│   ...</p>\n<p>│   └── build.gradle</p>\n<p>│</p>\n<p>├── build.gradle</p>\n<p>└── settings.gradle</p>\n<p>Everything works fine</p>\n<p>Now i need a second way to build my project. I created 2 new Files:</p>\n<p>PRoot</p>\n<p>│</p>\n<p>├── P2</p>\n<p>│   ...</p>\n<p>│   └── build.gradle</p>\n<p>├── P1</p>\n<p>│   ...</p>\n<p>│   └── build.gradle</p>\n<p>│</p>\n<p>├── build.gradle</p>\n<p>├── settings.gradle</p>\n<p>├── build2.gradle</p>\n<p>└── settings2.gradle</p>\n<p>Then started Gradle with</p>\n<p>build --build-file=build_dev.gradle --settings-file=settings_dev.gradle</p>\n<p>but that doesn't work, even without changing anything in the two files</p>\n<p>How is the best way to do something like this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15241211,"reputation":379,"user_id":10997438,"display_name":"CrystalSpider"},"score":0,"creation_date":1683462014,"post_id":76193827,"comment_id":134367443,"body_markdown":"Can you show your `LambdaClass`?","body":"Can you show your <code>LambdaClass</code>?"},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1683462145,"post_id":76193827,"comment_id":134367459,"body_markdown":"CrystalSpider, I have edited my post.","body":"CrystalSpider, I have edited my post."},{"owner":{"account_id":2734060,"reputation":263872,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1683462682,"post_id":76193827,"comment_id":134367539,"body_markdown":"`lambdaAux` is an instance method. It needs an instance. Did you want a static method?","body":"<code>lambdaAux</code> is an instance method. It needs an instance. Did you want a static method?"},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1683462981,"post_id":76193827,"comment_id":134367575,"body_markdown":"user2357112, to the best of my ability I can see that  compareToIgnoreCase is also an isntance method. This is the essence of the question.","body":"user2357112, to the best of my ability I can see that  compareToIgnoreCase is also an isntance method. This is the essence of the question."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1683463118,"post_id":76193827,"comment_id":134367601,"body_markdown":"The `String::compareToIgnoreCase` in `Arrays.sort(words, String::compareToIgnoreCase);` represents `Comparator&lt;String&gt;`. Since Comparator expects implementation of `public int compare(String o1, String o2)` equivalent lambda could look like `(o1, o2) -&gt; o1.compareToIgnoreCase(o2)` so as you see that method has *instance* on which it will be invoked (first parameter) and that is what `String::compareToIgnoreCase` would use to call `compareToIgnoreCase` method. But now try to write lambda for `FunctionalMethodAux::lambdaAux`.","body":"The <code>String::compareToIgnoreCase</code> in <code>Arrays.sort(words, String::compareToIgnoreCase);</code> represents <code>Comparator&lt;String&gt;</code>. Since Comparator expects implementation of <code>public int compare(String o1, String o2)</code> equivalent lambda could look like <code>(o1, o2) -&gt; o1.compareToIgnoreCase(o2)</code> so as you see that method has <i>instance</i> on which it will be invoked (first parameter) and that is what <code>String::compareToIgnoreCase</code> would use to call <code>compareToIgnoreCase</code> method. But now try to write lambda for <code>FunctionalMethodAux::lambdaAux</code>."},{"owner":{"account_id":15241211,"reputation":379,"user_id":10997438,"display_name":"CrystalSpider"},"score":0,"creation_date":1683463266,"post_id":76193827,"comment_id":134367618,"body_markdown":"Yep, I was about to write an answer with the same content as @Pshemo &#39;s comment.","body":"Yep, I was about to write an answer with the same content as @Pshemo &#39;s comment."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1683463341,"post_id":76193827,"comment_id":134367628,"body_markdown":"@CrystalSpider Feel free to do so. My comment is there to show direction, it doesn&#39;t contain all info which proper answer should have :)","body":"@CrystalSpider Feel free to do so. My comment is there to show direction, it doesn&#39;t contain all info which proper answer should have :)"}],"answers":[{"tags":[],"owner":{"account_id":28536356,"reputation":78,"user_id":21843026,"display_name":"sakurai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683469323,"creation_date":1683469157,"answer_id":76194489,"question_id":76193827,"body_markdown":"There is a confusion with syntax because [there are multiple types of method references in Java][1]:\r\n1. reference to static methods\r\n2. reference to instance methods of a particular object\r\n3. reference to instance methods of an arbitrary object of a particular type\r\n\r\nThey may look similar but have different meaning.\r\n\r\nThey have difference syntax and usage. The code with `String::compareToIgnoreCase` is an example of case #3. \r\nHere `a.compareToIgnoreCase(b)` could be triggered on 2 arbitrary String objects `a` and `b`. \r\nThe `Arrays.sort` accepts `Comparator&lt;? super T&gt; c` and `Comparator` is a functional interface with method which has signature `int compare(T o1, T o2)`. Since both arguments have the same `String` type and return value is `int`, it becomes possible to refer to the method with double-colon syntax.\r\n\r\nIf you have to achieve the same with your custom method `lambdaAux`.\r\nAs it is not static, option #1 is thrown out.\r\nOption #3 is not possible because it assumes that the method is an &quot;instance method of an arbitrary object of a particular type&quot;. In your case, `lambdaAux` is an instance method of `FunctionalMethodAux` but your `consumerUsage` method expects such method to be in `String` class, hence compile error. \r\n\r\nSo if you need to use method reference, you can only go with option #2 as you have already mentioned.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"Make functional method work without instance of a class","body":"<p>There is a confusion with syntax because <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">there are multiple types of method references in Java</a>:</p>\n<ol>\n<li>reference to static methods</li>\n<li>reference to instance methods of a particular object</li>\n<li>reference to instance methods of an arbitrary object of a particular type</li>\n</ol>\n<p>They may look similar but have different meaning.</p>\n<p>They have difference syntax and usage. The code with <code>String::compareToIgnoreCase</code> is an example of case #3.\nHere <code>a.compareToIgnoreCase(b)</code> could be triggered on 2 arbitrary String objects <code>a</code> and <code>b</code>.\nThe <code>Arrays.sort</code> accepts <code>Comparator&lt;? super T&gt; c</code> and <code>Comparator</code> is a functional interface with method which has signature <code>int compare(T o1, T o2)</code>. Since both arguments have the same <code>String</code> type and return value is <code>int</code>, it becomes possible to refer to the method with double-colon syntax.</p>\n<p>If you have to achieve the same with your custom method <code>lambdaAux</code>.\nAs it is not static, option #1 is thrown out.\nOption #3 is not possible because it assumes that the method is an &quot;instance method of an arbitrary object of a particular type&quot;. In your case, <code>lambdaAux</code> is an instance method of <code>FunctionalMethodAux</code> but your <code>consumerUsage</code> method expects such method to be in <code>String</code> class, hence compile error.</p>\n<p>So if you need to use method reference, you can only go with option #2 as you have already mentioned.</p>\n"}],"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76194489,"answer_count":1,"score":0,"last_activity_date":1688485350,"creation_date":1683461272,"question_id":76193827,"body_markdown":"**This code doesn&#39;t work:**\r\n\r\n    @FunctionalInterface\r\n    public interface MyConsumer&lt;S&gt; {\r\n        void accept(S val);\r\n    \r\n        boolean equals(Object obj);\r\n    \r\n    }\r\n\r\n    public class LambdaClass {\r\n    \r\n        public void consumerUsage(String f, MyConsumer&lt;String&gt; printer){\r\n            printer.accept(f);\r\n        }\r\n    }\r\n\r\n\r\n    public class FunctionalMethodAux {\r\n        static List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n        public void lambdaAux (String s){\r\n            if (s.length() &lt; 3) {\r\n                System.out.println(s);\r\n            } else {\r\n                System.out.println(s.substring(0, 3));\r\n            }\r\n    \r\n            stringList.add(s);\r\n        }\r\n    \r\n        public void fmTest(){\r\n            LambdaClass l = new LambdaClass();\r\n            String[] words = {&quot;trololo&quot;, &quot;foo&quot;, &quot;bar&quot;};\r\n            for(String src : words){\r\n                l.consumerUsage(src, FunctionalMethodAux::lambdaAux); // Problematic line.\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**This code works:**\r\n\r\n        String[] words = {&quot;trololo&quot;, &quot;foo&quot;, &quot;bar&quot;};\r\n        Arrays.sort(words, String::compareToIgnoreCase);\r\n\r\n\r\n**Question:**\r\nIf I change like this: \r\n\r\n        l.consumerUsage(src, new FunctionalMethodAux()::lambdaAux)\r\n\r\neverything works.\r\n\r\nWhy does `String::compareToIgnoreCase` work without new? How can I rewrite my own method for it to work without new?\r\n\r\n(NB: `compareToIgnoreCase` is not a static method).\r\n\r\n  [1]: https://i.stack.imgur.com/R9vfx.png\r\n","title":"Make functional method work without instance of a class","body":"<p><strong>This code doesn't work:</strong></p>\n<pre><code>@FunctionalInterface\npublic interface MyConsumer&lt;S&gt; {\n    void accept(S val);\n\n    boolean equals(Object obj);\n\n}\n\npublic class LambdaClass {\n\n    public void consumerUsage(String f, MyConsumer&lt;String&gt; printer){\n        printer.accept(f);\n    }\n}\n\n\npublic class FunctionalMethodAux {\n    static List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\n    public void lambdaAux (String s){\n        if (s.length() &lt; 3) {\n            System.out.println(s);\n        } else {\n            System.out.println(s.substring(0, 3));\n        }\n\n        stringList.add(s);\n    }\n\n    public void fmTest(){\n        LambdaClass l = new LambdaClass();\n        String[] words = {&quot;trololo&quot;, &quot;foo&quot;, &quot;bar&quot;};\n        for(String src : words){\n            l.consumerUsage(src, FunctionalMethodAux::lambdaAux); // Problematic line.\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/R9vfx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R9vfx.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>This code works:</strong></p>\n<pre><code>    String[] words = {&quot;trololo&quot;, &quot;foo&quot;, &quot;bar&quot;};\n    Arrays.sort(words, String::compareToIgnoreCase);\n</code></pre>\n<p><strong>Question:</strong>\nIf I change like this:</p>\n<pre><code>    l.consumerUsage(src, new FunctionalMethodAux()::lambdaAux)\n</code></pre>\n<p>everything works.</p>\n<p>Why does <code>String::compareToIgnoreCase</code> work without new? How can I rewrite my own method for it to work without new?</p>\n<p>(NB: <code>compareToIgnoreCase</code> is not a static method).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1684656403,"post_id":76298593,"comment_id":134546472,"body_markdown":"Keep in mind that streaming from a `Queue` does not remove the elements from said `Queue`. Also, if the actual implementation is, e.g., `PriorityQueue`, which uses a min/max heap, then the encounter order of the elements while streaming is not guaranteed to be the order you&#39;d get by repeatedly polling/removing from the `PriorityQueue`.","body":"Keep in mind that streaming from a <code>Queue</code> does not remove the elements from said <code>Queue</code>. Also, if the actual implementation is, e.g., <code>PriorityQueue</code>, which uses a min/max heap, then the encounter order of the elements while streaming is not guaranteed to be the order you&#39;d get by repeatedly polling/removing from the <code>PriorityQueue</code>."}],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684653147,"creation_date":1684653147,"answer_id":76298710,"question_id":76298593,"body_markdown":"There are 2 things wrong here:\r\n\r\n1. First of all you have to use `flatMap` and not `map` otherwise you are just sorting Collections and not the actual elements of the collection. More info [here][1]\r\n\r\n2. Regarding why the breakpoint is not stopping there, java streams require terminal operations to be evaluated - `sorted` is NOT a terminal operation, so simply adding a terminal operation at the end, such as `toList()` or `.forEach(System.out::println)`, should do the trick.\r\n\r\n[More info][2] on terminal operations in java\r\n\r\nCorrected version would then be:\r\n\r\n```\r\ntaskQueues.stream()\r\n        .filter(aDeque -&gt; !aDeque.isEmpty())\r\n        .flatMap(decks -&gt; decks.stream()) // Breakpoint. Evaluate.\r\n        .sorted((a, b) -&gt; {\r\n            return 1;\r\n        })\r\n        .forEach(System.out::println);\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-difference-map-and-flatmap\r\n  [2]: https://www.baeldung.com/java-8-streams#pipeline","title":"Stop inside lambda","body":"<p>There are 2 things wrong here:</p>\n<ol>\n<li><p>First of all you have to use <code>flatMap</code> and not <code>map</code> otherwise you are just sorting Collections and not the actual elements of the collection. More info <a href=\"https://www.baeldung.com/java-difference-map-and-flatmap\" rel=\"nofollow noreferrer\">here</a></p>\n</li>\n<li><p>Regarding why the breakpoint is not stopping there, java streams require terminal operations to be evaluated - <code>sorted</code> is NOT a terminal operation, so simply adding a terminal operation at the end, such as <code>toList()</code> or <code>.forEach(System.out::println)</code>, should do the trick.</p>\n</li>\n</ol>\n<p><a href=\"https://www.baeldung.com/java-8-streams#pipeline\" rel=\"nofollow noreferrer\">More info</a> on terminal operations in java</p>\n<p>Corrected version would then be:</p>\n<pre><code>taskQueues.stream()\n        .filter(aDeque -&gt; !aDeque.isEmpty())\n        .flatMap(decks -&gt; decks.stream()) // Breakpoint. Evaluate.\n        .sorted((a, b) -&gt; {\n            return 1;\n        })\n        .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688485257,"creation_date":1684650746,"question_id":76298593,"body_markdown":"Here is my code:\r\n\r\n    taskQueues.stream().\r\n            filter(aDeque -&gt; !aDeque.isEmpty()).\r\n            map(decks -&gt; decks.stream()). // Breakpoint. Evaluate.\r\n            sorted((a, b) -&gt; {\r\n                return 1;\r\n            });\r\n\r\nI have marked where breakpoint is put. The image depicts that the stream is not empty. Therefore, I expected that I&#39;ll be able to compare something. But I have failed.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe problem is that I&#39;ll be able to understand how to sort only when I stop inside that lambda and have a look at the two objects at hand.\r\n\r\nI would like to:\r\n\r\n1) Understand the reason why the debugger doesn&#39;t stop at line 42.\r\n2) Understand how to make the debugger stop there.\r\n\r\n  [1]: https://i.stack.imgur.com/vaArJ.png","title":"Stop inside lambda","body":"<p>Here is my code:</p>\n<pre><code>taskQueues.stream().\n        filter(aDeque -&gt; !aDeque.isEmpty()).\n        map(decks -&gt; decks.stream()). // Breakpoint. Evaluate.\n        sorted((a, b) -&gt; {\n            return 1;\n        });\n</code></pre>\n<p>I have marked where breakpoint is put. The image depicts that the stream is not empty. Therefore, I expected that I'll be able to compare something. But I have failed.</p>\n<p><a href=\"https://i.stack.imgur.com/vaArJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vaArJ.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem is that I'll be able to understand how to sort only when I stop inside that lambda and have a look at the two objects at hand.</p>\n<p>I would like to:</p>\n<ol>\n<li>Understand the reason why the debugger doesn't stop at line 42.</li>\n<li>Understand how to make the debugger stop there.</li>\n</ol>\n"},{"tags":["java","e-commerce","psd2"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648726351,"post_id":71691607,"comment_id":126700612,"body_markdown":"Does this answer your question? [OpenSSL: unable to verify the first certificate for Experian URL](https://stackoverflow.com/questions/7587851/openssl-unable-to-verify-the-first-certificate-for-experian-url)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/7587851/openssl-unable-to-verify-the-first-certificate-for-experian-url\">OpenSSL: unable to verify the first certificate for Experian URL</a>"},{"owner":{"account_id":16096805,"reputation":41,"user_id":11618754,"display_name":"Николай Деменков"},"score":0,"creation_date":1648726659,"post_id":71691607,"comment_id":126700726,"body_markdown":"Thanks for answer, but I think no. It&#39;s some specific with eIDAS certificates","body":"Thanks for answer, but I think no. It&#39;s some specific with eIDAS certificates"},{"owner":{"account_id":400240,"reputation":1392,"user_id":766118,"accept_rate":56,"display_name":"Fedor"},"score":0,"creation_date":1648728870,"post_id":71691607,"comment_id":126701557,"body_markdown":"I think this is not so simple. you need to get to each national authority (for example http://www.nmhh.hu/tl/pub/HU_TL.xml) then need to choose right root certificates (because not all are used for QWAC) and add those (probably full chains). also remember that if you want to really validate QWAC for PSD2 you need to check its properties + revocation lists + passporting rights.","body":"I think this is not so simple. you need to get to each national authority (for example <a href=\"http://www.nmhh.hu/tl/pub/HU_TL.xml\" rel=\"nofollow noreferrer\">nmhh.hu/tl/pub/HU_TL.xml</a>) then need to choose right root certificates (because not all are used for QWAC) and add those (probably full chains). also remember that if you want to really validate QWAC for PSD2 you need to check its properties + revocation lists + passporting rights."},{"owner":{"account_id":16096805,"reputation":41,"user_id":11618754,"display_name":"Николай Деменков"},"score":0,"creation_date":1648729502,"post_id":71691607,"comment_id":126701816,"body_markdown":"yes, i get root certificate for each country, from tag &lt;tsl:X509Certificate&gt; or what you means?","body":"yes, i get root certificate for each country, from tag &lt;tsl:X509Certificate&gt; or what you means?"},{"owner":{"account_id":1036364,"reputation":4653,"user_id":1236250,"display_name":"Rune Vikestad"},"score":0,"creation_date":1653292491,"post_id":71691607,"comment_id":127806705,"body_markdown":"I suspect you&#39;re still missing certificates. It&#39;s been a while, but I seem to remember that some of the LOTL-certificates were signed by authorities that weren&#39;t in my `cacerts`. So to construct a full chain of trust, I also needed to load in certificates from Microsoft Trusted Root Certificate Program. Be warned that it is **_NOT_** enough to only validate the chain of trust though. You also need to check `organizationIdentifier (OID: 2.5.4.97)` and `qcStatements (OID: 1.3.6.1.5.5.7.1.3)` and validate this information against e.g. the Preta directory.","body":"I suspect you&#39;re still missing certificates. It&#39;s been a while, but I seem to remember that some of the LOTL-certificates were signed by authorities that weren&#39;t in my <code>cacerts</code>. So to construct a full chain of trust, I also needed to load in certificates from Microsoft Trusted Root Certificate Program. Be warned that it is <b><i>NOT</i></b> enough to only validate the chain of trust though. You also need to check <code>organizationIdentifier (OID: 2.5.4.97)</code> and <code>qcStatements (OID: 1.3.6.1.5.5.7.1.3)</code> and validate this information against e.g. the Preta directory."}],"answers":[{"tags":[],"owner":{"account_id":400240,"reputation":1392,"user_id":766118,"accept_rate":56,"display_name":"Fedor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688485215,"creation_date":1688485215,"answer_id":76614154,"question_id":71691607,"body_markdown":"This is an old question, but maybe my answer will be relevant for someone.\r\n\r\nI wrote a script extracting CA certificates from the eIDAS Trust List: https://github.com/fed239/eidas-tsp-certificates-extractor\r\n\r\nThe extracted certificates are to be put in a trust store used for verification of client certificates.","title":"Verify eIDAS client certificate(qwac) on server side","body":"<p>This is an old question, but maybe my answer will be relevant for someone.</p>\n<p>I wrote a script extracting CA certificates from the eIDAS Trust List: <a href=\"https://github.com/fed239/eidas-tsp-certificates-extractor\" rel=\"nofollow noreferrer\">https://github.com/fed239/eidas-tsp-certificates-extractor</a></p>\n<p>The extracted certificates are to be put in a trust store used for verification of client certificates.</p>\n"}],"owner":{"account_id":16096805,"reputation":41,"user_id":11618754,"display_name":"Николай Деменков"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":495,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688485215,"creation_date":1648725740,"question_id":71691607,"body_markdown":"I try to create java server which could be verificat client qwac certificate (TLS). I load to trustcacerts certificates from all urls from https://ec.europa.eu/tools/lotl/eu-lotl.xml in tags &lt;X509Certificate&gt;, than via postman try to make request to https to my server (connected pfx of qwac certificate), but get an error: SSL Error: Unable to verify the first certificate.\r\nPlease help, what I make wrong and how to verify client certificate? Thanks!","title":"Verify eIDAS client certificate(qwac) on server side","body":"<p>I try to create java server which could be verificat client qwac certificate (TLS). I load to trustcacerts certificates from all urls from <a href=\"https://ec.europa.eu/tools/lotl/eu-lotl.xml\" rel=\"nofollow noreferrer\">https://ec.europa.eu/tools/lotl/eu-lotl.xml</a> in tags , than via postman try to make request to https to my server (connected pfx of qwac certificate), but get an error: SSL Error: Unable to verify the first certificate.\nPlease help, what I make wrong and how to verify client certificate? Thanks!</p>\n"},{"tags":["javascript","java","video","youtube-api","video.js"],"comments":[{"owner":{"account_id":4613288,"reputation":1784,"user_id":3740708,"display_name":"Noble Mushtak"},"score":0,"creation_date":1440166827,"post_id":32142656,"comment_id":52174825,"body_markdown":"I don&#39;t really know much about the YouTube API and I know this is a Ruby and not a Java solution, but hopefully, [this GitHub repo](https://github.com/joshlarsen/yt-captions) can lead you in the right direction.","body":"I don&#39;t really know much about the YouTube API and I know this is a Ruby and not a Java solution, but hopefully, <a href=\"https://github.com/joshlarsen/yt-captions\" rel=\"nofollow noreferrer\">this GitHub repo</a> can lead you in the right direction."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1687845862,"post_id":32142656,"comment_id":134989626,"body_markdown":"See also https://stackoverflow.com/questions/46864428/how-do-some-sites-download-youtube-captions for an offline option (youtube-dl)","body":"See also <a href=\"https://stackoverflow.com/questions/46864428/how-do-some-sites-download-youtube-captions\" title=\"how do some sites download youtube captions\">stackoverflow.com/questions/46864428/&hellip;</a> for an offline option (youtube-dl)"}],"answers":[{"tags":[],"owner":{"account_id":4372431,"reputation":685,"user_id":3566388,"accept_rate":71,"display_name":"GenuinePlaceholder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1440170572,"creation_date":1440170251,"answer_id":32143942,"question_id":32142656,"body_markdown":"You probably do not need to download it directly from youtube, there are web services you can manipulate.\r\n\r\nFor example you could go to http://keepsubs.com/?url=insert_youtube_url here and download the captions from the site via the link found in this CSS path for english subtitles:\r\n\r\n    #dl &gt; a:nth-child(2)\r\n\r\nYou could do this in javascript using the following method:\r\n\r\n    function myFunction(url_to_download){\r\n        var xmlHttp = new XMLHttpRequest();\r\n        xmlHttp.open( &quot;GET&quot;, &quot;http://keepsubs.com/?url=&quot; + url_to_download, false );\r\n        xmlHttp.send( null );\r\n        var fake_html = document.createElement(&quot;div&quot;);\r\n        fake_html.insertAdjacentHTML(&#39;beforeend&#39;, xmlHttp.responseText);\r\n        var url = fake_html.querySelector(&quot;#dl &gt; a:nth-child(2)&quot;);\r\n\r\n        xmlHttp = new XMLHttpRequest();\r\n        xmlHttp.open( &quot;GET&quot;, url.href, false );\r\n        xmlHttp.send( null );\r\n\r\n        console.log(xmlHttp.responseText);\r\n        return xmlHttp.responseText;\r\n        }\r\n    myFunction(&quot;https://www.youtube.com/watch?v=dQw4w9WgXcQ&quot;);\r\n\r\nBasically, this method visits KeepSubs, finds the text download url, gets the text in the file at the url and outputs it to the console.\r\n\r\nKeep in mind that although this is one way to do it, there are probably better ones that are not so hacky. Also using the KeepSubs service this way is probably not ethical. But this is only for educational purposes.","title":"Get YouTube captions","body":"<p>You probably do not need to download it directly from youtube, there are web services you can manipulate.</p>\n\n<p>For example you could go to <a href=\"http://keepsubs.com/?url=insert_youtube_url\" rel=\"nofollow\">http://keepsubs.com/?url=insert_youtube_url</a> here and download the captions from the site via the link found in this CSS path for english subtitles:</p>\n\n<pre><code>#dl &gt; a:nth-child(2)\n</code></pre>\n\n<p>You could do this in javascript using the following method:</p>\n\n<pre><code>function myFunction(url_to_download){\n    var xmlHttp = new XMLHttpRequest();\n    xmlHttp.open( \"GET\", \"http://keepsubs.com/?url=\" + url_to_download, false );\n    xmlHttp.send( null );\n    var fake_html = document.createElement(\"div\");\n    fake_html.insertAdjacentHTML('beforeend', xmlHttp.responseText);\n    var url = fake_html.querySelector(\"#dl &gt; a:nth-child(2)\");\n\n    xmlHttp = new XMLHttpRequest();\n    xmlHttp.open( \"GET\", url.href, false );\n    xmlHttp.send( null );\n\n    console.log(xmlHttp.responseText);\n    return xmlHttp.responseText;\n    }\nmyFunction(\"https://www.youtube.com/watch?v=dQw4w9WgXcQ\");\n</code></pre>\n\n<p>Basically, this method visits KeepSubs, finds the text download url, gets the text in the file at the url and outputs it to the console.</p>\n\n<p>Keep in mind that although this is one way to do it, there are probably better ones that are not so hacky. Also using the KeepSubs service this way is probably not ethical. But this is only for educational purposes.</p>\n"},{"tags":[],"owner":{"account_id":10903723,"reputation":1622,"user_id":8015248,"display_name":"Sergiu Mare"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1688484896,"creation_date":1516728526,"answer_id":48407571,"question_id":32142656,"body_markdown":"**THIS SOLUTION STOPPED WORKING**\r\n\r\nUPDATES: The URL from Google stopped working. This approach is paused at the moment.\r\n\r\nSolution:\r\nHow I managed to get the captions from a youtube video is by making a simple request to this url https://video.google.com/timedtext?lang={LANG}&amp;v={videoId}\r\n\r\nI have tried to use the Youtube API v3 but at the moment it doesn&#39;t work. When you do a request with the Youtube API v3 on a certain video you need that the person which uploaded the video to approve the caption&#39;s download, if not you&#39;ll have a 403 error in the console. It&#39;s normal to have the error, the server doesn&#39;t receive the approval so it returns an error.\r\n\r\nYou can download the captions from your own video with the Youtube API v3.\r\n\r\nSomething similar to this will do the job. The response will come in an XML format:\r\n\r\n       $.ajax({\r\n            type: &quot;POST&quot;,\r\n            url: &quot;https://video.google.com/timedtext?lang=en&amp;v=5MgBikgcWnY&quot;\r\n        }).done(function (response) {\r\n            console.log(response);\r\n        }).fail(function (response) {\r\n            console.log();\r\n        });\r\n\r\n","title":"Get YouTube captions","body":"<p><strong>THIS SOLUTION STOPPED WORKING</strong></p>\n<p>UPDATES: The URL from Google stopped working. This approach is paused at the moment.</p>\n<p>Solution:\nHow I managed to get the captions from a youtube video is by making a simple request to this url <a href=\"https://video.google.com/timedtext?lang=%7BLANG%7D&amp;v=%7BvideoId%7D\" rel=\"nofollow noreferrer\">https://video.google.com/timedtext?lang={LANG}&amp;v={videoId}</a></p>\n<p>I have tried to use the Youtube API v3 but at the moment it doesn't work. When you do a request with the Youtube API v3 on a certain video you need that the person which uploaded the video to approve the caption's download, if not you'll have a 403 error in the console. It's normal to have the error, the server doesn't receive the approval so it returns an error.</p>\n<p>You can download the captions from your own video with the Youtube API v3.</p>\n<p>Something similar to this will do the job. The response will come in an XML format:</p>\n<pre><code>   $.ajax({\n        type: &quot;POST&quot;,\n        url: &quot;https://video.google.com/timedtext?lang=en&amp;v=5MgBikgcWnY&quot;\n    }).done(function (response) {\n        console.log(response);\n    }).fail(function (response) {\n        console.log();\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1604937934,"creation_date":1571325252,"answer_id":58435817,"question_id":32142656,"body_markdown":"Building on Sergiu Mare&#39;s suggestion, I wrote an encapsulated function that can return the captions in the console.\r\n\r\nThis is written in pure JavaScript (ES6) and you can test it out below, or you can copy everything below and paste it in the console of any video that has captions.\r\n\r\n---\r\n\r\n# Updated version\r\n\r\n## OOP approach\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const main = async () =&gt; {\r\n      const\r\n        defaultId = &#39;fJ9rUzIMcZQ&#39;, /* Queen – Bohemian Rhapsody */\r\n        json = await YouTubeCaptionUtil\r\n          .fetchCaptions(YouTubeCaptionUtil.videoId() || defaultId),\r\n        csv = CsvUtil.fromJson(json);\r\n      console.log(csv);\r\n    };\r\n\r\n    class YouTubeCaptionUtil {\r\n      static async fetchCaptions(videoId, options) {\r\n        const\r\n          opts = { ...YouTubeCaptionUtil.defaultOptions, ...options },\r\n          response = await fetch(YouTubeCaptionUtil.__requestUrl(videoId, opts)),\r\n          json = await response.json();\r\n        return YouTubeCaptionUtil.__parseTranscript(json);\r\n      }\r\n      static videoId() {\r\n        const video_id = window.location.search.split(&#39;v=&#39;)[1];\r\n        if (video_id != null) {\r\n          const ampersandPosition = video_id.indexOf(&#39;&amp;&#39;);\r\n          if (ampersandPosition != -1) {\r\n            return video_id.substring(0, ampersandPosition);\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n      static __requestUrl(videoId, { baseUrl, languageId }) {\r\n        return `${baseUrl}?lang=${languageId}&amp;v=${videoId}&amp;fmt=json3`;\r\n      }\r\n      static __parseTranscript({events}) {\r\n        return events.map(({tStartMs, dDurationMs, segs: [{utf8}]}) =&gt; ({\r\n          start: YouTubeCaptionUtil.__formatTime(tStartMs),\r\n          dur: YouTubeCaptionUtil.__formatTime(dDurationMs),\r\n          text: utf8\r\n        }));\r\n      }\r\n      static __formatTime(seconds) {\r\n        const date = new Date(null);\r\n        date.setSeconds(seconds);\r\n        return date.toISOString().substr(11, 8);\r\n      };\r\n    }\r\n    YouTubeCaptionUtil.defaultOptions = {\r\n      baseUrl: &#39;https://video.google.com/timedtext&#39;,\r\n      languageId: &#39;en&#39;\r\n    };\r\n\r\n    class CsvUtil {\r\n      static fromJson(json, options) {\r\n        const\r\n          opts = { ...CsvUtil.defaultOptions, ...options },\r\n          keys = Object.keys(json[0]).filter(key =&gt;\r\n            opts.ignoreKeys.indexOf(key) === -1),\r\n          lines = [];\r\n        if (opts.includeHeader) lines.push(keys.join(opts.delimiter));\r\n        return lines.concat(json\r\n            .map(entry =&gt; keys.map(key =&gt; entry[key]).join(opts.delimiter)))\r\n            .join(&#39;\\n&#39;);\r\n      }\r\n    }\r\n    CsvUtil.defaultOptions = {\r\n      includeHeader: false,\r\n      ignoreKeys: [&#39;dur&#39;],\r\n      delimiter: &#39;\\t&#39;\r\n    };\r\n\r\n    main();\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .as-console-wrapper { top: 0; max-height: 100% !important; }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n## Functional approach\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const main = async() =&gt; {\r\n      const defaultId = &#39;fJ9rUzIMcZQ&#39;; // Queen – Bohemian Rhapsody (default ID)\r\n      const json = await loadYouTubeSubtitles(getYouTubeVideoId() || defaultId);\r\n      const csv = jsonToCsv(json, {\r\n        includeHeader: false,\r\n        ignoreKeys: [&#39;dur&#39;],\r\n        delimiter: &#39;\\t&#39;,\r\n      });\r\n\r\n      console.log(csv);\r\n    };\r\n\r\n    const parseTranscript = ({ events }) =&gt; {\r\n      return events.map(({ tStartMs, dDurationMs, segs: [{ utf8 }] }) =&gt; ({\r\n        start: formatTime(tStartMs),\r\n        dur: formatTime(dDurationMs),\r\n        text: utf8\r\n      }));\r\n    };\r\n\r\n    const formatTime = (seconds) =&gt; {\r\n      let date = new Date(null);\r\n      date.setSeconds(seconds);\r\n      return date.toISOString().substr(11, 8);\r\n    };\r\n\r\n    const getYouTubeVideoId = () =&gt; {\r\n      var video_id = window.location.search.split(&#39;v=&#39;)[1];\r\n      if (video_id != null) {\r\n        var ampersandPosition = video_id.indexOf(&#39;&amp;&#39;);\r\n        if (ampersandPosition != -1) {\r\n          return video_id.substring(0, ampersandPosition);\r\n        }\r\n      }\r\n      return null;\r\n    };\r\n\r\n    const loadYouTubeSubtitles = async(videoId, options) =&gt; {\r\n      options = Object.assign({\r\n        baseUrl: &#39;https://video.google.com/timedtext&#39;,\r\n        languageId: &#39;en&#39;,\r\n      }, options || {});\r\n\r\n      const requestUrl = `${options.baseUrl}?lang=${options.languageId}&amp;v=${videoId}&amp;fmt=json3`;\r\n      const response = await fetch(requestUrl);\r\n      const json = await response.json();\r\n\r\n      return parseTranscript(json);\r\n    };\r\n\r\n    const jsonToCsv = (json, options) =&gt; {\r\n      options = Object.assign({\r\n        includeHeader: true,\r\n        delimiter: &#39;,&#39;,\r\n        ignoreKeys: []\r\n      }, options || {});\r\n      let keys = Object.keys(json[0]).filter(key =&gt; options.ignoreKeys.indexOf(key) === -1);\r\n      let lines = [];\r\n      if (options.includeHeader) {\r\n        lines.push(keys.join(options.delimiter));\r\n      }\r\n      return lines.concat(json\r\n          .map(entry =&gt; keys.map(key =&gt; entry[key]).join(options.delimiter)))\r\n        .join(&#39;\\n&#39;);\r\n    };\r\n\r\n    main();\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .as-console-wrapper { top: 0; max-height: 100% !important; }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n---\r\n\r\n# Original response\r\n\r\nThis response creates an `XMLHttpRequest`.\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    loadYouTubeSubtitles((getYouTubeVideoId() || &#39;fJ9rUzIMcZQ&#39;), {\r\n      callbackFn : function(json) {\r\n        console.log(jsonToCsv(json, {\r\n          includeHeader : false,\r\n          ignoreKeys : [ &#39;dur&#39; ],\r\n          delimiter : &#39;\\t&#39;,\r\n        }));\r\n      }\r\n    }); // Queen – Bohemian Rhapsody (default ID)\r\n\r\n    function getYouTubeVideoId() {\r\n      var video_id = window.location.search.split(&#39;v=&#39;)[1];\r\n      if (video_id != null) {\r\n        var ampersandPosition = video_id.indexOf(&#39;&amp;&#39;);\r\n        if (ampersandPosition != -1) {\r\n          return video_id.substring(0, ampersandPosition);\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n\r\n    function loadYouTubeSubtitles(videoId, options) {\r\n      options = Object.assign({\r\n        baseUrl : &#39;https://video.google.com/timedtext&#39;,\r\n        languageId : &#39;en&#39;,\r\n        callbackFn : function(json) { console.log(json); } // Default\r\n      }, options || {});\r\n\r\n      // https://stackoverflow.com/a/9609450/1762224\r\n      var decodeHTML = (function() {\r\n        let el = document.createElement(&#39;div&#39;);\r\n        function __decode(str) {\r\n          if (str &amp;&amp; typeof str === &#39;string&#39;) {\r\n            str = str.replace(/&lt;script[^&gt;]*&gt;([\\S\\s]*?)&lt;\\/script&gt;/gmi, &#39;&#39;)\r\n              .replace(/&lt;\\/?\\w(?:[^&quot;&#39;&gt;]|&quot;[^&quot;]*&quot;|&#39;[^&#39;]*&#39;)*&gt;/gmi, &#39;&#39;);\r\n            el.innerHTML = str;\r\n            str = el.textContent;\r\n            el.textContent = &#39;&#39;;\r\n          }\r\n          return str;\r\n        }\r\n        removeElement(el); // Clean-up\r\n        return __decode;\r\n      })();\r\n      \r\n      function removeElement(el) {\r\n        el &amp;&amp; el.parentNode &amp;&amp; el.parentNode.removeChild(el);\r\n      }\r\n\r\n      function parseTranscriptAsJSON(xml) {\r\n        return [].slice.call(xml.querySelectorAll(&#39;transcript text&#39;))\r\n          .map(text =&gt; ({\r\n            start : formatTime(Math.floor(text.getAttribute(&#39;start&#39;))),\r\n            dur : formatTime(Math.floor(text.getAttribute(&#39;dur&#39;))),\r\n            text : decodeHTML(text.textContent).replace(/\\s+/g, &#39; &#39;)\r\n          }));\r\n      }\r\n\r\n      function formatTime(seconds) {\r\n        let date = new Date(null);\r\n        date.setSeconds(seconds);\r\n        return date.toISOString().substr(11, 8);\r\n      }\r\n\r\n      let xhr = new XMLHttpRequest();\r\n      xhr.open(&#39;POST&#39;, `${options.baseUrl}?lang=${options.languageId}&amp;v=${videoId}`, true);\r\n      xhr.responseType = &#39;document&#39;;\r\n      xhr.onload = function() {\r\n        if (this.status &gt;= 200 &amp;&amp; this.status &lt; 400) {\r\n          options.callbackFn(parseTranscriptAsJSON(this.response));\r\n        } else {\r\n          console.log(&#39;Error: &#39; + this.status);\r\n        }\r\n      };\r\n      xhr.onerror = function() {\r\n        console.log(&#39;Error!&#39;);\r\n      };\r\n      xhr.send();\r\n    }\r\n\r\n    function jsonToCsv(json, options) {\r\n      options = Object.assign({\r\n        includeHeader : true,\r\n        delimiter : &#39;,&#39;,\r\n        ignoreKeys : []\r\n      }, options || {});\r\n      let keys = Object.keys(json[0]).filter(key =&gt; options.ignoreKeys.indexOf(key) === -1);\r\n      let lines = [];\r\n      if (options.includeHeader) { lines.push(keys.join(options.delimiter)); }\r\n      return lines.concat(json\r\n        .map(entry =&gt; keys.map(key =&gt; entry[key]).join(options.delimiter)))\r\n        .join(&#39;\\n&#39;);\r\n    }\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .as-console-wrapper { top: 0; max-height: 100% !important; }\r\n\r\n&lt;!-- end snippet --&gt;","title":"Get YouTube captions","body":"<p>Building on Sergiu Mare's suggestion, I wrote an encapsulated function that can return the captions in the console.</p>\n<p>This is written in pure JavaScript (ES6) and you can test it out below, or you can copy everything below and paste it in the console of any video that has captions.</p>\n<hr />\n<h1>Updated version</h1>\n<h2>OOP approach</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const main = async () =&gt; {\n  const\n    defaultId = 'fJ9rUzIMcZQ', /* Queen – Bohemian Rhapsody */\n    json = await YouTubeCaptionUtil\n      .fetchCaptions(YouTubeCaptionUtil.videoId() || defaultId),\n    csv = CsvUtil.fromJson(json);\n  console.log(csv);\n};\n\nclass YouTubeCaptionUtil {\n  static async fetchCaptions(videoId, options) {\n    const\n      opts = { ...YouTubeCaptionUtil.defaultOptions, ...options },\n      response = await fetch(YouTubeCaptionUtil.__requestUrl(videoId, opts)),\n      json = await response.json();\n    return YouTubeCaptionUtil.__parseTranscript(json);\n  }\n  static videoId() {\n    const video_id = window.location.search.split('v=')[1];\n    if (video_id != null) {\n      const ampersandPosition = video_id.indexOf('&amp;');\n      if (ampersandPosition != -1) {\n        return video_id.substring(0, ampersandPosition);\n      }\n    }\n    return null;\n  }\n  static __requestUrl(videoId, { baseUrl, languageId }) {\n    return `${baseUrl}?lang=${languageId}&amp;v=${videoId}&amp;fmt=json3`;\n  }\n  static __parseTranscript({events}) {\n    return events.map(({tStartMs, dDurationMs, segs: [{utf8}]}) =&gt; ({\n      start: YouTubeCaptionUtil.__formatTime(tStartMs),\n      dur: YouTubeCaptionUtil.__formatTime(dDurationMs),\n      text: utf8\n    }));\n  }\n  static __formatTime(seconds) {\n    const date = new Date(null);\n    date.setSeconds(seconds);\n    return date.toISOString().substr(11, 8);\n  };\n}\nYouTubeCaptionUtil.defaultOptions = {\n  baseUrl: 'https://video.google.com/timedtext',\n  languageId: 'en'\n};\n\nclass CsvUtil {\n  static fromJson(json, options) {\n    const\n      opts = { ...CsvUtil.defaultOptions, ...options },\n      keys = Object.keys(json[0]).filter(key =&gt;\n        opts.ignoreKeys.indexOf(key) === -1),\n      lines = [];\n    if (opts.includeHeader) lines.push(keys.join(opts.delimiter));\n    return lines.concat(json\n        .map(entry =&gt; keys.map(key =&gt; entry[key]).join(opts.delimiter)))\n        .join('\\n');\n  }\n}\nCsvUtil.defaultOptions = {\n  includeHeader: false,\n  ignoreKeys: ['dur'],\n  delimiter: '\\t'\n};\n\nmain();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { top: 0; max-height: 100% !important; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2>Functional approach</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const main = async() =&gt; {\n  const defaultId = 'fJ9rUzIMcZQ'; // Queen – Bohemian Rhapsody (default ID)\n  const json = await loadYouTubeSubtitles(getYouTubeVideoId() || defaultId);\n  const csv = jsonToCsv(json, {\n    includeHeader: false,\n    ignoreKeys: ['dur'],\n    delimiter: '\\t',\n  });\n\n  console.log(csv);\n};\n\nconst parseTranscript = ({ events }) =&gt; {\n  return events.map(({ tStartMs, dDurationMs, segs: [{ utf8 }] }) =&gt; ({\n    start: formatTime(tStartMs),\n    dur: formatTime(dDurationMs),\n    text: utf8\n  }));\n};\n\nconst formatTime = (seconds) =&gt; {\n  let date = new Date(null);\n  date.setSeconds(seconds);\n  return date.toISOString().substr(11, 8);\n};\n\nconst getYouTubeVideoId = () =&gt; {\n  var video_id = window.location.search.split('v=')[1];\n  if (video_id != null) {\n    var ampersandPosition = video_id.indexOf('&amp;');\n    if (ampersandPosition != -1) {\n      return video_id.substring(0, ampersandPosition);\n    }\n  }\n  return null;\n};\n\nconst loadYouTubeSubtitles = async(videoId, options) =&gt; {\n  options = Object.assign({\n    baseUrl: 'https://video.google.com/timedtext',\n    languageId: 'en',\n  }, options || {});\n\n  const requestUrl = `${options.baseUrl}?lang=${options.languageId}&amp;v=${videoId}&amp;fmt=json3`;\n  const response = await fetch(requestUrl);\n  const json = await response.json();\n\n  return parseTranscript(json);\n};\n\nconst jsonToCsv = (json, options) =&gt; {\n  options = Object.assign({\n    includeHeader: true,\n    delimiter: ',',\n    ignoreKeys: []\n  }, options || {});\n  let keys = Object.keys(json[0]).filter(key =&gt; options.ignoreKeys.indexOf(key) === -1);\n  let lines = [];\n  if (options.includeHeader) {\n    lines.push(keys.join(options.delimiter));\n  }\n  return lines.concat(json\n      .map(entry =&gt; keys.map(key =&gt; entry[key]).join(options.delimiter)))\n    .join('\\n');\n};\n\nmain();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { top: 0; max-height: 100% !important; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<hr />\n<h1>Original response</h1>\n<p>This response creates an <code>XMLHttpRequest</code>.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>loadYouTubeSubtitles((getYouTubeVideoId() || 'fJ9rUzIMcZQ'), {\n  callbackFn : function(json) {\n    console.log(jsonToCsv(json, {\n      includeHeader : false,\n      ignoreKeys : [ 'dur' ],\n      delimiter : '\\t',\n    }));\n  }\n}); // Queen – Bohemian Rhapsody (default ID)\n\nfunction getYouTubeVideoId() {\n  var video_id = window.location.search.split('v=')[1];\n  if (video_id != null) {\n    var ampersandPosition = video_id.indexOf('&amp;');\n    if (ampersandPosition != -1) {\n      return video_id.substring(0, ampersandPosition);\n    }\n  }\n  return null;\n}\n\nfunction loadYouTubeSubtitles(videoId, options) {\n  options = Object.assign({\n    baseUrl : 'https://video.google.com/timedtext',\n    languageId : 'en',\n    callbackFn : function(json) { console.log(json); } // Default\n  }, options || {});\n\n  // https://stackoverflow.com/a/9609450/1762224\n  var decodeHTML = (function() {\n    let el = document.createElement('div');\n    function __decode(str) {\n      if (str &amp;&amp; typeof str === 'string') {\n        str = str.replace(/&lt;script[^&gt;]*&gt;([\\S\\s]*?)&lt;\\/script&gt;/gmi, '')\n          .replace(/&lt;\\/?\\w(?:[^\"'&gt;]|\"[^\"]*\"|'[^']*')*&gt;/gmi, '');\n        el.innerHTML = str;\n        str = el.textContent;\n        el.textContent = '';\n      }\n      return str;\n    }\n    removeElement(el); // Clean-up\n    return __decode;\n  })();\n  \n  function removeElement(el) {\n    el &amp;&amp; el.parentNode &amp;&amp; el.parentNode.removeChild(el);\n  }\n\n  function parseTranscriptAsJSON(xml) {\n    return [].slice.call(xml.querySelectorAll('transcript text'))\n      .map(text =&gt; ({\n        start : formatTime(Math.floor(text.getAttribute('start'))),\n        dur : formatTime(Math.floor(text.getAttribute('dur'))),\n        text : decodeHTML(text.textContent).replace(/\\s+/g, ' ')\n      }));\n  }\n\n  function formatTime(seconds) {\n    let date = new Date(null);\n    date.setSeconds(seconds);\n    return date.toISOString().substr(11, 8);\n  }\n\n  let xhr = new XMLHttpRequest();\n  xhr.open('POST', `${options.baseUrl}?lang=${options.languageId}&amp;v=${videoId}`, true);\n  xhr.responseType = 'document';\n  xhr.onload = function() {\n    if (this.status &gt;= 200 &amp;&amp; this.status &lt; 400) {\n      options.callbackFn(parseTranscriptAsJSON(this.response));\n    } else {\n      console.log('Error: ' + this.status);\n    }\n  };\n  xhr.onerror = function() {\n    console.log('Error!');\n  };\n  xhr.send();\n}\n\nfunction jsonToCsv(json, options) {\n  options = Object.assign({\n    includeHeader : true,\n    delimiter : ',',\n    ignoreKeys : []\n  }, options || {});\n  let keys = Object.keys(json[0]).filter(key =&gt; options.ignoreKeys.indexOf(key) === -1);\n  let lines = [];\n  if (options.includeHeader) { lines.push(keys.join(options.delimiter)); }\n  return lines.concat(json\n    .map(entry =&gt; keys.map(key =&gt; entry[key]).join(options.delimiter)))\n    .join('\\n');\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { top: 0; max-height: 100% !important; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":5833425,"reputation":1237,"user_id":4597246,"display_name":"Wim den Herder"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1671696345,"creation_date":1670846337,"answer_id":74770780,"question_id":32142656,"body_markdown":"**The following works when you&#39;re on the youtube page**  \r\nOpen the developer console. Try copy paste this: (make sure to refresh your page!)\r\n\r\n```\r\nlet subsUrl = ytInitialPlayerResponse.captions.playerCaptionsTracklistRenderer.captionTracks[0].baseUrl;\r\nlet subs = await (await fetch(subsUrl)).text();\r\nlet xml = new DOMParser().parseFromString(subs,&quot;text/xml&quot;);\r\nlet textNodes = [...xml.getElementsByTagName(&#39;text&#39;)];\r\nlet subsText = textNodes.map(x =&gt; x.textContent).join(&quot;\\n&quot;).replaceAll(&#39;&amp;#39;&#39;,&quot;&#39;&quot;);\r\nconsole.log(subsText);\r\n```\r\n\r\nWow, isn&#39;t that cool? And short and simple as well?\r\n\r\nThis is possible because of a really cool trick: on a youtube page there is a global variable `ytInitialPlayerResponse` with a link to the captions:  (make sure to refresh the page first)\r\n\r\n```\r\nlet subsUrl = ytInitialPlayerResponse.captions.playerCaptionsTracklistRenderer.captionTracks[0].baseUrl;\r\n```\r\n\r\nBecause you&#39;re on the YouTube page, you are allowed to fetch this url (no cors problem, because your fetch originates from youtube.com)\r\n\r\n```\r\nlet subs = await (await fetch(subsUrl)).text();\r\n```\r\n\r\nThis text should be parsed as xml. For this it&#39;s very useful to use the DOMParser:\r\n\r\n```\r\nlet xml = new DOMParser().parseFromString(subs,&quot;text/xml&quot;);\r\n```\r\nYou then want to get the text elements\r\n```\r\nxml.getElementsByTagName(&#39;text&#39;)\r\n```\r\nWith spread notation you can make it an array of text nodes\r\n```\r\nlet textNodes = [...xml.getElementsByTagName(&#39;text&#39;)]\r\n```\r\nOn which you can perform a map operation to get the parameters. We are interested in textContent:\r\n```\r\ntextNodes.map(x =&gt; x.textContent)\r\n```\r\nNow you have an array of subtitles.\r\nTo join this to one big text you can write the following:\r\n```\r\nlet subsText = textNodes.map(x =&gt; x.textContent).join(&quot;\\n&quot;).replaceAll(&#39;&amp;#39;&#39;,&quot;&#39;&quot;);\r\n```\r\nNote that &amp;#39; is a notation for &#39; in the youtube subtitle, so we replace that.\r\n\r\nIn Chrome&#39;s developers&#39; console you have to add console.log the thing to get rid of `\\n` notation, so you write:\r\n```\r\nconsole.log(subsText)\r\n```\r\n\r\n**How to download the subtitles**  \r\nIf you want to automatically download a txt file you could add this code from this [discussion][1]:\r\n\r\n```\r\nfunction downloadText(filename, text) {\r\n  var el = document.createElement(&#39;a&#39;);\r\n  el.setAttribute(&#39;href&#39;, &#39;data:text/plain;charset=utf-8,&#39; + encodeURIComponent(text));\r\n  el.setAttribute(&#39;download&#39;, filename);\r\n  el.style.display = &#39;none&#39;;\r\n  document.body.appendChild(el);\r\n  el.click();\r\n  document.body.removeChild(el);\r\n}\r\n\r\ndownloadText(&#39;subs.txt&#39;,subsText);\r\n```\r\n\r\nPS: I&#39;m using let, not const so that you can copy paste it multiple times to the same console  \r\nPS2: This example uses the first baseUrl, nice exercise: try to find other languages!\r\n\r\nHave fun with it!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3665115/how-to-create-a-file-in-memory-for-user-to-download-but-not-through-server","title":"Get YouTube captions","body":"<p><strong>The following works when you're on the youtube page</strong><br />\nOpen the developer console. Try copy paste this: (make sure to refresh your page!)</p>\n<pre><code>let subsUrl = ytInitialPlayerResponse.captions.playerCaptionsTracklistRenderer.captionTracks[0].baseUrl;\nlet subs = await (await fetch(subsUrl)).text();\nlet xml = new DOMParser().parseFromString(subs,&quot;text/xml&quot;);\nlet textNodes = [...xml.getElementsByTagName('text')];\nlet subsText = textNodes.map(x =&gt; x.textContent).join(&quot;\\n&quot;).replaceAll('&amp;#39;',&quot;'&quot;);\nconsole.log(subsText);\n</code></pre>\n<p>Wow, isn't that cool? And short and simple as well?</p>\n<p>This is possible because of a really cool trick: on a youtube page there is a global variable <code>ytInitialPlayerResponse</code> with a link to the captions:  (make sure to refresh the page first)</p>\n<pre><code>let subsUrl = ytInitialPlayerResponse.captions.playerCaptionsTracklistRenderer.captionTracks[0].baseUrl;\n</code></pre>\n<p>Because you're on the YouTube page, you are allowed to fetch this url (no cors problem, because your fetch originates from youtube.com)</p>\n<pre><code>let subs = await (await fetch(subsUrl)).text();\n</code></pre>\n<p>This text should be parsed as xml. For this it's very useful to use the DOMParser:</p>\n<pre><code>let xml = new DOMParser().parseFromString(subs,&quot;text/xml&quot;);\n</code></pre>\n<p>You then want to get the text elements</p>\n<pre><code>xml.getElementsByTagName('text')\n</code></pre>\n<p>With spread notation you can make it an array of text nodes</p>\n<pre><code>let textNodes = [...xml.getElementsByTagName('text')]\n</code></pre>\n<p>On which you can perform a map operation to get the parameters. We are interested in textContent:</p>\n<pre><code>textNodes.map(x =&gt; x.textContent)\n</code></pre>\n<p>Now you have an array of subtitles.\nTo join this to one big text you can write the following:</p>\n<pre><code>let subsText = textNodes.map(x =&gt; x.textContent).join(&quot;\\n&quot;).replaceAll('&amp;#39;',&quot;'&quot;);\n</code></pre>\n<p>Note that ' is a notation for ' in the youtube subtitle, so we replace that.</p>\n<p>In Chrome's developers' console you have to add console.log the thing to get rid of <code>\\n</code> notation, so you write:</p>\n<pre><code>console.log(subsText)\n</code></pre>\n<p><strong>How to download the subtitles</strong><br />\nIf you want to automatically download a txt file you could add this code from this <a href=\"https://stackoverflow.com/questions/3665115/how-to-create-a-file-in-memory-for-user-to-download-but-not-through-server\">discussion</a>:</p>\n<pre><code>function downloadText(filename, text) {\n  var el = document.createElement('a');\n  el.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n  el.setAttribute('download', filename);\n  el.style.display = 'none';\n  document.body.appendChild(el);\n  el.click();\n  document.body.removeChild(el);\n}\n\ndownloadText('subs.txt',subsText);\n</code></pre>\n<p>PS: I'm using let, not const so that you can copy paste it multiple times to the same console<br />\nPS2: This example uses the first baseUrl, nice exercise: try to find other languages!</p>\n<p>Have fun with it!</p>\n"}],"owner":{"account_id":1559142,"reputation":4127,"user_id":3084258,"accept_rate":100,"display_name":"Filipp Voronov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13882,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":48407571,"answer_count":4,"score":20,"last_activity_date":1688484896,"creation_date":1440166644,"question_id":32142656,"body_markdown":"How can programmatically get subtitles of a playing YouTube video?\r\n\r\nInitially I&#39;ve tried to do it offline via [YouTube API][1], but [as it seems][2] YouTube forbids to fetch subtitles of videos you are not the owner.\r\n\r\nNow I&#39;m trying to do it online. I haven&#39;t found [YouTube Player Api][3] methods for captions, also I&#39;ve tried to get YouTube captions as TextTrack with [videojs][4] player in [the way it could be done for usual videos][5], but the following doesn&#39;t work:\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;link href=&quot;//vjs.zencdn.net/4.12/video-js.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n    \r\n    &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;//vjs.zencdn.net/4.12/video.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;../lib/youtube.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n        \r\n    &lt;body&gt;\r\n    &lt;video  id=&quot;myvideo&quot;\r\n            class=&quot;video-js vjs-default-skin vjs-big-play-centered&quot; \r\n            controls \r\n            preload=&quot;auto&quot; \r\n            width=&quot;640&quot; \r\n            height=&quot;360&quot;&gt;\r\n    &lt;/video&gt;\r\n            \r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n        var myvideo = videojs(\r\n            &quot;myvideo&quot;,\r\n            {\r\n                &quot;techOrder&quot;: [&quot;youtube&quot;],\r\n                &quot;src&quot;: &quot;https://www.youtube.com/watch?v=jNhtbmXzIaM&quot; \r\n            },\r\n            function() {\r\n                console.log(&#39;Tracks: &#39; + this.textTracks().length); //zero here :(\r\n                \r\n                /*var aTextTrack = this.textTracks()[0];\r\n                aTextTrack.on(&#39;loaded&#39;, function() {\r\n                    console.log(&#39;here it is&#39;);\r\n                    cues = aTextTrack.cues();\r\n                    console.log(&#39;Ready State&#39;, aTextTrack.readyState()) \r\n                    console.log(&#39;Cues&#39;, cues);\r\n                });\r\n                aTextTrack.show();*/\r\n            });\r\n    &lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI&#39;ve also tried an ugly solution with parsing YouTube Player IFrame (there is a div inside it with current subtitles&#39; line), but it doesn&#39;t work because of origin mismatch security issues.\r\n\r\n\r\n----------\r\n\r\n\r\nIs there any way my goal can be achieved in java (for offline solutions) or javascript (for online solutions)?\r\n\r\n\r\n  [1]: https://developers.google.com/youtube/\r\n  [2]: https://stackoverflow.com/questions/32033153/does-youtube-api-forbid-to-download-video-captions-if-you-are-not-its-owner\r\n  [3]: https://developers.google.com/youtube/iframe_api_reference\r\n  [4]: http://www.videojs.com/\r\n  [5]: https://stackoverflow.com/a/32045281/3084258","title":"Get YouTube captions","body":"<p>How can programmatically get subtitles of a playing YouTube video?</p>\n\n<p>Initially I've tried to do it offline via <a href=\"https://developers.google.com/youtube/\" rel=\"noreferrer\">YouTube API</a>, but <a href=\"https://stackoverflow.com/questions/32033153/does-youtube-api-forbid-to-download-video-captions-if-you-are-not-its-owner\">as it seems</a> YouTube forbids to fetch subtitles of videos you are not the owner.</p>\n\n<p>Now I'm trying to do it online. I haven't found <a href=\"https://developers.google.com/youtube/iframe_api_reference\" rel=\"noreferrer\">YouTube Player Api</a> methods for captions, also I've tried to get YouTube captions as TextTrack with <a href=\"http://www.videojs.com/\" rel=\"noreferrer\">videojs</a> player in <a href=\"https://stackoverflow.com/a/32045281/3084258\">the way it could be done for usual videos</a>, but the following doesn't work:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;link href=\"//vjs.zencdn.net/4.12/video-js.css\" rel=\"stylesheet\"&gt;\n\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"//vjs.zencdn.net/4.12/video.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"../lib/youtube.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;video  id=\"myvideo\"\n        class=\"video-js vjs-default-skin vjs-big-play-centered\" \n        controls \n        preload=\"auto\" \n        width=\"640\" \n        height=\"360\"&gt;\n&lt;/video&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    var myvideo = videojs(\n        \"myvideo\",\n        {\n            \"techOrder\": [\"youtube\"],\n            \"src\": \"https://www.youtube.com/watch?v=jNhtbmXzIaM\" \n        },\n        function() {\n            console.log('Tracks: ' + this.textTracks().length); //zero here :(\n\n            /*var aTextTrack = this.textTracks()[0];\n            aTextTrack.on('loaded', function() {\n                console.log('here it is');\n                cues = aTextTrack.cues();\n                console.log('Ready State', aTextTrack.readyState()) \n                console.log('Cues', cues);\n            });\n            aTextTrack.show();*/\n        });\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I've also tried an ugly solution with parsing YouTube Player IFrame (there is a div inside it with current subtitles' line), but it doesn't work because of origin mismatch security issues.</p>\n\n<hr>\n\n<p>Is there any way my goal can be achieved in java (for offline solutions) or javascript (for online solutions)?</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"owner":{"account_id":4534543,"reputation":1,"user_id":3684116,"display_name":"baz0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688484480,"creation_date":1688484348,"question_id":76614043,"body_markdown":"I am trying to redirect all updates of an entity to go through service method. So for example\r\nif I have someEntity.setSomeAttribute(&quot;Value&quot;) it will execute an update method because of the ORM(hibernate). But I want that update and all others updates that come from calling a setter method to go through a method in my SomeEntityService. \r\nIn order to do that I implemented a PreUpdateEventListener in order to catch all the updates for that entity.\r\n\r\n````\r\npublic class SomeEntityPreUpdateEventListener implements PreUpdateEventListener {\r\n\r\n    private final SomeEntityService someEntityService;\r\n\r\n    @Override\r\n    public boolean onPreUpdate(PreUpdateEvent preUpdateEvent) {\r\n\r\n        final Object entity = preUpdateEvent.getEntity();\r\n        if (entity instanceof SomeEntity) {\r\n            final SomeEntity someEntity = (SomeEntity) entity;\r\n            if (!someEntity.isServiceUpdate()) {\r\n                System.out.println(&quot;SomeEntity is not updated from service. Calling service  method&quot;);\r\n                someEntityService.updateSomeEntity(someEntity);\r\n\r\n                System.out.println(&quot;Finished service method&quot;);\r\n                return true;\r\n            }\r\n            System.out.println(&quot;Update from service method&quot;);\r\n        }\r\n        return false;\r\n    }\r\n}\r\n````\r\nI added a boolean serviceUpdate in the SomeEntity and I set it to true in the updateSomeEntity.\r\n\r\n```\r\npublic SomeEntity updateSomeEntity(@NotNull SomeEntity item) {\r\n    item.setServiceUpdate(true);\r\n    SomeEntity createdItem = crudRepository.save(item);\r\n    this.entityManager.flush();\r\n    this.entityManager.refresh(createdItem);\r\n    return createdItem;\r\n}\r\n```\r\nSo I expect this to update the entity and again the listener to be called where now `isServiceUpdate` is true so it wouldn&#39;t veto the update. \r\nBut somehow `updateSomeEntity` does 2 updates and in both cases `isServiceUpdate` is true and I get `java.util.ConcurrentModificationException: null`. I assume that `entityManager.flush()`\r\ndoes the previous update that I want to forbid(but now has isServiceUpdate=true). \r\n\r\nIs there any way to achieve calling a setter that will update the entity always to go through service method ? \r\n\r\n\r\n\r\nTried with evicting the organization, read about entity listeners but somehow I don&#39;t have idea how to do this with event listener. `","title":"Redirect updates of entity from setter methods to go through service method","body":"<p>I am trying to redirect all updates of an entity to go through service method. So for example\nif I have someEntity.setSomeAttribute(&quot;Value&quot;) it will execute an update method because of the ORM(hibernate). But I want that update and all others updates that come from calling a setter method to go through a method in my SomeEntityService.\nIn order to do that I implemented a PreUpdateEventListener in order to catch all the updates for that entity.</p>\n<pre><code>public class SomeEntityPreUpdateEventListener implements PreUpdateEventListener {\n\n    private final SomeEntityService someEntityService;\n\n    @Override\n    public boolean onPreUpdate(PreUpdateEvent preUpdateEvent) {\n\n        final Object entity = preUpdateEvent.getEntity();\n        if (entity instanceof SomeEntity) {\n            final SomeEntity someEntity = (SomeEntity) entity;\n            if (!someEntity.isServiceUpdate()) {\n                System.out.println(&quot;SomeEntity is not updated from service. Calling service  method&quot;);\n                someEntityService.updateSomeEntity(someEntity);\n\n                System.out.println(&quot;Finished service method&quot;);\n                return true;\n            }\n            System.out.println(&quot;Update from service method&quot;);\n        }\n        return false;\n    }\n}\n</code></pre>\n<p>I added a boolean serviceUpdate in the SomeEntity and I set it to true in the updateSomeEntity.</p>\n<pre><code>public SomeEntity updateSomeEntity(@NotNull SomeEntity item) {\n    item.setServiceUpdate(true);\n    SomeEntity createdItem = crudRepository.save(item);\n    this.entityManager.flush();\n    this.entityManager.refresh(createdItem);\n    return createdItem;\n}\n</code></pre>\n<p>So I expect this to update the entity and again the listener to be called where now <code>isServiceUpdate</code> is true so it wouldn't veto the update.\nBut somehow <code>updateSomeEntity</code> does 2 updates and in both cases <code>isServiceUpdate</code> is true and I get <code>java.util.ConcurrentModificationException: null</code>. I assume that <code>entityManager.flush()</code>\ndoes the previous update that I want to forbid(but now has isServiceUpdate=true).</p>\n<p>Is there any way to achieve calling a setter that will update the entity always to go through service method ?</p>\n<p>Tried with evicting the organization, read about entity listeners but somehow I don't have idea how to do this with event listener. `</p>\n"},{"tags":["java","swing","jtabbedpane"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":3,"creation_date":1688320022,"post_id":76599871,"comment_id":135055266,"body_markdown":"The code you&#39;re not showing us, the `JFrame`, the `JFrame` layout manager, and the other `JPanels`, all have an effect on how the `JFrame` is arranged.  Create a simple [mre] with a `JFrame`, a `JTabbedPane`, and an inner `JTabbedPane` that we can compile and test in our IDEs that demonstrates the problem.","body":"The code you&#39;re not showing us, the <code>JFrame</code>, the <code>JFrame</code> layout manager, and the other <code>JPanels</code>, all have an effect on how the <code>JFrame</code> is arranged.  Create a simple <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with a <code>JFrame</code>, a <code>JTabbedPane</code>, and an inner <code>JTabbedPane</code> that we can compile and test in our IDEs that demonstrates the problem."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1688320247,"post_id":76599871,"comment_id":135055288,"body_markdown":"A non-pretty functional GUI is better than a pretty non-functional GUI.","body":"A non-pretty functional GUI is better than a pretty non-functional GUI."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1688330412,"post_id":76599871,"comment_id":135056438,"body_markdown":"*I&#39;m also using a custom UI tabbed* - so first test with the default UI. I&#39;m guessing it will work as expected. Then make one change at a time for your custom UI and retest. When it stops working you know what code you just changed.","body":"<i>I&#39;m also using a custom UI tabbed</i> - so first test with the default UI. I&#39;m guessing it will work as expected. Then make one change at a time for your custom UI and retest. When it stops working you know what code you just changed."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688484302,"creation_date":1688483512,"answer_id":76613938,"question_id":76599871,"body_markdown":"Since your code wasn&#39;t runnable, I went ahead and created the following GUI.\r\n\r\n[![Nested tabs][1]][1]\r\n\r\nAs you can see, there are outer tabs and inner tabs all shown inside of the bounds of the `JFrame`. \r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nHere&#39;s the complete, runnable code, otherwise known as a [minimal reproducible example][2].\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTabbedPane;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class NestedJTabbedPanes implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new NestedJTabbedPanes());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Nested JTabbedPanes&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createOuterTabbedPane(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JTabbedPane createOuterTabbedPane() {\r\n    \t\tJTabbedPane tabbedPane = new JTabbedPane();\r\n    \t\tJPanel panel = createBlankPanel();\r\n    \t\ttabbedPane.addTab(&quot;Tab #1&quot;, panel);\r\n    \t\tJTabbedPane innerPane = createInnerTabbedPane();\r\n    \t\ttabbedPane.addTab(&quot;Tab #2&quot;, innerPane);\r\n    \t\tpanel = createBlankPanel();\r\n    \t\ttabbedPane.addTab(&quot;Tab #3&quot;, panel);\r\n    \t\tpanel = createBlankPanel();\r\n    \t\ttabbedPane.addTab(&quot;Tab #4&quot;, panel);\r\n    \r\n    \t\treturn tabbedPane;\r\n    \t}\r\n    \r\n    \tprivate JTabbedPane createInnerTabbedPane() {\r\n    \t\tJTabbedPane tabbedPane = new JTabbedPane();\r\n    \t\tJPanel panel = createBlankPanel();\r\n    \t\ttabbedPane.addTab(&quot;Tab #1&quot;, panel);\r\n    \t\tpanel = createBlankPanel();\r\n    \t\ttabbedPane.addTab(&quot;Tab #2&quot;, panel);\r\n    \t\tpanel = createBlankPanel();\r\n    \t\ttabbedPane.addTab(&quot;Tab #3&quot;, panel);\r\n    \t\tpanel = createBlankPanel();\r\n    \t\ttabbedPane.addTab(&quot;Tab #4&quot;, panel);\r\n    \r\n    \t\treturn tabbedPane;\r\n    \t}\r\n    \r\n    \tprivate JPanel createBlankPanel() {\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tpanel.setPreferredSize(new Dimension(400, 300));\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OHDHI.png\r\n  [2]: https://stackoverflow.com/help/minimal-reproducible-example","title":"JTabbedPane imbedded in JTabbedPane pushing bounds with too many tabs","body":"<p>Since your code wasn't runnable, I went ahead and created the following GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/OHDHI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OHDHI.png\" alt=\"Nested tabs\" /></a></p>\n<p>As you can see, there are outer tabs and inner tabs all shown inside of the bounds of the <code>JFrame</code>.</p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>Here's the complete, runnable code, otherwise known as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTabbedPane;\nimport javax.swing.SwingUtilities;\n\npublic class NestedJTabbedPanes implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new NestedJTabbedPanes());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Nested JTabbedPanes&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createOuterTabbedPane(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JTabbedPane createOuterTabbedPane() {\n        JTabbedPane tabbedPane = new JTabbedPane();\n        JPanel panel = createBlankPanel();\n        tabbedPane.addTab(&quot;Tab #1&quot;, panel);\n        JTabbedPane innerPane = createInnerTabbedPane();\n        tabbedPane.addTab(&quot;Tab #2&quot;, innerPane);\n        panel = createBlankPanel();\n        tabbedPane.addTab(&quot;Tab #3&quot;, panel);\n        panel = createBlankPanel();\n        tabbedPane.addTab(&quot;Tab #4&quot;, panel);\n\n        return tabbedPane;\n    }\n\n    private JTabbedPane createInnerTabbedPane() {\n        JTabbedPane tabbedPane = new JTabbedPane();\n        JPanel panel = createBlankPanel();\n        tabbedPane.addTab(&quot;Tab #1&quot;, panel);\n        panel = createBlankPanel();\n        tabbedPane.addTab(&quot;Tab #2&quot;, panel);\n        panel = createBlankPanel();\n        tabbedPane.addTab(&quot;Tab #3&quot;, panel);\n        panel = createBlankPanel();\n        tabbedPane.addTab(&quot;Tab #4&quot;, panel);\n\n        return tabbedPane;\n    }\n\n    private JPanel createBlankPanel() {\n        JPanel panel = new JPanel();\n        panel.setPreferredSize(new Dimension(400, 300));\n\n        return panel;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25188076,"reputation":23,"user_id":19028647,"display_name":"GamingLegion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688484302,"creation_date":1688316081,"question_id":76599871,"body_markdown":"I am trying to code a checklist style program and am using a JTabbedPane inside another JTabbedPane. Everything was fine until I tried adding another set of tabs under one tab. Then the bounds of the overall JTabbedPane started increasing and going off screen. Below is the pane before the extra tab. ![1] \r\n\r\nAnd below here is the pane after the extra tab. ![2]\r\n\r\nI&#39;m wondering if there is possibly a limit of some sort to how many tabs I can do. Only thing is I have other top tabs with way more right tabs so that doesn&#39;t make too much sense.\r\n\r\nHere is the code for setting up the components and tabs\r\n```\r\nprivate void init() {\r\n        e4cPanel = new JPanel();\r\n\t\te4cPanel.setBackground(back);\r\n\r\n\t\tgceaScroll = new JScrollPane();\r\n\t\tgceaScroll.setBackground(back);\r\n\t\tgceaScroll.setBorder(null);\r\n\t\tgceaScroll.setHorizontalScrollBar(null);\r\n\t\tgceaScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tgceaScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tgceaPanel = new JPanel();\r\n\t\tgceaPanel.setBackground(back);\r\n\t\tgceaScroll.setViewportView(gceaPanel);\r\n\r\n\t\tformScroll = new JScrollPane();\r\n\t\tformScroll.setBackground(back);\r\n\t\tformScroll.setBorder(null);\r\n\t\tformScroll.setHorizontalScrollBar(null);\r\n\t\tformScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tformScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tformPanel = new JPanel();\r\n\t\tformPanel.setBackground(back);\r\n\t\tformScroll.setViewportView(formPanel);\r\n\r\n\t\tlegScroll = new JScrollPane();\r\n\t\tlegScroll.setBackground(back);\r\n\t\tlegScroll.setBorder(null);\r\n\t\tlegScroll.setHorizontalScrollBar(null);\r\n\t\tlegScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tlegScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tlegPanel = new JPanel();\r\n\t\tlegPanel.setBackground(back);\r\n\t\tlegScroll.setViewportView(legPanel);\r\n\r\n\t\tmytScroll = new JScrollPane();\r\n\t\tmytScroll.setBackground(back);\r\n\t\tmytScroll.setBorder(null);\r\n\t\tmytScroll.setHorizontalScrollBar(null);\r\n\t\tmytScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tmytScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tmytPanel = new JPanel();\r\n\t\tmytPanel.setBackground(back);\r\n\t\tmytScroll.setViewportView(mytPanel);\r\n\r\n\t\tgiftScroll = new JScrollPane();\r\n\t\tgiftScroll.setBackground(back);\r\n\t\tgiftScroll.setBorder(null);\r\n\t\tgiftScroll.setHorizontalScrollBar(null);\r\n\t\tgiftScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tgiftScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tgiftPanel = new JPanel();\r\n\t\tgiftPanel.setBackground(back);\r\n\t\tgiftScroll.setViewportView(giftPanel);\r\n\r\n\t\tcolScroll = new JScrollPane();\r\n\t\tcolScroll.setBackground(back);\r\n\t\tcolScroll.setBorder(null);\r\n\t\tcolScroll.setHorizontalScrollBar(null);\r\n\t\tcolScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tcolScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tcolPanel = new JPanel();\r\n\t\tcolPanel.setBackground(back);\r\n\t\tcolScroll.setViewportView(colPanel);\r\n\r\n\t\tupgScroll = new JScrollPane();\r\n\t\tupgScroll.setBackground(back);\r\n\t\tupgScroll.setBorder(null);\r\n\t\tupgScroll.setHorizontalScrollBar(null);\r\n\t\tupgScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tupgScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tupgPanel = new JPanel();\r\n\t\tupgPanel.setBackground(back);\r\n\t\tupgScroll.setViewportView(upgPanel);\r\n\r\n\t\tbatScroll = new JScrollPane();\r\n\t\tbatScroll.setBackground(back);\r\n\t\tbatScroll.setBorder(null);\r\n\t\tbatScroll.setHorizontalScrollBar(null);\r\n\t\tbatScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tbatScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tbatPanel = new JPanel();\r\n\t\tbatPanel.setBackground(back);\r\n\t\tbatScroll.setViewportView(batPanel);\r\n\r\n\t\ttmScroll = new JScrollPane();\r\n\t\ttmScroll.setBackground(back);\r\n\t\ttmScroll.setBorder(null);\r\n\t\ttmScroll.setHorizontalScrollBar(null);\r\n\t\ttmScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\ttmScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\ttmPanel = new JPanel();\r\n\t\ttmPanel.setBackground(back);\r\n\t\ttmScroll.setViewportView(tmPanel);\r\n\r\n\t\thmPanel = new JPanel();\r\n\t\thmPanel.setBackground(back);\r\n\r\n\t\tberryScroll = new JScrollPane();\r\n\t\tberryScroll.setBackground(back);\r\n\t\tberryScroll.setBorder(null);\r\n\t\tberryScroll.setHorizontalScrollBar(null);\r\n\t\tberryScroll.setVerticalScrollBar(new JCustomScrollBar());\r\n\t\tberryScroll.getVerticalScrollBar().setUnitIncrement(25);\r\n\t\tberryPanel = new JPanel();\r\n\t\tberryPanel.setBackground(back);\r\n\t\tberryScroll.setViewportView(berryPanel);\r\n\r\n\t\tsetTabPlacement(JTabbedPane.RIGHT);\r\n\t\taddTab(&quot;Elite 4/Champion&quot;, e4cPanel);\r\n\t\taddTab(&quot;Gotta Catch &#39;Em All&quot;, gceaScroll);\r\n\t\taddTab(&quot;Forms&quot;, formScroll);\r\n\t\taddTab(&quot;Legendaries&quot;, legScroll);\r\n\t\taddTab(&quot;Mythicals&quot;, mytScroll);\r\n\t\taddTab(&quot;Mystery Gifts&quot;, giftScroll);\r\n\t\taddTab(&quot;Collectables&quot;, colScroll);\r\n\t\taddTab(&quot;Upgrades&quot;, upgScroll);\r\n\t\taddTab(&quot;Battle&quot;, batScroll);\r\n//\t\taddTab(&quot;TM&#39;s&quot;, tmScroll);\r\n//\t\taddTab(&quot;HM&#39;s&quot;, hmPanel);\r\n//\t\taddTab(&quot;Berries&quot;, berryScroll);\r\n}\r\n```\r\n\r\nAs you can see, I&#39;m also using a custom UI tabbed pane so here is the code for that incase it might be in there.\r\n```\r\npackage customs.tabs;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Insets;\r\nimport java.awt.Rectangle;\r\nimport java.awt.RenderingHints;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JTabbedPane;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.event.ChangeListener;\r\nimport javax.swing.plaf.metal.MetalTabbedPaneUI;\r\nimport org.jdesktop.animation.timing.Animator;\r\nimport org.jdesktop.animation.timing.TimingTarget;\r\nimport org.jdesktop.animation.timing.interpolation.PropertySetter;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class MaterialTabbed extends JTabbedPane {\r\n\tprivate final int orientation;\r\n\r\n    public MaterialTabbed(int orientation) {\r\n    \tthis.orientation = orientation;\r\n    \tMaterialTabbedUI ui = new MaterialTabbedUI();\r\n    \tsetTabPlacement(orientation);\r\n        setUI(ui);\r\n    }\r\n\r\n    public class MaterialTabbedUI extends MetalTabbedPaneUI {\r\n        private Animator animator;\r\n        private Rectangle currentRectangle;\r\n        private TimingTarget target;\r\n\r\n        public void setCurrentRectangle(Rectangle currentRectangle) {\r\n            this.currentRectangle = currentRectangle;\r\n            repaint();\r\n        }\r\n\r\n        public MaterialTabbedUI() {\r\n        }\r\n\r\n        @Override\r\n        public void installUI(JComponent jc) {\r\n            super.installUI(jc);\r\n            animator = new Animator(500);\r\n            animator.setResolution(0);\r\n            animator.setAcceleration(.5f);\r\n            animator.setDeceleration(.5f);\r\n            tabPane.addChangeListener(new ChangeListener() {\r\n                @Override\r\n                public void stateChanged(ChangeEvent ce) {\r\n                    int selected = tabPane.getSelectedIndex();\r\n                    if (selected != -1) {\r\n                        if (currentRectangle != null) {\r\n                            if (animator.isRunning()) {\r\n                                animator.stop();\r\n                            }\r\n                            animator.removeTarget(target);\r\n                            target = new PropertySetter(MaterialTabbedUI.this, &quot;currentRectangle&quot;, currentRectangle, getTabBounds(selected, calcRect));\r\n                            animator.addTarget(target);\r\n                            animator.start();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        protected Insets getTabInsets(int i, int i1) {\r\n        \tif(orientation == 1 || orientation == 3) {\r\n                return new Insets(10, 20, 10, 20);\r\n        \t} else if(orientation == 2 || orientation == 4) {\r\n                return new Insets(7, 10, 7, 10);\r\n        \t} else {\r\n                return new Insets(10, 10, 10, 10);\r\n        \t}\r\n        }\r\n\r\n        @Override\r\n        protected void paintTabBorder(Graphics grphcs, int tabPlacement, int tabIndex, int x, int y, int w, int h, boolean isSelected) {\r\n            Graphics2D g2 = (Graphics2D) grphcs.create();\r\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n            g2.setColor(new Color(3, 155, 216));\r\n            if (currentRectangle == null || !animator.isRunning()) {\r\n                if (isSelected) {\r\n                    currentRectangle = new Rectangle(x, y, w, h);\r\n                }\r\n            }\r\n            if (currentRectangle != null) {\r\n                if (tabPlacement == TOP) {\r\n                    g2.fillRect(currentRectangle.x, currentRectangle.y + currentRectangle.height - 3, currentRectangle.width, 3);\r\n                } else if (tabPlacement == BOTTOM) {\r\n                    g2.fillRect(currentRectangle.x, currentRectangle.y, currentRectangle.width, 3);\r\n                } else if (tabPlacement == LEFT) {\r\n                    g2.fillRect(currentRectangle.x + currentRectangle.width - 3, currentRectangle.y, 3, currentRectangle.height);\r\n                } else if (tabPlacement == RIGHT) {\r\n                    g2.fillRect(currentRectangle.x, currentRectangle.y, 3, currentRectangle.height);\r\n                }\r\n            }\r\n            g2.dispose();\r\n        }\r\n\r\n        @Override\r\n        protected void paintContentBorder(Graphics grphcs, int tabPlacement, int selectedIndex) {\r\n            Graphics2D g2 = (Graphics2D) grphcs.create();\r\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n            g2.setColor(new Color(200, 200, 200));\r\n            Insets insets = getTabAreaInsets(tabPlacement);\r\n            int width = tabPane.getWidth();\r\n            int height = tabPane.getHeight();\r\n            if (tabPlacement == TOP) {\r\n                int tabHeight = calculateTabAreaHeight(tabPlacement, runCount, maxTabHeight);\r\n                g2.drawLine(insets.left, tabHeight, width - insets.right - 1, tabHeight);\r\n            } else if (tabPlacement == BOTTOM) {\r\n                int tabHeight = height - calculateTabAreaHeight(tabPlacement, runCount, maxTabHeight);\r\n                g2.drawLine(insets.left, tabHeight, width - insets.right - 1, tabHeight);\r\n            } else if (tabPlacement == LEFT) {\r\n                int tabWidth = calculateTabAreaWidth(tabPlacement, runCount, maxTabWidth);\r\n                g2.drawLine(tabWidth, insets.top, tabWidth, height - insets.bottom - 1);\r\n            } else if (tabPlacement == RIGHT) {\r\n                int tabWidth = width - calculateTabAreaWidth(tabPlacement, runCount, maxTabWidth) - 1;\r\n                g2.drawLine(tabWidth, insets.top, tabWidth, height - insets.bottom - 1);\r\n            }\r\n            g2.dispose();\r\n        }\r\n\r\n        @Override\r\n        protected void paintFocusIndicator(Graphics grphcs, int i, Rectangle[] rctngls, int i1, Rectangle rctngl, Rectangle rctngl1, boolean bln) {\r\n\r\n        }\r\n\r\n        @Override\r\n        protected void paintTabBackground(Graphics g, int tabPlacement, int tabIndex, int x, int y, int w, int h, boolean isSelected) {\r\n            if (tabPane.isOpaque()) {\r\n                super.paintTabBackground(g, tabPlacement, tabIndex, x, y, w, h, isSelected);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OSs7G.png\r\n  [2]: https://i.stack.imgur.com/7sKkb.png","title":"JTabbedPane imbedded in JTabbedPane pushing bounds with too many tabs","body":"<p>I am trying to code a checklist style program and am using a JTabbedPane inside another JTabbedPane. Everything was fine until I tried adding another set of tabs under one tab. Then the bounds of the overall JTabbedPane started increasing and going off screen. Below is the pane before the extra tab. <img src=\"https://i.stack.imgur.com/OSs7G.png\" alt=\"1\" /></p>\n<p>And below here is the pane after the extra tab. <img src=\"https://i.stack.imgur.com/7sKkb.png\" alt=\"2\" /></p>\n<p>I'm wondering if there is possibly a limit of some sort to how many tabs I can do. Only thing is I have other top tabs with way more right tabs so that doesn't make too much sense.</p>\n<p>Here is the code for setting up the components and tabs</p>\n<pre><code>private void init() {\n        e4cPanel = new JPanel();\n        e4cPanel.setBackground(back);\n\n        gceaScroll = new JScrollPane();\n        gceaScroll.setBackground(back);\n        gceaScroll.setBorder(null);\n        gceaScroll.setHorizontalScrollBar(null);\n        gceaScroll.setVerticalScrollBar(new JCustomScrollBar());\n        gceaScroll.getVerticalScrollBar().setUnitIncrement(25);\n        gceaPanel = new JPanel();\n        gceaPanel.setBackground(back);\n        gceaScroll.setViewportView(gceaPanel);\n\n        formScroll = new JScrollPane();\n        formScroll.setBackground(back);\n        formScroll.setBorder(null);\n        formScroll.setHorizontalScrollBar(null);\n        formScroll.setVerticalScrollBar(new JCustomScrollBar());\n        formScroll.getVerticalScrollBar().setUnitIncrement(25);\n        formPanel = new JPanel();\n        formPanel.setBackground(back);\n        formScroll.setViewportView(formPanel);\n\n        legScroll = new JScrollPane();\n        legScroll.setBackground(back);\n        legScroll.setBorder(null);\n        legScroll.setHorizontalScrollBar(null);\n        legScroll.setVerticalScrollBar(new JCustomScrollBar());\n        legScroll.getVerticalScrollBar().setUnitIncrement(25);\n        legPanel = new JPanel();\n        legPanel.setBackground(back);\n        legScroll.setViewportView(legPanel);\n\n        mytScroll = new JScrollPane();\n        mytScroll.setBackground(back);\n        mytScroll.setBorder(null);\n        mytScroll.setHorizontalScrollBar(null);\n        mytScroll.setVerticalScrollBar(new JCustomScrollBar());\n        mytScroll.getVerticalScrollBar().setUnitIncrement(25);\n        mytPanel = new JPanel();\n        mytPanel.setBackground(back);\n        mytScroll.setViewportView(mytPanel);\n\n        giftScroll = new JScrollPane();\n        giftScroll.setBackground(back);\n        giftScroll.setBorder(null);\n        giftScroll.setHorizontalScrollBar(null);\n        giftScroll.setVerticalScrollBar(new JCustomScrollBar());\n        giftScroll.getVerticalScrollBar().setUnitIncrement(25);\n        giftPanel = new JPanel();\n        giftPanel.setBackground(back);\n        giftScroll.setViewportView(giftPanel);\n\n        colScroll = new JScrollPane();\n        colScroll.setBackground(back);\n        colScroll.setBorder(null);\n        colScroll.setHorizontalScrollBar(null);\n        colScroll.setVerticalScrollBar(new JCustomScrollBar());\n        colScroll.getVerticalScrollBar().setUnitIncrement(25);\n        colPanel = new JPanel();\n        colPanel.setBackground(back);\n        colScroll.setViewportView(colPanel);\n\n        upgScroll = new JScrollPane();\n        upgScroll.setBackground(back);\n        upgScroll.setBorder(null);\n        upgScroll.setHorizontalScrollBar(null);\n        upgScroll.setVerticalScrollBar(new JCustomScrollBar());\n        upgScroll.getVerticalScrollBar().setUnitIncrement(25);\n        upgPanel = new JPanel();\n        upgPanel.setBackground(back);\n        upgScroll.setViewportView(upgPanel);\n\n        batScroll = new JScrollPane();\n        batScroll.setBackground(back);\n        batScroll.setBorder(null);\n        batScroll.setHorizontalScrollBar(null);\n        batScroll.setVerticalScrollBar(new JCustomScrollBar());\n        batScroll.getVerticalScrollBar().setUnitIncrement(25);\n        batPanel = new JPanel();\n        batPanel.setBackground(back);\n        batScroll.setViewportView(batPanel);\n\n        tmScroll = new JScrollPane();\n        tmScroll.setBackground(back);\n        tmScroll.setBorder(null);\n        tmScroll.setHorizontalScrollBar(null);\n        tmScroll.setVerticalScrollBar(new JCustomScrollBar());\n        tmScroll.getVerticalScrollBar().setUnitIncrement(25);\n        tmPanel = new JPanel();\n        tmPanel.setBackground(back);\n        tmScroll.setViewportView(tmPanel);\n\n        hmPanel = new JPanel();\n        hmPanel.setBackground(back);\n\n        berryScroll = new JScrollPane();\n        berryScroll.setBackground(back);\n        berryScroll.setBorder(null);\n        berryScroll.setHorizontalScrollBar(null);\n        berryScroll.setVerticalScrollBar(new JCustomScrollBar());\n        berryScroll.getVerticalScrollBar().setUnitIncrement(25);\n        berryPanel = new JPanel();\n        berryPanel.setBackground(back);\n        berryScroll.setViewportView(berryPanel);\n\n        setTabPlacement(JTabbedPane.RIGHT);\n        addTab(&quot;Elite 4/Champion&quot;, e4cPanel);\n        addTab(&quot;Gotta Catch 'Em All&quot;, gceaScroll);\n        addTab(&quot;Forms&quot;, formScroll);\n        addTab(&quot;Legendaries&quot;, legScroll);\n        addTab(&quot;Mythicals&quot;, mytScroll);\n        addTab(&quot;Mystery Gifts&quot;, giftScroll);\n        addTab(&quot;Collectables&quot;, colScroll);\n        addTab(&quot;Upgrades&quot;, upgScroll);\n        addTab(&quot;Battle&quot;, batScroll);\n//      addTab(&quot;TM's&quot;, tmScroll);\n//      addTab(&quot;HM's&quot;, hmPanel);\n//      addTab(&quot;Berries&quot;, berryScroll);\n}\n</code></pre>\n<p>As you can see, I'm also using a custom UI tabbed pane so here is the code for that incase it might be in there.</p>\n<pre><code>package customs.tabs;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Insets;\nimport java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport javax.swing.JComponent;\nimport javax.swing.JTabbedPane;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\nimport javax.swing.plaf.metal.MetalTabbedPaneUI;\nimport org.jdesktop.animation.timing.Animator;\nimport org.jdesktop.animation.timing.TimingTarget;\nimport org.jdesktop.animation.timing.interpolation.PropertySetter;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class MaterialTabbed extends JTabbedPane {\n    private final int orientation;\n\n    public MaterialTabbed(int orientation) {\n        this.orientation = orientation;\n        MaterialTabbedUI ui = new MaterialTabbedUI();\n        setTabPlacement(orientation);\n        setUI(ui);\n    }\n\n    public class MaterialTabbedUI extends MetalTabbedPaneUI {\n        private Animator animator;\n        private Rectangle currentRectangle;\n        private TimingTarget target;\n\n        public void setCurrentRectangle(Rectangle currentRectangle) {\n            this.currentRectangle = currentRectangle;\n            repaint();\n        }\n\n        public MaterialTabbedUI() {\n        }\n\n        @Override\n        public void installUI(JComponent jc) {\n            super.installUI(jc);\n            animator = new Animator(500);\n            animator.setResolution(0);\n            animator.setAcceleration(.5f);\n            animator.setDeceleration(.5f);\n            tabPane.addChangeListener(new ChangeListener() {\n                @Override\n                public void stateChanged(ChangeEvent ce) {\n                    int selected = tabPane.getSelectedIndex();\n                    if (selected != -1) {\n                        if (currentRectangle != null) {\n                            if (animator.isRunning()) {\n                                animator.stop();\n                            }\n                            animator.removeTarget(target);\n                            target = new PropertySetter(MaterialTabbedUI.this, &quot;currentRectangle&quot;, currentRectangle, getTabBounds(selected, calcRect));\n                            animator.addTarget(target);\n                            animator.start();\n                        }\n                    }\n                }\n            });\n        }\n\n        @Override\n        protected Insets getTabInsets(int i, int i1) {\n            if(orientation == 1 || orientation == 3) {\n                return new Insets(10, 20, 10, 20);\n            } else if(orientation == 2 || orientation == 4) {\n                return new Insets(7, 10, 7, 10);\n            } else {\n                return new Insets(10, 10, 10, 10);\n            }\n        }\n\n        @Override\n        protected void paintTabBorder(Graphics grphcs, int tabPlacement, int tabIndex, int x, int y, int w, int h, boolean isSelected) {\n            Graphics2D g2 = (Graphics2D) grphcs.create();\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2.setColor(new Color(3, 155, 216));\n            if (currentRectangle == null || !animator.isRunning()) {\n                if (isSelected) {\n                    currentRectangle = new Rectangle(x, y, w, h);\n                }\n            }\n            if (currentRectangle != null) {\n                if (tabPlacement == TOP) {\n                    g2.fillRect(currentRectangle.x, currentRectangle.y + currentRectangle.height - 3, currentRectangle.width, 3);\n                } else if (tabPlacement == BOTTOM) {\n                    g2.fillRect(currentRectangle.x, currentRectangle.y, currentRectangle.width, 3);\n                } else if (tabPlacement == LEFT) {\n                    g2.fillRect(currentRectangle.x + currentRectangle.width - 3, currentRectangle.y, 3, currentRectangle.height);\n                } else if (tabPlacement == RIGHT) {\n                    g2.fillRect(currentRectangle.x, currentRectangle.y, 3, currentRectangle.height);\n                }\n            }\n            g2.dispose();\n        }\n\n        @Override\n        protected void paintContentBorder(Graphics grphcs, int tabPlacement, int selectedIndex) {\n            Graphics2D g2 = (Graphics2D) grphcs.create();\n            g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            g2.setColor(new Color(200, 200, 200));\n            Insets insets = getTabAreaInsets(tabPlacement);\n            int width = tabPane.getWidth();\n            int height = tabPane.getHeight();\n            if (tabPlacement == TOP) {\n                int tabHeight = calculateTabAreaHeight(tabPlacement, runCount, maxTabHeight);\n                g2.drawLine(insets.left, tabHeight, width - insets.right - 1, tabHeight);\n            } else if (tabPlacement == BOTTOM) {\n                int tabHeight = height - calculateTabAreaHeight(tabPlacement, runCount, maxTabHeight);\n                g2.drawLine(insets.left, tabHeight, width - insets.right - 1, tabHeight);\n            } else if (tabPlacement == LEFT) {\n                int tabWidth = calculateTabAreaWidth(tabPlacement, runCount, maxTabWidth);\n                g2.drawLine(tabWidth, insets.top, tabWidth, height - insets.bottom - 1);\n            } else if (tabPlacement == RIGHT) {\n                int tabWidth = width - calculateTabAreaWidth(tabPlacement, runCount, maxTabWidth) - 1;\n                g2.drawLine(tabWidth, insets.top, tabWidth, height - insets.bottom - 1);\n            }\n            g2.dispose();\n        }\n\n        @Override\n        protected void paintFocusIndicator(Graphics grphcs, int i, Rectangle[] rctngls, int i1, Rectangle rctngl, Rectangle rctngl1, boolean bln) {\n\n        }\n\n        @Override\n        protected void paintTabBackground(Graphics g, int tabPlacement, int tabIndex, int x, int y, int w, int h, boolean isSelected) {\n            if (tabPane.isOpaque()) {\n                super.paintTabBackground(g, tabPlacement, tabIndex, x, y, w, h, isSelected);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","cryptography","digital-signature","bouncycastle","javacard"],"comments":[{"owner":{"account_id":4392464,"reputation":5898,"user_id":3580433,"accept_rate":89,"display_name":"Ebrahim Ghasemi"},"score":1,"creation_date":1425439747,"post_id":28843390,"comment_id":45960892,"body_markdown":"Looks weird! 2.66 of 3.66 is too much for noises on the transmission! Can you add the programs? (generator &amp; verifier)","body":"Looks weird! 2.66 of 3.66 is too much for noises on the transmission! Can you add the programs? (generator &amp; verifier)"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1428529880,"post_id":28843390,"comment_id":47206356,"body_markdown":"Note that the [tag:signature] tag is not correct as that&#39;s about *method* signatures.","body":"Note that the <a href=\"https://stackoverflow.com/questions/tagged/signature\">signature</a> tag is not correct as that&#39;s about <i>method</i> signatures."},{"owner":{"account_id":4831486,"reputation":5601,"user_id":3899583,"accept_rate":91,"display_name":"vojta"},"score":0,"creation_date":1448544951,"post_id":28843390,"comment_id":55639193,"body_markdown":"Is your problem solved? If yes, please mark one of answers as accepted.","body":"Is your problem solved? If yes, please mark one of answers as accepted."}],"answers":[{"tags":[],"owner":{"account_id":4831486,"reputation":5601,"user_id":3899583,"accept_rate":91,"display_name":"vojta"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1425593174,"creation_date":1425472097,"answer_id":28854538,"question_id":28843390,"body_markdown":"The problem is that JavaCard and BouncyCastle use different format of the resulting signature. For example for the Prime192v1 curve the resulting JavaCard signature is always 56 bytes long, but the Bouncy Castle signature is sometimes shorter, because it omits leading zeros in EC point coordinates.\r\n\r\nThe JavaCard signature (for Prime192v1, again) looks like this in the hexadecimal format:\r\n\r\n`30 36 02 19 [25 bytes of the first coord] 02 19 [25 bytes of the second coord]`\r\n\r\n(it is a DER encoded structure: SEQUENCE of two INTEGERs)\r\n\r\nHowever, BouncyCastle does not expect leading these zeros in EC coords. So you have to remove them and fix the DER structure, for example\r\n\r\n    30 36 02 19 **00 00** [the rest 23 bytes of the first coord] 02 19 **00** [24 bytes of the second coord]\r\nfrom JavaCard must be converted for Bouncy Castle to:\r\n\r\n`30 **33** 02 **17** [23 bytes of the first coord] 02 **18** [24 bytes of the second coord]`\r\n\r\nThe reason why you sometimes verify the signature correctly is simple: sometimes there are no leading zeros in your JavaCard signature coordinates.\n\n**EDIT: inspired by TajnosAgentos&#39; observation:**\n\nBouncyCastle encodes coords as signed integers, JavaCard always as unsigned integers. That is why BouncyCastle adds a special leading zero (although it trims other leading zeros) whenever the most significant bit of the first byte is 1, because the coord is always a positive number.","title":"Verify javacard signature ALG_ECDSA_SHA on bouncy castle","body":"<p>The problem is that JavaCard and BouncyCastle use different format of the resulting signature. For example for the Prime192v1 curve the resulting JavaCard signature is always 56 bytes long, but the Bouncy Castle signature is sometimes shorter, because it omits leading zeros in EC point coordinates.</p>\n\n<p>The JavaCard signature (for Prime192v1, again) looks like this in the hexadecimal format:</p>\n\n<p><code>30 36 02 19 [25 bytes of the first coord] 02 19 [25 bytes of the second coord]</code></p>\n\n<p>(it is a DER encoded structure: SEQUENCE of two INTEGERs)</p>\n\n<p>However, BouncyCastle does not expect leading these zeros in EC coords. So you have to remove them and fix the DER structure, for example</p>\n\n<pre><code>30 36 02 19 **00 00** [the rest 23 bytes of the first coord] 02 19 **00** [24 bytes of the second coord]\n</code></pre>\n\n<p>from JavaCard must be converted for Bouncy Castle to:</p>\n\n<p><code>30 **33** 02 **17** [23 bytes of the first coord] 02 **18** [24 bytes of the second coord]</code></p>\n\n<p>The reason why you sometimes verify the signature correctly is simple: sometimes there are no leading zeros in your JavaCard signature coordinates.</p>\n\n<p><strong>EDIT: inspired by TajnosAgentos' observation:</strong></p>\n\n<p>BouncyCastle encodes coords as signed integers, JavaCard always as unsigned integers. That is why BouncyCastle adds a special leading zero (although it trims other leading zeros) whenever the most significant bit of the first byte is 1, because the coord is always a positive number.</p>\n"},{"tags":[],"owner":{"account_id":4392576,"reputation":167,"user_id":3580519,"accept_rate":50,"display_name":"TajnosAgentos"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1425658787,"creation_date":1425589388,"answer_id":28887643,"question_id":28843390,"body_markdown":"I have a solution. I dont know why this works, byt it does... The signing function on javacard should look like this:\r\n\r\n\r\n\t  \tbyte[] buffer = apdu.getBuffer();\r\n\t\t \r\n        signature.init(ecPrivateKey, Signature.MODE_SIGN);\r\n        short sLen = signature.sign(helloWorld, (short) 0, (short)helloWorld.length, scratch, (short) 0);\r\n       \r\n        if((short)scratch[4] &lt; 0 || (short)scratch[30] &lt; 0)\r\n        {\r\n        \tsign(apdu);\r\n        }\r\n        else\r\n        {\r\n        \tUtil.arrayCopyNonAtomic(scratch, (short)0, buffer, (short)0, (short) sLen);\r\n\t\t \r\n        \tapdu.setOutgoingAndSend((short)0, (short)sLen);\r\n        }\r\n  \r\nist a &quot;prototype&quot; function. it workes so im sharing it first, later maybe i will improve it a little. scratch is a byte array declared somewhere else.\r\n\r\nlike VOJTA posted earlier the signature (in my example) looks something like this:\r\n\r\n30 34 02 18 [24 bytes NO1] 02 18 [24 byte NO2] [SW - 90 00]\r\n\r\nthe SW is NOT needed. so the SHORT value of the FIRST byte of [24 bytes NO1] and the SHORT value of the first byte of the [24 bytes NO2] cannot be nagative. i dont know why this works. i printed the verified and not verified signatures and i was looking for any differences, and i found this. I made over 1000 tries and verification ALWAYS returned TRUE. the probability that this 2 bytes will be nagative is 1/4 ((-128,127), 0 goes to positive, half negative, half positive -&gt; 1/2 * 1/2 = 1/4)  so probably thats why earlier only 1 on 3,66 signatures vere verified. if someone knows why it worsk i will be happy to read his post\r\n\r\n\r\nEDIT\r\n\r\nnow i know how it works. there are to solutions of this problem. one is the solution above- generate signatures until the SHORT value of 2 elements of the array are positive and the second solution:\r\n\r\nthe signature looks something like this:\r\n\r\n30 __34__ 02 __18__ [24 bytes NO1] 02 __18__ [24 byte NO2]\r\n\r\nnow the algorithm about which VOJTA wrote about (the bold values will be changed if needed)\r\nlex x=34 (SECOND BYTE OF THE SIGN- this may vary, in my signature it is 34). \r\nif first bites of [24 byte NO1] and [24 byte NO2] are positive then do nothing with the signature.\r\nif the SHORT value of the first byte of [24 bytes NO1] is negative then we have to add ONE to X (now x=35), add ONE to the 18 next to the first byte of [24 bytes NO1] and insert a value 00 next to the 18 (now 19) to the signature. if the SHORT value of the first byte of [24 bytes NO2] is negative then we have to add ONE to X (now x=36), add ONE to the 18 next to the first byte of [24 bytes NO2] and insert 00 next to 18 (now 19). if both first bytes vere negative then the signature should look something like this:\r\n\r\n30 __36__ 02 __19__ __00__ [24 bytes NO1] 02 __19__ __00__ [24 byte NO2]\r\n\r\nif only first first byte of [24 bytes NO1] was negative, and the first byte of [24 bytes NO2] was positive the the signature should look somethung like this\r\n\r\n30 __35__ 02 __19__ __00__ [24 bytes NO1] 02 18 [24 byte NO2]\r\n\r\nand the last case:\r\nif only first first byte of [24 bytes NO1] was positive, and the first byte of [24 bytes NO2] was negativethe the signature should look somethung like this\r\n\r\n30 __35__ 02 18 [24 bytes NO1] 02 __19__ __00__ [24 byte NO2]\r\n\r\nhope that i will be useful","title":"Verify javacard signature ALG_ECDSA_SHA on bouncy castle","body":"<p>I have a solution. I dont know why this works, byt it does... The signing function on javacard should look like this:</p>\n\n<pre><code>    byte[] buffer = apdu.getBuffer();\n\n    signature.init(ecPrivateKey, Signature.MODE_SIGN);\n    short sLen = signature.sign(helloWorld, (short) 0, (short)helloWorld.length, scratch, (short) 0);\n\n    if((short)scratch[4] &lt; 0 || (short)scratch[30] &lt; 0)\n    {\n        sign(apdu);\n    }\n    else\n    {\n        Util.arrayCopyNonAtomic(scratch, (short)0, buffer, (short)0, (short) sLen);\n\n        apdu.setOutgoingAndSend((short)0, (short)sLen);\n    }\n</code></pre>\n\n<p>ist a \"prototype\" function. it workes so im sharing it first, later maybe i will improve it a little. scratch is a byte array declared somewhere else.</p>\n\n<p>like VOJTA posted earlier the signature (in my example) looks something like this:</p>\n\n<p>30 34 02 18 [24 bytes NO1] 02 18 [24 byte NO2] [SW - 90 00]</p>\n\n<p>the SW is NOT needed. so the SHORT value of the FIRST byte of [24 bytes NO1] and the SHORT value of the first byte of the [24 bytes NO2] cannot be nagative. i dont know why this works. i printed the verified and not verified signatures and i was looking for any differences, and i found this. I made over 1000 tries and verification ALWAYS returned TRUE. the probability that this 2 bytes will be nagative is 1/4 ((-128,127), 0 goes to positive, half negative, half positive -> 1/2 * 1/2 = 1/4)  so probably thats why earlier only 1 on 3,66 signatures vere verified. if someone knows why it worsk i will be happy to read his post</p>\n\n<p>EDIT</p>\n\n<p>now i know how it works. there are to solutions of this problem. one is the solution above- generate signatures until the SHORT value of 2 elements of the array are positive and the second solution:</p>\n\n<p>the signature looks something like this:</p>\n\n<p>30 <strong>34</strong> 02 <strong>18</strong> [24 bytes NO1] 02 <strong>18</strong> [24 byte NO2]</p>\n\n<p>now the algorithm about which VOJTA wrote about (the bold values will be changed if needed)\nlex x=34 (SECOND BYTE OF THE SIGN- this may vary, in my signature it is 34). \nif first bites of [24 byte NO1] and [24 byte NO2] are positive then do nothing with the signature.\nif the SHORT value of the first byte of [24 bytes NO1] is negative then we have to add ONE to X (now x=35), add ONE to the 18 next to the first byte of [24 bytes NO1] and insert a value 00 next to the 18 (now 19) to the signature. if the SHORT value of the first byte of [24 bytes NO2] is negative then we have to add ONE to X (now x=36), add ONE to the 18 next to the first byte of [24 bytes NO2] and insert 00 next to 18 (now 19). if both first bytes vere negative then the signature should look something like this:</p>\n\n<p>30 <strong>36</strong> 02 <strong>19</strong> <strong>00</strong> [24 bytes NO1] 02 <strong>19</strong> <strong>00</strong> [24 byte NO2]</p>\n\n<p>if only first first byte of [24 bytes NO1] was negative, and the first byte of [24 bytes NO2] was positive the the signature should look somethung like this</p>\n\n<p>30 <strong>35</strong> 02 <strong>19</strong> <strong>00</strong> [24 bytes NO1] 02 18 [24 byte NO2]</p>\n\n<p>and the last case:\nif only first first byte of [24 bytes NO1] was positive, and the first byte of [24 bytes NO2] was negativethe the signature should look somethung like this</p>\n\n<p>30 <strong>35</strong> 02 18 [24 bytes NO1] 02 <strong>19</strong> <strong>00</strong> [24 byte NO2]</p>\n\n<p>hope that i will be useful</p>\n"},{"tags":[],"owner":{"account_id":9093017,"reputation":700,"user_id":6767994,"display_name":"Quinten C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688484187,"creation_date":1688484187,"answer_id":76614022,"question_id":28843390,"body_markdown":"@vojta answer is misleading. The trick is that the sign method returns the length of the signature.\r\n\r\nHave a look:\r\n\r\n```java\r\n// Assuming you have already initialized the privateKey and publicKey objects\r\n\r\n// Define the input message to be signed\r\nbyte[] message = { /* your message bytes here */ };\r\n\r\n// Create a Signature object for ECDSA with SHA-1\r\nSignature signature = Signature.getInstance(Signature.ALG_ECDSA_SHA, false);\r\n\r\n// Initialize the signature object with the private key for signing\r\nsignature.init(privateKey, Signature.MODE_SIGN);\r\n\r\n// Create a temporary buffer for the signature\r\nbyte[] signatureBuffer = new byte[signature.getLength()];\r\n\r\n// Sign the message and store the signature in the buffer\r\nshort signatureLength = signature.sign(message, (short) 0, (short) message.length, signatureBuffer, (short) 0);\r\n\r\n// Initialize the signature object with the public key for verification\r\nsignature.init(publicKey, Signature.MODE_VERIFY);\r\n\r\n// Verify the signature against the original message\r\nboolean result = signature.verify(message, (short) 0, (short) message.length, signatureBuffer, (short) 0, signatureLength);\r\n\r\n// Print the result\r\nSystem.out.println(&quot;Signature verification result: &quot; + result);\r\n```\r\n\r\nIf you then take only the first `signatureLength` bytes of the `signature` buffer BC can verify it no problem without making modifications.\r\n\r\n\r\n","title":"Verify javacard signature ALG_ECDSA_SHA on bouncy castle","body":"<p>@vojta answer is misleading. The trick is that the sign method returns the length of the signature.</p>\n<p>Have a look:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Assuming you have already initialized the privateKey and publicKey objects\n\n// Define the input message to be signed\nbyte[] message = { /* your message bytes here */ };\n\n// Create a Signature object for ECDSA with SHA-1\nSignature signature = Signature.getInstance(Signature.ALG_ECDSA_SHA, false);\n\n// Initialize the signature object with the private key for signing\nsignature.init(privateKey, Signature.MODE_SIGN);\n\n// Create a temporary buffer for the signature\nbyte[] signatureBuffer = new byte[signature.getLength()];\n\n// Sign the message and store the signature in the buffer\nshort signatureLength = signature.sign(message, (short) 0, (short) message.length, signatureBuffer, (short) 0);\n\n// Initialize the signature object with the public key for verification\nsignature.init(publicKey, Signature.MODE_VERIFY);\n\n// Verify the signature against the original message\nboolean result = signature.verify(message, (short) 0, (short) message.length, signatureBuffer, (short) 0, signatureLength);\n\n// Print the result\nSystem.out.println(&quot;Signature verification result: &quot; + result);\n</code></pre>\n<p>If you then take only the first <code>signatureLength</code> bytes of the <code>signature</code> buffer BC can verify it no problem without making modifications.</p>\n"}],"owner":{"account_id":4392576,"reputation":167,"user_id":3580519,"accept_rate":50,"display_name":"TajnosAgentos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1443,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1688484187,"creation_date":1425422275,"question_id":28843390,"body_markdown":"My problem looks like this: im generating a signature on javaCard (jcdk 2.2.2) and when when i want to verify it on the terminal using BouncyCastle the signature isnt always verified- 1 in 3,66 (average in 100 tries) signatures are verified, the rest in returning false. when i verify the signature on the card it always returns true, but on the terminal it usually returns false, but sometimes true. because the terminal sometimes gives a positive answer i think that the code is ok and the reason is some where else but i can be wrong.\r\n\r\non javacard im usign Signature.ALG_ECDSA_SHA, and on the terminal Signature.getInstance(&quot;SHA1withECDSA&quot;, &quot;BC&quot;) i tried also SHA1withDetECDSA but i behaves similar.\r\n\r\nplease help.\r\n\r\n","title":"Verify javacard signature ALG_ECDSA_SHA on bouncy castle","body":"<p>My problem looks like this: im generating a signature on javaCard (jcdk 2.2.2) and when when i want to verify it on the terminal using BouncyCastle the signature isnt always verified- 1 in 3,66 (average in 100 tries) signatures are verified, the rest in returning false. when i verify the signature on the card it always returns true, but on the terminal it usually returns false, but sometimes true. because the terminal sometimes gives a positive answer i think that the code is ok and the reason is some where else but i can be wrong.</p>\n\n<p>on javacard im usign Signature.ALG_ECDSA_SHA, and on the terminal Signature.getInstance(\"SHA1withECDSA\", \"BC\") i tried also SHA1withDetECDSA but i behaves similar.</p>\n\n<p>please help.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688487076,"post_id":76614020,"comment_id":135079446,"body_markdown":"`decided to change .m2 directory ,so changed it to /users//my-m2/my-settings.xml, and /users//my-m2/my-repository in Build,Execution Deployment---Maven section` Why?","body":"<code>decided to change .m2 directory ,so changed it to &#47;users&#47;&#47;my-m2&#47;my-settings.xml, and &#47;users&#47;&#47;my-m2&#47;my-repository in Build,Execution Deployment---Maven section</code> Why?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688493800,"post_id":76614020,"comment_id":135080493,"body_markdown":"Why? The `.m2` is the central location for Maven on your system, you don&#39;t need to have a new one per project.","body":"Why? The <code>.m2</code> is the central location for Maven on your system, you don&#39;t need to have a new one per project."}],"owner":{"account_id":20168591,"reputation":58,"user_id":14791907,"display_name":"Grigor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688484153,"creation_date":1688484153,"question_id":76614020,"body_markdown":"I opened a project ,since got another project going, decided to change .m2 directory ,so changed it to /users/*********/my-m2/my-settings.xml, and /users/*********/my-m2/my-repository in Build,Execution Deployment---Maven section ,after that did mvn clean install so build is done but @SpringBootApplication is not found.\r\nThis is my pom.xml\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo111111&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo111111&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nalso downloaded another maven and configured MAVEN_HOME.\r\n\r\n","title":"Spring boot application is built but Annotation cannot be found?","body":"<p>I opened a project ,since got another project going, decided to change .m2 directory ,so changed it to /users/<em><strong><strong><strong><strong>/my-m2/my-settings.xml, and /users/</strong></strong></strong></strong></em>/my-m2/my-repository in Build,Execution Deployment---Maven section ,after that did mvn clean install so build is done but @SpringBootApplication is not found.\nThis is my pom.xml</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo111111&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo111111&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>also downloaded another maven and configured MAVEN_HOME.</p>\n"},{"tags":["java","maven","configuration"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688461121,"post_id":76610468,"comment_id":135073853,"body_markdown":"Which Maven version do you use? Which JDK?","body":"Which Maven version do you use? Which JDK?"},{"owner":{"account_id":25827896,"reputation":25,"user_id":19565633,"display_name":"Samuel Toman"},"score":0,"creation_date":1688465088,"post_id":76610468,"comment_id":135074717,"body_markdown":"I&#39;ve tried Maven versions 3.9.1 and 3.9.3. And I&#39;ve tried with JDK versions 8, 11 and 17.","body":"I&#39;ve tried Maven versions 3.9.1 and 3.9.3. And I&#39;ve tried with JDK versions 8, 11 and 17."}],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688484018,"creation_date":1688483636,"answer_id":76613957,"question_id":76610468,"body_markdown":"`.mvn/maven.config` since from Maven 3.9.x should contains each argument in separate line - https://maven.apache.org/configure.html\r\n\r\nexample of `.mvn/maven.config`:\r\n\r\n```\r\n-Daether.dependencyCollector.impl=bf\r\n```\r\n \r\nProperties with dots should be wrapped in double quotes (probably only on Windows), so try:\r\n\r\n```\r\nmvn clean install -DskipTests -D&quot;aether.dependencyCollector.impl=bf&quot;\r\n```\r\n","title":"How to set Maven dependency collector implementation to breath-first","body":"<p><code>.mvn/maven.config</code> since from Maven 3.9.x should contains each argument in separate line - <a href=\"https://maven.apache.org/configure.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/configure.html</a></p>\n<p>example of <code>.mvn/maven.config</code>:</p>\n<pre><code>-Daether.dependencyCollector.impl=bf\n</code></pre>\n<p>Properties with dots should be wrapped in double quotes (probably only on Windows), so try:</p>\n<pre><code>mvn clean install -DskipTests -D&quot;aether.dependencyCollector.impl=bf&quot;\n</code></pre>\n"}],"owner":{"account_id":25827896,"reputation":25,"user_id":19565633,"display_name":"Samuel Toman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76613957,"answer_count":1,"score":1,"last_activity_date":1688484018,"creation_date":1688457487,"question_id":76610468,"body_markdown":"At work, we&#39;re using Maven to build a relatively large Java project, with a lot of dependencies that need to be downloaded. I don&#39;t know much about how Maven works, but when I saw it downloading the dependencies sequentially one-by-one, I thought it to be extremely inefficient, and that there had to be a setting, which allows it to download them in parallel (based on some dependency tree).\r\n\r\nI&#39;ve looked around on the internet, and I&#39;ve found that since Maven version 3.9.0, there is this option: aether.dependencyCollector.impl = &#39;bf&#39;, which sets the dependency resolver to a &#39;breath-first&#39; strategy (instead of the default depth-first).\r\n(Found here: https://maven.apache.org/resolver/configuration.html)\r\nI&#39;m running Maven 3.9.1, so it should work.\r\n\r\nOn another page, I&#39;ve found how to use the option (here: https://issues.apache.org/jira/browse/MRESOLVER-324).\r\n\r\nI&#39;ve tried adding the line &#39;aether.dependencyCollector.impl=bf&#39; into $basedir/.mvn/maven.config, but I&#39;m getting a ParseException:\r\n\r\n```\r\norg.apache.commons.cli.ParseException: Unrecognized maven.config file entries: [aether.dependencyCollector.impl=bf]\r\n```\r\n\r\nI&#39;ve also tried using it direcly on the command line like so:\r\n\r\n```\r\nmvn clean install -DskipTests -Daether.dependencyCollector.impl=bf\r\n```\r\n\r\nBut this also yields the following error:\r\n\r\n```\r\nUnknown lifecycle phase &quot;.dependencyCollector.impl=bf&quot;.\r\nYou must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: pre-clean, clean, post-clean, validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-site, site, post-site, site-deploy.\r\n```\r\n\r\nWhat am I doing wrong? Any help would be appreciated.","title":"How to set Maven dependency collector implementation to breath-first","body":"<p>At work, we're using Maven to build a relatively large Java project, with a lot of dependencies that need to be downloaded. I don't know much about how Maven works, but when I saw it downloading the dependencies sequentially one-by-one, I thought it to be extremely inefficient, and that there had to be a setting, which allows it to download them in parallel (based on some dependency tree).</p>\n<p>I've looked around on the internet, and I've found that since Maven version 3.9.0, there is this option: aether.dependencyCollector.impl = 'bf', which sets the dependency resolver to a 'breath-first' strategy (instead of the default depth-first).\n(Found here: <a href=\"https://maven.apache.org/resolver/configuration.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/resolver/configuration.html</a>)\nI'm running Maven 3.9.1, so it should work.</p>\n<p>On another page, I've found how to use the option (here: <a href=\"https://issues.apache.org/jira/browse/MRESOLVER-324\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/MRESOLVER-324</a>).</p>\n<p>I've tried adding the line 'aether.dependencyCollector.impl=bf' into $basedir/.mvn/maven.config, but I'm getting a ParseException:</p>\n<pre><code>org.apache.commons.cli.ParseException: Unrecognized maven.config file entries: [aether.dependencyCollector.impl=bf]\n</code></pre>\n<p>I've also tried using it direcly on the command line like so:</p>\n<pre><code>mvn clean install -DskipTests -Daether.dependencyCollector.impl=bf\n</code></pre>\n<p>But this also yields the following error:</p>\n<pre><code>Unknown lifecycle phase &quot;.dependencyCollector.impl=bf&quot;.\nYou must specify a valid lifecycle phase or a goal in the format &lt;plugin-prefix&gt;:&lt;goal&gt; or &lt;plugin-group-id&gt;:&lt;plugin-artifact-id&gt;[:&lt;plugin-version&gt;]:&lt;goal&gt;. Available lifecycle phases are: pre-clean, clean, post-clean, validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy, pre-site, site, post-site, site-deploy.\n</code></pre>\n<p>What am I doing wrong? Any help would be appreciated.</p>\n"},{"tags":["java","unit-testing","junit","jacoco","jacoco-maven-plugin"],"owner":{"account_id":6416452,"reputation":43,"user_id":4974503,"display_name":"Duc Bui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688483971,"creation_date":1688483971,"question_id":76613992,"body_markdown":"I want to write the unit test of the method just like \r\n```\r\npublic void complete() {\r\n    System.exit(0);\r\n}\r\n```\r\n\r\nI tried these instructions:\r\n- https://stackoverflow.com/questions/309396/how-to-test-methods-that-call-system-exit?answertab=scoredesc\r\n- OR the very details is in : https://www.dontpanicblog.co.uk/2022/10/30/testing-system-exit/\r\n\r\nWith these ways, the unit test with System.exit is covered 100% when I run it individually. However, when I run it with mvn clean install &amp; jacoco-maven-plugin, it says that the method is not covered in unit test\r\n\r\nThe problem can be pre-produced with the code on: https://github.com/hotblac/system-exit/tree/junit5\r\nAnd the jacoco config on pom.xml:\r\n\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.10&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-initialize&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-check&lt;/id&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;rule&gt;\r\n                                    &lt;element&gt;CLASS&lt;/element&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;*Test&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                    &lt;limits&gt;\r\n                                        &lt;limit&gt;\r\n                                            &lt;counter&gt;LINE&lt;/counter&gt;\r\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                            &lt;minimum&gt;90%&lt;/minimum&gt;\r\n                                        &lt;/limit&gt;\r\n                                    &lt;/limits&gt;\r\n                                &lt;/rule&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-site&lt;/id&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\n\r\n","title":"How to make the test methods that call System.exit() are covered with jacoco-maven-plugin?","body":"<p>I want to write the unit test of the method just like</p>\n<pre><code>public void complete() {\n    System.exit(0);\n}\n</code></pre>\n<p>I tried these instructions:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/309396/how-to-test-methods-that-call-system-exit?answertab=scoredesc\">How to test methods that call System.exit()?</a></li>\n<li>OR the very details is in : <a href=\"https://www.dontpanicblog.co.uk/2022/10/30/testing-system-exit/\" rel=\"nofollow noreferrer\">https://www.dontpanicblog.co.uk/2022/10/30/testing-system-exit/</a></li>\n</ul>\n<p>With these ways, the unit test with System.exit is covered 100% when I run it individually. However, when I run it with mvn clean install &amp; jacoco-maven-plugin, it says that the method is not covered in unit test</p>\n<p>The problem can be pre-produced with the code on: <a href=\"https://github.com/hotblac/system-exit/tree/junit5\" rel=\"nofollow noreferrer\">https://github.com/hotblac/system-exit/tree/junit5</a>\nAnd the jacoco config on pom.xml:</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.10&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-initialize&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-check&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;rule&gt;\n                                    &lt;element&gt;CLASS&lt;/element&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;*Test&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                    &lt;limits&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;LINE&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;90%&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                    &lt;/limits&gt;\n                                &lt;/rule&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-site&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":15317666,"reputation":87,"user_id":11051112,"display_name":"amangupta"},"score":0,"creation_date":1688475053,"post_id":76612801,"comment_id":135076807,"body_markdown":"Let me know if you require more info for this question. TIA.","body":"Let me know if you require more info for this question. TIA."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688479001,"post_id":76612801,"comment_id":135077758,"body_markdown":"JPA is notoriously bad at having many custom queries. May I recommend a library that gives you more flexibility, such as jOOQ?","body":"JPA is notoriously bad at having many custom queries. May I recommend a library that gives you more flexibility, such as jOOQ?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1688480693,"post_id":76612801,"comment_id":135078126,"body_markdown":"If you want partial data in a java object that doesn&#39;t line up to the table/entity structure - use a constructor query. Simply &quot;select new package.Student(s.id, s.deptId, d.deptName) from Student s join s.department d&quot;. Note that what is returned is not managed entity instance data, but that seems like what you want, and constructor queries can return any java object","body":"If you want partial data in a java object that doesn&#39;t line up to the table/entity structure - use a constructor query. Simply &quot;select new package.Student(s.id, s.deptId, d.deptName) from Student s join s.department d&quot;. Note that what is returned is not managed entity instance data, but that seems like what you want, and constructor queries can return any java object"},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1688484124,"post_id":76612801,"comment_id":135078883,"body_markdown":"May I know, what amount of data are we talking about?\nI mean how much data is there in your `Department` table?","body":"May I know, what amount of data are we talking about? I mean how much data is there in your <code>Department</code> table?"}],"owner":{"account_id":15317666,"reputation":87,"user_id":11051112,"display_name":"amangupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688483687,"creation_date":1688474843,"question_id":76612801,"body_markdown":"Consider this usecase:\r\n\r\n```\r\nclass Department {\r\n   \r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n   @Column(name = &quot;dept_id&quot;)\r\n   private Long deptId;\r\n   \r\n   @Column(name = &quot;dept_name&quot;)\r\n   private String deptName;\r\n\r\n   // other heavy fields.\r\n}\r\n```\r\n\r\nAnd,\r\n\r\n```\r\nclass Student {\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n   @Column(name = &quot;id&quot;)\r\n   private Long id;\r\n\r\n   @Column(name = &quot;dept_id&quot;)\r\n   private Long deptId;\r\n   \r\n   // This I need to populate\r\n   private String deptName; \r\n\r\n}\r\n\r\n```\r\nHere, deptId in Student Entity is foreign key to deptId(primary key) of Department entity. \r\n\r\nWhat my requirement is I want to populate field deptName\r\ninside Student Entity which is fetched from referenced Department entity.\r\n\r\nI am already aware of solutions like fetching the Complete Department entity with:\r\n```\r\n@ManyToOne(fetchType.Eager)\r\n@JoinColumn(//whatever)\r\nprivate Department department;\r\n```\r\nWHICH I DONT WANT TO DO!\r\n\r\nI just wanted single deptName field to be fetched. Also aware of @Formula and @JoinFormula. But under the impresssion that they are executed on entity level basis. I don&#39;t want to fetch for individual entity every time, instead I want something in bulk (so that number of calls to database can be reduced to one or two). \r\n\r\nComing to question how can I populate this single field efficiently?\r\n\r\nTIA.","title":"Populate field by join query in entity jpa","body":"<p>Consider this usecase:</p>\n<pre><code>class Department {\n   \n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   @Column(name = &quot;dept_id&quot;)\n   private Long deptId;\n   \n   @Column(name = &quot;dept_name&quot;)\n   private String deptName;\n\n   // other heavy fields.\n}\n</code></pre>\n<p>And,</p>\n<pre><code>class Student {\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   @Column(name = &quot;id&quot;)\n   private Long id;\n\n   @Column(name = &quot;dept_id&quot;)\n   private Long deptId;\n   \n   // This I need to populate\n   private String deptName; \n\n}\n\n</code></pre>\n<p>Here, deptId in Student Entity is foreign key to deptId(primary key) of Department entity.</p>\n<p>What my requirement is I want to populate field deptName\ninside Student Entity which is fetched from referenced Department entity.</p>\n<p>I am already aware of solutions like fetching the Complete Department entity with:</p>\n<pre><code>@ManyToOne(fetchType.Eager)\n@JoinColumn(//whatever)\nprivate Department department;\n</code></pre>\n<p>WHICH I DONT WANT TO DO!</p>\n<p>I just wanted single deptName field to be fetched. Also aware of @Formula and @JoinFormula. But under the impresssion that they are executed on entity level basis. I don't want to fetch for individual entity every time, instead I want something in bulk (so that number of calls to database can be reduced to one or two).</p>\n<p>Coming to question how can I populate this single field efficiently?</p>\n<p>TIA.</p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":17836197,"reputation":75,"user_id":12955152,"display_name":"Muhammadoufi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688483297,"creation_date":1688483297,"answer_id":76613916,"question_id":76611699,"body_markdown":"I have solved the problem. The issue was in the `plugins { }` section of the `app/build.gradle` file. The incorrect configuration was as follows:\r\n\r\n```groovy\r\nplugins {\r\n  id &#39;com.android.application&#39;\r\n\r\n  // Add the Google services Gradle plugin\r\n  id &#39;com.google.gms.google-services&#39;\r\n\r\n  id  plugin: &#39;kotlin-android&#39;\r\n  from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n}\r\n```\r\n\r\nThe correct configuration should be:\r\n\r\n```groovy\r\nplugins {\r\n  id &#39;com.android.application&#39;\r\n\r\n  // Add the Google services Gradle plugin\r\n  id &#39;com.google.gms.google-services&#39;\r\n\r\n  id &#39;kotlin-android&#39;\r\n  from &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n}\r\n```\r\n\r\nAlternatively, you can directly remove the `plugins` block from `build.gradle` and configure it like this:\r\n\r\n```groovy\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n```\r\n\r\nThese changes should fix the i am facing.","title":"BUG! exception in phase &#39;conversion&#39; in source unit &#39;_BuildScript_&#39; class org.codehaus.groovy.ast.expr.TupleExpression","body":"<p>I have solved the problem. The issue was in the <code>plugins { }</code> section of the <code>app/build.gradle</code> file. The incorrect configuration was as follows:</p>\n<pre><code>plugins {\n  id 'com.android.application'\n\n  // Add the Google services Gradle plugin\n  id 'com.google.gms.google-services'\n\n  id  plugin: 'kotlin-android'\n  from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n}\n</code></pre>\n<p>The correct configuration should be:</p>\n<pre><code>plugins {\n  id 'com.android.application'\n\n  // Add the Google services Gradle plugin\n  id 'com.google.gms.google-services'\n\n  id 'kotlin-android'\n  from &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n}\n</code></pre>\n<p>Alternatively, you can directly remove the <code>plugins</code> block from <code>build.gradle</code> and configure it like this:</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'com.google.gms.google-services'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n</code></pre>\n<p>These changes should fix the i am facing.</p>\n"}],"owner":{"account_id":17836197,"reputation":75,"user_id":12955152,"display_name":"Muhammadoufi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76613916,"answer_count":1,"score":0,"last_activity_date":1688483297,"creation_date":1688466570,"question_id":76611699,"body_markdown":"I am developping on flutter with vs code my jdk is java 19 and the gradle version is 7.6 and the android studio version is `flamning 2022.2.1`. \r\nThere is my gradle wrapper proties file:\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionPath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n    zipStorePath=wrapper/dists\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-all.zip\r\nI try to run the command `./gradlew signingreport` but i get this error:\r\n\r\n   \r\n\r\n    &gt; PS C:\\Users\\Republic-Of-Computer\\amnir\\android&gt; ./gradlew\r\n    &gt; signingreport  FAILURE: Build failed with an exception.\r\n    &gt; * Where: Build file &#39;C:\\Users\\Republic-Of-Computer\\amnir\\android\\build.gradle&#39; line: 32\r\n    &gt; \r\n    &gt; * What went wrong: A problem occurred evaluating root project &#39;android&#39;.\r\n    &gt;     &gt; A problem occurred configuring project &#39;:app&#39;.\r\n    &gt;        &gt; Could not open cp_proj generic class cache for build file &#39;C:\\Users\\Republic-Of-Computer\\amnir\\android\\app\\build.gradle&#39;\r\n    &gt; (C:\\Users\\Republic Of\r\n    &gt; Computer\\.gradle\\caches\\7.6\\scripts\\4pdap60mfom4g0rgb39ojh57o).\r\n    &gt;           &gt; BUG! exception in phase &#39;conversion&#39; in source unit &#39;_BuildScript_&#39; class org.codehaus.groovy.ast.expr.TupleExpression\r\n    &gt; cannot be cast to class \r\n    &gt;     org.codehaus.groovy.ast.expr.ArgumentListExpression (org.codehaus.groovy.ast.expr.TupleExpression and\r\n    &gt; org.codehaus.groovy.ast.expr.ArgumentListExpression are in unnamed\r\n    &gt; module of loader\r\n    &gt; org.gradle.internal.classloader.VisitableURLClassLoader @182decdb)\r\n    &gt;     \r\n    &gt;     * Try:\r\n    &gt;     &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt;     &gt; Run with --info or --debug option to get more log output.\r\n    &gt;     &gt; Run with --scan to get full insights.\r\n\r\n\r\nThere is my build.gradle file \r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.7.10&#39;\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.3.0&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n            // classpath &quot;com.google.gms.google-services:4.3.15&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n    \r\n        }\r\n    }\r\n    \r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    rootProject.buildDir = &#39;../build&#39;\r\n    subprojects {\r\n        project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n    }\r\n    subprojects {\r\n        project.evaluationDependsOn(&#39;:app&#39;)\r\n    }\r\n    \r\n    tasks.register(&quot;clean&quot;, Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\n\r\nI use flutter version 3.10.2\r\n\r\n    Flutter 3.10.2 • channel stable • https://github.com/flutter/flutter.git\r\n    Framework • revision 9cd3d0d9ff (6 weeks ago) • 2023-05-23 20:57:28 -0700\r\n    Engine • revision 90fa3ae28f\r\n    Tools • Dart 3.0.2 • DevTools 2.23.1\r\n\r\n","title":"BUG! exception in phase &#39;conversion&#39; in source unit &#39;_BuildScript_&#39; class org.codehaus.groovy.ast.expr.TupleExpression","body":"<p>I am developping on flutter with vs code my jdk is java 19 and the gradle version is 7.6 and the android studio version is <code>flamning 2022.2.1</code>.\nThere is my gradle wrapper proties file:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-all.zip\n</code></pre>\n<p>I try to run the command <code>./gradlew signingreport</code> but i get this error:</p>\n<pre><code>&gt; PS C:\\Users\\Republic-Of-Computer\\amnir\\android&gt; ./gradlew\n&gt; signingreport  FAILURE: Build failed with an exception.\n&gt; * Where: Build file 'C:\\Users\\Republic-Of-Computer\\amnir\\android\\build.gradle' line: 32\n&gt; \n&gt; * What went wrong: A problem occurred evaluating root project 'android'.\n&gt;     &gt; A problem occurred configuring project ':app'.\n&gt;        &gt; Could not open cp_proj generic class cache for build file 'C:\\Users\\Republic-Of-Computer\\amnir\\android\\app\\build.gradle'\n&gt; (C:\\Users\\Republic Of\n&gt; Computer\\.gradle\\caches\\7.6\\scripts\\4pdap60mfom4g0rgb39ojh57o).\n&gt;           &gt; BUG! exception in phase 'conversion' in source unit '_BuildScript_' class org.codehaus.groovy.ast.expr.TupleExpression\n&gt; cannot be cast to class \n&gt;     org.codehaus.groovy.ast.expr.ArgumentListExpression (org.codehaus.groovy.ast.expr.TupleExpression and\n&gt; org.codehaus.groovy.ast.expr.ArgumentListExpression are in unnamed\n&gt; module of loader\n&gt; org.gradle.internal.classloader.VisitableURLClassLoader @182decdb)\n&gt;     \n&gt;     * Try:\n&gt;     &gt; Run with --stacktrace option to get the stack trace.\n&gt;     &gt; Run with --info or --debug option to get more log output.\n&gt;     &gt; Run with --scan to get full insights.\n</code></pre>\n<p>There is my build.gradle file</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.7.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.3.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        // classpath &quot;com.google.gms.google-services:4.3.15&quot;\n        classpath 'com.google.gms:google-services:4.3.15'\n\n    }\n}\n\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\n\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntasks.register(&quot;clean&quot;, Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>I use flutter version 3.10.2</p>\n<pre><code>Flutter 3.10.2 • channel stable • https://github.com/flutter/flutter.git\nFramework • revision 9cd3d0d9ff (6 weeks ago) • 2023-05-23 20:57:28 -0700\nEngine • revision 90fa3ae28f\nTools • Dart 3.0.2 • DevTools 2.23.1\n</code></pre>\n"},{"tags":["java","hibernate","liquibase","bean-validation","liquibase-hibernate"],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688482843,"creation_date":1688482843,"question_id":76613872,"body_markdown":"I have a Java Entity class and a Java Data Transfer Object, each of which has it&#39;s own layer of validation based on constraints.\r\n\r\nI use Liquibase to generate changelogs (db schema) based on the state of the Java Entity classes.\r\nBut there is a bug in the `liquibase-hibernate` integration dependency which is not mapping Bean Validation constraints such as `@NotNull` or `@Size` into the corresponding Liquibase changelogs:\r\n\r\nhttps://github.com/liquibase/liquibase-hibernate/issues/149\r\n\r\nhttps://github.com/liquibase/liquibase-hibernate/issues/301\r\n\r\nThis means the only way I can specify constraints for the database is inside the JPA `@Column` annotation.\r\n\r\nI wont be able to group the Bean Validation constraints used at the DTO layer into a composite annotation for use at the Java Entity layer, as it will simply be ignored anyway. Resulting in having to duplicate the constraint info into the `@Column` annotation.\r\n\r\nWhat is the best practice for sharing constraint metadata between the separate DTO and DB layers?\r\n\r\n* A composite annotation containing all Bean Validation and JPA constraints? e.g `@Size`, `@NotNull`, `@Column`\r\n* Is there a library that facilitates sharing between the layers?\r\n* Or is it expected that no Bean Validation constraints should be specified inside Java Entity and duplication cannot be avoided?\r\n\r\n```\r\nimport jakarta.persistence.*;\r\nimport javax.validation.constraints.NotNull;\r\n\r\n@Entity\r\npublic class ItemOne {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    @NotNull\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Size(max = 10)\r\n    @Column(name = &quot;text&quot;, nullable = false, length = 100)\r\n    String text;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getText() {\r\n        return text;\r\n    }\r\n\r\n    public void setText(String text) {\r\n        this.text = text;\r\n    }\r\n}\r\n```\r\n\r\nThe associated DTO which has the Bean Validation constraints applied to fields:\r\n\r\n```\r\nimport jakarta.persistence.*;\r\nimport javax.validation.constraints.NotNull;\r\n\r\n@Entity\r\npublic class ItemOneDTO {\r\n\r\n\r\n    @NotNull\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Size(max = 10)\r\n    String text;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getText() {\r\n        return text;\r\n    }\r\n\r\n    public void setText(String text) {\r\n        this.text = text;\r\n    }\r\n}\r\n```","title":"Sharing field constraint metadata between Java DTO layer and Java Entity layer","body":"<p>I have a Java Entity class and a Java Data Transfer Object, each of which has it's own layer of validation based on constraints.</p>\n<p>I use Liquibase to generate changelogs (db schema) based on the state of the Java Entity classes.\nBut there is a bug in the <code>liquibase-hibernate</code> integration dependency which is not mapping Bean Validation constraints such as <code>@NotNull</code> or <code>@Size</code> into the corresponding Liquibase changelogs:</p>\n<p><a href=\"https://github.com/liquibase/liquibase-hibernate/issues/149\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase-hibernate/issues/149</a></p>\n<p><a href=\"https://github.com/liquibase/liquibase-hibernate/issues/301\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase-hibernate/issues/301</a></p>\n<p>This means the only way I can specify constraints for the database is inside the JPA <code>@Column</code> annotation.</p>\n<p>I wont be able to group the Bean Validation constraints used at the DTO layer into a composite annotation for use at the Java Entity layer, as it will simply be ignored anyway. Resulting in having to duplicate the constraint info into the <code>@Column</code> annotation.</p>\n<p>What is the best practice for sharing constraint metadata between the separate DTO and DB layers?</p>\n<ul>\n<li>A composite annotation containing all Bean Validation and JPA constraints? e.g <code>@Size</code>, <code>@NotNull</code>, <code>@Column</code></li>\n<li>Is there a library that facilitates sharing between the layers?</li>\n<li>Or is it expected that no Bean Validation constraints should be specified inside Java Entity and duplication cannot be avoided?</li>\n</ul>\n<pre><code>import jakarta.persistence.*;\nimport javax.validation.constraints.NotNull;\n\n@Entity\npublic class ItemOne {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    @NotNull\n    private Long id;\n\n    @NotNull\n    @Size(max = 10)\n    @Column(name = &quot;text&quot;, nullable = false, length = 100)\n    String text;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n}\n</code></pre>\n<p>The associated DTO which has the Bean Validation constraints applied to fields:</p>\n<pre><code>import jakarta.persistence.*;\nimport javax.validation.constraints.NotNull;\n\n@Entity\npublic class ItemOneDTO {\n\n\n    @NotNull\n    private Long id;\n\n    @NotNull\n    @Size(max = 10)\n    String text;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","htmlunit"],"comments":[{"owner":{"account_id":8182152,"reputation":1309,"user_id":6158939,"display_name":"Shivani Sonagara"},"score":0,"creation_date":1563860254,"post_id":57157285,"comment_id":100829287,"body_markdown":"Please try to change the variable name html to any other. May be due to reserved word it triggers the problem. I am not sure this works or not but you may try this.","body":"Please try to change the variable name html to any other. May be due to reserved word it triggers the problem. I am not sure this works or not but you may try this."},{"owner":{"account_id":11547268,"reputation":512,"user_id":8460904,"display_name":"Trupti J"},"score":0,"creation_date":1563860314,"post_id":57157285,"comment_id":100829302,"body_markdown":"Please add whole working example of your code. Are you writing this code in Javascript? If yes, please add your html and css code as well if any.You can also add your code to jsfiddle and provide the link so that someone can take a look and resolve your issue.","body":"Please add whole working example of your code. Are you writing this code in Javascript? If yes, please add your html and css code as well if any.You can also add your code to jsfiddle and provide the link so that someone can take a look and resolve your issue."}],"answers":[{"tags":[],"owner":{"account_id":10160323,"reputation":522,"user_id":7504001,"accept_rate":40,"display_name":"Vikas Suryawanshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563862482,"creation_date":1563862482,"answer_id":57157723,"question_id":57157285,"body_markdown":"you can use the java-script click event on that element as :\r\n \r\n\r\n    HtmlPage page = client.getPage(&quot;xxx&quot;);\r\n    page = (HtmlPage) page.getFrameByName(&quot;xxx&quot;).getEnclosedPage();\r\n    HtmlElement test = page.getFirstByXPath(&quot;//div[@id=&#39;s81&#39;]&quot;);\r\n    JavascriptExecutor executor = (JavascriptExecutor)driver;\r\n    executor.executeScript(&quot;arguments[0].click();&quot;, test);","title":"HtmlUnit: click() function doesn&#39;t do anything","body":"<p>you can use the java-script click event on that element as :</p>\n\n<pre><code>HtmlPage page = client.getPage(\"xxx\");\npage = (HtmlPage) page.getFrameByName(\"xxx\").getEnclosedPage();\nHtmlElement test = page.getFirstByXPath(\"//div[@id='s81']\");\nJavascriptExecutor executor = (JavascriptExecutor)driver;\nexecutor.executeScript(\"arguments[0].click();\", test);\n</code></pre>\n"}],"owner":{"account_id":16347439,"reputation":11,"user_id":11806814,"display_name":"itobi1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688482682,"creation_date":1563860031,"question_id":57157285,"body_markdown":"I&#39;m having trouble with the click() function from HtmlUnit.\r\nIt doesn&#39;t do anything for me.\r\n\r\n~~~\r\nHtmlPage page = client.getPage(&quot;xxx&quot;);\r\npage = (HtmlPage) page.getFrameByName(&quot;xxx&quot;).getEnclosedPage();\r\nHtmlElement test = page.getFirstByXPath(&quot;//div[@id=&#39;s81&#39;]&quot;);\r\npage = test.click();\r\n~~~\r\n\r\n~~~\r\n&lt;div id=&quot;s81&quot; class=&quot;mmenu&quot; data-bind=&quot;click: function(){ CheckId(&#39;Counternav&#39;,mes()[120]) }, text: mes()[120]&quot;&gt;Counter&lt;/div&gt;\r\n~~~\r\n\r\nThe div is found, that isn&#39;t the problem. The click() function just doesn&#39;t change anything to the page. Am I unsing the function wrong?\r\n\r\nI hope somebody can help and many thanks in advance!","title":"HtmlUnit: click() function doesn&#39;t do anything","body":"<p>I'm having trouble with the click() function from HtmlUnit.\nIt doesn't do anything for me.</p>\n\n<pre><code>HtmlPage page = client.getPage(\"xxx\");\npage = (HtmlPage) page.getFrameByName(\"xxx\").getEnclosedPage();\nHtmlElement test = page.getFirstByXPath(\"//div[@id='s81']\");\npage = test.click();\n</code></pre>\n\n<pre><code>&lt;div id=\"s81\" class=\"mmenu\" data-bind=\"click: function(){ CheckId('Counternav',mes()[120]) }, text: mes()[120]\"&gt;Counter&lt;/div&gt;\n</code></pre>\n\n<p>The div is found, that isn't the problem. The click() function just doesn't change anything to the page. Am I unsing the function wrong?</p>\n\n<p>I hope somebody can help and many thanks in advance!</p>\n"},{"tags":["java","spring","spring-boot","spring-security","multipart"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688494373,"post_id":76613817,"comment_id":135080572,"body_markdown":"That controller is for posting an image **not** receiving an image. Also just posting randomg methods without the context of a class isn&#39;t really helpful.","body":"That controller is for posting an image <b>not</b> receiving an image. Also just posting randomg methods without the context of a class isn&#39;t really helpful."}],"owner":{"account_id":22271823,"reputation":1,"user_id":16501655,"display_name":"prakash aathi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688482373,"creation_date":1688482256,"question_id":76613817,"body_markdown":"Actually, I am facing an error while using Spring Boot version 2.7.10. I have implemented JWT Spring Security, and initially, everything was working fine. However, when I tried to retrieve an image as input using a multipart file, it resulted in the following error:\r\n```\r\n2023-07-03 11:13:57.706 ERROR 12008 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet] : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.FileDescriptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[0]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;]-&gt;java.io.FileInputStream[&quot;fd&quot;])\r\n```\r\nTo provide more context, when I removed Spring Security from the controller, the code worked successfully. Here is an example of the controller without Spring Security:\r\n```\r\n@ResponseStatus(value = HttpStatus.OK)\r\n@PostMapping(&quot;/upload&quot;)\r\npublic void uploadImage(@RequestParam(&quot;productImage&quot;) MultipartFile file) throws IOException {\r\n\r\n&#160;&#160;System.out.println(&quot;Success uploading image file.&quot;);\r\n\r\n}\r\n```\r\nFor further understanding of the security configuration, I have attached the GitHub link below: https://github.com/prakash-aathi/authentication-authorization\r\n\r\nI would appreciate any help or insights regarding this issue. Thank you in advance!","title":"Spring boot security and multipart file upload failling","body":"<p>Actually, I am facing an error while using Spring Boot version 2.7.10. I have implemented JWT Spring Security, and initially, everything was working fine. However, when I tried to retrieve an image as input using a multipart file, it resulted in the following error:</p>\n<pre><code>2023-07-03 11:13:57.706 ERROR 12008 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet] : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.FileDescriptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[0]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;]-&gt;java.io.FileInputStream[&quot;fd&quot;])\n</code></pre>\n<p>To provide more context, when I removed Spring Security from the controller, the code worked successfully. Here is an example of the controller without Spring Security:</p>\n<pre><code>@ResponseStatus(value = HttpStatus.OK)\n@PostMapping(&quot;/upload&quot;)\npublic void uploadImage(@RequestParam(&quot;productImage&quot;) MultipartFile file) throws IOException {\n\n  System.out.println(&quot;Success uploading image file.&quot;);\n\n}\n</code></pre>\n<p>For further understanding of the security configuration, I have attached the GitHub link below: <a href=\"https://github.com/prakash-aathi/authentication-authorization\" rel=\"nofollow noreferrer\">https://github.com/prakash-aathi/authentication-authorization</a></p>\n<p>I would appreciate any help or insights regarding this issue. Thank you in advance!</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688468838,"creation_date":1688468838,"answer_id":76611979,"question_id":76611947,"body_markdown":"https://stackoverflow.com/questions/67507452/no-spring-config-import-property-has-been-defined\r\n\r\nSolution for Maven\r\n\r\nAdd the below dependency in the pom.xml file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    Solution for Gradle\r\n\r\nAdd in the build.gradle file:\r\n\r\n    implementation(&#39;org.springframework.cloud:spring-cloud-starter-bootstrap&#39;)","title":"ERROR --- [ main] o.s.boot.SpringApplication : Application run failed","body":"<p><a href=\"https://stackoverflow.com/questions/67507452/no-spring-config-import-property-has-been-defined\">No spring.config.import property has been defined</a></p>\n<p>Solution for Maven</p>\n<p>Add the below dependency in the pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n&lt;/dependency&gt;\nSolution for Gradle\n</code></pre>\n<p>Add in the build.gradle file:</p>\n<pre><code>implementation('org.springframework.cloud:spring-cloud-starter-bootstrap')\n</code></pre>\n"}],"owner":{"account_id":28947984,"reputation":3,"user_id":22173198,"display_name":"Sai Gangadhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":682,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76611979,"answer_count":1,"score":-1,"last_activity_date":1688481443,"creation_date":1688468497,"question_id":76611947,"body_markdown":"I am disabling spring cloud configuration in bootstrap.yml in gradle project as below:\r\n\r\n```yaml\r\nspring:\r\n  cloud:\r\n    config:\r\n      enabled: false\r\n```\r\n\r\n\r\nBut still getting this error when running Spring Boot application:\r\n\r\n```\r\n2023-07-03 00:30:27.370 ERROR   --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor$ImportException: No spring.config.import set\r\n\tat org.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor.postProcessEnvironment(ConfigDataMissingEnvironmentPostProcessor.java:65)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:188)\r\n\tat org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:176)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:76)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)\r\n```\r\n","title":"ERROR --- [ main] o.s.boot.SpringApplication : Application run failed","body":"<p>I am disabling spring cloud configuration in bootstrap.yml in gradle project as below:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    config:\n      enabled: false\n</code></pre>\n<p>But still getting this error when running Spring Boot application:</p>\n<pre><code>2023-07-03 00:30:27.370 ERROR   --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor$ImportException: No spring.config.import set\n    at org.springframework.cloud.commons.ConfigDataMissingEnvironmentPostProcessor.postProcessEnvironment(ConfigDataMissingEnvironmentPostProcessor.java:65)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:188)\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:176)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:76)\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:345)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:51)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)\n</code></pre>\n"},{"tags":["java","apache-spark","log4j","mesos"],"owner":{"account_id":424418,"reputation":4682,"user_id":804409,"accept_rate":54,"display_name":"omu_negru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688481438,"creation_date":1688481438,"question_id":76613710,"body_markdown":"I am trying to pass a custom log4j configuration file to the spark executor. \r\nSo far i am using the `--files` param to `spark-submit` and can indeed attest that the respective file is transported in the executor working folder. However when trying to use said file by passing `--conf spark.executor.extraJavaOptions=-Dlog4j.configuration=file:log4j.properties` to `spark-submit`, i notice a FileNotFound error in the executor logs. After that i see a message that the config file is being downloaded and placed inside the executor work dir. \r\n\r\nTo me it seems that, given the order of the logs, the log4j config file location is searched first, then the files are downloaded, which means that there is no way to decide the config using only spark-submit. \r\n\r\nCan anyone confirm this ? Is there a workaround for this if my suspicions are true ? If I am wrong then where is my mistake in composing the `spark-submit` parameters?\r\n\r\nI am using spark 3.2 on mesos","title":"Trying to use log4j configuration sent with --files param on spark-submit","body":"<p>I am trying to pass a custom log4j configuration file to the spark executor.\nSo far i am using the <code>--files</code> param to <code>spark-submit</code> and can indeed attest that the respective file is transported in the executor working folder. However when trying to use said file by passing <code>--conf spark.executor.extraJavaOptions=-Dlog4j.configuration=file:log4j.properties</code> to <code>spark-submit</code>, i notice a FileNotFound error in the executor logs. After that i see a message that the config file is being downloaded and placed inside the executor work dir.</p>\n<p>To me it seems that, given the order of the logs, the log4j config file location is searched first, then the files are downloaded, which means that there is no way to decide the config using only spark-submit.</p>\n<p>Can anyone confirm this ? Is there a workaround for this if my suspicions are true ? If I am wrong then where is my mistake in composing the <code>spark-submit</code> parameters?</p>\n<p>I am using spark 3.2 on mesos</p>\n"},{"tags":["java","performance","spring","http","http-streaming"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1321342712,"post_id":8132883,"comment_id":9978952,"body_markdown":"what&#39;s your servlet container and what&#39;s your view technology? (jsp, velocity, etc..)","body":"what&#39;s your servlet container and what&#39;s your view technology? (jsp, velocity, etc..)"},{"owner":{"account_id":147712,"reputation":587,"user_id":359015,"accept_rate":50,"display_name":"Karthik Kastury"},"score":0,"creation_date":1326900132,"post_id":8132883,"comment_id":11148453,"body_markdown":"It&#39;s using JSP for the View Componenents, and is running in Geronimo as the Application Server.","body":"It&#39;s using JSP for the View Componenents, and is running in Geronimo as the Application Server."}],"answers":[{"tags":[],"owner":{"account_id":48427,"reputation":3263,"user_id":143897,"accept_rate":60,"display_name":"Jay D"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1327084817,"creation_date":1327084817,"answer_id":8946257,"question_id":8132883,"body_markdown":"HTTP is a layer 7 ( /OSI Model) / 5 layer (TCP/IP Model) protocol. And a given application framework runs at or on the top of that. \r\n\r\nThus a given HTTP (get/POST) / pipelined request is essentially using a TCP pipe opened by the framework on the client side. \r\n\r\nOn the server side, typically you have the capability to process pipelined requests ( multiple get/post requests in one TCP pipe).\r\n\r\nIN your requirement, you want a given request to be split into 2 subrequests probably by establishing a new TCP pipe to carry first half and second half of the request.\r\n\r\nNow the challenge here is that even if your client side achieves that , the server side should accept such split requests. Typically the server side would throw away malformed HTTP requests. \r\n\r\n","title":"Chunked HTTP Responses in a Spring based web application","body":"<p>HTTP is a layer 7 ( /OSI Model) / 5 layer (TCP/IP Model) protocol. And a given application framework runs at or on the top of that. </p>\n\n<p>Thus a given HTTP (get/POST) / pipelined request is essentially using a TCP pipe opened by the framework on the client side. </p>\n\n<p>On the server side, typically you have the capability to process pipelined requests ( multiple get/post requests in one TCP pipe).</p>\n\n<p>IN your requirement, you want a given request to be split into 2 subrequests probably by establishing a new TCP pipe to carry first half and second half of the request.</p>\n\n<p>Now the challenge here is that even if your client side achieves that , the server side should accept such split requests. Typically the server side would throw away malformed HTTP requests. </p>\n"},{"tags":[],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1327186483,"creation_date":1327186483,"answer_id":8957428,"question_id":8132883,"body_markdown":"Try using Apache Tiles as your layout manager. You can set flush attribute on different tiles of your page, and as far as I know flushing a tile flushes to response.\r\n\r\nBy the way don&#39;t you use a compression mechanism, for example an Apache httpd in front of your container or even a gzip servlet filter? If this is the case, Apache Tiles won&#39;t help you, and it is better for you to forget about your need.","title":"Chunked HTTP Responses in a Spring based web application","body":"<p>Try using Apache Tiles as your layout manager. You can set flush attribute on different tiles of your page, and as far as I know flushing a tile flushes to response.</p>\n\n<p>By the way don't you use a compression mechanism, for example an Apache httpd in front of your container or even a gzip servlet filter? If this is the case, Apache Tiles won't help you, and it is better for you to forget about your need.</p>\n"},{"tags":[],"owner":{"account_id":34943,"reputation":16268,"user_id":98811,"display_name":"Devon_C_Miller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1327499065,"creation_date":1327499065,"answer_id":9003703,"question_id":8132883,"body_markdown":"[RFC2616][1] specifies a `TE: trailers` header that is an explicit statement that the client accepts chunked transfers, but I have never seen a browser or device actually send this. Any device that sends a HTTP/1.1 request should accept chunked transfers.\r\n\r\nIn my experience, Spring will automatically perform chunked transfers any time you do not specify a content-length. My experience is mostly with Spring controllers, so YMMV with JSPs.\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc2616#section-14.39","title":"Chunked HTTP Responses in a Spring based web application","body":"<p><a href=\"https://www.rfc-editor.org/rfc/rfc2616#section-14.39\" rel=\"nofollow noreferrer\">RFC2616</a> specifies a <code>TE: trailers</code> header that is an explicit statement that the client accepts chunked transfers, but I have never seen a browser or device actually send this. Any device that sends a HTTP/1.1 request should accept chunked transfers.</p>\n<p>In my experience, Spring will automatically perform chunked transfers any time you do not specify a content-length. My experience is mostly with Spring controllers, so YMMV with JSPs.</p>\n"},{"tags":[],"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688480893,"creation_date":1671030928,"answer_id":74800392,"question_id":8132883,"body_markdown":"Looking at how things work\r\n--------------------------\r\n\r\nI believe that Spring uses chunked transfer encoding by default for HTTP 1.1, while HTTP 2 is structured as frames and so is inherently streaming.\r\n\r\nWith an HTTP response you have the status line, headers and a body (let&#39;s ignore trailers, since browsers mostly don&#39;t let you do anything useful with these).  \r\nIn the happy path for MVC, you collect all your data, set any headers you want on the response and then the template that you&#39;re using as your view will be used as the response body.  \r\nIn the error path, an exception is thrown which overrides the default status code and changes which view will be used (usually some other template).  \r\n\r\nSo in the error path, a flush in the main template is irrelevant since it wouldn&#39;t be used, and in the happy path, the majority of the time is spent collecting data and so the brief time spent writing out the template is largely irrelevant.\r\n\r\nBasic Strategies\r\n----------------\r\n\r\nIf you want to send the HTML head before the data is collected, you have a couple of options,\r\nbut the problem with these approaches is that they interfere with (i.e. break) Spring&#39;s normal error handling:  \r\n1. Write some HTML to the response in the controller, then collect the data and finally render the rest in the view template. E.g.:  \r\n```\r\nresponse.setContentType(&quot;text/html;charset=UTF-8&quot;); // Needed as Spring won&#39;t have set this yet.\r\nresponse.getWriter().write(htmlStartIncludingHead);\r\nresponse.getWriter().flush();\r\nModel model = collectDataAndbuildModel();\r\nreturn &quot;myViewWithoutHead&quot;;\r\n```\r\n2. Move the task of collecting data (directly or indirectly, synchronously or asynchronously) to be done inside the template in order to make flushes there be useful.\r\nIf you flush before you wait to retrieve some amount of data, then the user can receive already completed content while waiting.  \r\nIn JSP you can flush using `&lt;% out.flush(); %&gt;` or `&lt;% response.getWriter().flush(); %&gt;`.  \r\nIn FreeMarker, it has a dedicated flush directive: `&lt;#flush&gt;`.\r\n\r\nTowards a working solution\r\n--------------------------\r\n\r\nIn order to experiment with a solution which tries various approaches to address error handling whilst moving the data collection to occur while running the template,\r\nI&#39;ve made a proof of concept where the Model&#39;s values in the Controller are changed to Callables and/or Futures:  \r\nhttps://github.com/scrhartley/freemarker-streaming-poc  \r\nI&#39;ve also made a version for JSP which focuses solely on using different types of Futures as Model values:  \r\nhttps://github.com/scrhartley/jsp-streaming-poc  \r\n\r\nThe tricks used for error handling boil down to:\r\n1. Output a meta refresh tag to perform a client side redirect when an error occurs\r\n2. Output a script tag to perform some JavaScript page manipulation when an error occurs\r\n3. Use a template level equivalent to try/catch, allowing you to output some fallback content when an error occurs.  \r\n    - FreeMarker has [attempt/recover][1] directives. Attempt swallows flushes inside it and so needs to be used accordingly.\r\n    - JSP has the JSTL catch tag.\r\n\r\n\r\n  [1]: https://freemarker.apache.org/docs/ref_directive_attempt.html\r\n\r\nWarning / Troubleshooting\r\n--------------------------\r\n\r\nHTTP streaming may not work if your servers are configured incorrectly. For notes on buffering and Nagle&#39;s algorithm see:  \r\nhttps://medium.com/airbnb-engineering/improving-performance-with-http-streaming-ba9e72c66408","title":"Chunked HTTP Responses in a Spring based web application","body":"<h2>Looking at how things work</h2>\n<p>I believe that Spring uses chunked transfer encoding by default for HTTP 1.1, while HTTP 2 is structured as frames and so is inherently streaming.</p>\n<p>With an HTTP response you have the status line, headers and a body (let's ignore trailers, since browsers mostly don't let you do anything useful with these).<br />\nIn the happy path for MVC, you collect all your data, set any headers you want on the response and then the template that you're using as your view will be used as the response body.<br />\nIn the error path, an exception is thrown which overrides the default status code and changes which view will be used (usually some other template).</p>\n<p>So in the error path, a flush in the main template is irrelevant since it wouldn't be used, and in the happy path, the majority of the time is spent collecting data and so the brief time spent writing out the template is largely irrelevant.</p>\n<h2>Basic Strategies</h2>\n<p>If you want to send the HTML head before the data is collected, you have a couple of options,\nbut the problem with these approaches is that they interfere with (i.e. break) Spring's normal error handling:</p>\n<ol>\n<li>Write some HTML to the response in the controller, then collect the data and finally render the rest in the view template. E.g.:</li>\n</ol>\n<pre><code>response.setContentType(&quot;text/html;charset=UTF-8&quot;); // Needed as Spring won't have set this yet.\nresponse.getWriter().write(htmlStartIncludingHead);\nresponse.getWriter().flush();\nModel model = collectDataAndbuildModel();\nreturn &quot;myViewWithoutHead&quot;;\n</code></pre>\n<ol start=\"2\">\n<li>Move the task of collecting data (directly or indirectly, synchronously or asynchronously) to be done inside the template in order to make flushes there be useful.\nIf you flush before you wait to retrieve some amount of data, then the user can receive already completed content while waiting.<br />\nIn JSP you can flush using <code>&lt;% out.flush(); %&gt;</code> or <code>&lt;% response.getWriter().flush(); %&gt;</code>.<br />\nIn FreeMarker, it has a dedicated flush directive: <code>&lt;#flush&gt;</code>.</li>\n</ol>\n<h2>Towards a working solution</h2>\n<p>In order to experiment with a solution which tries various approaches to address error handling whilst moving the data collection to occur while running the template,\nI've made a proof of concept where the Model's values in the Controller are changed to Callables and/or Futures:<br />\n<a href=\"https://github.com/scrhartley/freemarker-streaming-poc\" rel=\"nofollow noreferrer\">https://github.com/scrhartley/freemarker-streaming-poc</a><br />\nI've also made a version for JSP which focuses solely on using different types of Futures as Model values:<br />\n<a href=\"https://github.com/scrhartley/jsp-streaming-poc\" rel=\"nofollow noreferrer\">https://github.com/scrhartley/jsp-streaming-poc</a></p>\n<p>The tricks used for error handling boil down to:</p>\n<ol>\n<li>Output a meta refresh tag to perform a client side redirect when an error occurs</li>\n<li>Output a script tag to perform some JavaScript page manipulation when an error occurs</li>\n<li>Use a template level equivalent to try/catch, allowing you to output some fallback content when an error occurs.\n<ul>\n<li>FreeMarker has <a href=\"https://freemarker.apache.org/docs/ref_directive_attempt.html\" rel=\"nofollow noreferrer\">attempt/recover</a> directives. Attempt swallows flushes inside it and so needs to be used accordingly.</li>\n<li>JSP has the JSTL catch tag.</li>\n</ul>\n</li>\n</ol>\n<h2>Warning / Troubleshooting</h2>\n<p>HTTP streaming may not work if your servers are configured incorrectly. For notes on buffering and Nagle's algorithm see:<br />\n<a href=\"https://medium.com/airbnb-engineering/improving-performance-with-http-streaming-ba9e72c66408\" rel=\"nofollow noreferrer\">https://medium.com/airbnb-engineering/improving-performance-with-http-streaming-ba9e72c66408</a></p>\n"}],"owner":{"account_id":147712,"reputation":587,"user_id":359015,"accept_rate":50,"display_name":"Karthik Kastury"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6360,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1688480893,"creation_date":1321342161,"question_id":8132883,"body_markdown":"We are building a framework atop the Spring framework in Java. We want to be able to add support for HTTP Chunked Responses. Does spring have an API for this?\r\n\r\nWhat we are trying to achieve is basically send out the HTML `&lt;head&gt;` section before the rest of the response is prepared. So that the client side can start downloading the stylesheets/js etc.. \r\n\r\nIf there is a way to see if the client supports HTTP Chunked Responses would be even better. ","title":"Chunked HTTP Responses in a Spring based web application","body":"<p>We are building a framework atop the Spring framework in Java. We want to be able to add support for HTTP Chunked Responses. Does spring have an API for this?</p>\n\n<p>What we are trying to achieve is basically send out the HTML <code>&lt;head&gt;</code> section before the rest of the response is prepared. So that the client side can start downloading the stylesheets/js etc.. </p>\n\n<p>If there is a way to see if the client supports HTTP Chunked Responses would be even better. </p>\n"},{"tags":["java","xml","dom"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":2,"creation_date":1688482495,"post_id":76613598,"comment_id":135078531,"body_markdown":"Please, take some time to read [how to ask](/help/how-to-ask) and [How to create a Minimal, Reproducible Example](/help/minimal-reproducible-example). It&#39;s completely possibe but hard to say without any code to read.","body":"Please, take some time to read <a href=\"/help/how-to-ask\">how to ask</a> and <a href=\"/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>. It&#39;s completely possibe but hard to say without any code to read."}],"owner":{"account_id":5500824,"reputation":1,"user_id":4370214,"display_name":"kartik s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688480579,"creation_date":1688480579,"question_id":76613598,"body_markdown":"I am trying to make a custom XML diff checker and I am facing an issue consistently when using DOM in java.\r\nI have 2 DOM Documents to which I have parsed an XML file and the same XML file with modifications. I see that some times when using different files the Xpath is not able to return results to a nodelist thus the nodelist is having a length of 0.\r\n\r\nInstead while using the getElementByTagName API I am able to get consistent results\r\n\r\nI tried against various files and see that the issue is intermittent. Has anyone else seen this issue ?","title":"XPath in Java does not return the results intermittently","body":"<p>I am trying to make a custom XML diff checker and I am facing an issue consistently when using DOM in java.\nI have 2 DOM Documents to which I have parsed an XML file and the same XML file with modifications. I see that some times when using different files the Xpath is not able to return results to a nodelist thus the nodelist is having a length of 0.</p>\n<p>Instead while using the getElementByTagName API I am able to get consistent results</p>\n<p>I tried against various files and see that the issue is intermittent. Has anyone else seen this issue ?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1688478510,"post_id":76613295,"comment_id":135077613,"body_markdown":"Can you please show your pom.xml or your build.gradle file?","body":"Can you please show your pom.xml or your build.gradle file?"},{"owner":{"account_id":25274131,"reputation":221,"user_id":19103040,"display_name":"beatfloraminederecho"},"score":0,"creation_date":1688478872,"post_id":76613295,"comment_id":135077721,"body_markdown":"@SimonMartinelli I just updated my question.","body":"@SimonMartinelli I just updated my question."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1688479033,"post_id":76613295,"comment_id":135077768,"body_markdown":"Why do you override the versions of spring-data-jpa and javax.persistence-api? You should use the tested configuration from spring Boot","body":"Why do you override the versions of spring-data-jpa and javax.persistence-api? You should use the tested configuration from spring Boot"},{"owner":{"account_id":25274131,"reputation":221,"user_id":19103040,"display_name":"beatfloraminederecho"},"score":0,"creation_date":1688479418,"post_id":76613295,"comment_id":135077844,"body_markdown":"Thanks I used the tested configuration from spring Boot. I still have the same problem","body":"Thanks I used the tested configuration from spring Boot. I still have the same problem"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1688479742,"post_id":76613295,"comment_id":135077913,"body_markdown":"Are you using ByteType in the code?","body":"Are you using ByteType in the code?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1688479869,"post_id":76613295,"comment_id":135077941,"body_markdown":"And which querydsl version are you using?","body":"And which querydsl version are you using?"},{"owner":{"account_id":25274131,"reputation":221,"user_id":19103040,"display_name":"beatfloraminederecho"},"score":0,"creation_date":1688479991,"post_id":76613295,"comment_id":135077961,"body_markdown":"I&#39;m using querydsl version 5.0.0. and I&#39;m not using the ByteType, This is the line that causes the error &#39; long total = query.fetchCount(); &#39;","body":"I&#39;m using querydsl version 5.0.0. and I&#39;m not using the ByteType, This is the line that causes the error &#39; long total = query.fetchCount(); &#39;"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1688480249,"post_id":76613295,"comment_id":135078028,"body_markdown":"can you please proivde the whole stack trace","body":"can you please proivde the whole stack trace"},{"owner":{"account_id":25274131,"reputation":221,"user_id":19103040,"display_name":"beatfloraminederecho"},"score":0,"creation_date":1688480558,"post_id":76613295,"comment_id":135078097,"body_markdown":"Question updated","body":"Question updated"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1688481602,"post_id":76613295,"comment_id":135078346,"body_markdown":"That&#39;s not the whole stacktrace","body":"That&#39;s not the whole stacktrace"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688493093,"post_id":76613295,"comment_id":135080387,"body_markdown":"Remove the `spring-data-jpa` dependency, remove the `persistence-api` dependency. Spring Boot 3 is for JakartaEE not JavaEE and the Spring Data JPA version you included is old as well. All the needed dependencies are already pulled in by `spring-boot-starter-data-jpa`.","body":"Remove the <code>spring-data-jpa</code> dependency, remove the <code>persistence-api</code> dependency. Spring Boot 3 is for JakartaEE not JavaEE and the Spring Data JPA version you included is old as well. All the needed dependencies are already pulled in by <code>spring-boot-starter-data-jpa</code>."}],"owner":{"account_id":25274131,"reputation":221,"user_id":19103040,"display_name":"beatfloraminederecho"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688480527,"creation_date":1688478370,"question_id":76613295,"body_markdown":"I am developing a Spring Boot application that uses Hibernate for data persistence. While trying to execute a specific query using Hibernate&#39;s fetchCount() method, I encountered the following error:\r\n\r\n    java.lang.NoClassDefFoundError: org/hibernate/type/ByteType\r\n\r\nHere&#39;s the code snippet where the error is occurring:\r\n\r\n    // This is the line that causes the error\r\n    long total = query.fetchCount();\r\n\r\nI suspect there might be some version mismatch that I&#39;m overlooking.\r\n\r\nThis is my pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.32&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n            &lt;version&gt;6.20.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20220924&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt; &lt;!-- or jjwt-gson if Gson is preferred --&gt;\r\n            &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n            &lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-sql&lt;/artifactId&gt;\r\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-sql-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n            &lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;layout&gt;ZIP&lt;/layout&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.2.0&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.2.3&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;\r\n                            -Amapstruct.suppressGeneratorTimestamp=true\r\n                        &lt;/arg&gt;\r\n                        &lt;arg&gt;\r\n                            -Amapstruct.suppressGeneratorVersionInfoComment=true\r\n                        &lt;/arg&gt;\r\n                        &lt;arg&gt;\r\n                            -Amapstruct.verbose=true\r\n                        &lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n                            &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nAnd this is my stack trace :\r\n\r\n        Processing method: getAllFiltered\r\n    2023-07-04T15:19:39,125 INFO  [http-nio-8080-exec-10] m.n.t.a.LoggingAspect:83: *****************************************************************************\r\n    2023-07-04T15:19:39,126 INFO  [http-nio-8080-exec-10] m.n.t.a.LoggingAspect:107: ip 172.25.20.171 Enter: getAllFiltered() with argument[s] = [null,null,null,null,1,10] and files = []\r\n    2023-07-04T15:19:39,298 INFO  [http-nio-8080-exec-10] m.n.t.a.LoggingAspect:121: *****************************************************************************\r\n    2023-07-04T15:19:39,300 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:40: UNHANDLED EXCEPTION:\r\n    2023-07-04T15:19:39,300 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:41: Unhandled Exception name: jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoClassDefFoundError: org/hibernate/type/ByteType\r\n    2023-07-04T15:19:39,300 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:42: Unhandled Exception message: Handler dispatch failed: java.lang.NoClassDefFoundError: org/hibernate/type/ByteType\r\n    2023-07-04T15:19:39,300 INFO  [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:44: Printing Exception stack: \r\n    2023-07-04T15:19:39,301 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:49: org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1096)org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\njakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\r\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\njakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\r\n\r\nCan someone please help me identify the cause of this error and suggest a solution to resolve it? Any assistance would be greatly appreciated.\r\n\r\nThank you!\r\n\r\n","title":"java.lang.NoClassDefFoundError: org/hibernate/type/ByteType in Spring Boot 3 with Hibernate","body":"<p>I am developing a Spring Boot application that uses Hibernate for data persistence. While trying to execute a specific query using Hibernate's fetchCount() method, I encountered the following error:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/hibernate/type/ByteType\n</code></pre>\n<p>Here's the code snippet where the error is occurring:</p>\n<pre><code>// This is the line that causes the error\nlong total = query.fetchCount();\n</code></pre>\n<p>I suspect there might be some version mismatch that I'm overlooking.</p>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.3&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;version&gt;8.0.32&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n        &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n        &lt;version&gt;6.20.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20220924&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt; &lt;!-- or jjwt-gson if Gson is preferred --&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-core&lt;/artifactId&gt;\n        &lt;version&gt;${querydsl.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n        &lt;version&gt;${querydsl.version}&lt;/version&gt;\n        &lt;classifier&gt;jakarta&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-sql&lt;/artifactId&gt;\n        &lt;version&gt;${querydsl.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-sql-spring&lt;/artifactId&gt;\n        &lt;version&gt;${querydsl.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n        &lt;version&gt;${querydsl.version}&lt;/version&gt;\n        &lt;classifier&gt;jakarta&lt;/classifier&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;layout&gt;ZIP&lt;/layout&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${lombok.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;0.2.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n                        &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n                        &lt;version&gt;2.2.3&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n                &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;\n                        -Amapstruct.suppressGeneratorTimestamp=true\n                    &lt;/arg&gt;\n                    &lt;arg&gt;\n                        -Amapstruct.suppressGeneratorVersionInfoComment=true\n                    &lt;/arg&gt;\n                    &lt;arg&gt;\n                        -Amapstruct.verbose=true\n                    &lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n                        &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>And this is my stack trace :</p>\n<pre><code>    Processing method: getAllFiltered\n2023-07-04T15:19:39,125 INFO  [http-nio-8080-exec-10] m.n.t.a.LoggingAspect:83: *****************************************************************************\n2023-07-04T15:19:39,126 INFO  [http-nio-8080-exec-10] m.n.t.a.LoggingAspect:107: ip 172.25.20.171 Enter: getAllFiltered() with argument[s] = [null,null,null,null,1,10] and files = []\n2023-07-04T15:19:39,298 INFO  [http-nio-8080-exec-10] m.n.t.a.LoggingAspect:121: *****************************************************************************\n2023-07-04T15:19:39,300 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:40: UNHANDLED EXCEPTION:\n2023-07-04T15:19:39,300 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:41: Unhandled Exception name: jakarta.servlet.ServletException: Handler dispatch failed: java.lang.NoClassDefFoundError: org/hibernate/type/ByteType\n2023-07-04T15:19:39,300 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:42: Unhandled Exception message: Handler dispatch failed: java.lang.NoClassDefFoundError: org/hibernate/type/ByteType\n2023-07-04T15:19:39,300 INFO  [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:44: Printing Exception stack: \n2023-07-04T15:19:39,301 ERROR [http-nio-8080-exec-10] m.n.t.e.ControllerAdvice:49: org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1096)org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n</code></pre>\n<p>org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\njakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\njakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)</p>\n<p>Can someone please help me identify the cause of this error and suggest a solution to resolve it? Any assistance would be greatly appreciated.</p>\n<p>Thank you!</p>\n"},{"tags":["java","maven","gson"],"comments":[{"owner":{"account_id":20707208,"reputation":37,"user_id":15204779,"display_name":"Davide Borrello"},"score":0,"creation_date":1688478710,"post_id":76613150,"comment_id":135077672,"body_markdown":"Unfortunately not.\nI understood the kind of problem but in maven I don&#39;t know how to fix it.","body":"Unfortunately not. I understood the kind of problem but in maven I don&#39;t know how to fix it."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688479301,"post_id":76613150,"comment_id":135077818,"body_markdown":"@DavideBorrello Then ask *that* question. The question you asked now is indeed a duplicate.","body":"@DavideBorrello Then ask <i>that</i> question. The question you asked now is indeed a duplicate."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688479420,"post_id":76613150,"comment_id":135077846,"body_markdown":"If you want more help, you need to share the Maven script that built the jar, and any relevant dependencies. Most likely you just need to add the Gson jar to the classpath when calling `java -jar`","body":"If you want more help, you need to share the Maven script that built the jar, and any relevant dependencies. Most likely you just need to add the Gson jar to the classpath when calling <code>java -jar</code>"},{"owner":{"account_id":20707208,"reputation":37,"user_id":15204779,"display_name":"Davide Borrello"},"score":0,"creation_date":1688480522,"post_id":76613150,"comment_id":135078090,"body_markdown":"@jorn i added part of pom.xml\n\nMaybe write &lt;classpath&gt; in the pom isn&#39;t efficient way.","body":"@jorn i added part of pom.xml  Maybe write &lt;classpath&gt; in the pom isn&#39;t efficient way."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1688504270,"post_id":76613150,"comment_id":135081847,"body_markdown":"This actually sounds more like a duplicate of https://stackoverflow.com/q/574594","body":"This actually sounds more like a duplicate of <a href=\"https://stackoverflow.com/q/574594\">stackoverflow.com/q/574594</a>"}],"owner":{"account_id":20707208,"reputation":37,"user_id":15204779,"display_name":"Davide Borrello"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688479306,"answer_count":0,"score":0,"last_activity_date":1688480451,"creation_date":1688477345,"question_id":76613150,"body_markdown":"When i run my project i get this error:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X6hp7.png\r\n\r\nWhy i get this?\r\n\r\nI include this in the pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n      &lt;version&gt;2.10.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Include a External library in my Maven Project","body":"<p>When i run my project i get this error:\n<a href=\"https://i.stack.imgur.com/X6hp7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X6hp7.png\" alt=\"enter image description here\" /></a></p>\n<p>Why i get this?</p>\n<p>I include this in the pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n  &lt;artifactId&gt;gson&lt;/artifactId&gt;\n  &lt;version&gt;2.10.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","cucumber"],"owner":{"account_id":9718904,"reputation":11,"user_id":22077359,"display_name":"asn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688480256,"creation_date":1688479723,"question_id":76613483,"body_markdown":"I am trying to execute a Cucumber test in VSCode but I&#39;m getting error: &quot;package org.junit.runner does not exist import org.junit.runner.RunWith;&quot;\r\n\r\nThe same Cucumber project runs in Eclipse IDE without any issue. But when I run the Cucumber project in VSCode it gives error.\r\n\r\nMy JUnit Dependency in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.12&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy JUnit Runner:\r\n\r\n    package testRunners;\r\n    \r\n    import org.junit.runner.RunWith;\r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(features = {&quot;src/test/resources/features/cucumberexpressions_1.feature&quot;}, \r\n                         glue = {&quot;com.stepdefinitions&quot;, &quot;utility&quot;},\r\n              \t\t   plugin = {&quot;pretty&quot;, &quot;html:target/cucumber&quot;},\r\n                   \t   tags = &quot;@tag and @tag1&quot;,\r\n                       monochrome = true)\r\n    public class TestRunner_SamplePage \r\n    {\r\n    \r\n    }\r\n\r\n","title":"Cucumber Runner issue in VSCode IDE","body":"<p>I am trying to execute a Cucumber test in VSCode but I'm getting error: &quot;package org.junit.runner does not exist import org.junit.runner.RunWith;&quot;</p>\n<p>The same Cucumber project runs in Eclipse IDE without any issue. But when I run the Cucumber project in VSCode it gives error.</p>\n<p>My JUnit Dependency in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;junit&lt;/groupId&gt;\n&lt;artifactId&gt;junit&lt;/artifactId&gt;\n&lt;version&gt;4.12&lt;/version&gt;\n&lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My JUnit Runner:</p>\n<pre><code>package testRunners;\n\nimport org.junit.runner.RunWith;\nimport io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features = {&quot;src/test/resources/features/cucumberexpressions_1.feature&quot;}, \n                     glue = {&quot;com.stepdefinitions&quot;, &quot;utility&quot;},\n                   plugin = {&quot;pretty&quot;, &quot;html:target/cucumber&quot;},\n                   tags = &quot;@tag and @tag1&quot;,\n                   monochrome = true)\npublic class TestRunner_SamplePage \n{\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-kafka"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688458641,"post_id":76610495,"comment_id":135073303,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688458776,"post_id":76610495,"comment_id":135073332,"body_markdown":"What&#39;s the source code of `public default void com.lightspeed.hospitality.orderpay.app.kafka.consumers.GenericConsumer.onRawEvent(org.apache.kafka.clients.consumer.ConsumerRecord&lt;java.lang.String, byte[]&gt;)`? What&#39;s `handlerReturnsMessage` and how are items added to it?","body":"What&#39;s the source code of <code>public default void com.lightspeed.hospitality.orderpay.app.kafka.consumers.Gene&zwnj;&#8203;ricConsumer.onRawEve&zwnj;&#8203;nt(org.apache.kafka.&zwnj;&#8203;clients.consumer.Con&zwnj;&#8203;sumerRecord&lt;java.lan&zwnj;&#8203;g.String, byte[]&gt;)</code>? What&#39;s <code>handlerReturnsMessage</code> and how are items added to it?"},{"owner":{"account_id":4329425,"reputation":63,"user_id":3535323,"display_name":"rmrt"},"score":0,"creation_date":1688461480,"post_id":76610495,"comment_id":135073928,"body_markdown":"`handlerReturnsMessage` is the spring-kafka code. Refer [to this code](https://github.com/spring-projects/spring-kafka/blob/v2.8.6/spring-kafka/src/main/java/org/springframework/kafka/listener/adapter/DelegatingInvocableHandler.java#L204). The `onRawEvent` code doesnt really matter since its not even reach that part yet, it already fails at spring-kafka `invoke` code (it cant find the handler method). But again, this is only happen once (always after new deployment, but not at all pods, and not always occur at every new deploy), the next seek (I guesss the same offset record) works properly.","body":"<code>handlerReturnsMessage</code> is the spring-kafka code. Refer <a href=\"https://github.com/spring-projects/spring-kafka/blob/v2.8.6/spring-kafka/src/main/java/org/springframework/kafka/listener/adapter/DelegatingInvocableHandler.java#L204\" rel=\"nofollow noreferrer\">to this code</a>. The <code>onRawEvent</code> code doesnt really matter since its not even reach that part yet, it already fails at spring-kafka <code>invoke</code> code (it cant find the handler method). But again, this is only happen once (always after new deployment, but not at all pods, and not always occur at every new deploy), the next seek (I guesss the same offset record) works properly."},{"owner":{"account_id":4329425,"reputation":63,"user_id":3535323,"display_name":"rmrt"},"score":0,"creation_date":1688461729,"post_id":76610495,"comment_id":135073983,"body_markdown":"@tgdavies for the first comment -&gt; no, because my question is more toward spring-kafka behavior. Not the NPE itself. I know the cause, but I don&#39;t know why spring-kafka handler map can return null.","body":"@tgdavies for the first comment -&gt; no, because my question is more toward spring-kafka behavior. Not the NPE itself. I know the cause, but I don&#39;t know why spring-kafka handler map can return null."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688462685,"post_id":76610495,"comment_id":135074181,"body_markdown":"Well there&#39;s a race in `getHandlerForPayload` where one thread has done `this.cachedHandlers.putIfAbsent(payloadClass, handler)` but `setupReplyTo(handler)` hasn&#39;t completed, and the second thread sees that `this.cachedHandlers.get(payloadClass)` is non null. Perhaps that&#39;s the problem.","body":"Well there&#39;s a race in <code>getHandlerForPayload</code> where one thread has done <code>this.cachedHandlers.putIfAbsent(payloadClass, handler)</code> but <code>setupReplyTo(handler)</code> hasn&#39;t completed, and the second thread sees that <code>this.cachedHandlers.get(payloadClass)</code> is non null. Perhaps that&#39;s the problem."},{"owner":{"account_id":4329425,"reputation":63,"user_id":3535323,"display_name":"rmrt"},"score":0,"creation_date":1688478056,"post_id":76610495,"comment_id":135077490,"body_markdown":"Can elaborate more?\n\nThe `setupReplyTo` executed after `putIfAbsent` and it doesnt seems to be async until it finish the `this.handlerReturnsMessage.put`\n\nAnd that executed at `InvocableHandlerMethod handler = getHandlerForPayload(payloadClass);` right? The `cachedHandlers` is just a ConcurrentMap","body":"Can elaborate more?  The <code>setupReplyTo</code> executed after <code>putIfAbsent</code> and it doesnt seems to be async until it finish the <code>this.handlerReturnsMessage.put</code>  And that executed at <code>InvocableHandlerMethod handler = getHandlerForPayload(payloadClass);</code> right? The <code>cachedHandlers</code> is just a ConcurrentMap"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688480115,"creation_date":1688480115,"answer_id":76613534,"question_id":76610495,"body_markdown":"This is one possible scenario which can cause the the NPE you are seeing. You&#39;ll need to look at your logging to see whether it is happening like this.\r\n\r\nThe `DelegatingInvocableHandler` class is completely asynchronous, other than using some `CocurrentHashMap`s.\r\n\r\nTwo threads, T1 and T2 call `invoke` concurrently. They are processing two different messages, of the same type.\r\nAt this point `handlerReturnsMessage` and `cachedHandlers` are empty.\r\n\r\nT1 enters `getHandlerForPayload`, `this.cachedHandlers.get(payloadClass)` returns null, so T1 enters the `if` block.\r\nT1 caches the handler `this.cachedHandlers.putIfAbsent(payloadClass, handler)`.\r\n\r\nT2 enters `getHandlerForPayload`, `this.cachedHandlers.get(payloadClass)` returns non-null, so T2 just returns the handler.\r\n\r\nT2 reaches `return new InvocationResult(result, replyTo, this.handlerReturnsMessage.get(handler))`. The Map `handlerReturnsMessage` is still empty, so an NPE results.\r\n\r\nT1 executes `setupReplyTo(handler)`. Now `handlerReturnsMessage` is no longer empty.","title":"Single NullPointerException at spring-kafka startup","body":"<p>This is one possible scenario which can cause the the NPE you are seeing. You'll need to look at your logging to see whether it is happening like this.</p>\n<p>The <code>DelegatingInvocableHandler</code> class is completely asynchronous, other than using some <code>CocurrentHashMap</code>s.</p>\n<p>Two threads, T1 and T2 call <code>invoke</code> concurrently. They are processing two different messages, of the same type.\nAt this point <code>handlerReturnsMessage</code> and <code>cachedHandlers</code> are empty.</p>\n<p>T1 enters <code>getHandlerForPayload</code>, <code>this.cachedHandlers.get(payloadClass)</code> returns null, so T1 enters the <code>if</code> block.\nT1 caches the handler <code>this.cachedHandlers.putIfAbsent(payloadClass, handler)</code>.</p>\n<p>T2 enters <code>getHandlerForPayload</code>, <code>this.cachedHandlers.get(payloadClass)</code> returns non-null, so T2 just returns the handler.</p>\n<p>T2 reaches <code>return new InvocationResult(result, replyTo, this.handlerReturnsMessage.get(handler))</code>. The Map <code>handlerReturnsMessage</code> is still empty, so an NPE results.</p>\n<p>T1 executes <code>setupReplyTo(handler)</code>. Now <code>handlerReturnsMessage</code> is no longer empty.</p>\n"}],"owner":{"account_id":4329425,"reputation":63,"user_id":3535323,"display_name":"rmrt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76613534,"answer_count":1,"score":0,"last_activity_date":1688480115,"creation_date":1688457627,"question_id":76610495,"body_markdown":"In my prod environment, I got this inconsistent NPE when consuming kafka record.\r\nIt only happened once and only happened after startup.\r\nIt does not always happen and from multiple pods only a single pod gives this issue at startup.\r\n\r\nThe error triggered around 3 seconds after spring logged the `Started (myapplication) in xx seconds` message and it only happened one time at that single deployment. Then when I deploy again, it happen again.\r\n\r\nI don&#39;t think this is a configuration problem since it works fine after that single exception. I am not sure if the record re-processed after that, but I assume it is since it is not commited.\r\n\r\nThe root cause exception:\r\n\r\n```\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Boolean.booleanValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null\r\n\tat org.springframework.kafka.listener.adapter.DelegatingInvocableHandler.invoke(DelegatingInvocableHandler.java:204)\r\n```\r\n\r\nThe thrown exception:\r\n```\r\norg.springframework.kafka.KafkaException: Seek to current after exception; nested exception is org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method &#39;public default void com.lightspeed.hospitality.orderpay.app.kafka.consumers.GenericConsumer.onRawEvent(org.apache.kafka.clients.consumer.ConsumerRecord&lt;java.lang.String, byte[]&gt;)&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Boolean.booleanValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Boolean.booleanValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null\r\n\tat org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:208)\r\n```\r\n\r\nFor my consumer I use:\r\n`@KafkaListener` at my class and the method I use:\r\n```\r\n@KafkaHandler(isDefault = true)\r\nvoid onRawEvent(ConsumerRecord&lt;String, byte[]&gt; consumerRecord) \r\n```\r\n\r\nDoes anyone get an idea of where to investigate? I checked spring-kafka code but going nowhere so far.\r\n\r\nThe issue caused by:\r\n`return new InvocationResult(result, replyTo, this.handlerReturnsMessage.get(handler));`\r\n\r\nwhen it execute `this.handlerReturnsMessage.get(handler)` it returns `null` thus it cannot unbox to the primitive `boolean`. But I still have no clue why it happened or if it is a bug.\r\n\r\nWhat I use:\r\n- spring-boot 2.7.0\r\n- spring-kafka 2.8.6\r\n- kafka-clients 3.0.1","title":"Single NullPointerException at spring-kafka startup","body":"<p>In my prod environment, I got this inconsistent NPE when consuming kafka record.\nIt only happened once and only happened after startup.\nIt does not always happen and from multiple pods only a single pod gives this issue at startup.</p>\n<p>The error triggered around 3 seconds after spring logged the <code>Started (myapplication) in xx seconds</code> message and it only happened one time at that single deployment. Then when I deploy again, it happen again.</p>\n<p>I don't think this is a configuration problem since it works fine after that single exception. I am not sure if the record re-processed after that, but I assume it is since it is not commited.</p>\n<p>The root cause exception:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Boolean.booleanValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null\n    at org.springframework.kafka.listener.adapter.DelegatingInvocableHandler.invoke(DelegatingInvocableHandler.java:204)\n</code></pre>\n<p>The thrown exception:</p>\n<pre><code>org.springframework.kafka.KafkaException: Seek to current after exception; nested exception is org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method 'public default void com.lightspeed.hospitality.orderpay.app.kafka.consumers.GenericConsumer.onRawEvent(org.apache.kafka.clients.consumer.ConsumerRecord&lt;java.lang.String, byte[]&gt;)' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Boolean.booleanValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Boolean.booleanValue()&quot; because the return value of &quot;java.util.Map.get(Object)&quot; is null\n    at org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:208)\n</code></pre>\n<p>For my consumer I use:\n<code>@KafkaListener</code> at my class and the method I use:</p>\n<pre><code>@KafkaHandler(isDefault = true)\nvoid onRawEvent(ConsumerRecord&lt;String, byte[]&gt; consumerRecord) \n</code></pre>\n<p>Does anyone get an idea of where to investigate? I checked spring-kafka code but going nowhere so far.</p>\n<p>The issue caused by:\n<code>return new InvocationResult(result, replyTo, this.handlerReturnsMessage.get(handler));</code></p>\n<p>when it execute <code>this.handlerReturnsMessage.get(handler)</code> it returns <code>null</code> thus it cannot unbox to the primitive <code>boolean</code>. But I still have no clue why it happened or if it is a bug.</p>\n<p>What I use:</p>\n<ul>\n<li>spring-boot 2.7.0</li>\n<li>spring-kafka 2.8.6</li>\n<li>kafka-clients 3.0.1</li>\n</ul>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9663,"page":329,"page_size":100}
