{"items":[{"tags":["java","swing","jfilechooser"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1572598410,"post_id":58629452,"comment_id":103616327,"body_markdown":"Tags &amp; watchers: [tag:java] 1.3M, [tag:swing] 7.4K, [tag:jfilechooser] 9. \nBy using up to 5 relevant tags, questions can get far more attention. ;)","body":"Tags &amp; watchers: <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> 1.3M, <a href=\"https://stackoverflow.com/questions/tagged/swing\">swing</a> 7.4K, <a href=\"https://stackoverflow.com/questions/tagged/jfilechooser\">jfilechooser</a> 9.  By using up to 5 relevant tags, questions can get far more attention. ;)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1572598440,"post_id":58629452,"comment_id":103616338,"body_markdown":"1) For better help sooner, [edit] to add a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/). 2) See also [How to create great screenshots?](http://meta.stackexchange.com/q/99734/155831) 3) `fileChooser.setPreferredSize(new Dimension(600,600));` See [Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?](http://stackoverflow.com/q/7229226/418556)  (Yes.)","body":"1) For better help sooner, <a href=\"https://stackoverflow.com/posts/58629452/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>. 2) See also <a href=\"http://meta.stackexchange.com/q/99734/155831\">How to create great screenshots?</a> 3) <code>fileChooser.setPreferredSize(new Dimension(600,600));</code> See <a href=\"http://stackoverflow.com/q/7229226/418556\">Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?</a>  (Yes.)"}],"answers":[{"tags":[],"owner":{"account_id":28957321,"reputation":1,"user_id":22180602,"display_name":"Wolfgang Hasler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688576078,"creation_date":1688576078,"answer_id":76622473,"question_id":58629452,"body_markdown":"The following code was tested with Java 11.\r\nIt uses slightly modified methods from sun.swing.FilePane.\r\n\r\n    public class FileChooserFix extends JFileChooser {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private JTable            detailsTable;\r\n    \r\n        public FileChooserFix() {\r\n            super();\r\n            Action details = getActionMap().get(&quot;viewTypeDetails&quot;);\r\n            details.actionPerformed(null);\r\n            detailsTable = findChildComponent(this, JTable.class);\r\n        }\r\n    \r\n        private &lt;T&gt; T findChildComponent(Container container, Class&lt;T&gt; cls) {\r\n            int n = container.getComponentCount();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                Component comp = container.getComponent(i);\r\n                if (cls.isInstance(comp)) {\r\n                    return cls.cast(comp);\r\n                }\r\n                else if (comp instanceof Container) {\r\n                    T c = findChildComponent((Container) comp, cls);\r\n                    if (c != null) {\r\n                        return c;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void setCurrentDirectory(File dir) {\r\n            super.setCurrentDirectory(dir);\r\n            fixNameColumnWidth();\r\n        }\r\n    \r\n        private void fixNameColumnWidth() {\r\n            if (detailsTable != null) {\r\n                JViewport viewport = (JViewport) detailsTable.getParent();\r\n                int viewWidth = viewport.getSize().width;\r\n                TableColumn nameCol = detailsTable.getColumnModel().getColumn(0);\r\n                int tableWidth = detailsTable.getPreferredSize().width;\r\n                if (tableWidth &lt; viewWidth) {\r\n                    nameCol.setPreferredWidth(nameCol.getPreferredWidth() + \r\n\t\t\t\t\t\t\t\t\t\tviewWidth - tableWidth);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Resize column width in JFileChooser","body":"<p>The following code was tested with Java 11.\nIt uses slightly modified methods from sun.swing.FilePane.</p>\n<pre><code>public class FileChooserFix extends JFileChooser {\n\n    private static final long serialVersionUID = 1L;\n    private JTable            detailsTable;\n\n    public FileChooserFix() {\n        super();\n        Action details = getActionMap().get(&quot;viewTypeDetails&quot;);\n        details.actionPerformed(null);\n        detailsTable = findChildComponent(this, JTable.class);\n    }\n\n    private &lt;T&gt; T findChildComponent(Container container, Class&lt;T&gt; cls) {\n        int n = container.getComponentCount();\n        for (int i = 0; i &lt; n; i++) {\n            Component comp = container.getComponent(i);\n            if (cls.isInstance(comp)) {\n                return cls.cast(comp);\n            }\n            else if (comp instanceof Container) {\n                T c = findChildComponent((Container) comp, cls);\n                if (c != null) {\n                    return c;\n                }\n            }\n        }\n        return null;\n    }\n\n    @Override\n    public void setCurrentDirectory(File dir) {\n        super.setCurrentDirectory(dir);\n        fixNameColumnWidth();\n    }\n\n    private void fixNameColumnWidth() {\n        if (detailsTable != null) {\n            JViewport viewport = (JViewport) detailsTable.getParent();\n            int viewWidth = viewport.getSize().width;\n            TableColumn nameCol = detailsTable.getColumnModel().getColumn(0);\n            int tableWidth = detailsTable.getPreferredSize().width;\n            if (tableWidth &lt; viewWidth) {\n                nameCol.setPreferredWidth(nameCol.getPreferredWidth() + \n                                    viewWidth - tableWidth);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17000959,"reputation":21,"user_id":12298368,"display_name":"Angela Cox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688576078,"creation_date":1572451364,"question_id":58629452,"body_markdown":"I am using a `JFileChooser` which allows me to browse to an Excel file.   \r\n\r\nThe file chooser appears fine when it opens initially, but as soon as I start browsing to a different location, the column width for Name reduces a lot.  \r\n\r\nHow can I stop this from happening and keep the same column width whilst browsing to different locations?\r\n\r\nInitial display of `JFileChooser`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter browsing to a different location\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    JFileChooser fileChooser = new JFileChooser();\r\n    fileChooser.setPreferredSize(new Dimension(600,600));\r\n     \r\n    fileChooser.setCurrentDirectory(selectedDir);\r\n    Action details = fileChooser.getActionMap().get(&quot;viewTypeDetails&quot;);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jB5QV.jpg\r\n  [2]: https://i.stack.imgur.com/fk98U.jpg","title":"Resize column width in JFileChooser","body":"<p>I am using a <code>JFileChooser</code> which allows me to browse to an Excel file.   </p>\n\n<p>The file chooser appears fine when it opens initially, but as soon as I start browsing to a different location, the column width for Name reduces a lot.  </p>\n\n<p>How can I stop this from happening and keep the same column width whilst browsing to different locations?</p>\n\n<p>Initial display of <code>JFileChooser</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/jB5QV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jB5QV.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>After browsing to a different location</p>\n\n<p><a href=\"https://i.stack.imgur.com/fk98U.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fk98U.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>JFileChooser fileChooser = new JFileChooser();\nfileChooser.setPreferredSize(new Dimension(600,600));\n\nfileChooser.setCurrentDirectory(selectedDir);\nAction details = fileChooser.getActionMap().get(\"viewTypeDetails\");\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1688573833,"post_id":76622176,"comment_id":135092741,"body_markdown":"not a direct answer to your problem, but maybe a helpful resource: an old [visual guide to layout managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html)","body":"not a direct answer to your problem, but maybe a helpful resource: an old <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">visual guide to layout managers</a>"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1688574147,"post_id":76622176,"comment_id":135092804,"body_markdown":"You know you can use more than one layout manager at a time, right? Try nesting layout managers, i.e. BoxLayout as a component within GridBagLayout, for example. GridBagLayout allows you to have a component span multiple cells, which keeps you from having a lot of dead space in your UI.","body":"You know you can use more than one layout manager at a time, right? Try nesting layout managers, i.e. BoxLayout as a component within GridBagLayout, for example. GridBagLayout allows you to have a component span multiple cells, which keeps you from having a lot of dead space in your UI."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688574692,"post_id":76622176,"comment_id":135092932,"body_markdown":"`GridBagLayout` solution: for the last element, change `gbc.anchor = GridBagConstraints.NORTHWEST;` and `gbc.weighty = 1.0;` (only before adding the last element, so it alone will get all space)","body":"<code>GridBagLayout</code> solution: for the last element, change <code>gbc.anchor = GridBagConstraints.NORTHWEST;</code> and <code>gbc.weighty = 1.0;</code> (only before adding the last element, so it alone will get all space)"},{"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"score":0,"creation_date":1688575063,"post_id":76622176,"comment_id":135092999,"body_markdown":"@user16320675, Thanks, it works! You can write answer, I will accept it.","body":"@user16320675, Thanks, it works! You can write answer, I will accept it."}],"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688576016,"creation_date":1688573456,"question_id":76622176,"body_markdown":"I need to place 1 JLabel and 6 JCheckbox from top to bottom and the label should be centered and the checkboxes should not. &lt;br&gt;\r\nI tried two options:\r\n\r\n 1. Using GridBagLayout\r\n 2. Using BoxLayout\r\n\r\nWhen using the first option everything goes fine, but the content is in the middle of the JPanel. When using the second option, content goes from top to bottom, but the JLabel is not centered. What do I need to do make it work?\r\n\r\nPeople also advise to set ```gbc.weighty = 1.0```, but components just fill all available space in container.&lt;br&gt;\r\n\r\nRunnable example with GridBagLayout:\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        JPanel root = new JPanel(new BorderLayout());\r\n\r\n        JPanel filterPanel = new JPanel();\r\n        filterPanel.setLayout(new GridBagLayout());\r\n\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.anchor = GridBagConstraints.NORTH;\r\n        gbc.fill = GridBagConstraints.NONE;\r\n        gbc.gridy = 0;\r\n\r\n        JLabel filterLabel = new JLabel(&quot;Filter&quot;);\r\n        filterLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n        filterPanel.add(filterLabel, gbc);\r\n\r\n        gbc.anchor = GridBagConstraints.WEST;\r\n\r\n        JCheckBox releasesBox = new JCheckBox(&quot;Releases&quot;);\r\n        JCheckBox snapshotsBox = new JCheckBox(&quot;Snapshots&quot;);\r\n        JCheckBox oldSnapshotsBox = new JCheckBox(&quot;Old Snapshots&quot;);\r\n        JCheckBox betasBox = new JCheckBox(&quot;Betas&quot;);\r\n        JCheckBox alphasBox = new JCheckBox(&quot;Alphas&quot;);\r\n        JCheckBox experimentsBox = new JCheckBox(&quot;Experiments&quot;);\r\n\r\n        gbc.gridy = 1;\r\n        filterPanel.add(releasesBox, gbc);\r\n        gbc.gridy = 2;\r\n        filterPanel.add(snapshotsBox, gbc);\r\n        gbc.gridy = 3;\r\n        filterPanel.add(oldSnapshotsBox, gbc);\r\n        gbc.gridy = 4;\r\n        filterPanel.add(betasBox, gbc);\r\n        gbc.gridy = 5;\r\n        filterPanel.add(alphasBox, gbc);\r\n        gbc.gridy = 6;\r\n        filterPanel.add(experimentsBox, gbc);\r\n\r\n        root.add(filterPanel, BorderLayout.CENTER);\r\n\r\n        JFrame frame = new JFrame(&quot;Test&quot;);\r\n        frame.add(root, BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n\r\n```\r\n\r\nRunnable example with BoxLayout:\r\n```java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        JPanel root = new JPanel(new BorderLayout());\r\n\r\n        JPanel filterPanel = new JPanel();\r\n        filterPanel.setLayout(new BoxLayout(filterPanel, BoxLayout.Y_AXIS));\r\n\r\n        JLabel filterLabel = new JLabel(&quot;Filter&quot;);\r\n        // Adding this line makes it only worse\r\n        // filterLabel.setAlignmentX(JLabel.CENTER_ALIGNMENT);\r\n        filterPanel.add(filterLabel);\r\n\r\n        JCheckBox releasesBox = new JCheckBox(&quot;Releases&quot;);\r\n        JCheckBox snapshotsBox = new JCheckBox(&quot;Snapshots&quot;);\r\n        JCheckBox oldSnapshotsBox = new JCheckBox(&quot;Old Snapshots&quot;);\r\n        JCheckBox betasBox = new JCheckBox(&quot;Betas&quot;);\r\n        JCheckBox alphasBox = new JCheckBox(&quot;Alphas&quot;);\r\n        JCheckBox experimentsBox = new JCheckBox(&quot;Experiments&quot;);\r\n\r\n        filterPanel.add(releasesBox);\r\n        filterPanel.add(snapshotsBox);\r\n        filterPanel.add(oldSnapshotsBox);\r\n        filterPanel.add(betasBox);\r\n        filterPanel.add(alphasBox);\r\n        filterPanel.add(experimentsBox);\r\n\r\n        root.add(filterPanel, BorderLayout.CENTER);\r\n\r\n        JFrame frame = new JFrame(&quot;Test&quot;);\r\n        frame.add(root, BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n\r\n```","title":"Java Swing lay out components from top to bottom","body":"<p>I need to place 1 JLabel and 6 JCheckbox from top to bottom and the label should be centered and the checkboxes should not. <br>\nI tried two options:</p>\n<ol>\n<li>Using GridBagLayout</li>\n<li>Using BoxLayout</li>\n</ol>\n<p>When using the first option everything goes fine, but the content is in the middle of the JPanel. When using the second option, content goes from top to bottom, but the JLabel is not centered. What do I need to do make it work?</p>\n<p>People also advise to set <code>gbc.weighty = 1.0</code>, but components just fill all available space in container.<br></p>\n<p>Runnable example with GridBagLayout:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Test {\n    public static void main(String[] args) {\n        JPanel root = new JPanel(new BorderLayout());\n\n        JPanel filterPanel = new JPanel();\n        filterPanel.setLayout(new GridBagLayout());\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.NORTH;\n        gbc.fill = GridBagConstraints.NONE;\n        gbc.gridy = 0;\n\n        JLabel filterLabel = new JLabel(&quot;Filter&quot;);\n        filterLabel.setHorizontalAlignment(SwingConstants.CENTER);\n        filterPanel.add(filterLabel, gbc);\n\n        gbc.anchor = GridBagConstraints.WEST;\n\n        JCheckBox releasesBox = new JCheckBox(&quot;Releases&quot;);\n        JCheckBox snapshotsBox = new JCheckBox(&quot;Snapshots&quot;);\n        JCheckBox oldSnapshotsBox = new JCheckBox(&quot;Old Snapshots&quot;);\n        JCheckBox betasBox = new JCheckBox(&quot;Betas&quot;);\n        JCheckBox alphasBox = new JCheckBox(&quot;Alphas&quot;);\n        JCheckBox experimentsBox = new JCheckBox(&quot;Experiments&quot;);\n\n        gbc.gridy = 1;\n        filterPanel.add(releasesBox, gbc);\n        gbc.gridy = 2;\n        filterPanel.add(snapshotsBox, gbc);\n        gbc.gridy = 3;\n        filterPanel.add(oldSnapshotsBox, gbc);\n        gbc.gridy = 4;\n        filterPanel.add(betasBox, gbc);\n        gbc.gridy = 5;\n        filterPanel.add(alphasBox, gbc);\n        gbc.gridy = 6;\n        filterPanel.add(experimentsBox, gbc);\n\n        root.add(filterPanel, BorderLayout.CENTER);\n\n        JFrame frame = new JFrame(&quot;Test&quot;);\n        frame.add(root, BorderLayout.CENTER);\n        frame.pack();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n\n</code></pre>\n<p>Runnable example with BoxLayout:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Test {\n    public static void main(String[] args) {\n        JPanel root = new JPanel(new BorderLayout());\n\n        JPanel filterPanel = new JPanel();\n        filterPanel.setLayout(new BoxLayout(filterPanel, BoxLayout.Y_AXIS));\n\n        JLabel filterLabel = new JLabel(&quot;Filter&quot;);\n        // Adding this line makes it only worse\n        // filterLabel.setAlignmentX(JLabel.CENTER_ALIGNMENT);\n        filterPanel.add(filterLabel);\n\n        JCheckBox releasesBox = new JCheckBox(&quot;Releases&quot;);\n        JCheckBox snapshotsBox = new JCheckBox(&quot;Snapshots&quot;);\n        JCheckBox oldSnapshotsBox = new JCheckBox(&quot;Old Snapshots&quot;);\n        JCheckBox betasBox = new JCheckBox(&quot;Betas&quot;);\n        JCheckBox alphasBox = new JCheckBox(&quot;Alphas&quot;);\n        JCheckBox experimentsBox = new JCheckBox(&quot;Experiments&quot;);\n\n        filterPanel.add(releasesBox);\n        filterPanel.add(snapshotsBox);\n        filterPanel.add(oldSnapshotsBox);\n        filterPanel.add(betasBox);\n        filterPanel.add(alphasBox);\n        filterPanel.add(experimentsBox);\n\n        root.add(filterPanel, BorderLayout.CENTER);\n\n        JFrame frame = new JFrame(&quot;Test&quot;);\n        frame.add(root, BorderLayout.CENTER);\n        frame.pack();\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","minecraft","decompiling"],"comments":[{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1669395889,"post_id":74575600,"comment_id":131639341,"body_markdown":"Since `aab2` is cast to `aak` (initially `aab`), it is probable that the `f` method called is not the one we see in `als`","body":"Since <code>aab2</code> is cast to <code>aak</code> (initially <code>aab</code>), it is probable that the <code>f</code> method called is not the one we see in <code>als</code>"},{"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"score":0,"creation_date":1669396210,"post_id":74575600,"comment_id":131639417,"body_markdown":"hmm, didnt noticed it, im currently fixing the code after decompilation, but thanks anyway","body":"hmm, didnt noticed it, im currently fixing the code after decompilation, but thanks anyway"},{"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"score":0,"creation_date":1669396970,"post_id":74575600,"comment_id":131639627,"body_markdown":"ok, now it looks kinda impossible, because some methods are tried to be called on primitive types.. probably I need to analyze bytecode","body":"ok, now it looks kinda impossible, because some methods are tried to be called on primitive types.. probably I need to analyze bytecode"},{"owner":{"account_id":8860436,"reputation":45945,"user_id":7509065,"display_name":"Joseph Sible-Reinstate Monica"},"score":0,"creation_date":1669400250,"post_id":74575600,"comment_id":131640345,"body_markdown":"Why are you doing all of this work yourself when it&#39;s already been done? There are already MCP mappings for 1.5.2.","body":"Why are you doing all of this work yourself when it&#39;s already been done? There are already MCP mappings for 1.5.2."},{"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"score":0,"creation_date":1669404390,"post_id":74575600,"comment_id":131641246,"body_markdown":"Yeees, I have just wanted to write about this. Already downloaded it and it works. But thanks.","body":"Yeees, I have just wanted to write about this. Already downloaded it and it works. But thanks."}],"answers":[{"tags":[],"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669404491,"creation_date":1669404491,"answer_id":74577194,"question_id":74575600,"body_markdown":"Ok, I remembered about a thing called MCP (Minecraft Coder Pack). I downloaded it, then had a little pain with it, but got it working.","title":"Java incorrect bytecode","body":"<p>Ok, I remembered about a thing called MCP (Minecraft Coder Pack). I downloaded it, then had a little pain with it, but got it working.</p>\n"}],"owner":{"account_id":26172849,"reputation":33,"user_id":19857533,"display_name":"TheEntropyShard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74577194,"answer_count":1,"score":0,"last_activity_date":1688575536,"creation_date":1669393755,"question_id":74575600,"body_markdown":"I am decompiling Minecraft 1.5.2 code, and in file als.java there is subtraction performed with void method, also void tried to put to int var:\r\n\r\n```\r\n/*\r\n * Decompiled with CFR 0.152.\r\n */\r\nimport java.util.Random;\r\n\r\npublic class als\r\nextends aly\r\nimplements amh {\r\n    public als(int n2, boolean bl2) {\r\n        super(n2, bl2);\r\n        this.cF = true;\r\n    }\r\n\r\n    public int a(int n2, Random random, int n3) {\r\n        return wk.bY.cp;\r\n    }\r\n\r\n    public int d(aab aab2, int n2, int n3, int n4) {\r\n        return wk.bY.cp;\r\n    }\r\n\r\n    protected int i_(int n2) {\r\n        return 2;\r\n    }\r\n\r\n    protected aly i() {\r\n        return apa.cq;\r\n    }\r\n\r\n    protected aly j() {\r\n        return apa.cp;\r\n    }\r\n\r\n    public int d() {\r\n        return 37;\r\n    }\r\n\r\n    public lx a(int n2, int n3) {\r\n        boolean bl2;\r\n        boolean bl3 = bl2 = this.a || (n3 &amp; 8) != 0;\r\n        if (n2 == 0) {\r\n            if (bl2) {\r\n                return apa.aU.m(n2);\r\n            }\r\n            return apa.aT.m(n2);\r\n        }\r\n        if (n2 == 1) {\r\n            if (bl2) {\r\n                return apa.cq.cQ;\r\n            }\r\n            return this.cQ;\r\n        }\r\n        return apa.an.m(1);\r\n    }\r\n\r\n    protected boolean c(int n2) {\r\n        return this.a || (n2 &amp; 8) != 0;\r\n    }\r\n\r\n    protected int d(aak aak2, int n2, int n3, int n4, int n5) {\r\n        return this.a_(aak2, n2, n3, n4).a();\r\n    }\r\n\r\n    private int m(aab aab2, int n2, int n3, int n4, int n5) {\r\n        if (!this.d(n5)) {\r\n            return this.e(aab2, n2, n3, n4, n5);\r\n        }\r\n        return Math.max(this.e(aab2, n2, n3, n4, n5) - this.f((aak)aab2, n2, n3, n4, n5), 0);\r\n    }\r\n\r\n    public boolean d(int n2) {\r\n        return (n2 &amp; 4) == 4;\r\n    }\r\n\r\n    protected boolean d(aab aab2, int n2, int n3, int n4, int n5) {\r\n        int n6 = this.e(aab2, n2, n3, n4, n5);\r\n        if (n6 &gt;= 15) {\r\n            return true;\r\n        }\r\n        if (n6 == 0) {\r\n            return false;\r\n        }\r\n        int n7 = this.f((aak)aab2, n2, n3, n4, n5);\r\n        if (n7 == 0) {\r\n            return true;\r\n        }\r\n        return n6 &gt;= n7;\r\n    }\r\n\r\n    protected int e(aab aab2, int n2, int n3, int n4, int n5) {\r\n        int n6;\r\n        int n7 = super.e(aab2, n2, n3, n4, n5);\r\n        int n8 = als.j(n5);\r\n        int n9 = n2 + r.a[n8];\r\n        int n10 = aab2.a(n9, n3, n6 = n4 + r.b[n8]);\r\n        if (n10 &gt; 0) {\r\n            if (apa.r[n10].q_()) {\r\n                n7 = apa.r[n10].b_(aab2, n9, n3, n6, r.f[n8]);\r\n            } else if (n7 &lt; 15 &amp;&amp; apa.l(n10) &amp;&amp; (n10 = aab2.a(n9 += r.a[n8], n3, n6 += r.b[n8])) &gt; 0 &amp;&amp; apa.r[n10].q_()) {\r\n                n7 = apa.r[n10].b_(aab2, n9, n3, n6, r.f[n8]);\r\n            }\r\n        }\r\n        return n7;\r\n    }\r\n\r\n    public aqa a_(aak aak2, int n2, int n3, int n4) {\r\n        return (aqa)aak2.r(n2, n3, n4);\r\n    }\r\n\r\n    public boolean a(aab aab2, int n2, int n3, int n4, sq sq2, int n5, float f2, float f3, float f4) {\r\n        int n6 = aab2.h(n2, n3, n4);\r\n        boolean bl2 = this.a | (n6 &amp; 8) != 0;\r\n        boolean bl3 = !this.d(n6);\r\n        int n7 = bl3 ? 4 : 0;\r\n        aab2.a((double)n2 + 0.5, (double)n3 + 0.5, (double)n4 + 0.5, &quot;random.click&quot;, 0.3f, bl3 ? 0.55f : 0.5f);\r\n        aab2.b(n2, n3, n4, (n7 |= bl2 ? 8 : 0) | n6 &amp; 3, 2);\r\n        this.c(aab2, n2, n3, n4, aab2.s);\r\n        return true;\r\n    }\r\n\r\n    protected void f(aab aab2, int n2, int n3, int n4, int n5) {\r\n        int n6;\r\n        int n7;\r\n        int n8;\r\n        if (!(aab2.a(n2, n3, n4, this.cz) || (n8 = this.m(aab2, n2, n3, n4, n7 = aab2.h(n2, n3, n4))) == (n6 = this.a_(aab2, n2, n3, n4).a()) &amp;&amp; this.c(n7) == this.d(aab2, n2, n3, n4, n7))) {\r\n            if (this.h(aab2, n2, n3, n4, n7)) {\r\n                aab2.a(n2, n3, n4, this.cz, this.i_(0), -1);\r\n            } else {\r\n                aab2.a(n2, n3, n4, this.cz, this.i_(0), 0);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void c(aab aab2, int n2, int n3, int n4, Random random) {\r\n        int n5 = aab2.h(n2, n3, n4);\r\n        int n6 = this.m(aab2, n2, n3, n4, n5);\r\n        int n7 = this.a_(aab2, n2, n3, n4).a();\r\n        this.a_(aab2, n2, n3, n4).a(n6);\r\n        if (n7 != n6 || !this.d(n5)) {\r\n            boolean bl2;\r\n            boolean bl3 = this.d(aab2, n2, n3, n4, n5);\r\n            boolean bl4 = bl2 = this.a || (n5 &amp; 8) != 0;\r\n            if (bl2 &amp;&amp; !bl3) {\r\n                aab2.b(n2, n3, n4, n5 &amp; 0xFFFFFFF7, 2);\r\n            } else if (!bl2 &amp;&amp; bl3) {\r\n                aab2.b(n2, n3, n4, n5 | 8, 2);\r\n            }\r\n            this.h_(aab2, n2, n3, n4);\r\n        }\r\n    }\r\n\r\n    public void a(aab aab2, int n2, int n3, int n4, Random random) {\r\n        if (this.a) {\r\n            int n5 = aab2.h(n2, n3, n4);\r\n            aab2.f(n2, n3, n4, this.j().cz, n5 | 8, 4);\r\n        }\r\n        this.c(aab2, n2, n3, n4, random);\r\n    }\r\n\r\n    public void a(aab aab2, int n2, int n3, int n4) {\r\n        super.a(aab2, n2, n3, n4);\r\n        aab2.a(n2, n3, n4, this.b(aab2));\r\n    }\r\n\r\n    public void a(aab aab2, int n2, int n3, int n4, int n5, int n6) {\r\n        super.a(aab2, n2, n3, n4, n5, n6);\r\n        aab2.s(n2, n3, n4);\r\n        this.h_(aab2, n2, n3, n4);\r\n    }\r\n\r\n    public boolean b(aab aab2, int n2, int n3, int n4, int n5, int n6) {\r\n        super.b(aab2, n2, n3, n4, n5, n6);\r\n        aqp aqp2 = aab2.r(n2, n3, n4);\r\n        if (aqp2 != null) {\r\n            return aqp2.b(n5, n6);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public void a(ly ly2) {\r\n        this.cQ = ly2.a(this.a ? &quot;comparator_lit&quot; : &quot;comparator&quot;);\r\n    }\r\n\r\n    public aqp b(aab aab2) {\r\n        return new aqa();\r\n    }\r\n}\r\n```\r\nI also tried it with Fernflower (in IntelliJ IDEA) and with JD-GUI. Results are the same. Why does it happen? The reason why I am decompiling Minecraft is because I want to try to optimize it just for myself.\r\nMaybe I need to change ```f``` method and return some var declared in it... This is the first class I noted this in, but, I think there are a lot of classes like this one in nearly 1500 files. Thanks for any help.\r\n\r\n**UPD:**\r\nI found that in class ```aly``` (super class) there is protected ```int f``` method, maybe I need to call it?\r\n\r\n**UPD 2:**\r\nSeven months later, I cringe at this stupid question..","title":"Java incorrect bytecode","body":"<p>I am decompiling Minecraft 1.5.2 code, and in file als.java there is subtraction performed with void method, also void tried to put to int var:</p>\n<pre><code>/*\n * Decompiled with CFR 0.152.\n */\nimport java.util.Random;\n\npublic class als\nextends aly\nimplements amh {\n    public als(int n2, boolean bl2) {\n        super(n2, bl2);\n        this.cF = true;\n    }\n\n    public int a(int n2, Random random, int n3) {\n        return wk.bY.cp;\n    }\n\n    public int d(aab aab2, int n2, int n3, int n4) {\n        return wk.bY.cp;\n    }\n\n    protected int i_(int n2) {\n        return 2;\n    }\n\n    protected aly i() {\n        return apa.cq;\n    }\n\n    protected aly j() {\n        return apa.cp;\n    }\n\n    public int d() {\n        return 37;\n    }\n\n    public lx a(int n2, int n3) {\n        boolean bl2;\n        boolean bl3 = bl2 = this.a || (n3 &amp; 8) != 0;\n        if (n2 == 0) {\n            if (bl2) {\n                return apa.aU.m(n2);\n            }\n            return apa.aT.m(n2);\n        }\n        if (n2 == 1) {\n            if (bl2) {\n                return apa.cq.cQ;\n            }\n            return this.cQ;\n        }\n        return apa.an.m(1);\n    }\n\n    protected boolean c(int n2) {\n        return this.a || (n2 &amp; 8) != 0;\n    }\n\n    protected int d(aak aak2, int n2, int n3, int n4, int n5) {\n        return this.a_(aak2, n2, n3, n4).a();\n    }\n\n    private int m(aab aab2, int n2, int n3, int n4, int n5) {\n        if (!this.d(n5)) {\n            return this.e(aab2, n2, n3, n4, n5);\n        }\n        return Math.max(this.e(aab2, n2, n3, n4, n5) - this.f((aak)aab2, n2, n3, n4, n5), 0);\n    }\n\n    public boolean d(int n2) {\n        return (n2 &amp; 4) == 4;\n    }\n\n    protected boolean d(aab aab2, int n2, int n3, int n4, int n5) {\n        int n6 = this.e(aab2, n2, n3, n4, n5);\n        if (n6 &gt;= 15) {\n            return true;\n        }\n        if (n6 == 0) {\n            return false;\n        }\n        int n7 = this.f((aak)aab2, n2, n3, n4, n5);\n        if (n7 == 0) {\n            return true;\n        }\n        return n6 &gt;= n7;\n    }\n\n    protected int e(aab aab2, int n2, int n3, int n4, int n5) {\n        int n6;\n        int n7 = super.e(aab2, n2, n3, n4, n5);\n        int n8 = als.j(n5);\n        int n9 = n2 + r.a[n8];\n        int n10 = aab2.a(n9, n3, n6 = n4 + r.b[n8]);\n        if (n10 &gt; 0) {\n            if (apa.r[n10].q_()) {\n                n7 = apa.r[n10].b_(aab2, n9, n3, n6, r.f[n8]);\n            } else if (n7 &lt; 15 &amp;&amp; apa.l(n10) &amp;&amp; (n10 = aab2.a(n9 += r.a[n8], n3, n6 += r.b[n8])) &gt; 0 &amp;&amp; apa.r[n10].q_()) {\n                n7 = apa.r[n10].b_(aab2, n9, n3, n6, r.f[n8]);\n            }\n        }\n        return n7;\n    }\n\n    public aqa a_(aak aak2, int n2, int n3, int n4) {\n        return (aqa)aak2.r(n2, n3, n4);\n    }\n\n    public boolean a(aab aab2, int n2, int n3, int n4, sq sq2, int n5, float f2, float f3, float f4) {\n        int n6 = aab2.h(n2, n3, n4);\n        boolean bl2 = this.a | (n6 &amp; 8) != 0;\n        boolean bl3 = !this.d(n6);\n        int n7 = bl3 ? 4 : 0;\n        aab2.a((double)n2 + 0.5, (double)n3 + 0.5, (double)n4 + 0.5, &quot;random.click&quot;, 0.3f, bl3 ? 0.55f : 0.5f);\n        aab2.b(n2, n3, n4, (n7 |= bl2 ? 8 : 0) | n6 &amp; 3, 2);\n        this.c(aab2, n2, n3, n4, aab2.s);\n        return true;\n    }\n\n    protected void f(aab aab2, int n2, int n3, int n4, int n5) {\n        int n6;\n        int n7;\n        int n8;\n        if (!(aab2.a(n2, n3, n4, this.cz) || (n8 = this.m(aab2, n2, n3, n4, n7 = aab2.h(n2, n3, n4))) == (n6 = this.a_(aab2, n2, n3, n4).a()) &amp;&amp; this.c(n7) == this.d(aab2, n2, n3, n4, n7))) {\n            if (this.h(aab2, n2, n3, n4, n7)) {\n                aab2.a(n2, n3, n4, this.cz, this.i_(0), -1);\n            } else {\n                aab2.a(n2, n3, n4, this.cz, this.i_(0), 0);\n            }\n        }\n    }\n\n    private void c(aab aab2, int n2, int n3, int n4, Random random) {\n        int n5 = aab2.h(n2, n3, n4);\n        int n6 = this.m(aab2, n2, n3, n4, n5);\n        int n7 = this.a_(aab2, n2, n3, n4).a();\n        this.a_(aab2, n2, n3, n4).a(n6);\n        if (n7 != n6 || !this.d(n5)) {\n            boolean bl2;\n            boolean bl3 = this.d(aab2, n2, n3, n4, n5);\n            boolean bl4 = bl2 = this.a || (n5 &amp; 8) != 0;\n            if (bl2 &amp;&amp; !bl3) {\n                aab2.b(n2, n3, n4, n5 &amp; 0xFFFFFFF7, 2);\n            } else if (!bl2 &amp;&amp; bl3) {\n                aab2.b(n2, n3, n4, n5 | 8, 2);\n            }\n            this.h_(aab2, n2, n3, n4);\n        }\n    }\n\n    public void a(aab aab2, int n2, int n3, int n4, Random random) {\n        if (this.a) {\n            int n5 = aab2.h(n2, n3, n4);\n            aab2.f(n2, n3, n4, this.j().cz, n5 | 8, 4);\n        }\n        this.c(aab2, n2, n3, n4, random);\n    }\n\n    public void a(aab aab2, int n2, int n3, int n4) {\n        super.a(aab2, n2, n3, n4);\n        aab2.a(n2, n3, n4, this.b(aab2));\n    }\n\n    public void a(aab aab2, int n2, int n3, int n4, int n5, int n6) {\n        super.a(aab2, n2, n3, n4, n5, n6);\n        aab2.s(n2, n3, n4);\n        this.h_(aab2, n2, n3, n4);\n    }\n\n    public boolean b(aab aab2, int n2, int n3, int n4, int n5, int n6) {\n        super.b(aab2, n2, n3, n4, n5, n6);\n        aqp aqp2 = aab2.r(n2, n3, n4);\n        if (aqp2 != null) {\n            return aqp2.b(n5, n6);\n        }\n        return false;\n    }\n\n    public void a(ly ly2) {\n        this.cQ = ly2.a(this.a ? &quot;comparator_lit&quot; : &quot;comparator&quot;);\n    }\n\n    public aqp b(aab aab2) {\n        return new aqa();\n    }\n}\n</code></pre>\n<p>I also tried it with Fernflower (in IntelliJ IDEA) and with JD-GUI. Results are the same. Why does it happen? The reason why I am decompiling Minecraft is because I want to try to optimize it just for myself.\nMaybe I need to change <code>f</code> method and return some var declared in it... This is the first class I noted this in, but, I think there are a lot of classes like this one in nearly 1500 files. Thanks for any help.</p>\n<p><strong>UPD:</strong>\nI found that in class <code>aly</code> (super class) there is protected <code>int f</code> method, maybe I need to call it?</p>\n<p><strong>UPD 2:</strong>\nSeven months later, I cringe at this stupid question..</p>\n"},{"tags":["java","http","jsp","tcp"],"comments":[{"owner":{"account_id":196956,"reputation":6125,"user_id":440704,"accept_rate":82,"display_name":"Nathan"},"score":4,"creation_date":1305183307,"post_id":5974364,"comment_id":6894072,"body_markdown":"Http uses TCP, so comparing them isn&#39;t really valid...  presumably the question is &quot;why would you choose a propriatary implementation over TCP when more open, standardised formats such as http already exist&quot;?","body":"Http uses TCP, so comparing them isn&#39;t really valid...  presumably the question is &quot;why would you choose a propriatary implementation over TCP when more open, standardised formats such as http already exist&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1688574507,"creation_date":1305183329,"answer_id":5974397,"question_id":5974364,"body_markdown":"HTTP is not an *alternative* to TCP. It is a protocol built on top of TCP.\r\n\r\nCustom, interactive protocols can be much more efficient when implemented on TCP than on HTTP, because HTTP works on a rather basic request/response base&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\nOn a pure TCP connection, both ends can send messages whenever they want. On HTTP the server can&#39;t really proactively send a message to the client. It needs to wait for the client to send a request.\r\n\r\nAn advantage of HTTP is that it&#39;s almost universally understood: there are server- and client-libraries for all languages, there are well-understood caching and proxy-ing mechanisms and there&#39;s a wide variety of content negotiation-mechanisms built in.\r\n\r\nSo it&#39;s the traditional trade-off between high-level or lower-level abstraction:\r\n\r\n - lower-level abstraction (TCP) provides high flexbility and the *possibility* of implementing almost everything, while it is not as simple to use\r\n - higher-level abstraction (HTTP) provides more built-in features and are easier to support, but additional features are harder to add\r\n\r\n&lt;sup&gt;* Disclaimer: this answer was written in the era of HTTP/1.1 where this statement was much more correct than it currently is for HTTP/2 and HTTP/3. While these are still fundamentally request/response protocols, they have many advanced features which makes them less restricted in usage than &quot;traditional&quot; HTTP/1.1&lt;/sup&gt;","title":"How is using TCP communication better than HTTP communication?","body":"<p>HTTP is not an <em>alternative</em> to TCP. It is a protocol built on top of TCP.</p>\n<p>Custom, interactive protocols can be much more efficient when implemented on TCP than on HTTP, because HTTP works on a rather basic request/response base<sup>*</sup>.</p>\n<p>On a pure TCP connection, both ends can send messages whenever they want. On HTTP the server can't really proactively send a message to the client. It needs to wait for the client to send a request.</p>\n<p>An advantage of HTTP is that it's almost universally understood: there are server- and client-libraries for all languages, there are well-understood caching and proxy-ing mechanisms and there's a wide variety of content negotiation-mechanisms built in.</p>\n<p>So it's the traditional trade-off between high-level or lower-level abstraction:</p>\n<ul>\n<li>lower-level abstraction (TCP) provides high flexbility and the <em>possibility</em> of implementing almost everything, while it is not as simple to use</li>\n<li>higher-level abstraction (HTTP) provides more built-in features and are easier to support, but additional features are harder to add</li>\n</ul>\n<p><sup>* Disclaimer: this answer was written in the era of HTTP/1.1 where this statement was much more correct than it currently is for HTTP/2 and HTTP/3. While these are still fundamentally request/response protocols, they have many advanced features which makes them less restricted in usage than &quot;traditional&quot; HTTP/1.1</sup></p>\n"},{"tags":[],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305183333,"creation_date":1305183333,"answer_id":5974398,"question_id":5974364,"body_markdown":"TCP can&#39;t be told as better. It is a protocol of transport(4th) level of [OSI][1] model.\r\nHTTP is an application protocol(7th level).\r\n\r\nThey are different and HTTP is based on TCP.\r\n\r\nHTTP is basically used for web communications - sites, web-services and so on. It can be told that HTTP is a client-oriented: client asks server for some data and receive the response. When it sends another request and so on. \r\nTCP is a base protocol which grants you that all your sent information will be received in the same order and intact.\r\n\r\nRead about them on Wiki: [HTTP][2] and [TCP][3].\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/OSI_model\r\n  [2]: http://en.wikipedia.org/wiki/HTTP\r\n  [3]: http://en.wikipedia.org/wiki/Transmission_Control_Protocol","title":"How is using TCP communication better than HTTP communication?","body":"<p>TCP can't be told as better. It is a protocol of transport(4th) level of <a href=\"http://en.wikipedia.org/wiki/OSI_model\" rel=\"nofollow\">OSI</a> model.\nHTTP is an application protocol(7th level).</p>\n\n<p>They are different and HTTP is based on TCP.</p>\n\n<p>HTTP is basically used for web communications - sites, web-services and so on. It can be told that HTTP is a client-oriented: client asks server for some data and receive the response. When it sends another request and so on. \nTCP is a base protocol which grants you that all your sent information will be received in the same order and intact.</p>\n\n<p>Read about them on Wiki: <a href=\"http://en.wikipedia.org/wiki/HTTP\" rel=\"nofollow\">HTTP</a> and <a href=\"http://en.wikipedia.org/wiki/Transmission_Control_Protocol\" rel=\"nofollow\">TCP</a>.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1305183419,"creation_date":1305183419,"answer_id":5974414,"question_id":5974364,"body_markdown":"HTTP is a protocol *on top* of TCP. It offers specific features and lacks others (most significantly statefulness and the ability for servers to initiate communication). If you need something that HTTP makes hard or impossible, it would be a good idea to use something else. \r\n\r\nOr you can kludge those features on top of HTTP, which is what seems to be the most popular option (possibly because of the &quot;only port 80 is open everywhere, so let&#39;s use it for everything&quot; issue) but often leads to rather nasty hacks.","title":"How is using TCP communication better than HTTP communication?","body":"<p>HTTP is a protocol <em>on top</em> of TCP. It offers specific features and lacks others (most significantly statefulness and the ability for servers to initiate communication). If you need something that HTTP makes hard or impossible, it would be a good idea to use something else. </p>\n\n<p>Or you can kludge those features on top of HTTP, which is what seems to be the most popular option (possibly because of the \"only port 80 is open everywhere, so let's use it for everything\" issue) but often leads to rather nasty hacks.</p>\n"}],"owner":{"account_id":242751,"reputation":6179,"user_id":514493,"accept_rate":69,"display_name":"Manish Basdeo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2039,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5974397,"answer_count":3,"score":3,"last_activity_date":1688574507,"creation_date":1305183058,"question_id":5974364,"body_markdown":"I have implemented a client server jave program using TCP for an assignment. Now I&#39;ve to explain why I chose TCP for communication when other alternatives like HTTP are also available..\r\nSo I need some reasons why TCP is better than the other one ..","title":"How is using TCP communication better than HTTP communication?","body":"<p>I have implemented a client server jave program using TCP for an assignment. Now I've to explain why I chose TCP for communication when other alternatives like HTTP are also available..\nSo I need some reasons why TCP is better than the other one ..</p>\n"},{"tags":["java","for-loop","indexoutofboundsexception"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1688572824,"post_id":76622049,"comment_id":135092469,"body_markdown":"Please [edit] your question to add the way you&#39;re running your program.","body":"Please <a href=\"https://stackoverflow.com/posts/76622049/edit\">edit</a> your question to add the way you&#39;re running your program."},{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1688572842,"post_id":76622049,"comment_id":135092474,"body_markdown":"Only the command line could give that result of an `ArrayInexOutOfBoundsException` from what I&#39;m seeing here. Are you sure that the arguments you are using to call it are really reaching the `args`? `java -cp myClass 5 3`","body":"Only the command line could give that result of an <code>ArrayInexOutOfBoundsException</code> from what I&#39;m seeing here. Are you sure that the arguments you are using to call it are really reaching the <code>args</code>? <code>java -cp myClass 5 3</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688572856,"post_id":76622049,"comment_id":135092481,"body_markdown":"The only place you&#39;re accessing an array is when you get n and r. It appears you&#39;re not providing the arguments correctly.","body":"The only place you&#39;re accessing an array is when you get n and r. It appears you&#39;re not providing the arguments correctly."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1688574491,"post_id":76622049,"comment_id":135092885,"body_markdown":"Be aware questions need to include the specific error, and need to include instructions to reproduce.","body":"Be aware questions need to include the specific error, and need to include instructions to reproduce."}],"answers":[{"comments":[{"owner":{"account_id":28956957,"reputation":21,"user_id":22180312,"display_name":"silly_bear_11"},"score":1,"creation_date":1688576662,"post_id":76622280,"comment_id":135093290,"body_markdown":"Thank you! I actually was inputting my arguments wrong, I&#39;m sorry for such a silly mistake.","body":"Thank you! I actually was inputting my arguments wrong, I&#39;m sorry for such a silly mistake."},{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":1,"creation_date":1688578058,"post_id":76622280,"comment_id":135093582,"body_markdown":"@silly_bear_11 no problem, it always happens :) If my answer was helpful, I&#39;d appreciate if you&#39;d smack this green checkbox that you accepted it :) thanks in advance!","body":"@silly_bear_11 no problem, it always happens :) If my answer was helpful, I&#39;d appreciate if you&#39;d smack this green checkbox that you accepted it :) thanks in advance!"},{"owner":{"account_id":28956957,"reputation":21,"user_id":22180312,"display_name":"silly_bear_11"},"score":1,"creation_date":1688668683,"post_id":76622280,"comment_id":135108396,"body_markdown":"Just clicked the checkmark, and now it says on my end that it&#39;s accepted. Thanks again!","body":"Just clicked the checkmark, and now it says on my end that it&#39;s accepted. Thanks again!"}],"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688574288,"creation_date":1688574288,"answer_id":76622280,"question_id":76622049,"body_markdown":"I believe the error has nothing to do with your harmonic numbers. Input values are the problem. If you look into the exception carefully you will see that it is thrown at the line where you extract the parameters from the command line arguments `args[N]`. For that is the only place where you operate with arrays in your code. \r\n\r\nTry this code:\r\n```\r\npublic static void main(String[] args) {\r\n    if (args.length != 2) {\r\n        System.out.println(&quot;The program requires 2 arguments. You provided &quot; + args.length);\r\n        return;\r\n    }\r\n    int n = Integer.parseInt(args[0]);\r\n    int r = Integer.parseInt(args[1]);\r\n    float sum = 0;\r\n    for (int i = 1; i &lt;= n; i++) {\r\n        sum += 1 / Math.pow(i, r);\r\n    }\r\n    System.out.println(sum);\r\n}\r\n```\r\n\r\nYou will see that your arguments are somehow not provided. Check how do you run your program.","title":"Array Index Out Of Bounds Error When Computing Generalized Harmonic Numbers","body":"<p>I believe the error has nothing to do with your harmonic numbers. Input values are the problem. If you look into the exception carefully you will see that it is thrown at the line where you extract the parameters from the command line arguments <code>args[N]</code>. For that is the only place where you operate with arrays in your code.</p>\n<p>Try this code:</p>\n<pre><code>public static void main(String[] args) {\n    if (args.length != 2) {\n        System.out.println(&quot;The program requires 2 arguments. You provided &quot; + args.length);\n        return;\n    }\n    int n = Integer.parseInt(args[0]);\n    int r = Integer.parseInt(args[1]);\n    float sum = 0;\n    for (int i = 1; i &lt;= n; i++) {\n        sum += 1 / Math.pow(i, r);\n    }\n    System.out.println(sum);\n}\n</code></pre>\n<p>You will see that your arguments are somehow not provided. Check how do you run your program.</p>\n"}],"owner":{"account_id":28956957,"reputation":21,"user_id":22180312,"display_name":"silly_bear_11"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76622280,"answer_count":1,"score":1,"last_activity_date":1688574288,"creation_date":1688572621,"question_id":76622049,"body_markdown":"Beginner to java. Trying to make code that takes 2 command line arguments (n, r) and uses a for loop to compute the nth generalized harmonic number of order r.\r\n\r\nI keep getting the error &quot;ArrayIndexOutOfBoundsException&quot; and I have no idea why. In the loop, I have tried i &lt; n and i&lt;=n and keep getting the same result.\r\n\r\n\r\nHere is the code:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        int n = Integer.parseInt(args[0]);\r\n        int r = Integer.parseInt(args[1]);\r\n        float sum = 0;\r\n        for (int i = 1; i &lt;= n; i++) {\r\n            sum += 1 / Math.pow(i, r);\r\n        }\r\n        System.out.println(sum);\r\n    }\r\n}\r\n```\r\nEdit: I am running the program from the mac command line and it&#39;s not letting me enter arguments at all. Sorry if this is missing something very obvious. ","title":"Array Index Out Of Bounds Error When Computing Generalized Harmonic Numbers","body":"<p>Beginner to java. Trying to make code that takes 2 command line arguments (n, r) and uses a for loop to compute the nth generalized harmonic number of order r.</p>\n<p>I keep getting the error &quot;ArrayIndexOutOfBoundsException&quot; and I have no idea why. In the loop, I have tried i &lt; n and i&lt;=n and keep getting the same result.</p>\n<p>Here is the code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int n = Integer.parseInt(args[0]);\n        int r = Integer.parseInt(args[1]);\n        float sum = 0;\n        for (int i = 1; i &lt;= n; i++) {\n            sum += 1 / Math.pow(i, r);\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n<p>Edit: I am running the program from the mac command line and it's not letting me enter arguments at all. Sorry if this is missing something very obvious.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1688406481,"post_id":76607034,"comment_id":135067263,"body_markdown":"See [FAQ](https://poi.apache.org/help/faq.html#faq-N10204) -&gt; `poi-ooxml-schemas 4.1.2 ` does not fit to `poi-ooxml 5.2.2`. This needs `poi-ooxml-lite` of same version `5.2.2`. Also it needs `commons-io` in version  `2.11.0`.","body":"See <a href=\"https://poi.apache.org/help/faq.html#faq-N10204\" rel=\"nofollow noreferrer\">FAQ</a> -&gt; <code>poi-ooxml-schemas 4.1.2 </code> does not fit to <code>poi-ooxml 5.2.2</code>. This needs <code>poi-ooxml-lite</code> of same version <code>5.2.2</code>. Also it needs <code>commons-io</code> in version  <code>2.11.0</code>."}],"answers":[{"tags":[],"owner":{"account_id":19431408,"reputation":11,"user_id":14211756,"display_name":"bdoucouret"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688574028,"creation_date":1688406959,"answer_id":76607155,"question_id":76607034,"body_markdown":"Difficult to answer without some more information.\r\nNote that `NoClassDefFoundError != ClassNotFoundException`\r\n\r\nWith `NoClassDefFoundError` it could be that the class is on classpath, but there is an exception preventing it to load into the classloader.\r\n\r\nIt could also be the version of commons-io that you use, that can be too old and not include a newer type that is required on some other dependency.\r\n\r\nAnyway, with a simple maven project, I can successfully instantiate an object of type `UnsynchronizedByteArrayOutputStream` with following dependency:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.13.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n```\r\npublic static void main(String[] args) {\r\n\t\tUnsynchronizedByteArrayOutputStream e = new UnsynchronizedByteArrayOutputStream();\r\n\tSystem.out.println(&quot;All good&quot;);\r\n}\r\n```","title":"java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream error while reading data from excel","body":"<p>Difficult to answer without some more information.\nNote that <code>NoClassDefFoundError != ClassNotFoundException</code></p>\n<p>With <code>NoClassDefFoundError</code> it could be that the class is on classpath, but there is an exception preventing it to load into the classloader.</p>\n<p>It could also be the version of commons-io that you use, that can be too old and not include a newer type that is required on some other dependency.</p>\n<p>Anyway, with a simple maven project, I can successfully instantiate an object of type <code>UnsynchronizedByteArrayOutputStream</code> with following dependency:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.13.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<pre><code>public static void main(String[] args) {\n        UnsynchronizedByteArrayOutputStream e = new UnsynchronizedByteArrayOutputStream();\n    System.out.println(&quot;All good&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1467181,"reputation":1,"user_id":1379718,"display_name":"monisha wali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1688574028,"creation_date":1688405810,"question_id":76607034,"body_markdown":"I am reading data from excel file but getting above error\r\nI have added all below dependencies to my pom:   \r\n     poi 5.2.2 ,poiooxml 5.2.2, poi-ooxml-schemas 4.1.2 ,commons-io 2.7\r\nStill its not working. Please help\r\n\r\nI have tries adding all dependencies ","title":"java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream error while reading data from excel","body":"<p>I am reading data from excel file but getting above error\nI have added all below dependencies to my pom:<br />\npoi 5.2.2 ,poiooxml 5.2.2, poi-ooxml-schemas 4.1.2 ,commons-io 2.7\nStill its not working. Please help</p>\n<p>I have tries adding all dependencies</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688571181,"creation_date":1688571181,"answer_id":76621881,"question_id":76621813,"body_markdown":"You can set the `spring.kafka.admin.fail-fast` configuration property to `true`.\r\n\r\nThe default is `false`.\r\n\r\nMore on the configuration properties [here][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.integration","title":"How to stop spring KafkaMessageListenerContainer reconnection attempts","body":"<p>You can set the <code>spring.kafka.admin.fail-fast</code> configuration property to <code>true</code>.</p>\n<p>The default is <code>false</code>.</p>\n<p>More on the configuration properties <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.integration\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688573905,"creation_date":1688573905,"answer_id":76622243,"question_id":76621813,"body_markdown":"Unfortunately there is no kafka-clients API to detect whether the server is available or not.","title":"How to stop spring KafkaMessageListenerContainer reconnection attempts","body":"<p>Unfortunately there is no kafka-clients API to detect whether the server is available or not.</p>\n"}],"owner":{"account_id":20450118,"reputation":43,"user_id":15005110,"display_name":"django"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688573905,"creation_date":1688570684,"question_id":76621813,"body_markdown":"I have a [KafkaMessageListenerContainer][1] instance, I&#39;m calling `container.start()` with wrong kafka server address, but no exception is thrown in the start method, instead my app runs in a loop with the following output:\r\n\r\n    Connection to node -1 (localhost/127.0.0.1:19093) could not be established. Broker may not be available.\r\n\r\nI want to stop this loop when connection is not working or make the start method throw an exception. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/api/org/springframework/kafka/listener/KafkaMessageListenerContainer.html","title":"How to stop spring KafkaMessageListenerContainer reconnection attempts","body":"<p>I have a <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/listener/KafkaMessageListenerContainer.html\" rel=\"nofollow noreferrer\">KafkaMessageListenerContainer</a> instance, I'm calling <code>container.start()</code> with wrong kafka server address, but no exception is thrown in the start method, instead my app runs in a loop with the following output:</p>\n<pre><code>Connection to node -1 (localhost/127.0.0.1:19093) could not be established. Broker may not be available.\n</code></pre>\n<p>I want to stop this loop when connection is not working or make the start method throw an exception.</p>\n"},{"tags":["java","reactjs","spring-boot","frontend","backend"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688634232,"post_id":76622175,"comment_id":135101013,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24123375,"reputation":9,"user_id":18092133,"display_name":"Kone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688573451,"creation_date":1688573451,"question_id":76622175,"body_markdown":"I&#39;m trying to make a full stack application, so it includes a lot of endpoints...\r\nI don&#39;t see the green button on the side for generated requests that displays file with type of endpoint and url of it, so I&#39;m interested how to make it visible?\r\n\r\nBtw I am using Spring boot Maven and React for my project.\r\n\r\nI tried in Settings and more, but I couldn&#39;t find anything.","title":"How i can see generated requests for endpoints in IntelliJ","body":"<p>I'm trying to make a full stack application, so it includes a lot of endpoints...\nI don't see the green button on the side for generated requests that displays file with type of endpoint and url of it, so I'm interested how to make it visible?</p>\n<p>Btw I am using Spring boot Maven and React for my project.</p>\n<p>I tried in Settings and more, but I couldn't find anything.</p>\n"},{"tags":["java","spring-boot","sonarqube","sonarqube-scan"],"comments":[{"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"score":3,"creation_date":1688574070,"post_id":76622171,"comment_id":135092791,"body_markdown":"The formatting rules are there for a reason, having a bean with 11 dependencies means that the scope of that bean is too wide and it is usually a code smell. I would suggest you refactor it into smaller ones with a narrow scope. Having said that, if you feel no refactoring is necessary you can suppress the error. Refactoring the code just for the sake of removing the linter errors does not sound like a great idea.","body":"The formatting rules are there for a reason, having a bean with 11 dependencies means that the scope of that bean is too wide and it is usually a code smell. I would suggest you refactor it into smaller ones with a narrow scope. Having said that, if you feel no refactoring is necessary you can suppress the error. Refactoring the code just for the sake of removing the linter errors does not sound like a great idea."}],"owner":{"account_id":17143647,"reputation":7,"user_id":12407074,"display_name":"lnikoli31"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688573433,"creation_date":1688573433,"question_id":76622171,"body_markdown":"I have an implementation of my service class with a constructor having more than 7 parameters (11 parameters)\r\n\r\n    @Service\r\n    public class CourseService extends CourseBase {\r\n    \r\n      private MathRepository mathRepository;\r\n      private BiologyRepository biologyRepository;\r\n      private PhysicalRepository physicalRepository;\r\n      private EnglishRepository englishRepository;\r\n      private AlgebraRepository algebraRepository;\r\n      private TrigonometryRepository trigonometryRepository;\r\n      private ChemistryRepository chemistryRepository;\r\n      private AnatomyRepository anatomyRepository;\r\n      private HistoryRepository historyRepository;\r\n      private CourseBaseOneRepository courseBaseOneRepository;\r\n      private CourseBaseTwoRepository courseBaseTwoRepository;\r\n      \r\n      public CourseService(\r\n    \tMathRepository mathRepository,\r\n    \tBiologyRepository biologyRepository,\r\n    \tPhysicalRepository physicalRepository,\r\n    \tEnglishRepository englishRepository,\r\n    \tAlgebraRepository algebraRepository,\r\n    \tTrigonometryRepository trigonometryRepository,\r\n    \tChemistryRepository chemistryRepository,\r\n    \tAnatomyRepository anatomyRepository,\r\n    \tHistoryRepository historyRepository,\r\n    \tCourseBaseOneRepository courseBaseOneRepository,\r\n    \tCourseBaseTwoRepository courseBaseTwoRepository\r\n      ) {\r\n      super(courseBaseOneRepository, courseBaseTwoRepository);\r\n        this.mathRepository = mathRepository;\r\n    \tthis.biologyRepository = biologyRepository;\r\n    \tthis.physicalRepository = physicalRepository;\r\n    \tthis.englishRepository = englishRepository;\r\n    \tthis.algebraRepository = algebraRepository;\r\n    \tthis.trigonometryRepository = trigonometryRepository;\r\n    \tthis.chemistryRepository = chemistryRepository;\r\n    \tthis.anatomyRepository = anatomyRepository;\r\n    \tthis.historyRepository = historyRepository;\r\n      }\r\n      ...\r\n    \r\n    }\r\n\r\nI get a  sonar Qube error: constructor has 11 parameters , which is greater then 7 authorized\r\nTo solve this error, I thought of creating another class that has 9 parameters and I want to inject this class into my service class. \r\n\r\n    public class CourseGroupService {\r\n    \r\n      private MathRepository mathRepository;\r\n      private BiologyRepository biologyRepository;\r\n      private PhysicalRepository physicalRepository;\r\n      private EnglishRepository englishRepository;\r\n      private AlgebraRepository algebraRepository;\r\n      private TrigonometryRepository trigonometryRepository;\r\n      private ChemistryRepository chemistryRepository;\r\n      private AnatomyRepository anatomyRepository;\r\n      private HistoryRepository historyRepository;\r\n      \r\n      public CourseGroupService(\r\n    \tMathRepository mathRepository,\r\n    \tBiologyRepository biologyRepository,\r\n    \tPhysicalRepository physicalRepository,\r\n    \tEnglishRepository englishRepository,\r\n    \tAlgebraRepository algebraRepository,\r\n    \tTrigonometryRepository trigonometryRepository,\r\n    \tChemistryRepository chemistryRepository,\r\n    \tAnatomyRepository anatomyRepository,\r\n    \tHistoryRepository historyRepository,\r\n      ) {\r\n        this.mathRepository = mathRepository;\r\n    \tthis.biologyRepository = biologyRepository;\r\n    \tthis.physicalRepository = physicalRepository;\r\n    \tthis.englishRepository = englishRepository;\r\n    \tthis.algebraRepository = algebraRepository;\r\n    \tthis.trigonometryRepository = trigonometryRepository;\r\n    \tthis.chemistryRepository = chemistryRepository;\r\n    \tthis.anatomyRepository = anatomyRepository;\r\n    \tthis.historyRepository = historyRepository;\r\n      }\r\n    \r\n    }\r\n\r\nHow to include this class in the service class and how to initialize it in the constructor to no longer have this sonar Qube error","title":"Spring boot constructor parameter which is greater then 7 authorized","body":"<p>I have an implementation of my service class with a constructor having more than 7 parameters (11 parameters)</p>\n<pre><code>@Service\npublic class CourseService extends CourseBase {\n\n  private MathRepository mathRepository;\n  private BiologyRepository biologyRepository;\n  private PhysicalRepository physicalRepository;\n  private EnglishRepository englishRepository;\n  private AlgebraRepository algebraRepository;\n  private TrigonometryRepository trigonometryRepository;\n  private ChemistryRepository chemistryRepository;\n  private AnatomyRepository anatomyRepository;\n  private HistoryRepository historyRepository;\n  private CourseBaseOneRepository courseBaseOneRepository;\n  private CourseBaseTwoRepository courseBaseTwoRepository;\n  \n  public CourseService(\n    MathRepository mathRepository,\n    BiologyRepository biologyRepository,\n    PhysicalRepository physicalRepository,\n    EnglishRepository englishRepository,\n    AlgebraRepository algebraRepository,\n    TrigonometryRepository trigonometryRepository,\n    ChemistryRepository chemistryRepository,\n    AnatomyRepository anatomyRepository,\n    HistoryRepository historyRepository,\n    CourseBaseOneRepository courseBaseOneRepository,\n    CourseBaseTwoRepository courseBaseTwoRepository\n  ) {\n  super(courseBaseOneRepository, courseBaseTwoRepository);\n    this.mathRepository = mathRepository;\n    this.biologyRepository = biologyRepository;\n    this.physicalRepository = physicalRepository;\n    this.englishRepository = englishRepository;\n    this.algebraRepository = algebraRepository;\n    this.trigonometryRepository = trigonometryRepository;\n    this.chemistryRepository = chemistryRepository;\n    this.anatomyRepository = anatomyRepository;\n    this.historyRepository = historyRepository;\n  }\n  ...\n\n}\n</code></pre>\n<p>I get a  sonar Qube error: constructor has 11 parameters , which is greater then 7 authorized\nTo solve this error, I thought of creating another class that has 9 parameters and I want to inject this class into my service class.</p>\n<pre><code>public class CourseGroupService {\n\n  private MathRepository mathRepository;\n  private BiologyRepository biologyRepository;\n  private PhysicalRepository physicalRepository;\n  private EnglishRepository englishRepository;\n  private AlgebraRepository algebraRepository;\n  private TrigonometryRepository trigonometryRepository;\n  private ChemistryRepository chemistryRepository;\n  private AnatomyRepository anatomyRepository;\n  private HistoryRepository historyRepository;\n  \n  public CourseGroupService(\n    MathRepository mathRepository,\n    BiologyRepository biologyRepository,\n    PhysicalRepository physicalRepository,\n    EnglishRepository englishRepository,\n    AlgebraRepository algebraRepository,\n    TrigonometryRepository trigonometryRepository,\n    ChemistryRepository chemistryRepository,\n    AnatomyRepository anatomyRepository,\n    HistoryRepository historyRepository,\n  ) {\n    this.mathRepository = mathRepository;\n    this.biologyRepository = biologyRepository;\n    this.physicalRepository = physicalRepository;\n    this.englishRepository = englishRepository;\n    this.algebraRepository = algebraRepository;\n    this.trigonometryRepository = trigonometryRepository;\n    this.chemistryRepository = chemistryRepository;\n    this.anatomyRepository = anatomyRepository;\n    this.historyRepository = historyRepository;\n  }\n\n}\n</code></pre>\n<p>How to include this class in the service class and how to initialize it in the constructor to no longer have this sonar Qube error</p>\n"},{"tags":["java","javafx","treeview"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1688574235,"post_id":76622164,"comment_id":135092823,"body_markdown":"It sounds like you want to respond to clicks on the `TreeCell`, not changes in selection. Just define a custom `cellFactory` and register the appropriate event handler with the cell. Create and post a [mre] if you can&#39;t get it to work.","body":"It sounds like you want to respond to clicks on the <code>TreeCell</code>, not changes in selection. Just define a custom <code>cellFactory</code> and register the appropriate event handler with the cell. Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you can&#39;t get it to work."}],"owner":{"account_id":27101024,"reputation":11,"user_id":20647584,"display_name":"TRKirua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688573394,"creation_date":1688573394,"question_id":76622164,"body_markdown":"I&#39;m coding in JavaFx and I&#39;ve created a TreeView to display folders and files like this :\r\n```\r\nfileTreeView = new TreeView&lt;&gt;();\r\nfileTreeView.setPrefWidth(screenWidth / 5);\r\nfileTreeView.setMinWidth(screenWidth / 5);\r\nfileTreeView.setMaxWidth(screenWidth / 5);\r\n```\r\n\r\nIf the user open a single file, there will only be one file in this TreeView. When clicking on this file, it will open create a Tab and put the content in it and put the Tab in a TabPane. But when the user close the file tab and he wants to open again the file by clicking on it in the TreeView, it don&#39;t work because he must click on another file or directory to deselect the previous file, and then click on the file again.\r\n\r\nSo you understand it, if there is only one file, you cannot open it after closing it.\r\nHow can I do it. I&#39;ve already tried things like\r\n``` fileTreeView.getSelectionModel().clearSelection(); ```\r\nor\r\n``` fileTreeView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE); ```\r\nbut it&#39;s not what I want.\r\n\r\nThanks in advance for your help !","title":"How to deselect a TreeItem after clicking in a TreeView in JavaFx","body":"<p>I'm coding in JavaFx and I've created a TreeView to display folders and files like this :</p>\n<pre><code>fileTreeView = new TreeView&lt;&gt;();\nfileTreeView.setPrefWidth(screenWidth / 5);\nfileTreeView.setMinWidth(screenWidth / 5);\nfileTreeView.setMaxWidth(screenWidth / 5);\n</code></pre>\n<p>If the user open a single file, there will only be one file in this TreeView. When clicking on this file, it will open create a Tab and put the content in it and put the Tab in a TabPane. But when the user close the file tab and he wants to open again the file by clicking on it in the TreeView, it don't work because he must click on another file or directory to deselect the previous file, and then click on the file again.</p>\n<p>So you understand it, if there is only one file, you cannot open it after closing it.\nHow can I do it. I've already tried things like\n<code>fileTreeView.getSelectionModel().clearSelection();</code>\nor\n<code>fileTreeView.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);</code>\nbut it's not what I want.</p>\n<p>Thanks in advance for your help !</p>\n"},{"tags":["java","android","xml"],"owner":{"account_id":12488403,"reputation":23,"user_id":9090844,"display_name":"Abdelouahad Elfihri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688573280,"creation_date":1688573280,"question_id":76622149,"body_markdown":"hy,\r\ni working on an android app i have problem with my main activity i have strange empty white space above toolbar. in my app i have one activity that does not have empty space above toolbar i tried to copy some of the layout in this activity but nothing works maybe i have to add something else\r\nthis is my layout for main activity\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/main_activity_toolbar&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#4F5EB1&quot;\r\n        android:minHeight=&quot;?attr/actionBarSize&quot;\r\n        android:theme=&quot;?attr/actionBarTheme&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/griview&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:title=&quot;@string/app_name&quot;\r\n        app:titleTextColor=&quot;@android:color/white&quot; /&gt;\r\n    \r\n    &lt;GridView\r\n        android:id=&quot;@+id/griview&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;670dp&quot;\r\n        android:layout_marginBottom=&quot;5dp&quot;\r\n        android:columnWidth=&quot;100dp&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:numColumns=&quot;2&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/main_activity_toolbar&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\ncan someone please help me with this issue\r\n\r\nthank you so much for your help\r\n","title":"Strange empty white space above toolbar","body":"<p>hy,\ni working on an android app i have problem with my main activity i have strange empty white space above toolbar. in my app i have one activity that does not have empty space above toolbar i tried to copy some of the layout in this activity but nothing works maybe i have to add something else\nthis is my layout for main activity</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;androidx.appcompat.widget.Toolbar\n    android:id=&quot;@+id/main_activity_toolbar&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;#4F5EB1&quot;\n    android:minHeight=&quot;?attr/actionBarSize&quot;\n    android:theme=&quot;?attr/actionBarTheme&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/griview&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:title=&quot;@string/app_name&quot;\n    app:titleTextColor=&quot;@android:color/white&quot; /&gt;\n\n&lt;GridView\n    android:id=&quot;@+id/griview&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;670dp&quot;\n    android:layout_marginBottom=&quot;5dp&quot;\n    android:columnWidth=&quot;100dp&quot;\n    android:gravity=&quot;center&quot;\n    android:numColumns=&quot;2&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/main_activity_toolbar&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>can someone please help me with this issue</p>\n<p>thank you so much for your help</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688573890,"post_id":76622136,"comment_id":135092756,"body_markdown":"what is the meaning of that &quot;range&quot;, or `K`? Why the [tag:java] tag - posted code is NOT Java?","body":"what is the meaning of that &quot;range&quot;, or <code>K</code>? Why the <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> tag - posted code is NOT Java?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1688574319,"post_id":76622136,"comment_id":135092846,"body_markdown":"What do you want to optimize for? Speed? Memory usage? Did you already use a profiler? This question may fit better on [codereview.se]. See [ask] for questions that fit stackoverflow.","body":"What do you want to optimize for? Speed? Memory usage? Did you already use a profiler? This question may fit better on <a href=\"https://codereview.stackexchange.com\">Code Review</a>. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for questions that fit stackoverflow."}],"owner":{"account_id":28956991,"reputation":1,"user_id":22180344,"display_name":"Shiva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688573186,"creation_date":1688573186,"question_id":76622136,"body_markdown":"How to optimize this code: Have to find all possible combinations (range [1,K]) of digits in a given string of digits, with the condition that digits are in same order.\r\nEg: If the given string is &quot;123&quot; and K is 200, there are four possible arrays: [1, 2, 3], [12, 3], [1, 23], [123].\r\n\r\n\r\n```\r\ndef findComb(stri):\r\n    if len(stri) &lt;= 1 :\r\n        return [stri]\r\n    arr=findComb(stri[1:len(stri)])\r\n    destArr=[]\r\n    for i in arr:\r\n        destArr.append(stri[0]+i)\r\n        destArr.append(stri[0]+&#39;,&#39;+i)\r\n    return destArr\r\n\r\n\r\nn, K=map(str,input().split())\r\nK=int(K)\r\ns=input()\r\nl=findComb(s)\r\nprint(l)\r\n\r\nlis=[]\r\nfor i in l:\r\n    f=0\r\n    if &#39;,&#39; in i:\r\n        li=i.split(&#39;,&#39;)\r\n        for j in li:\r\n            if int(j)&gt;K:\r\n                f=1\r\n                break\r\n        if f==0:\r\n            lis.append(li)\r\n    else:\r\n        if int(i)&lt;=K:\r\n            lis.append(i)\r\n\r\nprint(len(lis)%(10^9+7))\r\n```\r\n\r\n\r\n\r\nMy try is given above.\r\n\r\nAny suggestions on how to optimize it?\r\n\r\n","title":"Optimize the recursion depth","body":"<p>How to optimize this code: Have to find all possible combinations (range [1,K]) of digits in a given string of digits, with the condition that digits are in same order.\nEg: If the given string is &quot;123&quot; and K is 200, there are four possible arrays: [1, 2, 3], [12, 3], [1, 23], [123].</p>\n<pre><code>def findComb(stri):\n    if len(stri) &lt;= 1 :\n        return [stri]\n    arr=findComb(stri[1:len(stri)])\n    destArr=[]\n    for i in arr:\n        destArr.append(stri[0]+i)\n        destArr.append(stri[0]+','+i)\n    return destArr\n\n\nn, K=map(str,input().split())\nK=int(K)\ns=input()\nl=findComb(s)\nprint(l)\n\nlis=[]\nfor i in l:\n    f=0\n    if ',' in i:\n        li=i.split(',')\n        for j in li:\n            if int(j)&gt;K:\n                f=1\n                break\n        if f==0:\n            lis.append(li)\n    else:\n        if int(i)&lt;=K:\n            lis.append(i)\n\nprint(len(lis)%(10^9+7))\n</code></pre>\n<p>My try is given above.</p>\n<p>Any suggestions on how to optimize it?</p>\n"},{"tags":["java","generics","enums","crtp"],"comments":[{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":12,"creation_date":1388546779,"post_id":211143,"comment_id":31305555,"body_markdown":"Here&#39;s the explanation I like best: [Groking Enum (aka Enum&amp;lt;E extends Enum&amp;lt;E&gt;&gt;)](http://madbean.com/2004/mb2004-3)","body":"Here&#39;s the explanation I like best: <a href=\"http://madbean.com/2004/mb2004-3\" rel=\"nofollow noreferrer\">Groking Enum (aka Enum&amp;lt;E extends Enum&amp;lt;E&gt;&gt;)</a>"},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":0,"creation_date":1433510528,"post_id":211143,"comment_id":49397333,"body_markdown":"This question has better answers: http://stackoverflow.com/a/3068001/2413303","body":"This question has better answers: <a href=\"http://stackoverflow.com/a/3068001/2413303\">stackoverflow.com/a/3068001/2413303</a>"},{"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"score":1,"creation_date":1582038586,"post_id":211143,"comment_id":106634031,"body_markdown":"have a look at https://www.sitepoint.com/self-types-with-javas-generics/","body":"have a look at <a href=\"https://www.sitepoint.com/self-types-with-javas-generics/\" rel=\"nofollow noreferrer\">sitepoint.com/self-types-with-javas-generics</a>"}],"answers":[{"comments":[{"owner":{"account_id":354074,"reputation":51,"user_id":692196,"display_name":"artsrc"},"score":0,"creation_date":1332382358,"post_id":211161,"comment_id":12503783,"body_markdown":"I am really interested in the usefulness of this kind of thing versus the complexity.  When I C#&#39;ify your english description I get this:\n&lt;pre&gt;\n    interface IBuilder&lt;TMessage&gt;\n    {\n        IMessage&lt;TMessage&gt; GetMessage();\n    }\n\n    interface IMessage&lt;TMessage&gt;\n    {\n        IBuilder&lt;TMessage&gt; GetBuilder();\n    }\n\n&lt;/pre&gt;","body":"I am really interested in the usefulness of this kind of thing versus the complexity.  When I C#&#39;ify your english description I get this: &lt;pre&gt;     interface IBuilder&lt;TMessage&gt;     {         IMessage&lt;TMessage&gt; GetMessage();     }      interface IMessage&lt;TMessage&gt;     {         IBuilder&lt;TMessage&gt; GetBuilder();     }  &lt;/pre&gt;"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1332398727,"post_id":211161,"comment_id":12506711,"body_markdown":"@artsrc: I can&#39;t remember offhand why it needs to be generic in both the builder and the message. I&#39;m pretty sure I wouldn&#39;t have gone down that route if I hadn&#39;t needed it though :)","body":"@artsrc: I can&#39;t remember offhand why it needs to be generic in both the builder and the message. I&#39;m pretty sure I wouldn&#39;t have gone down that route if I hadn&#39;t needed it though :)"},{"owner":{"account_id":88922,"reputation":28816,"user_id":245679,"accept_rate":99,"display_name":"MD Sayem Ahmed"},"score":0,"creation_date":1374140972,"post_id":211161,"comment_id":25827529,"body_markdown":"@JonSkeet: I might be too late, but couldn&#39;t stop asking. Does the `&lt;E extends Enum&lt;E&gt;&gt;` really stops me to pass a type argument which is not the new type being defined? I mean, for example, I could define two subtypes - one is `public class First extends Enum&lt;First&gt;`, and the other one is `public class Second extends Enum&lt;First&gt;`. The declaration isn&#39;t stopping me to mix subtypes here.","body":"@JonSkeet: I might be too late, but couldn&#39;t stop asking. Does the <code>&lt;E extends Enum&lt;E&gt;&gt;</code> really stops me to pass a type argument which is not the new type being defined? I mean, for example, I could define two subtypes - one is <code>public class First extends Enum&lt;First&gt;</code>, and the other one is <code>public class Second extends Enum&lt;First&gt;</code>. The declaration isn&#39;t stopping me to mix subtypes here."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1374141359,"post_id":211161,"comment_id":25827786,"body_markdown":"@SayemAhmed: Yes, it doesn&#39;t prevent *that* aspect of mixing up the types. I&#39;ll add a note about this.","body":"@SayemAhmed: Yes, it doesn&#39;t prevent <i>that</i> aspect of mixing up the types. I&#39;ll add a note about this."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1424841461,"post_id":211161,"comment_id":45711662,"body_markdown":"&quot;The purpose is to give benefits in the right case rather than protect you from the wrong case.&quot; But in the case of `Enum` there are no benefits beyond the benefits that would be given by just `class Enum&lt;E&gt;`.","body":"&quot;The purpose is to give benefits in the right case rather than protect you from the wrong case.&quot; But in the case of <code>Enum</code> there are no benefits beyond the benefits that would be given by just <code>class Enum&lt;E&gt;</code>."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":1,"creation_date":1424841500,"post_id":211161,"comment_id":45711676,"body_markdown":"&quot;I&#39;ve used something similar in my C# port of ProtocolBuffers.&quot; But that&#39;s different because builders have instance methods that return the type parameter type. `Enum` doesn&#39;t have any instance methods that return the type parameter type.","body":"&quot;I&#39;ve used something similar in my C# port of ProtocolBuffers.&quot; But that&#39;s different because builders have instance methods that return the type parameter type. <code>Enum</code> doesn&#39;t have any instance methods that return the type parameter type."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1424847108,"post_id":211161,"comment_id":45713712,"body_markdown":"@newacct: They have `compareTo` that *accepts* the type parameter though - and it enables other things like `EnumMap` to work. It&#39;s too early in the morning for me to think about this hard, but I&#39;m pretty sure there *are* benefits to it...","body":"@newacct: They have <code>compareTo</code> that <i>accepts</i> the type parameter though - and it enables other things like <code>EnumMap</code> to work. It&#39;s too early in the morning for me to think about this hard, but I&#39;m pretty sure there <i>are</i> benefits to it..."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":1,"creation_date":1424858021,"post_id":211161,"comment_id":45719355,"body_markdown":"@JonSkeet: Well, 1) `Enum` cannot be manually subclassed, so it is already guaranteed that the parameter is the same as the type, even without the bound. 2) If `Enum` could be manually subclassed, the bound does not prevent the type parameter to be a different enum type than the instance&#39;s type. 3) If you are saying that `compareTo` just needs to use `ordinal` from any `Enum`, then a bound of `class Enum&lt;E extends Enum&lt;?&gt;&gt;` would be sufficient.","body":"@JonSkeet: Well, 1) <code>Enum</code> cannot be manually subclassed, so it is already guaranteed that the parameter is the same as the type, even without the bound. 2) If <code>Enum</code> could be manually subclassed, the bound does not prevent the type parameter to be a different enum type than the instance&#39;s type. 3) If you are saying that <code>compareTo</code> just needs to use <code>ordinal</code> from any <code>Enum</code>, then a bound of <code>class Enum&lt;E extends Enum&lt;?&gt;&gt;</code> would be sufficient."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1424858105,"post_id":211161,"comment_id":45719400,"body_markdown":"@JonSkeet: And even if `Enum` could be manually subclassed, this whole `compareTo` thing can still be done with `class Enum&lt;E&gt;` by making `compareTo` abstract, the language would provide a `compareTo` implementation for `enum` types, and if you manually subclass `Enum`, then you need to provide an appropriate `compareTo` that matches your type parameter. The fact that `compareTo` is non-abstract is a library design issue.","body":"@JonSkeet: And even if <code>Enum</code> could be manually subclassed, this whole <code>compareTo</code> thing can still be done with <code>class Enum&lt;E&gt;</code> by making <code>compareTo</code> abstract, the language would provide a <code>compareTo</code> implementation for <code>enum</code> types, and if you manually subclass <code>Enum</code>, then you need to provide an appropriate <code>compareTo</code> that matches your type parameter. The fact that <code>compareTo</code> is non-abstract is a library design issue."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1424858468,"post_id":211161,"comment_id":45719636,"body_markdown":"@newacct: I suspect that `class Enum&lt;E extends Enum&lt;?&gt;&gt;` would indeed be sufficient in most cases... but given that the enum classes *are* always autogenerated, why not express that extra information within the type system? I don&#39;t see it doing any harm, other than causing a bit of head-scratching... and I suspect that there *are* cases where it&#39;s useful, even if I&#39;m still having a hard time coming up with an immediate example. Expressing more information in the type system usually feels better than expressing less...","body":"@newacct: I suspect that <code>class Enum&lt;E extends Enum&lt;?&gt;&gt;</code> would indeed be sufficient in most cases... but given that the enum classes <i>are</i> always autogenerated, why not express that extra information within the type system? I don&#39;t see it doing any harm, other than causing a bit of head-scratching... and I suspect that there <i>are</i> cases where it&#39;s useful, even if I&#39;m still having a hard time coming up with an immediate example. Expressing more information in the type system usually feels better than expressing less..."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":1,"creation_date":1424908864,"post_id":211161,"comment_id":45750143,"body_markdown":"@JonSkeet: Given that enum classes are always autogenerated, I am claiming that `class Enum&lt;E&gt;` is sufficient in all cases. And in Generics you should only use a more restrictive bound if it&#39;s actually necessary to ensure type safety.","body":"@JonSkeet: Given that enum classes are always autogenerated, I am claiming that <code>class Enum&lt;E&gt;</code> is sufficient in all cases. And in Generics you should only use a more restrictive bound if it&#39;s actually necessary to ensure type safety."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":1,"creation_date":1424909173,"post_id":211161,"comment_id":45750229,"body_markdown":"@JonSkeet: Also, if `Enum` subclasses weren&#39;t always autogenerated, the only reason you would need `class Enum&lt;E extends Enum&lt;?&gt;&gt;` over `class Enum&lt;E&gt;` is the ability to access `ordinal` for `compareTo()`. However, if you think about it, it doesn&#39;t make sense from the language point of view to allow you to compare two different types of enums via their ordinals. Therefore, the implementation of `Enum.compareTo()` that uses `ordinal` only makes sense in the context of `Enum` subclasses being autogenerated. If you could manually subclass `Enum`, `compareTo` would probably have to be `abstract`.","body":"@JonSkeet: Also, if <code>Enum</code> subclasses weren&#39;t always autogenerated, the only reason you would need <code>class Enum&lt;E extends Enum&lt;?&gt;&gt;</code> over <code>class Enum&lt;E&gt;</code> is the ability to access <code>ordinal</code> for <code>compareTo()</code>. However, if you think about it, it doesn&#39;t make sense from the language point of view to allow you to compare two different types of enums via their ordinals. Therefore, the implementation of <code>Enum.compareTo()</code> that uses <code>ordinal</code> only makes sense in the context of <code>Enum</code> subclasses being autogenerated. If you could manually subclass <code>Enum</code>, <code>compareTo</code> would probably have to be <code>abstract</code>."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1424933098,"post_id":211161,"comment_id":45756554,"body_markdown":"@newacct: Maybe you&#39;re right. I&#39;m not convinced yet, but maybe you&#39;re right. Either way, I don&#39;t really think it&#39;s appropriate to take this further in comments on an answer over 6 years old, so I&#39;ll bow out at this point.","body":"@newacct: Maybe you&#39;re right. I&#39;m not convinced yet, but maybe you&#39;re right. Either way, I don&#39;t really think it&#39;s appropriate to take this further in comments on an answer over 6 years old, so I&#39;ll bow out at this point."},{"owner":{"account_id":947921,"reputation":1572,"user_id":974766,"accept_rate":39,"display_name":"Rajan Prasad"},"score":0,"creation_date":1514463746,"post_id":211161,"comment_id":82983074,"body_markdown":"Yes. I too noticed that what you mentioned in the Edit is still possible. In this case, `B.compareTo(A a)` will still compile, though it is semantically incorrect.","body":"Yes. I too noticed that what you mentioned in the Edit is still possible. In this case, <code>B.compareTo(A a)</code> will still compile, though it is semantically incorrect."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":14,"down_vote_count":3,"up_vote_count":117,"is_accepted":true,"score":114,"last_activity_date":1432902330,"creation_date":1224221453,"answer_id":211161,"question_id":211143,"body_markdown":"It means that the type argument for enum has to derive from an enum which itself has the same type argument. How can this happen? By making the type argument the new type itself. So if I&#39;ve got an enum called StatusCode, it would be equivalent to:\r\n\r\n    public class StatusCode extends Enum&lt;StatusCode&gt;\r\n\r\nNow if you check the constraints, we&#39;ve got `Enum&lt;StatusCode&gt;` - so `E=StatusCode`. Let&#39;s check: does `E` extend `Enum&lt;StatusCode&gt;`? Yes! We&#39;re okay.\r\n\r\nYou may well be asking yourself what the point of this is :) Well, it means that the API for Enum can refer to itself - for instance, being able to say that `Enum&lt;E&gt;` implements `Comparable&lt;E&gt;`. The base class is able to do the comparisons (in the case of enums) but it can make sure that it only compares the right kind of enums with each other. (EDIT: Well, nearly - see the edit at the bottom.)\r\n\r\nI&#39;ve used something similar in my C# port of ProtocolBuffers. There are &quot;messages&quot; (immutable) and &quot;builders&quot; (mutable, used to build a message) - and they come as pairs of types. The interfaces involved are:\r\n\r\n    public interface IBuilder&lt;TMessage, TBuilder&gt;\r\n      where TMessage : IMessage&lt;TMessage, TBuilder&gt; \r\n      where TBuilder : IBuilder&lt;TMessage, TBuilder&gt;\r\n\r\n    public interface IMessage&lt;TMessage, TBuilder&gt;\r\n      where TMessage : IMessage&lt;TMessage, TBuilder&gt; \r\n      where TBuilder : IBuilder&lt;TMessage, TBuilder&gt;\r\n\r\nThis means that from a message you can get an appropriate builder (e.g. to take a copy of a message and change some bits) and from a builder you can get an appropriate message when you&#39;ve finished building it. It&#39;s a good job users of the API don&#39;t need to actually care about this though - it&#39;s horrendously complicated, and took several iterations to get to where it is.\r\n\r\nEDIT: Note that this doesn&#39;t stop you from creating odd types which use a type argument which itself is okay, but which isn&#39;t the same type. The purpose is to give benefits in the *right* case rather than protect you from the *wrong* case.\r\n\r\nSo if `Enum` weren&#39;t handled &quot;specially&quot; in Java anyway, you could (as noted in comments) create the following types:\r\n\r\n    public class First extends Enum&lt;First&gt; {}\r\n    public class Second extends Enum&lt;First&gt; {}\r\n\r\n`Second` would implement `Comparable&lt;First&gt;` rather than `Comparable&lt;Second&gt;`... but `First` itself would be fine.","title":"Java Enum definition","body":"<p>It means that the type argument for enum has to derive from an enum which itself has the same type argument. How can this happen? By making the type argument the new type itself. So if I've got an enum called StatusCode, it would be equivalent to:</p>\n\n<pre><code>public class StatusCode extends Enum&lt;StatusCode&gt;\n</code></pre>\n\n<p>Now if you check the constraints, we've got <code>Enum&lt;StatusCode&gt;</code> - so <code>E=StatusCode</code>. Let's check: does <code>E</code> extend <code>Enum&lt;StatusCode&gt;</code>? Yes! We're okay.</p>\n\n<p>You may well be asking yourself what the point of this is :) Well, it means that the API for Enum can refer to itself - for instance, being able to say that <code>Enum&lt;E&gt;</code> implements <code>Comparable&lt;E&gt;</code>. The base class is able to do the comparisons (in the case of enums) but it can make sure that it only compares the right kind of enums with each other. (EDIT: Well, nearly - see the edit at the bottom.)</p>\n\n<p>I've used something similar in my C# port of ProtocolBuffers. There are \"messages\" (immutable) and \"builders\" (mutable, used to build a message) - and they come as pairs of types. The interfaces involved are:</p>\n\n<pre><code>public interface IBuilder&lt;TMessage, TBuilder&gt;\n  where TMessage : IMessage&lt;TMessage, TBuilder&gt; \n  where TBuilder : IBuilder&lt;TMessage, TBuilder&gt;\n\npublic interface IMessage&lt;TMessage, TBuilder&gt;\n  where TMessage : IMessage&lt;TMessage, TBuilder&gt; \n  where TBuilder : IBuilder&lt;TMessage, TBuilder&gt;\n</code></pre>\n\n<p>This means that from a message you can get an appropriate builder (e.g. to take a copy of a message and change some bits) and from a builder you can get an appropriate message when you've finished building it. It's a good job users of the API don't need to actually care about this though - it's horrendously complicated, and took several iterations to get to where it is.</p>\n\n<p>EDIT: Note that this doesn't stop you from creating odd types which use a type argument which itself is okay, but which isn't the same type. The purpose is to give benefits in the <em>right</em> case rather than protect you from the <em>wrong</em> case.</p>\n\n<p>So if <code>Enum</code> weren't handled \"specially\" in Java anyway, you could (as noted in comments) create the following types:</p>\n\n<pre><code>public class First extends Enum&lt;First&gt; {}\npublic class Second extends Enum&lt;First&gt; {}\n</code></pre>\n\n<p><code>Second</code> would implement <code>Comparable&lt;First&gt;</code> rather than <code>Comparable&lt;Second&gt;</code>... but <code>First</code> itself would be fine.</p>\n"},{"tags":[],"owner":{"account_id":8362,"reputation":274,"user_id":15040,"display_name":"kpirkkal"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1224221565,"creation_date":1224221565,"answer_id":211163,"question_id":211143,"body_markdown":"You are not the only one wondering what that means; see [Chaotic Java blog][1].\r\n\r\n“If a class extends this class, it should pass a parameter E. The parameter E’s bounds are for a class which extends this class with the same parameter E”.\r\n\r\n\r\n  [1]: http://chaoticjava.com/posts/class-enume-extends-enume/","title":"Java Enum definition","body":"<p>You are not the only one wondering what that means; see <a href=\"http://chaoticjava.com/posts/class-enume-extends-enume/\" rel=\"nofollow noreferrer\">Chaotic Java blog</a>.</p>\n\n<p>“If a class extends this class, it should pass a parameter E. The parameter E’s bounds are for a class which extends this class with the same parameter E”.</p>\n"},{"comments":[{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1385798829,"post_id":758595,"comment_id":30286366,"body_markdown":"Sure I agree that `Season extends Enum&lt;Season&gt;`. But that doesn&#39;t explain why `Enum` has a bound on its type parameter, instead of just `class Enum&lt;E&gt;`","body":"Sure I agree that <code>Season extends Enum&lt;Season&gt;</code>. But that doesn&#39;t explain why <code>Enum</code> has a bound on its type parameter, instead of just <code>class Enum&lt;E&gt;</code>"},{"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"score":0,"creation_date":1386841185,"post_id":758595,"comment_id":30713086,"body_markdown":"@newacct Because there&#39;s nothing special about `Season`--the argument above applies to _any_ type that `Enum` can be parameterised on. So `Weekday` (or whatever) must extend `Enum&lt;Weekday&gt;`, etc, and in general any `E` must extend `Enum&lt;E&gt;`. And that&#39;s exactly what the declaration says.","body":"@newacct Because there&#39;s nothing special about <code>Season</code>--the argument above applies to <i>any</i> type that <code>Enum</code> can be parameterised on. So <code>Weekday</code> (or whatever) must extend <code>Enum&lt;Weekday&gt;</code>, etc, and in general any <code>E</code> must extend <code>Enum&lt;E&gt;</code>. And that&#39;s exactly what the declaration says."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1386876666,"post_id":758595,"comment_id":30735564,"body_markdown":"You still didn&#39;t get what I said. Just because the declaration is satisfied doesn&#39;t explain why it is necessary.","body":"You still didn&#39;t get what I said. Just because the declaration is satisfied doesn&#39;t explain why it is necessary."},{"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"score":1,"creation_date":1387066674,"post_id":758595,"comment_id":30804339,"body_markdown":"@newacct OK, I get it now: you&#39;d like all enums to be instances of Enum&lt;E&gt;, right? (Because if they are instances of an Enum subtype, the argument above applies.) But then you won&#39;t have type-safe enums any more, so losing the point of having enums at all.","body":"@newacct OK, I get it now: you&#39;d like all enums to be instances of Enum&lt;E&gt;, right? (Because if they are instances of an Enum subtype, the argument above applies.) But then you won&#39;t have type-safe enums any more, so losing the point of having enums at all."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1387185404,"post_id":758595,"comment_id":30836127,"body_markdown":"I don&#39;t understand what you mean by &quot;to be instances of Enum&lt;E&gt;&quot;. I would like `Season` to `extend Enum&lt;Season&gt;` and `Weekday` to `extend Enum&lt;Weekday`. But I am saying there is no reason given here, about why the class `Enum` shouldn&#39;t be declared as just `abstract class Enum&lt;E&gt;`. It would still be 100% as type-safe as before.","body":"I don&#39;t understand what you mean by &quot;to be instances of Enum&lt;E&gt;&quot;. I would like <code>Season</code> to <code>extend Enum&lt;Season&gt;</code> and <code>Weekday</code> to <code>extend Enum&lt;Weekday</code>. But I am saying there is no reason given here, about why the class <code>Enum</code> shouldn&#39;t be declared as just <code>abstract class Enum&lt;E&gt;</code>. It would still be 100% as type-safe as before."},{"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"score":1,"creation_date":1387297426,"post_id":758595,"comment_id":30894446,"body_markdown":"@newacct Don&#39;t you want to insist that `Season` implements `Comparable&lt;Season&gt;`?","body":"@newacct Don&#39;t you want to insist that <code>Season</code> implements <code>Comparable&lt;Season&gt;</code>?"},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":1,"creation_date":1387313846,"post_id":758595,"comment_id":30904073,"body_markdown":"Well, if `Season` is created via an `enum` declaration, the compiler already makes it extend `Enum&lt;Season&gt;`. There is no point to &quot;insist&quot;. If you define your own class that extends `Enum`, then it&#39;s already possible to make `Foo` extend `Enum&lt;Season&gt;`.","body":"Well, if <code>Season</code> is created via an <code>enum</code> declaration, the compiler already makes it extend <code>Enum&lt;Season&gt;</code>. There is no point to &quot;insist&quot;. If you define your own class that extends <code>Enum</code>, then it&#39;s already possible to make <code>Foo</code> extend <code>Enum&lt;Season&gt;</code>."},{"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"score":2,"creation_date":1387456537,"post_id":758595,"comment_id":30970574,"body_markdown":"@newacct Look at the definition of Enum. In order to compare one instance with another it has to compare their ordinals. So the argument of the `compareTo` method must have been *declared* as an `Enum` subtype, or the compiler will (correctly) say that it doesn&#39;t have an ordinal.","body":"@newacct Look at the definition of Enum. In order to compare one instance with another it has to compare their ordinals. So the argument of the <code>compareTo</code> method must have been <i>declared</i> as an <code>Enum</code> subtype, or the compiler will (correctly) say that it doesn&#39;t have an ordinal."},{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1396887603,"post_id":758595,"comment_id":34979851,"body_markdown":"@MauriceNaftalin your last comment clarifies it for me. I suggest adding it to the answer.","body":"@MauriceNaftalin your last comment clarifies it for me. I suggest adding it to the answer."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":2,"creation_date":1424844574,"post_id":758595,"comment_id":45712665,"body_markdown":"@MauriceNaftalin: `Enum.compareTo()` is declared as taking a parameter of type `E`. This is a standard library function and how it is implemented is not the user&#39;s concern. The Java language specifically prohibits users from manually subclassing `Enum`, and all compiler-generated enums have the type parameter be the same as the type itself anyway, so the standard library implementation can rely on this to perform an unsafe cast.","body":"@MauriceNaftalin: <code>Enum.compareTo()</code> is declared as taking a parameter of type <code>E</code>. This is a standard library function and how it is implemented is not the user&#39;s concern. The Java language specifically prohibits users from manually subclassing <code>Enum</code>, and all compiler-generated enums have the type parameter be the same as the type itself anyway, so the standard library implementation can rely on this to perform an unsafe cast."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":2,"creation_date":1424844721,"post_id":758595,"comment_id":45712728,"body_markdown":"@MauriceNaftalin: If Java didn&#39;t prohibit manually subclassing `Enum`, then it would be possible to have `class OneEnum extends Enum&lt;AnotherEnum&gt;{}`, even with how `Enum` is declared right now. It would not make much sense to be able to compare one type of enum with another, so then `Enum`&#39;s `compareTo` wouldn&#39;t make sense as declared anyway. The bounds do not provide any help to this.","body":"@MauriceNaftalin: If Java didn&#39;t prohibit manually subclassing <code>Enum</code>, then it would be possible to have <code>class OneEnum extends Enum&lt;AnotherEnum&gt;{}</code>, even with how <code>Enum</code> is declared right now. It would not make much sense to be able to compare one type of enum with another, so then <code>Enum</code>&#39;s <code>compareTo</code> wouldn&#39;t make sense as declared anyway. The bounds do not provide any help to this."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":2,"creation_date":1424845455,"post_id":758595,"comment_id":45713011,"body_markdown":"@MauriceNaftalin: If the ordinal was the reason, then `public class Enum&lt;E extends Enum&lt;?&gt;&gt;` would also suffice.","body":"@MauriceNaftalin: If the ordinal was the reason, then <code>public class Enum&lt;E extends Enum&lt;?&gt;&gt;</code> would also suffice."}],"tags":[],"owner":{"account_id":29398,"reputation":10394,"user_id":1859863,"display_name":"Maurice Naftalin"},"comment_count":12,"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1387065559,"creation_date":1239928289,"answer_id":758595,"question_id":211143,"body_markdown":"The following is a modified version of the explanation from the book *Java Generics and Collections*:\r\nWe have an `Enum` declared\r\n\t\r\n\r\n    enum Season { WINTER, SPRING, SUMMER, FALL }\r\n\r\nwhich will be expanded to a class\r\n\t\r\n\r\n    final class Season extends ...\r\n\r\nwhere `...` is to be the somehow-parameterised base class for Enums.  Let&#39;s work \r\nout what that has to be.  Well, one of the requirements for `Season` is that it should implement `Comparable&lt;Season&gt;`.  So we&#39;re going to need\r\n\t\r\n\r\n    Season extends ... implements Comparable&lt;Season&gt;\r\n\r\nWhat could you use for `...` that would allow this to work?  Given that it has to be a parameterisation of `Enum`, the only choice is `Enum&lt;Season&gt;`, so that you can have:\r\n\t\r\n\r\n    Season extends Enum&lt;Season&gt;\r\n    Enum&lt;Season&gt; implements Comparable&lt;Season&gt;\r\n\r\nSo `Enum` is parameterised on types like `Season`.  Abstract from `Season` and\r\nyou get that the parameter of `Enum` is any type that satisfies \r\n\r\n\r\n     E extends Enum&lt;E&gt;\r\n\r\n\r\n----------\r\nMaurice Naftalin (co-author, Java Generics and Collections)\r\n\r\n","title":"Java Enum definition","body":"<p>The following is a modified version of the explanation from the book <em>Java Generics and Collections</em>:\nWe have an <code>Enum</code> declared</p>\n\n<pre><code>enum Season { WINTER, SPRING, SUMMER, FALL }\n</code></pre>\n\n<p>which will be expanded to a class</p>\n\n<pre><code>final class Season extends ...\n</code></pre>\n\n<p>where <code>...</code> is to be the somehow-parameterised base class for Enums.  Let's work \nout what that has to be.  Well, one of the requirements for <code>Season</code> is that it should implement <code>Comparable&lt;Season&gt;</code>.  So we're going to need</p>\n\n<pre><code>Season extends ... implements Comparable&lt;Season&gt;\n</code></pre>\n\n<p>What could you use for <code>...</code> that would allow this to work?  Given that it has to be a parameterisation of <code>Enum</code>, the only choice is <code>Enum&lt;Season&gt;</code>, so that you can have:</p>\n\n<pre><code>Season extends Enum&lt;Season&gt;\nEnum&lt;Season&gt; implements Comparable&lt;Season&gt;\n</code></pre>\n\n<p>So <code>Enum</code> is parameterised on types like <code>Season</code>.  Abstract from <code>Season</code> and\nyou get that the parameter of <code>Enum</code> is any type that satisfies </p>\n\n<pre><code> E extends Enum&lt;E&gt;\n</code></pre>\n\n<hr>\n\n<p>Maurice Naftalin (co-author, Java Generics and Collections)</p>\n"},{"comments":[{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1322088210,"post_id":1562221,"comment_id":10151023,"body_markdown":"It still allows me to create a `class Foo extends Node&lt;City&gt;` where Foo is unrelated to City.","body":"It still allows me to create a <code>class Foo extends Node&lt;City&gt;</code> where Foo is unrelated to City."},{"owner":{"account_id":128551,"reputation":57229,"user_id":326480,"accept_rate":82,"display_name":"mdma"},"score":1,"creation_date":1335267014,"post_id":1562221,"comment_id":13249986,"body_markdown":"Sure, and is that wrong? I don&#39;t think so. The base contract provided by Node&lt;City&gt; is still honoured, only your Foo subclass less useful since you start working with Foos but get Cities out of the ADT. There may be a use case for this, but most likely simpler and more useful to just make the generic parameter the same as the subclass. But either way, the designer has that choice.","body":"Sure, and is that wrong? I don&#39;t think so. The base contract provided by Node&lt;City&gt; is still honoured, only your Foo subclass less useful since you start working with Foos but get Cities out of the ADT. There may be a use case for this, but most likely simpler and more useful to just make the generic parameter the same as the subclass. But either way, the designer has that choice."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1385798953,"post_id":1562221,"comment_id":30286389,"body_markdown":"@mdma: I agree. So then what use does the bound provide, over just `class Node&lt;T&gt;`?","body":"@mdma: I agree. So then what use does the bound provide, over just <code>class Node&lt;T&gt;</code>?"},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":2,"creation_date":1385799042,"post_id":1562221,"comment_id":30286401,"body_markdown":"@nozebacle: Your example does not demonstrate that &quot;this particular structure is necessary&quot;. `class Node&lt;T&gt;` is fully consistent with your example.","body":"@nozebacle: Your example does not demonstrate that &quot;this particular structure is necessary&quot;. <code>class Node&lt;T&gt;</code> is fully consistent with your example."}],"tags":[],"owner":{"account_id":39689,"reputation":406,"user_id":114564,"accept_rate":100,"display_name":"nozebacle"},"comment_count":4,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1255504118,"creation_date":1255459924,"answer_id":1562221,"question_id":211143,"body_markdown":"This post has totally clarified to me these problem of &#39;recursive generic types&#39;.\r\nI just wanted to add another case where this particular structure is necessary.\r\n\r\nSuppose you have generic nodes in a generic graph:\r\n\r\n    public abstract class Node&lt;T extends Node&lt;T&gt;&gt;\r\n    {\r\n        public void addNeighbor(T);\r\n    \r\n        public void addNeighbors(Collection&lt;? extends T&gt; nodes);\r\n\r\n        public Collection&lt;T&gt; getNeighbor();\r\n    }\r\n\r\nThen you can have graphs of specialized types:\r\n\r\n    public class City extends Node&lt;City&gt;\r\n    {\r\n        public void addNeighbor(City){...}\r\n    \r\n        public void addNeighbors(Collection&lt;? extends City&gt; nodes){...}\r\n\r\n        public Collection&lt;City&gt; getNeighbor(){...}\r\n    }\r\n\r\n","title":"Java Enum definition","body":"<p>This post has totally clarified to me these problem of 'recursive generic types'.\nI just wanted to add another case where this particular structure is necessary.</p>\n\n<p>Suppose you have generic nodes in a generic graph:</p>\n\n<pre><code>public abstract class Node&lt;T extends Node&lt;T&gt;&gt;\n{\n    public void addNeighbor(T);\n\n    public void addNeighbors(Collection&lt;? extends T&gt; nodes);\n\n    public Collection&lt;T&gt; getNeighbor();\n}\n</code></pre>\n\n<p>Then you can have graphs of specialized types:</p>\n\n<pre><code>public class City extends Node&lt;City&gt;\n{\n    public void addNeighbor(City){...}\n\n    public void addNeighbors(Collection&lt;? extends City&gt; nodes){...}\n\n    public Collection&lt;City&gt; getNeighbor(){...}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":2,"creation_date":1385660184,"post_id":20253960,"comment_id":30240800,"body_markdown":"Your solution has an unchecked cast: `return (CHILD) this;`\nConsider adding a getThis() method:\n`protected CHILD getThis() { \n       return this; \n}`\n\nSee:\nhttp://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#getthis","body":"Your solution has an unchecked cast: <code>return (CHILD) this;</code> Consider adding a getThis() method: <code>protected CHILD getThis() {         return this;  }</code>  See: <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#getthis\" rel=\"nofollow noreferrer\">angelikalanger.com/GenericsFAQ/FAQSections/&hellip;</a>"},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1385678794,"post_id":20253960,"comment_id":30247754,"body_markdown":"@Roland thanks for a link, I&#39;ve borrowed an idea from it. Could you explain me or direct to an article explaining why is this a bad practice in this particular case? The method in the link requires more typing and this is the main argument why I am avoiding this. I&#39;ve never seen cast errors in this case + I know that there are some inevitable cast errors - i.e. when one stores objects of multiple types to a same collection. So if unchecked casts are not critical and the design in somewhat complex (`Node&lt;T&gt;` is not the case), I&#39;m ignoring them to save time.","body":"@Roland thanks for a link, I&#39;ve borrowed an idea from it. Could you explain me or direct to an article explaining why is this a bad practice in this particular case? The method in the link requires more typing and this is the main argument why I am avoiding this. I&#39;ve never seen cast errors in this case + I know that there are some inevitable cast errors - i.e. when one stores objects of multiple types to a same collection. So if unchecked casts are not critical and the design in somewhat complex (<code>Node&lt;T&gt;</code> is not the case), I&#39;m ignoring them to save time."},{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1385735961,"post_id":20253960,"comment_id":30268091,"body_markdown":"Your edit isnt that different from before besides adding some syntactic sugar, consider that the following code will actually compile but throw a run time error: `        Node&lt;City&gt; node = new Node&lt;City&gt;()\n        \t.setName(&quot;node&quot;)\n        \t.setSquare(1);`\n\nIf you look at java byte code you will see that due to type erasure the statement `return (SELF) this;` is compiled into `return this;`, so you could just leave it out.","body":"Your edit isnt that different from before besides adding some syntactic sugar, consider that the following code will actually compile but throw a run time error: `        Node&lt;City&gt; node = new Node&lt;City&gt;()         \t.setName(&quot;node&quot;)         \t.setSquare(1);`  If you look at java byte code you will see that due to type erasure the statement <code>return (SELF) this;</code> is compiled into <code>return this;</code>, so you could just leave it out."},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1385737225,"post_id":20253960,"comment_id":30268790,"body_markdown":"@Roland thanks, this is what I needed - will update the example when I&#39;m free.","body":"@Roland thanks, this is what I needed - will update the example when I&#39;m free."},{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1385740639,"post_id":20253960,"comment_id":30270612,"body_markdown":"The following link is also good: http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#FAQ206","body":"The following link is also good: <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#FAQ206\" rel=\"nofollow noreferrer\">angelikalanger.com/GenericsFAQ/FAQSections/&hellip;</a>"},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1385798570,"post_id":20253960,"comment_id":30286323,"body_markdown":"This is wrong. `(SELF) this` is unsafe. `SELF` is a subtype of `Node&lt;SELF&gt;` but `Node&lt;SELF&gt;` (the type of `this`) is not a subtype of `SELF`.","body":"This is wrong. <code>(SELF) this</code> is unsafe. <code>SELF</code> is a subtype of <code>Node&lt;SELF&gt;</code> but <code>Node&lt;SELF&gt;</code> (the type of <code>this</code>) is not a subtype of <code>SELF</code>."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1385873967,"post_id":20253960,"comment_id":30304879,"body_markdown":"Everything would work with `abstract class Node&lt;SELF&gt;`. The `extends Node&lt;SELF&gt;` doesn&#39;t really add anything.","body":"Everything would work with <code>abstract class Node&lt;SELF&gt;</code>. The <code>extends Node&lt;SELF&gt;</code> doesn&#39;t really add anything."},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1385887625,"post_id":20253960,"comment_id":30307334,"body_markdown":"@newacct `Node&lt;SELF&gt;` will allow the subclass to return anything - and this is not intended, because the goal of returning `SELF` is to have chained method calls. Adding to this, your argument could be applied to the declaration of `Enum`, can&#39;t it? You might want to have a look at a real world example: http://grepcode.com/file/repo1.maven.org/maven2/org.jdbi/jdbi/2.49/org/skife/jdbi/v2/SQLStatement.java#SQLStatement. Btw, it uses unchecked casts, so though my initial version is not canonical, it could be  practical.","body":"@newacct <code>Node&lt;SELF&gt;</code> will allow the subclass to return anything - and this is not intended, because the goal of returning <code>SELF</code> is to have chained method calls. Adding to this, your argument could be applied to the declaration of <code>Enum</code>, can&#39;t it? You might want to have a look at a real world example: <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.jdbi/jdbi/2.49/org/skife/jdbi/v2/SQLStatement.java#SQLStatement\" rel=\"nofollow noreferrer\">grepcode.com/file/repo1.maven.org/maven2/org.jdbi/jdbi/2.49/&zwnj;&#8203;org/&hellip;</a>. Btw, it uses unchecked casts, so though my initial version is not canonical, it could be  practical."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1385940535,"post_id":20253960,"comment_id":30321844,"body_markdown":"@AndreyChaschev: &quot;`Node&lt;SELF&gt;` will allow the subclass to return anything, because the goal of returning SELF is to have chained method calls.&quot; So? If someone wants to make a class that returns something else, what&#39;s the problem? You can still use classes that return themselves and chain them just fine. Both cases are perfectly type safe, and Generics is for type safety. Plus, even with your declaration, it&#39;s possible to make a class that extends Node with a different type argument. For example, `class Foo extends Node&lt;City&gt;`.","body":"@AndreyChaschev: &quot;<code>Node&lt;SELF&gt;</code> will allow the subclass to return anything, because the goal of returning SELF is to have chained method calls.&quot; So? If someone wants to make a class that returns something else, what&#39;s the problem? You can still use classes that return themselves and chain them just fine. Both cases are perfectly type safe, and Generics is for type safety. Plus, even with your declaration, it&#39;s possible to make a class that extends Node with a different type argument. For example, <code>class Foo extends Node&lt;City&gt;</code>."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1385940562,"post_id":20253960,"comment_id":30321850,"body_markdown":"@AndreyChaschev: &quot;Adding to this, your argument could be applied to the declaration of Enum, can&#39;t it?&quot; I didn&#39;t claim it cannot be applied to the declaration of `Enum`. &quot;look at a real world example:&quot; So? Some random person uses something that is not necessary. What does that prove?","body":"@AndreyChaschev: &quot;Adding to this, your argument could be applied to the declaration of Enum, can&#39;t it?&quot; I didn&#39;t claim it cannot be applied to the declaration of <code>Enum</code>. &quot;look at a real world example:&quot; So? Some random person uses something that is not necessary. What does that prove?"},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1385966902,"post_id":20253960,"comment_id":30328147,"body_markdown":"@newacct You would better claim this for `Enum` to make things clearer. This is an intent of the designers of the language. This adds a restriction to a type system, and you say, that it&#39;s would also be ok without such restriction. You&#39;re right and some languages even lack Generics. You could also say that it&#39;s ok to use a concise form of reflection on a regular basis, but it is just not a Java way.","body":"@newacct You would better claim this for <code>Enum</code> to make things clearer. This is an intent of the designers of the language. This adds a restriction to a type system, and you say, that it&#39;s would also be ok without such restriction. You&#39;re right and some languages even lack Generics. You could also say that it&#39;s ok to use a concise form of reflection on a regular basis, but it is just not a Java way."},{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1385970244,"post_id":20253960,"comment_id":30329414,"body_markdown":"@Andrey Good, you reinvented the wheel, in this case the [getThis](http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#getthis) method. Why not name it accordingly since your are just returning the `this` pointer?","body":"@Andrey Good, you reinvented the wheel, in this case the <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#getthis\" rel=\"nofollow noreferrer\">getThis</a> method. Why not name it accordingly since your are just returning the <code>this</code> pointer?"},{"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"score":0,"creation_date":1385971290,"post_id":20253960,"comment_id":30329816,"body_markdown":"@Roland I am not an author of the article, my initial version of the answer was lacking `getThis`. Formally, this is not type safe because it produces an unchecked cast. In my projects I don&#39;t use this, because it&#39;s verbose and I&#39;ve never seen a cast error in this case so far.","body":"@Roland I am not an author of the article, my initial version of the answer was lacking <code>getThis</code>. Formally, this is not type safe because it produces an unchecked cast. In my projects I don&#39;t use this, because it&#39;s verbose and I&#39;ve never seen a cast error in this case so far."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1385978940,"post_id":20253960,"comment_id":30333563,"body_markdown":"@AndreyChaschev: Without Generics you would need casts because there&#39;s no type safety. This does not add any type safety, and in fact, doesn&#39;t even do what you claim it does.","body":"@AndreyChaschev: Without Generics you would need casts because there&#39;s no type safety. This does not add any type safety, and in fact, doesn&#39;t even do what you claim it does."}],"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"comment_count":14,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1385802929,"creation_date":1385589847,"answer_id":20253960,"question_id":211143,"body_markdown":"This can be illustrated by a simple example and a technique which can be used to implement chained method calls for sub-classes. In an example below `setName` returns a `Node` so chaining won&#39;t work for the `City`:\r\n\r\n    class Node {\r\n        String name;\r\n\r\n        Node setName(String name) {\r\n            this.name = name;\r\n            return this;\r\n        }\r\n    }\r\n\r\n    class City extends Node {\r\n        int square;\r\n\r\n        City setSquare(int square) {\r\n            this.square = square;\r\n            return this;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        City city = new City()\r\n            .setName(&quot;LA&quot;)\r\n            .setSquare(100);    // won&#39;t compile, setName() returns Node\r\n    }\r\n\r\nSo we could reference a sub-class in a generic declaration, so that the `City` now returns the correct type:\r\n\r\n    abstract class Node&lt;SELF extends Node&lt;SELF&gt;&gt;{\r\n        String name;\r\n    \r\n        SELF setName(String name) {\r\n            this.name = name;\r\n            return self();\r\n        }\r\n    \r\n        protected abstract SELF self();\r\n    }\r\n    \r\n    class City extends Node&lt;City&gt; {\r\n        int square;\r\n    \r\n        City setSquare(int square) {\r\n            this.square = square;\r\n            return self();\r\n        }\r\n    \r\n        @Override\r\n        protected City self() {\r\n            return this;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n           City city = new City()\r\n                .setName(&quot;LA&quot;)\r\n                .setSquare(100);                 // ok!\r\n        }\r\n    }","title":"Java Enum definition","body":"<p>This can be illustrated by a simple example and a technique which can be used to implement chained method calls for sub-classes. In an example below <code>setName</code> returns a <code>Node</code> so chaining won't work for the <code>City</code>:</p>\n\n<pre><code>class Node {\n    String name;\n\n    Node setName(String name) {\n        this.name = name;\n        return this;\n    }\n}\n\nclass City extends Node {\n    int square;\n\n    City setSquare(int square) {\n        this.square = square;\n        return this;\n    }\n}\n\npublic static void main(String[] args) {\n    City city = new City()\n        .setName(\"LA\")\n        .setSquare(100);    // won't compile, setName() returns Node\n}\n</code></pre>\n\n<p>So we could reference a sub-class in a generic declaration, so that the <code>City</code> now returns the correct type:</p>\n\n<pre><code>abstract class Node&lt;SELF extends Node&lt;SELF&gt;&gt;{\n    String name;\n\n    SELF setName(String name) {\n        this.name = name;\n        return self();\n    }\n\n    protected abstract SELF self();\n}\n\nclass City extends Node&lt;City&gt; {\n    int square;\n\n    City setSquare(int square) {\n        this.square = square;\n        return self();\n    }\n\n    @Override\n    protected City self() {\n        return this;\n    }\n\n    public static void main(String[] args) {\n       City city = new City()\n            .setName(\"LA\")\n            .setSquare(100);                 // ok!\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1464678199,"post_id":30667912,"comment_id":62567357,"body_markdown":"Nothing you&#39;ve shown in `compareTo` or `getDeclaringClass` requires the `extends Enum&lt;E&gt;` bound.","body":"Nothing you&#39;ve shown in <code>compareTo</code> or <code>getDeclaringClass</code> requires the <code>extends Enum&lt;E&gt;</code> bound."}],"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433511261,"creation_date":1433511261,"answer_id":30667912,"question_id":211143,"body_markdown":"If you look at the `Enum` source code, it has the following:\r\n\r\n    public abstract class Enum&lt;E extends Enum&lt;E&gt;&gt;\r\n            implements Comparable&lt;E&gt;, Serializable {\r\n    \r\n        public final int compareTo(E o) {\r\n            Enum&lt;?&gt; other = (Enum&lt;?&gt;)o;\r\n            Enum&lt;E&gt; self = this;\r\n            if (self.getClass() != other.getClass() &amp;&amp; // optimization\r\n                self.getDeclaringClass() != other.getDeclaringClass())\r\n                throw new ClassCastException();\r\n            return self.ordinal - other.ordinal;\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public final Class&lt;E&gt; getDeclaringClass() {\r\n            Class&lt;?&gt; clazz = getClass();\r\n            Class&lt;?&gt; zuper = clazz.getSuperclass();\r\n            return (zuper == Enum.class) ? (Class&lt;E&gt;)clazz : (Class&lt;E&gt;)zuper;\r\n        }\r\n    \r\n        public static &lt;T extends Enum&lt;T&gt;&gt; T valueOf(Class&lt;T&gt; enumType,\r\n                                                    String name) {\r\n            T result = enumType.enumConstantDirectory().get(name);\r\n            if (result != null)\r\n                return result;\r\n            if (name == null)\r\n                throw new NullPointerException(&quot;Name is null&quot;);\r\n            throw new IllegalArgumentException(\r\n                &quot;No enum constant &quot; + enumType.getCanonicalName() + &quot;.&quot; + name);\r\n        } \r\n    }\r\n\r\nFirst thing first, what does `E extends Enum&lt;E&gt;` mean? It means the type parameter is something that extends from Enum, and isn&#39;t parametrized with a raw type (it&#39;s parametrized by itself).\r\n\r\nThis is relevant if you have an enum\r\n\r\n    public enum MyEnum {\r\n        THING1,\r\n        THING2;\r\n    }\r\n\r\nwhich, if I know correctly, is translated to\r\n\r\n    public final class MyEnum extends Enum&lt;MyEnum&gt; {\r\n        public static final MyEnum THING1 = new MyEnum();\r\n        public static final MyEnum THING2 = new MyEnum();\r\n    }\r\n\r\nSo this means that MyEnum receives the following methods:\r\n\r\n    public final int compareTo(MyEnum o) {\r\n        Enum&lt;?&gt; other = (Enum&lt;?&gt;)o;\r\n        Enum&lt;MyEnum&gt; self = this;\r\n        if (self.getClass() != other.getClass() &amp;&amp; // optimization\r\n            self.getDeclaringClass() != other.getDeclaringClass())\r\n            throw new ClassCastException();\r\n        return self.ordinal - other.ordinal;\r\n    }\r\n\r\nAnd even more importantly,\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public final Class&lt;MyEnum&gt; getDeclaringClass() {\r\n            Class&lt;?&gt; clazz = getClass();\r\n            Class&lt;?&gt; zuper = clazz.getSuperclass();\r\n            return (zuper == Enum.class) ? (Class&lt;MyEnum&gt;)clazz : (Class&lt;MyEnum&gt;)zuper;\r\n        }\r\n\r\nThis makes `getDeclaringClass()` cast to the proper `Class&lt;T&gt;` object.\r\n\r\nA way clearer example is the one that I answered on [this question][1] where you cannot avoid this construct if you want to specify a generic bound.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30616864/how-to-make-type-safety-with-generics/30616937#30616937","title":"Java Enum definition","body":"<p>If you look at the <code>Enum</code> source code, it has the following:</p>\n\n<pre><code>public abstract class Enum&lt;E extends Enum&lt;E&gt;&gt;\n        implements Comparable&lt;E&gt;, Serializable {\n\n    public final int compareTo(E o) {\n        Enum&lt;?&gt; other = (Enum&lt;?&gt;)o;\n        Enum&lt;E&gt; self = this;\n        if (self.getClass() != other.getClass() &amp;&amp; // optimization\n            self.getDeclaringClass() != other.getDeclaringClass())\n            throw new ClassCastException();\n        return self.ordinal - other.ordinal;\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public final Class&lt;E&gt; getDeclaringClass() {\n        Class&lt;?&gt; clazz = getClass();\n        Class&lt;?&gt; zuper = clazz.getSuperclass();\n        return (zuper == Enum.class) ? (Class&lt;E&gt;)clazz : (Class&lt;E&gt;)zuper;\n    }\n\n    public static &lt;T extends Enum&lt;T&gt;&gt; T valueOf(Class&lt;T&gt; enumType,\n                                                String name) {\n        T result = enumType.enumConstantDirectory().get(name);\n        if (result != null)\n            return result;\n        if (name == null)\n            throw new NullPointerException(\"Name is null\");\n        throw new IllegalArgumentException(\n            \"No enum constant \" + enumType.getCanonicalName() + \".\" + name);\n    } \n}\n</code></pre>\n\n<p>First thing first, what does <code>E extends Enum&lt;E&gt;</code> mean? It means the type parameter is something that extends from Enum, and isn't parametrized with a raw type (it's parametrized by itself).</p>\n\n<p>This is relevant if you have an enum</p>\n\n<pre><code>public enum MyEnum {\n    THING1,\n    THING2;\n}\n</code></pre>\n\n<p>which, if I know correctly, is translated to</p>\n\n<pre><code>public final class MyEnum extends Enum&lt;MyEnum&gt; {\n    public static final MyEnum THING1 = new MyEnum();\n    public static final MyEnum THING2 = new MyEnum();\n}\n</code></pre>\n\n<p>So this means that MyEnum receives the following methods:</p>\n\n<pre><code>public final int compareTo(MyEnum o) {\n    Enum&lt;?&gt; other = (Enum&lt;?&gt;)o;\n    Enum&lt;MyEnum&gt; self = this;\n    if (self.getClass() != other.getClass() &amp;&amp; // optimization\n        self.getDeclaringClass() != other.getDeclaringClass())\n        throw new ClassCastException();\n    return self.ordinal - other.ordinal;\n}\n</code></pre>\n\n<p>And even more importantly,</p>\n\n<pre><code>    @SuppressWarnings(\"unchecked\")\n    public final Class&lt;MyEnum&gt; getDeclaringClass() {\n        Class&lt;?&gt; clazz = getClass();\n        Class&lt;?&gt; zuper = clazz.getSuperclass();\n        return (zuper == Enum.class) ? (Class&lt;MyEnum&gt;)clazz : (Class&lt;MyEnum&gt;)zuper;\n    }\n</code></pre>\n\n<p>This makes <code>getDeclaringClass()</code> cast to the proper <code>Class&lt;T&gt;</code> object.</p>\n\n<p>A way clearer example is the one that I answered on <a href=\"https://stackoverflow.com/questions/30616864/how-to-make-type-safety-with-generics/30616937#30616937\">this question</a> where you cannot avoid this construct if you want to specify a generic bound.</p>\n"},{"tags":[],"owner":{"account_id":13761933,"reputation":351,"user_id":9931448,"display_name":"Hanzhou Tang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576564946,"creation_date":1576564946,"answer_id":59368848,"question_id":211143,"body_markdown":"According to wikipedia, this pattern is called [Curiously recurring template pattern](https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern). \r\nBasically, by using the CRTP pattern, we can easily refer to subclass type without type casting, which means by using the pattern, we can imitate virtual function. ","title":"Java Enum definition","body":"<p>According to wikipedia, this pattern is called <a href=\"https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow noreferrer\">Curiously recurring template pattern</a>. \nBasically, by using the CRTP pattern, we can easily refer to subclass type without type casting, which means by using the pattern, we can imitate virtual function. </p>\n"}],"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25827,"favorite_count":0,"down_vote_count":0,"up_vote_count":181,"accepted_answer_id":211161,"answer_count":7,"score":181,"last_activity_date":1688573048,"creation_date":1224220455,"question_id":211143,"body_markdown":"I thought I understood Java generics pretty well, but then I came across the following in java.lang.Enum:\r\n\r\n    class Enum&lt;E extends Enum&lt;E&gt;&gt;\r\n\r\nCould someone explain how to interpret this type parameter? Bonus points for providing other examples of where a similar type parameter could be used.","title":"Java Enum definition","body":"<p>I thought I understood Java generics pretty well, but then I came across the following in java.lang.Enum:</p>\n\n<pre><code>class Enum&lt;E extends Enum&lt;E&gt;&gt;\n</code></pre>\n\n<p>Could someone explain how to interpret this type parameter? Bonus points for providing other examples of where a similar type parameter could be used.</p>\n"},{"tags":["java","gzip","eofexception"],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688568689,"post_id":76621452,"comment_id":135091406,"body_markdown":"No, I think it&#39;s OK: `x.bin.gz: gzip compressed data, from Unix, original size modulo 2^32 92994711` (`file x.bin.gz`)","body":"No, I think it&#39;s OK: <code>x.bin.gz: gzip compressed data, from Unix, original size modulo 2^32 92994711</code> (<code>file x.bin.gz</code>)"},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":1,"creation_date":1688569035,"post_id":76621452,"comment_id":135091495,"body_markdown":"@g00se `file` does not tell you whether the file is correct or complete, it just reads a bit from the beginning of the file. Run `gzip -t` to check whether the file is error-free.","body":"@g00se <code>file</code> does not tell you whether the file is correct or complete, it just reads a bit from the beginning of the file. Run <code>gzip -t</code> to check whether the file is error-free."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1688569098,"post_id":76621452,"comment_id":135091518,"body_markdown":"@g00se - That looks like what `gzip -l` says too.  Try actually uncompressing it.","body":"@g00se - That looks like what <code>gzip -l</code> says too.  Try actually uncompressing it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688569200,"post_id":76621452,"comment_id":135091546,"body_markdown":"@KonradRudolph that&#39;s true. But `zless` reads it fine. It&#39;s binary but contains *some* strings","body":"@KonradRudolph that&#39;s true. But <code>zless</code> reads it fine. It&#39;s binary but contains <i>some</i> strings"},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1688570922,"post_id":76621452,"comment_id":135091980,"body_markdown":"@g00se I&#39;m not concerned with the nature of its contents, only with whether it&#39;s valid or truncated: `file` does *not* tell you that.","body":"@g00se I&#39;m not concerned with the nature of its contents, only with whether it&#39;s valid or truncated: <code>file</code> does <i>not</i> tell you that."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688571072,"post_id":76621452,"comment_id":135092014,"body_markdown":"I&#39;ve already addressed the issue of `file`","body":"I&#39;ve already addressed the issue of <code>file</code>"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1688572782,"post_id":76621452,"comment_id":135092451,"body_markdown":"`gzip -l` just looks at the last eight bytes to get the uncompressed length. It obviously got that very wrong, since gzip can&#39;t compress by a factor of ~100,000. See my answer.","body":"<code>gzip -l</code> just looks at the last eight bytes to get the uncompressed length. It obviously got that very wrong, since gzip can&#39;t compress by a factor of ~100,000. See my answer."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688569184,"creation_date":1688567936,"answer_id":76621452,"question_id":76621269,"body_markdown":"There is something wrong with that gzipped data.  When I wrote it to a file and then uncompressed it using `zcat` on Linux, the `zcat` command complained:\r\n\r\n    gzip: stdin: unexpected end of file\r\n\r\nSame with `gzip -d`.  But `gzip -l` says:\r\n\r\n         compressed        uncompressed  ratio uncompressed_name\r\n                979            92994711 100.0% data\r\n\r\nPerhaps C# is tolerant of malformed (truncated) gzip files?\r\n\r\nPerhaps you made a mistake in translating the `payload` array initializer to Java?\r\n\r\n\r\n\r\n-------------------------\r\n\r\nThe other observation is that the partial uncompressed file doesn&#39;t look like proper UTF-8 anyway.  There are text strings in there, but much of it is unintelligible (or binary) data.\r\n\r\n","title":"Gzip decompress throws EOFException","body":"<p>There is something wrong with that gzipped data.  When I wrote it to a file and then uncompressed it using <code>zcat</code> on Linux, the <code>zcat</code> command complained:</p>\n<pre><code>gzip: stdin: unexpected end of file\n</code></pre>\n<p>Same with <code>gzip -d</code>.  But <code>gzip -l</code> says:</p>\n<pre><code>     compressed        uncompressed  ratio uncompressed_name\n            979            92994711 100.0% data\n</code></pre>\n<p>Perhaps C# is tolerant of malformed (truncated) gzip files?</p>\n<p>Perhaps you made a mistake in translating the <code>payload</code> array initializer to Java?</p>\n<hr />\n<p>The other observation is that the partial uncompressed file doesn't look like proper UTF-8 anyway.  There are text strings in there, but much of it is unintelligible (or binary) data.</p>\n"},{"comments":[{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":1,"creation_date":1688572729,"post_id":76622003,"comment_id":135092436,"body_markdown":"You may want to figure out how your gzip data got corrupted in the first place.","body":"You may want to figure out how your gzip data got corrupted in the first place."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688572735,"post_id":76622003,"comment_id":135092443,"body_markdown":"Good one. How did you discover *what* the corruption consisted of?","body":"Good one. How did you discover <i>what</i> the corruption consisted of?"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1688572950,"post_id":76622003,"comment_id":135092513,"body_markdown":"I know the gzip format. After the deflate data ended there were six bytes. There is supposed to be an eight-byte gzip trailer. The last four bytes are supposed to be the uncompressed length in little-endian order. The length of the uncompressed data was 1418, less than 64K, so those last two bytes had to have been zeros.","body":"I know the gzip format. After the deflate data ended there were six bytes. There is supposed to be an eight-byte gzip trailer. The last four bytes are supposed to be the uncompressed length in little-endian order. The length of the uncompressed data was 1418, less than 64K, so those last two bytes had to have been zeros."}],"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688572232,"creation_date":1688572232,"answer_id":76622003,"question_id":76621269,"body_markdown":"Your gzip data is corrupted. There are two zero bytes missing at the end of `payload`. Add those, and there is no EOF error.\r\n\r\n    ... (byte)0x8A, (byte)0x05, 0, 0};","title":"Gzip decompress throws EOFException","body":"<p>Your gzip data is corrupted. There are two zero bytes missing at the end of <code>payload</code>. Add those, and there is no EOF error.</p>\n<pre><code>... (byte)0x8A, (byte)0x05, 0, 0};\n</code></pre>\n"}],"owner":{"account_id":25498647,"reputation":31,"user_id":19292321,"display_name":"hahahaflying"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76622003,"answer_count":2,"score":1,"last_activity_date":1688572232,"creation_date":1688566631,"question_id":76621269,"body_markdown":"I am currently trying to decompress a byte array by using gzip decompress, however, I receive an EOFException, can anyone help me with this error ? Thanks\r\n\r\nthis is my codes: \r\n\r\n```\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.util.zip.GZIPInputStream;\r\nimport java.util.zip.GZIPOutputStream;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class Program {\r\n    public static void main(String[] args) {\r\n        byte[] payload = new byte[] {\r\n           (byte)0x1F, (byte)0x8B, (byte)0x08, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x03, (byte)0x75, (byte)0x92, (byte)0x7F, (byte)0x68, (byte)0x1C, (byte)0x55, (byte)0x10, (byte)0xC7, (byte)0x27, (byte)0x97,\r\n           (byte)0xA4, (byte)0xBD, (byte)0x6B, (byte)0x92, (byte)0xDE, (byte)0x36, (byte)0xB1, (byte)0x4D, (byte)0x3D, (byte)0x9B, (byte)0xF6, (byte)0xD4, (byte)0xFE, (byte)0x88, (byte)0x1E, (byte)0x97, (byte)0xDE, (byte)0x8F, (byte)0xCC, (byte)0xA1, \r\n           (byte)0x69, (byte)0x34, (byte)0x17, (byte)0x6C, (byte)0xAB, (byte)0x55, (byte)0x68, (byte)0x2E, (byte)0xD8, (byte)0x74, (byte)0x31, (byte)0xA8, (byte)0xCD, (byte)0xF6, (byte)0xDE, (byte)0xA6, (byte)0x39, (byte)0x88, (byte)0x77, (byte)0xC9, \r\n           (byte)0xDB, (byte)0x85, (byte)0x70, (byte)0xE0, (byte)0x1F, (byte)0xD5, (byte)0x42, (byte)0x41, (byte)0x2C, (byte)0x28, (byte)0x4D, (byte)0x4A, (byte)0x4D, (byte)0xAD, (byte)0xB6, (byte)0xA4, (byte)0x16, (byte)0x7D, (byte)0xA7, (byte)0x52, \r\n           (byte)0x44, (byte)0x41, (byte)0xA4, (byte)0x45, (byte)0x5B, (byte)0x6A, (byte)0x11, (byte)0x45, (byte)0x84, (byte)0x8A, (byte)0x4A, (byte)0xD4, (byte)0xEC, (byte)0x46, (byte)0x11, (byte)0x69, (byte)0x51, (byte)0x50, (byte)0x41, (byte)0x42, \r\n           (byte)0x2C, (byte)0x35, (byte)0xE0, (byte)0xBC, (byte)0xB7, (byte)0x77, (byte)0x6D, (byte)0x44, (byte)0xFC, (byte)0x67, (byte)0x58, (byte)0x66, (byte)0x3E, (byte)0xF3, (byte)0xFD, (byte)0xCE, (byte)0xCC, (byte)0xDB, (byte)0xBA, (byte)0xE0, \r\n           (byte)0x5C, (byte)0xCF, (byte)0x00, (byte)0x6C, (byte)0xD2, (byte)0xC0, (byte)0xCF, (byte)0x0A, (byte)0xE3, (byte)0xDD, (byte)0x50, (byte)0xF3, (byte)0xD7, (byte)0x92, (byte)0x8C, (byte)0x91, (byte)0x0F, (byte)0x3F, (byte)0xB8, (byte)0xAD, \r\n           (byte)0xA7, (byte)0xDA, (byte)0x2A, (byte)0xE6, (byte)0xB3, (byte)0x3E, (byte)0x58, (byte)0x31, (byte)0x5F, (byte)0x25, (byte)0x7A, (byte)0x8B, (byte)0xB8, (byte)0xB0, (byte)0x20, (byte)0xE3, (byte)0x9F, (byte)0xBD, (byte)0xD0, (byte)0xA6, \r\n           (byte)0x41, (byte)0x13, (byte)0x1B, (byte)0xEF, (byte)0x7E, (byte)0x89, (byte)0xC8, (byte)0xE5, (byte)0x5B, (byte)0x1F, (byte)0x0E, (byte)0x2B, (byte)0xD8, (byte)0x2C, (byte)0x0C, (byte)0x9A, (byte)0xF9, (byte)0xAC, (byte)0xE9, (byte)0x8B, \r\n           (byte)0x27, (byte)0x92, (byte)0x3E, (byte)0x80, (byte)0xE3, (byte)0x55, (byte)0xC2, (byte)0x3A, (byte)0x8C, (byte)0xCE, (byte)0xA0, (byte)0x8A, (byte)0x01, (byte)0x28, (byte)0x68, (byte)0x70, (byte)0x0B, (byte)0x9B, (byte)0xC8, (byte)0x3C, \r\n           (byte)0x4B, (byte)0x0D, (byte)0x4B, (byte)0x25, (byte)0x9D, (byte)0x31, (byte)0xEC, (byte)0x21, (byte)0x49, (byte)0x56, (byte)0x01, (byte)0x74, (byte)0x36, (byte)0x08, (byte)0xAB, (byte)0x1E, (byte)0xDD, (byte)0xA8, (byte)0xB0, (byte)0x36, \r\n           (byte)0xA0, (byte)0x73, (byte)0x4D, (byte)0x58, (byte)0xAD, (byte)0xE8, (byte)0x5C, (byte)0x15, (byte)0xD6, (byte)0x6A, (byte)0x74, (byte)0xBE, (byte)0x11, (byte)0xFC, (byte)0x3A, (byte)0x3A, (byte)0x9F, (byte)0x0A, (byte)0xFE, (byte)0x03, \r\n           (byte)0x3A, (byte)0x17, (byte)0x05, (byte)0xBF, (byte)0x8C, (byte)0xCE, (byte)0x25, (byte)0xC1, (byte)0x3F, (byte)0x56, (byte)0xF9, (byte)0x33, (byte)0xE8, (byte)0x6A, (byte)0x82, (byte)0x9F, (byte)0x44, (byte)0x37, (byte)0x29, (byte)0xF3, \r\n           (byte)0x6E, (byte)0xAF, (byte)0xE0, (byte)0xBF, (byte)0xA1, (byte)0xBB, (byte)0x5B, (byte)0x58, (byte)0x3E, (byte)0x74, (byte)0xD3, (byte)0x4A, (byte)0x2D, (byte)0x02, (byte)0x5D, (byte)0x1A, (byte)0xAC, (byte)0x24, (byte)0xC7, (byte)0x13, \r\n           (byte)0xE4, (byte)0xB8, (byte)0x4C, (byte)0x39, (byte)0x16, (byte)0x86, (byte)0x8B, (byte)0xFB, (byte)0x0A, (byte)0x79, (byte)0x69, (byte)0x0A, (byte)0xB5, (byte)0xC2, (byte)0x5A, (byte)0x89, (byte)0x4E, (byte)0x44, (byte)0xC6, (byte)0x99, \r\n           (byte)0xF3, (byte)0x82, (byte)0x4F, (byte)0xAB, (byte)0x78, (byte)0x0E, (byte)0x9D, (byte)0x77, (byte)0x85, (byte)0x15, (byte)0x40, (byte)0xA7, (byte)0xC3, (byte)0xAB, (byte)0xC2, (byte)0x16, (byte)0x0D, (byte)0x56, (byte)0x91, (byte)0xC2, \r\n           (byte)0x3B, (byte)0xA4, (byte)0x50, (byte)0x2F, (byte)0x15, (byte)0xB8, (byte)0x99, (byte)0xB5, (byte)0x8D, (byte)0xFC, (byte)0xBE, (byte)0x61, (byte)0xB5, (byte)0x22, (byte)0xD4, (byte)0x08, (byte)0xEB, (byte)0x43, (byte)0x74, (byte)0xE7, \r\n           (byte)0x84, (byte)0xB5, (byte)0xA7, (byte)0x12, (byte)0xBD, (byte)0x4C, (byte)0x39, (byte)0x0F, (byte)0x63, (byte)0x1A, (byte)0x34, (byte)0xB3, (byte)0x89, (byte)0xBE, (byte)0xA7, (byte)0xA8, (byte)0x3B, (byte)0x50, (byte)0xD9, (byte)0x38, \r\n           (byte)0x9C, (byte)0x28, (byte)0xEF, (byte)0xCC, (byte)0x96, (byte)0x0B, (byte)0x5E, (byte)0x44, (byte)0xF7, (byte)0xAA, (byte)0xE0, (byte)0xDB, (byte)0xD0, (byte)0x7D, (byte)0x4E, (byte)0xF0, (byte)0x8D, (byte)0xE8, (byte)0x8E, (byte)0x8B, \r\n           (byte)0xD1, (byte)0x2B, (byte)0xE8, (byte)0x96, (byte)0xC4, (byte)0xE8, (byte)0x25, (byte)0x74, (byte)0xBF, (byte)0x10, (byte)0xA3, (byte)0xD3, (byte)0xE8, (byte)0xFE, (byte)0x28, (byte)0x46, (byte)0xE7, (byte)0x71, (byte)0xB6, (byte)0x51,\r\n           (byte)0x70, (byte)0x1F, (byte)0xCE, (byte)0xEE, (byte)0x14, (byte)0x3C, (byte)0x84, (byte)0xB3, (byte)0x69, (byte)0xC1, (byte)0xEF, (byte)0xC1, (byte)0x59, (byte)0xBF, (byte)0xE2, (byte)0xFF, (byte)0x16, (byte)0xBC, (byte)0x19, (byte)0xDD, \r\n           (byte)0x2F, (byte)0x05, (byte)0xEF, (byte)0x46, (byte)0xF7, (byte)0x82, (byte)0xE0, (byte)0x51, (byte)0x74, (byte)0x5F, (byte)0x15, (byte)0x3C, (byte)0x82, (byte)0xEE, (byte)0x31, (byte)0x40, (byte)0x0D, (byte)0x56, (byte)0xB3, (byte)0x89, \r\n           (byte)0x83, (byte)0x2F, (byte)0x54, (byte)0xE6, (byte)0x2E, (byte)0x6F, (byte)0xEE, (byte)0x99, (byte)0x43, (byte)0xB5, (byte)0xB0, (byte)0x3B, (byte)0x70, (byte)0xE6, (byte)0x6D, (byte)0x61, (byte)0xDF, (byte)0x85, (byte)0x33, (byte)0x3B, \r\n           (byte)0x84, (byte)0x75, (byte)0x51, (byte)0x46, (byte)0x95, (byte)0x81, (byte)0x88, (byte)0x06, (byte)0xB7, (byte)0x52, (byte)0xDF, (byte)0x29, (byte)0xEA, (byte)0xAB, (byte)0x93, (byte)0x7D, (byte)0x0F, (byte)0xE4, (byte)0x78, (byte)0x76, \r\n           (byte)0xD8, (byte)0xF4, (byte)0xDA, (byte)0xE8, (byte)0x45, (byte)0xDB, (byte)0xE8, (byte)0x45, (byte)0x0F, (byte)0xE1, (byte)0x4C, (byte)0x42, (byte)0xC5, (byte)0x66, (byte)0xE9, (byte)0x12, (byte)0x22, (byte)0xFA, (byte)0x6C, (byte)0x65, \r\n           (byte)0xBF, (byte)0x91, (byte)0xC5, (byte)0xFB, (byte)0x75, (byte)0x92, (byte)0xCB, (byte)0x47, (byte)0xE8, (byte)0xAC, (byte)0x15, (byte)0xF6, (byte)0x49, (byte)0x74, (byte)0x40, (byte)0xD8, (byte)0x45, (byte)0x74, (byte)0xD2, (byte)0xC2, \r\n           (byte)0x1E, (byte)0x40, (byte)0x87, (byte)0x41, (byte)0x0B, (byte)0x40, (byte)0x23, (byte)0x5B, (byte)0xDF, (byte)0x47, (byte)0x2E, (byte)0x7F, (byte)0xD4, (byte)0x52, (byte)0x5F, (byte)0xA6, (byte)0x67, (byte)0x47, (byte)0xF5, (byte)0xA3, \r\n           (byte)0xF4, (byte)0x8F, (byte)0x95, (byte)0x0E, (byte)0xFA, (byte)0x13, (byte)0x5D, (byte)0x3F, (byte)0xC7, (byte)0xCF, (byte)0xCB, (byte)0x7A, (byte)0x88, (byte)0xD9, (byte)0x9F, (byte)0xC4, (byte)0x65, (byte)0x7D, (byte)0x97, (byte)0x91,\r\n           (byte)0x95, (byte)0x75, (byte)0xF9, (byte)0x0F, (byte)0x96, (byte)0x8C, (byte)0xC9, (byte)0xD4, (byte)0x85, (byte)0x3E, (byte)0xAA, (byte)0xAF, (byte)0x05, (byte)0xB8, (byte)0x8D, (byte)0xD9, (byte)0xDF, (byte)0x6E, (byte)0xA6, (byte)0xFA, \r\n           (byte)0x12, (byte)0xAF, (byte)0x9E, (byte)0x50, (byte)0xC0, (byte)0x9B, (byte)0x8F, (byte)0x5C, (byte)0xBB, (byte)0x01, (byte)0xAC, (byte)0x61, (byte)0xF6, (byte)0xFC, (byte)0x93, (byte)0x37, (byte)0x81, (byte)0xA4, (byte)0x02, (byte)0xDE,\r\n           (byte)0x4A, (byte)0x3D, (byte)0x76, (byte)0x03, (byte)0x68, (byte)0x21, (byte)0x60, (byte)0xCF, (byte)0xFF, (byte)0x02, (byte)0x2D, (byte)0xD5, (byte)0xB0, (byte)0x89, (byte)0xED, (byte)0xBF, (byte)0x1C, (byte)0x22, (byte)0xA0, (byte)0xC6, \r\n           (byte)0x36, (byte)0x2D, (byte)0x3B, (byte)0xE1, (byte)0xC5, (byte)0xA9, (byte)0x89, (byte)0xCD, (byte)0x7A, (byte)0xB0, (byte)0xCE, (byte)0x1B, (byte)0xB1, (byte)0x95, (byte)0x4D, (byte)0x9E, (byte)0xFB, (byte)0xBA, (byte)0x52, (byte)0x4F,\r\n           (byte)0x7A, (byte)0x71, (byte)0xEA, (byte)0xD8, (byte)0xE3, (byte)0x7A, (byte)0xE3, (byte)0x2F, (byte)0xB1, (byte)0xB4, (byte)0x34, (byte)0xB8, (byte)0x9B, (byte)0x3D, (byte)0xB3, (byte)0xD0, (byte)0x41, (byte)0xF5, (byte)0xA5, (byte)0x79, \r\n           (byte)0x73, (byte)0x6C, (byte)0x97, (byte)0x6C, (byte)0xF6, (byte)0x8D, (byte)0x18, (byte)0xF9, (byte)0xA9, (byte)0xD3, (byte)0x05, (byte)0x3D, (byte)0xFC, (byte)0x99, (byte)0x27, (byte)0x10, (byte)0x61, (byte)0x07, (byte)0xDA, (byte)0xBE, \r\n           (byte)0x92, (byte)0x13, (byte)0xC8, (byte)0xD6, (byte)0xED, (byte)0x3C, (byte)0xA7, (byte)0xEA, (byte)0x6F, (byte)0x24, (byte)0xF5, (byte)0xE0, (byte)0x7B, (byte)0xE9, (byte)0x34, (byte)0x84, (byte)0x01, (byte)0xA2, (byte)0x64, (byte)0xF0, \r\n           (byte)0x1D, (byte)0xD5, (byte)0x03, (byte)0x65, (byte)0x01, (byte)0xF9, (byte)0x06, (byte)0x12, (byte)0x39, (byte)0xBA, (byte)0x5F, (byte)0x6F, (byte)0xB8, (byte)0x4E, (byte)0x12, (byte)0xB7, (byte)0x03, (byte)0xC4, (byte)0x08, (byte)0xF9, \r\n           (byte)0x9E, (byte)0x90, (byte)0x65, (byte)0x37, (byte)0x91, (byte)0xF6, (byte)0x7F, (byte)0x31, (byte)0xEB, (byte)0x01, (byte)0xE2, (byte)0xEC, (byte)0xF9, (byte)0x87, (byte)0x9E, (byte)0x20, (byte)0xA6, (byte)0x81, (byte)0xF2, (byte)0xD2, \r\n           (byte)0x29, (byte)0x8E, (byte)0xB1, (byte)0x54, (byte)0x34, (byte)0x16, (byte)0x57, (byte)0xD8, (byte)0xA9, (byte)0x76, (byte)0x3D, (byte)0x74, (byte)0x82, (byte)0x30, (byte)0x72, (byte)0x4B, (byte)0x10, (byte)0x26, (byte)0x0F, (byte)0x16,\r\n           (byte)0xA0, (byte)0xBC, (byte)0x87, (byte)0x78, (byte)0x03, (byte)0xBF, (byte)0x6C, (byte)0xEA, (byte)0xEB, (byte)0x9E, (byte)0x26, (byte)0xE4, (byte)0x4E, (byte)0x80, (byte)0x24, (byte)0x21, (byte)0x03, (byte)0x84, (byte)0xD4, (byte)0x2F, \r\n           (byte)0x52, (byte)0x8A, (byte)0x79, (byte)0x33, (byte)0xBD, (byte)0xFE, (byte)0xB9, (byte)0x1E, (byte)0xDC, (byte)0x4A, (byte)0x7B, (byte)0xAF, (byte)0x03, (byte)0x68, (byte)0x27, (byte)0x6A, (byte)0x2F, (byte)0x51, (byte)0xFE, (byte)0xB2, \r\n           (byte)0x50, (byte)0xCC, (byte)0x9B, (byte)0xE8, (byte)0x74, (byte)0x49, (byte)0xDF, (byte)0x70, (byte)0x96, (byte)0x74, (byte)0x5A, (byte)0x01, (byte)0x90, (byte)0xBD, (byte)0xD8, (byte)0xF7, (byte)0x93, (byte)0xBC, (byte)0x8C, (byte)0x1C, \r\n           (byte)0x39, (byte)0x4C, (byte)0xC7, (byte)0xAF, (byte)0xB7, (byte)0xCB, (byte)0x1F, (byte)0xE1, (byte)0x9D, (byte)0x05, (byte)0xDB, (byte)0x3C, (byte)0x93, (byte)0x48, (byte)0x45, (byte)0x7F, (byte)0xBF, (byte)0x42, (byte)0x62, (byte)0x34,\r\n           (byte)0xFC, (byte)0xBD, (byte)0xEC, (byte)0xC8, (byte)0xFB, (byte)0x20, (byte)0x87, (byte)0x97, (byte)0x44, (byte)0xA6, (byte)0x90, (byte)0xDB, (byte)0x9D, (byte)0x33, (byte)0xF4, (byte)0xDC, (byte)0xA0, (byte)0x77, (byte)0xAA, (byte)0xA3,\r\n           (byte)0x4D, (byte)0xBA, (byte)0xF6, (byte)0x2B, (byte)0x9D, (byte)0xEA, (byte)0x0E, (byte)0x80, (byte)0x2D, (byte)0x84, (byte)0xF5, (byte)0x13, (byte)0x56, (byte)0x57, (byte)0xC6, (byte)0x24, (byte)0xE3, (byte)0x8D, (byte)0x7F, (byte)0x38,\r\n           (byte)0xA2, (byte)0xAF, (byte)0x78, (byte)0x25, (byte)0xAD, (byte)0x1E, (byte)0xA4, (byte)0x93, (byte)0x1D, (byte)0xF9, (byte)0xA0, (byte)0x47, (byte)0xDA, (byte)0x8E, (byte)0x78, (byte)0x80, (byte)0x37, (byte)0xF9, (byte)0x6B, (byte)0x1B, \r\n           (byte)0xF5, (byte)0x55, (byte)0x7B, (byte)0x3D, (byte)0x95, (byte)0xFB, (byte)0x08, (byte)0x98, (byte)0x93, (byte)0x2A, (byte)0x04, (byte)0xC8, (byte)0xD1, (byte)0xC6, (byte)0x08, (byte)0x42, (byte)0x05, (byte)0x1D, (byte)0xEA, (byte)0xD7, \r\n           (byte)0x83, (byte)0x07, (byte)0xD2, (byte)0x6A, (byte)0xBD, (byte)0xFB, (byte)0xE9, (byte)0xE4, (byte)0xF2, (byte)0xD5, (byte)0xFC, (byte)0xB2, (byte)0xDA, (byte)0x3E, (byte)0x64, (byte)0x0C, (byte)0x19, (byte)0x8A, (byte)0x38, (byte)0xDE, \r\n           (byte)0xAF, (byte)0x37, (byte)0x95, (byte)0x3C, (byte)0x99, (byte)0x2E, (byte)0x22, (byte)0xA6, (byte)0x95, (byte)0x8C, (byte)0x91, (byte)0x97, (byte)0x32, (byte)0xA9, (byte)0xFF, (byte)0x4C, (byte)0xBC, (byte)0x06, (byte)0x60, (byte)0x3B,\r\n           (byte)0x9B, (byte)0x74, (byte)0xE4, (byte)0x2D, (byte)0x6B, (byte)0xD5, (byte)0x7F, (byte)0x95, (byte)0x5A, (byte)0xFC, (byte)0x68, (byte)0xFF, (byte)0x00, (byte)0xDA, (byte)0x86, (byte)0x97, (byte)0xFC, (byte)0x8A, (byte)0x05};\r\n\r\n\r\n\r\n        byte[] objectArr;\r\n        try (ByteArrayInputStream inputStream = new ByteArrayInputStream(payload);\r\n             GZIPInputStream gzipInputStream = new GZIPInputStream(inputStream);\r\n             ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n            int size = 4096;\r\n            byte[] buffer = new byte[(int)size];\r\n            int count;\r\n            while ((count = gzipInputStream.read(buffer, 0, buffer.length)) != -1) {\r\n                outputStream.write(buffer, 0, count);\r\n            }\r\n            \r\n            objectArr = outputStream.toByteArray();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            return;\r\n        }\r\n        \r\n        StringBuilder hex = new StringBuilder(objectArr.length * 2);\r\n        for (byte b : objectArr) {\r\n            hex.append(String.format(&quot;%02x&quot;, b));\r\n        }\r\n        System.out.println(hex.toString());\r\n        \r\n        String decodedString = new String(objectArr, StandardCharsets.UTF_8);\r\n        System.out.println(decodedString);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI tested the to be decompressed byte array in c#, it worked ok, don&#39;t know why in Java it doesn&#39;t work.","title":"Gzip decompress throws EOFException","body":"<p>I am currently trying to decompress a byte array by using gzip decompress, however, I receive an EOFException, can anyone help me with this error ? Thanks</p>\n<p>this is my codes:</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.zip.GZIPInputStream;\nimport java.util.zip.GZIPOutputStream;\nimport java.nio.charset.StandardCharsets;\n\npublic class Program {\n    public static void main(String[] args) {\n        byte[] payload = new byte[] {\n           (byte)0x1F, (byte)0x8B, (byte)0x08, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x00, (byte)0x03, (byte)0x75, (byte)0x92, (byte)0x7F, (byte)0x68, (byte)0x1C, (byte)0x55, (byte)0x10, (byte)0xC7, (byte)0x27, (byte)0x97,\n           (byte)0xA4, (byte)0xBD, (byte)0x6B, (byte)0x92, (byte)0xDE, (byte)0x36, (byte)0xB1, (byte)0x4D, (byte)0x3D, (byte)0x9B, (byte)0xF6, (byte)0xD4, (byte)0xFE, (byte)0x88, (byte)0x1E, (byte)0x97, (byte)0xDE, (byte)0x8F, (byte)0xCC, (byte)0xA1, \n           (byte)0x69, (byte)0x34, (byte)0x17, (byte)0x6C, (byte)0xAB, (byte)0x55, (byte)0x68, (byte)0x2E, (byte)0xD8, (byte)0x74, (byte)0x31, (byte)0xA8, (byte)0xCD, (byte)0xF6, (byte)0xDE, (byte)0xA6, (byte)0x39, (byte)0x88, (byte)0x77, (byte)0xC9, \n           (byte)0xDB, (byte)0x85, (byte)0x70, (byte)0xE0, (byte)0x1F, (byte)0xD5, (byte)0x42, (byte)0x41, (byte)0x2C, (byte)0x28, (byte)0x4D, (byte)0x4A, (byte)0x4D, (byte)0xAD, (byte)0xB6, (byte)0xA4, (byte)0x16, (byte)0x7D, (byte)0xA7, (byte)0x52, \n           (byte)0x44, (byte)0x41, (byte)0xA4, (byte)0x45, (byte)0x5B, (byte)0x6A, (byte)0x11, (byte)0x45, (byte)0x84, (byte)0x8A, (byte)0x4A, (byte)0xD4, (byte)0xEC, (byte)0x46, (byte)0x11, (byte)0x69, (byte)0x51, (byte)0x50, (byte)0x41, (byte)0x42, \n           (byte)0x2C, (byte)0x35, (byte)0xE0, (byte)0xBC, (byte)0xB7, (byte)0x77, (byte)0x6D, (byte)0x44, (byte)0xFC, (byte)0x67, (byte)0x58, (byte)0x66, (byte)0x3E, (byte)0xF3, (byte)0xFD, (byte)0xCE, (byte)0xCC, (byte)0xDB, (byte)0xBA, (byte)0xE0, \n           (byte)0x5C, (byte)0xCF, (byte)0x00, (byte)0x6C, (byte)0xD2, (byte)0xC0, (byte)0xCF, (byte)0x0A, (byte)0xE3, (byte)0xDD, (byte)0x50, (byte)0xF3, (byte)0xD7, (byte)0x92, (byte)0x8C, (byte)0x91, (byte)0x0F, (byte)0x3F, (byte)0xB8, (byte)0xAD, \n           (byte)0xA7, (byte)0xDA, (byte)0x2A, (byte)0xE6, (byte)0xB3, (byte)0x3E, (byte)0x58, (byte)0x31, (byte)0x5F, (byte)0x25, (byte)0x7A, (byte)0x8B, (byte)0xB8, (byte)0xB0, (byte)0x20, (byte)0xE3, (byte)0x9F, (byte)0xBD, (byte)0xD0, (byte)0xA6, \n           (byte)0x41, (byte)0x13, (byte)0x1B, (byte)0xEF, (byte)0x7E, (byte)0x89, (byte)0xC8, (byte)0xE5, (byte)0x5B, (byte)0x1F, (byte)0x0E, (byte)0x2B, (byte)0xD8, (byte)0x2C, (byte)0x0C, (byte)0x9A, (byte)0xF9, (byte)0xAC, (byte)0xE9, (byte)0x8B, \n           (byte)0x27, (byte)0x92, (byte)0x3E, (byte)0x80, (byte)0xE3, (byte)0x55, (byte)0xC2, (byte)0x3A, (byte)0x8C, (byte)0xCE, (byte)0xA0, (byte)0x8A, (byte)0x01, (byte)0x28, (byte)0x68, (byte)0x70, (byte)0x0B, (byte)0x9B, (byte)0xC8, (byte)0x3C, \n           (byte)0x4B, (byte)0x0D, (byte)0x4B, (byte)0x25, (byte)0x9D, (byte)0x31, (byte)0xEC, (byte)0x21, (byte)0x49, (byte)0x56, (byte)0x01, (byte)0x74, (byte)0x36, (byte)0x08, (byte)0xAB, (byte)0x1E, (byte)0xDD, (byte)0xA8, (byte)0xB0, (byte)0x36, \n           (byte)0xA0, (byte)0x73, (byte)0x4D, (byte)0x58, (byte)0xAD, (byte)0xE8, (byte)0x5C, (byte)0x15, (byte)0xD6, (byte)0x6A, (byte)0x74, (byte)0xBE, (byte)0x11, (byte)0xFC, (byte)0x3A, (byte)0x3A, (byte)0x9F, (byte)0x0A, (byte)0xFE, (byte)0x03, \n           (byte)0x3A, (byte)0x17, (byte)0x05, (byte)0xBF, (byte)0x8C, (byte)0xCE, (byte)0x25, (byte)0xC1, (byte)0x3F, (byte)0x56, (byte)0xF9, (byte)0x33, (byte)0xE8, (byte)0x6A, (byte)0x82, (byte)0x9F, (byte)0x44, (byte)0x37, (byte)0x29, (byte)0xF3, \n           (byte)0x6E, (byte)0xAF, (byte)0xE0, (byte)0xBF, (byte)0xA1, (byte)0xBB, (byte)0x5B, (byte)0x58, (byte)0x3E, (byte)0x74, (byte)0xD3, (byte)0x4A, (byte)0x2D, (byte)0x02, (byte)0x5D, (byte)0x1A, (byte)0xAC, (byte)0x24, (byte)0xC7, (byte)0x13, \n           (byte)0xE4, (byte)0xB8, (byte)0x4C, (byte)0x39, (byte)0x16, (byte)0x86, (byte)0x8B, (byte)0xFB, (byte)0x0A, (byte)0x79, (byte)0x69, (byte)0x0A, (byte)0xB5, (byte)0xC2, (byte)0x5A, (byte)0x89, (byte)0x4E, (byte)0x44, (byte)0xC6, (byte)0x99, \n           (byte)0xF3, (byte)0x82, (byte)0x4F, (byte)0xAB, (byte)0x78, (byte)0x0E, (byte)0x9D, (byte)0x77, (byte)0x85, (byte)0x15, (byte)0x40, (byte)0xA7, (byte)0xC3, (byte)0xAB, (byte)0xC2, (byte)0x16, (byte)0x0D, (byte)0x56, (byte)0x91, (byte)0xC2, \n           (byte)0x3B, (byte)0xA4, (byte)0x50, (byte)0x2F, (byte)0x15, (byte)0xB8, (byte)0x99, (byte)0xB5, (byte)0x8D, (byte)0xFC, (byte)0xBE, (byte)0x61, (byte)0xB5, (byte)0x22, (byte)0xD4, (byte)0x08, (byte)0xEB, (byte)0x43, (byte)0x74, (byte)0xE7, \n           (byte)0x84, (byte)0xB5, (byte)0xA7, (byte)0x12, (byte)0xBD, (byte)0x4C, (byte)0x39, (byte)0x0F, (byte)0x63, (byte)0x1A, (byte)0x34, (byte)0xB3, (byte)0x89, (byte)0xBE, (byte)0xA7, (byte)0xA8, (byte)0x3B, (byte)0x50, (byte)0xD9, (byte)0x38, \n           (byte)0x9C, (byte)0x28, (byte)0xEF, (byte)0xCC, (byte)0x96, (byte)0x0B, (byte)0x5E, (byte)0x44, (byte)0xF7, (byte)0xAA, (byte)0xE0, (byte)0xDB, (byte)0xD0, (byte)0x7D, (byte)0x4E, (byte)0xF0, (byte)0x8D, (byte)0xE8, (byte)0x8E, (byte)0x8B, \n           (byte)0xD1, (byte)0x2B, (byte)0xE8, (byte)0x96, (byte)0xC4, (byte)0xE8, (byte)0x25, (byte)0x74, (byte)0xBF, (byte)0x10, (byte)0xA3, (byte)0xD3, (byte)0xE8, (byte)0xFE, (byte)0x28, (byte)0x46, (byte)0xE7, (byte)0x71, (byte)0xB6, (byte)0x51,\n           (byte)0x70, (byte)0x1F, (byte)0xCE, (byte)0xEE, (byte)0x14, (byte)0x3C, (byte)0x84, (byte)0xB3, (byte)0x69, (byte)0xC1, (byte)0xEF, (byte)0xC1, (byte)0x59, (byte)0xBF, (byte)0xE2, (byte)0xFF, (byte)0x16, (byte)0xBC, (byte)0x19, (byte)0xDD, \n           (byte)0x2F, (byte)0x05, (byte)0xEF, (byte)0x46, (byte)0xF7, (byte)0x82, (byte)0xE0, (byte)0x51, (byte)0x74, (byte)0x5F, (byte)0x15, (byte)0x3C, (byte)0x82, (byte)0xEE, (byte)0x31, (byte)0x40, (byte)0x0D, (byte)0x56, (byte)0xB3, (byte)0x89, \n           (byte)0x83, (byte)0x2F, (byte)0x54, (byte)0xE6, (byte)0x2E, (byte)0x6F, (byte)0xEE, (byte)0x99, (byte)0x43, (byte)0xB5, (byte)0xB0, (byte)0x3B, (byte)0x70, (byte)0xE6, (byte)0x6D, (byte)0x61, (byte)0xDF, (byte)0x85, (byte)0x33, (byte)0x3B, \n           (byte)0x84, (byte)0x75, (byte)0x51, (byte)0x46, (byte)0x95, (byte)0x81, (byte)0x88, (byte)0x06, (byte)0xB7, (byte)0x52, (byte)0xDF, (byte)0x29, (byte)0xEA, (byte)0xAB, (byte)0x93, (byte)0x7D, (byte)0x0F, (byte)0xE4, (byte)0x78, (byte)0x76, \n           (byte)0xD8, (byte)0xF4, (byte)0xDA, (byte)0xE8, (byte)0x45, (byte)0xDB, (byte)0xE8, (byte)0x45, (byte)0x0F, (byte)0xE1, (byte)0x4C, (byte)0x42, (byte)0xC5, (byte)0x66, (byte)0xE9, (byte)0x12, (byte)0x22, (byte)0xFA, (byte)0x6C, (byte)0x65, \n           (byte)0xBF, (byte)0x91, (byte)0xC5, (byte)0xFB, (byte)0x75, (byte)0x92, (byte)0xCB, (byte)0x47, (byte)0xE8, (byte)0xAC, (byte)0x15, (byte)0xF6, (byte)0x49, (byte)0x74, (byte)0x40, (byte)0xD8, (byte)0x45, (byte)0x74, (byte)0xD2, (byte)0xC2, \n           (byte)0x1E, (byte)0x40, (byte)0x87, (byte)0x41, (byte)0x0B, (byte)0x40, (byte)0x23, (byte)0x5B, (byte)0xDF, (byte)0x47, (byte)0x2E, (byte)0x7F, (byte)0xD4, (byte)0x52, (byte)0x5F, (byte)0xA6, (byte)0x67, (byte)0x47, (byte)0xF5, (byte)0xA3, \n           (byte)0xF4, (byte)0x8F, (byte)0x95, (byte)0x0E, (byte)0xFA, (byte)0x13, (byte)0x5D, (byte)0x3F, (byte)0xC7, (byte)0xCF, (byte)0xCB, (byte)0x7A, (byte)0x88, (byte)0xD9, (byte)0x9F, (byte)0xC4, (byte)0x65, (byte)0x7D, (byte)0x97, (byte)0x91,\n           (byte)0x95, (byte)0x75, (byte)0xF9, (byte)0x0F, (byte)0x96, (byte)0x8C, (byte)0xC9, (byte)0xD4, (byte)0x85, (byte)0x3E, (byte)0xAA, (byte)0xAF, (byte)0x05, (byte)0xB8, (byte)0x8D, (byte)0xD9, (byte)0xDF, (byte)0x6E, (byte)0xA6, (byte)0xFA, \n           (byte)0x12, (byte)0xAF, (byte)0x9E, (byte)0x50, (byte)0xC0, (byte)0x9B, (byte)0x8F, (byte)0x5C, (byte)0xBB, (byte)0x01, (byte)0xAC, (byte)0x61, (byte)0xF6, (byte)0xFC, (byte)0x93, (byte)0x37, (byte)0x81, (byte)0xA4, (byte)0x02, (byte)0xDE,\n           (byte)0x4A, (byte)0x3D, (byte)0x76, (byte)0x03, (byte)0x68, (byte)0x21, (byte)0x60, (byte)0xCF, (byte)0xFF, (byte)0x02, (byte)0x2D, (byte)0xD5, (byte)0xB0, (byte)0x89, (byte)0xED, (byte)0xBF, (byte)0x1C, (byte)0x22, (byte)0xA0, (byte)0xC6, \n           (byte)0x36, (byte)0x2D, (byte)0x3B, (byte)0xE1, (byte)0xC5, (byte)0xA9, (byte)0x89, (byte)0xCD, (byte)0x7A, (byte)0xB0, (byte)0xCE, (byte)0x1B, (byte)0xB1, (byte)0x95, (byte)0x4D, (byte)0x9E, (byte)0xFB, (byte)0xBA, (byte)0x52, (byte)0x4F,\n           (byte)0x7A, (byte)0x71, (byte)0xEA, (byte)0xD8, (byte)0xE3, (byte)0x7A, (byte)0xE3, (byte)0x2F, (byte)0xB1, (byte)0xB4, (byte)0x34, (byte)0xB8, (byte)0x9B, (byte)0x3D, (byte)0xB3, (byte)0xD0, (byte)0x41, (byte)0xF5, (byte)0xA5, (byte)0x79, \n           (byte)0x73, (byte)0x6C, (byte)0x97, (byte)0x6C, (byte)0xF6, (byte)0x8D, (byte)0x18, (byte)0xF9, (byte)0xA9, (byte)0xD3, (byte)0x05, (byte)0x3D, (byte)0xFC, (byte)0x99, (byte)0x27, (byte)0x10, (byte)0x61, (byte)0x07, (byte)0xDA, (byte)0xBE, \n           (byte)0x92, (byte)0x13, (byte)0xC8, (byte)0xD6, (byte)0xED, (byte)0x3C, (byte)0xA7, (byte)0xEA, (byte)0x6F, (byte)0x24, (byte)0xF5, (byte)0xE0, (byte)0x7B, (byte)0xE9, (byte)0x34, (byte)0x84, (byte)0x01, (byte)0xA2, (byte)0x64, (byte)0xF0, \n           (byte)0x1D, (byte)0xD5, (byte)0x03, (byte)0x65, (byte)0x01, (byte)0xF9, (byte)0x06, (byte)0x12, (byte)0x39, (byte)0xBA, (byte)0x5F, (byte)0x6F, (byte)0xB8, (byte)0x4E, (byte)0x12, (byte)0xB7, (byte)0x03, (byte)0xC4, (byte)0x08, (byte)0xF9, \n           (byte)0x9E, (byte)0x90, (byte)0x65, (byte)0x37, (byte)0x91, (byte)0xF6, (byte)0x7F, (byte)0x31, (byte)0xEB, (byte)0x01, (byte)0xE2, (byte)0xEC, (byte)0xF9, (byte)0x87, (byte)0x9E, (byte)0x20, (byte)0xA6, (byte)0x81, (byte)0xF2, (byte)0xD2, \n           (byte)0x29, (byte)0x8E, (byte)0xB1, (byte)0x54, (byte)0x34, (byte)0x16, (byte)0x57, (byte)0xD8, (byte)0xA9, (byte)0x76, (byte)0x3D, (byte)0x74, (byte)0x82, (byte)0x30, (byte)0x72, (byte)0x4B, (byte)0x10, (byte)0x26, (byte)0x0F, (byte)0x16,\n           (byte)0xA0, (byte)0xBC, (byte)0x87, (byte)0x78, (byte)0x03, (byte)0xBF, (byte)0x6C, (byte)0xEA, (byte)0xEB, (byte)0x9E, (byte)0x26, (byte)0xE4, (byte)0x4E, (byte)0x80, (byte)0x24, (byte)0x21, (byte)0x03, (byte)0x84, (byte)0xD4, (byte)0x2F, \n           (byte)0x52, (byte)0x8A, (byte)0x79, (byte)0x33, (byte)0xBD, (byte)0xFE, (byte)0xB9, (byte)0x1E, (byte)0xDC, (byte)0x4A, (byte)0x7B, (byte)0xAF, (byte)0x03, (byte)0x68, (byte)0x27, (byte)0x6A, (byte)0x2F, (byte)0x51, (byte)0xFE, (byte)0xB2, \n           (byte)0x50, (byte)0xCC, (byte)0x9B, (byte)0xE8, (byte)0x74, (byte)0x49, (byte)0xDF, (byte)0x70, (byte)0x96, (byte)0x74, (byte)0x5A, (byte)0x01, (byte)0x90, (byte)0xBD, (byte)0xD8, (byte)0xF7, (byte)0x93, (byte)0xBC, (byte)0x8C, (byte)0x1C, \n           (byte)0x39, (byte)0x4C, (byte)0xC7, (byte)0xAF, (byte)0xB7, (byte)0xCB, (byte)0x1F, (byte)0xE1, (byte)0x9D, (byte)0x05, (byte)0xDB, (byte)0x3C, (byte)0x93, (byte)0x48, (byte)0x45, (byte)0x7F, (byte)0xBF, (byte)0x42, (byte)0x62, (byte)0x34,\n           (byte)0xFC, (byte)0xBD, (byte)0xEC, (byte)0xC8, (byte)0xFB, (byte)0x20, (byte)0x87, (byte)0x97, (byte)0x44, (byte)0xA6, (byte)0x90, (byte)0xDB, (byte)0x9D, (byte)0x33, (byte)0xF4, (byte)0xDC, (byte)0xA0, (byte)0x77, (byte)0xAA, (byte)0xA3,\n           (byte)0x4D, (byte)0xBA, (byte)0xF6, (byte)0x2B, (byte)0x9D, (byte)0xEA, (byte)0x0E, (byte)0x80, (byte)0x2D, (byte)0x84, (byte)0xF5, (byte)0x13, (byte)0x56, (byte)0x57, (byte)0xC6, (byte)0x24, (byte)0xE3, (byte)0x8D, (byte)0x7F, (byte)0x38,\n           (byte)0xA2, (byte)0xAF, (byte)0x78, (byte)0x25, (byte)0xAD, (byte)0x1E, (byte)0xA4, (byte)0x93, (byte)0x1D, (byte)0xF9, (byte)0xA0, (byte)0x47, (byte)0xDA, (byte)0x8E, (byte)0x78, (byte)0x80, (byte)0x37, (byte)0xF9, (byte)0x6B, (byte)0x1B, \n           (byte)0xF5, (byte)0x55, (byte)0x7B, (byte)0x3D, (byte)0x95, (byte)0xFB, (byte)0x08, (byte)0x98, (byte)0x93, (byte)0x2A, (byte)0x04, (byte)0xC8, (byte)0xD1, (byte)0xC6, (byte)0x08, (byte)0x42, (byte)0x05, (byte)0x1D, (byte)0xEA, (byte)0xD7, \n           (byte)0x83, (byte)0x07, (byte)0xD2, (byte)0x6A, (byte)0xBD, (byte)0xFB, (byte)0xE9, (byte)0xE4, (byte)0xF2, (byte)0xD5, (byte)0xFC, (byte)0xB2, (byte)0xDA, (byte)0x3E, (byte)0x64, (byte)0x0C, (byte)0x19, (byte)0x8A, (byte)0x38, (byte)0xDE, \n           (byte)0xAF, (byte)0x37, (byte)0x95, (byte)0x3C, (byte)0x99, (byte)0x2E, (byte)0x22, (byte)0xA6, (byte)0x95, (byte)0x8C, (byte)0x91, (byte)0x97, (byte)0x32, (byte)0xA9, (byte)0xFF, (byte)0x4C, (byte)0xBC, (byte)0x06, (byte)0x60, (byte)0x3B,\n           (byte)0x9B, (byte)0x74, (byte)0xE4, (byte)0x2D, (byte)0x6B, (byte)0xD5, (byte)0x7F, (byte)0x95, (byte)0x5A, (byte)0xFC, (byte)0x68, (byte)0xFF, (byte)0x00, (byte)0xDA, (byte)0x86, (byte)0x97, (byte)0xFC, (byte)0x8A, (byte)0x05};\n\n\n\n        byte[] objectArr;\n        try (ByteArrayInputStream inputStream = new ByteArrayInputStream(payload);\n             GZIPInputStream gzipInputStream = new GZIPInputStream(inputStream);\n             ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n            int size = 4096;\n            byte[] buffer = new byte[(int)size];\n            int count;\n            while ((count = gzipInputStream.read(buffer, 0, buffer.length)) != -1) {\n                outputStream.write(buffer, 0, count);\n            }\n            \n            objectArr = outputStream.toByteArray();\n        } catch (IOException e) {\n            e.printStackTrace();\n            return;\n        }\n        \n        StringBuilder hex = new StringBuilder(objectArr.length * 2);\n        for (byte b : objectArr) {\n            hex.append(String.format(&quot;%02x&quot;, b));\n        }\n        System.out.println(hex.toString());\n        \n        String decodedString = new String(objectArr, StandardCharsets.UTF_8);\n        System.out.println(decodedString);\n    }\n}\n\n</code></pre>\n<p>I tested the to be decompressed byte array in c#, it worked ok, don't know why in Java it doesn't work.</p>\n"},{"tags":["java","spring-boot","aws-iot","aws-iot-core"],"answers":[{"comments":[{"owner":{"account_id":5744639,"reputation":115,"user_id":4536197,"display_name":"Happs"},"score":0,"creation_date":1689016695,"post_id":76621994,"comment_id":135150878,"body_markdown":"Thanks for the suggestion. One thing I need more details on auto-scale. How does SQS support auto-scale. And also if we can compare SQS to Kafka(MSK), then which one would be more appropriate to use.","body":"Thanks for the suggestion. One thing I need more details on auto-scale. How does SQS support auto-scale. And also if we can compare SQS to Kafka(MSK), then which one would be more appropriate to use."}],"tags":[],"owner":{"account_id":25638797,"reputation":1268,"user_id":19408037,"display_name":"brushtakopo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688572164,"creation_date":1688572164,"answer_id":76621994,"question_id":76611195,"body_markdown":"I&#39;d suggest to go with SQS since it is serverless and it will scale automatically. You can then, as you mentioned, consume the messages from the queue at your own pace (please note that you can also connect an AWS Lambda to SQS and run your custom logic in lambda with java runtime). \r\n\r\n\r\nTo reduce pricing even further on your solution, I&#39;d highly recommend to use [basic ingest][1]. Basic ingest is a specific feature in AWS IoT core that bypasses the MQTT broker by publishing the message directly to AWS IoT rule. Since you are not subscribing to the topic, using this feature makes sense. \r\n\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/iot/latest/developerguide/iot-basic-ingest.html","title":"How to choose between different AWS IoT Rule engine for taking action for incoming message to mqtt topic","body":"<p>I'd suggest to go with SQS since it is serverless and it will scale automatically. You can then, as you mentioned, consume the messages from the queue at your own pace (please note that you can also connect an AWS Lambda to SQS and run your custom logic in lambda with java runtime).</p>\n<p>To reduce pricing even further on your solution, I'd highly recommend to use <a href=\"https://docs.aws.amazon.com/iot/latest/developerguide/iot-basic-ingest.html\" rel=\"nofollow noreferrer\">basic ingest</a>. Basic ingest is a specific feature in AWS IoT core that bypasses the MQTT broker by publishing the message directly to AWS IoT rule. Since you are not subscribing to the topic, using this feature makes sense.</p>\n"}],"owner":{"account_id":5744639,"reputation":115,"user_id":4536197,"display_name":"Happs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688572164,"creation_date":1688463053,"question_id":76611195,"body_markdown":"We are using AWS iot core as mqtt broker to receive and publish the data from device and other webservice respectively.\r\nOur webservice which is acting as a subscriber here is built on top of java/spring-boot.\r\nSo basically device will be sending message over a single mqtt service and the webservice will be consuming the message from this topic.\r\n\r\nBut as to build scalable design, we dont want our webservice to directly consume the message from the topic.\r\n\r\nWe are expecting around 10000 devices to publish the messages concurrently to the single topic. We also dont want to use shared subscription due to some restriction and limitation.\r\n\r\nWe want to configure IOT rule engine. Below are the few approaches we thought as of now:\r\n1. IOT rule via http post: Webservice will expose one Rest API that will be responsible for processing the messages(aynchronously)\r\n2. IOT rule via sqs: Webservice will have sqs listner that will poll the data from sqs.\r\n3. IOT rule via dynamoDB: Cron job will be fetching messages from the dynamoDB and do the processing.\r\n\r\nThere are other iot rule actions also that can be taken but I wanted to know what would be the best practice and what all factor we should consider in order choose IOT rule action.\r\n\r\nDoes all these IOT rule will have same cost implication or does it vary on the actions/resources(sqs, dynamoDB etc)?\r\n\r\n","title":"How to choose between different AWS IoT Rule engine for taking action for incoming message to mqtt topic","body":"<p>We are using AWS iot core as mqtt broker to receive and publish the data from device and other webservice respectively.\nOur webservice which is acting as a subscriber here is built on top of java/spring-boot.\nSo basically device will be sending message over a single mqtt service and the webservice will be consuming the message from this topic.</p>\n<p>But as to build scalable design, we dont want our webservice to directly consume the message from the topic.</p>\n<p>We are expecting around 10000 devices to publish the messages concurrently to the single topic. We also dont want to use shared subscription due to some restriction and limitation.</p>\n<p>We want to configure IOT rule engine. Below are the few approaches we thought as of now:</p>\n<ol>\n<li>IOT rule via http post: Webservice will expose one Rest API that will be responsible for processing the messages(aynchronously)</li>\n<li>IOT rule via sqs: Webservice will have sqs listner that will poll the data from sqs.</li>\n<li>IOT rule via dynamoDB: Cron job will be fetching messages from the dynamoDB and do the processing.</li>\n</ol>\n<p>There are other iot rule actions also that can be taken but I wanted to know what would be the best practice and what all factor we should consider in order choose IOT rule action.</p>\n<p>Does all these IOT rule will have same cost implication or does it vary on the actions/resources(sqs, dynamoDB etc)?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":7,"creation_date":1688500869,"post_id":76615566,"comment_id":135081411,"body_markdown":"Can you : 1) Copy the source code instead of giving us an image. 2) Returns the message depicting what the compiler is complaining about? Thanks.","body":"Can you : 1) Copy the source code instead of giving us an image. 2) Returns the message depicting what the compiler is complaining about? Thanks."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688501600,"post_id":76615566,"comment_id":135081513,"body_markdown":"exactly it also works with any TYPE that is a subclass of `Integer`, but `Integer` is not an instance of any subclass of `Integer`, disregarding that `Integer` is `final` and has no subclasses. Maybe a different example would be better. Assume `Predicate&lt;? extends Animal&gt;`, which, can also stand for `Predicate&lt;Dog&gt; p`. Now should it be allowed to call `p.test(cat);` with `Animal cat = new Cat()`? `p` is expecting a `Dog`  ((BTW this question is not a first time on StackOverflow))","body":"exactly it also works with any TYPE that is a subclass of <code>Integer</code>, but <code>Integer</code> is not an instance of any subclass of <code>Integer</code>, disregarding that <code>Integer</code> is <code>final</code> and has no subclasses. Maybe a different example would be better. Assume <code>Predicate&lt;? extends Animal&gt;</code>, which, can also stand for <code>Predicate&lt;Dog&gt; p</code>. Now should it be allowed to call <code>p.test(cat);</code> with <code>Animal cat = new Cat()</code>? <code>p</code> is expecting a <code>Dog</code>  ((BTW this question is not a first time on StackOverflow))"},{"owner":{"account_id":8888797,"reputation":91,"user_id":6636188,"display_name":"Ankit Ghildiyal"},"score":0,"creation_date":1688571803,"post_id":76615566,"comment_id":135092206,"body_markdown":"You&#39;re right user16320675, see my response to Andy Turner&#39;s answer below","body":"You&#39;re right user16320675, see my response to Andy Turner&#39;s answer below"}],"answers":[{"comments":[{"owner":{"account_id":8888797,"reputation":91,"user_id":6636188,"display_name":"Ankit Ghildiyal"},"score":0,"creation_date":1688571606,"post_id":76615791,"comment_id":135092151,"body_markdown":"Thank you very much for the detailed answer, I dug up more into java generics documentation and found this and it explains why I was getting the error (exactly. what you explained in your answer) https://docs.oracle.com/javase/tutorial/java/generics/capture.html","body":"Thank you very much for the detailed answer, I dug up more into java generics documentation and found this and it explains why I was getting the error (exactly. what you explained in your answer) <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/capture.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/capture.html</a>"}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688504790,"creation_date":1688503598,"answer_id":76615791,"question_id":76615566,"body_markdown":"&gt; As per my understanding, `Predicate&lt;? extends Integer&gt;` means that this Predicate works with any type that is Integer or its subclass\r\n\r\nNo - it means the `Predicate` works with _a specific_ subclass of `Integer`, or subclasses of that class. Since the compiler doesn&#39;t know which specific subclass of `Integer` is acceptable, it refuses to compile if you pass anything other than literal `null` to the `test` method.\r\n\r\n----\r\n\r\n`Integer` is a poor class to explain this with because it has no subclasses. But let&#39;s say it did:\r\n\r\n```\r\nclass ChildOfInteger extends Integer {\r\n  boolean foo() { return true; }\r\n}\r\n```\r\n\r\nYou could define a `Predicate&lt;ChildOfInteger&gt;`, say:\r\n\r\n```\r\nPredicate&lt;ChildOfInteger&gt; pCoi = ChildOfInteger::foo;\r\n```\r\n\r\nThis invokes the `foo` method on the argument passed in - so clearly the compiler should try to stop you passing it anything that isn&#39;t a `ChildOfInteger`.\r\n\r\nBut a `Predicate&lt;ChildOfInteger&gt;` is also a `Predicate&lt;? extends Integer&gt;`:\r\n\r\n```\r\nPredicate&lt;? extends Integer&gt; pI = pCoi;\r\n```\r\n\r\nIf you were allowed to pass an `Integer` to a `pI`, the `Predicate` wouldn&#39;t know what to do, because there&#39;s no `foo` method to invoke on it.\r\n\r\nThe compiler doesn&#39;t know if the `Predicate&lt;? extends Integer&gt;` refers to a `Predicate&lt;Integer&gt;`, a `Predicate&lt;ChildOfInteger&gt;`, or a `Predicate&lt;ChildOfChildOfInteger&gt;` etc. Hence, you can&#39;t invoke `test` on it, passing anything that&#39;s not provably `null` (`null` is allowed because it can be cast to any type without an exception being raised).\r\n\r\n---\r\n\r\nIf you want to be able to pass in a `Predicate` that accepts `Integer` (or a subclass), but isn&#39;t specific to `Integer`, use `super`:\r\n\r\n```\r\nPredicate&lt;? super Integer&gt;\r\n```\r\n\r\nThis means that it accepts a specific type - again unknown exactly - but `Integer` is a subclass of that, so it&#39;s acceptable to pass an `Integer` (or a subclass of `Integer`) to it.","title":"Can someone please explain why I am getting this compilation error?","body":"<blockquote>\n<p>As per my understanding, <code>Predicate&lt;? extends Integer&gt;</code> means that this Predicate works with any type that is Integer or its subclass</p>\n</blockquote>\n<p>No - it means the <code>Predicate</code> works with <em>a specific</em> subclass of <code>Integer</code>, or subclasses of that class. Since the compiler doesn't know which specific subclass of <code>Integer</code> is acceptable, it refuses to compile if you pass anything other than literal <code>null</code> to the <code>test</code> method.</p>\n<hr />\n<p><code>Integer</code> is a poor class to explain this with because it has no subclasses. But let's say it did:</p>\n<pre><code>class ChildOfInteger extends Integer {\n  boolean foo() { return true; }\n}\n</code></pre>\n<p>You could define a <code>Predicate&lt;ChildOfInteger&gt;</code>, say:</p>\n<pre><code>Predicate&lt;ChildOfInteger&gt; pCoi = ChildOfInteger::foo;\n</code></pre>\n<p>This invokes the <code>foo</code> method on the argument passed in - so clearly the compiler should try to stop you passing it anything that isn't a <code>ChildOfInteger</code>.</p>\n<p>But a <code>Predicate&lt;ChildOfInteger&gt;</code> is also a <code>Predicate&lt;? extends Integer&gt;</code>:</p>\n<pre><code>Predicate&lt;? extends Integer&gt; pI = pCoi;\n</code></pre>\n<p>If you were allowed to pass an <code>Integer</code> to a <code>pI</code>, the <code>Predicate</code> wouldn't know what to do, because there's no <code>foo</code> method to invoke on it.</p>\n<p>The compiler doesn't know if the <code>Predicate&lt;? extends Integer&gt;</code> refers to a <code>Predicate&lt;Integer&gt;</code>, a <code>Predicate&lt;ChildOfInteger&gt;</code>, or a <code>Predicate&lt;ChildOfChildOfInteger&gt;</code> etc. Hence, you can't invoke <code>test</code> on it, passing anything that's not provably <code>null</code> (<code>null</code> is allowed because it can be cast to any type without an exception being raised).</p>\n<hr />\n<p>If you want to be able to pass in a <code>Predicate</code> that accepts <code>Integer</code> (or a subclass), but isn't specific to <code>Integer</code>, use <code>super</code>:</p>\n<pre><code>Predicate&lt;? super Integer&gt;\n</code></pre>\n<p>This means that it accepts a specific type - again unknown exactly - but <code>Integer</code> is a subclass of that, so it's acceptable to pass an <code>Integer</code> (or a subclass of <code>Integer</code>) to it.</p>\n"},{"tags":[],"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688504269,"creation_date":1688504269,"answer_id":76615847,"question_id":76615566,"body_markdown":"First of all, `Integer` is a `final class` meaning it does not make sense to talk about subclasses to `Integer` as there aren&#39;t any. That out of the way, there are two ways to achieve what I believe is the desired effect.\r\n\r\n&lt;h2&gt;1. Not using generics&lt;/h2&gt; \r\nA list of Integers will allow you to add instances of subclasses to the Integer class (which once again do not exist). This would look something like this:\r\n\r\n```java\r\npublic int countSpecial(Collection&lt;Integer&gt; input, Predicate&lt;Integer&gt; p) {\r\n\tint count = 0;\r\n    for(Integer i : input) {\r\n\t\tif(p.test(i)) {\r\n\t\t\tcount++\r\n    \t}\r\n    }\r\n    return count;\r\n}\r\n```\r\n\r\n&lt;h2&gt;2. Not using wildcards&lt;/h2&gt; \r\nThis will allow you to utilise the benefits of generics while still being able to achieve the desired effect - and I think this is what you were trying to do. It would look something like this:\r\n\r\n```java\r\npublic &lt;T extends Integer&gt; int countSpecial(Collection&lt;T&gt; input, Predicate&lt;T&gt; p) {\r\n\tint count = 0;\r\n    for(T t : input) { // t will be an instance of an Integer or an Integer subclass (which doesn&#39;t exist)\r\n\t\tif(p.test(i)) {\r\n\t\t\tcount++\r\n    \t}\r\n    }\r\n    return count;\r\n}\r\n```","title":"Can someone please explain why I am getting this compilation error?","body":"<p>First of all, <code>Integer</code> is a <code>final class</code> meaning it does not make sense to talk about subclasses to <code>Integer</code> as there aren't any. That out of the way, there are two ways to achieve what I believe is the desired effect.</p>\n<h2>1. Not using generics</h2> \nA list of Integers will allow you to add instances of subclasses to the Integer class (which once again do not exist). This would look something like this:\n<pre class=\"lang-java prettyprint-override\"><code>public int countSpecial(Collection&lt;Integer&gt; input, Predicate&lt;Integer&gt; p) {\n    int count = 0;\n    for(Integer i : input) {\n        if(p.test(i)) {\n            count++\n        }\n    }\n    return count;\n}\n</code></pre>\n<h2>2. Not using wildcards</h2> \nThis will allow you to utilise the benefits of generics while still being able to achieve the desired effect - and I think this is what you were trying to do. It would look something like this:\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T extends Integer&gt; int countSpecial(Collection&lt;T&gt; input, Predicate&lt;T&gt; p) {\n    int count = 0;\n    for(T t : input) { // t will be an instance of an Integer or an Integer subclass (which doesn't exist)\n        if(p.test(i)) {\n            count++\n        }\n    }\n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":8888797,"reputation":91,"user_id":6636188,"display_name":"Ankit Ghildiyal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76615791,"answer_count":2,"score":0,"last_activity_date":1688571941,"creation_date":1688500627,"question_id":76615566,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wjcos.png\r\n\r\nAs per my understanding, `Predicate&lt;? extends Integer&gt;` means that this Predicate works with any type that is Integer or its subclass so, not sure why this is complaining. NOTE that doing something similar with first param `Collection&lt;? extends Integer&gt;` seem to be working as expected. \r\nEDIT - Adding code as requested by others, also changed the type to Number as Integer doesn&#39;t have a subclass\r\n`\r\n\r\n    public &lt;T extends Collection&lt;? extends Number&gt;&gt; int countSpecial(Collection&lt;? extends Number&gt; input, Predicate&lt;? extends Number&gt; p){\r\n            int count = 0;\r\n            for(Number i : input){\r\n                if(p.test(i)){\r\n                    count++;\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n\r\n`","title":"Can someone please explain why I am getting this compilation error?","body":"<p><a href=\"https://i.stack.imgur.com/Wjcos.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wjcos.png\" alt=\"enter image description here\" /></a></p>\n<p>As per my understanding, <code>Predicate&lt;? extends Integer&gt;</code> means that this Predicate works with any type that is Integer or its subclass so, not sure why this is complaining. NOTE that doing something similar with first param <code>Collection&lt;? extends Integer&gt;</code> seem to be working as expected.\nEDIT - Adding code as requested by others, also changed the type to Number as Integer doesn't have a subclass\n`</p>\n<pre><code>public &lt;T extends Collection&lt;? extends Number&gt;&gt; int countSpecial(Collection&lt;? extends Number&gt; input, Predicate&lt;? extends Number&gt; p){\n        int count = 0;\n        for(Number i : input){\n            if(p.test(i)){\n                count++;\n            }\n        }\n        return count;\n    }\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1688059483,"post_id":76582835,"comment_id":135026412,"body_markdown":"It sounds like a problem with OkHttp or DNS rather than with Spring Framework. Do other clients, such as curl on the command line, ever fail due to an unknown host?","body":"It sounds like a problem with OkHttp or DNS rather than with Spring Framework. Do other clients, such as curl on the command line, ever fail due to an unknown host?"},{"owner":{"account_id":28919915,"reputation":9,"user_id":22151115,"display_name":"Matteo Battisti"},"score":0,"creation_date":1688074180,"post_id":76582835,"comment_id":135028969,"body_markdown":"command line curl is fine. How do I tell if it&#39;s a client or dns problem?","body":"command line curl is fine. How do I tell if it&#39;s a client or dns problem?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1688112211,"post_id":76582835,"comment_id":135032895,"body_markdown":"I&#39;d search for some existing questions about intermittent `java.net.UnknownHostException`. For example, [this question](https://stackoverflow.com/questions/24188992/unknownhostexception-from-java-but-host-resolves-with-ping-nslookup-curl) has [an answer](https://stackoverflow.com/a/24195155/1384297) with some suggestions for diagnosing a similar problem.","body":"I&#39;d search for some existing questions about intermittent <code>java.net.UnknownHostException</code>. For example, <a href=\"https://stackoverflow.com/questions/24188992/unknownhostexception-from-java-but-host-resolves-with-ping-nslookup-curl\">this question</a> has <a href=\"https://stackoverflow.com/a/24195155/1384297\">an answer</a> with some suggestions for diagnosing a similar problem."},{"owner":{"account_id":28919915,"reputation":9,"user_id":22151115,"display_name":"Matteo Battisti"},"score":0,"creation_date":1688571514,"post_id":76582835,"comment_id":135092123,"body_markdown":"Thanks, solved follow this https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover","body":"Thanks, solved follow this <a href=\"https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover\" title=\"java and etc resolv conf dns server failover\">serverfault.com/questions/578082/&hellip;</a>"}],"owner":{"account_id":28919915,"reputation":9,"user_id":22151115,"display_name":"Matteo Battisti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688571539,"creation_date":1688055077,"question_id":76582835,"body_markdown":"I have a problem with a Springframework project.\r\nI make a call with OkHttpClient and sometimes I get the error java.net.UnknownHostException: www.strava.com: Name or service not known\r\n\r\nI tried to insert a 1 minute timeout thinking of solving the problem but if the call fails it fails after a few seconds\r\nThe call is made successfully a few times and other times the described error returns, but the call is always the same...\r\n\r\n       \r\n        String STRAVA_URL = &quot;https://www.strava.com/&quot;\r\n        String url = StravaConfig.STRAVA_URL + &quot;/api/v3/oauth/token&quot;; \r\n    \r\n        RequestBody requestBody = new FormBody\r\n            .Builder() \r\n            .add(&quot;client_id&quot;, StravaConfig.CLIENT_ID) \r\n            .add(&quot;client_secret&quot;, StravaConfig.CLIENT_SECRET) \r\n            .add(&quot;grant_type&quot;, &quot;refresh_token&quot;) \r\n            .add(&quot;refresh_token&quot;, account.getStravaRefreshToken()) \r\n            .build();\r\n    \r\n        OkHttpClient client = new OkHttpClient.Builder()\r\n                .connectTimeout(1, TimeUnit.MINUTES)\r\n                .build();\r\n    \r\n        Request request = new Request.Builder()\r\n                .method(&quot;POST&quot;, requestBody)\r\n                .url(url)\r\n                .build();\r\n    \r\n        Call call = client.newCall(request);\r\n        Response response = null;\r\n    \r\n        try {\r\n            response = call.execute();\r\n    \r\n            ...\r\n        } catch (Exception e) {\r\n            //HERE THE ERROR\r\n            e.printStackTrace();\r\n            return e.toString();\r\n        }`\r\n\r\n\r\n**Solved**\r\nFollow this https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover\r\n","title":"Springframework java.net.UnknownHostException appears randomly","body":"<p>I have a problem with a Springframework project.\nI make a call with OkHttpClient and sometimes I get the error java.net.UnknownHostException: <a href=\"http://www.strava.com\" rel=\"nofollow noreferrer\">www.strava.com</a>: Name or service not known</p>\n<p>I tried to insert a 1 minute timeout thinking of solving the problem but if the call fails it fails after a few seconds\nThe call is made successfully a few times and other times the described error returns, but the call is always the same...</p>\n<pre><code>    String STRAVA_URL = &quot;https://www.strava.com/&quot;\n    String url = StravaConfig.STRAVA_URL + &quot;/api/v3/oauth/token&quot;; \n\n    RequestBody requestBody = new FormBody\n        .Builder() \n        .add(&quot;client_id&quot;, StravaConfig.CLIENT_ID) \n        .add(&quot;client_secret&quot;, StravaConfig.CLIENT_SECRET) \n        .add(&quot;grant_type&quot;, &quot;refresh_token&quot;) \n        .add(&quot;refresh_token&quot;, account.getStravaRefreshToken()) \n        .build();\n\n    OkHttpClient client = new OkHttpClient.Builder()\n            .connectTimeout(1, TimeUnit.MINUTES)\n            .build();\n\n    Request request = new Request.Builder()\n            .method(&quot;POST&quot;, requestBody)\n            .url(url)\n            .build();\n\n    Call call = client.newCall(request);\n    Response response = null;\n\n    try {\n        response = call.execute();\n\n        ...\n    } catch (Exception e) {\n        //HERE THE ERROR\n        e.printStackTrace();\n        return e.toString();\n    }`\n</code></pre>\n<p><strong>Solved</strong>\nFollow this <a href=\"https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover\">https://serverfault.com/questions/578082/java-and-etc-resolv-conf-dns-server-failover</a></p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":7422059,"reputation":8094,"user_id":5645988,"display_name":"Madhusudana Reddy Sunnapu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1459014485,"creation_date":1459014033,"answer_id":36238593,"question_id":36238493,"body_markdown":"I think in the `addRanking(..)` method, after the `Transaction tx = session.getTransaction();` you missed to call\r\n\r\n&gt; tx.begin()","title":"Hibernate TransactionException when saving to database","body":"<p>I think in the <code>addRanking(..)</code> method, after the <code>Transaction tx = session.getTransaction();</code> you missed to call</p>\n\n<blockquote>\n  <p>tx.begin()</p>\n</blockquote>\n"}],"owner":{"account_id":959020,"reputation":3213,"user_id":983783,"accept_rate":63,"display_name":"Eddy Freeman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":36238593,"answer_count":1,"score":-1,"last_activity_date":1688571357,"creation_date":1459013491,"question_id":36238493,"body_markdown":"I am having issues with Hibernate when trying to save to a database. I have the following two classes, a normal class and a test class:\r\n\r\n    public class HibernateRankingService2 implements RankingService2{\r\n    \r\n    \tpublic HibernateRankingService2() {\r\n    \t}\r\n    \r\n    \tpublic void addRanking(String subject, String observer, String skill, int ranking) {\r\n    \t\tSession session = HibernateUtil.getSession();\r\n    \t\tTransaction tx = session.getTransaction();\r\n    \t\taddRanking(session, subject, observer, skill, ranking);\r\n    \t\ttx.commit();\r\n    \t\tsession.close();\r\n    \t}\r\n    \t\r\n    \tprivate void addRanking(Session session, String subjectName,\r\n    \t\tString observerName, String skillName, int rank) {\r\n    \t\tPerson subject = savePerson(session, subjectName);\r\n    \t\tPerson observer = savePerson(session, observerName);\r\n    \t\tSkill skill = saveSkill(session, skillName);\r\n    \t\tRanking ranking = new Ranking();\r\n    \t\tranking.setSubject(subject);\r\n    \t\tranking.setObserver(observer);\r\n    \t\tranking.setSkill(skill);\r\n    \t\tranking.setRanking(rank);\r\n    \t\tsession.save(ranking);\r\n    \t}\r\n    \t\r\n    \tpublic int getRankingFor(String subject, String skill) {\r\n    \t\tSession session = HibernateUtil.getSession();\r\n    \t\tTransaction tx = session.beginTransaction();\r\n    \t\tint average = getRankingFor(session, subject, skill);\r\n    \t\ttx.commit();\r\n    \t\tsession.close();\r\n    \t\treturn average;\r\n    \t}\r\n    \t\r\n    \tprivate int getRankingFor(Session session, String subject,\r\n    \t\tString skill) {\r\n    \t\tQuery query = session.createQuery(&quot;from Ranking r &quot;\r\n    \t\t\t\t\t\t\t\t\t\t\t+ &quot;where r.subject.name=:name &quot;\r\n    \t\t\t\t\t\t\t\t\t\t\t+ &quot;and r.skill.name=:skill&quot;);\r\n    \t\tquery.setString(&quot;name&quot;, subject);\r\n    \t\tquery.setString(&quot;skill&quot;, skill);\r\n    \t\tint sum = 0;\r\n    \t\tint count = 0;\r\n    \t\tfor (Ranking r : (List&lt;Ranking&gt;) query.list()) {\r\n    \t\t\tcount++;\r\n    \t\t\tsum += r.getRanking();\r\n    \t\t\tSystem.out.println(r);\r\n    \t\t}\r\n    \t\treturn count == 0 ? 0 : sum / count;\r\n    \t}\t\r\n    \t    \t\r\n    \tprivate Person findPerson(Session session, String name){\r\n    \t\tQuery query = session.createQuery(&quot;from Person p where p.name=:name&quot;);\r\n    \t\tquery.setParameter(&quot;name&quot;, name);\r\n    \t\tquery.setMaxResults(1);\r\n    \t\tList&lt;Person&gt; person = (List&lt;Person&gt;)query.list();\r\n    \t\tSystem.out.println(&quot;SIZE..: &quot; + query.list().size());\r\n    \t\tif(person.size() == 0){\r\n    \t\t\treturn null;\r\n    \t\t}\t\t\r\n    \t\treturn person.get(0);\r\n    \t}\r\n    \t\r\n    \tprivate Person savePerson(Session session, String name){\r\n    \t\tPerson person = findPerson(session, name);\r\n    \t\tif(person == null){\r\n    \t\t\tperson = new Person();\r\n    \t\t\tperson.setName(name);\r\n    \t\t\tsession.save(person);\r\n    \t\t}\r\n    \t\treturn person;\r\n    \t}\r\n    \t\r\n    \tprivate Skill findSkill(Session session, String name){\r\n    \t\tQuery query = session.createQuery(&quot;from Skill s where s.name=:name&quot;);\r\n    \t\tquery.setParameter(&quot;name&quot;, name);\r\n    \t\tquery.setMaxResults(1);    \t\t\r\n    \t\tList&lt;Skill&gt; skill = (List&lt;Skill&gt;)query.list();\r\n    \t\tSystem.out.println(&quot;SIZE..: &quot; + query.list().size());\r\n    \t\tif(skill.size() == 0){\r\n    \t\t\treturn null;\r\n    \t\t}\t\t\r\n    \t\treturn skill.get(0);\r\n    \t}\r\n    \t\r\n    \tprivate Skill saveSkill(Session session, String name){\r\n    \t\tSkill skill = findSkill(session, name);\r\n    \t\tif(skill == null){\r\n    \t\t\tskill = new Skill();\r\n    \t\t\tskill.setName(name);\r\n    \t\t\tsession.save(skill);\r\n    \t\t}\r\n    \t\treturn skill;\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\nThis is the test class:\r\n\r\n    public class AddRankingTest {\r\n    \r\n    \tRankingService2 service = new HibernateRankingService2();\r\n    \t\r\n    \t@Test\r\n    \tpublic void addRanking(){\r\n    \t\tservice.addRanking(&quot;J. C. Smell&quot;, &quot;Drew Lombardo&quot;, &quot;Mule&quot;, 8);\r\n    \t\tassertEquals(service.getRankingFor(&quot;J. C. Smell&quot;, &quot;Mule&quot;), 8);\r\n    \t}\r\n    \r\n    }\r\n\r\nAm having the following exception:\r\n\r\n    org.hibernate.TransactionException: Transaction not successfully started\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:59)\r\n    \tat chapter3.application.HibernateRankingService2.addRanking(HibernateRankingService2.java:29)\r\n    \tat chapter3.simple_test.AddRankingTest.addRanking(AddRankingTest.java:17)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \r\n    ...\r\n    ...\r\n\r\nThe error is coming from the `tx.commit();` in the `public void addRanking(...);` method because if I comment it out, it runs fine with no exceptions but then the data is not saved to the database. \r\n\r\nI begin and commit the transaction in the same `public void addRanking(...);` method but i don&#39;t understand why am getting the Transaction exception.\r\n\r\nWhat am I doing wrong?\r\n\r\nThe objects like `Person`, `Skill` and `Ranking` are normal Java POJOs containing only getters and setters.\r\n","title":"Hibernate TransactionException when saving to database","body":"<p>I am having issues with Hibernate when trying to save to a database. I have the following two classes, a normal class and a test class:</p>\n<pre><code>public class HibernateRankingService2 implements RankingService2{\n\n    public HibernateRankingService2() {\n    }\n\n    public void addRanking(String subject, String observer, String skill, int ranking) {\n        Session session = HibernateUtil.getSession();\n        Transaction tx = session.getTransaction();\n        addRanking(session, subject, observer, skill, ranking);\n        tx.commit();\n        session.close();\n    }\n    \n    private void addRanking(Session session, String subjectName,\n        String observerName, String skillName, int rank) {\n        Person subject = savePerson(session, subjectName);\n        Person observer = savePerson(session, observerName);\n        Skill skill = saveSkill(session, skillName);\n        Ranking ranking = new Ranking();\n        ranking.setSubject(subject);\n        ranking.setObserver(observer);\n        ranking.setSkill(skill);\n        ranking.setRanking(rank);\n        session.save(ranking);\n    }\n    \n    public int getRankingFor(String subject, String skill) {\n        Session session = HibernateUtil.getSession();\n        Transaction tx = session.beginTransaction();\n        int average = getRankingFor(session, subject, skill);\n        tx.commit();\n        session.close();\n        return average;\n    }\n    \n    private int getRankingFor(Session session, String subject,\n        String skill) {\n        Query query = session.createQuery(&quot;from Ranking r &quot;\n                                            + &quot;where r.subject.name=:name &quot;\n                                            + &quot;and r.skill.name=:skill&quot;);\n        query.setString(&quot;name&quot;, subject);\n        query.setString(&quot;skill&quot;, skill);\n        int sum = 0;\n        int count = 0;\n        for (Ranking r : (List&lt;Ranking&gt;) query.list()) {\n            count++;\n            sum += r.getRanking();\n            System.out.println(r);\n        }\n        return count == 0 ? 0 : sum / count;\n    }   \n            \n    private Person findPerson(Session session, String name){\n        Query query = session.createQuery(&quot;from Person p where p.name=:name&quot;);\n        query.setParameter(&quot;name&quot;, name);\n        query.setMaxResults(1);\n        List&lt;Person&gt; person = (List&lt;Person&gt;)query.list();\n        System.out.println(&quot;SIZE..: &quot; + query.list().size());\n        if(person.size() == 0){\n            return null;\n        }       \n        return person.get(0);\n    }\n    \n    private Person savePerson(Session session, String name){\n        Person person = findPerson(session, name);\n        if(person == null){\n            person = new Person();\n            person.setName(name);\n            session.save(person);\n        }\n        return person;\n    }\n    \n    private Skill findSkill(Session session, String name){\n        Query query = session.createQuery(&quot;from Skill s where s.name=:name&quot;);\n        query.setParameter(&quot;name&quot;, name);\n        query.setMaxResults(1);         \n        List&lt;Skill&gt; skill = (List&lt;Skill&gt;)query.list();\n        System.out.println(&quot;SIZE..: &quot; + query.list().size());\n        if(skill.size() == 0){\n            return null;\n        }       \n        return skill.get(0);\n    }\n    \n    private Skill saveSkill(Session session, String name){\n        Skill skill = findSkill(session, name);\n        if(skill == null){\n            skill = new Skill();\n            skill.setName(name);\n            session.save(skill);\n        }\n        return skill;\n    }\n    \n\n}\n</code></pre>\n<p>This is the test class:</p>\n<pre><code>public class AddRankingTest {\n\n    RankingService2 service = new HibernateRankingService2();\n    \n    @Test\n    public void addRanking(){\n        service.addRanking(&quot;J. C. Smell&quot;, &quot;Drew Lombardo&quot;, &quot;Mule&quot;, 8);\n        assertEquals(service.getRankingFor(&quot;J. C. Smell&quot;, &quot;Mule&quot;), 8);\n    }\n\n}\n</code></pre>\n<p>Am having the following exception:</p>\n<pre><code>org.hibernate.TransactionException: Transaction not successfully started\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:59)\n    at chapter3.application.HibernateRankingService2.addRanking(HibernateRankingService2.java:29)\n    at chapter3.simple_test.AddRankingTest.addRanking(AddRankingTest.java:17)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n\n...\n...\n</code></pre>\n<p>The error is coming from the <code>tx.commit();</code> in the <code>public void addRanking(...);</code> method because if I comment it out, it runs fine with no exceptions but then the data is not saved to the database.</p>\n<p>I begin and commit the transaction in the same <code>public void addRanking(...);</code> method but i don't understand why am getting the Transaction exception.</p>\n<p>What am I doing wrong?</p>\n<p>The objects like <code>Person</code>, <code>Skill</code> and <code>Ranking</code> are normal Java POJOs containing only getters and setters.</p>\n"},{"tags":["java","android","authentication","oauth-2.0","keycloak"],"owner":{"account_id":5605149,"reputation":17,"user_id":4440029,"display_name":"drage503"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3024,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688571175,"creation_date":1560783450,"question_id":56633910,"body_markdown":"I am creating a native android application and I am using keycloak authentication, because my web app and my API is already configured with keycloak. I setup Facebook and Google as identity providers for keycloak but now I don&#39;t know how I am supposed to configure it in the Android application.\r\n\r\nFor the general authentication I am using retrofit with rest calls to get the token and after that I am storing the token in Android Account manager.\r\n\r\nI want my android app to successfully authenticate via Facebook or Google through Keycloak. Any suggestions, please?","title":"Android authentication on Keycloak with identity providers like Google and Facebook","body":"<p>I am creating a native android application and I am using keycloak authentication, because my web app and my API is already configured with keycloak. I setup Facebook and Google as identity providers for keycloak but now I don't know how I am supposed to configure it in the Android application.</p>\n\n<p>For the general authentication I am using retrofit with rest calls to get the token and after that I am storing the token in Android Account manager.</p>\n\n<p>I want my android app to successfully authenticate via Facebook or Google through Keycloak. Any suggestions, please?</p>\n"},{"tags":["java","maven","quarkus","sample"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1623850432,"post_id":68003013,"comment_id":120195410,"body_markdown":"If the json is actually HTML, it may be an error response from the repository server. Can you check? Or even remove files from your local repository to force Maven to download again - e.g. `rm -rf ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/`","body":"If the json is actually HTML, it may be an error response from the repository server. Can you check? Or even remove files from your local repository to force Maven to download again - e.g. <code>rm -rf ~&#47;.m2&#47;repository&#47;io&#47;quarkus&#47;quarkus-universe-bom-quarkus-pla&zwnj;&#8203;tform-descriptor&#47;</code>"},{"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"score":0,"creation_date":1623851275,"post_id":68003013,"comment_id":120195853,"body_markdown":"Hi Nikos, thanks for jumping in so quickly!","body":"Hi Nikos, thanks for jumping in so quickly!"},{"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"score":0,"creation_date":1623851351,"post_id":68003013,"comment_id":120195894,"body_markdown":"- deleted the faulty local repo","body":"- deleted the faulty local repo"},{"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"score":0,"creation_date":1623851406,"post_id":68003013,"comment_id":120195919,"body_markdown":"- modified my ~/.m2/settings.xml so that it contains the maven central repo","body":"- modified my ~/.m2/settings.xml so that it contains the maven central repo"},{"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"score":0,"creation_date":1623851783,"post_id":68003013,"comment_id":120196126,"body_markdown":"same error while the faulty file was directly downloaded from central mirror.","body":"same error while the faulty file was directly downloaded from central mirror."},{"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"score":0,"creation_date":1623851835,"post_id":68003013,"comment_id":120196147,"body_markdown":"the io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json checksum is invalid at download...","body":"the io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/&zwnj;&#8203;1.13.7.Final/quarkus&zwnj;&#8203;-universe-bom-quarku&zwnj;&#8203;s-platform-descripto&zwnj;&#8203;r-1.13.7.Final-1.13.&zwnj;&#8203;7.Final.json checksum is invalid at download..."}],"answers":[{"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1623880111,"post_id":68005611,"comment_id":120207089,"body_markdown":"If you can verify indeed that any of the checksum files in [here](https://repo1.maven.org/maven2/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/) is wrong, maybe report it to the Quarkus team?","body":"If you can verify indeed that any of the checksum files in <a href=\"https://repo1.maven.org/maven2/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/\" rel=\"nofollow noreferrer\">here</a> is wrong, maybe report it to the Quarkus team?"}],"tags":[],"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623856899,"creation_date":1623856899,"answer_id":68005611,"question_id":68003013,"body_markdown":"Changing my `~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json` with the content of [The expected json descriptor from here](https://repo1.maven.org/maven2/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json) solved the issue.\r\n\r\nHere is the expected result:\r\n\r\n```\r\nUser@-bash - createProject - 15:46:04 $ mvn io.quarkus:quarkus-maven-plugin:1.13.7.Final:create -DprojectGroupId=org.acme -DprojectArtifactId=getting-started -DclassName=&quot;org.acme.getting.started.GreetingResource&quot; -Dpath=&quot;/hello&quot;\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\r\n[INFO] Building Maven Stub Project (No POM) 1\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO] \r\n[INFO] --- quarkus-maven-plugin:1.13.7.Final:create (default-cli) @ standalone-pom ---\r\n-----------\r\n\r\napplying codestarts...\r\n&#128288; java\r\n&#129520; maven\r\n&#128451; quarkus\r\n&#128220; config-properties\r\n&#128736; dockerfiles\r\n&#128736; maven-wrapper\r\n&#128018; resteasy-example\r\n\r\n-----------\r\n[SUCCESS] ✅ quarkus project has been successfully generated in:\r\n--&gt; /Users/User/work/quarkus/test/createProject/getting-started\r\n-----------\r\n[INFO] \r\n[INFO] ========================================================================================\r\n[INFO] Your new application has been created in /Users/User/work/quarkus/test/createProject/getting-started\r\n[INFO] Navigate into this directory and launch your application with mvn quarkus:dev\r\n[INFO] Your application will be accessible on http://localhost:8080\r\n[INFO] ========================================================================================\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.060 s\r\n[INFO] Finished at: 2021-06-16T17:16:26+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\n```\r\n\r\nI do not know BTW where to report the maven central invalid download checksum for this file.","title":"quarkus maven plugin fails to create a project","body":"<p>Changing my <code>~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json</code> with the content of <a href=\"https://repo1.maven.org/maven2/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json\" rel=\"nofollow noreferrer\">The expected json descriptor from here</a> solved the issue.</p>\n<p>Here is the expected result:</p>\n<pre><code>User@-bash - createProject - 15:46:04 $ mvn io.quarkus:quarkus-maven-plugin:1.13.7.Final:create -DprojectGroupId=org.acme -DprojectArtifactId=getting-started -DclassName=&quot;org.acme.getting.started.GreetingResource&quot; -Dpath=&quot;/hello&quot;\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- quarkus-maven-plugin:1.13.7.Final:create (default-cli) @ standalone-pom ---\n-----------\n\napplying codestarts...\n🔠 java\n🧰 maven\n🗃 quarkus\n📜 config-properties\n🛠 dockerfiles\n🛠 maven-wrapper\n🐒 resteasy-example\n\n-----------\n[SUCCESS] ✅ quarkus project has been successfully generated in:\n--&gt; /Users/User/work/quarkus/test/createProject/getting-started\n-----------\n[INFO] \n[INFO] ========================================================================================\n[INFO] Your new application has been created in /Users/User/work/quarkus/test/createProject/getting-started\n[INFO] Navigate into this directory and launch your application with mvn quarkus:dev\n[INFO] Your application will be accessible on http://localhost:8080\n[INFO] ========================================================================================\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.060 s\n[INFO] Finished at: 2021-06-16T17:16:26+02:00\n[INFO] ------------------------------------------------------------------------\n\n</code></pre>\n<p>I do not know BTW where to report the maven central invalid download checksum for this file.</p>\n"}],"owner":{"account_id":2367166,"reputation":21,"user_id":2072654,"display_name":"bob"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2044,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688571058,"creation_date":1623847808,"question_id":68003013,"body_markdown":"Trying to create a quarkus project from scratch with the command: \r\n```\r\nmvn io.quarkus:quarkus-maven-plugin:1.13.7.Final:create -DprojectGroupId=org.acme -DprojectArtifactId=getting-started -DclassName=&quot;org.acme.getting.started.GreetingResource&quot; -Dpath=&quot;/hello&quot;\r\n```\r\nas described in the [Bootstrapping a quarkus project page](https://quarkus.io/guides/getting-started#bootstrapping-the-project)\r\nfails with the below error:\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\r\n[INFO] Building Maven Stub Project (No POM) 1\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[INFO] \r\n[INFO] --- quarkus-maven-plugin:1.13.7.Final:create (default-cli) @ standalone-pom ---\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  1.692 s\r\n[INFO] Finished at: 2021-06-16T14:23:09+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n[ERROR]  at [Source: (BufferedReader); line: 1, column: 2]\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n```\r\nRunning the maven debug option (-X) reveals a probably erroneous .m2 repository resource:\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  9.028 s\r\n[INFO] Finished at: 2021-06-16T14:10:23+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json: Unexpected character (&#39;&lt;&#39; (code 60)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n[ERROR]  at [Source: (BufferedReader); line: 1, column: 2]\r\n[ERROR] -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\r\n```\r\n\r\nLooking further at the faulty resource `~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json`, it appears that the expected `.json` file is `html`formatted...\r\n\r\nAlso, my maven version is compatible with the quarkus requirements: \r\n\r\n```\r\nUser@-bash - createProject - 14:23:09 $ mvn --version\r\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\r\nMaven home: /usr/local/Cellar/maven/3.8.1/libexec\r\nJava version: 11.0.11, vendor: GraalVM Community, runtime: /Library/Java/JavaVirtualMachines/graalvm-ce-java11-21.1.0/Contents/Home\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;mac os x&quot;, version: &quot;11.4&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n\r\n```\r\nand my local .m2 repository contains all the necessary quarkus dependencies.\r\n- did someone already experienced such an issue ?\r\n- any hint on how to solve this ? (cannot believe that the maven central repository contains an erroneous resource)\r\n\r\nCheers !","title":"quarkus maven plugin fails to create a project","body":"<p>Trying to create a quarkus project from scratch with the command:</p>\n<pre><code>mvn io.quarkus:quarkus-maven-plugin:1.13.7.Final:create -DprojectGroupId=org.acme -DprojectArtifactId=getting-started -DclassName=&quot;org.acme.getting.started.GreetingResource&quot; -Dpath=&quot;/hello&quot;\n</code></pre>\n<p>as described in the <a href=\"https://quarkus.io/guides/getting-started#bootstrapping-the-project\" rel=\"nofollow noreferrer\">Bootstrapping a quarkus project page</a>\nfails with the below error:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- quarkus-maven-plugin:1.13.7.Final:create (default-cli) @ standalone-pom ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.692 s\n[INFO] Finished at: 2021-06-16T14:23:09+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json: Unexpected character ('&lt;' (code 60)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n[ERROR]  at [Source: (BufferedReader); line: 1, column: 2]\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n</code></pre>\n<p>Running the maven debug option (-X) reveals a probably erroneous .m2 repository resource:</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  9.028 s\n[INFO] Finished at: 2021-06-16T14:10:23+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json: Unexpected character ('&lt;' (code 60)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n[ERROR]  at [Source: (BufferedReader); line: 1, column: 2]\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create (default-cli) on project standalone-pom: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-cli of goal io.quarkus:quarkus-maven-plugin:1.13.7.Final:create failed: Failed to deserialize extension catalog ~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\n</code></pre>\n<p>Looking further at the faulty resource <code>~/.m2/repository/io/quarkus/quarkus-universe-bom-quarkus-platform-descriptor/1.13.7.Final/quarkus-universe-bom-quarkus-platform-descriptor-1.13.7.Final-1.13.7.Final.json</code>, it appears that the expected <code>.json</code> file is <code>html</code>formatted...</p>\n<p>Also, my maven version is compatible with the quarkus requirements:</p>\n<pre><code>User@-bash - createProject - 14:23:09 $ mvn --version\nApache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)\nMaven home: /usr/local/Cellar/maven/3.8.1/libexec\nJava version: 11.0.11, vendor: GraalVM Community, runtime: /Library/Java/JavaVirtualMachines/graalvm-ce-java11-21.1.0/Contents/Home\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;11.4&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n\n</code></pre>\n<p>and my local .m2 repository contains all the necessary quarkus dependencies.</p>\n<ul>\n<li>did someone already experienced such an issue ?</li>\n<li>any hint on how to solve this ? (cannot believe that the maven central repository contains an erroneous resource)</li>\n</ul>\n<p>Cheers !</p>\n"},{"tags":["java","system","environment"],"answers":[{"comments":[{"owner":{"account_id":28924102,"reputation":3,"user_id":22154369,"display_name":"RU NA"},"score":0,"creation_date":1688118249,"post_id":76587697,"comment_id":135033988,"body_markdown":"Thank you for the kind example! It&#39;s very useful.","body":"Thank you for the kind example! It&#39;s very useful."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688119406,"post_id":76587697,"comment_id":135034232,"body_markdown":"Cool. Thanks for feedback.","body":"Cool. Thanks for feedback."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688117526,"creation_date":1688117526,"answer_id":76587697,"question_id":76587571,"body_markdown":"&gt; Is any another better way?\r\n\r\nI would do it with `ProcessBuilder` instead of `Runtime`. It has more configurable options and you can add your environment variables to a map instead of building a String. You can even manipulate the inherited variables. Like this:\r\n```\r\nProcessBuilder pb =\r\n   new ProcessBuilder(&quot;myCommand&quot;, &quot;myArg1&quot;, &quot;myArg2&quot;);\r\n Map&lt;String, String&gt; env = pb.environment();\r\n env.put(&quot;VAR1&quot;, &quot;myValue&quot;);\r\n env.remove(&quot;OTHERVAR&quot;);\r\n env.put(&quot;VAR2&quot;, env.get(&quot;VAR1&quot;) + &quot;suffix&quot;);\r\n Process p = pb.start();\r\n```","title":"The way to pass system environment variables to child process in java","body":"<blockquote>\n<p>Is any another better way?</p>\n</blockquote>\n<p>I would do it with <code>ProcessBuilder</code> instead of <code>Runtime</code>. It has more configurable options and you can add your environment variables to a map instead of building a String. You can even manipulate the inherited variables. Like this:</p>\n<pre><code>ProcessBuilder pb =\n   new ProcessBuilder(&quot;myCommand&quot;, &quot;myArg1&quot;, &quot;myArg2&quot;);\n Map&lt;String, String&gt; env = pb.environment();\n env.put(&quot;VAR1&quot;, &quot;myValue&quot;);\n env.remove(&quot;OTHERVAR&quot;);\n env.put(&quot;VAR2&quot;, env.get(&quot;VAR1&quot;) + &quot;suffix&quot;);\n Process p = pb.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14838134,"reputation":1,"user_id":10715592,"display_name":"Sujata R"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688570989,"creation_date":1688363796,"answer_id":76602150,"question_id":76587571,"body_markdown":"\r\n Here a concise summary of the alternative approach using ProcessBuilder-\r\n\r\nInstead of using `Runtime.exec(cmd, envp)`, you can use `ProcessBuilder` to execute\r\nthe child process with both the parent&#39;s environment variables and additional\r\nenvironment variables:\r\n\r\n```java\r\nProcessBuilder processBuilder = new ProcessBuilder(&quot;my&quot;, &quot;java&quot;, &quot;command&quot;, &quot;array&quot;, &quot;for&quot;, &quot;child&quot;, &quot;process&quot;);\r\nMap&lt;String, String&gt; environment = processBuilder.environment();\r\nenvironment.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\r\nenvironment.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\r\nProcess process = processBuilder.start();\r\n```\r\n\r\nWith `ProcessBuilder`, you construct the command and arguments for the child process.\r\nThe `environment()` method retrieves the environment variable map, which initially \r\ncontains the parent&#39;s environment. You can then add additional environment \r\nvariables using the `put()` method. Finally, calling `start()` executes the \r\nchild process with the combined environment variables.\r\n\r\nUsing `ProcessBuilder` offers more flexibility and control over process execution \r\ncompared to `Runtime.exec()`, allowing you to manage input/output streams and error\r\nhandling more easily.","title":"The way to pass system environment variables to child process in java","body":"<p>Here a concise summary of the alternative approach using ProcessBuilder-</p>\n<p>Instead of using <code>Runtime.exec(cmd, envp)</code>, you can use <code>ProcessBuilder</code> to execute\nthe child process with both the parent's environment variables and additional\nenvironment variables:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProcessBuilder processBuilder = new ProcessBuilder(&quot;my&quot;, &quot;java&quot;, &quot;command&quot;, &quot;array&quot;, &quot;for&quot;, &quot;child&quot;, &quot;process&quot;);\nMap&lt;String, String&gt; environment = processBuilder.environment();\nenvironment.put(&quot;KEY1&quot;, &quot;VALUE1&quot;);\nenvironment.put(&quot;KEY2&quot;, &quot;VALUE2&quot;);\nProcess process = processBuilder.start();\n</code></pre>\n<p>With <code>ProcessBuilder</code>, you construct the command and arguments for the child process.\nThe <code>environment()</code> method retrieves the environment variable map, which initially\ncontains the parent's environment. You can then add additional environment\nvariables using the <code>put()</code> method. Finally, calling <code>start()</code> executes the\nchild process with the combined environment variables.</p>\n<p>Using <code>ProcessBuilder</code> offers more flexibility and control over process execution\ncompared to <code>Runtime.exec()</code>, allowing you to manage input/output streams and error\nhandling more easily.</p>\n"}],"owner":{"account_id":28924102,"reputation":3,"user_id":22154369,"display_name":"RU NA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76587697,"answer_count":2,"score":0,"last_activity_date":1688570989,"creation_date":1688116445,"question_id":76587571,"body_markdown":"I want to create child process in JAVA, and I wantthis process to have parent&#39;s env variables and some new envariables all.\r\n\r\nIn my knowledge, If I use Runtime.exec(cmd, null), then child process just inherits parent&#39;s env.\r\nAnd If I user Runtime.exec(cmd, new String[]), then child process has only env that I assigend.\r\n\r\nBut I want my child process to have parent&#39;s env and new env variables all...\r\n\r\nSo, I thought this java code is the only way to achieve my goal...\r\n\r\n\r\n```\r\n        Map&lt;String, String&gt; env = System.getenv();\r\n        String[] envp = new String[100];\r\n        int idx = 0;\r\n        for (Map.Entry&lt;String, String&gt; entry : env.entrySet()) {\r\n            String envKey = entry.getKey();\r\n            String envValue = entry.getValue();\r\n            envp[idx++] = envKey + &quot;=&quot; + envValue;\r\n        }\r\n        String cmd = &quot;my java command array for child process...&quot;;\r\n        String newEnv = key + &quot;=&quot; + value;\r\n        envp[idx] = newEnv;\r\n        Runtime runtime = Runtime.getRuntime();\r\n        runtime.exec(cmd, envp);\r\n```\r\nIs any another better way? or is this code not good?\r\n\r\nThis is my first asking and sorry if this asking is difficult to understand because my english skill is very bad...\r\n\r\nThank you\r\n\r\n\r\nI searched many posts and one way I found was like this...\r\n```\r\nMap&lt;String, String&gt; env = System.getenv();\r\nField field = env.getClass().getDeclaredField(&quot;m&quot;);\r\nfield.setAccessible(true);\r\n((Map&lt;String, String&gt;) field.get(env)).put(name, val);\r\n```\r\nBut I don&#39;t like to modify unmodifiable Collection.","title":"The way to pass system environment variables to child process in java","body":"<p>I want to create child process in JAVA, and I wantthis process to have parent's env variables and some new envariables all.</p>\n<p>In my knowledge, If I use Runtime.exec(cmd, null), then child process just inherits parent's env.\nAnd If I user Runtime.exec(cmd, new String[]), then child process has only env that I assigend.</p>\n<p>But I want my child process to have parent's env and new env variables all...</p>\n<p>So, I thought this java code is the only way to achieve my goal...</p>\n<pre><code>        Map&lt;String, String&gt; env = System.getenv();\n        String[] envp = new String[100];\n        int idx = 0;\n        for (Map.Entry&lt;String, String&gt; entry : env.entrySet()) {\n            String envKey = entry.getKey();\n            String envValue = entry.getValue();\n            envp[idx++] = envKey + &quot;=&quot; + envValue;\n        }\n        String cmd = &quot;my java command array for child process...&quot;;\n        String newEnv = key + &quot;=&quot; + value;\n        envp[idx] = newEnv;\n        Runtime runtime = Runtime.getRuntime();\n        runtime.exec(cmd, envp);\n</code></pre>\n<p>Is any another better way? or is this code not good?</p>\n<p>This is my first asking and sorry if this asking is difficult to understand because my english skill is very bad...</p>\n<p>Thank you</p>\n<p>I searched many posts and one way I found was like this...</p>\n<pre><code>Map&lt;String, String&gt; env = System.getenv();\nField field = env.getClass().getDeclaredField(&quot;m&quot;);\nfield.setAccessible(true);\n((Map&lt;String, String&gt;) field.get(env)).put(name, val);\n</code></pre>\n<p>But I don't like to modify unmodifiable Collection.</p>\n"},{"tags":["java","xml","xpath"],"comments":[{"owner":{"account_id":2345160,"reputation":451,"user_id":2055624,"accept_rate":73,"display_name":"nap.gab"},"score":0,"creation_date":1369308005,"post_id":16712391,"comment_id":24058972,"body_markdown":"Post all your method if you want help...","body":"Post all your method if you want help..."},{"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"score":0,"creation_date":1369308067,"post_id":16712391,"comment_id":24059006,"body_markdown":"Don&#39;t expect to get much help by sharing just one line of code.","body":"Don&#39;t expect to get much help by sharing just one line of code."}],"answers":[{"comments":[{"owner":{"account_id":2701017,"reputation":1642,"user_id":2331746,"accept_rate":98,"display_name":"Waqas Ali"},"score":0,"creation_date":1369309070,"post_id":16712849,"comment_id":24059607,"body_markdown":"so if i have many nodes then i have to create source for each of them? is there any better solution?","body":"so if i have many nodes then i have to create source for each of them? is there any better solution?"},{"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"score":0,"creation_date":1369309640,"post_id":16712849,"comment_id":24059930,"body_markdown":"Use a `DocumentBuilderFactory` to build a `Document` (part of JAXP DOM APIs) that can be reused across multiple Xpath evaluations.","body":"Use a <code>DocumentBuilderFactory</code> to build a <code>Document</code> (part of JAXP DOM APIs) that can be reused across multiple Xpath evaluations."}],"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"comment_count":2,"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1688570876,"creation_date":1369308790,"answer_id":16712849,"question_id":16712391,"body_markdown":"You can&#39;t reuse the same `InputSource` for multiple `evaluate()` invocations because it&#39;s automatically closed. Hence you&#39;re getting the `Stream closed` IO exception. Try this\r\n```java\r\nInputSource source1 = new InputSource(new StringReader(xml));\r\nInputSource source2 = new InputSource(new StringReader(xml));\r\n\r\nString msg = xpath.evaluate(&quot;/resp/msg&quot;, source1);\r\nString status = xpath.evaluate(&quot;/resp/status&quot;, source2);\r\n\r\nSystem.out.println(&quot;msg=&quot; + msg + &quot;;&quot; + &quot;status=&quot; + status);\r\n```\r\n***EDIT:***&lt;br /&gt;\r\nA better approach would be to use a `DocumentBuilderFactory` to parse your XML and build a `Document` first (using JAXP&#39;s DOM APIs) which can then be reused across several XPath evaluations.\r\n```java\r\nString xml = &quot;&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;&quot;;\r\n\t\t\r\nInputSource source = new InputSource(new StringReader(xml));\r\n\r\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\nDocumentBuilder db = dbf.newDocumentBuilder();\r\nDocument document = db.parse(source);\r\n\t\t\r\nXPathFactory xpathFactory = XPathFactory.newInstance();\r\nXPath xpath = xpathFactory.newXPath();\r\n\r\nString msg = xpath.evaluate(&quot;/resp/msg&quot;, document);\r\nString status = xpath.evaluate(&quot;/resp/status&quot;, document);\r\n\r\nSystem.out.println(&quot;msg=&quot; + msg + &quot;;&quot; + &quot;status=&quot; + status);\r\n```","title":"Parse XML Simple String using Java XPath","body":"<p>You can't reuse the same <code>InputSource</code> for multiple <code>evaluate()</code> invocations because it's automatically closed. Hence you're getting the <code>Stream closed</code> IO exception. Try this</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputSource source1 = new InputSource(new StringReader(xml));\nInputSource source2 = new InputSource(new StringReader(xml));\n\nString msg = xpath.evaluate(&quot;/resp/msg&quot;, source1);\nString status = xpath.evaluate(&quot;/resp/status&quot;, source2);\n\nSystem.out.println(&quot;msg=&quot; + msg + &quot;;&quot; + &quot;status=&quot; + status);\n</code></pre>\n<p><em><strong>EDIT:</strong></em><br />\nA better approach would be to use a <code>DocumentBuilderFactory</code> to parse your XML and build a <code>Document</code> first (using JAXP's DOM APIs) which can then be reused across several XPath evaluations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String xml = &quot;&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;&quot;;\n        \nInputSource source = new InputSource(new StringReader(xml));\n\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\nDocumentBuilder db = dbf.newDocumentBuilder();\nDocument document = db.parse(source);\n        \nXPathFactory xpathFactory = XPathFactory.newInstance();\nXPath xpath = xpathFactory.newXPath();\n\nString msg = xpath.evaluate(&quot;/resp/msg&quot;, document);\nString status = xpath.evaluate(&quot;/resp/status&quot;, document);\n\nSystem.out.println(&quot;msg=&quot; + msg + &quot;;&quot; + &quot;status=&quot; + status);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3092409,"reputation":2696,"user_id":2618275,"accept_rate":89,"display_name":"Paul Alexander"},"score":2,"creation_date":1396265177,"post_id":16714178,"comment_id":34696126,"body_markdown":"out of interest, if the XML string was &lt;status&gt;good, ok&lt;/status&gt; is there anyway of just selecting the first word in the string before the comma? or just selecting the word after the comma?","body":"out of interest, if the XML string was &lt;status&gt;good, ok&lt;/status&gt; is there anyway of just selecting the first word in the string before the comma? or just selecting the word after the comma?"},{"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1396352556,"post_id":16714178,"comment_id":34739946,"body_markdown":"@brookman Not with Java&#39;s XPath support. You might be able to with XPath 2 - see the Saxon API.","body":"@brookman Not with Java&#39;s XPath support. You might be able to with XPath 2 - see the Saxon API."}],"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1369312742,"creation_date":1369312742,"answer_id":16714178,"question_id":16712391,"body_markdown":"[Ravi&#39;s solution][1] can also be expressed as:\r\n\r\n    String xml = &quot;&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;&quot;;\r\n\r\n    XPathFactory xpathFactory = XPathFactory.newInstance();\r\n    XPath xpath = xpathFactory.newXPath();\r\n\r\n    InputSource source = new InputSource(new StringReader(xml));\r\n    Document doc = (Document) xpath.evaluate(&quot;/&quot;, source, XPathConstants.NODE);\r\n    String status = xpath.evaluate(&quot;/resp/status&quot;, doc);\r\n    String msg = xpath.evaluate(&quot;/resp/msg&quot;, doc);\r\n\r\n    System.out.println(&quot;status=&quot; + status);\r\n    System.out.println(&quot;Message=&quot; + msg);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16712849/304","title":"Parse XML Simple String using Java XPath","body":"<p><a href=\"https://stackoverflow.com/a/16712849/304\">Ravi's solution</a> can also be expressed as:</p>\n\n<pre><code>String xml = \"&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;\";\n\nXPathFactory xpathFactory = XPathFactory.newInstance();\nXPath xpath = xpathFactory.newXPath();\n\nInputSource source = new InputSource(new StringReader(xml));\nDocument doc = (Document) xpath.evaluate(\"/\", source, XPathConstants.NODE);\nString status = xpath.evaluate(\"/resp/status\", doc);\nString msg = xpath.evaluate(\"/resp/msg\", doc);\n\nSystem.out.println(\"status=\" + status);\nSystem.out.println(\"Message=\" + msg);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":460380,"reputation":2425,"user_id":861423,"accept_rate":83,"display_name":"Alexey Grigorev"},"score":0,"creation_date":1426759571,"post_id":19481412,"comment_id":46506824,"body_markdown":"This library is very nice, but what I don&#39;t like is that it brings aspectj with it - which I don&#39;t think is really necessary","body":"This library is very nice, but what I don&#39;t like is that it brings aspectj with it - which I don&#39;t think is really necessary"},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":0,"creation_date":1426793559,"post_id":19481412,"comment_id":46527981,"body_markdown":"Yeah, we&#39;re planning to get rid of that very soon","body":"Yeah, we&#39;re planning to get rid of that very soon"},{"owner":{"account_id":460380,"reputation":2425,"user_id":861423,"accept_rate":83,"display_name":"Alexey Grigorev"},"score":0,"creation_date":1426800743,"post_id":19481412,"comment_id":46531559,"body_markdown":"that would be very nice! any RSS I can subscribe for to keep myself up-to-date?","body":"that would be very nice! any RSS I can subscribe for to keep myself up-to-date?"},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":1,"creation_date":1426880738,"post_id":19481412,"comment_id":46567121,"body_markdown":"@AlexeyGrigorev follow/watch this ticket: https://github.com/jcabi/jcabi-xml/issues/61","body":"@AlexeyGrigorev follow/watch this ticket: <a href=\"https://github.com/jcabi/jcabi-xml/issues/61\" rel=\"nofollow noreferrer\">github.com/jcabi/jcabi-xml/issues/61</a>"}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1424104683,"creation_date":1382295067,"answer_id":19481412,"question_id":16712391,"body_markdown":"You can try [`jcabi-xml`](http://xml.jcabi.com/), which does DOM manipulations behind the scene:\r\n\r\n    import com.jcabi.xml.XML;\r\n    import com.jcabi.xml.XMLDocument;\r\n    XML xml = new XMLDocument(&quot;&lt;resp&gt;...&lt;/resp&gt;&quot;);\r\n    String status = xml.xpath(&quot;/resp/status/text()&quot;).get(0);","title":"Parse XML Simple String using Java XPath","body":"<p>You can try <a href=\"http://xml.jcabi.com/\" rel=\"noreferrer\"><code>jcabi-xml</code></a>, which does DOM manipulations behind the scene:</p>\n\n<pre><code>import com.jcabi.xml.XML;\nimport com.jcabi.xml.XMLDocument;\nXML xml = new XMLDocument(\"&lt;resp&gt;...&lt;/resp&gt;\");\nString status = xml.xpath(\"/resp/status/text()\").get(0);\n</code></pre>\n"}],"owner":{"account_id":2701017,"reputation":1642,"user_id":2331746,"accept_rate":98,"display_name":"Waqas Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81638,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":16712849,"answer_count":3,"score":38,"last_activity_date":1688570876,"creation_date":1369307381,"question_id":16712391,"body_markdown":"I have XML String like this \r\n\r\n    &lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;\r\n\r\nI follow this help\r\n\r\nhttps://stackoverflow.com/questions/807418/simplest-way-to-query-xml-in-java\r\n\r\nMyCode:\r\n\r\n    public static void main(String args[]) {\r\n\t\r\n\t\tString xml = &quot;&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;&quot;;\r\n\r\n\t\tXPathFactory xpathFactory = XPathFactory.newInstance();\r\n\t\tXPath xpath = xpathFactory.newXPath();\r\n\r\n\t\tInputSource source = new InputSource(new StringReader(xml));\r\n\t\t\r\n\t\tString status = &quot;&quot;;\r\n\t\tString msg = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tstatus = (String) xpath.evaluate(&quot;/resp/status&quot;, source,XPathConstants.STRING);\r\n\t\t\tmsg = (String) xpath.evaluate(&quot;/resp/msg&quot;, source,XPathConstants.STRING);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;status=&quot; + status);\r\n\t\tSystem.out.println(&quot;Message=&quot; + msg);\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\nI want to get msg node value but i got exception \r\n\r\n\r\n    java.io.IOException: Stream closed\r\n\tat java.io.StringReader.ensureOpen(StringReader.java:39)\r\n\tat java.io.StringReader.read(StringReader.java:73)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1742)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.arrangeCapacity(XMLEntityScanner.java:1619)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipString(XMLEntityScanner.java:1657)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:193)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\r\n\tat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:225)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:283)\r\n\tat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:468)\r\n\tat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:515)\r\n\tat Parsing.main(Parsing.java:25)--------------- linked to ------------------\r\n    javax.xml.xpath.XPathExpressionException\r\n\tat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:475)\r\n\tat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:515)\r\n\tat Parsing.main(Parsing.java:25)\r\n    Caused by: java.io.IOException: Stream closed\r\n\tat java.io.StringReader.ensureOpen(StringReader.java:39)\r\n\tat java.io.StringReader.read(StringReader.java:73)\r\n\tat     com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1742)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.arrangeCapacity(XMLEntityScanner.java:1619)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipString(XMLEntityScanner.java:1657)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:193)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\r\n\tat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:225)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:283)\r\n\tat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:468)\r\n\t... 2 more\r\n\r\nI am not going to use some external library for this simple task. please guide me how to get other node&#39;s values. \r\nThanks","title":"Parse XML Simple String using Java XPath","body":"<p>I have XML String like this </p>\n\n<pre><code>&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;\n</code></pre>\n\n<p>I follow this help</p>\n\n<p><a href=\"https://stackoverflow.com/questions/807418/simplest-way-to-query-xml-in-java\">Simplest way to query XML in Java</a></p>\n\n<p>MyCode:</p>\n\n<pre><code>public static void main(String args[]) {\n\n    String xml = \"&lt;resp&gt;&lt;status&gt;good&lt;/status&gt;&lt;msg&gt;hi&lt;/msg&gt;&lt;/resp&gt;\";\n\n    XPathFactory xpathFactory = XPathFactory.newInstance();\n    XPath xpath = xpathFactory.newXPath();\n\n    InputSource source = new InputSource(new StringReader(xml));\n\n    String status = \"\";\n    String msg = \"\";\n    try {\n        status = (String) xpath.evaluate(\"/resp/status\", source,XPathConstants.STRING);\n        msg = (String) xpath.evaluate(\"/resp/msg\", source,XPathConstants.STRING);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    System.out.println(\"status=\" + status);\n    System.out.println(\"Message=\" + msg);\n\n\n}\n</code></pre>\n\n<p>I want to get msg node value but i got exception </p>\n\n<pre><code>java.io.IOException: Stream closed\nat java.io.StringReader.ensureOpen(StringReader.java:39)\nat java.io.StringReader.read(StringReader.java:73)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1742)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.arrangeCapacity(XMLEntityScanner.java:1619)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipString(XMLEntityScanner.java:1657)\nat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:193)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\nat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:225)\nat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:283)\nat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:468)\nat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:515)\nat Parsing.main(Parsing.java:25)--------------- linked to ------------------\njavax.xml.xpath.XPathExpressionException\nat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:475)\nat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:515)\nat Parsing.main(Parsing.java:25)\nCaused by: java.io.IOException: Stream closed\nat java.io.StringReader.ensureOpen(StringReader.java:39)\nat java.io.StringReader.read(StringReader.java:73)\nat     com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(XMLEntityScanner.java:1742)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.arrangeCapacity(XMLEntityScanner.java:1619)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.skipString(XMLEntityScanner.java:1657)\nat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:193)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:771)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\nat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:225)\nat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:283)\nat com.sun.org.apache.xpath.internal.jaxp.XPathImpl.evaluate(XPathImpl.java:468)\n... 2 more\n</code></pre>\n\n<p>I am not going to use some external library for this simple task. please guide me how to get other node's values. \nThanks</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","publish-subscribe"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1688574881,"post_id":76621128,"comment_id":135092967,"body_markdown":"You can use Kafka for downstream but I would rather put it before your component. Currently, You want a REST API that works like a query. I can imagine every vendor sends price information into Kafka, and you read and save them.","body":"You can use Kafka for downstream but I would rather put it before your component. Currently, You want a REST API that works like a query. I can imagine every vendor sends price information into Kafka, and you read and save them."}],"owner":{"account_id":2872559,"reputation":79,"user_id":2465532,"display_name":"ss-ss-v1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688570673,"creation_date":1688565763,"question_id":76621128,"body_markdown":"I am working upon one e-commerce Spring boot app with spring integration, spring web.\r\n\r\nmy requirement is to develop the Spring App which is sort of e-commerce app but I am not able to find good reference to build this.\r\n\r\nmy requirement is below:\r\n\r\n\r\n**A number of vendors provide price information for product; a product will have different prices from different vendors. Price data from each vendor is to be cached in a local data store(mysql) and then distributed to interested downstream systems. The cache will have services to allow clients to publish and retrieve data from the store. Clients are interested in getting all prices from a particular vendor or prices for a single product from various vendors. Prices older than 30 days must be removed from the cache**\r\n\r\n\r\nI want to use **Spring boot(or spring integration)** with **caching** along with **pub-sub** mechanism in it with **Kafka**.\r\n\r\nhow can I develop such an App, any leads or reference would be highly appreciated.\r\n\r\n-Thanks","title":"Could not build Spring boot app with cache and pub sub with Kafka","body":"<p>I am working upon one e-commerce Spring boot app with spring integration, spring web.</p>\n<p>my requirement is to develop the Spring App which is sort of e-commerce app but I am not able to find good reference to build this.</p>\n<p>my requirement is below:</p>\n<p><strong>A number of vendors provide price information for product; a product will have different prices from different vendors. Price data from each vendor is to be cached in a local data store(mysql) and then distributed to interested downstream systems. The cache will have services to allow clients to publish and retrieve data from the store. Clients are interested in getting all prices from a particular vendor or prices for a single product from various vendors. Prices older than 30 days must be removed from the cache</strong></p>\n<p>I want to use <strong>Spring boot(or spring integration)</strong> with <strong>caching</strong> along with <strong>pub-sub</strong> mechanism in it with <strong>Kafka</strong>.</p>\n<p>how can I develop such an App, any leads or reference would be highly appreciated.</p>\n<p>-Thanks</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1688666747,"post_id":76621794,"comment_id":135108008,"body_markdown":"If this answers your question, feel free to accept the answer using the checkmark next to the post","body":"If this answers your question, feel free to accept the answer using the checkmark next to the post"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688570530,"creation_date":1688570530,"answer_id":76621794,"question_id":76620954,"body_markdown":"Kafka has no capabilities to know about producers sending to any topic. You&#39;d need to integrate external tooling with producer certificate management and/or interceptors to emit/collect data from clients ","title":"Producer and consumer details for a specific kafka topic","body":"<p>Kafka has no capabilities to know about producers sending to any topic. You'd need to integrate external tooling with producer certificate management and/or interceptors to emit/collect data from clients</p>\n"}],"owner":{"account_id":10059571,"reputation":59,"user_id":7436732,"display_name":"Pramod Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688570530,"creation_date":1688564567,"question_id":76620954,"body_markdown":"Want to understand how to get producer details for any specific kafka topic using java","title":"Producer and consumer details for a specific kafka topic","body":"<p>Want to understand how to get producer details for any specific kafka topic using java</p>\n"},{"tags":["java","proxy","grpc","micronaut"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688570453,"creation_date":1688570453,"answer_id":76621784,"question_id":76603634,"body_markdown":"There is [such an example](https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/grpcproxy/GrpcProxy.java) in grpc-java.\r\n\r\nYou are right that the core of it should be to implement a `ServerCallHandler`. You will also need a `MethodDescriptor` and to package them together into a `ServerMethodDefinition`.\r\n\r\nThe example uses a fallback `HandlerRegistry` to proxy all methods, but if you only need static proxying you could create a `ServerServiceDefinition` (essentially a set of `ServerMethodDefinitions` for one service) for each service you want proxied and add it to the `ServerBuilder` as normal: `serverBuilder.addService()`.\r\n\r\nThe rest of the example is gluing the client and server calls together, with proper flow control for streaming RPCs.","title":"Micronaut generic GRPC proxy","body":"<p>There is <a href=\"https://github.com/grpc/grpc-java/blob/master/examples/src/main/java/io/grpc/examples/grpcproxy/GrpcProxy.java\" rel=\"nofollow noreferrer\">such an example</a> in grpc-java.</p>\n<p>You are right that the core of it should be to implement a <code>ServerCallHandler</code>. You will also need a <code>MethodDescriptor</code> and to package them together into a <code>ServerMethodDefinition</code>.</p>\n<p>The example uses a fallback <code>HandlerRegistry</code> to proxy all methods, but if you only need static proxying you could create a <code>ServerServiceDefinition</code> (essentially a set of <code>ServerMethodDefinitions</code> for one service) for each service you want proxied and add it to the <code>ServerBuilder</code> as normal: <code>serverBuilder.addService()</code>.</p>\n<p>The rest of the example is gluing the client and server calls together, with proper flow control for streaming RPCs.</p>\n"}],"owner":{"account_id":20712417,"reputation":136,"user_id":15208738,"display_name":"frblazquez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76621784,"answer_count":1,"score":0,"last_activity_date":1688570453,"creation_date":1688377913,"question_id":76603634,"body_markdown":"In the process of replacing an old legacy service by a new one we want to temporarily forward the requests reaching the new service to the legacy one. For HTTP requests we achieve this with a custom [HttpFilter][1]:\r\n```\r\n@Filter(&quot;/**/legacy-service/**&quot;)\r\npublic class LegacyHttpProxyFilter implements HttpFilter {\r\n\r\n  @Inject\r\n  @Named(&quot;legacy-http-client&quot;)\r\n  private ProxyHttpClient httpClient;\r\n\r\n  @Override\r\n  public Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, FilterChain chain) {\r\n    return httpClient.proxy(request);\r\n  }\r\n}\r\n```\r\nThe analogous approach for GRPC would be something similar to this with a [ServerInterceptor][2]:\r\n```\r\n@Singleton\r\npublic class LegacyGrpcProxyInterceptor implements ServerInterceptor {\r\n\r\n  @Inject\r\n  @Named(&quot;legacy-grpc-client&quot;)\r\n  MyLegacyServiceGrpc.MyLegacyServiceStub legacyServiceStub;\r\n\r\n  @Override\r\n  public &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; call, Metadata headers, ServerCallHandler&lt;ReqT, RespT&gt; next) {\r\n    return null; // How to handle GRPC requests in a generic way?\r\n  }\r\n}\r\n```\r\nThe difference is that with a *ProxyHttpClient* we can forward any HTTP request, while this doesn&#39;t seem to be possible with *MyLegacyServiceStub* GRPC stub. It looks like the right approach is to implement a custom [ServerCallHandler][3] but I don&#39;t really see how, any example would be highly appreciated.\\\r\n\\\r\n**How can I forward any incoming GRPC request?**\r\n\r\n\r\n\r\n  [1]: https://docs.micronaut.io/latest/api/io/micronaut/http/filter/HttpFilter.html\r\n  [2]: https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerInterceptor.html\r\n  [3]: https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerCallHandler.html","title":"Micronaut generic GRPC proxy","body":"<p>In the process of replacing an old legacy service by a new one we want to temporarily forward the requests reaching the new service to the legacy one. For HTTP requests we achieve this with a custom <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/http/filter/HttpFilter.html\" rel=\"nofollow noreferrer\">HttpFilter</a>:</p>\n<pre><code>@Filter(&quot;/**/legacy-service/**&quot;)\npublic class LegacyHttpProxyFilter implements HttpFilter {\n\n  @Inject\n  @Named(&quot;legacy-http-client&quot;)\n  private ProxyHttpClient httpClient;\n\n  @Override\n  public Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, FilterChain chain) {\n    return httpClient.proxy(request);\n  }\n}\n</code></pre>\n<p>The analogous approach for GRPC would be something similar to this with a <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerInterceptor.html\" rel=\"nofollow noreferrer\">ServerInterceptor</a>:</p>\n<pre><code>@Singleton\npublic class LegacyGrpcProxyInterceptor implements ServerInterceptor {\n\n  @Inject\n  @Named(&quot;legacy-grpc-client&quot;)\n  MyLegacyServiceGrpc.MyLegacyServiceStub legacyServiceStub;\n\n  @Override\n  public &lt;ReqT, RespT&gt; ServerCall.Listener&lt;ReqT&gt; interceptCall(ServerCall&lt;ReqT, RespT&gt; call, Metadata headers, ServerCallHandler&lt;ReqT, RespT&gt; next) {\n    return null; // How to handle GRPC requests in a generic way?\n  }\n}\n</code></pre>\n<p>The difference is that with a <em>ProxyHttpClient</em> we can forward any HTTP request, while this doesn't seem to be possible with <em>MyLegacyServiceStub</em> GRPC stub. It looks like the right approach is to implement a custom <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/ServerCallHandler.html\" rel=\"nofollow noreferrer\">ServerCallHandler</a> but I don't really see how, any example would be highly appreciated.<br />\n<br />\n<strong>How can I forward any incoming GRPC request?</strong></p>\n"},{"tags":["java","kotlin","gradle","gradle-plugin","gradle-kotlin-dsl"],"comments":[{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":0,"creation_date":1688565750,"post_id":76618459,"comment_id":135090674,"body_markdown":"Are you wanting to publish this plugin and share it with other projects that are not part of this code base, or are you wanting to use this plugin only among submodules of the same code base? I need to understand a bit more about your goals before I can make a good suggestion.","body":"Are you wanting to publish this plugin and share it with other projects that are not part of this code base, or are you wanting to use this plugin only among submodules of the same code base? I need to understand a bit more about your goals before I can make a good suggestion."},{"owner":{"account_id":3188980,"reputation":1629,"user_id":2782135,"accept_rate":80,"display_name":"Alexander Arutinyants"},"score":0,"creation_date":1688569843,"post_id":76618459,"comment_id":135091729,"body_markdown":"Hi, @GreenSaguaro, thanks for asking, I&#39;m planning to do both, use it from the same code base, and publish it to use in other projects","body":"Hi, @GreenSaguaro, thanks for asking, I&#39;m planning to do both, use it from the same code base, and publish it to use in other projects"},{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":1,"creation_date":1688569976,"post_id":76618459,"comment_id":135091765,"body_markdown":"For disclosure, I have not attempted to do this before, I usually publish a plugin, or use convention files. But you need to do both. One thing I see is that you are doing `apply(plugin = &quot;my-test-plugin&quot;)`. This should not be necessary as `id(&quot;my-test-plugin&quot;)` should already be applying the plugin. What do you get if you remove `apply(plugin = &quot;my-test-plugin&quot;)`?","body":"For disclosure, I have not attempted to do this before, I usually publish a plugin, or use convention files. But you need to do both. One thing I see is that you are doing <code>apply(plugin = &quot;my-test-plugin&quot;)</code>. This should not be necessary as <code>id(&quot;my-test-plugin&quot;)</code> should already be applying the plugin. What do you get if you remove <code>apply(plugin = &quot;my-test-plugin&quot;)</code>?"},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":1,"creation_date":1688574027,"post_id":76618459,"comment_id":135092786,"body_markdown":"Instead of specifying `my-test-plugin` inside of `pluginManagement { plugins {} }` instead add it in the top-level plugins block, i.e. `plugins { id(&quot;my-test-plugin&quot;) }`.","body":"Instead of specifying <code>my-test-plugin</code> inside of <code>pluginManagement { plugins {} }</code> instead add it in the top-level plugins block, i.e. <code>plugins { id(&quot;my-test-plugin&quot;) }</code>."},{"owner":{"account_id":3188980,"reputation":1629,"user_id":2782135,"accept_rate":80,"display_name":"Alexander Arutinyants"},"score":1,"creation_date":1688634150,"post_id":76618459,"comment_id":135100992,"body_markdown":"Thank you @GreenSaguaro! You are absolutely right, I&#39;ve changed it to the `plugins {\n\tid(&quot;eu.sunny.gradle.plugins.my-test-plugin&quot;)\n}` and it&#39;s enough to apply the plugin. Just as for now I&#39;m using a pre-built plugin, `url = uri(&quot;file://${rootProject.projectDir}/sanny-gradle-plugins/build/repo&quot;)`, but I think even this is not needed. Will write the final working solutions later or","body":"Thank you @GreenSaguaro! You are absolutely right, I&#39;ve changed it to the <code>plugins { \tid(&quot;eu.sunny.gradle.plugins.my-test-plugin&quot;) }</code> and it&#39;s enough to apply the plugin. Just as for now I&#39;m using a pre-built plugin, <code>url = uri(&quot;file:&#47;&#47;${rootProject.projectDir}&#47;sanny-gradle-plugins&#47;b&zwnj;&#8203;uild&#47;repo&quot;)</code>, but I think even this is not needed. Will write the final working solutions later or"},{"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"score":0,"creation_date":1688648780,"post_id":76618459,"comment_id":135104276,"body_markdown":"@AlexanderArutinyants So it is correctly applying the plugin when you remove `apply(plugin = &quot;my-test-plugin&quot;)`?","body":"@AlexanderArutinyants So it is correctly applying the plugin when you remove <code>apply(plugin = &quot;my-test-plugin&quot;)</code>?"},{"owner":{"account_id":3188980,"reputation":1629,"user_id":2782135,"accept_rate":80,"display_name":"Alexander Arutinyants"},"score":0,"creation_date":1689318601,"post_id":76618459,"comment_id":135199243,"body_markdown":"Yes, @GreenSaguaro. So far with `plugins { id(&quot;my-test-plugin&quot;) }` and `pluginManagement {\n    includeBuild(&quot;sanny-gradle-plugins&quot;) }` it seems to apply the plugin and work correctly...","body":"Yes, @GreenSaguaro. So far with <code>plugins { id(&quot;my-test-plugin&quot;) }</code> and <code>pluginManagement {     includeBuild(&quot;sanny-gradle-plugins&quot;) }</code> it seems to apply the plugin and work correctly..."}],"owner":{"account_id":3188980,"reputation":1629,"user_id":2782135,"accept_rate":80,"display_name":"Alexander Arutinyants"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688569944,"creation_date":1688545796,"question_id":76618459,"body_markdown":"I have a Gradle 8.1 project named `core` (It&#39;s a library, that will be published and used in other projects)\r\n\r\nInside the project, I have several modules (multi-project)\r\n\r\nOne of the modules is: `sanny-gradle-plugins`. It has a plugin\r\n\r\n`sanny-gradle-plugins`: `eu.sanny.core.gradle.plugins.MyTestPlugin`\r\n\r\n```kotlin\r\nclass MyTestPlugin : Plugin&lt;Settings&gt; {\r\n\toverride fun apply(settings: Settings) {\r\n\t\tprintln(&quot;Hello sanny 1&quot;)\r\n\t\tprintln(&quot;Plugin ${this.javaClass.simpleName} applied on ${settings.rootProject.name}&quot;)\r\n\t\tsettings.gradle.beforeProject {\r\n\t\t\tprintln(&quot;Hello sanny 2&quot;)\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe plugin is intended to be used for the `core` multi-module library itself and later on in other projects that will be dependant on the `core` library\r\n\r\nAnd `sanny-gradle-plugins/build.gradle.kts` file, looks like this:\r\n\r\n\r\n```kotlin\r\nplugins {\r\n\t`kotlin-dsl`\r\n\t`java-gradle-plugin`\r\n\t`maven-publish`\r\n}\r\n\r\ndependencies {\r\n\timplementation(kotlin(&quot;stdlib&quot;))\r\n\timplementation(gradleApi())\r\n}\r\n\r\ngradlePlugin {\r\n\tplugins {\r\n\t\tcreate(&quot;my-test-plugin&quot;) {\r\n\t\t\tid = &quot;my-test-plugin&quot;\r\n\t\t\tdisplayName = &quot;My Test Plugin&quot;\r\n\t\t\timplementationClass = &quot;eu.sanny.core.gradle.plugins.MyTestPlugin&quot;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nAlso I have `resources/META-INF/gradle-plugins/my-test-plugin.properties` file (just in case):\r\n\r\n```\r\nimplementation-class=eu.sanny.core.gradle.plugins.MyTestPlugin\r\n```\r\n\r\nI have a `settings.gradle.kts` file in the parent `core` project:\r\n\r\n```kotlin\r\npluginManagement {\r\n\tincludeBuild(&quot;sanny-gradle-plugins&quot;)\r\n\trepositories {\r\n\t\tmavenLocal()\r\n\t}\r\n\r\n\tplugins {\r\n\t\tval springBootPluginVersion: String by settings\r\n\t\tval kotlinPluginVersion: String by settings\r\n\r\n\t\tid(&quot;my-test-plugin&quot;)\r\n\t\tkotlin(&quot;jvm&quot;) version kotlinPluginVersion\r\n\t\tkotlin(&quot;plugin.spring&quot;) version kotlinPluginVersion\r\n\t\tkotlin(&quot;plugin.jpa&quot;) version kotlinPluginVersion\r\n\t}\r\n\r\n    // when I&#39;m applying the plugin I&#39;m getting an error\r\n\tapply(plugin = &quot;my-test-plugin&quot;)\r\n\r\n...\r\n```\r\n\r\nwhen I build the project I get an error: `Plugin with id &#39;my-test-plugin&#39; not found.`\r\n\r\nI&#39;ve tried to put the `apply(plugin = &quot;my-test-plugin&quot;)` before and inside the `pluginManagement` section as well - it does not help.\r\n\r\nWhy is this error happening and how to fix it?","title":"Cannot apply custom gradle settings plugin to a settings.gradle in multi-project. Plugin with id &#39;&#39; not found, on a composite build","body":"<p>I have a Gradle 8.1 project named <code>core</code> (It's a library, that will be published and used in other projects)</p>\n<p>Inside the project, I have several modules (multi-project)</p>\n<p>One of the modules is: <code>sanny-gradle-plugins</code>. It has a plugin</p>\n<p><code>sanny-gradle-plugins</code>: <code>eu.sanny.core.gradle.plugins.MyTestPlugin</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyTestPlugin : Plugin&lt;Settings&gt; {\n    override fun apply(settings: Settings) {\n        println(&quot;Hello sanny 1&quot;)\n        println(&quot;Plugin ${this.javaClass.simpleName} applied on ${settings.rootProject.name}&quot;)\n        settings.gradle.beforeProject {\n            println(&quot;Hello sanny 2&quot;)\n        }\n    }\n}\n\n</code></pre>\n<p>The plugin is intended to be used for the <code>core</code> multi-module library itself and later on in other projects that will be dependant on the <code>core</code> library</p>\n<p>And <code>sanny-gradle-plugins/build.gradle.kts</code> file, looks like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    `kotlin-dsl`\n    `java-gradle-plugin`\n    `maven-publish`\n}\n\ndependencies {\n    implementation(kotlin(&quot;stdlib&quot;))\n    implementation(gradleApi())\n}\n\ngradlePlugin {\n    plugins {\n        create(&quot;my-test-plugin&quot;) {\n            id = &quot;my-test-plugin&quot;\n            displayName = &quot;My Test Plugin&quot;\n            implementationClass = &quot;eu.sanny.core.gradle.plugins.MyTestPlugin&quot;\n        }\n    }\n}\n</code></pre>\n<p>Also I have <code>resources/META-INF/gradle-plugins/my-test-plugin.properties</code> file (just in case):</p>\n<pre><code>implementation-class=eu.sanny.core.gradle.plugins.MyTestPlugin\n</code></pre>\n<p>I have a <code>settings.gradle.kts</code> file in the parent <code>core</code> project:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>pluginManagement {\n    includeBuild(&quot;sanny-gradle-plugins&quot;)\n    repositories {\n        mavenLocal()\n    }\n\n    plugins {\n        val springBootPluginVersion: String by settings\n        val kotlinPluginVersion: String by settings\n\n        id(&quot;my-test-plugin&quot;)\n        kotlin(&quot;jvm&quot;) version kotlinPluginVersion\n        kotlin(&quot;plugin.spring&quot;) version kotlinPluginVersion\n        kotlin(&quot;plugin.jpa&quot;) version kotlinPluginVersion\n    }\n\n    // when I'm applying the plugin I'm getting an error\n    apply(plugin = &quot;my-test-plugin&quot;)\n\n...\n</code></pre>\n<p>when I build the project I get an error: <code>Plugin with id 'my-test-plugin' not found.</code></p>\n<p>I've tried to put the <code>apply(plugin = &quot;my-test-plugin&quot;)</code> before and inside the <code>pluginManagement</code> section as well - it does not help.</p>\n<p>Why is this error happening and how to fix it?</p>\n"},{"tags":["java","testing","junit","integration","pitest"],"answers":[{"comments":[{"owner":{"account_id":17017364,"reputation":21,"user_id":12310872,"display_name":"NotInCheck"},"score":0,"creation_date":1688573830,"post_id":76621712,"comment_id":135092739,"body_markdown":"Yes, the tests are separated. To put they together will be so much time consuming, and problematic (because of configuration to use a simultor and etc). Do you see any form to fix it or is there a plan to add this feature?","body":"Yes, the tests are separated. To put they together will be so much time consuming, and problematic (because of configuration to use a simultor and etc). Do you see any form to fix it or is there a plan to add this feature?"}],"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688569904,"creation_date":1688569904,"answer_id":76621712,"question_id":76615514,"body_markdown":"It looks as if you have tests in a seperate module from the code. Pitest does not support this.","title":"Pitest is not finding my JUNIT tests on &lt;targetTests&gt; param","body":"<p>It looks as if you have tests in a seperate module from the code. Pitest does not support this.</p>\n"}],"owner":{"account_id":17017364,"reputation":21,"user_id":12310872,"display_name":"NotInCheck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688569904,"creation_date":1688500099,"question_id":76615514,"body_markdown":"I introduced the Pitest as a stage in our development schedule, but in one of the project it is not working and generating this info message:\r\n\r\nSkipping project because:\r\n[INFO]   - Project has no tests, it is empty.\r\n\r\n\r\nResearching we found out could be something with the project structure: https://github.com/hcoles/pitest/issues/361\r\n\r\nPOM with Pitest:\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.14.2&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;outputFormats&gt;\r\n\t\t\t&lt;outputFormat&gt;XML&lt;/outputFormat&gt;\r\n\t\t\t&lt;outputFormat&gt;HTML&lt;/outputFormat&gt;\r\n\t\t&lt;/outputFormats&gt;\r\n\t\t&lt;targetClasses&gt;\r\n\t\t\t&lt;!-- Update with your target classes/packages for mutation testing --&gt;\r\n\t\t\t&lt;param&gt;br.com.company.project.operations&lt;/param&gt;\r\n\t\t&lt;/targetClasses&gt;\r\n\t\t&lt;targetTests&gt;\r\n\t\t\t&lt;!-- Update with your test classes/packages --&gt;\r\n\t\t\t&lt;param&gt;br.com.company.project.junit.tests&lt;/param&gt;\r\n\t\t&lt;/targetTests&gt;\r\n\t\t&lt;exportLineCoverage&gt;true&lt;/exportLineCoverage&gt;\r\n\t\t&lt;!--We want each report to override the former one--&gt;\r\n\t\t&lt;timestampedReports&gt;false&lt;/timestampedReports&gt;\r\n\t&lt;/configuration&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;pitest-mutation-testing&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;mutationCoverage&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n\r\n&lt;reporting&gt;\r\n\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.14.2&lt;/version&gt;\r\n\t\t\t&lt;reportSets&gt;\r\n\t\t\t\t&lt;reportSet&gt;\r\n\t\t\t\t\t&lt;reports&gt;\r\n\t\t\t\t\t\t&lt;report&gt;report&lt;/report&gt;\r\n\t\t\t\t\t&lt;/reports&gt;\r\n\t\t\t\t&lt;/reportSet&gt;\r\n\t\t\t&lt;/reportSets&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n&lt;/reporting&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.pitest&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.14&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nProject Structure\r\n\r\n```\r\n├───CompanyProjectSaaS_Commons\r\n│   ├───.settings\r\n│   ├───module\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───commons\r\n│   │                       ├───pojo\r\n│   │                       └───utils\r\n│   └───target\r\n│       ├───classes\r\n│       │   ├───br\r\n│       │   │   └───com\r\n│       │   │       └───company\r\n│       │   │           └───project\r\n│       │   │               └───commons\r\n│       │   │                   ├───pojo\r\n│       │   │                   └───utils\r\n│       │   └───test\r\n│       │       └───java\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───generated-test-sources\r\n│       │   └───test-annotations\r\n│       ├───maven-archiver\r\n│       ├───maven-status\r\n│       │   └───maven-compiler-plugin\r\n│       │       ├───compile\r\n│       │       │   └───default-compile\r\n│       │       └───testCompile\r\n│       │           └───default-testCompile\r\n│       ├───pit-reports\r\n│       │   ├───202307041032\r\n│       │   │   ├───br.com.company.project.commons.utils\r\n│       │   │   └───br.com.company.project.commons.utils.test\r\n│       │   ├───202307041034\r\n│       │   │   ├───br.com.company.project.commons.utils\r\n│       │   │   └───br.com.company.project.commons.utils.test\r\n│       │   ├───202307041048\r\n│       │   │   ├───br.com.company.project.commons.utils\r\n│       │   │   └───br.com.company.project.commons.utils.test\r\n│       │   ├───202307041103\r\n│       │   │   ├───br.com.company.project.commons.utils\r\n│       │   │   └───br.com.company.project.commons.utils.test\r\n│       │   ├───202307041127\r\n│       │   │   ├───br.com.company.project.commons.utils\r\n│       │   │   └───br.com.company.project.commons.utils.test\r\n│       │   ├───br.com.company.project.commons.utils\r\n│       │   └───br.com.company.project.commons.utils.test\r\n│       └───test-classes\r\n│           └───test\r\n│               └───java\r\n├───CompanyProjectSaaS_Constants\r\n│   ├───.settings\r\n│   ├───module\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───constants\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───constants\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_Grpc\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───main\r\n│   │       ├───java\r\n│   │       │   └───br\r\n│   │       │       └───com\r\n│   │       │           └───company\r\n│   │       │               └───project\r\n│   │       │                   └───grpc\r\n│   │       └───resources\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───grpc\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_GrpcServer\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───server\r\n│   │                       └───grpc\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───server\r\n│       │                       └───grpc\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_JUnitTests\r\n│   ├───.settings\r\n│   ├───conf\r\n│   ├───simulator\r\n│   │   └───cryptoki_simulator\r\n│   │       ├───admin\r\n│   │       │   └───token\r\n│   │       ├───admin.linux\r\n│   │       │   └───token\r\n│   │       └───slot0\r\n│   │           └───token\r\n│   ├───src\r\n│   │   └───test\r\n│   │       └───java\r\n│   │           └───br\r\n│   │               └───com\r\n│   │                   └───company\r\n│   │                       └───project\r\n│   │                           └───junit\r\n│   │                               └───tests\r\n│   │                                   └───utils\r\n│   └───target\r\n│       ├───generated-test-sources\r\n│       │   └───test-annotations\r\n│       ├───maven-archiver\r\n│       ├───maven-status\r\n│       │   └───maven-compiler-plugin\r\n│       │       └───testCompile\r\n│       │           └───default-testCompile\r\n│       ├───surefire-reports\r\n│       └───test-classes\r\n│           ├───br\r\n│           │   └───com\r\n│           │       └───company\r\n│           │           └───project\r\n│           │               ├───commons\r\n│           │               │   └───utils\r\n│           │               └───junit\r\n│           │                   └───tests\r\n│           │                       └───utils\r\n│           └───test\r\n│               └───java\r\n│                   ├───br\r\n│                   │   └───com\r\n│                   │       └───company\r\n│                   │           └───project\r\n│                   │               └───junit\r\n│                   │                   └───tests\r\n│                   ├───commons\r\n│                   │   └───utils\r\n│                   └───junit\r\n│                       └───tests\r\n│                           └───utils\r\n├───CompanyprojectSaaS_Logger\r\n│   ├───.settings\r\n│   ├───module\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───logger\r\n│   │                       ├───pojo\r\n│   │                       ├───report\r\n│   │                       └───utils\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───logger\r\n│       │                       ├───pojo\r\n│       │                       ├───report\r\n│       │                       └───utils\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_PKCS11\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───pkcs11\r\n│   │                       ├───devices\r\n│   │                       ├───support\r\n│   │                       ├───token\r\n│   │                       │   └───asn1\r\n│   │                       └───utils\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───pkcs11\r\n│       │                       ├───devices\r\n│       │                       ├───support\r\n│       │                       ├───token\r\n│       │                       │   └───asn1\r\n│       │                       └───utils\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_PKCS11SunWrapper\r\n│   ├───.settings\r\n│   ├───bin\r\n│   │   └───sun\r\n│   │       └───security\r\n│   │           └───pkcs11\r\n│   ├───module\r\n│   ├───src\r\n│   │   ├───jdk\r\n│   │   │   └───internal\r\n│   │   │       ├───misc\r\n│   │   │       ├───ref\r\n│   │   │       └───util\r\n│   │   └───sun\r\n│   │       ├───net\r\n│   │       │   └───www\r\n│   │       ├───nio\r\n│   │       │   ├───ch\r\n│   │       │   └───cs\r\n│   │       ├───security\r\n│   │       │   ├───action\r\n│   │       │   ├───internal\r\n│   │       │   │   ├───interfaces\r\n│   │       │   │   └───spec\r\n│   │       │   ├───jca\r\n│   │       │   ├───pkcs\r\n│   │       │   ├───pkcs11\r\n│   │       │   │   └───wrapper\r\n│   │       │   ├───provider\r\n│   │       │   ├───rsa\r\n│   │       │   ├───util\r\n│   │       │   └───x509\r\n│   │       └───util\r\n│   │           └───calendar\r\n│   └───target\r\n│       ├───classes\r\n│       │   ├───jdk\r\n│       │   │   └───internal\r\n│       │   │       ├───misc\r\n│       │   │       ├───ref\r\n│       │   │       └───util\r\n│       │   └───sun\r\n│       │       ├───net\r\n│       │       │   └───www\r\n│       │       ├───nio\r\n│       │       │   ├───ch\r\n│       │       │   └───cs\r\n│       │       ├───security\r\n│       │       │   ├───action\r\n│       │       │   ├───internal\r\n│       │       │   │   ├───interfaces\r\n│       │       │   │   └───spec\r\n│       │       │   ├───jca\r\n│       │       │   ├───pkcs\r\n│       │       │   ├───pkcs11\r\n│       │       │   │   └───wrapper\r\n│       │       │   ├───provider\r\n│       │       │   ├───rsa\r\n│       │       │   ├───util\r\n│       │       │   └───x509\r\n│       │       └───util\r\n│       │           └───calendar\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_PKCS11Wrapper\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───pkcs11\r\n│   │                       └───wrapper\r\n│   │                           └───sun\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───pkcs11\r\n│       │                       └───wrapper\r\n│       │                           └───sun\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyProjectSaaS_Processor\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───server\r\n│   │                       └───processor\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───server\r\n│       │                       └───processor\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyprojectSaaS_Processors_Builder\r\n│   ├───.settings\r\n│   └───target\r\n│       └───antrun\r\n├───CompanyprojectSaaS_Processor_Example\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   ├───operations\r\n│   │                   │   └───jwedecrypt\r\n│   │                   └───processor\r\n│   │                       └───jwedecrypt\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   ├───operations\r\n│       │                   │   └───jwedecrypt\r\n│       │                   └───processor\r\n│       │                       └───jwedecrypt\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n\r\n[...] \r\n\r\n## There is a lot of this Processors, the structure are always the same as above.\r\n\r\n[...]\r\n\r\n├───CompanyprojectSaaS_RestServer\r\n│   ├───.settings\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───server\r\n│   │                       └───rest\r\n│   │                           ├───controller\r\n│   │                           └───services\r\n│   └───target\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───server\r\n│       │                       └───rest\r\n│       │                           ├───controller\r\n│       │                           └───services\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n├───CompanyProjectSaaS_Server\r\n│   ├───.settings\r\n│   ├───config\r\n│   ├───logs\r\n│   │   └───history\r\n│   ├───processors\r\n│   ├───src\r\n│   │   └───br\r\n│   │       └───com\r\n│   │           └───company\r\n│   │               └───project\r\n│   │                   └───server\r\n│   └───target\r\n│       ├───antrun\r\n│       ├───classes\r\n│       │   └───br\r\n│       │       └───com\r\n│       │           └───company\r\n│       │               └───project\r\n│       │                   └───server\r\n│       ├───generated-sources\r\n│       │   └───annotations\r\n│       ├───maven-archiver\r\n│       └───maven-status\r\n│           └───maven-compiler-plugin\r\n│               └───compile\r\n│                   └───default-compile\r\n└───CompanyProjectSaaS_Server_Builder\r\n    ├───.settings\r\n    ├───build\r\n    │   ├───Depends\r\n    │   │   ├───docs\r\n    │   │   └───company_project\r\n    │   │       ├───config\r\n    │   │       ├───linux\r\n    │   │       ├───processors\r\n    │   │       └───windows\r\n    │   │           ├───x64\r\n    │   │           └───x86\r\n    │   ├───installer_files\r\n    │   └───installer_out\r\n    ├───dist\r\n    └───target\r\n        └───antrun\r\n```\r\n\r\n\r\n\r\n\r\nI tried to change the project structure and to add * in the target, but none of them worked. I was able to create a pitest for a test and source code that doesn&#39;t follow this structure.\r\n","title":"Pitest is not finding my JUNIT tests on &lt;targetTests&gt; param","body":"<p>I introduced the Pitest as a stage in our development schedule, but in one of the project it is not working and generating this info message:</p>\n<p>Skipping project because:\n[INFO]   - Project has no tests, it is empty.</p>\n<p>Researching we found out could be something with the project structure: <a href=\"https://github.com/hcoles/pitest/issues/361\" rel=\"nofollow noreferrer\">https://github.com/hcoles/pitest/issues/361</a></p>\n<p>POM with Pitest:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n    &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n    &lt;version&gt;1.14.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;outputFormats&gt;\n            &lt;outputFormat&gt;XML&lt;/outputFormat&gt;\n            &lt;outputFormat&gt;HTML&lt;/outputFormat&gt;\n        &lt;/outputFormats&gt;\n        &lt;targetClasses&gt;\n            &lt;!-- Update with your target classes/packages for mutation testing --&gt;\n            &lt;param&gt;br.com.company.project.operations&lt;/param&gt;\n        &lt;/targetClasses&gt;\n        &lt;targetTests&gt;\n            &lt;!-- Update with your test classes/packages --&gt;\n            &lt;param&gt;br.com.company.project.junit.tests&lt;/param&gt;\n        &lt;/targetTests&gt;\n        &lt;exportLineCoverage&gt;true&lt;/exportLineCoverage&gt;\n        &lt;!--We want each report to override the former one--&gt;\n        &lt;timestampedReports&gt;false&lt;/timestampedReports&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;pitest-mutation-testing&lt;/id&gt;\n            &lt;phase&gt;install&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;mutationCoverage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n\n&lt;reporting&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n            &lt;artifactId&gt;pitest-maven&lt;/artifactId&gt;\n            &lt;version&gt;1.14.2&lt;/version&gt;\n            &lt;reportSets&gt;\n                &lt;reportSet&gt;\n                    &lt;reports&gt;\n                        &lt;report&gt;report&lt;/report&gt;\n                    &lt;/reports&gt;\n                &lt;/reportSet&gt;\n            &lt;/reportSets&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/reporting&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.pitest&lt;/groupId&gt;\n    &lt;artifactId&gt;pitest-junit5-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.14&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>Project Structure</p>\n<pre><code>├───CompanyProjectSaaS_Commons\n│   ├───.settings\n│   ├───module\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───commons\n│   │                       ├───pojo\n│   │                       └───utils\n│   └───target\n│       ├───classes\n│       │   ├───br\n│       │   │   └───com\n│       │   │       └───company\n│       │   │           └───project\n│       │   │               └───commons\n│       │   │                   ├───pojo\n│       │   │                   └───utils\n│       │   └───test\n│       │       └───java\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───generated-test-sources\n│       │   └───test-annotations\n│       ├───maven-archiver\n│       ├───maven-status\n│       │   └───maven-compiler-plugin\n│       │       ├───compile\n│       │       │   └───default-compile\n│       │       └───testCompile\n│       │           └───default-testCompile\n│       ├───pit-reports\n│       │   ├───202307041032\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041034\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041048\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041103\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───202307041127\n│       │   │   ├───br.com.company.project.commons.utils\n│       │   │   └───br.com.company.project.commons.utils.test\n│       │   ├───br.com.company.project.commons.utils\n│       │   └───br.com.company.project.commons.utils.test\n│       └───test-classes\n│           └───test\n│               └───java\n├───CompanyProjectSaaS_Constants\n│   ├───.settings\n│   ├───module\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───constants\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───constants\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_Grpc\n│   ├───.settings\n│   ├───src\n│   │   └───main\n│   │       ├───java\n│   │       │   └───br\n│   │       │       └───com\n│   │       │           └───company\n│   │       │               └───project\n│   │       │                   └───grpc\n│   │       └───resources\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───grpc\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_GrpcServer\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   │                       └───grpc\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       │                       └───grpc\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_JUnitTests\n│   ├───.settings\n│   ├───conf\n│   ├───simulator\n│   │   └───cryptoki_simulator\n│   │       ├───admin\n│   │       │   └───token\n│   │       ├───admin.linux\n│   │       │   └───token\n│   │       └───slot0\n│   │           └───token\n│   ├───src\n│   │   └───test\n│   │       └───java\n│   │           └───br\n│   │               └───com\n│   │                   └───company\n│   │                       └───project\n│   │                           └───junit\n│   │                               └───tests\n│   │                                   └───utils\n│   └───target\n│       ├───generated-test-sources\n│       │   └───test-annotations\n│       ├───maven-archiver\n│       ├───maven-status\n│       │   └───maven-compiler-plugin\n│       │       └───testCompile\n│       │           └───default-testCompile\n│       ├───surefire-reports\n│       └───test-classes\n│           ├───br\n│           │   └───com\n│           │       └───company\n│           │           └───project\n│           │               ├───commons\n│           │               │   └───utils\n│           │               └───junit\n│           │                   └───tests\n│           │                       └───utils\n│           └───test\n│               └───java\n│                   ├───br\n│                   │   └───com\n│                   │       └───company\n│                   │           └───project\n│                   │               └───junit\n│                   │                   └───tests\n│                   ├───commons\n│                   │   └───utils\n│                   └───junit\n│                       └───tests\n│                           └───utils\n├───CompanyprojectSaaS_Logger\n│   ├───.settings\n│   ├───module\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───logger\n│   │                       ├───pojo\n│   │                       ├───report\n│   │                       └───utils\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───logger\n│       │                       ├───pojo\n│       │                       ├───report\n│       │                       └───utils\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_PKCS11\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───pkcs11\n│   │                       ├───devices\n│   │                       ├───support\n│   │                       ├───token\n│   │                       │   └───asn1\n│   │                       └───utils\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───pkcs11\n│       │                       ├───devices\n│       │                       ├───support\n│       │                       ├───token\n│       │                       │   └───asn1\n│       │                       └───utils\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_PKCS11SunWrapper\n│   ├───.settings\n│   ├───bin\n│   │   └───sun\n│   │       └───security\n│   │           └───pkcs11\n│   ├───module\n│   ├───src\n│   │   ├───jdk\n│   │   │   └───internal\n│   │   │       ├───misc\n│   │   │       ├───ref\n│   │   │       └───util\n│   │   └───sun\n│   │       ├───net\n│   │       │   └───www\n│   │       ├───nio\n│   │       │   ├───ch\n│   │       │   └───cs\n│   │       ├───security\n│   │       │   ├───action\n│   │       │   ├───internal\n│   │       │   │   ├───interfaces\n│   │       │   │   └───spec\n│   │       │   ├───jca\n│   │       │   ├───pkcs\n│   │       │   ├───pkcs11\n│   │       │   │   └───wrapper\n│   │       │   ├───provider\n│   │       │   ├───rsa\n│   │       │   ├───util\n│   │       │   └───x509\n│   │       └───util\n│   │           └───calendar\n│   └───target\n│       ├───classes\n│       │   ├───jdk\n│       │   │   └───internal\n│       │   │       ├───misc\n│       │   │       ├───ref\n│       │   │       └───util\n│       │   └───sun\n│       │       ├───net\n│       │       │   └───www\n│       │       ├───nio\n│       │       │   ├───ch\n│       │       │   └───cs\n│       │       ├───security\n│       │       │   ├───action\n│       │       │   ├───internal\n│       │       │   │   ├───interfaces\n│       │       │   │   └───spec\n│       │       │   ├───jca\n│       │       │   ├───pkcs\n│       │       │   ├───pkcs11\n│       │       │   │   └───wrapper\n│       │       │   ├───provider\n│       │       │   ├───rsa\n│       │       │   ├───util\n│       │       │   └───x509\n│       │       └───util\n│       │           └───calendar\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_PKCS11Wrapper\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───pkcs11\n│   │                       └───wrapper\n│   │                           └───sun\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───pkcs11\n│       │                       └───wrapper\n│       │                           └───sun\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyProjectSaaS_Processor\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   │                       └───processor\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       │                       └───processor\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyprojectSaaS_Processors_Builder\n│   ├───.settings\n│   └───target\n│       └───antrun\n├───CompanyprojectSaaS_Processor_Example\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   ├───operations\n│   │                   │   └───jwedecrypt\n│   │                   └───processor\n│   │                       └───jwedecrypt\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   ├───operations\n│       │                   │   └───jwedecrypt\n│       │                   └───processor\n│       │                       └───jwedecrypt\n│       ├───generated-sources\n│       │   └───annotations\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n\n[...] \n\n## There is a lot of this Processors, the structure are always the same as above.\n\n[...]\n\n├───CompanyprojectSaaS_RestServer\n│   ├───.settings\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   │                       └───rest\n│   │                           ├───controller\n│   │                           └───services\n│   └───target\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       │                       └───rest\n│       │                           ├───controller\n│       │                           └───services\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n├───CompanyProjectSaaS_Server\n│   ├───.settings\n│   ├───config\n│   ├───logs\n│   │   └───history\n│   ├───processors\n│   ├───src\n│   │   └───br\n│   │       └───com\n│   │           └───company\n│   │               └───project\n│   │                   └───server\n│   └───target\n│       ├───antrun\n│       ├───classes\n│       │   └───br\n│       │       └───com\n│       │           └───company\n│       │               └───project\n│       │                   └───server\n│       ├───generated-sources\n│       │   └───annotations\n│       ├───maven-archiver\n│       └───maven-status\n│           └───maven-compiler-plugin\n│               └───compile\n│                   └───default-compile\n└───CompanyProjectSaaS_Server_Builder\n    ├───.settings\n    ├───build\n    │   ├───Depends\n    │   │   ├───docs\n    │   │   └───company_project\n    │   │       ├───config\n    │   │       ├───linux\n    │   │       ├───processors\n    │   │       └───windows\n    │   │           ├───x64\n    │   │           └───x86\n    │   ├───installer_files\n    │   └───installer_out\n    ├───dist\n    └───target\n        └───antrun\n</code></pre>\n<p>I tried to change the project structure and to add * in the target, but none of them worked. I was able to create a pitest for a test and source code that doesn't follow this structure.</p>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":12296955,"reputation":1434,"user_id":8972283,"display_name":"Francis Bartkowiak"},"score":1,"creation_date":1516802670,"post_id":48424308,"comment_id":83838176,"body_markdown":"Possible duplicate of [hibernate table does not exist error](https://stackoverflow.com/questions/4490981/hibernate-table-does-not-exist-error)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4490981/hibernate-table-does-not-exist-error\">hibernate table does not exist error</a>"},{"owner":{"account_id":6901589,"reputation":666,"user_id":5320403,"accept_rate":57,"display_name":"Salim Shamim"},"score":0,"creation_date":1516802821,"post_id":48424308,"comment_id":83838296,"body_markdown":"Possibly not as I have tried that solution and didn&#39;t worked @FrancisBartkowiak","body":"Possibly not as I have tried that solution and didn&#39;t worked @FrancisBartkowiak"},{"owner":{"account_id":4554718,"reputation":2128,"user_id":3698762,"accept_rate":38,"display_name":"Stefan"},"score":0,"creation_date":1516803210,"post_id":48424308,"comment_id":83838561,"body_markdown":"How did you generate the tables (i.e. employee) in your local database?","body":"How did you generate the tables (i.e. employee) in your local database?"},{"owner":{"account_id":6901589,"reputation":666,"user_id":5320403,"accept_rate":57,"display_name":"Salim Shamim"},"score":0,"creation_date":1516803859,"post_id":48424308,"comment_id":83839033,"body_markdown":"Please see the new edit","body":"Please see the new edit"},{"owner":{"account_id":3874110,"reputation":7800,"user_id":3208640,"display_name":"void"},"score":1,"creation_date":1516803925,"post_id":48424308,"comment_id":83839085,"body_markdown":"Use @Table annotation too for the entity","body":"Use @Table annotation too for the entity"}],"answers":[{"comments":[{"owner":{"account_id":4447289,"reputation":738,"user_id":3620242,"display_name":"maddy23285"},"score":0,"creation_date":1516805099,"post_id":48424542,"comment_id":83840026,"body_markdown":"What is the name of table in database? Check for any typos.","body":"What is the name of table in database? Check for any typos."},{"owner":{"account_id":6901589,"reputation":666,"user_id":5320403,"accept_rate":57,"display_name":"Salim Shamim"},"score":0,"creation_date":1516814185,"post_id":48424542,"comment_id":83846673,"body_markdown":"There is no table in DB, i want to create it through hibernate.","body":"There is no table in DB, i want to create it through hibernate."}],"tags":[],"owner":{"account_id":1887647,"reputation":5271,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516803206,"creation_date":1516803206,"answer_id":48424542,"question_id":48424308,"body_markdown":"add different auto option of hibernate,\r\n\r\nUse instead of `create` , `update` or `create-drop`\r\n\r\n    &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;  \r\nor\r\n   \r\n\r\n     &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create-drop&lt;/property&gt;\r\n\r\n&gt; You can read more about it [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/438146/hibernate-hbm2ddl-auto-possible-values-and-what-they-do","title":"Hibernate says database.table doesn&#39;t exist","body":"<p>add different auto option of hibernate,</p>\n\n<p>Use instead of <code>create</code> , <code>update</code> or <code>create-drop</code></p>\n\n<pre><code>&lt;property name=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/property&gt;  \n</code></pre>\n\n<p>or</p>\n\n<pre><code> &lt;property name=\"hibernate.hbm2ddl.auto\"&gt;create-drop&lt;/property&gt;\n</code></pre>\n\n<blockquote>\n  <p>You can read more about it <a href=\"https://stackoverflow.com/questions/438146/hibernate-hbm2ddl-auto-possible-values-and-what-they-do\">here</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6901589,"reputation":666,"user_id":5320403,"accept_rate":57,"display_name":"Salim Shamim"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1522252798,"creation_date":1516890766,"answer_id":48445331,"question_id":48424308,"body_markdown":"I made it worked, I am not sure if it&#39;s a proper answer but since it got it working I am posting it as an answer.\r\nI made **two changes**\r\n\r\n 1. I was using hibernate `version 5.2.12` so I changed it to 4.2.0 and added jars from two more folders which earlier I hadn&#39;t (In summary I have now imported Jars from :optional, provided &amp; required folder in hibernate user library)\r\n 2. I overlooked a url mistake which was \r\n\r\n        &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n            &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n            &quot;http://hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\nIn the dtd url I have not added `www`. It should have been\r\n\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n\t\t&quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot; \r\n\t\t&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;`\r\n\r\nSo, my mistake.\r\n\r\nAnyway, comments regarding improving this answer and why it made it work are deeply appreciated.\r\n","title":"Hibernate says database.table doesn&#39;t exist","body":"<p>I made it worked, I am not sure if it's a proper answer but since it got it working I am posting it as an answer.\nI made <strong>two changes</strong></p>\n\n<ol>\n<li>I was using hibernate <code>version 5.2.12</code> so I changed it to 4.2.0 and added jars from two more folders which earlier I hadn't (In summary I have now imported Jars from :optional, provided &amp; required folder in hibernate user library)</li>\n<li><p>I overlooked a url mistake which was </p>\n\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n    \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n    \"http://hibernate.org/dtd/hibernate-configuration-3.0.dtd\"&gt;\n</code></pre></li>\n</ol>\n\n<p>In the dtd url I have not added <code>www</code>. It should have been</p>\n\n<pre><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n    \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\" \n    \"http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd\"&gt;`\n</code></pre>\n\n<p>So, my mistake.</p>\n\n<p>Anyway, comments regarding improving this answer and why it made it work are deeply appreciated.</p>\n"},{"tags":[],"owner":{"account_id":23623054,"reputation":1,"user_id":17655979,"display_name":"Rohan Dhumal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688569782,"creation_date":1688396079,"answer_id":76605891,"question_id":48424308,"body_markdown":"    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n\r\nYou have not written mysql version in dialect property\r\n\r\nCorrection:\r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n\r\nHope this helps to you cause it certainly did for me.","title":"Hibernate says database.table doesn&#39;t exist","body":"<pre><code>&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n</code></pre>\n<p>You have not written mysql version in dialect property</p>\n<p>Correction:</p>\n<pre><code>&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n</code></pre>\n<p>Hope this helps to you cause it certainly did for me.</p>\n"}],"owner":{"account_id":6901589,"reputation":666,"user_id":5320403,"accept_rate":57,"display_name":"Salim Shamim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3855,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":48445331,"answer_count":3,"score":1,"last_activity_date":1688569782,"creation_date":1516802456,"question_id":48424308,"body_markdown":"**The Situation**\r\nOk, so I am learning Hibernate(from 2 days so pardon any blunder), I am using mysql database and just trying tocreate a table `Employee` and make an entry in database(A demonstration).\r\n\r\n**Here are the codes**\r\n\r\n**POJO:**\r\n\r\n    package com.sopra.pojo;\r\n    import javax.persistence.*;\r\n    @Entity\r\n    @Table(name = &quot;EMPLOYEE&quot;)\r\n    public class Employee {\r\n    \t@Id\r\n    \tprivate int Id;\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;\r\n    \tprivate int salary;\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn Id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tId = id;\r\n    \t}\r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \r\n    \tpublic void setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t}\r\n    \r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \r\n    \tpublic void setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \r\n    \tpublic int getSalary() {\r\n    \t\treturn salary;\r\n    \t}\r\n    \r\n    \tpublic void setSalary(int salary) {\r\n    \t\tthis.salary = salary;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**hibernate.cfg.xml** which is in `src`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n            &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n            &quot;http://hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;password&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n    \t\t&lt;property name = &quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n    \t\t\r\n            &lt;mapping class=&quot;com.sopra.pojo.Employee&quot; /&gt;\r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n**EmployeeDBManager.java**\r\n\r\n    package com.sopra.pojo;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.Transaction;\r\n    import org.hibernate.cfg.Configuration;\r\n    \r\n    public class EmployeeDBManager {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tEmployee e = new Employee();\r\n    \t\te.setFirstName(&quot;Salim&quot;);\r\n    \t\te.setId(672);\r\n    \t\te.setLastName(&quot;Shamim&quot;);\r\n    \t\te.setSalary(266);\r\n    \t\tSessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\r\n    \t\tSession session =  sessionFactory.openSession();\r\n    \t\tTransaction tx =  session.beginTransaction();\r\n    \t\t\r\n    \t\tsession.persist(e);\r\n    \t\t\r\n    \t\ttx.commit();\r\n    \t\t\r\n    \t\tsession.close();\r\n    \t}\r\n    }\r\n\r\n**The Error**\r\n\r\n`Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table &#39;test.employee&#39; doesn&#39;t exist`\r\n\r\n\r\n**I&#39;ve tried**\r\n\r\n 1. use this in cfg file : `&lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/property&gt;`\r\n 2. What is interesting is when I manually create the table in mysql using workbench, hibernate does drops it as when i use drop command it says the table doesn&#39;t exists.\r\n\r\nI can&#39;t figure out where the glitch might be(newbie and internet didn&#39;t helped).\r\nPlease mention any additional details required in comments.\r\nPlease help!\r\nThanks.","title":"Hibernate says database.table doesn&#39;t exist","body":"<p><strong>The Situation</strong>\nOk, so I am learning Hibernate(from 2 days so pardon any blunder), I am using mysql database and just trying tocreate a table <code>Employee</code> and make an entry in database(A demonstration).</p>\n\n<p><strong>Here are the codes</strong></p>\n\n<p><strong>POJO:</strong></p>\n\n<pre><code>package com.sopra.pojo;\nimport javax.persistence.*;\n@Entity\n@Table(name = \"EMPLOYEE\")\npublic class Employee {\n    @Id\n    private int Id;\n    private String firstName;\n    private String lastName;\n    private int salary;\n\n    public int getId() {\n        return Id;\n    }\n\n    public void setId(int id) {\n        Id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public int getSalary() {\n        return salary;\n    }\n\n    public void setSalary(int salary) {\n        this.salary = salary;\n    }\n\n}\n</code></pre>\n\n<p><strong>hibernate.cfg.xml</strong> which is in <code>src</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n        \"http://hibernate.org/dtd/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.password\"&gt;password&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.pool_size\"&gt;1&lt;/property&gt;\n        &lt;property name=\"hibernate.current_session_context_class\"&gt;thread&lt;/property&gt;\n        &lt;property name=\"hibernate.show_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name = \"hibernate.hbm2ddl.auto\"&gt;create&lt;/property&gt;\n\n        &lt;mapping class=\"com.sopra.pojo.Employee\" /&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p><strong>EmployeeDBManager.java</strong></p>\n\n<pre><code>package com.sopra.pojo;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.Configuration;\n\npublic class EmployeeDBManager {\n    public static void main(String[] args) {\n        Employee e = new Employee();\n        e.setFirstName(\"Salim\");\n        e.setId(672);\n        e.setLastName(\"Shamim\");\n        e.setSalary(266);\n        SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\n        Session session =  sessionFactory.openSession();\n        Transaction tx =  session.beginTransaction();\n\n        session.persist(e);\n\n        tx.commit();\n\n        session.close();\n    }\n}\n</code></pre>\n\n<p><strong>The Error</strong></p>\n\n<p><code>Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'test.employee' doesn't exist</code></p>\n\n<p><strong>I've tried</strong></p>\n\n<ol>\n<li>use this in cfg file : <code>&lt;property name=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/property&gt;</code></li>\n<li>What is interesting is when I manually create the table in mysql using workbench, hibernate does drops it as when i use drop command it says the table doesn't exists.</li>\n</ol>\n\n<p>I can't figure out where the glitch might be(newbie and internet didn't helped).\nPlease mention any additional details required in comments.\nPlease help!\nThanks.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1688456561,"post_id":76610314,"comment_id":135072888,"body_markdown":"You shouldn&#39;t use overridable methods in constructors. The problem is that `init` is invoked before `null` is assigned to `data`.","body":"You shouldn&#39;t use overridable methods in constructors. The problem is that <code>init</code> is invoked before <code>null</code> is assigned to <code>data</code>."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688456572,"post_id":76610314,"comment_id":135072890,"body_markdown":"It&#39;s a quirk of initialization order. In general, just don&#39;t ever call instance methods while still in the constructor, and you&#39;ll be fine. Most IDEs will generate warnings if you do this, so it&#39;s easy to avoid.","body":"It&#39;s a quirk of initialization order. In general, just don&#39;t ever call instance methods while still in the constructor, and you&#39;ll be fine. Most IDEs will generate warnings if you do this, so it&#39;s easy to avoid."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1688458260,"post_id":76610314,"comment_id":135073231,"body_markdown":"the &quot;*init sequence*&quot; is detailed in the Java Language Specification [12.5. Creation of New Class Instances](https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.5) (mainly starting at this [paragraph](https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.5-220))","body":"the &quot;<i>init sequence</i>&quot; is detailed in the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.5\" rel=\"nofollow noreferrer\">12.5. Creation of New Class Instances</a> (mainly starting at this <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.5-220\" rel=\"nofollow noreferrer\">paragraph</a>)"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688458179,"creation_date":1688458179,"answer_id":76610567,"question_id":76610314,"body_markdown":"The (basic) initialization order of a constructor is:\r\n\r\n* Invoke the super constructor\r\n* Invoke the instance initializers (and field initializers, which are just syntactic sugar for field declaration + instance initializers)\r\n* Execute the rest of the constructor\r\n\r\nSo, for:\r\n\r\n```\r\nclass Sub extends Super\r\n{\r\n    Integer data = null;\r\n    \r\n    Sub(int f)\r\n    {\r\n        super(f);\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nthis is the same as:\r\n\r\n```\r\nclass Sub extends Super\r\n{\r\n    Integer data;\r\n    \r\n    Sub(int f)\r\n    {\r\n        super(f);\r\n        data = null;\r\n    }\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nSo, if anything changes `data` in the call to `super(f)`, that is overwritten by the `data = null;`.\r\n\r\nAs mentioned by [Mark Rotteveel](https://stackoverflow.com/users/466862/mark-rotteveel), the way to avoid this is to not invoke overridable methods in constructors. This is covered in more detail in *Effective Java*, Item 19 (in the 3rd Ed - page 95 paragraph starting &quot;Constructors must not invoke overridable methods&quot;).","title":"Subclass overwrites value updated by Super class","body":"<p>The (basic) initialization order of a constructor is:</p>\n<ul>\n<li>Invoke the super constructor</li>\n<li>Invoke the instance initializers (and field initializers, which are just syntactic sugar for field declaration + instance initializers)</li>\n<li>Execute the rest of the constructor</li>\n</ul>\n<p>So, for:</p>\n<pre><code>class Sub extends Super\n{\n    Integer data = null;\n    \n    Sub(int f)\n    {\n        super(f);\n    }\n\n    // ...\n}\n</code></pre>\n<p>this is the same as:</p>\n<pre><code>class Sub extends Super\n{\n    Integer data;\n    \n    Sub(int f)\n    {\n        super(f);\n        data = null;\n    }\n\n    // ...\n}\n</code></pre>\n<p>So, if anything changes <code>data</code> in the call to <code>super(f)</code>, that is overwritten by the <code>data = null;</code>.</p>\n<p>As mentioned by <a href=\"https://stackoverflow.com/users/466862/mark-rotteveel\">Mark Rotteveel</a>, the way to avoid this is to not invoke overridable methods in constructors. This is covered in more detail in <em>Effective Java</em>, Item 19 (in the 3rd Ed - page 95 paragraph starting &quot;Constructors must not invoke overridable methods&quot;).</p>\n"},{"tags":[],"owner":{"account_id":27746768,"reputation":1,"user_id":21182101,"display_name":"Rubin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688569662,"creation_date":1688458806,"answer_id":76610636,"question_id":76610314,"body_markdown":"    public class Main {\r\n        public static void main(String[] args) {\r\n            Sub sub = new Sub(10);\r\n            sub.init();\r\n            sub.showData();\r\n        }\r\n    }\r\n\r\nnot auto init","title":"Subclass overwrites value updated by Super class","body":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        Sub sub = new Sub(10);\n        sub.init();\n        sub.showData();\n    }\n}\n</code></pre>\n<p>not auto init</p>\n"}],"owner":{"account_id":1363919,"reputation":912,"user_id":1300757,"accept_rate":55,"display_name":"anupamD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76610567,"answer_count":2,"score":0,"last_activity_date":1688569662,"creation_date":1688456302,"question_id":76610314,"body_markdown":"I have following piece of code in java. This prints null.\r\nWhy? Can someone please tell the init sequence of the below variable and this behavior\r\n\r\n&gt; Integer data = null;\r\n\r\n```java\r\nabstract class Super\r\n{\r\n\tSuper(int f)\r\n\t{\r\n\t\tinit(f);\r\n\t}\r\n\tabstract void init(int f);\r\n}\r\n\r\nclass Sub extends Super\r\n{\r\n\tInteger data = null;\r\n\t\r\n\tSub(int f)\r\n\t{\r\n\t\tsuper(f);\r\n\t}\r\n\t@Override\r\n\tvoid init(int f) {\r\n\t\tdata = f;\r\n\t}\r\n\r\n\tpublic void showData()\r\n\t{\r\n\t\tSystem.out.println(this.data);\r\n\t}\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n    \tSub sub = new Sub(10);\r\n    \tsub.showData();\r\n    }\r\n}\r\n\r\n```","title":"Subclass overwrites value updated by Super class","body":"<p>I have following piece of code in java. This prints null.\nWhy? Can someone please tell the init sequence of the below variable and this behavior</p>\n<blockquote>\n<p>Integer data = null;</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Super\n{\n    Super(int f)\n    {\n        init(f);\n    }\n    abstract void init(int f);\n}\n\nclass Sub extends Super\n{\n    Integer data = null;\n    \n    Sub(int f)\n    {\n        super(f);\n    }\n    @Override\n    void init(int f) {\n        data = f;\n    }\n\n    public void showData()\n    {\n        System.out.println(this.data);\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Sub sub = new Sub(10);\n        sub.showData();\n    }\n}\n\n</code></pre>\n"},{"tags":["javascript","java","node.js","playwright"],"comments":[{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":1,"creation_date":1688569303,"post_id":76464881,"comment_id":135091572,"body_markdown":"Note that we prefer a technical style of writing here. We gently discourage greetings, hope-you-can-helps, thanks, advance thanks, notes of appreciation, regards, kind regards, signatures, please-can-you-helps, chatty material and abbreviated txtspk, pleading, how long you&#39;ve been stuck, voting advice, meta commentary, etc. Just explain your problem, and show what you&#39;ve tried, what you expected, and what actually happened.","body":"Note that we prefer a technical style of writing here. We gently discourage greetings, hope-you-can-helps, thanks, advance thanks, notes of appreciation, regards, kind regards, signatures, please-can-you-helps, chatty material and abbreviated txtspk, pleading, how long you&#39;ve been stuck, voting advice, meta commentary, etc. Just explain your problem, and show what you&#39;ve tried, what you expected, and what actually happened."}],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":662,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688569629,"creation_date":1686658867,"question_id":76464881,"body_markdown":"I have a Java code which executes a Node snippet like this, which is very simple:\r\n\r\n    public void executeCommand(){\r\n        try{\r\n            System.out.println(command);\r\n            final long startTime = System.currentTimeMillis();\r\n            final Process p = Runtime.getRuntime().exec(command);\r\n            //final boolean done = p.waitFor(10, TimeUnit.SECONDS);\r\n            System.out.println(&quot;WAITING FOR THE COMMAND TO RESPOND. &quot;); \r\n            final Stream&lt;String&gt;data = new BufferedReader(new InputStreamReader(p.getInputStream())).lines().peek(System.out::println);\r\n            System.out.println(&quot;Step---&gt;1&quot;); \r\n            final List&lt;String&gt;lines = data.collect(Collectors.toList());\r\n            System.out.println(&quot;Step---&gt;2&quot;); \r\n            final long endTime = System.currentTimeMillis();\r\n            if(lines.isEmpty()){\r\n                System.out.println(&quot;empty response&quot;+&quot; in:&quot;+(endTime-startTime)+&quot; ms.&quot;);\r\n            }else{                \r\n                System.out.println(&quot;lines = &quot; + lines.size()+&quot; in:&quot;+(endTime-startTime)+&quot; ms.&quot;);\r\n                lines.forEach(System.out::println);\r\n                //System.out.println(&quot;lines = &quot; + lines.size()+&quot; in:&quot;+(endTime-startTime)+&quot; ms.&quot;);\r\n            }            \r\n        }catch(final Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nThe command variable is something like:\r\n\r\n    private final String command  = &quot;node C:\\\\Users\\\\chipe\\\\Desktop\\\\EjemploConChrome.js&quot;;                                    \r\n\r\nAnd the file is something like this. Indeed this is just a resemblance of [official plugin test code][1]:\r\n\r\n    // playwright-extra is a drop-in replacement for playwright,\r\n    // it augments the installed playwright with plugin functionality\r\n    const { chromium } = require(&#39;playwright-extra&#39;)\r\n    \r\n    // Load the stealth plugin and use defaults (all tricks to hide playwright usage)\r\n    // Note: playwright-extra is compatible with most puppeteer-extra plugins\r\n    const stealth = require(&#39;puppeteer-extra-plugin-stealth&#39;)()\r\n    \r\n    // Add the plugin to playwright (any number of plugins can be added)\r\n    chromium.use(stealth)\r\n    \r\n    // That&#39;s it, the rest is playwright usage as normal &#128522;\r\n    chromium.launch({ headless: false }).then(async browser =&gt; {\r\n      const page = await browser.newPage()\r\n    \r\n      console.log(&#39;Testing the stealth plugin..&#39;)\r\n      await page.goto(&#39;https://bot.sannysoft.com&#39;, { waitUntil: &#39;networkidle&#39; })\r\n      await page.screenshot({ path: &#39;stealth.png&#39;, fullPage: true })\r\n    \r\n      console.log(&#39;All done, check the screenshot. ✨&#39;)\r\n      await browser.close()\r\n    })\r\n\r\nWhen I executed it works correctly:\r\n\r\n[![Running Code using Chromium][2]][2]\r\n\r\nBut when I execute the Firefox version of it just replacing `chromium` with `firefox`:\r\n\r\n    // playwright-extra is a drop-in replacement for playwright,\r\n    // it augments the installed playwright with plugin functionality\r\n    const { firefox } = require(&#39;playwright-extra&#39;)\r\n    \r\n    // Load the stealth plugin and use defaults (all tricks to hide playwright usage)\r\n    // Note: playwright-extra is compatible with most puppeteer-extra plugins\r\n    const stealth = require(&#39;puppeteer-extra-plugin-stealth&#39;)()\r\n    \r\n    // Add the plugin to playwright (any number of plugins can be added)\r\n    firefox.use(stealth)\r\n    \r\n    // That&#39;s it, the rest is playwright usage as normal &#128522;\r\n    firefox.launch({ headless: false }).then(async browser =&gt; {\r\n      const page = await browser.newPage()\r\n    \r\n      console.log(&#39;Testing the stealth plugin..&#39;)\r\n      await page.goto(&#39;https://bot.sannysoft.com&#39;, { waitUntil: &#39;networkidle&#39; });\r\n      await page.screenshot({ path: &#39;stealth.png&#39;, fullPage: true })\r\n      console.log(&#39;All done, check the screenshot. ✨&#39;)\r\n      await browser.close()\r\n    })\r\n\r\nI can see the launching of 2 browsers instead of 1, but I don&#39;t know why.\r\n\r\nBut the execution never finish! But if I execute the command directly on command line it finish, but I need it in Java.\r\n\r\nThe browser keeps open and in this line.\r\n\r\n    await page.goto(&#39;https://bot.sannysoft.com&#39;, { waitUntil: &#39;networkidle&#39; });\r\n\r\nAnd the network is idle.\r\n\r\nWhat am I doing wrong?\r\n\r\n[![Running process][4]][4]\r\n\r\n[![Launches two browsers][5]][5]\r\n\r\nShutting down process manually:\r\n\r\n[![Shutting down process][3]][3]\r\n\r\n  [1]: https://github.com/berstend/puppeteer-extra/tree/master/packages/playwright-extra#-puppeteer-extra-plugin-stealth\r\n  [2]: https://i.stack.imgur.com/UpLSO.png\r\n  [3]: https://i.stack.imgur.com/gQS5x.png\r\n  [4]: https://i.stack.imgur.com/KLNCM.png\r\n  [5]: https://i.stack.imgur.com/N1cHS.png\r\n","title":"Playwright puppeteer-extra-plugin-stealth example with Firefox not finishing","body":"<p>I have a Java code which executes a Node snippet like this, which is very simple:</p>\n<pre><code>public void executeCommand(){\n    try{\n        System.out.println(command);\n        final long startTime = System.currentTimeMillis();\n        final Process p = Runtime.getRuntime().exec(command);\n        //final boolean done = p.waitFor(10, TimeUnit.SECONDS);\n        System.out.println(&quot;WAITING FOR THE COMMAND TO RESPOND. &quot;); \n        final Stream&lt;String&gt;data = new BufferedReader(new InputStreamReader(p.getInputStream())).lines().peek(System.out::println);\n        System.out.println(&quot;Step---&gt;1&quot;); \n        final List&lt;String&gt;lines = data.collect(Collectors.toList());\n        System.out.println(&quot;Step---&gt;2&quot;); \n        final long endTime = System.currentTimeMillis();\n        if(lines.isEmpty()){\n            System.out.println(&quot;empty response&quot;+&quot; in:&quot;+(endTime-startTime)+&quot; ms.&quot;);\n        }else{                \n            System.out.println(&quot;lines = &quot; + lines.size()+&quot; in:&quot;+(endTime-startTime)+&quot; ms.&quot;);\n            lines.forEach(System.out::println);\n            //System.out.println(&quot;lines = &quot; + lines.size()+&quot; in:&quot;+(endTime-startTime)+&quot; ms.&quot;);\n        }            \n    }catch(final Exception e){\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>The command variable is something like:</p>\n<pre><code>private final String command  = &quot;node C:\\\\Users\\\\chipe\\\\Desktop\\\\EjemploConChrome.js&quot;;                                    \n</code></pre>\n<p>And the file is something like this. Indeed this is just a resemblance of <a href=\"https://github.com/berstend/puppeteer-extra/tree/master/packages/playwright-extra#-puppeteer-extra-plugin-stealth\" rel=\"nofollow noreferrer\">official plugin test code</a>:</p>\n<pre><code>// playwright-extra is a drop-in replacement for playwright,\n// it augments the installed playwright with plugin functionality\nconst { chromium } = require('playwright-extra')\n\n// Load the stealth plugin and use defaults (all tricks to hide playwright usage)\n// Note: playwright-extra is compatible with most puppeteer-extra plugins\nconst stealth = require('puppeteer-extra-plugin-stealth')()\n\n// Add the plugin to playwright (any number of plugins can be added)\nchromium.use(stealth)\n\n// That's it, the rest is playwright usage as normal 😊\nchromium.launch({ headless: false }).then(async browser =&gt; {\n  const page = await browser.newPage()\n\n  console.log('Testing the stealth plugin..')\n  await page.goto('https://bot.sannysoft.com', { waitUntil: 'networkidle' })\n  await page.screenshot({ path: 'stealth.png', fullPage: true })\n\n  console.log('All done, check the screenshot. ✨')\n  await browser.close()\n})\n</code></pre>\n<p>When I executed it works correctly:</p>\n<p><a href=\"https://i.stack.imgur.com/UpLSO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UpLSO.png\" alt=\"Running Code using Chromium\" /></a></p>\n<p>But when I execute the Firefox version of it just replacing <code>chromium</code> with <code>firefox</code>:</p>\n<pre><code>// playwright-extra is a drop-in replacement for playwright,\n// it augments the installed playwright with plugin functionality\nconst { firefox } = require('playwright-extra')\n\n// Load the stealth plugin and use defaults (all tricks to hide playwright usage)\n// Note: playwright-extra is compatible with most puppeteer-extra plugins\nconst stealth = require('puppeteer-extra-plugin-stealth')()\n\n// Add the plugin to playwright (any number of plugins can be added)\nfirefox.use(stealth)\n\n// That's it, the rest is playwright usage as normal 😊\nfirefox.launch({ headless: false }).then(async browser =&gt; {\n  const page = await browser.newPage()\n\n  console.log('Testing the stealth plugin..')\n  await page.goto('https://bot.sannysoft.com', { waitUntil: 'networkidle' });\n  await page.screenshot({ path: 'stealth.png', fullPage: true })\n  console.log('All done, check the screenshot. ✨')\n  await browser.close()\n})\n</code></pre>\n<p>I can see the launching of 2 browsers instead of 1, but I don't know why.</p>\n<p>But the execution never finish! But if I execute the command directly on command line it finish, but I need it in Java.</p>\n<p>The browser keeps open and in this line.</p>\n<pre><code>await page.goto('https://bot.sannysoft.com', { waitUntil: 'networkidle' });\n</code></pre>\n<p>And the network is idle.</p>\n<p>What am I doing wrong?</p>\n<p><a href=\"https://i.stack.imgur.com/KLNCM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KLNCM.png\" alt=\"Running process\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/N1cHS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N1cHS.png\" alt=\"Launches two browsers\" /></a></p>\n<p>Shutting down process manually:</p>\n<p><a href=\"https://i.stack.imgur.com/gQS5x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQS5x.png\" alt=\"Shutting down process\" /></a></p>\n"},{"tags":["java","mysql","sql","hibernate","criteria"],"comments":[{"owner":{"account_id":1270321,"reputation":340,"user_id":1226773,"display_name":"birya"},"score":0,"creation_date":1408465473,"post_id":25388069,"comment_id":39595513,"body_markdown":"Are you sure your first code snippet is correct? You creating 2 criterias, but you get list using first one. You need to use createAlias (which is actually a JOIN) instead of createCriteria","body":"Are you sure your first code snippet is correct? You creating 2 criterias, but you get list using first one. You need to use createAlias (which is actually a JOIN) instead of createCriteria"},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1408470747,"post_id":25388069,"comment_id":39598288,"body_markdown":"createCriteria or createAlias is the same in this case. and yes is correct.","body":"createCriteria or createAlias is the same in this case. and yes is correct."},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1408477716,"post_id":25388069,"comment_id":39601915,"body_markdown":"i use createCriteria because i create another JOIN later with the 2 one.","body":"i use createCriteria because i create another JOIN later with the 2 one."}],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688569509,"creation_date":1408464317,"question_id":25388069,"body_markdown":"I have a simple Criteria like this:\r\n\r\nStudent has only one School (this is just a illustrative example).\r\n\r\n    private List&lt;Student&gt;getData()\r\n    {\r\n        final Session session = ...............\r\n        final Criteria criteria = session.createCriteria(Student.class);\r\n        final Criteria criteria2 = criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.LEFT_OUTER_JOIN,isNotNull(&quot;status&quot;));\r\n        return criteria.list();\r\n    }\r\n\r\nI need the Students even if they not have a School... but if they have the School I need the `Status` is not `NULL`.\r\n\r\nI was wondering if this\r\n\r\n     criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.LEFT_OUTER_JOIN,isNotNull(&quot;status&quot;));\r\n\r\nFilterings using `left-outer-join` are useless because I am getting the `Schools with null status`\r\n\r\nBut if I apply this\r\n\r\n    final Criteria criteria2 = criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.LEFT_OUTER_JOIN);\r\n    criteria2.add(isNotNull(&quot;status&quot;));\r\n\r\nIt works or if I apply:\r\n    \r\n    criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.INNER_JOIN,isNotNull(&quot;status&quot;));\r\n\r\nworks as well.\r\n\r\nShould I never put criteria or filters in `createCriteria o createAlias` using left-Outer-Join are they just ignored or how can that be used?\r\n\r\nWhat are the diffs between using in the `ON` or use the same criteria in regular criteria using `.add(`?\r\n","title":"Are Java Hibernate Criteria leftOuterJoin criterion useless?","body":"<p>I have a simple Criteria like this:</p>\n<p>Student has only one School (this is just a illustrative example).</p>\n<pre><code>private List&lt;Student&gt;getData()\n{\n    final Session session = ...............\n    final Criteria criteria = session.createCriteria(Student.class);\n    final Criteria criteria2 = criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.LEFT_OUTER_JOIN,isNotNull(&quot;status&quot;));\n    return criteria.list();\n}\n</code></pre>\n<p>I need the Students even if they not have a School... but if they have the School I need the <code>Status</code> is not <code>NULL</code>.</p>\n<p>I was wondering if this</p>\n<pre><code> criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.LEFT_OUTER_JOIN,isNotNull(&quot;status&quot;));\n</code></pre>\n<p>Filterings using <code>left-outer-join</code> are useless because I am getting the <code>Schools with null status</code></p>\n<p>But if I apply this</p>\n<pre><code>final Criteria criteria2 = criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.LEFT_OUTER_JOIN);\ncriteria2.add(isNotNull(&quot;status&quot;));\n</code></pre>\n<p>It works or if I apply:</p>\n<pre><code>criteria.createCriteria(&quot;school&quot;,&quot;school&quot;,JoinType.INNER_JOIN,isNotNull(&quot;status&quot;));\n</code></pre>\n<p>works as well.</p>\n<p>Should I never put criteria or filters in <code>createCriteria o createAlias</code> using left-Outer-Join are they just ignored or how can that be used?</p>\n<p>What are the diffs between using in the <code>ON</code> or use the same criteria in regular criteria using <code>.add(</code>?</p>\n"},{"tags":["java","selenium-webdriver","testng"],"answers":[{"tags":[],"owner":{"account_id":5039486,"reputation":1,"user_id":4047353,"display_name":"Ramkee Venkatraman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485558431,"creation_date":1485558431,"answer_id":41904476,"question_id":37682186,"body_markdown":"Yes it is possible. Since extent report is open source. One could edit the function which formulate the structure of our final report. But since extent report uses different functionalities, just modifying an endtest would cause a cascading effect on everything. \r\nOr another way is to save the data before flush is called and by calling flussh everytime. One could replace the existing file over and over. \r\nMy best bet is too leave it as it is and get other listener jars to do the work for you.\r\n","title":"Extent Report Monitoring","body":"<p>Yes it is possible. Since extent report is open source. One could edit the function which formulate the structure of our final report. But since extent report uses different functionalities, just modifying an endtest would cause a cascading effect on everything. \nOr another way is to save the data before flush is called and by calling flussh everytime. One could replace the existing file over and over. \nMy best bet is too leave it as it is and get other listener jars to do the work for you.</p>\n"}],"owner":{"account_id":7313269,"reputation":603,"user_id":5571746,"accept_rate":59,"display_name":"colin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688569351,"creation_date":1465309892,"question_id":37682186,"body_markdown":"Is it possible to use ExtentReport to generate the HTML Report during the tests being executed when it&#39;s used as a listener?\r\n\r\nFor example, instead of the report being generated when the tests are finished, could the report be generated after the first test, and so on? I want to use ExtentReport to monitor the progress of my tests as well and showing the results.\r\n\r\nI&#39;ve learnt it&#39;s possible when using as a logger, as you can do a flush after each tests. However is it possible while using Extent as a Listener?","title":"Extent Report Monitoring","body":"<p>Is it possible to use ExtentReport to generate the HTML Report during the tests being executed when it's used as a listener?</p>\n<p>For example, instead of the report being generated when the tests are finished, could the report be generated after the first test, and so on? I want to use ExtentReport to monitor the progress of my tests as well and showing the results.</p>\n<p>I've learnt it's possible when using as a logger, as you can do a flush after each tests. However is it possible while using Extent as a Listener?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"comments":[{"owner":{"account_id":4004702,"reputation":2085,"user_id":3299693,"accept_rate":72,"display_name":"Battle_Slug"},"score":0,"creation_date":1688040361,"post_id":76579202,"comment_id":135022028,"body_markdown":"Thank you! Would it be acceptable to spawn a separate thread in the Punctuator to clean up the store? I&#39;m thinking no because that would assume concurrent modification of the values and hence, possible inconsistency. Otherwise what options do I have to avoid blocking the topology?","body":"Thank you! Would it be acceptable to spawn a separate thread in the Punctuator to clean up the store? I&#39;m thinking no because that would assume concurrent modification of the values and hence, possible inconsistency. Otherwise what options do I have to avoid blocking the topology?"},{"owner":{"account_id":4004702,"reputation":2085,"user_id":3299693,"accept_rate":72,"display_name":"Battle_Slug"},"score":0,"creation_date":1688040806,"post_id":76579202,"comment_id":135022130,"body_markdown":"From what I see here https://stackoverflow.com/questions/57318983/is-processorcontext-schedule-thread-safe spawning a new thread is not possible","body":"From what I see here <a href=\"https://stackoverflow.com/questions/57318983/is-processorcontext-schedule-thread-safe\" title=\"is processorcontext schedule thread safe\">stackoverflow.com/questions/57318983/&hellip;</a> spawning a new thread is not possible"},{"owner":{"account_id":28912018,"reputation":166,"user_id":22144895,"display_name":"Kacper Roszczyna"},"score":1,"creation_date":1688055309,"post_id":76579202,"comment_id":135025567,"body_markdown":"It is not, your threading model is limited by what KafkaStreams allows. Hence you have one thread per subtopology. Also if you did that (somehow) you run the risk of ConcurrentModificationException. You can use the range operator to clean up in batches though.","body":"It is not, your threading model is limited by what KafkaStreams allows. Hence you have one thread per subtopology. Also if you did that (somehow) you run the risk of ConcurrentModificationException. You can use the range operator to clean up in batches though."},{"owner":{"account_id":4004702,"reputation":2085,"user_id":3299693,"accept_rate":72,"display_name":"Battle_Slug"},"score":0,"creation_date":1688074684,"post_id":76579202,"comment_id":135029045,"body_markdown":"So I deployed the code and I&#39;m seeing that the when I do `put()` then during the next punctuation if 5 mins I&#39;m reading the value unchanged. Do you think there&#39;s anything I can look into to understand what&#39;s happening? Thank you.","body":"So I deployed the code and I&#39;m seeing that the when I do <code>put()</code> then during the next punctuation if 5 mins I&#39;m reading the value unchanged. Do you think there&#39;s anything I can look into to understand what&#39;s happening? Thank you."},{"owner":{"account_id":4004702,"reputation":2085,"user_id":3299693,"accept_rate":72,"display_name":"Battle_Slug"},"score":0,"creation_date":1688075011,"post_id":76579202,"comment_id":135029089,"body_markdown":"the problem is that the store I recieve from the context is KeyValueIterator&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt;.\nI don&#39;t understand how to right back to this store. If I just write the same value as I get supposing that the underlying ExampleObject is written with the changes since it&#39;s passed by reference, then when I read it it&#39;s unchanged. Any thoughts?","body":"the problem is that the store I recieve from the context is KeyValueIterator&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt;. I don&#39;t understand how to right back to this store. If I just write the same value as I get supposing that the underlying ExampleObject is written with the changes since it&#39;s passed by reference, then when I read it it&#39;s unchanged. Any thoughts?"},{"owner":{"account_id":28912018,"reputation":166,"user_id":22144895,"display_name":"Kacper Roszczyna"},"score":1,"creation_date":1688109044,"post_id":76579202,"comment_id":135032329,"body_markdown":"The store will store exactly what you put in there. If you&#39;ve not deleted the object your punctuator will iterate the whole store. I&#39;d suggest TopologyTestDriver to see it in action under a debugger perhaps.","body":"The store will store exactly what you put in there. If you&#39;ve not deleted the object your punctuator will iterate the whole store. I&#39;d suggest TopologyTestDriver to see it in action under a debugger perhaps."},{"owner":{"account_id":4004702,"reputation":2085,"user_id":3299693,"accept_rate":72,"display_name":"Battle_Slug"},"score":0,"creation_date":1688150274,"post_id":76579202,"comment_id":135040355,"body_markdown":"What I&#39;m saying is I&#39;m modifying the object doing put instead of delete. And this has not effect, so there&#39;s something wrong.","body":"What I&#39;m saying is I&#39;m modifying the object doing put instead of delete. And this has not effect, so there&#39;s something wrong."},{"owner":{"account_id":28912018,"reputation":166,"user_id":22144895,"display_name":"Kacper Roszczyna"},"score":1,"creation_date":1688209381,"post_id":76579202,"comment_id":135045403,"body_markdown":"What are you using to verify that the object has been updated? Interactive queries? Store retrieved by TopologyTestDriver? Logging? As far as I can tell your code should work. Please note that aggregate does not propagate tombstones, so if you depend on them for your deletion this might never happen.","body":"What are you using to verify that the object has been updated? Interactive queries? Store retrieved by TopologyTestDriver? Logging? As far as I can tell your code should work. Please note that aggregate does not propagate tombstones, so if you depend on them for your deletion this might never happen."},{"owner":{"account_id":4004702,"reputation":2085,"user_id":3299693,"accept_rate":72,"display_name":"Battle_Slug"},"score":0,"creation_date":1688569372,"post_id":76579202,"comment_id":135091591,"body_markdown":"I&#39;ve updated the post with the code on how I check the value. I think it doesn&#39;t matter if I write a test if when deployed in Kubernetes I&#39;m seeing unchanged value always after updating the store... I wonder what can be wrong?","body":"I&#39;ve updated the post with the code on how I check the value. I think it doesn&#39;t matter if I write a test if when deployed in Kubernetes I&#39;m seeing unchanged value always after updating the store... I wonder what can be wrong?"},{"owner":{"account_id":28912018,"reputation":166,"user_id":22144895,"display_name":"Kacper Roszczyna"},"score":1,"creation_date":1688571342,"post_id":76579202,"comment_id":135092077,"body_markdown":"If you are sure your punctuator runs (I see it run every 5 minutes), then check if the changelog topic has the updated messages. If it does maybe your persistent state store does not have the ability to write to the disk (for example due to user permissions). As I mentioned earlier code looks fine. Did you try testing with TestContainers?","body":"If you are sure your punctuator runs (I see it run every 5 minutes), then check if the changelog topic has the updated messages. If it does maybe your persistent state store does not have the ability to write to the disk (for example due to user permissions). As I mentioned earlier code looks fine. Did you try testing with TestContainers?"},{"owner":{"account_id":4004702,"reputation":2085,"user_id":3299693,"accept_rate":72,"display_name":"Battle_Slug"},"score":0,"creation_date":1688574124,"post_id":76579202,"comment_id":135092800,"body_markdown":"I did not try testing with TestContainers yet. How do I check the changelog topic?","body":"I did not try testing with TestContainers yet. How do I check the changelog topic?"},{"owner":{"account_id":4004702,"reputation":2085,"user_id":3299693,"accept_rate":72,"display_name":"Battle_Slug"},"score":0,"creation_date":1688577688,"post_id":76579202,"comment_id":135093532,"body_markdown":"I&#39;m also seeing that I&#39;m able to write to one of the state stores but not to another. This means that it&#39;s not a matter of container permissions. How can I debug this?","body":"I&#39;m also seeing that I&#39;m able to write to one of the state stores but not to another. This means that it&#39;s not a matter of container permissions. How can I debug this?"},{"owner":{"account_id":28912018,"reputation":166,"user_id":22144895,"display_name":"Kacper Roszczyna"},"score":1,"creation_date":1688631695,"post_id":76579202,"comment_id":135100442,"body_markdown":"It might be an issue with either topic permissions - check the broker logs then - you should see at least an exception in there. Or it may be an issue with volume permissions - should see an issue in kafka streams app logs.","body":"It might be an issue with either topic permissions - check the broker logs then - you should see at least an exception in there. Or it may be an issue with volume permissions - should see an issue in kafka streams app logs."},{"owner":{"account_id":4004702,"reputation":2085,"user_id":3299693,"accept_rate":72,"display_name":"Battle_Slug"},"score":0,"creation_date":1688670800,"post_id":76579202,"comment_id":135108757,"body_markdown":"No exceptions I&#39;m seeing... Will continue digging","body":"No exceptions I&#39;m seeing... Will continue digging"}],"tags":[],"owner":{"account_id":28912018,"reputation":166,"user_id":22144895,"display_name":"Kacper Roszczyna"},"comment_count":14,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688026406,"creation_date":1688026406,"answer_id":76579202,"question_id":76574983,"body_markdown":"Since there are multiple questions it&#39;s best to answer one by one:\r\n\r\n 1. Is this a legit usage of the ProcessorAPI in my case? Or do I need to use Topology.addProcessor()? Or are those two are essentially the same? **It is a legit use of processor API to clean up your state stores. In fact that&#39;s pretty much the way to do it. One thing to be mindful of is that if the time taken to iterate through the whole store will be longer than task timeout it will cause your app to crash. Process() method under the hood does pretty much Topology.addProcessor() so this is all.**\r\n2. Do I need to commit anything? **No you do not. You are not forwarding any records so if your use case is a store clean up this is it.**\r\n3. I&#39;m doing Ktable.toStream() since process() is a terminal operation. Do I just need to use transformValues() instead and put it somewhere before aggregate()? As I understand, transform is stateful unlike process, how does this affect the performance? Will it change the existing topology and corrupt the changelog topic because of that? **`process` is a terminal operation in versions of KafkaStreams before 3.3.x. In these versions utilize the `transform` operation. Your transform operation is stateful (because of attaching a store), but overall it doesn&#39;t have to be stateful. The statefulness of your operations doesn&#39;t impact performance here since you are not publishing new messages, or repartitioning. It will not hurt your topology, but it may cause a small change to it. If you&#39;d like to compare topologies use `describe` method and compare them. However it will impact overall message processing, since while the punctuator is running messages are not processed in the subtopology (other processors are not running).**\r\n\r\n4. Since I only care about accessing the StateStore, do I need to do anything in the process() method? **If you are using `process` it is terminal, and no further work needs to be done. If you were to use `transform` you&#39;d need to forward incoming records, otherwise they would simply be lost. This operation is performed using `context.forward()` method.**\r\n5. Is there any performance difference between STREAM_TIME and WALL_CLOCK_TIME? Let&#39;s suppose with my data they are going to go side by side, so it&#39;s not the question if one happens more often than the other, I mean, are they are managed by the same thread as the task, or are there any quirks? **I&#39;d start here: [link][1]. But long story short: wall clock time advances always (it&#39;s the one you want for your case), but the stream time advances only when records arrive. So if you had a stream that rarely had anything published to it your punctuator wouldn&#39;t run on time.**\r\n6. Is the operation in Punctuator going to update the changelog topic too? **Yes. All local state stores are backed by changelog topics, so tombstones will be published to the topic.**\r\n7. Is adding that kind of operation to an existing stateful app considered a change in topology, and will it corrupt the existing data? **It is a change to topology since you are adding a processor. It will not corrupt data, since you are not changing the objects published to Kafka. Also if you were publishing JSON objects there wouldn&#39;t be data corruption, but in case of Avro or Protobuf.**\r\n\r\nOverall your code looks solid, I would be a little worried about the punctuator taking a lot of time, because it will stop the processing of messages for the subtopology as long as it runs. \r\n\r\n\r\n  [1]: https://kafka.apache.org/11/javadoc/org/apache/kafka/streams/processor/PunctuationType.html","title":"Kafka Streams bulk entry update/delete by Punctuator","body":"<p>Since there are multiple questions it's best to answer one by one:</p>\n<ol>\n<li><p>Is this a legit usage of the ProcessorAPI in my case? Or do I need to use Topology.addProcessor()? Or are those two are essentially the same? <strong>It is a legit use of processor API to clean up your state stores. In fact that's pretty much the way to do it. One thing to be mindful of is that if the time taken to iterate through the whole store will be longer than task timeout it will cause your app to crash. Process() method under the hood does pretty much Topology.addProcessor() so this is all.</strong></p>\n</li>\n<li><p>Do I need to commit anything? <strong>No you do not. You are not forwarding any records so if your use case is a store clean up this is it.</strong></p>\n</li>\n<li><p>I'm doing Ktable.toStream() since process() is a terminal operation. Do I just need to use transformValues() instead and put it somewhere before aggregate()? As I understand, transform is stateful unlike process, how does this affect the performance? Will it change the existing topology and corrupt the changelog topic because of that? <strong><code>process</code> is a terminal operation in versions of KafkaStreams before 3.3.x. In these versions utilize the <code>transform</code> operation. Your transform operation is stateful (because of attaching a store), but overall it doesn't have to be stateful. The statefulness of your operations doesn't impact performance here since you are not publishing new messages, or repartitioning. It will not hurt your topology, but it may cause a small change to it. If you'd like to compare topologies use <code>describe</code> method and compare them. However it will impact overall message processing, since while the punctuator is running messages are not processed in the subtopology (other processors are not running).</strong></p>\n</li>\n<li><p>Since I only care about accessing the StateStore, do I need to do anything in the process() method? <strong>If you are using <code>process</code> it is terminal, and no further work needs to be done. If you were to use <code>transform</code> you'd need to forward incoming records, otherwise they would simply be lost. This operation is performed using <code>context.forward()</code> method.</strong></p>\n</li>\n<li><p>Is there any performance difference between STREAM_TIME and WALL_CLOCK_TIME? Let's suppose with my data they are going to go side by side, so it's not the question if one happens more often than the other, I mean, are they are managed by the same thread as the task, or are there any quirks? <strong>I'd start here: <a href=\"https://kafka.apache.org/11/javadoc/org/apache/kafka/streams/processor/PunctuationType.html\" rel=\"nofollow noreferrer\">link</a>. But long story short: wall clock time advances always (it's the one you want for your case), but the stream time advances only when records arrive. So if you had a stream that rarely had anything published to it your punctuator wouldn't run on time.</strong></p>\n</li>\n<li><p>Is the operation in Punctuator going to update the changelog topic too? <strong>Yes. All local state stores are backed by changelog topics, so tombstones will be published to the topic.</strong></p>\n</li>\n<li><p>Is adding that kind of operation to an existing stateful app considered a change in topology, and will it corrupt the existing data? <strong>It is a change to topology since you are adding a processor. It will not corrupt data, since you are not changing the objects published to Kafka. Also if you were publishing JSON objects there wouldn't be data corruption, but in case of Avro or Protobuf.</strong></p>\n</li>\n</ol>\n<p>Overall your code looks solid, I would be a little worried about the punctuator taking a lot of time, because it will stop the processing of messages for the subtopology as long as it runs.</p>\n"}],"owner":{"account_id":4004702,"reputation":2085,"user_id":3299693,"accept_rate":72,"display_name":"Battle_Slug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688569302,"creation_date":1687968713,"question_id":76574983,"body_markdown":"I have a stateful Kafka Streams app, and I need to implement regular deletions based on a condition.\r\nI&#39;ve come up with a solution based on the ProcessorAPI which is explained in documentation, but looks like I&#39;m missing the intuition here, so I&#39;m having some doubts.\r\n\r\nI have bunch of streams like this for every StateStore I create during the app initialization:\r\n\r\n        private void doStuff(KStream&lt;String, ExampleObject&gt; sourceStream, \r\n             Materialized&lt;String, ExampleObject, KeyValueStore&lt;Bytes, byte[]&gt;&gt; materialized, String tableName) {   \r\n    \t     KTable&lt;String, ExampleObject&gt; ktable = sourceStream.groupByKey()\r\n                                       .aggregate(() -&gt; null, (id, newValue, existingValue) -&gt; {...}, materialized);\r\n    \t     ktable.toStream().process(new PunctuatorProcessorSupplier(tableName), tableName);                             \r\n        }\r\n\r\nAnd I have this Processor (I omit the Supplier for shortness because the implementation is trivial, it just returns new Processor every time)\r\n\r\n    private static class PunctuatorProcessor implements\r\n        Processor&lt;String, ExampleObject&gt; {\r\n\r\n        private final String stateStoreName;\r\n        \r\n        private Cancellable cancellable;\r\n\r\n        private PunctuatorProcessor(String stateStoreName) {\r\n            this.stateStoreName = stateStoreName;\r\n        }\r\n\r\n        @Override\r\n        public void init(ProcessorContext context) {\r\n            KeyValueStore&lt;String, ExampleObject&gt; stateStore = \r\n                (KeyValueStore&lt;String, ExampleObject&gt;) context.getStateStore(this.stateStoreName);\r\n            this.cancellable = context.schedule(Duration.ofDays(1),\r\n                PunctuationType.WALL_CLOCK_TIME, getPunctuator(stateStore));\r\n        }\r\n\r\n        @Override\r\n        public void process(String key, ExampleObject value) {\r\n            \r\n        }\r\n\r\n        private static Punctuator getPunctuator(KeyValueStore&lt;String, ExampleObject&gt; stateStore) {\r\n            return timestamp -&gt; {\r\n                try (final KeyValueIterator&lt;String, ExampleObject&gt; iter = stateStore.all()) {\r\n                    while (iter.hasNext()) {\r\n                        final KeyValue&lt;String, ExampleObject&gt; entry = iter.next();\r\n                        if (some condition) {\r\n                            // Update the object.\r\n                            stateStore.put(entry.key, entry.value);\r\n                            // OR delete the object.\r\n                            stateStore.delete(entry.key);\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n        }\r\n\r\n        @Override\r\n        public void close() {\r\n            this.cancellable.cancel();\r\n        }\r\n    }\r\n\r\nNow the questions:\r\n1. Is this a legit usage of the ProcessorAPI in my case? Or do I need to use `Topology.addProcessor()`? Or are those two are essentially the same?\r\n2. Do I need to commit anything?\r\n3. I&#39;m doing `Ktable.toStream()` since `process()` is a terminal operation. Do I just need to use `transformValues()` instead and put it somewhere before aggregate()? As I understand, `transform` is stateful unlike `process`, how does this affect the performance? Will it change the existing topology and corrupt the changelog topic because of that?\r\n4. Since I only care about accessing the StateStore, do I need to do anything in the `process()` method?\r\n5. Is there any performance difference between STREAM_TIME and WALL_CLOCK_TIME? Let&#39;s suppose with my data they are going to go side by side, so it&#39;s not the question if one happens more often than the other, I mean, are they are managed by the same thread as the task, or are there any quirks?\r\n6. Is the operation in Punctuator going to update the changelog topic too?\r\n7. Is adding that kind of operation to an existing stateful app considered a change in topology, and will it corrupt the existing data?\r\n\r\nThank you!\r\n=====UPDATE======\r\nI use the following code to check if update is happening in the stateStore, and I see that the Punctuator always receives the value that&#39;s not updated. So the update is either not written or lost.\r\n\r\nThe timestamped stateStore is returned from the context:\r\n\r\n    public void init(ProcessorContext context) {\r\n        this.context = context;\r\n        KeyValueStore&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; stateStore = \r\n            (KeyValueStore&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt;) context.getStateStore(this.stateStoreName);\r\n        this.cancellable = context.schedule(Duration.ofMinutes(5),\r\n            PunctuationType.WALL_CLOCK_TIME, getPunctuator(stateStore, stateStoreName, context));\r\n    }\r\n\r\nThen I read, update and then I read again and the logger logs unchanged value:\r\n\r\n        private Punctuator getPunctuator(KeyValueStore&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; stateStore) {\r\n            return timestamp -&gt; {\r\n                try (final KeyValueIterator&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; iter = stateStore.all()) {\r\n                    String testId = &quot;someId&quot;;\r\n                    logger.info(&quot;Punctuator started with stateStore {}&quot;, stateStoreName);\r\n                    while (iter.hasNext()) {\r\n                        final KeyValue&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; entry = iter.next();\r\n                        String key = entry.key;\r\n                        if (testId.equals(key)) {\r\n                            ExampleObject value = entry.value.value();\r\n                            logger.info(\r\n                                &quot;PunctuatorProcessor in action, storeName {} testId {}, current ExampleObject {}&quot;,\r\n                                stateStoreName, key, value);\r\n                            boolean stripped = stripElement(value);\r\n                            logger.info(\r\n                                &quot;PunctuatorProcessor in action, storeName {} testId {}, found and stripped: {}&quot;,\r\n                                stateStoreName, key, stripped);\r\n                            if (stripped) {\r\n                                stateStore.put(key, ValueAndTimestamp.make(value, context.timestamp()));\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n    ;\r\n            }\r\nWhy the value is always unchanged? The punctuator Duration is 10 mins.","title":"Kafka Streams bulk entry update/delete by Punctuator","body":"<p>I have a stateful Kafka Streams app, and I need to implement regular deletions based on a condition.\nI've come up with a solution based on the ProcessorAPI which is explained in documentation, but looks like I'm missing the intuition here, so I'm having some doubts.</p>\n<p>I have bunch of streams like this for every StateStore I create during the app initialization:</p>\n<pre><code>    private void doStuff(KStream&lt;String, ExampleObject&gt; sourceStream, \n         Materialized&lt;String, ExampleObject, KeyValueStore&lt;Bytes, byte[]&gt;&gt; materialized, String tableName) {   \n         KTable&lt;String, ExampleObject&gt; ktable = sourceStream.groupByKey()\n                                   .aggregate(() -&gt; null, (id, newValue, existingValue) -&gt; {...}, materialized);\n         ktable.toStream().process(new PunctuatorProcessorSupplier(tableName), tableName);                             \n    }\n</code></pre>\n<p>And I have this Processor (I omit the Supplier for shortness because the implementation is trivial, it just returns new Processor every time)</p>\n<pre><code>private static class PunctuatorProcessor implements\n    Processor&lt;String, ExampleObject&gt; {\n\n    private final String stateStoreName;\n    \n    private Cancellable cancellable;\n\n    private PunctuatorProcessor(String stateStoreName) {\n        this.stateStoreName = stateStoreName;\n    }\n\n    @Override\n    public void init(ProcessorContext context) {\n        KeyValueStore&lt;String, ExampleObject&gt; stateStore = \n            (KeyValueStore&lt;String, ExampleObject&gt;) context.getStateStore(this.stateStoreName);\n        this.cancellable = context.schedule(Duration.ofDays(1),\n            PunctuationType.WALL_CLOCK_TIME, getPunctuator(stateStore));\n    }\n\n    @Override\n    public void process(String key, ExampleObject value) {\n        \n    }\n\n    private static Punctuator getPunctuator(KeyValueStore&lt;String, ExampleObject&gt; stateStore) {\n        return timestamp -&gt; {\n            try (final KeyValueIterator&lt;String, ExampleObject&gt; iter = stateStore.all()) {\n                while (iter.hasNext()) {\n                    final KeyValue&lt;String, ExampleObject&gt; entry = iter.next();\n                    if (some condition) {\n                        // Update the object.\n                        stateStore.put(entry.key, entry.value);\n                        // OR delete the object.\n                        stateStore.delete(entry.key);\n                    }\n                }\n            }\n        };\n    }\n\n    @Override\n    public void close() {\n        this.cancellable.cancel();\n    }\n}\n</code></pre>\n<p>Now the questions:</p>\n<ol>\n<li>Is this a legit usage of the ProcessorAPI in my case? Or do I need to use <code>Topology.addProcessor()</code>? Or are those two are essentially the same?</li>\n<li>Do I need to commit anything?</li>\n<li>I'm doing <code>Ktable.toStream()</code> since <code>process()</code> is a terminal operation. Do I just need to use <code>transformValues()</code> instead and put it somewhere before aggregate()? As I understand, <code>transform</code> is stateful unlike <code>process</code>, how does this affect the performance? Will it change the existing topology and corrupt the changelog topic because of that?</li>\n<li>Since I only care about accessing the StateStore, do I need to do anything in the <code>process()</code> method?</li>\n<li>Is there any performance difference between STREAM_TIME and WALL_CLOCK_TIME? Let's suppose with my data they are going to go side by side, so it's not the question if one happens more often than the other, I mean, are they are managed by the same thread as the task, or are there any quirks?</li>\n<li>Is the operation in Punctuator going to update the changelog topic too?</li>\n<li>Is adding that kind of operation to an existing stateful app considered a change in topology, and will it corrupt the existing data?</li>\n</ol>\n<p>Thank you!\n=====UPDATE======\nI use the following code to check if update is happening in the stateStore, and I see that the Punctuator always receives the value that's not updated. So the update is either not written or lost.</p>\n<p>The timestamped stateStore is returned from the context:</p>\n<pre><code>public void init(ProcessorContext context) {\n    this.context = context;\n    KeyValueStore&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; stateStore = \n        (KeyValueStore&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt;) context.getStateStore(this.stateStoreName);\n    this.cancellable = context.schedule(Duration.ofMinutes(5),\n        PunctuationType.WALL_CLOCK_TIME, getPunctuator(stateStore, stateStoreName, context));\n}\n</code></pre>\n<p>Then I read, update and then I read again and the logger logs unchanged value:</p>\n<pre><code>    private Punctuator getPunctuator(KeyValueStore&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; stateStore) {\n        return timestamp -&gt; {\n            try (final KeyValueIterator&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; iter = stateStore.all()) {\n                String testId = &quot;someId&quot;;\n                logger.info(&quot;Punctuator started with stateStore {}&quot;, stateStoreName);\n                while (iter.hasNext()) {\n                    final KeyValue&lt;String, ValueAndTimestamp&lt;ExampleObject&gt;&gt; entry = iter.next();\n                    String key = entry.key;\n                    if (testId.equals(key)) {\n                        ExampleObject value = entry.value.value();\n                        logger.info(\n                            &quot;PunctuatorProcessor in action, storeName {} testId {}, current ExampleObject {}&quot;,\n                            stateStoreName, key, value);\n                        boolean stripped = stripElement(value);\n                        logger.info(\n                            &quot;PunctuatorProcessor in action, storeName {} testId {}, found and stripped: {}&quot;,\n                            stateStoreName, key, stripped);\n                        if (stripped) {\n                            stateStore.put(key, ValueAndTimestamp.make(value, context.timestamp()));\n                        }\n                    }\n                }\n            }\n        }\n\n;\n        }\n</code></pre>\n<p>Why the value is always unchanged? The punctuator Duration is 10 mins.</p>\n"},{"tags":["java","spring-boot","jpa","hashset","hashcode"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1688578774,"post_id":76621524,"comment_id":135093710,"body_markdown":"Sets are fine as long as you don&#39;t have different instances of your entities - JPA maintains entity identity for you, so if you read PolicyCounty1 and UserPolicyQuery1 through the same context, you&#39;ll see that PolicyCounty1 will reference the same UserPolicyQuery1 instance in its set - so the java default hashcode and equals will work (for standard settings). Your code is fine if it is within the same transaction: It is only when you get to copies read in diff contexts things fall apart, as separate instances for the same data will have different hashcodes.","body":"Sets are fine as long as you don&#39;t have different instances of your entities - JPA maintains entity identity for you, so if you read PolicyCounty1 and UserPolicyQuery1 through the same context, you&#39;ll see that PolicyCounty1 will reference the same UserPolicyQuery1 instance in its set - so the java default hashcode and equals will work (for standard settings). Your code is fine if it is within the same transaction: It is only when you get to copies read in diff contexts things fall apart, as separate instances for the same data will have different hashcodes."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1688579730,"post_id":76621524,"comment_id":135093905,"body_markdown":"I am performing all these steps within a single transaction. If anything fails, everything will be rolled back. I tested the API and its working, but I don&#39;t know if anything can go wrong with this approach.","body":"I am performing all these steps within a single transaction. If anything fails, everything will be rolled back. I tested the API and its working, but I don&#39;t know if anything can go wrong with this approach."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1688580364,"post_id":76621524,"comment_id":135094039,"body_markdown":"If you are looking for pain points - I think you know them, and I don&#39;t use sets since lists work just fine for the most part. But the issue still exists regardless; if you have two java instances for the same row data, you need to find your own ways to determine that they really are the same. JPA does that automatically with the entity ID values, and this code is doing something similar by pulling the IDs out and using JPA to find &#39;the&#39; entity in the current context for that data - it is the right approach.","body":"If you are looking for pain points - I think you know them, and I don&#39;t use sets since lists work just fine for the most part. But the issue still exists regardless; if you have two java instances for the same row data, you need to find your own ways to determine that they really are the same. JPA does that automatically with the entity ID values, and this code is doing something similar by pulling the IDs out and using JPA to find &#39;the&#39; entity in the current context for that data - it is the right approach."}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688568494,"creation_date":1688568494,"question_id":76621524,"body_markdown":"I have a requirement where I need to update the entities on either side of a ManyToMany mapping.  \r\nI have a **InsurancePolicy** entity-\r\n```\r\n@Entity\r\n@Table(name = &quot;insurance_policy&quot;)\r\n@Setter\r\n@NoArgsConstructor\r\npublic class InsurancePolicy {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;policy_id&quot;)\r\n    private long policyId;\r\n\r\n    @Column(name=&quot;policy_name&quot;,nullable = false,unique = true)\r\n    private String policyName;\r\n\r\n    //Short description\r\n    @Column(name=&quot;policy_description&quot;,nullable = false)\r\n    private String policyDescription;\r\n\r\n    //Long description\r\n    @Column(name=&quot;choose_description&quot;,nullable = false)\r\n    private String chooseDescription;\r\n\r\n\r\n    //many policies can belong to one category\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;company_id&quot;, nullable = false)\r\n    private Company company;\r\n\r\n    //many policies can belong to one category\r\n    @ManyToOne(fetch=FetchType.LAZY)\r\n    @JoinColumn(name=&quot;category_id&quot;,nullable=false)\r\n    private Category category;\r\n\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;policy&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY, orphanRemoval = true)\r\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\r\n}\r\n```\r\nand **PolicyCounty** entity-  \r\n```\r\n@NoArgsConstructor\r\n@Setter\r\n@Entity\r\n@Table(name=&quot;policy_county&quot;)\r\npublic class PolicyCounty {\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name=&quot;policy_county_id&quot;)\r\n    private long policyCountyId;\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;policy_id&quot;)\r\n    private InsurancePolicy policy;\r\n\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;county_id&quot;)\r\n    private County county;\r\n\r\n    @Column(name=&quot;cost&quot;,nullable = false)\r\n    private double cost;\r\n\r\n\r\n    @ManyToMany(mappedBy=&quot;policyCounties&quot;,fetch=FetchType.LAZY)\r\n    private Set&lt;UserPolicyQuery&gt; userPolicyQueries=new HashSet&lt;&gt;();\r\n\r\n    @PreRemove\r\n    public void preRemove(){\r\n        //remove the relationship with policyQueries\r\n        for(UserPolicyQuery userPolicyQuery: this.userPolicyQueries){\r\n            userPolicyQuery.getPolicyCounties().remove(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow, I want to write a method to update the **InsurancePolicyEntity** such that the attributes in the **InsurancePolicy** table are updated. For **PolicyCounty** mappings, some **PolicyCounty** entities might have their **cost** attribute updated and it is also possible that **new PolicyCounty entities need to be created at the same time**.  \r\n**Problem-**\r\nSince I am using **Set&lt;PolicyCounty&gt;**, I am not sure whether something like this would yield correct results-  \r\n```\r\n @Transactional\r\n    @Override\r\n    public InsurancePolicyResponseDto updateInsurancePolicy(InsurancePolicyCreateDto insurancePolicyDto) {\r\n        long id= insurancePolicyDto.getPolicyId();\r\n        InsurancePolicy insurancePolicy=this.insurancePolicyRepository.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Policy with id &quot;+id+&quot; not found&quot;));\r\n        insurancePolicy.setPolicyName(insurancePolicyDto.getPolicyName()); //update name\r\n        insurancePolicy.setPolicyDescription(insurancePolicyDto.getPolicyDescription()); //update description\r\n        insurancePolicy.setChooseDescription(insurancePolicyDto.getChooseDescription()); //update choose description\r\n        Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties(); //get the policy counties\r\n        for(Map.Entry&lt;String,Double&gt; countyPricePair: insurancePolicyDto.getCountyCosts().entrySet()) {\r\n            PolicyCounty policyCounty=this.policyCountyRepository.findByPolicyIdAndCountyId(id,Long.parseLong(countyPricePair.getKey()));\r\n            //if there is some new mapping\r\n            if(policyCounty==null){\r\n                policyCounty=new PolicyCounty();\r\n                policyCounty.setPolicy(insurancePolicy);\r\n                County county=this.countyRepository.findById(Long.parseLong(countyPricePair.getKey())).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;County with id &quot;+countyPricePair.getKey()+&quot; not found&quot;));\r\n                policyCounty.setCounty(county);\r\n                policyCounty.setCost(countyPricePair.getValue());\r\n                this.policyCountyRepository.save(policyCounty);\r\n            }\r\n            else{\r\n\r\n                policyCounty.setCost(countyPricePair.getValue());\r\n                this.policyCountyRepository.save(policyCounty);\r\n            }\r\n            policyCounties.add(policyCounty);\r\n        }\r\n        InsurancePolicy savedPolicy=this.insurancePolicyRepository.save(insurancePolicy);\r\n        return this.policyToResponseDto(savedPolicy);\r\n    }\r\n```\r\nI am asking this question because the **hashcode** method for the **PolicyCounty** entity will be changing, so will it reflect for the OneToMany relationship? For new **PolicyCounty** needs to be created and mapped with **InsurancePolicy**, will it occur correctly? Please help me understand how **hashcode** and **equals** are working in such mappings?","title":"Updating entities with OneToMany mappings: Spring Data JPA","body":"<p>I have a requirement where I need to update the entities on either side of a ManyToMany mapping.<br />\nI have a <strong>InsurancePolicy</strong> entity-</p>\n<pre><code>@Entity\n@Table(name = &quot;insurance_policy&quot;)\n@Setter\n@NoArgsConstructor\npublic class InsurancePolicy {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;policy_id&quot;)\n    private long policyId;\n\n    @Column(name=&quot;policy_name&quot;,nullable = false,unique = true)\n    private String policyName;\n\n    //Short description\n    @Column(name=&quot;policy_description&quot;,nullable = false)\n    private String policyDescription;\n\n    //Long description\n    @Column(name=&quot;choose_description&quot;,nullable = false)\n    private String chooseDescription;\n\n\n    //many policies can belong to one category\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;company_id&quot;, nullable = false)\n    private Company company;\n\n    //many policies can belong to one category\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;category_id&quot;,nullable=false)\n    private Category category;\n\n\n\n    @OneToMany(mappedBy = &quot;policy&quot;, cascade = {CascadeType.MERGE,CascadeType.PERSIST,CascadeType.REMOVE},fetch = FetchType.LAZY, orphanRemoval = true)\n    private Set&lt;PolicyCounty&gt; policyCounties = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>and <strong>PolicyCounty</strong> entity-</p>\n<pre><code>@NoArgsConstructor\n@Setter\n@Entity\n@Table(name=&quot;policy_county&quot;)\npublic class PolicyCounty {\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=&quot;policy_county_id&quot;)\n    private long policyCountyId;\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;policy_id&quot;)\n    private InsurancePolicy policy;\n\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;county_id&quot;)\n    private County county;\n\n    @Column(name=&quot;cost&quot;,nullable = false)\n    private double cost;\n\n\n    @ManyToMany(mappedBy=&quot;policyCounties&quot;,fetch=FetchType.LAZY)\n    private Set&lt;UserPolicyQuery&gt; userPolicyQueries=new HashSet&lt;&gt;();\n\n    @PreRemove\n    public void preRemove(){\n        //remove the relationship with policyQueries\n        for(UserPolicyQuery userPolicyQuery: this.userPolicyQueries){\n            userPolicyQuery.getPolicyCounties().remove(this);\n        }\n    }\n}\n</code></pre>\n<p>Now, I want to write a method to update the <strong>InsurancePolicyEntity</strong> such that the attributes in the <strong>InsurancePolicy</strong> table are updated. For <strong>PolicyCounty</strong> mappings, some <strong>PolicyCounty</strong> entities might have their <strong>cost</strong> attribute updated and it is also possible that <strong>new PolicyCounty entities need to be created at the same time</strong>.<br />\n<strong>Problem-</strong>\nSince I am using <strong>Set</strong>, I am not sure whether something like this would yield correct results-</p>\n<pre><code> @Transactional\n    @Override\n    public InsurancePolicyResponseDto updateInsurancePolicy(InsurancePolicyCreateDto insurancePolicyDto) {\n        long id= insurancePolicyDto.getPolicyId();\n        InsurancePolicy insurancePolicy=this.insurancePolicyRepository.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Policy with id &quot;+id+&quot; not found&quot;));\n        insurancePolicy.setPolicyName(insurancePolicyDto.getPolicyName()); //update name\n        insurancePolicy.setPolicyDescription(insurancePolicyDto.getPolicyDescription()); //update description\n        insurancePolicy.setChooseDescription(insurancePolicyDto.getChooseDescription()); //update choose description\n        Set&lt;PolicyCounty&gt; policyCounties=insurancePolicy.getPolicyCounties(); //get the policy counties\n        for(Map.Entry&lt;String,Double&gt; countyPricePair: insurancePolicyDto.getCountyCosts().entrySet()) {\n            PolicyCounty policyCounty=this.policyCountyRepository.findByPolicyIdAndCountyId(id,Long.parseLong(countyPricePair.getKey()));\n            //if there is some new mapping\n            if(policyCounty==null){\n                policyCounty=new PolicyCounty();\n                policyCounty.setPolicy(insurancePolicy);\n                County county=this.countyRepository.findById(Long.parseLong(countyPricePair.getKey())).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;County with id &quot;+countyPricePair.getKey()+&quot; not found&quot;));\n                policyCounty.setCounty(county);\n                policyCounty.setCost(countyPricePair.getValue());\n                this.policyCountyRepository.save(policyCounty);\n            }\n            else{\n\n                policyCounty.setCost(countyPricePair.getValue());\n                this.policyCountyRepository.save(policyCounty);\n            }\n            policyCounties.add(policyCounty);\n        }\n        InsurancePolicy savedPolicy=this.insurancePolicyRepository.save(insurancePolicy);\n        return this.policyToResponseDto(savedPolicy);\n    }\n</code></pre>\n<p>I am asking this question because the <strong>hashcode</strong> method for the <strong>PolicyCounty</strong> entity will be changing, so will it reflect for the OneToMany relationship? For new <strong>PolicyCounty</strong> needs to be created and mapped with <strong>InsurancePolicy</strong>, will it occur correctly? Please help me understand how <strong>hashcode</strong> and <strong>equals</strong> are working in such mappings?</p>\n"},{"tags":["java","junit","archunit"],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688567308,"creation_date":1688567308,"answer_id":76621353,"question_id":76619795,"body_markdown":"`@ArchTest`s are evaluated by ArchUnit&#39;s own test runner, which does not support JUnit&#39;s `@ParameterizedTest`s.\r\n\r\nMaybe you can create your `ArchRule` with a parameterized method that allows you to create\r\n\r\n```java\r\n@ArchTest\r\nArchRule rule1 = createRule(1);\r\n\r\n@ArchTest\r\nArchRule rule2 = createRule(2);\r\n\r\n@ArchTest\r\nArchRule rule3 = createRule(3);\r\n\r\n// ...\r\n```\r\nwith just a little overhead?\r\n\r\nAlternatively, you can also write ArchUnit tests as plain JUnit tests if you take care of the class file import yourself, cf. https://www.archunit.org/getting-started.\r\n","title":"Parameterized archunit test?","body":"<p><code>@ArchTest</code>s are evaluated by ArchUnit's own test runner, which does not support JUnit's <code>@ParameterizedTest</code>s.</p>\n<p>Maybe you can create your <code>ArchRule</code> with a parameterized method that allows you to create</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ArchTest\nArchRule rule1 = createRule(1);\n\n@ArchTest\nArchRule rule2 = createRule(2);\n\n@ArchTest\nArchRule rule3 = createRule(3);\n\n// ...\n</code></pre>\n<p>with just a little overhead?</p>\n<p>Alternatively, you can also write ArchUnit tests as plain JUnit tests if you take care of the class file import yourself, cf. <a href=\"https://www.archunit.org/getting-started\" rel=\"nofollow noreferrer\">https://www.archunit.org/getting-started</a>.</p>\n"},{"tags":[],"owner":{"account_id":28033127,"reputation":33,"user_id":21987387,"display_name":"Oleg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688568391,"creation_date":1688568391,"answer_id":76621512,"question_id":76619795,"body_markdown":"In the meantime I found the solution myself. What you can do in the following case is to create a list of ArchUnit rules:\r\n\r\n    List&lt;ArchRule&gt; rules = new ArrayList();\r\n    \r\n    for (....) {\r\n       rules.add(...)\r\n    }\r\n\r\nAnd then, you can combine them all together and test:\r\n\r\n    CompositeArchRule.of(rules).check(classesToTest);\r\n","title":"Parameterized archunit test?","body":"<p>In the meantime I found the solution myself. What you can do in the following case is to create a list of ArchUnit rules:</p>\n<pre><code>List&lt;ArchRule&gt; rules = new ArrayList();\n\nfor (....) {\n   rules.add(...)\n}\n</code></pre>\n<p>And then, you can combine them all together and test:</p>\n<pre><code>CompositeArchRule.of(rules).check(classesToTest);\n</code></pre>\n"}],"owner":{"account_id":28033127,"reputation":33,"user_id":21987387,"display_name":"Oleg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76621512,"answer_count":2,"score":0,"last_activity_date":1688568391,"creation_date":1688555811,"question_id":76619795,"body_markdown":"I have a list of method names for which I&#39;d like to write a ArchUnit test in the form of:\r\n\r\n    ArchRule rule = methods().that().haveName(&quot;methodName&quot;).should(new ArchCondition&lt;JavaMethod&gt;.   (&quot;test&quot;) {\r\n        @Override\r\n        public void check(JavaMethod javaMethod, ConditionEvents conditionEvents) {\r\n          ...\r\n        }\r\n      });\r\n\r\n      rule.check(classesToTest);\r\n    }\r\n  }\r\n\r\n\r\nI tried to use @ParameterizedTest and @ArchUnit in combination, but this didn&#39;t work. I also tried creating the ArchRule in a for loop, but this fails when the first violations happens and doesn&#39;t check the rules I&#39;m trying to test later.","title":"Parameterized archunit test?","body":"<p>I have a list of method names for which I'd like to write a ArchUnit test in the form of:</p>\n<pre><code>ArchRule rule = methods().that().haveName(&quot;methodName&quot;).should(new ArchCondition&lt;JavaMethod&gt;.   (&quot;test&quot;) {\n    @Override\n    public void check(JavaMethod javaMethod, ConditionEvents conditionEvents) {\n      ...\n    }\n  });\n\n  rule.check(classesToTest);\n}\n</code></pre>\n<p>}</p>\n<p>I tried to use @ParameterizedTest and @ArchUnit in combination, but this didn't work. I also tried creating the ArchRule in a for loop, but this fails when the first violations happens and doesn't check the rules I'm trying to test later.</p>\n"},{"tags":["java","compiler-errors"],"owner":{"account_id":28954246,"reputation":11,"user_id":22178133,"display_name":"rb-1982"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688568192,"creation_date":1688567957,"question_id":76621459,"body_markdown":"I&#39;m having trouble building the current OpenJDK (17-LTS and 20) on Windows. I&#39;m using Visual Studio 2022 Community Edition and the latest Cygwin release. \r\nFirst of all *bash configure* with options for client and server variant runs well. I&#39;m also able to build the server variant but compiling the native code of the client always shows compiling errors (see below). Before coming here, I&#39;ve researched a lot for the errors and tried other VS Studio Version (2017/2019). I also tried compiling with different options such as not using precompiled headers etc. I know my problems fall into little niche but maybe someone experienced similar problems and can help. ANd just in case someone is curious why I&#39;m not using the binary releases provided by Adoptium and so on. We try to change the native code to add optimization for our Java processes we run on a daily basis. \r\n\r\n**Exceptions from log:**\r\n```\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): error C2665: &quot;SATBMarkQueue::SATBMarkQueue&quot;: Keine &#252;berladene Funktion konnte alle Argumenttypen konvertieren\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/shared/satbMarkQueue.hpp(84): note: kann &quot;SATBMarkQueue::SATBMarkQueue(const SATBMarkQueue &amp;)&quot; sein\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): note: &quot;SATBMarkQueue::SATBMarkQueue(const SATBMarkQueue &amp;)&quot; : Konvertierung von Argument 1 von &quot;G1SATBMarkQueueSet *&quot; in &quot;const SATBMarkQueue &amp;&quot; nicht m&#246;glich\r\n\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): note: Die Typen, auf die verwiesen wird, sind unabh&#228;ngig; die Konvertierung erfordert eine reinterpret_cast-Umwandlung, eine C-Stil-Umwandlung oder eine in Klammern gesetzte Umwandlung im Funktionsstil.\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): note: bei Anpassung der Argumentliste &quot;(G1SATBMarkQueueSet *)&quot;\r\nHinweis: Einlesen der Datei:     c:\\development\\jdk20\\src\\hotspot\\share\\gc/shared/accessBarrierSupport.inline.hpp\r\nHinweis: Einlesen der Datei:      c:\\development\\jdk20\\src\\hotspot\\share\\gc/shared/accessBarrierSupport.hpp\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1BarrierSet.inline.hpp(42): error C2039: &quot;is_active&quot; ist kein Member von &quot;G1SATBMarkQueueSet&quot;.\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1SATBMarkQueueSet.hpp(33): note: Siehe Deklaration von &quot;G1SATBMarkQueueSet&quot;\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1BarrierSet.inline.hpp(45): error C2039: &quot;enqueue_known_active&quot; ist kein Member von &quot;G1SATBMarkQueueSet&quot;.\r\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1SATBMarkQueueSet.hpp(33): note: Siehe Deklaration von &quot;G1SATBMarkQueueSet&quot;\r\n```","title":"Error C2665 and C2039 when building OpenJDK on Windows","body":"<p>I'm having trouble building the current OpenJDK (17-LTS and 20) on Windows. I'm using Visual Studio 2022 Community Edition and the latest Cygwin release.\nFirst of all <em>bash configure</em> with options for client and server variant runs well. I'm also able to build the server variant but compiling the native code of the client always shows compiling errors (see below). Before coming here, I've researched a lot for the errors and tried other VS Studio Version (2017/2019). I also tried compiling with different options such as not using precompiled headers etc. I know my problems fall into little niche but maybe someone experienced similar problems and can help. ANd just in case someone is curious why I'm not using the binary releases provided by Adoptium and so on. We try to change the native code to add optimization for our Java processes we run on a daily basis.</p>\n<p><strong>Exceptions from log:</strong></p>\n<pre><code>c:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): error C2665: &quot;SATBMarkQueue::SATBMarkQueue&quot;: Keine überladene Funktion konnte alle Argumenttypen konvertieren\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/shared/satbMarkQueue.hpp(84): note: kann &quot;SATBMarkQueue::SATBMarkQueue(const SATBMarkQueue &amp;)&quot; sein\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): note: &quot;SATBMarkQueue::SATBMarkQueue(const SATBMarkQueue &amp;)&quot; : Konvertierung von Argument 1 von &quot;G1SATBMarkQueueSet *&quot; in &quot;const SATBMarkQueue &amp;&quot; nicht möglich\n\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): note: Die Typen, auf die verwiesen wird, sind unabhängig; die Konvertierung erfordert eine reinterpret_cast-Umwandlung, eine C-Stil-Umwandlung oder eine in Klammern gesetzte Umwandlung im Funktionsstil.\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1ThreadLocalData.hpp(41): note: bei Anpassung der Argumentliste &quot;(G1SATBMarkQueueSet *)&quot;\nHinweis: Einlesen der Datei:     c:\\development\\jdk20\\src\\hotspot\\share\\gc/shared/accessBarrierSupport.inline.hpp\nHinweis: Einlesen der Datei:      c:\\development\\jdk20\\src\\hotspot\\share\\gc/shared/accessBarrierSupport.hpp\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1BarrierSet.inline.hpp(42): error C2039: &quot;is_active&quot; ist kein Member von &quot;G1SATBMarkQueueSet&quot;.\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1SATBMarkQueueSet.hpp(33): note: Siehe Deklaration von &quot;G1SATBMarkQueueSet&quot;\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1BarrierSet.inline.hpp(45): error C2039: &quot;enqueue_known_active&quot; ist kein Member von &quot;G1SATBMarkQueueSet&quot;.\nc:\\development\\jdk20\\src\\hotspot\\share\\gc/g1/g1SATBMarkQueueSet.hpp(33): note: Siehe Deklaration von &quot;G1SATBMarkQueueSet&quot;\n</code></pre>\n"},{"tags":["java","intellij-idea","ide"],"answers":[{"tags":[],"owner":{"display_name":"user65839"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464365114,"creation_date":1464365114,"answer_id":37487954,"question_id":37486883,"body_markdown":"Not exactly what you&#39;re looking for, but you can get a bit closer with [postfix completion][1]. After typing `sa` and realizing that you want to call a method on it, you can type `.par`&lt;kbd&gt;Tab&lt;/kbd&gt; to put the parenthesis around it, then &lt;kbd&gt;Home&lt;/kbd&gt; to go back to the start of the line and you can type `Collections.sing`&lt;kbd&gt;Tab&lt;/kbd&gt; to complete the method call.\r\n\r\nThat is, I think completion works the way you want if you put the parenthesis around the argument first. I&#39;m not aware of a better way, though I&#39;d be fine to be proven wrong.\r\n\r\n\r\n  [1]: https://blog.jetbrains.com/idea/2014/03/postfix-completion/","title":"Surround with suggestions from auto-complete in Intellij?","body":"<p>Not exactly what you're looking for, but you can get a bit closer with <a href=\"https://blog.jetbrains.com/idea/2014/03/postfix-completion/\" rel=\"nofollow\">postfix completion</a>. After typing <code>sa</code> and realizing that you want to call a method on it, you can type <code>.par</code><kbd>Tab</kbd> to put the parenthesis around it, then <kbd>Home</kbd> to go back to the start of the line and you can type <code>Collections.sing</code><kbd>Tab</kbd> to complete the method call.</p>\n\n<p>That is, I think completion works the way you want if you put the parenthesis around the argument first. I'm not aware of a better way, though I'd be fine to be proven wrong.</p>\n"},{"tags":[],"owner":{"account_id":122835,"reputation":925,"user_id":316897,"accept_rate":89,"display_name":"Char"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688568091,"creation_date":1620203368,"answer_id":67397728,"question_id":37486883,"body_markdown":"In mac it is &lt;kbd&gt;command&lt;/kbd&gt; + &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt;\r\n\r\nThat will surround sa with the completed code.\r\n\r\nThat action is called complete current statement, &lt;kbd&gt;ctr&lt;/kbd&gt; + &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;enter&lt;/kbd&gt; on windows with the default keymap.","title":"Surround with suggestions from auto-complete in Intellij?","body":"<p>In mac it is <kbd>command</kbd> + <kbd>shift</kbd> + <kbd>enter</kbd></p>\n<p>That will surround sa with the completed code.</p>\n<p>That action is called complete current statement, <kbd>ctr</kbd> + <kbd>shift</kbd> + <kbd>enter</kbd> on windows with the default keymap.</p>\n"}],"owner":{"account_id":1351838,"reputation":9009,"user_id":1291238,"accept_rate":81,"display_name":"Random42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67397728,"answer_count":2,"score":3,"last_activity_date":1688568091,"creation_date":1464361848,"question_id":37486883,"body_markdown":"Suppose you have the following method\r\n\r\n    void consume(List&lt;String&gt; list) { ...\r\n\r\nAnd somewhere you have, and want to call the method from above. \r\n\r\n    String sa = &quot;whatever&quot;;\r\n\r\nIf you type:\r\n\r\n`sa` \r\n\r\nand then put the cursor before `sa` and want to autocomplete \r\n\r\n`Collections.sing`|`sa` then &lt;kbd&gt;CTRL&lt;/kbd&gt;+&lt;kbd&gt;Space&lt;/kbd&gt; then &lt;kbd&gt;Enter&lt;/kbd&gt;\r\n\r\nwhat you&#39;ll get is\r\n\r\n`Collections.singletonList()sa` and you want `Collections.singletonList(sa)`\r\n\r\nIs there a way to automatically surround the variable with what auto-complete returns? \r\n","title":"Surround with suggestions from auto-complete in Intellij?","body":"<p>Suppose you have the following method</p>\n\n<pre><code>void consume(List&lt;String&gt; list) { ...\n</code></pre>\n\n<p>And somewhere you have, and want to call the method from above. </p>\n\n<pre><code>String sa = \"whatever\";\n</code></pre>\n\n<p>If you type:</p>\n\n<p><code>sa</code> </p>\n\n<p>and then put the cursor before <code>sa</code> and want to autocomplete </p>\n\n<p><code>Collections.sing</code>|<code>sa</code> then <kbd>CTRL</kbd>+<kbd>Space</kbd> then <kbd>Enter</kbd></p>\n\n<p>what you'll get is</p>\n\n<p><code>Collections.singletonList()sa</code> and you want <code>Collections.singletonList(sa)</code></p>\n\n<p>Is there a way to automatically surround the variable with what auto-complete returns? </p>\n"},{"tags":["java","spring","garbage-collection"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":3,"creation_date":1503061075,"post_id":45757225,"comment_id":78471767,"body_markdown":"&quot;My&quot; garbage collector?  That&#39;s the JVM&#39;s job.  You shouldn&#39;t collect anything.  The Spring bean factory manages the beans.  All of this is Java, so it proceeds under the control of the JVM according to Java&#39;s rules.","body":"&quot;My&quot; garbage collector?  That&#39;s the JVM&#39;s job.  You shouldn&#39;t collect anything.  The Spring bean factory manages the beans.  All of this is Java, so it proceeds under the control of the JVM according to Java&#39;s rules."},{"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"score":0,"creation_date":1503061291,"post_id":45757225,"comment_id":78471935,"body_markdown":"I meant to say like if I work on JVM development, how I would manage it. I have updated the question now to not create the confusion.","body":"I meant to say like if I work on JVM development, how I would manage it. I have updated the question now to not create the confusion."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1503061369,"post_id":45757225,"comment_id":78471985,"body_markdown":"JVM development?  You aren&#39;t writing a JVM, are you?  Spring is doing it properly.  You shouldn&#39;t be bothering about it.  Better to understand the life cycle of Spring beans and understand how it interacts with the JVM and the GC.  I do not understand your repeated references to the stack trace.  That doesn&#39;t have anything to do with garbage collection or memory management.  This question makes no sense at all.","body":"JVM development?  You aren&#39;t writing a JVM, are you?  Spring is doing it properly.  You shouldn&#39;t be bothering about it.  Better to understand the life cycle of Spring beans and understand how it interacts with the JVM and the GC.  I do not understand your repeated references to the stack trace.  That doesn&#39;t have anything to do with garbage collection or memory management.  This question makes no sense at all."},{"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"score":0,"creation_date":1503061464,"post_id":45757225,"comment_id":78472077,"body_markdown":"How spring handles it? I just want to know how it is handled. I was asked this question during an interview. I was unable to think about it. So I am asking it here.","body":"How spring handles it? I just want to know how it is handled. I was asked this question during an interview. I was unable to think about it. So I am asking it here."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1503061502,"post_id":45757225,"comment_id":78472104,"body_markdown":"You aren&#39;t getting that job if you keep thinking that stack traces have anything to do with garbage collection.  Go learn Java.","body":"You aren&#39;t getting that job if you keep thinking that stack traces have anything to do with garbage collection.  Go learn Java."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1503061529,"post_id":45757225,"comment_id":78472114,"body_markdown":"There&#39;s nothing to handle. The JVM is responsible to collect garbage. Not you. Not Spring. Spring beans are not special objects that need to be taken care of differently from any other Java object, regarding GC.","body":"There&#39;s nothing to handle. The JVM is responsible to collect garbage. Not you. Not Spring. Spring beans are not special objects that need to be taken care of differently from any other Java object, regarding GC."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1503061966,"post_id":45757225,"comment_id":78472453,"body_markdown":"Spring beans are POJOs, just like your &quot;normal&quot; objects.  There is no difference. The live on the heap and are managed by the JVM garbage collector.  All Spring has done is given you a well-written, configurable object factory for managing dependency injection.","body":"Spring beans are POJOs, just like your &quot;normal&quot; objects.  There is no difference. The live on the heap and are managed by the JVM garbage collector.  All Spring has done is given you a well-written, configurable object factory for managing dependency injection."},{"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"score":0,"creation_date":1503062105,"post_id":45757225,"comment_id":78472582,"body_markdown":"I was asked if I had to work in  development of a garbage collector in a JVM, how would I make it? I answered I will track the objects via stack of call to know the active objects so this was an added question to that, how will I garbage collect spring objects. And yes I am learning java and I will go and learn more. Thanks for reminding me.","body":"I was asked if I had to work in  development of a garbage collector in a JVM, how would I make it? I answered I will track the objects via stack of call to know the active objects so this was an added question to that, how will I garbage collect spring objects. And yes I am learning java and I will go and learn more. Thanks for reminding me."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1503062701,"post_id":45757225,"comment_id":78473041,"body_markdown":"The Java GC doesn&#39;t care about stacks of calls. It cares about static variables referencing objects, and threads containing references to objects in their stack. If an object is reachable through a chain of strong references from any of those root references, then the object is not a candidate for GC. All the others are. Spring beans are no different.","body":"The Java GC doesn&#39;t care about stacks of calls. It cares about static variables referencing objects, and threads containing references to objects in their stack. If an object is reachable through a chain of strong references from any of those root references, then the object is not a candidate for GC. All the others are. Spring beans are no different."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1503062751,"post_id":45757225,"comment_id":78473075,"body_markdown":"Start with the basics.   This question is too broad for SO.  You won&#39;t learn how to do it here.   https://www.dynatrace.com/resources/ebooks/javabook/how-garbage-collection-works/","body":"Start with the basics.   This question is too broad for SO.  You won&#39;t learn how to do it here.   <a href=\"https://www.dynatrace.com/resources/ebooks/javabook/how-garbage-collection-works/\" rel=\"nofollow noreferrer\">dynatrace.com/resources/ebooks/javabook/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":122835,"reputation":925,"user_id":316897,"accept_rate":89,"display_name":"Char"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688567884,"creation_date":1688567884,"answer_id":76621440,"question_id":45757225,"body_markdown":"The beans instantiated by Spring are not in &quot;your&quot; stack, as in they are not variables you have manually created, but they are in the Spring IOC stack which manages its lifecycle, and it is holding reference to locate all those beans, ergo, they are referenced and their &quot;stack&quot; is alive while the application is up.\r\n\r\nSpring is keeping all your beans referenced in a SingletonBeanRegistry which hold maps of your beans and different ways to access them, so as they are referenced there, usually the GC will not dispose of them.","title":"Garbage Collection of Spring Beans","body":"<p>The beans instantiated by Spring are not in &quot;your&quot; stack, as in they are not variables you have manually created, but they are in the Spring IOC stack which manages its lifecycle, and it is holding reference to locate all those beans, ergo, they are referenced and their &quot;stack&quot; is alive while the application is up.</p>\n<p>Spring is keeping all your beans referenced in a SingletonBeanRegistry which hold maps of your beans and different ways to access them, so as they are referenced there, usually the GC will not dispose of them.</p>\n"}],"owner":{"account_id":3750936,"reputation":1111,"user_id":3148734,"accept_rate":75,"display_name":"bpjoshi"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1548,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1688567884,"creation_date":1503060920,"question_id":45757225,"body_markdown":"How the the objects managed by spring are garbage collected? Java garbage collector can find the normal objects (I mean I have not injected them via dependency injection).\r\n\r\nHow does the garbage collector collect spring beans? Since it cannot track them via stack. I would like the gc to garbage collect the spring beans that not being used.","title":"Garbage Collection of Spring Beans","body":"<p>How the the objects managed by spring are garbage collected? Java garbage collector can find the normal objects (I mean I have not injected them via dependency injection).</p>\n\n<p>How does the garbage collector collect spring beans? Since it cannot track them via stack. I would like the gc to garbage collect the spring beans that not being used.</p>\n"},{"tags":["java","jpa","persistence"],"answers":[{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688567805,"creation_date":1688567376,"answer_id":76621366,"question_id":76621254,"body_markdown":"Take a look at this answer: https://stackoverflow.com/a/74996933/1842599\r\nI quote:\r\n\r\n&gt; The javax.persistence package was moved to a newly named dependency (jakarta.persistence. The persistence package is part of the larger JPA (Java Persistence API). See [Intro to JPA][1]\r\n\r\nCan that be the problem in your case, that you&#39;re just using the wrong version of JPA? \r\n\r\n\r\n  [1]: https://www.infoworld.com/article/3379043/what-is-jpa-introduction-to-the-java-persistence-api.html","title":"Enterprise development with Java","body":"<p>Take a look at this answer: <a href=\"https://stackoverflow.com/a/74996933/1842599\">https://stackoverflow.com/a/74996933/1842599</a>\nI quote:</p>\n<blockquote>\n<p>The javax.persistence package was moved to a newly named dependency (jakarta.persistence. The persistence package is part of the larger JPA (Java Persistence API). See <a href=\"https://www.infoworld.com/article/3379043/what-is-jpa-introduction-to-the-java-persistence-api.html\" rel=\"nofollow noreferrer\">Intro to JPA</a></p>\n</blockquote>\n<p>Can that be the problem in your case, that you're just using the wrong version of JPA?</p>\n"}],"owner":{"account_id":4375090,"reputation":17,"user_id":3568337,"display_name":"rickycardoaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688567805,"creation_date":1688566534,"question_id":76621254,"body_markdown":"I am doing this course called enterprise development with java. Our lecture gave us the below code, but i am getting error messages saying the import javax.persistence connot be resolved. Ive been searching for answers but now. Please help. \r\n\r\n```\r\npackage Guest; \r\n \r\nimport java.io.Serializable; \r\nimport java.sql.Date; \r\nimport javax.persistence.Entity; \r\nimport javax.persistence.GeneratedValue; \r\nimport javax.persistence.Id; \r\n \r\n \r\n@Entity \r\npublic class guest implements Serializable { \r\n    private static final long serialVersionUID = 1L; \r\n \r\n    // Persistent Fields: \r\n    @Id @GeneratedValue \r\n    Long id; \r\n    private String name; \r\n    private Date signingDate; \r\n \r\n    // Constructors: \r\n    public guest() { \r\n    } \r\n \r\n    public guest(String name) { \r\n        this.name = name; \r\n        this.signingDate = new Date(System.currentTimeMillis()); \r\n    } \r\n \r\n    // String Representation: \r\n    @Override \r\n    public String toString() { \r\n        return name + &quot; (signed on &quot; + signingDate + &quot;)&quot;; \r\n    } \r\n}`\r\n```\r\n\r\nI tried recreating the project, follwed some inline suggestion, enabling JPA. ","title":"Enterprise development with Java","body":"<p>I am doing this course called enterprise development with java. Our lecture gave us the below code, but i am getting error messages saying the import javax.persistence connot be resolved. Ive been searching for answers but now. Please help.</p>\n<pre><code>package Guest; \n \nimport java.io.Serializable; \nimport java.sql.Date; \nimport javax.persistence.Entity; \nimport javax.persistence.GeneratedValue; \nimport javax.persistence.Id; \n \n \n@Entity \npublic class guest implements Serializable { \n    private static final long serialVersionUID = 1L; \n \n    // Persistent Fields: \n    @Id @GeneratedValue \n    Long id; \n    private String name; \n    private Date signingDate; \n \n    // Constructors: \n    public guest() { \n    } \n \n    public guest(String name) { \n        this.name = name; \n        this.signingDate = new Date(System.currentTimeMillis()); \n    } \n \n    // String Representation: \n    @Override \n    public String toString() { \n        return name + &quot; (signed on &quot; + signingDate + &quot;)&quot;; \n    } \n}`\n</code></pre>\n<p>I tried recreating the project, follwed some inline suggestion, enabling JPA.</p>\n"},{"tags":["java","android","authentication","sdk"],"owner":{"account_id":25412470,"reputation":1,"user_id":19220032,"display_name":"Roop sagar Teella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688567461,"creation_date":1688556461,"question_id":76619866,"body_markdown":"I am trying to implement Truecaller Verification in my app but I continuously getting Error code 3 for 2 days I tried 3 types of SHA1 keys 1) Debug 2) Release 3)keytool -list -v -keystore {keystore_name} -alias {alias_name} none of them worked for me also I referred [here][1] but couldn&#39;t solve my issue can someone please tell me how to solve it?\r\n\r\nMY CODE:\r\n**MainActivity.java**\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private Button verifyUser;\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        verifyUser = findViewById(R.id.VerifyUser);\r\n\r\n        verifyUser.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                getUserDetails();\r\n            }\r\n        });\r\n        TruecallerSdkScope trueScope = new TruecallerSdkScope.Builder(this, sdkCallback)\r\n                .consentMode(TruecallerSdkScope.CONSENT_MODE_BOTTOMSHEET)\r\n                .buttonColor(Color.parseColor(&quot;#454545&quot;))\r\n                .buttonTextColor(Color.parseColor(&quot;#FFFFFF&quot;))\r\n                .loginTextPrefix(TruecallerSdkScope.LOGIN_TEXT_PREFIX_TO_GET_STARTED)\r\n                .loginTextSuffix(TruecallerSdkScope.LOGIN_TEXT_SUFFIX_PLEASE_VERIFY_MOBILE_NO)\r\n                .ctaTextPrefix(TruecallerSdkScope.CTA_TEXT_PREFIX_USE)\r\n                .buttonShapeOptions(TruecallerSdkScope.BUTTON_SHAPE_ROUNDED)\r\n                .privacyPolicyUrl(&quot;&lt;&lt;YOUR_PRIVACY_POLICY_LINK&gt;&gt;&quot;)\r\n                .termsOfServiceUrl(&quot;&lt;&lt;YOUR_PRIVACY_POLICY_LINK&gt;&gt;&quot;)\r\n                .footerType(TruecallerSdkScope.FOOTER_TYPE_ANOTHER_METHOD)\r\n                .consentTitleOption(TruecallerSdkScope.SDK_CONSENT_TITLE_VERIFY)\r\n                .sdkOptions(TruecallerSdkScope.SDK_OPTION_WITHOUT_OTP)\r\n                .build();\r\n        TruecallerSDK.init(trueScope);\r\n\r\n\r\n    }\r\n    private final ITrueCallback sdkCallback = new ITrueCallback() {\r\n\r\n        @Override\r\n        public void onSuccessProfileShared(@NonNull final TrueProfile trueProfile) {\r\n            Toast.makeText(MainActivity.this, &quot;successful&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n        @Override\r\n        public void onFailureProfileShared(@NonNull final TrueError trueError) {\r\n            Log.d(&quot;checksdk&quot; , &quot;error&quot; + trueError.getErrorType());\r\n        }\r\n\r\n        @Override\r\n        public void onVerificationRequired(@Nullable final TrueError trueError) {\r\n        }\r\n\r\n    };\r\n\r\n    public void getUserDetails(){\r\n        if(TruecallerSDK.getInstance().isUsable()){\r\n            Locale locale = new Locale(&quot;en&quot;);\r\n            TruecallerSDK.getInstance().setLocale(locale);\r\n            TruecallerSDK.getInstance().getUserProfile(MainActivity.this);\r\n        }\r\n    }\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == TruecallerSDK.SHARE_PROFILE_REQUEST_CODE) {\r\n            TruecallerSDK.getInstance().onActivityResultObtained(this, requestCode, resultCode, data);\r\n        }\r\n    }\r\n}\r\n```\r\nManifest\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-sdk tools:overrideLibrary=&quot;com.truecaller.android.sdk&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    \r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.LoginOtp&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n\r\n        &lt;meta-data android:name=&quot;com.truecaller.android.sdk.PartnerKey&quot; android:value=&quot;@string/partnerKey&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45369186/truecaller-android-sdk-error-code-3","title":"TrueCaller Android SDK ERROR_TYPE_UNAUTHORIZED_PARTNER","body":"<p>I am trying to implement Truecaller Verification in my app but I continuously getting Error code 3 for 2 days I tried 3 types of SHA1 keys 1) Debug 2) Release 3)keytool -list -v -keystore {keystore_name} -alias {alias_name} none of them worked for me also I referred <a href=\"https://stackoverflow.com/questions/45369186/truecaller-android-sdk-error-code-3\">here</a> but couldn't solve my issue can someone please tell me how to solve it?</p>\n<p>MY CODE:\n<strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private Button verifyUser;\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        verifyUser = findViewById(R.id.VerifyUser);\n\n        verifyUser.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                getUserDetails();\n            }\n        });\n        TruecallerSdkScope trueScope = new TruecallerSdkScope.Builder(this, sdkCallback)\n                .consentMode(TruecallerSdkScope.CONSENT_MODE_BOTTOMSHEET)\n                .buttonColor(Color.parseColor(&quot;#454545&quot;))\n                .buttonTextColor(Color.parseColor(&quot;#FFFFFF&quot;))\n                .loginTextPrefix(TruecallerSdkScope.LOGIN_TEXT_PREFIX_TO_GET_STARTED)\n                .loginTextSuffix(TruecallerSdkScope.LOGIN_TEXT_SUFFIX_PLEASE_VERIFY_MOBILE_NO)\n                .ctaTextPrefix(TruecallerSdkScope.CTA_TEXT_PREFIX_USE)\n                .buttonShapeOptions(TruecallerSdkScope.BUTTON_SHAPE_ROUNDED)\n                .privacyPolicyUrl(&quot;&lt;&lt;YOUR_PRIVACY_POLICY_LINK&gt;&gt;&quot;)\n                .termsOfServiceUrl(&quot;&lt;&lt;YOUR_PRIVACY_POLICY_LINK&gt;&gt;&quot;)\n                .footerType(TruecallerSdkScope.FOOTER_TYPE_ANOTHER_METHOD)\n                .consentTitleOption(TruecallerSdkScope.SDK_CONSENT_TITLE_VERIFY)\n                .sdkOptions(TruecallerSdkScope.SDK_OPTION_WITHOUT_OTP)\n                .build();\n        TruecallerSDK.init(trueScope);\n\n\n    }\n    private final ITrueCallback sdkCallback = new ITrueCallback() {\n\n        @Override\n        public void onSuccessProfileShared(@NonNull final TrueProfile trueProfile) {\n            Toast.makeText(MainActivity.this, &quot;successful&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onFailureProfileShared(@NonNull final TrueError trueError) {\n            Log.d(&quot;checksdk&quot; , &quot;error&quot; + trueError.getErrorType());\n        }\n\n        @Override\n        public void onVerificationRequired(@Nullable final TrueError trueError) {\n        }\n\n    };\n\n    public void getUserDetails(){\n        if(TruecallerSDK.getInstance().isUsable()){\n            Locale locale = new Locale(&quot;en&quot;);\n            TruecallerSDK.getInstance().setLocale(locale);\n            TruecallerSDK.getInstance().getUserProfile(MainActivity.this);\n        }\n    }\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == TruecallerSDK.SHARE_PROFILE_REQUEST_CODE) {\n            TruecallerSDK.getInstance().onActivityResultObtained(this, requestCode, resultCode, data);\n        }\n    }\n}\n</code></pre>\n<p>Manifest</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-sdk tools:overrideLibrary=&quot;com.truecaller.android.sdk&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    \n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.LoginOtp&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n\n        &lt;meta-data android:name=&quot;com.truecaller.android.sdk.PartnerKey&quot; android:value=&quot;@string/partnerKey&quot;/&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1299348557,"creation_date":1299348557,"answer_id":5205726,"question_id":5205702,"body_markdown":"The regex `\\d{4}` would probably suffice - it will match all strings containing 4 subsequent digits. You can perhaps have some more specific cases, like `19\\d{2}|20\\d{2}` ","title":"Find years with regular expression","body":"<p>The regex <code>\\d{4}</code> would probably suffice - it will match all strings containing 4 subsequent digits. You can perhaps have some more specific cases, like <code>19\\d{2}|20\\d{2}</code> </p>\n"},{"comments":[{"owner":{"account_id":314111,"reputation":634,"user_id":629125,"display_name":"RedSoxFan"},"score":0,"creation_date":1299348607,"post_id":5205727,"comment_id":5853129,"body_markdown":"if you want any date use \\d{4} like Bozho suggested instead of a year variable","body":"if you want any date use \\d{4} like Bozho suggested instead of a year variable"}],"tags":[],"owner":{"account_id":314111,"reputation":634,"user_id":629125,"display_name":"RedSoxFan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299348566,"creation_date":1299348566,"answer_id":5205727,"question_id":5205702,"body_markdown":"    //ArrayList&lt;String&gt; list = ....\r\n    String year = &quot;1990&quot;;\r\n    ArrayList&lt;String&gt; toRemove = new ArrayList&lt;String&gt;();\r\n    for (String str:list) {\r\n       if (str.matches(&quot;.*&quot;+year+&quot;.*&quot;)) {\r\n          toRemove.add(str);\r\n       }\r\n    }\r\n    for (String str:toRemove) list.remove(str);\r\n    toRemove = null;\r\n\r\nUse a toRemove list to prevent a java.util.ConcurrentModificationException","title":"Find years with regular expression","body":"<pre><code>//ArrayList&lt;String&gt; list = ....\nString year = \"1990\";\nArrayList&lt;String&gt; toRemove = new ArrayList&lt;String&gt;();\nfor (String str:list) {\n   if (str.matches(\".*\"+year+\".*\")) {\n      toRemove.add(str);\n   }\n}\nfor (String str:toRemove) list.remove(str);\ntoRemove = null;\n</code></pre>\n\n<p>Use a toRemove list to prevent a java.util.ConcurrentModificationException</p>\n"},{"tags":[],"owner":{"account_id":241829,"reputation":17230,"user_id":512904,"accept_rate":92,"display_name":"Matheus Moreira"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1299357874,"creation_date":1299348850,"answer_id":5205758,"question_id":5205702,"body_markdown":"If you are using the `YYYY` date format, the regular expression `^\\d{4}` should work for any date in the beginning of the String.\r\n\r\n    String str = &quot;1990s music groups&quot;;\r\n    boolean shouldDelete = str.matches(&quot;^\\d{4}&quot;);\r\n    if (shouldDelete) {\r\n        // Delete string\r\n    }\r\n\r\nIf you want to match the date in any part of the String, simply remove the leading `^`.","title":"Find years with regular expression","body":"<p>If you are using the <code>YYYY</code> date format, the regular expression <code>^\\d{4}</code> should work for any date in the beginning of the String.</p>\n\n<pre><code>String str = \"1990s music groups\";\nboolean shouldDelete = str.matches(\"^\\d{4}\");\nif (shouldDelete) {\n    // Delete string\n}\n</code></pre>\n\n<p>If you want to match the date in any part of the String, simply remove the leading <code>^</code>.</p>\n"},{"tags":[],"owner":{"account_id":3377699,"reputation":13,"user_id":2835525,"display_name":"MarG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442903870,"creation_date":1442903870,"answer_id":32710015,"question_id":5205702,"body_markdown":"For a more specific year rate (1970-2029)  I&#39;ve used:\r\n\r\n   \r\n \r\n\r\n    Pattern pattern;\r\n    Matcher matcher;\r\n    String errorTag = null;\r\n    private static final String PATTERN_YEAR = &quot;^(197\\\\d{1}|198\\\\d{1}|199\\\\d{1}|200\\\\d{1}|201\\\\d{1}|202\\\\d{1})&quot;;\r\n\r\n...\r\n\r\n    if (filter.getName().contains(&quot;YYYY&quot;)){\r\n        pattern = Pattern.compile(PATTERN_YEAR);\r\n    \tmatcher = pattern.matcher(filter.getValue());\r\n    \t  if(!matcher.matches()){\t\r\n    \t\t  errorTag= &quot; *** The year is invalid, review the rate&quot;;\r\n  \r\n\r\n      \t}\r\n    }","title":"Find years with regular expression","body":"<p>For a more specific year rate (1970-2029)  I've used:</p>\n\n<pre><code>Pattern pattern;\nMatcher matcher;\nString errorTag = null;\nprivate static final String PATTERN_YEAR = \"^(197\\\\d{1}|198\\\\d{1}|199\\\\d{1}|200\\\\d{1}|201\\\\d{1}|202\\\\d{1})\";\n</code></pre>\n\n<p>...</p>\n\n<pre><code>if (filter.getName().contains(\"YYYY\")){\n    pattern = Pattern.compile(PATTERN_YEAR);\n    matcher = pattern.matcher(filter.getValue());\n      if(!matcher.matches()){   \n          errorTag= \" *** The year is invalid, review the rate\";\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2246677,"reputation":384,"user_id":1979870,"accept_rate":83,"display_name":"Mahesh Budeti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688567047,"creation_date":1688567047,"answer_id":76621326,"question_id":5205702,"body_markdown":"I am landing here every time I search for regex for validating year and I tried all the answers but couldn&#39;t get it work properly finally the following regex worked for me\r\n\r\n    ^(19|20)\\d{2}$","title":"Find years with regular expression","body":"<p>I am landing here every time I search for regex for validating year and I tried all the answers but couldn't get it work properly finally the following regex worked for me</p>\n<pre><code>^(19|20)\\d{2}$\n</code></pre>\n"}],"owner":{"account_id":310195,"reputation":489,"user_id":623054,"accept_rate":62,"display_name":"Francesco Nigro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8751,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":5205758,"answer_count":5,"score":5,"last_activity_date":1688567047,"creation_date":1299348322,"question_id":5205702,"body_markdown":"Dear, i would delete from a list, the strings that contain a date.\r\nEx: &quot;1990s music groups&quot; must be deleted.\r\n\r\nCan I do this in java?\r\n\r\n","title":"Find years with regular expression","body":"<p>Dear, i would delete from a list, the strings that contain a date.\nEx: \"1990s music groups\" must be deleted.</p>\n\n<p>Can I do this in java?</p>\n"},{"tags":["java","json"],"answers":[{"comments":[{"owner":{"account_id":28847381,"reputation":3,"user_id":22094054,"display_name":"basky"},"score":0,"creation_date":1687142045,"post_id":76503232,"comment_id":134890564,"body_markdown":"Would you say Jackson is better than Gson? I found another way to make it work using Json.getJsonAsArray then rewrote my parseResponse class to use a for-each loop that parses each JsonElement &quot;e&quot; in the JsonArray using e.toString","body":"Would you say Jackson is better than Gson? I found another way to make it work using Json.getJsonAsArray then rewrote my parseResponse class to use a for-each loop that parses each JsonElement &quot;e&quot; in the JsonArray using e.toString"},{"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"score":0,"creation_date":1687153963,"post_id":76503232,"comment_id":134891529,"body_markdown":"No， I just use Jackson more often. There are many read-made tools for parsing JSON, choose one that you are comfortable with or that your team uses","body":"No， I just use Jackson more often. There are many read-made tools for parsing JSON, choose one that you are comfortable with or that your team uses"}],"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687140380,"creation_date":1687140380,"answer_id":76503232,"question_id":76503114,"body_markdown":"There are some tools can help you to pares json string like `Jackson`,`Gson`.\r\n\r\nI wrote a sample code with `Jackson`,hope it can help you. \r\n\r\nFor more ways to use `Jackson`, you need to learn for yourself.\r\n\r\n    public static void main(String[] args)  throws Exception{\r\n        String responseString = &quot;[{\\&quot;title\\&quot;: \\&quot;Recipe 1\\&quot;, \\&quot;ingredients\\&quot;: \\&quot;blah\\&quot;, \\&quot;instructions\\&quot;: \\&quot;blah\\&quot;}, {\\&quot;title\\&quot;: \\&quot;recipe 2\\&quot;}]&quot;;\r\n        List&lt;Recipe&gt; recipeList = parseResponse( responseString);\r\n        for (Recipe recipe : recipeList) {\r\n            System.out.println(recipe);\r\n        }\r\n    }\r\n\r\n    static List&lt;Recipe&gt; parseResponse( String s )  {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        try {\r\n            return mapper.readValue(s, new TypeReference&lt;List&lt;Recipe&gt;&gt;() {\r\n            });\r\n        }catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return new ArrayList&lt;&gt;();\r\n\r\n    }\r\n    static class Recipe{\r\n        String title;\r\n        String ingredients;\r\n        String servings;\r\n        String instructions;\r\n\r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n\r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n\r\n        public String getIngredients() {\r\n            return ingredients;\r\n        }\r\n\r\n        public void setIngredients(String ingredients) {\r\n            this.ingredients = ingredients;\r\n        }\r\n\r\n        public String getServings() {\r\n            return servings;\r\n        }\r\n\r\n        public void setServings(String servings) {\r\n            this.servings = servings;\r\n        }\r\n\r\n        public String getInstructions() {\r\n            return instructions;\r\n        }\r\n\r\n        public void setInstructions(String instructions) {\r\n            this.instructions = instructions;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Recipe{&quot; +\r\n                    &quot;title=&#39;&quot; + title + &#39;\\&#39;&#39; +\r\n                    &quot;, ingredients=&#39;&quot; + ingredients + &#39;\\&#39;&#39; +\r\n                    &quot;, servings=&#39;&quot; + servings + &#39;\\&#39;&#39; +\r\n                    &quot;, instructions=&#39;&quot; + instructions + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }","title":"Parsing HttpResponse from API into objects","body":"<p>There are some tools can help you to pares json string like <code>Jackson</code>,<code>Gson</code>.</p>\n<p>I wrote a sample code with <code>Jackson</code>,hope it can help you.</p>\n<p>For more ways to use <code>Jackson</code>, you need to learn for yourself.</p>\n<pre><code>public static void main(String[] args)  throws Exception{\n    String responseString = &quot;[{\\&quot;title\\&quot;: \\&quot;Recipe 1\\&quot;, \\&quot;ingredients\\&quot;: \\&quot;blah\\&quot;, \\&quot;instructions\\&quot;: \\&quot;blah\\&quot;}, {\\&quot;title\\&quot;: \\&quot;recipe 2\\&quot;}]&quot;;\n    List&lt;Recipe&gt; recipeList = parseResponse( responseString);\n    for (Recipe recipe : recipeList) {\n        System.out.println(recipe);\n    }\n}\n\nstatic List&lt;Recipe&gt; parseResponse( String s )  {\n    ObjectMapper mapper = new ObjectMapper();\n    try {\n        return mapper.readValue(s, new TypeReference&lt;List&lt;Recipe&gt;&gt;() {\n        });\n    }catch (Exception e) {\n        e.printStackTrace();\n    }\n    return new ArrayList&lt;&gt;();\n\n}\nstatic class Recipe{\n    String title;\n    String ingredients;\n    String servings;\n    String instructions;\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getIngredients() {\n        return ingredients;\n    }\n\n    public void setIngredients(String ingredients) {\n        this.ingredients = ingredients;\n    }\n\n    public String getServings() {\n        return servings;\n    }\n\n    public void setServings(String servings) {\n        this.servings = servings;\n    }\n\n    public String getInstructions() {\n        return instructions;\n    }\n\n    public void setInstructions(String instructions) {\n        this.instructions = instructions;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Recipe{&quot; +\n                &quot;title='&quot; + title + '\\'' +\n                &quot;, ingredients='&quot; + ingredients + '\\'' +\n                &quot;, servings='&quot; + servings + '\\'' +\n                &quot;, instructions='&quot; + instructions + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28847381,"reputation":3,"user_id":22094054,"display_name":"basky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76503232,"answer_count":1,"score":0,"last_activity_date":1688567045,"creation_date":1687137316,"question_id":76503114,"body_markdown":"I&#39;m working on a Recipe app in the very early stages. I&#39;ve never used API&#39;s before but I get the basic understanding of it, I have done A LOT of searching to get this far but basically here&#39;s the deal: I&#39;m using a Recipe API from RapidAPI that can return multiple responses. I would like to parse all of the responses into objects of my Recipe class. I have got the code working and functional but I feel like there has to be a better way of accomplishing what I am trying to do. I am currently using a function to parse the String into an ArrayList of Recipe objects using a Try Catch block to terminate when it hits the index out of bounds exception. \r\n\r\nThe way Rapid API sends the information over is in string format but each recipe is enclosed in its own {curly braces} so I was wondering if there wasn&#39;t some way to manipulate the data with that in mind(maybe something with an array?) but haven&#39;t been able to figure anything out. Anyways I&#39;m going to include my code and I will also include a sample of what is returned from the API.\r\n\r\n\r\n`responseString` looks like this:\r\n```json\r\n[{&quot;title&quot;: &quot;Recipe 1&quot;, &quot;ingredients&quot;: &quot;blah&quot;, &quot;instructions&quot;: &quot;blah&quot;}, {&quot;title&quot;: &quot;recipe 2&quot;, etc}]\r\n```\r\n\r\n\r\n```\r\nclass RecipeTest {\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;https://recipe-by-api-ninjas.p.rapidapi.com/v1/recipe?query=chocolate%20chip%20cookies&quot;))\r\n                .header(&quot;X-RapidAPI-Key&quot;, &quot;myApiKey&quot;)\r\n                .header(&quot;X-RapidAPI-Host&quot;, &quot;theApiHost&quot;)\r\n                .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\r\n                .build();\r\n        HttpResponse&lt;String&gt; response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\r\n        String responseString = response.body();\r\n\r\n        List&lt;Recipe&gt; recipeList = parseResponse(new ArrayList&lt;Recipe&gt;(), responseString.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;), 0);\r\n\r\n        System.out.println(recipeList.get(0).print());\r\n        System.out.println(recipeList.get(1).print());\r\n        System.out.println(recipeList.get(2).print());\r\n        System.out.println(recipeList.size());\r\n\r\n    }\r\n\r\n    static List&lt;Recipe&gt; parseResponse(ArrayList&lt;Recipe&gt; recipes, String s, int begin) {\r\n\r\n        try {\r\n            int titleBeginIndex = s.indexOf(&quot;title:&quot;, begin);\r\n            int titleEndIndex = s.indexOf(&quot;,&quot;, titleBeginIndex);\r\n\r\n            int ingredientsBeginIndex = s.indexOf(&quot;ingredients:&quot;, titleEndIndex);\r\n            int ingredientsEndIndex = s.indexOf(&quot;,&quot;, ingredientsBeginIndex);\r\n\r\n            int servingsBeginIndex = s.indexOf(&quot;servings:&quot;, ingredientsEndIndex);\r\n            int servingsEndIndex = s.indexOf(&quot;,&quot;, servingsBeginIndex);\r\n\r\n            int instructionsBeginIndex = s.indexOf(&quot;instructions:&quot;, servingsEndIndex);\r\n            int instructionsEndIndex = s.indexOf(&quot;}&quot;, instructionsBeginIndex);\r\n\r\n            String title = s.substring(titleBeginIndex, titleEndIndex);\r\n            String ingredients = s.substring(ingredientsBeginIndex, ingredientsEndIndex);\r\n            String servings = s.substring(servingsBeginIndex, servingsEndIndex);\r\n            String instructions = s.substring(instructionsBeginIndex, instructionsEndIndex);\r\n\r\n            recipes.add(new Recipe(title, ingredients, servings, instructions));\r\n\r\n            parseResponse(recipes, s, ingredientsEndIndex);\r\n        } finally {\r\n            return recipes;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI am just looking for a cleaner way to parse the data in an array or list of Recipe Objects. My Try... Finally block works but I feel like I&#39;m not doing it the proper way.","title":"Parsing HttpResponse from API into objects","body":"<p>I'm working on a Recipe app in the very early stages. I've never used API's before but I get the basic understanding of it, I have done A LOT of searching to get this far but basically here's the deal: I'm using a Recipe API from RapidAPI that can return multiple responses. I would like to parse all of the responses into objects of my Recipe class. I have got the code working and functional but I feel like there has to be a better way of accomplishing what I am trying to do. I am currently using a function to parse the String into an ArrayList of Recipe objects using a Try Catch block to terminate when it hits the index out of bounds exception.</p>\n<p>The way Rapid API sends the information over is in string format but each recipe is enclosed in its own {curly braces} so I was wondering if there wasn't some way to manipulate the data with that in mind(maybe something with an array?) but haven't been able to figure anything out. Anyways I'm going to include my code and I will also include a sample of what is returned from the API.</p>\n<p><code>responseString</code> looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{&quot;title&quot;: &quot;Recipe 1&quot;, &quot;ingredients&quot;: &quot;blah&quot;, &quot;instructions&quot;: &quot;blah&quot;}, {&quot;title&quot;: &quot;recipe 2&quot;, etc}]\n</code></pre>\n<pre><code>class RecipeTest {\n    public static void main(String[] args) throws IOException, InterruptedException {\n        HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;https://recipe-by-api-ninjas.p.rapidapi.com/v1/recipe?query=chocolate%20chip%20cookies&quot;))\n                .header(&quot;X-RapidAPI-Key&quot;, &quot;myApiKey&quot;)\n                .header(&quot;X-RapidAPI-Host&quot;, &quot;theApiHost&quot;)\n                .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\n                .build();\n        HttpResponse&lt;String&gt; response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\n        String responseString = response.body();\n\n        List&lt;Recipe&gt; recipeList = parseResponse(new ArrayList&lt;Recipe&gt;(), responseString.replaceAll(&quot;\\&quot;&quot;, &quot;&quot;), 0);\n\n        System.out.println(recipeList.get(0).print());\n        System.out.println(recipeList.get(1).print());\n        System.out.println(recipeList.get(2).print());\n        System.out.println(recipeList.size());\n\n    }\n\n    static List&lt;Recipe&gt; parseResponse(ArrayList&lt;Recipe&gt; recipes, String s, int begin) {\n\n        try {\n            int titleBeginIndex = s.indexOf(&quot;title:&quot;, begin);\n            int titleEndIndex = s.indexOf(&quot;,&quot;, titleBeginIndex);\n\n            int ingredientsBeginIndex = s.indexOf(&quot;ingredients:&quot;, titleEndIndex);\n            int ingredientsEndIndex = s.indexOf(&quot;,&quot;, ingredientsBeginIndex);\n\n            int servingsBeginIndex = s.indexOf(&quot;servings:&quot;, ingredientsEndIndex);\n            int servingsEndIndex = s.indexOf(&quot;,&quot;, servingsBeginIndex);\n\n            int instructionsBeginIndex = s.indexOf(&quot;instructions:&quot;, servingsEndIndex);\n            int instructionsEndIndex = s.indexOf(&quot;}&quot;, instructionsBeginIndex);\n\n            String title = s.substring(titleBeginIndex, titleEndIndex);\n            String ingredients = s.substring(ingredientsBeginIndex, ingredientsEndIndex);\n            String servings = s.substring(servingsBeginIndex, servingsEndIndex);\n            String instructions = s.substring(instructionsBeginIndex, instructionsEndIndex);\n\n            recipes.add(new Recipe(title, ingredients, servings, instructions));\n\n            parseResponse(recipes, s, ingredientsEndIndex);\n        } finally {\n            return recipes;\n        }\n    }\n}\n</code></pre>\n<p>I am just looking for a cleaner way to parse the data in an array or list of Recipe Objects. My Try... Finally block works but I feel like I'm not doing it the proper way.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":2,"creation_date":1474335284,"post_id":39584374,"comment_id":66478660,"body_markdown":"Possible duplicate of [Comparing two integer arrays in java](http://stackoverflow.com/questions/14897366/comparing-two-integer-arrays-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/14897366/comparing-two-integer-arrays-in-java\">Comparing two integer arrays in java</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1474335350,"post_id":39584374,"comment_id":66478674,"body_markdown":"Using the equals method on the array won&#39;t work, by the way.  I&#39;m not sure that&#39;s the only problem, though","body":"Using the equals method on the array won&#39;t work, by the way.  I&#39;m not sure that&#39;s the only problem, though"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1474335638,"post_id":39584374,"comment_id":66478724,"body_markdown":"I&#39;d suggest learning about methods. You have two functionally identical blocks of code that generate an array of random numbers. You can read about [DRY](https://en.m.wikipedia.org/wiki/Don%27t_repeat_yourself) programming","body":"I&#39;d suggest learning about methods. You have two functionally identical blocks of code that generate an array of random numbers. You can read about <a href=\"https://en.m.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">DRY</a> programming"},{"owner":{"account_id":1108189,"reputation":3327,"user_id":1099142,"accept_rate":87,"display_name":"java_doctor_101"},"score":1,"creation_date":1474336623,"post_id":39584374,"comment_id":66478912,"body_markdown":"what exactly is your end goal? Your code looks complete to me. Which part are you having difficulty with?","body":"what exactly is your end goal? Your code looks complete to me. Which part are you having difficulty with?"},{"owner":{"account_id":9222175,"reputation":3,"user_id":6851153,"display_name":"12likea"},"score":0,"creation_date":1474336899,"post_id":39584374,"comment_id":66478981,"body_markdown":"there should be a continous loop that &quot;searches&quot; for the right numbers generated in the lorrery Array. Oh and thank you about the DRY thing. I will try to work towards it!","body":"there should be a continous loop that &quot;searches&quot; for the right numbers generated in the lorrery Array. Oh and thank you about the DRY thing. I will try to work towards it!"}],"answers":[{"comments":[{"owner":{"account_id":9222175,"reputation":3,"user_id":6851153,"display_name":"12likea"},"score":0,"creation_date":1474340687,"post_id":39584869,"comment_id":66479919,"body_markdown":"now i get it. thank you for the help! But there is one thing. If eg. the guess is right at guess[2] for lottery[1] he wont give me a hit right? I will try to figure it out and hopefully learn on that one! Its not any homework btw. :) i think this is a great way to learn on Arrays.","body":"now i get it. thank you for the help! But there is one thing. If eg. the guess is right at guess[2] for lottery[1] he wont give me a hit right? I will try to figure it out and hopefully learn on that one! Its not any homework btw. :) i think this is a great way to learn on Arrays."},{"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"score":0,"creation_date":1474341491,"post_id":39584869,"comment_id":66480120,"body_markdown":"This code allows for duplicates inside the array generated by the `randomArray` method. The code in the question does not.","body":"This code allows for duplicates inside the array generated by the <code>randomArray</code> method. The code in the question does not."},{"owner":{"account_id":8461351,"reputation":143,"user_id":6346982,"display_name":"Czarking"},"score":0,"creation_date":1474346162,"post_id":39584869,"comment_id":66481186,"body_markdown":"@12likea the way the for loop is written if any of the any of the values do not match up the variable will be false","body":"@12likea the way the for loop is written if any of the any of the values do not match up the variable will be false"},{"owner":{"account_id":8461351,"reputation":143,"user_id":6346982,"display_name":"Czarking"},"score":0,"creation_date":1474346358,"post_id":39584869,"comment_id":66481234,"body_markdown":"@D.B. I know I was demonstrating DRY and scope it seemed to me that he already had a heuristic to prevent number duplication and there is much content online has to how to do that but if adding that code will get up votes I suppose I could add a few lines","body":"@D.B. I know I was demonstrating DRY and scope it seemed to me that he already had a heuristic to prevent number duplication and there is much content online has to how to do that but if adding that code will get up votes I suppose I could add a few lines"}],"tags":[],"owner":{"account_id":8461351,"reputation":143,"user_id":6346982,"display_name":"Czarking"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474339611,"creation_date":1474339018,"answer_id":39584869,"question_id":39584374,"body_markdown":"So I think I just did your homework for you ... but here is some source code that does what I think you were going for.  I don&#39;t know the exact constraints of your lotto though.\r\n\r\nYou need to learn about DRY as stated in the comments this is demonstrated by my use of the random array static method.  Also based on your source code you should learn about variable scoping in java.  If you want me source to run until there is a hit that is pretty simple while loop logic.\r\n\r\n    package lotto;\r\n    /**\r\n     * @author czarking\r\n     */\r\n    public class Lotto {\r\n\r\n        private static int[] lottery = new int[6];\r\n        private static int[] guess = new int[6];\r\n\r\n        public static void main(String[] args) {\r\n            lottery = randomArray(lottery);\r\n            guess = randomArray(lottery);\r\n            boolean match = true;\r\n            for (int i=0; i&lt;lottery.length; i++) {\r\n                if (lottery[i] != guess[i])\r\n                    match = false;\r\n            }\r\n            if (match)\r\n                System.out.println(&quot;HIT!&quot;);\r\n        }\r\n\r\n        public static int[] randomArray(int[] ar) {\r\n            for (int i=0; i&lt;ar.length; i++) {\r\n                ar[i] = (int)(Math.random()*49 + 1);\r\n                System.out.println(ar[i]+&quot; &quot;);\r\n            }\r\n            return ar;\r\n        }\r\n\r\n    }","title":"Creating an automated Lottery","body":"<p>So I think I just did your homework for you ... but here is some source code that does what I think you were going for.  I don't know the exact constraints of your lotto though.</p>\n\n<p>You need to learn about DRY as stated in the comments this is demonstrated by my use of the random array static method.  Also based on your source code you should learn about variable scoping in java.  If you want me source to run until there is a hit that is pretty simple while loop logic.</p>\n\n<pre><code>package lotto;\n/**\n * @author czarking\n */\npublic class Lotto {\n\n    private static int[] lottery = new int[6];\n    private static int[] guess = new int[6];\n\n    public static void main(String[] args) {\n        lottery = randomArray(lottery);\n        guess = randomArray(lottery);\n        boolean match = true;\n        for (int i=0; i&lt;lottery.length; i++) {\n            if (lottery[i] != guess[i])\n                match = false;\n        }\n        if (match)\n            System.out.println(\"HIT!\");\n    }\n\n    public static int[] randomArray(int[] ar) {\n        for (int i=0; i&lt;ar.length; i++) {\n            ar[i] = (int)(Math.random()*49 + 1);\n            System.out.println(ar[i]+\" \");\n        }\n        return ar;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9222175,"reputation":3,"user_id":6851153,"display_name":"12likea"},"score":0,"creation_date":1474341327,"post_id":39585110,"comment_id":66480067,"body_markdown":"WOW! Thats so awesome. Im sure i will learn from this and i will try to figure out how this code works line by line.","body":"WOW! Thats so awesome. Im sure i will learn from this and i will try to figure out how this code works line by line."}],"tags":[],"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1474342220,"creation_date":1474340909,"answer_id":39585110,"question_id":39584374,"body_markdown":"So the way I understand your question is as follows: You want a program that generates a set of 6 random numbers each number within the range 1 to 50 - this represents the correct lottery numbers. You then want to have the program generate random sets of 6 numbers each of which is within the range 1 to 50 until one of these sets matches the lottery numbers. You also want the program to keep track of how many guesses were made before a win was achieved - I am assuming that this means lottery numbers are chosen once and guesses are made continually until a match occurs.\r\n\r\nNote: I do not see logic in your code sample for tracking the number of guesses, but I did implement this feature in my code below.\r\n\r\nIt is not clear whether the order of the lottery numbers is important. I wrote the code below such that the order is not important, meaning that as long as the guess contains all 6 of the lottery numbers it is considered a winner. If you want order to be important you should remove the call to `Arrays.sort(...)`\r\n\r\nHere is a solution that uses arrays since you specifically said you wanted to use arrays: \r\n\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    \r\n    public class LotteryMain {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint[] correctNumbers = createSortedArrayOfRandomInts(6);\r\n    \t\tSystem.out.println(&quot;Lottery numbers: &quot;+Arrays.toString(correctNumbers));\r\n    \t\t\r\n    \t\tint tries = 0;\r\n    \t\tint[] guessNumbers = null;\r\n    \t\tdo{\r\n    \t\t\tguessNumbers = createSortedArrayOfRandomInts(6);\r\n    \t\t\tSystem.out.println(&quot;Guessed numbers: &quot;+Arrays.toString(guessNumbers));\r\n    \t\t\ttries++;\r\n    \t\t}while(!Arrays.equals(guessNumbers, correctNumbers));\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Lottery numbers: &quot;+Arrays.toString(correctNumbers));\r\n    \t\tSystem.out.println(&quot;WINNER! Number of tries: &quot;+tries);\r\n    \t}\r\n    \t\r\n    \tpublic static int[] createSortedArrayOfRandomInts(int sizeOfArray){\r\n    \t\tint[] arrayOfRandomNumbers = new int[sizeOfArray];\r\n    \t\tRandom randomGen = new Random();\r\n    \t\tfor (int i = 0; i &lt; sizeOfArray; i++) {\r\n    \t        int randomNum = -1;\r\n    \t        do{\r\n    \t        \trandomNum = randomGen.nextInt(50)+1; // Random number created here.\r\n    \t        }while(contains(arrayOfRandomNumbers, randomNum));\r\n    \t        arrayOfRandomNumbers[i] = randomNum;\r\n    \t    }\r\n    \t\tArrays.sort(arrayOfRandomNumbers);\r\n    \t\treturn arrayOfRandomNumbers;\r\n    \t}\r\n    \t\r\n    \tpublic static boolean contains(int[] array, int searchFor){\r\n    \t\tfor(int i = 0; i &lt; array.length; i++){\r\n    \t\t\tif(array[i] == searchFor)\r\n    \t\t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    }\r\n\r\nHere is sample output (shortened, obviously): \r\n\r\n    ...\r\n    Guessed numbers: [5, 21, 27, 36, 40, 47]\r\n    Guessed numbers: [3, 14, 15, 28, 36, 42]\r\n    Guessed numbers: [24, 27, 31, 32, 44, 49]\r\n    Guessed numbers: [19, 21, 25, 39, 42, 46]\r\n    Lottery numbers: [19, 21, 25, 39, 42, 46]\r\n    WINNER! Number of tries: 2499043\r\n\r\nHere is a solution using classes from the [Java Collections Framework][1] because every Java programmer should be familiar with how to use these classes:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    \r\n    public class LotteryWithCollections {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tList&lt;Integer&gt; correctNumbers = createSortedListOfRandomInts(6);\r\n    \t\tSystem.out.println(&quot;Lottery numbers: &quot; + correctNumbers);\r\n    \r\n    \t\tint tries = 0;\r\n    \t\tList&lt;Integer&gt; guessNumbers = null;\r\n    \t\tdo {\r\n    \t\t\tguessNumbers = createSortedListOfRandomInts(6);\r\n    \t\t\tSystem.out.println(&quot;Guessed numbers: &quot; + guessNumbers);\r\n    \t\t\ttries++;\r\n    \t\t} while (!guessNumbers.equals(correctNumbers));\r\n    \r\n    \t\tSystem.out.println(&quot;Lottery numbers: &quot; + correctNumbers);\r\n    \t\tSystem.out.println(&quot;WINNER! Number of tries: &quot; + tries);\r\n    \t}\r\n    \r\n    \tpublic static List&lt;Integer&gt; createSortedListOfRandomInts(int sizeOfList) {\r\n    \t\tList&lt;Integer&gt; listOfRandomNumbers = new ArrayList&lt;Integer&gt;();\r\n    \t\tRandom randomGen = new Random();\r\n    \t\tfor (int i = 0; i &lt; sizeOfList; i++) {\r\n    \t\t\tint randomNum = randomGen.nextInt(50) + 1; // Random number created\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t// here.\r\n    \t\t\twhile (listOfRandomNumbers.contains(randomNum)) {\r\n    \t\t\t\trandomNum = randomGen.nextInt(50) + 1;\r\n    \t\t\t}\r\n    \t\t\tlistOfRandomNumbers.add(randomNum);\r\n    \t\t}\r\n    \t\tCollections.sort(listOfRandomNumbers);\r\n    \t\treturn listOfRandomNumbers;\r\n    \t}\r\n    }\r\n\r\nSomething else to consider - right now the code allows for duplicate guesses, it might be interesting to keep track of previous guesses and disallow repeats of the same guess.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/collections/overview.html","title":"Creating an automated Lottery","body":"<p>So the way I understand your question is as follows: You want a program that generates a set of 6 random numbers each number within the range 1 to 50 - this represents the correct lottery numbers. You then want to have the program generate random sets of 6 numbers each of which is within the range 1 to 50 until one of these sets matches the lottery numbers. You also want the program to keep track of how many guesses were made before a win was achieved - I am assuming that this means lottery numbers are chosen once and guesses are made continually until a match occurs.</p>\n\n<p>Note: I do not see logic in your code sample for tracking the number of guesses, but I did implement this feature in my code below.</p>\n\n<p>It is not clear whether the order of the lottery numbers is important. I wrote the code below such that the order is not important, meaning that as long as the guess contains all 6 of the lottery numbers it is considered a winner. If you want order to be important you should remove the call to <code>Arrays.sort(...)</code></p>\n\n<p>Here is a solution that uses arrays since you specifically said you wanted to use arrays: </p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class LotteryMain {\n    public static void main(String[] args) {\n\n        int[] correctNumbers = createSortedArrayOfRandomInts(6);\n        System.out.println(\"Lottery numbers: \"+Arrays.toString(correctNumbers));\n\n        int tries = 0;\n        int[] guessNumbers = null;\n        do{\n            guessNumbers = createSortedArrayOfRandomInts(6);\n            System.out.println(\"Guessed numbers: \"+Arrays.toString(guessNumbers));\n            tries++;\n        }while(!Arrays.equals(guessNumbers, correctNumbers));\n\n        System.out.println(\"Lottery numbers: \"+Arrays.toString(correctNumbers));\n        System.out.println(\"WINNER! Number of tries: \"+tries);\n    }\n\n    public static int[] createSortedArrayOfRandomInts(int sizeOfArray){\n        int[] arrayOfRandomNumbers = new int[sizeOfArray];\n        Random randomGen = new Random();\n        for (int i = 0; i &lt; sizeOfArray; i++) {\n            int randomNum = -1;\n            do{\n                randomNum = randomGen.nextInt(50)+1; // Random number created here.\n            }while(contains(arrayOfRandomNumbers, randomNum));\n            arrayOfRandomNumbers[i] = randomNum;\n        }\n        Arrays.sort(arrayOfRandomNumbers);\n        return arrayOfRandomNumbers;\n    }\n\n    public static boolean contains(int[] array, int searchFor){\n        for(int i = 0; i &lt; array.length; i++){\n            if(array[i] == searchFor)\n                return true;\n        }\n        return false;\n    }\n\n}\n</code></pre>\n\n<p>Here is sample output (shortened, obviously): </p>\n\n<pre><code>...\nGuessed numbers: [5, 21, 27, 36, 40, 47]\nGuessed numbers: [3, 14, 15, 28, 36, 42]\nGuessed numbers: [24, 27, 31, 32, 44, 49]\nGuessed numbers: [19, 21, 25, 39, 42, 46]\nLottery numbers: [19, 21, 25, 39, 42, 46]\nWINNER! Number of tries: 2499043\n</code></pre>\n\n<p>Here is a solution using classes from the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/collections/overview.html\" rel=\"nofollow\">Java Collections Framework</a> because every Java programmer should be familiar with how to use these classes:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Random;\n\npublic class LotteryWithCollections {\n\n    public static void main(String[] args) {\n\n        List&lt;Integer&gt; correctNumbers = createSortedListOfRandomInts(6);\n        System.out.println(\"Lottery numbers: \" + correctNumbers);\n\n        int tries = 0;\n        List&lt;Integer&gt; guessNumbers = null;\n        do {\n            guessNumbers = createSortedListOfRandomInts(6);\n            System.out.println(\"Guessed numbers: \" + guessNumbers);\n            tries++;\n        } while (!guessNumbers.equals(correctNumbers));\n\n        System.out.println(\"Lottery numbers: \" + correctNumbers);\n        System.out.println(\"WINNER! Number of tries: \" + tries);\n    }\n\n    public static List&lt;Integer&gt; createSortedListOfRandomInts(int sizeOfList) {\n        List&lt;Integer&gt; listOfRandomNumbers = new ArrayList&lt;Integer&gt;();\n        Random randomGen = new Random();\n        for (int i = 0; i &lt; sizeOfList; i++) {\n            int randomNum = randomGen.nextInt(50) + 1; // Random number created\n                                                        // here.\n            while (listOfRandomNumbers.contains(randomNum)) {\n                randomNum = randomGen.nextInt(50) + 1;\n            }\n            listOfRandomNumbers.add(randomNum);\n        }\n        Collections.sort(listOfRandomNumbers);\n        return listOfRandomNumbers;\n    }\n}\n</code></pre>\n\n<p>Something else to consider - right now the code allows for duplicate guesses, it might be interesting to keep track of previous guesses and disallow repeats of the same guess.</p>\n"}],"owner":{"account_id":9222175,"reputation":3,"user_id":6851153,"display_name":"12likea"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39585110,"answer_count":2,"score":0,"last_activity_date":1688566769,"creation_date":1474334954,"question_id":39584374,"body_markdown":"I would like to program an automated Lottery &quot;script&quot; which creates 2 Arrays: one holding the Lottery numbers and another holding the guess itself. Then, I check if eg. lottery[] holds numbers of the guess[], if the numbers are equal and he hits the 6 right numbers in the loop, I want the console to print out how many tries he needed. \r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] lottery = new int[6];\r\n        int[] tipp1 = new int[6];\r\n        int randomNum;\r\n        int tipp;\r\n\r\n        for (int i = 0; i &lt; 6; i++) {\r\n            randomNum = (int) (Math.random() * 49 + 1); // Random number created here.\r\n            for (int x = 0; x &lt; i; x++) {\r\n                if (lottery[x] == randomNum) // Here, code checks if same random number generated before.\r\n                {\r\n                    randomNum = (int) (Math.random() * 49 + 1);// If random number is same, another number generated.\r\n                    x = -1; // restart the loop\r\n                }\r\n            }\r\n            lottery[i] = randomNum;\r\n            System.out.print(lottery[i] + &quot; &quot;);\r\n        }\r\n\r\n        System.out.println(&quot; &quot;);\r\n\r\n        for (int c = 0; c &lt; 6; c++) {\r\n            tipp = (int) (Math.random() * 49 + 1); // Random number created here.\r\n            for (int xy = 0; xy &lt; c; xy++) {\r\n                if (tipp1[xy] == tipp) // Here, code checks if same random number generated before.\r\n                {\r\n                    tipp = (int) (Math.random() * 49 + 1);// If random number is same, another number generated.\r\n                    xy = -1; // restart the loop\r\n                }\r\n            }\r\n            tipp1[c] = tipp;\r\n            System.out.print(tipp1[c] + &quot; &quot;);\r\n        }\r\n        if (lottery.equals(tipp1)){\r\n            System.out.print(&quot;HIT!&quot;);\r\n        }\r\n    }\r\n    }\r\n    \r\nIs there a way to do this?\r\n    \r\n\r\n","title":"Creating an automated Lottery","body":"<p>I would like to program an automated Lottery \"script\" which creates 2 Arrays: one holding the Lottery numbers and another holding the guess itself. Then, I check if eg. lottery[] holds numbers of the guess[], if the numbers are equal and he hits the 6 right numbers in the loop, I want the console to print out how many tries he needed. </p>\n\n<pre><code>public static void main(String[] args) {\n\n    int[] lottery = new int[6];\n    int[] tipp1 = new int[6];\n    int randomNum;\n    int tipp;\n\n    for (int i = 0; i &lt; 6; i++) {\n        randomNum = (int) (Math.random() * 49 + 1); // Random number created here.\n        for (int x = 0; x &lt; i; x++) {\n            if (lottery[x] == randomNum) // Here, code checks if same random number generated before.\n            {\n                randomNum = (int) (Math.random() * 49 + 1);// If random number is same, another number generated.\n                x = -1; // restart the loop\n            }\n        }\n        lottery[i] = randomNum;\n        System.out.print(lottery[i] + \" \");\n    }\n\n    System.out.println(\" \");\n\n    for (int c = 0; c &lt; 6; c++) {\n        tipp = (int) (Math.random() * 49 + 1); // Random number created here.\n        for (int xy = 0; xy &lt; c; xy++) {\n            if (tipp1[xy] == tipp) // Here, code checks if same random number generated before.\n            {\n                tipp = (int) (Math.random() * 49 + 1);// If random number is same, another number generated.\n                xy = -1; // restart the loop\n            }\n        }\n        tipp1[c] = tipp;\n        System.out.print(tipp1[c] + \" \");\n    }\n    if (lottery.equals(tipp1)){\n        System.out.print(\"HIT!\");\n    }\n}\n}\n</code></pre>\n\n<p>Is there a way to do this?</p>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":3850681,"reputation":2684,"user_id":3190953,"accept_rate":62,"display_name":"Wilfred Clement"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1591614586,"creation_date":1591614586,"answer_id":62260693,"question_id":62260511,"body_markdown":"Try adding an explicit wait\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39;]&quot;))).click();\r\n\r\nand if this doesn&#39;t work then try using the JS Executor\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39;]&quot;))); \r\n    ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, element);","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>Try adding an explicit wait</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(\"//label[@formcontrolname='reportingDealPermission']\"))).click();\n</code></pre>\n\n<p>and if this doesn't work then try using the JS Executor</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(\"//label[@formcontrolname='reportingDealPermission']\"))); \n((JavascriptExecutor)driver).executeScript(\"arguments[0].click();\", element);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11593851,"reputation":1129,"user_id":8493186,"accept_rate":48,"display_name":"Bastian"},"score":1,"creation_date":1591623685,"post_id":62262557,"comment_id":110117999,"body_markdown":"I know and I use it, however after changing to headless it is not worked and after the wait clickable still get exception, only the java script worked","body":"I know and I use it, however after changing to headless it is not worked and after the wait clickable still get exception, only the java script worked"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1591625929,"post_id":62262557,"comment_id":110119316,"body_markdown":"@Bastian Checkout the answer update and let me know the status.","body":"@Bastian Checkout the answer update and let me know the status."},{"owner":{"account_id":11593851,"reputation":1129,"user_id":8493186,"accept_rate":48,"display_name":"Bastian"},"score":1,"creation_date":1591696639,"post_id":62262557,"comment_id":110146666,"body_markdown":"it solved it, I used     options.addArguments(&quot;start-maximized&quot;);   and options.addArguments(&quot;--window-size=1920,1080&quot;);   I did not use the driver.manage().window().setSize(new Dimension(1920, 1080)); what id it the third one do? since I do not use it      - @DebanjanB","body":"it solved it, I used     options.addArguments(&quot;start-maximized&quot;);   and options.addArguments(&quot;--window-size=1920,1080&quot;);   I did not use the driver.manage().window().setSize(new Dimension(1920, 1080)); what id it the third one do? since I do not use it      - @DebanjanB"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1591698308,"post_id":62262557,"comment_id":110147551,"body_markdown":"@Bastian `driver.manage().window().setSize(new Dimension(1920, 1080));` is just another way of setting the Browser Client [Viewport](https://www.w3schools.com/css/css_rwd_viewport.asp)","body":"@Bastian <code>driver.manage().window().setSize(new Dimension(1920, 1080));</code> is just another way of setting the Browser Client <a href=\"https://www.w3schools.com/css/css_rwd_viewport.asp\" rel=\"nofollow noreferrer\">Viewport</a>"},{"owner":{"account_id":1967161,"reputation":157,"user_id":1767083,"accept_rate":50,"display_name":"user1767083"},"score":1,"creation_date":1634038120,"post_id":62262557,"comment_id":122913791,"body_markdown":"I face the same issue and element that i use have element id, so i tried with element id which is not working, then i have used xpath then its fine","body":"I face the same issue and element that i use have element id, so i tried with element id which is not working, then i have used xpath then its fine"},{"owner":{"account_id":8681391,"reputation":144,"user_id":6497131,"display_name":"Alba Hoo"},"score":0,"creation_date":1642577304,"post_id":62262557,"comment_id":125104364,"body_markdown":"My issue was I have a splash element sitting on top of the main page content, so `invisibilityOfElementLocated` helped me, thank you very much.","body":"My issue was I have a splash element sitting on top of the main page content, so <code>invisibilityOfElementLocated</code> helped me, thank you very much."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":6,"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1591625901,"creation_date":1591620778,"answer_id":62262557,"question_id":62260511,"body_markdown":"This error message...\r\n\r\n\torg.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=&quot;&quot; formcontrolname=&quot;reportingDealPermission&quot; nz-checkbox=&quot;&quot; class=&quot;ant-checkbox-wrapper ng-untouched ng-pristine ng-valid&quot; ng-reflect-name=&quot;reportingDealPermission&quot;&gt;...&lt;/label&gt; is not clickable at point (161, 562). Other element would receive the click: &lt;div _ngcontent-yrc-c26=&quot;&quot; class=&quot;footer&quot;&gt;...&lt;/div&gt;\r\n\r\n...implies that the _click_ on the desired element was intercepted by some other element.\r\n\r\n\r\n----------\r\n\r\n\r\nClicking an element\r\n-------------------\r\nIdeally, while invoking `click()` on any element you need to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the `elementToBeClickable()` and you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- `cssSelector`:\r\n\r\n\t\tnew WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;label[formcontrolname=reportingDealPermission][ng-reflect-name=reportingDealPermission]&quot;))).click();\r\n           \t\r\n- `xpath`:\r\n\r\n\t\tnew WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39; and @ng-reflect-name=&#39;reportingDealPermission&#39;]&quot;))).click();\r\n\r\n\r\n----------\r\n\r\n\r\n\t\t\r\nUpdate\r\n------\r\nAfter changing to _headless_ if it still doesn&#39;t works and still get exception there still a couple of other measures to consider as follows:\r\n\r\n- [Chrome browser in Headless mode](https://stackoverflow.com/questions/46920243/how-to-configure-chromedriver-to-initiate-chrome-browser-in-headless-mode-throug/49582462#49582462) doesn&#39;t opens in maximized mode. So you have to use either of the following commands/arguments to maximize the headless browser [Viewport](https://www.w3schools.com/css/css_rwd_viewport.asp):\r\n - Adding the argument `start-maximized`\r\n\r\n\t\t\tChromeOptions options = new ChromeOptions();\r\n\t\t\toptions.addArguments(&quot;--headless&quot;);\r\n\t\t\toptions.addArguments(&quot;start-maximized&quot;);\r\n\t\t\tWebDriver driver = new ChromeDriver(options);\r\n\r\n\r\n - Adding the argument `--window-size`\r\n\r\n\t\t\tChromeOptions options = new ChromeOptions();\r\n\t\t\toptions.addArguments(&quot;--headless&quot;);\r\n\t\t\toptions.addArguments(&quot;--window-size=1400,600&quot;);\r\n\t\t\tWebDriver driver = new ChromeDriver(options);\r\n\r\n - Using `setSize()`\r\n\r\n\t\t\tChromeOptions options = new ChromeOptions();\r\n\t\t\toptions.addArguments(&quot;--headless&quot;);\r\n\t\t\tWebDriver driver = new ChromeDriver(options);\r\n\t\t\tdriver.manage().window().setSize(new Dimension(1440, 900));\r\n\t\t\r\n&gt;You can find a detailed discussion in [Not able to maximize Chrome Window in headless mode](https://stackoverflow.com/questions/45374377/not-able-to-maximize-chrome-window-in-headless-mode/45374670#45374670)\r\n\r\n- Additionally, you can also wait for the _intercept element to be invisible_ using the [ExpectedConditions](https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html) `invisibilityOfElementLocated` before attempting the `click()` as follows:\r\n - `cssSelector`:\r\n\r\n\t\t    new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(&quot;div.footer&quot;)));\r\n\t\t    new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;label[formcontrolname=reportingDealPermission][ng-reflect-name=reportingDealPermission]&quot;))).click();\r\n           \t\r\n - `xpath`:\r\n\r\n\t\t    new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(&quot;//div[@class=&#39;footer&#39;]&quot;)));\r\n\t\t    new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39; and @ng-reflect-name=&#39;reportingDealPermission&#39;]&quot;))).click();\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of related relevant discussions in:\r\n\r\n- [Selenium Web Driver &amp; Java. Element is not clickable at point (x, y). Other element would receive the click](https://stackoverflow.com/questions/44912203/selenium-web-driver-java-element-is-not-clickable-at-point-x-y-other-elem/44916498#44916498)\r\n- [Element MyElement is not clickable at point (x, y)… Other element would receive the click](https://stackoverflow.com/questions/44724185/element-myelement-is-not-clickable-at-point-x-y-other-element-would-receiv/44724688#44724688)","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>This error message...</p>\n\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=\"\" formcontrolname=\"reportingDealPermission\" nz-checkbox=\"\" class=\"ant-checkbox-wrapper ng-untouched ng-pristine ng-valid\" ng-reflect-name=\"reportingDealPermission\"&gt;...&lt;/label&gt; is not clickable at point (161, 562). Other element would receive the click: &lt;div _ngcontent-yrc-c26=\"\" class=\"footer\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<p>...implies that the <em>click</em> on the desired element was intercepted by some other element.</p>\n\n<hr>\n\n<h2>Clicking an element</h2>\n\n<p>Ideally, while invoking <code>click()</code> on any element you need to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <code>elementToBeClickable()</code> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n\n<ul>\n<li><p><code>cssSelector</code>:</p>\n\n<pre><code>new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(\"label[formcontrolname=reportingDealPermission][ng-reflect-name=reportingDealPermission]\"))).click();\n</code></pre></li>\n<li><p><code>xpath</code>:</p>\n\n<pre><code>new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.xpath(\"//label[@formcontrolname='reportingDealPermission' and @ng-reflect-name='reportingDealPermission']\"))).click();\n</code></pre></li>\n</ul>\n\n<hr>\n\n<h2>Update</h2>\n\n<p>After changing to <em>headless</em> if it still doesn't works and still get exception there still a couple of other measures to consider as follows:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/46920243/how-to-configure-chromedriver-to-initiate-chrome-browser-in-headless-mode-throug/49582462#49582462\">Chrome browser in Headless mode</a> doesn't opens in maximized mode. So you have to use either of the following commands/arguments to maximize the headless browser <a href=\"https://www.w3schools.com/css/css_rwd_viewport.asp\" rel=\"noreferrer\">Viewport</a>:</p>\n\n<ul>\n<li><p>Adding the argument <code>start-maximized</code></p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--headless\");\noptions.addArguments(\"start-maximized\");\nWebDriver driver = new ChromeDriver(options);\n</code></pre></li>\n<li><p>Adding the argument <code>--window-size</code></p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--headless\");\noptions.addArguments(\"--window-size=1400,600\");\nWebDriver driver = new ChromeDriver(options);\n</code></pre></li>\n<li><p>Using <code>setSize()</code></p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--headless\");\nWebDriver driver = new ChromeDriver(options);\ndriver.manage().window().setSize(new Dimension(1440, 900));\n</code></pre></li>\n</ul></li>\n</ul>\n\n<blockquote>\n  <p>You can find a detailed discussion in <a href=\"https://stackoverflow.com/questions/45374377/not-able-to-maximize-chrome-window-in-headless-mode/45374670#45374670\">Not able to maximize Chrome Window in headless mode</a></p>\n</blockquote>\n\n<ul>\n<li><p>Additionally, you can also wait for the <em>intercept element to be invisible</em> using the <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\" rel=\"noreferrer\">ExpectedConditions</a> <code>invisibilityOfElementLocated</code> before attempting the <code>click()</code> as follows:</p>\n\n<ul>\n<li><p><code>cssSelector</code>:</p>\n\n<pre><code>new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.invisibilityOfElementLocated(By.cssSelector(\"div.footer\")));\nnew WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.cssSelector(\"label[formcontrolname=reportingDealPermission][ng-reflect-name=reportingDealPermission]\"))).click();\n</code></pre></li>\n<li><p><code>xpath</code>:</p>\n\n<pre><code>new WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(\"//div[@class='footer']\")));\nnew WebDriverWait(getWebDriver(), 10).until(ExpectedConditions.elementToBeClickable(By.xpath(\"//label[@formcontrolname='reportingDealPermission' and @ng-reflect-name='reportingDealPermission']\"))).click();\n</code></pre></li>\n</ul></li>\n</ul>\n\n<hr>\n\n<h2>References</h2>\n\n<p>You can find a couple of related relevant discussions in:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44912203/selenium-web-driver-java-element-is-not-clickable-at-point-x-y-other-elem/44916498#44916498\">Selenium Web Driver &amp; Java. Element is not clickable at point (x, y). Other element would receive the click</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44724185/element-myelement-is-not-clickable-at-point-x-y-other-element-would-receiv/44724688#44724688\">Element MyElement is not clickable at point (x, y)… Other element would receive the click</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20935155,"reputation":11,"user_id":15380472,"display_name":"Ajit kumar Sahoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631094078,"creation_date":1631082305,"answer_id":69097913,"question_id":62260511,"body_markdown":"For this issue: \r\n\r\n    org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=&quot;&quot; formcontrolname=&quot;reportingDealPermission&quot; nz-checkbox=&quot;&quot; class=&quot;ant-checkbox-wrapper ng-untouched ng-pristine ng-valid&quot; ng-reflect-name=&quot;reportingDealPermission&quot;&gt;...&lt;/label&gt; is not clickable at point (161, 562).\r\n\r\nAnother element receives the click:\r\n\r\nAnswer is to explicitly wait with javascript executor. This combination is working for me:\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39;]&quot;))); \r\n    ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, element);","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>For this issue:</p>\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=&quot;&quot; formcontrolname=&quot;reportingDealPermission&quot; nz-checkbox=&quot;&quot; class=&quot;ant-checkbox-wrapper ng-untouched ng-pristine ng-valid&quot; ng-reflect-name=&quot;reportingDealPermission&quot;&gt;...&lt;/label&gt; is not clickable at point (161, 562).\n</code></pre>\n<p>Another element receives the click:</p>\n<p>Answer is to explicitly wait with javascript executor. This combination is working for me:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nWebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname='reportingDealPermission']&quot;))); \n((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, element);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7191623,"reputation":61,"user_id":5491718,"display_name":"sagarp"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636917063,"creation_date":1636917063,"answer_id":69966318,"question_id":62260511,"body_markdown":"None of the above answers worked for me. Try using action class as follows:\r\n\r\n    WebElement element = driver.findElement(By.xpath(&quot;//div[@class=&#39;footer&#39;]&quot;));\r\n    Actions actions = new Actions(driver);\r\n    actions.moveToElement(element).click().build().perform();","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>None of the above answers worked for me. Try using action class as follows:</p>\n<pre><code>WebElement element = driver.findElement(By.xpath(&quot;//div[@class='footer']&quot;));\nActions actions = new Actions(driver);\nactions.moveToElement(element).click().build().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":441753,"reputation":4372,"user_id":832031,"display_name":"Alexis Gamarra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645656422,"creation_date":1645656422,"answer_id":71244912,"question_id":62260511,"body_markdown":"In my case &quot;JavaScript&quot; works:\r\n\r\n    WebElement ele = driver.findElement(By.xpath(&quot;(//input[@name=&#39;btnK&#39;])[2]&quot;));\r\n\tJavascriptExecutor jse = (JavascriptExecutor)driver;\r\n\tjse.executeScript(&quot;arguments[0].click()&quot;, ele);\r\n\r\nIt was taken from:\r\nhttp://makeseleniumeasy.com/2020/05/25/elementclickinterceptedexception-element-click-intercepted-not-clickable-at-point-other-element-would-receive-the-click/","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>In my case &quot;JavaScript&quot; works:</p>\n<pre><code>WebElement ele = driver.findElement(By.xpath(&quot;(//input[@name='btnK'])[2]&quot;));\nJavascriptExecutor jse = (JavascriptExecutor)driver;\njse.executeScript(&quot;arguments[0].click()&quot;, ele);\n</code></pre>\n<p>It was taken from:\n<a href=\"http://makeseleniumeasy.com/2020/05/25/elementclickinterceptedexception-element-click-intercepted-not-clickable-at-point-other-element-would-receive-the-click/\" rel=\"nofollow noreferrer\">http://makeseleniumeasy.com/2020/05/25/elementclickinterceptedexception-element-click-intercepted-not-clickable-at-point-other-element-would-receive-the-click/</a></p>\n"},{"tags":[],"owner":{"account_id":16817367,"reputation":11,"user_id":12158829,"display_name":"Kondiram Kamble"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659871110,"creation_date":1658596243,"answer_id":73092742,"question_id":62260511,"body_markdown":"`WebDriverWait wait = new WebDriverWait(driver, 10);` ---&gt; has **deprecated** and it gives an error. Please use below instead:\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n    wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39;]&quot;))).click();\r\n\r\nEnsure to **import** relevant items for the **WebDriverWait and ExpectedConditions**.\r\n\r\n","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p><code>WebDriverWait wait = new WebDriverWait(driver, 10);</code> ---&gt; has <strong>deprecated</strong> and it gives an error. Please use below instead:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//label[@formcontrolname='reportingDealPermission']&quot;))).click();\n</code></pre>\n<p>Ensure to <strong>import</strong> relevant items for the <strong>WebDriverWait and ExpectedConditions</strong>.</p>\n"},{"comments":[{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":1,"creation_date":1672676140,"post_id":74982653,"comment_id":132325441,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74982653/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26421162,"reputation":1,"user_id":20068817,"display_name":"Peraveen Kumar"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672664908,"creation_date":1672663883,"answer_id":74982653,"question_id":62260511,"body_markdown":"In my case, nothing worked. Only the `THREAD.SLEEP()` method worked!","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>In my case, nothing worked. Only the <code>THREAD.SLEEP()</code> method worked!</p>\n"},{"comments":[{"owner":{"account_id":13678772,"reputation":1,"user_id":9869641,"display_name":"inderjeet kumar"},"score":1,"creation_date":1676493938,"post_id":75465269,"comment_id":133150438,"body_markdown":"WebElement ele = driver.findElement(By.xpath(&quot;(//input[@name=&#39;btnK&#39;])[2]&quot;));\nJavascriptExecutor jse = (JavascriptExecutor)driver;\njse.executeScript(&quot;arguments[0].click()&quot;, ele);","body":"WebElement ele = driver.findElement(By.xpath(&quot;(//input[@name=&#39;btnK&#39;])[2]&quot;)); JavascriptExecutor jse = (JavascriptExecutor)driver; jse.executeScript(&quot;arguments[0].click()&quot;, ele);"},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1676995417,"post_id":75465269,"comment_id":133247407,"body_markdown":"This does not provide an answer to the question. Once you have sufficient reputation you will be able to comment on any post.\nPlease do not ask questions in the answer and take the tour and read How to Answer: https://stackoverflow.com/help/how-to-answer","body":"This does not provide an answer to the question. Once you have sufficient reputation you will be able to comment on any post. Please do not ask questions in the answer and take the tour and read How to Answer: <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>"}],"tags":[],"owner":{"account_id":13678772,"reputation":1,"user_id":9869641,"display_name":"inderjeet kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676493920,"creation_date":1676493920,"answer_id":75465269,"question_id":62260511,"body_markdown":"\r\nAnswer is worked for me. \r\n\r\nPlease check the below sreenshot for the my problem reference.\r\nBelow alert is comes in between the the my button and frame.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/75xb9.png","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>Answer is worked for me.</p>\n<p>Please check the below sreenshot for the my problem reference.\nBelow alert is comes in between the the my button and frame.\n<a href=\"https://i.stack.imgur.com/75xb9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":9082027,"reputation":47,"user_id":6792484,"accept_rate":50,"display_name":"Karansing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688566117,"creation_date":1688566117,"answer_id":76621184,"question_id":62260511,"body_markdown":"If still facing issue then try this,\r\nclicking using JSExecutor worked for me:\r\n\r\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].click();&quot;, &lt;web_element_object&gt;);","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>If still facing issue then try this,\nclicking using JSExecutor worked for me:</p>\n<pre><code>((JavascriptExecutor) driver).executeScript(&quot;arguments[0].click();&quot;, &lt;web_element_object&gt;);\n</code></pre>\n"}],"owner":{"account_id":11593851,"reputation":1129,"user_id":8493186,"accept_rate":48,"display_name":"Bastian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114333,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":62262557,"answer_count":9,"score":15,"last_activity_date":1688566117,"creation_date":1591613923,"question_id":62260511,"body_markdown":"I have a project that I am working on with java and selenium.\r\nthe test work OK in UI mode.\r\nHowever in headless mode I get this error\r\n\r\n    org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=&quot;&quot; formcontrolname=&quot;reportingDealPermission&quot; nz-checkbox=&quot;&quot; class=&quot;ant-checkbox-wrapper ng-untouched ng-pristine ng-valid&quot; ng-reflect-name=&quot;reportingDealPermission&quot;&gt;...&lt;/label&gt; is not clickable at point (161, 562). Other element would receive the click: &lt;div _ngcontent-yrc-c26=&quot;&quot; class=&quot;footer&quot;&gt;...&lt;/div&gt;\r\n\r\nhow can I resolve this issue (working in UI mode). this is my code\r\n\r\n    WebDriver driver = getWebDriver();\r\n            WebElement element;\r\n            Thread.sleep(60000);\r\n            element = driver.findElement(By.xpath(&quot;//label[@formcontrolname=&#39;reportingDealPermission&#39;]&quot;));\r\n            element.click();\r\n\r\nwhy in selenium there is no operation to move to the element and break all layers. \r\nthis is the UI.\r\nthis is working in UI mode not working in headless mode, made sleep for 6 minutes and not resolved so this is not time issue\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tNjSC.png","title":"org.openqa.selenium.ElementClickInterceptedException: element click intercepted error using Selenium and Java in headless mode","body":"<p>I have a project that I am working on with java and selenium.\nthe test work OK in UI mode.\nHowever in headless mode I get this error</p>\n\n<pre><code>org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;label _ngcontent-yrc-c26=\"\" formcontrolname=\"reportingDealPermission\" nz-checkbox=\"\" class=\"ant-checkbox-wrapper ng-untouched ng-pristine ng-valid\" ng-reflect-name=\"reportingDealPermission\"&gt;...&lt;/label&gt; is not clickable at point (161, 562). Other element would receive the click: &lt;div _ngcontent-yrc-c26=\"\" class=\"footer\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<p>how can I resolve this issue (working in UI mode). this is my code</p>\n\n<pre><code>WebDriver driver = getWebDriver();\n        WebElement element;\n        Thread.sleep(60000);\n        element = driver.findElement(By.xpath(\"//label[@formcontrolname='reportingDealPermission']\"));\n        element.click();\n</code></pre>\n\n<p>why in selenium there is no operation to move to the element and break all layers. \nthis is the UI.\nthis is working in UI mode not working in headless mode, made sleep for 6 minutes and not resolved so this is not time issue</p>\n\n<p><a href=\"https://i.stack.imgur.com/tNjSC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tNjSC.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","proguard"],"owner":{"account_id":1307049,"reputation":6578,"user_id":1255819,"accept_rate":86,"display_name":"distante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688565851,"creation_date":1688565851,"question_id":76621143,"body_markdown":"On an Android App (Hybrid Capacitor/Android App) I have a flag on my BuildConfig called `LIVE_RELOAD`. When it is set to true, I load a plugin that disables SSL Checking so I can use a self-signed certificate while doing development.\r\n\r\nThe `MainActivity` looks like this:\r\n\r\n```java\r\npublic class MainActivity extends BridgeActivity {\r\n\r\n    private String TAG = MainActivity.class.getName();\r\n\r\n  @Override\r\n  public void onCreate(Bundle savedInstanceState) {\r\n    this.registerLiveReload();\r\n    super.onCreate(savedInstanceState);\r\n  }\r\n\r\n  private void registerLiveReload(){\r\n    if (BuildConfig.LIVE_RELOAD) {\r\n      Log.w(TAG, &quot;⚠️ &#128680; Registering SSL IGNORE FOR LIVERELOAD &#128680; ⚠️&quot;);\r\n      registerPlugin(SSLCheckSkipForDevelopmentPlugin.class); // &lt;- HERE\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI want to instruct ProGuard to completely remove `registerLiveReload` and `SSLCheckSkipForDevelopmentPlugin` from the APK but I am unable to do it.\r\n\r\nIn `build.gradle` I have set this on `buildTypes -&gt; release`\r\n\r\n```\r\n        release {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            manifestPlaceholders.cleartextTrafficPermitted =&quot;false&quot;\r\n        }\r\n```\r\n\r\nand my proguard-rules.pro looks like:\r\n\r\n```\r\n-keepattributes SourceFile,LineNumberTable\r\n\r\n# If you keep the line number information, uncomment this to\r\n# hide the original source file name.\r\n#-renamesourcefileattribute SourceFile\r\n\r\n-assumenosideeffects class com.domain.myapp.MainActivity{\r\n  private void registerLiveReload();\r\n}\r\n\r\n-dontwarn com.domain.myapp.SSLCheckSkipForDevelopmentPlugin\r\n-assumenosideeffects class com.domain.myapp.SSLCheckSkipForDevelopmentPlugin {\r\n    *;\r\n}\r\n```\r\n\r\nBut when I build the APK and analyze it, I still can see the class being referenced there:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nWhat I am missing?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6ViHL.png","title":"How to instruct ProGuard to completely remove a particular class from the build?","body":"<p>On an Android App (Hybrid Capacitor/Android App) I have a flag on my BuildConfig called <code>LIVE_RELOAD</code>. When it is set to true, I load a plugin that disables SSL Checking so I can use a self-signed certificate while doing development.</p>\n<p>The <code>MainActivity</code> looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends BridgeActivity {\n\n    private String TAG = MainActivity.class.getName();\n\n  @Override\n  public void onCreate(Bundle savedInstanceState) {\n    this.registerLiveReload();\n    super.onCreate(savedInstanceState);\n  }\n\n  private void registerLiveReload(){\n    if (BuildConfig.LIVE_RELOAD) {\n      Log.w(TAG, &quot;⚠️ 🚨 Registering SSL IGNORE FOR LIVERELOAD 🚨 ⚠️&quot;);\n      registerPlugin(SSLCheckSkipForDevelopmentPlugin.class); // &lt;- HERE\n    }\n  }\n}\n</code></pre>\n<p>I want to instruct ProGuard to completely remove <code>registerLiveReload</code> and <code>SSLCheckSkipForDevelopmentPlugin</code> from the APK but I am unable to do it.</p>\n<p>In <code>build.gradle</code> I have set this on <code>buildTypes -&gt; release</code></p>\n<pre><code>        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            manifestPlaceholders.cleartextTrafficPermitted =&quot;false&quot;\n        }\n</code></pre>\n<p>and my proguard-rules.pro looks like:</p>\n<pre><code>-keepattributes SourceFile,LineNumberTable\n\n# If you keep the line number information, uncomment this to\n# hide the original source file name.\n#-renamesourcefileattribute SourceFile\n\n-assumenosideeffects class com.domain.myapp.MainActivity{\n  private void registerLiveReload();\n}\n\n-dontwarn com.domain.myapp.SSLCheckSkipForDevelopmentPlugin\n-assumenosideeffects class com.domain.myapp.SSLCheckSkipForDevelopmentPlugin {\n    *;\n}\n</code></pre>\n<p>But when I build the APK and analyze it, I still can see the class being referenced there:</p>\n<p><a href=\"https://i.stack.imgur.com/6ViHL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6ViHL.png\" alt=\"enter image description here\" /></a></p>\n<p>What I am missing?</p>\n"},{"tags":["java","error-handling","return","try-catch-finally"],"comments":[{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":61,"creation_date":1379897524,"post_id":65035,"comment_id":27985422,"body_markdown":"[Not *always*](http://thedailywtf.com/Articles/My-Tales.aspx)","body":"<a href=\"http://thedailywtf.com/Articles/My-Tales.aspx\" rel=\"nofollow noreferrer\">Not <i>always</i></a>"},{"owner":{"account_id":518846,"reputation":16789,"user_id":1068546,"accept_rate":94,"display_name":"Binoy Babu"},"score":3,"creation_date":1418526539,"post_id":65035,"comment_id":43367926,"body_markdown":"Effective java says otherwise http://www.informit.com/articles/article.aspx?p=1216151&amp;seqNum=7","body":"Effective java says otherwise <a href=\"http://www.informit.com/articles/article.aspx?p=1216151&amp;seqNum=7\" rel=\"nofollow noreferrer\">informit.com/articles/article.aspx?p=1216151&amp;seqNum=7</a>"},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":36,"creation_date":1468339895,"post_id":65035,"comment_id":64082518,"body_markdown":"@BinoyBabu, _finalizer_ != `finally`; _finalizer_ == the `finalize()` method.","body":"@BinoyBabu, <i>finalizer</i> != <code>finally</code>; <i>finalizer</i> == the <code>finalize()</code> method."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":4,"creation_date":1484854857,"post_id":65035,"comment_id":70692946,"body_markdown":"@Boann Correct, &quot;not always&quot; indeed. But then you can *never ever* use the words &quot;guaranteed&quot; or &quot;always&quot;.","body":"@Boann Correct, &quot;not always&quot; indeed. But then you can <i>never ever</i> use the words &quot;guaranteed&quot; or &quot;always&quot;."},{"owner":{"account_id":5953942,"reputation":1523,"user_id":4681187,"accept_rate":50,"display_name":"Imperishable Night"},"score":2,"creation_date":1540587724,"post_id":65035,"comment_id":92936112,"body_markdown":"@Boann I would put it this way: the execution flow always goes through finally before it escapes the try-finally structure. If it dies inside then I&#39;m fine with that, because the primary purpose of finally is to make sure things are not messed up for other parts of the code.","body":"@Boann I would put it this way: the execution flow always goes through finally before it escapes the try-finally structure. If it dies inside then I&#39;m fine with that, because the primary purpose of finally is to make sure things are not messed up for other parts of the code."},{"owner":{"account_id":5091817,"reputation":360,"user_id":4084636,"accept_rate":100,"display_name":"Adrian M."},"score":0,"creation_date":1590628079,"post_id":65035,"comment_id":109754182,"body_markdown":"Looks like you caught quite a fish there!","body":"Looks like you caught quite a fish there!"},{"owner":{"account_id":431981,"reputation":7385,"user_id":816416,"accept_rate":50,"display_name":"Vishnu Haridas"},"score":0,"creation_date":1600795062,"post_id":65035,"comment_id":113198551,"body_markdown":"If the `finally` block returns a value, then the try/catch block can&#39;t return.","body":"If the <code>finally</code> block returns a value, then the try/catch block can&#39;t return."},{"owner":{"account_id":2175603,"reputation":586,"user_id":1926351,"accept_rate":50,"display_name":"kargirwar"},"score":0,"creation_date":1657788725,"post_id":65035,"comment_id":128895402,"body_markdown":"@NoonSilk That was hilarious!","body":"@NoonSilk That was hilarious!"}],"answers":[{"comments":[{"owner":{"account_id":25463,"reputation":19710,"user_id":65458,"accept_rate":88,"display_name":"Piotr Findeisen"},"score":47,"creation_date":1301519539,"post_id":65049,"comment_id":6231412,"body_markdown":"Actually `thread.stop()` does not necessarily prevent `finally` block from being executed.","body":"Actually <code>thread.stop()</code> does not necessarily prevent <code>finally</code> block from being executed."},{"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"score":215,"creation_date":1316172288,"post_id":65049,"comment_id":9001640,"body_markdown":"How about we say that the `finally` block will be called *after* the `try` block, and *before* control passes to the following statements.  That&#39;s consistent with the try block involving an infinite loop and hence the finally block never actually being invoked.","body":"How about we say that the <code>finally</code> block will be called <i>after</i> the <code>try</code> block, and <i>before</i> control passes to the following statements.  That&#39;s consistent with the try block involving an infinite loop and hence the finally block never actually being invoked."},{"owner":{"account_id":356882,"reputation":2239,"user_id":696686,"accept_rate":48,"display_name":"dieend"},"score":0,"creation_date":1366530249,"post_id":65049,"comment_id":23038943,"body_markdown":"By @andrzejDoyle definition, it will return `success` first before going to `finally` block. Is that correct?","body":"By @andrzejDoyle definition, it will return <code>success</code> first before going to <code>finally</code> block. Is that correct?"},{"owner":{"account_id":2365513,"reputation":2913,"user_id":2071258,"accept_rate":60,"display_name":"Laurent LA RIZZA"},"score":1,"creation_date":1372395650,"post_id":65049,"comment_id":25187937,"body_markdown":"@dieend: It will decide that the return value will be success, executes the finally block, then gives back control to the calling function. Nothing will be returned if the finally block throws.","body":"@dieend: It will decide that the return value will be success, executes the finally block, then gives back control to the calling function. Nothing will be returned if the finally block throws."},{"owner":{"account_id":1008960,"reputation":4556,"user_id":1021970,"accept_rate":91,"display_name":"ruhungry"},"score":9,"creation_date":1395520774,"post_id":65049,"comment_id":34379394,"body_markdown":"there is also another case, when we use nested **try-catch-finally** blocks","body":"there is also another case, when we use nested <b>try-catch-finally</b> blocks"},{"owner":{"account_id":3845978,"reputation":799,"user_id":3187521,"accept_rate":0,"display_name":"Amrish Pandey"},"score":7,"creation_date":1410437266,"post_id":65049,"comment_id":40330727,"body_markdown":"also, finally block is not called in case of exception thrown by daemon thread.","body":"also, finally block is not called in case of exception thrown by daemon thread."},{"owner":{"account_id":518846,"reputation":16789,"user_id":1068546,"accept_rate":94,"display_name":"Binoy Babu"},"score":1,"creation_date":1418526486,"post_id":65049,"comment_id":43367918,"body_markdown":"But effective java says otherwise. http://www.informit.com/articles/article.aspx?p=1216151&amp;seqNum=7","body":"But effective java says otherwise. <a href=\"http://www.informit.com/articles/article.aspx?p=1216151&amp;seqNum=7\" rel=\"nofollow noreferrer\">informit.com/articles/article.aspx?p=1216151&amp;seqNum=7</a>"},{"owner":{"account_id":3519928,"reputation":692,"user_id":2942487,"accept_rate":70,"display_name":"Mikhail Krutov"},"score":1,"creation_date":1439684562,"post_id":65049,"comment_id":51962823,"body_markdown":"This is rather interesting that finally would be called when one re-throws his exception in catch() as new RuntimeException.","body":"This is rather interesting that finally would be called when one re-throws his exception in catch() as new RuntimeException."},{"owner":{"account_id":1657205,"reputation":1900,"user_id":1526421,"accept_rate":73,"display_name":"avmohan"},"score":16,"creation_date":1483611421,"post_id":65049,"comment_id":70169722,"body_markdown":"@BinoyBabu - That&#39;s about finalizer, not finally block","body":"@BinoyBabu - That&#39;s about finalizer, not finally block"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":3,"creation_date":1489394117,"post_id":65049,"comment_id":72634158,"body_markdown":"What about **Runtime#halt** ?","body":"What about <b>Runtime#halt</b> ?"},{"owner":{"account_id":305757,"reputation":1584,"user_id":5851520,"accept_rate":100,"display_name":"SusanW"},"score":3,"creation_date":1493125187,"post_id":65049,"comment_id":74271559,"body_markdown":"@AmrishPandey &quot;finally block is not called in case of exception thrown by daemon thread&quot; - really?? [Citation Needed], I think?","body":"@AmrishPandey &quot;finally block is not called in case of exception thrown by daemon thread&quot; - really?? [Citation Needed], I think?"},{"owner":{"account_id":3845978,"reputation":799,"user_id":3187521,"accept_rate":0,"display_name":"Amrish Pandey"},"score":0,"creation_date":1496681028,"post_id":65049,"comment_id":75748360,"body_markdown":"@SusanW http://javarevisited.blogspot.in/2012/03/what-is-daemon-thread-in-java-and.html?m=1","body":"@SusanW <a href=\"http://javarevisited.blogspot.in/2012/03/what-is-daemon-thread-in-java-and.html?m=1\" rel=\"nofollow noreferrer\">javarevisited.blogspot.in/2012/03/&hellip;</a>"},{"owner":{"account_id":3845978,"reputation":799,"user_id":3187521,"accept_rate":0,"display_name":"Amrish Pandey"},"score":0,"creation_date":1496681143,"post_id":65049,"comment_id":75748423,"body_markdown":"@SusanW https://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html","body":"@SusanW <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/&hellip;</a>"},{"owner":{"account_id":305757,"reputation":1584,"user_id":5851520,"accept_rate":100,"display_name":"SusanW"},"score":8,"creation_date":1496686872,"post_id":65049,"comment_id":75751439,"body_markdown":"@AmrishPandey The Oracle page doesn&#39;t mention daemons at all. The other (blogger) page discusses a JVM _terminating_, but fails to go on to show any difference vs a non-daemon thread. Reality is: on System.exit completion (incl shutdown hooks) or other termination, all threads just die where they are standing whether daemon or not: no finallys get executed either way. The blogger is incorrect where they note this as a difference ... try it yourself.","body":"@AmrishPandey The Oracle page doesn&#39;t mention daemons at all. The other (blogger) page discusses a JVM <i>terminating</i>, but fails to go on to show any difference vs a non-daemon thread. Reality is: on System.exit completion (incl shutdown hooks) or other termination, all threads just die where they are standing whether daemon or not: no finallys get executed either way. The blogger is incorrect where they note this as a difference ... try it yourself."},{"owner":{"account_id":3168131,"reputation":259,"user_id":2677679,"accept_rate":50,"display_name":"user2677679"},"score":0,"creation_date":1650471823,"post_id":65049,"comment_id":127126424,"body_markdown":"@jodonnell What if we are not using catch and throwing an exception from try. Will finally still gets executed.","body":"@jodonnell What if we are not using catch and throwing an exception from try. Will finally still gets executed."},{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1654810560,"post_id":65049,"comment_id":128187666,"body_markdown":"@user2677679 How does this answer not include the answer to _your_ question?","body":"@user2677679 How does this answer not include the answer to <i>your</i> question?"}],"tags":[],"owner":{"account_id":2978,"reputation":49999,"user_id":4223,"accept_rate":93,"display_name":"jodonnell"},"comment_count":16,"down_vote_count":10,"up_vote_count":3014,"is_accepted":true,"score":3004,"last_activity_date":1572558477,"creation_date":1221500739,"answer_id":65049,"question_id":65035,"body_markdown":"Yes, `finally` will be called after the execution of the `try` or `catch` code blocks.\r\n\r\nThe only times `finally` won&#39;t be called are:\r\n\r\n1. If you invoke `System.exit()`\r\n2. If you invoke `Runtime.getRuntime().halt(exitStatus)`\r\n3. If the JVM crashes first\r\n4. If the JVM reaches an infinite loop (or some other non-interruptable, non-terminating statement) in the `try` or `catch` block\r\n5. If the OS forcibly terminates the JVM process; e.g., `kill -9 &lt;pid&gt;` on UNIX\r\n6. If the host system dies; e.g., power failure, hardware error, OS panic, et cetera\r\n7. If the `finally` block is going to be executed by a daemon thread and all other non-daemon threads exit before `finally` is called\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Yes, <code>finally</code> will be called after the execution of the <code>try</code> or <code>catch</code> code blocks.</p>\n\n<p>The only times <code>finally</code> won't be called are:</p>\n\n<ol>\n<li>If you invoke <code>System.exit()</code></li>\n<li>If you invoke <code>Runtime.getRuntime().halt(exitStatus)</code></li>\n<li>If the JVM crashes first</li>\n<li>If the JVM reaches an infinite loop (or some other non-interruptable, non-terminating statement) in the <code>try</code> or <code>catch</code> block</li>\n<li>If the OS forcibly terminates the JVM process; e.g., <code>kill -9 &lt;pid&gt;</code> on UNIX</li>\n<li>If the host system dies; e.g., power failure, hardware error, OS panic, et cetera</li>\n<li>If the <code>finally</code> block is going to be executed by a daemon thread and all other non-daemon threads exit before <code>finally</code> is called</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4910,"reputation":9204,"user_id":7616,"accept_rate":75,"display_name":"shyam"},"comment_count":0,"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1688561668,"creation_date":1221500778,"answer_id":65056,"question_id":65035,"body_markdown":"`finally` is always executed unless there is abnormal program termination (like calling `System. exit(0)`). so, your `System.out` will get printed.","title":"Does a finally block always get executed in Java?","body":"<p><code>finally</code> is always executed unless there is abnormal program termination (like calling <code>System. exit(0)</code>). so, your <code>System.out</code> will get printed.</p>\n"},{"tags":[],"owner":{"account_id":2391,"reputation":36935,"user_id":3320,"accept_rate":100,"display_name":"Mendelt"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1221500800,"creation_date":1221500800,"answer_id":65059,"question_id":65035,"body_markdown":"Yes it will get called. That&#39;s the whole point of having a finally keyword. If jumping out of the try/catch block could just skip the finally block it was the same as putting the System.out.println outside the try/catch.","title":"Does a finally block always get executed in Java?","body":"<p>Yes it will get called. That's the whole point of having a finally keyword. If jumping out of the try/catch block could just skip the finally block it was the same as putting the System.out.println outside the try/catch.</p>\n"},{"comments":[{"owner":{"account_id":201727,"reputation":9339,"user_id":448357,"accept_rate":87,"display_name":"Alexander Pacha"},"score":22,"creation_date":1383206913,"post_id":65185,"comment_id":29264486,"body_markdown":"FYI: In C# the behaviour is identical apart from the fact that replacing the statement in the `finally`-clause with `return 2;` is not allowed (Compiler-Error).","body":"FYI: In C# the behaviour is identical apart from the fact that replacing the statement in the <code>finally</code>-clause with <code>return 2;</code> is not allowed (Compiler-Error)."},{"owner":{"account_id":100076,"reputation":6521,"user_id":2684342,"accept_rate":92,"display_name":"WoodenKitty"},"score":15,"creation_date":1386113877,"post_id":65185,"comment_id":30401604,"body_markdown":"Here is an important detail to be aware of: http://stackoverflow.com/a/20363941/2684342","body":"Here is an important detail to be aware of: <a href=\"http://stackoverflow.com/a/20363941/2684342\">stackoverflow.com/a/20363941/2684342</a>"},{"owner":{"account_id":1895647,"reputation":1622,"user_id":1712683,"accept_rate":91,"display_name":"Harry"},"score":0,"creation_date":1414300803,"post_id":65185,"comment_id":41758768,"body_markdown":"IF YOU ADD CATCH BLOCK, `error: missing return statement`","body":"IF YOU ADD CATCH BLOCK, <code>error: missing return statement</code>"},{"owner":{"account_id":291162,"reputation":2827,"user_id":593146,"accept_rate":83,"display_name":"Zyl"},"score":24,"creation_date":1429118733,"post_id":65185,"comment_id":47453228,"body_markdown":"You can even add a return statement in the finally block itself, which will then override the previous return value. This also magically discards unhandled exceptions. At that point, you should consider refactoring your code.","body":"You can even add a return statement in the finally block itself, which will then override the previous return value. This also magically discards unhandled exceptions. At that point, you should consider refactoring your code."},{"owner":{"account_id":3529464,"reputation":377,"user_id":2949494,"display_name":"Trimtab"},"score":10,"creation_date":1466482819,"post_id":65185,"comment_id":63320862,"body_markdown":"That does not really prove that finally trumps return. The return value is printed from the caller code. Doesn&#39;t seem to prove much.","body":"That does not really prove that finally trumps return. The return value is printed from the caller code. Doesn&#39;t seem to prove much."},{"owner":{"account_id":5634,"reputation":6674,"user_id":1058366,"display_name":"Kevin"},"score":0,"creation_date":1466539341,"post_id":65185,"comment_id":63355643,"body_markdown":"@Trimtab, Yes, it&#39;s only answering the question as asked. [Tristan&#39;s answer](http://stackoverflow.com/a/20363941/1058366) clarifies that the value to return is evaluated, the `finally` block is run, and then control is returned to the caller.","body":"@Trimtab, Yes, it&#39;s only answering the question as asked. <a href=\"http://stackoverflow.com/a/20363941/1058366\">Tristan&#39;s answer</a> clarifies that the value to return is evaluated, the <code>finally</code> block is run, and then control is returned to the caller."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":23,"creation_date":1503192261,"post_id":65185,"comment_id":78512912,"body_markdown":"Sorry, but this is a demonstration not a proof.  It is only a proof if you can show that this example always behaves this way on all Java platforms, AND that similar examples also always behave this way.","body":"Sorry, but this is a demonstration not a proof.  It is only a proof if you can show that this example always behaves this way on all Java platforms, AND that similar examples also always behave this way."},{"owner":{"account_id":11279676,"reputation":2258,"user_id":8272600,"display_name":"Julio Cezar Silva"},"score":5,"creation_date":1597422037,"post_id":65185,"comment_id":112136911,"body_markdown":"On a very off-topic side note, I&#39;m _politically_ sure this print statement is gonna age like milk.","body":"On a very off-topic side note, I&#39;m <i>politically</i> sure this print statement is gonna age like milk."},{"owner":{"account_id":5634,"reputation":6674,"user_id":1058366,"display_name":"Kevin"},"score":0,"creation_date":1633543332,"post_id":65185,"comment_id":122790172,"body_markdown":"@JulioCezarSilva yes, the english verb _to trump_ is now a casualty of american politics.","body":"@JulioCezarSilva yes, the english verb <i>to trump</i> is now a casualty of american politics."}],"tags":[],"owner":{"account_id":5634,"reputation":6674,"user_id":1058366,"display_name":"Kevin"},"comment_count":9,"down_vote_count":16,"up_vote_count":639,"is_accepted":false,"score":623,"last_activity_date":1633471819,"creation_date":1221501592,"answer_id":65185,"question_id":65035,"body_markdown":"Example code:\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(Test.test());\r\n    }\r\n\r\n    public static int test() {\r\n        try {\r\n            return 0;\r\n        }\r\n        finally {\r\n            System.out.println(&quot;something is printed&quot;);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    something is printed. \r\n    0","title":"Does a finally block always get executed in Java?","body":"<p>Example code:</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(Test.test());\n}\n\npublic static int test() {\n    try {\n        return 0;\n    }\n    finally {\n        System.out.println(&quot;something is printed&quot;);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>something is printed. \n0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1175,"reputation":42324,"user_id":1559,"accept_rate":67,"display_name":"Scott Dorman"},"comment_count":0,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1221501785,"creation_date":1221501785,"answer_id":65219,"question_id":65035,"body_markdown":"That&#39;s actually true in any language...finally will always execute before a return statement, no matter where that return is in the method body. If that wasn&#39;t the case, the finally block wouldn&#39;t have much meaning.","title":"Does a finally block always get executed in Java?","body":"<p>That's actually true in any language...finally will always execute before a return statement, no matter where that return is in the method body. If that wasn't the case, the finally block wouldn't have much meaning.</p>\n"},{"tags":[],"owner":{"account_id":5636,"reputation":239,"user_id":9189,"display_name":"user9189"},"comment_count":0,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1493848417,"creation_date":1221502315,"answer_id":65282,"question_id":65035,"body_markdown":"The finally block is always executed unless there is abnormal program termination, either resulting from a JVM crash or from a call to `System.exit(0)`.\r\n\r\nOn top of that, any value returned from within the finally block will override the value returned prior to execution of the finally block, so be careful of checking all exit points when using try finally.","title":"Does a finally block always get executed in Java?","body":"<p>The finally block is always executed unless there is abnormal program termination, either resulting from a JVM crash or from a call to <code>System.exit(0)</code>.</p>\n\n<p>On top of that, any value returned from within the finally block will override the value returned prior to execution of the finally block, so be careful of checking all exit points when using try finally.</p>\n"},{"comments":[{"owner":{"account_id":2536,"reputation":22948,"user_id":3535,"accept_rate":100,"display_name":"John Meagher"},"score":106,"creation_date":1221533276,"post_id":65362,"comment_id":6598,"body_markdown":"This is a REALLY bad practice.  See http://stackoverflow.com/questions/48088/returning-from-a-finally-block-in-java for more info about why it&#39;s bad.","body":"This is a REALLY bad practice.  See <a href=\"http://stackoverflow.com/questions/48088/returning-from-a-finally-block-in-java\" title=\"returning from a finally block in java\">stackoverflow.com/questions/48088/&hellip;</a> for more info about why it&#39;s bad."},{"owner":{"account_id":7660,"reputation":15986,"user_id":13365,"accept_rate":70,"display_name":"neu242"},"score":23,"creation_date":1224659540,"post_id":65362,"comment_id":92201,"body_markdown":"Agreed.  A return within finally{} ignores any exception thrown in try{}.  Scary!","body":"Agreed.  A return within finally{} ignores any exception thrown in try{}.  Scary!"},{"owner":{"account_id":347881,"reputation":2499,"user_id":682263,"accept_rate":78,"display_name":"dominicbri7"},"score":1,"creation_date":1310044468,"post_id":65362,"comment_id":7802757,"body_markdown":"No matter what, I always have ONLY ONE `return` statement in my methods (which is at the end), well except when its `void`.\nThat&#39;s what they taught me at school and I think it&#39;s a better practice too.","body":"No matter what, I always have ONLY ONE <code>return</code> statement in my methods (which is at the end), well except when its <code>void</code>. That&#39;s what they taught me at school and I think it&#39;s a better practice too."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":10,"creation_date":1310502396,"post_id":65362,"comment_id":7888247,"body_markdown":"@dominicbri7 Why do you think it&#39;s a better practice? And why should it be different when the function/method is void?","body":"@dominicbri7 Why do you think it&#39;s a better practice? And why should it be different when the function/method is void?"},{"owner":{"account_id":347881,"reputation":2499,"user_id":682263,"accept_rate":78,"display_name":"dominicbri7"},"score":8,"creation_date":1310557631,"post_id":65362,"comment_id":7898943,"body_markdown":"For the same reason I NEVER use goto&#39;s in my C++ codes.\nI think multiple returns makes it harder to read and more difficult to debug (of course in really simple cases it doesn&#39;t apply). I guess that&#39;s just personnal preferrence and in the end you can achieve the same thing using either method","body":"For the same reason I NEVER use goto&#39;s in my C++ codes. I think multiple returns makes it harder to read and more difficult to debug (of course in really simple cases it doesn&#39;t apply). I guess that&#39;s just personnal preferrence and in the end you can achieve the same thing using either method"},{"owner":{"account_id":1154057,"reputation":141,"user_id":1135142,"display_name":"iHearGeoff"},"score":18,"creation_date":1361575440,"post_id":65362,"comment_id":21130316,"body_markdown":"I tend to use a number of returns when some kind of exceptional case happens. Like if(there is a reason not to continue) return;","body":"I tend to use a number of returns when some kind of exceptional case happens. Like if(there is a reason not to continue) return;"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1403985966,"post_id":65362,"comment_id":37872968,"body_markdown":"I interpret `finally` block as a shorthand for writing the same code at the end of each `catch` block: `catch (Exc exc) { doSome(); } catch (AnotherExc exc) { doSome(); }","body":"I interpret <code>finally</code> block as a shorthand for writing the same code at the end of each <code>catch</code> block: `catch (Exc exc) { doSome(); } catch (AnotherExc exc) { doSome(); }"},{"owner":{"account_id":1308970,"reputation":1059,"user_id":1257384,"accept_rate":50,"display_name":"GregT"},"score":0,"creation_date":1496243616,"post_id":65362,"comment_id":75583766,"body_markdown":"@MCEmperor Not the same, because as the answer states, if the `finally` block has a return statement, it will override the one in the `catch` block. You cannot do it with `catch`.","body":"@MCEmperor Not the same, because as the answer states, if the <code>finally</code> block has a return statement, it will override the one in the <code>catch</code> block. You cannot do it with <code>catch</code>."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1589074080,"post_id":65362,"comment_id":109147967,"body_markdown":"@MooBob42, should do it with embedded finallys","body":"@MooBob42, should do it with embedded finallys"},{"owner":{"account_id":6630058,"reputation":730,"user_id":5119030,"accept_rate":71,"display_name":"Mikheil Zhghenti"},"score":0,"creation_date":1600636180,"post_id":65362,"comment_id":113142795,"body_markdown":"Very interesting example provided.","body":"Very interesting example provided."}],"tags":[],"owner":{"account_id":5674,"reputation":4275,"user_id":9271,"display_name":"MooBob42"},"comment_count":10,"down_vote_count":3,"up_vote_count":428,"is_accepted":false,"score":425,"last_activity_date":1221502793,"creation_date":1221502793,"answer_id":65362,"question_id":65035,"body_markdown":"Also, although it&#39;s bad practice, if there is a return statement within the finally block, it will trump any other return from the regular block. That is, the following block would return false:\r\n\r\n    try { return true; } finally { return false; }\r\n\r\nSame thing with throwing exceptions from the finally block.","title":"Does a finally block always get executed in Java?","body":"<p>Also, although it's bad practice, if there is a return statement within the finally block, it will trump any other return from the regular block. That is, the following block would return false:</p>\n\n<pre><code>try { return true; } finally { return false; }\n</code></pre>\n\n<p>Same thing with throwing exceptions from the finally block.</p>\n"},{"tags":[],"owner":{"account_id":4487,"reputation":2649,"user_id":6770,"accept_rate":26,"display_name":"James A. N. Stauffer"},"comment_count":0,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1221506775,"creation_date":1221506775,"answer_id":65943,"question_id":65035,"body_markdown":"Also a return in finally will throw away any exception.  [http://jamesjava.blogspot.com/2006/03/dont-return-in-finally-clause.html][1]\r\n\r\n\r\n  [1]: http://jamesjava.blogspot.com/2006/03/dont-return-in-finally-clause.html","title":"Does a finally block always get executed in Java?","body":"<p>Also a return in finally will throw away any exception.  <a href=\"http://jamesjava.blogspot.com/2006/03/dont-return-in-finally-clause.html\" rel=\"noreferrer\">http://jamesjava.blogspot.com/2006/03/dont-return-in-finally-clause.html</a></p>\n"},{"comments":[{"owner":{"account_id":116502,"reputation":565,"user_id":305487,"display_name":"matias"},"score":10,"creation_date":1274902052,"post_id":65949,"comment_id":2967905,"body_markdown":"Is this just &quot;a logical way to think about it&quot; or is it really how the finally block is intended to work according to the specifications ? A link to a Sun resource would be very interesting in here.","body":"Is this just &quot;a logical way to think about it&quot; or is it really how the finally block is intended to work according to the specifications ? A link to a Sun resource would be very interesting in here."}],"tags":[],"owner":{"account_id":5602,"reputation":11174,"user_id":2635682,"accept_rate":60,"display_name":"Garth Gilmour"},"comment_count":1,"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1221506804,"creation_date":1221506804,"answer_id":65949,"question_id":65035,"body_markdown":"A logical way to think about this is:\r\n\r\n 1. Code placed in a finally block must be executed **whatever occurs** within the try block\r\n 2. So if code in the try block tries to return a value or throw an exception the item is placed &#39;on the shelf&#39; till the finally block can execute\r\n 3. Because code in the finally block has (by definition) a high priority it can return or throw whatever it likes. In which case anything left &#39;on the shelf&#39; is discarded.\r\n 4. The only exception to this is if the VM shuts down completely during the try block e.g. by &#39;System.exit&#39;","title":"Does a finally block always get executed in Java?","body":"<p>A logical way to think about this is:</p>\n\n<ol>\n<li>Code placed in a finally block must be executed <strong>whatever occurs</strong> within the try block</li>\n<li>So if code in the try block tries to return a value or throw an exception the item is placed 'on the shelf' till the finally block can execute</li>\n<li>Because code in the finally block has (by definition) a high priority it can return or throw whatever it likes. In which case anything left 'on the shelf' is discarded.</li>\n<li>The only exception to this is if the VM shuts down completely during the try block e.g. by 'System.exit'</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1222874144,"creation_date":1222874144,"answer_id":158141,"question_id":65035,"body_markdown":"In addition to the point about return in finally replacing a return in the try block, the same is true of an exception.  A finally block that throws an exception will replace a return or exception thrown from within the try block.","title":"Does a finally block always get executed in Java?","body":"<p>In addition to the point about return in finally replacing a return in the try block, the same is true of an exception.  A finally block that throws an exception will replace a return or exception thrown from within the try block.</p>\n"},{"comments":[{"owner":{"account_id":4943069,"reputation":1642,"user_id":5191731,"accept_rate":92,"display_name":"HopefullyHelpful"},"score":12,"creation_date":1473325912,"post_id":296053,"comment_id":66100467,"body_markdown":"This example is awesome, it adds something that hasn&#39;t been mentioned in dozens finally related threads. I think barely any developer will know this.","body":"This example is awesome, it adds something that hasn&#39;t been mentioned in dozens finally related threads. I think barely any developer will know this."},{"owner":{"account_id":1384059,"reputation":1294,"user_id":1316459,"accept_rate":40,"display_name":"Yamcha"},"score":5,"creation_date":1473454222,"post_id":296053,"comment_id":66164133,"body_markdown":"What if `i` was not a primitive, but an Integer object.","body":"What if <code>i</code> was not a primitive, but an Integer object."},{"owner":{"account_id":2180718,"reputation":485,"user_id":1930283,"accept_rate":27,"display_name":"the-dumb-programmer"},"score":0,"creation_date":1479234079,"post_id":296053,"comment_id":68467998,"body_markdown":"I am having a hard time understanding this case. https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.17 says that, &quot;A return statement with an Expression attempts to transfer control to the invoker of the method or lambda body that contains it.... If evaluation of the Expression completes normally, producing a value V..&quot; What I could guess from this statement is- it seems that return doesn&#39;t evaluate the expression again once it evaluates value V, that&#39;s why changed i doesn&#39;t affect the returned value, correct me.","body":"I am having a hard time understanding this case. <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.17\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14&zwnj;&#8203;.17</a> says that, &quot;A return statement with an Expression attempts to transfer control to the invoker of the method or lambda body that contains it.... If evaluation of the Expression completes normally, producing a value V..&quot; What I could guess from this statement is- it seems that return doesn&#39;t evaluate the expression again once it evaluates value V, that&#39;s why changed i doesn&#39;t affect the returned value, correct me."},{"owner":{"account_id":2180718,"reputation":485,"user_id":1930283,"accept_rate":27,"display_name":"the-dumb-programmer"},"score":0,"creation_date":1479234431,"post_id":296053,"comment_id":68468182,"body_markdown":"But I coudn&#39;t found any proof regarding this, where is it mentioned that return doesn&#39;t evaluate the expression again.","body":"But I coudn&#39;t found any proof regarding this, where is it mentioned that return doesn&#39;t evaluate the expression again."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1495048696,"post_id":296053,"comment_id":75092677,"body_markdown":"@meexplorer a bit late, but it is explained in [JLS 14.20.2. Execution of try-finally and try-catch-finally](https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.20.2-100-C) - worded a bit complicated, [14.17. The return Statement](https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.17-430) must also be read","body":"@meexplorer a bit late, but it is explained in <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.20.2-100-C\" rel=\"nofollow noreferrer\">JLS 14.20.2. Execution of try-finally and try-catch-finally</a> - worded a bit complicated, <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.17-430\" rel=\"nofollow noreferrer\">14.17. The return Statement</a> must also be read"},{"owner":{"account_id":2093828,"reputation":319,"user_id":1863039,"accept_rate":45,"display_name":"Ngupta"},"score":0,"creation_date":1496666156,"post_id":296053,"comment_id":75739083,"body_markdown":"@ Yamcha  It would still be same","body":"@ Yamcha  It would still be same"},{"owner":{"account_id":1735668,"reputation":1932,"user_id":1588303,"display_name":"Rodney P. Barbati"},"score":0,"creation_date":1526317520,"post_id":296053,"comment_id":87687310,"body_markdown":"I believe that if you added a return statement to the finally block, the value returned would be 12, not 2.  The example basically shows that the finally block is pushed onto the call stack exactly the same as calling a method - that makes a local copy of i, which reverts to 2 after the stack is popped.","body":"I believe that if you added a return statement to the finally block, the value returned would be 12, not 2.  The example basically shows that the finally block is pushed onto the call stack exactly the same as calling a method - that makes a local copy of i, which reverts to 2 after the stack is popped."},{"owner":{"account_id":12864158,"reputation":611,"user_id":9304999,"display_name":"rosshjb"},"score":0,"creation_date":1638701708,"post_id":296053,"comment_id":124153221,"body_markdown":"When we leave off the `try` **block** , we are leaving its scope. We never enter into the scope again. So, the return value in `try`/`catch` block should be copied into somewhere to execute more code such as `finally` block. So, if there is `return` in `finally`, the return value suppress its previous return value. If not that, the back-up return value from `try`/`catch` is just used. This situation is similar with C++&#39;s exception. In C++, when we throw an exception and catch it by *reference*, the thrown exception should be copied too because of scope of `try`.","body":"When we leave off the <code>try</code> <b>block</b> , we are leaving its scope. We never enter into the scope again. So, the return value in <code>try</code>/<code>catch</code> block should be copied into somewhere to execute more code such as <code>finally</code> block. So, if there is <code>return</code> in <code>finally</code>, the return value suppress its previous return value. If not that, the back-up return value from <code>try</code>/<code>catch</code> is just used. This situation is similar with C++&#39;s exception. In C++, when we throw an exception and catch it by <i>reference</i>, the thrown exception should be copied too because of scope of <code>try</code>."}],"tags":[],"owner":{"account_id":17207,"reputation":1309,"user_id":38266,"display_name":"vibhash"},"comment_count":8,"down_vote_count":1,"up_vote_count":131,"is_accepted":false,"score":130,"last_activity_date":1423368180,"creation_date":1226939136,"answer_id":296053,"question_id":65035,"body_markdown":"I tried the above example with slight modification-\r\n\r\n    public static void main(final String[] args) {\r\n        System.out.println(test());\r\n    }\r\n\r\n    public static int test() {\r\n        int i = 0;\r\n        try {\r\n            i = 2;\r\n            return i;\r\n        } finally {\r\n            i = 12;\r\n            System.out.println(&quot;finally trumps return.&quot;);\r\n        }\r\n    }\r\n\r\nThe above code outputs:\r\n\r\n&gt;finally trumps return.  \r\n&gt;2\r\n\r\nThis is because when `return i;` is executed `i` has a value 2. After this the `finally` block is executed where 12 is assigned to `i` and then `System.out` out is executed.\r\n\r\nAfter executing the `finally` block the `try` block returns 2, rather than returning 12, because this return statement is not executed again.\r\n\r\nIf you will debug this code in Eclipse then you&#39;ll get a feeling that after executing `System.out` of `finally` block the `return` statement of `try` block is executed again. But this is not the case. It simply returns the value 2.","title":"Does a finally block always get executed in Java?","body":"<p>I tried the above example with slight modification-</p>\n\n<pre><code>public static void main(final String[] args) {\n    System.out.println(test());\n}\n\npublic static int test() {\n    int i = 0;\n    try {\n        i = 2;\n        return i;\n    } finally {\n        i = 12;\n        System.out.println(\"finally trumps return.\");\n    }\n}\n</code></pre>\n\n<p>The above code outputs:</p>\n\n<blockquote>\n  <p>finally trumps return.<br>\n  2</p>\n</blockquote>\n\n<p>This is because when <code>return i;</code> is executed <code>i</code> has a value 2. After this the <code>finally</code> block is executed where 12 is assigned to <code>i</code> and then <code>System.out</code> out is executed.</p>\n\n<p>After executing the <code>finally</code> block the <code>try</code> block returns 2, rather than returning 12, because this return statement is not executed again.</p>\n\n<p>If you will debug this code in Eclipse then you'll get a feeling that after executing <code>System.out</code> of <code>finally</code> block the <code>return</code> statement of <code>try</code> block is executed again. But this is not the case. It simply returns the value 2.</p>\n"},{"tags":[],"owner":{"account_id":2737,"reputation":111800,"user_id":3848,"accept_rate":92,"display_name":"Motti"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1273731833,"creation_date":1273731503,"answer_id":2824754,"question_id":65035,"body_markdown":"Finally is always run that&#39;s the whole point, just because it appears in the code after the return doesn&#39;t mean that that&#39;s how it&#39;s implemented. The Java runtime has the responsibility to run this code when exiting the `try` block.\r\n\r\nFor example if you have the following:\r\n\r\n    int foo() { \r\n        try {\r\n            return 42;\r\n        }\r\n        finally {\r\n            System.out.println(&quot;done&quot;);\r\n        }\r\n    }\r\n\r\nThe runtime will generate something like this:\r\n\r\n    int foo() {\r\n        int ret = 42;\r\n        System.out.println(&quot;done&quot;);\r\n        return 42;\r\n    }\r\n    \r\nIf an uncaught exception is thrown the `finally` block will run and the exception will continue propagating. ","title":"Does a finally block always get executed in Java?","body":"<p>Finally is always run that's the whole point, just because it appears in the code after the return doesn't mean that that's how it's implemented. The Java runtime has the responsibility to run this code when exiting the <code>try</code> block.</p>\n\n<p>For example if you have the following:</p>\n\n<pre><code>int foo() { \n    try {\n        return 42;\n    }\n    finally {\n        System.out.println(\"done\");\n    }\n}\n</code></pre>\n\n<p>The runtime will generate something like this:</p>\n\n<pre><code>int foo() {\n    int ret = 42;\n    System.out.println(\"done\");\n    return 42;\n}\n</code></pre>\n\n<p>If an uncaught exception is thrown the <code>finally</code> block will run and the exception will continue propagating. </p>\n"},{"tags":[],"owner":{"account_id":21489,"reputation":53159,"user_id":52249,"display_name":"Jay Riggs"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1273731557,"creation_date":1273731557,"answer_id":2824758,"question_id":65035,"body_markdown":"Because a finally block will always be called unless you call `System.exit()` (or the thread crashes).","title":"Does a finally block always get executed in Java?","body":"<p>Because a finally block will always be called unless you call <code>System.exit()</code> (or the thread crashes).</p>\n"},{"comments":[{"owner":{"account_id":368447,"reputation":24110,"user_id":715269,"accept_rate":60,"display_name":"Gangnus"},"score":0,"creation_date":1557253157,"post_id":2824759,"comment_id":98700344,"body_markdown":"That is an extremely weak answer. https://stackoverflow.com/a/65049/715269","body":"That is an extremely weak answer. <a href=\"https://stackoverflow.com/a/65049/715269\">stackoverflow.com/a/65049/715269</a>"}],"tags":[],"owner":{"account_id":114381,"reputation":17336,"user_id":300807,"accept_rate":89,"display_name":"Chris Cooper"},"comment_count":1,"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1441127489,"creation_date":1273731557,"answer_id":2824759,"question_id":65035,"body_markdown":"That is the whole idea of a finally block. It lets you make sure you do cleanups that might otherwise be skipped because you return, among other things, of course.\r\n\r\nFinally gets called **regardless of what happens** in the try block (*unless* you call `System.exit(int)` or the Java Virtual Machine kicks out for some other reason).","title":"Does a finally block always get executed in Java?","body":"<p>That is the whole idea of a finally block. It lets you make sure you do cleanups that might otherwise be skipped because you return, among other things, of course.</p>\n\n<p>Finally gets called <strong>regardless of what happens</strong> in the try block (<em>unless</em> you call <code>System.exit(int)</code> or the Java Virtual Machine kicks out for some other reason).</p>\n"},{"tags":[],"owner":{"account_id":80548,"reputation":18669,"user_id":227698,"accept_rate":88,"display_name":"vodkhang"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1273731587,"creation_date":1273731587,"answer_id":2824762,"question_id":65035,"body_markdown":"Because the final is always be called in whatever cases you have. You don&#39;t have exception, it is still called, catch exception, it is still called","title":"Does a finally block always get executed in Java?","body":"<p>Because the final is always be called in whatever cases you have. You don't have exception, it is still called, catch exception, it is still called</p>\n"},{"comments":[{"owner":{"account_id":54451,"reputation":8858,"user_id":162895,"accept_rate":100,"display_name":"Dimitris Andreou"},"score":69,"creation_date":1273751646,"post_id":2824998,"comment_id":2867161,"body_markdown":"It should be noted that the middle case is precisely the reason why having a return statement inside a finally block is absolutely horrible (it could hide any Throwable).","body":"It should be noted that the middle case is precisely the reason why having a return statement inside a finally block is absolutely horrible (it could hide any Throwable)."},{"owner":{"account_id":5542034,"reputation":581,"user_id":4398194,"display_name":"RecursiveExceptionException"},"score":3,"creation_date":1549562766,"post_id":2824998,"comment_id":95956469,"body_markdown":"Who _doesn&#39;t_ want a surpressed `OutOfMemoryError`? ;)","body":"Who <i>doesn&#39;t</i> want a surpressed <code>OutOfMemoryError</code>? ;)"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1577030568,"post_id":2824998,"comment_id":105074310,"body_markdown":"I tested it and it does suppress such an error (yipes!). It also generates a warning when I compile it (yay!). And you can work around it by defining a return variable and then using `return retVal` *after* the `finally` block, although that of course assumes that you suppressed some other exceptions because the code would not make sense otherwise.","body":"I tested it and it does suppress such an error (yipes!). It also generates a warning when I compile it (yay!). And you can work around it by defining a return variable and then using <code>return retVal</code> <i>after</i> the <code>finally</code> block, although that of course assumes that you suppressed some other exceptions because the code would not make sense otherwise."}],"tags":[],"owner":{"account_id":66969,"reputation":22196,"user_id":196211,"accept_rate":67,"display_name":"Eyal Schneider"},"comment_count":3,"down_vote_count":0,"up_vote_count":174,"is_accepted":false,"score":174,"last_activity_date":1477665335,"creation_date":1273734719,"answer_id":2824998,"question_id":65035,"body_markdown":"In addition to the other responses, it is important to point out that &#39;finally&#39; has the right to override any exception/returned value by the try..catch block. For example, the following code returns 12:\r\n\r\n    public static int getMonthsInYear() {\r\n        try {\r\n    \t\treturn 10;\r\n        }\r\n        finally {\r\n            return 12;\r\n        }\r\n    }\r\n\r\nSimilarly, the following method does not throw an exception:\r\n\r\n    public static int getMonthsInYear() {\r\n        try {\r\n            throw new RuntimeException();\r\n        }\r\n        finally {\r\n            return 12;\r\n        }\r\n    }\r\n\r\nWhile the following method does throw it:\r\n\r\n    public static int getMonthsInYear() {\r\n        try {\r\n            return 12;\t\t\t\r\n        }\r\n        finally {\r\n            throw new RuntimeException();\r\n        }\r\n    }","title":"Does a finally block always get executed in Java?","body":"<p>In addition to the other responses, it is important to point out that 'finally' has the right to override any exception/returned value by the try..catch block. For example, the following code returns 12:</p>\n\n<pre><code>public static int getMonthsInYear() {\n    try {\n        return 10;\n    }\n    finally {\n        return 12;\n    }\n}\n</code></pre>\n\n<p>Similarly, the following method does not throw an exception:</p>\n\n<pre><code>public static int getMonthsInYear() {\n    try {\n        throw new RuntimeException();\n    }\n    finally {\n        return 12;\n    }\n}\n</code></pre>\n\n<p>While the following method does throw it:</p>\n\n<pre><code>public static int getMonthsInYear() {\n    try {\n        return 12;          \n    }\n    finally {\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":135304,"reputation":464,"user_id":338082,"accept_rate":62,"display_name":"Gala101"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1273751414,"creation_date":1273751414,"answer_id":2826472,"question_id":65035,"body_markdown":"Consider this in a normal course of execution (i.e without any Exception being thrown): if method is not &#39;void&#39; then it always explicitly returns something, yet, finally always gets executed","title":"Does a finally block always get executed in Java?","body":"<p>Consider this in a normal course of execution (i.e without any Exception being thrown): if method is not 'void' then it always explicitly returns something, yet, finally always gets executed</p>\n"},{"tags":[],"owner":{"account_id":616602,"reputation":101,"user_id":349636,"display_name":"Wasim"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1440054009,"creation_date":1274769389,"answer_id":2902505,"question_id":65035,"body_markdown":"This is because you assigned the value of i as 12, but did not return the value of i to the function. The correct code is as follows:\r\n\r\n    public static int test() {\r\n\t\tint i = 0;\r\n\t\ttry {\r\n\t\t\treturn i;\r\n\t\t} finally {\r\n\t\t\ti = 12;\r\n\t\t\tSystem.out.println(&quot;finally trumps return.&quot;);\r\n\t\t\treturn i;\r\n\t\t}\r\n\t}","title":"Does a finally block always get executed in Java?","body":"<p>This is because you assigned the value of i as 12, but did not return the value of i to the function. The correct code is as follows:</p>\n\n<pre><code>public static int test() {\n    int i = 0;\n    try {\n        return i;\n    } finally {\n        i = 12;\n        System.out.println(\"finally trumps return.\");\n        return i;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":0,"down_vote_count":0,"up_vote_count":264,"is_accepted":false,"score":264,"last_activity_date":1465329096,"creation_date":1274770216,"answer_id":2902578,"question_id":65035,"body_markdown":"Here&#39;s the official words from the Java Language Specification.\r\n\r\n[14.20.2. Execution of try-finally and try-catch-finally][1]\r\n\r\n&gt;**A `try` statement with a `finally` block is executed by first executing the `try` block. Then there is a choice:**\r\n\r\n&gt; * If execution of the `try` block completes normally, [...]\r\n&gt; * If execution of the `try` block completes abruptly because of a `throw` of a value _V_, [...]\r\n&gt; * **If execution of the `try` block completes abruptly for any other reason _R_, then the `finally` block is executed. Then there is a choice:**\r\n&gt;    * If the finally block completes normally, then the `try` statement completes abruptly for reason _R_. \r\n&gt;    * If the `finally` block completes abruptly for reason _S_, then the `try` statement completes abruptly for reason _S_ (**and reason _R_ is discarded**).\r\n\r\nThe specification for `return` actually makes this explicit:\r\n\r\n[JLS 14.17 The return Statement][2]\r\n\r\n&gt;     ReturnStatement:\r\n         return Expression(opt) ;\r\n\r\n\r\n&gt; A `return` statement with no `Expression` **attempts** to transfer control to the invoker of the method or constructor that contains it. \r\n&gt;\r\n&gt; A `return` statement with an `Expression` **attempts** to transfer control to the invoker of the method that contains it; the value of the `Expression` becomes the value of the method invocation.\r\n&gt;\r\n&gt; The preceding descriptions say &quot;_**attempts** to transfer control_&quot; rather than just &quot;_transfers control_&quot; because if there are any `try` statements within the method or constructor whose `try` blocks contain the `return` statement, then any `finally` clauses of those `try` statements will be executed, in order, innermost to outermost, before control is transferred to the invoker of the method or constructor. Abrupt completion of a `finally` clause can disrupt the transfer of control initiated by a `return` statement.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.20.2\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.17","title":"Does a finally block always get executed in Java?","body":"<p>Here's the official words from the Java Language Specification.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.20.2\" rel=\"noreferrer\">14.20.2. Execution of try-finally and try-catch-finally</a></p>\n\n<blockquote>\n  <p><strong>A <code>try</code> statement with a <code>finally</code> block is executed by first executing the <code>try</code> block. Then there is a choice:</strong></p>\n  \n  <ul>\n  <li>If execution of the <code>try</code> block completes normally, [...]</li>\n  <li>If execution of the <code>try</code> block completes abruptly because of a <code>throw</code> of a value <em>V</em>, [...]</li>\n  <li><strong>If execution of the <code>try</code> block completes abruptly for any other reason <em>R</em>, then the <code>finally</code> block is executed. Then there is a choice:</strong>\n  \n  <ul>\n  <li>If the finally block completes normally, then the <code>try</code> statement completes abruptly for reason <em>R</em>. </li>\n  <li>If the <code>finally</code> block completes abruptly for reason <em>S</em>, then the <code>try</code> statement completes abruptly for reason <em>S</em> (<strong>and reason <em>R</em> is discarded</strong>).</li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>The specification for <code>return</code> actually makes this explicit:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.17\" rel=\"noreferrer\">JLS 14.17 The return Statement</a></p>\n\n<blockquote>\n<pre><code>ReturnStatement:\n     return Expression(opt) ;\n</code></pre>\n  \n  <p>A <code>return</code> statement with no <code>Expression</code> <strong>attempts</strong> to transfer control to the invoker of the method or constructor that contains it. </p>\n  \n  <p>A <code>return</code> statement with an <code>Expression</code> <strong>attempts</strong> to transfer control to the invoker of the method that contains it; the value of the <code>Expression</code> becomes the value of the method invocation.</p>\n  \n  <p>The preceding descriptions say \"<em><strong>attempts</strong> to transfer control</em>\" rather than just \"<em>transfers control</em>\" because if there are any <code>try</code> statements within the method or constructor whose <code>try</code> blocks contain the <code>return</code> statement, then any <code>finally</code> clauses of those <code>try</code> statements will be executed, in order, innermost to outermost, before control is transferred to the invoker of the method or constructor. Abrupt completion of a <code>finally</code> clause can disrupt the transfer of control initiated by a <code>return</code> statement.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":324587,"reputation":18477,"user_id":645226,"accept_rate":74,"display_name":"Bhushan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1318521715,"creation_date":1318521715,"answer_id":7756997,"question_id":65035,"body_markdown":"If an exception is thrown, finally runs. If an exception is not thrown, finally runs. If the exception is caught, finally runs. If the exception is not caught, finally runs.\r\n\r\nOnly time it does not run is when JVM exits.","title":"Does a finally block always get executed in Java?","body":"<p>If an exception is thrown, finally runs. If an exception is not thrown, finally runs. If the exception is caught, finally runs. If the exception is not caught, finally runs.</p>\n\n<p>Only time it does not run is when JVM exits.</p>\n"},{"tags":[],"owner":{"account_id":19110,"reputation":3538,"user_id":44512,"accept_rate":74,"display_name":"eric2323223"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1688565236,"creation_date":1334653616,"answer_id":10188271,"question_id":65035,"body_markdown":"Try this code, you will understand the **code in finally block is get executed after return statement**.\r\n\r\n    public class TestTryCatchFinally {\r\n    \tstatic int x = 0;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(f1());\r\n    \t\tSystem.out.println(f2());\r\n    \t}\r\n    \t\r\n    \tpublic static int f1() {\r\n    \t\ttry {\r\n    \t\t\tx = 1;\r\n    \t\t\treturn x;\r\n    \t\t} finally {\r\n    \t\t\tx = 2;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static int f2() {\r\n    \t\treturn x;\r\n    \t}\r\n    }","title":"Does a finally block always get executed in Java?","body":"<p>Try this code, you will understand the <strong>code in finally block is get executed after return statement</strong>.</p>\n<pre><code>public class TestTryCatchFinally {\n    static int x = 0;\n    \n    public static void main(String[] args) {\n        System.out.println(f1());\n        System.out.println(f2());\n    }\n    \n    public static int f1() {\n        try {\n            x = 1;\n            return x;\n        } finally {\n            x = 2;\n        }\n    }\n    \n    public static int f2() {\n        return x;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"score":0,"creation_date":1536604463,"post_id":17634958,"comment_id":91475013,"body_markdown":"And that&#39;s one of the reasons you really should never call System.exit()...","body":"And that&#39;s one of the reasons you really should never call System.exit()..."}],"tags":[],"owner":{"account_id":2644975,"reputation":187,"user_id":2287871,"display_name":"Rajendra Jadi"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1688562006,"creation_date":1373756543,"answer_id":17634958,"question_id":65035,"body_markdown":"No, not always, one exception case is\r\n`System.exit(0);`\r\nbefore the `finally` block prevents `finally` to be executed.\r\n\r\n  \r\n```java\r\n      class A {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tDataInputStream cin = new DataInputStream(System.in);\r\n\r\n    \t\ttry {\r\n    \t\t\tint i = Integer.parseInt(cin.readLine());\r\n    \t\t} catch (ArithmeticException e) {\r\n    \t\t} catch (Exception e) {\r\n    \t\t   System.exit(0); // Program terminates before executing the finally block\r\n    \t\t} finally {\r\n                System.out.println(&quot;Won&#39;t be executed&quot;);\r\n    \t\t    System.out.println(&quot;No error&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n```","title":"Does a finally block always get executed in Java?","body":"<p>No, not always, one exception case is\n<code>System.exit(0);</code>\nbefore the <code>finally</code> block prevents <code>finally</code> to be executed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      class A {\n        public static void main(String args[]) {\n            DataInputStream cin = new DataInputStream(System.in);\n\n            try {\n                int i = Integer.parseInt(cin.readLine());\n            } catch (ArithmeticException e) {\n            } catch (Exception e) {\n               System.exit(0); // Program terminates before executing the finally block\n            } finally {\n                System.out.println(&quot;Won't be executed&quot;);\n                System.out.println(&quot;No error&quot;);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2177142,"reputation":2654,"user_id":1927543,"accept_rate":74,"display_name":"Karthikeyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1376654420,"creation_date":1376654420,"answer_id":18272854,"question_id":65035,"body_markdown":"Yes, it will. No matter what happens in your try or catch block unless otherwise System.exit() called or JVM crashed. if there is any return statement in the block(s),finally will be executed prior to that return statement.\r\n\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Yes, it will. No matter what happens in your try or catch block unless otherwise System.exit() called or JVM crashed. if there is any return statement in the block(s),finally will be executed prior to that return statement.</p>\n"},{"comments":[{"owner":{"account_id":1273992,"reputation":23592,"user_id":1229624,"accept_rate":65,"display_name":"Aminadav Glickshtein"},"score":10,"creation_date":1530878819,"post_id":20363941,"comment_id":89400750,"body_markdown":"Important to know.","body":"Important to know."},{"owner":{"account_id":16090148,"reputation":195,"user_id":11613795,"display_name":"Albert"},"score":0,"creation_date":1561546686,"post_id":20363941,"comment_id":100097782,"body_markdown":"Good to know, and makes sense as well. It seems that actually returning the value of return is what comes after `finally`. Calculating the return value (`printX()` here) still comes before it.","body":"Good to know, and makes sense as well. It seems that actually returning the value of return is what comes after <code>finally</code>. Calculating the return value (<code>printX()</code> here) still comes before it."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":2,"creation_date":1589073689,"post_id":20363941,"comment_id":109147875,"body_markdown":"Nope. The code above should replace `System.out.println(&quot;finally trumps return... sort of&quot;);` with `System.out.print(&quot;finally trumps return in try&quot;); return 42;`","body":"Nope. The code above should replace <code>System.out.println(&quot;finally trumps return... sort of&quot;);</code> with <code>System.out.print(&quot;finally trumps return in try&quot;); return 42;</code>"},{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1654810770,"post_id":20363941,"comment_id":128187716,"body_markdown":"This answer is completely self-evident IMO because `return` doesn&#39;t return some magic continuation that only gets evaluated if the caller prints it or whatever. `printX()` gets called before the `return` happens, regardless of any `try`/`catch`, or anything else.","body":"This answer is completely self-evident IMO because <code>return</code> doesn&#39;t return some magic continuation that only gets evaluated if the caller prints it or whatever. <code>printX()</code> gets called before the <code>return</code> happens, regardless of any <code>try</code>/<code>catch</code>, or anything else."}],"tags":[],"owner":{"account_id":100076,"reputation":6521,"user_id":2684342,"accept_rate":92,"display_name":"WoodenKitty"},"comment_count":4,"down_vote_count":0,"up_vote_count":133,"is_accepted":false,"score":133,"last_activity_date":1667591410,"creation_date":1386113773,"answer_id":20363941,"question_id":65035,"body_markdown":"Here&#39;s an elaboration of [Kevin&#39;s answer][1]. It&#39;s important to know that the expression to be returned is evaluated before `finally`, even if it is returned after.\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(Test.test());\r\n    }\r\n\r\n    public static int printX() {\r\n        System.out.println(&quot;X&quot;);\r\n        return 0;\r\n    }\r\n\r\n    public static int test() {\r\n        try {\r\n            return printX();\r\n        }\r\n        finally {\r\n            System.out.println(&quot;finally trumps return... sort of&quot;);\r\n            return 42;\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    X\r\n    finally trumps return... sort of\r\n    42\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65185/2684342","title":"Does a finally block always get executed in Java?","body":"<p>Here's an elaboration of <a href=\"https://stackoverflow.com/a/65185/2684342\">Kevin's answer</a>. It's important to know that the expression to be returned is evaluated before <code>finally</code>, even if it is returned after.</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(Test.test());\n}\n\npublic static int printX() {\n    System.out.println(&quot;X&quot;);\n    return 0;\n}\n\npublic static int test() {\n    try {\n        return printX();\n    }\n    finally {\n        System.out.println(&quot;finally trumps return... sort of&quot;);\n        return 42;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>X\nfinally trumps return... sort of\n42\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1746548,"reputation":850,"user_id":1596606,"accept_rate":88,"display_name":"abhig"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1389738557,"creation_date":1389738557,"answer_id":21125379,"question_id":65035,"body_markdown":"Yes It will.\r\nOnly case it will not is JVM exits or crashes ","title":"Does a finally block always get executed in Java?","body":"<p>Yes It will.\nOnly case it will not is JVM exits or crashes </p>\n"},{"tags":[],"owner":{"account_id":4032073,"reputation":109,"user_id":3317784,"display_name":"Rohit Chugh"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1392626905,"creation_date":1392626905,"answer_id":21824431,"question_id":65035,"body_markdown":"Finally block always execute whether exception  handle or not .if any exception occurred before try block then finally block will not execute.","title":"Does a finally block always get executed in Java?","body":"<p>Finally block always execute whether exception  handle or not .if any exception occurred before try block then finally block will not execute.</p>\n"},{"tags":[],"owner":{"account_id":3793469,"reputation":1585,"user_id":3149356,"display_name":"bikz05"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1413237110,"creation_date":1413237110,"answer_id":26349456,"question_id":65035,"body_markdown":"Concisely, in the official Java Documentation (Click [here][1]), it is written that - \r\n\r\n&gt; If the JVM exits while the try or catch code is being executed, then\r\n&gt; the finally block may not execute. Likewise, if the thread executing\r\n&gt; the try or catch code is interrupted or killed, the finally block may\r\n&gt; not execute even though the application as a whole continues.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html","title":"Does a finally block always get executed in Java?","body":"<p>Concisely, in the official Java Documentation (Click <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html\" rel=\"noreferrer\">here</a>), it is written that - </p>\n\n<blockquote>\n  <p>If the JVM exits while the try or catch code is being executed, then\n  the finally block may not execute. Likewise, if the thread executing\n  the try or catch code is interrupted or killed, the finally block may\n  not execute even though the application as a whole continues.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5422297,"reputation":517,"user_id":4315585,"display_name":"Gautam Viradiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1417523414,"creation_date":1417523414,"answer_id":27249545,"question_id":65035,"body_markdown":"Yes, finally block is always execute. Most of developer use this block the closing the database connection, resultset object, statement object and also uses into the java hibernate to rollback the transaction.","title":"Does a finally block always get executed in Java?","body":"<p>Yes, finally block is always execute. Most of developer use this block the closing the database connection, resultset object, statement object and also uses into the java hibernate to rollback the transaction.</p>\n"},{"tags":[],"owner":{"account_id":2588248,"reputation":143,"user_id":3201107,"display_name":"Utkarsh Bhatt"},"comment_count":0,"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1478860787,"creation_date":1418884616,"answer_id":27540550,"question_id":65035,"body_markdown":"`finally` will execute and that is for sure.\r\n\r\n`finally` will not execute in below cases: \r\n\r\ncase 1 :\r\n\r\nWhen you are executing `System.exit()`.\r\n\r\ncase 2 :\r\n\r\nWhen your JVM / Thread crashes.\r\n\r\ncase 3 : \r\n\r\nWhen your execution is stopped in between manually.\r\n\r\n","title":"Does a finally block always get executed in Java?","body":"<p><code>finally</code> will execute and that is for sure.</p>\n\n<p><code>finally</code> will not execute in below cases: </p>\n\n<p>case 1 :</p>\n\n<p>When you are executing <code>System.exit()</code>.</p>\n\n<p>case 2 :</p>\n\n<p>When your JVM / Thread crashes.</p>\n\n<p>case 3 : </p>\n\n<p>When your execution is stopped in between manually.</p>\n"},{"tags":[],"owner":{"account_id":468110,"reputation":79,"user_id":873900,"display_name":"milton"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1431517978,"creation_date":1431515461,"answer_id":30213111,"question_id":65035,"body_markdown":"I was very confused with all the answers provided on different forums and decided to finally code and see. The ouput is :\n\n**finally will be executed even if there is return in try and catch block.**\n\n    try {  \n      System.out.println(&quot;try&quot;); \n      return;\n      //int  i =5/0;\n      //System.exit(0 ) ;\n    } catch (Exception e) {   \n      System.out.println(&quot;catch&quot;);\n      return;\n      //int  i =5/0;\n      //System.exit(0 ) ;\n    } finally {  \n       System.out.println(&quot;Print me FINALLY&quot;);\n    }\n\n**Output**\n&gt; try\n&gt;\n&gt; Print me FINALLY\n\n 2. If return is replaced by `System.exit(0)` in try and catch block in above code and an exception occurs before it,for any reason.","title":"Does a finally block always get executed in Java?","body":"<p>I was very confused with all the answers provided on different forums and decided to finally code and see. The ouput is :</p>\n<p><strong>finally will be executed even if there is return in try and catch block.</strong></p>\n<pre><code>try {  \n  System.out.println(&quot;try&quot;); \n  return;\n  //int  i =5/0;\n  //System.exit(0 ) ;\n} catch (Exception e) {   \n  System.out.println(&quot;catch&quot;);\n  return;\n  //int  i =5/0;\n  //System.exit(0 ) ;\n} finally {  \n   System.out.println(&quot;Print me FINALLY&quot;);\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<blockquote>\n<p>try</p>\n<p>Print me FINALLY</p>\n</blockquote>\n<ol start=\"2\">\n<li>If return is replaced by <code>System.exit(0)</code> in try and catch block in above code and an exception occurs before it,for any reason.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1623231305,"post_id":34240980,"comment_id":120017673,"body_markdown":"My apologies for commenting on such an old answer, but I don&#39;t think saying `any software which for their proper behaviour depends on finally blocks always being executed after their try blocks complete are bugged.` is quite right. `finally` blocks are usually used for resource clean-up to prevent leaks. How else would you do it? In the same vein, you cannot (or should not...) catch `Error`s either, as there is (usually) no reasonable way for a normal application to handle them.","body":"My apologies for commenting on such an old answer, but I don&#39;t think saying <code>any software which for their proper behaviour depends on finally blocks always being executed after their try blocks complete are bugged.</code> is quite right. <code>finally</code> blocks are usually used for resource clean-up to prevent leaks. How else would you do it? In the same vein, you cannot (or should not...) catch <code>Error</code>s either, as there is (usually) no reasonable way for a normal application to handle them."},{"owner":{"account_id":926113,"reputation":3150,"user_id":956880,"accept_rate":80,"display_name":"Anonymous Coward"},"score":0,"creation_date":1624265308,"post_id":34240980,"comment_id":120301467,"body_markdown":"@user991710 If clean-up in the finally block is in example about closing an open file then not executing the finally block is not a problem, the OS closes it on program termination. If clean-up is deletion of a file that is a problem, the OS won&#39;t do it when the program is aborted before finally. If another part of the system depends on the java program always doing such deletion then the system in general and the java program in particular are bugged. You can&#39;t rely on finally always executing. You can only rely on the guarantee that finally has already been executed if NEXT has been executed","body":"@user991710 If clean-up in the finally block is in example about closing an open file then not executing the finally block is not a problem, the OS closes it on program termination. If clean-up is deletion of a file that is a problem, the OS won&#39;t do it when the program is aborted before finally. If another part of the system depends on the java program always doing such deletion then the system in general and the java program in particular are bugged. You can&#39;t rely on finally always executing. You can only rely on the guarantee that finally has already been executed if NEXT has been executed"},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1624276895,"post_id":34240980,"comment_id":120305993,"body_markdown":"Interesting take, although it forces some parts of your design as far as I can see. To expand on your deletion example: would you have a kind of &#39;reaper&#39; task running that is responsible for deletion (clean-up) of files? I admit that, given your explanation, using `finally` may (given enough time, likely *will*) cause bugs, but is the additional development (and testing) time worth the potentially unnoticeable improvement in stability? More generally: does the amount of care that should go into a particular design depend on the subsystem in question? Time is a valuable resource, after all. :)","body":"Interesting take, although it forces some parts of your design as far as I can see. To expand on your deletion example: would you have a kind of &#39;reaper&#39; task running that is responsible for deletion (clean-up) of files? I admit that, given your explanation, using <code>finally</code> may (given enough time, likely <i>will</i>) cause bugs, but is the additional development (and testing) time worth the potentially unnoticeable improvement in stability? More generally: does the amount of care that should go into a particular design depend on the subsystem in question? Time is a valuable resource, after all. :)"},{"owner":{"account_id":926113,"reputation":3150,"user_id":956880,"accept_rate":80,"display_name":"Anonymous Coward"},"score":1,"creation_date":1624391042,"post_id":34240980,"comment_id":120345254,"body_markdown":"@user991710 There is nothing wrong with using finally. You just need to know what it does and what it does not. For the particular case of deleting a file I would actually do it in the finally block. But being aware that doing so provides no guarantee (not even if the last line of the try block finished executing) I would take precautions to deal which such situation. So deleting previous leftover files as a first step of executing the program, if this is a service style program which would be re-run automatically. If system failing in such situation is of no concern then, sure, don&#39;t bother","body":"@user991710 There is nothing wrong with using finally. You just need to know what it does and what it does not. For the particular case of deleting a file I would actually do it in the finally block. But being aware that doing so provides no guarantee (not even if the last line of the try block finished executing) I would take precautions to deal which such situation. So deleting previous leftover files as a first step of executing the program, if this is a service style program which would be re-run automatically. If system failing in such situation is of no concern then, sure, don&#39;t bother"}],"tags":[],"owner":{"account_id":926113,"reputation":3150,"user_id":956880,"accept_rate":80,"display_name":"Anonymous Coward"},"comment_count":4,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1583601081,"creation_date":1449930653,"answer_id":34240980,"question_id":65035,"body_markdown":"&lt;h1&gt;NOT ALWAYS&lt;/h1&gt;\r\n\r\nThe Java Language specification describes how `try`-`catch`-`finally` and `try`-`catch` blocks work at [14.20.2][1]  \r\nIn no place it specifies that the `finally` block is always executed.\r\nBut for all cases in which the `try`-`catch`-`finally` and `try`-`finally` blocks complete it does specify that before completion `finally` must be executed.\r\n\r\n    try {\r\n      CODE inside the try block\r\n    }\r\n    finally {\r\n      FIN code inside finally block\r\n    }\r\n    NEXT code executed after the try-finally block (may be in a different method).\r\n\r\nThe JLS does not guarantee that **FIN** is executed after **CODE**.\r\nThe JLS guarantees that if **CODE** and **NEXT** are executed then **FIN** will always be executed after **CODE** and before **NEXT**.\r\n\r\nWhy doesn&#39;t the JLS guarantee that the `finally` block is always executed after the `try` block? *Because it is impossible.* It is unlikely but possible that the JVM will be aborted (kill, crash, power off) just after completing the `try` block but before execution of the `finally` block. There is nothing the JLS can do to avoid this.\r\n\r\nThus, any software which for their proper behaviour depends on `finally` blocks always being executed after their `try` blocks complete are bugged.\r\n\r\n`return` instructions in the `try` block are irrelevant to this issue. If execution reaches code after the `try`-`catch`-`finally` it is guaranteed that the `finally` block will have been executed before, with or without `return` instructions inside the `try` block.\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.2","title":"Does a finally block always get executed in Java?","body":"<h1>NOT ALWAYS</h1>\n\n<p>The Java Language specification describes how <code>try</code>-<code>catch</code>-<code>finally</code> and <code>try</code>-<code>catch</code> blocks work at <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.2\" rel=\"nofollow noreferrer\">14.20.2</a><br>\nIn no place it specifies that the <code>finally</code> block is always executed.\nBut for all cases in which the <code>try</code>-<code>catch</code>-<code>finally</code> and <code>try</code>-<code>finally</code> blocks complete it does specify that before completion <code>finally</code> must be executed.</p>\n\n<pre><code>try {\n  CODE inside the try block\n}\nfinally {\n  FIN code inside finally block\n}\nNEXT code executed after the try-finally block (may be in a different method).\n</code></pre>\n\n<p>The JLS does not guarantee that <strong>FIN</strong> is executed after <strong>CODE</strong>.\nThe JLS guarantees that if <strong>CODE</strong> and <strong>NEXT</strong> are executed then <strong>FIN</strong> will always be executed after <strong>CODE</strong> and before <strong>NEXT</strong>.</p>\n\n<p>Why doesn't the JLS guarantee that the <code>finally</code> block is always executed after the <code>try</code> block? <em>Because it is impossible.</em> It is unlikely but possible that the JVM will be aborted (kill, crash, power off) just after completing the <code>try</code> block but before execution of the <code>finally</code> block. There is nothing the JLS can do to avoid this.</p>\n\n<p>Thus, any software which for their proper behaviour depends on <code>finally</code> blocks always being executed after their <code>try</code> blocks complete are bugged.</p>\n\n<p><code>return</code> instructions in the <code>try</code> block are irrelevant to this issue. If execution reaches code after the <code>try</code>-<code>catch</code>-<code>finally</code> it is guaranteed that the <code>finally</code> block will have been executed before, with or without <code>return</code> instructions inside the <code>try</code> block.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1503192460,"post_id":36116269,"comment_id":78512941,"body_markdown":"See the accepted answer.  This is just an edge case of &quot;infinite loop&quot;.","body":"See the accepted answer.  This is just an edge case of &quot;infinite loop&quot;."}],"tags":[],"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1583586856,"creation_date":1458490842,"answer_id":36116269,"question_id":65035,"body_markdown":"I tried this,\r\nIt is single threaded.\r\n\r\n    public static void main(String args[]) throws Exception {\r\n\t\tObject obj = new Object();\r\n\t\ttry {\r\n\t\t\tsynchronized (obj) {\r\n\t\t\t\tobj.wait();\r\n            \tSystem.out.println(&quot;after wait()&quot;);\r\n\t\t\t}\r\n\t\t} catch (Exception ignored) {\r\n\t\t} finally {\r\n\t\t\tSystem.out.println(&quot;finally&quot;);\r\n\t    }\r\n    }\r\n\r\nThe `main` `Thread` will be on `wait` state forever, hence *`finally` will never be called*,\r\n\r\nso console output will not `print` `String`: after `wait()` or `finally`\r\n\r\nAgreed with @Stephen C, the above example is one of the 3rd case mention [here][1]:\r\n\r\nAdding some more such infinite loop possibilities in following code:\r\n\r\n    // import java.util.concurrent.Semaphore;\r\n\r\n    public static void main(String[] args) {\r\n    \ttry {\r\n        \t// Thread.sleep(Long.MAX_VALUE);\r\n        \t// Thread.currentThread().join();\r\n        \t// new Semaphore(0).acquire();\r\n        \t// while (true){}\r\n            System.out.println(&quot;after sleep join semaphore exit infinite while loop&quot;);\r\n        } catch (Exception ignored) {\r\n        } finally {\r\n            System.out.println(&quot;finally&quot;);\r\n        }\r\n    }\r\n\r\n\r\nCase 2: If the JVM crashes first\r\n\r\n\r\n    import sun.misc.Unsafe;\r\n    import java.lang.reflect.Field;\r\n\r\n    public static void main(String args[]) {\r\n    \ttry {\r\n        \tunsafeMethod();\r\n            //Runtime.getRuntime().halt(123);\r\n            System.out.println(&quot;After Jvm Crash!&quot;);\r\n     \t} catch (Exception e) {\r\n        } finally {\r\n        \tSystem.out.println(&quot;finally&quot;);\r\n        }\r\n    }\r\n    \r\n    private static void unsafeMethod() throws NoSuchFieldException, IllegalAccessException {\r\n    \tField f = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n        f.setAccessible(true);\r\n        Unsafe unsafe = (Unsafe) f.get(null);\r\n        unsafe.putAddress(0, 0);\r\n    }\r\n\r\nRef: https://stackoverflow.com/q/65200/2987755\r\n\r\n\r\nCase 6: If `finally` block is going to be executed by daemon `Thread` and all other non-daemon `Threads` exit before `finally` is called.\r\n\r\n\r\n    public static void main(String args[]) {\r\n        Runnable runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    printThreads(&quot;Daemon Thread printing&quot;);\r\n                    // just to ensure this thread will live longer than main thread\r\n                    Thread.sleep(10000);\r\n                } catch (Exception e) {\r\n                } finally {\r\n                    System.out.println(&quot;finally&quot;);\r\n                }\r\n            }\r\n        };\r\n        Thread daemonThread = new Thread(runnable);\r\n        daemonThread.setDaemon(Boolean.TRUE);\r\n        daemonThread.setName(&quot;My Daemon Thread&quot;);\r\n        daemonThread.start();\r\n        printThreads(&quot;main Thread Printing&quot;);\r\n    }\r\n\r\n    private static synchronized void printThreads(String str) {\r\n        System.out.println(str);\r\n        int threadCount = 0;\r\n        Set&lt;Thread&gt; threadSet = Thread.getAllStackTraces().keySet();\r\n        for (Thread t : threadSet) {\r\n            if (t.getThreadGroup() == Thread.currentThread().getThreadGroup()) {\r\n                System.out.println(&quot;Thread :&quot; + t + &quot;:&quot; + &quot;state:&quot; + t.getState());\r\n                ++threadCount;\r\n            }\r\n        }\r\n        System.out.println(&quot;Thread count started by Main thread:&quot; + threadCount);\r\n        System.out.println(&quot;-------------------------------------------------&quot;);\r\n    }\r\n\r\noutput: This does not print &quot;finally&quot; which implies &quot;Finally block&quot; in &quot;daemon thread&quot; did not execute  \r\n\r\n&gt;     main Thread Printing  \r\n&gt;     Thread :Thread[My Daemon Thread,5,main]:state:BLOCKED  \r\n&gt;     Thread :Thread[main,5,main]:state:RUNNABLE  \r\n&gt;     Thread :Thread[Monitor Ctrl-Break,5,main]:state:RUNNABLE   \r\n&gt;     Thread count started by Main thread:3  \r\n&gt;     -------------------------------------------------  \r\n&gt;     Daemon Thread printing  \r\n&gt;     Thread :Thread[My Daemon Thread,5,main]:state:RUNNABLE  \r\n&gt;     Thread :Thread[Monitor Ctrl-Break,5,main]:state:RUNNABLE  \r\n&gt;     Thread count started by Main thread:2  \r\n&gt;     -------------------------------------------------  \r\n&gt;     \r\n&gt;     Process finished with exit code 0\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65049/2987755","title":"Does a finally block always get executed in Java?","body":"<p>I tried this,\nIt is single threaded.</p>\n\n<pre><code>public static void main(String args[]) throws Exception {\n    Object obj = new Object();\n    try {\n        synchronized (obj) {\n            obj.wait();\n            System.out.println(\"after wait()\");\n        }\n    } catch (Exception ignored) {\n    } finally {\n        System.out.println(\"finally\");\n    }\n}\n</code></pre>\n\n<p>The <code>main</code> <code>Thread</code> will be on <code>wait</code> state forever, hence <em><code>finally</code> will never be called</em>,</p>\n\n<p>so console output will not <code>print</code> <code>String</code>: after <code>wait()</code> or <code>finally</code></p>\n\n<p>Agreed with @Stephen C, the above example is one of the 3rd case mention <a href=\"https://stackoverflow.com/a/65049/2987755\">here</a>:</p>\n\n<p>Adding some more such infinite loop possibilities in following code:</p>\n\n<pre><code>// import java.util.concurrent.Semaphore;\n\npublic static void main(String[] args) {\n    try {\n        // Thread.sleep(Long.MAX_VALUE);\n        // Thread.currentThread().join();\n        // new Semaphore(0).acquire();\n        // while (true){}\n        System.out.println(\"after sleep join semaphore exit infinite while loop\");\n    } catch (Exception ignored) {\n    } finally {\n        System.out.println(\"finally\");\n    }\n}\n</code></pre>\n\n<p>Case 2: If the JVM crashes first</p>\n\n<pre><code>import sun.misc.Unsafe;\nimport java.lang.reflect.Field;\n\npublic static void main(String args[]) {\n    try {\n        unsafeMethod();\n        //Runtime.getRuntime().halt(123);\n        System.out.println(\"After Jvm Crash!\");\n    } catch (Exception e) {\n    } finally {\n        System.out.println(\"finally\");\n    }\n}\n\nprivate static void unsafeMethod() throws NoSuchFieldException, IllegalAccessException {\n    Field f = Unsafe.class.getDeclaredField(\"theUnsafe\");\n    f.setAccessible(true);\n    Unsafe unsafe = (Unsafe) f.get(null);\n    unsafe.putAddress(0, 0);\n}\n</code></pre>\n\n<p>Ref: <a href=\"https://stackoverflow.com/q/65200/2987755\">How do you crash a JVM?</a></p>\n\n<p>Case 6: If <code>finally</code> block is going to be executed by daemon <code>Thread</code> and all other non-daemon <code>Threads</code> exit before <code>finally</code> is called.</p>\n\n<pre><code>public static void main(String args[]) {\n    Runnable runnable = new Runnable() {\n        @Override\n        public void run() {\n            try {\n                printThreads(\"Daemon Thread printing\");\n                // just to ensure this thread will live longer than main thread\n                Thread.sleep(10000);\n            } catch (Exception e) {\n            } finally {\n                System.out.println(\"finally\");\n            }\n        }\n    };\n    Thread daemonThread = new Thread(runnable);\n    daemonThread.setDaemon(Boolean.TRUE);\n    daemonThread.setName(\"My Daemon Thread\");\n    daemonThread.start();\n    printThreads(\"main Thread Printing\");\n}\n\nprivate static synchronized void printThreads(String str) {\n    System.out.println(str);\n    int threadCount = 0;\n    Set&lt;Thread&gt; threadSet = Thread.getAllStackTraces().keySet();\n    for (Thread t : threadSet) {\n        if (t.getThreadGroup() == Thread.currentThread().getThreadGroup()) {\n            System.out.println(\"Thread :\" + t + \":\" + \"state:\" + t.getState());\n            ++threadCount;\n        }\n    }\n    System.out.println(\"Thread count started by Main thread:\" + threadCount);\n    System.out.println(\"-------------------------------------------------\");\n}\n</code></pre>\n\n<p>output: This does not print \"finally\" which implies \"Finally block\" in \"daemon thread\" did not execute  </p>\n\n<blockquote>\n<pre><code>main Thread Printing  \nThread :Thread[My Daemon Thread,5,main]:state:BLOCKED  \nThread :Thread[main,5,main]:state:RUNNABLE  \nThread :Thread[Monitor Ctrl-Break,5,main]:state:RUNNABLE   \nThread count started by Main thread:3  \n-------------------------------------------------  \nDaemon Thread printing  \nThread :Thread[My Daemon Thread,5,main]:state:RUNNABLE  \nThread :Thread[Monitor Ctrl-Break,5,main]:state:RUNNABLE  \nThread count started by Main thread:2  \n-------------------------------------------------  \n\nProcess finished with exit code 0\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":153967,"reputation":1960,"user_id":369604,"accept_rate":77,"display_name":"Loduwijk"},"score":1,"creation_date":1514991911,"post_id":36926373,"comment_id":83133883,"body_markdown":"Just noting that this is completely normal behavior. Any/all code exits prematurely if an exception is thrown. This is no different than an exception thrown anywhere else. There is no special rule in the spec that says &quot;exceptions cannot be used inside a finally block.&quot; Because of this, I even misunderstood your answer at first and almost gave -1, until I reread it a couple times.","body":"Just noting that this is completely normal behavior. Any/all code exits prematurely if an exception is thrown. This is no different than an exception thrown anywhere else. There is no special rule in the spec that says &quot;exceptions cannot be used inside a finally block.&quot; Because of this, I even misunderstood your answer at first and almost gave -1, until I reread it a couple times."},{"owner":{"account_id":4943069,"reputation":1642,"user_id":5191731,"accept_rate":92,"display_name":"HopefullyHelpful"},"score":0,"creation_date":1515013001,"post_id":36926373,"comment_id":83144861,"body_markdown":"Well, but how is a return different from a throw? If you return then the block should return but in a finally block, the return will be postponed and there are some weird exception for return, so it isn&#39;t clear that finally handles throw in a normal way.\n\nThat is the main reason why I wrote this back then.\n\nAlso throw in a try or catch block won&#39;t hinder the finally block from execution, so ofc. one might expect that when you throw in a finally block it still executes.","body":"Well, but how is a return different from a throw? If you return then the block should return but in a finally block, the return will be postponed and there are some weird exception for return, so it isn&#39;t clear that finally handles throw in a normal way.  That is the main reason why I wrote this back then.  Also throw in a try or catch block won&#39;t hinder the finally block from execution, so ofc. one might expect that when you throw in a finally block it still executes."},{"owner":{"account_id":153967,"reputation":1960,"user_id":369604,"accept_rate":77,"display_name":"Loduwijk"},"score":1,"creation_date":1515025473,"post_id":36926373,"comment_id":83149043,"body_markdown":"&quot;how is return different from throw?&quot; In a few ways, none of which are relevant here. In a finally block, return is not postponed, or did you mean the return in the try-block being postponed until after finally-block executes (in which case, yes that is true)? Either way, the same holds for thrown exceptions. No matter what happens in a `try`, when the end of `try` is reached, the control passes to `finally`, then all the same rules apply within the `finally` (with any try/catch inside of finally operating as they usually would).","body":"&quot;how is return different from throw?&quot; In a few ways, none of which are relevant here. In a finally block, return is not postponed, or did you mean the return in the try-block being postponed until after finally-block executes (in which case, yes that is true)? Either way, the same holds for thrown exceptions. No matter what happens in a <code>try</code>, when the end of <code>try</code> is reached, the control passes to <code>finally</code>, then all the same rules apply within the <code>finally</code> (with any try/catch inside of finally operating as they usually would)."},{"owner":{"account_id":153967,"reputation":1960,"user_id":369604,"accept_rate":77,"display_name":"Loduwijk"},"score":2,"creation_date":1515025760,"post_id":36926373,"comment_id":83149106,"body_markdown":"I am not saying your answer is wrong or useless or anything like that. It is technically correct. I merely noted that the behavior you describe is nothing that breaks the try/finally rule which is simply &quot;No matter what happens in `try/catch`, once they are done control flow ***will*** pass to the finally block&quot; The try/finally guarantee is essentially nothing more, nothing less than that. Within any block, be it try/catch/finally or otherwise, you can within it nest other try/catch/finally blocks as you suggest. Indeed, some people are unaware of that.","body":"I am not saying your answer is wrong or useless or anything like that. It is technically correct. I merely noted that the behavior you describe is nothing that breaks the try/finally rule which is simply &quot;No matter what happens in <code>try&#47;catch</code>, once they are done control flow <b><i>will</i></b> pass to the finally block&quot; The try/finally guarantee is essentially nothing more, nothing less than that. Within any block, be it try/catch/finally or otherwise, you can within it nest other try/catch/finally blocks as you suggest. Indeed, some people are unaware of that."}],"tags":[],"owner":{"account_id":4943069,"reputation":1642,"user_id":5191731,"accept_rate":92,"display_name":"HopefullyHelpful"},"comment_count":4,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1688565379,"creation_date":1461881492,"answer_id":36926373,"question_id":65035,"body_markdown":"`finally` can also be exited prematurely if an `Exception` is `throw`n inside a *nested `finally` block*. The compiler will warn you that the `finally` block does not complete normally or give an error that you have unreachable code. The error for unreachable code will be shown only if the `throw` is not behind a conditional statement or inside a loop.\r\n\r\n    try {\r\n    } finally {\r\n       try {\r\n       } finally {\r\n          // if (someCondition) --&gt; no error because of unreachable code\r\n          throw new RunTimeException();\r\n       }\r\n\r\n       int a = 5; // unreachable code\r\n    }","title":"Does a finally block always get executed in Java?","body":"<p><code>finally</code> can also be exited prematurely if an <code>Exception</code> is <code>throw</code>n inside a <em>nested <code>finally</code> block</em>. The compiler will warn you that the <code>finally</code> block does not complete normally or give an error that you have unreachable code. The error for unreachable code will be shown only if the <code>throw</code> is not behind a conditional statement or inside a loop.</p>\n<pre><code>try {\n} finally {\n   try {\n   } finally {\n      // if (someCondition) --&gt; no error because of unreachable code\n      throw new RunTimeException();\n   }\n\n   int a = 5; // unreachable code\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1503192353,"post_id":38187529,"comment_id":78512924,"body_markdown":"Duplicative answer","body":"Duplicative answer"},{"owner":{"account_id":10667987,"reputation":133,"user_id":7853880,"display_name":"Shivam Agarwal"},"score":0,"creation_date":1617166855,"post_id":38187529,"comment_id":118224834,"body_markdown":"But this shows that anyhow finally block is executed.","body":"But this shows that anyhow finally block is executed."}],"tags":[],"owner":{"account_id":8756575,"reputation":67,"user_id":6547976,"display_name":"dibo"},"comment_count":2,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1467644033,"creation_date":1467644033,"answer_id":38187529,"question_id":65035,"body_markdown":"Same with the following code:\r\n\r\n    static int f() {\r\n        while (true) {\r\n            try {\r\n                return 1;\r\n            } finally {\r\n                break;\r\n            }\r\n        }\r\n        return 2;\r\n    }\r\n\r\nf will return 2!\r\n\r\n\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Same with the following code:</p>\n\n<pre><code>static int f() {\n    while (true) {\n        try {\n            return 1;\n        } finally {\n            break;\n        }\n    }\n    return 2;\n}\n</code></pre>\n\n<p>f will return 2!</p>\n"},{"comments":[{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":2,"creation_date":1513239947,"post_id":38930134,"comment_id":82578744,"body_markdown":"Answer is simple NO.","body":"Answer is simple NO."},{"owner":{"account_id":7009798,"reputation":2792,"user_id":5373110,"accept_rate":67,"display_name":"Meet Vora"},"score":1,"creation_date":1513243489,"post_id":38930134,"comment_id":82580753,"body_markdown":"@ChristopheRoussy How? Can you explain please?","body":"@ChristopheRoussy How? Can you explain please?"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":1,"creation_date":1513245495,"post_id":38930134,"comment_id":82582089,"body_markdown":"read the accepted answer, the original question is about &#39;Will it always execute&#39; and it will not always. In your case it will but this does not answer the original question and may even be misleading beginners.","body":"read the accepted answer, the original question is about &#39;Will it always execute&#39; and it will not always. In your case it will but this does not answer the original question and may even be misleading beginners."},{"owner":{"account_id":7009798,"reputation":2792,"user_id":5373110,"accept_rate":67,"display_name":"Meet Vora"},"score":0,"creation_date":1513334468,"post_id":38930134,"comment_id":82623869,"body_markdown":"then in which case it wont get execute?","body":"then in which case it wont get execute?"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1513589857,"post_id":38930134,"comment_id":82695997,"body_markdown":"In all cases mentioned in other answers, see accepted answer with 1000+ upvotes.","body":"In all cases mentioned in other answers, see accepted answer with 1000+ upvotes."}],"tags":[],"owner":{"account_id":7009798,"reputation":2792,"user_id":5373110,"accept_rate":67,"display_name":"Meet Vora"},"comment_count":5,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1688562056,"creation_date":1471071638,"answer_id":38930134,"question_id":65035,"body_markdown":"&gt; Answer is simple **YES**.\r\n\r\n**INPUT:**\r\n\r\n    try{\r\n    \tint divideByZeroException = 5 / 0;\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;catch&quot;);\r\n        return;    // also tried with break; in switch-case, got same output\r\n    } finally {\r\n        System.out.println(&quot;finally&quot;);\r\n    }\r\n\r\n**OUTPUT:**\r\n\r\n    catch\r\n    finally","title":"Does a finally block always get executed in Java?","body":"<blockquote>\n<p>Answer is simple <strong>YES</strong>.</p>\n</blockquote>\n<p><strong>INPUT:</strong></p>\n<pre><code>try{\n    int divideByZeroException = 5 / 0;\n} catch (Exception e) {\n    System.out.println(&quot;catch&quot;);\n    return;    // also tried with break; in switch-case, got same output\n} finally {\n    System.out.println(&quot;finally&quot;);\n}\n</code></pre>\n<p><strong>OUTPUT:</strong></p>\n<pre><code>catch\nfinally\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1503192321,"post_id":39462828,"comment_id":78512921,"body_markdown":"Duplicative answer","body":"Duplicative answer"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1565262143,"post_id":39462828,"comment_id":101302238,"body_markdown":"Not only &#39;duplicative&#39; but self-contradictory.","body":"Not only &#39;duplicative&#39; but self-contradictory."}],"tags":[],"owner":{"account_id":6586984,"reputation":181,"user_id":5089473,"accept_rate":0,"display_name":"Akash Manngroliya"},"comment_count":2,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1688565331,"creation_date":1473744990,"answer_id":39462828,"question_id":65035,"body_markdown":"Yes, it will always be called but in one situation it is not called when you use `System.exit()`.\r\n\r\n    try {\r\n        // risky code\r\n    } catch (Exception e) {\r\n        // exception handling code\r\n    }\r\n    finally() {\r\n        // It is always executed, but if before this block there is any statement like System.exit(0); then this block will not be executed.\r\n    }","title":"Does a finally block always get executed in Java?","body":"<p>Yes, it will always be called but in one situation it is not called when you use <code>System.exit()</code>.</p>\n<pre><code>try {\n    // risky code\n} catch (Exception e) {\n    // exception handling code\n}\nfinally() {\n    // It is always executed, but if before this block there is any statement like System.exit(0); then this block will not be executed.\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":3,"creation_date":1495282776,"post_id":44085757,"comment_id":75193875,"body_markdown":"This has been answered many times, so which new information does your answer add?","body":"This has been answered many times, so which new information does your answer add?"}],"tags":[],"owner":{"account_id":5393847,"reputation":1510,"user_id":4295595,"display_name":"Avinash Pande"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1495282569,"creation_date":1495282569,"answer_id":44085757,"question_id":65035,"body_markdown":" 1. Finally  Block always get executed. Unless and until\r\n    **System.exit()** statement exists there (first statement in finally block).\r\n 2. If **system.exit()** is first statement then finally block won&#39;t get executed and control come out of the finally block.\r\nWhenever System.exit() statement gets in finally block till that statement finally block executed and when System.exit() appears then control force fully come out of the finally block.\r\n\r\n ","title":"Does a finally block always get executed in Java?","body":"<ol>\n<li>Finally  Block always get executed. Unless and until\n<strong>System.exit()</strong> statement exists there (first statement in finally block).</li>\n<li>If <strong>system.exit()</strong> is first statement then finally block won't get executed and control come out of the finally block.\nWhenever System.exit() statement gets in finally block till that statement finally block executed and when System.exit() appears then control force fully come out of the finally block.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10160323,"reputation":522,"user_id":7504001,"accept_rate":40,"display_name":"Vikas Suryawanshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1496925700,"creation_date":1496925700,"answer_id":44436111,"question_id":65035,"body_markdown":"If you don&#39;t handle exception, before terminating the program, JVM executes finally block. It will not executed only if normal execution of program will fail mean&#39;s termination of program due to these following reasons..\r\n\r\n1. By causing a fatal error that causes the process to abort.\r\n\r\n2. Termination of program due to memory corrupt.\r\n\r\n3. By calling System.exit()\r\n\r\n4. If program goes into infinity loop.","title":"Does a finally block always get executed in Java?","body":"<p>If you don't handle exception, before terminating the program, JVM executes finally block. It will not executed only if normal execution of program will fail mean's termination of program due to these following reasons..</p>\n\n<ol>\n<li><p>By causing a fatal error that causes the process to abort.</p></li>\n<li><p>Termination of program due to memory corrupt.</p></li>\n<li><p>By calling System.exit()</p></li>\n<li><p>If program goes into infinity loop.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8192283,"reputation":724,"user_id":6826372,"accept_rate":75,"display_name":"Sandip Solanki"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1510220501,"creation_date":1510220501,"answer_id":47198461,"question_id":65035,"body_markdown":"The finally block will not be called after return in a couple of unique scenarios: if System.exit() is called first, or if the JVM crashes.\r\n\r\nLet me try to answer your question in the easiest possible way.\r\n\r\n**Rule 1** : The finally block always run\r\n (Though there are exceptions to it. But let&#39;s stick to this for sometime.)\r\n\r\n**Rule 2** : the statements in the finally block run when control leaves a try or a catch block.The transfer of control can occur as a result of normal execution ,of execution of a break , continue, goto or a return statement, or of a propogation of an exception.\r\n\r\nIn case of a return statement specifically (since its captioned), the control has to leave the calling method , And hence calls the finally block of the corresponding  try-finally structure. The return statement is executed after the finally block.\r\n\r\nIn case there&#39;s a return statement in the finally block also, it will definitely override the one pending at the try block , since its clearing the call stack.\r\n\r\nYou can refer a better explanation here : http://msdn.microsoft.com/en-us/.... the concept is mostly same in all the high level languages.","title":"Does a finally block always get executed in Java?","body":"<p>The finally block will not be called after return in a couple of unique scenarios: if System.exit() is called first, or if the JVM crashes.</p>\n\n<p>Let me try to answer your question in the easiest possible way.</p>\n\n<p><strong>Rule 1</strong> : The finally block always run\n (Though there are exceptions to it. But let's stick to this for sometime.)</p>\n\n<p><strong>Rule 2</strong> : the statements in the finally block run when control leaves a try or a catch block.The transfer of control can occur as a result of normal execution ,of execution of a break , continue, goto or a return statement, or of a propogation of an exception.</p>\n\n<p>In case of a return statement specifically (since its captioned), the control has to leave the calling method , And hence calls the finally block of the corresponding  try-finally structure. The return statement is executed after the finally block.</p>\n\n<p>In case there's a return statement in the finally block also, it will definitely override the one pending at the try block , since its clearing the call stack.</p>\n\n<p>You can refer a better explanation here : <a href=\"http://msdn.microsoft.com/en-us/\" rel=\"noreferrer\">http://msdn.microsoft.com/en-us/</a>.... the concept is mostly same in all the high level languages.</p>\n"},{"tags":[],"owner":{"account_id":4899899,"reputation":4110,"user_id":3948862,"accept_rate":57,"display_name":"D&#225;vid Horv&#225;th"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1513438596,"creation_date":1513438596,"answer_id":47847227,"question_id":65035,"body_markdown":"Yes, because **no control statement** can prevent `finally` from being executed.\r\n\r\nHere is a reference example, where all code blocks will be executed:\r\n\r\n    | x | Current result | Code \r\n    |---|----------------|------ - - -\r\n    |   |                |     \r\n    |   |                | public static int finallyTest() {\r\n    | 3 |                |     int x = 3;\r\n    |   |                |     try {\r\n    |   |                |        try {\r\n    | 4 |                |             x++;\r\n    | 4 | return 4       |             return x;\r\n    |   |                |         } finally {\r\n    | 3 |                |             x--;\r\n    | 3 | throw          |             throw new RuntimeException(&quot;Ahh!&quot;);\r\n    |   |                |         }\r\n    |   |                |     } catch (RuntimeException e) {\r\n    | 4 | return 4       |         return ++x;\r\n    |   |                |     } finally {\r\n    | 3 |                |         x--;\r\n    |   |                |     }\r\n    |   |                | }\r\n    |   |                |\r\n    |---|----------------|------ - - -\r\n    |   | Result: 4      |\r\n\r\nIn the variant below, `return x;` will be skipped. Result is still `4`:\r\n\r\n    public static int finallyTest() {\r\n        int x = 3;\r\n        try {\r\n            try {\r\n                x++;\r\n                if (true) throw new RuntimeException(&quot;Ahh!&quot;);\r\n                return x; // skipped\r\n            } finally {\r\n                x--;\r\n            }\r\n        } catch (RuntimeException e) {\r\n            return ++x;\r\n        } finally {\r\n            x--;\r\n        }\r\n    }\r\n\r\nReferences, of course, track their status. This example returns a reference with `value = 4`:\r\n\r\n    static class IntRef { public int value; }\r\n    public static IntRef finallyTest() {\r\n        IntRef x = new IntRef();\r\n        x.value = 3;\r\n        try {\r\n            return x;\r\n        } finally {\r\n            x.value++; // will be tracked even after return\r\n        }\r\n    }\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Yes, because <strong>no control statement</strong> can prevent <code>finally</code> from being executed.</p>\n\n<p>Here is a reference example, where all code blocks will be executed:</p>\n\n<pre><code>| x | Current result | Code \n|---|----------------|------ - - -\n|   |                |     \n|   |                | public static int finallyTest() {\n| 3 |                |     int x = 3;\n|   |                |     try {\n|   |                |        try {\n| 4 |                |             x++;\n| 4 | return 4       |             return x;\n|   |                |         } finally {\n| 3 |                |             x--;\n| 3 | throw          |             throw new RuntimeException(\"Ahh!\");\n|   |                |         }\n|   |                |     } catch (RuntimeException e) {\n| 4 | return 4       |         return ++x;\n|   |                |     } finally {\n| 3 |                |         x--;\n|   |                |     }\n|   |                | }\n|   |                |\n|---|----------------|------ - - -\n|   | Result: 4      |\n</code></pre>\n\n<p>In the variant below, <code>return x;</code> will be skipped. Result is still <code>4</code>:</p>\n\n<pre><code>public static int finallyTest() {\n    int x = 3;\n    try {\n        try {\n            x++;\n            if (true) throw new RuntimeException(\"Ahh!\");\n            return x; // skipped\n        } finally {\n            x--;\n        }\n    } catch (RuntimeException e) {\n        return ++x;\n    } finally {\n        x--;\n    }\n}\n</code></pre>\n\n<p>References, of course, track their status. This example returns a reference with <code>value = 4</code>:</p>\n\n<pre><code>static class IntRef { public int value; }\npublic static IntRef finallyTest() {\n    IntRef x = new IntRef();\n    x.value = 3;\n    try {\n        return x;\n    } finally {\n        x.value++; // will be tracked even after return\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1565262255,"post_id":49614632,"comment_id":101302289,"body_markdown":"So when you say yes you mean no?","body":"So when you say yes you mean no?"}],"tags":[],"owner":{"account_id":7406733,"reputation":633,"user_id":5635466,"display_name":"Danail Tsvetanov"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1522685172,"creation_date":1522685172,"answer_id":49614632,"question_id":65035,"body_markdown":"Yes, it is written [here][1]\r\n\r\n&gt; If the JVM exits while the try or catch code is being executed, then the finally block may not execute. Likewise, if the thread executing the try or catch code is interrupted or killed, the finally block may not execute even though the application as a whole continues.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html","title":"Does a finally block always get executed in Java?","body":"<p>Yes, it is written <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/finally.html\" rel=\"noreferrer\">here</a></p>\n\n<blockquote>\n  <p>If the JVM exits while the try or catch code is being executed, then the finally block may not execute. Likewise, if the thread executing the try or catch code is interrupted or killed, the finally block may not execute even though the application as a whole continues.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1525076919,"post_id":49752573,"comment_id":87209477,"body_markdown":"As of Java 1.8.162, this is not the output.","body":"As of Java 1.8.162, this is not the output."}],"tags":[],"owner":{"account_id":3398891,"reputation":339,"user_id":2851699,"accept_rate":100,"display_name":"Pradeep Kumaresan"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1523979359,"creation_date":1523360014,"answer_id":49752573,"question_id":65035,"body_markdown":"Adding to [@vibhash&#39;s answer][1] as no other answer explains what happens in the case of a mutable object like the one below.\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(test().toString());\r\n    }\r\n\r\n    public static StringBuffer test() {\r\n        StringBuffer s = new StringBuffer();\r\n        try {\r\n            s.append(&quot;sb&quot;);\r\n            return s;\r\n        } finally {\r\n            s.append(&quot;updated &quot;);\r\n        }\r\n    }\r\nWill output\r\n&gt;     sbupdated \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/296053/4298200","title":"Does a finally block always get executed in Java?","body":"<p>Adding to <a href=\"https://stackoverflow.com/a/296053/4298200\">@vibhash's answer</a> as no other answer explains what happens in the case of a mutable object like the one below.</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(test().toString());\n}\n\npublic static StringBuffer test() {\n    StringBuffer s = new StringBuffer();\n    try {\n        s.append(\"sb\");\n        return s;\n    } finally {\n        s.append(\"updated \");\n    }\n}\n</code></pre>\n\n<p>Will output</p>\n\n<blockquote>\n<pre><code>sbupdated \n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11045803,"reputation":1246,"user_id":8111997,"display_name":"Poorna Senani Gamage"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1523858469,"creation_date":1523858469,"answer_id":49850492,"question_id":65035,"body_markdown":"`try`- `catch`- `finally` are the key words for using exception handling case.&lt;br&gt; \r\nAs normal explanotory\r\n\r\n    try {\r\n    \t //code statements\r\n         //exception thrown here\r\n    \t //lines not reached if exception thrown\r\n    } catch (Exception e) {\r\n    \t//lines reached only when exception is thrown\r\n    } finally {\r\n    \t// always executed when the try block is exited\r\n    \t//independent of an exception thrown or not\r\n    }\r\n\r\n The finally block  prevent executing...\r\n\r\n - When you called `System.exit(0);`\r\n - If JVM exits.\r\n - Errors in the JVM\r\n\r\n","title":"Does a finally block always get executed in Java?","body":"<p><code>try</code>- <code>catch</code>- <code>finally</code> are the key words for using exception handling case.<br> \nAs normal explanotory</p>\n\n<pre><code>try {\n     //code statements\n     //exception thrown here\n     //lines not reached if exception thrown\n} catch (Exception e) {\n    //lines reached only when exception is thrown\n} finally {\n    // always executed when the try block is exited\n    //independent of an exception thrown or not\n}\n</code></pre>\n\n<p>The finally block  prevent executing...</p>\n\n<ul>\n<li>When you called <code>System.exit(0);</code></li>\n<li>If JVM exits.</li>\n<li>Errors in the JVM</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8995792,"reputation":304,"user_id":6706261,"display_name":"aliceangel"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1524268652,"creation_date":1524268652,"answer_id":49951065,"question_id":65035,"body_markdown":"finally block is executed always even if you put a return statement in the try block. The finally block will be executed before the return statement.","title":"Does a finally block always get executed in Java?","body":"<p>finally block is executed always even if you put a return statement in the try block. The finally block will be executed before the return statement.</p>\n"},{"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1536129512,"post_id":50096809,"comment_id":91307225,"body_markdown":"Shouldn&#39;t it be `sb.setLength(0)` in finally?","body":"Shouldn&#39;t it be <code>sb.setLength(0)</code> in finally?"},{"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1536167816,"post_id":50096809,"comment_id":91330541,"body_markdown":"sb.setLength(0) will just empty the data in the StringBuffer. So, sb = null will disassociate the object from the reference.","body":"sb.setLength(0) will just empty the data in the StringBuffer. So, sb = null will disassociate the object from the reference."},{"owner":{"account_id":4094046,"reputation":1930,"user_id":3361335,"accept_rate":15,"display_name":"fresko"},"score":0,"creation_date":1550053378,"post_id":50096809,"comment_id":96125767,"body_markdown":"Shouldn&#39;t &quot;xyz&quot; be printed twice in the output? Since the function was called twice, why &quot;finally&quot; was only once?","body":"Shouldn&#39;t &quot;xyz&quot; be printed twice in the output? Since the function was called twice, why &quot;finally&quot; was only once?"},{"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"score":0,"creation_date":1550071273,"post_id":50096809,"comment_id":96136949,"body_markdown":"@fresko : finallly is definitely called twice but when it comes to the output in the console it will only show once because of the return statement. You can run the program and see the output, and after that add another statement `System.out.println(sb.toString());`","body":"@fresko : finallly is definitely called twice but when it comes to the output in the console it will only show once because of the return statement. You can run the program and see the output, and after that add another statement <code>System.out.println(sb.toString());</code>"},{"owner":{"account_id":250813,"reputation":11515,"user_id":2191890,"accept_rate":56,"display_name":"Roc Boronat"},"score":3,"creation_date":1550275114,"post_id":50096809,"comment_id":96222713,"body_markdown":"This isn&#39;t a good practice. That finally block with `sb = null;` just adds unneeded code. I understand that you mean that a `finally` block is a good place to free resources like a database connection or something like that, but have in mind that your example could confuse newcomers.","body":"This isn&#39;t a good practice. That finally block with <code>sb = null;</code> just adds unneeded code. I understand that you mean that a <code>finally</code> block is a good place to free resources like a database connection or something like that, but have in mind that your example could confuse newcomers."},{"owner":{"account_id":4094046,"reputation":1930,"user_id":3361335,"accept_rate":15,"display_name":"fresko"},"score":1,"creation_date":1550581717,"post_id":50096809,"comment_id":96314146,"body_markdown":"@Samim Thanks, I added the lines \n        `System.out.println(&quot;---AGAIN2---&quot;);`\n        `System.out.println(sb);`\nand it&#39;s more clear now. As it was, the output was against your thesis :p\nI also added to your answer, but the edit must be accepted by a moderator or somebody like that. Else you can add them","body":"@Samim Thanks, I added the lines          <code>System.out.println(&quot;---AGAIN2---&quot;);</code>         <code>System.out.println(sb);</code> and it&#39;s more clear now. As it was, the output was against your thesis :p I also added to your answer, but the edit must be accepted by a moderator or somebody like that. Else you can add them"}],"tags":[],"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"comment_count":6,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1585597372,"creation_date":1525077405,"answer_id":50096809,"question_id":65035,"body_markdown":"Consider the following program:\r\n\r\n    public class SomeTest {\r\n    \r\n        private static StringBuilder sb = new StringBuilder();\r\n    \r\n        public static void main(String args[]) {\r\n    \r\n            System.out.println(someString());\r\n            System.out.println(&quot;---AGAIN---&quot;);\r\n            System.out.println(someString());\r\n            System.out.println(&quot;---PRINT THE RESULT---&quot;);\r\n            System.out.println(sb.toString());\r\n        }\r\n    \r\n        private static String someString() {\r\n    \r\n            try {\r\n                sb.append(&quot;-abc-&quot;);\r\n                return sb.toString();\r\n    \r\n            } finally {\r\n                sb.append(&quot;xyz&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nAs of Java 1.8.162, the above code block gives the following output:\r\n\r\n    -abc-\r\n    ---AGAIN---\r\n    -abc-xyz-abc-\r\n    ---PRINT THE RESULT---\r\n    -abc-xyz-abc-xyz\r\n\r\n\r\nthis means that using `finally` to free up objects is a good practice like the following code:\r\n\r\n    private static String someString() {\r\n    \r\n        StringBuilder sb = new StringBuilder();\r\n    \r\n        try {\r\n            sb.append(&quot;abc&quot;);\r\n            return sb.toString();\r\n    \r\n        } finally {\r\n            sb = null; // Just an example, but you can close streams or DB connections this way.\r\n        }\r\n    }","title":"Does a finally block always get executed in Java?","body":"<p>Consider the following program:</p>\n\n<pre><code>public class SomeTest {\n\n    private static StringBuilder sb = new StringBuilder();\n\n    public static void main(String args[]) {\n\n        System.out.println(someString());\n        System.out.println(\"---AGAIN---\");\n        System.out.println(someString());\n        System.out.println(\"---PRINT THE RESULT---\");\n        System.out.println(sb.toString());\n    }\n\n    private static String someString() {\n\n        try {\n            sb.append(\"-abc-\");\n            return sb.toString();\n\n        } finally {\n            sb.append(\"xyz\");\n        }\n    }\n}\n</code></pre>\n\n<p>As of Java 1.8.162, the above code block gives the following output:</p>\n\n<pre><code>-abc-\n---AGAIN---\n-abc-xyz-abc-\n---PRINT THE RESULT---\n-abc-xyz-abc-xyz\n</code></pre>\n\n<p>this means that using <code>finally</code> to free up objects is a good practice like the following code:</p>\n\n<pre><code>private static String someString() {\n\n    StringBuilder sb = new StringBuilder();\n\n    try {\n        sb.append(\"abc\");\n        return sb.toString();\n\n    } finally {\n        sb = null; // Just an example, but you can close streams or DB connections this way.\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9334294,"reputation":47,"user_id":6929015,"display_name":"Rubin Luitel"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1525902727,"creation_date":1525902727,"answer_id":50262581,"question_id":65035,"body_markdown":"Finally is always called at the end\r\n\r\nwhen you try, it executes some code, if something happens in try, then catch will catch that exception and you could print some mssg out or throw an error, then finally block is executed.\r\n\r\nFinally is normally used when doing cleanups, for instance, if you use a scanner in java, you should probably close the scanner as it leads to other problems such as not being able to open some file","title":"Does a finally block always get executed in Java?","body":"<p>Finally is always called at the end</p>\n\n<p>when you try, it executes some code, if something happens in try, then catch will catch that exception and you could print some mssg out or throw an error, then finally block is executed.</p>\n\n<p>Finally is normally used when doing cleanups, for instance, if you use a scanner in java, you should probably close the scanner as it leads to other problems such as not being able to open some file</p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565214838,"creation_date":1565214838,"answer_id":57402744,"question_id":65035,"body_markdown":"Here are some conditions which can bypass a finally block:\r\n\r\n1. If the JVM exits while the try or catch code is being executed, then the finally block may not execute. More on [sun tutorial](http://download.oracle.com/javase/tutorial/essential/exceptions/finally.html)  \r\n2. Normal Shutdown - this occurs either when the last non-daemon thread exits OR when Runtime.exit() ([some good blog](http://geekexplains.blogspot.com/2008/06/jvm-shutdown-jvm-shutdown-sequence.html)). When a thread exits, the JVM performs an inventory of running threads, and if the only threads that are left are daemon threads, it initiates an orderly shutdown. When the JVM halts, any remaining daemon threads are abandoned finally blocks are not executed, stacks are not unwound the JVM just exits. Daemon threads should be used sparingly few processing activities can be safely abandoned at any time with no cleanup. In particular, it is dangerous to use daemon threads for tasks that might perform any sort of I/O. Daemon threads are best saved for &quot;housekeeping&quot; tasks, such as a background thread that periodically removes expired entries from an in-memory cache ([source](http://www.amazon.com/Java-Concurrency-Practice-Brian-Goetz/dp/0321349601))\r\n\r\nLast non-daemon thread exits example:  \r\n\r\n\tpublic class TestDaemon {\r\n\t\tprivate static Runnable runnable = new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\twhile (true) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Is alive&quot;);\r\n\t\t\t\t\t\tThread.sleep(10);\r\n\t\t\t\t\t\t// throw new RuntimeException();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (Throwable t) {\r\n\t\t\t\t\tt.printStackTrace();\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tSystem.out.println(&quot;This will never be executed.&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t\tThread daemon = new Thread(runnable);\r\n\t\t\tdaemon.setDaemon(true);\r\n\t\t\tdaemon.start();\r\n\t\t\tThread.sleep(100);\r\n\t\t\t// daemon.stop();\r\n\t\t\tSystem.out.println(&quot;Last non-daemon thread exits.&quot;);\r\n\t\t}\r\n\t}\r\n\r\nOutput:  \r\n\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tLast non-daemon thread exits.\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n\tIs alive\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Here are some conditions which can bypass a finally block:</p>\n\n<ol>\n<li>If the JVM exits while the try or catch code is being executed, then the finally block may not execute. More on <a href=\"http://download.oracle.com/javase/tutorial/essential/exceptions/finally.html\" rel=\"nofollow noreferrer\">sun tutorial</a>  </li>\n<li>Normal Shutdown - this occurs either when the last non-daemon thread exits OR when Runtime.exit() (<a href=\"http://geekexplains.blogspot.com/2008/06/jvm-shutdown-jvm-shutdown-sequence.html\" rel=\"nofollow noreferrer\">some good blog</a>). When a thread exits, the JVM performs an inventory of running threads, and if the only threads that are left are daemon threads, it initiates an orderly shutdown. When the JVM halts, any remaining daemon threads are abandoned finally blocks are not executed, stacks are not unwound the JVM just exits. Daemon threads should be used sparingly few processing activities can be safely abandoned at any time with no cleanup. In particular, it is dangerous to use daemon threads for tasks that might perform any sort of I/O. Daemon threads are best saved for \"housekeeping\" tasks, such as a background thread that periodically removes expired entries from an in-memory cache (<a href=\"https://rads.stackoverflow.com/amzn/click/com/0321349601\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">source</a>)</li>\n</ol>\n\n<p>Last non-daemon thread exits example:  </p>\n\n<pre><code>public class TestDaemon {\n    private static Runnable runnable = new Runnable() {\n        @Override\n        public void run() {\n            try {\n                while (true) {\n                    System.out.println(\"Is alive\");\n                    Thread.sleep(10);\n                    // throw new RuntimeException();\n                }\n            } catch (Throwable t) {\n                t.printStackTrace();\n            } finally {\n                System.out.println(\"This will never be executed.\");\n            }\n        }\n    };\n\n    public static void main(String[] args) throws InterruptedException {\n        Thread daemon = new Thread(runnable);\n        daemon.setDaemon(true);\n        daemon.start();\n        Thread.sleep(100);\n        // daemon.stop();\n        System.out.println(\"Last non-daemon thread exits.\");\n    }\n}\n</code></pre>\n\n<p>Output:  </p>\n\n<pre><code>Is alive\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\nLast non-daemon thread exits.\nIs alive\nIs alive\nIs alive\nIs alive\nIs alive\n</code></pre>\n"},{"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1580845032,"post_id":59932063,"comment_id":106229721,"body_markdown":"Nice illustrative example, +1.","body":"Nice illustrative example, +1."}],"tags":[],"owner":{"account_id":1467204,"reputation":5011,"user_id":1379734,"accept_rate":61,"display_name":"hellzone"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1624473053,"creation_date":1580131461,"answer_id":59932063,"question_id":65035,"body_markdown":"`finally` block is always executed and before returning `x`&#39;s (calculated) value.\r\n\r\n    \r\n    System.out.println(&quot;x value from foo() = &quot; + foo());\r\n\r\n    ...\r\n\r\n    int foo() {\r\n      int x = 2;\r\n      try {\r\n        return x++;\r\n      } finally {\r\n        System.out.println(&quot;x value in finally = &quot; + x);\r\n      }\r\n    }\r\n\r\nOutput:\r\n   \r\n &gt; x value in finally = 3  \r\n &gt; x value from foo() = 2","title":"Does a finally block always get executed in Java?","body":"<p><code>finally</code> block is always executed and before returning <code>x</code>'s (calculated) value.</p>\n<pre><code>System.out.println(&quot;x value from foo() = &quot; + foo());\n\n...\n\nint foo() {\n  int x = 2;\n  try {\n    return x++;\n  } finally {\n    System.out.println(&quot;x value in finally = &quot; + x);\n  }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>x value in finally = 3<br />\nx value from foo() = 2</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3413345,"reputation":361,"user_id":2862834,"display_name":"Youngrok Ko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581137125,"creation_date":1581137125,"answer_id":60123997,"question_id":65035,"body_markdown":"try-with-resoruce example\r\n\r\n    static class IamAutoCloseable implements AutoCloseable {\r\n        private final String name;\r\n        IamAutoCloseable(String name) {\r\n            this.name = name;\r\n        }\r\n        public void close() {\r\n            System.out.println(name);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void withResourceFinally() {\r\n        try (IamAutoCloseable closeable1 = new IamAutoCloseable(&quot;closeable1&quot;);\r\n             IamAutoCloseable closeable2 = new IamAutoCloseable(&quot;closeable2&quot;)) {\r\n            System.out.println(&quot;try&quot;);\r\n        } finally {\r\n            System.out.println(&quot;finally&quot;);\r\n        }\r\n    }\r\n\r\nTest output:\r\n\r\n    try\r\n    closeable2\r\n    closeable1\r\n    finally\r\n\r\n","title":"Does a finally block always get executed in Java?","body":"<p>try-with-resoruce example</p>\n\n<pre><code>static class IamAutoCloseable implements AutoCloseable {\n    private final String name;\n    IamAutoCloseable(String name) {\n        this.name = name;\n    }\n    public void close() {\n        System.out.println(name);\n    }\n}\n\n@Test\npublic void withResourceFinally() {\n    try (IamAutoCloseable closeable1 = new IamAutoCloseable(\"closeable1\");\n         IamAutoCloseable closeable2 = new IamAutoCloseable(\"closeable2\")) {\n        System.out.println(\"try\");\n    } finally {\n        System.out.println(\"finally\");\n    }\n}\n</code></pre>\n\n<p>Test output:</p>\n\n<pre><code>try\ncloseable2\ncloseable1\nfinally\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641568744,"creation_date":1641568744,"answer_id":70623392,"question_id":65035,"body_markdown":"I am terribly late to answer here, but I am surprised that no one mentioned the Java debugger option to drop a stack frame.  I am a heavy user of this feature in IntelliJ.  (I am _sure_ Eclipse and NetBeans has support for the same feature.)\r\n\r\nIf I drop stack frame from a the try or catch block that is followed by a finally block, the IDE will prompt me: &quot;Shall I execute the finally block?&quot;  Obviously, this is an artificial runtime environment -- a debugger!\r\n\r\nTo answer your question, I would say you can only guarantee it runs if ignore when a debugger is attached, and (like others said) method `something()` does not (a) call Java method `System.exit(int)` or (b) C function `exit(int)` / `abort()` via JNI or (c) do something crazy like call `kill -9 $PID` on itself(!).","title":"Does a finally block always get executed in Java?","body":"<p>I am terribly late to answer here, but I am surprised that no one mentioned the Java debugger option to drop a stack frame.  I am a heavy user of this feature in IntelliJ.  (I am <em>sure</em> Eclipse and NetBeans has support for the same feature.)</p>\n<p>If I drop stack frame from a the try or catch block that is followed by a finally block, the IDE will prompt me: &quot;Shall I execute the finally block?&quot;  Obviously, this is an artificial runtime environment -- a debugger!</p>\n<p>To answer your question, I would say you can only guarantee it runs if ignore when a debugger is attached, and (like others said) method <code>something()</code> does not (a) call Java method <code>System.exit(int)</code> or (b) C function <code>exit(int)</code> / <code>abort()</code> via JNI or (c) do something crazy like call <code>kill -9 $PID</code> on itself(!).</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643062515,"creation_date":1643062515,"answer_id":70841158,"question_id":65035,"body_markdown":"The [accepted answer][1] is true in nearly all aspects, but it is still only halve the truth at all (ok, 95% of the truth).\r\n\r\nAssume the following code:\r\n\r\n    private final Lock m_Lock = new ReentrantLock();\r\n    …\r\n    public final SomeObject doSomething( final SomeObject arg )\r\n    {\r\n      final SomeObject retValue;\r\n      try\r\n      {\r\n        lock.lock();\r\n        retValue = SomeObject( arg );\r\n      }\r\n      finally\r\n      {\r\n        out.println( &quot;Entering finally block&quot;);\r\n        callingAnotherMethod( arg, retValue );\r\n        lock.unlock();\r\n      }\r\n      \r\n      return retValue;\r\n    }\r\n    …\r\n    try\r\n    {\r\n       final var result = doSomething( new SomeObject() );\r\n    }\r\n    catch( final StackOverflowError e ) { /* Deliberately ignored */ }\r\n\r\nCalling the method `doSomething()` will cause a `StackOverflowError` nearly immediately.\r\n\r\nAnd the `lock` will not be released!\r\n\r\nBut how could this happen when the `finally` block is always executed (with the exceptions already listed in the [accepted answer][1])?\r\n\r\nThat is because there is *no guarantee* made that *all* statements in the `finally` block are *really* executed!\r\n    \r\nThis would be obvious if there would be a call to `System.exit()` or a `throws` statement before the call to `lock.unlock()`.\r\n\r\nBut there is nothing like that in the sample code …\r\n\r\nAside that the two other method calls in the `finally` block before the call to `lock.unlock()` will cause another `StackOverflowError` …\r\n\r\nAnd voil&#224;, the lock is not released!\r\n\r\nAlthough the sample code as such is silly, similar patterns can be found a lot in many kinds of software. All works fine as long as nothing ugly happens in the `finally` block …\r\n\r\nFunny fact is that it does not work in later versions of Java (meaning that in later versions, the lock was released …). No idea when and why this changed.\r\n\r\nBut you still have to make sure that the `finally` block always terminates normally, otherwise it might not matter if (that) it always get executed … \r\n\r\n  [1]: https://stackoverflow.com/a/65049/1554195\r\n","title":"Does a finally block always get executed in Java?","body":"<p>The <a href=\"https://stackoverflow.com/a/65049/1554195\">accepted answer</a> is true in nearly all aspects, but it is still only halve the truth at all (ok, 95% of the truth).</p>\n<p>Assume the following code:</p>\n<pre><code>private final Lock m_Lock = new ReentrantLock();\n…\npublic final SomeObject doSomething( final SomeObject arg )\n{\n  final SomeObject retValue;\n  try\n  {\n    lock.lock();\n    retValue = SomeObject( arg );\n  }\n  finally\n  {\n    out.println( &quot;Entering finally block&quot;);\n    callingAnotherMethod( arg, retValue );\n    lock.unlock();\n  }\n  \n  return retValue;\n}\n…\ntry\n{\n   final var result = doSomething( new SomeObject() );\n}\ncatch( final StackOverflowError e ) { /* Deliberately ignored */ }\n</code></pre>\n<p>Calling the method <code>doSomething()</code> will cause a <code>StackOverflowError</code> nearly immediately.</p>\n<p>And the <code>lock</code> will not be released!</p>\n<p>But how could this happen when the <code>finally</code> block is always executed (with the exceptions already listed in the <a href=\"https://stackoverflow.com/a/65049/1554195\">accepted answer</a>)?</p>\n<p>That is because there is <em>no guarantee</em> made that <em>all</em> statements in the <code>finally</code> block are <em>really</em> executed!</p>\n<p>This would be obvious if there would be a call to <code>System.exit()</code> or a <code>throws</code> statement before the call to <code>lock.unlock()</code>.</p>\n<p>But there is nothing like that in the sample code …</p>\n<p>Aside that the two other method calls in the <code>finally</code> block before the call to <code>lock.unlock()</code> will cause another <code>StackOverflowError</code> …</p>\n<p>And voilà, the lock is not released!</p>\n<p>Although the sample code as such is silly, similar patterns can be found a lot in many kinds of software. All works fine as long as nothing ugly happens in the <code>finally</code> block …</p>\n<p>Funny fact is that it does not work in later versions of Java (meaning that in later versions, the lock was released …). No idea when and why this changed.</p>\n<p>But you still have to make sure that the <code>finally</code> block always terminates normally, otherwise it might not matter if (that) it always get executed …</p>\n"},{"comments":[{"owner":{"account_id":4015385,"reputation":5418,"user_id":3307720,"accept_rate":51,"display_name":"nasch"},"score":0,"creation_date":1693517300,"post_id":76621132,"comment_id":135775642,"body_markdown":"The finally block in your example for number 10 does execute.","body":"The finally block in your example for number 10 does execute."}],"tags":[],"owner":{"account_id":28948355,"reputation":47,"user_id":22173512,"display_name":"Ammar Poursadegh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688565793,"creation_date":1688565793,"answer_id":76621132,"question_id":65035,"body_markdown":"the total list of situations are like :\r\n1. &#39;System.exit()&#39; method call within &#39;try&#39; or &#39;catch&#39; block can prevent &#39;finally&#39; block from executing.\r\n2. Infinite loops or endless operations within &#39;try&#39; or &#39;catch&#39; block can prevent &#39;finally&#39; block from executing.\r\n3. Power failures, hardware failures, or abrupt termination of the program may prevent &#39;finally&#39; block from executing.\r\n4. JVM crashes may prevent &#39;finally&#39; block from executing.\r\n5. &#39;Thread.stop()&#39; method call can prevent &#39;finally&#39; block from executing.\r\n6. Errors in JVM or operating system can prevent &#39;finally&#39; block from executing.\r\n7. &#39;StackOverflowError&#39; or &#39;OutOfMemoryError&#39; can prevent &#39;finally&#39; block from executing.\r\n8. &#39;IllegalMonitorStateException&#39; can prevent &#39;finally&#39; block from executing in the context of a synchronized block.\r\n9. &#39;SecurityException&#39; or other security-related exceptions can prevent &#39;finally&#39; block from executing.\r\n10. Bugs or logical errors in the program can prevent &#39;finally&#39; block from executing correctly.\r\n\te.g:\r\n``` java\r\ntry {\r\n\t Object obj = null;\r\n\tobj.toString(); // NullPointerException error\r\n} catch (Exception e) {\r\n\t// Exception handling...\r\n} finally {\r\n\t// This may not execute correctly due to the NullPointerException error\r\n\tSystem.out.println(&quot;This may not execute correctly due to a NullPointerException error.&quot;);\r\n}\r\n\r\n```","title":"Does a finally block always get executed in Java?","body":"<p>the total list of situations are like :</p>\n<ol>\n<li>'System.exit()' method call within 'try' or 'catch' block can prevent 'finally' block from executing.</li>\n<li>Infinite loops or endless operations within 'try' or 'catch' block can prevent 'finally' block from executing.</li>\n<li>Power failures, hardware failures, or abrupt termination of the program may prevent 'finally' block from executing.</li>\n<li>JVM crashes may prevent 'finally' block from executing.</li>\n<li>'Thread.stop()' method call can prevent 'finally' block from executing.</li>\n<li>Errors in JVM or operating system can prevent 'finally' block from executing.</li>\n<li>'StackOverflowError' or 'OutOfMemoryError' can prevent 'finally' block from executing.</li>\n<li>'IllegalMonitorStateException' can prevent 'finally' block from executing in the context of a synchronized block.</li>\n<li>'SecurityException' or other security-related exceptions can prevent 'finally' block from executing.</li>\n<li>Bugs or logical errors in the program can prevent 'finally' block from executing correctly.\ne.g:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n     Object obj = null;\n    obj.toString(); // NullPointerException error\n} catch (Exception e) {\n    // Exception handling...\n} finally {\n    // This may not execute correctly due to the NullPointerException error\n    System.out.println(&quot;This may not execute correctly due to a NullPointerException error.&quot;);\n}\n\n</code></pre>\n"}],"owner":{"account_id":474974,"reputation":27310,"user_id":885027,"accept_rate":100,"display_name":"jonny five"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":607151,"favorite_count":0,"down_vote_count":21,"up_vote_count":2705,"accepted_answer_id":65049,"answer_count":52,"score":2684,"last_activity_date":1688565793,"creation_date":1221500634,"question_id":65035,"body_markdown":"Considering this code, can I be *absolutely sure* that the `finally` block always executes, no matter what `something()` is?\r\n\r\n    try {  \r\n        something();  \r\n        return success;  \r\n    }  \r\n    catch (Exception e) {   \r\n        return failure;  \r\n    }  \r\n    finally {  \r\n        System.out.println(&quot;I don&#39;t know if this will get printed out&quot;);\r\n    }\r\n","title":"Does a finally block always get executed in Java?","body":"<p>Considering this code, can I be <em>absolutely sure</em> that the <code>finally</code> block always executes, no matter what <code>something()</code> is?</p>\n\n<pre><code>try {  \n    something();  \n    return success;  \n}  \ncatch (Exception e) {   \n    return failure;  \n}  \nfinally {  \n    System.out.println(\"I don't know if this will get printed out\");\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate-6.x"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688562267,"post_id":76620187,"comment_id":135089711,"body_markdown":"Hello, it&#39;s not clear - what is your question?","body":"Hello, it&#39;s not clear - what is your question?"}],"owner":{"account_id":28953303,"reputation":1,"user_id":22177379,"display_name":"david fortin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688565289,"creation_date":1688559036,"question_id":76620187,"body_markdown":"Auto-configure Hibernate6 with a JsonFormatMapper that uses the auto-configured Jackson ObjectMapper\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhen I am adding the definition in application.yml it is working fine\r\n\r\n    hibernate:\r\n      type:\r\n        json_format_mapper: com.xxxx.epm.yyyy.util.JacksonJsonFormatMapperCustom\r\n        # Allows Hibernate to generate SQL optimized for a particular DBMS\r\n","title":"Auto-configure Hibernate6 with a JsonFormatMapper","body":"<p>Auto-configure Hibernate6 with a JsonFormatMapper that uses the auto-configured Jackson ObjectMapper</p>\n<p>When I am adding the definition in application.yml it is working fine</p>\n<pre><code>hibernate:\n  type:\n    json_format_mapper: com.xxxx.epm.yyyy.util.JacksonJsonFormatMapperCustom\n    # Allows Hibernate to generate SQL optimized for a particular DBMS\n</code></pre>\n"},{"tags":["java","android","exception","arraylist","iteration"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":0,"creation_date":1457133612,"post_id":6866238,"comment_id":59284985,"body_markdown":"Possible duplicate of [Concurrent Modification exception](http://stackoverflow.com/questions/1496180/concurrent-modification-exception)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1496180/concurrent-modification-exception\">Concurrent Modification exception</a>"}],"answers":[{"comments":[{"owner":{"display_name":"user773737"},"score":0,"creation_date":1311890543,"post_id":6866267,"comment_id":8167913,"body_markdown":"Actually, I had the enhanced for loop at first. I just recently used an iterator because I though that would help solve the problem, but it wasn&#39;t.","body":"Actually, I had the enhanced for loop at first. I just recently used an iterator because I though that would help solve the problem, but it wasn&#39;t."},{"owner":{"account_id":462341,"reputation":1210,"user_id":864595,"display_name":"ty1824"},"score":3,"creation_date":1311890972,"post_id":6866267,"comment_id":8168001,"body_markdown":"I believe the enhanced for loop uses an Iterator in the background, therefore using it *should* cause the same problem.","body":"I believe the enhanced for loop uses an Iterator in the background, therefore using it <i>should</i> cause the same problem."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1311890986,"post_id":6866267,"comment_id":8168007,"body_markdown":"@OWiz: The two forms will compile to basically the same code.","body":"@OWiz: The two forms will compile to basically the same code."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1311890209,"creation_date":1311890209,"answer_id":6866267,"question_id":6866238,"body_markdown":"You&#39;re not allowed to add an entry to a collection while you&#39;re iterating over it.\r\n\r\nOne option is to create a new `List&lt;Element&gt;` for new entries while you&#39;re iterating over `mElements`, and then add all the new ones to `mElement` afterwards (`mElements.addAll(newElements)`). Of course, that means you won&#39;t have executed the loop body for those new elements - is that a problem?\r\n\r\nAt the same time, I&#39;d recommend that you update your code to use the [enhanced for loop][1]:\r\n\r\n    for (Element element : mElements) {\r\n        ...\r\n    }\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1,5.0/docs/guide/language/foreach.html","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>You're not allowed to add an entry to a collection while you're iterating over it.</p>\n\n<p>One option is to create a new <code>List&lt;Element&gt;</code> for new entries while you're iterating over <code>mElements</code>, and then add all the new ones to <code>mElement</code> afterwards (<code>mElements.addAll(newElements)</code>). Of course, that means you won't have executed the loop body for those new elements - is that a problem?</p>\n\n<p>At the same time, I'd recommend that you update your code to use the <a href=\"http://download.oracle.com/javase/1,5.0/docs/guide/language/foreach.html\" rel=\"noreferrer\">enhanced for loop</a>:</p>\n\n<pre><code>for (Element element : mElements) {\n    ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5712472,"reputation":2772,"user_id":4513962,"display_name":"Amit Tumkur"},"score":1,"creation_date":1461046406,"post_id":6866271,"comment_id":61006899,"body_markdown":"Didn&#39;t work when i had to work with remove from list, instead traditional for loop i had to go for along with modifications for &quot;i&quot; in loop every time.","body":"Didn&#39;t work when i had to work with remove from list, instead traditional for loop i had to go for along with modifications for &quot;i&quot; in loop every time."},{"owner":{"account_id":2050082,"reputation":4451,"user_id":1829281,"display_name":"Andrii Kovalchuk"},"score":2,"creation_date":1471607608,"post_id":6866271,"comment_id":65426158,"body_markdown":"@AmitTumkur try to use &quot;iterator.remove();&quot; instead of &quot;list.remove(object)&quot; :)","body":"@AmitTumkur try to use &quot;iterator.remove();&quot; instead of &quot;list.remove(object)&quot; :)"}],"tags":[],"owner":{"account_id":423186,"reputation":7475,"user_id":802421,"accept_rate":78,"display_name":"user802421"},"comment_count":2,"down_vote_count":0,"up_vote_count":90,"is_accepted":true,"score":90,"last_activity_date":1311890549,"creation_date":1311890236,"answer_id":6866271,"question_id":6866238,"body_markdown":"[ConcurrentModificationException][1] occurs when you modify the list (by adding or removing elements) while traversing a list with `Iterator`.\r\n\r\nTry \r\n\r\n    List&lt;Element&gt; thingsToBeAdd = new ArrayList&lt;Element&gt;();\r\n    for(Iterator&lt;Element&gt; it = mElements.iterator(); it.hasNext();) {\r\n        Element element = it.next();\r\n        if(...) {  \r\n            //irrelevant stuff..\r\n            if(element.cFlag){\r\n                // mElements.add(new Element(&quot;crack&quot;,getResources(), (int)touchX,(int)touchY));\r\n                thingsToBeAdd.add(new Element(&quot;crack&quot;,getResources(), (int)touchX,(int)touchY));\r\n                element.cFlag = false;\r\n            }           \r\n        }\r\n    }\r\n    mElements.addAll(thingsToBeAdd );\r\n\r\nAlso you should consider enhanced for each loop as Jon suggested.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html\" rel=\"noreferrer\">ConcurrentModificationException</a> occurs when you modify the list (by adding or removing elements) while traversing a list with <code>Iterator</code>.</p>\n\n<p>Try </p>\n\n<pre><code>List&lt;Element&gt; thingsToBeAdd = new ArrayList&lt;Element&gt;();\nfor(Iterator&lt;Element&gt; it = mElements.iterator(); it.hasNext();) {\n    Element element = it.next();\n    if(...) {  \n        //irrelevant stuff..\n        if(element.cFlag){\n            // mElements.add(new Element(\"crack\",getResources(), (int)touchX,(int)touchY));\n            thingsToBeAdd.add(new Element(\"crack\",getResources(), (int)touchX,(int)touchY));\n            element.cFlag = false;\n        }           \n    }\n}\nmElements.addAll(thingsToBeAdd );\n</code></pre>\n\n<p>Also you should consider enhanced for each loop as Jon suggested.</p>\n"},{"tags":[],"owner":{"account_id":446514,"reputation":6210,"user_id":839601,"display_name":"gnat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311898636,"creation_date":1311898636,"answer_id":6867309,"question_id":6866238,"body_markdown":"adding from list in this case leads to CME, no amount of `synchronized` will let you avoid that. Instead, consider adding using the iterator...\r\n\r\n            for(ListIterator&lt;Element&gt; it = mElements.listIterator(); it.hasNext();){\r\n                Element element = it.next();\r\n\r\n                if(touchX &gt; element.mX  &amp;&amp; touchX &lt; element.mX + element.mBitmap.getWidth() &amp;&amp; touchY &gt; element.mY   \r\n                        &amp;&amp; touchY &lt; element.mY + element.mBitmap.getHeight()) {  \r\n\r\n                    //irrelevant stuff..\r\n\r\n                    if(element.cFlag){\r\n                        // mElements.add(new Element(&quot;crack&quot;,getResources(), (int)touchX,(int)touchY));\r\n                        it.add(new Element(&quot;crack&quot;,getResources(), (int)touchX,(int)touchY));\r\n                        element.cFlag = false;\r\n\r\n                    }           \r\n                }\r\n            }\r\n\r\n---\r\n\r\nAlso I think it&#39;s somewhat _slippery_ to state like...\r\n\r\n&gt; ...The problem occurs at `Element element = it.next();`\r\n\r\nfor the sake of precision note that above is not guaranteed.\r\n\r\n[API documentation](http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html) points out that this _...behavior cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast operations throw ConcurrentModificationException on a **best-effort basis**..._\r\n","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>adding from list in this case leads to CME, no amount of <code>synchronized</code> will let you avoid that. Instead, consider adding using the iterator...</p>\n\n<pre><code>        for(ListIterator&lt;Element&gt; it = mElements.listIterator(); it.hasNext();){\n            Element element = it.next();\n\n            if(touchX &gt; element.mX  &amp;&amp; touchX &lt; element.mX + element.mBitmap.getWidth() &amp;&amp; touchY &gt; element.mY   \n                    &amp;&amp; touchY &lt; element.mY + element.mBitmap.getHeight()) {  \n\n                //irrelevant stuff..\n\n                if(element.cFlag){\n                    // mElements.add(new Element(\"crack\",getResources(), (int)touchX,(int)touchY));\n                    it.add(new Element(\"crack\",getResources(), (int)touchX,(int)touchY));\n                    element.cFlag = false;\n\n                }           \n            }\n        }\n</code></pre>\n\n<hr>\n\n<p>Also I think it's somewhat <em>slippery</em> to state like...</p>\n\n<blockquote>\n  <p>...The problem occurs at <code>Element element = it.next();</code></p>\n</blockquote>\n\n<p>for the sake of precision note that above is not guaranteed.</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/ConcurrentModificationException.html\" rel=\"nofollow\">API documentation</a> points out that this <em>...behavior cannot be guaranteed as it is, generally speaking, impossible to make any hard guarantees in the presence of unsynchronized concurrent modification. Fail-fast operations throw ConcurrentModificationException on a <strong>best-effort basis</strong>...</em></p>\n"},{"comments":[{"owner":{"account_id":423186,"reputation":7475,"user_id":802421,"accept_rate":78,"display_name":"user802421"},"score":8,"creation_date":1442908754,"post_id":10640753,"comment_id":53265440,"body_markdown":"You could end up in an infinite loop.","body":"You could end up in an infinite loop."}],"tags":[],"owner":{"account_id":892451,"reputation":31936,"user_id":930450,"accept_rate":75,"display_name":"User"},"comment_count":1,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1422450114,"creation_date":1337276657,"answer_id":10640753,"question_id":6866238,"body_markdown":"An indexed for loop should also work.\r\n\r\n    for (int i = 0; i &lt; collection.size(); i++)","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>An indexed for loop should also work.</p>\n\n<pre><code>for (int i = 0; i &lt; collection.size(); i++)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":7,"creation_date":1549984042,"post_id":26097172,"comment_id":96097654,"body_markdown":"Iterators are only useful if you want to remove elements, but they are useless if you want to add items to a list as asked in this question.","body":"Iterators are only useful if you want to remove elements, but they are useless if you want to add items to a list as asked in this question."}],"tags":[],"owner":{"account_id":4905348,"reputation":1354,"user_id":3952244,"display_name":"David Bemerguy"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1422073030,"creation_date":1411984620,"answer_id":26097172,"question_id":6866238,"body_markdown":"Using Iterators also fixes concurrency problems, like this:\r\n\r\n    Iterator&lt;Object&gt; it = iterator.next().iterator();\r\n    while (it.hasNext()) {\r\n        it.remove();\r\n    }","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>Using Iterators also fixes concurrency problems, like this:</p>\n\n<pre><code>Iterator&lt;Object&gt; it = iterator.next().iterator();\nwhile (it.hasNext()) {\n    it.remove();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6146084,"reputation":745,"user_id":4792027,"display_name":"Ninad Kambli"},"score":0,"creation_date":1488272863,"post_id":28041726,"comment_id":72146592,"body_markdown":"But object of new Arraylist will perform shallow copy of list, which points to same list.","body":"But object of new Arraylist will perform shallow copy of list, which points to same list."},{"owner":{"account_id":4270776,"reputation":3160,"user_id":3492625,"display_name":"konmik"},"score":7,"creation_date":1488791628,"post_id":28041726,"comment_id":72371539,"body_markdown":"No, it will not point to the same list. The list gets copied.","body":"No, it will not point to the same list. The list gets copied."},{"owner":{"account_id":1672875,"reputation":9840,"user_id":1538986,"accept_rate":64,"display_name":"Opiatefuchs"},"score":0,"creation_date":1497087598,"post_id":28041726,"comment_id":75939170,"body_markdown":"but wouldn&#180;t that iterate through a list with a different count of items? I think, if you remove an item from the original list, it is still on the copied ArrayList, isn&#180;t it?","body":"but wouldn&#180;t that iterate through a list with a different count of items? I think, if you remove an item from the original list, it is still on the copied ArrayList, isn&#180;t it?"},{"owner":{"account_id":4270776,"reputation":3160,"user_id":3492625,"display_name":"konmik"},"score":0,"creation_date":1497530826,"post_id":28041726,"comment_id":76124344,"body_markdown":"There will be a different number of items in the modified list after modification, obviously. The point is that you will still be able to iterate over all of the original list items, while modifying the list as you wish.","body":"There will be a different number of items in the modified list after modification, obviously. The point is that you will still be able to iterate over all of the original list items, while modifying the list as you wish."}],"tags":[],"owner":{"account_id":4270776,"reputation":3160,"user_id":3492625,"display_name":"konmik"},"comment_count":4,"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1421747074,"creation_date":1421746013,"answer_id":28041726,"question_id":6866238,"body_markdown":"I normally use something like this:\r\n\r\n    for (Element element : new ArrayList&lt;Element&gt;(mElements)) {\r\n        ...\r\n    }\r\n\r\nquick, clean and bug-free\r\n\r\nanother option is to use CopyOnWriteArrayList\r\n","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>I normally use something like this:</p>\n\n<pre><code>for (Element element : new ArrayList&lt;Element&gt;(mElements)) {\n    ...\n}\n</code></pre>\n\n<p>quick, clean and bug-free</p>\n\n<p>another option is to use CopyOnWriteArrayList</p>\n"},{"tags":[],"owner":{"account_id":7907855,"reputation":1079,"user_id":5972784,"accept_rate":0,"display_name":"Siddharth Choudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500620009,"creation_date":1500620009,"answer_id":45230933,"question_id":6866238,"body_markdown":"Well i have tried all the aspects in my case where i was iterating in an adapter a list but due to hitting again and again i showed me the message of exception being thrown .\r\nI tried Casting the list to\r\n\r\n     = (CopyOnWriteArraylist&lt;MyClass&gt;)mylist.value;\r\n\r\nbut it also throwed me an exception of CouldNotCastException,(and i finally pondered over the fact that why do they use or provide us a facality of casting).\r\n\r\nI even used the so called Synchronized Block too, but even it didn&#39;t worked or i might would have been using it in a wrong way.\r\n\r\n\r\nThus it&#39;s all when i finally used the #all of time# Technique of handling the exception\r\nin try catch block, and it worked\r\nSo put your code in the\r\n\r\n    try{\r\n    //block\r\n    \r\n    }catch(ConcurrentModificationException){\r\n    //thus handling my code over here\r\n    }\r\n    \r\n     \r\n\r\n","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>Well i have tried all the aspects in my case where i was iterating in an adapter a list but due to hitting again and again i showed me the message of exception being thrown .\nI tried Casting the list to</p>\n\n<pre><code> = (CopyOnWriteArraylist&lt;MyClass&gt;)mylist.value;\n</code></pre>\n\n<p>but it also throwed me an exception of CouldNotCastException,(and i finally pondered over the fact that why do they use or provide us a facality of casting).</p>\n\n<p>I even used the so called Synchronized Block too, but even it didn't worked or i might would have been using it in a wrong way.</p>\n\n<p>Thus it's all when i finally used the #all of time# Technique of handling the exception\nin try catch block, and it worked\nSo put your code in the</p>\n\n<pre><code>try{\n//block\n\n}catch(ConcurrentModificationException){\n//thus handling my code over here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1103769,"reputation":415,"user_id":1095610,"display_name":"marcolav"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565977642,"creation_date":1565977642,"answer_id":57529035,"question_id":6866238,"body_markdown":"I solved creating a lock (Kotlin):\r\n\r\n\r\n    import java.util.concurrent.locks.ReentrantLock\r\n    \r\n    Class A {\r\n        private val listLock = ReentrantLock()\r\n        fun doSomething(newElement){\r\n            listLock.lock()\r\n            list.add(newElement)\r\n            listLock.unlock()\r\n        }\r\n    }","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>I solved creating a lock (Kotlin):</p>\n\n<pre><code>import java.util.concurrent.locks.ReentrantLock\n\nClass A {\n    private val listLock = ReentrantLock()\n    fun doSomething(newElement){\n        listLock.lock()\n        list.add(newElement)\n        listLock.unlock()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7836175,"reputation":31,"user_id":5924147,"display_name":"Saren"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566458168,"creation_date":1566457902,"answer_id":57603844,"question_id":6866238,"body_markdown":"You could use an auto-decrement `for` loop, and deal with the additional elements next time.\r\n\r\n```\r\nList additionalElements = new ArrayList();\r\nfor(int i = mElements.size() - 1; i &gt; -1 ; i--){\r\n    //your business\r\n    additionalElements.add(newElement);\r\n}\r\nmElements.add(additionalElements);\r\n```","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>You could use an auto-decrement <code>for</code> loop, and deal with the additional elements next time.</p>\n\n<pre><code>List additionalElements = new ArrayList();\nfor(int i = mElements.size() - 1; i &gt; -1 ; i--){\n    //your business\n    additionalElements.add(newElement);\n}\nmElements.add(additionalElements);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7673543,"reputation":3490,"user_id":5815054,"accept_rate":50,"display_name":"hb0"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586325871,"creation_date":1586325871,"answer_id":61094230,"question_id":6866238,"body_markdown":"The accepted solution (to create a copy of the collection) usually **works well**.\r\n\r\nHowever, if the `Element` **contains another collection** this does not make a *deep copy*!\r\n\r\nExample:\r\n\r\n```\r\nclass Element {\r\n   List&lt;Kid&gt; kids;\r\n\r\n   getKids() {\r\n      return kids;\r\n   }\r\n}\r\n```\r\n\r\nNow when you create a copy of the List of Elements:\r\n\r\n```\r\nfor (Element element : new ArrayList&lt;Element&gt;(elements)) { ... }\r\n```\r\n\r\nYou can still get a `ConcurrentModificationException` if you iterate over `element.getKids()` and, parally, alter the `kids` of that element.\r\n\r\nLooking back it&#39;s obvious, but I ended up in this thread so maybe this hint helps others, too:\r\n\r\n```\r\nclass Element {\r\n   List&lt;Kid&gt; kids;\r\n\r\n   getKids() {\r\n      // Return a copy of the child collection\r\n      return new ArrayList&lt;Kid&gt;(kids);\r\n   }\r\n}\r\n```","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>The accepted solution (to create a copy of the collection) usually <strong>works well</strong>.</p>\n\n<p>However, if the <code>Element</code> <strong>contains another collection</strong> this does not make a <em>deep copy</em>!</p>\n\n<p>Example:</p>\n\n<pre><code>class Element {\n   List&lt;Kid&gt; kids;\n\n   getKids() {\n      return kids;\n   }\n}\n</code></pre>\n\n<p>Now when you create a copy of the List of Elements:</p>\n\n<pre><code>for (Element element : new ArrayList&lt;Element&gt;(elements)) { ... }\n</code></pre>\n\n<p>You can still get a <code>ConcurrentModificationException</code> if you iterate over <code>element.getKids()</code> and, parally, alter the <code>kids</code> of that element.</p>\n\n<p>Looking back it's obvious, but I ended up in this thread so maybe this hint helps others, too:</p>\n\n<pre><code>class Element {\n   List&lt;Kid&gt; kids;\n\n   getKids() {\n      // Return a copy of the child collection\n      return new ArrayList&lt;Kid&gt;(kids);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20489666,"reputation":21,"user_id":15036017,"display_name":"Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688564948,"creation_date":1688564948,"answer_id":76621028,"question_id":6866238,"body_markdown":"        LinkedList&lt;Double&gt; newList = new LinkedList&lt;&gt;();\r\n        newList.addAll(oldList);\r\nThis will take care of ConcurrentModificationException and good practice","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<pre><code>    LinkedList&lt;Double&gt; newList = new LinkedList&lt;&gt;();\n    newList.addAll(oldList);\n</code></pre>\n<p>This will take care of ConcurrentModificationException and good practice</p>\n"}],"owner":{"display_name":"user773737"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105638,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":6866271,"answer_count":11,"score":66,"last_activity_date":1688564948,"creation_date":1311890010,"question_id":6866238,"body_markdown":"The problem occurs at \r\n\r\n    Element element = it.next();\r\n\r\nAnd this code which contains that line, is inside of an `OnTouchEvent`\r\n\r\n    for (Iterator&lt;Element&gt; it = mElements.iterator(); it.hasNext();){\r\n\t\tElement element = it.next();\r\n\t\t\r\n\t\tif(touchX &gt; element.mX  &amp;&amp; touchX &lt; element.mX + element.mBitmap.getWidth() &amp;&amp; touchY &gt; element.mY   \r\n\t\t\t\t&amp;&amp; touchY &lt; element.mY + element.mBitmap.getHeight()) {\t \r\n\t\t\t\r\n\t\t\t//irrelevant stuff..\r\n\t\t\t\r\n\t\t\tif(element.cFlag){\r\n\t\t\t\tmElements.add(new Element(&quot;crack&quot;,getResources(), (int)touchX,(int)touchY));\r\n\t\t\t\telement.cFlag = false;\r\n\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\r\nAll of this is inside `synchronized(mElements)`, where `mElements` is an `ArrayList&lt;Element&gt;` \r\n\r\nWhen I touch an `Element`, it may activate `cFlag`, which will create another `Element` with different properties, which will fall off the screen and destroy itself in less than a second. It&#39;s my way of creating particle effects. We can call this &quot;particle&quot; `crack`, like the String parameter in the constructor.\r\n\r\n\r\n\r\nThis all works fine until I add another main `Element`. Now I have two `Elements` on the screen at the same time, and if I touch the newest `Element`, it works fine, and launches the particles.\r\n\r\nHowever, if I touch and activate `cFlag` on the older `Element`, then it gives me the exception.\r\n\r\n\r\n   \r\n\r\n     07-28 15:36:59.815: ERROR/AndroidRuntime(4026): FATAL EXCEPTION: main\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026): java.util.ConcurrentModificationException\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.util.ArrayList$ArrayListIterator.next(ArrayList.java:573)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.Juggle2.Panel.onTouchEvent(Panel.java:823)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.View.dispatchTouchEvent(View.java:3766)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:863)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:863)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1767)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1119)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.app.Activity.dispatchTouchEvent(Activity.java:2086)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1751)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewRoot.handleMessage(ViewRoot.java:1785)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.os.Looper.loop(Looper.java:123)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.app.ActivityThread.main(ActivityThread.java:4627)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.lang.reflect.Method.invokeNative(Native Method)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.lang.reflect.Method.invoke(Method.java:521)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:893)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:651)\r\n    07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at dalvik.system.NativeStart.main(Native Method)\r\n\r\n\r\n\r\nHow can I make this work?","title":"Concurrent Modification Exception : adding to an ArrayList","body":"<p>The problem occurs at </p>\n\n<pre><code>Element element = it.next();\n</code></pre>\n\n<p>And this code which contains that line, is inside of an <code>OnTouchEvent</code></p>\n\n<pre><code>for (Iterator&lt;Element&gt; it = mElements.iterator(); it.hasNext();){\n    Element element = it.next();\n\n    if(touchX &gt; element.mX  &amp;&amp; touchX &lt; element.mX + element.mBitmap.getWidth() &amp;&amp; touchY &gt; element.mY   \n            &amp;&amp; touchY &lt; element.mY + element.mBitmap.getHeight()) {  \n\n        //irrelevant stuff..\n\n        if(element.cFlag){\n            mElements.add(new Element(\"crack\",getResources(), (int)touchX,(int)touchY));\n            element.cFlag = false;\n\n        }           \n    }\n}\n</code></pre>\n\n<p>All of this is inside <code>synchronized(mElements)</code>, where <code>mElements</code> is an <code>ArrayList&lt;Element&gt;</code> </p>\n\n<p>When I touch an <code>Element</code>, it may activate <code>cFlag</code>, which will create another <code>Element</code> with different properties, which will fall off the screen and destroy itself in less than a second. It's my way of creating particle effects. We can call this \"particle\" <code>crack</code>, like the String parameter in the constructor.</p>\n\n<p>This all works fine until I add another main <code>Element</code>. Now I have two <code>Elements</code> on the screen at the same time, and if I touch the newest <code>Element</code>, it works fine, and launches the particles.</p>\n\n<p>However, if I touch and activate <code>cFlag</code> on the older <code>Element</code>, then it gives me the exception.</p>\n\n<pre><code> 07-28 15:36:59.815: ERROR/AndroidRuntime(4026): FATAL EXCEPTION: main\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026): java.util.ConcurrentModificationException\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.util.ArrayList$ArrayListIterator.next(ArrayList.java:573)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.Juggle2.Panel.onTouchEvent(Panel.java:823)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.View.dispatchTouchEvent(View.java:3766)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:863)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:863)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow$DecorView.superDispatchTouchEvent(PhoneWindow.java:1767)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1119)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.app.Activity.dispatchTouchEvent(Activity.java:2086)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.policy.impl.PhoneWindow$DecorView.dispatchTouchEvent(PhoneWindow.java:1751)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.view.ViewRoot.handleMessage(ViewRoot.java:1785)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.os.Handler.dispatchMessage(Handler.java:99)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.os.Looper.loop(Looper.java:123)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at android.app.ActivityThread.main(ActivityThread.java:4627)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.lang.reflect.Method.invokeNative(Native Method)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at java.lang.reflect.Method.invoke(Method.java:521)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:893)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:651)\n07-28 15:36:59.815: ERROR/AndroidRuntime(4026):     at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>How can I make this work?</p>\n"},{"tags":["java","spring-boot","cors","aws-api-gateway","amazon-ecs"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1685098801,"post_id":76339966,"comment_id":134617516,"body_markdown":"This question is not about programming.","body":"This question is not about programming."},{"owner":{"account_id":10853954,"reputation":73,"user_id":10262993,"display_name":"Samudrala Prasad"},"score":0,"creation_date":1685099391,"post_id":76339966,"comment_id":134617619,"body_markdown":"I understand that above scenario is about a middleware API configured behind API Gateway which is causing CORS error when tried with bad requests.","body":"I understand that above scenario is about a middleware API configured behind API Gateway which is causing CORS error when tried with bad requests."},{"owner":{"account_id":10853954,"reputation":73,"user_id":10262993,"display_name":"Samudrala Prasad"},"score":0,"creation_date":1685099459,"post_id":76339966,"comment_id":134617632,"body_markdown":"May be something from frontend or API Gateway should have some option to solve issue","body":"May be something from frontend or API Gateway should have some option to solve issue"}],"answers":[{"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688564482,"creation_date":1688564482,"answer_id":76620944,"question_id":76339966,"body_markdown":"**The question s quite vague, but let me do some guessing about what the problem is.**\r\n\r\nMay it be that the resource behind your AWS API Gateway has a CORS policy implemented? Maybe it&#39;s an s3 bucket with some CORS policy attached. If created with Cloud Formation it will have this configuration with CORS:\r\n```yaml\r\nBucketName:\r\n    Type: AWS::S3::Bucket\r\n    Properties:\r\n      CorsConfiguration:\r\n```\r\n\r\nIn that case, when the browser does a preflight request to check CORS policy, it will hit your resource if it exists, and get the CORS policy back. If the browser is happy with the policy, it will do the actual request. But when it is trying to access a resource that does not exist, a file in the bucket that are not there, the resource is not found and can for that reason not answer with a CORS policy.\r\n\r\nIf you setup your AWS API Gateway using an `openapi`-definition, check out the top level property `x-amazon-apigateway-cors:`.\r\n\r\nIf you have a Cloud Front infront of your API Gateway, and that is setup using Cloud Formation, you can set CORS policy on that using:\r\n```yaml\r\n  CloudFrontDistribution:\r\n    Type: AWS::CloudFront::Distribution\r\n    Properties:\r\n      ...\r\n      DistributionConfig:\r\n        ...\r\n        CacheBehaviors:\r\n            ...\r\n            ResponseHeadersPolicyId: !Ref ResponseHeadersPolicy\r\n\r\n  ResponseHeadersPolicy:\r\n    Type: AWS::CloudFront::ResponseHeadersPolicy\r\n    Properties:\r\n      ResponseHeadersPolicyConfig:\r\n        CorsConfig:\r\n          ...\r\n          AccessControlAllowMethods:\r\n            Items:\r\n              - GET\r\n              - HEAD\r\n              - OPTIONS\r\n          AccessControlAllowOrigins:\r\n            Items:\r\n              - https://example.com\r\n```","title":"CORS issue from AWS API GATEWAY when accessing from web for Bad request scenario","body":"<p><strong>The question s quite vague, but let me do some guessing about what the problem is.</strong></p>\n<p>May it be that the resource behind your AWS API Gateway has a CORS policy implemented? Maybe it's an s3 bucket with some CORS policy attached. If created with Cloud Formation it will have this configuration with CORS:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>BucketName:\n    Type: AWS::S3::Bucket\n    Properties:\n      CorsConfiguration:\n</code></pre>\n<p>In that case, when the browser does a preflight request to check CORS policy, it will hit your resource if it exists, and get the CORS policy back. If the browser is happy with the policy, it will do the actual request. But when it is trying to access a resource that does not exist, a file in the bucket that are not there, the resource is not found and can for that reason not answer with a CORS policy.</p>\n<p>If you setup your AWS API Gateway using an <code>openapi</code>-definition, check out the top level property <code>x-amazon-apigateway-cors:</code>.</p>\n<p>If you have a Cloud Front infront of your API Gateway, and that is setup using Cloud Formation, you can set CORS policy on that using:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  CloudFrontDistribution:\n    Type: AWS::CloudFront::Distribution\n    Properties:\n      ...\n      DistributionConfig:\n        ...\n        CacheBehaviors:\n            ...\n            ResponseHeadersPolicyId: !Ref ResponseHeadersPolicy\n\n  ResponseHeadersPolicy:\n    Type: AWS::CloudFront::ResponseHeadersPolicy\n    Properties:\n      ResponseHeadersPolicyConfig:\n        CorsConfig:\n          ...\n          AccessControlAllowMethods:\n            Items:\n              - GET\n              - HEAD\n              - OPTIONS\n          AccessControlAllowOrigins:\n            Items:\n              - https://example.com\n</code></pre>\n"}],"owner":{"account_id":14648801,"reputation":9,"user_id":10579358,"display_name":"Mallireddy Chandu Priya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688564482,"creation_date":1685097253,"question_id":76339966,"body_markdown":"I am trying to integrate Rest API (Middleware Backend application) in AWS API GATEWAY which will acts as a pass through, I have configured API and enabled CORS in GATEWAY.\r\nWhen I am trying to access the Gateway integrated API from Web , API throwing ***“CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource””*** when I am hitting with a bad request 4XX status codes and for success scenarios its returning success response, it means which return 200 status code.\r\n\r\nIs there any way to configure API Gateway to receive 4XX responses without throwing CORS issue.\r\n\r\n\r\nI tried to look into AWS API GATEWAY for allowing CORS origin settings for bad request scenarioes but no options found. \r\nI am looking for a solution to avoid CORS error when performing testing with a bad request.","title":"CORS issue from AWS API GATEWAY when accessing from web for Bad request scenario","body":"<p>I am trying to integrate Rest API (Middleware Backend application) in AWS API GATEWAY which will acts as a pass through, I have configured API and enabled CORS in GATEWAY.\nWhen I am trying to access the Gateway integrated API from Web , API throwing <em><strong>“CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource””</strong></em> when I am hitting with a bad request 4XX status codes and for success scenarios its returning success response, it means which return 200 status code.</p>\n<p>Is there any way to configure API Gateway to receive 4XX responses without throwing CORS issue.</p>\n<p>I tried to look into AWS API GATEWAY for allowing CORS origin settings for bad request scenarioes but no options found.\nI am looking for a solution to avoid CORS error when performing testing with a bad request.</p>\n"},{"tags":["java","spring","swagger"],"owner":{"account_id":10307815,"reputation":1103,"user_id":7604532,"accept_rate":50,"display_name":"laurentius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688564249,"creation_date":1688564249,"question_id":76620912,"body_markdown":"Using Spring to implement a REST API. Some endpoints will support CSV, other will not. I want to avoid having CSV as a response in all endpoints like this:\r\n\r\n    @ApiResponses(\r\n    \t@ApiResponse(description = &quot;OK&quot;, responseCode = &quot;200&quot;, content = {\r\n    \t\t@Content(mediaType = JSON, schema = @Schema(…),\r\n    \t\t@Content(mediaType = CSV, schema = @Schema(…)\r\n    \t}\r\n    )\r\n\r\nI want to hava a custom annotation, @EnableCSV for example, that will add that response type to the endpoint without having to write it every time. If I create a meta-annotation with @ApiResponse, response for 200 gets overridden (you can only specify one @ApiResponse for each responseCode unless it&#39;s grouped like that). Any other way to do this? Can I group both in an annotation and maybe just replace the @Schema for the first one by a parameter? Kinda like @EnableCSV(schema = @Schema(...)) that will only put that schema for the regular 200 and keep the CSV one too.\r\n\r\nUsing swagger v3\r\n\r\nThanks.","title":"Multiple responses for the same code using custom annotations","body":"<p>Using Spring to implement a REST API. Some endpoints will support CSV, other will not. I want to avoid having CSV as a response in all endpoints like this:</p>\n<pre><code>@ApiResponses(\n    @ApiResponse(description = &quot;OK&quot;, responseCode = &quot;200&quot;, content = {\n        @Content(mediaType = JSON, schema = @Schema(…),\n        @Content(mediaType = CSV, schema = @Schema(…)\n    }\n)\n</code></pre>\n<p>I want to hava a custom annotation, @EnableCSV for example, that will add that response type to the endpoint without having to write it every time. If I create a meta-annotation with @ApiResponse, response for 200 gets overridden (you can only specify one @ApiResponse for each responseCode unless it's grouped like that). Any other way to do this? Can I group both in an annotation and maybe just replace the @Schema for the first one by a parameter? Kinda like @EnableCSV(schema = @Schema(...)) that will only put that schema for the regular 200 and keep the CSV one too.</p>\n<p>Using swagger v3</p>\n<p>Thanks.</p>\n"},{"tags":["java","postgresql","spring-boot","junit"],"owner":{"account_id":4607949,"reputation":500,"user_id":3736889,"display_name":"szefuf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688564015,"creation_date":1688564015,"question_id":76620876,"body_markdown":"I recently added Zonky for embedded postgres to legacy project that had no dnit tests at all.\r\nI have a standard config: \r\n```\r\n@AutoConfigureEmbeddedDatabase(\r\n        beanName = &quot;myDatasource&quot;,\r\n        type = AutoConfigureEmbeddedDatabase.DatabaseType.POSTGRES,\r\n        provider = AutoConfigureEmbeddedDatabase.DatabaseProvider.ZONKY\r\n)\r\n```\r\n\r\nUnfortunately, it turns out the app has second data source, which is `PGSimpleDataSource` defined from the code, with the same host, port, etc. passed in `application.yml` as the `myDatasource`.\r\n\r\nIs there a way to access Zonky from outside, so I could pass these values without changing the old code? The reason behind it is the `myDatasource` is the &quot;main&quot; datasource for app, but the second one is in fact a list of multiple different datasources, not only this one.","title":"Is there a way to connect to Zonky from outside?","body":"<p>I recently added Zonky for embedded postgres to legacy project that had no dnit tests at all.\nI have a standard config:</p>\n<pre><code>@AutoConfigureEmbeddedDatabase(\n        beanName = &quot;myDatasource&quot;,\n        type = AutoConfigureEmbeddedDatabase.DatabaseType.POSTGRES,\n        provider = AutoConfigureEmbeddedDatabase.DatabaseProvider.ZONKY\n)\n</code></pre>\n<p>Unfortunately, it turns out the app has second data source, which is <code>PGSimpleDataSource</code> defined from the code, with the same host, port, etc. passed in <code>application.yml</code> as the <code>myDatasource</code>.</p>\n<p>Is there a way to access Zonky from outside, so I could pass these values without changing the old code? The reason behind it is the <code>myDatasource</code> is the &quot;main&quot; datasource for app, but the second one is in fact a list of multiple different datasources, not only this one.</p>\n"},{"tags":["java","android","dagger-2"],"answers":[{"comments":[{"owner":{"account_id":3573479,"reputation":371,"user_id":2983287,"accept_rate":50,"display_name":"danidin"},"score":0,"creation_date":1487236652,"post_id":42261056,"comment_id":71695365,"body_markdown":"Looks nice but AutoFactory has 15507 methods, mainly because of Guava. \nIts a huge number of methods for a library to use in Android.\nWhat do you think about the way i wanted to use it in the edit i posted? would it be a good practice? or are there any improvements i should do?","body":"Looks nice but AutoFactory has 15507 methods, mainly because of Guava.  Its a huge number of methods for a library to use in Android. What do you think about the way i wanted to use it in the edit i posted? would it be a good practice? or are there any improvements i should do?"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1487262257,"post_id":42261056,"comment_id":71715251,"body_markdown":"There&#39;s nothing inherently wrong with your separate component technique, but it&#39;s overkill here. AutoValue doesn&#39;t actually use Guava in its generated deps, they&#39;re just lumped together right now. [See context and workarounds here.](https://github.com/google/auto/issues/268)","body":"There&#39;s nothing inherently wrong with your separate component technique, but it&#39;s overkill here. AutoValue doesn&#39;t actually use Guava in its generated deps, they&#39;re just lumped together right now. <a href=\"https://github.com/google/auto/issues/268\" rel=\"nofollow noreferrer\">See context and workarounds here.</a>"}],"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487196675,"creation_date":1487196675,"answer_id":42261056,"question_id":42251057,"body_markdown":"Conceptually, what you want is a Factory:\r\n\r\n    /** Inject this wherever you want an instance of Dependency. */\r\n    public interface DependencyFactory {\r\n      Dependency create(\r\n          int number1,\r\n          int number2,\r\n          int number3,\r\n          DependencyListener listener);\r\n    }\r\n\r\n    public class DependencyFactoryImpl implements DependencyFactory {\r\n      @Inject Provider&lt;SomeDaggerDepIfNeeded&gt; someDaggerDepProvider;\r\n\r\n      @Override public void create(\r\n          int number1,\r\n          int number2,\r\n          int number3,\r\n          DependencyListener listener) {\r\n        return new Dependency(number1, number2, number3, listener,\r\n            someDaggerDepProvider.get() /* if necessary */);\r\n      }\r\n    }\r\n\r\nHowever, because this is so easy to generate automatically, there are often built-in tools to do so. **[Guice](https://github.com/google/guice)** calls this [Assisted Injection](https://github.com/google/guice/wiki/AssistedInject), and supplies [FactoryModuleBuilder](https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/assistedinject/FactoryModuleBuilder.html) (via an optional extension JAR) that reflectively generates factories at runtime. **Dagger 2** doesn&#39;t have a built-in equivalent, mostly because Google has already released an open-source JSR-330 factory generator called **[AutoFactory](https://github.com/google/auto/tree/master/factory)** that generates a factory for _any_ [JSR-330](https://www.jcp.org/en/jsr/detail?id=330) implementation including Dagger, Guice, and Spring.\r\n\r\n    @AutoFactory\r\n    public class Dependency{\r\n      Dependency(\r\n          int number1, int number2, int number3, DependencyListener listener,\r\n          @Provided SomeDaggerDepIfNeeded somedaggerDep){}     \r\n    }\r\n\r\nSee the AutoFactory documentation for details on its calls, particularly if you&#39;re interested in having the generated factory implement an interface. Using an interface you define explicitly can make it easier to work with generated code in IDEs.\r\n\r\n(If you don&#39;t have any need for dependencies from Dagger, or for substituting other implementations of this class to classes that depend on it, you can leave the class exactly as it is and treat the call to `new` as a factory.)","title":"How to Instantiate an object with dynamic members with Dagger2?","body":"<p>Conceptually, what you want is a Factory:</p>\n\n<pre><code>/** Inject this wherever you want an instance of Dependency. */\npublic interface DependencyFactory {\n  Dependency create(\n      int number1,\n      int number2,\n      int number3,\n      DependencyListener listener);\n}\n\npublic class DependencyFactoryImpl implements DependencyFactory {\n  @Inject Provider&lt;SomeDaggerDepIfNeeded&gt; someDaggerDepProvider;\n\n  @Override public void create(\n      int number1,\n      int number2,\n      int number3,\n      DependencyListener listener) {\n    return new Dependency(number1, number2, number3, listener,\n        someDaggerDepProvider.get() /* if necessary */);\n  }\n}\n</code></pre>\n\n<p>However, because this is so easy to generate automatically, there are often built-in tools to do so. <strong><a href=\"https://github.com/google/guice\" rel=\"nofollow noreferrer\">Guice</a></strong> calls this <a href=\"https://github.com/google/guice/wiki/AssistedInject\" rel=\"nofollow noreferrer\">Assisted Injection</a>, and supplies <a href=\"https://google.github.io/guice/api-docs/latest/javadoc/com/google/inject/assistedinject/FactoryModuleBuilder.html\" rel=\"nofollow noreferrer\">FactoryModuleBuilder</a> (via an optional extension JAR) that reflectively generates factories at runtime. <strong>Dagger 2</strong> doesn't have a built-in equivalent, mostly because Google has already released an open-source JSR-330 factory generator called <strong><a href=\"https://github.com/google/auto/tree/master/factory\" rel=\"nofollow noreferrer\">AutoFactory</a></strong> that generates a factory for <em>any</em> <a href=\"https://www.jcp.org/en/jsr/detail?id=330\" rel=\"nofollow noreferrer\">JSR-330</a> implementation including Dagger, Guice, and Spring.</p>\n\n<pre><code>@AutoFactory\npublic class Dependency{\n  Dependency(\n      int number1, int number2, int number3, DependencyListener listener,\n      @Provided SomeDaggerDepIfNeeded somedaggerDep){}     \n}\n</code></pre>\n\n<p>See the AutoFactory documentation for details on its calls, particularly if you're interested in having the generated factory implement an interface. Using an interface you define explicitly can make it easier to work with generated code in IDEs.</p>\n\n<p>(If you don't have any need for dependencies from Dagger, or for substituting other implementations of this class to classes that depend on it, you can leave the class exactly as it is and treat the call to <code>new</code> as a factory.)</p>\n"},{"tags":[],"owner":{"account_id":5319768,"reputation":530,"user_id":4243558,"display_name":"khesam109"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688563728,"creation_date":1688563728,"answer_id":76620839,"question_id":42251057,"body_markdown":"To solve the problem, you can use [Assisted Injection][1] to construct an object where some parameters may be provided by the DI framework and others must be passed in at creation time. So, your `Dependency` class can be something like this (suppose that `DependencyListener` provided by the DI framework):\r\n\r\n    public record Dependency(int number, DependencyListener listener) {\r\n    \r\n        @AssistedInject\r\n        public Dependency(@Assisted int number, DependencyListener listener) {\r\n            this.number = number;\r\n            this.listener = listener;\r\n        }\r\n    }\r\n\r\nIn addition, you should define a factory that can be used to create an instance of the object and it should contain an abstract method that returns the `@AssistedInject` type and takes in all `@Assisted` parameters defined in its constructor like below:\r\n\r\n    @AssistedFactory\r\n    public interface DependencyFactory {\r\n        Dependency buildDependency(int number);\r\n    }\r\n\r\nFinally, you can inject this factory and use it to create the `Dependency`:\r\n\r\n    public class Dependent {\r\n    \r\n        private final DependencyFactory factory;\r\n    \r\n        @Inject\r\n        public Dependent(DependencyFactory factory) {\r\n            this.factory = factory;\r\n        }\r\n    \r\n        Dependency getDependency(int number) {\r\n            return factory.buildDependency(number);\r\n        }\r\n    }\r\n\r\n  [1]: https://dagger.dev/dev-guide/assisted-injection.html","title":"How to Instantiate an object with dynamic members with Dagger2?","body":"<p>To solve the problem, you can use <a href=\"https://dagger.dev/dev-guide/assisted-injection.html\" rel=\"nofollow noreferrer\">Assisted Injection</a> to construct an object where some parameters may be provided by the DI framework and others must be passed in at creation time. So, your <code>Dependency</code> class can be something like this (suppose that <code>DependencyListener</code> provided by the DI framework):</p>\n<pre><code>public record Dependency(int number, DependencyListener listener) {\n\n    @AssistedInject\n    public Dependency(@Assisted int number, DependencyListener listener) {\n        this.number = number;\n        this.listener = listener;\n    }\n}\n</code></pre>\n<p>In addition, you should define a factory that can be used to create an instance of the object and it should contain an abstract method that returns the <code>@AssistedInject</code> type and takes in all <code>@Assisted</code> parameters defined in its constructor like below:</p>\n<pre><code>@AssistedFactory\npublic interface DependencyFactory {\n    Dependency buildDependency(int number);\n}\n</code></pre>\n<p>Finally, you can inject this factory and use it to create the <code>Dependency</code>:</p>\n<pre><code>public class Dependent {\n\n    private final DependencyFactory factory;\n\n    @Inject\n    public Dependent(DependencyFactory factory) {\n        this.factory = factory;\n    }\n\n    Dependency getDependency(int number) {\n        return factory.buildDependency(number);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3573479,"reputation":371,"user_id":2983287,"accept_rate":50,"display_name":"danidin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688563728,"creation_date":1487166189,"question_id":42251057,"body_markdown":"I have a class which gets arguments in a constructor:\r\n    \r\n    public class Dependency{\r\n      Dependency(int number1, int number2, int number3, DependencyListener listener){}     \r\n    }\r\neach dependent class needs to path different arguments in order to instantiate a dependency.\r\nHow should i define the module and the component that other classes could initiate it properly while transferring different values and passing &#39;this&#39; as the listener?\r\n\r\nAlso, How should i use the @Inject method in this case?\r\n\r\n**Edit 1**\r\n\r\n@jeff-bowman\r\nI was thinking of using the following method:\r\n\r\n    @Module public class DependencyModule {\r\n      int first;\r\n      int second;\r\n      int third;\r\n      DependencyListener listener;\r\n\r\n      public DependencyModule(int first, int second, int third, DependencyListener listener) {\r\n        this.first = first;\r\n        this.second = second;\r\n        this.third = third;\r\n        this.listener = listener\r\n      }\r\n     \r\n      @Provides Dependency provideDependency(int first, int second, int third, DependencyListener listener) {\r\n        return new Dependency(first, second, third, listener)\r\n      }\r\n    }\r\n\r\n    @Component(modules = { DependencyModule.class }) public interface     \r\n    DependencyComponent {\r\n      void inject(DependentClass1 target);\r\n      void inject(DependentClass2 target);\r\n      void inject(DependentClass3 target);\r\n    }\r\n\r\nand in each DependentClass i would do:\r\n    \r\n    public class DependentClass{\r\n      @Inject Dependency;\r\n      public DependentClass{\r\n          DaggerDependencyComponent.builder().dependencyModule(new DependencyModule(first, second, third, this)).build().inject();\r\n      }\r\n    }\r\n\r\nIs it a good practice?","title":"How to Instantiate an object with dynamic members with Dagger2?","body":"<p>I have a class which gets arguments in a constructor:</p>\n\n<pre><code>public class Dependency{\n  Dependency(int number1, int number2, int number3, DependencyListener listener){}     \n}\n</code></pre>\n\n<p>each dependent class needs to path different arguments in order to instantiate a dependency.\nHow should i define the module and the component that other classes could initiate it properly while transferring different values and passing 'this' as the listener?</p>\n\n<p>Also, How should i use the @Inject method in this case?</p>\n\n<p><strong>Edit 1</strong></p>\n\n<p>@jeff-bowman\nI was thinking of using the following method:</p>\n\n<pre><code>@Module public class DependencyModule {\n  int first;\n  int second;\n  int third;\n  DependencyListener listener;\n\n  public DependencyModule(int first, int second, int third, DependencyListener listener) {\n    this.first = first;\n    this.second = second;\n    this.third = third;\n    this.listener = listener\n  }\n\n  @Provides Dependency provideDependency(int first, int second, int third, DependencyListener listener) {\n    return new Dependency(first, second, third, listener)\n  }\n}\n\n@Component(modules = { DependencyModule.class }) public interface     \nDependencyComponent {\n  void inject(DependentClass1 target);\n  void inject(DependentClass2 target);\n  void inject(DependentClass3 target);\n}\n</code></pre>\n\n<p>and in each DependentClass i would do:</p>\n\n<pre><code>public class DependentClass{\n  @Inject Dependency;\n  public DependentClass{\n      DaggerDependencyComponent.builder().dependencyModule(new DependencyModule(first, second, third, this)).build().inject();\n  }\n}\n</code></pre>\n\n<p>Is it a good practice?</p>\n"},{"tags":["java","aws-lambda","microstream"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1688588896,"post_id":76620825,"comment_id":135095456,"body_markdown":"Sure, it just sounds like it&#39;ll be expensive and not work.  When the Lambda starts up it copies the database from S3 to likely `/tmp`.  It does what it needs to with the DB and then copies it back.  But what if you have 100 Lambda&#39;s running at the same time?  The changes one makes may or may not be in the next one.  This sounds like a horrible, error prone architecture.","body":"Sure, it just sounds like it&#39;ll be expensive and not work.  When the Lambda starts up it copies the database from S3 to likely <code>&#47;tmp</code>.  It does what it needs to with the DB and then copies it back.  But what if you have 100 Lambda&#39;s running at the same time?  The changes one makes may or may not be in the next one.  This sounds like a horrible, error prone architecture."}],"owner":{"account_id":2966688,"reputation":233,"user_id":2519698,"display_name":"zakgof"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688563642,"creation_date":1688563642,"question_id":76620825,"body_markdown":"MicroStream documentation says that MicroStream is an embedded database so multiple processes may not access the same database files concurrently:\r\n\r\nhttps://manual.docs.microstream.one/data-store/faq/file-storage#may-multiple-jvm-processes-access-the-same-microstream-database\r\n\r\n&gt; At any given time, only one JVM process may directly access the files representing a unique set of data. \r\n\r\nHowever, the blog post on the MicroStream website suggests that MicroStream on S3 is a good option for AWS Lambda:\r\n\r\nhttps://microstream.one/blog/article/the-future-is-serverless-with-microstream/\r\n\r\n&gt; MicroStream basically enables you to store any Java object as a blob in a very simple and object-oriented, convenient way somewhere, for instance in a plain file or in AWS S3. So, MicroStream and S3 are a great fit. Now, with MicroStream you can read the state of a Lamda from S3, work with it, and finally write it back to S3.\r\n\r\nThis statement sounds contradictory to the first link. Is it still possible to use MicroStream at S3 from an AWS Lambda function?","title":"Is it possible to use MicroStream + S3 from AWS Lambda?","body":"<p>MicroStream documentation says that MicroStream is an embedded database so multiple processes may not access the same database files concurrently:</p>\n<p><a href=\"https://manual.docs.microstream.one/data-store/faq/file-storage#may-multiple-jvm-processes-access-the-same-microstream-database\" rel=\"nofollow noreferrer\">https://manual.docs.microstream.one/data-store/faq/file-storage#may-multiple-jvm-processes-access-the-same-microstream-database</a></p>\n<blockquote>\n<p>At any given time, only one JVM process may directly access the files representing a unique set of data.</p>\n</blockquote>\n<p>However, the blog post on the MicroStream website suggests that MicroStream on S3 is a good option for AWS Lambda:</p>\n<p><a href=\"https://microstream.one/blog/article/the-future-is-serverless-with-microstream/\" rel=\"nofollow noreferrer\">https://microstream.one/blog/article/the-future-is-serverless-with-microstream/</a></p>\n<blockquote>\n<p>MicroStream basically enables you to store any Java object as a blob in a very simple and object-oriented, convenient way somewhere, for instance in a plain file or in AWS S3. So, MicroStream and S3 are a great fit. Now, with MicroStream you can read the state of a Lamda from S3, work with it, and finally write it back to S3.</p>\n</blockquote>\n<p>This statement sounds contradictory to the first link. Is it still possible to use MicroStream at S3 from an AWS Lambda function?</p>\n"},{"tags":["java","selenium","selenium-webdriver","popup","alert"],"answers":[{"comments":[{"owner":{"account_id":343390,"reputation":29380,"user_id":675065,"accept_rate":98,"display_name":"Alp"},"score":0,"creation_date":1322083945,"post_id":8245417,"comment_id":10149856,"body_markdown":"Sadly, both solutions do not work. The first is as slow as my code because it already creates the exception while having a timeout. The second does not recognize alerts.","body":"Sadly, both solutions do not work. The first is as slow as my code because it already creates the exception while having a timeout. The second does not recognize alerts."},{"owner":{"account_id":343390,"reputation":29380,"user_id":675065,"accept_rate":98,"display_name":"Alp"},"score":0,"creation_date":1335279245,"post_id":8245417,"comment_id":13255534,"body_markdown":"@djangofan - don&#39;t you have annoying delays?","body":"@djangofan - don&#39;t you have annoying delays?"},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1335292545,"post_id":8245417,"comment_id":13260840,"body_markdown":"@Alp - caused by what exactly?  What do you refer to?","body":"@Alp - caused by what exactly?  What do you refer to?"},{"owner":{"account_id":343390,"reputation":29380,"user_id":675065,"accept_rate":98,"display_name":"Alp"},"score":0,"creation_date":1335293820,"post_id":8245417,"comment_id":13261286,"body_markdown":"If you use that code to verify if an alert exists or not, there should be a delay if it not exists. Is that so? Because i tried to minimize that delay/timeout, but had no luck.","body":"If you use that code to verify if an alert exists or not, there should be a delay if it not exists. Is that so? Because i tried to minimize that delay/timeout, but had no luck."},{"owner":{"account_id":476901,"reputation":2441,"user_id":888059,"accept_rate":88,"display_name":"Reid Mac"},"score":0,"creation_date":1349886794,"post_id":8245417,"comment_id":17347270,"body_markdown":"Also, maybe try updating the selenium jars. When I was using Selenium, they were having new releases almost once a month, sometimes twice a month.","body":"Also, maybe try updating the selenium jars. When I was using Selenium, they were having new releases almost once a month, sometimes twice a month."}],"tags":[],"owner":{"account_id":476901,"reputation":2441,"user_id":888059,"accept_rate":88,"display_name":"Reid Mac"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1322065211,"creation_date":1322064621,"answer_id":8245417,"question_id":8244723,"body_markdown":"You could try\r\n   \r\n\r\n     try{\r\n            if(webDriver.switchTo().alert() != null){\r\n               Alert alert = webDriver.switchTo().alert();\r\n               alert.getText();\r\n               //etc.\r\n            }\r\n        }catch(Exception e){}\r\n\r\nIf that doesn&#39;t work, you could try looping through all the window handles and see if the alert exists. I&#39;m not sure if the alert opens as a new window using selenium.\r\n\r\n    for(String s: webDriver.getWindowHandles()){\r\n     //see if alert exists here.\r\n    }\r\n\r\n","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<p>You could try</p>\n\n<pre><code> try{\n        if(webDriver.switchTo().alert() != null){\n           Alert alert = webDriver.switchTo().alert();\n           alert.getText();\n           //etc.\n        }\n    }catch(Exception e){}\n</code></pre>\n\n<p>If that doesn't work, you could try looping through all the window handles and see if the alert exists. I'm not sure if the alert opens as a new window using selenium.</p>\n\n<pre><code>for(String s: webDriver.getWindowHandles()){\n //see if alert exists here.\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":343390,"reputation":29380,"user_id":675065,"accept_rate":98,"display_name":"Alp"},"score":2,"creation_date":1354696092,"post_id":13714614,"comment_id":18844502,"body_markdown":"That&#39;s interesting and could do the trick. Is it possible to set the timeout of the wait method to zero?","body":"That&#39;s interesting and could do the trick. Is it possible to set the timeout of the wait method to zero?"}],"tags":[],"owner":{"account_id":2112537,"reputation":806,"user_id":1877519,"display_name":"Leo"},"comment_count":1,"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1354668724,"creation_date":1354668724,"answer_id":13714614,"question_id":8244723,"body_markdown":"This is what worked for me using Explicit Wait from here [WebDriver: Advanced Usage][1]\r\n\r\n    public void checkAlert() {\r\n\t\ttry {\r\n\t\t\tWebDriverWait wait = new WebDriverWait(driver, 2);\r\n\t\t\twait.until(ExpectedConditions.alertIsPresent());\r\n\t\t\tAlert alert = driver.switchTo().alert();\r\n\t\t\talert.accept();\r\n\t\t} catch (Exception e) {\r\n\t\t\t//exception handling\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: http://seleniumhq.org/docs/04_webdriver_advanced.html#explicit-and-implicit-waits &quot;WebDriver: Advanced Usage&quot;","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<p>This is what worked for me using Explicit Wait from here <a href=\"http://seleniumhq.org/docs/04_webdriver_advanced.html#explicit-and-implicit-waits\">WebDriver: Advanced Usage</a></p>\n\n<pre><code>public void checkAlert() {\n    try {\n        WebDriverWait wait = new WebDriverWait(driver, 2);\n        wait.until(ExpectedConditions.alertIsPresent());\n        Alert alert = driver.switchTo().alert();\n        alert.accept();\n    } catch (Exception e) {\n        //exception handling\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1453872992,"creation_date":1365408520,"answer_id":15874201,"question_id":8244723,"body_markdown":"Write the following method:\r\n\r\n    public boolean isAlertPresent() {\r\n        try {\r\n    \t    driver.switchTo().alert();\r\n    \t\treturn true;\r\n        } // try\r\n    \tcatch (Exception e) {\r\n    \t\treturn false;\r\n    \t} // catch\r\n    }\r\n\r\nNow, you can check whether alert is present or not by using the method written above as below:\r\n\r\n    if (isAlertPresent()) {\r\n    \tdriver.switchTo().alert();\r\n    \tdriver.switchTo().alert().accept();\r\n    \tdriver.switchTo().defaultContent();\r\n    }","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<p>Write the following method:</p>\n\n<pre><code>public boolean isAlertPresent() {\n    try {\n        driver.switchTo().alert();\n        return true;\n    } // try\n    catch (Exception e) {\n        return false;\n    } // catch\n}\n</code></pre>\n\n<p>Now, you can check whether alert is present or not by using the method written above as below:</p>\n\n<pre><code>if (isAlertPresent()) {\n    driver.switchTo().alert();\n    driver.switchTo().alert().accept();\n    driver.switchTo().defaultContent();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5647686,"reputation":125,"user_id":4469239,"display_name":"ER.swatantra"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424503448,"creation_date":1422951911,"answer_id":28294328,"question_id":8244723,"body_markdown":"&lt;pre&gt;\r\nAlert alert = driver.switchTo().alert();\r\n\r\nalert.accept();\r\n&lt;/pre&gt;\r\n\r\nYou can also decline the alert box:\r\n&lt;pre&gt;\r\n\r\nAlert alert = driver.switchTo().alert();\r\n\r\nalert().dismiss();\r\n&lt;/pre&gt;","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<pre>\nAlert alert = driver.switchTo().alert();\n\nalert.accept();\n</pre>\n\n<p>You can also decline the alert box:</p>\n\n<pre>\n\nAlert alert = driver.switchTo().alert();\n\nalert().dismiss();\n</pre>\n"},{"tags":[],"owner":{"account_id":5782181,"reputation":21,"user_id":4562460,"display_name":"user4562460"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423812125,"creation_date":1423811553,"answer_id":28494317,"question_id":8244723,"body_markdown":"    try \r\n\t\t{\r\n\t\t\t//Handle the alert pop-up using seithTO alert statement\r\n\t\t\tAlert alert = driver.switchTo().alert();\r\n\t\t\t\r\n\t\t\t//Print alert is present\r\n\t\t\tSystem.out.println(&quot;Alert is present&quot;);\r\n\t\t\t\r\n\t\t\t//get the message which is present on pop-up\r\n\t\t\tString message = alert.getText();\r\n\t\t\t\r\n\t\t\t//print the pop-up message\r\n\t\t\tSystem.out.println(message);\r\n\t\t\t\r\n\t\t\talert.sendKeys(&quot;&quot;);\r\n\t\t\t//Click on OK button on pop-up\r\n\t\t\talert.accept();\r\n\t\t} \r\n\t\tcatch (NoAlertPresentException e) \r\n\t\t{\r\n\t\t\t//if alert is not present print message\r\n\t\t\tSystem.out.println(&quot;alert is not present&quot;);\r\n\t\t}","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<pre><code>try \n    {\n        //Handle the alert pop-up using seithTO alert statement\n        Alert alert = driver.switchTo().alert();\n\n        //Print alert is present\n        System.out.println(\"Alert is present\");\n\n        //get the message which is present on pop-up\n        String message = alert.getText();\n\n        //print the pop-up message\n        System.out.println(message);\n\n        alert.sendKeys(\"\");\n        //Click on OK button on pop-up\n        alert.accept();\n    } \n    catch (NoAlertPresentException e) \n    {\n        //if alert is not present print message\n        System.out.println(\"alert is not present\");\n    }\n</code></pre>\n"}],"owner":{"account_id":343390,"reputation":29380,"user_id":675065,"accept_rate":98,"display_name":"Alp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150025,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":13714614,"answer_count":5,"score":40,"last_activity_date":1688563395,"creation_date":1322062062,"question_id":8244723,"body_markdown":"I want to detect whether an alert is popped up or not. Currently I am using the following code:\r\n\r\n\t\ttry {\r\n\t\t\tAlert alert = webDriver.switchTo().alert();\r\n\t\t\t\r\n\t\t\t// check if alert exists\r\n\t\t\t// TODO find better way\r\n\t\t\talert.getText();\r\n\t\t\t\r\n\t\t\t// alert handling\r\n\t\t\tlog().info(&quot;Alert detected: {}&quot; + alert.getText());\r\n\t\t\talert.accept();\r\n\t\t} catch (Exception e) {\r\n\t\t}\r\n\r\nThe problem is that if there is no alert on the current state of the web page, it waits for a specific amount of time until the timeout is reached, then throws an exception and therefore the performance is really bad.\r\n\r\nIs there a better way, maybe an alert event handler which I can use for dynamically occurring alerts?","title":"Alert handling in Selenium WebDriver (selenium 2) with Java","body":"<p>I want to detect whether an alert is popped up or not. Currently I am using the following code:</p>\n\n<pre><code>    try {\n        Alert alert = webDriver.switchTo().alert();\n\n        // check if alert exists\n        // TODO find better way\n        alert.getText();\n\n        // alert handling\n        log().info(\"Alert detected: {}\" + alert.getText());\n        alert.accept();\n    } catch (Exception e) {\n    }\n</code></pre>\n\n<p>The problem is that if there is no alert on the current state of the web page, it waits for a specific amount of time until the timeout is reached, then throws an exception and therefore the performance is really bad.</p>\n\n<p>Is there a better way, maybe an alert event handler which I can use for dynamically occurring alerts?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688564362,"post_id":76620674,"comment_id":135090289,"body_markdown":"Please edit your question and add the full stack trace of the exception, from your server&#39;s log file.","body":"Please edit your question and add the full stack trace of the exception, from your server&#39;s log file."},{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":0,"creation_date":1688568857,"post_id":76620674,"comment_id":135091449,"body_markdown":"the whole stake is :  java.lang.NullPointerException: Cannot invoke &quot;java.util.List.get(int)&quot; because the return value of &quot;fr.dsidiff.pdf.client.model.response.PdfConvertAndSignResponse.getData()&quot; is null\n\nFrom server i do have nothing at all. Otherwise concerning 413, it&#39;s just an html page","body":"the whole stake is :  java.lang.NullPointerException: Cannot invoke &quot;java.util.List.get(int)&quot; because the return value of &quot;fr.dsidiff.pdf.client.model.response.PdfConvertAndSignRespo&zwnj;&#8203;nse.getData()&quot; is null  From server i do have nothing at all. Otherwise concerning 413, it&#39;s just an html page"}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688562606,"creation_date":1688562606,"question_id":76620674,"body_markdown":"I implemented an HTTP Client that can send payloads containing base 64 files. For small files I don&#39;t have any issues. On the other hand, when i try to send big files over 20Mo, I have error messages. For the application, I would not like to use MultiPart file, if i have the choice. \r\n\r\n**Here is my client implementation**\r\n\r\n    ObjectMapper objectMapper = MappersUtils.objectMapper();\r\n    String requestBody = objectMapper\r\n            .writerWithDefaultPrettyPrinter()\r\n            .writeValueAsString(request);\r\n\r\n    HttpRequest httpRequest = HttpRequest.newBuilder()\r\n            .uri(URI.create(url + certificateName))\r\n            .POST(HttpRequest.BodyPublishers.ofString(requestBody))\r\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n            .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n            .timeout(Duration.ofSeconds(600))\r\n            .build();\r\n\r\n    HttpClient httpClient = HttpClient.newBuilder()\r\n           .version(HttpClient.Version.HTTP_2)\r\n           .connectTimeout(Duration.ofSeconds(10))\r\n           .build();\r\n\r\n    CompletableFuture&lt;HttpResponse&lt;String&gt;&gt; response =\r\n            httpClient.sendAsync(httpRequest, HttpResponse.BodyHandlers.ofString());\r\n\r\n    String result = response.thenApply(HttpResponse::body).get(120, TimeUnit.SECONDS);\r\n    int statusCode = response.thenApply(HttpResponse::statusCode).get(120, TimeUnit.SECONDS);\r\n    System.out.println(result);\r\n    System.out.println(statusCode);\r\n    return objectMapper.readValue(result, PdfConvertAndSignResponse.class);\r\n\r\n**On the other side my API is using spring boot and receive an object that is handled.** \r\n\r\n\t@PostMapping(\r\n\t\t\tvalue = &quot;/convert-and-sign/{certificateName}&quot;,\r\n\t\t\tconsumes = {MediaType.APPLICATION_JSON_VALUE},\r\n\t\t\tproduces = {MediaType.APPLICATION_JSON_VALUE})\r\n\t@Operation(summary = &quot;Convert into PDF/A Level (if it&#39;s required) and sign it &quot;)\r\n\tpublic ResponseEntity&lt;PdfConvertAndSignResponse&gt; convertAndSign(@RequestBody @Length(max = Integer.MAX_VALUE - 1) PdfConvertAndSignRequest request,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@PathVariable String certificateName) throws PdfException {\r\n\t\tString entryPoint = getEntrypoint(ServletUriComponentsBuilder.fromCurrentRequestUri());\r\n\t\tLocalDateTime startedAt = LocalDateTime.now(GlobalConstants.ZONE_ID);\r\n\r\n\t\tLogDto logDto = LogBuilderUtils.logDtoBuilder(\r\n\t\t\t\trequest.getHeaderData().getService(),\r\n\t\t\t\tPdfConstants.WEBSERVICE,\r\n\t\t\t\tentryPoint,\r\n\t\t\t\tstartedAt,\r\n\t\t\t\tHttpVerbs.POST.name());\r\n\r\n\t\tCertificateEntity certificateEntity = certificateRepository.findByCertificateName(certificateName);\r\n\t\tif (certificateEntity != null) {\r\n\t\t\tString pwd = b64ToString(certificateEntity.getPassword());\r\n\t\t\tPdfConvertAndSignRequestData data = MappersUtils.modelMapper().map(certificateEntity, PdfConvertAndSignRequestData.class);\r\n\t\t\tdata.setPassword(pwd);\r\n\t\t\tList&lt;PdfConvertAndSignRequestData&gt; toProcess = new ArrayList&lt;&gt;();\r\n\t\t\tList&lt;PdfConvertAndSignRequestData&gt; currentData = request.getData();\r\n\t\t\tcurrentData.forEach(pdfSignRequestData -&gt; {\r\n\t\t\t\tdata.setPdf(pdfSignRequestData.getPdf());\r\n\t\t\t\ttoProcess.add(data);\r\n\t\t\t});\r\n\t\t\trequest.setData(toProcess);\r\n\t\t\treturn doConvertAndSign(request, logDto);\r\n\t\t} else {\r\n\t\t\tthrow new PdfSignRequestException(&quot;No certificate found&quot;, logDto);\r\n\t\t}\r\n\t}\r\n\r\n**Response :** \r\n\r\nHere is the response from my client when i call an application deployed in a tomcat server and when i call my webservice when a jar is running: \r\n\r\n    {&quot;type&quot;:&quot;about:blank&quot;,&quot;title&quot;:&quot;Bad Request&quot;,&quot;status&quot;:400,&quot;detail&quot;:&quot;Failed to read request&quot;,&quot;instance&quot;:&quot;/pdfmanager-ws/v1/convert-and-sign/mycertname&quot;}\r\n    400\r\n    \r\n    java.lang.NullPointerException: Cannot invoke &quot;java.util.List.get(int)&quot; because the return value of &quot;fr.dsidiff.pdf.client.model.response.PdfConvertAndSignResponse.getData()&quot; is null\r\n\r\n**On my deployment server I have a localhost_access_log file with the following content:** \r\n\r\n192.168.0.1 - - [05/Jul/2023:14:49:32 +0200] &quot;POST /pdfmanager-ws/v1/convert-and-sign/mycertname HTTP/1.1&quot; 400 161\r\n192.168.0.1 - - [05/Jul/2023:14:49:47 +0200] &quot;POST /pdfmanager-ws/v1/convert-and-sign/mycertname HTTP/1.1&quot; 400 161\r\n\r\nAt least i know my call is made. \r\n\r\n**Configuration in tomcat:**\r\nI updated server.xml configuration file in tomcat\r\n\r\n    &lt;Connector \tport=&quot;8090&quot; \r\n\t\t\t\tprotocol=&quot;HTTP/1.1&quot;\r\n\t\t\t\tmaxThreads=&quot;150&quot; \r\n\t\t\t\tconnectionTimeout=&quot;-1&quot;\r\n\t\t\t\tmaxPostSize=&quot;109951162777600&quot;\r\n\t\t\t\tmaxSwallowSize=&quot;109951162777600&quot;\r\n\t\t\t\tredirectPort=&quot;8443&quot; /&gt;\r\n\r\n**In application.properties:**\r\nAs i also run my application with embedded tomcat, I have a second app with the following application.properties content : \r\n\r\n    # maximum size of the request body/payload\r\n    server.tomcat.max-swallow-size=200MB\r\n    spring.servlet.multipart.max-file-size=200MB\r\n    # maximum size of entire POST request\r\n    server.tomcat.max-http-form-post-size=200MB\r\n    spring.servlet.multipart.max-request-size=200MB\r\n\r\n\r\nWith this configuration I have the same error response. If i add the folowing configuration: \r\n\r\n    server.http2.enabled=true\r\n\r\nI now obtain: HTTP Status 413 – Payload Too Large\r\n\r\nHow can i configure both application to send in json my payload without getting those errors ?\r\n\r\n","title":"Bad request with JSON Payload with Springboot","body":"<p>I implemented an HTTP Client that can send payloads containing base 64 files. For small files I don't have any issues. On the other hand, when i try to send big files over 20Mo, I have error messages. For the application, I would not like to use MultiPart file, if i have the choice.</p>\n<p><strong>Here is my client implementation</strong></p>\n<pre><code>ObjectMapper objectMapper = MappersUtils.objectMapper();\nString requestBody = objectMapper\n        .writerWithDefaultPrettyPrinter()\n        .writeValueAsString(request);\n\nHttpRequest httpRequest = HttpRequest.newBuilder()\n        .uri(URI.create(url + certificateName))\n        .POST(HttpRequest.BodyPublishers.ofString(requestBody))\n        .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        .header(&quot;Accept&quot;, &quot;application/json&quot;)\n        .timeout(Duration.ofSeconds(600))\n        .build();\n\nHttpClient httpClient = HttpClient.newBuilder()\n       .version(HttpClient.Version.HTTP_2)\n       .connectTimeout(Duration.ofSeconds(10))\n       .build();\n\nCompletableFuture&lt;HttpResponse&lt;String&gt;&gt; response =\n        httpClient.sendAsync(httpRequest, HttpResponse.BodyHandlers.ofString());\n\nString result = response.thenApply(HttpResponse::body).get(120, TimeUnit.SECONDS);\nint statusCode = response.thenApply(HttpResponse::statusCode).get(120, TimeUnit.SECONDS);\nSystem.out.println(result);\nSystem.out.println(statusCode);\nreturn objectMapper.readValue(result, PdfConvertAndSignResponse.class);\n</code></pre>\n<p><strong>On the other side my API is using spring boot and receive an object that is handled.</strong></p>\n<pre><code>@PostMapping(\n        value = &quot;/convert-and-sign/{certificateName}&quot;,\n        consumes = {MediaType.APPLICATION_JSON_VALUE},\n        produces = {MediaType.APPLICATION_JSON_VALUE})\n@Operation(summary = &quot;Convert into PDF/A Level (if it's required) and sign it &quot;)\npublic ResponseEntity&lt;PdfConvertAndSignResponse&gt; convertAndSign(@RequestBody @Length(max = Integer.MAX_VALUE - 1) PdfConvertAndSignRequest request,\n                                                                @PathVariable String certificateName) throws PdfException {\n    String entryPoint = getEntrypoint(ServletUriComponentsBuilder.fromCurrentRequestUri());\n    LocalDateTime startedAt = LocalDateTime.now(GlobalConstants.ZONE_ID);\n\n    LogDto logDto = LogBuilderUtils.logDtoBuilder(\n            request.getHeaderData().getService(),\n            PdfConstants.WEBSERVICE,\n            entryPoint,\n            startedAt,\n            HttpVerbs.POST.name());\n\n    CertificateEntity certificateEntity = certificateRepository.findByCertificateName(certificateName);\n    if (certificateEntity != null) {\n        String pwd = b64ToString(certificateEntity.getPassword());\n        PdfConvertAndSignRequestData data = MappersUtils.modelMapper().map(certificateEntity, PdfConvertAndSignRequestData.class);\n        data.setPassword(pwd);\n        List&lt;PdfConvertAndSignRequestData&gt; toProcess = new ArrayList&lt;&gt;();\n        List&lt;PdfConvertAndSignRequestData&gt; currentData = request.getData();\n        currentData.forEach(pdfSignRequestData -&gt; {\n            data.setPdf(pdfSignRequestData.getPdf());\n            toProcess.add(data);\n        });\n        request.setData(toProcess);\n        return doConvertAndSign(request, logDto);\n    } else {\n        throw new PdfSignRequestException(&quot;No certificate found&quot;, logDto);\n    }\n}\n</code></pre>\n<p><strong>Response :</strong></p>\n<p>Here is the response from my client when i call an application deployed in a tomcat server and when i call my webservice when a jar is running:</p>\n<pre><code>{&quot;type&quot;:&quot;about:blank&quot;,&quot;title&quot;:&quot;Bad Request&quot;,&quot;status&quot;:400,&quot;detail&quot;:&quot;Failed to read request&quot;,&quot;instance&quot;:&quot;/pdfmanager-ws/v1/convert-and-sign/mycertname&quot;}\n400\n\njava.lang.NullPointerException: Cannot invoke &quot;java.util.List.get(int)&quot; because the return value of &quot;fr.dsidiff.pdf.client.model.response.PdfConvertAndSignResponse.getData()&quot; is null\n</code></pre>\n<p><strong>On my deployment server I have a localhost_access_log file with the following content:</strong></p>\n<p>192.168.0.1 - - [05/Jul/2023:14:49:32 +0200] &quot;POST /pdfmanager-ws/v1/convert-and-sign/mycertname HTTP/1.1&quot; 400 161\n192.168.0.1 - - [05/Jul/2023:14:49:47 +0200] &quot;POST /pdfmanager-ws/v1/convert-and-sign/mycertname HTTP/1.1&quot; 400 161</p>\n<p>At least i know my call is made.</p>\n<p><strong>Configuration in tomcat:</strong>\nI updated server.xml configuration file in tomcat</p>\n<pre><code>&lt;Connector  port=&quot;8090&quot; \n            protocol=&quot;HTTP/1.1&quot;\n            maxThreads=&quot;150&quot; \n            connectionTimeout=&quot;-1&quot;\n            maxPostSize=&quot;109951162777600&quot;\n            maxSwallowSize=&quot;109951162777600&quot;\n            redirectPort=&quot;8443&quot; /&gt;\n</code></pre>\n<p><strong>In application.properties:</strong>\nAs i also run my application with embedded tomcat, I have a second app with the following application.properties content :</p>\n<pre><code># maximum size of the request body/payload\nserver.tomcat.max-swallow-size=200MB\nspring.servlet.multipart.max-file-size=200MB\n# maximum size of entire POST request\nserver.tomcat.max-http-form-post-size=200MB\nspring.servlet.multipart.max-request-size=200MB\n</code></pre>\n<p>With this configuration I have the same error response. If i add the folowing configuration:</p>\n<pre><code>server.http2.enabled=true\n</code></pre>\n<p>I now obtain: HTTP Status 413 – Payload Too Large</p>\n<p>How can i configure both application to send in json my payload without getting those errors ?</p>\n"},{"tags":["java","mysql","sql-insert"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1688561560,"post_id":76620518,"comment_id":135089517,"body_markdown":"Now would be a good time to learn about parameterized SQL. That will not only avoid this sort of problem, but will protect your app from SQL Injection Attacks. You might also want to look at the value of the `sql` variable in the debugger.","body":"Now would be a good time to learn about parameterized SQL. That will not only avoid this sort of problem, but will protect your app from SQL Injection Attacks. You might also want to look at the value of the <code>sql</code> variable in the debugger."},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1688561616,"post_id":76620518,"comment_id":135089535,"body_markdown":"If your column(s) data type is varchar, you need to have `&#39;` in your `values(`. Which you are missing.","body":"If your column(s) data type is varchar, you need to have <code>&#39;</code> in your <code>values(</code>. Which you are missing."},{"owner":{"account_id":14783924,"reputation":217619,"user_id":10676716,"display_name":"GMB"},"score":2,"creation_date":1688561622,"post_id":76620518,"comment_id":135089537,"body_markdown":"Use parameterized queries instead of concatenating variables into the query string! This is much safer (prevents SQL injection), and will avoid the problem you are currently facing.","body":"Use parameterized queries instead of concatenating variables into the query string! This is much safer (prevents SQL injection), and will avoid the problem you are currently facing."},{"owner":{"account_id":28828564,"reputation":5,"user_id":22079562,"display_name":"Kostadin Samardjiev"},"score":0,"creation_date":1688562479,"post_id":76620518,"comment_id":135089776,"body_markdown":"@PradeepSimha Thank you, the problem was the missing single quotes around one of the columns. :)","body":"@PradeepSimha Thank you, the problem was the missing single quotes around one of the columns. :)"}],"answers":[{"comments":[{"owner":{"account_id":28828564,"reputation":5,"user_id":22079562,"display_name":"Kostadin Samardjiev"},"score":0,"creation_date":1688563066,"post_id":76620594,"comment_id":135089927,"body_markdown":"Thanks, it works for the insertion. But may i ask why when i run the program again i cant use same user while  enter the same name and id, instead of that the program just duplicate it in the database? =/","body":"Thanks, it works for the insertion. But may i ask why when i run the program again i cant use same user while  enter the same name and id, instead of that the program just duplicate it in the database? =/"},{"owner":{"account_id":20040685,"reputation":16,"user_id":14691460,"display_name":"&#214;zg&#252;r Liman"},"score":0,"creation_date":1688563398,"post_id":76620594,"comment_id":135090017,"body_markdown":"You have to check and get the user information from database.... like...   ResultSet rs=stmt.executeQuery(&quot;SELECT * FROM &lt;tablename&gt; WHERE user=&#39;blabla&#39;&quot;)    and then get the password and check if it matches. and also get the related information... like money in the account... if (rs.next()) { String password=rs.getString(&quot;pass&quot;); }","body":"You have to check and get the user information from database.... like...   ResultSet rs=stmt.executeQuery(&quot;SELECT * FROM &lt;tablename&gt; WHERE user=&#39;blabla&#39;&quot;)    and then get the password and check if it matches. and also get the related information... like money in the account... if (rs.next()) { String password=rs.getString(&quot;pass&quot;); }"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688563902,"post_id":76620594,"comment_id":135090157,"body_markdown":"Please format your answer correctly.","body":"Please format your answer correctly."}],"tags":[],"owner":{"account_id":20040685,"reputation":16,"user_id":14691460,"display_name":"&#214;zg&#252;r Liman"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688561972,"creation_date":1688561972,"answer_id":76620594,"question_id":76620518,"body_markdown":"String sql = &quot;insert into users&quot; +\r\n                     &quot;(id, name, balance, transactions)&quot; +\r\n                     &quot;values (&quot; + customerID + &quot;, &#39;&quot; + customerName + &quot;&#39;, &quot; + balance + &quot;, &quot; + prevTransaction +&quot;)&quot;;\r\n\r\nYou have to use  &#39;  when inserting string. But it is better to user prepared statements. If the values you entered has already characters like &#39; .\r\n\r\nExample:\r\n sql=&quot;INSERT INTO raporlar (raporNo,hastaID,hastaTC,protokol,tarih,tur,tesiskod,tesis,takipno) &quot; +\r\n                            &quot;VALUES (?,?,?,?,?,?,?,?,?);&quot;;\r\n                    PreparedStatement ps = conn.prepareStatement(sql,Statement.RETURN_GENERATED_KEYS);\r\n                    ps.setString(1, raporno);ps.setInt(2, hastaID);\r\n                    ps.setString(3, hastatc);ps.setString(4, protokol);\r\n                    ps.setString(5, raporTarih);ps.setString(6, raporturu);\r\n                    ps.setString(7, hastanekod);ps.setString(8, hastaneadi);\r\n                    ps.setString(9, takipno);\r\n                    ps.execute();\r\n                    ResultSet generatedKeys = ps.getGeneratedKeys();\r\n                    if (generatedKeys.next()) {\r\n                        raporID=(generatedKeys.getInt(1));\r\n                    }\r\n","title":"How to insert into MySQL?","body":"<p>String sql = &quot;insert into users&quot; +\n&quot;(id, name, balance, transactions)&quot; +\n&quot;values (&quot; + customerID + &quot;, '&quot; + customerName + &quot;', &quot; + balance + &quot;, &quot; + prevTransaction +&quot;)&quot;;</p>\n<p>You have to use  '  when inserting string. But it is better to user prepared statements. If the values you entered has already characters like ' .</p>\n<p>Example:\nsql=&quot;INSERT INTO raporlar (raporNo,hastaID,hastaTC,protokol,tarih,tur,tesiskod,tesis,takipno) &quot; +\n&quot;VALUES (?,?,?,?,?,?,?,?,?);&quot;;\nPreparedStatement ps = conn.prepareStatement(sql,Statement.RETURN_GENERATED_KEYS);\nps.setString(1, raporno);ps.setInt(2, hastaID);\nps.setString(3, hastatc);ps.setString(4, protokol);\nps.setString(5, raporTarih);ps.setString(6, raporturu);\nps.setString(7, hastanekod);ps.setString(8, hastaneadi);\nps.setString(9, takipno);\nps.execute();\nResultSet generatedKeys = ps.getGeneratedKeys();\nif (generatedKeys.next()) {\nraporID=(generatedKeys.getInt(1));\n}</p>\n"}],"owner":{"account_id":28828564,"reputation":5,"user_id":22079562,"display_name":"Kostadin Samardjiev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688570850,"accepted_answer_id":76620594,"answer_count":1,"score":0,"last_activity_date":1688561972,"creation_date":1688561424,"question_id":76620518,"body_markdown":"guys. I learn java from few weeks and now i tried to insert my data from simple bank account application into MySQL table (the id and the name from the main class, and the balance and previous transaction from the other class). I want to save the balance and transactions when use particular name and id. This is my code:\r\n\r\n\r\n```\r\nimport java.sql.*;\r\nimport java.util.Scanner;\r\n\r\npublic class BankingApp {\r\n    public static void main(String[] args) {\r\n        \r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Enter your name: &quot;);\r\n        String name = sc.next();\r\n        System.out.print(&quot;Enter your ID: &quot;);\r\n        String id = sc.next();\r\n        \r\n        System.out.println();\r\n\r\n        BankAccount bankAcc = new BankAccount(name, id);\r\n        bankAcc.showMenu();\r\n\r\n        bankAcc.insert();\r\n\r\n        sc.close();\r\n    }\r\n}\r\n\r\nclass BankAccount {\r\n\r\n    float balance;\r\n    float prevTransaction;\r\n    String customerName;\r\n    String customerID;\r\n\r\n    BankAccount(String name, String id) {\r\n        customerName = name;\r\n        customerID = id;\r\n    }\r\n\r\n    void deposit(float amount) {\r\n\r\n        if (amount != 0) {\r\n            balance += amount;\r\n            prevTransaction = amount;\r\n        }\r\n    }\r\n\r\n    void withdraw(float amount) {\r\n\r\n        if (amount != 0) {\r\n            balance -= amount;\r\n            prevTransaction = -amount;\r\n        }\r\n    }\r\n\r\n    void getPreviousTransaction() {\r\n\r\n        if (prevTransaction &gt; 0) {\r\n            System.out.println(&quot;Deposited: &quot; + prevTransaction);\r\n        }\r\n        else if (prevTransaction &lt; 0) {\r\n            System.out.println(&quot;Withdrawn: &quot; + Math.abs(prevTransaction));\r\n        }\r\n        else {\r\n            System.out.println(&quot;No transaction is occured!&quot;);\r\n        }\r\n    }\r\n\r\n    void showMenu() {\r\n\r\n        char option = &#39;\\0&#39;;\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Welcome &quot; + customerName);\r\n        System.out.println(&quot;Your ID is: &quot; + customerID);\r\n        System.out.println();\r\n        System.out.println(&quot;A. Check Balance&quot;);\r\n        System.out.println(&quot;B. Deposit&quot;);\r\n        System.out.println(&quot;C. Withdraw&quot;);\r\n        System.out.println(&quot;D. Previous Transaction&quot;);\r\n        System.out.println(&quot;E. Exit&quot;);\r\n\r\n        do {\r\n            System.out.println(&quot;=========================&quot;);\r\n            System.out.println(&quot;Enter the option&quot;);\r\n            System.out.println(&quot;=========================&quot;);\r\n            option = sc.next().charAt(0);\r\n            Character.toUpperCase(option);\r\n\r\n            switch (option) {\r\n                case &#39;A&#39;:\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.println(&quot;Balance: &quot; + balance);\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.println();\r\n                    break;\r\n                \r\n                case &#39;B&#39;:\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.println(&quot;Enter the amount to deposit&quot;);\r\n                    System.out.println(&quot;============================&quot;);\r\n                    float amount = sc.nextFloat();\r\n                    deposit(amount);\r\n                    System.out.println();\r\n                    break;\r\n                \r\n                case &#39;C&#39;:\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.println(&quot;Enter the amount to withdraw&quot;);\r\n                    System.out.println(&quot;============================&quot;);\r\n                    float amount2 = sc.nextFloat();\r\n                    withdraw(amount2);\r\n                    System.out.println();\r\n                    break;\r\n\r\n                case &#39;D&#39;:\r\n                    System.out.println(&quot;============================&quot;);\r\n                    getPreviousTransaction();\r\n                    System.out.println(&quot;============================&quot;);\r\n                    System.out.println();\r\n                    break;\r\n\r\n                case &#39;E&#39;:\r\n                    System.out.println(&quot;============================&quot;);\r\n                    break;\r\n\r\n                default:\r\n                    System.out.println(&quot;Invalid Option! Please try again!&quot;);\r\n                    break;\r\n            }\r\n        \r\n        } while (option != &#39;E&#39;);\r\n    \r\n        sc.close();\r\n    } \r\n\r\n    public void insert() {\r\n\r\n        String myUrl = &quot;jdbc:mysql://localhost:3306/bankacc&quot;;\r\n        String db_id = &quot;root&quot;;\r\n        String db_pass = &quot;Ik32e23k&quot;;\r\n\r\n        Connection conn = null;\r\n        Statement stmt = null;\r\n\r\n        try {    \r\n        conn = DriverManager.getConnection(myUrl, db_id, db_pass);\r\n        stmt = conn.createStatement();\r\n            \r\n        String sql = &quot;insert into users&quot; +\r\n                     &quot;(id, name, balance, transactions)&quot; +\r\n                     &quot;values (&quot; + customerID + &quot;, &quot; + customerName + &quot;, &quot; + balance + &quot;, &quot; + prevTransaction +&quot;)&quot;;\r\n\r\n        stmt.executeUpdate(sql);    \r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                if (stmt != null)\r\n                    conn.close();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            try {\r\n                if (conn != null)\r\n                    conn.close();\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhen i tried to call my insert() method into the main method, i got the following error:\r\n\r\n&gt; java.sql.SQLSyntaxErrorException: Unknown column &#39;Koko&#39; in &#39;field list&#39;\r\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)\r\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n        at com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1334)\r\n        at com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2084)\r\n        at com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1245)\r\n        at BankAccount.insert(BankingApp.java:151)\r\n        at BankingApp.main(BankingApp.java:18)\r\n\r\nInstead of inserting my name into the table, the exception told me that my name is unknown column. I have only guesses where the problem could be coming from, but I have no idea how to do it. Can somebody explain me where is my bad? Thanks in advance!\r\n","title":"How to insert into MySQL?","body":"<p>guys. I learn java from few weeks and now i tried to insert my data from simple bank account application into MySQL table (the id and the name from the main class, and the balance and previous transaction from the other class). I want to save the balance and transactions when use particular name and id. This is my code:</p>\n<pre><code>import java.sql.*;\nimport java.util.Scanner;\n\npublic class BankingApp {\n    public static void main(String[] args) {\n        \n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter your name: &quot;);\n        String name = sc.next();\n        System.out.print(&quot;Enter your ID: &quot;);\n        String id = sc.next();\n        \n        System.out.println();\n\n        BankAccount bankAcc = new BankAccount(name, id);\n        bankAcc.showMenu();\n\n        bankAcc.insert();\n\n        sc.close();\n    }\n}\n\nclass BankAccount {\n\n    float balance;\n    float prevTransaction;\n    String customerName;\n    String customerID;\n\n    BankAccount(String name, String id) {\n        customerName = name;\n        customerID = id;\n    }\n\n    void deposit(float amount) {\n\n        if (amount != 0) {\n            balance += amount;\n            prevTransaction = amount;\n        }\n    }\n\n    void withdraw(float amount) {\n\n        if (amount != 0) {\n            balance -= amount;\n            prevTransaction = -amount;\n        }\n    }\n\n    void getPreviousTransaction() {\n\n        if (prevTransaction &gt; 0) {\n            System.out.println(&quot;Deposited: &quot; + prevTransaction);\n        }\n        else if (prevTransaction &lt; 0) {\n            System.out.println(&quot;Withdrawn: &quot; + Math.abs(prevTransaction));\n        }\n        else {\n            System.out.println(&quot;No transaction is occured!&quot;);\n        }\n    }\n\n    void showMenu() {\n\n        char option = '\\0';\n\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println(&quot;Welcome &quot; + customerName);\n        System.out.println(&quot;Your ID is: &quot; + customerID);\n        System.out.println();\n        System.out.println(&quot;A. Check Balance&quot;);\n        System.out.println(&quot;B. Deposit&quot;);\n        System.out.println(&quot;C. Withdraw&quot;);\n        System.out.println(&quot;D. Previous Transaction&quot;);\n        System.out.println(&quot;E. Exit&quot;);\n\n        do {\n            System.out.println(&quot;=========================&quot;);\n            System.out.println(&quot;Enter the option&quot;);\n            System.out.println(&quot;=========================&quot;);\n            option = sc.next().charAt(0);\n            Character.toUpperCase(option);\n\n            switch (option) {\n                case 'A':\n                    System.out.println(&quot;============================&quot;);\n                    System.out.println(&quot;Balance: &quot; + balance);\n                    System.out.println(&quot;============================&quot;);\n                    System.out.println();\n                    break;\n                \n                case 'B':\n                    System.out.println(&quot;============================&quot;);\n                    System.out.println(&quot;Enter the amount to deposit&quot;);\n                    System.out.println(&quot;============================&quot;);\n                    float amount = sc.nextFloat();\n                    deposit(amount);\n                    System.out.println();\n                    break;\n                \n                case 'C':\n                    System.out.println(&quot;============================&quot;);\n                    System.out.println(&quot;Enter the amount to withdraw&quot;);\n                    System.out.println(&quot;============================&quot;);\n                    float amount2 = sc.nextFloat();\n                    withdraw(amount2);\n                    System.out.println();\n                    break;\n\n                case 'D':\n                    System.out.println(&quot;============================&quot;);\n                    getPreviousTransaction();\n                    System.out.println(&quot;============================&quot;);\n                    System.out.println();\n                    break;\n\n                case 'E':\n                    System.out.println(&quot;============================&quot;);\n                    break;\n\n                default:\n                    System.out.println(&quot;Invalid Option! Please try again!&quot;);\n                    break;\n            }\n        \n        } while (option != 'E');\n    \n        sc.close();\n    } \n\n    public void insert() {\n\n        String myUrl = &quot;jdbc:mysql://localhost:3306/bankacc&quot;;\n        String db_id = &quot;root&quot;;\n        String db_pass = &quot;Ik32e23k&quot;;\n\n        Connection conn = null;\n        Statement stmt = null;\n\n        try {    \n        conn = DriverManager.getConnection(myUrl, db_id, db_pass);\n        stmt = conn.createStatement();\n            \n        String sql = &quot;insert into users&quot; +\n                     &quot;(id, name, balance, transactions)&quot; +\n                     &quot;values (&quot; + customerID + &quot;, &quot; + customerName + &quot;, &quot; + balance + &quot;, &quot; + prevTransaction +&quot;)&quot;;\n\n        stmt.executeUpdate(sql);    \n        } catch (SQLException e) {\n            e.printStackTrace();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                if (stmt != null)\n                    conn.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n            try {\n                if (conn != null)\n                    conn.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>When i tried to call my insert() method into the main method, i got the following error:</p>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException: Unknown column 'Koko' in 'field list'\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\nat com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1334)\nat com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2084)\nat com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1245)\nat BankAccount.insert(BankingApp.java:151)\nat BankingApp.main(BankingApp.java:18)</p>\n</blockquote>\n<p>Instead of inserting my name into the table, the exception told me that my name is unknown column. I have only guesses where the problem could be coming from, but I have no idea how to do it. Can somebody explain me where is my bad? Thanks in advance!</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":10641186,"reputation":221,"user_id":8581765,"display_name":"Max Lich"},"score":0,"creation_date":1688629059,"post_id":76620589,"comment_id":135099863,"body_markdown":"Thank you. I&#39;ll check it. It&#39;ll take some time.","body":"Thank you. I&#39;ll check it. It&#39;ll take some time."}],"tags":[],"owner":{"account_id":3169,"reputation":24414,"user_id":4510,"display_name":"Bas Leijdekkers"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688561932,"creation_date":1688561932,"answer_id":76620589,"question_id":76618791,"body_markdown":"Go to `Run | Edit Configurations` and click the `Edit configuration templates...` link in the left bottom. Uncheck `Use classpath on modules` there, and it will be unchecked by default when you create a new Run configuration. ","title":"How to set point &quot;Use classpath of module&quot; not checked by default in IntelliJ IDEA?","body":"<p>Go to <code>Run | Edit Configurations</code> and click the <code>Edit configuration templates...</code> link in the left bottom. Uncheck <code>Use classpath on modules</code> there, and it will be unchecked by default when you create a new Run configuration.</p>\n"}],"owner":{"account_id":10641186,"reputation":221,"user_id":8581765,"display_name":"Max Lich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688561932,"creation_date":1688548230,"question_id":76618791,"body_markdown":"To run applications, I constantly need to uncheck &quot;Use classpath on modules&quot;. Maybe someone knows a way to make it unchecked by default? \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/awEIY.png","title":"How to set point &quot;Use classpath of module&quot; not checked by default in IntelliJ IDEA?","body":"<p>To run applications, I constantly need to uncheck &quot;Use classpath on modules&quot;. Maybe someone knows a way to make it unchecked by default?\n<a href=\"https://i.stack.imgur.com/awEIY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/awEIY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":2399674,"reputation":2691,"user_id":2097675,"display_name":"JJF"},"score":1,"creation_date":1688562107,"post_id":76620556,"comment_id":135089669,"body_markdown":"I suspect you may be dealing with an occurrence of the XY problem: https://xyproblem.info/","body":"I suspect you may be dealing with an occurrence of the XY problem: <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xyproblem.info</a>"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1688562108,"post_id":76620556,"comment_id":135089672,"body_markdown":"If windows doesn&#39;t know that a file was changed, the file wasn&#39;t changed. There is either a bug in the program writing the file or in the the program scanning for new files.","body":"If windows doesn&#39;t know that a file was changed, the file wasn&#39;t changed. There is either a bug in the program writing the file or in the the program scanning for new files."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688579390,"post_id":76620556,"comment_id":135093833,"body_markdown":"Or may be the other program fault, or the file is locked. Do you know how the other program detects changes to files?","body":"Or may be the other program fault, or the file is locked. Do you know how the other program detects changes to files?"},{"owner":{"account_id":20040685,"reputation":16,"user_id":14691460,"display_name":"&#214;zg&#252;r Liman"},"score":0,"creation_date":1688580904,"post_id":76620556,"comment_id":135094142,"body_markdown":"I dont know how other program detects. When I create the file in the directory, it doesnt detect. I move the file from the directory to somewhere else and then re - move it to the directory, the other program detects the file correctly.  I also tried to create the file somewhere else and copy the file to the directory from java as explained above. Same result.","body":"I dont know how other program detects. When I create the file in the directory, it doesnt detect. I move the file from the directory to somewhere else and then re - move it to the directory, the other program detects the file correctly.  I also tried to create the file somewhere else and copy the file to the directory from java as explained above. Same result."}],"owner":{"account_id":20040685,"reputation":16,"user_id":14691460,"display_name":"&#214;zg&#252;r Liman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688561683,"creation_date":1688561683,"question_id":76620556,"body_markdown":"I have a java program that at some point creates a file in a certain directory.\r\nAnother program which is not written by me is detecting changes on this directory and acts accordingly.\r\n\r\nThe file created is a very small text file around 1KB.\r\n\r\nSometimes the program couldnt detect the new file.\r\nIf I copy the same file manually from windows, the program detects without a problem.\r\n\r\nIs there a way for me to tell windows.... &quot; LOOK! this file is created....&quot;  ?\r\n\r\nThanks\r\n\r\nI have tried with BufferedWriter , no change.\r\nI have tried with \r\n     String command=&quot;cmd /c copy &quot;+fileName+&quot; &quot;+fileNamefinal;\r\n     Runtime.getRuntime().exec(command);\r\n\r\nThe last one is better but still misses some files.","title":"Notify Windows of a file change made by Java","body":"<p>I have a java program that at some point creates a file in a certain directory.\nAnother program which is not written by me is detecting changes on this directory and acts accordingly.</p>\n<p>The file created is a very small text file around 1KB.</p>\n<p>Sometimes the program couldnt detect the new file.\nIf I copy the same file manually from windows, the program detects without a problem.</p>\n<p>Is there a way for me to tell windows.... &quot; LOOK! this file is created....&quot;  ?</p>\n<p>Thanks</p>\n<p>I have tried with BufferedWriter , no change.\nI have tried with\nString command=&quot;cmd /c copy &quot;+fileName+&quot; &quot;+fileNamefinal;\nRuntime.getRuntime().exec(command);</p>\n<p>The last one is better but still misses some files.</p>\n"},{"tags":["java","kotlin","encryption","cryptography","block-cipher"],"answers":[{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1688561493,"post_id":76615977,"comment_id":135089493,"body_markdown":"And, if the block cipher has not yet been implemented in Bouncy, then please consider contributing the code to the Bouncy Castle repository. You can ask at their dev mailing list or read the &quot;contributing&quot; section on the web site to find out how best to contribute.","body":"And, if the block cipher has not yet been implemented in Bouncy, then please consider contributing the code to the Bouncy Castle repository. You can ask at their dev mailing list or read the &quot;contributing&quot; section on the web site to find out how best to contribute."},{"owner":{"account_id":216810,"reputation":16567,"user_id":472270,"accept_rate":87,"display_name":"Barmaley"},"score":0,"creation_date":1688851893,"post_id":76615977,"comment_id":135130306,"body_markdown":"Excellent answer. Got it, thanx a lot!","body":"Excellent answer. Got it, thanx a lot!"}],"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688561661,"creation_date":1688506661,"answer_id":76615977,"question_id":76615575,"body_markdown":"It&#39;s probably best to first get the block cipher to adhere to the [`BlockCipher` interface](https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/BlockCipher.java) of the lightweight Bouncy Castle library. When you&#39;ve extended that then you can simply insert it into the constructor of [`GCMBlockCipher`](https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/modes/GCMBlockCipher.java). Beware that the block cipher *must* have a block size of 128 bit - 16 bytes - for it to work in GCM mode.\r\n\r\n---\r\n\r\nYou can do the same thing for CTR mode, and it may be better to start with that as the mode is much simpler so you won&#39;t get to do as much debugging if it fails for some reason. You won&#39;t find `CTRBlockCipher` as mode of operation though. The reason for that is that CTR is/was known under different names. You&#39;ll have to use the [`SICBlockCipher`](https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/modes/SICBlockCipher.java) instead.\r\n\r\nAs the documentation states:\r\n\r\n&gt; Implements the Segmented Integer Counter (SIC) mode on top of a simple block cipher. This mode is also known as CTR mode.\r\n\r\n---\r\n\r\nYou can use your own package name; as you can see the required functionality is &quot;public&quot; so extensions are possible.\r\n\r\n---\r\n\r\nOnce you&#39;ve got that going you can try and register the cipher and mode into the Bouncy Castle provider, or you can create your own provider. Creating a full `CipherSpi` (service provider implementation) is mainly useful if you want to use the block cipher in code that requires an instance of Java&#39;s `Cipher` class.","title":"Where can I find Java/Kotlin implementations of CTR or GCM block cipher modes?","body":"<p>It's probably best to first get the block cipher to adhere to the <a href=\"https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/BlockCipher.java\" rel=\"nofollow noreferrer\"><code>BlockCipher</code> interface</a> of the lightweight Bouncy Castle library. When you've extended that then you can simply insert it into the constructor of <a href=\"https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/modes/GCMBlockCipher.java\" rel=\"nofollow noreferrer\"><code>GCMBlockCipher</code></a>. Beware that the block cipher <em>must</em> have a block size of 128 bit - 16 bytes - for it to work in GCM mode.</p>\n<hr />\n<p>You can do the same thing for CTR mode, and it may be better to start with that as the mode is much simpler so you won't get to do as much debugging if it fails for some reason. You won't find <code>CTRBlockCipher</code> as mode of operation though. The reason for that is that CTR is/was known under different names. You'll have to use the <a href=\"https://github.com/bcgit/bc-java/blob/main/core/src/main/java/org/bouncycastle/crypto/modes/SICBlockCipher.java\" rel=\"nofollow noreferrer\"><code>SICBlockCipher</code></a> instead.</p>\n<p>As the documentation states:</p>\n<blockquote>\n<p>Implements the Segmented Integer Counter (SIC) mode on top of a simple block cipher. This mode is also known as CTR mode.</p>\n</blockquote>\n<hr />\n<p>You can use your own package name; as you can see the required functionality is &quot;public&quot; so extensions are possible.</p>\n<hr />\n<p>Once you've got that going you can try and register the cipher and mode into the Bouncy Castle provider, or you can create your own provider. Creating a full <code>CipherSpi</code> (service provider implementation) is mainly useful if you want to use the block cipher in code that requires an instance of Java's <code>Cipher</code> class.</p>\n"}],"owner":{"account_id":216810,"reputation":16567,"user_id":472270,"accept_rate":87,"display_name":"Barmaley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76615977,"answer_count":1,"score":2,"last_activity_date":1688561661,"creation_date":1688500814,"question_id":76615575,"body_markdown":"I have a task to implement pretty rare symmetric block cipher. It&#39;s unavailable in popular crypto providers like Bouncy Castle, Sun&#39;s JCE and even in GNU Crypto, so I can&#39;t use JCE approach.\r\n\r\nI got Java sources of this cipher for encryption/decryption of single block, but can&#39;t find where to find [CTR](https://www.cryptopp.com/wiki/CTR_Mode) or [GCM - Galois/Counter Mode](https://en.wikipedia.org/wiki/Galois/Counter_Mode)  implementations. Can anyone help me to find them?","title":"Where can I find Java/Kotlin implementations of CTR or GCM block cipher modes?","body":"<p>I have a task to implement pretty rare symmetric block cipher. It's unavailable in popular crypto providers like Bouncy Castle, Sun's JCE and even in GNU Crypto, so I can't use JCE approach.</p>\n<p>I got Java sources of this cipher for encryption/decryption of single block, but can't find where to find <a href=\"https://www.cryptopp.com/wiki/CTR_Mode\" rel=\"nofollow noreferrer\">CTR</a> or <a href=\"https://en.wikipedia.org/wiki/Galois/Counter_Mode\" rel=\"nofollow noreferrer\">GCM - Galois/Counter Mode</a>  implementations. Can anyone help me to find them?</p>\n"},{"tags":["java","redis","multi-tenant","spring-data-redis","lettuce"],"owner":{"account_id":16732316,"reputation":1,"user_id":12094346,"display_name":"Roshan Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688561654,"creation_date":1688529344,"question_id":76617009,"body_markdown":"I am using spring data redis to connect to standalone redis. I am using `LettuceConnectionFactory` to create initial connection with redis with default user but after connection has been established I want to connect to different user with redis on each request basically to achive ACL feature in redis. \r\n\r\n\r\nI created instance of `LettuceConnectionFactory` object for initial startup of application with following code.\r\n\r\n\r\n```java\r\n    @Bean\r\n    public RedisConnectionFactory connectionFactory() {\r\n        LettucePoolingClientConfiguration clientConfiguration = LettucePoolingClientConfiguration.builder().poolConfig(new GenericObjectPoolConfig()).build();\r\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration(&quot;localhost&quot;, 6379);\r\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(redisStandaloneConfiguration, clientConfiguration);\r\n        return new MultiTenantDatabaseConnection(redisStandaloneConfiguration, lettuceConnectionFactory);\r\n    }\r\n```\r\n\r\n\r\n```java\r\npublic class MultiTenantDatabaseConnection extends LettuceConnectionFactory {\r\n\r\n    private final LettuceConnectionFactory lettuceConnectionFactory;\r\n\r\n    public MultiTenantDatabaseConnection(RedisConfiguration redisConfiguration, LettuceConnectionFactory lettuceConnectionFactory) {\r\n        super(redisConfiguration);\r\n        this.lettuceConnectionFactory = lettuceConnectionFactory;\r\n    }\r\n\r\n    @Override\r\n    public RedisConnection getConnection() {\r\n        String userName = &quot;****&quot;;\r\n        String password = &quot;****&quot;;\r\n        if (Objects.nonNull(TenantContext.getTenant().get())) {\r\n           userName = TenantContext.getTenant().get().getUserId();\r\n           password = TenantContext.getTenant().get().getPassword();\r\n        }\r\n        RedisURI localhost = RedisURI.create(&quot;localhost&quot;, 6379);\r\n        localhost.setUsername(userName);\r\n        localhost.setPassword(password.toCharArray());\r\n\r\n        return new CustomLettuceConnection(2000, RedisClient.create(localhost));\r\n    }\r\n}\r\n```\r\n\r\nthis code snippet is creating new instance of lettuce connection on each http request but I think I am not following framework pattern to create connection and I am not even using LettuceConnectionFactory object. I tried every implementation to create new connection with existing LettuceConnectionFactory object but I am getting nowhere.\r\n\r\n**I am getting below warning with above code snippet**\r\n\r\n```\r\n2023-07-04 18:49:44.054  WARN 31175 --- [      Finalizer] i.l.c.resource.DefaultClientResources    : io.lettuce.core.resource.DefaultClientResources was not shut down properly, shutdown() was not called before it&#39;s garbage-collected. Call shutdown() or shutdown(long,long,TimeUnit)\r\n```\r\n\r\n**I tried below method also but I think this is also wrong**\r\n\r\n\r\n```\r\n    @Override\r\n    public RedisConnection getConnection() {\r\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(standaloneConfiguration);\r\n        lettuceConnectionFactory.afterPropertiesSet();\r\n        return lettuceConnectionFactory.getConnection();\r\n    }\r\n```\r\n\r\n\r\n","title":"how to create new connection with redis on each request with username and password using spring data redis?","body":"<p>I am using spring data redis to connect to standalone redis. I am using <code>LettuceConnectionFactory</code> to create initial connection with redis with default user but after connection has been established I want to connect to different user with redis on each request basically to achive ACL feature in redis.</p>\n<p>I created instance of <code>LettuceConnectionFactory</code> object for initial startup of application with following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public RedisConnectionFactory connectionFactory() {\n        LettucePoolingClientConfiguration clientConfiguration = LettucePoolingClientConfiguration.builder().poolConfig(new GenericObjectPoolConfig()).build();\n        RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration(&quot;localhost&quot;, 6379);\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(redisStandaloneConfiguration, clientConfiguration);\n        return new MultiTenantDatabaseConnection(redisStandaloneConfiguration, lettuceConnectionFactory);\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MultiTenantDatabaseConnection extends LettuceConnectionFactory {\n\n    private final LettuceConnectionFactory lettuceConnectionFactory;\n\n    public MultiTenantDatabaseConnection(RedisConfiguration redisConfiguration, LettuceConnectionFactory lettuceConnectionFactory) {\n        super(redisConfiguration);\n        this.lettuceConnectionFactory = lettuceConnectionFactory;\n    }\n\n    @Override\n    public RedisConnection getConnection() {\n        String userName = &quot;****&quot;;\n        String password = &quot;****&quot;;\n        if (Objects.nonNull(TenantContext.getTenant().get())) {\n           userName = TenantContext.getTenant().get().getUserId();\n           password = TenantContext.getTenant().get().getPassword();\n        }\n        RedisURI localhost = RedisURI.create(&quot;localhost&quot;, 6379);\n        localhost.setUsername(userName);\n        localhost.setPassword(password.toCharArray());\n\n        return new CustomLettuceConnection(2000, RedisClient.create(localhost));\n    }\n}\n</code></pre>\n<p>this code snippet is creating new instance of lettuce connection on each http request but I think I am not following framework pattern to create connection and I am not even using LettuceConnectionFactory object. I tried every implementation to create new connection with existing LettuceConnectionFactory object but I am getting nowhere.</p>\n<p><strong>I am getting below warning with above code snippet</strong></p>\n<pre><code>2023-07-04 18:49:44.054  WARN 31175 --- [      Finalizer] i.l.c.resource.DefaultClientResources    : io.lettuce.core.resource.DefaultClientResources was not shut down properly, shutdown() was not called before it's garbage-collected. Call shutdown() or shutdown(long,long,TimeUnit)\n</code></pre>\n<p><strong>I tried below method also but I think this is also wrong</strong></p>\n<pre><code>    @Override\n    public RedisConnection getConnection() {\n        LettuceConnectionFactory lettuceConnectionFactory = new LettuceConnectionFactory(standaloneConfiguration);\n        lettuceConnectionFactory.afterPropertiesSet();\n        return lettuceConnectionFactory.getConnection();\n    }\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1522768297,"post_id":49633462,"comment_id":86274288,"body_markdown":"I&#39;m voting to close this question as off-topic because questions about working code belong on [Code Review](https://codereview.stackexchange.com/).","body":"I&#39;m voting to close this question as off-topic because questions about working code belong on <a href=\"https://codereview.stackexchange.com/\">Code Review</a>."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1522768392,"post_id":49633462,"comment_id":86274353,"body_markdown":"Since this is your methods `func1` and `func2`, one of the ways you can beautify this is by having a third method which would act as a predicate filter.","body":"Since this is your methods <code>func1</code> and <code>func2</code>, one of the ways you can beautify this is by having a third method which would act as a predicate filter."}],"answers":[{"comments":[{"owner":{"account_id":10051238,"reputation":486,"user_id":7430994,"display_name":"FrederikVH"},"score":2,"creation_date":1522769208,"post_id":49633734,"comment_id":86274934,"body_markdown":"Won&#39;t this cause func1 and func2 to be evaluated twice for each foo?","body":"Won&#39;t this cause func1 and func2 to be evaluated twice for each foo?"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":2,"creation_date":1522769440,"post_id":49633734,"comment_id":86275098,"body_markdown":"@FrederikVH  Evaluating something twice may be a issue but I would sacrifice the readability only as required.","body":"@FrederikVH  Evaluating something twice may be a issue but I would sacrifice the readability only as required."}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522769715,"creation_date":1522769048,"answer_id":49633734,"question_id":49633462,"body_markdown":"You could create a `isFunc1AndFunc2NotNull()` method in the current class :\r\n\r\n    boolean isFunc1AndFunc2NotNull(Foo foo){\r\n       return func1(foo) != null &amp;&amp; func2(foo) != null;\r\n    }\r\n\r\nAnd change your stream as :\r\n\r\n    stream.filter(this::isFunc1AndFunc2NotNull)\r\n          .collect(Collectors.toMap(this::func1, this::func2));","title":"Collect to map skipping null key/values","body":"<p>You could create a <code>isFunc1AndFunc2NotNull()</code> method in the current class :</p>\n\n<pre><code>boolean isFunc1AndFunc2NotNull(Foo foo){\n   return func1(foo) != null &amp;&amp; func2(foo) != null;\n}\n</code></pre>\n\n<p>And change your stream as :</p>\n\n<pre><code>stream.filter(this::isFunc1AndFunc2NotNull)\n      .collect(Collectors.toMap(this::func1, this::func2));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10051238,"reputation":486,"user_id":7430994,"display_name":"FrederikVH"},"score":0,"creation_date":1522769181,"post_id":49633746,"comment_id":86274914,"body_markdown":"@Michael I&#39;d steer away from any javafx imports tbh","body":"@Michael I&#39;d steer away from any javafx imports tbh"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1522769245,"post_id":49633746,"comment_id":86274961,"body_markdown":"@FrederikVH It&#39;s fine for the time being, though it&#39;ll be decoupled from the JDK in JDK 11.","body":"@FrederikVH It&#39;s fine for the time being, though it&#39;ll be decoupled from the JDK in JDK 11."},{"owner":{"account_id":10051238,"reputation":486,"user_id":7430994,"display_name":"FrederikVH"},"score":0,"creation_date":1522769286,"post_id":49633746,"comment_id":86274993,"body_markdown":"@Michael Yeah that&#39;s what I was thinking, we&#39;re on the same page :)","body":"@Michael Yeah that&#39;s what I was thinking, we&#39;re on the same page :)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1522769330,"post_id":49633746,"comment_id":86275025,"body_markdown":"@Michael starting with Java&#160;9, you can use the much simpler `Map.entry(…)`. I’ve added a note to the answer. It’s not only shorter in source code, the result being [value-based](https://docs.oracle.com/javase/9/docs/api/java/lang/doc-files/ValueBased.html) makes it even more suitable for temporary objects.","body":"@Michael starting with Java 9, you can use the much simpler <code>Map.entry(…)</code>. I’ve added a note to the answer. It’s not only shorter in source code, the result being <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/doc-files/ValueBased.html\" rel=\"nofollow noreferrer\">value-based</a> makes it even more suitable for temporary objects."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1522769913,"post_id":49633746,"comment_id":86275407,"body_markdown":"Good shout. `Map.entry` is the best of both worlds.","body":"Good shout. <code>Map.entry</code> is the best of both worlds."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1522771035,"post_id":49633746,"comment_id":86276126,"body_markdown":"@Holger in your second example,  should you not filter null values before collecting to prevent `NullPointerException`:  `.filter(Objects::nonNull).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));` ?","body":"@Holger in your second example,  should you not filter null values before collecting to prevent <code>NullPointerException</code>:  <code>.filter(Objects::nonNull).collect(Collectors.toMap(Map.Entry&zwnj;&#8203;::getKey, Map.Entry::getValue));</code> ?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1522771220,"post_id":49633746,"comment_id":86276265,"body_markdown":"@davidxxx not necessary in the case of [`flatMap`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-) which maps to a stream, not an element: “*If a mapped stream is `null` an empty stream is used, instead.*”","body":"@davidxxx not necessary in the case of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>flatMap</code></a> which maps to a stream, not an element: “<i>If a mapped stream is <code>null</code> an empty stream is used, instead.</i>”"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1522771327,"post_id":49633746,"comment_id":86276332,"body_markdown":"@Holger  I would have looked in the documentation before :) Thanks for the reference.","body":"@Holger  I would have looked in the documentation before :) Thanks for the reference."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":8,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1688561099,"creation_date":1522769077,"answer_id":49633746,"question_id":49633462,"body_markdown":"If you want to avoid evaluating the functions `func1` and `func2` twice, you have to store the results. E.g.\r\n\r\n    stream.map(t -&gt; new AbstractMap.SimpleImmutableEntry&lt;&gt;(func1(t), func2(t))\r\n          .filter(e -&gt; e.getKey()!=null &amp;&amp; e.getValue()!=null)\r\n          .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\nThis doesn’t make the code shorter and even the efficiency depends on the circumstances. This change pays off, if the costs of evaluating the `func1` and `func2` are high enough to compensate the creation of temporary objects. In principle, the temporary object could get optimized away, but this isn’t guaranteed.\r\n\r\nStarting with Java&#160;9, you can replace `new AbstractMap.SimpleImmutableEntry&lt;&gt;(…)` with [`Map.entry(…)`](https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-). Since this entry type disallows `null` right from the start, it would need filtering before constructing the entry:\r\n\r\n    stream.flatMap(t -&gt; {\r\n       Type1 value1 = func1(t);\r\n       Type2 value2 = func2(t);\r\n       return value1!=null &amp;&amp; value2!=null? Stream.of(Map.entry(value1, value2)): null;\r\n     })\r\n     .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\nAlternatively, you may use a pair type of one of the libraries you’re already using (the Java API itself doesn’t offer such a type).\r\n\r\n---\r\n\r\nAnother (probably the most efficient) alternative is a custom collector:\r\n\r\n```java\r\nstream.collect(HashMap::new,\r\n    (m, o) -&gt; {\r\n      Type1 key   = func1(o);\r\n      Type2 value = func2(o);\r\n      if(key != null &amp;&amp; value != null) m.put(key, value);\r\n    },\r\n    Map::putAll);\r\n```\r\n\r\nNote that this collector, unlike the original `toMap` collector, doesn’t check for duplicates. But such a check could be added without problems.\r\n","title":"Collect to map skipping null key/values","body":"<p>If you want to avoid evaluating the functions <code>func1</code> and <code>func2</code> twice, you have to store the results. E.g.</p>\n<pre><code>stream.map(t -&gt; new AbstractMap.SimpleImmutableEntry&lt;&gt;(func1(t), func2(t))\n      .filter(e -&gt; e.getKey()!=null &amp;&amp; e.getValue()!=null)\n      .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n<p>This doesn’t make the code shorter and even the efficiency depends on the circumstances. This change pays off, if the costs of evaluating the <code>func1</code> and <code>func2</code> are high enough to compensate the creation of temporary objects. In principle, the temporary object could get optimized away, but this isn’t guaranteed.</p>\n<p>Starting with Java 9, you can replace <code>new AbstractMap.SimpleImmutableEntry&lt;&gt;(…)</code> with <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#entry-K-V-\" rel=\"nofollow noreferrer\"><code>Map.entry(…)</code></a>. Since this entry type disallows <code>null</code> right from the start, it would need filtering before constructing the entry:</p>\n<pre><code>stream.flatMap(t -&gt; {\n   Type1 value1 = func1(t);\n   Type2 value2 = func2(t);\n   return value1!=null &amp;&amp; value2!=null? Stream.of(Map.entry(value1, value2)): null;\n })\n .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n<p>Alternatively, you may use a pair type of one of the libraries you’re already using (the Java API itself doesn’t offer such a type).</p>\n<hr />\n<p>Another (probably the most efficient) alternative is a custom collector:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stream.collect(HashMap::new,\n    (m, o) -&gt; {\n      Type1 key   = func1(o);\n      Type2 value = func2(o);\n      if(key != null &amp;&amp; value != null) m.put(key, value);\n    },\n    Map::putAll);\n</code></pre>\n<p>Note that this collector, unlike the original <code>toMap</code> collector, doesn’t check for duplicates. But such a check could be added without problems.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1522770468,"post_id":49633962,"comment_id":86275765,"body_markdown":"You could also implement `doFuncs` as `return Optional.ofNullable(func1(foo)) \n .flatMap(v1 -&gt; Optional.ofNullable(func2(foo)).map(v2 -&gt; new Pair&lt;&gt;(v1, v2)));`; this would also harmonize with `Map.entry`, as both values are already guaranteed to be non-`null` when the pair/entry is constructed.","body":"You could also implement <code>doFuncs</code> as <code>return Optional.ofNullable(func1(foo))   .flatMap(v1 -&gt; Optional.ofNullable(func2(foo)).map(v2 -&gt; new Pair&lt;&gt;(v1, v2)));</code>; this would also harmonize with <code>Map.entry</code>, as both values are already guaranteed to be non-<code>null</code> when the pair/entry is constructed."}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1522769735,"creation_date":1522769735,"answer_id":49633962,"question_id":49633462,"body_markdown":"Another way to avoid evaluating the functions twice. Use [a pair class of your choice](https://stackoverflow.com/questions/521171/a-java-collection-of-value-pairs-tuples). Not as concise as [Holger&#39;s](https://stackoverflow.com/questions/49633462/collect-to-map-skipping-null-key-values/49633746#49633746) but it&#39;s a little less dense which can be easier to read.\r\n\r\n    stream.map(A::doFuncs)\r\n        .flatMap(Optional::stream)\r\n        .collect(Collectors.toMap(Pair::getKey, Pair::getValue));\r\n    \r\n    private static Optional&lt;Pair&lt;Bar, Baz&gt;&gt; doFuncs(Foo foo)\r\n    {\r\n        final Bar bar = func1(foo);\r\n        final Baz baz = func2(foo);\r\n        if (bar == null || baz == null) return Optional.empty();\r\n        return Optional.of(new Pair&lt;&gt;(bar, baz));\r\n    }\r\n\r\n(Choose proper names - I didn&#39;t know what types you were using)","title":"Collect to map skipping null key/values","body":"<p>Another way to avoid evaluating the functions twice. Use <a href=\"https://stackoverflow.com/questions/521171/a-java-collection-of-value-pairs-tuples\">a pair class of your choice</a>. Not as concise as <a href=\"https://stackoverflow.com/questions/49633462/collect-to-map-skipping-null-key-values/49633746#49633746\">Holger's</a> but it's a little less dense which can be easier to read.</p>\n\n<pre><code>stream.map(A::doFuncs)\n    .flatMap(Optional::stream)\n    .collect(Collectors.toMap(Pair::getKey, Pair::getValue));\n\nprivate static Optional&lt;Pair&lt;Bar, Baz&gt;&gt; doFuncs(Foo foo)\n{\n    final Bar bar = func1(foo);\n    final Baz baz = func2(foo);\n    if (bar == null || baz == null) return Optional.empty();\n    return Optional.of(new Pair&lt;&gt;(bar, baz));\n}\n</code></pre>\n\n<p>(Choose proper names - I didn't know what types you were using)</p>\n"},{"tags":[],"owner":{"account_id":3242704,"reputation":13438,"user_id":2735286,"accept_rate":89,"display_name":"gil.fernandes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522771458,"creation_date":1522771458,"answer_id":49634509,"question_id":49633462,"body_markdown":"This is a naive solution, but does not call functions twice and does not create extra objects:\r\n\r\n    List&lt;Integer&gt; ints = Arrays.asList(1, null, 2, null, 3);\r\n    Map&lt;Integer, Integer&gt; res = ints.stream().collect(LinkedHashMap::new, (lhm, i) -&gt; {\r\n        final Integer integer1 = func1(i);\r\n        final Integer integer2 = func2(i);\r\n        if(integer1 !=  null &amp;&amp; integer2 != null) {\r\n            lhm.put(integer1, integer2);\r\n        }\r\n    }, (lhm1, lhm2) -&gt; {});","title":"Collect to map skipping null key/values","body":"<p>This is a naive solution, but does not call functions twice and does not create extra objects:</p>\n\n<pre><code>List&lt;Integer&gt; ints = Arrays.asList(1, null, 2, null, 3);\nMap&lt;Integer, Integer&gt; res = ints.stream().collect(LinkedHashMap::new, (lhm, i) -&gt; {\n    final Integer integer1 = func1(i);\n    final Integer integer2 = func2(i);\n    if(integer1 !=  null &amp;&amp; integer2 != null) {\n        lhm.put(integer1, integer2);\n    }\n}, (lhm1, lhm2) -&gt; {});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4158942,"reputation":1091,"user_id":3409441,"accept_rate":100,"display_name":"Terran"},"score":0,"creation_date":1618822164,"post_id":49634611,"comment_id":118709281,"body_markdown":"Better name of memoize is memleak.","body":"Better name of memoize is memleak."},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":0,"creation_date":1618835778,"post_id":49634611,"comment_id":118715141,"body_markdown":"@Terran Agreed, you shouldn&#39;t forget those things there","body":"@Terran Agreed, you shouldn&#39;t forget those things there"}],"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1522772370,"creation_date":1522771820,"answer_id":49634611,"question_id":49633462,"body_markdown":"One option is to do as in the other answers, i.e. use a `Pair` type, or an implementation of `Map.Entry`. Another approach used in functional programming would be to [*memoize*][1] the functions. According to Wikipedia:\r\n\r\n&gt;memoization or memoisation is an optimization technique used primarily to speed up computer programs by storing the results of expensive function calls and returning the cached result when the same inputs occur again.\r\n\r\nSo you could do it by caching the results of the functions in maps:\r\n\r\n    public static &lt;K, V&gt; Function&lt;K, V&gt; memoize(Function&lt;K, V&gt; f) {\r\n        Map&lt;K, V&gt; map = new HashMap&lt;&gt;();\r\n        return k -&gt; map.computeIfAbsent(k, f);\r\n    }\r\n\r\nThen, use the memoized functions in the stream:\r\n\r\n    Function&lt;E, K&gt; memoizedFunc1 = memoize(this::func1);\r\n    Function&lt;E, V&gt; memoizedFunc2 = memoize(this::func2);\r\n\r\n    stream.filter(t -&gt; memoizedFunc1.apply(t) != null)\r\n        .filter(t -&gt; memoizedFunc2.apply(t) != null)\r\n        .collect(Collectors.toMap(memoizedFunc1, memoizedFunc2));\r\n\r\nHere `E` stands for the type of the elements of the stream, `K` stands for the type returned by `func1` (which is the type of the keys of the map) and `V` stands for the type returned by `func2` (which is the type of the values of the map).\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Memoization","title":"Collect to map skipping null key/values","body":"<p>One option is to do as in the other answers, i.e. use a <code>Pair</code> type, or an implementation of <code>Map.Entry</code>. Another approach used in functional programming would be to <a href=\"https://en.wikipedia.org/wiki/Memoization\" rel=\"nofollow noreferrer\"><em>memoize</em></a> the functions. According to Wikipedia:</p>\n\n<blockquote>\n  <p>memoization or memoisation is an optimization technique used primarily to speed up computer programs by storing the results of expensive function calls and returning the cached result when the same inputs occur again.</p>\n</blockquote>\n\n<p>So you could do it by caching the results of the functions in maps:</p>\n\n<pre><code>public static &lt;K, V&gt; Function&lt;K, V&gt; memoize(Function&lt;K, V&gt; f) {\n    Map&lt;K, V&gt; map = new HashMap&lt;&gt;();\n    return k -&gt; map.computeIfAbsent(k, f);\n}\n</code></pre>\n\n<p>Then, use the memoized functions in the stream:</p>\n\n<pre><code>Function&lt;E, K&gt; memoizedFunc1 = memoize(this::func1);\nFunction&lt;E, V&gt; memoizedFunc2 = memoize(this::func2);\n\nstream.filter(t -&gt; memoizedFunc1.apply(t) != null)\n    .filter(t -&gt; memoizedFunc2.apply(t) != null)\n    .collect(Collectors.toMap(memoizedFunc1, memoizedFunc2));\n</code></pre>\n\n<p>Here <code>E</code> stands for the type of the elements of the stream, <code>K</code> stands for the type returned by <code>func1</code> (which is the type of the keys of the map) and <code>V</code> stands for the type returned by <code>func2</code> (which is the type of the values of the map).</p>\n"}],"owner":{"account_id":4842280,"reputation":473,"user_id":3907006,"accept_rate":33,"display_name":"Joel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17536,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":49633746,"answer_count":5,"score":15,"last_activity_date":1688561099,"creation_date":1522768172,"question_id":49633462,"body_markdown":"Let&#39;s say I have some stream and want to collect to map like this\r\n\r\n    stream.collect(Collectors.toMap(this::func1, this::func2));\r\n\r\nBut I want to skip null keys/values. Of course, I can do like this\r\n\r\n    stream.filter(t -&gt; func1(t) != null)\r\n        .filter(t -&gt; func2(t) != null)\r\n        .collect(Collectors.toMap(this::func1, this::func2));\r\nBut is there more beautiful/effective solution?","title":"Collect to map skipping null key/values","body":"<p>Let's say I have some stream and want to collect to map like this</p>\n\n<pre><code>stream.collect(Collectors.toMap(this::func1, this::func2));\n</code></pre>\n\n<p>But I want to skip null keys/values. Of course, I can do like this</p>\n\n<pre><code>stream.filter(t -&gt; func1(t) != null)\n    .filter(t -&gt; func2(t) != null)\n    .collect(Collectors.toMap(this::func1, this::func2));\n</code></pre>\n\n<p>But is there more beautiful/effective solution?</p>\n"},{"tags":["java","spring-boot","eclipse","maven","java-20"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1688564190,"post_id":76620447,"comment_id":135090245,"body_markdown":"Why not update the entire Eclipse?","body":"Why not update the entire Eclipse?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1688566008,"post_id":76620447,"comment_id":135090744,"body_markdown":"You need to use the latest Eclipse 2023-06 to get support for the Java 20 compliance level.","body":"You need to use the latest Eclipse 2023-06 to get support for the Java 20 compliance level."}],"owner":{"account_id":18735729,"reputation":1,"user_id":22178985,"display_name":"Dario Garcia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688561032,"answer_count":0,"score":0,"last_activity_date":1688560897,"creation_date":1688560897,"question_id":76620447,"body_markdown":"I have a project in spring boot (maven) that tries to start, but gives me a version error\r\n\r\nConsole:\r\n\r\n`Error: LinkageError occurred while loading main class com.demoJwt.DemoJwtApplication \tjava.lang.UnsupportedClassVersionError: com/demoJwt/DemoJwtApplication (class file version 59.65535) was compiled with preview features that are unsupported. This version of the Java Runtime only recognizes preview features for class file version 64.65535`\r\n\r\n[Java Build Path](https://i.stack.imgur.com/v2Bil.png)\r\n\r\n[Java Compiler](https://i.stack.imgur.com/FkIx4.png) (I can&#39;t find anything more current than version 15)\r\n\r\nI want to update the Java Compiler version to version 20 to avoid the error when starting the maven project.","title":"UnsupportedClassVersionError How to update compiler in eclipse?","body":"<p>I have a project in spring boot (maven) that tries to start, but gives me a version error</p>\n<p>Console:</p>\n<p><code>Error: LinkageError occurred while loading main class com.demoJwt.DemoJwtApplication   java.lang.UnsupportedClassVersionError: com/demoJwt/DemoJwtApplication (class file version 59.65535) was compiled with preview features that are unsupported. This version of the Java Runtime only recognizes preview features for class file version 64.65535</code></p>\n<p><a href=\"https://i.stack.imgur.com/v2Bil.png\" rel=\"nofollow noreferrer\">Java Build Path</a></p>\n<p><a href=\"https://i.stack.imgur.com/FkIx4.png\" rel=\"nofollow noreferrer\">Java Compiler</a> (I can't find anything more current than version 15)</p>\n<p>I want to update the Java Compiler version to version 20 to avoid the error when starting the maven project.</p>\n"},{"tags":["java","android","android-networking","networkonmainthread"],"comments":[{"owner":{"account_id":1436044,"reputation":1061,"user_id":1357390,"display_name":"Adrian Monk"},"score":139,"creation_date":1344343126,"post_id":6343166,"comment_id":15753428,"body_markdown":"[**Read this blog post**](http://www.androiddesignpatterns.com/2012/06/app-force-close-honeycomb-ics.html) on the NetworkOnMainThreadException for more information. It explains why this occurs on Android 3.0 and above.","body":"<a href=\"http://www.androiddesignpatterns.com/2012/06/app-force-close-honeycomb-ics.html\" rel=\"nofollow noreferrer\"><b>Read this blog post</b></a> on the NetworkOnMainThreadException for more information. It explains why this occurs on Android 3.0 and above."},{"owner":{"account_id":1676941,"reputation":498,"user_id":1542237,"accept_rate":50,"display_name":"Anuj Sharma"},"score":6,"creation_date":1390459151,"post_id":6343166,"comment_id":32102445,"body_markdown":"To be on rite track first read about the Network Requests in android then i would recommend to study &quot;Volley&quot;.","body":"To be on rite track first read about the Network Requests in android then i would recommend to study &quot;Volley&quot;."},{"owner":{"account_id":355044,"reputation":37880,"user_id":693752,"accept_rate":63,"display_name":"Snicolas"},"score":3,"creation_date":1392159324,"post_id":6343166,"comment_id":32836328,"body_markdown":"There are many alternative libraries that solve this issue. Many are listed [at the bottom of this page](https://github.com/octo-online/robospice/blob/release/README.md#alternatives-to-robospice-). If you got more, we take them :)","body":"There are many alternative libraries that solve this issue. Many are listed <a href=\"https://github.com/octo-online/robospice/blob/release/README.md#alternatives-to-robospice-\" rel=\"nofollow noreferrer\">at the bottom of this page</a>. If you got more, we take them :)"},{"owner":{"account_id":47708,"reputation":3213,"user_id":141437,"accept_rate":88,"display_name":"Jay"},"score":0,"creation_date":1511131878,"post_id":6343166,"comment_id":81718447,"body_markdown":"&quot;Due to a bug in previous versions of Android, the system did not flag writing to a TCP socket on the main thread as a strict-mode violation. Android 7.0 fixes this bug. Apps that exhibit this behavior now throw an android.os.NetworkOnMainThreadException.&quot; - So some of us haven&#39;t hit this until recently!  https://developer.android.com/about/versions/nougat/android-7.0-changes.html","body":"&quot;Due to a bug in previous versions of Android, the system did not flag writing to a TCP socket on the main thread as a strict-mode violation. Android 7.0 fixes this bug. Apps that exhibit this behavior now throw an android.os.NetworkOnMainThreadException.&quot; - So some of us haven&#39;t hit this until recently!  <a href=\"https://developer.android.com/about/versions/nougat/android-7.0-changes.html\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/nougat/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":355431,"reputation":21889,"user_id":694378,"display_name":"Mark Allison"},"comment_count":0,"down_vote_count":1,"up_vote_count":153,"is_accepted":false,"score":152,"last_activity_date":1391963122,"creation_date":1308053271,"answer_id":6343230,"question_id":6343166,"body_markdown":"You cannot perform network [I/O][1] on the UI thread on [Honeycomb][2]. Technically, it *is* possible on earlier versions of Android, but it is a really bad idea as it will cause your app to stop responding, and can result in the OS killing your app for being badly behaved. You&#39;ll need to run a background process or use AsyncTask to perform your network transaction on a background thread.\r\n\r\nThere is an article about [Painless Threading][3] on the Android developer site which is a good introduction to this, and it will provide you with a much better depth of an answer than can be realistically provided here.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Input/output\r\n  [2]: https://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\r\n  [3]: http://android-developers.blogspot.com/2009/05/painless-threading.html\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You cannot perform network <a href=\"http://en.wikipedia.org/wiki/Input/output\" rel=\"noreferrer\">I/O</a> on the UI thread on <a href=\"https://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\" rel=\"noreferrer\">Honeycomb</a>. Technically, it <em>is</em> possible on earlier versions of Android, but it is a really bad idea as it will cause your app to stop responding, and can result in the OS killing your app for being badly behaved. You'll need to run a background process or use AsyncTask to perform your network transaction on a background thread.</p>\n\n<p>There is an article about <a href=\"http://android-developers.blogspot.com/2009/05/painless-threading.html\" rel=\"noreferrer\">Painless Threading</a> on the Android developer site which is a good introduction to this, and it will provide you with a much better depth of an answer than can be realistically provided here.</p>\n"},{"comments":[{"owner":{"account_id":11071192,"reputation":468,"user_id":8129254,"display_name":"y_159"},"score":0,"creation_date":1623640709,"post_id":6343299,"comment_id":120127254,"body_markdown":"So this running network operations on main thread is only problematic in android not in standard java code(code written in java but not for android application).??","body":"So this running network operations on main thread is only problematic in android not in standard java code(code written in java but not for android application).??"},{"owner":{"account_id":439169,"reputation":34683,"user_id":827927,"accept_rate":74,"display_name":"Erel Segal-Halevi"},"score":23,"creation_date":1649142072,"post_id":6343299,"comment_id":126793991,"body_markdown":"Since AsyncTask is deprecated, what is the uptodate solution?","body":"Since AsyncTask is deprecated, what is the uptodate solution?"},{"owner":{"account_id":25688940,"reputation":162,"user_id":19525299,"display_name":"Harshil"},"score":0,"creation_date":1667556734,"post_id":6343299,"comment_id":131199191,"body_markdown":"@ErelSegal-Halevi Using Thread.","body":"@ErelSegal-Halevi Using Thread."},{"owner":{"account_id":2639291,"reputation":322,"user_id":2283305,"display_name":"DimeCadmium"},"score":0,"creation_date":1683106654,"post_id":6343299,"comment_id":134314427,"body_markdown":"@Harshil ... and how does one do that?","body":"@Harshil ... and how does one do that?"}],"tags":[],"owner":{"account_id":171109,"reputation":36863,"user_id":398309,"accept_rate":68,"display_name":"Michael Spector"},"comment_count":4,"down_vote_count":14,"up_vote_count":2688,"is_accepted":true,"score":2674,"last_activity_date":1615925449,"creation_date":1308053705,"answer_id":6343299,"question_id":6343166,"body_markdown":"**NOTE : AsyncTask was deprecated in API level 30.   \r\n[AsyncTask | Android Developers][1]**\r\n\r\nThis exception is thrown when an application attempts to perform a networking operation on its main thread. Run your code in [`AsyncTask`][2]:\r\n\r\n    class RetrieveFeedTask extends AsyncTask&lt;String, Void, RSSFeed&gt; {\r\n\r\n        private Exception exception;\r\n\r\n        protected RSSFeed doInBackground(String... urls) {\r\n            try {\r\n                URL url = new URL(urls[0]);\r\n                SAXParserFactory factory = SAXParserFactory.newInstance();\r\n                SAXParser parser = factory.newSAXParser();\r\n                XMLReader xmlreader = parser.getXMLReader();\r\n                RssHandler theRSSHandler = new RssHandler();\r\n                xmlreader.setContentHandler(theRSSHandler);\r\n                InputSource is = new InputSource(url.openStream());\r\n                xmlreader.parse(is);\r\n\r\n                return theRSSHandler.getFeed();\r\n            } catch (Exception e) {\r\n                this.exception = e;\r\n\r\n                return null;\r\n            } finally {\r\n                is.close();\r\n            }\r\n        }\r\n\r\n        protected void onPostExecute(RSSFeed feed) {\r\n            // TODO: check this.exception\r\n            // TODO: do something with the feed\r\n        }\r\n    }\r\n\r\nHow to execute the task:\r\n\r\nIn `MainActivity.java` file you can add this line within your `oncreate()` method\r\n\r\n    new RetrieveFeedTask().execute(urlToRssFeed);\r\n\r\nDon&#39;t forget to add this to `AndroidManifest.xml` file:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask\r\n  [2]: http://developer.android.com/reference/android/os/AsyncTask.html","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p><strong>NOTE : AsyncTask was deprecated in API level 30.<br />\n<a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"noreferrer\">AsyncTask | Android Developers</a></strong></p>\n<p>This exception is thrown when an application attempts to perform a networking operation on its main thread. Run your code in <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"noreferrer\"><code>AsyncTask</code></a>:</p>\n<pre><code>class RetrieveFeedTask extends AsyncTask&lt;String, Void, RSSFeed&gt; {\n\n    private Exception exception;\n\n    protected RSSFeed doInBackground(String... urls) {\n        try {\n            URL url = new URL(urls[0]);\n            SAXParserFactory factory = SAXParserFactory.newInstance();\n            SAXParser parser = factory.newSAXParser();\n            XMLReader xmlreader = parser.getXMLReader();\n            RssHandler theRSSHandler = new RssHandler();\n            xmlreader.setContentHandler(theRSSHandler);\n            InputSource is = new InputSource(url.openStream());\n            xmlreader.parse(is);\n\n            return theRSSHandler.getFeed();\n        } catch (Exception e) {\n            this.exception = e;\n\n            return null;\n        } finally {\n            is.close();\n        }\n    }\n\n    protected void onPostExecute(RSSFeed feed) {\n        // TODO: check this.exception\n        // TODO: do something with the feed\n    }\n}\n</code></pre>\n<p>How to execute the task:</p>\n<p>In <code>MainActivity.java</code> file you can add this line within your <code>oncreate()</code> method</p>\n<pre><code>new RetrieveFeedTask().execute(urlToRssFeed);\n</code></pre>\n<p>Don't forget to add this to <code>AndroidManifest.xml</code> file:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15850629,"reputation":359,"user_id":11436590,"display_name":"MosesK"},"score":1,"creation_date":1622712604,"post_id":9289190,"comment_id":119872441,"body_markdown":"Wow thanks for that explanation I now understand. I saw an app and it had implemented that ThreadPolicy in its java classes I was abit confused what it was doing. When network was low I was seeing the Consequence which you&#39;re talking about.","body":"Wow thanks for that explanation I now understand. I saw an app and it had implemented that ThreadPolicy in its java classes I was abit confused what it was doing. When network was low I was seeing the Consequence which you&#39;re talking about."}],"tags":[],"owner":{"account_id":1197747,"reputation":8953,"user_id":1169115,"display_name":"user1169115"},"comment_count":1,"down_vote_count":154,"up_vote_count":926,"is_accepted":false,"score":772,"last_activity_date":1626949562,"creation_date":1329289190,"answer_id":9289190,"question_id":6343166,"body_markdown":"**You should almost always run network operations on a thread or as an asynchronous task.**\r\n\r\nBut it *is* possible to remove this restriction and you override the default behavior, if you are willing to accept the consequences.\r\n\r\nAdd:\r\n\r\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n\r\n    StrictMode.setThreadPolicy(policy);\r\n\r\nIn your class,\r\n\r\nand\r\n\r\n*Add* this permission in the Android *manifest.xml* file:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\nConsequences:\r\n\r\nYour app will (in areas of spotty Internet connection) become unresponsive and lock up, the user perceives slowness and has to do a force kill, and you risk the activity manager killing your app and telling the user that the app has stopped.\r\n\r\nAndroid has some good tips on good programming practices to design for responsiveness:\r\n[NetworkOnMainThreadException | Android Developers][1]\r\n\r\n  [1]: http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p><strong>You should almost always run network operations on a thread or as an asynchronous task.</strong></p>\n<p>But it <em>is</em> possible to remove this restriction and you override the default behavior, if you are willing to accept the consequences.</p>\n<p>Add:</p>\n<pre><code>StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n\nStrictMode.setThreadPolicy(policy);\n</code></pre>\n<p>In your class,</p>\n<p>and</p>\n<p><em>Add</em> this permission in the Android <em>manifest.xml</em> file:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n<p>Consequences:</p>\n<p>Your app will (in areas of spotty Internet connection) become unresponsive and lock up, the user perceives slowness and has to do a force kill, and you risk the activity manager killing your app and telling the user that the app has stopped.</p>\n<p>Android has some good tips on good programming practices to design for responsiveness:\n<a href=\"http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\" rel=\"noreferrer\">NetworkOnMainThreadException | Android Developers</a></p>\n"},{"comments":[{"owner":{"account_id":470751,"reputation":1621,"user_id":878106,"display_name":"Muhammad Mubashir"},"score":2,"creation_date":1367839430,"post_id":13044412,"comment_id":23505245,"body_markdown":"Yes ANR error would be come. means App not responding with in 5 sec.","body":"Yes ANR error would be come. means App not responding with in 5 sec."},{"owner":{"account_id":297646,"reputation":17903,"user_id":603270,"accept_rate":98,"display_name":"shkschneider"},"score":13,"creation_date":1377788485,"post_id":13044412,"comment_id":27224060,"body_markdown":"This is a really bad answer. You should not change the thread&#39;s policy but to write better code: do not make network operations on main thread!","body":"This is a really bad answer. You should not change the thread&#39;s policy but to write better code: do not make network operations on main thread!"}],"tags":[],"owner":{"account_id":1017979,"reputation":4294,"user_id":1029089,"accept_rate":90,"display_name":"Piyush-Ask Any Difference"},"comment_count":2,"down_vote_count":23,"up_vote_count":98,"is_accepted":false,"score":75,"last_activity_date":1586329170,"creation_date":1351062603,"answer_id":13044412,"question_id":6343166,"body_markdown":"You disable the strict mode using following code:\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt; 9) {\r\n        StrictMode.ThreadPolicy policy = \r\n    \t\tnew StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n    }\r\n\r\n**This is not recommended**: use the `AsyncTask` interface.\r\n\r\n[Full code for both the methods][1]\r\n\r\n\r\n  [1]: https://askanydifference.com/how-to-fix-android-os-networkonmainthreadexception/","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You disable the strict mode using following code:</p>\n\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt; 9) {\n    StrictMode.ThreadPolicy policy = \n        new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n}\n</code></pre>\n\n<p><strong>This is not recommended</strong>: use the <code>AsyncTask</code> interface.</p>\n\n<p><a href=\"https://askanydifference.com/how-to-fix-android-os-networkonmainthreadexception/\" rel=\"noreferrer\">Full code for both the methods</a></p>\n"},{"comments":[{"owner":{"account_id":1985924,"reputation":137,"user_id":1781157,"display_name":"Richi Gonz&#225;lez"},"score":14,"creation_date":1369727238,"post_id":13136668,"comment_id":24189011,"body_markdown":"Following your second solution is a bad practice. Async is the way to do it *correctly*. You are like hiding your problem if you change the policy!","body":"Following your second solution is a bad practice. Async is the way to do it <i>correctly</i>. You are like hiding your problem if you change the policy!"}],"tags":[],"owner":{"account_id":307669,"reputation":22223,"user_id":1466188,"accept_rate":69,"display_name":"Dipak Keshariya"},"comment_count":1,"down_vote_count":2,"up_vote_count":132,"is_accepted":false,"score":130,"last_activity_date":1626950306,"creation_date":1351591592,"answer_id":13136668,"question_id":6343166,"body_markdown":"There are two solutions of this problem.\r\n\r\n1) Don&#39;t use a network call in the main UI thread. Use an async task for that.\r\n\r\n2) Write the below code into your MainActivity file after *setContentView(R.layout.activity_main);*:\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt; 9) {\r\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n    }\r\n\r\nAnd the below import statement into your Java file.\r\n\r\n    import android.os.StrictMode;\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>There are two solutions of this problem.</p>\n<ol>\n<li><p>Don't use a network call in the main UI thread. Use an async task for that.</p>\n</li>\n<li><p>Write the below code into your MainActivity file after <em>setContentView(R.layout.activity_main);</em>:</p>\n<p>if (android.os.Build.VERSION.SDK_INT &gt; 9) {\nStrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(policy);\n}</p>\n</li>\n</ol>\n<p>And the below import statement into your Java file.</p>\n<pre><code>import android.os.StrictMode;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18842101,"reputation":305,"user_id":13743303,"display_name":"Isiah"},"score":0,"creation_date":1622706125,"post_id":14443056,"comment_id":119869806,"body_markdown":"How woulod you pass paramaters to this?","body":"How woulod you pass paramaters to this?"},{"owner":{"account_id":5378624,"reputation":8469,"user_id":4284627,"accept_rate":81,"display_name":"Donald Duck"},"score":0,"creation_date":1628505832,"post_id":14443056,"comment_id":121430046,"body_markdown":"If you need to access the UI after the request, you need to return to the main thread at the end as explained [here](https://stackoverflow.com/a/5162096/4284627).","body":"If you need to access the UI after the request, you need to return to the main thread at the end as explained <a href=\"https://stackoverflow.com/a/5162096/4284627\">here</a>."}],"tags":[],"owner":{"account_id":1109205,"reputation":6111,"user_id":1099990,"display_name":"Dr.Luiji"},"comment_count":2,"down_vote_count":6,"up_vote_count":527,"is_accepted":false,"score":521,"last_activity_date":1688560171,"creation_date":1358785895,"answer_id":14443056,"question_id":6343166,"body_markdown":"I solved this problem using a new `Thread`.\r\n\r\n    Thread thread = new Thread(new Runnable() {\r\n        \r\n        @Override\r\n        public void run() {\r\n            try {\r\n    \t        // Your code goes here\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    });\r\n    \r\n    thread.start();\t\r\n\r\n\t\t\t","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I solved this problem using a new <code>Thread</code>.</p>\n<pre><code>Thread thread = new Thread(new Runnable() {\n    \n    @Override\n    public void run() {\n        try {\n            // Your code goes here\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n});\n\nthread.start(); \n\n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3017594,"reputation":4774,"user_id":2559284,"accept_rate":93,"display_name":"sivag1"},"comment_count":0,"down_vote_count":2,"up_vote_count":46,"is_accepted":false,"score":44,"last_activity_date":1466629468,"creation_date":1374173542,"answer_id":17731654,"question_id":6343166,"body_markdown":"The top [answer of spektom][1] works perfect.\r\n\r\nIf you are writing the `AsyncTask` inline and not extending as a class, and on top of this, if there is a need to get a response out of the `AsyncTask`, one can use the `get()` method as below.\r\n\r\n    RSSFeed feed = new RetreiveFeedTask().execute(urlToRssFeed).get();\r\n\r\n(From his example.)\r\n\r\n  [1]: https://stackoverflow.com/questions/6343166/how-to-fix-android-os-networkonmainthreadexception/6343299#6343299\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>The top <a href=\"https://stackoverflow.com/questions/6343166/how-to-fix-android-os-networkonmainthreadexception/6343299#6343299\">answer of spektom</a> works perfect.</p>\n\n<p>If you are writing the <code>AsyncTask</code> inline and not extending as a class, and on top of this, if there is a need to get a response out of the <code>AsyncTask</code>, one can use the <code>get()</code> method as below.</p>\n\n<pre><code>RSSFeed feed = new RetreiveFeedTask().execute(urlToRssFeed).get();\n</code></pre>\n\n<p>(From his example.)</p>\n"},{"comments":[{"owner":{"account_id":217502,"reputation":7997,"user_id":473338,"display_name":"Stevie"},"score":8,"creation_date":1390379630,"post_id":18297581,"comment_id":32061459,"body_markdown":"Perhaps worth stressing the point that if you use a Service you will still need to create a separate thread - Service callbacks run on the main thread. An IntentService, on the other hand, runs its onHandleIntent method on a background thread.","body":"Perhaps worth stressing the point that if you use a Service you will still need to create a separate thread - Service callbacks run on the main thread. An IntentService, on the other hand, runs its onHandleIntent method on a background thread."},{"owner":{"account_id":2986958,"reputation":236,"user_id":2535511,"display_name":"Dage"},"score":0,"creation_date":1391510475,"post_id":18297581,"comment_id":32544146,"body_markdown":"you should not use an AsyncTask for long running operations!\nGuidelines specify 2 to 3 seconds max.","body":"you should not use an AsyncTask for long running operations! Guidelines specify 2 to 3 seconds max."}],"tags":[],"owner":{"account_id":1808870,"reputation":7519,"user_id":1645339,"accept_rate":60,"display_name":"venergiac"},"comment_count":2,"down_vote_count":3,"up_vote_count":86,"is_accepted":false,"score":83,"last_activity_date":1466629559,"creation_date":1376817528,"answer_id":18297581,"question_id":6343166,"body_markdown":"1. Do not use strictMode (only in debug mode)\r\n2. Do not change SDK version\r\n3. Do not use a separate thread\r\n\r\nUse Service or AsyncTask\r\n\r\nSee also Stack&amp;nbsp;Overflow question:\r\n\r\n*https://stackoverflow.com/questions/18297485/i-get-an-android-os-networkonmainthreadexception-sending-an-email-from-android/18297516#18297516*\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<ol>\n<li>Do not use strictMode (only in debug mode)</li>\n<li>Do not change SDK version</li>\n<li>Do not use a separate thread</li>\n</ol>\n\n<p>Use Service or AsyncTask</p>\n\n<p>See also Stack&nbsp;Overflow question:</p>\n\n<p><em><a href=\"https://stackoverflow.com/questions/18297485/i-get-an-android-os-networkonmainthreadexception-sending-an-email-from-android/18297516#18297516\">android.os.NetworkOnMainThreadException sending an email from Android</a></em></p>\n"},{"tags":[],"owner":{"account_id":2850505,"reputation":541,"user_id":2447827,"display_name":"raihan ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1391963250,"creation_date":1378368994,"answer_id":18631130,"question_id":6343166,"body_markdown":"This happens in Android 3.0 and above. From Android 3.0 and above, they have restricted using network operations (functions that access the Internet) from running in the main thread/UI thread (what spawns from your on create and on resume methods in the activity).\r\n\r\nThis is to encourage using separate threads for network operations. See [AsyncTask][1] for more details on how to perform network activities the right way.\r\n\r\n  [1]: http://developer.android.com/reference/android/os/AsyncTask.html\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>This happens in Android 3.0 and above. From Android 3.0 and above, they have restricted using network operations (functions that access the Internet) from running in the main thread/UI thread (what spawns from your on create and on resume methods in the activity).</p>\n\n<p>This is to encourage using separate threads for network operations. See <a href=\"http://developer.android.com/reference/android/os/AsyncTask.html\">AsyncTask</a> for more details on how to perform network activities the right way.</p>\n"},{"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":11,"creation_date":1379432169,"post_id":18849603,"comment_id":27818760,"body_markdown":"Let me explain you what you are doing here: `NetworkOnMainThreadException` is the Guardian which is telling you: do not shoot at your own foot ... your solution is: let&#39;s go back to the past when there was no Guardian - now i can shoot at my foot freely","body":"Let me explain you what you are doing here: <code>NetworkOnMainThreadException</code> is the Guardian which is telling you: do not shoot at your own foot ... your solution is: let&#39;s go back to the past when there was no Guardian - now i can shoot at my foot freely"},{"owner":{"account_id":1374590,"reputation":3335,"user_id":1308850,"accept_rate":37,"display_name":"FractalBob"},"score":1,"creation_date":1382729769,"post_id":18849603,"comment_id":29089237,"body_markdown":"I took this approach, too, and didn&#39;t have any problems. Guardian is too fussy sometimes.","body":"I took this approach, too, and didn&#39;t have any problems. Guardian is too fussy sometimes."}],"tags":[],"owner":{"account_id":1353945,"reputation":2005,"user_id":1292736,"display_name":"rharvey"},"comment_count":2,"down_vote_count":7,"up_vote_count":35,"is_accepted":false,"score":28,"last_activity_date":1466629648,"creation_date":1379420121,"answer_id":18849603,"question_id":6343166,"body_markdown":"For me it was this:\r\n\r\n    &lt;uses-sdk\r\n            android:minSdkVersion=&quot;8&quot;\r\n            android:targetSdkVersion=&quot;10&quot; /&gt;\r\n\r\nThe device I was testing my app on was 4.1.2 which is SDK Version 16!\r\n\r\nMake the sure the target version is the same as your Android Target Library. If you are unsure what your target library is, right click your Project -&gt; *Build Path* -&gt; *Android*, and it should be the one that is ticked.\r\n\r\nAlso, as others have mentioned, include the correct permissions to access the Internet:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>For me it was this:</p>\n\n<pre><code>&lt;uses-sdk\n        android:minSdkVersion=\"8\"\n        android:targetSdkVersion=\"10\" /&gt;\n</code></pre>\n\n<p>The device I was testing my app on was 4.1.2 which is SDK Version 16!</p>\n\n<p>Make the sure the target version is the same as your Android Target Library. If you are unsure what your target library is, right click your Project -> <em>Build Path</em> -> <em>Android</em>, and it should be the one that is ticked.</p>\n\n<p>Also, as others have mentioned, include the correct permissions to access the Internet:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2012138,"reputation":1420,"user_id":1800333,"accept_rate":71,"display_name":"Sujith S Manjavana"},"score":0,"creation_date":1659025416,"post_id":20762621,"comment_id":129202921,"body_markdown":"Does this have any downside? How does it differ from ExecutorService?","body":"Does this have any downside? How does it differ from ExecutorService?"}],"tags":[],"owner":{"account_id":2138049,"reputation":3881,"user_id":1897334,"accept_rate":45,"display_name":"henry4343"},"comment_count":1,"down_vote_count":2,"up_vote_count":98,"is_accepted":false,"score":96,"last_activity_date":1688560196,"creation_date":1387895588,"answer_id":20762621,"question_id":6343166,"body_markdown":"Do the network actions on another thread.\r\n\r\nFor example:\r\n\r\n    new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            // Do network action in this function\r\n        }\r\n    }).start();\r\n\r\nAnd add this to file *AndroidManifest.xml*:    \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Do the network actions on another thread.</p>\n<p>For example:</p>\n<pre><code>new Thread(new Runnable() {\n    @Override\n    public void run() {\n        // Do network action in this function\n    }\n}).start();\n</code></pre>\n<p>And add this to file <em>AndroidManifest.xml</em>:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1440434,"reputation":5505,"user_id":1360732,"display_name":"Kapil Vats"},"comment_count":0,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1391963381,"creation_date":1388946518,"answer_id":20937422,"question_id":6343166,"body_markdown":"You should not do any time-consuming task on the main thread (UI thread), like any network operation, file I/O, or SQLite database operations. So for this kind of operation, you should create a worker thread, but the problem is that you can not directly perform any UI related operation from your worker thread. For that, you have to use `Handler` and pass the `Message`. \r\n\r\nTo simplify all these things, Android provides various ways, like `AsyncTask`, `AsyncTaskLoader`, `CursorLoader` or `IntentService`. So you can use any of these according to your requirements.\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You should not do any time-consuming task on the main thread (UI thread), like any network operation, file I/O, or SQLite database operations. So for this kind of operation, you should create a worker thread, but the problem is that you can not directly perform any UI related operation from your worker thread. For that, you have to use <code>Handler</code> and pass the <code>Message</code>. </p>\n\n<p>To simplify all these things, Android provides various ways, like <code>AsyncTask</code>, <code>AsyncTaskLoader</code>, <code>CursorLoader</code> or <code>IntentService</code>. So you can use any of these according to your requirements.</p>\n"},{"comments":[{"owner":{"account_id":1532595,"reputation":4652,"user_id":1429432,"accept_rate":68,"display_name":"Yousha Aleayoub"},"score":1,"creation_date":1457788704,"post_id":21107128,"comment_id":59571522,"body_markdown":"Anonymous Runnable is NOT the best way, since it has an implicit reference to the enclosing class and preventing it from being GC ed until the thread completes! Also this thread will run at the Same Priority as the main/US thread, contending with lifecycle methods and UI frame rates!","body":"Anonymous Runnable is NOT the best way, since it has an implicit reference to the enclosing class and preventing it from being GC ed until the thread completes! Also this thread will run at the Same Priority as the main/US thread, contending with lifecycle methods and UI frame rates!"},{"owner":{"account_id":2012138,"reputation":1420,"user_id":1800333,"accept_rate":71,"display_name":"Sujith S Manjavana"},"score":0,"creation_date":1659025528,"post_id":21107128,"comment_id":129202964,"body_markdown":"@YoushaAleayoub so, what to use instead?","body":"@YoushaAleayoub so, what to use instead?"}],"tags":[],"owner":{"account_id":3765884,"reputation":1056,"user_id":3129443,"accept_rate":33,"display_name":"Dhruv Jindal"},"comment_count":2,"down_vote_count":4,"up_vote_count":68,"is_accepted":false,"score":64,"last_activity_date":1688560249,"creation_date":1389680053,"answer_id":21107128,"question_id":6343166,"body_markdown":"Network-based operations cannot be run on the main thread. You need to run all network-based tasks on a child thread or implement `AsyncTask`.\r\n\r\nThis is how you run a task in a child thread:\r\n\r\n    new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                // Your implementation goes here\r\n            } \r\n            catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }).start();\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Network-based operations cannot be run on the main thread. You need to run all network-based tasks on a child thread or implement <code>AsyncTask</code>.</p>\n<p>This is how you run a task in a child thread:</p>\n<pre><code>new Thread(new Runnable() {\n    @Override\n    public void run() {\n        try {\n            // Your implementation goes here\n        } \n        catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":217502,"reputation":7997,"user_id":473338,"display_name":"Stevie"},"comment_count":0,"down_vote_count":2,"up_vote_count":197,"is_accepted":false,"score":195,"last_activity_date":1626950068,"creation_date":1390396652,"answer_id":21284021,"question_id":6343166,"body_markdown":"**The accepted answer has some significant downsides. It is not advisable to use AsyncTask for networking unless you _really_ know what you are doing. Some of the down-sides include:**\r\n\r\n * AsyncTask&#39;s created as non-static inner classes have an implicit reference to the enclosing Activity object, its context, and the entire View hierarchy created by that activity. This reference prevents the Activity from being garbage collected until the AsyncTask&#39;s background work completes. If the user&#39;s connection is slow, and/or the download is large, these short-term memory leaks can become a problem - for example, if the orientation changes several times (and you don&#39;t cancel the executing tasks), or the user navigates away from the Activity.\r\n * AsyncTask has different execution characteristics depending on the platform it executes on: prior to API level 4 AsyncTasks execute serially on a single background thread; from API level 4 through API level 10, AsyncTasks execute on a pool of up to 128 threads; from API level 11 onwards AsyncTask executes serially on a single background thread (unless you use the overloaded `executeOnExecutor` method and supply an alternative executor). Code that works fine when running serially on ICS may break when executed concurrently on Gingerbread, say if you have inadvertent order-of-execution dependencies.\r\n\r\nIf you want to avoid short-term memory leaks, have well-defined execution characteristics across all platforms, and have a base to build really robust network handling, you might want to consider:\r\n\r\n 1. Using a library that does a nice job of this for you - there&#39;s a nice comparison of networking libs in [this question][1], or\r\n 2. Using a `Service` or `IntentService` instead, perhaps with a `PendingIntent` to return the result via the Activity&#39;s `onActivityResult` method.\r\n\r\n*IntentService approach*\r\n--\r\n\r\nDownsides:\r\n\r\n * More code and complexity than `AsyncTask`, though not as much as you might think\r\n * Will queue requests and run them on a _single_ background thread. You can easily control this by replacing `IntentService` with an equivalent `Service` implementation, perhaps like [this one][2].\r\n * Um, I can&#39;t think of any others right now actually\r\n\r\nUpsides:\r\n\r\n * Avoids the short-term memory leak problem\r\n * If your activity restarts while network operations are in-flight it can still receive the result of the download via its `onActivityResult` method\r\n * A better platform than AsyncTask to build and reuse robust networking code. Example: if you need to do an important upload, you could do it from `AsyncTask` in an `Activity`, but if the user context-switches out of the app to take a phone call, the system _may_ kill the app before the upload completes. It is _less likely_ to kill an application with an active `Service`.\r\n * If you use your own concurrent version of `IntentService` (like the one I linked above) you can control the level of concurrency via the `Executor`.\r\n\r\n*Implementation summary*\r\n---\r\n\r\nYou can implement an `IntentService` to perform downloads on a single background thread quite easily.\r\n\r\nStep 1: Create an `IntentService` to perform the download. You can tell it what to download via `Intent` extras, and pass it a `PendingIntent` to use to return the result to the `Activity`:\r\n\r\n    import android.app.IntentService;\r\n    import android.app.PendingIntent;\r\n    import android.content.Intent;\r\n    import android.util.Log;\r\n\r\n    import java.io.InputStream;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n\r\n    public class DownloadIntentService extends IntentService {\r\n\r\n        private static final String TAG = DownloadIntentService.class.getSimpleName();\r\n\r\n        public static final String PENDING_RESULT_EXTRA = &quot;pending_result&quot;;\r\n        public static final String URL_EXTRA = &quot;url&quot;;\r\n        public static final String RSS_RESULT_EXTRA = &quot;url&quot;;\r\n\r\n        public static final int RESULT_CODE = 0;\r\n        public static final int INVALID_URL_CODE = 1;\r\n        public static final int ERROR_CODE = 2;\r\n\r\n        private IllustrativeRSSParser parser;\r\n\r\n        public DownloadIntentService() {\r\n            super(TAG);\r\n\r\n            // make one and reuse, in the case where more than one intent is queued\r\n            parser = new IllustrativeRSSParser();\r\n        }\r\n\r\n        @Override\r\n        protected void onHandleIntent(Intent intent) {\r\n            PendingIntent reply = intent.getParcelableExtra(PENDING_RESULT_EXTRA);\r\n            InputStream in = null;\r\n            try {\r\n                try {\r\n                    URL url = new URL(intent.getStringExtra(URL_EXTRA));\r\n                    IllustrativeRSS rss = parser.parse(in = url.openStream());\r\n\r\n                    Intent result = new Intent();\r\n                    result.putExtra(RSS_RESULT_EXTRA, rss);\r\n\r\n                    reply.send(this, RESULT_CODE, result);\r\n                } catch (MalformedURLException exc) {\r\n                    reply.send(INVALID_URL_CODE);\r\n                } catch (Exception exc) {\r\n                    // could do better by treating the different sax/xml exceptions individually\r\n                    reply.send(ERROR_CODE);\r\n                }\r\n            } catch (PendingIntent.CanceledException exc) {\r\n                Log.i(TAG, &quot;reply cancelled&quot;, exc);\r\n            }\r\n        }\r\n    }\r\n\r\nStep 2: Register the service in the manifest:\r\n\r\n    &lt;service\r\n            android:name=&quot;.DownloadIntentService&quot;\r\n            android:exported=&quot;false&quot;/&gt;\r\n\r\nStep 3: Invoke the service from the Activity, passing a PendingResult object which the Service will use to return the result:\r\n\r\n    PendingIntent pendingResult = createPendingResult(\r\n        RSS_DOWNLOAD_REQUEST_CODE, new Intent(), 0);\r\n    Intent intent = new Intent(getApplicationContext(), DownloadIntentService.class);\r\n    intent.putExtra(DownloadIntentService.URL_EXTRA, URL);\r\n    intent.putExtra(DownloadIntentService.PENDING_RESULT_EXTRA, pendingResult);\r\n    startService(intent);\r\n\r\nStep 4: Handle the result in onActivityResult:\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        if (requestCode == RSS_DOWNLOAD_REQUEST_CODE) {\r\n            switch (resultCode) {\r\n                case DownloadIntentService.INVALID_URL_CODE:\r\n                    handleInvalidURL();\r\n                    break;\r\n                case DownloadIntentService.ERROR_CODE:\r\n                    handleError(data);\r\n                    break;\r\n                case DownloadIntentService.RESULT_CODE:\r\n                    handleRSS(data);\r\n                    break;\r\n            }\r\n            handleRSS(data);\r\n        }\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n\r\nA GitHub project containing a complete working Android Studio/[Gradle][3] project is available [here][4].\r\n\r\n  [1]: https://stackoverflow.com/questions/16902716/comparison-of-android-networking-libraries-okhttp-retrofit-volley\r\n  [2]: https://github.com/steveliles/AsyncAndroid/blob/master/AsyncAndroid/src/main/java/com/packt/asyncandroid/chapter6/ConcurrentIntentService.java\r\n  [3]: https://en.wikipedia.org/wiki/Gradle\r\n  [4]: https://github.com/steveliles/Android-Download-Service-Example\r\n\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p><strong>The accepted answer has some significant downsides. It is not advisable to use AsyncTask for networking unless you <em>really</em> know what you are doing. Some of the down-sides include:</strong></p>\n<ul>\n<li>AsyncTask's created as non-static inner classes have an implicit reference to the enclosing Activity object, its context, and the entire View hierarchy created by that activity. This reference prevents the Activity from being garbage collected until the AsyncTask's background work completes. If the user's connection is slow, and/or the download is large, these short-term memory leaks can become a problem - for example, if the orientation changes several times (and you don't cancel the executing tasks), or the user navigates away from the Activity.</li>\n<li>AsyncTask has different execution characteristics depending on the platform it executes on: prior to API level 4 AsyncTasks execute serially on a single background thread; from API level 4 through API level 10, AsyncTasks execute on a pool of up to 128 threads; from API level 11 onwards AsyncTask executes serially on a single background thread (unless you use the overloaded <code>executeOnExecutor</code> method and supply an alternative executor). Code that works fine when running serially on ICS may break when executed concurrently on Gingerbread, say if you have inadvertent order-of-execution dependencies.</li>\n</ul>\n<p>If you want to avoid short-term memory leaks, have well-defined execution characteristics across all platforms, and have a base to build really robust network handling, you might want to consider:</p>\n<ol>\n<li>Using a library that does a nice job of this for you - there's a nice comparison of networking libs in <a href=\"https://stackoverflow.com/questions/16902716/comparison-of-android-networking-libraries-okhttp-retrofit-volley\">this question</a>, or</li>\n<li>Using a <code>Service</code> or <code>IntentService</code> instead, perhaps with a <code>PendingIntent</code> to return the result via the Activity's <code>onActivityResult</code> method.</li>\n</ol>\n<h2 id=\"intentservice-approach\"><em>IntentService approach</em></h2>\n<p>Downsides:</p>\n<ul>\n<li>More code and complexity than <code>AsyncTask</code>, though not as much as you might think</li>\n<li>Will queue requests and run them on a <em>single</em> background thread. You can easily control this by replacing <code>IntentService</code> with an equivalent <code>Service</code> implementation, perhaps like <a href=\"https://github.com/steveliles/AsyncAndroid/blob/master/AsyncAndroid/src/main/java/com/packt/asyncandroid/chapter6/ConcurrentIntentService.java\" rel=\"noreferrer\">this one</a>.</li>\n<li>Um, I can't think of any others right now actually</li>\n</ul>\n<p>Upsides:</p>\n<ul>\n<li>Avoids the short-term memory leak problem</li>\n<li>If your activity restarts while network operations are in-flight it can still receive the result of the download via its <code>onActivityResult</code> method</li>\n<li>A better platform than AsyncTask to build and reuse robust networking code. Example: if you need to do an important upload, you could do it from <code>AsyncTask</code> in an <code>Activity</code>, but if the user context-switches out of the app to take a phone call, the system <em>may</em> kill the app before the upload completes. It is <em>less likely</em> to kill an application with an active <code>Service</code>.</li>\n<li>If you use your own concurrent version of <code>IntentService</code> (like the one I linked above) you can control the level of concurrency via the <code>Executor</code>.</li>\n</ul>\n<h2 id=\"implementation-summary\"><em>Implementation summary</em></h2>\n<p>You can implement an <code>IntentService</code> to perform downloads on a single background thread quite easily.</p>\n<p>Step 1: Create an <code>IntentService</code> to perform the download. You can tell it what to download via <code>Intent</code> extras, and pass it a <code>PendingIntent</code> to use to return the result to the <code>Activity</code>:</p>\n<pre><code>import android.app.IntentService;\nimport android.app.PendingIntent;\nimport android.content.Intent;\nimport android.util.Log;\n\nimport java.io.InputStream;\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\npublic class DownloadIntentService extends IntentService {\n\n    private static final String TAG = DownloadIntentService.class.getSimpleName();\n\n    public static final String PENDING_RESULT_EXTRA = &quot;pending_result&quot;;\n    public static final String URL_EXTRA = &quot;url&quot;;\n    public static final String RSS_RESULT_EXTRA = &quot;url&quot;;\n\n    public static final int RESULT_CODE = 0;\n    public static final int INVALID_URL_CODE = 1;\n    public static final int ERROR_CODE = 2;\n\n    private IllustrativeRSSParser parser;\n\n    public DownloadIntentService() {\n        super(TAG);\n\n        // make one and reuse, in the case where more than one intent is queued\n        parser = new IllustrativeRSSParser();\n    }\n\n    @Override\n    protected void onHandleIntent(Intent intent) {\n        PendingIntent reply = intent.getParcelableExtra(PENDING_RESULT_EXTRA);\n        InputStream in = null;\n        try {\n            try {\n                URL url = new URL(intent.getStringExtra(URL_EXTRA));\n                IllustrativeRSS rss = parser.parse(in = url.openStream());\n\n                Intent result = new Intent();\n                result.putExtra(RSS_RESULT_EXTRA, rss);\n\n                reply.send(this, RESULT_CODE, result);\n            } catch (MalformedURLException exc) {\n                reply.send(INVALID_URL_CODE);\n            } catch (Exception exc) {\n                // could do better by treating the different sax/xml exceptions individually\n                reply.send(ERROR_CODE);\n            }\n        } catch (PendingIntent.CanceledException exc) {\n            Log.i(TAG, &quot;reply cancelled&quot;, exc);\n        }\n    }\n}\n</code></pre>\n<p>Step 2: Register the service in the manifest:</p>\n<pre><code>&lt;service\n        android:name=&quot;.DownloadIntentService&quot;\n        android:exported=&quot;false&quot;/&gt;\n</code></pre>\n<p>Step 3: Invoke the service from the Activity, passing a PendingResult object which the Service will use to return the result:</p>\n<pre><code>PendingIntent pendingResult = createPendingResult(\n    RSS_DOWNLOAD_REQUEST_CODE, new Intent(), 0);\nIntent intent = new Intent(getApplicationContext(), DownloadIntentService.class);\nintent.putExtra(DownloadIntentService.URL_EXTRA, URL);\nintent.putExtra(DownloadIntentService.PENDING_RESULT_EXTRA, pendingResult);\nstartService(intent);\n</code></pre>\n<p>Step 4: Handle the result in onActivityResult:</p>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    if (requestCode == RSS_DOWNLOAD_REQUEST_CODE) {\n        switch (resultCode) {\n            case DownloadIntentService.INVALID_URL_CODE:\n                handleInvalidURL();\n                break;\n            case DownloadIntentService.ERROR_CODE:\n                handleError(data);\n                break;\n            case DownloadIntentService.RESULT_CODE:\n                handleRSS(data);\n                break;\n        }\n        handleRSS(data);\n    }\n    super.onActivityResult(requestCode, resultCode, data);\n}\n</code></pre>\n<p>A GitHub project containing a complete working Android Studio/<a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"noreferrer\">Gradle</a> project is available <a href=\"https://github.com/steveliles/Android-Download-Service-Example\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":185571,"reputation":846,"user_id":1837505,"accept_rate":0,"display_name":"perry"},"comment_count":0,"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1678288551,"creation_date":1393309431,"answer_id":22006259,"question_id":6343166,"body_markdown":"&gt; This is only thrown for applications targeting the [Honeycomb][1] SDK or higher. Applications targeting earlier SDK versions are allowed to do networking on their main event loop threads.\r\n\r\n[The error is the SDK warning!][2]\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\r\n  [2]: http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<blockquote>\n<p>This is only thrown for applications targeting the <a href=\"http://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\" rel=\"nofollow noreferrer\">Honeycomb</a> SDK or higher. Applications targeting earlier SDK versions are allowed to do networking on their main event loop threads.</p>\n</blockquote>\n<p><a href=\"http://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\" rel=\"nofollow noreferrer\">The error is the SDK warning!</a></p>\n"},{"tags":[],"owner":{"account_id":3702180,"reputation":467,"user_id":3081554,"accept_rate":100,"display_name":"dhiraj kakran"},"comment_count":0,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1543838844,"creation_date":1393681439,"answer_id":22115167,"question_id":6343166,"body_markdown":"**Use this in Your Activity**\r\n\r\n\t\tbtnsub.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View v) {\r\n\t\t\t\tnew Thread(new Runnable() {\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t\t\t\t//Initialize soap request + add parameters\r\n\t\t\t\t\t\tSoapObject request = new SoapObject(NAMESPACE, METHOD_NAME1);\r\n\r\n\t\t\t\t\t\t//Use this to add parameters\r\n\t\t\t\t\t\trequest.addProperty(&quot;pincode&quot;, txtpincode.getText().toString());\r\n\t\t\t\t\t\trequest.addProperty(&quot;bg&quot;, bloodgroup.getSelectedItem().toString());\r\n\r\n\t\t\t\t\t\t//Declare the version of the SOAP request\r\n\t\t\t\t\t\tSoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n\r\n\t\t\t\t\t\tenvelope.setOutputSoapObject(request);\r\n\t\t\t\t\t\tenvelope.dotNet = true;\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tHttpTransportSE androidHttpTransport = new HttpTransportSE(URL);\r\n\r\n\t\t\t\t\t\t\t//this is the actual part that will call the webservice\r\n\t\t\t\t\t\t\tandroidHttpTransport.call(SOAP_ACTION1, envelope);\r\n\r\n\t\t\t\t\t\t\t// Get the SoapResult from the envelope body.\r\n\t\t\t\t\t\t\tSoapObject result = (SoapObject) envelope.getResponse();\r\n\t\t\t\t\t\t\tLog.e(&quot;result data&quot;, &quot;data&quot; + result);\r\n\t\t\t\t\t\t\tSoapObject root = (SoapObject) result.getProperty(0);\r\n\t\t\t\t\t\t\t// SoapObject s_deals = (SoapObject) root.getProperty(0);\r\n\t\t\t\t\t\t\t// SoapObject s_deals_1 = (SoapObject) s_deals.getProperty(0);\r\n\t\t\t\t\t\t\t//\r\n\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;********Count : &quot; + root.getPropertyCount());\r\n\r\n\t\t\t\t\t\t\tvalue = new ArrayList&lt;Detailinfo&gt;();\r\n\r\n\t\t\t\t\t\t\tfor (int i = 0; i &lt; root.getPropertyCount(); i++) {\r\n\t\t\t\t\t\t\t\tSoapObject s_deals = (SoapObject) root.getProperty(i);\r\n\t\t\t\t\t\t\t\tDetailinfo info = new Detailinfo();\r\n\r\n\t\t\t\t\t\t\t\tinfo.setFirstName(s_deals.getProperty(&quot;Firstname&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setLastName(s_deals.getProperty(&quot;Lastname&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setDOB(s_deals.getProperty(&quot;DOB&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setGender(s_deals.getProperty(&quot;Gender&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setAddress(s_deals.getProperty(&quot;Address&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setCity(s_deals.getProperty(&quot;City&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setState(s_deals.getProperty(&quot;State&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setPinecode(s_deals.getProperty(&quot;Pinecode&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setMobile(s_deals.getProperty(&quot;Mobile&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setEmail(s_deals.getProperty(&quot;Email&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setBloodgroup(s_deals.getProperty(&quot;Bloodgroup&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setAdddate(s_deals.getProperty(&quot;Adddate&quot;).toString());\r\n\t\t\t\t\t\t\t\tinfo.setWaight(s_deals.getProperty(&quot;waight&quot;).toString());\r\n\t\t\t\t\t\t\t\tvalue.add(info);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tIntent intent = new Intent(getApplicationContext(), ComposeMail.class);\r\n\t\t\t\t\t\t//intent.putParcelableArrayListExtra(&quot;valuesList&quot;, value);\r\n\r\n\t\t\t\t\t\tstartActivity(intent);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).start();\r\n\t\t\t}\r\n\t\t});\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p><strong>Use this in Your Activity</strong></p>\n\n<pre><code>    btnsub.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            new Thread(new Runnable() {\n\n                @Override\n                public void run() {\n                    // TODO Auto-generated method stub\n\n                    //Initialize soap request + add parameters\n                    SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME1);\n\n                    //Use this to add parameters\n                    request.addProperty(\"pincode\", txtpincode.getText().toString());\n                    request.addProperty(\"bg\", bloodgroup.getSelectedItem().toString());\n\n                    //Declare the version of the SOAP request\n                    SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n\n                    envelope.setOutputSoapObject(request);\n                    envelope.dotNet = true;\n\n                    try {\n                        HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);\n\n                        //this is the actual part that will call the webservice\n                        androidHttpTransport.call(SOAP_ACTION1, envelope);\n\n                        // Get the SoapResult from the envelope body.\n                        SoapObject result = (SoapObject) envelope.getResponse();\n                        Log.e(\"result data\", \"data\" + result);\n                        SoapObject root = (SoapObject) result.getProperty(0);\n                        // SoapObject s_deals = (SoapObject) root.getProperty(0);\n                        // SoapObject s_deals_1 = (SoapObject) s_deals.getProperty(0);\n                        //\n\n                        System.out.println(\"********Count : \" + root.getPropertyCount());\n\n                        value = new ArrayList&lt;Detailinfo&gt;();\n\n                        for (int i = 0; i &lt; root.getPropertyCount(); i++) {\n                            SoapObject s_deals = (SoapObject) root.getProperty(i);\n                            Detailinfo info = new Detailinfo();\n\n                            info.setFirstName(s_deals.getProperty(\"Firstname\").toString());\n                            info.setLastName(s_deals.getProperty(\"Lastname\").toString());\n                            info.setDOB(s_deals.getProperty(\"DOB\").toString());\n                            info.setGender(s_deals.getProperty(\"Gender\").toString());\n                            info.setAddress(s_deals.getProperty(\"Address\").toString());\n                            info.setCity(s_deals.getProperty(\"City\").toString());\n                            info.setState(s_deals.getProperty(\"State\").toString());\n                            info.setPinecode(s_deals.getProperty(\"Pinecode\").toString());\n                            info.setMobile(s_deals.getProperty(\"Mobile\").toString());\n                            info.setEmail(s_deals.getProperty(\"Email\").toString());\n                            info.setBloodgroup(s_deals.getProperty(\"Bloodgroup\").toString());\n                            info.setAdddate(s_deals.getProperty(\"Adddate\").toString());\n                            info.setWaight(s_deals.getProperty(\"waight\").toString());\n                            value.add(info);\n                        }\n\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                    Intent intent = new Intent(getApplicationContext(), ComposeMail.class);\n                    //intent.putParcelableArrayListExtra(\"valuesList\", value);\n\n                    startActivity(intent);\n                }\n            }).start();\n        }\n    });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1450228,"reputation":38159,"user_id":1367392,"accept_rate":89,"display_name":"Oleksiy"},"score":6,"creation_date":1439947833,"post_id":24175886,"comment_id":52066140,"body_markdown":"@Gavriel it creates duplicates of everything you annotate, whether it&#39;s a method, activity, fragment, singleton etc, so there is twice as much code and it takes longer to compile it. It may also have some issues due to bugs in the library. Debugging and finding errors would become more difficult.","body":"@Gavriel it creates duplicates of everything you annotate, whether it&#39;s a method, activity, fragment, singleton etc, so there is twice as much code and it takes longer to compile it. It may also have some issues due to bugs in the library. Debugging and finding errors would become more difficult."}],"tags":[],"owner":{"account_id":1450228,"reputation":38159,"user_id":1367392,"accept_rate":89,"display_name":"Oleksiy"},"comment_count":1,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1430412371,"creation_date":1402542654,"answer_id":24175886,"question_id":6343166,"body_markdown":"Using [Android Annotations][1] is an option. It will allow you to simply run any method in a background thread:\r\n\r\n    // normal method\r\n    private void normal() {\r\n        doSomething(); // do something in background\r\n    }\r\n\r\n    @Background\r\n    protected void doSomething() \r\n        // run your networking code here\r\n    }\r\n\r\n  [1]: http://androidannotations.org/\r\n\r\nNote, that although it provides benefits of simplicity and readability, it has its disadvantages. ","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Using <a href=\"http://androidannotations.org/\" rel=\"noreferrer\">Android Annotations</a> is an option. It will allow you to simply run any method in a background thread:</p>\n\n<pre><code>// normal method\nprivate void normal() {\n    doSomething(); // do something in background\n}\n\n@Background\nprotected void doSomething() \n    // run your networking code here\n}\n</code></pre>\n\n<p>Note, that although it provides benefits of simplicity and readability, it has its disadvantages. </p>\n"},{"tags":[],"owner":{"account_id":1100158,"reputation":4717,"user_id":1092746,"accept_rate":58,"display_name":"Novak"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1403645573,"creation_date":1403645573,"answer_id":24396701,"question_id":6343166,"body_markdown":"Just to spell out something explicitly:\r\n\r\nThe main thread is basically the UI thread.\r\n\r\nSo saying that you cannot do networking operations in the main thread means you cannot do networking operations in the UI thread, which means *you cannot do networking operations in a `*runOnUiThread(new Runnable() { ... }*` block* inside some other thread, either.\r\n\r\n(I just had a long head-scratching moment trying to figure out why I was getting that error somewhere other than my main thread.  This was why; this thread helped; and hopefully this comment will help someone else.)","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Just to spell out something explicitly:</p>\n\n<p>The main thread is basically the UI thread.</p>\n\n<p>So saying that you cannot do networking operations in the main thread means you cannot do networking operations in the UI thread, which means <em>you cannot do networking operations in a <code>*runOnUiThread(new Runnable() { ... }*</code> block</em> inside some other thread, either.</p>\n\n<p>(I just had a long head-scratching moment trying to figure out why I was getting that error somewhere other than my main thread.  This was why; this thread helped; and hopefully this comment will help someone else.)</p>\n"},{"tags":[],"owner":{"account_id":3288315,"reputation":3633,"user_id":2767181,"accept_rate":80,"display_name":"Ashwin S Ashok"},"comment_count":0,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1504759987,"creation_date":1405490977,"answer_id":24773389,"question_id":6343166,"body_markdown":"The error is due to executing long running operations in main thread,You can easily rectify the problem by using [AsynTask][1] or [Thread][2]. You can checkout this library [AsyncHTTPClient][3] for better handling. \r\n\r\n    AsyncHttpClient client = new AsyncHttpClient();\r\n    client.get(&quot;http://www.google.com&quot;, new AsyncHttpResponseHandler() {\r\n\r\n        @Override\r\n        public void onStart() {\r\n            // Called before a request is started\r\n        }\r\n\r\n        @Override\r\n        public void onSuccess(int statusCode, Header[] headers, byte[] response) {\r\n            // Called when response HTTP status is &quot;200 OK&quot;\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(int statusCode, Header[] headers, byte[] errorResponse, Throwable e) {\r\n            // Called when response HTTP status is &quot;4XX&quot; (for example, 401, 403, 404)\r\n        }\r\n\r\n        @Override\r\n        public void onRetry(int retryNo) {\r\n            // Called when request is retried\r\n        }\r\n    });\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask.html\r\n  [2]: https://developer.android.com/reference/java/lang/Thread.html\r\n  [3]: http://loopj.com/android-async-http/","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>The error is due to executing long running operations in main thread,You can easily rectify the problem by using <a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"noreferrer\">AsynTask</a> or <a href=\"https://developer.android.com/reference/java/lang/Thread.html\" rel=\"noreferrer\">Thread</a>. You can checkout this library <a href=\"http://loopj.com/android-async-http/\" rel=\"noreferrer\">AsyncHTTPClient</a> for better handling. </p>\n\n<pre><code>AsyncHttpClient client = new AsyncHttpClient();\nclient.get(\"http://www.google.com\", new AsyncHttpResponseHandler() {\n\n    @Override\n    public void onStart() {\n        // Called before a request is started\n    }\n\n    @Override\n    public void onSuccess(int statusCode, Header[] headers, byte[] response) {\n        // Called when response HTTP status is \"200 OK\"\n    }\n\n    @Override\n    public void onFailure(int statusCode, Header[] headers, byte[] errorResponse, Throwable e) {\n        // Called when response HTTP status is \"4XX\" (for example, 401, 403, 404)\n    }\n\n    @Override\n    public void onRetry(int retryNo) {\n        // Called when request is retried\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2534232,"reputation":492,"user_id":2201778,"accept_rate":43,"display_name":"amardeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1466629956,"creation_date":1405943600,"answer_id":24864462,"question_id":6343166,"body_markdown":"This exception occurs due to any heavy task performed on the main thread if that performing task takes *too much time*.\r\n\r\nTo avoid this, we can handle it using **threads** or **executers**\r\n\r\n    Executors.newSingleThreadExecutor().submit(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            // You can perform your task here.\r\n        }\r\n    });\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>This exception occurs due to any heavy task performed on the main thread if that performing task takes <em>too much time</em>.</p>\n\n<p>To avoid this, we can handle it using <strong>threads</strong> or <strong>executers</strong></p>\n\n<pre><code>Executors.newSingleThreadExecutor().submit(new Runnable() {\n    @Override\n    public void run() {\n        // You can perform your task here.\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3766062,"reputation":5113,"user_id":3129572,"display_name":"Vaishali Sutariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1688560283,"creation_date":1406544193,"answer_id":24993517,"question_id":6343166,"body_markdown":"Put your code inside:\r\n\r\n    new Thread(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                // Your implementation\r\n            }\r\n            catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }).start();\r\n\r\nOr:\r\n\r\n    class DemoTask extends AsyncTask&lt;Void, Void, Void&gt; {\r\n\r\n        protected Void doInBackground(Void... arg0) {\r\n            // Your implementation\r\n        }\r\n\r\n        protected void onPostExecute(Void result) {\r\n            // TODO: do something with the feed\r\n        }\r\n    }\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Put your code inside:</p>\n<pre><code>new Thread(new Runnable() {\n    @Override\n    public void run() {\n        try {\n            // Your implementation\n        }\n        catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}).start();\n</code></pre>\n<p>Or:</p>\n<pre><code>class DemoTask extends AsyncTask&lt;Void, Void, Void&gt; {\n\n    protected Void doInBackground(Void... arg0) {\n        // Your implementation\n    }\n\n    protected void onPostExecute(Void result) {\n        // TODO: do something with the feed\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2678073,"reputation":151,"user_id":2313968,"display_name":"Kumarsunil"},"comment_count":0,"down_vote_count":10,"up_vote_count":5,"is_accepted":false,"score":-5,"last_activity_date":1466630171,"creation_date":1418357541,"answer_id":27436728,"question_id":6343166,"body_markdown":"Android does not allow a separate process into the main activity thread, and the HTTP connection is an independent thread here. That is the reason you are getting the &quot;**android.os.NetworkOnMainThreadException**&quot;.\r\n\r\nThere can be a need where you want to check the actual Internet connection before showing webview to the user, because if there is not Internet the web view will show the *page not found* error to the user, which normally you don&#39;t what to show.\r\n\r\nFor checking Internet availability, the ping command can be used, but in case of Wi-Fi pinging can be disabled at the Wi-Fi server, so in this case you use an HTTP connection to check the status of the request.\r\n\r\nThis can be the right approach if you are checking your own webview URL link before showing a webview to the user. In this case, you can use the strict mode of Android, but don&#39;t permit all the policy because you don&#39;t need it.\r\n\r\nYou should only give network allow policy for the strict mode. Just add the below line into your code, and you will not get this error.\r\n\r\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitNetwork().build();\r\n    StrictMode.setThreadPolicy(policy);\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Android does not allow a separate process into the main activity thread, and the HTTP connection is an independent thread here. That is the reason you are getting the \"<strong>android.os.NetworkOnMainThreadException</strong>\".</p>\n\n<p>There can be a need where you want to check the actual Internet connection before showing webview to the user, because if there is not Internet the web view will show the <em>page not found</em> error to the user, which normally you don't what to show.</p>\n\n<p>For checking Internet availability, the ping command can be used, but in case of Wi-Fi pinging can be disabled at the Wi-Fi server, so in this case you use an HTTP connection to check the status of the request.</p>\n\n<p>This can be the right approach if you are checking your own webview URL link before showing a webview to the user. In this case, you can use the strict mode of Android, but don't permit all the policy because you don't need it.</p>\n\n<p>You should only give network allow policy for the strict mode. Just add the below line into your code, and you will not get this error.</p>\n\n<pre><code>StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitNetwork().build();\nStrictMode.setThreadPolicy(policy);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4300291,"reputation":2427,"user_id":3514144,"accept_rate":17,"display_name":"Ajay Pandya"},"score":0,"creation_date":1481278299,"post_id":27587768,"comment_id":69322468,"body_markdown":"For more link not work , Can u post some detail as ans for understanding","body":"For more link not work , Can u post some detail as ans for understanding"}],"tags":[],"owner":{"account_id":3225424,"reputation":5687,"user_id":2721917,"accept_rate":57,"display_name":"Subhalaxmi"},"comment_count":1,"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1466630234,"creation_date":1419149867,"answer_id":27587768,"question_id":6343166,"body_markdown":"I solved this problem in a simple way...\r\n\r\nI added after `oncreate` `StrictMode.enableDefaults();` and solved this.\r\n\r\nOr\r\n\r\nuse `Service` or `AsyncTask` to solve this\r\n\r\nNote:\r\n\r\n    Do not change SDK version\r\n    Do not use a separate thread\r\n\r\nFor more, [check this][1].\r\n\r\n  [1]: http://sevennet.org/2014/11/21/how-to-android-os-networkonmainthreadexception/\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I solved this problem in a simple way...</p>\n\n<p>I added after <code>oncreate</code> <code>StrictMode.enableDefaults();</code> and solved this.</p>\n\n<p>Or</p>\n\n<p>use <code>Service</code> or <code>AsyncTask</code> to solve this</p>\n\n<p>Note:</p>\n\n<pre><code>Do not change SDK version\nDo not use a separate thread\n</code></pre>\n\n<p>For more, <a href=\"http://sevennet.org/2014/11/21/how-to-android-os-networkonmainthreadexception/\" rel=\"nofollow\">check this</a>.</p>\n"},{"tags":[],"owner":{"account_id":3796533,"reputation":123,"user_id":3151440,"accept_rate":100,"display_name":"Gurpreet singh"},"comment_count":0,"down_vote_count":8,"up_vote_count":5,"is_accepted":false,"score":-3,"last_activity_date":1466630411,"creation_date":1422352603,"answer_id":28167574,"question_id":6343166,"body_markdown":"Use the below code to perform heavy tasks.\r\n\r\n    // Your package here\r\n\r\n\r\n    import java.util.List;\r\n    import org.apache.http.NameValuePair;\r\n\r\n    import android.app.Activity;\r\n    import android.app.ProgressDialog;\r\n    import android.content.Context;\r\n    import android.os.AsyncTask;\r\n    import android.view.View.OnSystemUiVisibilityChangeListener;\r\n\r\n    public class AsyncRequest extends AsyncTask&lt;String, Integer, String&gt; {\r\n\r\n        Context context;\r\n        ProgressDialog pDialog;\r\n\r\n        // Three Constructors\r\n        public AsyncRequest(Activity a, String m, List&lt;NameValuePair&gt; p) {\r\n            context = a;\r\n            method = m;\r\n            parameters = p;\r\n        }\r\n\r\n        public AsyncRequest(Activity a) {\r\n            this.caller = (OnAsyncRequestComplete) a;\r\n            context = a;\r\n        }\r\n\r\n        public String doInBackground(String... urls) {\r\n\r\n            //Perform your task here\r\n            return result;\r\n        }\r\n\r\n        public void onPreExecute() {\r\n            pDialog = new ProgressDialog(context);\r\n            pDialog.setMessage(&quot;Please wait..&quot;);\r\n            pDialog.setCancelable(false);\r\n            pDialog.show();\r\n        }\r\n\r\n        public void onProgressUpdate(Integer... progress) {\r\n            // You can implement some progressBar and update it in this record.\r\n            //   setProgressPercent(progress[0]);\r\n        }\r\n\r\n        public void onPostExecute(String response) {\r\n            if (pDialog != null &amp;&amp; pDialog.isShowing()) {\r\n                pDialog.dismiss();\r\n            }\r\n            // Get the result here\r\n        }\r\n\r\n        protected void onCancelled(String response) {\r\n\r\n            if (pDialog != null &amp;&amp; pDialog.isShowing()) {\r\n                pDialog.dismiss();\r\n            }\r\n        }\r\n    }\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Use the below code to perform heavy tasks.</p>\n\n<pre><code>// Your package here\n\n\nimport java.util.List;\nimport org.apache.http.NameValuePair;\n\nimport android.app.Activity;\nimport android.app.ProgressDialog;\nimport android.content.Context;\nimport android.os.AsyncTask;\nimport android.view.View.OnSystemUiVisibilityChangeListener;\n\npublic class AsyncRequest extends AsyncTask&lt;String, Integer, String&gt; {\n\n    Context context;\n    ProgressDialog pDialog;\n\n    // Three Constructors\n    public AsyncRequest(Activity a, String m, List&lt;NameValuePair&gt; p) {\n        context = a;\n        method = m;\n        parameters = p;\n    }\n\n    public AsyncRequest(Activity a) {\n        this.caller = (OnAsyncRequestComplete) a;\n        context = a;\n    }\n\n    public String doInBackground(String... urls) {\n\n        //Perform your task here\n        return result;\n    }\n\n    public void onPreExecute() {\n        pDialog = new ProgressDialog(context);\n        pDialog.setMessage(\"Please wait..\");\n        pDialog.setCancelable(false);\n        pDialog.show();\n    }\n\n    public void onProgressUpdate(Integer... progress) {\n        // You can implement some progressBar and update it in this record.\n        //   setProgressPercent(progress[0]);\n    }\n\n    public void onPostExecute(String response) {\n        if (pDialog != null &amp;&amp; pDialog.isShowing()) {\n            pDialog.dismiss();\n        }\n        // Get the result here\n    }\n\n    protected void onCancelled(String response) {\n\n        if (pDialog != null &amp;&amp; pDialog.isShowing()) {\n            pDialog.dismiss();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3283174,"reputation":3350,"user_id":2763256,"accept_rate":86,"display_name":"Kacy"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1626976468,"creation_date":1423869017,"answer_id":28510296,"question_id":6343166,"body_markdown":"This works. I just made [Dr.Luiji&#39;s answer][1] a little simpler.\r\n\r\n    new Thread() {\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                //Your code goes here\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }.start();\r\n\r\n  [1]: https://stackoverflow.com/questions/6343166/how-can-i-fix-android-os-networkonmainthreadexception/14443056#14443056\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>This works. I just made <a href=\"https://stackoverflow.com/questions/6343166/how-can-i-fix-android-os-networkonmainthreadexception/14443056#14443056\">Dr.Luiji's answer</a> a little simpler.</p>\n<pre><code>new Thread() {\n    @Override\n    public void run() {\n        try {\n            //Your code goes here\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}.start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2597730,"reputation":2015,"user_id":2251011,"accept_rate":50,"display_name":"msysmilu"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1424169091,"creation_date":1424169091,"answer_id":28559884,"question_id":6343166,"body_markdown":"Although above there is a huge solution pool, no one mentioned `com.koushikdutta.ion`: https://github.com/koush/ion\r\n\r\nIt&#39;s also **asynchronous** and **very simple** to use:\r\n\r\n\r\n    Ion.with(context)\r\n    .load(&quot;http://example.com/thing.json&quot;)\r\n    .asJsonObject()\r\n    .setCallback(new FutureCallback&lt;JsonObject&gt;() {\r\n       @Override\r\n        public void onCompleted(Exception e, JsonObject result) {\r\n            // do stuff with the result or error\r\n        }\r\n    });","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Although above there is a huge solution pool, no one mentioned <code>com.koushikdutta.ion</code>: <a href=\"https://github.com/koush/ion\" rel=\"noreferrer\">https://github.com/koush/ion</a></p>\n\n<p>It's also <strong>asynchronous</strong> and <strong>very simple</strong> to use:</p>\n\n<pre><code>Ion.with(context)\n.load(\"http://example.com/thing.json\")\n.asJsonObject()\n.setCallback(new FutureCallback&lt;JsonObject&gt;() {\n   @Override\n    public void onCompleted(Exception e, JsonObject result) {\n        // do stuff with the result or error\n    }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5820513,"reputation":8664,"user_id":4588760,"accept_rate":67,"display_name":"ci_"},"score":2,"creation_date":1426845610,"post_id":28735304,"comment_id":46546772,"body_markdown":"Bypassing the detection of network code on the UI thread is really bad advice, there is a reason it&#39;s there to begin with.","body":"Bypassing the detection of network code on the UI thread is really bad advice, there is a reason it&#39;s there to begin with."},{"owner":{"account_id":257874,"reputation":1100,"user_id":539651,"accept_rate":100,"display_name":"netsplit"},"score":0,"creation_date":1634093029,"post_id":28735304,"comment_id":122931082,"body_markdown":"Don&#39;t understand the hate on this answer, even if not usually optimal. Good to have options","body":"Don&#39;t understand the hate on this answer, even if not usually optimal. Good to have options"}],"tags":[],"owner":{"account_id":4064618,"reputation":1215,"user_id":3340034,"display_name":"prat3ik-patel"},"comment_count":2,"down_vote_count":12,"up_vote_count":9,"is_accepted":false,"score":-3,"last_activity_date":1626978808,"creation_date":1424929477,"answer_id":28735304,"question_id":6343166,"body_markdown":"You have to simply add the following line in file *manifest.xml* after the manifest tag\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\nAnd in the activity file, add the following code after the binding statement:\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt; 9) {\r\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n    }\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You have to simply add the following line in file <em>manifest.xml</em> after the manifest tag</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n<p>And in the activity file, add the following code after the binding statement:</p>\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt; 9) {\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1355715,"reputation":8016,"user_id":1294150,"accept_rate":24,"display_name":"Ponsuyambu"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1466847171,"creation_date":1435218179,"answer_id":31044168,"question_id":6343166,"body_markdown":"On Android, network operations cannot be run on the main thread. You can use Thread, AsyncTask (short-running tasks), Service (long-running tasks) to do network operations.\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>On Android, network operations cannot be run on the main thread. You can use Thread, AsyncTask (short-running tasks), Service (long-running tasks) to do network operations.</p>\n"},{"tags":[],"owner":{"account_id":3292987,"reputation":11366,"user_id":2770850,"accept_rate":85,"display_name":"Nabin"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1626975431,"creation_date":1437530744,"answer_id":31552681,"question_id":6343166,"body_markdown":"In simple words,\r\n\r\n***Do not do network work in the UI thread***\r\n\r\nFor example, if you do an HTTP request, that is a network action.\r\n\r\n**Solution:**\r\n\r\n 1. You have to create a new Thread\r\n 2. **Or** use the [AsyncTask class][1]\r\n\r\n**Way:**\r\n\r\nPut all your works inside\r\n\r\n 1. The `run()` method of the new thread\r\n 2. **Or** the `doInBackground()` method of the AsyncTask class.\r\n\r\n**But:**\r\n\r\nWhen you get something from a network response and want to show it on your view (like display response message in TextView), you need to **return back to the UI** thread.\r\n\r\nIf you don&#39;t do it, you will get `ViewRootImpl$CalledFromWrongThreadException`.\r\n\r\n**How-to**\r\n\r\n 1. While using AsyncTask, update the view from the `onPostExecute()` method\r\n 2. **Or** call the [`runOnUiThread()`][2] method and update the view inside the `run()` method.\r\n\r\n  [1]: https://www.google.com.np/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0CB0QFjAAahUKEwjgivqS0-3GAhUGOJQKHV_YD84&amp;url=http%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroid%2Fos%2FAsyncTask.html&amp;ei=RfquVaDUPIbw0ATfsL_wDA&amp;usg=AFQjCNE8gLVXz1Hwq4rI8oxRkZNHjhRzpQ&amp;sig2=qTI0AgoyYUXyDwHFQup9sw\r\n  [2]: https://stackoverflow.com/questions/11140285/how-to-use-runonuithread\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>In simple words,</p>\n<p><em><strong>Do not do network work in the UI thread</strong></em></p>\n<p>For example, if you do an HTTP request, that is a network action.</p>\n<p><strong>Solution:</strong></p>\n<ol>\n<li>You have to create a new Thread</li>\n<li><strong>Or</strong> use the <a href=\"https://www.google.com.np/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=0CB0QFjAAahUKEwjgivqS0-3GAhUGOJQKHV_YD84&amp;url=http%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroid%2Fos%2FAsyncTask.html&amp;ei=RfquVaDUPIbw0ATfsL_wDA&amp;usg=AFQjCNE8gLVXz1Hwq4rI8oxRkZNHjhRzpQ&amp;sig2=qTI0AgoyYUXyDwHFQup9sw\" rel=\"nofollow noreferrer\">AsyncTask class</a></li>\n</ol>\n<p><strong>Way:</strong></p>\n<p>Put all your works inside</p>\n<ol>\n<li>The <code>run()</code> method of the new thread</li>\n<li><strong>Or</strong> the <code>doInBackground()</code> method of the AsyncTask class.</li>\n</ol>\n<p><strong>But:</strong></p>\n<p>When you get something from a network response and want to show it on your view (like display response message in TextView), you need to <strong>return back to the UI</strong> thread.</p>\n<p>If you don't do it, you will get <code>ViewRootImpl$CalledFromWrongThreadException</code>.</p>\n<p><strong>How-to</strong></p>\n<ol>\n<li>While using AsyncTask, update the view from the <code>onPostExecute()</code> method</li>\n<li><strong>Or</strong> call the <a href=\"https://stackoverflow.com/questions/11140285/how-to-use-runonuithread\"><code>runOnUiThread()</code></a> method and update the view inside the <code>run()</code> method.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5725982,"reputation":1863,"user_id":4522954,"accept_rate":67,"display_name":"RevanthKrishnaKumar V."},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1466847331,"creation_date":1439454374,"answer_id":31983115,"question_id":6343166,"body_markdown":"Accessing network resources from the main (UI) thread cause this exception. Use a separate thread or AsyncTask for accessing a network resource to avoid this problem.\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Accessing network resources from the main (UI) thread cause this exception. Use a separate thread or AsyncTask for accessing a network resource to avoid this problem.</p>\n"},{"tags":[],"owner":{"account_id":5810354,"reputation":1190,"user_id":4581645,"display_name":"RobotCharlie"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1626978181,"creation_date":1439776048,"answer_id":32041717,"question_id":6343166,"body_markdown":"You can actually start a new Thread. I had this problem before and solved it by this way.\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You can actually start a new Thread. I had this problem before and solved it by this way.</p>\n"},{"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1698403053,"post_id":34352221,"comment_id":136404046,"body_markdown":"Note that AsyncTask was deprecated a few years ago.","body":"Note that AsyncTask was deprecated a few years ago."}],"tags":[],"owner":{"account_id":5763342,"reputation":2260,"user_id":4549000,"accept_rate":50,"display_name":"Krishna Satwaji Khandagale"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688560551,"creation_date":1450430601,"answer_id":34352221,"question_id":6343166,"body_markdown":"You are not allowed to implement network operations on the UI thread on Android. You will have to use AsyncTask class to perform network-related operations like sending API requests, downloading an image from a URL, etc., and using callback methods of `AsyncTask`, you can get your result in `onPostExecute` method and you will be in the UI thread and you can populate UI with data from web service or something like that.\r\n\r\nExample: Suppose you want to download an image from an URL: https://www.samplewebsite.com/sampleimage.jpg\r\n\r\nSolution using `AsyncTask`:\r\n`&lt;String, Void, Bitmap&gt;` are `&lt;Params, Progress, Result&gt;` respectively.\r\n\r\n        public class MyDownloader extends AsyncTask&lt;String, Void, Bitmap&gt;\r\n        {\r\n            @Override\r\n            protected void onPreExecute() {\r\n                // Show progress dialog\r\n                super.onPreExecute();\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Bitmap bitmap) {\r\n                //Populate Ui\r\n                super.onPostExecute(bitmap);\r\n            }\r\n\r\n            @Override\r\n            protected Bitmap doInBackground(String... params) {\r\n                // Open URL connection read bitmaps and return form here\r\n                return result;\r\n            }\r\n\r\n            @Override\r\n            protected void onProgressUpdate(Void... values) {\r\n                // Show progress update\r\n                super.onProgressUpdate(values);\r\n            }\r\n        }\r\n    }\r\n\r\nNote: Do not forget to add the Internet permission in the Android manifest file. It will work like a charm. :)\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You are not allowed to implement network operations on the UI thread on Android. You will have to use AsyncTask class to perform network-related operations like sending API requests, downloading an image from a URL, etc., and using callback methods of <code>AsyncTask</code>, you can get your result in <code>onPostExecute</code> method and you will be in the UI thread and you can populate UI with data from web service or something like that.</p>\n<p>Example: Suppose you want to download an image from an URL: <a href=\"https://www.samplewebsite.com/sampleimage.jpg\" rel=\"nofollow noreferrer\">https://www.samplewebsite.com/sampleimage.jpg</a></p>\n<p>Solution using <code>AsyncTask</code>:\n<code>&lt;String, Void, Bitmap&gt;</code> are <code>&lt;Params, Progress, Result&gt;</code> respectively.</p>\n<pre><code>    public class MyDownloader extends AsyncTask&lt;String, Void, Bitmap&gt;\n    {\n        @Override\n        protected void onPreExecute() {\n            // Show progress dialog\n            super.onPreExecute();\n        }\n\n        @Override\n        protected void onPostExecute(Bitmap bitmap) {\n            //Populate Ui\n            super.onPostExecute(bitmap);\n        }\n\n        @Override\n        protected Bitmap doInBackground(String... params) {\n            // Open URL connection read bitmaps and return form here\n            return result;\n        }\n\n        @Override\n        protected void onProgressUpdate(Void... values) {\n            // Show progress update\n            super.onProgressUpdate(values);\n        }\n    }\n}\n</code></pre>\n<p>Note: Do not forget to add the Internet permission in the Android manifest file. It will work like a charm. :)</p>\n"},{"tags":[],"owner":{"account_id":1450165,"reputation":4348,"user_id":1367344,"accept_rate":83,"display_name":"Adnan Abdollah Zaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1466847661,"creation_date":1452876474,"answer_id":34815939,"question_id":6343166,"body_markdown":"This exception is thrown when an application attempts to perform a networking operation on its main thread.\r\nIf your task took above five seconds, it takes a force close.\r\n\r\nRun your code in `AsyncTask`:\r\n\r\n    class RetrieveFeedTask extends AsyncTask&lt;String, Void, Boolean&gt; {\r\n\r\n        protected RSSFeed doInBackground(String... urls) {\r\n           // TODO: Connect\r\n        }\r\n\r\n        protected void onPostExecute(RSSFeed feed) {\r\n            // TODO: Check this.exception\r\n            // TODO: Do something with the feed\r\n        }\r\n    }\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>This exception is thrown when an application attempts to perform a networking operation on its main thread.\nIf your task took above five seconds, it takes a force close.</p>\n\n<p>Run your code in <code>AsyncTask</code>:</p>\n\n<pre><code>class RetrieveFeedTask extends AsyncTask&lt;String, Void, Boolean&gt; {\n\n    protected RSSFeed doInBackground(String... urls) {\n       // TODO: Connect\n    }\n\n    protected void onPostExecute(RSSFeed feed) {\n        // TODO: Check this.exception\n        // TODO: Do something with the feed\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5380927,"reputation":1325,"user_id":4286151,"accept_rate":0,"display_name":"BalaramNayak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466847870,"creation_date":1453197176,"answer_id":34873530,"question_id":6343166,"body_markdown":"The NetworkOnMainThread exception occurs because you have called some network operation on the default thread, that is, the UI thread. \r\nAs per Android version [Android&amp;nbsp;3][1] (Honeycomb) which is not allowed, you should call network operation outside the main thread.\r\n\r\nYou can use AsyncTask, IntentService, or creating your own thread and calling inside the run method.\r\nFor more information, visit *[Connecting to the Network][2]*.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\r\n  [2]: http://developer.android.com/training/basics/network-ops/connecting.html","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>The NetworkOnMainThread exception occurs because you have called some network operation on the default thread, that is, the UI thread. \nAs per Android version <a href=\"http://en.wikipedia.org/wiki/Android_version_history#Android_3.0_Honeycomb_.28API_level_11.29\" rel=\"nofollow\">Android&nbsp;3</a> (Honeycomb) which is not allowed, you should call network operation outside the main thread.</p>\n\n<p>You can use AsyncTask, IntentService, or creating your own thread and calling inside the run method.\nFor more information, visit <em><a href=\"http://developer.android.com/training/basics/network-ops/connecting.html\" rel=\"nofollow\">Connecting to the Network</a></em>.</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1626977427,"post_id":37387412,"comment_id":121042087,"body_markdown":"The second link is broken (404).","body":"The second link is broken (404)."},{"owner":{"account_id":2291803,"reputation":1086,"user_id":2014374,"display_name":"bpr10"},"score":0,"creation_date":1627028274,"post_id":37387412,"comment_id":121053099,"body_markdown":"Thanks, @PeterMortensen  Updated the link to the article.","body":"Thanks, @PeterMortensen  Updated the link to the article."}],"tags":[],"owner":{"account_id":2291803,"reputation":1086,"user_id":2014374,"display_name":"bpr10"},"comment_count":2,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1627028233,"creation_date":1463995935,"answer_id":37387412,"question_id":6343166,"body_markdown":"We can also use [RxJava][1] to move network operations to a background thread. And it&#39;s fairly simple as well.\r\n\r\n    webService.doSomething(someData)\r\n              .subscribeOn(Schedulers.newThread())-- This for background thread\r\n              .observeOn(AndroidSchedulers.mainThread()) -- for callback on UI\r\n              .subscribe(result -&gt; resultText.setText(&quot;It worked!&quot;),\r\n                  e -&gt; handleError(e));\r\n\r\nYou can do a lot more stuff with RxJava. Here are some links for RxJava. Feel free to dig in.\r\n\r\n*[RxJava async task in Android][2]*\r\n\r\n*[http://blog.stablekernel.com/replace-asynctask-asynctaskloader-rx-observable-rxjava-android-patterns/][3]*\r\n\r\n  [1]: https://stackoverflow.com/tags/rx-java/info\r\n  [2]: https://stackoverflow.com/questions/29670452/rxjava-async-task-in-android\r\n  [3]: https://stablekernel.com/article/replace-asynctask-and-asynctaskloader-with-rx-observable-rxjava-android-patterns/\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>We can also use <a href=\"https://stackoverflow.com/tags/rx-java/info\">RxJava</a> to move network operations to a background thread. And it's fairly simple as well.</p>\n<pre><code>webService.doSomething(someData)\n          .subscribeOn(Schedulers.newThread())-- This for background thread\n          .observeOn(AndroidSchedulers.mainThread()) -- for callback on UI\n          .subscribe(result -&gt; resultText.setText(&quot;It worked!&quot;),\n              e -&gt; handleError(e));\n</code></pre>\n<p>You can do a lot more stuff with RxJava. Here are some links for RxJava. Feel free to dig in.</p>\n<p><em><a href=\"https://stackoverflow.com/questions/29670452/rxjava-async-task-in-android\">RxJava async task in Android</a></em></p>\n<p><em><a href=\"https://stablekernel.com/article/replace-asynctask-and-asynctaskloader-with-rx-observable-rxjava-android-patterns/\" rel=\"nofollow noreferrer\">http://blog.stablekernel.com/replace-asynctask-asynctaskloader-rx-observable-rxjava-android-patterns/</a></em></p>\n"},{"tags":[],"owner":{"account_id":8206108,"reputation":3252,"user_id":6175778,"display_name":"Alex Shutov"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1626976427,"creation_date":1466719202,"answer_id":38002606,"question_id":6343166,"body_markdown":"There is another very convenient way for tackling this issue - use [RxJava&#39;s][1] concurrency capabilities. You can execute any task in the background and post results to the main thread in a very convenient way, so these results will be handed to the processing chain.\r\n\r\nThe first verified answer advice is to use AsynTask. Yes, this is a solution, but it is obsolete nowadays, because there are new tools around.\r\n\r\n    String getUrl() {\r\n        return &quot;SomeUrl&quot;;\r\n    }\r\n\r\n    private Object makeCallParseResponse(String url) {\r\n        return null;\r\n        //\r\n    }\r\n\r\n    private void processResponse(Object o) {\r\n\r\n    }\r\n\r\nThe *getUrl* method provides the URL address, and it will be executed on the main thread.\r\n\r\n`makeCallParseResponse(..)` - does the actual work\r\n\r\n`processResponse(..)` - will handle the result on the main thread.\r\n\r\nThe code for asynchronous execution will look like:\r\n\r\n    rx.Observable.defer(new Func0&lt;rx.Observable&lt;String&gt;&gt;() {\r\n        @Override\r\n        public rx.Observable&lt;String&gt; call() {\r\n            return rx.Observable.just(getUrl());\r\n        }\r\n    })\r\n        .subscribeOn(Schedulers.io())\r\n        .observeOn(Schedulers.io())\r\n        .map(new Func1&lt;String, Object&gt;() {\r\n            @Override\r\n            public Object call(final String s) {\r\n                return makeCallParseResponse(s);\r\n            }\r\n        })\r\n        .observeOn(AndroidSchedulers.mainThread())\r\n        .subscribe(new Action1&lt;Object&gt;() {\r\n            @Override\r\n            public void call(Object o) {\r\n                 processResponse(o);\r\n            }\r\n        },\r\n        new Action1&lt;Throwable&gt;() {\r\n            @Override\r\n            public void call(Throwable throwable) {\r\n                // Process error here, it will be posted on\r\n                // the main thread\r\n            }\r\n        });\r\n\r\nCompared to AsyncTask, this method allows to switch schedulers an arbitrary number of times (say, fetch data on one scheduler and process those data on another (say, Scheduler.computation()). You can also define your own schedulers.\r\n\r\nIn order to use this library, include following lines into your *build.gradle* file:\r\n\r\n       compile &#39;io.reactivex:rxjava:1.1.5&#39;\r\n       compile &#39;io.reactivex:rxandroid:1.2.0&#39;\r\n\r\nThe last dependency includes support for the .mainThread() scheduler.\r\n\r\nThere is [an excellent e-book for RxJava][2].\r\n\r\n  [1]: https://stackoverflow.com/tags/rx-java/info\r\n  [2]: https://github.com/Froussios/Intro-To-RxJava\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>There is another very convenient way for tackling this issue - use <a href=\"https://stackoverflow.com/tags/rx-java/info\">RxJava's</a> concurrency capabilities. You can execute any task in the background and post results to the main thread in a very convenient way, so these results will be handed to the processing chain.</p>\n<p>The first verified answer advice is to use AsynTask. Yes, this is a solution, but it is obsolete nowadays, because there are new tools around.</p>\n<pre><code>String getUrl() {\n    return &quot;SomeUrl&quot;;\n}\n\nprivate Object makeCallParseResponse(String url) {\n    return null;\n    //\n}\n\nprivate void processResponse(Object o) {\n\n}\n</code></pre>\n<p>The <em>getUrl</em> method provides the URL address, and it will be executed on the main thread.</p>\n<p><code>makeCallParseResponse(..)</code> - does the actual work</p>\n<p><code>processResponse(..)</code> - will handle the result on the main thread.</p>\n<p>The code for asynchronous execution will look like:</p>\n<pre><code>rx.Observable.defer(new Func0&lt;rx.Observable&lt;String&gt;&gt;() {\n    @Override\n    public rx.Observable&lt;String&gt; call() {\n        return rx.Observable.just(getUrl());\n    }\n})\n    .subscribeOn(Schedulers.io())\n    .observeOn(Schedulers.io())\n    .map(new Func1&lt;String, Object&gt;() {\n        @Override\n        public Object call(final String s) {\n            return makeCallParseResponse(s);\n        }\n    })\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe(new Action1&lt;Object&gt;() {\n        @Override\n        public void call(Object o) {\n             processResponse(o);\n        }\n    },\n    new Action1&lt;Throwable&gt;() {\n        @Override\n        public void call(Throwable throwable) {\n            // Process error here, it will be posted on\n            // the main thread\n        }\n    });\n</code></pre>\n<p>Compared to AsyncTask, this method allows to switch schedulers an arbitrary number of times (say, fetch data on one scheduler and process those data on another (say, Scheduler.computation()). You can also define your own schedulers.</p>\n<p>In order to use this library, include following lines into your <em>build.gradle</em> file:</p>\n<pre><code>   compile 'io.reactivex:rxjava:1.1.5'\n   compile 'io.reactivex:rxandroid:1.2.0'\n</code></pre>\n<p>The last dependency includes support for the .mainThread() scheduler.</p>\n<p>There is <a href=\"https://github.com/Froussios/Intro-To-RxJava\" rel=\"nofollow noreferrer\">an excellent e-book for RxJava</a>.</p>\n"},{"tags":[],"owner":{"account_id":4013696,"reputation":3065,"user_id":3306437,"display_name":"Lovekush Vishwakarma"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479758712,"creation_date":1475568051,"answer_id":39847133,"question_id":6343166,"body_markdown":"How to fix android.os.NetworkOnMainThreadException\r\n\r\nWhat is NetworkOnMainThreadException:\r\n\r\nIn Android all the UI operations we have to do on the UI thread (main thread). If we perform background operations or some network operation on the main thread then we risk this exception will occur and the app will not respond.\r\n\r\nHow to fix it:\r\n\r\nTo avoid this problem, you have to use another thread for background operations or network operations, like using asyncTask and use some library for network operations like Volley, AsyncHttp, etc.\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>How to fix android.os.NetworkOnMainThreadException</p>\n\n<p>What is NetworkOnMainThreadException:</p>\n\n<p>In Android all the UI operations we have to do on the UI thread (main thread). If we perform background operations or some network operation on the main thread then we risk this exception will occur and the app will not respond.</p>\n\n<p>How to fix it:</p>\n\n<p>To avoid this problem, you have to use another thread for background operations or network operations, like using asyncTask and use some library for network operations like Volley, AsyncHttp, etc.</p>\n"},{"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1698403042,"post_id":41669680,"comment_id":136404045,"body_markdown":"Note that `AsyncTask` was deprecated a few years ago.","body":"Note that <code>AsyncTask</code> was deprecated a few years ago."}],"tags":[],"owner":{"account_id":4389900,"reputation":1206,"user_id":3578677,"accept_rate":27,"display_name":"Mansuu...."},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688560787,"creation_date":1484542618,"answer_id":41669680,"question_id":6343166,"body_markdown":"android.os.NetworkOnMainThreadException is thrown when network operations are performed on the main thread. You better do this in AsyncTask to remove this Exception. Write it this way:\r\n\r\n        new AsyncTask&lt;Void, String, String&gt;() {\r\n\r\n            @Override\r\n            protected Void doInBackground(Void... params) {\r\n                // Perform your network operation.\r\n                // Get JSON or XML string from the server.\r\n                // Store in a local variable (say response) and return.\r\n                return response;\r\n            }\r\n\r\n            protected void onPostExecute(String results) {\r\n                // Response returned by doInBackGround() will be received\r\n                // by onPostExecute(String results).\r\n                // Now manipulate your jason/xml String(results).\r\n            }\r\n\r\n        }.execute();\r\n    }\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>android.os.NetworkOnMainThreadException is thrown when network operations are performed on the main thread. You better do this in AsyncTask to remove this Exception. Write it this way:</p>\n<pre><code>    new AsyncTask&lt;Void, String, String&gt;() {\n\n        @Override\n        protected Void doInBackground(Void... params) {\n            // Perform your network operation.\n            // Get JSON or XML string from the server.\n            // Store in a local variable (say response) and return.\n            return response;\n        }\n\n        protected void onPostExecute(String results) {\n            // Response returned by doInBackGround() will be received\n            // by onPostExecute(String results).\n            // Now manipulate your jason/xml String(results).\n        }\n\n    }.execute();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1638057,"reputation":117,"user_id":1511022,"display_name":"Himanshu"},"comment_count":0,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1498911918,"creation_date":1487503871,"answer_id":42326705,"question_id":6343166,"body_markdown":"You can also resolve this issue by using Strict Mode using the below code. It&#39;s also an alternative to resolving this issue.\r\n\r\n\tStrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    StrictMode.setThreadPolicy(policy);\r\n\r\nBut the best practice would be to use AsyncTask.\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You can also resolve this issue by using Strict Mode using the below code. It's also an alternative to resolving this issue.</p>\n\n<pre><code>StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(policy);\n</code></pre>\n\n<p>But the best practice would be to use AsyncTask.</p>\n"},{"tags":[],"owner":{"account_id":8148844,"reputation":83,"user_id":6136614,"accept_rate":17,"display_name":"aks"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498911800,"creation_date":1488471374,"answer_id":42560499,"question_id":6343166,"body_markdown":"As Android is working on a single thread, you should not do any network operation on the main thread. There are various ways to avoid this.\r\n\r\nUse the following way to perform a network operation\r\n\r\n - **Asysnctask**: For small operations which don&#39;t take much time.\r\n - **Intent Service**: For network operation which take a big amount of time.\r\n - Use a custom library like **Volley** and **Retrofit** for handling\r\n   complex network operations\r\n\r\n**Never use StrictMode.setThreadPolicy(policy)**, as it will freeze your UI and is not at all a good idea.\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>As Android is working on a single thread, you should not do any network operation on the main thread. There are various ways to avoid this.</p>\n\n<p>Use the following way to perform a network operation</p>\n\n<ul>\n<li><strong>Asysnctask</strong>: For small operations which don't take much time.</li>\n<li><strong>Intent Service</strong>: For network operation which take a big amount of time.</li>\n<li>Use a custom library like <strong>Volley</strong> and <strong>Retrofit</strong> for handling\ncomplex network operations</li>\n</ul>\n\n<p><strong>Never use StrictMode.setThreadPolicy(policy)</strong>, as it will freeze your UI and is not at all a good idea.</p>\n"},{"tags":[],"owner":{"account_id":8213409,"reputation":119,"user_id":6180676,"display_name":"Hossain Ahamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498911851,"creation_date":1489730444,"answer_id":42850269,"question_id":6343166,"body_markdown":"You can not call network on the main thread or UI thread. On Android if you want to call network there are two options -\r\n\r\n 1. Call asynctask, which will run one background thread to handle the network operation.\r\n 2. You can create your own runnable thread to handle the network operation.\r\n\r\nPersonally I prefer asynctask. For further information you can refer [this link][1].\r\n\r\n  [1]: https://developer.android.com/training/basics/network-ops/connecting.html\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You can not call network on the main thread or UI thread. On Android if you want to call network there are two options -</p>\n\n<ol>\n<li>Call asynctask, which will run one background thread to handle the network operation.</li>\n<li>You can create your own runnable thread to handle the network operation.</li>\n</ol>\n\n<p>Personally I prefer asynctask. For further information you can refer <a href=\"https://developer.android.com/training/basics/network-ops/connecting.html\" rel=\"nofollow noreferrer\">this link</a>.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1688560407,"creation_date":1494015116,"answer_id":43813062,"question_id":6343166,"body_markdown":"New `Thread` and [AsyncTask][1] solutions have been explained already.\r\n\r\n`AsyncTask` should ideally be used for short operations. Normal `Thread` is not preferable for Android. \r\n\r\nHave a look at alternate solution using [HandlerThread][2] and [Handler][3]\r\n\r\n**HandlerThread**\r\n\r\n&gt; Handy class for starting a new thread that has a looper. The looper can then be used to create handler classes. Note that `start()` must still be called.\r\n\r\n**Handler:**\r\n\r\n&gt;A Handler allows you to send and process Message and Runnable objects associated with a thread&#39;s MessageQueue. Each Handler instance is associated with a single thread and that thread&#39;s message queue. When you create a new Handler, it is bound to the thread / message queue of the thread that is creating it -- from that point on, it will deliver messages and runnables to that message queue and execute them as they come out of the message queue.\r\n\r\nSolution:\r\n\r\n1. Create `HandlerThread`\r\n\r\n2. Call `start()` on `HandlerThread`\r\n\r\n3. Create `Handler` by getting `Looper` from `HanlerThread`\r\n\r\n4. Embed your Network operation related code in `Runnable` object\r\n\r\n5. Submit `Runnable` task to `Handler`\r\n\r\nSample code snippet, which address  `NetworkOnMainThreadException`\r\n\r\n    HandlerThread handlerThread = new HandlerThread(&quot;URLConnection&quot;);\r\n    handlerThread.start();\r\n    handler mainHandler = new Handler(handlerThread.getLooper());\r\n    \r\n    Runnable myRunnable = new Runnable() {\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\ttry {\r\n    \t\t\tLog.d(&quot;Ravi&quot;, &quot;Before IO call&quot;);\r\n    \t\t\tURL page = new URL(&quot;http://www.google.com&quot;);\r\n    \t\t\tStringBuffer text = new StringBuffer();\r\n    \t\t\tHttpURLConnection conn = (HttpURLConnection) page.openConnection();\r\n    \t\t\tconn.connect();\r\n    \t\t\tInputStreamReader in = new InputStreamReader((InputStream) conn.getContent());\r\n    \t\t\tBufferedReader buff = new BufferedReader(in);\r\n    \t\t\tString line;\r\n    \t\t\twhile ( (line =  buff.readLine()) != null) {\r\n    \t\t\t\ttext.append(line + &quot;\\n&quot;);\r\n    \t\t\t}\r\n    \t\t\tLog.d(&quot;Ravi&quot;, &quot;After IO call&quot;);\r\n    \t\t\tLog.d(&quot;Ravi&quot;,text.toString());\r\n    \r\n    \t\t} catch (Exception err) {\r\n    \t\t\terr.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    };\r\n    mainHandler.post(myRunnable);\r\n\r\n\r\nPros of using this approach:\r\n\r\n1. Creating a new `Thread/AsyncTask` for each network operation is expensive. The `Thread/AsyncTask` will be destroyed and re-created for the next Network operations. But with `Handler` and `HandlerThread` approach, you can submit many network operations (as Runnable tasks) to single `HandlerThread` by using `Handler`. \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask.html\r\n  [2]: https://developer.android.com/reference/android/os/HandlerThread.html\r\n  [3]: https://developer.android.com/reference/android/os/Handler.html","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>New <code>Thread</code> and <a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">AsyncTask</a> solutions have been explained already.</p>\n<p><code>AsyncTask</code> should ideally be used for short operations. Normal <code>Thread</code> is not preferable for Android.</p>\n<p>Have a look at alternate solution using <a href=\"https://developer.android.com/reference/android/os/HandlerThread.html\" rel=\"nofollow noreferrer\">HandlerThread</a> and <a href=\"https://developer.android.com/reference/android/os/Handler.html\" rel=\"nofollow noreferrer\">Handler</a></p>\n<p><strong>HandlerThread</strong></p>\n<blockquote>\n<p>Handy class for starting a new thread that has a looper. The looper can then be used to create handler classes. Note that <code>start()</code> must still be called.</p>\n</blockquote>\n<p><strong>Handler:</strong></p>\n<blockquote>\n<p>A Handler allows you to send and process Message and Runnable objects associated with a thread's MessageQueue. Each Handler instance is associated with a single thread and that thread's message queue. When you create a new Handler, it is bound to the thread / message queue of the thread that is creating it -- from that point on, it will deliver messages and runnables to that message queue and execute them as they come out of the message queue.</p>\n</blockquote>\n<p>Solution:</p>\n<ol>\n<li><p>Create <code>HandlerThread</code></p>\n</li>\n<li><p>Call <code>start()</code> on <code>HandlerThread</code></p>\n</li>\n<li><p>Create <code>Handler</code> by getting <code>Looper</code> from <code>HanlerThread</code></p>\n</li>\n<li><p>Embed your Network operation related code in <code>Runnable</code> object</p>\n</li>\n<li><p>Submit <code>Runnable</code> task to <code>Handler</code></p>\n</li>\n</ol>\n<p>Sample code snippet, which address  <code>NetworkOnMainThreadException</code></p>\n<pre><code>HandlerThread handlerThread = new HandlerThread(&quot;URLConnection&quot;);\nhandlerThread.start();\nhandler mainHandler = new Handler(handlerThread.getLooper());\n\nRunnable myRunnable = new Runnable() {\n    @Override\n    public void run() {\n        try {\n            Log.d(&quot;Ravi&quot;, &quot;Before IO call&quot;);\n            URL page = new URL(&quot;http://www.google.com&quot;);\n            StringBuffer text = new StringBuffer();\n            HttpURLConnection conn = (HttpURLConnection) page.openConnection();\n            conn.connect();\n            InputStreamReader in = new InputStreamReader((InputStream) conn.getContent());\n            BufferedReader buff = new BufferedReader(in);\n            String line;\n            while ( (line =  buff.readLine()) != null) {\n                text.append(line + &quot;\\n&quot;);\n            }\n            Log.d(&quot;Ravi&quot;, &quot;After IO call&quot;);\n            Log.d(&quot;Ravi&quot;,text.toString());\n\n        } catch (Exception err) {\n            err.printStackTrace();\n        }\n    }\n};\nmainHandler.post(myRunnable);\n</code></pre>\n<p>Pros of using this approach:</p>\n<ol>\n<li>Creating a new <code>Thread/AsyncTask</code> for each network operation is expensive. The <code>Thread/AsyncTask</code> will be destroyed and re-created for the next Network operations. But with <code>Handler</code> and <code>HandlerThread</code> approach, you can submit many network operations (as Runnable tasks) to single <code>HandlerThread</code> by using <code>Handler</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10671589,"reputation":611,"user_id":7856490,"display_name":"Shinoo Goyal"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1626975978,"creation_date":1496987845,"answer_id":44450277,"question_id":6343166,"body_markdown":"`RxAndroid` is another better alternative to this problem and it saves us from hassles of creating threads and then posting results on Android UI thread.\r\n\r\nWe just need to specify threads on which tasks need to be executed and everything is handled internally.\r\n\r\n    Observable&lt;List&lt;String&gt;&gt; musicShowsObservable = Observable.fromCallable(new Callable&lt;List&lt;String&gt;&gt;() {\r\n\r\n      @Override\r\n      public List&lt;String&gt; call() {\r\n        return mRestClient.getFavoriteMusicShows();\r\n      }\r\n\r\n    });\r\n\r\n    mMusicShowSubscription = musicShowsObservable\r\n      .subscribeOn(Schedulers.io())\r\n      .observeOn(AndroidSchedulers.mainThread())\r\n      .subscribe(new Observer&lt;List&lt;String&gt;&gt;() {\r\n\r\n        @Override\r\n        public void onCompleted() { }\r\n\r\n        @Override\r\n        public void onError(Throwable e) { }\r\n\r\n        @Override\r\n        public void onNext(List&lt;String&gt; musicShows) {\r\n            listMusicShows(musicShows);\r\n        }\r\n    });\r\n\r\n 1. By specifiying `(Schedulers.io())`, RxAndroid will run `getFavoriteMusicShows()` on a different thread.\r\n\r\n 2. By using `AndroidSchedulers.mainThread()` we want to observe this Observable on the UI thread, i.e., we want our `onNext()` callback to be called on the UI thread.\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p><code>RxAndroid</code> is another better alternative to this problem and it saves us from hassles of creating threads and then posting results on Android UI thread.</p>\n<p>We just need to specify threads on which tasks need to be executed and everything is handled internally.</p>\n<pre><code>Observable&lt;List&lt;String&gt;&gt; musicShowsObservable = Observable.fromCallable(new Callable&lt;List&lt;String&gt;&gt;() {\n\n  @Override\n  public List&lt;String&gt; call() {\n    return mRestClient.getFavoriteMusicShows();\n  }\n\n});\n\nmMusicShowSubscription = musicShowsObservable\n  .subscribeOn(Schedulers.io())\n  .observeOn(AndroidSchedulers.mainThread())\n  .subscribe(new Observer&lt;List&lt;String&gt;&gt;() {\n\n    @Override\n    public void onCompleted() { }\n\n    @Override\n    public void onError(Throwable e) { }\n\n    @Override\n    public void onNext(List&lt;String&gt; musicShows) {\n        listMusicShows(musicShows);\n    }\n});\n</code></pre>\n<ol>\n<li><p>By specifiying <code>(Schedulers.io())</code>, RxAndroid will run <code>getFavoriteMusicShows()</code> on a different thread.</p>\n</li>\n<li><p>By using <code>AndroidSchedulers.mainThread()</code> we want to observe this Observable on the UI thread, i.e., we want our <code>onNext()</code> callback to be called on the UI thread.</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":2,"creation_date":1626976901,"post_id":45007912,"comment_id":121041912,"body_markdown":"From the GitHub page: *&quot;Anko is deprecated. Please see [this page](https://github.com/Kotlin/anko/blob/master/GOODBYE.md) for more information.&quot;*","body":"From the GitHub page: <i>&quot;Anko is deprecated. Please see <a href=\"https://github.com/Kotlin/anko/blob/master/GOODBYE.md\" rel=\"nofollow noreferrer\">this page</a> for more information.&quot;</i>"}],"tags":[],"owner":{"account_id":4749518,"reputation":405,"user_id":6656818,"display_name":"J.D.1731"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1626976838,"creation_date":1499677615,"answer_id":45007912,"question_id":6343166,"body_markdown":"You can either use [Kotlin][1] and [Anko][2].\r\n\r\n**Kotlin** is a new official language for *Android*. You can find  more about it here:\r\n*[Kotlin for Android][3]*.\r\n\r\n**Anko** is a supported library for Kotlin in Android. Some documentation is on [the GitHub page][2].\r\n\r\nThe solution which is really useful and has only a few lines of code written by @AntonioLeiva:\r\n*[Using Anko to run background tasks with Kotlin in Android (KAD 09)][4]*.\r\n\r\n    doAsync {\r\n        var result = runLongTask()\r\n        uiThread {\r\n            toast(result)\r\n        }\r\n    }\r\n\r\nSimple as it is, `NetworkOnMainThread` occurs when you run a background job on the UI thread, so one thing you have to do is to run your *longTask job* in the background. You can do this using this method and **Kotlin** with **Anko** in your Android app.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Kotlin_(programming_language)\r\n  [2]: https://github.com/Kotlin/anko\r\n  [3]: https://kotlinlang.org/docs/tutorials/kotlin-android.html\r\n  [4]: https://antonioleiva.com/anko-background-kotlin-android/\r\n\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You can either use <a href=\"https://en.wikipedia.org/wiki/Kotlin_(programming_language)\" rel=\"nofollow noreferrer\">Kotlin</a> and <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">Anko</a>.</p>\n<p><strong>Kotlin</strong> is a new official language for <em>Android</em>. You can find  more about it here:\n<em><a href=\"https://kotlinlang.org/docs/tutorials/kotlin-android.html\" rel=\"nofollow noreferrer\">Kotlin for Android</a></em>.</p>\n<p><strong>Anko</strong> is a supported library for Kotlin in Android. Some documentation is on <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">the GitHub page</a>.</p>\n<p>The solution which is really useful and has only a few lines of code written by @AntonioLeiva:\n<em><a href=\"https://antonioleiva.com/anko-background-kotlin-android/\" rel=\"nofollow noreferrer\">Using Anko to run background tasks with Kotlin in Android (KAD 09)</a></em>.</p>\n<pre><code>doAsync {\n    var result = runLongTask()\n    uiThread {\n        toast(result)\n    }\n}\n</code></pre>\n<p>Simple as it is, <code>NetworkOnMainThread</code> occurs when you run a background job on the UI thread, so one thing you have to do is to run your <em>longTask job</em> in the background. You can do this using this method and <strong>Kotlin</strong> with <strong>Anko</strong> in your Android app.</p>\n"},{"tags":[],"owner":{"account_id":8839888,"reputation":4094,"user_id":6602675,"display_name":"Sharath kumar"},"comment_count":0,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1516518505,"creation_date":1504521799,"answer_id":46035352,"question_id":6343166,"body_markdown":"The main thread is the UI thread, and you cannot do an operation in the main thread which may block the user interaction. You can solve this in two ways:\r\n\r\nForce to do the task in the main thread like this\r\n\r\n    StrictMode.ThreadPolicy threadPolicy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    StrictMode.setThreadPolicy(threadPolicy);\r\n\r\nOr create a simple handler and update the main thread if you want.\r\n\r\n    Runnable runnable;\r\n    Handler newHandler;\r\n\r\n    newHandler = new Handler();\r\n    runnable = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n             try {\r\n                //update UI\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } \r\n        }\r\n    };\r\n    newHandler.post(runnable);\r\n\r\nAnd to stop the thread use:\r\n\r\n    newHandler.removeCallbacks(runnable);\r\n\r\nFor more information check this out: *[Painless threading][1]*\r\n\r\n  [1]: https://android-developers.googleblog.com/2009/05/painless-threading.html\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>The main thread is the UI thread, and you cannot do an operation in the main thread which may block the user interaction. You can solve this in two ways:</p>\n\n<p>Force to do the task in the main thread like this</p>\n\n<pre><code>StrictMode.ThreadPolicy threadPolicy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(threadPolicy);\n</code></pre>\n\n<p>Or create a simple handler and update the main thread if you want.</p>\n\n<pre><code>Runnable runnable;\nHandler newHandler;\n\nnewHandler = new Handler();\nrunnable = new Runnable() {\n    @Override\n    public void run() {\n         try {\n            //update UI\n        } catch (Exception e) {\n            e.printStackTrace();\n        } \n    }\n};\nnewHandler.post(runnable);\n</code></pre>\n\n<p>And to stop the thread use:</p>\n\n<pre><code>newHandler.removeCallbacks(runnable);\n</code></pre>\n\n<p>For more information check this out: <em><a href=\"https://android-developers.googleblog.com/2009/05/painless-threading.html\" rel=\"noreferrer\">Painless threading</a></em></p>\n"},{"tags":[],"owner":{"account_id":1012051,"reputation":3609,"user_id":1024412,"accept_rate":54,"display_name":"KG6ZVP"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1626956902,"creation_date":1508543407,"answer_id":46858724,"question_id":6343166,"body_markdown":"There are many great answers already on this question, but a lot of great libraries have come out since those answers were posted. This is intended as a kind of newbie-guide.\r\n\r\nI will cover several use cases for performing network operations and *a* solution or two for each.\r\n\r\n# [REST][1] over HTTP\r\n\r\n*Typically JSON, but it can be XML or something else.*\r\n\r\n## Full API Access\r\n\r\nLet&#39;s say you are writing an app that lets users track stock prices, interest rates and currency exchange rates. You find an JSON API that looks something like this:\r\n\r\n```lang-none\r\nhttp://api.example.com/stocks                       // ResponseWrapper&lt;String&gt; object containing a\r\n                                                    // list of strings with ticker symbols\r\nhttp://api.example.com/stocks/$symbol               // Stock object\r\nhttp://api.example.com/stocks/$symbol/prices        // PriceHistory&lt;Stock&gt; object\r\nhttp://api.example.com/currencies                   // ResponseWrapper&lt;String&gt; object containing a\r\n                                                    // list of currency abbreviation\r\nhttp://api.example.com/currencies/$currency         // Currency object\r\nhttp://api.example.com/currencies/$id1/values/$id2  // PriceHistory&lt;Currency&gt; object comparing the prices\r\n                                                    // of the first currency (id1) to the second (id2)\r\n```\r\n\r\n### Retrofit from Square\r\n\r\nThis is an excellent choice for an API with multiple endpoints and allows you to declare the REST endpoints instead of having to code them individually as with other libraries like [Amazon Ion Java][2] or [Volley][3] (website: *[Retrofit][4]*).\r\n\r\nHow do you use it with the finances API?\r\n\r\n### File *build.gradle*\r\n\r\nAdd these lines to your *module* level *build.gradle* file:\r\n\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.3.0&#39; // Retrofit library, current as of September 21, 2017\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.3.0&#39; // Gson serialization and deserialization support for retrofit, version must match retrofit version\r\n\r\n### File *FinancesApi.java*\r\n\r\n    public interface FinancesApi {\r\n    \t@GET(&quot;stocks&quot;)\r\n    \tCall&lt;ResponseWrapper&lt;String&gt;&gt; listStocks();\r\n    \t@GET(&quot;stocks/{symbol}&quot;)\r\n    \tCall&lt;Stock&gt; getStock(@Path(&quot;symbol&quot;)String tickerSymbol);\r\n    \t@GET(&quot;stocks/{symbol}/prices&quot;)\r\n    \tCall&lt;PriceHistory&lt;Stock&gt;&gt; getPriceHistory(@Path(&quot;symbol&quot;)String tickerSymbol);\r\n\r\n    \t@GET(&quot;currencies&quot;)\r\n    \tCall&lt;ResponseWrapper&lt;String&gt;&gt; listCurrencies();\r\n    \t@GET(&quot;currencies/{symbol}&quot;)\r\n    \tCall&lt;Currency&gt; getCurrency(@Path(&quot;symbol&quot;)String currencySymbol);\r\n    \t@GET(&quot;currencies/{symbol}/values/{compare_symbol}&quot;)\r\n    \tCall&lt;PriceHistory&lt;Currency&gt;&gt; getComparativeHistory(@Path(&quot;symbol&quot;)String currency, @Path(&quot;compare_symbol&quot;)String currencyToPriceAgainst);\r\n    }\r\n\r\n### Class *FinancesApiBuilder*\r\n\r\n    public class FinancesApiBuilder {\r\n    \tpublic static FinancesApi build(String baseUrl){\r\n    \t\treturn new Retrofit.Builder()\r\n    \t\t\t\t\t.baseUrl(baseUrl)\r\n    \t\t\t\t\t.addConverterFactory(GsonConverterFactory.create())\r\n    \t\t\t\t\t.build()\r\n    \t\t\t\t\t.create(FinancesApi.class);\r\n    \t}\r\n    }\r\n\r\n### Class *FinancesFragment* snippet\r\n\r\n\tFinancesApi api = FinancesApiBuilder.build(&quot;http://api.example.com/&quot;); //trailing &#39;/&#39; required for predictable behavior\r\n\tapi.getStock(&quot;INTC&quot;).enqueue(new Callback&lt;Stock&gt;(){\r\n\t\t@Override\r\n\t\tpublic void onResponse(Call&lt;Stock&gt; stockCall, Response&lt;Stock&gt; stockResponse){\r\n\t\t\tStock stock = stockCall.body();\r\n\t\t\t// Do something with the stock\r\n\t\t}\r\n\t\t@Override\r\n\t\tpublic void onResponse(Call&lt;Stock&gt; stockCall, Throwable t){\r\n\t\t\t// Something bad happened\r\n\t\t}\r\n\t}\r\n\r\nIf your API requires an API key or other header, like a user token, etc. to be sent, Retrofit makes this easy (see [this awesome answer][5] to *https://stackoverflow.com/questions/42898920/* for details).\r\n\r\n## One-off REST API access\r\n\r\nLet&#39;s say you&#39;re building a &quot;mood weather&quot; app that looks up the user&#39;s GPS location and checks the current temperature in that area and tells them the mood. This type of app doesn&#39;t need to declare API endpoints; it just needs to be able to access one API endpoint.\r\n\r\n### Ion\r\n\r\nThis is a great library for this type of access.\r\n\r\nPlease read [msysmilu&#39;s great answer][6] to *https://stackoverflow.com/questions/6343166*.\r\n\r\n# Load images via HTTP\r\n\r\n## Volley\r\n\r\n*Volley can also be used for REST APIs, but due to the more complicated setup required, I prefer to use [Retrofit][4] from Square as above.*\r\n\r\nLet&#39;s say you are building a social networking app and want to load profile pictures of friends.\r\n\r\n### File *build.gradle*\r\n\r\nAdd this line to your *module* level *build.gradle* file:\r\n\r\n    implementation &#39;com.android.volley:volley:1.0.0&#39;\r\n\r\n### File *ImageFetch.java*\r\n\r\nVolley requires more setup than Retrofit. You will need to create a class like this to setup a RequestQueue, an ImageLoader and an ImageCache, but it&#39;s not too bad:\r\n\r\n    public class ImageFetch {\r\n    \tprivate static ImageLoader imageLoader = null;\r\n    \tprivate static RequestQueue imageQueue = null;\r\n\r\n    \tpublic static ImageLoader getImageLoader(Context ctx){\r\n    \t\tif(imageLoader == null){\r\n    \t\t\tif(imageQueue == null){\r\n    \t\t\t\timageQueue = Volley.newRequestQueue(ctx.getApplicationContext());\r\n    \t\t\t}\r\n    \t\t\timageLoader = new ImageLoader(imageQueue, new ImageLoader.ImageCache() {\r\n    \t\t\t\tMap&lt;String, Bitmap&gt; cache = new HashMap&lt;String, Bitmap&gt;();\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic Bitmap getBitmap(String url) {\r\n    \t\t\t\t\treturn cache.get(url);\r\n    \t\t\t\t}\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void putBitmap(String url, Bitmap bitmap) {\r\n    \t\t\t\t\tcache.put(url, bitmap);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\treturn imageLoader;\r\n    \t}\r\n    }\r\n\r\n### File *user_view_dialog.xml*\r\n\r\nAdd the following to your layout XML file to add an image:\r\n\r\n```lang-xml\r\n&lt;com.android.volley.toolbox.NetworkImageView\r\n\tandroid:id=&quot;@+id/profile_picture&quot;\r\n\tandroid:layout_width=&quot;32dp&quot;\r\n\tandroid:layout_height=&quot;32dp&quot;\r\n\tandroid:layout_alignParentTop=&quot;true&quot;\r\n\tandroid:layout_centerHorizontal=&quot;true&quot;\r\n\tapp:srcCompat=&quot;@android:drawable/spinner_background&quot;/&gt;\r\n```\r\n\r\n### File *UserViewDialog.java*\r\n\r\nAdd the following code to the onCreate method (Fragment, Activity) or the constructor (Dialog):\r\n\r\n    NetworkImageView profilePicture = view.findViewById(R.id.profile_picture);\r\n    profilePicture.setImageUrl(&quot;http://example.com/users/images/profile.jpg&quot;, ImageFetch.getImageLoader(getContext());\r\n\r\n## Picasso\r\n\r\n[Picasso][7] is another excellent library from Square. Please see the website for some great examples.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Representational_state_transfer\r\n  [2]: https://amzn.github.io/ion-docs/\r\n  [3]: https://developer.android.com/training/volley/\r\n  [4]: http://square.github.io/retrofit/\r\n  [5]: https://stackoverflow.com/questions/42898920/add-header-parameter-in-retrofit/42899766#42899766\r\n  [6]: https://stackoverflow.com/questions/6343166/how-can-i-fix-android-os-networkonmainthreadexception/28559884#28559884\r\n  [7]: http://square.github.io/picasso/\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>There are many great answers already on this question, but a lot of great libraries have come out since those answers were posted. This is intended as a kind of newbie-guide.</p>\n<p>I will cover several use cases for performing network operations and <em>a</em> solution or two for each.</p>\n<h1 id=\"rest-over-http-nzt9\"><a href=\"https://en.wikipedia.org/wiki/Representational_state_transfer\" rel=\"nofollow noreferrer\">REST</a> over HTTP</h1>\n<p><em>Typically JSON, but it can be XML or something else.</em></p>\n<h2 id=\"full-api-access-wvsz\">Full API Access</h2>\n<p>Let's say you are writing an app that lets users track stock prices, interest rates and currency exchange rates. You find an JSON API that looks something like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>http://api.example.com/stocks                       // ResponseWrapper&lt;String&gt; object containing a\n                                                    // list of strings with ticker symbols\nhttp://api.example.com/stocks/$symbol               // Stock object\nhttp://api.example.com/stocks/$symbol/prices        // PriceHistory&lt;Stock&gt; object\nhttp://api.example.com/currencies                   // ResponseWrapper&lt;String&gt; object containing a\n                                                    // list of currency abbreviation\nhttp://api.example.com/currencies/$currency         // Currency object\nhttp://api.example.com/currencies/$id1/values/$id2  // PriceHistory&lt;Currency&gt; object comparing the prices\n                                                    // of the first currency (id1) to the second (id2)\n</code></pre>\n<h3 id=\"retrofit-from-square-j5a1\">Retrofit from Square</h3>\n<p>This is an excellent choice for an API with multiple endpoints and allows you to declare the REST endpoints instead of having to code them individually as with other libraries like <a href=\"https://amzn.github.io/ion-docs/\" rel=\"nofollow noreferrer\">Amazon Ion Java</a> or <a href=\"https://developer.android.com/training/volley/\" rel=\"nofollow noreferrer\">Volley</a> (website: <em><a href=\"http://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">Retrofit</a></em>).</p>\n<p>How do you use it with the finances API?</p>\n<h3 id=\"file-build.gradle-uu1e\">File <em>build.gradle</em></h3>\n<p>Add these lines to your <em>module</em> level <em>build.gradle</em> file:</p>\n<pre><code>implementation 'com.squareup.retrofit2:retrofit:2.3.0' // Retrofit library, current as of September 21, 2017\nimplementation 'com.squareup.retrofit2:converter-gson:2.3.0' // Gson serialization and deserialization support for retrofit, version must match retrofit version\n</code></pre>\n<h3 id=\"file-financesapi.java-lwca\">File <em>FinancesApi.java</em></h3>\n<pre><code>public interface FinancesApi {\n    @GET(&quot;stocks&quot;)\n    Call&lt;ResponseWrapper&lt;String&gt;&gt; listStocks();\n    @GET(&quot;stocks/{symbol}&quot;)\n    Call&lt;Stock&gt; getStock(@Path(&quot;symbol&quot;)String tickerSymbol);\n    @GET(&quot;stocks/{symbol}/prices&quot;)\n    Call&lt;PriceHistory&lt;Stock&gt;&gt; getPriceHistory(@Path(&quot;symbol&quot;)String tickerSymbol);\n\n    @GET(&quot;currencies&quot;)\n    Call&lt;ResponseWrapper&lt;String&gt;&gt; listCurrencies();\n    @GET(&quot;currencies/{symbol}&quot;)\n    Call&lt;Currency&gt; getCurrency(@Path(&quot;symbol&quot;)String currencySymbol);\n    @GET(&quot;currencies/{symbol}/values/{compare_symbol}&quot;)\n    Call&lt;PriceHistory&lt;Currency&gt;&gt; getComparativeHistory(@Path(&quot;symbol&quot;)String currency, @Path(&quot;compare_symbol&quot;)String currencyToPriceAgainst);\n}\n</code></pre>\n<h3 id=\"class-financesapibuilder-7lsi\">Class <em>FinancesApiBuilder</em></h3>\n<pre><code>public class FinancesApiBuilder {\n    public static FinancesApi build(String baseUrl){\n        return new Retrofit.Builder()\n                    .baseUrl(baseUrl)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build()\n                    .create(FinancesApi.class);\n    }\n}\n</code></pre>\n<h3 id=\"class-financesfragment-snippet-4nuc\">Class <em>FinancesFragment</em> snippet</h3>\n<pre><code>FinancesApi api = FinancesApiBuilder.build(&quot;http://api.example.com/&quot;); //trailing '/' required for predictable behavior\napi.getStock(&quot;INTC&quot;).enqueue(new Callback&lt;Stock&gt;(){\n    @Override\n    public void onResponse(Call&lt;Stock&gt; stockCall, Response&lt;Stock&gt; stockResponse){\n        Stock stock = stockCall.body();\n        // Do something with the stock\n    }\n    @Override\n    public void onResponse(Call&lt;Stock&gt; stockCall, Throwable t){\n        // Something bad happened\n    }\n}\n</code></pre>\n<p>If your API requires an API key or other header, like a user token, etc. to be sent, Retrofit makes this easy (see <a href=\"https://stackoverflow.com/questions/42898920/add-header-parameter-in-retrofit/42899766#42899766\">this awesome answer</a> to <em><a href=\"https://stackoverflow.com/questions/42898920/\">Add Header Parameter in Retrofit</a></em> for details).</p>\n<h2 id=\"one-off-rest-api-access-z59h\">One-off REST API access</h2>\n<p>Let's say you're building a &quot;mood weather&quot; app that looks up the user's GPS location and checks the current temperature in that area and tells them the mood. This type of app doesn't need to declare API endpoints; it just needs to be able to access one API endpoint.</p>\n<h3 id=\"ion-oacp\">Ion</h3>\n<p>This is a great library for this type of access.</p>\n<p>Please read <a href=\"https://stackoverflow.com/questions/6343166/how-can-i-fix-android-os-networkonmainthreadexception/28559884#28559884\">msysmilu's great answer</a> to <em><a href=\"https://stackoverflow.com/questions/6343166\">How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?</a></em>.</p>\n<h1 id=\"load-images-via-http-8qty\">Load images via HTTP</h1>\n<h2 id=\"volley-ct3h\">Volley</h2>\n<p><em>Volley can also be used for REST APIs, but due to the more complicated setup required, I prefer to use <a href=\"http://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">Retrofit</a> from Square as above.</em></p>\n<p>Let's say you are building a social networking app and want to load profile pictures of friends.</p>\n<h3 id=\"file-build.gradle-1-xq8r\">File <em>build.gradle</em></h3>\n<p>Add this line to your <em>module</em> level <em>build.gradle</em> file:</p>\n<pre><code>implementation 'com.android.volley:volley:1.0.0'\n</code></pre>\n<h3 id=\"file-imagefetch.java-g0ls\">File <em>ImageFetch.java</em></h3>\n<p>Volley requires more setup than Retrofit. You will need to create a class like this to setup a RequestQueue, an ImageLoader and an ImageCache, but it's not too bad:</p>\n<pre><code>public class ImageFetch {\n    private static ImageLoader imageLoader = null;\n    private static RequestQueue imageQueue = null;\n\n    public static ImageLoader getImageLoader(Context ctx){\n        if(imageLoader == null){\n            if(imageQueue == null){\n                imageQueue = Volley.newRequestQueue(ctx.getApplicationContext());\n            }\n            imageLoader = new ImageLoader(imageQueue, new ImageLoader.ImageCache() {\n                Map&lt;String, Bitmap&gt; cache = new HashMap&lt;String, Bitmap&gt;();\n                @Override\n                public Bitmap getBitmap(String url) {\n                    return cache.get(url);\n                }\n                @Override\n                public void putBitmap(String url, Bitmap bitmap) {\n                    cache.put(url, bitmap);\n                }\n            });\n        }\n        return imageLoader;\n    }\n}\n</code></pre>\n<h3 id=\"file-user_view_dialog.xml-vi6y\">File <em>user_view_dialog.xml</em></h3>\n<p>Add the following to your layout XML file to add an image:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.android.volley.toolbox.NetworkImageView\n    android:id=&quot;@+id/profile_picture&quot;\n    android:layout_width=&quot;32dp&quot;\n    android:layout_height=&quot;32dp&quot;\n    android:layout_alignParentTop=&quot;true&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    app:srcCompat=&quot;@android:drawable/spinner_background&quot;/&gt;\n</code></pre>\n<h3 id=\"file-userviewdialog.java-qsy0\">File <em>UserViewDialog.java</em></h3>\n<p>Add the following code to the onCreate method (Fragment, Activity) or the constructor (Dialog):</p>\n<pre><code>NetworkImageView profilePicture = view.findViewById(R.id.profile_picture);\nprofilePicture.setImageUrl(&quot;http://example.com/users/images/profile.jpg&quot;, ImageFetch.getImageLoader(getContext());\n</code></pre>\n<h2 id=\"picasso-iipo\">Picasso</h2>\n<p><a href=\"http://square.github.io/picasso/\" rel=\"nofollow noreferrer\">Picasso</a> is another excellent library from Square. Please see the website for some great examples.</p>\n"},{"comments":[{"owner":{"account_id":3985924,"reputation":55305,"user_id":3286489,"accept_rate":60,"display_name":"Elye"},"score":0,"creation_date":1516226163,"post_id":48310641,"comment_id":83607003,"body_markdown":"You could find the complete code from https://github.com/elye/demo_android_network_evolution","body":"You could find the complete code from <a href=\"https://github.com/elye/demo_android_network_evolution\" rel=\"nofollow noreferrer\">github.com/elye/demo_android_network_evolution</a>"},{"owner":{"account_id":3985924,"reputation":55305,"user_id":3286489,"accept_rate":60,"display_name":"Elye"},"score":0,"creation_date":1516226210,"post_id":48310641,"comment_id":83607023,"body_markdown":"If you like to look at the overall trend of network access in Android historically to present, check out https://medium.com/@elye.project/the-evolution-of-android-network-access-1e199fc6e9a2","body":"If you like to look at the overall trend of network access in Android historically to present, check out <a href=\"https://medium.com/@elye.project/the-evolution-of-android-network-access-1e199fc6e9a2\" rel=\"nofollow noreferrer\">medium.com/@elye.project/&hellip;</a>"}],"tags":[],"owner":{"account_id":3985924,"reputation":55305,"user_id":3286489,"accept_rate":60,"display_name":"Elye"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1626978365,"creation_date":1516226096,"answer_id":48310641,"question_id":6343166,"body_markdown":"As of 2018, I would recommend to use [RxJava][1] in Kotlin for network fetching. A simple example is below.\r\n\r\n    Single.fromCallable {\r\n            // Your Network Fetching Code\r\n            Network.fetchHttp(url) \r\n        }\r\n        .subscribeOn(Schedulers.io())\r\n        .observeOn(AndroidSchedulers.mainThread())\r\n        .subscribe {\r\n            // What you need to do with your result on the view \r\n            result -&gt; view.updateScreen(result) \r\n        }\r\n\r\n  [1]: https://stackoverflow.com/tags/rx-java/info\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>As of 2018, I would recommend to use <a href=\"https://stackoverflow.com/tags/rx-java/info\">RxJava</a> in Kotlin for network fetching. A simple example is below.</p>\n<pre><code>Single.fromCallable {\n        // Your Network Fetching Code\n        Network.fetchHttp(url) \n    }\n    .subscribeOn(Schedulers.io())\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe {\n        // What you need to do with your result on the view \n        result -&gt; view.updateScreen(result) \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1626975707,"creation_date":1521302329,"answer_id":49338894,"question_id":6343166,"body_markdown":"You are able to move a part of your code into another thread to offload the `main thread` and avoid getting [ANR][1], [NetworkOnMainThreadException][2], [IllegalStateException][3] (e.g., cannot access database on the main thread since it may potentially lock the UI for a long period of time).\r\n\r\nThere are some approaches that you should choose depends on the situation\r\n\r\nJava [Thread][4] or Android [HandlerThread][5]:\r\n\r\n&gt;Java threads are one-time use only and die after executing its run method.\r\n&gt;\r\n&gt;HandlerThread is a handy class for starting a new thread that has a looper.\r\n\r\n[AsyncTask][6] (**deprecated** in API level 30)\r\n&gt;**AsyncTask** is designed to be a helper class around **Thread** and **Handler** and does not constitute a generic threading framework. AsyncTasks should ideally be used for short operations (a few seconds at the most.) If you need to keep threads running for long periods of time, it is highly recommended you use the various APIs provided by the java.util.concurrent package such as **Executor**, **ThreadPoolExecutor** and **FutureTask**.\r\n\r\nSince the *main* thread monopolizes UI components, it is not possible to access to some View, and that is why Handler comes to the rescue\r\n\r\n[\\[Executor framework\\]][7]\r\n\r\n&gt; ThreadPoolExecutor class that implements ExecutorService which gives fine control on the thread pool (E.g., core pool size, max pool size, keep alive time, etc.)\r\n&gt;\r\n&gt; ScheduledThreadPoolExecutor - a class that extends ThreadPoolExecutor. It can schedule tasks after a given delay or periodically.\r\n\r\n[FutureTask][10]\r\n&gt;FutureTask performs asynchronous processing, however, if the result is not ready yet or processing has not complete, calling get() will be block the thread\r\n\r\n[AsyncTaskLoaders][11]\r\n&gt;AsyncTaskLoaders as they solve a lot of problems that are inherent to AsyncTask\r\n\r\n[IntentService][12]\r\n&gt; This is the de facto choice for long running processing on Android, a good example would be to upload or download large files. The upload and download may continue even if the user exits the app and you certainly do not want to block the user from being able to use the app while these tasks are going on.\r\n\r\n[JobScheduler][13]\r\n&gt; Effectively, you have to create a Service and create a job using JobInfo.Builder that specifies your criteria for when to run the service.\r\n\r\n[RxJava][14]\r\n&gt; Library for composing asynchronous and event-based programs by using observable sequences.\r\n\r\n[Coroutines][15] (Kotlin)\r\n&gt; The main gist of it is, it makes asynchronous code looks so much like synchronous\r\n\r\nRead more [here][16], [here][17], [here][18], and [here][19].\r\n\r\n  [1]: https://developer.android.com/topic/performance/vitals/anr.html\r\n  [2]: https://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\r\n  [3]: https://developer.android.com/reference/java/lang/IllegalStateException.html\r\n  [4]: https://developer.android.com/reference/java/lang/Thread.html\r\n  [5]: https://developer.android.com/reference/android/os/HandlerThread.html\r\n  [6]: https://developer.android.com/reference/android/os/AsyncTask.html\r\n  [7]: https://stackoverflow.com/a/66567556/4770877\r\n  [8]: https://developer.android.com/reference/java/util/concurrent/ThreadPoolExecutor.html\r\n  [9]: https://developer.android.com/reference/java/util/concurrent/ScheduledThreadPoolExecutor.html\r\n  [10]: https://developer.android.com/reference/java/util/concurrent/FutureTask.html\r\n  [11]: https://developer.android.com/reference/android/content/AsyncTaskLoader.html\r\n  [12]: https://developer.android.com/reference/android/app/IntentService.html\r\n  [13]: https://developer.android.com/reference/android/app/job/JobScheduler.html\r\n  [14]: https://github.com/ReactiveX/RxJava\r\n  [15]: https://kotlinlang.org/docs/reference/coroutines.html\r\n  [16]: https://android.jlelse.eu/8-ways-to-do-asynchronous-processing-in-android-and-counting-f634dc6fae4e\r\n  [17]: https://medium.com/@elye.project/the-evolution-of-android-network-access-1e199fc6e9a2\r\n  [18]: https://medium.com/@frank.tan/using-a-thread-pool-in-android-e3c88f59d07f\r\n  [19]: https://guides.codepath.com/android/Managing-Threads-and-Custom-Services#handlerthread-caveats\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You are able to move a part of your code into another thread to offload the <code>main thread</code> and avoid getting <a href=\"https://developer.android.com/topic/performance/vitals/anr.html\" rel=\"nofollow noreferrer\">ANR</a>, <a href=\"https://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\" rel=\"nofollow noreferrer\">NetworkOnMainThreadException</a>, <a href=\"https://developer.android.com/reference/java/lang/IllegalStateException.html\" rel=\"nofollow noreferrer\">IllegalStateException</a> (e.g., cannot access database on the main thread since it may potentially lock the UI for a long period of time).</p>\n<p>There are some approaches that you should choose depends on the situation</p>\n<p>Java <a href=\"https://developer.android.com/reference/java/lang/Thread.html\" rel=\"nofollow noreferrer\">Thread</a> or Android <a href=\"https://developer.android.com/reference/android/os/HandlerThread.html\" rel=\"nofollow noreferrer\">HandlerThread</a>:</p>\n<blockquote>\n<p>Java threads are one-time use only and die after executing its run method.</p>\n<p>HandlerThread is a handy class for starting a new thread that has a looper.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">AsyncTask</a> (<strong>deprecated</strong> in API level 30)</p>\n<blockquote>\n<p><strong>AsyncTask</strong> is designed to be a helper class around <strong>Thread</strong> and <strong>Handler</strong> and does not constitute a generic threading framework. AsyncTasks should ideally be used for short operations (a few seconds at the most.) If you need to keep threads running for long periods of time, it is highly recommended you use the various APIs provided by the java.util.concurrent package such as <strong>Executor</strong>, <strong>ThreadPoolExecutor</strong> and <strong>FutureTask</strong>.</p>\n</blockquote>\n<p>Since the <em>main</em> thread monopolizes UI components, it is not possible to access to some View, and that is why Handler comes to the rescue</p>\n<p><a href=\"https://stackoverflow.com/a/66567556/4770877\">[Executor framework]</a></p>\n<blockquote>\n<p>ThreadPoolExecutor class that implements ExecutorService which gives fine control on the thread pool (E.g., core pool size, max pool size, keep alive time, etc.)</p>\n<p>ScheduledThreadPoolExecutor - a class that extends ThreadPoolExecutor. It can schedule tasks after a given delay or periodically.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/java/util/concurrent/FutureTask.html\" rel=\"nofollow noreferrer\">FutureTask</a></p>\n<blockquote>\n<p>FutureTask performs asynchronous processing, however, if the result is not ready yet or processing has not complete, calling get() will be block the thread</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/android/content/AsyncTaskLoader.html\" rel=\"nofollow noreferrer\">AsyncTaskLoaders</a></p>\n<blockquote>\n<p>AsyncTaskLoaders as they solve a lot of problems that are inherent to AsyncTask</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/android/app/IntentService.html\" rel=\"nofollow noreferrer\">IntentService</a></p>\n<blockquote>\n<p>This is the de facto choice for long running processing on Android, a good example would be to upload or download large files. The upload and download may continue even if the user exits the app and you certainly do not want to block the user from being able to use the app while these tasks are going on.</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/reference/android/app/job/JobScheduler.html\" rel=\"nofollow noreferrer\">JobScheduler</a></p>\n<blockquote>\n<p>Effectively, you have to create a Service and create a job using JobInfo.Builder that specifies your criteria for when to run the service.</p>\n</blockquote>\n<p><a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow noreferrer\">RxJava</a></p>\n<blockquote>\n<p>Library for composing asynchronous and event-based programs by using observable sequences.</p>\n</blockquote>\n<p><a href=\"https://kotlinlang.org/docs/reference/coroutines.html\" rel=\"nofollow noreferrer\">Coroutines</a> (Kotlin)</p>\n<blockquote>\n<p>The main gist of it is, it makes asynchronous code looks so much like synchronous</p>\n</blockquote>\n<p>Read more <a href=\"https://android.jlelse.eu/8-ways-to-do-asynchronous-processing-in-android-and-counting-f634dc6fae4e\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://medium.com/@elye.project/the-evolution-of-android-network-access-1e199fc6e9a2\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://medium.com/@frank.tan/using-a-thread-pool-in-android-e3c88f59d07f\" rel=\"nofollow noreferrer\">here</a>, and <a href=\"https://guides.codepath.com/android/Managing-Threads-and-Custom-Services#handlerthread-caveats\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":8502650,"reputation":1226,"user_id":6375170,"display_name":"Ashok Kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1626978431,"creation_date":1525944279,"answer_id":50269579,"question_id":6343166,"body_markdown":"Different options:\r\n\r\n1. Use a normal Java runnable thread to process the network task and one can use runOnUIThread() to update the UI\r\n\r\n2. intentservice/ async task can be used in case you want to update the UI after getting a network response\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Different options:</p>\n<ol>\n<li><p>Use a normal Java runnable thread to process the network task and one can use runOnUIThread() to update the UI</p>\n</li>\n<li><p>intentservice/ async task can be used in case you want to update the UI after getting a network response</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":1,"creation_date":1577793222,"post_id":53714429,"comment_id":105256424,"body_markdown":"Anko is deprecated","body":"Anko is deprecated"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1626977745,"post_id":53714429,"comment_id":121042194,"body_markdown":"[Source for deprecation of Anko](https://github.com/Kotlin/anko).","body":"<a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">Source for deprecation of Anko</a>."}],"tags":[],"owner":{"account_id":9030732,"reputation":432,"user_id":6728443,"accept_rate":25,"display_name":"Devix"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1626977706,"creation_date":1544479777,"answer_id":53714429,"question_id":6343166,"body_markdown":"If you are working in Kotlin and [Anko][1] you can add:\r\n\r\n    doAsync {\r\n        method()\r\n    }\r\n\r\n  [1]: https://github.com/Kotlin/anko\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>If you are working in Kotlin and <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">Anko</a> you can add:</p>\n<pre><code>doAsync {\n    method()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9794879,"reputation":11137,"user_id":7258332,"accept_rate":33,"display_name":"Santanu Sur"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1626977827,"creation_date":1551461855,"answer_id":54949705,"question_id":6343166,"body_markdown":"You can use Kotlin [coroutines][1]:\r\n\r\n     class YoutActivity : AppCompatActivity, CoroutineScope {\r\n          \r\n          override fun onCreate(...) {\r\n             launch {  yourHeavyMethod() }\r\n          }\r\n\r\n          suspend fun yourHeavyMethod() {\r\n             with(Dispatchers.IO){ yourNetworkCall() }\r\n             ...\r\n             ...\r\n          }\r\n     } \r\n\r\nYou can follow [this guide]. \r\n\r\n  [this guide]: https://codelabs.developers.google.com/codelabs/kotlin-coroutines/#1\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Coroutine\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>You can use Kotlin <a href=\"https://en.wikipedia.org/wiki/Coroutine\" rel=\"nofollow noreferrer\">coroutines</a>:</p>\n<pre><code> class YoutActivity : AppCompatActivity, CoroutineScope {\n      \n      override fun onCreate(...) {\n         launch {  yourHeavyMethod() }\n      }\n\n      suspend fun yourHeavyMethod() {\n         with(Dispatchers.IO){ yourNetworkCall() }\n         ...\n         ...\n      }\n } \n</code></pre>\n<p>You can follow <a href=\"https://codelabs.developers.google.com/codelabs/kotlin-coroutines/#1\" rel=\"nofollow noreferrer\">this guide</a>.</p>\n"},{"tags":[],"owner":{"account_id":1089130,"reputation":38502,"user_id":1084174,"accept_rate":89,"display_name":"Sazzad Hissain Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559374863,"creation_date":1559374863,"answer_id":56404790,"question_id":6343166,"body_markdown":"# Kotlin version\n\n    internal class RetrieveFeedTask : AsyncTask&lt;String, Void, RSSFeed&gt;() {\n\n        override fun doInBackground(vararg urls: String): RSSFeed? {\n\n            try {\n                 // download\n                 // prepare RSSFeeds\n                 return RSSFeeds\n\n             } catch (e: Exception) {\n    \n                //handle exception\n                return null\n            }\n        }\n\n        override fun onPostExecute(feed: RSSFeed) {\n            // TODO: check this.exception\n            // TODO: do something with the feed\n        }\n    }\n\nCall example,\n\n    RetrieveFeedTask().execute(url)","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<h1>Kotlin version</h1>\n<pre><code>internal class RetrieveFeedTask : AsyncTask&lt;String, Void, RSSFeed&gt;() {\n\n    override fun doInBackground(vararg urls: String): RSSFeed? {\n\n        try {\n             // download\n             // prepare RSSFeeds\n             return RSSFeeds\n\n         } catch (e: Exception) {\n\n            //handle exception\n            return null\n        }\n    }\n\n    override fun onPostExecute(feed: RSSFeed) {\n        // TODO: check this.exception\n        // TODO: do something with the feed\n    }\n}\n</code></pre>\n<p>Call example,</p>\n<pre><code>RetrieveFeedTask().execute(url)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15010717,"reputation":1183,"user_id":10835287,"display_name":"Vipul Prajapati"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1560142947,"creation_date":1560142255,"answer_id":56520664,"question_id":6343166,"body_markdown":"Do this in Background Thread using `AsycTask`\r\n\r\n**Java**\r\n\r\n    class NetworkThread extends AsyncTask&lt;String, Void, String&gt; {\r\n\r\n        protected Void doInBackground(String... arg0) {\r\n            //Your implementation\r\n        }\r\n\r\n        protected void onPostExecute(String result) {\r\n            // TODO: do something with the feed\r\n        }\r\n    }\r\n\r\nCall wherever you need\r\n\r\n    new NetworkThread().execute(&quot;Your URL here&quot;);\r\n\r\n**Kotlin**\r\n\r\n    internal class MyNetworkTask : AsyncTask&lt;String, Void, RSSFeed&gt;() {\r\n\r\n        override fun doInBackground(vararg urls: String): RSSFeed? {\r\n            try {\r\n                 // download\r\n                 // prepare RSSFeeds\r\n                 return RSSFeeds\r\n             } catch (e: Exception) {\r\n                //handle exception\r\n                return null\r\n            }\r\n        }\r\n\r\n        override fun onPostExecute(feed: RSSFeed) {\r\n            // TODO: check this.exception\r\n            // TODO: do something with the feed\r\n        }\r\n    }\r\n\r\nCall in kotlin\r\n\r\n    MyNetworkTask().execute(url)","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Do this in Background Thread using <code>AsycTask</code></p>\n\n<p><strong>Java</strong></p>\n\n<pre><code>class NetworkThread extends AsyncTask&lt;String, Void, String&gt; {\n\n    protected Void doInBackground(String... arg0) {\n        //Your implementation\n    }\n\n    protected void onPostExecute(String result) {\n        // TODO: do something with the feed\n    }\n}\n</code></pre>\n\n<p>Call wherever you need</p>\n\n<pre><code>new NetworkThread().execute(\"Your URL here\");\n</code></pre>\n\n<p><strong>Kotlin</strong></p>\n\n<pre><code>internal class MyNetworkTask : AsyncTask&lt;String, Void, RSSFeed&gt;() {\n\n    override fun doInBackground(vararg urls: String): RSSFeed? {\n        try {\n             // download\n             // prepare RSSFeeds\n             return RSSFeeds\n         } catch (e: Exception) {\n            //handle exception\n            return null\n        }\n    }\n\n    override fun onPostExecute(feed: RSSFeed) {\n        // TODO: check this.exception\n        // TODO: do something with the feed\n    }\n}\n</code></pre>\n\n<p>Call in kotlin</p>\n\n<pre><code>MyNetworkTask().execute(url)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14612461,"reputation":573,"user_id":10553536,"display_name":"Shubham Suryavanshi"},"score":1,"creation_date":1568360515,"post_id":57546836,"comment_id":102256521,"body_markdown":"@RichardKamere from the official documentation for `StrictMode` you can check that &#39;StrictMode is a developer tool which detects things you might be doing by accident and brings them to your attention so you can fix them&#39; and &#39;you should never leave StrictMode enabled in applications distributed on Google Play.&#39; [Check Here](https://developer.android.com/reference/android/os/StrictMode.html)","body":"@RichardKamere from the official documentation for <code>StrictMode</code> you can check that &#39;StrictMode is a developer tool which detects things you might be doing by accident and brings them to your attention so you can fix them&#39; and &#39;you should never leave StrictMode enabled in applications distributed on Google Play.&#39; <a href=\"https://developer.android.com/reference/android/os/StrictMode.html\" rel=\"nofollow noreferrer\">Check Here</a>"},{"owner":{"account_id":91056,"reputation":124874,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"score":1,"creation_date":1572296689,"post_id":57546836,"comment_id":103509311,"body_markdown":"This will help for testing purposes but cannot be considered as solution, use an asynctask instead.","body":"This will help for testing purposes but cannot be considered as solution, use an asynctask instead."},{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1583829778,"post_id":57546836,"comment_id":107236711,"body_markdown":"@Zun what if i want ot check internet connection on API server?","body":"@Zun what if i want ot check internet connection on API server?"}],"tags":[],"owner":{"account_id":13377127,"reputation":769,"user_id":9653703,"display_name":"Richard Kamere"},"comment_count":3,"down_vote_count":5,"up_vote_count":8,"is_accepted":false,"score":3,"last_activity_date":1626977499,"creation_date":1566149221,"answer_id":57546836,"question_id":6343166,"body_markdown":"I had a similar problem. I just used the following in the *oncreate* method of your activity.\r\n\r\n    // Allow strict mode\r\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    StrictMode.setThreadPolicy(policy);\r\n\r\nAnd it worked well.\r\n\r\nThe caveat is that using this for a network request that takes more than 100 milliseconds will cause noticeable UI freeze and potentially ANRs (Application Not Responding), so keep that in mind.\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I had a similar problem. I just used the following in the <em>oncreate</em> method of your activity.</p>\n<pre><code>// Allow strict mode\nStrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(policy);\n</code></pre>\n<p>And it worked well.</p>\n<p>The caveat is that using this for a network request that takes more than 100 milliseconds will cause noticeable UI freeze and potentially ANRs (Application Not Responding), so keep that in mind.</p>\n"},{"tags":[],"owner":{"account_id":10538204,"reputation":2189,"user_id":7765316,"display_name":"majurageerthan"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1626977587,"creation_date":1577890330,"answer_id":59553481,"question_id":6343166,"body_markdown":"From [developer-android][1]:\r\n\r\n&gt; AsyncTasks should ideally be used for short operations (a few seconds at the most.)\r\n\r\nUsing `newCachedThreadPool` is the good one. also you can consider other options like `newSingleThreadExecutor`, `newFixedThreadPool`\r\n\r\n        ExecutorService myExecutor = Executors.newCachedThreadPool();\r\n        myExecutor.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                URL url = new URL(urls[0]);\r\n                SAXParserFactory factory = SAXParserFactory.newInstance();\r\n                SAXParser parser = factory.newSAXParser();\r\n                XMLReader xmlreader = parser.getXMLReader();\r\n                RssHandler theRSSHandler = new RssHandler();\r\n                xmlreader.setContentHandler(theRSSHandler);\r\n                InputSource is = new InputSource(url.openStream());\r\n                xmlreader.parse(is);\r\n            }\r\n        });\r\n\r\n&gt; [ThreadPoolExecutor][2] is a helper class to make this process easier. This\r\n&gt; class manages the creation of a group of threads, sets their\r\n&gt; priorities, and manages how work is distributed among those threads.\r\n&gt; As workload increases or decreases, the class spins up or destroys\r\n&gt; more threads to adjust to the workload.\r\n\r\nSee [this][3] for more information about Android threads.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask.html\r\n  [2]: https://developer.android.com/reference/java/util/concurrent/ThreadPoolExecutor.html\r\n  [3]: https://developer.android.com/topic/performance/threads\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>From <a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">developer-android</a>:</p>\n<blockquote>\n<p>AsyncTasks should ideally be used for short operations (a few seconds at the most.)</p>\n</blockquote>\n<p>Using <code>newCachedThreadPool</code> is the good one. also you can consider other options like <code>newSingleThreadExecutor</code>, <code>newFixedThreadPool</code></p>\n<pre><code>    ExecutorService myExecutor = Executors.newCachedThreadPool();\n    myExecutor.execute(new Runnable() {\n        @Override\n        public void run() {\n            URL url = new URL(urls[0]);\n            SAXParserFactory factory = SAXParserFactory.newInstance();\n            SAXParser parser = factory.newSAXParser();\n            XMLReader xmlreader = parser.getXMLReader();\n            RssHandler theRSSHandler = new RssHandler();\n            xmlreader.setContentHandler(theRSSHandler);\n            InputSource is = new InputSource(url.openStream());\n            xmlreader.parse(is);\n        }\n    });\n</code></pre>\n<blockquote>\n<p><a href=\"https://developer.android.com/reference/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\">ThreadPoolExecutor</a> is a helper class to make this process easier. This\nclass manages the creation of a group of threads, sets their\npriorities, and manages how work is distributed among those threads.\nAs workload increases or decreases, the class spins up or destroys\nmore threads to adjust to the workload.</p>\n</blockquote>\n<p>See <a href=\"https://developer.android.com/topic/performance/threads\" rel=\"nofollow noreferrer\">this</a> for more information about Android threads.</p>\n"},{"tags":[],"owner":{"account_id":8152269,"reputation":3283,"user_id":6138892,"accept_rate":40,"display_name":"Rahul"},"comment_count":0,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1626976990,"creation_date":1581416882,"answer_id":60166784,"question_id":6343166,"body_markdown":"On Android, network operations cannot be run on the main thread. You can use `Thread`, `AsyncTask` (short-running tasks), `Service` (long-running tasks) to do network operations. `android.os.NetworkOnMainThreadException` is thrown when an application attempts to perform a networking operation on its main thread. If your task took above five seconds, it takes a force close.\r\n\r\nRun your code in `AsyncTask`:\r\n\r\n    class FeedTask extends AsyncTask&lt;String, Void, Boolean&gt; {\r\n\r\n        protected RSSFeed doInBackground(String... urls) {\r\n           // TODO: Connect\r\n        }\r\n\r\n        protected void onPostExecute(RSSFeed feed) {\r\n            // TODO: Check this.exception\r\n            // TODO: Do something with the feed\r\n        }\r\n    }\r\n\r\n*Or*\r\n\r\n    new Thread(new Runnable(){\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                // Your implementation\r\n            }\r\n            catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }).start();\r\n\r\n\r\n**This is not recommended.**\r\n\r\nBut for *debugging* purposes, you can disable the strict mode as well using the following code:\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt; 9) {\r\n        StrictMode.ThreadPolicy policy =\r\n            new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>On Android, network operations cannot be run on the main thread. You can use <code>Thread</code>, <code>AsyncTask</code> (short-running tasks), <code>Service</code> (long-running tasks) to do network operations. <code>android.os.NetworkOnMainThreadException</code> is thrown when an application attempts to perform a networking operation on its main thread. If your task took above five seconds, it takes a force close.</p>\n<p>Run your code in <code>AsyncTask</code>:</p>\n<pre><code>class FeedTask extends AsyncTask&lt;String, Void, Boolean&gt; {\n\n    protected RSSFeed doInBackground(String... urls) {\n       // TODO: Connect\n    }\n\n    protected void onPostExecute(RSSFeed feed) {\n        // TODO: Check this.exception\n        // TODO: Do something with the feed\n    }\n}\n</code></pre>\n<p><em>Or</em></p>\n<pre><code>new Thread(new Runnable(){\n    @Override\n    public void run() {\n        try {\n            // Your implementation\n        }\n        catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}).start();\n</code></pre>\n<p><strong>This is not recommended.</strong></p>\n<p>But for <em>debugging</em> purposes, you can disable the strict mode as well using the following code:</p>\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt; 9) {\n    StrictMode.ThreadPolicy policy =\n        new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1176846,"reputation":5131,"user_id":1152643,"accept_rate":50,"display_name":"Oleg Gryb"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1626977968,"creation_date":1584144717,"answer_id":60678608,"question_id":6343166,"body_markdown":"These answers need to be updated to use more contemporary way to connect to servers on the Internet and to process asynchronous tasks in general.\r\n\r\nFor example, you can find examples where **Tasks** are used in a [Google Drive API sample][1]. The same should be used in this case. I&#39;ll use the OP&#39;s original code to demonstrate this approach.\r\n\r\nFirst, you&#39;ll need to define an off-main thread executor and you need to do it only once:\r\n\r\n    private val mExecutor: Executor = Executors.newSingleThreadExecutor()\r\n\r\nThen process your logic in that executor, which will be running off main thread\r\n\r\n    Tasks.call (mExecutor, Callable&lt;String&gt; {\r\n\r\n            val url = URL(urlToRssFeed)\r\n            val factory = SAXParserFactory.newInstance()\r\n            val parser = factory.newSAXParser()\r\n            val xmlreader = parser.getXMLReader()\r\n            val theRSSHandler = RssHandler()\r\n            xmlreader.setContentHandler(theRSSHandler)\r\n            val is = InputSource(url.openStream())\r\n            xmlreader.parse(is)\r\n            theRSSHandler.getFeed()\r\n\r\n            // Complete processing and return a String or other object.\r\n            // E.g., you could return Boolean indicating a success or failure.\r\n            return@Callable someResult\r\n    }).continueWith{\r\n        // it.result here is what your asynchronous task has returned\r\n        processResult(it.result)\r\n    }\r\n\r\n**continueWith** clause will be executed after your asynchronous task is completed and you will have an access to a value that has been returned by the task through **it.result**.\r\n\r\n  [1]: https://github.com/gsuitedevs/android-samples/tree/master/drive/deprecation\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>These answers need to be updated to use more contemporary way to connect to servers on the Internet and to process asynchronous tasks in general.</p>\n<p>For example, you can find examples where <strong>Tasks</strong> are used in a <a href=\"https://github.com/gsuitedevs/android-samples/tree/master/drive/deprecation\" rel=\"nofollow noreferrer\">Google Drive API sample</a>. The same should be used in this case. I'll use the OP's original code to demonstrate this approach.</p>\n<p>First, you'll need to define an off-main thread executor and you need to do it only once:</p>\n<pre><code>private val mExecutor: Executor = Executors.newSingleThreadExecutor()\n</code></pre>\n<p>Then process your logic in that executor, which will be running off main thread</p>\n<pre><code>Tasks.call (mExecutor, Callable&lt;String&gt; {\n\n        val url = URL(urlToRssFeed)\n        val factory = SAXParserFactory.newInstance()\n        val parser = factory.newSAXParser()\n        val xmlreader = parser.getXMLReader()\n        val theRSSHandler = RssHandler()\n        xmlreader.setContentHandler(theRSSHandler)\n        val is = InputSource(url.openStream())\n        xmlreader.parse(is)\n        theRSSHandler.getFeed()\n\n        // Complete processing and return a String or other object.\n        // E.g., you could return Boolean indicating a success or failure.\n        return@Callable someResult\n}).continueWith{\n    // it.result here is what your asynchronous task has returned\n    processResult(it.result)\n}\n</code></pre>\n<p><strong>continueWith</strong> clause will be executed after your asynchronous task is completed and you will have an access to a value that has been returned by the task through <strong>it.result</strong>.</p>\n"},{"tags":[],"owner":{"account_id":16913603,"reputation":428,"user_id":12232152,"display_name":"El Sushiboi"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1626977109,"creation_date":1597414783,"answer_id":63414575,"question_id":6343166,"body_markdown":"&lt;h2&gt; Kotlin &lt;/h2&gt;\r\n\r\nIf you are using Kotlin, you can use a *[coroutine][1]*:\r\n\r\n    fun doSomeNetworkStuff() {\r\n        GlobalScope.launch(Dispatchers.IO) {\r\n            // ...\r\n        }\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Coroutine\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<h2> Kotlin </h2>\n<p>If you are using Kotlin, you can use a <em><a href=\"https://en.wikipedia.org/wiki/Coroutine\" rel=\"noreferrer\">coroutine</a></em>:</p>\n<pre><code>fun doSomeNetworkStuff() {\n    GlobalScope.launch(Dispatchers.IO) {\n        // ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13971473,"reputation":367,"user_id":10089961,"display_name":"Shay Ribera"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1688560720,"creation_date":1602773794,"answer_id":64374371,"question_id":6343166,"body_markdown":"Google deprecated the Android AsyncTask API in Android 11.\r\n\r\nEven if you create a thread class outside the main activity, just by calling it in main, you will get the same error. The calls must be inside a runnable thread, but if you need some asynchronous code to execute in the background or some on post afterwards here, you can check out some alternatives for both Kotlin and Java:\r\n\r\n    *https://stackoverflow.com/questions/58767733/android-asynctask-api-deprecating-in-android-11-what-are-the-alternatives*\r\n\r\nThe one that worked for me specifically was an answer by mayank1513 for a [Java&amp;nbsp;8][1] implementation of a runnable thread found on the above link. The code is as follows:\r\n\r\n    new Thread(() -&gt; {\r\n        // do background stuff here\r\n        runOnUiThread(() -&gt; {\r\n            // OnPostExecute stuff here\r\n        });\r\n    }).start();\r\n\r\nHowever, you can define the thread first in some part of your code and start it somewhere else like this:\r\n\r\nThread definition\r\n\r\n    Thread thread = new Thread(() -&gt; {\r\n        // do background stuff here\r\n        runOnUiThread(() -&gt; {\r\n            // OnPostExecute stuff here\r\n        });\r\n    });\r\n\r\nThread call\r\n\r\n    thread.start();\r\n\r\nI hope this saves someone the headache of seeing the deprecated `AsyncTask`.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Google deprecated the Android AsyncTask API in Android 11.</p>\n<p>Even if you create a thread class outside the main activity, just by calling it in main, you will get the same error. The calls must be inside a runnable thread, but if you need some asynchronous code to execute in the background or some on post afterwards here, you can check out some alternatives for both Kotlin and Java:</p>\n<pre><code>*https://stackoverflow.com/questions/58767733/android-asynctask-api-deprecating-in-android-11-what-are-the-alternatives*\n</code></pre>\n<p>The one that worked for me specifically was an answer by mayank1513 for a <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\">Java 8</a> implementation of a runnable thread found on the above link. The code is as follows:</p>\n<pre><code>new Thread(() -&gt; {\n    // do background stuff here\n    runOnUiThread(() -&gt; {\n        // OnPostExecute stuff here\n    });\n}).start();\n</code></pre>\n<p>However, you can define the thread first in some part of your code and start it somewhere else like this:</p>\n<p>Thread definition</p>\n<pre><code>Thread thread = new Thread(() -&gt; {\n    // do background stuff here\n    runOnUiThread(() -&gt; {\n        // OnPostExecute stuff here\n    });\n});\n</code></pre>\n<p>Thread call</p>\n<pre><code>thread.start();\n</code></pre>\n<p>I hope this saves someone the headache of seeing the deprecated <code>AsyncTask</code>.</p>\n"},{"comments":[{"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"score":0,"creation_date":1612612458,"post_id":65882706,"comment_id":116824255,"body_markdown":"Getting error : System.err: java.util.concurrent.ExecutionException: javax.net.ssl.SSLException: Unable to parse TLS packet header","body":"Getting error : System.err: java.util.concurrent.ExecutionException: javax.net.ssl.SSLException: Unable to parse TLS packet header"},{"owner":{"account_id":7660,"reputation":15986,"user_id":13365,"accept_rate":70,"display_name":"neu242"},"score":0,"creation_date":1612781330,"post_id":65882706,"comment_id":116864347,"body_markdown":"@ArpanSaini Does your exact URL work with curl or in a browser?  Maybe switch from https to http (or vice versa) and see if it works?","body":"@ArpanSaini Does your exact URL work with curl or in a browser?  Maybe switch from https to http (or vice versa) and see if it works?"}],"tags":[],"owner":{"account_id":7660,"reputation":15986,"user_id":13365,"accept_rate":70,"display_name":"neu242"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612781403,"creation_date":1611569567,"answer_id":65882706,"question_id":6343166,"body_markdown":"Here&#39;s a simple solution using `OkHttp`, `Future`, `ExecutorService` and `Callable`:\r\n\r\n```\r\nfinal OkHttpClient httpClient = new OkHttpClient();\r\nfinal ExecutorService executor = newFixedThreadPool(3);\r\n\r\nfinal Request request = new Request.Builder().url(&quot;http://example.com&quot;).build();\r\n\r\nResponse response = executor.submit(new Callable&lt;Response&gt;() {\r\n   public Response call() throws IOException {\r\n      return httpClient.newCall(request).execute();\r\n   }\r\n}).get();\r\n```","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Here's a simple solution using <code>OkHttp</code>, <code>Future</code>, <code>ExecutorService</code> and <code>Callable</code>:</p>\n<pre><code>final OkHttpClient httpClient = new OkHttpClient();\nfinal ExecutorService executor = newFixedThreadPool(3);\n\nfinal Request request = new Request.Builder().url(&quot;http://example.com&quot;).build();\n\nResponse response = executor.submit(new Callable&lt;Response&gt;() {\n   public Response call() throws IOException {\n      return httpClient.newCall(request).execute();\n   }\n}).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17893889,"reputation":749,"user_id":12999770,"display_name":"Sunny Gupta"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1626978270,"creation_date":1613897689,"answer_id":66300622,"question_id":6343166,"body_markdown":"Android does not allow to run long-running operations on the main thread.\r\n\r\nSo just use a different thread and post the result to the main thread when needed.\r\n\r\n    new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                /*\r\n                // Run operation here\r\n                */\r\n                // After getting the result\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        // Post the result to the main thread\r\n                    }\r\n                });\r\n            }\r\n        }).start();\r\n\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>Android does not allow to run long-running operations on the main thread.</p>\n<p>So just use a different thread and post the result to the main thread when needed.</p>\n<pre><code>new Thread(new Runnable() {\n        @Override\n        public void run() {\n            /*\n            // Run operation here\n            */\n            // After getting the result\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    // Post the result to the main thread\n                }\n            });\n        }\n    }).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1301136,"reputation":2793,"user_id":1450409,"accept_rate":60,"display_name":"nyxee"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1626978327,"creation_date":1617580324,"answer_id":66946843,"question_id":6343166,"body_markdown":"I converted the network access function returning a value into a suspend function like so:\r\n\r\n```{kotlin}\r\n\r\nsuspend fun isInternetReachable(): Boolean {\r\n  ...\r\n  ...\r\n  return result\r\n}\r\n```\r\n\r\nThen I modified where I was using the function to fit into this:\r\n\r\n```{kotlin}\r\n...\r\nGlobalscope.async{\r\n  ...\r\n  result = isInternetReachable()\r\n  ...\r\n}\r\n...\r\n```\r\n\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I converted the network access function returning a value into a suspend function like so:</p>\n<pre><code>\nsuspend fun isInternetReachable(): Boolean {\n  ...\n  ...\n  return result\n}\n</code></pre>\n<p>Then I modified where I was using the function to fit into this:</p>\n<pre><code>...\nGlobalscope.async{\n  ...\n  result = isInternetReachable()\n  ...\n}\n...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14386222,"reputation":5804,"user_id":11960598,"display_name":"Joseph"},"score":0,"creation_date":1651540506,"post_id":72075706,"comment_id":127383648,"body_markdown":"You need to add some explanation to your answer","body":"You need to add some explanation to your answer"}],"tags":[],"owner":{"account_id":9705313,"reputation":317,"user_id":7198913,"display_name":"Sourav Kumar Verma"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1651399114,"creation_date":1651399114,"answer_id":72075706,"question_id":6343166,"body_markdown":"    Executors.newFixedThreadPool(3).execute(() -&gt; {\r\n          //DO Task;        \r\n     });","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<pre><code>Executors.newFixedThreadPool(3).execute(() -&gt; {\n      //DO Task;        \n });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7870611,"reputation":2463,"user_id":5948056,"display_name":"programandoconro"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1652172363,"creation_date":1652172363,"answer_id":72183216,"question_id":6343166,"body_markdown":"I solved using `Thread` in Kotlin. There are many examples using Java, so I wanted to add a solution that worked for me in Kotlin. \r\n\r\n```\r\n Thread {\r\n     println(&quot;NEW THREAD&quot;)\r\n     callAPI() // add your own task\r\n }.start()\r\n```\r\n\r\nSo, as many others greatly explained, you cannot block the main thread with you call, so it is necessary to create a new thread. \r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I solved using <code>Thread</code> in Kotlin. There are many examples using Java, so I wanted to add a solution that worked for me in Kotlin.</p>\n<pre><code> Thread {\n     println(&quot;NEW THREAD&quot;)\n     callAPI() // add your own task\n }.start()\n</code></pre>\n<p>So, as many others greatly explained, you cannot block the main thread with you call, so it is necessary to create a new thread.</p>\n"}],"owner":{"account_id":420081,"reputation":29495,"user_id":797593,"accept_rate":44,"display_name":"bejoy george"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1491689,"favorite_count":0,"down_vote_count":11,"up_vote_count":2729,"accepted_answer_id":6343299,"answer_count":64,"score":2718,"last_activity_date":1688560787,"creation_date":1308052920,"question_id":6343166,"body_markdown":"I got an error while running my Android project for RssReader. \r\n\r\nCode:\r\n\r\n    URL url = new URL(urlToRssFeed);\r\n    SAXParserFactory factory = SAXParserFactory.newInstance();\r\n    SAXParser parser = factory.newSAXParser();\r\n    XMLReader xmlreader = parser.getXMLReader();\r\n    RssHandler theRSSHandler = new RssHandler();\r\n    xmlreader.setContentHandler(theRSSHandler);\r\n    InputSource is = new InputSource(url.openStream());\r\n    xmlreader.parse(is);\r\n    return theRSSHandler.getFeed();\r\n\r\nAnd it shows the below error:\r\n\r\n    android.os.NetworkOnMainThreadException\r\n\r\nHow can I fix this issue?\r\n","title":"How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?","body":"<p>I got an error while running my Android project for RssReader. </p>\n\n<p>Code:</p>\n\n<pre><code>URL url = new URL(urlToRssFeed);\nSAXParserFactory factory = SAXParserFactory.newInstance();\nSAXParser parser = factory.newSAXParser();\nXMLReader xmlreader = parser.getXMLReader();\nRssHandler theRSSHandler = new RssHandler();\nxmlreader.setContentHandler(theRSSHandler);\nInputSource is = new InputSource(url.openStream());\nxmlreader.parse(is);\nreturn theRSSHandler.getFeed();\n</code></pre>\n\n<p>And it shows the below error:</p>\n\n<pre><code>android.os.NetworkOnMainThreadException\n</code></pre>\n\n<p>How can I fix this issue?</p>\n"},{"tags":["java","memory","scope"],"comments":[{"owner":{"account_id":1306942,"reputation":4457,"user_id":1255737,"display_name":"rmlan"},"score":0,"creation_date":1460667257,"post_id":36633788,"comment_id":60862802,"body_markdown":"Does that honestly seem like readable code to you? Moreover, how do you think that this will reduce memory load?","body":"Does that honestly seem like readable code to you? Moreover, how do you think that this will reduce memory load?"},{"owner":{"account_id":7564113,"reputation":22471,"user_id":5740428,"accept_rate":64,"display_name":"Jan Schultke"},"score":1,"creation_date":1460667549,"post_id":36633788,"comment_id":60862944,"body_markdown":"Variables would get garbage collected before the method is completely done, which is far better than waiting for the entire method to end and seeing its variables getting garbage collected at that point.","body":"Variables would get garbage collected before the method is completely done, which is far better than waiting for the entire method to end and seeing its variables getting garbage collected at that point."},{"owner":{"account_id":7852006,"reputation":2536,"user_id":5935221,"display_name":"nyname00"},"score":0,"creation_date":1460668201,"post_id":36633788,"comment_id":60863255,"body_markdown":"A simple `obj1 = null` (and a comment) would be much more readable.","body":"A simple <code>obj1 = null</code> (and a comment) would be much more readable."},{"owner":{"account_id":1666904,"reputation":529,"user_id":1534124,"display_name":"simonh"},"score":0,"creation_date":1460668452,"post_id":36633788,"comment_id":60863371,"body_markdown":"While assigning a variable to null allows garbage collection of the object, it doesn&#39;t limit the scope of the variable.  Chances are, you don&#39;t want to reuse the variable for anything else, so better to close the scope.  I quite happily use braces as per Sleiman Jneidi&#39;s answer, although for me it&#39;s always about limiting scope for readability not for garbage collection.","body":"While assigning a variable to null allows garbage collection of the object, it doesn&#39;t limit the scope of the variable.  Chances are, you don&#39;t want to reuse the variable for anything else, so better to close the scope.  I quite happily use braces as per Sleiman Jneidi&#39;s answer, although for me it&#39;s always about limiting scope for readability not for garbage collection."}],"answers":[{"comments":[{"owner":{"account_id":7564113,"reputation":22471,"user_id":5740428,"accept_rate":64,"display_name":"Jan Schultke"},"score":0,"creation_date":1460667569,"post_id":36633860,"comment_id":60862952,"body_markdown":"Wow, I seriously didn&#39;t even know you could just do that, thanks a lot.","body":"Wow, I seriously didn&#39;t even know you could just do that, thanks a lot."}],"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688560571,"creation_date":1460667448,"answer_id":36633860,"question_id":36633788,"body_markdown":"You don&#39;t need the `if(true)` to reduce the scope of variables.\r\n\r\nThis would be enough\r\n\r\n    {\r\n        var obj1 = new MyClass(1);\r\n        var obj2 = new MyClass(2);\r\n    }","title":"Should you use if(true) blocks to limit the scope of variables?","body":"<p>You don't need the <code>if(true)</code> to reduce the scope of variables.</p>\n<p>This would be enough</p>\n<pre><code>{\n    var obj1 = new MyClass(1);\n    var obj2 = new MyClass(2);\n}\n</code></pre>\n"}],"owner":{"account_id":7564113,"reputation":22471,"user_id":5740428,"accept_rate":64,"display_name":"Jan Schultke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36633860,"answer_count":1,"score":0,"last_activity_date":1688560571,"creation_date":1460667217,"question_id":36633788,"body_markdown":"In the past I&#39;ve had to create some enormous methods which could not really be turned into a bunch of smaller methods since it simply wouldn&#39;t have made any sense to do so.\r\n\r\nSince initializing a lot of variables can be fairly memory-intensive, I&#39;ve asked myself whether simply using an `if(true)` statement would help reduce the scope in these situations and therefore reduce memory load. It would also improve code quality, because variables wouldn&#39;t be accessible elsewhere, when they&#39;re no longer needed.\r\n\r\n##### Example\r\n\r\n```java\r\nif (true) {\r\n    var obj1 = new MyClass(1);\r\n    var obj2 = new MyClass(2);\r\n}\r\n// ...rest of method which does not need obj1 and obj2\r\n```\r\nIs this a good or bad idea? ","title":"Should you use if(true) blocks to limit the scope of variables?","body":"<p>In the past I've had to create some enormous methods which could not really be turned into a bunch of smaller methods since it simply wouldn't have made any sense to do so.</p>\n<p>Since initializing a lot of variables can be fairly memory-intensive, I've asked myself whether simply using an <code>if(true)</code> statement would help reduce the scope in these situations and therefore reduce memory load. It would also improve code quality, because variables wouldn't be accessible elsewhere, when they're no longer needed.</p>\n<h5>Example</h5>\n<pre class=\"lang-java prettyprint-override\"><code>if (true) {\n    var obj1 = new MyClass(1);\n    var obj2 = new MyClass(2);\n}\n// ...rest of method which does not need obj1 and obj2\n</code></pre>\n<p>Is this a good or bad idea?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1687813555,"post_id":76559945,"comment_id":134986503,"body_markdown":"A screenshot is one image, so of course, a screenshot will not show any animation.  You have to minimize the JFrame, take your screenshot, and restore the JFrame.","body":"A screenshot is one image, so of course, a screenshot will not show any animation.  You have to minimize the JFrame, take your screenshot, and restore the JFrame."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1687814575,"post_id":76559945,"comment_id":134986650,"body_markdown":"Could you, please, give more details / clarity about what you want to do, and why you want to do it?","body":"Could you, please, give more details / clarity about what you want to do, and why you want to do it?"},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":1,"creation_date":1687903514,"post_id":76559945,"comment_id":135001740,"body_markdown":"I am trying to make a magnifying glass consisting of a transparent frame. The area under the &quot;glass&quot; should be magnified, even if it is animating. Let me add that to the question","body":"I am trying to make a magnifying glass consisting of a transparent frame. The area under the &quot;glass&quot; should be magnified, even if it is animating. Let me add that to the question"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1688361410,"post_id":76559945,"comment_id":135058665,"body_markdown":"Still not clear (at least to me) what you want to achieve. Perhaps you can post some screen captures demonstrating what you are trying to do? Also, what &quot;animation&quot; are you referring to?","body":"Still not clear (at least to me) what you want to achieve. Perhaps you can post some screen captures demonstrating what you are trying to do? Also, what &quot;animation&quot; are you referring to?"},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":0,"creation_date":1688507321,"post_id":76559945,"comment_id":135082256,"body_markdown":"@Abra I want to create a &quot;magnifying glass&quot;. So that when I drag it over parts of the screen, the portion under the glass would be magnified. When I said animation, I meant that if there is anything moving under the magnifying glass, for example if I magnify a YouTube video, the glass should show a magnified version of the video. My original approach was to capture a screenshot of the screen, and then simply magnify the portion under the glass, but that would not capture motion. Kind of like WindowsKey-+, except in Java","body":"@Abra I want to create a &quot;magnifying glass&quot;. So that when I drag it over parts of the screen, the portion under the glass would be magnified. When I said animation, I meant that if there is anything moving under the magnifying glass, for example if I magnify a YouTube video, the glass should show a magnified version of the video. My original approach was to capture a screenshot of the screen, and then simply magnify the portion under the glass, but that would not capture motion. Kind of like WindowsKey-+, except in Java"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688542071,"post_id":76559945,"comment_id":135085404,"body_markdown":"It sounds like your solutions would work if you just refresh them quick enough to show the animation.","body":"It sounds like your solutions would work if you just refresh them quick enough to show the animation."},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":0,"creation_date":1688559884,"post_id":76559945,"comment_id":135089083,"body_markdown":"@matt actually no, because the screen capture would copy the magnified image itself, not the image under it. Even if it could, it would be prohibitively time intensive to render that several times per second.","body":"@matt actually no, because the screen capture would copy the magnified image itself, not the image under it. Even if it could, it would be prohibitively time intensive to render that several times per second."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688563127,"post_id":76559945,"comment_id":135089943,"body_markdown":"&quot;... it would be prohibitively time intensive to render that several times per second.&quot; I don&#39;t understand what would be so time intensive. What about having the magnification screen not be directly over what you&#39;re magnifying? From the sounds of it you would need access to the windowing api which java doesn&#39;t supply.","body":"&quot;... it would be prohibitively time intensive to render that several times per second.&quot; I don&#39;t understand what would be so time intensive. What about having the magnification screen not be directly over what you&#39;re magnifying? From the sounds of it you would need access to the windowing api which java doesn&#39;t supply."},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":0,"creation_date":1688572430,"post_id":76559945,"comment_id":135092360,"body_markdown":"I guess that is what I was asking :(","body":"I guess that is what I was asking :("}],"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688560286,"creation_date":1687810254,"question_id":76559945,"body_markdown":"In Java Swing, is there any way to magnify what is behind a JFrame? \r\n\r\nI am trying to make a magnifying glass consisting of a transparent JFrame. The area under the &quot;glass&quot; should be magnified, even if that area is in motion, e.g. if it contains a video.\r\n\r\nI want to create a &quot;magnifying glass&quot;. So that when I drag it over parts of the screen, the portion under the glass would be magnified. When I said animation, I meant that if there is anything moving under the magnifying glass, for example, if I magnify a YouTube video, the glass should show a magnified version of the video. My original approach was to capture a screenshot of the screen, and then simply magnify the portion under the glass, but that would not capture motion. Kind of like WindowsKey-+, except in Java\r\n\r\nI have tried using a Robot with a transparent frame, but if there is any animation behind the frame, the frame just captures a still snapshot of the animation.\r\n","title":"In Java Swing, is there any way to magnify what is behind a JFrame?","body":"<p>In Java Swing, is there any way to magnify what is behind a JFrame?</p>\n<p>I am trying to make a magnifying glass consisting of a transparent JFrame. The area under the &quot;glass&quot; should be magnified, even if that area is in motion, e.g. if it contains a video.</p>\n<p>I want to create a &quot;magnifying glass&quot;. So that when I drag it over parts of the screen, the portion under the glass would be magnified. When I said animation, I meant that if there is anything moving under the magnifying glass, for example, if I magnify a YouTube video, the glass should show a magnified version of the video. My original approach was to capture a screenshot of the screen, and then simply magnify the portion under the glass, but that would not capture motion. Kind of like WindowsKey-+, except in Java</p>\n<p>I have tried using a Robot with a transparent frame, but if there is any animation behind the frame, the frame just captures a still snapshot of the animation.</p>\n"},{"tags":["java","spring","spring-boot","podman"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1688551776,"post_id":76619279,"comment_id":135087357,"body_markdown":"An `alias` will usually only apply to the shell you define it in, it is *not* inherited by other process, especially not ones that don&#39;t themselves use/call a shell. So try to create a symlink somewhere on the path instead of defining an `alias`.","body":"An <code>alias</code> will usually only apply to the shell you define it in, it is <i>not</i> inherited by other process, especially not ones that don&#39;t themselves use/call a shell. So try to create a symlink somewhere on the path instead of defining an <code>alias</code>."},{"owner":{"account_id":21795756,"reputation":43,"user_id":16095359,"display_name":"KaiSkywalker90"},"score":0,"creation_date":1688552446,"post_id":76619279,"comment_id":135087511,"body_markdown":"Thank you very much, @joachim-sauer. The truth is that I had not thought of such a solution until you mentioned it to me. Thanks again.","body":"Thank you very much, @joachim-sauer. The truth is that I had not thought of such a solution until you mentioned it to me. Thanks again."}],"owner":{"account_id":21795756,"reputation":43,"user_id":16095359,"display_name":"KaiSkywalker90"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688560184,"creation_date":1688551667,"question_id":76619279,"body_markdown":"I&#39;m trying to adjust my project to take advantage of spring boot support for docker compose, but I have some problems using podman, instead of docker.\r\n\r\nSpring Boot uses ProcessBuilder to do the Docker command checks inside the DockerCli class, but ProcessBuilder doesn&#39;t take into account the defined &#39;aliases&#39; when it runs the docker command:\r\n\r\n```\r\nalias docker=podman\r\n```\r\n\r\nSo, when I run the application I get the following error:\r\n\r\n```\r\norg.springframework.boot.docker.compose.core.DockerProcessStartException: Unable to start docker process. Is docker correctly installed?\r\n\tat org.springframework.boot.docker.compose.core.DockerCli$DockerCommands.getDockerCommand(DockerCli.java:140) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.core.DockerCli$DockerCommands.&lt;init&gt;(DockerCli.java:129) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.core.DockerCli.lambda$new$0(DockerCli.java:65) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1228) ~[na:na]\r\n\tat org.springframework.boot.docker.compose.core.DockerCli.&lt;init&gt;(DockerCli.java:64) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.core.DockerCompose.get(DockerCompose.java:92) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.getDockerCompose(DockerComposeLifecycleManager.java:147) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.start(DockerComposeLifecycleManager.java:110) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:53) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:35) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-6.0.10.jar:6.0.10]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.contextLoaded(EventPublishingRunListener.java:98) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.lambda$contextLoaded$4(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplicationRunListeners.contextLoaded(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:416) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat com.github.kai9026.bootupdates.SpringBootUpdatesApplication.main(SpringBootUpdatesApplication.java:10) ~[classes/:na]\r\nCaused by: org.springframework.boot.docker.compose.core.ProcessStartException: Unable to start command docker version --format {{.Client.Version}}\r\n\t\r\n```\r\n\r\nIs there any solution to use podman with spring boot docker compose support without having to install docker? I tried different things but I have not been able to get it to work.\r\n\r\nRegards.","title":"Is there any solution to use podman with spring boot docker compose support?","body":"<p>I'm trying to adjust my project to take advantage of spring boot support for docker compose, but I have some problems using podman, instead of docker.</p>\n<p>Spring Boot uses ProcessBuilder to do the Docker command checks inside the DockerCli class, but ProcessBuilder doesn't take into account the defined 'aliases' when it runs the docker command:</p>\n<pre><code>alias docker=podman\n</code></pre>\n<p>So, when I run the application I get the following error:</p>\n<pre><code>org.springframework.boot.docker.compose.core.DockerProcessStartException: Unable to start docker process. Is docker correctly installed?\n    at org.springframework.boot.docker.compose.core.DockerCli$DockerCommands.getDockerCommand(DockerCli.java:140) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.core.DockerCli$DockerCommands.&lt;init&gt;(DockerCli.java:129) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.core.DockerCli.lambda$new$0(DockerCli.java:65) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1228) ~[na:na]\n    at org.springframework.boot.docker.compose.core.DockerCli.&lt;init&gt;(DockerCli.java:64) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.core.DockerCompose.get(DockerCompose.java:92) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.getDockerCompose(DockerComposeLifecycleManager.java:147) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.start(DockerComposeLifecycleManager.java:110) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:53) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:35) ~[spring-boot-docker-compose-3.1.1.jar:3.1.1]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.context.event.EventPublishingRunListener.contextLoaded(EventPublishingRunListener.java:98) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$contextLoaded$4(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.1.jar:3.1.1]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplicationRunListeners.contextLoaded(SpringApplicationRunListeners.java:72) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:416) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.1.jar:3.1.1]\n    at com.github.kai9026.bootupdates.SpringBootUpdatesApplication.main(SpringBootUpdatesApplication.java:10) ~[classes/:na]\nCaused by: org.springframework.boot.docker.compose.core.ProcessStartException: Unable to start command docker version --format {{.Client.Version}}\n    \n</code></pre>\n<p>Is there any solution to use podman with spring boot docker compose support without having to install docker? I tried different things but I have not been able to get it to work.</p>\n<p>Regards.</p>\n"},{"tags":["java","android"],"owner":{"account_id":28955465,"reputation":1,"user_id":22179116,"display_name":"Phoenix Light"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688560145,"creation_date":1688559585,"question_id":76620250,"body_markdown":"If I have apk that not made by android studio, how to sign it and upload it to google play?\r\nShould I use just android studio to sign app\r\nOr I can use application like &quot;apk signar&quot;?\r\n\r\nIm try apk signer and some another apps but google protect stay say my app its a virous!","title":"Is I need to sign my app in android studio, to upload it to google play?","body":"<p>If I have apk that not made by android studio, how to sign it and upload it to google play?\nShould I use just android studio to sign app\nOr I can use application like &quot;apk signar&quot;?</p>\n<p>Im try apk signer and some another apps but google protect stay say my app its a virous!</p>\n"},{"tags":["java","performance","loops","for-loop","system.out"],"comments":[{"owner":{"account_id":1706986,"reputation":4611,"user_id":1565862,"display_name":"fejese"},"score":66,"creation_date":1393026583,"post_id":21947452,"comment_id":33249854,"body_markdown":"Try changing rand.nextInt(4) == 0 to i &lt; 250 to eliminate the effect of the random generator. You might run out of entropy that slows down the random generation","body":"Try changing rand.nextInt(4) == 0 to i &lt; 250 to eliminate the effect of the random generator. You might run out of entropy that slows down the random generation"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1393026696,"post_id":21947452,"comment_id":33249898,"body_markdown":"Both seem to run for same amount of time on my machine, ~4 seconds.","body":"Both seem to run for same amount of time on my machine, ~4 seconds."},{"owner":{"account_id":2136544,"reputation":24466,"user_id":1896169,"accept_rate":98,"display_name":"Justin"},"score":3,"creation_date":1393026723,"post_id":21947452,"comment_id":33249909,"body_markdown":"@fejese Then [branch prediction](http://stackoverflow.com/questions/11227809/why-is-processing-a-sorted-array-faster-than-an-unsorted-array/11227902#11227902) would kick in. Something like changing `rand.nextInt(4)==0` to `i%4==0` would be better (in terms of avoiding branch prediction speeding up the process)","body":"@fejese Then <a href=\"http://stackoverflow.com/questions/11227809/why-is-processing-a-sorted-array-faster-than-an-unsorted-array/11227902#11227902\">branch prediction</a> would kick in. Something like changing <code>rand.nextInt(4)==0</code> to <code>i%4==0</code> would be better (in terms of avoiding branch prediction speeding up the process)"},{"owner":{"account_id":1163145,"reputation":4252,"user_id":1142253,"display_name":"Kakarot"},"score":172,"creation_date":1393026769,"post_id":21947452,"comment_id":33249925,"body_markdown":"if you are suggesting that printing B takes more time than printing #....why dont you try to print all B &amp; all # rather than relying on random variable r","body":"if you are suggesting that printing B takes more time than printing #....why dont you try to print all B &amp; all # rather than relying on random variable r"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":2,"creation_date":1393027169,"post_id":21947452,"comment_id":33250058,"body_markdown":"Across three trials of each (&#39;B&#39; vs &#39;#&#39;) I&#39;m getting between 36 and 38 seconds (rounded down). I added startTime and endTime fields that grab System.currentTimeMillis before and after the loop for my timing. I&#39;m going to suggest that there&#39;s some problem local to you (runtime engine, processor, black helicopters).","body":"Across three trials of each (&#39;B&#39; vs &#39;#&#39;) I&#39;m getting between 36 and 38 seconds (rounded down). I added startTime and endTime fields that grab System.currentTimeMillis before and after the loop for my timing. I&#39;m going to suggest that there&#39;s some problem local to you (runtime engine, processor, black helicopters)."},{"owner":{"account_id":1613587,"reputation":752178,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"score":21,"creation_date":1393125670,"post_id":21947452,"comment_id":33279059,"body_markdown":"Based on the accepted answer, you apparently didn&#39;t try running it with output redirected to a file or /dev/null.","body":"Based on the accepted answer, you apparently didn&#39;t try running it with output redirected to a file or /dev/null."},{"owner":{"account_id":172963,"reputation":540,"user_id":401346,"display_name":"Divide"},"score":29,"creation_date":1393328686,"post_id":21947452,"comment_id":33366229,"body_markdown":"@fejese, Random() is not a cryptographical rng and so doesn&#39;t use up the entropy pool.","body":"@fejese, Random() is not a cryptographical rng and so doesn&#39;t use up the entropy pool."},{"owner":{"account_id":2330629,"reputation":12871,"user_id":2157640,"accept_rate":89,"display_name":"Palec"},"score":0,"creation_date":1441042837,"post_id":21947452,"comment_id":52508768,"body_markdown":"[tag:matrix], @FrancescoMenzani? IMO it makes no sense here; is makes the question not a bit easier to find, does not describe its scope better, just adds noise.","body":"<a href=\"https://stackoverflow.com/questions/tagged/matrix\">matrix</a>, @FrancescoMenzani? IMO it makes no sense here; is makes the question not a bit easier to find, does not describe its scope better, just adds noise."},{"owner":{"account_id":4217515,"reputation":8460,"user_id":3453226,"accept_rate":77,"display_name":"spongebob"},"score":1,"creation_date":1441113053,"post_id":21947452,"comment_id":52539277,"body_markdown":"@Palec I couldn&#39;t find any print tag specific to `System.out`, but I think [tag:system.out] itself will represent that part of the question quite good.","body":"@Palec I couldn&#39;t find any print tag specific to <code>System.out</code>, but I think <a href=\"https://stackoverflow.com/questions/tagged/system.out\">system.out</a> itself will represent that part of the question quite good."}],"answers":[{"comments":[{"owner":{"account_id":401598,"reputation":1767,"user_id":556742,"display_name":"Bob Kerns"},"score":358,"creation_date":1393195122,"post_id":21947627,"comment_id":33300222,"body_markdown":"Brilliant deduction. But we should generalize from this lesson, and always measure performance with output either eliminated, directed to /dev/null (NUL on Windows) or at least to a file. Displaying on any sort of Console is generally very expensive IO, and always distorts timings -- even if not as dramatically confusingly as this.","body":"Brilliant deduction. But we should generalize from this lesson, and always measure performance with output either eliminated, directed to /dev/null (NUL on Windows) or at least to a file. Displaying on any sort of Console is generally very expensive IO, and always distorts timings -- even if not as dramatically confusingly as this."},{"owner":{"account_id":135296,"reputation":27300,"user_id":338068,"accept_rate":78,"display_name":"Chris"},"score":20,"creation_date":1393254585,"post_id":21947627,"comment_id":33327824,"body_markdown":"@BobKerns: Surely that would still have generated an appropriate question though. The problem remains that printing Bs takes longer and not printing them isn&#39;t really a solution so much as a trick to help debug the problem.","body":"@BobKerns: Surely that would still have generated an appropriate question though. The problem remains that printing Bs takes longer and not printing them isn&#39;t really a solution so much as a trick to help debug the problem."},{"owner":{"account_id":1002072,"reputation":45807,"user_id":1016716,"accept_rate":72,"display_name":"Mr Lister"},"score":2,"creation_date":1393446121,"post_id":21947627,"comment_id":33436942,"body_markdown":"Is this still speculation? I mean, does System.out.print actually do word wrapping? Do we have documentation somewhere? Can you switch this feature on and off?","body":"Is this still speculation? I mean, does System.out.print actually do word wrapping? Do we have documentation somewhere? Can you switch this feature on and off?"},{"owner":{"account_id":154912,"reputation":4111,"user_id":371191,"accept_rate":71,"display_name":"Silly Freak"},"score":8,"creation_date":1393446901,"post_id":21947627,"comment_id":33437414,"body_markdown":"@MrLister this is not an issue with System.out, but with its consumer, in this case NetBeans&#39; console view. Whether you can turn it off, check in Netbeans&#39; settings.","body":"@MrLister this is not an issue with System.out, but with its consumer, in this case NetBeans&#39; console view. Whether you can turn it off, check in Netbeans&#39; settings."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":44,"creation_date":1393452673,"post_id":21947627,"comment_id":33440840,"body_markdown":"@MrLister: `System.out.println` doesn&#39;t do wordwrapping; the thing it was outputting to was doing word-wrapping (and blocking, so `System.out.println` had to wait).","body":"@MrLister: <code>System.out.println</code> doesn&#39;t do wordwrapping; the thing it was outputting to was doing word-wrapping (and blocking, so <code>System.out.println</code> had to wait)."},{"owner":{"account_id":401598,"reputation":1767,"user_id":556742,"display_name":"Bob Kerns"},"score":47,"creation_date":1393849668,"post_id":21947627,"comment_id":33605454,"body_markdown":"@Chris -- actually, I&#39;ll argue that not printing them IS the solution, to the problem of getting accurate timings of the algorithm.\n\nEach time you print to a Console (of any sort), you&#39;re invoking all manner of external processing not related to what you&#39;re testing the performance of. That&#39;s a bug in your measurement procedure, pure and simple.\n\nOn the other hand, if you view the problem not as measurement, but understanding the discrepancy, then yes, not printing is a debugging trick.\n\nIt comes down to, which problem are you trying to solve?","body":"@Chris -- actually, I&#39;ll argue that not printing them IS the solution, to the problem of getting accurate timings of the algorithm.  Each time you print to a Console (of any sort), you&#39;re invoking all manner of external processing not related to what you&#39;re testing the performance of. That&#39;s a bug in your measurement procedure, pure and simple.  On the other hand, if you view the problem not as measurement, but understanding the discrepancy, then yes, not printing is a debugging trick.  It comes down to, which problem are you trying to solve?"},{"owner":{"account_id":1507674,"reputation":5017,"user_id":1410669,"accept_rate":100,"display_name":"UpAndAdam"},"score":15,"creation_date":1396642286,"post_id":21947627,"comment_id":34897675,"body_markdown":"@BobKerns Thanks for injecting some sanity into this thread! So many people don&#39;t seem to understand this.  You need to be careful that you are **only measuring the thing you are trying to measure**","body":"@BobKerns Thanks for injecting some sanity into this thread! So many people don&#39;t seem to understand this.  You need to be careful that you are <b>only measuring the thing you are trying to measure</b>"}],"tags":[],"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":7,"down_vote_count":2,"up_vote_count":4253,"is_accepted":true,"score":4251,"last_activity_date":1489389389,"creation_date":1393027321,"answer_id":21947627,"question_id":21947452,"body_markdown":"*Pure speculation* is that you&#39;re using a terminal that attempts to do [word-wrapping][1] rather than character-wrapping, and treats `B` as a word character but `#` as a non-word character. So when it reaches the end of a line and searches for a place to break the line, it sees a `#` almost immediately and happily breaks there; whereas with the `B`, it has to keep searching for longer, and may have more text to wrap (which may be expensive on some terminals, e.g., outputting backspaces, then outputting spaces to overwrite the letters being wrapped).\r\n\r\nBut that&#39;s pure speculation.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Word_wrap","title":"Why is printing &quot;B&quot; dramatically slower than printing &quot;#&quot;?","body":"<p><em>Pure speculation</em> is that you're using a terminal that attempts to do <a href=\"http://en.wikipedia.org/wiki/Word_wrap\" rel=\"noreferrer\">word-wrapping</a> rather than character-wrapping, and treats <code>B</code> as a word character but <code>#</code> as a non-word character. So when it reaches the end of a line and searches for a place to break the line, it sees a <code>#</code> almost immediately and happily breaks there; whereas with the <code>B</code>, it has to keep searching for longer, and may have more text to wrap (which may be expensive on some terminals, e.g., outputting backspaces, then outputting spaces to overwrite the letters being wrapped).</p>\n\n<p>But that's pure speculation.</p>\n"},{"comments":[{"owner":{"account_id":1486863,"reputation":316,"user_id":1394917,"accept_rate":57,"display_name":"silph"},"score":42,"creation_date":1477802985,"post_id":29434641,"comment_id":67907562,"body_markdown":"can you elaborate on your research strategies and then what finally led you to find out that line-wrapping was the culprit? (i&#39;m curious about your detective skills, that is!)","body":"can you elaborate on your research strategies and then what finally led you to find out that line-wrapping was the culprit? (i&#39;m curious about your detective skills, that is!)"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1593861951,"post_id":29434641,"comment_id":110928297,"body_markdown":"Word wrapping in Netbeans can be disabled.","body":"Word wrapping in Netbeans can be disabled."},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":2,"creation_date":1616134008,"post_id":29434641,"comment_id":117912423,"body_markdown":"*&quot;I used System.nanoTime()&quot;* ... generally speaking, microbenchmarking without a purpose built benchmarking harness is meaningless.","body":"<i>&quot;I used System.nanoTime()&quot;</i> ... generally speaking, microbenchmarking without a purpose built benchmarking harness is meaningless."}],"tags":[],"owner":{"account_id":4902258,"reputation":4979,"user_id":3962211,"accept_rate":71,"display_name":"Roy Shmuli"},"comment_count":3,"down_vote_count":2,"up_vote_count":259,"is_accepted":false,"score":257,"last_activity_date":1688559766,"creation_date":1428073264,"answer_id":29434641,"question_id":21947452,"body_markdown":"I performed tests on Eclipse vs Netbeans 8.0.2, both with Java version 1.8;\r\nI used `System.nanoTime()` for measurements.\r\n\r\n## Eclipse:\r\n\r\nI got the **same time on both cases** - around **1.564 seconds**.\r\n\r\n## Netbeans:\r\n\r\n* Using &quot;#&quot;: **1.536 seconds**\r\n* Using &quot;B&quot;: **44.164 seconds**\r\n\r\nSo, it looks like Netbeans has a bad performance on print to console.\r\n\r\nAfter more research, I realized that the problem is [line-wrapping][1] of the max buffer of Netbeans (it&#39;s not restricted to `System.out.println` command), demonstrated by this code:\r\n\r\n```java\r\n    for (int i = 0; i &lt; 1000; i++) {\r\n        long t1 = System.nanoTime();\r\n        System.out.print(&quot;BBB......BBB&quot;); // &lt;- contains 1000 &quot;B&quot;s\r\n        long t2 = System.nanoTime();\r\n        System.out.println(t2 - t1);\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n```\r\n\r\nThe time results are less than 1 millisecond every iteration except **every fifth iteration**, when the time result is around 225 milliseconds. Something like (in nanoseconds):\r\n\r\n    BBB...31744\r\n    BBB...31744\r\n    BBB...31744\r\n    BBB...31744\r\n    BBB...226365807\r\n    BBB...31744\r\n    BBB...31744\r\n    BBB...31744\r\n    BBB...31744\r\n    BBB...226365807\r\n    .\r\n    .\r\n    .\r\n\r\nAnd so on.\r\n\r\n## Summary:\r\n\r\n1. Eclipse works perfectly with &quot;B&quot;\r\n1. Netbeans has a line-wrapping problem that can be solved (because the problem does not occur in eclipse)(without adding space after B (&quot;B &quot;)).\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Line_wrap_and_word_wrap","title":"Why is printing &quot;B&quot; dramatically slower than printing &quot;#&quot;?","body":"<p>I performed tests on Eclipse vs Netbeans 8.0.2, both with Java version 1.8;\nI used <code>System.nanoTime()</code> for measurements.</p>\n<h2>Eclipse:</h2>\n<p>I got the <strong>same time on both cases</strong> - around <strong>1.564 seconds</strong>.</p>\n<h2>Netbeans:</h2>\n<ul>\n<li>Using &quot;#&quot;: <strong>1.536 seconds</strong></li>\n<li>Using &quot;B&quot;: <strong>44.164 seconds</strong></li>\n</ul>\n<p>So, it looks like Netbeans has a bad performance on print to console.</p>\n<p>After more research, I realized that the problem is <a href=\"http://en.wikipedia.org/wiki/Line_wrap_and_word_wrap\" rel=\"nofollow noreferrer\">line-wrapping</a> of the max buffer of Netbeans (it's not restricted to <code>System.out.println</code> command), demonstrated by this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (int i = 0; i &lt; 1000; i++) {\n        long t1 = System.nanoTime();\n        System.out.print(&quot;BBB......BBB&quot;); // &lt;- contains 1000 &quot;B&quot;s\n        long t2 = System.nanoTime();\n        System.out.println(t2 - t1);\n        System.out.println(&quot;&quot;);\n    }\n</code></pre>\n<p>The time results are less than 1 millisecond every iteration except <strong>every fifth iteration</strong>, when the time result is around 225 milliseconds. Something like (in nanoseconds):</p>\n<pre><code>BBB...31744\nBBB...31744\nBBB...31744\nBBB...31744\nBBB...226365807\nBBB...31744\nBBB...31744\nBBB...31744\nBBB...31744\nBBB...226365807\n.\n.\n.\n</code></pre>\n<p>And so on.</p>\n<h2>Summary:</h2>\n<ol>\n<li>Eclipse works perfectly with &quot;B&quot;</li>\n<li>Netbeans has a line-wrapping problem that can be solved (because the problem does not occur in eclipse)(without adding space after B (&quot;B &quot;)).</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":4,"creation_date":1610903685,"post_id":57798920,"comment_id":116273761,"body_markdown":"&quot;It will take almost 6.24% less time to compile the program.&quot; surely you refer to executing, not compiling...","body":"&quot;It will take almost 6.24% less time to compile the program.&quot; surely you refer to executing, not compiling..."}],"tags":[],"owner":{"account_id":9378438,"reputation":1138,"user_id":8504033,"display_name":"Abdul Alim Shakir"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1688560071,"creation_date":1567661130,"answer_id":57798920,"question_id":21947452,"body_markdown":"Yes, the culprit is definitely word-wrapping. When I tested your two programs, NetBeans IDE 8.2 gave me the following result.\r\n\r\n 1. First Matrix: O and # = ***6.03 seconds***\r\n 2. Second Matrix: O and B = ***50.97 seconds***\r\n\r\nLooking at your code closely: you have used a line break at the end of the first loop. But you didn&#39;t use any line breaks in the second loop. So you are going to print a word with 1000 characters in the second loop. That causes a word-wrapping problem. If we use a non-word character &quot; &quot; after B, it takes only ***5.35 seconds*** to compile the program. And If we use a line break in the second loop after passing 100 values or 50 values, it takes only ***8.56 seconds*** and ***7.05 seconds*** respectively. \r\n\r\n    Random r = new Random();\r\n    for (int i = 0; i &lt; 1000; i++) {\r\n        for (int j = 0; j &lt; 1000; j++) {\r\n            if (r.nextInt(4) == 0) {\r\n                System.out.print(&quot;O&quot;);\r\n            } else {\r\n                System.out.print(&quot;B&quot;);\r\n            }\r\n\r\n            if (j % 100 == 0) { // Adding a line break in second loop      \r\n                System.out.println();\r\n            }                    \r\n        }\r\n\r\n        System.out.println(&quot;&quot;);                \r\n    }\r\n\r\n\r\n\r\nAnother advice is to change the settings of NetBeans IDE. First of all, go to NetBeans **Tools** and click **Options**. After that, click **Editor** and go to the **Formatting** tab. Then select *Anywhere* in **Line Wrap** Option. It will take almost 6.24% less time to compile the program. \r\n\r\n[![NetBeans Editor Settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yv2eL.jpg","title":"Why is printing &quot;B&quot; dramatically slower than printing &quot;#&quot;?","body":"<p>Yes, the culprit is definitely word-wrapping. When I tested your two programs, NetBeans IDE 8.2 gave me the following result.</p>\n<ol>\n<li>First Matrix: O and # = <em><strong>6.03 seconds</strong></em></li>\n<li>Second Matrix: O and B = <em><strong>50.97 seconds</strong></em></li>\n</ol>\n<p>Looking at your code closely: you have used a line break at the end of the first loop. But you didn't use any line breaks in the second loop. So you are going to print a word with 1000 characters in the second loop. That causes a word-wrapping problem. If we use a non-word character &quot; &quot; after B, it takes only <em><strong>5.35 seconds</strong></em> to compile the program. And If we use a line break in the second loop after passing 100 values or 50 values, it takes only <em><strong>8.56 seconds</strong></em> and <em><strong>7.05 seconds</strong></em> respectively.</p>\n<pre><code>Random r = new Random();\nfor (int i = 0; i &lt; 1000; i++) {\n    for (int j = 0; j &lt; 1000; j++) {\n        if (r.nextInt(4) == 0) {\n            System.out.print(&quot;O&quot;);\n        } else {\n            System.out.print(&quot;B&quot;);\n        }\n\n        if (j % 100 == 0) { // Adding a line break in second loop      \n            System.out.println();\n        }                    \n    }\n\n    System.out.println(&quot;&quot;);                \n}\n</code></pre>\n<p>Another advice is to change the settings of NetBeans IDE. First of all, go to NetBeans <strong>Tools</strong> and click <strong>Options</strong>. After that, click <strong>Editor</strong> and go to the <strong>Formatting</strong> tab. Then select <em>Anywhere</em> in <strong>Line Wrap</strong> Option. It will take almost 6.24% less time to compile the program.</p>\n<p><a href=\"https://i.stack.imgur.com/yv2eL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yv2eL.jpg\" alt=\"NetBeans Editor Settings\" /></a></p>\n"}],"owner":{"account_id":1921256,"reputation":26748,"user_id":1732709,"accept_rate":88,"display_name":"Kuba Spatny"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256850,"favorite_count":0,"down_vote_count":22,"up_vote_count":3008,"accepted_answer_id":21947627,"answer_count":3,"score":2986,"last_activity_date":1688560071,"creation_date":1393026343,"question_id":21947452,"body_markdown":"I generated two matrices of `1000` x `1000`:\r\n\r\nFirst Matrix: `O` and `#`.  \r\nSecond Matrix: `O` and `B`.\r\n\r\nUsing the following code, the first matrix took 8.52 seconds to complete:\r\n\r\n    Random r = new Random();\r\n    for (int i = 0; i &lt; 1000; i++) {\r\n        for (int j = 0; j &lt; 1000; j++) {\r\n            if (r.nextInt(4) == 0) {\r\n                System.out.print(&quot;O&quot;);\r\n            } else {\r\n                System.out.print(&quot;#&quot;);\r\n            }\r\n        }\r\n                \r\n       System.out.println(&quot;&quot;);\r\n     }\r\n\r\n\r\nWith this code, the second matrix took 259.152 seconds to complete:\r\n\r\n    Random r = new Random();\r\n    for (int i = 0; i &lt; 1000; i++) {\r\n        for (int j = 0; j &lt; 1000; j++) {\r\n            if (r.nextInt(4) == 0) {\r\n                System.out.print(&quot;O&quot;);\r\n            } else {\r\n                System.out.print(&quot;B&quot;); // only line changed\r\n            }\r\n        }\r\n                    \r\n        System.out.println(&quot;&quot;);\r\n    }\r\n\r\nWhat is the reason behind the dramatically different run times?\r\n\r\n---\r\n\r\nAs suggested in the comments, printing only `System.out.print(&quot;#&quot;);` takes `7.8871` seconds, whereas `System.out.print(&quot;B&quot;);` gives `still printing...`.\r\n\r\nAs others pointed out that it works for them normally, I tried [Ideone.com](http://ideone.com) for instance, and both pieces of code execute at the same speed.\r\n\r\nTest Conditions:\r\n\r\n - I ran this test from _Netbeans 7.2_, with the output into its console\r\n - I used `System.nanoTime()` for measurements","title":"Why is printing &quot;B&quot; dramatically slower than printing &quot;#&quot;?","body":"<p>I generated two matrices of <code>1000</code> x <code>1000</code>:</p>\n<p>First Matrix: <code>O</code> and <code>#</code>.<br />\nSecond Matrix: <code>O</code> and <code>B</code>.</p>\n<p>Using the following code, the first matrix took 8.52 seconds to complete:</p>\n<pre><code>Random r = new Random();\nfor (int i = 0; i &lt; 1000; i++) {\n    for (int j = 0; j &lt; 1000; j++) {\n        if (r.nextInt(4) == 0) {\n            System.out.print(&quot;O&quot;);\n        } else {\n            System.out.print(&quot;#&quot;);\n        }\n    }\n            \n   System.out.println(&quot;&quot;);\n }\n</code></pre>\n<p>With this code, the second matrix took 259.152 seconds to complete:</p>\n<pre><code>Random r = new Random();\nfor (int i = 0; i &lt; 1000; i++) {\n    for (int j = 0; j &lt; 1000; j++) {\n        if (r.nextInt(4) == 0) {\n            System.out.print(&quot;O&quot;);\n        } else {\n            System.out.print(&quot;B&quot;); // only line changed\n        }\n    }\n                \n    System.out.println(&quot;&quot;);\n}\n</code></pre>\n<p>What is the reason behind the dramatically different run times?</p>\n<hr />\n<p>As suggested in the comments, printing only <code>System.out.print(&quot;#&quot;);</code> takes <code>7.8871</code> seconds, whereas <code>System.out.print(&quot;B&quot;);</code> gives <code>still printing...</code>.</p>\n<p>As others pointed out that it works for them normally, I tried <a href=\"http://ideone.com\" rel=\"noreferrer\">Ideone.com</a> for instance, and both pieces of code execute at the same speed.</p>\n<p>Test Conditions:</p>\n<ul>\n<li>I ran this test from <em>Netbeans 7.2</em>, with the output into its console</li>\n<li>I used <code>System.nanoTime()</code> for measurements</li>\n</ul>\n"},{"tags":["java","multithreading","unit-testing","executorservice","java-threads"],"answers":[{"tags":[],"owner":{"account_id":4217515,"reputation":8460,"user_id":3453226,"accept_rate":77,"display_name":"spongebob"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688559603,"creation_date":1688403710,"answer_id":76606833,"question_id":76606463,"body_markdown":"You can use [`ExecutorService#submit(Runnable)`][1] which returns a [`Future&lt;?&gt;`][2], on which you can call [`get()`][3] which blocks until the `Runnable#run()` method has completed.\r\n\r\n    Future&lt;?&gt; methodIWantToTest(/* params */) {\r\n        try {\r\n            return executor.submit(() -&gt; {\r\n                try {\r\n                    privateMethodINeedToWaitFor(/* params */);\r\n                    // Other stuff\r\n                } catch (Throwable throwable) {\r\n                    // Handle here, otherwise it may be ignored if Future#get() is not called.\r\n                    throwable.printStackTrace();\r\n                }\r\n            });\r\n        } // catch\r\n    }\r\n\r\nIn your test:\r\n\r\n    managerClass.methodIWantToTest(/* params */).get();\r\n\r\nIn production code, the return value is ignored:\r\n\r\n    managerClass.methodIWantToTest(/* params */);\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.lang.Runnable)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#get()","title":"Can I wait for an method and its internal executor/threads to finish before making an assertion on the test?","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#submit(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>ExecutorService#submit(Runnable)</code></a> which returns a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\"><code>Future&lt;?&gt;</code></a>, on which you can call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#get()\" rel=\"nofollow noreferrer\"><code>get()</code></a> which blocks until the <code>Runnable#run()</code> method has completed.</p>\n<pre><code>Future&lt;?&gt; methodIWantToTest(/* params */) {\n    try {\n        return executor.submit(() -&gt; {\n            try {\n                privateMethodINeedToWaitFor(/* params */);\n                // Other stuff\n            } catch (Throwable throwable) {\n                // Handle here, otherwise it may be ignored if Future#get() is not called.\n                throwable.printStackTrace();\n            }\n        });\n    } // catch\n}\n</code></pre>\n<p>In your test:</p>\n<pre><code>managerClass.methodIWantToTest(/* params */).get();\n</code></pre>\n<p>In production code, the return value is ignored:</p>\n<pre><code>managerClass.methodIWantToTest(/* params */);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688559746,"creation_date":1688558545,"answer_id":76620126,"question_id":76606463,"body_markdown":"You can use the [awaitility](http://www.awaitility.org/) library, which allows for constructs like\r\n\r\n```\r\nawait()\r\n .atMost(30, SECONDS)\r\n .until(() -&gt; managerClass.getListOfThings().size() == 1);\r\n```\r\n\r\nIt will check the condition every 500 ms (adjustable default) and fail after the given at most time if not fulfilled.\r\n\r\nOne might argue it&#39;s syntactic sugar for something like\r\n\r\n```\r\ntry {\r\n Instant latestEndTime = Instant.now().plusSeconds(30);\r\n boolean ok = managerClass.getListOfThings().size() == 1;\r\n while (!ok) {\r\n  if (Instant.now().isAfter(latestEndTime)) {\r\n   fail(&quot;condition not fulfilled after 30 seconds&quot;);\r\n  }\r\n  Thread.sleep(500);\r\n  ok = managerClass.getListOfThings().size() == 1;\r\n }\r\n} catch (InterruptedException x) {  // Thread.sleep() throws this\r\n fail(&quot;uh-oh - &quot; + x);\r\n}\r\n```","title":"Can I wait for an method and its internal executor/threads to finish before making an assertion on the test?","body":"<p>You can use the <a href=\"http://www.awaitility.org/\" rel=\"nofollow noreferrer\">awaitility</a> library, which allows for constructs like</p>\n<pre><code>await()\n .atMost(30, SECONDS)\n .until(() -&gt; managerClass.getListOfThings().size() == 1);\n</code></pre>\n<p>It will check the condition every 500 ms (adjustable default) and fail after the given at most time if not fulfilled.</p>\n<p>One might argue it's syntactic sugar for something like</p>\n<pre><code>try {\n Instant latestEndTime = Instant.now().plusSeconds(30);\n boolean ok = managerClass.getListOfThings().size() == 1;\n while (!ok) {\n  if (Instant.now().isAfter(latestEndTime)) {\n   fail(&quot;condition not fulfilled after 30 seconds&quot;);\n  }\n  Thread.sleep(500);\n  ok = managerClass.getListOfThings().size() == 1;\n }\n} catch (InterruptedException x) {  // Thread.sleep() throws this\n fail(&quot;uh-oh - &quot; + x);\n}\n</code></pre>\n"}],"owner":{"account_id":7020435,"reputation":603,"user_id":5887711,"accept_rate":64,"display_name":"Tyrannogina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76620126,"answer_count":2,"score":1,"last_activity_date":1688559746,"creation_date":1688400330,"question_id":76606463,"body_markdown":"I have a class that basically has this code:\r\n```java\r\npublic class ManagerClass {\r\n  private final ExecutorService executor = Executors.newSingleThreadExecutor();\r\n\r\n  void methodIWantToTest(/* params */){\r\n    try {\r\n      executor.execute(() -&gt; {\r\n        privateMethodINeedToWaitFor(/* params */);\r\n        // Other stuff\r\n      })\r\n    } // catch\r\n  }\r\n}\r\n```\r\nI need to test this method (`methodIWantToTest`), and at the moment the assertion runs before `privateMethodINeedToWaitFor` has finished.\r\nI don&#39;t know enough about threading to know if there&#39;s any way for me to wait for `methodIWantToTest` and every thread created within that method. The `privateMethodIHaveToWaitFor` updates some values that I need to check in my assertion.\r\n\r\nI&#39;m not comfortable refactoring this code yet as I&#39;m not familiar enough with the codebase, so I would rather apply a solution on the test for the time being.\r\n\r\nCurrently on my test I do\r\n```java\r\nmanagerClass.methodIWantToTest(/* params */).\r\nThread.sleep(1000);\r\nList&lt;Things&gt; list = managerClass.getListOfThings(); \r\nassertEquals(1, list.size()); \r\n// more assertions\r\n```\r\nwhich works as a way to check my test passes in my local environment, the sleep() seems enough. However I&#39;d like my code to wait for the actual threads to be done, not just have an arbitrary sleep time. ","title":"Can I wait for an method and its internal executor/threads to finish before making an assertion on the test?","body":"<p>I have a class that basically has this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ManagerClass {\n  private final ExecutorService executor = Executors.newSingleThreadExecutor();\n\n  void methodIWantToTest(/* params */){\n    try {\n      executor.execute(() -&gt; {\n        privateMethodINeedToWaitFor(/* params */);\n        // Other stuff\n      })\n    } // catch\n  }\n}\n</code></pre>\n<p>I need to test this method (<code>methodIWantToTest</code>), and at the moment the assertion runs before <code>privateMethodINeedToWaitFor</code> has finished.\nI don't know enough about threading to know if there's any way for me to wait for <code>methodIWantToTest</code> and every thread created within that method. The <code>privateMethodIHaveToWaitFor</code> updates some values that I need to check in my assertion.</p>\n<p>I'm not comfortable refactoring this code yet as I'm not familiar enough with the codebase, so I would rather apply a solution on the test for the time being.</p>\n<p>Currently on my test I do</p>\n<pre class=\"lang-java prettyprint-override\"><code>managerClass.methodIWantToTest(/* params */).\nThread.sleep(1000);\nList&lt;Things&gt; list = managerClass.getListOfThings(); \nassertEquals(1, list.size()); \n// more assertions\n</code></pre>\n<p>which works as a way to check my test passes in my local environment, the sleep() seems enough. However I'd like my code to wait for the actual threads to be done, not just have an arbitrary sleep time.</p>\n"},{"tags":["java","swing","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1688480659,"post_id":76613461,"comment_id":135078117,"body_markdown":"*”the main part of the time is taken up by the process of applying styles”*. Are you certain of that? You say you are “loading” the styles. Where are you loading them from? Can you create an example where the long-running process really has to be executed on the FX Application Thread?","body":"<i>”the main part of the time is taken up by the process of applying styles”</i>. Are you certain of that? You say you are “loading” the styles. Where are you loading them from? Can you create an example where the long-running process really has to be executed on the FX Application Thread?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1688492838,"post_id":76613461,"comment_id":135080356,"body_markdown":"Unless your stylesheets are significantly more complicated than [modena.css](https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css), my guess is it&#39;s not the styling that&#39;s causing your freezes, at least not &quot;directly&quot;. Perhaps you are simply adding too many nodes to the scene graph at once? But if you&#39;re confidant the CSS is the issue, have you considered styling the nodes in code instead? All CSS does is set various properties on the nodes (most of which can be set on a background thread if not &quot;live&quot;).","body":"Unless your stylesheets are significantly more complicated than <a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css\" rel=\"nofollow noreferrer\">modena.css</a>, my guess is it&#39;s not the styling that&#39;s causing your freezes, at least not &quot;directly&quot;. Perhaps you are simply adding too many nodes to the scene graph at once? But if you&#39;re confidant the CSS is the issue, have you considered styling the nodes in code instead? All CSS does is set various properties on the nodes (most of which can be set on a background thread if not &quot;live&quot;)."},{"owner":{"account_id":14466502,"reputation":51,"user_id":10449705,"display_name":"dimaMS"},"score":0,"creation_date":1688559287,"post_id":76613461,"comment_id":135088924,"body_markdown":"I updated the question and made the example more close to the real case.","body":"I updated the question and made the example more close to the real case."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1688579841,"post_id":76613461,"comment_id":135093931,"body_markdown":"I would expect 10^5 layout nodes to scale poorly; why not a `Canvas`?","body":"I would expect 10^5 layout nodes to scale poorly; why not a <code>Canvas</code>?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1688588095,"post_id":76613461,"comment_id":135095357,"body_markdown":"I think the solution is to figure out how to have less nodes being rendered at once. Maybe implement some kind of &quot;virtualization&quot; (e.g., what `ListView`, `TableView`, etc. all do with their cells). Or use a `Canvas` as trashgod mentioned, though I would make that a last resort if you need your users to interact with the UI.","body":"I think the solution is to figure out how to have less nodes being rendered at once. Maybe implement some kind of &quot;virtualization&quot; (e.g., what <code>ListView</code>, <code>TableView</code>, etc. all do with their cells). Or use a <code>Canvas</code> as trashgod mentioned, though I would make that a last resort if you need your users to interact with the UI."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1688622247,"post_id":76613461,"comment_id":135098709,"body_markdown":"As the comments show, this is an [xy problem](https://xyproblem.info/).","body":"As the comments show, this is an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xy problem</a>."},{"owner":{"account_id":14466502,"reputation":51,"user_id":10449705,"display_name":"dimaMS"},"score":0,"creation_date":1688629094,"post_id":76613461,"comment_id":135099868,"body_markdown":"Application with 10^5 nodes is just an example. In fact, I have a complex application with a complex structure where there are tabs inside which there are tabs. While application is running, everything works smoothly, because the content is added gradually. But during the system file opening, a lot of content is loaded at once and this effect occurs. Loading everything at once is a system solution to make working with the application smooth. If load content while switching tabs, small but unpleasant lags will be noticed. My only problem with loading is an adequate display of the loading screen","body":"Application with 10^5 nodes is just an example. In fact, I have a complex application with a complex structure where there are tabs inside which there are tabs. While application is running, everything works smoothly, because the content is added gradually. But during the system file opening, a lot of content is loaded at once and this effect occurs. Loading everything at once is a system solution to make working with the application smooth. If load content while switching tabs, small but unpleasant lags will be noticed. My only problem with loading is an adequate display of the loading screen"}],"owner":{"account_id":14466502,"reputation":51,"user_id":10449705,"display_name":"dimaMS"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688559261,"creation_date":1688479565,"question_id":76613461,"body_markdown":"I have a complex application, with a lot of graphic elements with complex `CSS` styles. When I open a file, a large number of nodes with complex styles are added to the scene, which leads to a significant interface freeze.\r\n\r\nProblem example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Taking out loading data logic into a background thread does not solve problem, because the main part of the time is occupied by the process of adding graphical element with a large number of nodes and applying styles, which can only be performed in the UI thread.**\r\n\r\nCurrently I&#39;m solving my problem using an alternative `Swing` graphics thread, forming a transparent `JDialog` above the `JavaFX` window. This solution is bad and unstable for a number of reasons. For example, with system screen scaling the `JavaFX` application is scaled, but `Swing` is not. And there are many other problems.\r\n\r\nAlternative `Swing` solution code:\r\n\r\n\r\n```\r\npublic static void runWithSwingWaitPane(Scene scene, Runnable runnable) {\r\n    Bounds bounds = scene.getRoot().localToScreen(scene.getRoot().getBoundsInLocal());\r\n    WaitApp.open(bounds.getMinX(), bounds.getMinY(), scene.getWidth(), scene.getHeight());\r\n    runnable.run();\r\n    Platform.runLater(WaitApp::close);\r\n}\r\n\r\npublic class WaitApp {\r\n\r\n    private static final JDialog dialog;\r\n\r\n    static {\r\n        dialog = new JDialog();\r\n        dialog.getContentPane().add(new JLabel(new ImageIcon(Objects.requireNonNull(WaitApp.class.getResource(&quot;/wait.gif&quot;)))));\r\n        dialog.setUndecorated(true);\r\n        dialog.setBackground(new Color(1.0f, 1.0f, 1.0f, 0.5f));\r\n        dialog.setAlwaysOnTop(true);\r\n        dialog.pack();\r\n        dialog.setLocationRelativeTo(null);\r\n        dialog.addFocusListener(new FocusListener() {\r\n            @Override\r\n            public void focusGained(FocusEvent e) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void focusLost(FocusEvent e) {\r\n                SwingUtilities.invokeLater(() -&gt; dialog.setVisible(false));\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void open(double x, double y, double v, double h) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            dialog.setLocation((int) x, (int) y);\r\n            dialog.setSize((int) v, (int) h);\r\n            dialog.setVisible(true);\r\n        });\r\n    }\r\n\r\n    public static void close() {\r\n        SwingUtilities.invokeLater(dialog::dispose);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAlternative `Swing` solution example:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAlternative `Swing` solution problem after system screen scale change:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBelow is an example of the code to get the problem.\r\n\r\n\r\n```\r\npublic class Example extends Application {\r\n\r\n    private List&lt;StackPane&gt; list1 = new ArrayList&lt;&gt;();\r\n    private List&lt;StackPane&gt; list2 = new ArrayList&lt;&gt;();\r\n    private List&lt;String&gt; styles = Arrays.asList(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot;, &quot;eee&quot;, &quot;fff&quot;, &quot;ggg&quot;, &quot;hhh&quot;);\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        stage.setScene(createScene());\r\n        generateContent();\r\n        stage.show();\r\n    }\r\n\r\n    private Scene createScene() {\r\n        VBox vBox = new VBox();\r\n        HBox toolbar = new HBox();\r\n        StackPane content = new StackPane();\r\n        StackPane root = new StackPane();\r\n        root.getChildren().add(content);\r\n        VBox.setVgrow(content, Priority.ALWAYS);\r\n        StackPane content1 = new StackPane();\r\n        StackPane content2 = new StackPane();\r\n        toolbar.getChildren().addAll(createButtons(root, content, content1, content2));\r\n        vBox.getChildren().addAll(toolbar, content);\r\n        list1.add(content1);\r\n        list2.add(content2);\r\n        root.getChildren().add(vBox);\r\n        Scene scene = new Scene(root, 200, 200);\r\n        scene.getStylesheets().add(&quot;/style.css&quot;);\r\n        return scene;\r\n    }\r\n\r\n    private List&lt;Button&gt; createButtons(StackPane root, StackPane content, StackPane content1, StackPane content2) {\r\n        Button first = new Button(&quot;first&quot;);\r\n        Button second = new Button(&quot;second&quot;);\r\n        first.setOnAction(event -&gt; runWithWaitPain(root, () -&gt; {\r\n            long time = System.currentTimeMillis();\r\n            content.getChildren().clear();\r\n            content.getChildren().add(content1);\r\n            System.out.println(System.currentTimeMillis() - time);\r\n        }));\r\n        second.setOnAction(event -&gt; runWithWaitPain(root, () -&gt; {\r\n            long time = System.currentTimeMillis();\r\n            content.getChildren().clear();\r\n            content.getChildren().add(content2);\r\n            System.out.println(System.currentTimeMillis() - time);\r\n        }));\r\n        return Arrays.asList(first, second);\r\n    }\r\n\r\n    private void runWithWaitPain(StackPane root, Runnable runnable) {\r\n        Image image = new Image(&quot;/wait.gif&quot;);\r\n        ImageView imageView = new ImageView(image);\r\n        root.getChildren().add(imageView);\r\n        Platform.runLater(() -&gt; {\r\n            runnable.run();\r\n            root.getChildren().remove(imageView);\r\n        });\r\n    }\r\n\r\n    private void generateContent() {\r\n        for (int i = 0; i &lt; 50000; i++) {\r\n            StackPane parent = list1.remove((int) (Math.random() * list1.size()));\r\n            parent.getChildren().add(generateCell(list1));\r\n        }\r\n        for (int i = 0; i &lt; 50000; i++) {\r\n            StackPane parent = list2.remove((int) (Math.random() * list2.size()));\r\n            parent.getChildren().add(generateCell(list2));\r\n        }\r\n    }\r\n\r\n    private Node generateCell(List&lt;StackPane&gt; list) {\r\n        StackPane pane1 = new StackPane();\r\n        pane1.getStyleClass().add(styles.get((int) (Math.random() * 8)));\r\n        list.add(pane1);\r\n        StackPane pane2 = new StackPane();\r\n        pane2.getStyleClass().add(styles.get((int) (Math.random() * 8)));\r\n        list.add(pane2);\r\n\r\n        Pane cell = Math.random() &lt; 0.5 ? new HBox() : new VBox();\r\n        cell.getChildren().addAll(pane1, pane2);\r\n        if (cell instanceof HBox) {\r\n            HBox.setHgrow(pane1, Priority.ALWAYS);\r\n            HBox.setHgrow(pane2, Priority.ALWAYS);\r\n        }\r\n        if (cell instanceof VBox) {\r\n            VBox.setVgrow(pane1, Priority.ALWAYS);\r\n            VBox.setVgrow(pane2, Priority.ALWAYS);\r\n        }\r\n        return cell;\r\n    }\r\n}\r\n```\r\n\r\nstyle.css\r\n\r\n```\r\n.aaa {\r\n    -fx-background-color: red;\r\n}\r\n.bbb {\r\n    -fx-background-color: green;\r\n}\r\n.ccc {\r\n    -fx-background-color: blue;\r\n}\r\n.ddd {\r\n    -fx-background-color: yellow;\r\n}\r\n.eee {\r\n    -fx-background-color: black;\r\n}\r\n.fff {\r\n    -fx-background-color: orange;\r\n}\r\n.ggg {\r\n    -fx-background-color: purple;\r\n}\r\n.hhh {\r\n    -fx-background-color: gray;\r\n}\r\n```\r\n\r\nIn the current example, when adding an element with a large number of nodes, applying styles takes 20% of the total time, in a real project, applying styles takes 50% of the time.\r\n\r\nAre there any other ways to display the waiting screen? Maybe there are some built-in or alternative solutions?\r\n\r\nRunning platform: Java version 8 (Liberica Full JDK 8u372+7) \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pETaP.gif\r\n  [2]: https://i.stack.imgur.com/mhS2x.gif\r\n  [3]: https://i.stack.imgur.com/00BYE.png","title":"Launching wait pain screen when the JavaFX UI freezes","body":"<p>I have a complex application, with a lot of graphic elements with complex <code>CSS</code> styles. When I open a file, a large number of nodes with complex styles are added to the scene, which leads to a significant interface freeze.</p>\n<p>Problem example:</p>\n<p><a href=\"https://i.stack.imgur.com/pETaP.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pETaP.gif\" alt=\"enter image description here\" /></a></p>\n<p><strong>Taking out loading data logic into a background thread does not solve problem, because the main part of the time is occupied by the process of adding graphical element with a large number of nodes and applying styles, which can only be performed in the UI thread.</strong></p>\n<p>Currently I'm solving my problem using an alternative <code>Swing</code> graphics thread, forming a transparent <code>JDialog</code> above the <code>JavaFX</code> window. This solution is bad and unstable for a number of reasons. For example, with system screen scaling the <code>JavaFX</code> application is scaled, but <code>Swing</code> is not. And there are many other problems.</p>\n<p>Alternative <code>Swing</code> solution code:</p>\n<pre><code>public static void runWithSwingWaitPane(Scene scene, Runnable runnable) {\n    Bounds bounds = scene.getRoot().localToScreen(scene.getRoot().getBoundsInLocal());\n    WaitApp.open(bounds.getMinX(), bounds.getMinY(), scene.getWidth(), scene.getHeight());\n    runnable.run();\n    Platform.runLater(WaitApp::close);\n}\n\npublic class WaitApp {\n\n    private static final JDialog dialog;\n\n    static {\n        dialog = new JDialog();\n        dialog.getContentPane().add(new JLabel(new ImageIcon(Objects.requireNonNull(WaitApp.class.getResource(&quot;/wait.gif&quot;)))));\n        dialog.setUndecorated(true);\n        dialog.setBackground(new Color(1.0f, 1.0f, 1.0f, 0.5f));\n        dialog.setAlwaysOnTop(true);\n        dialog.pack();\n        dialog.setLocationRelativeTo(null);\n        dialog.addFocusListener(new FocusListener() {\n            @Override\n            public void focusGained(FocusEvent e) {\n\n            }\n\n            @Override\n            public void focusLost(FocusEvent e) {\n                SwingUtilities.invokeLater(() -&gt; dialog.setVisible(false));\n            }\n        });\n    }\n\n    public static void open(double x, double y, double v, double h) {\n        SwingUtilities.invokeLater(() -&gt; {\n            dialog.setLocation((int) x, (int) y);\n            dialog.setSize((int) v, (int) h);\n            dialog.setVisible(true);\n        });\n    }\n\n    public static void close() {\n        SwingUtilities.invokeLater(dialog::dispose);\n    }\n}\n\n</code></pre>\n<p>Alternative <code>Swing</code> solution example:</p>\n<p><a href=\"https://i.stack.imgur.com/mhS2x.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mhS2x.gif\" alt=\"enter image description here\" /></a></p>\n<p>Alternative <code>Swing</code> solution problem after system screen scale change:</p>\n<p><a href=\"https://i.stack.imgur.com/00BYE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/00BYE.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is an example of the code to get the problem.</p>\n<pre><code>public class Example extends Application {\n\n    private List&lt;StackPane&gt; list1 = new ArrayList&lt;&gt;();\n    private List&lt;StackPane&gt; list2 = new ArrayList&lt;&gt;();\n    private List&lt;String&gt; styles = Arrays.asList(&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot;, &quot;eee&quot;, &quot;fff&quot;, &quot;ggg&quot;, &quot;hhh&quot;);\n\n    @Override\n    public void start(Stage stage) {\n        stage.setScene(createScene());\n        generateContent();\n        stage.show();\n    }\n\n    private Scene createScene() {\n        VBox vBox = new VBox();\n        HBox toolbar = new HBox();\n        StackPane content = new StackPane();\n        StackPane root = new StackPane();\n        root.getChildren().add(content);\n        VBox.setVgrow(content, Priority.ALWAYS);\n        StackPane content1 = new StackPane();\n        StackPane content2 = new StackPane();\n        toolbar.getChildren().addAll(createButtons(root, content, content1, content2));\n        vBox.getChildren().addAll(toolbar, content);\n        list1.add(content1);\n        list2.add(content2);\n        root.getChildren().add(vBox);\n        Scene scene = new Scene(root, 200, 200);\n        scene.getStylesheets().add(&quot;/style.css&quot;);\n        return scene;\n    }\n\n    private List&lt;Button&gt; createButtons(StackPane root, StackPane content, StackPane content1, StackPane content2) {\n        Button first = new Button(&quot;first&quot;);\n        Button second = new Button(&quot;second&quot;);\n        first.setOnAction(event -&gt; runWithWaitPain(root, () -&gt; {\n            long time = System.currentTimeMillis();\n            content.getChildren().clear();\n            content.getChildren().add(content1);\n            System.out.println(System.currentTimeMillis() - time);\n        }));\n        second.setOnAction(event -&gt; runWithWaitPain(root, () -&gt; {\n            long time = System.currentTimeMillis();\n            content.getChildren().clear();\n            content.getChildren().add(content2);\n            System.out.println(System.currentTimeMillis() - time);\n        }));\n        return Arrays.asList(first, second);\n    }\n\n    private void runWithWaitPain(StackPane root, Runnable runnable) {\n        Image image = new Image(&quot;/wait.gif&quot;);\n        ImageView imageView = new ImageView(image);\n        root.getChildren().add(imageView);\n        Platform.runLater(() -&gt; {\n            runnable.run();\n            root.getChildren().remove(imageView);\n        });\n    }\n\n    private void generateContent() {\n        for (int i = 0; i &lt; 50000; i++) {\n            StackPane parent = list1.remove((int) (Math.random() * list1.size()));\n            parent.getChildren().add(generateCell(list1));\n        }\n        for (int i = 0; i &lt; 50000; i++) {\n            StackPane parent = list2.remove((int) (Math.random() * list2.size()));\n            parent.getChildren().add(generateCell(list2));\n        }\n    }\n\n    private Node generateCell(List&lt;StackPane&gt; list) {\n        StackPane pane1 = new StackPane();\n        pane1.getStyleClass().add(styles.get((int) (Math.random() * 8)));\n        list.add(pane1);\n        StackPane pane2 = new StackPane();\n        pane2.getStyleClass().add(styles.get((int) (Math.random() * 8)));\n        list.add(pane2);\n\n        Pane cell = Math.random() &lt; 0.5 ? new HBox() : new VBox();\n        cell.getChildren().addAll(pane1, pane2);\n        if (cell instanceof HBox) {\n            HBox.setHgrow(pane1, Priority.ALWAYS);\n            HBox.setHgrow(pane2, Priority.ALWAYS);\n        }\n        if (cell instanceof VBox) {\n            VBox.setVgrow(pane1, Priority.ALWAYS);\n            VBox.setVgrow(pane2, Priority.ALWAYS);\n        }\n        return cell;\n    }\n}\n</code></pre>\n<p>style.css</p>\n<pre><code>.aaa {\n    -fx-background-color: red;\n}\n.bbb {\n    -fx-background-color: green;\n}\n.ccc {\n    -fx-background-color: blue;\n}\n.ddd {\n    -fx-background-color: yellow;\n}\n.eee {\n    -fx-background-color: black;\n}\n.fff {\n    -fx-background-color: orange;\n}\n.ggg {\n    -fx-background-color: purple;\n}\n.hhh {\n    -fx-background-color: gray;\n}\n</code></pre>\n<p>In the current example, when adding an element with a large number of nodes, applying styles takes 20% of the total time, in a real project, applying styles takes 50% of the time.</p>\n<p>Are there any other ways to display the waiting screen? Maybe there are some built-in or alternative solutions?</p>\n<p>Running platform: Java version 8 (Liberica Full JDK 8u372+7)</p>\n"},{"tags":["java","casting","operators","variable-assignment","assignment-operator"],"comments":[{"owner":{"account_id":5489026,"reputation":1968,"user_id":4362954,"display_name":"SQLDiver"},"score":158,"creation_date":1420475508,"post_id":8710619,"comment_id":43977368,"body_markdown":"I&#39;m surprised Java allows this, being a stricter language than its predecessors.  Errors in casting can lead to critical failure, as was the case with Ariane5 Flight 501 where a 64-bit float cast to a 16-bit integer resulted in the crash.","body":"I&#39;m surprised Java allows this, being a stricter language than its predecessors.  Errors in casting can lead to critical failure, as was the case with Ariane5 Flight 501 where a 64-bit float cast to a 16-bit integer resulted in the crash."},{"owner":{"account_id":2370868,"reputation":8183,"user_id":2075524,"accept_rate":88,"display_name":"Ross Drew"},"score":137,"creation_date":1446456272,"post_id":8710619,"comment_id":54733887,"body_markdown":"In a flight control system written in Java, this would be the least of your worries @SQLDiver","body":"In a flight control system written in Java, this would be the least of your worries @SQLDiver"},{"owner":{"account_id":7841741,"reputation":1744,"user_id":5932611,"display_name":"Tharindu Sathischandra"},"score":10,"creation_date":1458287122,"post_id":8710619,"comment_id":59802365,"body_markdown":"Actually `i+=(long)j;` even will compile fine.","body":"Actually <code>i+=(long)j;</code> even will compile fine."},{"owner":{"account_id":2161903,"reputation":30385,"user_id":1915893,"display_name":"Aluan Haddad"},"score":0,"creation_date":1500558254,"post_id":8710619,"comment_id":77399293,"body_markdown":"I think Douglas Crockford wins the argument after all... This behavior is terrible and lots of languages have similar problems around conversions.","body":"I think Douglas Crockford wins the argument after all... This behavior is terrible and lots of languages have similar problems around conversions."},{"owner":{"account_id":998291,"reputation":35690,"user_id":1013719,"accept_rate":82,"display_name":"Ryan Haining"},"score":1,"creation_date":1503276218,"post_id":8710619,"comment_id":78533884,"body_markdown":"@Tharindu that&#39;s consistent though, since the whole expression gets casted, so it&#39;s the same as as `i = (int)(i + (long)j);`","body":"@Tharindu that&#39;s consistent though, since the whole expression gets casted, so it&#39;s the same as as <code>i = (int)(i + (long)j);</code>"},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":8,"creation_date":1505837024,"post_id":8710619,"comment_id":79572312,"body_markdown":"The constant push by one set of developers for accuracy and another for ease of use is really interesting.   We almost need two versions of the language, one that is amazingly precise and one that is easy to use.  Pushing Java from both directions moves it towards being unsuitable for either group.","body":"The constant push by one set of developers for accuracy and another for ease of use is really interesting.   We almost need two versions of the language, one that is amazingly precise and one that is easy to use.  Pushing Java from both directions moves it towards being unsuitable for either group."},{"owner":{"account_id":135130,"reputation":3754,"user_id":1070480,"accept_rate":78,"display_name":"HelloGoodbye"},"score":2,"creation_date":1539856333,"post_id":8710619,"comment_id":92656275,"body_markdown":"@RossDrew Why is that not a good idea?","body":"@RossDrew Why is that not a good idea?"},{"owner":{"account_id":135130,"reputation":3754,"user_id":1070480,"accept_rate":78,"display_name":"HelloGoodbye"},"score":3,"creation_date":1539856465,"post_id":8710619,"comment_id":92656361,"body_markdown":"@Tharindu What did you excpect? You are casting `j` to `long`, but `j` is already a `long`, so your casting doesn&#39;t do anything.","body":"@Tharindu What did you excpect? You are casting <code>j</code> to <code>long</code>, but <code>j</code> is already a <code>long</code>, so your casting doesn&#39;t do anything."},{"owner":{"account_id":1858553,"reputation":142,"user_id":1683629,"display_name":"Norill Tempest"},"score":9,"creation_date":1540386575,"post_id":8710619,"comment_id":92845952,"body_markdown":"if it did require casting, where would you put it? `i += (int) f;` casts f before addition, so it&#39;s not equivalent. `(int) i += f;` casts the result after assignment, not equivalent either. there would be no place to put a cast that would signify that you want to cast the value after adding, but before assignment.","body":"if it did require casting, where would you put it? <code>i += (int) f;</code> casts f before addition, so it&#39;s not equivalent. <code>(int) i += f;</code> casts the result after assignment, not equivalent either. there would be no place to put a cast that would signify that you want to cast the value after adding, but before assignment."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1548198448,"post_id":8710619,"comment_id":95455310,"body_markdown":"&quot;it&#39;s floating point is not precise&quot; let&#39;s correct that-&gt; &quot;floating point is not precise&quot; (Java follows IEEE floating point standard). If you use floating point when calculations and you haven&#39;t analysed whether the error is within the bounds required for your application, and your application is critical, you are the one to blame - not the language.","body":"&quot;it&#39;s floating point is not precise&quot; let&#39;s correct that-&gt; &quot;floating point is not precise&quot; (Java follows IEEE floating point standard). If you use floating point when calculations and you haven&#39;t analysed whether the error is within the bounds required for your application, and your application is critical, you are the one to blame - not the language."},{"owner":{"account_id":5489026,"reputation":1968,"user_id":4362954,"display_name":"SQLDiver"},"score":0,"creation_date":1567777701,"post_id":8710619,"comment_id":102076700,"body_markdown":"@RossDrew The Ariane5 was a space rocket.","body":"@RossDrew The Ariane5 was a space rocket."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1606955108,"post_id":8710619,"comment_id":115123714,"body_markdown":"This is a huge source of bugs in Java.","body":"This is a huge source of bugs in Java."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1622725338,"post_id":8710619,"comment_id":119878013,"body_markdown":"@BillK no, we do not need two versions. We only need the one version for accuracy. The &quot;ease of use&quot; is an illusion.  If you opt for features that provide &quot;ease of use&quot; you invariably end up paying for them hundredfold in maintenance costs.  Let me point you to good old edsgar: https://www.cs.utexas.edu/users/EWD/transcriptions/EWD06xx/EWD667.html (search for &quot;ease of programming&quot; in the text.)","body":"@BillK no, we do not need two versions. We only need the one version for accuracy. The &quot;ease of use&quot; is an illusion.  If you opt for features that provide &quot;ease of use&quot; you invariably end up paying for them hundredfold in maintenance costs.  Let me point you to good old edsgar: <a href=\"https://www.cs.utexas.edu/users/EWD/transcriptions/EWD06xx/EWD667.html\" rel=\"nofollow noreferrer\">cs.utexas.edu/users/EWD/transcriptions/EWD06xx/EWD667.html</a> (search for &quot;ease of programming&quot; in the text.)"},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1623086934,"post_id":8710619,"comment_id":119973712,"body_markdown":"@MikeNakis The lack of paying attention to ease of use has lead to people not being interested in or even hating java--especially new users.  This has lead to quite a few easy to use &amp; inaccurate languages along the line of ruby/groovy.  Kotlin seems to be a good balance of a usable static language, but it&#39;s yet another response to Java not moving towards usability.  (Don&#39;t get me wrong, I LOVE Java and they have made inroads towards usability such as not requiring two wrapper classes to read a text file, it just may be too late).","body":"@MikeNakis The lack of paying attention to ease of use has lead to people not being interested in or even hating java--especially new users.  This has lead to quite a few easy to use &amp; inaccurate languages along the line of ruby/groovy.  Kotlin seems to be a good balance of a usable static language, but it&#39;s yet another response to Java not moving towards usability.  (Don&#39;t get me wrong, I LOVE Java and they have made inroads towards usability such as not requiring two wrapper classes to read a text file, it just may be too late)."},{"owner":{"account_id":2542965,"reputation":2604,"user_id":2208372,"display_name":"Phil1970"},"score":0,"creation_date":1659229653,"post_id":8710619,"comment_id":129244503,"body_markdown":"As already mentionned, there is no good place to put a cast so the only other option would be to make it error and then you would have to use the long expression `i = (int)(i + j)`. Probably the best option would be to have a compiler option to generate a warning or error...","body":"As already mentionned, there is no good place to put a cast so the only other option would be to make it error and then you would have to use the long expression <code>i = (int)(i + j)</code>. Probably the best option would be to have a compiler option to generate a warning or error..."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698960307,"post_id":8710619,"comment_id":136474378,"body_markdown":"@LukeHutchison Is it? Evidence?. I’ve been programming in Java since 1997 and I’ve never seen such a bug.","body":"@LukeHutchison Is it? Evidence?. I’ve been programming in Java since 1997 and I’ve never seen such a bug."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1699049176,"post_id":8710619,"comment_id":136487166,"body_markdown":"@user207421 yes, this is quite obviously a source of loss-of-precision bugs, since it allows implicit narrowing casts without any sort of warning to the user. There&#39;s a reason you can&#39;t do `i = j;` using the example in the question. If that were allowed without warning, you&#39;d be throwing away half of `j` without even knowing it. The problem is compounded because implicit widening casts are allowed. So for example, consider: `double x = 0.0; int y = 1; double z = 1.5; y += z; x += y;` : there are no warnings anywhere, but if you don&#39;t realize `y` is an `int`, you lose `.5` with no warning.","body":"@user207421 yes, this is quite obviously a source of loss-of-precision bugs, since it allows implicit narrowing casts without any sort of warning to the user. There&#39;s a reason you can&#39;t do <code>i = j;</code> using the example in the question. If that were allowed without warning, you&#39;d be throwing away half of <code>j</code> without even knowing it. The problem is compounded because implicit widening casts are allowed. So for example, consider: <code>double x = 0.0; int y = 1; double z = 1.5; y += z; x += y;</code> : there are no warnings anywhere, but if you don&#39;t realize <code>y</code> is an <code>int</code>, you lose <code>.5</code> with no warning."}],"answers":[{"comments":[{"owner":{"account_id":1127576,"reputation":1382,"user_id":1114457,"accept_rate":38,"display_name":"bad_keypoints"},"score":43,"creation_date":1348294041,"post_id":8710685,"comment_id":16887547,"body_markdown":"So `i+=j` compiles as I checked myself, but it would result in loss of precision right? If that&#39;s the case, why doesn&#39;t it allow it to happen in i=i+j also? Why bug us there?","body":"So <code>i+=j</code> compiles as I checked myself, but it would result in loss of precision right? If that&#39;s the case, why doesn&#39;t it allow it to happen in i=i+j also? Why bug us there?"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":49,"creation_date":1348302719,"post_id":8710685,"comment_id":16889030,"body_markdown":"@ronnieaka: I&#39;m guessing that the language designers felt that in one case (`i += j`), it is safer to assume that the loss of precision is desired as opposed to the other case (`i = i + j`)","body":"@ronnieaka: I&#39;m guessing that the language designers felt that in one case (<code>i += j</code>), it is safer to assume that the loss of precision is desired as opposed to the other case (<code>i = i + j</code>)"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":2,"down_vote_count":0,"up_vote_count":2561,"is_accepted":true,"score":2561,"last_activity_date":1586429652,"creation_date":1325585723,"answer_id":8710685,"question_id":8710619,"body_markdown":"As always with these questions, the JLS holds the answer. In this case [&#167;15.26.2 Compound Assignment Operators][1]. An extract:\r\n\r\n&gt; A compound assignment expression of the form &lt;code&gt;E1&amp;nbsp;op=&amp;nbsp;E2&lt;/code&gt; is equivalent to &lt;code&gt;E1&amp;nbsp;=&amp;nbsp;(T)((E1)&amp;nbsp;op&amp;nbsp;(E2))&lt;/code&gt;, where `T` is the type of `E1`, except that `E1` is evaluated only once.\r\n\r\nAn example cited from [&#167;15.26.2][1]\r\n\r\n&gt;   [...] the following code is correct:\r\n\r\n&gt;     short x = 3;\r\n    x += 4.6;\r\n\r\n&gt;    and results in x having the value 7 because it is equivalent to:\r\n\r\n&gt;     short x = 3;\r\n&gt;     x = (short)(x + 4.6);\r\n\r\nIn other words, your assumption is correct.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se14/html/jls-15.html#jls-15.26.2","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>As always with these questions, the JLS holds the answer. In this case <a href=\"http://docs.oracle.com/javase/specs/jls/se14/html/jls-15.html#jls-15.26.2\" rel=\"noreferrer\">§15.26.2 Compound Assignment Operators</a>. An extract:</p>\n\n<blockquote>\n  <p>A compound assignment expression of the form <code>E1&nbsp;op=&nbsp;E2</code> is equivalent to <code>E1&nbsp;=&nbsp;(T)((E1)&nbsp;op&nbsp;(E2))</code>, where <code>T</code> is the type of <code>E1</code>, except that <code>E1</code> is evaluated only once.</p>\n</blockquote>\n\n<p>An example cited from <a href=\"http://docs.oracle.com/javase/specs/jls/se14/html/jls-15.html#jls-15.26.2\" rel=\"noreferrer\">§15.26.2</a></p>\n\n<blockquote>\n  <p>[...] the following code is correct:</p>\n\n<pre><code>short x = 3;\nx += 4.6;\n</code></pre>\n  \n  <p>and results in x having the value 7 because it is equivalent to:</p>\n\n<pre><code>short x = 3;\nx = (short)(x + 4.6);\n</code></pre>\n</blockquote>\n\n<p>In other words, your assumption is correct.</p>\n"},{"comments":[{"owner":{"account_id":78475,"reputation":12729,"user_id":223339,"accept_rate":100,"display_name":"Romain"},"score":7,"creation_date":1325585838,"post_id":8710688,"comment_id":10840773,"body_markdown":"In this case, the &quot;implicit cast&quot; could be lossy. In reality, as @LukasEder states in his answer, the cast to `int` is performed *after* the `+`. The compiler would (should?) throw a warning if it really did cast the `long` to `int`.","body":"In this case, the &quot;implicit cast&quot; could be lossy. In reality, as @LukasEder states in his answer, the cast to <code>int</code> is performed <i>after</i> the <code>+</code>. The compiler would (should?) throw a warning if it really did cast the <code>long</code> to <code>int</code>."}],"tags":[],"owner":{"account_id":395649,"reputation":18444,"user_id":758708,"accept_rate":100,"display_name":"dku.rajkumar"},"comment_count":1,"down_vote_count":1,"up_vote_count":95,"is_accepted":false,"score":94,"last_activity_date":1325586421,"creation_date":1325585748,"answer_id":8710688,"question_id":8710619,"body_markdown":"you need to cast from `long` to `int` `explicitly` in case of `i = i + l`  then it will compile and give correct output. like \r\n\r\n    i = i + (int)l;\r\nor\r\n\r\n    i = (int)((long)i + l); // this is what happens in case of += , dont need (long) casting since upper casting is done implicitly.\r\n\r\nbut in case of `+=` it just works fine because the operator implicitly does the type casting from type of right variable to type of left variable so need not cast explicitly.","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>you need to cast from <code>long</code> to <code>int</code> <code>explicitly</code> in case of <code>i = i + l</code>  then it will compile and give correct output. like </p>\n\n<pre><code>i = i + (int)l;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>i = (int)((long)i + l); // this is what happens in case of += , dont need (long) casting since upper casting is done implicitly.\n</code></pre>\n\n<p>but in case of <code>+=</code> it just works fine because the operator implicitly does the type casting from type of right variable to type of left variable so need not cast explicitly.</p>\n"},{"comments":[{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":22,"creation_date":1492716686,"post_id":8710717,"comment_id":74109663,"body_markdown":"Or more fun: &quot;int x=33333333; x+=1.0f;&quot;.","body":"Or more fun: &quot;int x=33333333; x+=1.0f;&quot;."},{"owner":{"account_id":187950,"reputation":2035,"user_id":426371,"accept_rate":82,"display_name":"neXus"},"score":5,"creation_date":1537533226,"post_id":8710717,"comment_id":91830401,"body_markdown":"@supercat , what trickery is this? A widening conversion that is incorrectly rounded, followed by an addition that doesn&#39;t actually change the result, casting to int again to produce a result that is most unexpected for normal human minds.","body":"@supercat , what trickery is this? A widening conversion that is incorrectly rounded, followed by an addition that doesn&#39;t actually change the result, casting to int again to produce a result that is most unexpected for normal human minds."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":2,"creation_date":1537542306,"post_id":8710717,"comment_id":91835814,"body_markdown":"@neXus: IMHO, the conversion rules should have treated `double-&gt;float` as widening, on the basis that values of type `float` identify real numbers less specifically than those of type `double`.  If one views `double` as a complete postal address and `float` as a 5-digit postal code, it&#39;s possible to satisfy a request for a postal code given a complete address, but it&#39;s not possible to accurately specify a request for a complete address given just a postal code.  Converting a street address to a postal code is a lossy operation, *but*...","body":"@neXus: IMHO, the conversion rules should have treated <code>double-&gt;float</code> as widening, on the basis that values of type <code>float</code> identify real numbers less specifically than those of type <code>double</code>.  If one views <code>double</code> as a complete postal address and <code>float</code> as a 5-digit postal code, it&#39;s possible to satisfy a request for a postal code given a complete address, but it&#39;s not possible to accurately specify a request for a complete address given just a postal code.  Converting a street address to a postal code is a lossy operation, <i>but</i>..."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":2,"creation_date":1537542473,"post_id":8710717,"comment_id":91835919,"body_markdown":"...someone who needs a complete address wouldn&#39;t generally be asking for just a postal code.  Conversion from `float-&gt;double` is equivalent to converting US postal code 90210 with &quot;US Post Office, Beverly Hills CA 90210&quot;.","body":"...someone who needs a complete address wouldn&#39;t generally be asking for just a postal code.  Conversion from <code>float-&gt;double</code> is equivalent to converting US postal code 90210 with &quot;US Post Office, Beverly Hills CA 90210&quot;."}],"tags":[],"owner":{"account_id":46475,"reputation":20349,"user_id":137369,"accept_rate":78,"display_name":"Thirler"},"comment_count":4,"down_vote_count":0,"up_vote_count":270,"is_accepted":false,"score":270,"last_activity_date":1491246701,"creation_date":1325585855,"answer_id":8710717,"question_id":8710619,"body_markdown":"Very good question. The [Java Language specification][1] confirms your suggestion.\r\n\r\n&gt; For example, the following code is correct:\r\n&gt; \r\n&gt; \r\n&gt;     short x = 3;\r\n&gt;     x += 4.6;\r\n&gt; \r\n&gt; and results in x having the value 7 because it is equivalent to:\r\n&gt; \r\n&gt; \r\n&gt;     short x = 3;\r\n&gt;     x = (short)(x + 4.6);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.26.2","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>Very good question. The <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.26.2\" rel=\"noreferrer\">Java Language specification</a> confirms your suggestion.</p>\n\n<blockquote>\n  <p>For example, the following code is correct:</p>\n\n<pre><code>short x = 3;\nx += 4.6;\n</code></pre>\n  \n  <p>and results in x having the value 7 because it is equivalent to:</p>\n\n<pre><code>short x = 3;\nx = (short)(x + 4.6);\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":3,"creation_date":1376317755,"post_id":8710746,"comment_id":26653986,"body_markdown":"Can you tell me which classfile this is?","body":"Can you tell me which classfile this is?"},{"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"score":8,"creation_date":1376320643,"post_id":8710746,"comment_id":26656071,"body_markdown":"@hexafraction: what you mean by class file? if you asking about the class file i mentioned in my post than it&#39;s the complied version of your java class","body":"@hexafraction: what you mean by class file? if you asking about the class file i mentioned in my post than it&#39;s the complied version of your java class"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":4,"creation_date":1376333868,"post_id":8710746,"comment_id":26663200,"body_markdown":"Oh, you mentioned &quot;the&quot; class file code, which led me to believe a specific classfile was involved. I understand what you mean now.","body":"Oh, you mentioned &quot;the&quot; class file code, which led me to believe a specific classfile was involved. I understand what you mean now."},{"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"score":1,"creation_date":1424066905,"post_id":8710746,"comment_id":45385138,"body_markdown":"@Bogdan That shouldn&#39;t be a problem with properly used fonts. A programmer which chooses whe wrong font for programming should clearly think about how to proceed...","body":"@Bogdan That shouldn&#39;t be a problem with properly used fonts. A programmer which chooses whe wrong font for programming should clearly think about how to proceed..."},{"owner":{"account_id":1809869,"reputation":5414,"user_id":1646170,"accept_rate":49,"display_name":"Bogdan Alexandru"},"score":7,"creation_date":1424097722,"post_id":8710746,"comment_id":45401064,"body_markdown":"@glglgl I disagree that one should rely on font to distinguish in those cases... but everybody has the freedom to choose what thinks is best.","body":"@glglgl I disagree that one should rely on font to distinguish in those cases... but everybody has the freedom to choose what thinks is best."},{"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"score":0,"creation_date":1424118896,"post_id":8710746,"comment_id":45412747,"body_markdown":"On some old MATLAB version, the default font size was one which made O and 0 look the same in Times New Roman, as well as 1 and l. It was always the first step that I did to change the font sie to something useful...","body":"On some old MATLAB version, the default font size was one which made O and 0 look the same in Times New Roman, as well as 1 and l. It was always the first step that I did to change the font sie to something useful..."}],"tags":[],"owner":{"account_id":216384,"reputation":23447,"user_id":471607,"accept_rate":73,"display_name":"Umesh Awasthi"},"comment_count":6,"down_vote_count":4,"up_vote_count":187,"is_accepted":false,"score":183,"last_activity_date":1688557302,"creation_date":1325585988,"answer_id":8710746,"question_id":8710619,"body_markdown":"Yes,\r\n\r\nbasically when we write\r\n\r\n    i += l; \r\n\r\nthe compiler converts this to \r\n\r\n    i = (int) (i + l);\r\n\r\nI just checked the `.class` file code.\r\n\r\nReally a good thing to know.","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>Yes,</p>\n<p>basically when we write</p>\n<pre><code>i += l; \n</code></pre>\n<p>the compiler converts this to</p>\n<pre><code>i = (int) (i + l);\n</code></pre>\n<p>I just checked the <code>.class</code> file code.</p>\n<p>Really a good thing to know.</p>\n"},{"comments":[{"owner":{"account_id":963,"reputation":18382,"user_id":37740,"accept_rate":71,"display_name":"Sajal Dutta"},"score":12,"creation_date":1399327678,"post_id":8710747,"comment_id":36007105,"body_markdown":"@AkshatAgarwal ch is a char. 65 * 1.5 = 97.5 -&gt; Got it?","body":"@AkshatAgarwal ch is a char. 65 * 1.5 = 97.5 -&gt; Got it?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":91,"creation_date":1401269101,"post_id":8710747,"comment_id":36813637,"body_markdown":"Yeah, but I can just see some beginner coming here, reading this, and going away thinking that you can convert any character from upper case to lower case by multiplying it by 1.5.","body":"Yeah, but I can just see some beginner coming here, reading this, and going away thinking that you can convert any character from upper case to lower case by multiplying it by 1.5."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":110,"creation_date":1401281775,"post_id":8710747,"comment_id":36822007,"body_markdown":"@DavidWallace Any character as long as it is `A` ;)","body":"@DavidWallace Any character as long as it is <code>A</code> ;)"},{"owner":{"account_id":5958144,"reputation":21190,"user_id":4684058,"accept_rate":100,"display_name":"Minhas Kamal"},"score":18,"creation_date":1458106144,"post_id":8710747,"comment_id":59705247,"body_markdown":"@PeterLawrey &amp; @DavidWallace I will reveal your **secret**- `ch += 32`  =D","body":"@PeterLawrey &amp; @DavidWallace I will reveal your <b>secret</b>- <code>ch += 32</code>  =D"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":4,"down_vote_count":7,"up_vote_count":515,"is_accepted":false,"score":508,"last_activity_date":1325586320,"creation_date":1325586003,"answer_id":8710747,"question_id":8710619,"body_markdown":"A good example of this casting is using *= or /=\r\n\r\n    byte b = 10;\r\n    b *= 5.7;\r\n    System.out.println(b); // prints 57\r\n\r\nor\r\n\r\n    byte b = 100;\r\n    b /= 2.5;\r\n    System.out.println(b); // prints 40\r\n\r\nor\r\n\r\n    char ch = &#39;0&#39;;\r\n    ch *= 1.1;\r\n    System.out.println(ch); // prints &#39;4&#39;\r\n\r\nor\r\n\r\n    char ch = &#39;A&#39;;\r\n    ch *= 1.5;\r\n    System.out.println(ch); // prints &#39;a&#39;\r\n\r\n","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>A good example of this casting is using *= or /=</p>\n\n<pre><code>byte b = 10;\nb *= 5.7;\nSystem.out.println(b); // prints 57\n</code></pre>\n\n<p>or</p>\n\n<pre><code>byte b = 100;\nb /= 2.5;\nSystem.out.println(b); // prints 40\n</code></pre>\n\n<p>or</p>\n\n<pre><code>char ch = '0';\nch *= 1.1;\nSystem.out.println(ch); // prints '4'\n</code></pre>\n\n<p>or</p>\n\n<pre><code>char ch = 'A';\nch *= 1.5;\nSystem.out.println(ch); // prints 'a'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1059619,"reputation":2147,"user_id":1061518,"accept_rate":54,"display_name":"dinesh028"},"comment_count":0,"down_vote_count":7,"up_vote_count":71,"is_accepted":false,"score":64,"last_activity_date":1688557383,"creation_date":1325586029,"answer_id":8710752,"question_id":8710619,"body_markdown":"The problem here involves type casting.\r\n\r\nWhen you add int and long, \r\n\r\n1. The int object is cast to long &amp; both are added and you get a long object.\r\n2. But the long object cannot be implicitly cast to int. So, you have to do that explicitly.\r\n\r\nBut `+=` is coded in such a way that it does type casting. `i = (int) (i + m)`","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>The problem here involves type casting.</p>\n<p>When you add int and long,</p>\n<ol>\n<li>The int object is cast to long &amp; both are added and you get a long object.</li>\n<li>But the long object cannot be implicitly cast to int. So, you have to do that explicitly.</li>\n</ol>\n<p>But <code>+=</code> is coded in such a way that it does type casting. <code>i = (int) (i + m)</code></p>\n"},{"comments":[{"owner":{"account_id":1517424,"reputation":8052,"user_id":1418097,"accept_rate":83,"display_name":"Display Name"},"score":2,"creation_date":1377857831,"post_id":14473282,"comment_id":27251828,"body_markdown":"Hey, but `long` is 2 times larger than `float`.","body":"Hey, but <code>long</code> is 2 times larger than <code>float</code>."},{"owner":{"account_id":1769470,"reputation":2426,"user_id":1614599,"display_name":"Alex MDC"},"score":11,"creation_date":1378759284,"post_id":14473282,"comment_id":27561875,"body_markdown":"A `float` can&#39;t hold every possible `int` value, and a `double` can&#39;t hold every possible `long` value.","body":"A <code>float</code> can&#39;t hold every possible <code>int</code> value, and a <code>double</code> can&#39;t hold every possible <code>long</code> value."},{"owner":{"account_id":3412463,"reputation":1246,"user_id":2862100,"accept_rate":33,"display_name":"Luke"},"score":2,"creation_date":1383830517,"post_id":14473282,"comment_id":29498022,"body_markdown":"What do you mean by &quot;safely converted&quot; ? From latter part of the answer I can deduce that you  meant automatic conversion ( implicit cast ) which is of course not true in case of float -&gt; long.\nfloat pi = 3.14f; long b = pi; will result in compiler error.","body":"What do you mean by &quot;safely converted&quot; ? From latter part of the answer I can deduce that you  meant automatic conversion ( implicit cast ) which is of course not true in case of float -&gt; long. float pi = 3.14f; long b = pi; will result in compiler error."},{"owner":{"account_id":5299469,"reputation":153,"user_id":4229629,"display_name":"ThePyroEagle"},"score":1,"creation_date":1450817973,"post_id":14473282,"comment_id":56590279,"body_markdown":"You&#39;d be better off differentiating floating point primitive types with integer primitive types. They&#39;re not the same thing.","body":"You&#39;d be better off differentiating floating point primitive types with integer primitive types. They&#39;re not the same thing."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1492717237,"post_id":14473282,"comment_id":74109966,"body_markdown":"Java has simplistic conversion rules that require the use of casts in many patterns where behavior without casts would otherwise match expectations, but doesn&#39;t require casts in many patterns that are usually erroneous.  For example, a compiler will accept `double d=33333333+1.0f;` without complaint, even though the result 33333332.0 would likely not be what was intended (incidentally, the arithmetically-correct answer of 33333334.0f would be representable as either `float` or `int`).","body":"Java has simplistic conversion rules that require the use of casts in many patterns where behavior without casts would otherwise match expectations, but doesn&#39;t require casts in many patterns that are usually erroneous.  For example, a compiler will accept <code>double d=33333333+1.0f;</code> without complaint, even though the result 33333332.0 would likely not be what was intended (incidentally, the arithmetically-correct answer of 33333334.0f would be representable as either <code>float</code> or <code>int</code>)."}],"tags":[],"owner":{"account_id":2130094,"reputation":1331,"user_id":1891112,"accept_rate":71,"display_name":"tinker_fairy"},"comment_count":5,"down_vote_count":5,"up_vote_count":58,"is_accepted":false,"score":53,"last_activity_date":1409118955,"creation_date":1358920236,"answer_id":14473282,"question_id":8710619,"body_markdown":"In Java type conversions are performed automatically when the type of the expression on the right hand side of an assignment operation can be safely promoted to the type of the variable on the left hand side of the assignment. Thus we can safely assign:  \r\n&lt;pre&gt; byte -&gt; short -&gt; int -&gt; long -&gt; float -&gt; double. &lt;/pre&gt;  \r\nThe same will not work the other way round. For example we cannot automatically convert a long to an int because the first requires more storage than the second and consequently information may be lost. To force such a conversion we must carry out an explicit conversion.  \r\n[Type - Conversion][1]\r\n\r\n\r\n  [1]: http://way2java.com/casting-operations/data-type-casting-type-conversion/","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>In Java type conversions are performed automatically when the type of the expression on the right hand side of an assignment operation can be safely promoted to the type of the variable on the left hand side of the assignment. Thus we can safely assign:  </p>\n\n<pre> byte -> short -> int -> long -> float -> double. </pre>  \n\n<p>The same will not work the other way round. For example we cannot automatically convert a long to an int because the first requires more storage than the second and consequently information may be lost. To force such a conversion we must carry out an explicit conversion.<br>\n<a href=\"http://way2java.com/casting-operations/data-type-casting-type-conversion/\" rel=\"noreferrer\">Type - Conversion</a></p>\n"},{"comments":[{"owner":{"account_id":3805386,"reputation":6451,"user_id":3469725,"accept_rate":96,"display_name":"Thomas"},"score":6,"creation_date":1421268615,"post_id":27247364,"comment_id":44299319,"body_markdown":"Thanks for the insight regarding the comparison of the `op` use in C++ to its use in Java. I always like seeing these bits of trivia and I do think they contribute something to the conversation that may often be left out.","body":"Thanks for the insight regarding the comparison of the <code>op</code> use in C++ to its use in Java. I always like seeing these bits of trivia and I do think they contribute something to the conversation that may often be left out."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":2,"creation_date":1522062538,"post_id":27247364,"comment_id":85982766,"body_markdown":"However the question itself *is* interesting, asking this *in an interview* is stupid. It does not prove that the person can produce a good quality code - it just proves that he had enough patience to prepare for an Oracle certificate exam. And &quot;avoiding&quot; the incompatible types by using a dangerous auto-conversion and thus hiding the possible overflow error, probably even *proves* that the person is not able to produce probable a good quality code. Damn the Java authors for all these auto-conversions and auto-boxing and all!","body":"However the question itself <i>is</i> interesting, asking this <i>in an interview</i> is stupid. It does not prove that the person can produce a good quality code - it just proves that he had enough patience to prepare for an Oracle certificate exam. And &quot;avoiding&quot; the incompatible types by using a dangerous auto-conversion and thus hiding the possible overflow error, probably even <i>proves</i> that the person is not able to produce probable a good quality code. Damn the Java authors for all these auto-conversions and auto-boxing and all!"}],"tags":[],"owner":{"account_id":4805038,"reputation":1687,"user_id":3880437,"accept_rate":67,"display_name":"Stopfan"},"comment_count":2,"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1421269895,"creation_date":1417516858,"answer_id":27247364,"question_id":8710619,"body_markdown":"Sometimes, such a question can be asked at an interview.\r\n\r\nFor example, when you write:\r\n\r\n    int a = 2;\r\n    long b = 3;\r\n    a = a + b;\r\n\r\nthere is no automatic typecasting. In C++ there will not be any error compiling the above code, but in Java you will get something like `Incompatible type exception`.\r\n\r\nSo to avoid it, you must write your code like this:\r\n\r\n    int a = 2;\r\n    long b = 3;\r\n    a += b;// No compilation error or any exception due to the auto typecasting","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>Sometimes, such a question can be asked at an interview.</p>\n\n<p>For example, when you write:</p>\n\n<pre><code>int a = 2;\nlong b = 3;\na = a + b;\n</code></pre>\n\n<p>there is no automatic typecasting. In C++ there will not be any error compiling the above code, but in Java you will get something like <code>Incompatible type exception</code>.</p>\n\n<p>So to avoid it, you must write your code like this:</p>\n\n<pre><code>int a = 2;\nlong b = 3;\na += b;// No compilation error or any exception due to the auto typecasting\n</code></pre>\n"},{"comments":[{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":6,"creation_date":1452374055,"post_id":30699499,"comment_id":57144026,"body_markdown":"Compound assignment operators perform a narrowing conversion of the result of the binary operation, not the right-hand operand. So in your example, &#39;a += b&#39; is not equivalent to &#39;a = a + (int) b&#39; but, as explained by other answers here, to &#39;a = (int)(a + b)&#39;.","body":"Compound assignment operators perform a narrowing conversion of the result of the binary operation, not the right-hand operand. So in your example, &#39;a += b&#39; is not equivalent to &#39;a = a + (int) b&#39; but, as explained by other answers here, to &#39;a = (int)(a + b)&#39;."}],"tags":[],"owner":{"account_id":5830136,"reputation":457,"user_id":4594967,"accept_rate":57,"display_name":"takra"},"comment_count":1,"down_vote_count":3,"up_vote_count":30,"is_accepted":false,"score":27,"last_activity_date":1688557443,"creation_date":1433719624,"answer_id":30699499,"question_id":8710619,"body_markdown":"The main difference is that with `a = a + b`, there is no typecasting going on, and so the compiler gets angry at you for not typecasting. But with `a += b`, what it&#39;s really doing is typecasting `b` to a type compatible with `a`. So if you do \r\n\r\n```java\r\n    int a = 5;\r\n    long b = 10;\r\n    a += b;\r\n    System.out.println(a);\r\n```\r\n\r\nWhat you&#39;re really doing is: \r\n\r\n```java\r\n    int a = 5;\r\n    long b = 10;\r\n    a = a + (int) b;\r\n    System.out.println(a);\r\n```","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>The main difference is that with <code>a = a + b</code>, there is no typecasting going on, and so the compiler gets angry at you for not typecasting. But with <code>a += b</code>, what it's really doing is typecasting <code>b</code> to a type compatible with <code>a</code>. So if you do</p>\n<pre class=\"lang-java prettyprint-override\"><code>    int a = 5;\n    long b = 10;\n    a += b;\n    System.out.println(a);\n</code></pre>\n<p>What you're really doing is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    int a = 5;\n    long b = 10;\n    a = a + (int) b;\n    System.out.println(a);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":1,"creation_date":1534192065,"post_id":34863187,"comment_id":90614479,"body_markdown":"I think a more interesting case might be `int someInt = 16777217; float someFloat = 0.0f; someInt += someFloat;`.  Adding zero to `someInt` shouldn&#39;t affect its value, but promoting `someInt` to `float` may change its value.","body":"I think a more interesting case might be <code>int someInt = 16777217; float someFloat = 0.0f; someInt += someFloat;</code>.  Adding zero to <code>someInt</code> shouldn&#39;t affect its value, but promoting <code>someInt</code> to <code>float</code> may change its value."}],"tags":[],"owner":{"account_id":1090121,"reputation":193,"user_id":1084927,"display_name":"Cyborg"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1521832378,"creation_date":1453147629,"answer_id":34863187,"question_id":8710619,"body_markdown":"Subtle point here...\r\n\r\nThere is an implicit typecast for `i+j` when `j` is a double and `i` is an int.\r\nJava **ALWAYS** converts an integer into a double when there is an operation between them.\r\n\r\nTo clarify `i+=j` where `i` is an integer and `j` is a double can be described as\r\n\r\n    i = &lt;int&gt;(&lt;double&gt;i + j)\r\n\r\nSee: [this description of implicit casting][1]\r\n\r\nYou might want to typecast `j` to `(int)` in this case for clarity.\r\n\r\n  [1]: https://www.cs.cmu.edu/~pattis/15-1XX/15-200/lectures/voe/lecture.html#ImplicitConversion","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>Subtle point here...</p>\n\n<p>There is an implicit typecast for <code>i+j</code> when <code>j</code> is a double and <code>i</code> is an int.\nJava <strong>ALWAYS</strong> converts an integer into a double when there is an operation between them.</p>\n\n<p>To clarify <code>i+=j</code> where <code>i</code> is an integer and <code>j</code> is a double can be described as</p>\n\n<pre><code>i = &lt;int&gt;(&lt;double&gt;i + j)\n</code></pre>\n\n<p>See: <a href=\"https://www.cs.cmu.edu/~pattis/15-1XX/15-200/lectures/voe/lecture.html#ImplicitConversion\" rel=\"noreferrer\">this description of implicit casting</a></p>\n\n<p>You might want to typecast <code>j</code> to <code>(int)</code> in this case for clarity.</p>\n"},{"tags":[],"owner":{"account_id":381422,"reputation":11633,"user_id":736054,"accept_rate":80,"display_name":"Kamila Borowska"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1561453477,"creation_date":1552061167,"answer_id":55066886,"question_id":8710619,"body_markdown":"Java Language Specification [defines `E1 op= E2` to be equivalent to `E1 = (T) ((E1) op (E2))` where `T` is a type of `E1` and `E1` is evaluated once](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.26.2).\r\n\r\nThat&#39;s a technical answer, but you may be wondering why that&#39;s a case. Well, let&#39;s consider the following program.\r\n\r\n    public class PlusEquals {\r\n        public static void main(String[] args) {\r\n            byte a = 1;\r\n            byte b = 2;\r\n            a = a + b;\r\n            System.out.println(a);\r\n        }\r\n    }\r\n\r\n\r\nWhat does this program print?\r\n\r\nDid you guess 3? Too bad, this program won&#39;t compile. Why? Well, it so happens that addition of bytes in Java [is defined to return an `int`](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.6.2). This, I believe was because the Java Virtual Machine doesn&#39;t define byte operations to save on bytecodes (there is a limited number of those, after all), using integer operations instead is an implementation detail exposed in a language.\r\n\r\nBut if `a = a + b` doesn&#39;t work, that would mean `a += b` would never work for bytes if it `E1 += E2` was defined to be `E1 = E1 + E2`. As the previous example shows, that would be indeed the case. As a hack to make `+=` operator work for bytes and shorts, there is an implicit cast involved. It&#39;s not that great of a hack, but back during the Java 1.0 work, the focus was on getting the language released to begin with. Now, because of backwards compatibility, this hack introduced in Java 1.0 couldn&#39;t be removed.","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.26.2\" rel=\"noreferrer\">defines <code>E1 op= E2</code> to be equivalent to <code>E1 = (T) ((E1) op (E2))</code> where <code>T</code> is a type of <code>E1</code> and <code>E1</code> is evaluated once</a>.</p>\n\n<p>That's a technical answer, but you may be wondering why that's a case. Well, let's consider the following program.</p>\n\n<pre><code>public class PlusEquals {\n    public static void main(String[] args) {\n        byte a = 1;\n        byte b = 2;\n        a = a + b;\n        System.out.println(a);\n    }\n}\n</code></pre>\n\n<p>What does this program print?</p>\n\n<p>Did you guess 3? Too bad, this program won't compile. Why? Well, it so happens that addition of bytes in Java <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.6.2\" rel=\"noreferrer\">is defined to return an <code>int</code></a>. This, I believe was because the Java Virtual Machine doesn't define byte operations to save on bytecodes (there is a limited number of those, after all), using integer operations instead is an implementation detail exposed in a language.</p>\n\n<p>But if <code>a = a + b</code> doesn't work, that would mean <code>a += b</code> would never work for bytes if it <code>E1 += E2</code> was defined to be <code>E1 = E1 + E2</code>. As the previous example shows, that would be indeed the case. As a hack to make <code>+=</code> operator work for bytes and shorts, there is an implicit cast involved. It's not that great of a hack, but back during the Java 1.0 work, the focus was on getting the language released to begin with. Now, because of backwards compatibility, this hack introduced in Java 1.0 couldn't be removed.</p>\n"},{"tags":[],"owner":{"account_id":25484163,"reputation":11,"user_id":19279965,"display_name":"Lalita Garg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685681453,"creation_date":1685681453,"answer_id":76387211,"question_id":8710619,"body_markdown":"As always with these questions, the JLS holds the answer. In this case &#167;15.26.2 Compound Assignment Operators. An extract:\r\n\r\nA compound assignment expression of the form E1 op= E2 is equivalent to E1 = (T)((E1) op (E2)), where T is the type of E1, except that E1 is evaluated only once.\r\n\r\nAn example cited from &#167;15.26.2\r\n\r\n[...] the following code is correct:\r\n```\r\nshort x = 3;\r\nx += 4.6;\r\n```\r\nand results in x having the value 7 because it is equivalent to:\r\n```\r\nshort x = 3;\r\nx = (short)(x + 4.6);\r\n```\r\nIn other words, your assumption is correct.","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>As always with these questions, the JLS holds the answer. In this case §15.26.2 Compound Assignment Operators. An extract:</p>\n<p>A compound assignment expression of the form E1 op= E2 is equivalent to E1 = (T)((E1) op (E2)), where T is the type of E1, except that E1 is evaluated only once.</p>\n<p>An example cited from §15.26.2</p>\n<p>[...] the following code is correct:</p>\n<pre><code>short x = 3;\nx += 4.6;\n</code></pre>\n<p>and results in x having the value 7 because it is equivalent to:</p>\n<pre><code>short x = 3;\nx = (short)(x + 4.6);\n</code></pre>\n<p>In other words, your assumption is correct.</p>\n"}],"owner":{"account_id":1144500,"reputation":37498,"user_id":1127571,"accept_rate":71,"display_name":"Honza Brabec"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316513,"favorite_count":0,"down_vote_count":12,"up_vote_count":3860,"accepted_answer_id":8710685,"answer_count":12,"score":3848,"last_activity_date":1688557443,"creation_date":1325585432,"question_id":8710619,"body_markdown":"Until today, I thought that for example:\r\n\r\n    i += j;\r\n\r\nWas just a shortcut for:\r\n\r\n    i = i + j;\r\n\r\nBut if we try this:\r\n\r\n    int i = 5;\r\n    long j = 8;\r\n\r\nThen `i = i + j;` will not compile but `i += j;` will compile fine.\r\n\r\nDoes it mean that in fact `i += j;` is a shortcut for something like this\r\n`i = (type of i) (i + j)`?\r\n\r\n    \r\n","title":"Why don&#39;t Java&#39;s +=, -=, *=, /= compound assignment operators require casting long to int?","body":"<p>Until today, I thought that for example:</p>\n\n<pre><code>i += j;\n</code></pre>\n\n<p>Was just a shortcut for:</p>\n\n<pre><code>i = i + j;\n</code></pre>\n\n<p>But if we try this:</p>\n\n<pre><code>int i = 5;\nlong j = 8;\n</code></pre>\n\n<p>Then <code>i = i + j;</code> will not compile but <code>i += j;</code> will compile fine.</p>\n\n<p>Does it mean that in fact <code>i += j;</code> is a shortcut for something like this\n<code>i = (type of i) (i + j)</code>?</p>\n"},{"tags":["java","dictionary","collections","iteration"],"comments":[{"owner":{"account_id":1628903,"reputation":3812,"user_id":1503859,"accept_rate":40,"display_name":"Nitin Mahesh"},"score":48,"creation_date":1437849109,"post_id":46898,"comment_id":51206896,"body_markdown":"In Java 8 using Lambda Expression: http://stackoverflow.com/a/25616206/1503859","body":"In Java 8 using Lambda Expression: <a href=\"http://stackoverflow.com/a/25616206/1503859\">stackoverflow.com/a/25616206/1503859</a>"},{"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":5,"creation_date":1539175528,"post_id":46898,"comment_id":92405732,"body_markdown":"Java 8: https://stackoverflow.com/questions/46898/how-to-efficiently-iterate-over-each-entry-in-a-java-map/32343110#32343110","body":"Java 8: <a href=\"https://stackoverflow.com/questions/46898/how-to-efficiently-iterate-over-each-entry-in-a-java-map/32343110#32343110\" title=\"how to efficiently iterate over each entry in a java map\">stackoverflow.com/questions/46898/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":52759,"reputation":21589,"user_id":157705,"accept_rate":74,"display_name":"jai"},"score":45,"creation_date":1256044805,"post_id":46905,"comment_id":1458460,"body_markdown":"Prefer for-loop than while..\nfor(Iterator entries = myMap.entrySet().iterator(); entries.hasNext(); ) {...}\nWith this syntax the &#39;entries&#39; scope is reduced to the for loop only.","body":"Prefer for-loop than while.. for(Iterator entries = myMap.entrySet().iterator(); entries.hasNext(); ) {...} With this syntax the &#39;entries&#39; scope is reduced to the for loop only."},{"owner":{"account_id":3006,"reputation":36853,"user_id":4257,"accept_rate":81,"display_name":"pkaeding"},"score":8,"creation_date":1326210149,"post_id":46905,"comment_id":10987629,"body_markdown":"@jpredham You are right that using the `for` construct as `for (Entry e : myMap.entrySet)` will not allow you to modify the collection, but the example as @HanuAthena mentioned it should work, since it gives you the `Iterator` in scope.  (Unless I&#39;m missing something...)","body":"@jpredham You are right that using the <code>for</code> construct as <code>for (Entry e : myMap.entrySet)</code> will not allow you to modify the collection, but the example as @HanuAthena mentioned it should work, since it gives you the <code>Iterator</code> in scope.  (Unless I&#39;m missing something...)"},{"owner":{"account_id":1535573,"reputation":7025,"user_id":1431728,"accept_rate":49,"display_name":"JohnK"},"score":1,"creation_date":1420848417,"post_id":46905,"comment_id":44145048,"body_markdown":"IntelliJ is giving me errors on `Entry thisEntry = (Entry) entries.next();`: doesn&#39;t recognize `Entry`. Is that pseudocode for something else?","body":"IntelliJ is giving me errors on <code>Entry thisEntry = (Entry) entries.next();</code>: doesn&#39;t recognize <code>Entry</code>. Is that pseudocode for something else?"},{"owner":{"account_id":3006,"reputation":36853,"user_id":4257,"accept_rate":81,"display_name":"pkaeding"},"score":1,"creation_date":1421202945,"post_id":46905,"comment_id":44267353,"body_markdown":"@JohnK try importing `java.util.Map.Entry`.","body":"@JohnK try importing <code>java.util.Map.Entry</code>."},{"owner":{"display_name":"user5778069"},"score":1,"creation_date":1484986159,"post_id":46905,"comment_id":70745090,"body_markdown":"This solution will not work if you have a integer key and String key.","body":"This solution will not work if you have a integer key and String key."}],"tags":[],"owner":{"account_id":3006,"reputation":36853,"user_id":4257,"accept_rate":81,"display_name":"pkaeding"},"comment_count":5,"down_vote_count":4,"up_vote_count":270,"is_accepted":false,"score":266,"last_activity_date":1517956349,"creation_date":1220649319,"answer_id":46905,"question_id":46898,"body_markdown":"Yes, the order depends on the specific Map implementation.\r\n\r\n[@ScArcher2 has the more elegant Java 1.5 syntax][1]. In 1.4, I would do something like this:\r\n\r\n    Iterator entries = myMap.entrySet().iterator();\r\n    while (entries.hasNext()) {\r\n      Entry thisEntry = (Entry) entries.next();\r\n      Object key = thisEntry.getKey();\r\n      Object value = thisEntry.getValue();\r\n      // ...\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/46898/how-to-efficiently-iterate-over-each-entry-in-a-map/46908#46908\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Yes, the order depends on the specific Map implementation.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/46898/how-to-efficiently-iterate-over-each-entry-in-a-map/46908#46908\">@ScArcher2 has the more elegant Java 1.5 syntax</a>. In 1.4, I would do something like this:</p>\n\n<pre><code>Iterator entries = myMap.entrySet().iterator();\nwhile (entries.hasNext()) {\n  Entry thisEntry = (Entry) entries.next();\n  Object key = thisEntry.getKey();\n  Object value = thisEntry.getValue();\n  // ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":988,"reputation":85941,"user_id":1310,"accept_rate":98,"display_name":"ScArcher2"},"score":95,"creation_date":1269264604,"post_id":46908,"comment_id":2485991,"body_markdown":"If you do that, then it won&#39;t work as Entry is a nested Class in Map.\nhttp://java.sun.com/javase/6/docs/api/java/util/Map.html","body":"If you do that, then it won&#39;t work as Entry is a nested Class in Map. <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">java.sun.com/javase/6/docs/api/java/util/Map.html</a>"},{"owner":{"account_id":28410,"reputation":22205,"user_id":75863,"accept_rate":76,"display_name":"jjujuma"},"score":293,"creation_date":1272623659,"post_id":46908,"comment_id":2772937,"body_markdown":"you can write the import as &quot;import java.util.Map.Entry;&quot; and it will work.","body":"you can write the import as &quot;import java.util.Map.Entry;&quot; and it will work."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":63,"creation_date":1349692454,"post_id":46908,"comment_id":17274668,"body_markdown":"@Pureferret The only reason you might want to use an iterator is if you need to call its `remove` method. If that is the case, [this other answer](http://stackoverflow.com/a/1295383/829571) shows you how to do it. Otherwise, the enhanced loop as shown in the answer above is the way to go.","body":"@Pureferret The only reason you might want to use an iterator is if you need to call its <code>remove</code> method. If that is the case, <a href=\"http://stackoverflow.com/a/1295383/829571\">this other answer</a> shows you how to do it. Otherwise, the enhanced loop as shown in the answer above is the way to go."},{"owner":{"account_id":1042456,"reputation":3429,"user_id":1048186,"accept_rate":80,"display_name":"Josiah Yoder"},"score":110,"creation_date":1417725087,"post_id":46908,"comment_id":43069880,"body_markdown":"I believe the form Map.Entry is clearer than importing the inner class into the current namespace.","body":"I believe the form Map.Entry is clearer than importing the inner class into the current namespace."},{"owner":{"account_id":4629453,"reputation":1655,"user_id":3752374,"accept_rate":50,"display_name":"dguay"},"score":47,"creation_date":1476306238,"post_id":46908,"comment_id":67294669,"body_markdown":"Note that you can use `map.values()` or `map.keySet()` if you want to loop through values or keys only.","body":"Note that you can use <code>map.values()</code> or <code>map.keySet()</code> if you want to loop through values or keys only."},{"owner":{"account_id":1744717,"reputation":95,"user_id":1755932,"display_name":"Rub&#233;n Colomina Citoler"},"score":0,"creation_date":1651319417,"post_id":46908,"comment_id":127339451,"body_markdown":"The order in which register were inserted isn&#39;t respected when you loop them after","body":"The order in which register were inserted isn&#39;t respected when you loop them after"},{"owner":{"account_id":4247632,"reputation":163,"user_id":3475806,"display_name":"Mo&#39;ath Alshorman"},"score":1,"creation_date":1653601300,"post_id":46908,"comment_id":127897541,"body_markdown":"@JosiahYoder No need to import the inner class `Map.Entry` since `var` handling the reference for you.","body":"@JosiahYoder No need to import the inner class <code>Map.Entry</code> since <code>var</code> handling the reference for you."},{"owner":{"account_id":392087,"reputation":1214,"user_id":753136,"accept_rate":60,"display_name":"tiktak"},"score":0,"creation_date":1688542729,"post_id":46908,"comment_id":135085543,"body_markdown":"This post is such a mess. People wrote an answer in 2008 and updated it 15 years later and it looks nothing like the original solution and the comments don&#39;t match","body":"This post is such a mess. People wrote an answer in 2008 and updated it 15 years later and it looks nothing like the original solution and the comments don&#39;t match"}],"tags":[],"owner":{"account_id":988,"reputation":85941,"user_id":1310,"accept_rate":98,"display_name":"ScArcher2"},"comment_count":8,"down_vote_count":7,"up_vote_count":5874,"is_accepted":true,"score":5867,"last_activity_date":1625658648,"creation_date":1220649352,"answer_id":46908,"question_id":46898,"body_markdown":"```java\r\nMap&lt;String, String&gt; map = ...\r\nfor (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n    System.out.println(entry.getKey() + &quot;/&quot; + entry.getValue());\r\n}\r\n```\r\n\r\nOn Java 10+:\r\n```java\r\nfor (var entry : map.entrySet()) {\r\n    System.out.println(entry.getKey() + &quot;/&quot; + entry.getValue());\r\n}\r\n```","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; map = ...\nfor (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\n    System.out.println(entry.getKey() + &quot;/&quot; + entry.getValue());\n}\n</code></pre>\n<p>On Java 10+:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (var entry : map.entrySet()) {\n    System.out.println(entry.getKey() + &quot;/&quot; + entry.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2354,"reputation":10536,"user_id":3267,"display_name":"Leigh Caldwell"},"comment_count":0,"down_vote_count":3,"up_vote_count":44,"is_accepted":false,"score":41,"last_activity_date":1493937586,"creation_date":1220649480,"answer_id":46912,"question_id":46898,"body_markdown":"In theory, the most efficient way will depend on which implementation of Map. The official way to do this is to call `map.entrySet()`, which returns a set of `Map.Entry`, each of which contains a key and a value (`entry.getKey()` and `entry.getValue()`).\r\n\r\nIn an idiosyncratic implementation, it might make some difference whether you use `map.keySet()`, `map.entrySet()` or something else. But I can&#39;t think of a reason why anyone would write it like that. Most likely it makes no difference to performance what you do.\r\n\r\nAnd yes, the order will depend on the implementation - as well as (possibly) the order of insertion and other hard-to-control factors.\r\n\r\n[edit] I wrote `valueSet()` originally but of course `entrySet()` is actually the answer.","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>In theory, the most efficient way will depend on which implementation of Map. The official way to do this is to call <code>map.entrySet()</code>, which returns a set of <code>Map.Entry</code>, each of which contains a key and a value (<code>entry.getKey()</code> and <code>entry.getValue()</code>).</p>\n\n<p>In an idiosyncratic implementation, it might make some difference whether you use <code>map.keySet()</code>, <code>map.entrySet()</code> or something else. But I can't think of a reason why anyone would write it like that. Most likely it makes no difference to performance what you do.</p>\n\n<p>And yes, the order will depend on the implementation - as well as (possibly) the order of insertion and other hard-to-control factors.</p>\n\n<p>[edit] I wrote <code>valueSet()</code> originally but of course <code>entrySet()</code> is actually the answer.</p>\n"},{"comments":[{"owner":{"account_id":306710,"reputation":7852,"user_id":617612,"accept_rate":83,"display_name":"Premraj"},"score":6,"creation_date":1299771666,"post_id":46926,"comment_id":5926336,"body_markdown":"EnumMap also has this peculiar behaviour along with IdentityHashMap","body":"EnumMap also has this peculiar behaviour along with IdentityHashMap"},{"owner":{"account_id":366776,"reputation":6720,"user_id":712526,"accept_rate":50,"display_name":"jpaugh"},"score":1,"creation_date":1453840894,"post_id":46926,"comment_id":57773526,"body_markdown":"&quot;LinkedHashMap will either return entries in [...] access-order [...]&quot; ... so you access the elements in the order you access them? Either tautological, or something interesting which could use a digression. ;-)","body":"&quot;LinkedHashMap will either return entries in [...] access-order [...]&quot; ... so you access the elements in the order you access them? Either tautological, or something interesting which could use a digression. ;-)"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":5,"creation_date":1453843440,"post_id":46926,"comment_id":57775088,"body_markdown":"@jpaugh Only direct accesses to the `LinkedHashMap` count. Those through `iterator`, `spliterator`, `entrySet`, etc., do not modify the order.","body":"@jpaugh Only direct accesses to the <code>LinkedHashMap</code> count. Those through <code>iterator</code>, <code>spliterator</code>, <code>entrySet</code>, etc., do not modify the order."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1517956614,"post_id":46926,"comment_id":84304266,"body_markdown":"1. *though* → *if*? 2. The last paragraph might benefit from a brush-up.","body":"1. <i>though</i> → <i>if</i>? 2. The last paragraph might benefit from a brush-up."}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":4,"down_vote_count":0,"up_vote_count":151,"is_accepted":false,"score":151,"last_activity_date":1617032461,"creation_date":1220650017,"answer_id":46926,"question_id":46898,"body_markdown":"Typical code for iterating over a map is:\r\n\r\n    Map&lt;String,Thing&gt; map = ...;\r\n    for (Map.Entry&lt;String,Thing&gt; entry : map.entrySet()) {\r\n        String key = entry.getKey();\r\n        Thing thing = entry.getValue();\r\n        ...\r\n    }\r\n\r\n`HashMap` is the canonical map implementation and doesn&#39;t make guarantees (or though it should not change the order if no mutating operations are performed on it). `SortedMap` will return entries based on the natural ordering of the keys, or a `Comparator`, if provided. `LinkedHashMap` will either return entries in insertion-order or access-order depending upon how it has been constructed. `EnumMap` returns entries in the natural order of keys.\r\n\r\n**(Update: I think this is no longer true.**) Note, `IdentityHashMap` `entrySet` iterator currently has a peculiar implementation which returns the same `Map.Entry` instance for every item in the `entrySet`! However, every time a new iterator advances the `Map.Entry` is updated.","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Typical code for iterating over a map is:</p>\n<pre><code>Map&lt;String,Thing&gt; map = ...;\nfor (Map.Entry&lt;String,Thing&gt; entry : map.entrySet()) {\n    String key = entry.getKey();\n    Thing thing = entry.getValue();\n    ...\n}\n</code></pre>\n<p><code>HashMap</code> is the canonical map implementation and doesn't make guarantees (or though it should not change the order if no mutating operations are performed on it). <code>SortedMap</code> will return entries based on the natural ordering of the keys, or a <code>Comparator</code>, if provided. <code>LinkedHashMap</code> will either return entries in insertion-order or access-order depending upon how it has been constructed. <code>EnumMap</code> returns entries in the natural order of keys.</p>\n<p><strong>(Update: I think this is no longer true.</strong>) Note, <code>IdentityHashMap</code> <code>entrySet</code> iterator currently has a peculiar implementation which returns the same <code>Map.Entry</code> instance for every item in the <code>entrySet</code>! However, every time a new iterator advances the <code>Map.Entry</code> is updated.</p>\n"},{"tags":[],"owner":{"account_id":1387,"reputation":32183,"user_id":1853,"accept_rate":94,"display_name":"serg10"},"comment_count":0,"down_vote_count":0,"up_vote_count":109,"is_accepted":false,"score":109,"last_activity_date":1412352072,"creation_date":1220652930,"answer_id":46989,"question_id":46898,"body_markdown":"This is a two part question:\r\n\r\n*How to iterate over the entries of a Map* - @ScArcher2 has [answered][1] that perfectly.\r\n\r\n*What is the order of iteration* - if you are just using `Map`, then strictly speaking, there are **no ordering guarantees**.  So you shouldn&#39;t really rely on the ordering given by any implementation.  However, the [`SortedMap`][2] interface extends `Map` and provides exactly what you are looking for - implementations will aways give a consistent sort order.\r\n\r\n**[`NavigableMap`][3] is another useful extension** - this is a `SortedMap` with additional methods for finding entries by their ordered position in the key set.  So potentially this can remove the need for iterating in the first place - you might be able to find the specific `entry` you are after using the `higherEntry`, `lowerEntry`, `ceilingEntry`, or `floorEntry` methods.  The `descendingMap` method even gives you an explicit method of **reversing the traversal order**.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46908/1851302\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/SortedMap.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/NavigableMap.html","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>This is a two part question:</p>\n\n<p><em>How to iterate over the entries of a Map</em> - @ScArcher2 has <a href=\"https://stackoverflow.com/a/46908/1851302\">answered</a> that perfectly.</p>\n\n<p><em>What is the order of iteration</em> - if you are just using <code>Map</code>, then strictly speaking, there are <strong>no ordering guarantees</strong>.  So you shouldn't really rely on the ordering given by any implementation.  However, the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/SortedMap.html\" rel=\"noreferrer\"><code>SortedMap</code></a> interface extends <code>Map</code> and provides exactly what you are looking for - implementations will aways give a consistent sort order.</p>\n\n<p><strong><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/NavigableMap.html\" rel=\"noreferrer\"><code>NavigableMap</code></a> is another useful extension</strong> - this is a <code>SortedMap</code> with additional methods for finding entries by their ordered position in the key set.  So potentially this can remove the need for iterating in the first place - you might be able to find the specific <code>entry</code> you are after using the <code>higherEntry</code>, <code>lowerEntry</code>, <code>ceilingEntry</code>, or <code>floorEntry</code> methods.  The <code>descendingMap</code> method even gives you an explicit method of <strong>reversing the traversal order</strong>.</p>\n"},{"tags":[],"owner":{"account_id":1853,"reputation":2129,"user_id":2551,"accept_rate":0,"display_name":"ckpwong"},"comment_count":0,"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1220653672,"creation_date":1220653672,"answer_id":47004,"question_id":46898,"body_markdown":"FYI, you can also use `map.keySet()` and `map.values()` if you&#39;re only interested in keys/values of the map and not the other.","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>FYI, you can also use <code>map.keySet()</code> and <code>map.values()</code> if you're only interested in keys/values of the map and not the other.</p>\n"},{"comments":[{"owner":{"account_id":22825,"reputation":6383,"user_id":56708,"display_name":"Jeff Olson"},"score":15,"creation_date":1257540386,"post_id":48720,"comment_id":1565055,"body_markdown":"This is not the best approach, it&#39;s much more efficient to use the entrySet().  Findbugs will flag this code (see http://findbugs.sourceforge.net/bugDescriptions.html#WMI_WRONG_MAP_ITERATOR)","body":"This is not the best approach, it&#39;s much more efficient to use the entrySet().  Findbugs will flag this code (see <a href=\"http://findbugs.sourceforge.net/bugDescriptions.html#WMI_WRONG_MAP_ITERATOR\" rel=\"nofollow noreferrer\">findbugs.sourceforge.net/&hellip;</a>)"},{"owner":{"account_id":140884,"reputation":19781,"user_id":347508,"display_name":"kritzikratzi"},"score":6,"creation_date":1349702712,"post_id":48720,"comment_id":17279264,"body_markdown":"@JeffOlson meh, not really. \nmap lookup is O(1) so both loops behave the same way. admittedly, it will be slightly slower in a micro benchmark but i sometimes do this as well because i hate writing the type arguments over and over again. Also this will quite likely never be your performance bottleneck, so go for it if it makes the code more readable.","body":"@JeffOlson meh, not really.  map lookup is O(1) so both loops behave the same way. admittedly, it will be slightly slower in a micro benchmark but i sometimes do this as well because i hate writing the type arguments over and over again. Also this will quite likely never be your performance bottleneck, so go for it if it makes the code more readable."},{"owner":{"account_id":22825,"reputation":6383,"user_id":56708,"display_name":"Jeff Olson"},"score":0,"creation_date":1349717641,"post_id":48720,"comment_id":17285716,"body_markdown":"@kritzikratzi but with the entrySet() approach, you&#39;re doing one lookup for each element, whereas with the keySet()/get() approach, you&#39;re doing two lookups for each element.  So in theory (haven&#39;t tested it), it is O(1) vs. 2 * O(1).  Or twice as long.  Right?","body":"@kritzikratzi but with the entrySet() approach, you&#39;re doing one lookup for each element, whereas with the keySet()/get() approach, you&#39;re doing two lookups for each element.  So in theory (haven&#39;t tested it), it is O(1) vs. 2 * O(1).  Or twice as long.  Right?"},{"owner":{"account_id":140884,"reputation":19781,"user_id":347508,"display_name":"kritzikratzi"},"score":4,"creation_date":1349738787,"post_id":48720,"comment_id":17293078,"body_markdown":"more in detail: `O(1) = 2*O(1)` is pretty much the definition of the big O notation. you&#39;re right in that it runs a bit slower, but in terms of complexity they&#39;re the same.","body":"more in detail: <code>O(1) = 2*O(1)</code> is pretty much the definition of the big O notation. you&#39;re right in that it runs a bit slower, but in terms of complexity they&#39;re the same."},{"owner":{"account_id":1175701,"reputation":1059,"user_id":1151800,"display_name":"kornero"},"score":0,"creation_date":1354531426,"post_id":48720,"comment_id":18781914,"body_markdown":"Look up in map is O(1), really?))))) Where on Earth it is O(1)?))) HashMap: First - you must calculate hash, second - search in array by hash, third! - linear search through all elements wich has the same hashCode, this calls &#39;collision&#39;, don&#39;t you hear about it? =) And what can you say about: TreeMap, ConcurrentSkipListMap are they &#39;O(1)&#39;, too?","body":"Look up in map is O(1), really?))))) Where on Earth it is O(1)?))) HashMap: First - you must calculate hash, second - search in array by hash, third! - linear search through all elements wich has the same hashCode, this calls &#39;collision&#39;, don&#39;t you hear about it? =) And what can you say about: TreeMap, ConcurrentSkipListMap are they &#39;O(1)&#39;, too?"},{"owner":{"account_id":140884,"reputation":19781,"user_id":347508,"display_name":"kritzikratzi"},"score":0,"creation_date":1356179391,"post_id":48720,"comment_id":19330756,"body_markdown":"@kornero good point, treemap lookup is O(log n), i only had hashmaps in mind (which are ~ O(1), collisions or not)","body":"@kornero good point, treemap lookup is O(log n), i only had hashmaps in mind (which are ~ O(1), collisions or not)"},{"owner":{"account_id":1175701,"reputation":1059,"user_id":1151800,"display_name":"kornero"},"score":0,"creation_date":1356273020,"post_id":48720,"comment_id":19347089,"body_markdown":"@kritzikratzi collisions in hashmaps makes complexity ~ O(n), and there is &quot;Denial of Service via Algorithmic Complexity Attacks&quot; based on this, you can read more about it here: http://www.cs.rice.edu/~scrosby/hash/CrosbyWallach_UsenixSec2003/","body":"@kritzikratzi collisions in hashmaps makes complexity ~ O(n), and there is &quot;Denial of Service via Algorithmic Complexity Attacks&quot; based on this, you can read more about it here: <a href=\"http://www.cs.rice.edu/~scrosby/hash/CrosbyWallach_UsenixSec2003/\" rel=\"nofollow noreferrer\">cs.rice.edu/~scrosby/hash/CrosbyWallach_UsenixSec2003</a>"},{"owner":{"account_id":140884,"reputation":19781,"user_id":347508,"display_name":"kritzikratzi"},"score":2,"creation_date":1356279431,"post_id":48720,"comment_id":19348500,"body_markdown":"by collision or not i meant it doesn&#39;t matter if you a few collisions, obviously it&#39;s a different story if you have only collisions. so you&#39;re being pretty petty, but yep, what you&#39;re saying is true.","body":"by collision or not i meant it doesn&#39;t matter if you a few collisions, obviously it&#39;s a different story if you have only collisions. so you&#39;re being pretty petty, but yep, what you&#39;re saying is true."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1478694122,"post_id":48720,"comment_id":68256024,"body_markdown":"@Jeff Olson: the comments that the “Big O” complexity doesn’t change, when there is only a constant factor, is correct. Still, to me it matters whether an operation takes one hour or two hours. More important, it must be emphasized that the factor is **not** `2`, as iterating over an `entrySet()` does not bear a lookup at all; it’s just a linear traversal of all entries. In contrast, iterating over the `keySet()` and performing a lookup per key bears *one* lookup per key, so we’re talking about zero lookups vs. *n* lookups here, *n* being the size of the `Map`. So the factor is way beyond `2`…","body":"@Jeff Olson: the comments that the “Big O” complexity doesn’t change, when there is only a constant factor, is correct. Still, to me it matters whether an operation takes one hour or two hours. More important, it must be emphasized that the factor is <b>not</b> <code>2</code>, as iterating over an <code>entrySet()</code> does not bear a lookup at all; it’s just a linear traversal of all entries. In contrast, iterating over the <code>keySet()</code> and performing a lookup per key bears <i>one</i> lookup per key, so we’re talking about zero lookups vs. <i>n</i> lookups here, <i>n</i> being the size of the <code>Map</code>. So the factor is way beyond <code>2</code>…"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1478694927,"post_id":48720,"comment_id":68256478,"body_markdown":"@kornero: it might be worth noting that you don’t need the keys to have the same hashcode to have a collision; there’s already a collision when `hashcode % capacity` is the same. Starting with Java 8, the complexity for items having the same `hashcode % capacity`, but different `hashcode` or are `Comparable` falls back to `O(log n)` and only keys having the same hash code and not being `Comparable` impose `O(n)` complexity. But the statement that the complexity of a lookup can be more than `O(1)` in practice still holds.","body":"@kornero: it might be worth noting that you don’t need the keys to have the same hashcode to have a collision; there’s already a collision when <code>hashcode % capacity</code> is the same. Starting with Java 8, the complexity for items having the same <code>hashcode % capacity</code>, but different <code>hashcode</code> or are <code>Comparable</code> falls back to <code>O(log n)</code> and only keys having the same hash code and not being <code>Comparable</code> impose <code>O(n)</code> complexity. But the statement that the complexity of a lookup can be more than <code>O(1)</code> in practice still holds."}],"tags":[],"owner":{"account_id":3519,"reputation":25773,"user_id":5077,"accept_rate":71,"display_name":"Chris Dail"},"comment_count":10,"down_vote_count":5,"up_vote_count":68,"is_accepted":false,"score":63,"last_activity_date":1318810604,"creation_date":1220816915,"answer_id":48720,"question_id":46898,"body_markdown":"The correct way to do this is to use the accepted answer as it is the most efficient. I find the following code looks a bit cleaner.\r\n\r\n    for (String key: map.keySet()) {\r\n       System.out.println(key + &quot;/&quot; + map.get(key));\r\n    }\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>The correct way to do this is to use the accepted answer as it is the most efficient. I find the following code looks a bit cleaner.</p>\n\n<pre><code>for (String key: map.keySet()) {\n   System.out.println(key + \"/\" + map.get(key));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":15,"creation_date":1329510722,"post_id":1295383,"comment_id":11780982,"body_markdown":"You should put `Iterator` in a for loop to limit its scope.","body":"You should put <code>Iterator</code> in a for loop to limit its scope."},{"owner":{"account_id":189944,"reputation":483,"user_id":429583,"accept_rate":85,"display_name":"StudioWorks"},"score":1,"creation_date":1422980003,"post_id":1295383,"comment_id":44958459,"body_markdown":"@SteveKuo What do you mean by &quot;limit its scope&quot; ?","body":"@SteveKuo What do you mean by &quot;limit its scope&quot; ?"},{"owner":{"account_id":297461,"reputation":29114,"user_id":603003,"accept_rate":92,"display_name":"ComFreek"},"score":16,"creation_date":1426264417,"post_id":1295383,"comment_id":46315452,"body_markdown":"@StudioWorks `for (Iterator&lt;Map.Entry&lt;K, V&gt;&gt; entries = myMap.entrySet().iterator(); entries.hasNext(); ) {\n  Map.Entry&lt;K, V&gt; entry = entries.next(); }`. By using that construct we limit the scope of (visibility of the variable) `entries` to the for loop.","body":"@StudioWorks <code>for (Iterator&lt;Map.Entry&lt;K, V&gt;&gt; entries = myMap.entrySet().iterator(); entries.hasNext(); ) {   Map.Entry&lt;K, V&gt; entry = entries.next(); }</code>. By using that construct we limit the scope of (visibility of the variable) <code>entries</code> to the for loop."}],"tags":[],"owner":{"account_id":10611,"reputation":110117,"user_id":20128,"accept_rate":73,"display_name":"serg"},"comment_count":3,"down_vote_count":0,"up_vote_count":133,"is_accepted":false,"score":133,"last_activity_date":1250616891,"creation_date":1250616891,"answer_id":1295383,"question_id":46898,"body_markdown":"Example of using iterator and generics:\r\n\r\n    Iterator&lt;Map.Entry&lt;String, String&gt;&gt; entries = myMap.entrySet().iterator();\r\n    while (entries.hasNext()) {\r\n      Map.Entry&lt;String, String&gt; entry = entries.next();\r\n      String key = entry.getKey();\r\n      String value = entry.getValue();\r\n      // ...\r\n    }\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Example of using iterator and generics:</p>\n\n<pre><code>Iterator&lt;Map.Entry&lt;String, String&gt;&gt; entries = myMap.entrySet().iterator();\nwhile (entries.hasNext()) {\n  Map.Entry&lt;String, String&gt; entry = entries.next();\n  String key = entry.getKey();\n  String value = entry.getValue();\n  // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":586982,"reputation":301,"user_id":265011,"display_name":"abods"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1688555836,"creation_date":1265177403,"answer_id":2190043,"question_id":46898,"body_markdown":"Try this with Java 1.4:\r\n\r\n    for ( Iterator entries = myMap.entrySet().iterator(); entries.hasNext();) {\r\n\r\n      Entry entry = (Entry) entries.next();\r\n\r\n      System.out.println(entry.getKey() + &quot;/&quot; + entry.getValue());\r\n\r\n      //...\r\n    }","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Try this with Java 1.4:</p>\n<pre><code>for ( Iterator entries = myMap.entrySet().iterator(); entries.hasNext();) {\n\n  Entry entry = (Entry) entries.next();\n\n  System.out.println(entry.getKey() + &quot;/&quot; + entry.getValue());\n\n  //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1688556163,"creation_date":1337246516,"answer_id":10632923,"question_id":46898,"body_markdown":"    public class abcd {\r\n        public static void main(String[] args)\r\n        {\r\n            Map&lt;Integer, String&gt; testMap = new HashMap&lt;Integer, String&gt;();\r\n            testMap.put(10, &quot;a&quot;);\r\n            testMap.put(20, &quot;b&quot;);\r\n            testMap.put(30, &quot;c&quot;);\r\n            testMap.put(40, &quot;d&quot;);\r\n\r\n            for (Integer key : testMap.keySet()) {\r\n                String value = testMap.get(key);\r\n                System.out.println(value);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nOR\r\n\r\n\r\n\r\n    public class abcd {\r\n        public static void main(String[] args)\r\n        {\r\n            Map&lt;Integer, String&gt; testMap = new HashMap&lt;Integer, String&gt;();\r\n            testMap.put(10, &quot;a&quot;);\r\n            testMap.put(20, &quot;b&quot;);\r\n            testMap.put(30, &quot;c&quot;);\r\n            testMap.put(40, &quot;d&quot;);\r\n\r\n            for (Entry&lt;Integer, String&gt; entry : testMap.entrySet()) {\r\n                Integer key = entry.getKey();\r\n                String value = entry.getValue();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<pre><code>public class abcd {\n    public static void main(String[] args)\n    {\n        Map&lt;Integer, String&gt; testMap = new HashMap&lt;Integer, String&gt;();\n        testMap.put(10, &quot;a&quot;);\n        testMap.put(20, &quot;b&quot;);\n        testMap.put(30, &quot;c&quot;);\n        testMap.put(40, &quot;d&quot;);\n\n        for (Integer key : testMap.keySet()) {\n            String value = testMap.get(key);\n            System.out.println(value);\n        }\n    }\n}\n</code></pre>\n<p>OR</p>\n<pre><code>public class abcd {\n    public static void main(String[] args)\n    {\n        Map&lt;Integer, String&gt; testMap = new HashMap&lt;Integer, String&gt;();\n        testMap.put(10, &quot;a&quot;);\n        testMap.put(20, &quot;b&quot;);\n        testMap.put(30, &quot;c&quot;);\n        testMap.put(40, &quot;d&quot;);\n\n        for (Entry&lt;Integer, String&gt; entry : testMap.entrySet()) {\n            Integer key = entry.getKey();\n            String value = entry.getValue();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":2,"up_vote_count":46,"is_accepted":false,"score":44,"last_activity_date":1672434069,"creation_date":1355872393,"answer_id":13943066,"question_id":46898,"body_markdown":"With [Eclipse Collections][1], you would use the `forEachKeyValue` method on the [`MapIterable`][2] interface, which is inherited by the `MutableMap` and `ImmutableMap` interfaces and their implementations.\r\n\r\n    MutableMap&lt;Integer, String&gt; map = \r\n        Maps.mutable.of(1, &quot;One&quot;, 2, &quot;Two&quot;, 3, &quot;Three&quot;);\r\n\r\n    MutableBag&lt;String&gt; result = Bags.mutable.empty();\r\n    map.forEachKeyValue((key, value) -&gt; result.add(key + value));\r\n\r\n    MutableBag&lt;String&gt; expected = Bags.mutable.of(&quot;1One&quot;, &quot;2Two&quot;, &quot;3Three&quot;);\r\n    Assertions.assertEquals(expected, result);\r\n\r\nThe reason using `forEachKeyValue` with Eclipse Collections (EC) `Map` implementations will be more efficient than using `entrySet` is because EC `Map` implementations do not store `Map.Entry` objects. Using `entrySet` with EC `Map` implementations results in `Map.Entry` objects being generated dynamically. The `forEachKeyValue` method is able to avoid creating the `Map.Entry` objects because it can navigate the internal structure of the `Map` implementations directly. This is a case where there is a benefit of using an internal iterator over an external iterator.    \r\n \r\n**Note:** I am a committer for Eclipse Collections.\r\n \r\n\r\n\r\n  [1]: https://github.com/eclipse/eclipse-collections\r\n  [2]: https://github.com/eclipse/eclipse-collections/blob/master/eclipse-collections-api/src/main/java/org/eclipse/collections/api/map/MapIterable.java","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>With <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a>, you would use the <code>forEachKeyValue</code> method on the <a href=\"https://github.com/eclipse/eclipse-collections/blob/master/eclipse-collections-api/src/main/java/org/eclipse/collections/api/map/MapIterable.java\" rel=\"nofollow noreferrer\"><code>MapIterable</code></a> interface, which is inherited by the <code>MutableMap</code> and <code>ImmutableMap</code> interfaces and their implementations.</p>\n<pre><code>MutableMap&lt;Integer, String&gt; map = \n    Maps.mutable.of(1, &quot;One&quot;, 2, &quot;Two&quot;, 3, &quot;Three&quot;);\n\nMutableBag&lt;String&gt; result = Bags.mutable.empty();\nmap.forEachKeyValue((key, value) -&gt; result.add(key + value));\n\nMutableBag&lt;String&gt; expected = Bags.mutable.of(&quot;1One&quot;, &quot;2Two&quot;, &quot;3Three&quot;);\nAssertions.assertEquals(expected, result);\n</code></pre>\n<p>The reason using <code>forEachKeyValue</code> with Eclipse Collections (EC) <code>Map</code> implementations will be more efficient than using <code>entrySet</code> is because EC <code>Map</code> implementations do not store <code>Map.Entry</code> objects. Using <code>entrySet</code> with EC <code>Map</code> implementations results in <code>Map.Entry</code> objects being generated dynamically. The <code>forEachKeyValue</code> method is able to avoid creating the <code>Map.Entry</code> objects because it can navigate the internal structure of the <code>Map</code> implementations directly. This is a case where there is a benefit of using an internal iterator over an external iterator.</p>\n<p><strong>Note:</strong> I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1688557130,"creation_date":1363894406,"answer_id":15556457,"question_id":46898,"body_markdown":"Yes, as many people agreed this is the best way to iterate over a `Map`.\r\n\r\nBut there are chances to throw `NullPointerException` if the map is `null`. Don&#39;t forget to put `null` .check in.\r\n\r\n                                                     |\r\n                                                     |\r\n                                             - - - -\r\n                                           |\r\n                                           |\r\n    for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n        String key = entry.getKey();\r\n        Object value = entry.getValue();\r\n    }\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Yes, as many people agreed this is the best way to iterate over a <code>Map</code>.</p>\n<p>But there are chances to throw <code>NullPointerException</code> if the map is <code>null</code>. Don't forget to put <code>null</code> .check in.</p>\n<pre><code>                                                 |\n                                                 |\n                                         - - - -\n                                       |\n                                       |\nfor (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n    String key = entry.getKey();\n    Object value = entry.getValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2165592,"reputation":976,"user_id":1918772,"accept_rate":50,"display_name":"Learner"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1458143664,"creation_date":1372683260,"answer_id":17404976,"question_id":46898,"body_markdown":"You can do it using generics:\r\n\r\n\tMap&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\r\n\tIterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet().iterator();\r\n\twhile (entries.hasNext()) {\r\n\t\tMap.Entry&lt;Integer, Integer&gt; entry = entries.next();\r\n\t\tSystem.out.println(&quot;Key = &quot; + entry.getKey() + &quot;, Value = &quot; + entry.getValue());\r\n\t}\r\n\r\n\r\n\r\n\r\n    ","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>You can do it using generics:</p>\n\n<pre><code>Map&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\nIterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet().iterator();\nwhile (entries.hasNext()) {\n    Map.Entry&lt;Integer, Integer&gt; entry = entries.next();\n    System.out.println(\"Key = \" + entry.getKey() + \", Value = \" + entry.getValue());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":108817,"reputation":111656,"user_id":288671,"display_name":"Vitalii Fedorenko"},"score":12,"creation_date":1403959574,"post_id":19491759,"comment_id":37866243,"body_markdown":"Depending on what you want to do with a map, you can also use stream API on the entries returned by `map.entrySet().stream()` http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html","body":"Depending on what you want to do with a map, you can also use stream API on the entries returned by <code>map.entrySet().stream()</code> <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":141852,"reputation":4322,"user_id":349169,"accept_rate":78,"display_name":"Chris"},"score":3,"creation_date":1492720171,"post_id":19491759,"comment_id":74111531,"body_markdown":"This won&#39;t work if you want to reference non-final variables declared outside your lambda expression from within the forEach()...","body":"This won&#39;t work if you want to reference non-final variables declared outside your lambda expression from within the forEach()..."},{"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"score":11,"creation_date":1492811056,"post_id":19491759,"comment_id":74157088,"body_markdown":"@Chris Correct. It won&#39;t work if you try to use *effectively non-final* variables from outside the lambda.","body":"@Chris Correct. It won&#39;t work if you try to use <i>effectively non-final</i> variables from outside the lambda."}],"tags":[],"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"comment_count":3,"down_vote_count":1,"up_vote_count":345,"is_accepted":false,"score":344,"last_activity_date":1473237197,"creation_date":1382350525,"answer_id":19491759,"question_id":46898,"body_markdown":"In Java 8 you can do it clean and fast using the new lambdas features:\r\n\r\n     Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\r\n     map.put(&quot;SomeKey&quot;, &quot;SomeValue&quot;);\r\n     map.forEach( (k,v) -&gt; [do something with key and value] );\r\n    \r\n     // such as\r\n     map.forEach( (k,v) -&gt; System.out.println(&quot;Key: &quot; + k + &quot;: Value: &quot; + v));\r\n\r\nThe type of `k` and `v` will be inferred by the compiler and there is no need to use `Map.Entry` anymore.\r\n\r\nEasy-peasy!","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>In Java 8 you can do it clean and fast using the new lambdas features:</p>\n\n<pre><code> Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\n map.put(\"SomeKey\", \"SomeValue\");\n map.forEach( (k,v) -&gt; [do something with key and value] );\n\n // such as\n map.forEach( (k,v) -&gt; System.out.println(\"Key: \" + k + \": Value: \" + v));\n</code></pre>\n\n<p>The type of <code>k</code> and <code>v</code> will be inferred by the compiler and there is no need to use <code>Map.Entry</code> anymore.</p>\n\n<p>Easy-peasy!</p>\n"},{"tags":[],"owner":{"account_id":1332921,"reputation":570,"user_id":1276364,"display_name":"dmunozfer"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1458145078,"creation_date":1385729623,"answer_id":20286334,"question_id":46898,"body_markdown":"If you have a generic untyped Map you can use:\r\n\r\n    Map map = new HashMap();\r\n    for (Map.Entry entry : ((Set&lt;Map.Entry&gt;) map.entrySet())) {\r\n\t    System.out.println(entry.getKey() + &quot;/&quot; + entry.getValue());\r\n    }\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>If you have a generic untyped Map you can use:</p>\n\n<pre><code>Map map = new HashMap();\nfor (Map.Entry entry : ((Set&lt;Map.Entry&gt;) map.entrySet())) {\n    System.out.println(entry.getKey() + \"/\" + entry.getValue());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1126651,"reputation":3041,"user_id":1293500,"accept_rate":86,"display_name":"edin-m"},"score":0,"creation_date":1574998718,"post_id":20903678,"comment_id":104430001,"body_markdown":"keySet() is slow","body":"keySet() is slow"}],"tags":[],"owner":{"account_id":3782399,"reputation":301,"user_id":3141443,"display_name":"J.B.Vala"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688556646,"creation_date":1388752108,"answer_id":20903678,"question_id":46898,"body_markdown":"There are several ways to iterate a map. Please refer to the following code.\r\n\r\nWhen you iterate a map using the `Iterator` Interface you must go with `Entry&lt;K,V&gt;` or `entrySet()`.\r\n\r\nIt looks like this:\r\n\r\n```java\r\n    import java.util.*;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n\r\n    public class IteratMapDemo {\r\n\r\n        public static void main(String arg[]) {\r\n            Map&lt;String, String&gt; mapOne = new HashMap&lt;String, String&gt;();\r\n            mapOne.put(&quot;1&quot;, &quot;January&quot;);\r\n            mapOne.put(&quot;2&quot;, &quot;February&quot;);\r\n            mapOne.put(&quot;3&quot;, &quot;March&quot;);\r\n            mapOne.put(&quot;4&quot;, &quot;April&quot;);\r\n            mapOne.put(&quot;5&quot;, &quot;May&quot;);\r\n            mapOne.put(&quot;6&quot;, &quot;June&quot;);\r\n            mapOne.put(&quot;7&quot;, &quot;July&quot;);\r\n            mapOne.put(&quot;8&quot;, &quot;August&quot;);\r\n            mapOne.put(&quot;9&quot;, &quot;September&quot;);\r\n            mapOne.put(&quot;10&quot;, &quot;Octomber&quot;);\r\n            mapOne.put(&quot;11&quot;, &quot;November&quot;);\r\n            mapOne.put(&quot;12&quot;, &quot;December&quot;);\r\n\r\n            Iterator it = mapOne.entrySet().iterator();\r\n            while (it.hasNext()) {\r\n                Map.Entry me = (Map.Entry) it.next();\r\n                // System.out.println(&quot;Get Key through While loop = &quot; + me.getKey());\r\n            }\r\n\r\n            for (Map.Entry&lt;String, String&gt; entry:mapOne.entrySet()) {\r\n                // System.out.println(entry.getKey() + &quot;=&quot; + entry.getValue());\r\n            }\r\n\r\n            for (Object key : mapOne.keySet()) {\r\n                System.out.println(&quot;Key: &quot; + key.toString() + &quot; Value: &quot; +\r\n                                   mapOne.get(key));\r\n            }\r\n        }\r\n    }\r\n```","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>There are several ways to iterate a map. Please refer to the following code.</p>\n<p>When you iterate a map using the <code>Iterator</code> Interface you must go with <code>Entry&lt;K,V&gt;</code> or <code>entrySet()</code>.</p>\n<p>It looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import java.util.*;\n    import java.util.HashMap;\n    import java.util.Iterator;\n    import java.util.Map;\n\n    public class IteratMapDemo {\n\n        public static void main(String arg[]) {\n            Map&lt;String, String&gt; mapOne = new HashMap&lt;String, String&gt;();\n            mapOne.put(&quot;1&quot;, &quot;January&quot;);\n            mapOne.put(&quot;2&quot;, &quot;February&quot;);\n            mapOne.put(&quot;3&quot;, &quot;March&quot;);\n            mapOne.put(&quot;4&quot;, &quot;April&quot;);\n            mapOne.put(&quot;5&quot;, &quot;May&quot;);\n            mapOne.put(&quot;6&quot;, &quot;June&quot;);\n            mapOne.put(&quot;7&quot;, &quot;July&quot;);\n            mapOne.put(&quot;8&quot;, &quot;August&quot;);\n            mapOne.put(&quot;9&quot;, &quot;September&quot;);\n            mapOne.put(&quot;10&quot;, &quot;Octomber&quot;);\n            mapOne.put(&quot;11&quot;, &quot;November&quot;);\n            mapOne.put(&quot;12&quot;, &quot;December&quot;);\n\n            Iterator it = mapOne.entrySet().iterator();\n            while (it.hasNext()) {\n                Map.Entry me = (Map.Entry) it.next();\n                // System.out.println(&quot;Get Key through While loop = &quot; + me.getKey());\n            }\n\n            for (Map.Entry&lt;String, String&gt; entry:mapOne.entrySet()) {\n                // System.out.println(entry.getKey() + &quot;=&quot; + entry.getValue());\n            }\n\n            for (Object key : mapOne.keySet()) {\n                System.out.println(&quot;Key: &quot; + key.toString() + &quot; Value: &quot; +\n                                   mapOne.get(key));\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":553127,"reputation":12116,"user_id":918472,"accept_rate":71,"display_name":"Rupesh Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1601479284,"creation_date":1390998903,"answer_id":21431305,"question_id":46898,"body_markdown":"In Map one can Iteration over `keys` and/or `values` and/or `both (e.g., entrySet)`  depends on one&#39;s interested in_ Like:\r\n\r\n1. Iterate through the [`keys -&gt; keySet()`](http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#keySet%28%29) of the map:\r\n\r\n        Map&lt;String, Object&gt; map = ...;\r\n\r\n        for (String key : map.keySet()) {\r\n            //your Business logic...\r\n        }\r\n\r\n2. Iterate through the [`values -&gt; values()`](http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#values%28%29) of the map:\r\n\r\n        for (Object value : map.values()) {\r\n            //your Business logic...\r\n        }\r\n\r\n3. Iterate through the [`both -&gt; entrySet()`](http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#entrySet%28%29) of the map:\r\n\r\n        for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\r\n            String key = entry.getKey();\r\n            Object value = entry.getValue();\r\n            //your Business logic...\r\n        }\r\n\r\nMoreover, there are 3 different ways to iterate through a HashMap. They are as below:\r\n\r\n\t//1.\r\n\tfor (Map.Entry entry : hm.entrySet()) {\r\n\t\tSystem.out.print(&quot;key,val: &quot;);\r\n\t\tSystem.out.println(entry.getKey() + &quot;,&quot; + entry.getValue());\r\n\t}\r\n\r\n\t//2.\r\n\tIterator iter = hm.keySet().iterator();\r\n\twhile(iter.hasNext()) {\r\n\t\tInteger key = (Integer)iter.next();\r\n\t\tString val = (String)hm.get(key);\r\n\t\tSystem.out.println(&quot;key,val: &quot; + key + &quot;,&quot; + val);\r\n\t}\r\n\r\n\t//3.\r\n\tIterator it = hm.entrySet().iterator();\r\n\twhile (it.hasNext()) {\r\n\t\tMap.Entry entry = (Map.Entry) it.next();\r\n\t\tInteger key = (Integer)entry.getKey();\r\n\t\tString val = (String)entry.getValue();\r\n\t\tSystem.out.println(&quot;key,val: &quot; + key + &quot;,&quot; + val);\r\n\t}","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>In Map one can Iteration over <code>keys</code> and/or <code>values</code> and/or <code>both (e.g., entrySet)</code>  depends on one's interested in_ Like:</p>\n<ol>\n<li><p>Iterate through the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#keySet%28%29\" rel=\"nofollow noreferrer\"><code>keys -&gt; keySet()</code></a> of the map:</p>\n<pre><code> Map&lt;String, Object&gt; map = ...;\n\n for (String key : map.keySet()) {\n     //your Business logic...\n }\n</code></pre>\n</li>\n<li><p>Iterate through the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#values%28%29\" rel=\"nofollow noreferrer\"><code>values -&gt; values()</code></a> of the map:</p>\n<pre><code> for (Object value : map.values()) {\n     //your Business logic...\n }\n</code></pre>\n</li>\n<li><p>Iterate through the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Map.html#entrySet%28%29\" rel=\"nofollow noreferrer\"><code>both -&gt; entrySet()</code></a> of the map:</p>\n<pre><code> for (Map.Entry&lt;String, Object&gt; entry : map.entrySet()) {\n     String key = entry.getKey();\n     Object value = entry.getValue();\n     //your Business logic...\n }\n</code></pre>\n</li>\n</ol>\n<p>Moreover, there are 3 different ways to iterate through a HashMap. They are as below:</p>\n<pre><code>//1.\nfor (Map.Entry entry : hm.entrySet()) {\n    System.out.print(&quot;key,val: &quot;);\n    System.out.println(entry.getKey() + &quot;,&quot; + entry.getValue());\n}\n\n//2.\nIterator iter = hm.keySet().iterator();\nwhile(iter.hasNext()) {\n    Integer key = (Integer)iter.next();\n    String val = (String)hm.get(key);\n    System.out.println(&quot;key,val: &quot; + key + &quot;,&quot; + val);\n}\n\n//3.\nIterator it = hm.entrySet().iterator();\nwhile (it.hasNext()) {\n    Map.Entry entry = (Map.Entry) it.next();\n    Integer key = (Integer)entry.getKey();\n    String val = (String)entry.getValue();\n    System.out.println(&quot;key,val: &quot; + key + &quot;,&quot; + val);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3939374,"reputation":1280,"user_id":3254469,"display_name":"Fadid"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1688556217,"creation_date":1395250492,"answer_id":22513787,"question_id":46898,"body_markdown":"        Iterator iterator = map.entrySet().iterator();\r\n        while (iterator.hasNext()) {\r\n            Map.Entry element = (Map.Entry) it.next();\r\n            LOGGER.debug(&quot;Key: &quot; + element.getKey());\r\n            LOGGER.debug(&quot;value: &quot; + element.getValue());    \r\n        }","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<pre><code>    Iterator iterator = map.entrySet().iterator();\n    while (iterator.hasNext()) {\n        Map.Entry element = (Map.Entry) it.next();\n        LOGGER.debug(&quot;Key: &quot; + element.getKey());\n        LOGGER.debug(&quot;value: &quot; + element.getValue());    \n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2513721,"reputation":4767,"user_id":2185582,"accept_rate":54,"display_name":"humblerookie"},"score":0,"creation_date":1408650546,"post_id":25116661,"comment_id":39681848,"body_markdown":"@injecteer: Seems the motive of lambda expressions","body":"@injecteer: Seems the motive of lambda expressions"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":10,"creation_date":1478695044,"post_id":25116661,"comment_id":68256559,"body_markdown":"You don’t need a stream if you just want to iterate over a map. `myMap.forEach( (currentKey,currentValue) -&gt; /* action */ );` is much more concise.","body":"You don’t need a stream if you just want to iterate over a map. <code>myMap.forEach( (currentKey,currentValue) -&gt; &#47;* action *&#47; );</code> is much more concise."}],"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":2,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1517888266,"creation_date":1407148249,"answer_id":25116661,"question_id":46898,"body_markdown":"**Java 8:**\r\n\r\nYou can use lambda expressions:\r\n\r\n    myMap.entrySet().stream().forEach((entry) -&gt; {\r\n        Object currentKey = entry.getKey();\r\n        Object currentValue = entry.getValue();\r\n    });\r\n\r\nFor more information, follow [this](http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html).\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p><strong>Java 8:</strong></p>\n\n<p>You can use lambda expressions:</p>\n\n<pre><code>myMap.entrySet().stream().forEach((entry) -&gt; {\n    Object currentKey = entry.getKey();\n    Object currentValue = entry.getValue();\n});\n</code></pre>\n\n<p>For more information, follow <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"noreferrer\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":2196339,"reputation":723,"user_id":1941878,"accept_rate":80,"display_name":"fechidal89"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688556951,"creation_date":1408659317,"answer_id":25436802,"question_id":46898,"body_markdown":"I copied the data of a map to another with this code:\r\n\r\n```java\r\n    HashMap product = (HashMap) shopping_truck.get(i);\r\n    HashMap tmp = new HashMap();\r\n    for (Iterator it = product.entrySet().iterator(); it.hasNext();) {\r\n        Map.Entry thisEntry = (Map.Entry) it.next();\r\n        tmp.put(thisEntry.getKey(), thisEntry.getValue());\r\n    }\r\n```","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>I copied the data of a map to another with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    HashMap product = (HashMap) shopping_truck.get(i);\n    HashMap tmp = new HashMap();\n    for (Iterator it = product.entrySet().iterator(); it.hasNext();) {\n        Map.Entry thisEntry = (Map.Entry) it.next();\n        tmp.put(thisEntry.getKey(), thisEntry.getValue());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1535573,"reputation":7025,"user_id":1431728,"accept_rate":49,"display_name":"JohnK"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1420849358,"creation_date":1420849358,"answer_id":27871427,"question_id":46898,"body_markdown":"It doesn&#39;t quite answer the OP&#39;s question, but might be useful to others who find this page:\r\n\r\nIf you only need the values and not the keys, you can do this:\r\n\r\n    Map&lt;Ktype, Vtype&gt; myMap = [...];\r\n    for (Vtype v: myMap.values()) {\r\n      System.out.println(&quot;value: &quot; + v);\r\n    }\r\n\r\n`Ktype`, `Vtype` are pseudocode.","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>It doesn't quite answer the OP's question, but might be useful to others who find this page:</p>\n\n<p>If you only need the values and not the keys, you can do this:</p>\n\n<pre><code>Map&lt;Ktype, Vtype&gt; myMap = [...];\nfor (Vtype v: myMap.values()) {\n  System.out.println(\"value: \" + v);\n}\n</code></pre>\n\n<p><code>Ktype</code>, <code>Vtype</code> are pseudocode.</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1517957566,"creation_date":1431520652,"answer_id":30215019,"question_id":46898,"body_markdown":"Here is a generic type-safe method which can be called to dump any given `Map`.\r\n\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n\r\n    public class MapUtils {\r\n        static interface ItemCallback&lt;K, V&gt; {\r\n            void handler(K key, V value, Map&lt;K, V&gt; map);\r\n        }\r\n\r\n        public static &lt;K, V&gt; void forEach(Map&lt;K, V&gt; map, ItemCallback&lt;K, V&gt; callback) {\r\n            Iterator&lt;Map.Entry&lt;K, V&gt;&gt; it = map.entrySet().iterator();\r\n\r\n            while (it.hasNext()) {\r\n                Map.Entry&lt;K, V&gt; entry = it.next();\r\n\r\n                callback.handler(entry.getKey(), entry.getValue(), map);\r\n            }\r\n        }\r\n\r\n        public static &lt;K, V&gt; void printMap(Map&lt;K, V&gt; map) {\r\n            forEach(map, new ItemCallback&lt;K, V&gt;() {\r\n                @Override\r\n                public void handler(K key, V value, Map&lt;K, V&gt; map) {\r\n                    System.out.println(key + &quot; = &quot; + value);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n## Example\r\n\r\nHere is an example of its use. Notice that the type of the `Map` is inferred by the method.\r\n\r\n    import java.util.*;\r\n\r\n    public class MapPrinter {\r\n        public static void main(String[] args) {\r\n            List&lt;Map&lt;?, ?&gt;&gt; maps = new ArrayList&lt;Map&lt;?, ?&gt;&gt;() {\r\n                private static final long serialVersionUID = 1L;\r\n                {\r\n                    add(new LinkedHashMap&lt;String, Integer&gt;() {\r\n                        private static final long serialVersionUID = 1L;\r\n                        {\r\n                            put(&quot;One&quot;, 0);\r\n                            put(&quot;Two&quot;, 1);\r\n                            put(&quot;Three&quot;, 3);\r\n                        }\r\n                    });\r\n\r\n                    add(new LinkedHashMap&lt;String, Object&gt;() {\r\n                        private static final long serialVersionUID = 1L;\r\n                        {\r\n                            put(&quot;Object&quot;, new Object());\r\n                            put(&quot;Integer&quot;, new Integer(0));\r\n                            put(&quot;Double&quot;, new Double(0.0));\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n\r\n            for (Map&lt;?, ?&gt; map : maps) {\r\n                MapUtils.printMap(map);\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\n## Output\r\n\r\n    One = 0\r\n    Two = 1\r\n    Three = 3\r\n\r\n    Object = java.lang.Object@15db9742\r\n    Integer = 0\r\n    Double = 0.0\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Here is a generic type-safe method which can be called to dump any given <code>Map</code>.</p>\n\n<pre><code>import java.util.Iterator;\nimport java.util.Map;\n\npublic class MapUtils {\n    static interface ItemCallback&lt;K, V&gt; {\n        void handler(K key, V value, Map&lt;K, V&gt; map);\n    }\n\n    public static &lt;K, V&gt; void forEach(Map&lt;K, V&gt; map, ItemCallback&lt;K, V&gt; callback) {\n        Iterator&lt;Map.Entry&lt;K, V&gt;&gt; it = map.entrySet().iterator();\n\n        while (it.hasNext()) {\n            Map.Entry&lt;K, V&gt; entry = it.next();\n\n            callback.handler(entry.getKey(), entry.getValue(), map);\n        }\n    }\n\n    public static &lt;K, V&gt; void printMap(Map&lt;K, V&gt; map) {\n        forEach(map, new ItemCallback&lt;K, V&gt;() {\n            @Override\n            public void handler(K key, V value, Map&lt;K, V&gt; map) {\n                System.out.println(key + \" = \" + value);\n            }\n        });\n    }\n}\n</code></pre>\n\n<h2>Example</h2>\n\n<p>Here is an example of its use. Notice that the type of the <code>Map</code> is inferred by the method.</p>\n\n<pre><code>import java.util.*;\n\npublic class MapPrinter {\n    public static void main(String[] args) {\n        List&lt;Map&lt;?, ?&gt;&gt; maps = new ArrayList&lt;Map&lt;?, ?&gt;&gt;() {\n            private static final long serialVersionUID = 1L;\n            {\n                add(new LinkedHashMap&lt;String, Integer&gt;() {\n                    private static final long serialVersionUID = 1L;\n                    {\n                        put(\"One\", 0);\n                        put(\"Two\", 1);\n                        put(\"Three\", 3);\n                    }\n                });\n\n                add(new LinkedHashMap&lt;String, Object&gt;() {\n                    private static final long serialVersionUID = 1L;\n                    {\n                        put(\"Object\", new Object());\n                        put(\"Integer\", new Integer(0));\n                        put(\"Double\", new Double(0.0));\n                    }\n                });\n            }\n        };\n\n        for (Map&lt;?, ?&gt; map : maps) {\n            MapUtils.printMap(map);\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n\n<h2>Output</h2>\n\n<pre><code>One = 0\nTwo = 1\nThree = 3\n\nObject = java.lang.Object@15db9742\nInteger = 0\nDouble = 0.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2529368,"reputation":2995,"user_id":2197975,"accept_rate":89,"display_name":"Joshua Michael Calafell"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433037927,"creation_date":1433012884,"answer_id":30550239,"question_id":46898,"body_markdown":"This is the easiest way of doing it I believe...\r\n    \r\n    /* For example, this could be a map object */\r\n    Map&lt;String, Integer&gt; MAP = new Map&lt;&gt;();\r\n\r\n    // Do something like put keys/value pairs into the map, etc...\r\n    MAP.put(&quot;Denver&quot;, 35);\r\n    MAP.put(&quot;Patriots&quot;, 14);\r\n\r\n    /* Then, simply use a for each loop like this to iterate */\r\n    for (Object o : MAP.entrySet()) {\r\n        Map.Entry pair = (Map.Entry) o;\r\n        // Do whatever with the pair here (i.e. pair.getKey(), or pair.getValue();\r\n    }","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>This is the easiest way of doing it I believe...</p>\n\n<pre><code>/* For example, this could be a map object */\nMap&lt;String, Integer&gt; MAP = new Map&lt;&gt;();\n\n// Do something like put keys/value pairs into the map, etc...\nMAP.put(\"Denver\", 35);\nMAP.put(\"Patriots\", 14);\n\n/* Then, simply use a for each loop like this to iterate */\nfor (Object o : MAP.entrySet()) {\n    Map.Entry pair = (Map.Entry) o;\n    // Do whatever with the pair here (i.e. pair.getKey(), or pair.getValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1955570,"reputation":1570,"user_id":1758634,"accept_rate":71,"display_name":"tomaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688557060,"creation_date":1440868304,"answer_id":32288690,"question_id":46898,"body_markdown":"If your reason for iterating trough the `Map`, is to do an operation on the value and write to a resulting `Map`. I recommend using the `transform`-methods in the [Google Guava](https://github.com/google/guava) `Maps` class.\r\n\r\n    import com.google.common.collect.Maps;\r\n\r\nAfter you have added the `Maps` to your imports, you can use `Maps.transformValues` and `Maps.transformEntries` on your maps, like this:\r\n\r\n    public void transformMap() {\r\n        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;a&quot;, 2);\r\n        map.put(&quot;b&quot;, 4);\r\n\r\n        Map&lt;String, Integer&gt; result = Maps.transformValues(map, num -&gt; num * 2);\r\n        result.forEach((key, val) -&gt; print(key, Integer.toString(val)));\r\n        // key=a,value=4\r\n        // key=b,value=8\r\n\r\n        Map&lt;String, String&gt; result2 = Maps.transformEntries(map, (key, value) -&gt; value + &quot;[&quot; + key + &quot;]&quot;);\r\n        result2.forEach(this::print);\r\n        // key=a,value=2[a]\r\n        // key=b,value=4[b]\r\n    }\r\n\r\n    private void print(String key, String val) {\r\n        System.out.println(&quot;key=&quot; + key + &quot;,value=&quot; + val);\r\n    }","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>If your reason for iterating trough the <code>Map</code>, is to do an operation on the value and write to a resulting <code>Map</code>. I recommend using the <code>transform</code>-methods in the <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">Google Guava</a> <code>Maps</code> class.</p>\n<pre><code>import com.google.common.collect.Maps;\n</code></pre>\n<p>After you have added the <code>Maps</code> to your imports, you can use <code>Maps.transformValues</code> and <code>Maps.transformEntries</code> on your maps, like this:</p>\n<pre><code>public void transformMap() {\n    Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;a&quot;, 2);\n    map.put(&quot;b&quot;, 4);\n\n    Map&lt;String, Integer&gt; result = Maps.transformValues(map, num -&gt; num * 2);\n    result.forEach((key, val) -&gt; print(key, Integer.toString(val)));\n    // key=a,value=4\n    // key=b,value=8\n\n    Map&lt;String, String&gt; result2 = Maps.transformEntries(map, (key, value) -&gt; value + &quot;[&quot; + key + &quot;]&quot;);\n    result2.forEach(this::print);\n    // key=a,value=2[a]\n    // key=b,value=4[b]\n}\n\nprivate void print(String key, String val) {\n    System.out.println(&quot;key=&quot; + key + &quot;,value=&quot; + val);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":0,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1556517155,"creation_date":1441155600,"answer_id":32343110,"question_id":46898,"body_markdown":"Java 8\r\n------\r\n\r\nWe have got `forEach` method that accepts a [lambda expression][1]. We have also got [stream][2] APIs. Consider a map:\r\n\r\n    Map&lt;String,String&gt; sample = new HashMap&lt;&gt;();\r\n    sample.put(&quot;A&quot;,&quot;Apple&quot;);\r\n    sample.put(&quot;B&quot;, &quot;Ball&quot;);\r\n\r\n**Iterate over keys:**\r\n\r\n    sample.keySet().forEach((k) -&gt; System.out.println(k));\r\n\r\n**Iterate over values:**\r\n\r\n    sample.values().forEach((v) -&gt; System.out.println(v));\r\n\r\n**Iterate over entries (Using forEach and Streams):**\r\n\r\n    sample.forEach((k,v) -&gt; System.out.println(k + &quot;:&quot; + v)); \r\n    sample.entrySet().stream().forEach((entry) -&gt; {\r\n                Object currentKey = entry.getKey();\r\n                Object currentValue = entry.getValue();\r\n                System.out.println(currentKey + &quot;:&quot; + currentValue);\r\n            });\r\n\r\nThe advantage with streams is they can be parallelized easily in case we want to. We simply need to use `parallelStream()` in place of `stream()` above.\r\n\r\n**`forEachOrdered` vs `forEach` with streams ?**\r\nThe `forEach` does not follow encounter order (if defined) and is inherently non-deterministic in nature where as the `forEachOrdered` does. So `forEach` does not guarantee that the order would be kept. Also check [this][3] for more.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\r\n  [3]: https://stackoverflow.com/questions/32797579/foreach-vs-foreachordered-in-java-8-stream","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<h2>Java 8</h2>\n\n<p>We have got <code>forEach</code> method that accepts a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"noreferrer\">lambda expression</a>. We have also got <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"noreferrer\">stream</a> APIs. Consider a map:</p>\n\n<pre><code>Map&lt;String,String&gt; sample = new HashMap&lt;&gt;();\nsample.put(\"A\",\"Apple\");\nsample.put(\"B\", \"Ball\");\n</code></pre>\n\n<p><strong>Iterate over keys:</strong></p>\n\n<pre><code>sample.keySet().forEach((k) -&gt; System.out.println(k));\n</code></pre>\n\n<p><strong>Iterate over values:</strong></p>\n\n<pre><code>sample.values().forEach((v) -&gt; System.out.println(v));\n</code></pre>\n\n<p><strong>Iterate over entries (Using forEach and Streams):</strong></p>\n\n<pre><code>sample.forEach((k,v) -&gt; System.out.println(k + \":\" + v)); \nsample.entrySet().stream().forEach((entry) -&gt; {\n            Object currentKey = entry.getKey();\n            Object currentValue = entry.getValue();\n            System.out.println(currentKey + \":\" + currentValue);\n        });\n</code></pre>\n\n<p>The advantage with streams is they can be parallelized easily in case we want to. We simply need to use <code>parallelStream()</code> in place of <code>stream()</code> above.</p>\n\n<p><strong><code>forEachOrdered</code> vs <code>forEach</code> with streams ?</strong>\nThe <code>forEach</code> does not follow encounter order (if defined) and is inherently non-deterministic in nature where as the <code>forEachOrdered</code> does. So <code>forEach</code> does not guarantee that the order would be kept. Also check <a href=\"https://stackoverflow.com/questions/32797579/foreach-vs-foreachordered-in-java-8-stream\">this</a> for more.</p>\n"},{"tags":[],"owner":{"account_id":1628903,"reputation":3812,"user_id":1503859,"accept_rate":40,"display_name":"Nitin Mahesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1685474630,"creation_date":1444144053,"answer_id":32973406,"question_id":46898,"body_markdown":"## **Lambda** Expression Java 8\r\n\r\nIn Java 1.8 (Java 8) this has become lot easier by using **forEach** method from Aggregate operations(**Stream operations**) that looks similar to iterators from **Iterable** Interface. \r\n\r\nJust copy paste below statement to your code and rename the **HashMap** variable from **hm** to your HashMap variable to print out key-value pair.\r\n\r\n    HashMap&lt;Integer,Integer&gt; hm = new HashMap&lt;Integer, Integer&gt;();\r\n    /*\r\n     *     Logic to put the Key,Value pair in your HashMap hm\r\n     */\r\n\t\r\n    // Print the key value pair in one line.\r\n\r\n    hm.forEach((k, v) -&gt; System.out.println(&quot;key: &quot; + k + &quot; value:&quot; + v));\r\n\r\n    // Just copy and paste above line to your code.\r\n\r\nBelow is the sample code that I tried using **Lambda Expression**. This stuff is so cool. Must try.\r\n\r\n\r\n    HashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;Integer, Integer&gt;();\r\n\t\tRandom rand = new Random(47);\r\n\t\tint i = 0;\r\n\t\twhile(i &lt; 5) {\r\n\t\t\ti++;\r\n\t\t\tint key = rand.nextInt(20);\r\n\t\t\tint value = rand.nextInt(50);\r\n\t\t\tSystem.out.println(&quot;Inserting key: &quot; + key + &quot; Value: &quot; + value);\r\n\t\t\tInteger imap = hm.put(key, value);\r\n\t\t\tif( imap == null) {\r\n\t\t\t\tSystem.out.println(&quot;Inserted&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Replaced with &quot; + imap);\r\n\t\t\t}\t\t\t\t\r\n\t\t}\r\n\t\r\n\t\thm.forEach((k, v) -&gt; System.out.println(&quot;key: &quot; + k + &quot; value:&quot; + v));\r\n\t\t\r\n    Output:\r\n    \r\n    Inserting key: 18 Value: 5\r\n    Inserted\r\n    Inserting key: 13 Value: 11\r\n    Inserted\r\n    Inserting key: 1 Value: 29\r\n    Inserted\r\n    Inserting key: 8 Value: 0\r\n    Inserted\r\n    Inserting key: 2 Value: 7\r\n    Inserted\r\n    key: 1 value:29\r\n    key: 18 value:5\r\n    key: 2 value:7\r\n    key: 8 value:0\r\n    key: 13 value:11\r\n\r\nAlso one can use **Spliterator** for the same.\r\n\r\n    Spliterator sit = hm.entrySet().spliterator();\r\n\r\n**UPDATE**\r\n\r\n\r\n----------\r\n\r\n\r\nIncluding documentation links to Oracle Docs.\r\nFor more on **Lambda** go to this [link][1] and must read [Aggregate Operations][2] and for Spliterator go to this [link][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/collections/streams/\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<h2><strong>Lambda</strong> Expression Java 8</h2>\n<p>In Java 1.8 (Java 8) this has become lot easier by using <strong>forEach</strong> method from Aggregate operations(<strong>Stream operations</strong>) that looks similar to iterators from <strong>Iterable</strong> Interface.</p>\n<p>Just copy paste below statement to your code and rename the <strong>HashMap</strong> variable from <strong>hm</strong> to your HashMap variable to print out key-value pair.</p>\n<pre><code>HashMap&lt;Integer,Integer&gt; hm = new HashMap&lt;Integer, Integer&gt;();\n/*\n *     Logic to put the Key,Value pair in your HashMap hm\n */\n\n// Print the key value pair in one line.\n\nhm.forEach((k, v) -&gt; System.out.println(&quot;key: &quot; + k + &quot; value:&quot; + v));\n\n// Just copy and paste above line to your code.\n</code></pre>\n<p>Below is the sample code that I tried using <strong>Lambda Expression</strong>. This stuff is so cool. Must try.</p>\n<pre><code>HashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;Integer, Integer&gt;();\n    Random rand = new Random(47);\n    int i = 0;\n    while(i &lt; 5) {\n        i++;\n        int key = rand.nextInt(20);\n        int value = rand.nextInt(50);\n        System.out.println(&quot;Inserting key: &quot; + key + &quot; Value: &quot; + value);\n        Integer imap = hm.put(key, value);\n        if( imap == null) {\n            System.out.println(&quot;Inserted&quot;);\n        } else {\n            System.out.println(&quot;Replaced with &quot; + imap);\n        }               \n    }\n\n    hm.forEach((k, v) -&gt; System.out.println(&quot;key: &quot; + k + &quot; value:&quot; + v));\n    \nOutput:\n\nInserting key: 18 Value: 5\nInserted\nInserting key: 13 Value: 11\nInserted\nInserting key: 1 Value: 29\nInserted\nInserting key: 8 Value: 0\nInserted\nInserting key: 2 Value: 7\nInserted\nkey: 1 value:29\nkey: 18 value:5\nkey: 2 value:7\nkey: 8 value:0\nkey: 13 value:11\n</code></pre>\n<p>Also one can use <strong>Spliterator</strong> for the same.</p>\n<pre><code>Spliterator sit = hm.entrySet().spliterator();\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<hr />\n<p>Including documentation links to Oracle Docs.\nFor more on <strong>Lambda</strong> go to this <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">link</a> and must read <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/\" rel=\"nofollow noreferrer\">Aggregate Operations</a> and for Spliterator go to this <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":6654821,"reputation":1435,"user_id":5135746,"display_name":"Syd Lambert"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688556901,"creation_date":1445969374,"answer_id":33375492,"question_id":46898,"body_markdown":"If you want to iterate through the map in the order that the elements were added, use `LinkedHashMap` as opposed to just `Map`.\r\n\r\nThis approach has worked for me in the past:\r\n\r\n```java\r\n    LinkedHashMap&lt;String, Integer&gt; test = new LinkedHashMap();\r\n    \r\n    test.put(&quot;foo&quot;, 69);\r\n    test.put(&quot;bar&quot;, 1337);\r\n\r\n    for (int i = 0; i &lt; test.size(); i++) {\r\n        System.out.println(test.get(test.keySet().toArray()[i]));\r\n    }\r\n```\r\n\r\nOutput:\r\n\r\n    69\r\n    1337","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>If you want to iterate through the map in the order that the elements were added, use <code>LinkedHashMap</code> as opposed to just <code>Map</code>.</p>\n<p>This approach has worked for me in the past:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    LinkedHashMap&lt;String, Integer&gt; test = new LinkedHashMap();\n    \n    test.put(&quot;foo&quot;, 69);\n    test.put(&quot;bar&quot;, 1337);\n\n    for (int i = 0; i &lt; test.size(); i++) {\n        System.out.println(test.get(test.keySet().toArray()[i]));\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>69\n1337\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":11,"creation_date":1463054014,"post_id":35558955,"comment_id":61904872,"body_markdown":"@Viacheslav : very nice answer. Just wondering how Java8 apis are hindered, in your benchmark, by capturing lambdas... (e.g. `long sum = 0; map.forEach( /* accumulate in variable sum*/);` captures the `sum` long, which may be slower than say `stream.mapToInt(/*whatever*/).sum` for example. Of course you can not always avoid capturing state, but that may be a reasonnable addition to the bench.","body":"@Viacheslav : very nice answer. Just wondering how Java8 apis are hindered, in your benchmark, by capturing lambdas... (e.g. <code>long sum = 0; map.forEach( &#47;* accumulate in variable sum*&#47;);</code> captures the <code>sum</code> long, which may be slower than say <code>stream.mapToInt(&#47;*whatever*&#47;).sum</code> for example. Of course you can not always avoid capturing state, but that may be a reasonnable addition to the bench."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":65,"creation_date":1489775308,"post_id":35558955,"comment_id":72835670,"body_markdown":"@ZhekaKozlov: look at the mindblowingly large error values. Consider that a test result of `x&#177;e` implies that there were result within the interval from `x-e` to `x+e`, so the fastest result (`1184.767&#177;332.968`) ranges from `852` to `1518`, whereas the second slowest (`1706.676&#177;436.867`) runs between `1270` and `2144`, so the results still overlap significantly. Now look at the slowest result, `3289.866&#177;1445.564`, which implies diverging between `1844` and `4735` and you *know* that these test results are meaningless.","body":"@ZhekaKozlov: look at the mindblowingly large error values. Consider that a test result of <code>x&#177;e</code> implies that there were result within the interval from <code>x-e</code> to <code>x+e</code>, so the fastest result (<code>1184.767&#177;332.968</code>) ranges from <code>852</code> to <code>1518</code>, whereas the second slowest (<code>1706.676&#177;436.867</code>) runs between <code>1270</code> and <code>2144</code>, so the results still overlap significantly. Now look at the slowest result, <code>3289.866&#177;1445.564</code>, which implies diverging between <code>1844</code> and <code>4735</code> and you <i>know</i> that these test results are meaningless."},{"owner":{"account_id":69219,"reputation":5340,"user_id":201557,"display_name":"Thierry"},"score":8,"creation_date":1510097877,"post_id":35558955,"comment_id":81288277,"body_markdown":"What about comparing the 3 main implementations : HashMap, LinkedHashMap and TreeMap ?","body":"What about comparing the 3 main implementations : HashMap, LinkedHashMap and TreeMap ?"},{"owner":{"account_id":23089,"reputation":49201,"user_id":57611,"accept_rate":82,"display_name":"ErikE"},"score":25,"creation_date":1531595052,"post_id":35558955,"comment_id":89658448,"body_markdown":"#1 and #6 are exactly the same. Using `while` vs. a `for` loop is not a different technique for iterating. And I am surprised they have such variation between them in your tests—which suggests that the tests are not properly isolated from external factors unrelated to the things you intend to be testing.","body":"#1 and #6 are exactly the same. Using <code>while</code> vs. a <code>for</code> loop is not a different technique for iterating. And I am surprised they have such variation between them in your tests—which suggests that the tests are not properly isolated from external factors unrelated to the things you intend to be testing."},{"owner":{"account_id":7230627,"reputation":1424,"user_id":5517612,"display_name":"Todd Sewell"},"score":9,"creation_date":1546434027,"post_id":35558955,"comment_id":94850182,"body_markdown":"`#8` is a terrible example, because of the `parallel` there&#39;s now a race condition when adding to `i`.","body":"<code>#8</code> is a terrible example, because of the <code>parallel</code> there&#39;s now a race condition when adding to <code>i</code>."},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1657327232,"post_id":35558955,"comment_id":128791723,"body_markdown":"@GPI Two of the java8 apis are slower because they use Streams, which are inherently slower. They do all the work of a for-each loop—that&#39;s how they&#39;re implemented internally—but they also do some work setting up the stream. So they&#39;re never faster than a standard loop, unless you can correctly use parallel processing. Of course, we don&#39;t use them for speed but for readability and maintainability. (And we use object oriented languages instead of faster procedural ones because the developer time now costs more than the computer time. They optimize developer time instead of production time.)","body":"@GPI Two of the java8 apis are slower because they use Streams, which are inherently slower. They do all the work of a for-each loop—that&#39;s how they&#39;re implemented internally—but they also do some work setting up the stream. So they&#39;re never faster than a standard loop, unless you can correctly use parallel processing. Of course, we don&#39;t use them for speed but for readability and maintainability. (And we use object oriented languages instead of faster procedural ones because the developer time now costs more than the computer time. They optimize developer time instead of production time.)"},{"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"score":0,"creation_date":1657328484,"post_id":35558955,"comment_id":128791854,"body_markdown":"@ErikE Performance testing in Java is very hard, because we have no control over garbage-collecting, and I think because at some point the compiled classes may get optimized. In my trials, I run my tests for thousands of iterations, I interleave the different test cases, and I repeat my tests multiple times in each run. The first few runs are always slower. And when I plot speeds over time, I see time intervals where all my cases ran more slowly, probably due to garbage collection. And all cases see a performance improvement after a certain point, probably due to byte code optimization.","body":"@ErikE Performance testing in Java is very hard, because we have no control over garbage-collecting, and I think because at some point the compiled classes may get optimized. In my trials, I run my tests for thousands of iterations, I interleave the different test cases, and I repeat my tests multiple times in each run. The first few runs are always slower. And when I plot speeds over time, I see time intervals where all my cases ran more slowly, probably due to garbage collection. And all cases see a performance improvement after a certain point, probably due to byte code optimization."},{"owner":{"account_id":23089,"reputation":49201,"user_id":57611,"accept_rate":82,"display_name":"ErikE"},"score":0,"creation_date":1657582415,"post_id":35558955,"comment_id":128840450,"body_markdown":"Thanks for the comment, but if it is so hard to understand Java&#39;s performance characteristics, then how is it not a piece of junk? Seriously, a for loop and a while loop shouldn&#39;t perform so much differently.","body":"Thanks for the comment, but if it is so hard to understand Java&#39;s performance characteristics, then how is it not a piece of junk? Seriously, a for loop and a while loop shouldn&#39;t perform so much differently."},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1658160210,"post_id":35558955,"comment_id":128976902,"body_markdown":"@MiguelMunoz thanks. The idea was not to compare stream vs imperative, but capturing vs non capturing lambdas. just out of curiosity, btw, it&#39;s not that important to the question.","body":"@MiguelMunoz thanks. The idea was not to compare stream vs imperative, but capturing vs non capturing lambdas. just out of curiosity, btw, it&#39;s not that important to the question."}],"tags":[],"owner":{"account_id":5426896,"reputation":58756,"user_id":4318868,"display_name":"Slava Vedenin"},"comment_count":9,"down_vote_count":7,"up_vote_count":1593,"is_accepted":false,"score":1586,"last_activity_date":1565035942,"creation_date":1456159049,"answer_id":35558955,"question_id":46898,"body_markdown":"To summarize the other answers and combine them with what I know, I found 10 main ways to do this (see below). Also, I wrote some performance tests (see results below). For example, if we want to find the sum of all of the keys and values of a map, we can write:\r\n\r\n 1. Using **iterator** and **Map.Entry**\r\n\r\n        long i = 0;\r\n        Iterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; it = map.entrySet().iterator();\r\n        while (it.hasNext()) {\r\n            Map.Entry&lt;Integer, Integer&gt; pair = it.next();\r\n            i += pair.getKey() + pair.getValue();\r\n        }\r\n\r\n 2. Using **foreach** and **Map.Entry**\r\n\r\n        long i = 0;\r\n        for (Map.Entry&lt;Integer, Integer&gt; pair : map.entrySet()) {\r\n            i += pair.getKey() + pair.getValue();\r\n        }\r\n\r\n 3. Using **forEach** from Java 8\r\n\r\n        final long[] i = {0};\r\n        map.forEach((k, v) -&gt; i[0] += k + v);\r\n\r\n 4. Using **keySet** and **foreach**\r\n\r\n        long i = 0;\r\n        for (Integer key : map.keySet()) {\r\n            i += key + map.get(key);\r\n        }\r\n\r\n 5. Using **keySet** and **iterator**\r\n\r\n        long i = 0;\r\n        Iterator&lt;Integer&gt; itr2 = map.keySet().iterator();\r\n        while (itr2.hasNext()) {\r\n            Integer key = itr2.next();\r\n            i += key + map.get(key);\r\n        }\r\n\r\n 6. Using **for** and **Map.Entry**\r\n\r\n        long i = 0;\r\n        for (Iterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet().iterator(); entries.hasNext(); ) {\r\n            Map.Entry&lt;Integer, Integer&gt; entry = entries.next();\r\n            i += entry.getKey() + entry.getValue();\r\n        }\r\n\r\n 7. Using the Java 8 **Stream API**\r\n\r\n        final long[] i = {0};\r\n        map.entrySet().stream().forEach(e -&gt; i[0] += e.getKey() + e.getValue());\r\n\r\n 8. Using the Java 8 **Stream API parallel**\r\n\r\n        final long[] i = {0};\r\n        map.entrySet().stream().parallel().forEach(e -&gt; i[0] += e.getKey() + e.getValue());\r\n\r\n 9. Using **IterableMap** of `Apache Collections`\r\n\r\n        long i = 0;\r\n        MapIterator&lt;Integer, Integer&gt; it = iterableMap.mapIterator();\r\n        while (it.hasNext()) {\r\n            i += it.next() + it.getValue();\r\n        }\r\n\r\n 10. Using **MutableMap** of Eclipse (CS) collections\r\n\r\n        final long[] i = {0};\r\n        mutableMap.forEachKeyValue((key, value) -&gt; {\r\n            i[0] += key + value;\r\n        });\r\n\r\n**Perfomance tests** (mode = AverageTime, system = Windows&amp;nbsp;8.1 64-bit, Intel i7-4790 3.60 GHz, 16&amp;nbsp;GB)\r\n\r\n1. For a small map (100 elements), score 0.308 is the best\r\n\r\n        Benchmark                          Mode  Cnt  Score    Error  Units\r\n        test3_UsingForEachAndJava8         avgt  10   0.308 &#177;  0.021  &#181;s/op\r\n        test10_UsingEclipseMap             avgt  10   0.309 &#177;  0.009  &#181;s/op\r\n        test1_UsingWhileAndMapEntry        avgt  10   0.380 &#177;  0.014  &#181;s/op\r\n        test6_UsingForAndIterator          avgt  10   0.387 &#177;  0.016  &#181;s/op\r\n        test2_UsingForEachAndMapEntry      avgt  10   0.391 &#177;  0.023  &#181;s/op\r\n        test7_UsingJava8StreamApi          avgt  10   0.510 &#177;  0.014  &#181;s/op\r\n        test9_UsingApacheIterableMap       avgt  10   0.524 &#177;  0.008  &#181;s/op\r\n        test4_UsingKeySetAndForEach        avgt  10   0.816 &#177;  0.026  &#181;s/op\r\n        test5_UsingKeySetAndIterator       avgt  10   0.863 &#177;  0.025  &#181;s/op\r\n        test8_UsingJava8StreamApiParallel  avgt  10   5.552 &#177;  0.185  &#181;s/op\r\n\r\n2. For a map with 10000 elements,  score 37.606 is the best\r\n\r\n        Benchmark                           Mode   Cnt  Score      Error   Units\r\n        test10_UsingEclipseMap              avgt   10    37.606 &#177;   0.790  &#181;s/op\r\n        test3_UsingForEachAndJava8          avgt   10    50.368 &#177;   0.887  &#181;s/op\r\n        test6_UsingForAndIterator           avgt   10    50.332 &#177;   0.507  &#181;s/op\r\n        test2_UsingForEachAndMapEntry       avgt   10    51.406 &#177;   1.032  &#181;s/op\r\n        test1_UsingWhileAndMapEntry         avgt   10    52.538 &#177;   2.431  &#181;s/op\r\n        test7_UsingJava8StreamApi           avgt   10    54.464 &#177;   0.712  &#181;s/op\r\n        test4_UsingKeySetAndForEach         avgt   10    79.016 &#177;  25.345  &#181;s/op\r\n        test5_UsingKeySetAndIterator        avgt   10    91.105 &#177;  10.220  &#181;s/op\r\n        test8_UsingJava8StreamApiParallel   avgt   10   112.511 &#177;   0.365  &#181;s/op\r\n        test9_UsingApacheIterableMap        avgt   10   125.714 &#177;   1.935  &#181;s/op\r\n\r\n3. For a map with 100000 elements,  score 1184.767 is the best\r\n\r\n        Benchmark                          Mode   Cnt  Score        Error    Units\r\n        test1_UsingWhileAndMapEntry        avgt   10   1184.767 &#177;   332.968  &#181;s/op\r\n        test10_UsingEclipseMap             avgt   10   1191.735 &#177;   304.273  &#181;s/op\r\n        test2_UsingForEachAndMapEntry      avgt   10   1205.815 &#177;   366.043  &#181;s/op\r\n        test6_UsingForAndIterator          avgt   10   1206.873 &#177;   367.272  &#181;s/op\r\n        test8_UsingJava8StreamApiParallel  avgt   10   1485.895 &#177;   233.143  &#181;s/op\r\n        test5_UsingKeySetAndIterator       avgt   10   1540.281 &#177;   357.497  &#181;s/op\r\n        test4_UsingKeySetAndForEach        avgt   10   1593.342 &#177;   294.417  &#181;s/op\r\n        test3_UsingForEachAndJava8         avgt   10   1666.296 &#177;   126.443  &#181;s/op\r\n        test7_UsingJava8StreamApi          avgt   10   1706.676 &#177;   436.867  &#181;s/op\r\n        test9_UsingApacheIterableMap       avgt   10   3289.866 &#177;  1445.564  &#181;s/op\r\n\r\nGraphs (performance tests depending on map size)\r\n\r\n[![Enter image description here][1]][1]\r\n\r\nTable (perfomance tests depending on map size)\r\n\r\n              100     600      1100     1600     2100\r\n    test10    0.333    1.631    2.752    5.937    8.024\r\n    test3     0.309    1.971    4.147    8.147   10.473\r\n    test6     0.372    2.190    4.470    8.322   10.531\r\n    test1     0.405    2.237    4.616    8.645   10.707\r\n    test2     0.376    2.267    4.809    8.403   10.910\r\n    test7     0.473    2.448    5.668    9.790   12.125\r\n    test9     0.565    2.830    5.952   13.220   16.965\r\n    test4     0.808    5.012    8.813   13.939   17.407\r\n    test5     0.810    5.104    8.533   14.064   17.422\r\n    test8     5.173   12.499   17.351   24.671   30.403\r\n\r\nAll tests are on [GitHub][2].\r\n\r\n  [1]: https://i.stack.imgur.com/17VGh.png\r\n  [2]: https://github.com/Vedenin/useful-java-links/blob/master/helloworlds/5.0-other-examples/src/main/java/other_examples/IterateThroughHashMapTest.java\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>To summarize the other answers and combine them with what I know, I found 10 main ways to do this (see below). Also, I wrote some performance tests (see results below). For example, if we want to find the sum of all of the keys and values of a map, we can write:</p>\n\n<ol>\n<li><p>Using <strong>iterator</strong> and <strong>Map.Entry</strong></p>\n\n<pre><code>long i = 0;\nIterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; it = map.entrySet().iterator();\nwhile (it.hasNext()) {\n    Map.Entry&lt;Integer, Integer&gt; pair = it.next();\n    i += pair.getKey() + pair.getValue();\n}\n</code></pre></li>\n<li><p>Using <strong>foreach</strong> and <strong>Map.Entry</strong></p>\n\n<pre><code>long i = 0;\nfor (Map.Entry&lt;Integer, Integer&gt; pair : map.entrySet()) {\n    i += pair.getKey() + pair.getValue();\n}\n</code></pre></li>\n<li><p>Using <strong>forEach</strong> from Java 8</p>\n\n<pre><code>final long[] i = {0};\nmap.forEach((k, v) -&gt; i[0] += k + v);\n</code></pre></li>\n<li><p>Using <strong>keySet</strong> and <strong>foreach</strong></p>\n\n<pre><code>long i = 0;\nfor (Integer key : map.keySet()) {\n    i += key + map.get(key);\n}\n</code></pre></li>\n<li><p>Using <strong>keySet</strong> and <strong>iterator</strong></p>\n\n<pre><code>long i = 0;\nIterator&lt;Integer&gt; itr2 = map.keySet().iterator();\nwhile (itr2.hasNext()) {\n    Integer key = itr2.next();\n    i += key + map.get(key);\n}\n</code></pre></li>\n<li><p>Using <strong>for</strong> and <strong>Map.Entry</strong></p>\n\n<pre><code>long i = 0;\nfor (Iterator&lt;Map.Entry&lt;Integer, Integer&gt;&gt; entries = map.entrySet().iterator(); entries.hasNext(); ) {\n    Map.Entry&lt;Integer, Integer&gt; entry = entries.next();\n    i += entry.getKey() + entry.getValue();\n}\n</code></pre></li>\n<li><p>Using the Java 8 <strong>Stream API</strong></p>\n\n<pre><code>final long[] i = {0};\nmap.entrySet().stream().forEach(e -&gt; i[0] += e.getKey() + e.getValue());\n</code></pre></li>\n<li><p>Using the Java 8 <strong>Stream API parallel</strong></p>\n\n<pre><code>final long[] i = {0};\nmap.entrySet().stream().parallel().forEach(e -&gt; i[0] += e.getKey() + e.getValue());\n</code></pre></li>\n<li><p>Using <strong>IterableMap</strong> of <code>Apache Collections</code></p>\n\n<pre><code>long i = 0;\nMapIterator&lt;Integer, Integer&gt; it = iterableMap.mapIterator();\nwhile (it.hasNext()) {\n    i += it.next() + it.getValue();\n}\n</code></pre></li>\n<li><p>Using <strong>MutableMap</strong> of Eclipse (CS) collections</p>\n\n<pre><code>final long[] i = {0};\nmutableMap.forEachKeyValue((key, value) -&gt; {\n    i[0] += key + value;\n});\n</code></pre></li>\n</ol>\n\n<p><strong>Perfomance tests</strong> (mode = AverageTime, system = Windows&nbsp;8.1 64-bit, Intel i7-4790 3.60 GHz, 16&nbsp;GB)</p>\n\n<ol>\n<li><p>For a small map (100 elements), score 0.308 is the best</p>\n\n<pre><code>Benchmark                          Mode  Cnt  Score    Error  Units\ntest3_UsingForEachAndJava8         avgt  10   0.308 ±  0.021  µs/op\ntest10_UsingEclipseMap             avgt  10   0.309 ±  0.009  µs/op\ntest1_UsingWhileAndMapEntry        avgt  10   0.380 ±  0.014  µs/op\ntest6_UsingForAndIterator          avgt  10   0.387 ±  0.016  µs/op\ntest2_UsingForEachAndMapEntry      avgt  10   0.391 ±  0.023  µs/op\ntest7_UsingJava8StreamApi          avgt  10   0.510 ±  0.014  µs/op\ntest9_UsingApacheIterableMap       avgt  10   0.524 ±  0.008  µs/op\ntest4_UsingKeySetAndForEach        avgt  10   0.816 ±  0.026  µs/op\ntest5_UsingKeySetAndIterator       avgt  10   0.863 ±  0.025  µs/op\ntest8_UsingJava8StreamApiParallel  avgt  10   5.552 ±  0.185  µs/op\n</code></pre></li>\n<li><p>For a map with 10000 elements,  score 37.606 is the best</p>\n\n<pre><code>Benchmark                           Mode   Cnt  Score      Error   Units\ntest10_UsingEclipseMap              avgt   10    37.606 ±   0.790  µs/op\ntest3_UsingForEachAndJava8          avgt   10    50.368 ±   0.887  µs/op\ntest6_UsingForAndIterator           avgt   10    50.332 ±   0.507  µs/op\ntest2_UsingForEachAndMapEntry       avgt   10    51.406 ±   1.032  µs/op\ntest1_UsingWhileAndMapEntry         avgt   10    52.538 ±   2.431  µs/op\ntest7_UsingJava8StreamApi           avgt   10    54.464 ±   0.712  µs/op\ntest4_UsingKeySetAndForEach         avgt   10    79.016 ±  25.345  µs/op\ntest5_UsingKeySetAndIterator        avgt   10    91.105 ±  10.220  µs/op\ntest8_UsingJava8StreamApiParallel   avgt   10   112.511 ±   0.365  µs/op\ntest9_UsingApacheIterableMap        avgt   10   125.714 ±   1.935  µs/op\n</code></pre></li>\n<li><p>For a map with 100000 elements,  score 1184.767 is the best</p>\n\n<pre><code>Benchmark                          Mode   Cnt  Score        Error    Units\ntest1_UsingWhileAndMapEntry        avgt   10   1184.767 ±   332.968  µs/op\ntest10_UsingEclipseMap             avgt   10   1191.735 ±   304.273  µs/op\ntest2_UsingForEachAndMapEntry      avgt   10   1205.815 ±   366.043  µs/op\ntest6_UsingForAndIterator          avgt   10   1206.873 ±   367.272  µs/op\ntest8_UsingJava8StreamApiParallel  avgt   10   1485.895 ±   233.143  µs/op\ntest5_UsingKeySetAndIterator       avgt   10   1540.281 ±   357.497  µs/op\ntest4_UsingKeySetAndForEach        avgt   10   1593.342 ±   294.417  µs/op\ntest3_UsingForEachAndJava8         avgt   10   1666.296 ±   126.443  µs/op\ntest7_UsingJava8StreamApi          avgt   10   1706.676 ±   436.867  µs/op\ntest9_UsingApacheIterableMap       avgt   10   3289.866 ±  1445.564  µs/op\n</code></pre></li>\n</ol>\n\n<p>Graphs (performance tests depending on map size)</p>\n\n<p><a href=\"https://i.stack.imgur.com/17VGh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/17VGh.png\" alt=\"Enter image description here\"></a></p>\n\n<p>Table (perfomance tests depending on map size)</p>\n\n<pre><code>          100     600      1100     1600     2100\ntest10    0.333    1.631    2.752    5.937    8.024\ntest3     0.309    1.971    4.147    8.147   10.473\ntest6     0.372    2.190    4.470    8.322   10.531\ntest1     0.405    2.237    4.616    8.645   10.707\ntest2     0.376    2.267    4.809    8.403   10.910\ntest7     0.473    2.448    5.668    9.790   12.125\ntest9     0.565    2.830    5.952   13.220   16.965\ntest4     0.808    5.012    8.813   13.939   17.407\ntest5     0.810    5.104    8.533   14.064   17.422\ntest8     5.173   12.499   17.351   24.671   30.403\n</code></pre>\n\n<p>All tests are on <a href=\"https://github.com/Vedenin/useful-java-links/blob/master/helloworlds/5.0-other-examples/src/main/java/other_examples/IterateThroughHashMapTest.java\" rel=\"noreferrer\">GitHub</a>.</p>\n"},{"tags":[],"owner":{"account_id":5741366,"reputation":719,"user_id":4533984,"accept_rate":50,"display_name":"Sajad NasiriNezhad"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1460533666,"creation_date":1460533666,"answer_id":36591840,"question_id":46898,"body_markdown":"               //Functional Oprations\r\n                Map&lt;String, String&gt; mapString = new HashMap&lt;&gt;();\r\n                mapString.entrySet().stream().map((entry) -&gt; {\r\n                    String mapKey = entry.getKey();\r\n                    return entry;\r\n                }).forEach((entry) -&gt; {\r\n                    String mapValue = entry.getValue();\r\n                });\r\n                \r\n                //Intrator\r\n                Map&lt;String, String&gt; mapString = new HashMap&lt;&gt;();\r\n                for (Iterator&lt;Map.Entry&lt;String, String&gt;&gt; it = mapString.entrySet().iterator(); it.hasNext();) {\r\n                    Map.Entry&lt;String, String&gt; entry = it.next();\r\n                    String mapKey = entry.getKey();\r\n                    String mapValue = entry.getValue();\r\n                }\r\n\r\n                //Simple for loop\r\n                Map&lt;String, String&gt; mapString = new HashMap&lt;&gt;();\r\n                for (Map.Entry&lt;String, String&gt; entry : mapString.entrySet()) {\r\n                    String mapKey = entry.getKey();\r\n                    String mapValue = entry.getValue();\r\n\r\n                }","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<pre><code>           //Functional Oprations\n            Map&lt;String, String&gt; mapString = new HashMap&lt;&gt;();\n            mapString.entrySet().stream().map((entry) -&gt; {\n                String mapKey = entry.getKey();\n                return entry;\n            }).forEach((entry) -&gt; {\n                String mapValue = entry.getValue();\n            });\n\n            //Intrator\n            Map&lt;String, String&gt; mapString = new HashMap&lt;&gt;();\n            for (Iterator&lt;Map.Entry&lt;String, String&gt;&gt; it = mapString.entrySet().iterator(); it.hasNext();) {\n                Map.Entry&lt;String, String&gt; entry = it.next();\n                String mapKey = entry.getKey();\n                String mapValue = entry.getValue();\n            }\n\n            //Simple for loop\n            Map&lt;String, String&gt; mapString = new HashMap&lt;&gt;();\n            for (Map.Entry&lt;String, String&gt; entry : mapString.entrySet()) {\n                String mapKey = entry.getKey();\n                String mapValue = entry.getValue();\n\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1601486813,"creation_date":1477479418,"answer_id":40260450,"question_id":46898,"body_markdown":"The ordering will always depend on the specific map implementation.\r\nUsing Java&amp;nbsp;8 you can use either of these:\r\n\r\n    map.forEach((k,v) -&gt; { System.out.println(k + &quot;:&quot; + v); });\r\n\r\nOr:\r\n\r\n    map.entrySet().forEach((e) -&gt; {\r\n                System.out.println(e.getKey() + &quot; : &quot; + e.getValue());\r\n            });\r\n\r\nThe result will be the same (same order). The entrySet backed by the map so you are getting the same order. The second one is handy as it allows you to use lambdas, e.g. if you want only to print only Integer objects that are greater than 5:\r\n\r\n    map.entrySet()\r\n        .stream()\r\n        .filter(e-&gt; e.getValue() &gt; 5)\r\n        .forEach(System.out::println);\r\n\r\nThe code below shows iteration through LinkedHashMap and normal HashMap (example). You will see difference in the order:\r\n\r\n    public class HMIteration {\r\n\r\n\r\n        public static void main(String[] args) {\r\n            Map&lt;Object, Object&gt; linkedHashMap = new LinkedHashMap&lt;&gt;();\r\n            Map&lt;Object, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n\r\n            for (int i=10; i&gt;=0; i--) {\r\n                linkedHashMap.put(i, i);\r\n                hashMap.put(i, i);\r\n            }\r\n\r\n            System.out.println(&quot;LinkedHashMap (1): &quot;);\r\n            linkedHashMap.forEach((k,v) -&gt; { System.out.print(k + &quot; (#=&quot;+k.hashCode() + &quot;):&quot; + v + &quot;, &quot;); });\r\n\r\n            System.out.println(&quot;\\nLinkedHashMap (2): &quot;);\r\n\r\n            linkedHashMap.entrySet().forEach((e) -&gt; {\r\n                System.out.print(e.getKey() + &quot; : &quot; + e.getValue() + &quot;, &quot;);\r\n            });\r\n\r\n\r\n            System.out.println(&quot;\\n\\nHashMap (1): &quot;);\r\n            hashMap.forEach((k,v) -&gt; { System.out.print(k + &quot; (#:&quot;+k.hashCode() + &quot;):&quot; + v + &quot;, &quot;); });\r\n\r\n            System.out.println(&quot;\\nHashMap (2): &quot;);\r\n\r\n            hashMap.entrySet().forEach((e) -&gt; {\r\n                System.out.print(e.getKey() + &quot; : &quot; + e.getValue() + &quot;, &quot;);\r\n            });\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n```\r\nLinkedHashMap (1):\r\n10 (#=10):10, 9 (#=9):9, 8 (#=8):8, 7 (#=7):7, 6 (#=6):6, 5 (#=5):5, 4 (#=4):4, 3 (#=3):3, 2 (#=2):2, 1 (#=1):1, 0 (#=0):0,\r\nLinkedHashMap (2):\r\n10 : 10, 9 : 9, 8 : 8, 7 : 7, 6 : 6, 5 : 5, 4 : 4, 3 : 3, 2 : 2, 1 : 1, 0 : 0,\r\nHashMap (1):\r\n0 (#:0):0, 1 (#:1):1, 2 (#:2):2, 3 (#:3):3, 4 (#:4):4, 5 (#:5):5, 6 (#:6):6, 7 (#:7):7, 8 (#:8):8, 9 (#:9):9, 10 (#:10):10,\r\nHashMap (2):\r\n0 : 0, 1 : 1, 2 : 2, 3 : 3, 4 : 4, 5 : 5, 6 : 6, 7 : 7, 8 : 8, 9 : 9, 10 : 10,\r\n```\r\n\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>The ordering will always depend on the specific map implementation.\nUsing Java 8 you can use either of these:</p>\n<pre><code>map.forEach((k,v) -&gt; { System.out.println(k + &quot;:&quot; + v); });\n</code></pre>\n<p>Or:</p>\n<pre><code>map.entrySet().forEach((e) -&gt; {\n            System.out.println(e.getKey() + &quot; : &quot; + e.getValue());\n        });\n</code></pre>\n<p>The result will be the same (same order). The entrySet backed by the map so you are getting the same order. The second one is handy as it allows you to use lambdas, e.g. if you want only to print only Integer objects that are greater than 5:</p>\n<pre><code>map.entrySet()\n    .stream()\n    .filter(e-&gt; e.getValue() &gt; 5)\n    .forEach(System.out::println);\n</code></pre>\n<p>The code below shows iteration through LinkedHashMap and normal HashMap (example). You will see difference in the order:</p>\n<pre><code>public class HMIteration {\n\n\n    public static void main(String[] args) {\n        Map&lt;Object, Object&gt; linkedHashMap = new LinkedHashMap&lt;&gt;();\n        Map&lt;Object, Object&gt; hashMap = new HashMap&lt;&gt;();\n\n        for (int i=10; i&gt;=0; i--) {\n            linkedHashMap.put(i, i);\n            hashMap.put(i, i);\n        }\n\n        System.out.println(&quot;LinkedHashMap (1): &quot;);\n        linkedHashMap.forEach((k,v) -&gt; { System.out.print(k + &quot; (#=&quot;+k.hashCode() + &quot;):&quot; + v + &quot;, &quot;); });\n\n        System.out.println(&quot;\\nLinkedHashMap (2): &quot;);\n\n        linkedHashMap.entrySet().forEach((e) -&gt; {\n            System.out.print(e.getKey() + &quot; : &quot; + e.getValue() + &quot;, &quot;);\n        });\n\n\n        System.out.println(&quot;\\n\\nHashMap (1): &quot;);\n        hashMap.forEach((k,v) -&gt; { System.out.print(k + &quot; (#:&quot;+k.hashCode() + &quot;):&quot; + v + &quot;, &quot;); });\n\n        System.out.println(&quot;\\nHashMap (2): &quot;);\n\n        hashMap.entrySet().forEach((e) -&gt; {\n            System.out.print(e.getKey() + &quot; : &quot; + e.getValue() + &quot;, &quot;);\n        });\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>LinkedHashMap (1):\n10 (#=10):10, 9 (#=9):9, 8 (#=8):8, 7 (#=7):7, 6 (#=6):6, 5 (#=5):5, 4 (#=4):4, 3 (#=3):3, 2 (#=2):2, 1 (#=1):1, 0 (#=0):0,\nLinkedHashMap (2):\n10 : 10, 9 : 9, 8 : 8, 7 : 7, 6 : 6, 5 : 5, 4 : 4, 3 : 3, 2 : 2, 1 : 1, 0 : 0,\nHashMap (1):\n0 (#:0):0, 1 (#:1):1, 2 (#:2):2, 3 (#:3):3, 4 (#:4):4, 5 (#:5):5, 6 (#:6):6, 7 (#:7):7, 8 (#:8):8, 9 (#:9):9, 10 (#:10):10,\nHashMap (2):\n0 : 0, 1 : 1, 2 : 2, 3 : 3, 4 : 4, 5 : 5, 6 : 6, 7 : 7, 8 : 8, 9 : 9, 10 : 10,\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1887892,"reputation":240,"user_id":1706743,"display_name":"Rupendra Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1491460575,"creation_date":1491460575,"answer_id":43247492,"question_id":46898,"body_markdown":"    package com.test;\r\n    \r\n    import java.util.Collection;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    import java.util.Set;\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    \t\tmap.put(&quot;ram&quot;, &quot;ayodhya&quot;);\r\n    \t\tmap.put(&quot;krishan&quot;, &quot;mathura&quot;);\r\n    \t\tmap.put(&quot;shiv&quot;, &quot;kailash&quot;);\r\n    \t   \r\n    \t\tSystem.out.println(&quot;********* Keys *********&quot;);\r\n    \t\tSet&lt;String&gt; keys = map.keySet();\r\n    \t\tfor (String key : keys) {\r\n    \t\t\tSystem.out.println(key);\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;********* Values *********&quot;);\r\n    \t\tCollection&lt;String&gt; values = map.values();\r\n    \t\tfor (String value : values) {\r\n    \t\t\tSystem.out.println(value);\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;***** Keys and Values (Using for each loop) *****&quot;);\r\n    \t\tfor (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n    \t\t\tSystem.out.println(&quot;Key: &quot; + entry.getKey() + &quot;\\t Value: &quot;\r\n    \t\t\t\t\t+ entry.getValue());\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;***** Keys and Values (Using while loop) *****&quot;);\r\n    \t\tIterator&lt;Entry&lt;String, String&gt;&gt; entries = map.entrySet().iterator();\r\n    \t\twhile (entries.hasNext()) {\r\n    \t\t\tMap.Entry&lt;String, String&gt; entry = (Map.Entry&lt;String, String&gt;) entries\r\n    \t\t\t\t\t.next();\r\n    \t\t\tSystem.out.println(&quot;Key: &quot; + entry.getKey() + &quot;\\t Value: &quot;\r\n    \t\t\t\t\t+ entry.getValue());\r\n    \t\t}\r\n    \r\n    \t\tSystem.out\r\n    \t\t\t\t.println(&quot;** Keys and Values (Using java 8 using lambdas )***&quot;);\r\n    \t\tmap.forEach((k, v) -&gt; System.out\r\n    \t\t\t\t.println(&quot;Key: &quot; + k + &quot;\\t value: &quot; + v));\r\n    \t}\r\n    }\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<pre><code>package com.test;\n\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.Set;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n        map.put(\"ram\", \"ayodhya\");\n        map.put(\"krishan\", \"mathura\");\n        map.put(\"shiv\", \"kailash\");\n\n        System.out.println(\"********* Keys *********\");\n        Set&lt;String&gt; keys = map.keySet();\n        for (String key : keys) {\n            System.out.println(key);\n        }\n\n        System.out.println(\"********* Values *********\");\n        Collection&lt;String&gt; values = map.values();\n        for (String value : values) {\n            System.out.println(value);\n        }\n\n        System.out.println(\"***** Keys and Values (Using for each loop) *****\");\n        for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\n            System.out.println(\"Key: \" + entry.getKey() + \"\\t Value: \"\n                    + entry.getValue());\n        }\n\n        System.out.println(\"***** Keys and Values (Using while loop) *****\");\n        Iterator&lt;Entry&lt;String, String&gt;&gt; entries = map.entrySet().iterator();\n        while (entries.hasNext()) {\n            Map.Entry&lt;String, String&gt; entry = (Map.Entry&lt;String, String&gt;) entries\n                    .next();\n            System.out.println(\"Key: \" + entry.getKey() + \"\\t Value: \"\n                    + entry.getValue());\n        }\n\n        System.out\n                .println(\"** Keys and Values (Using java 8 using lambdas )***\");\n        map.forEach((k, v) -&gt; System.out\n                .println(\"Key: \" + k + \"\\t value: \" + v));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"score":2,"creation_date":1544616047,"post_id":47122590,"comment_id":94337670,"body_markdown":"Well, this is unnecessarily slow because first get the keys and then the entries. Alternative: Get the entrySets and then for each entryset the key and the value","body":"Well, this is unnecessarily slow because first get the keys and then the entries. Alternative: Get the entrySets and then for each entryset the key and the value"}],"tags":[],"owner":{"account_id":9079714,"reputation":2042,"user_id":6759926,"display_name":"shivampip"},"comment_count":1,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1688556338,"creation_date":1509891497,"answer_id":47122590,"question_id":46898,"body_markdown":"Iterating a [Map][1] is very easy. \r\n\r\n    for (Object key : map.keySet()) {\r\n       Object value = map.get(key);\r\n       // Do your stuff\r\n    }\r\n\r\nFor instance, you have a `Map&lt;String, int&gt; data;`\r\n\r\n    for (Object key : data.keySet()) {\r\n      int value = data.get(key);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Map.html","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Iterating a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a> is very easy.</p>\n<pre><code>for (Object key : map.keySet()) {\n   Object value = map.get(key);\n   // Do your stuff\n}\n</code></pre>\n<p>For instance, you have a <code>Map&lt;String, int&gt; data;</code></p>\n<pre><code>for (Object key : data.keySet()) {\n  int value = data.get(key);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6079744,"reputation":425,"user_id":4745890,"display_name":"Utpal Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1521713405,"creation_date":1510545135,"answer_id":47256829,"question_id":46898,"body_markdown":"There are a lot of ways to do this. Below is a few simple steps:\r\n\r\nSuppose you have one Map like:\r\n\r\n    Map&lt;String, Integer&gt; m = new HashMap&lt;String, Integer&gt;();\r\n\r\nThen you can do something like the below to iterate over map elements.\r\n\r\n    // ********** Using an iterator ****************\r\n    Iterator&lt;Entry&lt;String, Integer&gt;&gt; me = m.entrySet().iterator();\r\n    while(me.hasNext()){\r\n        Entry&lt;String, Integer&gt; pair = me.next();\r\n        System.out.println(pair.getKey() + &quot;:&quot; + pair.getValue());\r\n    }\r\n\r\n    // *********** Using foreach ************************\r\n    for(Entry&lt;String, Integer&gt; me : m.entrySet()){\r\n        System.out.println(me.getKey() + &quot; : &quot; + me.getValue());\r\n    }\r\n\r\n    // *********** Using keySet *****************************\r\n    for(String s : m.keySet()){\r\n        System.out.println(s + &quot; : &quot; + m.get(s));\r\n    }\r\n\r\n    // *********** Using keySet and iterator *****************\r\n    Iterator&lt;String&gt; me = m.keySet().iterator();\r\n    while(me.hasNext()){\r\n        String key = me.next();\r\n        System.out.println(key + &quot; : &quot; + m.get(key));\r\n    }\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>There are a lot of ways to do this. Below is a few simple steps:</p>\n\n<p>Suppose you have one Map like:</p>\n\n<pre><code>Map&lt;String, Integer&gt; m = new HashMap&lt;String, Integer&gt;();\n</code></pre>\n\n<p>Then you can do something like the below to iterate over map elements.</p>\n\n<pre><code>// ********** Using an iterator ****************\nIterator&lt;Entry&lt;String, Integer&gt;&gt; me = m.entrySet().iterator();\nwhile(me.hasNext()){\n    Entry&lt;String, Integer&gt; pair = me.next();\n    System.out.println(pair.getKey() + \":\" + pair.getValue());\n}\n\n// *********** Using foreach ************************\nfor(Entry&lt;String, Integer&gt; me : m.entrySet()){\n    System.out.println(me.getKey() + \" : \" + me.getValue());\n}\n\n// *********** Using keySet *****************************\nfor(String s : m.keySet()){\n    System.out.println(s + \" : \" + m.get(s));\n}\n\n// *********** Using keySet and iterator *****************\nIterator&lt;String&gt; me = m.keySet().iterator();\nwhile(me.hasNext()){\n    String key = me.next();\n    System.out.println(key + \" : \" + m.get(key));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9959452,"reputation":2037,"user_id":7369238,"display_name":"ABHAY JOHRI"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1523991820,"creation_date":1523990765,"answer_id":49885402,"question_id":46898,"body_markdown":"Use Java 8:\r\n\r\n    map.entrySet().forEach(entry -&gt; System.out.println(entry.getValue()));","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Use Java 8:</p>\n\n<pre><code>map.entrySet().forEach(entry -&gt; System.out.println(entry.getValue()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":241831,"reputation":10215,"user_id":512907,"accept_rate":88,"display_name":"bluehallu"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1524141140,"creation_date":1524141140,"answer_id":49921231,"question_id":46898,"body_markdown":"Most compact with Java 8:\r\n\r\n    map.entrySet().forEach(System.out::println);\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Most compact with Java 8:</p>\n\n<pre><code>map.entrySet().forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6177253,"reputation":3107,"user_id":4813777,"display_name":"Taras Melnyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1589533770,"creation_date":1525346707,"answer_id":50153908,"question_id":46898,"body_markdown":"With **Java 8**, you can iterate Map using forEach and lambda expression,\r\n\r\n    map.forEach((k, v) -&gt; System.out.println((k + &quot;:&quot; + v)));","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>With <strong>Java 8</strong>, you can iterate Map using forEach and lambda expression,</p>\n\n<pre><code>map.forEach((k, v) -&gt; System.out.println((k + \":\" + v)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7588122,"reputation":961,"user_id":5756557,"display_name":"anandchaugule"},"comment_count":0,"down_vote_count":3,"up_vote_count":18,"is_accepted":false,"score":15,"last_activity_date":1688556263,"creation_date":1543314287,"answer_id":53497541,"question_id":46898,"body_markdown":"An effective iterative solution over a Map is a `for` loop from Java 5 through Java 7. Here it is:\r\n\r\n    for (String key : phnMap.keySet()) {\r\n        System.out.println(&quot;Key: &quot; + key + &quot; Value: &quot; + phnMap.get(key));\r\n    }\r\n\r\nFrom Java 8, you can use a lambda expression to iterate over a Map. It is an enhanced `forEach`\r\n\r\n    phnMap.forEach((k,v) -&gt; System.out.println(&quot;Key: &quot; + k + &quot; Value: &quot; + v));\r\n\r\nIf you want to write a conditional for lambda you can write it like this:\r\n\r\n    phnMap.forEach((k,v) -&gt; {\r\n        System.out.println(&quot;Key: &quot; + k + &quot; Value: &quot; + v);\r\n        if (&quot;abc&quot;.equals(k)) {\r\n            System.out.println(&quot;Hello abc&quot;);\r\n        }\r\n    });\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>An effective iterative solution over a Map is a <code>for</code> loop from Java 5 through Java 7. Here it is:</p>\n<pre><code>for (String key : phnMap.keySet()) {\n    System.out.println(&quot;Key: &quot; + key + &quot; Value: &quot; + phnMap.get(key));\n}\n</code></pre>\n<p>From Java 8, you can use a lambda expression to iterate over a Map. It is an enhanced <code>forEach</code></p>\n<pre><code>phnMap.forEach((k,v) -&gt; System.out.println(&quot;Key: &quot; + k + &quot; Value: &quot; + v));\n</code></pre>\n<p>If you want to write a conditional for lambda you can write it like this:</p>\n<pre><code>phnMap.forEach((k,v) -&gt; {\n    System.out.println(&quot;Key: &quot; + k + &quot; Value: &quot; + v);\n    if (&quot;abc&quot;.equals(k)) {\n        System.out.println(&quot;Hello abc&quot;);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1098063"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688556538,"creation_date":1559764607,"answer_id":56467159,"question_id":46898,"body_markdown":"I like to concat a counter, then save the final value of the counter;\r\n\r\n    int counter = 0;\r\n    HashMap&lt;String, String&gt; m = new HashMap&lt;String, String&gt;();\r\n    for (int i = 0; i &lt; items.length; i++)\r\n    {\r\n        m.put(&quot;firstname&quot; + i, items.get(i).getFirstName());\r\n        counter = i;\r\n    }\r\n    \r\n    m.put(&quot;recordCount&quot;, String.valueOf(counter));\r\n\r\n\r\nThen when you want to retrieve:\r\n\r\n    int recordCount = Integer.parseInf(m.get(&quot;recordCount&quot;));\r\n    for (int i = 0; i &lt; recordCount; i++)\r\n    {\r\n        System.out.println(&quot;First Name :&quot; + m.get(&quot;firstname&quot; + i));\r\n    }","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>I like to concat a counter, then save the final value of the counter;</p>\n<pre><code>int counter = 0;\nHashMap&lt;String, String&gt; m = new HashMap&lt;String, String&gt;();\nfor (int i = 0; i &lt; items.length; i++)\n{\n    m.put(&quot;firstname&quot; + i, items.get(i).getFirstName());\n    counter = i;\n}\n\nm.put(&quot;recordCount&quot;, String.valueOf(counter));\n</code></pre>\n<p>Then when you want to retrieve:</p>\n<pre><code>int recordCount = Integer.parseInf(m.get(&quot;recordCount&quot;));\nfor (int i = 0; i &lt; recordCount; i++)\n{\n    System.out.println(&quot;First Name :&quot; + m.get(&quot;firstname&quot; + i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1564731038,"creation_date":1564731038,"answer_id":57321787,"question_id":46898,"body_markdown":"&gt; Using  Java 7\r\n\r\n    Map&lt;String,String&gt; sampleMap = new HashMap&lt;&gt;();\r\n    for (sampleMap.Entry&lt;String,String&gt; entry : sampleMap.entrySet()) {\r\n        String key = entry.getKey();\r\n        String value = entry.getValue();\r\n        \r\n    \t/* your Code as per the Business Justification  */\r\n    \t\r\n    }\r\n\r\n&gt; Using Java 8\r\n\r\n\r\n    Map&lt;String,String&gt; sampleMap = new HashMap&lt;&gt;();\r\n    \r\n    sampleMap.forEach((k, v) -&gt; System.out.println(&quot;Key is :  &quot; + k + &quot; Value is :  &quot; + v));","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<blockquote>\n  <p>Using  Java 7</p>\n</blockquote>\n\n<pre><code>Map&lt;String,String&gt; sampleMap = new HashMap&lt;&gt;();\nfor (sampleMap.Entry&lt;String,String&gt; entry : sampleMap.entrySet()) {\n    String key = entry.getKey();\n    String value = entry.getValue();\n\n    /* your Code as per the Business Justification  */\n\n}\n</code></pre>\n\n<blockquote>\n  <p>Using Java 8</p>\n</blockquote>\n\n<pre><code>Map&lt;String,String&gt; sampleMap = new HashMap&lt;&gt;();\n\nsampleMap.forEach((k, v) -&gt; System.out.println(\"Key is :  \" + k + \" Value is :  \" + v));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":1,"creation_date":1581878541,"post_id":58574145,"comment_id":106575127,"body_markdown":"Late comment on an answer that&#39;s also late to the party (but very informative). +1 from me for mentioning `EnumMap`, since it&#39;s the first time I&#39;ve heard of it. There&#39;s probably many cases where this might come in handy.","body":"Late comment on an answer that&#39;s also late to the party (but very informative). +1 from me for mentioning <code>EnumMap</code>, since it&#39;s the first time I&#39;ve heard of it. There&#39;s probably many cases where this might come in handy."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1586756346,"creation_date":1572119097,"answer_id":58574145,"question_id":46898,"body_markdown":"&gt;If I have an object implementing the Map interface in Java and I wish to iterate over every pair contained within it, what is the most efficient way of going through the map?\r\n\r\nIf efficiency of looping the keys is a priority for your app, then choose a `Map` implementation that maintains the keys in your desired order.\r\n\r\n&gt;Will the ordering of elements depend on the specific map implementation that I have for the interface?\r\n\r\nYes, absolutely. \r\n\r\n - Some `Map` implementations promise a certain iteration order, others do not.\r\n - Different implementations of `Map` maintain different ordering of the key-value pairs. \r\n\r\nSee this table I created summarizing the various `Map` implementations bundled with Java 11. Specifically, notice the *iteration order* column. Click/tap to zoom.\r\n\r\n\r\n[![Table of map implementations in Java 11, comparing their features][2]][2]\r\n\r\nYou can see there are **four `Map` implementations maintaining an order**:\r\n\r\n - `TreeMap`\r\n - `ConcurrentSkipListMap` \r\n - `LinkedHashMap`\r\n - `EnumMap`\r\n\r\n## `NavigableMap` interface\r\n\r\nTwo of those implement the [`NavigableMap`][3] interface: `TreeMap` &amp; `ConcurrentSkipListMap`. \r\n\r\nThe older [`SortedMap`][4] interface is effectively supplanted by the newer [`NavigableMap`][3] interface. But you may find 3rd-party implementations implementing the older interface only.\r\n\r\n## Natural order\r\n\r\nIf you want a [`Map`][5] that keeps its pairs arranged by the “natural order” of the key, use [`TreeMap`][6] or [`ConcurrentSkipListMap`][7]. The term “natural order” means the class of the keys implements [`Comparable`][8]. The value returned by the [`compareTo`][9] method is used for comparison in sorting.\r\n\r\n## Custom order\r\n\r\nIf you want to specify a custom sorting routine for your keys to be used in maintaining a sorted order, pass a [`Comparator`][10] implementation appropriate to the class of your keys. Use either [`TreeMap`][6] or [`ConcurrentSkipListMap`][7], passing your `Comparator`. \r\n\r\n## Original insertion order\r\n\r\nIf you want the pairs of your map to be kept in their original order in which you inserted them into the map, use [`LinkedHashMap`][11]. \r\n\r\n## Enum-definition order\r\n\r\nIf you are using an enum such as [`DayOfWeek`][12] or [`Month`][13] as your keys, use the [`EnumMap`][14] class. Not only is this class *highly* optimized to use very little memory and run very fast, it maintains your pairs in the order defined by the enum. For `DayOfWeek`, for example, the key of `DayOfWeek.MONDAY` will be first found when iterated, and the key of `DayOfWeek.SUNDAY` will be last.\r\n\r\n## Other considerations\r\n\r\nIn choosing a `Map` implementation, also consider:\r\n\r\n - NULLs. Some implementations forbid/accept a NULL as key and/or value. \r\n - Concurrency. If you are manipulating the map across threads, you must use an implementation that supports concurrency. Or wrap the map with [`Collections::synchronizedMap`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#synchronizedMap(java.util.Map)) (less preferable). \r\n\r\nBoth of these considerations are covered in the graphic table above.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/47xJF.png\r\n  [2]: https://i.stack.imgur.com/4z5Fb.png\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\r\n  [6]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeMap.html\r\n  [7]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\r\n  [8]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html\r\n  [9]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\r\n  [10]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\r\n  [11]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashMap.html\r\n  [12]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/DayOfWeek.html\r\n  [13]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html\r\n  [14]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumMap.html","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<blockquote>\n  <p>If I have an object implementing the Map interface in Java and I wish to iterate over every pair contained within it, what is the most efficient way of going through the map?</p>\n</blockquote>\n\n<p>If efficiency of looping the keys is a priority for your app, then choose a <code>Map</code> implementation that maintains the keys in your desired order.</p>\n\n<blockquote>\n  <p>Will the ordering of elements depend on the specific map implementation that I have for the interface?</p>\n</blockquote>\n\n<p>Yes, absolutely. </p>\n\n<ul>\n<li>Some <code>Map</code> implementations promise a certain iteration order, others do not.</li>\n<li>Different implementations of <code>Map</code> maintain different ordering of the key-value pairs. </li>\n</ul>\n\n<p>See this table I created summarizing the various <code>Map</code> implementations bundled with Java 11. Specifically, notice the <em>iteration order</em> column. Click/tap to zoom.</p>\n\n<p><a href=\"https://i.stack.imgur.com/4z5Fb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4z5Fb.png\" alt=\"Table of map implementations in Java 11, comparing their features\"></a></p>\n\n<p>You can see there are <strong>four <code>Map</code> implementations maintaining an order</strong>:</p>\n\n<ul>\n<li><code>TreeMap</code></li>\n<li><code>ConcurrentSkipListMap</code> </li>\n<li><code>LinkedHashMap</code></li>\n<li><code>EnumMap</code></li>\n</ul>\n\n<h2><code>NavigableMap</code> interface</h2>\n\n<p>Two of those implement the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\" rel=\"noreferrer\"><code>NavigableMap</code></a> interface: <code>TreeMap</code> &amp; <code>ConcurrentSkipListMap</code>. </p>\n\n<p>The older <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/SortedMap.html\" rel=\"noreferrer\"><code>SortedMap</code></a> interface is effectively supplanted by the newer <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/NavigableMap.html\" rel=\"noreferrer\"><code>NavigableMap</code></a> interface. But you may find 3rd-party implementations implementing the older interface only.</p>\n\n<h2>Natural order</h2>\n\n<p>If you want a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> that keeps its pairs arranged by the “natural order” of the key, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeMap.html\" rel=\"noreferrer\"><code>TreeMap</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"noreferrer\"><code>ConcurrentSkipListMap</code></a>. The term “natural order” means the class of the keys implements <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html\" rel=\"noreferrer\"><code>Comparable</code></a>. The value returned by the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\" rel=\"noreferrer\"><code>compareTo</code></a> method is used for comparison in sorting.</p>\n\n<h2>Custom order</h2>\n\n<p>If you want to specify a custom sorting routine for your keys to be used in maintaining a sorted order, pass a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code></a> implementation appropriate to the class of your keys. Use either <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/TreeMap.html\" rel=\"noreferrer\"><code>TreeMap</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"noreferrer\"><code>ConcurrentSkipListMap</code></a>, passing your <code>Comparator</code>. </p>\n\n<h2>Original insertion order</h2>\n\n<p>If you want the pairs of your map to be kept in their original order in which you inserted them into the map, use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LinkedHashMap.html\" rel=\"noreferrer\"><code>LinkedHashMap</code></a>. </p>\n\n<h2>Enum-definition order</h2>\n\n<p>If you are using an enum such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/DayOfWeek.html\" rel=\"noreferrer\"><code>DayOfWeek</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Month.html\" rel=\"noreferrer\"><code>Month</code></a> as your keys, use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumMap.html\" rel=\"noreferrer\"><code>EnumMap</code></a> class. Not only is this class <em>highly</em> optimized to use very little memory and run very fast, it maintains your pairs in the order defined by the enum. For <code>DayOfWeek</code>, for example, the key of <code>DayOfWeek.MONDAY</code> will be first found when iterated, and the key of <code>DayOfWeek.SUNDAY</code> will be last.</p>\n\n<h2>Other considerations</h2>\n\n<p>In choosing a <code>Map</code> implementation, also consider:</p>\n\n<ul>\n<li>NULLs. Some implementations forbid/accept a NULL as key and/or value. </li>\n<li>Concurrency. If you are manipulating the map across threads, you must use an implementation that supports concurrency. Or wrap the map with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collections.html#synchronizedMap(java.util.Map)\" rel=\"noreferrer\"><code>Collections::synchronizedMap</code></a> (less preferable). </li>\n</ul>\n\n<p>Both of these considerations are covered in the graphic table above.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1578297081,"post_id":59608364,"comment_id":105380313,"body_markdown":"This was covered in the [Answer by Lova Chittumuri](https://stackoverflow.com/a/57321787/642706). Also covered as item # 3 in the highly-upvoted [Answer by Viacheslav Vedenin](https://stackoverflow.com/a/35558955/642706).","body":"This was covered in the <a href=\"https://stackoverflow.com/a/57321787/642706\">Answer by Lova Chittumuri</a>. Also covered as item # 3 in the highly-upvoted <a href=\"https://stackoverflow.com/a/35558955/642706\">Answer by Viacheslav Vedenin</a>."},{"owner":{"account_id":4500973,"reputation":395,"user_id":3659492,"accept_rate":78,"display_name":"Mahbubur Rahman Khan"},"score":0,"creation_date":1583445734,"post_id":59608364,"comment_id":107129815,"body_markdown":"But only available in API label 24","body":"But only available in API label 24"}],"tags":[],"owner":{"account_id":5445664,"reputation":4925,"user_id":4332316,"accept_rate":20,"display_name":"Ali Akram"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1688556404,"creation_date":1578296646,"answer_id":59608364,"question_id":46898,"body_markdown":"# `Map.forEach`\r\n\r\nWhat about simply using [`Map::forEach`][1] where both the key and the value are passed to your [`BiConsumer`][2]?\r\n\r\n    map.forEach((k,v) -&gt; {\r\n        System.out.println(k + &quot;-&gt;&quot; + v);\r\n    });\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#forEach(java.util.function.BiConsumer)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/BiConsumer.html","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<h1><code>Map.forEach</code></h1>\n<p>What about simply using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#forEach(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>Map::forEach</code></a> where both the key and the value are passed to your <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/BiConsumer.html\" rel=\"nofollow noreferrer\"><code>BiConsumer</code></a>?</p>\n<pre><code>map.forEach((k,v) -&gt; {\n    System.out.println(k + &quot;-&gt;&quot; + v);\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1592169562,"creation_date":1592169562,"answer_id":62378360,"question_id":46898,"body_markdown":"Since Java 10, you can use local variable inference (a.k.a. &quot;var&quot;) to make a lot of the already available answers less bloated. For example:\r\n\r\n```java\r\nfor (var entry : map.entrySet()) {\r\n    System.out.println(entry.getKey() + &quot; : &quot; + entry.getValue());\r\n}\r\n```","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>Since Java 10, you can use local variable inference (a.k.a. \"var\") to make a lot of the already available answers less bloated. For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>for (var entry : map.entrySet()) {\n    System.out.println(entry.getKey() + \" : \" + entry.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12950339,"reputation":137,"user_id":9363081,"display_name":"Dubstep"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600210429,"creation_date":1600210429,"answer_id":63910874,"question_id":46898,"body_markdown":"```\r\nMap&lt;String, String&gt; map = \r\nfor (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n    MapKey = entry.getKey() \r\n    MapValue = entry.getValue();\r\n}\r\n```","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<pre><code>Map&lt;String, String&gt; map = \nfor (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\n    MapKey = entry.getKey() \n    MapValue = entry.getValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13717415,"reputation":1385,"user_id":9898251,"display_name":"Badri Paudel"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1688556838,"creation_date":1610381067,"answer_id":65670377,"question_id":46898,"body_markdown":"You can search for the key and with the help of the key you can find the associated value of the map as the map has **unique key**, see what happens when the key is duplicated [here][1] or [here][2].\r\n\r\nDemo map : \r\n\r\n```java\r\n    Map&lt;String, String&gt; map = new HashMap();\r\n    map.put(&quot;name&quot;, &quot;Name&quot;);\r\n    map.put(&quot;age&quot;, &quot;23&quot;);\r\n    map.put(&quot;address&quot;, &quot;NP&quot;);\r\n    map.put(&quot;faculty&quot;, &quot;BE&quot;);\r\n    map.put(&quot;major&quot;, &quot;CS&quot;);\r\n    map.put(&quot;head&quot;, &quot;MDK&quot;);\r\n```     \r\n\r\nTo get the key only, you can use `map.keySet();` like this :\r\n\r\n```java\r\n    for (String key : map.keySet()) {\r\n        System.out.println(key);\r\n    }\r\n```\r\n\r\nTo get value only, you can use `map.values();` like this:\r\n\r\n```java\r\n    for (String value : map.values()) {\r\n        System.out.println(value);\r\n    }\r\n```\r\n\r\nTo get both the key and its value, you still can use `map.keySet();` and get its corresponding value, like this: \r\n\r\n```java\r\n    // this prints the key + value pair\r\n    for (String k : map.keySet()) {\r\n        System.out.println(k + &quot; &quot; + map.get(k) + &quot; &quot;);\r\n    }\r\n```\r\n\r\n`map.get(key)` gives the value pointed by that key. \r\n\r\n   \r\n\r\n  [1]: https://stackoverflow.com/a/20537942/9898251\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html#put%28K,%20V%29","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>You can search for the key and with the help of the key you can find the associated value of the map as the map has <strong>unique key</strong>, see what happens when the key is duplicated <a href=\"https://stackoverflow.com/a/20537942/9898251\">here</a> or <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html#put%28K,%20V%29\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Demo map :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Map&lt;String, String&gt; map = new HashMap();\n    map.put(&quot;name&quot;, &quot;Name&quot;);\n    map.put(&quot;age&quot;, &quot;23&quot;);\n    map.put(&quot;address&quot;, &quot;NP&quot;);\n    map.put(&quot;faculty&quot;, &quot;BE&quot;);\n    map.put(&quot;major&quot;, &quot;CS&quot;);\n    map.put(&quot;head&quot;, &quot;MDK&quot;);\n</code></pre>\n<p>To get the key only, you can use <code>map.keySet();</code> like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (String key : map.keySet()) {\n        System.out.println(key);\n    }\n</code></pre>\n<p>To get value only, you can use <code>map.values();</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (String value : map.values()) {\n        System.out.println(value);\n    }\n</code></pre>\n<p>To get both the key and its value, you still can use <code>map.keySet();</code> and get its corresponding value, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // this prints the key + value pair\n    for (String k : map.keySet()) {\n        System.out.println(k + &quot; &quot; + map.get(k) + &quot; &quot;);\n    }\n</code></pre>\n<p><code>map.get(key)</code> gives the value pointed by that key.</p>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1688555875,"creation_date":1632929717,"answer_id":69379440,"question_id":46898,"body_markdown":"These are all the possible ways of iterating HashMap.\r\n\r\n    HashMap&lt;Integer,String&gt; map = new HashMap&lt;Integer,String&gt;();\r\n        map.put(1, &quot;David&quot;); // Adding elements to Map\r\n        map.put(2, &quot;John&quot;);\r\n        map.put(4, &quot;Samyuktha&quot;);\r\n        map.put(3, &quot;jasmin&quot;);\r\n        System.out.println(&quot;Iterating Hashmap...&quot;);\r\n\r\n        // way 1 (java 8 Method)\r\n        map.forEach((key, value) -&gt; {\r\n            System.out.println(key + &quot; : &quot; + value);\r\n        });\r\n\r\n        // way 2 (java 7 Method)\r\n        for (Map.Entry me : map.entrySet()) {\r\n            System.out.println(me.getKey() + &quot; : &quot; + me.getValue());\r\n        }\r\n\r\n        // way 3 (java 6 Method)\r\n        for (Integer key : map.keySet()) {\r\n            System.out.println(map.get(key));\r\n        }\r\n\r\n        // way 4 (Legacy way to iterate HashMap)\r\n        Iterator iterator = map.entrySet().iterator(); // map.keySet().iterator()\r\n        while (iterator.hasNext())\r\n        {\r\n            Map.Entry me = (Map.Entry)iterator.next();\r\n            System.out.println(me.getKey() + &quot; : &quot; + me.getValue());\r\n        }   \r\n    }","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>These are all the possible ways of iterating HashMap.</p>\n<pre><code>HashMap&lt;Integer,String&gt; map = new HashMap&lt;Integer,String&gt;();\n    map.put(1, &quot;David&quot;); // Adding elements to Map\n    map.put(2, &quot;John&quot;);\n    map.put(4, &quot;Samyuktha&quot;);\n    map.put(3, &quot;jasmin&quot;);\n    System.out.println(&quot;Iterating Hashmap...&quot;);\n\n    // way 1 (java 8 Method)\n    map.forEach((key, value) -&gt; {\n        System.out.println(key + &quot; : &quot; + value);\n    });\n\n    // way 2 (java 7 Method)\n    for (Map.Entry me : map.entrySet()) {\n        System.out.println(me.getKey() + &quot; : &quot; + me.getValue());\n    }\n\n    // way 3 (java 6 Method)\n    for (Integer key : map.keySet()) {\n        System.out.println(map.get(key));\n    }\n\n    // way 4 (Legacy way to iterate HashMap)\n    Iterator iterator = map.entrySet().iterator(); // map.keySet().iterator()\n    while (iterator.hasNext())\n    {\n        Map.Entry me = (Map.Entry)iterator.next();\n        System.out.println(me.getKey() + &quot; : &quot; + me.getValue());\n    }   \n}\n</code></pre>\n"}],"owner":{"account_id":3336,"reputation":38531,"user_id":4807,"accept_rate":43,"display_name":"iMack"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3309212,"favorite_count":0,"down_vote_count":11,"up_vote_count":3973,"accepted_answer_id":46908,"answer_count":45,"score":3962,"last_activity_date":1688557130,"creation_date":1220649168,"question_id":46898,"body_markdown":"If I have an object implementing the `Map` interface in Java and I wish to iterate over every pair contained within it,  what is the most efficient way of going through the map?\r\n\r\nWill the ordering of elements depend on the specific map implementation that I have for the interface?\r\n\r\n","title":"How do I efficiently iterate over each entry in a Java Map?","body":"<p>If I have an object implementing the <code>Map</code> interface in Java and I wish to iterate over every pair contained within it,  what is the most efficient way of going through the map?</p>\n\n<p>Will the ordering of elements depend on the specific map implementation that I have for the interface?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":119118,"reputation":6072,"user_id":310606,"accept_rate":74,"display_name":"John Deverall"},"score":0,"creation_date":1577758811,"post_id":59449430,"comment_id":105247710,"body_markdown":"I am having some (early initial but not guaranteed) success using jdeps tool (ships with java8 +) and some visualisation of the dot output that it generates. No solid solution yet though.","body":"I am having some (early initial but not guaranteed) success using jdeps tool (ships with java8 +) and some visualisation of the dot output that it generates. No solid solution yet though."}],"answers":[{"tags":[],"owner":{"account_id":28954257,"reputation":1,"user_id":22178143,"display_name":"Oliver Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688556767,"creation_date":1688548041,"answer_id":76618771,"question_id":59449430,"body_markdown":"Yes, there is a tool called JCCI that can help you, and I&#39;m the author and start opening recently,\r\npypi: https://pypi.org/project/jcci/\r\ngithub: https://github.com/baikaishuipp/jcci\r\n\r\nthere is a sample result:[jcci result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cNeAy.png","title":"How do I tell when my &#39;API contract&#39; has changed using static analysis? (legacy spring-mvc / jsp application)","body":"<p>Yes, there is a tool called JCCI that can help you, and I'm the author and start opening recently,\npypi: <a href=\"https://pypi.org/project/jcci/\" rel=\"nofollow noreferrer\">https://pypi.org/project/jcci/</a>\ngithub: <a href=\"https://github.com/baikaishuipp/jcci\" rel=\"nofollow noreferrer\">https://github.com/baikaishuipp/jcci</a></p>\n<p>there is a sample result:<a href=\"https://i.stack.imgur.com/cNeAy.png\" rel=\"nofollow noreferrer\">jcci result</a></p>\n"}],"owner":{"account_id":119118,"reputation":6072,"user_id":310606,"accept_rate":74,"display_name":"John Deverall"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1688556767,"creation_date":1577066220,"question_id":59449430,"body_markdown":"I am working on a legacy java application that uses spring-mvc with jsp. \r\n\r\nIn order to provide more robust testing guidance / change impact analysis, I&#39;d like to know when any class is changed that is depended upon by a spring-mvc controller. \r\n\r\nAlmost all methods in all classes in the system have a call hierarchy that eventually ends with one or more controller endpoints, and it is these controller endpoints I want to identify when a change is made in order to provide better test guidance. \r\n\r\nFor example: \r\n\r\n`MyRepository` class is depended upon by `MyService` class, which is depended on by `MyServiceFacade` class, which is depended on by `MyManager` class, which is depended upon by `MyController` class and then the endpoint method defined in `MyController` class. \r\n\r\nI want to be able to run static analysis to show `MyEndpoint` method `@RequestMapping` annotation if I change `MyRepository` or any other class depended upon by a method annotated with `@RequestMapping` (or similar annotations). \r\n\r\nI could probably build tooling myself to achieve this, but I&#39;m curious to know whether anyone has any tips on how to achieve this already with say, an IDE, an existing static analysis tool, analysis tool of some type or anything similar. \r\n\r\n\r\n\r\n\r\n\r\n ","title":"How do I tell when my &#39;API contract&#39; has changed using static analysis? (legacy spring-mvc / jsp application)","body":"<p>I am working on a legacy java application that uses spring-mvc with jsp. </p>\n\n<p>In order to provide more robust testing guidance / change impact analysis, I'd like to know when any class is changed that is depended upon by a spring-mvc controller. </p>\n\n<p>Almost all methods in all classes in the system have a call hierarchy that eventually ends with one or more controller endpoints, and it is these controller endpoints I want to identify when a change is made in order to provide better test guidance. </p>\n\n<p>For example: </p>\n\n<p><code>MyRepository</code> class is depended upon by <code>MyService</code> class, which is depended on by <code>MyServiceFacade</code> class, which is depended on by <code>MyManager</code> class, which is depended upon by <code>MyController</code> class and then the endpoint method defined in <code>MyController</code> class. </p>\n\n<p>I want to be able to run static analysis to show <code>MyEndpoint</code> method <code>@RequestMapping</code> annotation if I change <code>MyRepository</code> or any other class depended upon by a method annotated with <code>@RequestMapping</code> (or similar annotations). </p>\n\n<p>I could probably build tooling myself to achieve this, but I'm curious to know whether anyone has any tips on how to achieve this already with say, an IDE, an existing static analysis tool, analysis tool of some type or anything similar. </p>\n"},{"tags":["java","postgresql","hibernate","maven","jhipster"],"comments":[{"owner":{"account_id":7030463,"reputation":96,"user_id":5386366,"display_name":"jelharou"},"score":0,"creation_date":1688573223,"post_id":76618961,"comment_id":135092583,"body_markdown":"How did you regenerate the project?  In a clean directory, from the same jdl file?  You can confirm the jhipster version: `jhipster --version` and get more confiugration details `jhipster --info`","body":"How did you regenerate the project?  In a clean directory, from the same jdl file?  You can confirm the jhipster version: <code>jhipster --version</code> and get more confiugration details <code>jhipster --info</code>"},{"owner":{"account_id":15052527,"reputation":95,"user_id":10863842,"display_name":"Diana"},"score":0,"creation_date":1688622671,"post_id":76618961,"comment_id":135098767,"body_markdown":"Yes, and the version is correct - 7.9.3.","body":"Yes, and the version is correct - 7.9.3."},{"owner":{"account_id":7030463,"reputation":96,"user_id":5386366,"display_name":"jelharou"},"score":0,"creation_date":1688635333,"post_id":76618961,"comment_id":135101277,"body_markdown":"You may have some of the 8.0 dependencies cached and they are not compatible with 7.9.3  .  Can you try clearing your maven cache?","body":"You may have some of the 8.0 dependencies cached and they are not compatible with 7.9.3  .  Can you try clearing your maven cache?"}],"owner":{"account_id":15052527,"reputation":95,"user_id":10863842,"display_name":"Diana"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688556544,"creation_date":1688549308,"question_id":76618961,"body_markdown":"I recently had to uninstall JHipster and reinstall v7.9.3 since I was using v8.0.0 and it was using a version of Hibernate that was not working for me since I needed TypeDefs. However, after recreating my project, when I run ./mvnw, I get the following errors:\r\n\r\n```\r\n[ERROR] Project.java:[10,33] cannot find symbol\r\n  symbol:   class JdbcTypeCode\r\n  location: package org.hibernate.annotations\r\n[ERROR] Project.java:[11,26] cannot find symbol\r\n  symbol:   class SqlTypes\r\n  location: package org.hibernate.type\r\n[ERROR] ReviewResource.java:[146,89] cannot find symbol\r\n[ERROR]   symbol:   class ParameterObject\r\n[ERROR]   location: package org.springdoc.core.annotations\r\n[ERROR] ProjectResource.java:[146,91] cannot find symbol\r\n[ERROR]   symbol:   class ParameterObject\r\n[ERROR]   location: package org.springdoc.core.annotations\r\n```\r\n\r\nI have no idea how to resolve this. Any help?","title":"JHipster issue: Cannot find symbols for Entities, Tables","body":"<p>I recently had to uninstall JHipster and reinstall v7.9.3 since I was using v8.0.0 and it was using a version of Hibernate that was not working for me since I needed TypeDefs. However, after recreating my project, when I run ./mvnw, I get the following errors:</p>\n<pre><code>[ERROR] Project.java:[10,33] cannot find symbol\n  symbol:   class JdbcTypeCode\n  location: package org.hibernate.annotations\n[ERROR] Project.java:[11,26] cannot find symbol\n  symbol:   class SqlTypes\n  location: package org.hibernate.type\n[ERROR] ReviewResource.java:[146,89] cannot find symbol\n[ERROR]   symbol:   class ParameterObject\n[ERROR]   location: package org.springdoc.core.annotations\n[ERROR] ProjectResource.java:[146,91] cannot find symbol\n[ERROR]   symbol:   class ParameterObject\n[ERROR]   location: package org.springdoc.core.annotations\n</code></pre>\n<p>I have no idea how to resolve this. Any help?</p>\n"},{"tags":["java","sharepoint","graphserviceclient"],"owner":{"account_id":19890160,"reputation":91,"user_id":15374972,"display_name":"Java"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688556408,"creation_date":1688556408,"question_id":76619862,"body_markdown":"I need to retrieve the metadata of all documents in a specific folder in our corporate SharePoint. I use GraphServiceClient for it. I have already created this client adding clientId, clientSecret, and tenantId  but I can&#39;t  find the right way to get necessary documents\r\n\r\nMy sharePoint link to these documents looks like\r\nhttps://company.sharepoint.com/sites/CompanyName/Shared%20Documents/Forms/AllItems.aspx?ga=1&amp;id=%2Fsites%2FCompany%2DName%2Fshared%20Documents%2FCompany%20Data\r\n\r\nI found next way to do it\r\n\r\n    DriveItemCollectionPage driveItems = graphClient.sites(siteId).drives(driveId).root().children().buildRequest().get();\r\n\r\nBut it doesn&#39;t work for me.\r\nI have never worked with this lib before, so any help will be very helpful\r\n","title":"How to retrieve documents from a specific folder in SharePoint using GraphServiceClient?","body":"<p>I need to retrieve the metadata of all documents in a specific folder in our corporate SharePoint. I use GraphServiceClient for it. I have already created this client adding clientId, clientSecret, and tenantId  but I can't  find the right way to get necessary documents</p>\n<p>My sharePoint link to these documents looks like\n<a href=\"https://company.sharepoint.com/sites/CompanyName/Shared%20Documents/Forms/AllItems.aspx?ga=1&amp;id=%2Fsites%2FCompany%2DName%2Fshared%20Documents%2FCompany%20Data\" rel=\"nofollow noreferrer\">https://company.sharepoint.com/sites/CompanyName/Shared%20Documents/Forms/AllItems.aspx?ga=1&amp;id=%2Fsites%2FCompany%2DName%2Fshared%20Documents%2FCompany%20Data</a></p>\n<p>I found next way to do it</p>\n<pre><code>DriveItemCollectionPage driveItems = graphClient.sites(siteId).drives(driveId).root().children().buildRequest().get();\n</code></pre>\n<p>But it doesn't work for me.\nI have never worked with this lib before, so any help will be very helpful</p>\n"},{"tags":["java","android","android-source","android-jetpack","app-startup"],"comments":[{"owner":{"account_id":438563,"reputation":16902,"user_id":1511776,"accept_rate":92,"display_name":"hardartcore"},"score":0,"creation_date":1688557457,"post_id":76619855,"comment_id":135088501,"body_markdown":"You do not have a control over home button interactions inside from your code. I would suggest you to place the heavy operation inside a background thread and use some kind of UI trick to show that something is happening without blocking the main thread.","body":"You do not have a control over home button interactions inside from your code. I would suggest you to place the heavy operation inside a background thread and use some kind of UI trick to show that something is happening without blocking the main thread."},{"owner":{"account_id":2168732,"reputation":6884,"user_id":1921263,"accept_rate":61,"display_name":"Shadow"},"score":0,"creation_date":1688557576,"post_id":76619855,"comment_id":135088525,"body_markdown":"I have aosp source code. is it possible to change in aosp? @hardartcore","body":"I have aosp source code. is it possible to change in aosp? @hardartcore"},{"owner":{"account_id":7202511,"reputation":355,"user_id":5499287,"accept_rate":100,"display_name":"Tobias Lukoschek"},"score":1,"creation_date":1688557648,"post_id":76619855,"comment_id":135088543,"body_markdown":"it is a bad idea to run long running tasks in the ui thread. you should create a coroutine or use WorkManager for such tasks (https://developer.android.com/topic/libraries/architecture/workmanager) \nWhat do you excatly do in the onCreate function? The Activity should be used for UI topics. According to your description you violate against any architecture pattern like MVVM or MVC or any else...","body":"it is a bad idea to run long running tasks in the ui thread. you should create a coroutine or use WorkManager for such tasks (<a href=\"https://developer.android.com/topic/libraries/architecture/workmanager\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/workmana&zwnj;&#8203;ger</a>)  What do you excatly do in the onCreate function? The Activity should be used for UI topics. According to your description you violate against any architecture pattern like MVVM or MVC or any else..."},{"owner":{"account_id":2168732,"reputation":6884,"user_id":1921263,"accept_rate":61,"display_name":"Shadow"},"score":0,"creation_date":1688565079,"post_id":76619855,"comment_id":135090483,"body_markdown":"Actually it&#39;s client added source code. So should not change the code in application side but can change in frameworks code in aosp","body":"Actually it&#39;s client added source code. So should not change the code in application side but can change in frameworks code in aosp"},{"owner":{"account_id":7202511,"reputation":355,"user_id":5499287,"accept_rate":100,"display_name":"Tobias Lukoschek"},"score":1,"creation_date":1688621801,"post_id":76619855,"comment_id":135098657,"body_markdown":"@Shadow the main problem is as mentioned that you try to do long running tasks that should not be done on the ui thread but in any background thread. This is also a fact that you have to keep in mind when you change source code in the aosp.","body":"@Shadow the main problem is as mentioned that you try to do long running tasks that should not be done on the ui thread but in any background thread. This is also a fact that you have to keep in mind when you change source code in the aosp."}],"owner":{"account_id":2168732,"reputation":6884,"user_id":1921263,"accept_rate":61,"display_name":"Shadow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688556349,"creation_date":1688556349,"question_id":76619855,"body_markdown":"I have an application where in onCreate() function heavy operation is performed.\r\nThus when we launched an application, it displays white screen and then display the webview.\r\n\r\nNow client pressed the home screen when white screen is displayed. In this scenario, launcher is not displayed. The page is still in white screen.\r\n\r\nIn log,\r\n\r\n\t\r\n\r\n    05-04 17:36:06.237  2841 16533 I WindowManager: Not displayed: s=Surface(name=com.android.launcher/com.android.launcher3.Launcher)/@0x228707a pv=true mDrawState=1 ph=false th=false a=true\t\t\r\n\r\nI have framework source code,\r\n\r\n    path: frameworks/base/services/core/java/com/android/server/wm/AppWindowToken.java\t\t\t\t\t\r\n    \t\t\t\t\t\r\n    ﻿\t\t\t\t\t\r\n      boolean updateDrawnWindowStates(WindowState w) {\t\t\t\t\t\r\n    ..............\t\t\t\t\t\r\n    \t\t\t\t\t\r\n      if (!allDrawn &amp;&amp; w.mightAffectAllDrawn()) {\t\t\t\t\t\r\n                if (DEBUG_VISIBILITY || DEBUG_ORIENTATION) {\t\t\t\t\t\r\n                    Slog.v(TAG, &quot;Eval win &quot; + w + &quot;: isDrawn=&quot; + w.isDrawnLw()\t\t\t\t\t\r\n                            + &quot;, isAnimationSet=&quot; + isSelfAnimating());\t\t\t\t\t\r\n                    if (!w.isDrawnLw()) {\t\t\t\t\t\r\n                        Slog.v(TAG, &quot;Not displayed: s=&quot; + winAnimator.mSurfaceController\t\t\t\t\t\r\n                                + &quot; pv=&quot; + w.isVisibleByPolicy()\t\t\t\t\t\r\n                                + &quot; mDrawState=&quot; + winAnimator.drawStateToString()\t\t\t\t\t\r\n                                + &quot; ph=&quot; + w.isParentWindowHidden() + &quot; th=&quot; + hiddenRequested\t\t\t\t\t\r\n                                + &quot; a=&quot; + isSelfAnimating());\t\t\t\t\t\r\n                    }\t\t\t\t\t\r\n                }\t\t\t\t\t\r\n\t\t\t\r\nKindly let me know how to redirect to homescreen when home button is pressed during blank screen or white screen.\r\n","title":"How to go to Launcher screen when home button is clicked in application&#39;s white screen?","body":"<p>I have an application where in onCreate() function heavy operation is performed.\nThus when we launched an application, it displays white screen and then display the webview.</p>\n<p>Now client pressed the home screen when white screen is displayed. In this scenario, launcher is not displayed. The page is still in white screen.</p>\n<p>In log,</p>\n<pre><code>05-04 17:36:06.237  2841 16533 I WindowManager: Not displayed: s=Surface(name=com.android.launcher/com.android.launcher3.Launcher)/@0x228707a pv=true mDrawState=1 ph=false th=false a=true     \n</code></pre>\n<p>I have framework source code,</p>\n<pre><code>path: frameworks/base/services/core/java/com/android/server/wm/AppWindowToken.java                  \n                    \n﻿                   \n  boolean updateDrawnWindowStates(WindowState w) {                  \n..............                  \n                    \n  if (!allDrawn &amp;&amp; w.mightAffectAllDrawn()) {                   \n            if (DEBUG_VISIBILITY || DEBUG_ORIENTATION) {                    \n                Slog.v(TAG, &quot;Eval win &quot; + w + &quot;: isDrawn=&quot; + w.isDrawnLw()                  \n                        + &quot;, isAnimationSet=&quot; + isSelfAnimating());                 \n                if (!w.isDrawnLw()) {                   \n                    Slog.v(TAG, &quot;Not displayed: s=&quot; + winAnimator.mSurfaceController                    \n                            + &quot; pv=&quot; + w.isVisibleByPolicy()                    \n                            + &quot; mDrawState=&quot; + winAnimator.drawStateToString()                  \n                            + &quot; ph=&quot; + w.isParentWindowHidden() + &quot; th=&quot; + hiddenRequested                  \n                            + &quot; a=&quot; + isSelfAnimating());                   \n                }                   \n            }                   \n        \n</code></pre>\n<p>Kindly let me know how to redirect to homescreen when home button is pressed during blank screen or white screen.</p>\n"},{"tags":["java","optimization","bytecode","yourkit"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":1,"creation_date":1688501674,"post_id":76613424,"comment_id":135081521,"body_markdown":"Have you tried asking your question in the YourKit forum?","body":"Have you tried asking your question in the YourKit forum?"},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1688545162,"post_id":76613424,"comment_id":135086004,"body_markdown":"@boneill I&#39;ve not. Anyway, in this case I will have to prove somehow that the problem with profiler itself, not with the jvm.","body":"@boneill I&#39;ve not. Anyway, in this case I will have to prove somehow that the problem with profiler itself, not with the jvm."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1688545993,"post_id":76613424,"comment_id":135086169,"body_markdown":"This is not how a JIT compiler works. After the profiler injected the code, it’s part of the method and inlining the method implies retaining the behavior of the entire code, including the injected code.","body":"This is not how a JIT compiler works. After the profiler injected the code, it’s part of the method and inlining the method implies retaining the behavior of the entire code, including the injected code."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1688546693,"post_id":76613424,"comment_id":135086291,"body_markdown":"Apparently, YourKit has a filter for “trivial methods”. [This announcement](https://www.yourkit.com/changes/yjp_2016_02.jsp#:~:text=the%20range%20of%20trivial%20methods%20,%20extended) says that the version 2016.02 has extended the range of trivial methods which is a sign of the presence of such a filter, but I couldn’t find a description of the actual range (with my quick search). But a method solely returning `this.usd * 3` might qualify (while a method calling another method does not).","body":"Apparently, YourKit has a filter for “trivial methods”. <a href=\"https://www.yourkit.com/changes/yjp_2016_02.jsp#:~:text=the%20range%20of%20trivial%20methods%20,%20extended\" rel=\"nofollow noreferrer\">This announcement</a> says that the version 2016.02 has extended the range of trivial methods which is a sign of the presence of such a filter, but I couldn’t find a description of the actual range (with my quick search). But a method solely returning <code>this.usd * 3</code> might qualify (while a method calling another method does not)."}],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688555397,"creation_date":1688555397,"answer_id":76619754,"question_id":76613424,"body_markdown":"Firstly, I would like to express my gratitude to [Holger](https://stackoverflow.com/users/2711488/holger) and [boneill](https://stackoverflow.com/users/458561/boneill) for their help in pinpointing the original problem and in identifying the root cause of the issue.\r\n\r\nThe actual problem lies not with the JIT compiler or build optimizations. Holger&#39;s comment provides a clear and concise explanation of it:\r\n&gt;  This is not how a JIT compiler works. After the profiler injected the code, it is part of the method and inlining the method implies retaining the behaviour of the entire code, including the injected code. \r\n\r\nSo, the issue clearly lies with the YourKit profiler, which incorporates a concept of &quot;trivial methods&quot;. These methods are intentionally ignored during profiling in CPU tracing mode as a means to reduce profiling overhead: \r\n\r\n&gt; CPU profiling: the range of trivial methods like getters and setters excluded from CPU tracing instrumentation for performance consideration has been extended. Now it includes methods whose bytecode satisfies the following conditions:\r\n&gt; - does not exceed 32 bytes;\r\n&gt; - does not contain cycles;\r\n&gt; - contains only these instructions: load, store and other stack operations, field access, bit and arithmetic operations, comparison operations, return. In particular, this means that these methods cannot call other methods nor create objects.\r\n\r\nYou can find more information about this in the [YourKit profiler documentation](https://www.yourkit.com/changes/yjp_2015.jsp).\r\n\r\nIf we closely examine the generated bytecode of our method, we will come across the following statements:\r\n```bytecode\r\n  public price()I\r\n   L0\r\n    LINENUMBER 44 L0\r\n    ALOAD 0\r\n    GETFIELD verification/instances/InstanceOnly$Prime.usd : I\r\n    ICONST_3\r\n    IMUL\r\n    IRETURN\r\n   L1\r\n    LOCALVARIABLE this Lverification/instances/InstanceOnly$Prime; L0 L1 0\r\n    MAXSTACK = 2\r\n    MAXLOCALS = 1\r\n```\r\n\r\nWhich perfectly aligns with the characteristics of a &quot;trivial method&quot;. As a result, the `price()` method was not instrumented during profiling. To disable this behavior, you can utilize the `_instrument_all_methods` option in YourKit profiling. From the official docs:\r\n\r\n&gt; Note: to force instrumentation of these methods specify startup option `_instrument_all_methods`\r\n\r\nIn my case, I am using the CLI API to initiate profiling. Therefore, I am employing the following command to specify the desired startup option:\r\n\r\n```sh\r\njava -agentpath:$PROFILER_AGENT_PATH=_instrument_all_methods -jar $APPLICATION_JAR\r\n```\r\n\r\nYou can find further information on specifying YourKit startup options [here](https://www.yourkit.com/docs/java/help/startup_options.jsp).\r\n","title":"Difficulty profiling a Java application: Missing method in profiling results despite disabling optimizations. YourKit trivial method","body":"<p>Firstly, I would like to express my gratitude to <a href=\"https://stackoverflow.com/users/2711488/holger\">Holger</a> and <a href=\"https://stackoverflow.com/users/458561/boneill\">boneill</a> for their help in pinpointing the original problem and in identifying the root cause of the issue.</p>\n<p>The actual problem lies not with the JIT compiler or build optimizations. Holger's comment provides a clear and concise explanation of it:</p>\n<blockquote>\n<p>This is not how a JIT compiler works. After the profiler injected the code, it is part of the method and inlining the method implies retaining the behaviour of the entire code, including the injected code.</p>\n</blockquote>\n<p>So, the issue clearly lies with the YourKit profiler, which incorporates a concept of &quot;trivial methods&quot;. These methods are intentionally ignored during profiling in CPU tracing mode as a means to reduce profiling overhead:</p>\n<blockquote>\n<p>CPU profiling: the range of trivial methods like getters and setters excluded from CPU tracing instrumentation for performance consideration has been extended. Now it includes methods whose bytecode satisfies the following conditions:</p>\n<ul>\n<li>does not exceed 32 bytes;</li>\n<li>does not contain cycles;</li>\n<li>contains only these instructions: load, store and other stack operations, field access, bit and arithmetic operations, comparison operations, return. In particular, this means that these methods cannot call other methods nor create objects.</li>\n</ul>\n</blockquote>\n<p>You can find more information about this in the <a href=\"https://www.yourkit.com/changes/yjp_2015.jsp\" rel=\"nofollow noreferrer\">YourKit profiler documentation</a>.</p>\n<p>If we closely examine the generated bytecode of our method, we will come across the following statements:</p>\n<pre><code>  public price()I\n   L0\n    LINENUMBER 44 L0\n    ALOAD 0\n    GETFIELD verification/instances/InstanceOnly$Prime.usd : I\n    ICONST_3\n    IMUL\n    IRETURN\n   L1\n    LOCALVARIABLE this Lverification/instances/InstanceOnly$Prime; L0 L1 0\n    MAXSTACK = 2\n    MAXLOCALS = 1\n</code></pre>\n<p>Which perfectly aligns with the characteristics of a &quot;trivial method&quot;. As a result, the <code>price()</code> method was not instrumented during profiling. To disable this behavior, you can utilize the <code>_instrument_all_methods</code> option in YourKit profiling. From the official docs:</p>\n<blockquote>\n<p>Note: to force instrumentation of these methods specify startup option <code>_instrument_all_methods</code></p>\n</blockquote>\n<p>In my case, I am using the CLI API to initiate profiling. Therefore, I am employing the following command to specify the desired startup option:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -agentpath:$PROFILER_AGENT_PATH=_instrument_all_methods -jar $APPLICATION_JAR\n</code></pre>\n<p>You can find further information on specifying YourKit startup options <a href=\"https://www.yourkit.com/docs/java/help/startup_options.jsp\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76619754,"answer_count":1,"score":0,"last_activity_date":1688555517,"creation_date":1688479286,"question_id":76613424,"body_markdown":"Not so far ago I had been profiling an application and noticed an interesting optimization that applies to the compiled byte code.\r\n\r\nHere is my program:\r\n```java\r\npublic class InstanceOnly {\r\n\r\n    public static void main(final String[] args) throws InterruptedException {\r\n        int sum = 0;\r\n        for (int i = 0; i &lt; Integer.MAX_VALUE; ++i) {\r\n            Book b = new Discounted(new Prime(i));\r\n            sum += b.price();\r\n            Thread.sleep(10);\r\n        }\r\n        System.out.printf(&quot;Total: %d\\n&quot;, sum);\r\n    }\r\n\r\n    interface Book {\r\n        int price();\r\n    }\r\n\r\n    static class Discounted implements Book {\r\n        private final Book book;\r\n\r\n        Discounted(final Book b) {\r\n            this.book = b;\r\n        }\r\n\r\n        @Override\r\n        public int price() {\r\n            return this.book.price() / 2;\r\n        }\r\n    }\r\n\r\n    static class Prime implements Book {\r\n        private final int usd;\r\n\r\n        Prime(final int u) {\r\n            this.usd = u;\r\n        }\r\n\r\n        @Override\r\n        public int price() {\r\n            return this.usd * 3;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAs you might notice it is rather simple - we just use [decorator](https://en.wikipedia.org/wiki/Decorator_pattern) pattern here in order to calculate the total price of all books. The application will run very long time, so I have enough time to profile it. I’m using [YourKit](https://www.yourkit.com/docs/java-profiler/2023.5/help/tracing.jsp) java profiling which use bytecode instrumentation in order to get precise number of invocations of the each method. I profile the application during one minute and get the next results: \r\n```\r\n&quot;verification.instances.InstanceOnly.main(String[]) InstanceOnly.java&quot;,&quot;1&quot;\r\n&quot;java.lang.Thread.sleep(long) Thread.java (native)&quot;, &quot;5307&quot;\r\n&quot;verification.instances.InstanceOnly$Prime.&lt;init&gt;(int) InstanceOnly.java&quot;, &quot;5307&quot;\r\n&quot;verification.instances.InstanceOnly$Discounted.price() InstanceOnly.java&quot;,&quot;5307&quot;\r\n&quot;verification.instances.InstanceOnly$Discounted.&lt;init&gt;(InstanceOnly$Book) InstanceOnly.java&quot;,&quot;5307&quot;\r\n```\r\n\r\nBut where is the `verification.instances.InstanceOnly$Prime.price()` call? I can see that we only invoke the `Prime` constructor. I initially suspected that it might be a problem with `JIT` optimizations, where the method gets inlined. To address this, I disabled all optimizations by using the `-Djava.compiler=NONE` Java parameter. However, even with this configuration, the targeted method is still missing from the profiling results\r\n\r\nI also attempted to add a dummy statement like `System.out.println`: \r\n```java\r\n@Override\r\npublic int price() {\r\n   System.out.println(&quot;Dummy println&quot;);\r\n   return this.usd * 3;\r\n}\r\n```\r\nAnd only in this case did I finally observe the desired method:\r\n```java\r\nInstanceOnly$Prime.price() \r\n```\r\n\r\nSo, I&#39;m completely confused because I can&#39;t understand who is actually performing the optimization and how I can disable it to see the `InstanceOnly$Prime.price()` in the profiling results without adding dummy statements. Does anyone know what this could be?","title":"Difficulty profiling a Java application: Missing method in profiling results despite disabling optimizations. YourKit trivial method","body":"<p>Not so far ago I had been profiling an application and noticed an interesting optimization that applies to the compiled byte code.</p>\n<p>Here is my program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class InstanceOnly {\n\n    public static void main(final String[] args) throws InterruptedException {\n        int sum = 0;\n        for (int i = 0; i &lt; Integer.MAX_VALUE; ++i) {\n            Book b = new Discounted(new Prime(i));\n            sum += b.price();\n            Thread.sleep(10);\n        }\n        System.out.printf(&quot;Total: %d\\n&quot;, sum);\n    }\n\n    interface Book {\n        int price();\n    }\n\n    static class Discounted implements Book {\n        private final Book book;\n\n        Discounted(final Book b) {\n            this.book = b;\n        }\n\n        @Override\n        public int price() {\n            return this.book.price() / 2;\n        }\n    }\n\n    static class Prime implements Book {\n        private final int usd;\n\n        Prime(final int u) {\n            this.usd = u;\n        }\n\n        @Override\n        public int price() {\n            return this.usd * 3;\n        }\n    }\n}\n</code></pre>\n<p>As you might notice it is rather simple - we just use <a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\">decorator</a> pattern here in order to calculate the total price of all books. The application will run very long time, so I have enough time to profile it. I’m using <a href=\"https://www.yourkit.com/docs/java-profiler/2023.5/help/tracing.jsp\" rel=\"nofollow noreferrer\">YourKit</a> java profiling which use bytecode instrumentation in order to get precise number of invocations of the each method. I profile the application during one minute and get the next results:</p>\n<pre><code>&quot;verification.instances.InstanceOnly.main(String[]) InstanceOnly.java&quot;,&quot;1&quot;\n&quot;java.lang.Thread.sleep(long) Thread.java (native)&quot;, &quot;5307&quot;\n&quot;verification.instances.InstanceOnly$Prime.&lt;init&gt;(int) InstanceOnly.java&quot;, &quot;5307&quot;\n&quot;verification.instances.InstanceOnly$Discounted.price() InstanceOnly.java&quot;,&quot;5307&quot;\n&quot;verification.instances.InstanceOnly$Discounted.&lt;init&gt;(InstanceOnly$Book) InstanceOnly.java&quot;,&quot;5307&quot;\n</code></pre>\n<p>But where is the <code>verification.instances.InstanceOnly$Prime.price()</code> call? I can see that we only invoke the <code>Prime</code> constructor. I initially suspected that it might be a problem with <code>JIT</code> optimizations, where the method gets inlined. To address this, I disabled all optimizations by using the <code>-Djava.compiler=NONE</code> Java parameter. However, even with this configuration, the targeted method is still missing from the profiling results</p>\n<p>I also attempted to add a dummy statement like <code>System.out.println</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int price() {\n   System.out.println(&quot;Dummy println&quot;);\n   return this.usd * 3;\n}\n</code></pre>\n<p>And only in this case did I finally observe the desired method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InstanceOnly$Prime.price() \n</code></pre>\n<p>So, I'm completely confused because I can't understand who is actually performing the optimization and how I can disable it to see the <code>InstanceOnly$Prime.price()</code> in the profiling results without adding dummy statements. Does anyone know what this could be?</p>\n"},{"tags":["java","java-native-interface","swig","swig-typemap"],"owner":{"account_id":5973223,"reputation":29,"user_id":4694969,"display_name":"Sơn Đ&#224;m"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688555334,"creation_date":1688555334,"question_id":76619745,"body_markdown":"I&#39;m new to SWIG, I&#39;m using SWIG to generate a wrapper for a C++ library in Java. I have a C++ function `float sum(aVector2)`. In my Java code, I want to pass two float values (x, y) to generated wrapper instead of creating an `aVector2` object. I want achieve this becaue I can&#39;t use `aVector2` later in Java code. I have to use lets say `Vector2` java class, then if map `Vector2` to `aVector2` I need to make calls to FindClass(), GetFieldID(), GetMethodId(), etc. I just want to avoid that to take better performance or at least I think I would gain some performance from that, or If I&#39;m wrong please tell me, thank you.\r\n\r\n\r\nI&#39;ve tried defining `%typemap` in the SWIG interface file, but I couldn&#39;t achieve that. I spent hours searching for solution but no result.\r\nI want something like this but obviously this is not working.\r\n```\r\n%typemap(jni) aVector2 &quot;jfloat&quot; &quot;jfloat&quot; &quot;jfloat&quot;\r\n%typemap(jtype) aVector2 &quot;float&quot; &quot;float&quot; &quot;float&quot;\r\n%typemap(jstype) aVector2 &quot;float&quot; &quot;float&quot; &quot;float&quot;\r\n\r\n%typemap(in) aVector2 %{\r\n    $1.x = $input$1;\r\n    $1.y = $input$2;\r\n    $1.z = $input$1\r\n%}\r\n```\r\nHere is the C++ header file:\r\n```cpp\r\nstruct aVector2 {\r\n    float x, y;\r\n};\r\n\r\nfloat sum(aVector2 v2) {\r\n    return v2.x + v2.y;\r\n}\r\n```\r\n\r\nand this is how I want use the wrapper in Java:\r\n```java\r\nfloat x = 1.0f;\r\nfloat y = 2.0f;\r\n\r\nfloat result = exampleJNI.sum(x, y);\r\n```\r\n\r\nI would appreciate any guidance or examples on how to do this even though I&#39;m not sure this is achievable in SWIG but I would like to know. Thank you for taking your time to read my question!","title":"How to config SWIG interface to map a c++ data type in JNI to multiple data types","body":"<p>I'm new to SWIG, I'm using SWIG to generate a wrapper for a C++ library in Java. I have a C++ function <code>float sum(aVector2)</code>. In my Java code, I want to pass two float values (x, y) to generated wrapper instead of creating an <code>aVector2</code> object. I want achieve this becaue I can't use <code>aVector2</code> later in Java code. I have to use lets say <code>Vector2</code> java class, then if map <code>Vector2</code> to <code>aVector2</code> I need to make calls to FindClass(), GetFieldID(), GetMethodId(), etc. I just want to avoid that to take better performance or at least I think I would gain some performance from that, or If I'm wrong please tell me, thank you.</p>\n<p>I've tried defining <code>%typemap</code> in the SWIG interface file, but I couldn't achieve that. I spent hours searching for solution but no result.\nI want something like this but obviously this is not working.</p>\n<pre><code>%typemap(jni) aVector2 &quot;jfloat&quot; &quot;jfloat&quot; &quot;jfloat&quot;\n%typemap(jtype) aVector2 &quot;float&quot; &quot;float&quot; &quot;float&quot;\n%typemap(jstype) aVector2 &quot;float&quot; &quot;float&quot; &quot;float&quot;\n\n%typemap(in) aVector2 %{\n    $1.x = $input$1;\n    $1.y = $input$2;\n    $1.z = $input$1\n%}\n</code></pre>\n<p>Here is the C++ header file:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>struct aVector2 {\n    float x, y;\n};\n\nfloat sum(aVector2 v2) {\n    return v2.x + v2.y;\n}\n</code></pre>\n<p>and this is how I want use the wrapper in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float x = 1.0f;\nfloat y = 2.0f;\n\nfloat result = exampleJNI.sum(x, y);\n</code></pre>\n<p>I would appreciate any guidance or examples on how to do this even though I'm not sure this is achievable in SWIG but I would like to know. Thank you for taking your time to read my question!</p>\n"},{"tags":["java","lambda","java-8"],"comments":[{"owner":{"account_id":485835,"reputation":8478,"user_id":902383,"accept_rate":90,"display_name":"user902383"},"score":2,"creation_date":1377254916,"post_id":18400210,"comment_id":27026001,"body_markdown":"with bifunction interface, you can easly define N-function class, if you define trifunction as separate interface, first sb will be asking why not quadofunction, and second, you need to duplicate all methods which takes Bifunction as parameter","body":"with bifunction interface, you can easly define N-function class, if you define trifunction as separate interface, first sb will be asking why not quadofunction, and second, you need to duplicate all methods which takes Bifunction as parameter"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":7,"creation_date":1377275279,"post_id":18400210,"comment_id":27038398,"body_markdown":"There is a point of diminishing returns for APIs like this.  (Personally, I think JDK8 passed it a while back, but this is beyond even that.)","body":"There is a point of diminishing returns for APIs like this.  (Personally, I think JDK8 passed it a while back, but this is beyond even that.)"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1561457869,"post_id":18400210,"comment_id":100061107,"body_markdown":"I believe the rationale was to say that Function and BiFunction were fully implemented with objects and native types.  Including TriFunctions with all the various variations would blow up the JRE with classes and methods.","body":"I believe the rationale was to say that Function and BiFunction were fully implemented with objects and native types.  Including TriFunctions with all the various variations would blow up the JRE with classes and methods."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":2,"creation_date":1567779870,"post_id":18400210,"comment_id":102077843,"body_markdown":"Short answer.  In Java, if you don&#39;t see it, you build your own (see Alex P answers of course).  Sidenote, in C#, the implementers of dotnet gave you pre-canned ones (up to 16 arguments), but without the prefix names (&quot;Bi&quot; here)  :  see  https://learn.microsoft.com/en-us/dotnet/api/system.func-17?view=netcore-2.2  Just a simple &quot;Func&quot;.  So this is one of the places I prefer dotnet over java.  Please don&#39;t turn this comment section into a h0ly war.  and limit comments to BiFunction only.","body":"Short answer.  In Java, if you don&#39;t see it, you build your own (see Alex P answers of course).  Sidenote, in C#, the implementers of dotnet gave you pre-canned ones (up to 16 arguments), but without the prefix names (&quot;Bi&quot; here)  :  see  <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.func-17?view=netcore-2.2\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/dotnet/api/&hellip;</a>  Just a simple &quot;Func&quot;.  So this is one of the places I prefer dotnet over java.  Please don&#39;t turn this comment section into a h0ly war.  and limit comments to BiFunction only."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1613411534,"post_id":18400210,"comment_id":117061736,"body_markdown":"Just like any thing else.  If the API doesn&#39;t provide it, then code it yourself.","body":"Just like any thing else.  If the API doesn&#39;t provide it, then code it yourself."}],"answers":[{"comments":[{"owner":{"account_id":179240,"reputation":4160,"user_id":411766,"accept_rate":67,"display_name":"Stefan Endrullis"},"score":11,"creation_date":1393318904,"post_id":19649473,"comment_id":33359397,"body_markdown":"Thanks for the solution.  And yes, there is definitely use for BiFunction, TriFunction, ... Otherwise people would not search for it.  It guess the whole lambda thing is just too new for Oracle right now and will be extended in later Java versions.  At the moment it&#39;s more a proof of concept.","body":"Thanks for the solution.  And yes, there is definitely use for BiFunction, TriFunction, ... Otherwise people would not search for it.  It guess the whole lambda thing is just too new for Oracle right now and will be extended in later Java versions.  At the moment it&#39;s more a proof of concept."},{"owner":{"account_id":892108,"reputation":2424,"user_id":930159,"accept_rate":62,"display_name":"Muneeb Nasir"},"score":0,"creation_date":1441964553,"post_id":19649473,"comment_id":52898356,"body_markdown":"Hy @Alex can you please define following line. whats happening here \n\n default &lt;V&gt; TriFunction&lt;A, B, C, V&gt; andThen(\n                                Function&lt;? super R, ? extends V&gt; after) {\n        Objects.requireNonNull(after);\n        return (A a, B b, C c) -&gt; after.apply(apply(a, b, c));\n    }","body":"Hy @Alex can you please define following line. whats happening here    default &lt;V&gt; TriFunction&lt;A, B, C, V&gt; andThen(                                 Function&lt;? super R, ? extends V&gt; after) {         Objects.requireNonNull(after);         return (A a, B b, C c) -&gt; after.apply(apply(a, b, c));     }"},{"owner":{"account_id":75428,"reputation":9496,"user_id":216374,"accept_rate":100,"display_name":"Alex Pakka"},"score":0,"creation_date":1441988601,"post_id":19649473,"comment_id":52914004,"body_markdown":"@MuneebNasir - it allows you to do function composition:\n`TriFunction&lt;Integer,Integer,Integer,Integer&gt; comp = (x,y,z) -&gt; x + y + z;\ncomp = comp.andThen(s -&gt; s * 2);\nint result = comp.apply(1, 2, 3); //12`\nSee http://stackoverflow.com/questions/19834611/how-to-do-function-composition","body":"@MuneebNasir - it allows you to do function composition: <code>TriFunction&lt;Integer,Integer,Integer,Integer&gt; comp = (x,y,z) -&gt; x + y + z; comp = comp.andThen(s -&gt; s * 2); int result = comp.apply(1, 2, 3); &#47;&#47;12</code> See <a href=\"http://stackoverflow.com/questions/19834611/how-to-do-function-composition\" title=\"how to do function composition\">stackoverflow.com/questions/19834611/&hellip;</a>"},{"owner":{"account_id":75428,"reputation":9496,"user_id":216374,"accept_rate":100,"display_name":"Alex Pakka"},"score":0,"creation_date":1441989251,"post_id":19649473,"comment_id":52914382,"body_markdown":"Added `andThen()` usage example to the answer.","body":"Added <code>andThen()</code> usage example to the answer."},{"owner":{"account_id":1969329,"reputation":1414,"user_id":1768736,"accept_rate":74,"display_name":"FBB"},"score":0,"creation_date":1490271809,"post_id":19649473,"comment_id":73043737,"body_markdown":"Not only currying is not well adapted to Java language, but also, correct me if I&#39;m wrong, but `BiFunction` is used in the `Stream` API to perform data reduction, which looks a lot like the currying approach to me: you never take more than two arguments, and you can process any number of elements, one reduction at a time (see my comment on the accepted answer, I&#39;d be happy to know if I&#39;m wrong to see it that way).","body":"Not only currying is not well adapted to Java language, but also, correct me if I&#39;m wrong, but <code>BiFunction</code> is used in the <code>Stream</code> API to perform data reduction, which looks a lot like the currying approach to me: you never take more than two arguments, and you can process any number of elements, one reduction at a time (see my comment on the accepted answer, I&#39;d be happy to know if I&#39;m wrong to see it that way)."}],"tags":[],"owner":{"account_id":75428,"reputation":9496,"user_id":216374,"accept_rate":100,"display_name":"Alex Pakka"},"comment_count":5,"down_vote_count":0,"up_vote_count":215,"is_accepted":false,"score":215,"last_activity_date":1442329398,"creation_date":1383019637,"answer_id":19649473,"question_id":18400210,"body_markdown":"If you need TriFunction, just do this:\r\n\r\n    @FunctionalInterface\r\n    interface TriFunction&lt;A,B,C,R&gt; {\r\n\r\n        R apply(A a, B b, C c);\r\n\r\n        default &lt;V&gt; TriFunction&lt;A, B, C, V&gt; andThen(\r\n                                    Function&lt;? super R, ? extends V&gt; after) {\r\n            Objects.requireNonNull(after);\r\n            return (A a, B b, C c) -&gt; after.apply(apply(a, b, c));\r\n        }\r\n    }\r\n\r\n\r\nFollowing small program shows how it can be used. Remember that result type is specified as a last generic type parameter. \r\n\r\n      public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            BiFunction&lt;Integer, Long, String&gt; bi = (x,y) -&gt; &quot;&quot;+x+&quot;,&quot;+y;\r\n            TriFunction&lt;Boolean, Integer, Long, String&gt; tri = (x,y,z) -&gt; &quot;&quot;+x+&quot;,&quot;+y+&quot;,&quot;+z;\r\n    \r\n    \r\n            System.out.println(bi.apply(1, 2L)); //1,2\r\n            System.out.println(tri.apply(false, 1, 2L)); //false,1,2\r\n    \r\n            tri = tri.andThen(s -&gt; &quot;[&quot;+s+&quot;]&quot;);\r\n            System.out.println(tri.apply(true,2,3L)); //[true,2,3]\r\n        }\r\n      }\r\n\r\nI guess if there was practical use for TriFunction in `java.util.*` or `java.lang.*` it would have been defined. I would never go beyond 22 arguments, though ;-) What I mean by that, all new code that allows to stream collections never required TriFunction as any of the method parameters. So it was not included.\r\n\r\nUPDATE\r\n\r\nFor completeness and following the destructive functions explanation in another answer (related to currying), here is how TriFunction can be emulated without additional interface:\r\n\r\n    Function&lt;Integer, Function&lt;Integer, UnaryOperator&lt;Integer&gt;&gt;&gt; tri1 = a -&gt; b -&gt; c -&gt; a + b + c;\r\n    System.out.println(tri1.apply(1).apply(2).apply(3)); //prints 6\r\n\r\nOf course, it is possible to combine functions in other ways, e.g.:\r\n\r\n    BiFunction&lt;Integer, Integer, UnaryOperator&lt;Integer&gt;&gt; tri2 = (a, b) -&gt; c -&gt; a + b + c;\r\n    System.out.println(tri2.apply(1, 2).apply(3)); //prints 6\r\n    //partial function can be, of course, extracted this way\r\n    UnaryOperator partial = tri2.apply(1,2); //this is partial, eq to c -&gt; 1 + 2 + c;\r\n    System.out.println(partial.apply(4)); //prints 7\r\n    System.out.println(partial.apply(5)); //prints 8\r\n\r\nWhile currying would be natural to any language that supports functional programming beyond lambdas, Java is not built this way and, while achievable, the code is hard to maintain, and sometimes read. However, it is very helpful as an exercise, and sometimes partial functions have a rightful place in your code.","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>If you need TriFunction, just do this:</p>\n\n<pre><code>@FunctionalInterface\ninterface TriFunction&lt;A,B,C,R&gt; {\n\n    R apply(A a, B b, C c);\n\n    default &lt;V&gt; TriFunction&lt;A, B, C, V&gt; andThen(\n                                Function&lt;? super R, ? extends V&gt; after) {\n        Objects.requireNonNull(after);\n        return (A a, B b, C c) -&gt; after.apply(apply(a, b, c));\n    }\n}\n</code></pre>\n\n<p>Following small program shows how it can be used. Remember that result type is specified as a last generic type parameter. </p>\n\n<pre><code>  public class Main {\n\n    public static void main(String[] args) {\n        BiFunction&lt;Integer, Long, String&gt; bi = (x,y) -&gt; \"\"+x+\",\"+y;\n        TriFunction&lt;Boolean, Integer, Long, String&gt; tri = (x,y,z) -&gt; \"\"+x+\",\"+y+\",\"+z;\n\n\n        System.out.println(bi.apply(1, 2L)); //1,2\n        System.out.println(tri.apply(false, 1, 2L)); //false,1,2\n\n        tri = tri.andThen(s -&gt; \"[\"+s+\"]\");\n        System.out.println(tri.apply(true,2,3L)); //[true,2,3]\n    }\n  }\n</code></pre>\n\n<p>I guess if there was practical use for TriFunction in <code>java.util.*</code> or <code>java.lang.*</code> it would have been defined. I would never go beyond 22 arguments, though ;-) What I mean by that, all new code that allows to stream collections never required TriFunction as any of the method parameters. So it was not included.</p>\n\n<p>UPDATE</p>\n\n<p>For completeness and following the destructive functions explanation in another answer (related to currying), here is how TriFunction can be emulated without additional interface:</p>\n\n<pre><code>Function&lt;Integer, Function&lt;Integer, UnaryOperator&lt;Integer&gt;&gt;&gt; tri1 = a -&gt; b -&gt; c -&gt; a + b + c;\nSystem.out.println(tri1.apply(1).apply(2).apply(3)); //prints 6\n</code></pre>\n\n<p>Of course, it is possible to combine functions in other ways, e.g.:</p>\n\n<pre><code>BiFunction&lt;Integer, Integer, UnaryOperator&lt;Integer&gt;&gt; tri2 = (a, b) -&gt; c -&gt; a + b + c;\nSystem.out.println(tri2.apply(1, 2).apply(3)); //prints 6\n//partial function can be, of course, extracted this way\nUnaryOperator partial = tri2.apply(1,2); //this is partial, eq to c -&gt; 1 + 2 + c;\nSystem.out.println(partial.apply(4)); //prints 7\nSystem.out.println(partial.apply(5)); //prints 8\n</code></pre>\n\n<p>While currying would be natural to any language that supports functional programming beyond lambdas, Java is not built this way and, while achievable, the code is hard to maintain, and sometimes read. However, it is very helpful as an exercise, and sometimes partial functions have a rightful place in your code.</p>\n"},{"comments":[{"owner":{"account_id":49105,"reputation":1915,"user_id":146060,"display_name":"Richard Finegan"},"score":2,"creation_date":1392946760,"post_id":21798000,"comment_id":33207139,"body_markdown":"You answered my question...I think...I don&#39;t know if the java language designers are coming from this line of thinking, but I&#39;m not well-versed in functional programming.  Thank you for the explanation.","body":"You answered my question...I think...I don&#39;t know if the java language designers are coming from this line of thinking, but I&#39;m not well-versed in functional programming.  Thank you for the explanation."},{"owner":{"account_id":75428,"reputation":9496,"user_id":216374,"accept_rate":100,"display_name":"Alex Pakka"},"score":1,"creation_date":1415054882,"post_id":21798000,"comment_id":42038795,"body_markdown":"I updated my answer too. The problem with the currying approach is that Java was never meant to do that. Unless you switch to Scala, using g becomes a hassle: `g.apply(1).apply(2);` etc.","body":"I updated my answer too. The problem with the currying approach is that Java was never meant to do that. Unless you switch to Scala, using g becomes a hassle: <code>g.apply(1).apply(2);</code> etc."},{"owner":{"account_id":173533,"reputation":9578,"user_id":402281,"accept_rate":58,"display_name":"Feuermurmel"},"score":116,"creation_date":1433335088,"post_id":21798000,"comment_id":49306580,"body_markdown":"I&#39;ve never seen the terms _constructive_ and _destructive_ being used to refer to the concepts you describe. I think _curried_ and _non-curried_ are more common terms.","body":"I&#39;ve never seen the terms <i>constructive</i> and <i>destructive</i> being used to refer to the concepts you describe. I think <i>curried</i> and <i>non-curried</i> are more common terms."},{"owner":{"account_id":238108,"reputation":172,"user_id":506765,"display_name":"annouk"},"score":21,"creation_date":1461967848,"post_id":21798000,"comment_id":61455011,"body_markdown":"The first function example is not syntactically correct. It should be BiFunction and not Function, because it takes two input arguments.","body":"The first function example is not syntactically correct. It should be BiFunction and not Function, because it takes two input arguments."},{"owner":{"account_id":1969329,"reputation":1414,"user_id":1768736,"accept_rate":74,"display_name":"FBB"},"score":5,"creation_date":1490271621,"post_id":21798000,"comment_id":73043596,"body_markdown":"IMO `BiFunction` was created to allow easy data reduction, and most `Stream`s terminal operations are just data reductions. A good example is `BinaryOperator&lt;T&gt;`, used in many `Collectors`. A first element is reduced with the second one, than can then be reduced with the next one, and so on. Of course, you could create a `Function&lt;T, Function&lt;T, T&gt;` func = x -&gt; (y -&gt; /*reduction code here*/). But, seriously? All of this when you can simply do `BinaryOperator&lt;T&gt; func = (x, y) -&gt; /*reduction code here*/`. Plus, this data reduction approach seems a lot like your &quot;destructive&quot; approach to me.","body":"IMO <code>BiFunction</code> was created to allow easy data reduction, and most <code>Stream</code>s terminal operations are just data reductions. A good example is <code>BinaryOperator&lt;T&gt;</code>, used in many <code>Collectors</code>. A first element is reduced with the second one, than can then be reduced with the next one, and so on. Of course, you could create a <code>Function&lt;T, Function&lt;T, T&gt;</code> func = x -&gt; (y -&gt; /*reduction code here*/). But, seriously? All of this when you can simply do <code>BinaryOperator&lt;T&gt; func = (x, y) -&gt; &#47;*reduction code here*&#47;</code>. Plus, this data reduction approach seems a lot like your &quot;destructive&quot; approach to me."},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":1,"creation_date":1498297738,"post_id":21798000,"comment_id":76451798,"body_markdown":"I had no idea about this way of create functions!, awesome man!!!. You make my day!","body":"I had no idea about this way of create functions!, awesome man!!!. You make my day!"},{"owner":{"account_id":3526709,"reputation":16307,"user_id":2947592,"accept_rate":71,"display_name":"wvdz"},"score":48,"creation_date":1522319217,"post_id":21798000,"comment_id":86114491,"body_markdown":"How did this get so many upvotes? It&#39;s a terrible and confusing answer, because it&#39;s based on the premise that `Function&lt;Integer,Integer&gt; f = (x,y) -&gt; x + y` is valid Java, which it isn&#39;t. That should be a BiFunction to begin with!","body":"How did this get so many upvotes? It&#39;s a terrible and confusing answer, because it&#39;s based on the premise that <code>Function&lt;Integer,Integer&gt; f = (x,y) -&gt; x + y</code> is valid Java, which it isn&#39;t. That should be a BiFunction to begin with!"},{"owner":{"account_id":365392,"reputation":4105,"user_id":710286,"display_name":"Claude Brisson"},"score":0,"creation_date":1558521975,"post_id":21798000,"comment_id":99126921,"body_markdown":"There is a common use case for BiFunction or BiConsumer: whevever you wand to pass a method as argument, as in `public class Foo { public void bar(String arg) {...} public void doSomething(BiConsumer&lt;Foo, String&gt; method, String arg) { method.accept(this, arg); } public void callBar(String arg) { doSomething(Foo::bar, arg); } }` - and hence the need for TriConsumer etc...","body":"There is a common use case for BiFunction or BiConsumer: whevever you wand to pass a method as argument, as in <code>public class Foo { public void bar(String arg) {...} public void doSomething(BiConsumer&lt;Foo, String&gt; method, String arg) { method.accept(this, arg); } public void callBar(String arg) { doSomething(Foo::bar, arg); } }</code> - and hence the need for TriConsumer etc..."},{"owner":{"account_id":3084562,"reputation":99,"user_id":2611999,"display_name":"azis.mrazish"},"score":1,"creation_date":1564671051,"post_id":21798000,"comment_id":101115675,"body_markdown":"SmallTalk lang libs have these functions up to 16 args for a while, afaik. The way of thinking described in this answer should be considered harmfull. The only way for this to live is in pure academic vacuum. In case of java, nesting function definition is inproductive and will cause cascaded design problems and excessive object creation. Do not follow this advice IRL","body":"SmallTalk lang libs have these functions up to 16 args for a while, afaik. The way of thinking described in this answer should be considered harmfull. The only way for this to live is in pure academic vacuum. In case of java, nesting function definition is inproductive and will cause cascaded design problems and excessive object creation. Do not follow this advice IRL"},{"owner":{"account_id":107117,"reputation":480,"user_id":973085,"display_name":"Evvo"},"score":0,"creation_date":1572459277,"post_id":21798000,"comment_id":103569972,"body_markdown":"The first example should be BiFunction&lt;Integer,Integer,Integer&gt;\nI think it&#39;s unnecessarily complicated that Java uses those statically typed function definitions. There&#39;s no reason to have multiple function/consumer definitions, the arguments should be variable","body":"The first example should be BiFunction&lt;Integer,Integer,Integer&gt; I think it&#39;s unnecessarily complicated that Java uses those statically typed function definitions. There&#39;s no reason to have multiple function/consumer definitions, the arguments should be variable"},{"owner":{"account_id":2513745,"reputation":786,"user_id":2185599,"display_name":"T Tse"},"score":0,"creation_date":1594962831,"post_id":21798000,"comment_id":111315434,"body_markdown":"The language that caters for this kind of thinking would be functional languages like Haskell. They do a lot of `function sum (a, ...more_a): return a + sum(more_a)` (non-working pseudocode) shenanigans.","body":"The language that caters for this kind of thinking would be functional languages like Haskell. They do a lot of <code>function sum (a, ...more_a): return a + sum(more_a)</code> (non-working pseudocode) shenanigans."},{"owner":{"account_id":12122835,"reputation":345,"user_id":8853490,"display_name":"timgo"},"score":0,"creation_date":1601486358,"post_id":21798000,"comment_id":113425900,"body_markdown":"What is &quot;infinite arguments&quot; supposed to mean here and in what way would it be convenient when using streams?","body":"What is &quot;infinite arguments&quot; supposed to mean here and in what way would it be convenient when using streams?"},{"owner":{"account_id":2494278,"reputation":5150,"user_id":2171120,"display_name":"mirabilos"},"score":1,"creation_date":1610477481,"post_id":21798000,"comment_id":116144503,"body_markdown":"There’s also callbacks, and I like mine with arbitrary many parameters.","body":"There’s also callbacks, and I like mine with arbitrary many parameters."},{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":1,"creation_date":1621473897,"post_id":21798000,"comment_id":119509058,"body_markdown":"I keep coming to this question once in a year or so, every time wondering &quot;Where does Java have the TriFunction again?&quot;. Every time, I bump into this answer. It makes no sense whatsoever. It&#39;s so annoying. ಠ_ಠ","body":"I keep coming to this question once in a year or so, every time wondering &quot;Where does Java have the TriFunction again?&quot;. Every time, I bump into this answer. It makes no sense whatsoever. It&#39;s so annoying. ಠ_ಠ"},{"owner":{"account_id":1475496,"reputation":3420,"user_id":1385966,"accept_rate":68,"display_name":"Wins"},"score":0,"creation_date":1647422878,"post_id":21798000,"comment_id":126364662,"body_markdown":"Quite a big assumption here. I can think of use case of TriFunction in financial domain. E.g: to calculate a butterfly price product where you&#39;ll need to calculate all 3 elements  with different factor between first element, second one and third one and apply different mathematical function to those 3 elements.","body":"Quite a big assumption here. I can think of use case of TriFunction in financial domain. E.g: to calculate a butterfly price product where you&#39;ll need to calculate all 3 elements  with different factor between first element, second one and third one and apply different mathematical function to those 3 elements."}],"tags":[],"owner":{"account_id":3600445,"reputation":1162,"user_id":3003859,"display_name":"user3003859"},"comment_count":15,"down_vote_count":27,"up_vote_count":120,"is_accepted":true,"score":93,"last_activity_date":1489580628,"creation_date":1392469679,"answer_id":21798000,"question_id":18400210,"body_markdown":"As far as I know, there are only two kinds of functions, destructive and constructive.\r\n\r\n\r\nWhile constructive function, as the name implies, constructs something, a destructive one destroys something, but not in the way you may think now.\r\n\r\nFor example, the function \r\n\r\n    Function&lt;Integer,Integer&gt; f = (x,y) -&gt; x + y  \r\n\r\nis a **constructive** one. \r\nAs you need to construct something. In the example\r\nyou constructed the tuple *(x,y)*. Constructive functions have the problem, \r\nof being not able to handle infinite arguments. But the worst thing is, you \r\ncan&#39;t just leave an argument open. You can&#39;t just say &quot;well, let x := 1&quot; and try out\r\nevery y you may like to try. You have to construct every time the whole tuple with \r\n`x := 1`. So if you like to see what the functions return for `y := 1, y := 2, y := 3` you\r\nhave to write `f(1,1) , f(1,2) , f(1,3)`. \r\n\r\nIn Java 8, constructive functions should be handled (most of the time) by using method references because there&#39;s not much advantage of using a constructive lambda function. They are a bit like static methods.\r\nYou can use them, but they have no real state. \r\n\r\nThe other type is the destructive one, it takes something and dismantles it as far as needed.\r\nFor example, the **destructive** function \r\n\r\n    Function&lt;Integer, Function&lt;Integer, Integer&gt;&gt; g = x -&gt; (y -&gt; x + y) \r\n\r\ndoes the same as the function `f` which was constructive. The benefits of a destructive function are, you \r\ncan handle now infinite arguments, which is especially convenient for streams, and you can just leave arguments open. \r\nSo if you again want to see what would the result be like if `x := 1` and `y := 1 , y := 2 , y := 3` , you can say `h = g(1)` and\r\n`h(1)` is the result for `y := 1`, `h(2)` for `y := 2` and `h(3)` for `y := 3`. \r\n\r\nSo here you have a fixed state! That&#39;s quite dynamic and that&#39;s most of the time that what we want from a lambda.\r\n\r\nPatterns like Factory are a lot easier if you can just put in a function which does the work for you. \r\n\r\nDestructive ones are easily combined with each other. If the type is right you can just compose them as you like. Using that, you can easily define morphisms which make (with immutable values) testing a lot easier! \r\n\r\nYou can do that too with a constructive one, but destructive composition looks nicer and more like a list or a decorator, and the constructive one looks a lot like a tree. And things like backtracking \r\nwith constructive functions are just not nice. You can just save the partial functions of a destructive one (dynamic programming), and on &quot;backtrack&quot; just use the old destructive function. That makes code a lot smaller and better readable. With constructive functions you have more or less to remember all arguments, which can be a lot. \r\n\r\nSo why is there a need for `BiFunction` should be more of question than why there is no `TriFunction`?\r\n\r\nFirst of all, a lot of time you just have a few values (less than 3) and need just a result, so a normal destructive function would not be needed at all, a constructive one would do fine. And there are things like monads which \r\nreally needs a constructive function. But aside from that, there are not really a lot of good reasons why there is a `BiFunction` at all. Which doesn&#39;t mean it should be removed! I fight for my Monads until I die! \r\n\r\nSo if you have a lot of arguments, which you can&#39;t combine into a logical container class, and if you need the \r\nfunction to be constructive, use a method reference. Otherwise try to use the new gained ability of destructive functions, you may find yourself doing a lot of things with a lot less code lines.","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>As far as I know, there are only two kinds of functions, destructive and constructive.</p>\n\n<p>While constructive function, as the name implies, constructs something, a destructive one destroys something, but not in the way you may think now.</p>\n\n<p>For example, the function </p>\n\n<pre><code>Function&lt;Integer,Integer&gt; f = (x,y) -&gt; x + y  \n</code></pre>\n\n<p>is a <strong>constructive</strong> one. \nAs you need to construct something. In the example\nyou constructed the tuple <em>(x,y)</em>. Constructive functions have the problem, \nof being not able to handle infinite arguments. But the worst thing is, you \ncan't just leave an argument open. You can't just say \"well, let x := 1\" and try out\nevery y you may like to try. You have to construct every time the whole tuple with \n<code>x := 1</code>. So if you like to see what the functions return for <code>y := 1, y := 2, y := 3</code> you\nhave to write <code>f(1,1) , f(1,2) , f(1,3)</code>. </p>\n\n<p>In Java 8, constructive functions should be handled (most of the time) by using method references because there's not much advantage of using a constructive lambda function. They are a bit like static methods.\nYou can use them, but they have no real state. </p>\n\n<p>The other type is the destructive one, it takes something and dismantles it as far as needed.\nFor example, the <strong>destructive</strong> function </p>\n\n<pre><code>Function&lt;Integer, Function&lt;Integer, Integer&gt;&gt; g = x -&gt; (y -&gt; x + y) \n</code></pre>\n\n<p>does the same as the function <code>f</code> which was constructive. The benefits of a destructive function are, you \ncan handle now infinite arguments, which is especially convenient for streams, and you can just leave arguments open. \nSo if you again want to see what would the result be like if <code>x := 1</code> and <code>y := 1 , y := 2 , y := 3</code> , you can say <code>h = g(1)</code> and\n<code>h(1)</code> is the result for <code>y := 1</code>, <code>h(2)</code> for <code>y := 2</code> and <code>h(3)</code> for <code>y := 3</code>. </p>\n\n<p>So here you have a fixed state! That's quite dynamic and that's most of the time that what we want from a lambda.</p>\n\n<p>Patterns like Factory are a lot easier if you can just put in a function which does the work for you. </p>\n\n<p>Destructive ones are easily combined with each other. If the type is right you can just compose them as you like. Using that, you can easily define morphisms which make (with immutable values) testing a lot easier! </p>\n\n<p>You can do that too with a constructive one, but destructive composition looks nicer and more like a list or a decorator, and the constructive one looks a lot like a tree. And things like backtracking \nwith constructive functions are just not nice. You can just save the partial functions of a destructive one (dynamic programming), and on \"backtrack\" just use the old destructive function. That makes code a lot smaller and better readable. With constructive functions you have more or less to remember all arguments, which can be a lot. </p>\n\n<p>So why is there a need for <code>BiFunction</code> should be more of question than why there is no <code>TriFunction</code>?</p>\n\n<p>First of all, a lot of time you just have a few values (less than 3) and need just a result, so a normal destructive function would not be needed at all, a constructive one would do fine. And there are things like monads which \nreally needs a constructive function. But aside from that, there are not really a lot of good reasons why there is a <code>BiFunction</code> at all. Which doesn't mean it should be removed! I fight for my Monads until I die! </p>\n\n<p>So if you have a lot of arguments, which you can't combine into a logical container class, and if you need the \nfunction to be constructive, use a method reference. Otherwise try to use the new gained ability of destructive functions, you may find yourself doing a lot of things with a lot less code lines.</p>\n"},{"comments":[{"owner":{"account_id":75428,"reputation":9496,"user_id":216374,"accept_rate":100,"display_name":"Alex Pakka"},"score":2,"creation_date":1483648592,"post_id":40092315,"comment_id":70194449,"body_markdown":"Why would you need `andThen` with 16 arguments? The result of a function in Java is a single value. `andThen` takes this value and does something with it. Also, there is no issue with naming. Class names should be different and be in different files named the same - following the logic set by Java language developers with Function and BiFunction. Also, all these different names are needed if argument types are different. One can create a `VargFunction(T, R) { R apply(T.. t) ... }` for single type.","body":"Why would you need <code>andThen</code> with 16 arguments? The result of a function in Java is a single value. <code>andThen</code> takes this value and does something with it. Also, there is no issue with naming. Class names should be different and be in different files named the same - following the logic set by Java language developers with Function and BiFunction. Also, all these different names are needed if argument types are different. One can create a <code>VargFunction(T, R) { R apply(T.. t) ... }</code> for single type."}],"tags":[],"owner":{"account_id":313676,"reputation":467,"user_id":628441,"accept_rate":57,"display_name":"Hans"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1476726776,"creation_date":1476725284,"answer_id":40092315,"question_id":18400210,"body_markdown":"I Have almost the same question and a partial answer. Not sure whether the constructive/deconstructive answer is what the language designers had in mind. \r\nI think having 3 and more upto N has valid use cases.\r\n\r\nI come from .NET. and in .NET you have Func&lt;T1,...T16,R&gt; and Action&lt;T1...T16&gt; for void functions. Predicate and some other special cases also exist.  See: https://msdn.microsoft.com/en-us/library/bb534960(v=vs.110).aspx  \r\n\r\n I wonder what the reason was why the language designers opted for Function, \r\nBifunction and did not continue until DecaExiFunction? \r\n\r\nThe answer to the second part is type erasure. After compilation there is no difference between Func&lt;T1,T2,T3,R&gt; and Func&lt;T1,T2,T3,T4,R&gt;. \r\nThe following therefore does not compile:\r\n\r\n    package eu.hanskruse.trackhacks.joepie;\r\n    \r\n    public class Functions{\r\n    \r\n    \t@FunctionalInterface\r\n    \tpublic interface Func&lt;T1,T2,T3,R&gt;{\r\n    \t\tpublic R apply(T1 t1,T2 t2,T3 t3);\r\n    \t}\r\n    \r\n    \t@FunctionalInterface\r\n    \tpublic interface Func&lt;T1,T2,T3,T4,R&gt;{\r\n    \t\tpublic R apply(T1 t1,T2 t2,T3 t3, T4 t4);\r\n    \t}\r\n    }\r\n\r\nInner functions were used to circumvent another minor problem. Eclipse insisted on having both classes in files named Function in the same directory... Not sure whether this a compiler issue nowadays. But I cannot turn the error of in Eclipse.\r\n\r\nFunc was used to prevent name clashes with the java Function type.\r\n\r\nSo if you want to add Func from 3 upto 16 argument you can do two things.\r\n\r\n - Make TriFunc, TesseraFunc,PendeFunc, ...DecaExiFunc etc \r\n   - (Should I use Greek or Latin?)\r\n - Use package names or classes to make the names different.\r\n\r\n\r\nExample for the second way:   \r\n\r\n     package eu.hanskruse.trackhacks.joepie.functions.tri;\r\n        \r\n        \t@FunctionalInterface\r\n        \tpublic interface Func&lt;T1,T2,T3,R&gt;{\r\n        \t\tpublic R apply(T1 t1,T2 t2,T3 t3);\r\n        \t}\r\n\r\nand\r\n  \r\n    package eu.trackhacks.joepie.functions.tessera;\r\n        \r\n    \t@FunctionalInterface\r\n    \tpublic interface Func&lt;T1,T2,T3,T4,R&gt;{\r\n    \t\tpublic R apply(T1 t1,T2 t2,T3 t3, T4 t4);\r\n    \t}\r\n\r\nWhat would be the best approach?\r\n\r\nIn the above examples I did not include implementations for the andThen() and compose() methods. If you add these you must add 16 overloads each: the TriFunc should have an andthen() with 16 arguments. That would give you a compile error because of circular dependencies. Also you would not have these overloads for Function and BiFunction. Therefore you should also define Func with one argument and Func with two arguments. In .NET circular dependencies would be circumvented by using extension methods which are not present in Java.\r\n\r\n\r\n\r\n","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>I Have almost the same question and a partial answer. Not sure whether the constructive/deconstructive answer is what the language designers had in mind. \nI think having 3 and more upto N has valid use cases.</p>\n\n<p>I come from .NET. and in .NET you have Func and Action for void functions. Predicate and some other special cases also exist.  See: <a href=\"https://msdn.microsoft.com/en-us/library/bb534960(v=vs.110).aspx\" rel=\"noreferrer\">https://msdn.microsoft.com/en-us/library/bb534960(v=vs.110).aspx</a>  </p>\n\n<p>I wonder what the reason was why the language designers opted for Function, \nBifunction and did not continue until DecaExiFunction? </p>\n\n<p>The answer to the second part is type erasure. After compilation there is no difference between Func and Func. \nThe following therefore does not compile:</p>\n\n<pre><code>package eu.hanskruse.trackhacks.joepie;\n\npublic class Functions{\n\n    @FunctionalInterface\n    public interface Func&lt;T1,T2,T3,R&gt;{\n        public R apply(T1 t1,T2 t2,T3 t3);\n    }\n\n    @FunctionalInterface\n    public interface Func&lt;T1,T2,T3,T4,R&gt;{\n        public R apply(T1 t1,T2 t2,T3 t3, T4 t4);\n    }\n}\n</code></pre>\n\n<p>Inner functions were used to circumvent another minor problem. Eclipse insisted on having both classes in files named Function in the same directory... Not sure whether this a compiler issue nowadays. But I cannot turn the error of in Eclipse.</p>\n\n<p>Func was used to prevent name clashes with the java Function type.</p>\n\n<p>So if you want to add Func from 3 upto 16 argument you can do two things.</p>\n\n<ul>\n<li>Make TriFunc, TesseraFunc,PendeFunc, ...DecaExiFunc etc \n\n<ul>\n<li>(Should I use Greek or Latin?)</li>\n</ul></li>\n<li>Use package names or classes to make the names different.</li>\n</ul>\n\n<p>Example for the second way:   </p>\n\n<pre><code> package eu.hanskruse.trackhacks.joepie.functions.tri;\n\n        @FunctionalInterface\n        public interface Func&lt;T1,T2,T3,R&gt;{\n            public R apply(T1 t1,T2 t2,T3 t3);\n        }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>package eu.trackhacks.joepie.functions.tessera;\n\n    @FunctionalInterface\n    public interface Func&lt;T1,T2,T3,T4,R&gt;{\n        public R apply(T1 t1,T2 t2,T3 t3, T4 t4);\n    }\n</code></pre>\n\n<p>What would be the best approach?</p>\n\n<p>In the above examples I did not include implementations for the andThen() and compose() methods. If you add these you must add 16 overloads each: the TriFunc should have an andthen() with 16 arguments. That would give you a compile error because of circular dependencies. Also you would not have these overloads for Function and BiFunction. Therefore you should also define Func with one argument and Func with two arguments. In .NET circular dependencies would be circumvented by using extension methods which are not present in Java.</p>\n"},{"tags":[],"owner":{"account_id":6786400,"reputation":31,"user_id":5225014,"display_name":"Vance"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543436246,"creation_date":1543436246,"answer_id":53527444,"question_id":18400210,"body_markdown":"I found the source code for BiFunction here:\r\n\r\nhttps://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/util/function/BiFunction.java\r\n\r\nI modified it to create TriFunction.  Like BiFunction, it uses andThen() and not compose(), so for some applications that require compose(), it may not be appropriate.  It should be fine for normal kinds of objects.  A good article on andThen() and compose() can be found here:\r\n\r\nhttp://www.deadcoderising.com/2015-09-07-java-8-functional-composition-using-compose-and-andthen/\r\n\r\n    import java.util.Objects;\r\n    import java.util.function.Function;\r\n    \r\n    /**\r\n     * Represents a function that accepts two arguments and produces a result.\r\n     * This is the three-arity specialization of {@link Function}.\r\n     *\r\n     * &lt;p&gt;This is a &lt;a href=&quot;package-summary.html&quot;&gt;functional interface&lt;/a&gt;\r\n     * whose functional method is {@link #apply(Object, Object)}.\r\n     *\r\n     * @param &lt;S&gt; the type of the first argument to the function\r\n     * @param &lt;T&gt; the type of the second argument to the function\r\n     * @param &lt;U&gt; the type of the third argument to the function\r\n     * @param &lt;R&gt; the type of the result of the function\r\n     *\r\n     * @see Function\r\n     * @since 1.8\r\n     */\r\n    @FunctionalInterface\r\n    public interface TriFunction&lt;S, T, U, R&gt; {\r\n    \r\n        /**\r\n         * Applies this function to the given arguments.\r\n         *\r\n         * @param s the first function argument\r\n         * @param t the second function argument\r\n         * @param u the third function argument\r\n         * @return the function result\r\n         */\r\n        R apply(S s, T t, U u);\r\n    \r\n        /**\r\n         * Returns a composed function that first applies this function to\r\n         * its input, and then applies the {@code after} function to the result.\r\n         * If evaluation of either function throws an exception, it is relayed to\r\n         * the caller of the composed function.\r\n         *\r\n         * @param &lt;V&gt; the type of output of the {@code after} function, and of the\r\n         *           composed function\r\n         * @param after the function to apply after this function is applied\r\n         * @return a composed function that first applies this function and then\r\n         * applies the {@code after} function\r\n         * @throws NullPointerException if after is null\r\n         */\r\n        default &lt;V&gt; TriFunction&lt;S, T, U, V&gt; andThen(Function&lt;? super R, ? extends V&gt; after) {\r\n            Objects.requireNonNull(after);\r\n            return (S s, T t, U u) -&gt; after.apply(apply(s, t, u));\r\n        }\r\n    }","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>I found the source code for BiFunction here:</p>\n\n<p><a href=\"https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/util/function/BiFunction.java\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/util/function/BiFunction.java</a></p>\n\n<p>I modified it to create TriFunction.  Like BiFunction, it uses andThen() and not compose(), so for some applications that require compose(), it may not be appropriate.  It should be fine for normal kinds of objects.  A good article on andThen() and compose() can be found here:</p>\n\n<p><a href=\"http://www.deadcoderising.com/2015-09-07-java-8-functional-composition-using-compose-and-andthen/\" rel=\"nofollow noreferrer\">http://www.deadcoderising.com/2015-09-07-java-8-functional-composition-using-compose-and-andthen/</a></p>\n\n<pre><code>import java.util.Objects;\nimport java.util.function.Function;\n\n/**\n * Represents a function that accepts two arguments and produces a result.\n * This is the three-arity specialization of {@link Function}.\n *\n * &lt;p&gt;This is a &lt;a href=\"package-summary.html\"&gt;functional interface&lt;/a&gt;\n * whose functional method is {@link #apply(Object, Object)}.\n *\n * @param &lt;S&gt; the type of the first argument to the function\n * @param &lt;T&gt; the type of the second argument to the function\n * @param &lt;U&gt; the type of the third argument to the function\n * @param &lt;R&gt; the type of the result of the function\n *\n * @see Function\n * @since 1.8\n */\n@FunctionalInterface\npublic interface TriFunction&lt;S, T, U, R&gt; {\n\n    /**\n     * Applies this function to the given arguments.\n     *\n     * @param s the first function argument\n     * @param t the second function argument\n     * @param u the third function argument\n     * @return the function result\n     */\n    R apply(S s, T t, U u);\n\n    /**\n     * Returns a composed function that first applies this function to\n     * its input, and then applies the {@code after} function to the result.\n     * If evaluation of either function throws an exception, it is relayed to\n     * the caller of the composed function.\n     *\n     * @param &lt;V&gt; the type of output of the {@code after} function, and of the\n     *           composed function\n     * @param after the function to apply after this function is applied\n     * @return a composed function that first applies this function and then\n     * applies the {@code after} function\n     * @throws NullPointerException if after is null\n     */\n    default &lt;V&gt; TriFunction&lt;S, T, U, V&gt; andThen(Function&lt;? super R, ? extends V&gt; after) {\n        Objects.requireNonNull(after);\n        return (S s, T t, U u) -&gt; after.apply(apply(s, t, u));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":75428,"reputation":9496,"user_id":216374,"accept_rate":100,"display_name":"Alex Pakka"},"score":2,"creation_date":1554129958,"post_id":54285143,"comment_id":97628536,"body_markdown":"I was about to update my answer to mention vavr, but you were first, so I upvoted. If you get to the point you need a TriFunction, there is a big chance you will be better off by using `vavr` library - it makes functional style programming as bearable in Java as possible.","body":"I was about to update my answer to mention vavr, but you were first, so I upvoted. If you get to the point you need a TriFunction, there is a big chance you will be better off by using <code>vavr</code> library - it makes functional style programming as bearable in Java as possible."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":3,"creation_date":1638460187,"post_id":54285143,"comment_id":124099303,"body_markdown":"The answer is good.  The idea that is isn&#39;t already in the framework : GAAAAAAA.","body":"The answer is good.  The idea that is isn&#39;t already in the framework : GAAAAAAA."}],"tags":[],"owner":{"account_id":9698325,"reputation":359,"user_id":7194062,"display_name":"Amol Damodar"},"comment_count":2,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1548055386,"creation_date":1548055386,"answer_id":54285143,"question_id":18400210,"body_markdown":"Alternative is, add the below dependency,\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.vavr&lt;/groupId&gt;\r\n        &lt;artifactId&gt;vavr&lt;/artifactId&gt;\r\n        &lt;version&gt;0.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNow, you can use Vavr Function, like below upto 8 arguments,\r\n\r\n3 arguments:\r\n\r\n    Function3&lt;Integer, Integer, Integer, Integer&gt; f = \r\n          (a, b, c) -&gt; a + b + c;\r\n\r\n5 arguments:\r\n\r\n    Function5&lt;Integer, Integer, Integer, Integer, Integer, Integer&gt; f = \r\n          (a, b, c, d, e) -&gt; a + b + c + d + e;\r\n","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>Alternative is, add the below dependency,</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.vavr&lt;/groupId&gt;\n    &lt;artifactId&gt;vavr&lt;/artifactId&gt;\n    &lt;version&gt;0.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Now, you can use Vavr Function, like below upto 8 arguments,</p>\n\n<p>3 arguments:</p>\n\n<pre><code>Function3&lt;Integer, Integer, Integer, Integer&gt; f = \n      (a, b, c) -&gt; a + b + c;\n</code></pre>\n\n<p>5 arguments:</p>\n\n<pre><code>Function5&lt;Integer, Integer, Integer, Integer, Integer, Integer&gt; f = \n      (a, b, c, d, e) -&gt; a + b + c + d + e;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9592031,"reputation":335,"user_id":7122567,"display_name":"Leandro Maro"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558265197,"creation_date":1558265197,"answer_id":56207315,"question_id":18400210,"body_markdown":"You could also create your own function taking the 3 parameters \r\n\r\n    @FunctionalInterface\r\n    public interface MiddleInterface&lt;F,T,V&gt;{\r\n        boolean isBetween(F from, T to, V middleValue);\r\n    }\r\n    \r\n    MiddleInterface&lt;Integer, Integer, Integer&gt; middleInterface = \r\n    (x,y,z) -&gt; x&gt;=y &amp;&amp; y&lt;=z; // true","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>You could also create your own function taking the 3 parameters </p>\n\n<pre><code>@FunctionalInterface\npublic interface MiddleInterface&lt;F,T,V&gt;{\n    boolean isBetween(F from, T to, V middleValue);\n}\n\nMiddleInterface&lt;Integer, Integer, Integer&gt; middleInterface = \n(x,y,z) -&gt; x&gt;=y &amp;&amp; y&lt;=z; // true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":425189,"reputation":321,"user_id":805643,"accept_rate":57,"display_name":"Koushik Roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581668385,"creation_date":1581668385,"answer_id":60222449,"question_id":18400210,"body_markdown":"You can&#39;t always stop at TriFunction. Sometimes, you may need to pass n number of parameters to your functions. Then support team will have to create an QuadFunction to fix your code.\r\nLong term solution would be to create an Object with the extra parameters and then use the ready-made Function or BiFunction.","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>You can't always stop at TriFunction. Sometimes, you may need to pass n number of parameters to your functions. Then support team will have to create an QuadFunction to fix your code.\nLong term solution would be to create an Object with the extra parameters and then use the ready-made Function or BiFunction.</p>\n"},{"comments":[{"owner":{"account_id":4427390,"reputation":5224,"user_id":3605497,"display_name":"Tripp Kinetics"},"score":0,"creation_date":1658687335,"post_id":66212944,"comment_id":129107435,"body_markdown":"This should be the accepted answer.  Google &quot;currying&quot;.","body":"This should be the accepted answer.  Google &quot;currying&quot;."},{"owner":{"account_id":16765025,"reputation":1190,"user_id":12118888,"display_name":"Payel Senapati"},"score":0,"creation_date":1658988248,"post_id":66212944,"comment_id":129189405,"body_markdown":"Mater of fact I ended up writing currying code a full 6 months before I came to know currying","body":"Mater of fact I ended up writing currying code a full 6 months before I came to know currying"},{"owner":{"account_id":4427390,"reputation":5224,"user_id":3605497,"display_name":"Tripp Kinetics"},"score":0,"creation_date":1659044628,"post_id":66212944,"comment_id":129208612,"body_markdown":"Kinda like, &quot;To know recursion, you must first know recursion&quot;?","body":"Kinda like, &quot;To know recursion, you must first know recursion&quot;?"}],"tags":[],"owner":{"account_id":16765025,"reputation":1190,"user_id":12118888,"display_name":"Payel Senapati"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613411301,"creation_date":1613411301,"answer_id":66212944,"question_id":18400210,"body_markdown":"Simple `Function&lt;T, R&gt;` can be used in a nested form to emulate a `TriFunction` \r\n\r\nBelow is a simple example - \r\n\r\n```\r\n       final Function&lt;Integer, Function&lt;Integer, Function&lt;Integer, Double&gt;&gt;&gt; function = num1 -&gt; {\r\n            System.out.println(&quot;Taking first parameter&quot;);\r\n            return num2 -&gt; {\r\n                System.out.println(&quot;Taking second parameter&quot;);\r\n                return num3 -&gt; {\r\n                    System.out.println(&quot;Taking third parameter&quot;);\r\n                    return (double)(num1 + num2 + num3);\r\n                };\r\n            };\r\n        };\r\n\r\n        final Double result = function.apply(2).apply(3).apply(4);\r\n\r\n        System.out.println(&quot;Result -&gt; &quot; + result);\r\n```\r\n\r\nOUTPUT - \r\n\r\n```\r\nTaking first parameter\r\nTaking second parameter\r\nTaking third parameter\r\nResult -&gt; 9.0\r\n```\r\n\r\nThis logic can be extended to make a function take any desired number of parameters.","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>Simple <code>Function&lt;T, R&gt;</code> can be used in a nested form to emulate a <code>TriFunction</code></p>\n<p>Below is a simple example -</p>\n<pre><code>       final Function&lt;Integer, Function&lt;Integer, Function&lt;Integer, Double&gt;&gt;&gt; function = num1 -&gt; {\n            System.out.println(&quot;Taking first parameter&quot;);\n            return num2 -&gt; {\n                System.out.println(&quot;Taking second parameter&quot;);\n                return num3 -&gt; {\n                    System.out.println(&quot;Taking third parameter&quot;);\n                    return (double)(num1 + num2 + num3);\n                };\n            };\n        };\n\n        final Double result = function.apply(2).apply(3).apply(4);\n\n        System.out.println(&quot;Result -&gt; &quot; + result);\n</code></pre>\n<p>OUTPUT -</p>\n<pre><code>Taking first parameter\nTaking second parameter\nTaking third parameter\nResult -&gt; 9.0\n</code></pre>\n<p>This logic can be extended to make a function take any desired number of parameters.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614730688,"creation_date":1614730688,"answer_id":66448961,"question_id":18400210,"body_markdown":"The [selected answer](https://stackoverflow.com/a/21798000/20654) is the most helpful, although I find the explanation a bit convoluted. \r\n\r\nTo simplify, let&#39;s say you want a function that adds two strings\r\n\r\n\r\nThe method\r\n\r\n    String add(String s, String t) {\r\n        return s + t;\r\n    }\r\n\r\n\r\nWould have a function like this with the same behavior:\r\n\r\n    Function&lt;String,Function&lt;String,String&gt;&gt; add = s -&gt; t -&gt; s + t;\r\n\r\nAnd to call it: \r\n\r\n    var result = add.apply(&quot;hello&quot;).apply(&quot; world&quot;);\r\n\r\nWhether or not this is idiomatic Java that&#39;s a different topic. ","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>The <a href=\"https://stackoverflow.com/a/21798000/20654\">selected answer</a> is the most helpful, although I find the explanation a bit convoluted.</p>\n<p>To simplify, let's say you want a function that adds two strings</p>\n<p>The method</p>\n<pre><code>String add(String s, String t) {\n    return s + t;\n}\n</code></pre>\n<p>Would have a function like this with the same behavior:</p>\n<pre><code>Function&lt;String,Function&lt;String,String&gt;&gt; add = s -&gt; t -&gt; s + t;\n</code></pre>\n<p>And to call it:</p>\n<pre><code>var result = add.apply(&quot;hello&quot;).apply(&quot; world&quot;);\n</code></pre>\n<p>Whether or not this is idiomatic Java that's a different topic.</p>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627544452,"creation_date":1627544452,"answer_id":68571984,"question_id":18400210,"body_markdown":"There are ready to use Consumer3..Consumer8, Function3..Function8, Predicate3..Predicate8 in [`reactor.function`][1] package of [Reactor][2] Addons library that is bundled with Spring Framework.\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/extra/snapshot/api/reactor/function/package-summary.html\r\n  [2]: https://projectreactor.io/","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>There are ready to use Consumer3..Consumer8, Function3..Function8, Predicate3..Predicate8 in <a href=\"https://projectreactor.io/docs/extra/snapshot/api/reactor/function/package-summary.html\" rel=\"nofollow noreferrer\"><code>reactor.function</code></a> package of <a href=\"https://projectreactor.io/\" rel=\"nofollow noreferrer\">Reactor</a> Addons library that is bundled with Spring Framework.</p>\n"},{"tags":[],"owner":{"account_id":5391172,"reputation":300,"user_id":4293638,"display_name":"Kyle Zimmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666033440,"creation_date":1666033440,"answer_id":74102005,"question_id":18400210,"body_markdown":"I think the most straightforward way to handle this is to simply make a class which defines all of the arguments you want to handle, and use a simple Function or Consumer. Is there a real reason you would want TriFunction instead of for example:\r\n\r\n``` java\r\npublic class MyDataObject {\r\n  public String arg0;\r\n  public int arg1;\r\n  public Date argWhatever;\r\n}\r\n\r\n//...\r\n\r\nFunction&lt;Integer, MyDataObject&gt; fn = (data) -&gt; {\r\n  // do stuff with data.arg0, data.arg1, etc\r\n  return 0; // or whatever \r\n};\r\n```\r\n\r\nImho this is the cleaner way to do it anyway if its getting more complicated than two arguments.\r\n","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>I think the most straightforward way to handle this is to simply make a class which defines all of the arguments you want to handle, and use a simple Function or Consumer. Is there a real reason you would want TriFunction instead of for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyDataObject {\n  public String arg0;\n  public int arg1;\n  public Date argWhatever;\n}\n\n//...\n\nFunction&lt;Integer, MyDataObject&gt; fn = (data) -&gt; {\n  // do stuff with data.arg0, data.arg1, etc\n  return 0; // or whatever \n};\n</code></pre>\n<p>Imho this is the cleaner way to do it anyway if its getting more complicated than two arguments.</p>\n"},{"tags":[],"owner":{"account_id":5952929,"reputation":8862,"user_id":4680436,"accept_rate":50,"display_name":"aristotll"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673195217,"creation_date":1673195217,"answer_id":75049448,"question_id":18400210,"body_markdown":"Use commons lang3 with\r\n\r\n```\r\norg.apache.commons.lang3.function.TriFunction\r\n```","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>Use commons lang3 with</p>\n<pre><code>org.apache.commons.lang3.function.TriFunction\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4573201,"reputation":122,"user_id":3712363,"display_name":"fedeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682523592,"creation_date":1682523592,"answer_id":76112665,"question_id":18400210,"body_markdown":"You can accomplish *a* solution with [currying][1]. However it tends to be messy in Java: `Function&lt;Function&lt;Function&lt;Function&lt;...`\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Currying","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>You can accomplish <em>a</em> solution with <a href=\"https://en.wikipedia.org/wiki/Currying\" rel=\"nofollow noreferrer\">currying</a>. However it tends to be messy in Java: <code>Function&lt;Function&lt;Function&lt;Function&lt;...</code></p>\n"},{"tags":[],"owner":{"account_id":344393,"reputation":173,"user_id":676678,"display_name":"mambolis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688555254,"creation_date":1688555254,"answer_id":76619732,"question_id":18400210,"body_markdown":"You could use TriFunction from commons-lang \r\n\r\n(example from https://www.baeldung.com/java-trifunction)\r\n\r\n    TriFunction&lt;Integer, Integer, Integer, Integer&gt; multiplyThenAdd = (x, y, z) -&gt; x * y + z;\r\n\r\n","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>You could use TriFunction from commons-lang</p>\n<p>(example from <a href=\"https://www.baeldung.com/java-trifunction\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-trifunction</a>)</p>\n<pre><code>TriFunction&lt;Integer, Integer, Integer, Integer&gt; multiplyThenAdd = (x, y, z) -&gt; x * y + z;\n</code></pre>\n"}],"owner":{"account_id":49105,"reputation":1915,"user_id":146060,"display_name":"Richard Finegan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135584,"favorite_count":0,"down_vote_count":0,"up_vote_count":173,"accepted_answer_id":21798000,"answer_count":14,"score":173,"last_activity_date":1688555254,"creation_date":1377252699,"question_id":18400210,"body_markdown":"I see java.util.function.BiFunction, so I can do this:\r\n\r\n    BiFunction&lt;Integer, Integer, Integer&gt; f = (x, y) -&gt; { return 0; };\r\n\r\nWhat if that is not good enough and I need TriFunction?  It doesn&#39;t exist!\r\n\r\n    TriFunction&lt;Integer, Integer, Integer, Integer&gt; f = (x, y, z) -&gt; { return 0; };\r\n\r\nI guess I should add that I know I can define my own TriFunction, I&#39;m just trying to understand the rationale behind not including it in the standard library.","title":"Java 8: Where is TriFunction (and kin) in java.util.function? Or what is the alternative?","body":"<p>I see java.util.function.BiFunction, so I can do this:</p>\n\n<pre><code>BiFunction&lt;Integer, Integer, Integer&gt; f = (x, y) -&gt; { return 0; };\n</code></pre>\n\n<p>What if that is not good enough and I need TriFunction?  It doesn't exist!</p>\n\n<pre><code>TriFunction&lt;Integer, Integer, Integer, Integer&gt; f = (x, y, z) -&gt; { return 0; };\n</code></pre>\n\n<p>I guess I should add that I know I can define my own TriFunction, I'm just trying to understand the rationale behind not including it in the standard library.</p>\n"},{"tags":["java","zip","gzip","zlib"],"comments":[{"owner":{"account_id":2534383,"reputation":748,"user_id":2201900,"accept_rate":42,"display_name":"Markus Kreth"},"score":0,"creation_date":1364288927,"post_id":15632979,"comment_id":22178588,"body_markdown":"Just found this, might be helfful: http://www.jcraft.com/jzlib/","body":"Just found this, might be helfful: <a href=\"http://www.jcraft.com/jzlib/\" rel=\"nofollow noreferrer\">jcraft.com/jzlib</a>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1364289485,"post_id":15632979,"comment_id":22178834,"body_markdown":"Have you validated that you&#39;re getting the correct data out at the client side? Is your `packedBuffer` the right size, for example?","body":"Have you validated that you&#39;re getting the correct data out at the client side? Is your <code>packedBuffer</code> the right size, for example?"},{"owner":{"account_id":2545986,"reputation":23,"user_id":2210783,"display_name":"passenger"},"score":0,"creation_date":1364294880,"post_id":15632979,"comment_id":22181786,"body_markdown":"@Jon Skeet Slightly as that is the legacy code of one big system and for start I just wanted to know if I can unpack something compressed with zlib using compress2, with the java code I posted above, so I can move on with investigation of where is the problem.","body":"@Jon Skeet Slightly as that is the legacy code of one big system and for start I just wanted to know if I can unpack something compressed with zlib using compress2, with the java code I posted above, so I can move on with investigation of where is the problem."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1364294939,"post_id":15632979,"comment_id":22181821,"body_markdown":"@passenger: But my point is that you shouldn&#39;t be trying to diagnose this just from one side. You should look at the results of `compress2()`, checking the length and the data itself against what you receive in the Java code. If you&#39;re receiving the wrong data, you&#39;ve got no hope of receiving it properly.","body":"@passenger: But my point is that you shouldn&#39;t be trying to diagnose this just from one side. You should look at the results of <code>compress2()</code>, checking the length and the data itself against what you receive in the Java code. If you&#39;re receiving the wrong data, you&#39;ve got no hope of receiving it properly."},{"owner":{"account_id":2545986,"reputation":23,"user_id":2210783,"display_name":"passenger"},"score":0,"creation_date":1364295353,"post_id":15632979,"comment_id":22182058,"body_markdown":"@Jon Skeet Thanks for your effort. Yes, I do know that, and that&#39;s my next step, but as this is the most easily checked and I didn&#39;t have so much experience with this in Java, I just wanted to check first if _correctly_ compressed  block with compress2 on one side can be decompressed with Java function pasted above?","body":"@Jon Skeet Thanks for your effort. Yes, I do know that, and that&#39;s my next step, but as this is the most easily checked and I didn&#39;t have so much experience with this in Java, I just wanted to check first if <i>correctly</i> compressed  block with compress2 on one side can be decompressed with Java function pasted above?"},{"owner":{"account_id":2545986,"reputation":23,"user_id":2210783,"display_name":"passenger"},"score":0,"creation_date":1364296125,"post_id":15632979,"comment_id":22182497,"body_markdown":"@JonSkeet Checked, packedBuffer is the of correct size.","body":"@JonSkeet Checked, packedBuffer is the of correct size."}],"answers":[{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1364294993,"post_id":15633956,"comment_id":22181851,"body_markdown":"Please don&#39;t recommend using the platform default encoding like this - it&#39;s highly non-portable. When converting from a String to a byte array or vice versa, you should *always* specify the encoding.","body":"Please don&#39;t recommend using the platform default encoding like this - it&#39;s highly non-portable. When converting from a String to a byte array or vice versa, you should <i>always</i> specify the encoding."},{"owner":{"account_id":2545986,"reputation":23,"user_id":2210783,"display_name":"passenger"},"score":0,"creation_date":1364295033,"post_id":15633956,"comment_id":22181876,"body_markdown":"Thanks for responding, but does it also mean, that what is compressed in some C++ code with ZLib (using compress2 function) should be able to be decompressed with my Java unpack function?","body":"Thanks for responding, but does it also mean, that what is compressed in some C++ code with ZLib (using compress2 function) should be able to be decompressed with my Java unpack function?"},{"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"score":0,"creation_date":1364297853,"post_id":15633956,"comment_id":22183422,"body_markdown":"java.util.zip is based on ZLIB compression library (native dll) and I think that it is compatible with C++ Zlib. But if you can decompress packedBuffer with C++ then it is compressed in a different format. But I am sure there is a C++ - Java compatible format","body":"java.util.zip is based on ZLIB compression library (native dll) and I think that it is compatible with C++ Zlib. But if you can decompress packedBuffer with C++ then it is compressed in a different format. But I am sure there is a C++ - Java compatible format"}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364291505,"creation_date":1364291505,"answer_id":15633956,"question_id":15632979,"body_markdown":"I think the problem is not with unpack method but in packedBuffer content. Unpack works fine\r\n\r\n    public static byte[] pack(String s) throws IOException {\r\n    \tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    \tDeflaterOutputStream dout = new DeflaterOutputStream(out);\r\n    \tdout.write(s.getBytes());\r\n    \tdout.close();\r\n    \treturn out.toByteArray();\r\n    }\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n    \tbyte[] a = pack(&quot;123&quot;);\r\n    \tString s = unpack(a);   // calls your unpack\r\n    \tSystem.out.println(s);\r\n    }\r\noutput\r\n\r\n    123\r\n\r\n","title":"Java decompressing array of bytes","body":"<p>I think the problem is not with unpack method but in packedBuffer content. Unpack works fine</p>\n\n<pre><code>public static byte[] pack(String s) throws IOException {\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    DeflaterOutputStream dout = new DeflaterOutputStream(out);\n    dout.write(s.getBytes());\n    dout.close();\n    return out.toByteArray();\n}\n\npublic static void main(String[] args) throws Exception {\n    byte[] a = pack(\"123\");\n    String s = unpack(a);   // calls your unpack\n    System.out.println(s);\n}\n</code></pre>\n\n<p>output</p>\n\n<pre><code>123\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1664993382,"post_id":73960241,"comment_id":130597542,"body_markdown":"What? The zlib format is _not_ the zip format, and the gzip format is _not_ the zlib format. Those are three different things.","body":"What? The zlib format is <i>not</i> the zip format, and the gzip format is <i>not</i> the zlib format. Those are three different things."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1664996295,"post_id":73960241,"comment_id":130598447,"body_markdown":"@MarkAdler [zlib](https://en.wikipedia.org/wiki/Zlib) is definitely more, but if DEFLATE/INFLATE fails, this would seem worth a try. But you seem mere experienced w.r.t. to the zlib aspects and especially compress2. I will wait a bit.","body":"@MarkAdler <a href=\"https://en.wikipedia.org/wiki/Zlib\" rel=\"nofollow noreferrer\">zlib</a> is definitely more, but if DEFLATE/INFLATE fails, this would seem worth a try. But you seem mere experienced w.r.t. to the zlib aspects and especially compress2. I will wait a bit."},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1664998937,"post_id":73960241,"comment_id":130599238,"body_markdown":"The zlib _library_ is more. The zlib _format_ is a specific thing.","body":"The zlib <i>library</i> is more. The zlib <i>format</i> is a specific thing."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664972348,"creation_date":1664972348,"answer_id":73960241,"question_id":15632979,"body_markdown":"    public static String unpack(byte[] packedBuffer) {\r\n        try (GZipInputStream inStream = new GZipInputStream(\r\n                    new ByteArrayInputStream(packedBuffer));\r\n                ByteArrayOutputStream outStream = new ByteArrayOutputStream()) {\r\n            inStream.transferTo(outStream);\r\n            //...\r\n            return outStream.toString(StandardCharsets.UTF_8);\r\n        } catch(Exception e) {\r\n            JMDCLog.logError(&quot; unpacking buffer of size: &quot; + packedBuffer.length);\r\n            e.printStackTrace();\r\n            throw new IllegalArgumentException(e);\r\n        }\r\n    }\r\n\r\nZLib is the zip format, hence a GZipInputStream is fine.\r\nA you seem to expect the bytes to represent text, hence be in some encoding, add that encoding, Charset, to the conversion to String (which always holds Unicode).\r\nNote, UTF-8 is the encoding of the bytes. In your case it might be an other encoding.\r\n\r\nThe ugly try-with-resources syntax closes the streams even on exception or here the return.\r\n\r\nI rethrowed a RuntimeException as it seems dangerous to do something with no result.\r\n","title":"Java decompressing array of bytes","body":"<pre><code>public static String unpack(byte[] packedBuffer) {\n    try (GZipInputStream inStream = new GZipInputStream(\n                new ByteArrayInputStream(packedBuffer));\n            ByteArrayOutputStream outStream = new ByteArrayOutputStream()) {\n        inStream.transferTo(outStream);\n        //...\n        return outStream.toString(StandardCharsets.UTF_8);\n    } catch(Exception e) {\n        JMDCLog.logError(&quot; unpacking buffer of size: &quot; + packedBuffer.length);\n        e.printStackTrace();\n        throw new IllegalArgumentException(e);\n    }\n}\n</code></pre>\n<p>ZLib is the zip format, hence a GZipInputStream is fine.\nA you seem to expect the bytes to represent text, hence be in some encoding, add that encoding, Charset, to the conversion to String (which always holds Unicode).\nNote, UTF-8 is the encoding of the bytes. In your case it might be an other encoding.</p>\n<p>The ugly try-with-resources syntax closes the streams even on exception or here the return.</p>\n<p>I rethrowed a RuntimeException as it seems dangerous to do something with no result.</p>\n"}],"owner":{"account_id":2545986,"reputation":23,"user_id":2210783,"display_name":"passenger"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8000,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1688554980,"creation_date":1364288505,"question_id":15632979,"body_markdown":"On server (C++), binary data is compressed using `ZLib` function:\r\n\r\n    compress2()\r\n\r\nand it&#39;s sent over to client (Java).\r\nOn client side (Java), data should be decompressed using the following code snippet:\r\n\r\n    public static String unpack(byte[] packedBuffer) {\r\n        InflaterInputStream inStream = new InflaterInputStream(new ByteArrayInputStream( packedBuffer);\r\n        ByteArrayOutputStream outStream = new ByteArrayOutputStream();\r\n        int readByte;\r\n        try {\r\n            while((readByte = inStream.read()) != -1) {\r\n                outStream.write(readByte);\r\n            }\r\n        } catch(Exception e) {\r\n            JMDCLog.logError(&quot; unpacking buffer of size: &quot; + packedBuffer.length);\r\n            e.printStackTrace();\r\n        // ... the rest of the code follows\r\n    }\r\nProblem is that when it tries to read in while loop it always throws:\r\n   \r\n\r\n&gt;  java.util.zip.ZipException: invalid stored block lengths\r\n\r\nBefore I check for other possible causes can someone please tell me can I compress on one side with compress2 and decompress it on the other side using above code, so I can eliminate this as a problem? Also if someone has a possible clue about what might be wrong here (I know I didn&#39;t provide too much of of the code in here but projects are rather big.\r\n\r\nThanks.","title":"Java decompressing array of bytes","body":"<p>On server (C++), binary data is compressed using <code>ZLib</code> function:</p>\n\n<pre><code>compress2()\n</code></pre>\n\n<p>and it's sent over to client (Java).\nOn client side (Java), data should be decompressed using the following code snippet:</p>\n\n<pre><code>public static String unpack(byte[] packedBuffer) {\n    InflaterInputStream inStream = new InflaterInputStream(new ByteArrayInputStream( packedBuffer);\n    ByteArrayOutputStream outStream = new ByteArrayOutputStream();\n    int readByte;\n    try {\n        while((readByte = inStream.read()) != -1) {\n            outStream.write(readByte);\n        }\n    } catch(Exception e) {\n        JMDCLog.logError(\" unpacking buffer of size: \" + packedBuffer.length);\n        e.printStackTrace();\n    // ... the rest of the code follows\n}\n</code></pre>\n\n<p>Problem is that when it tries to read in while loop it always throws:</p>\n\n<blockquote>\n  <p>java.util.zip.ZipException: invalid stored block lengths</p>\n</blockquote>\n\n<p>Before I check for other possible causes can someone please tell me can I compress on one side with compress2 and decompress it on the other side using above code, so I can eliminate this as a problem? Also if someone has a possible clue about what might be wrong here (I know I didn't provide too much of of the code in here but projects are rather big.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","android","bluetooth-lowenergy"],"answers":[{"comments":[{"owner":{"account_id":13007434,"reputation":1659,"user_id":9401556,"display_name":"Mohamad Mousheimish"},"score":0,"creation_date":1589567707,"post_id":61825938,"comment_id":109355847,"body_markdown":"So what if someone need the MAC address? Like is it impossible? There&#39;s no workaround?","body":"So what if someone need the MAC address? Like is it impossible? There&#39;s no workaround?"},{"owner":{"account_id":2551478,"reputation":12142,"user_id":2215147,"accept_rate":67,"display_name":"Youssif Saeed"},"score":0,"creation_date":1589570622,"post_id":61825938,"comment_id":109357053,"body_markdown":"Yes it was made impossible because it can be an attack vector. The only workaround I can think of is if you downgrade your OS to pre Android v6.0. Why do you need your mac address? There might be another way to achieve what you want without accessing the mac address.","body":"Yes it was made impossible because it can be an attack vector. The only workaround I can think of is if you downgrade your OS to pre Android v6.0. Why do you need your mac address? There might be another way to achieve what you want without accessing the mac address."},{"owner":{"account_id":13007434,"reputation":1659,"user_id":9401556,"display_name":"Mohamad Mousheimish"},"score":1,"creation_date":1589624780,"post_id":61825938,"comment_id":109370614,"body_markdown":"Let&#39;s say I have a phone with MAC Address X, and I have another nearby device with MAC address B. When the two devices are nearby each other. I was able to get the MAC address of the other device using `BluetoothDevice` and `getAddress()` method from `ScanResult.getDevice()`. So what I still need is to catch my own device MAC address so that in the backend I save each user with his MAC address, and when I catch it in bluetooth, I know who&#39;s nearby me. I really don&#39;t know if I made myself clear it;s a little bit complicated to explain, sorry for the long comment.","body":"Let&#39;s say I have a phone with MAC Address X, and I have another nearby device with MAC address B. When the two devices are nearby each other. I was able to get the MAC address of the other device using <code>BluetoothDevice</code> and <code>getAddress()</code> method from <code>ScanResult.getDevice()</code>. So what I still need is to catch my own device MAC address so that in the backend I save each user with his MAC address, and when I catch it in bluetooth, I know who&#39;s nearby me. I really don&#39;t know if I made myself clear it;s a little bit complicated to explain, sorry for the long comment."},{"owner":{"account_id":2551478,"reputation":12142,"user_id":2215147,"accept_rate":67,"display_name":"Youssif Saeed"},"score":0,"creation_date":1589704489,"post_id":61825938,"comment_id":109393937,"body_markdown":"I think I understand your application, but as you can imagine this would be undesirable for Google because your app will know the location of any user that comes in close range with you, therefore violating their privacy. Have a look at this article which explains something a bit similar to your idea and its challenges:- https://wyldnetworks.com/wyld-mesh-covid-19-proximity-contact-tracing/","body":"I think I understand your application, but as you can imagine this would be undesirable for Google because your app will know the location of any user that comes in close range with you, therefore violating their privacy. Have a look at this article which explains something a bit similar to your idea and its challenges:- <a href=\"https://wyldnetworks.com/wyld-mesh-covid-19-proximity-contact-tracing/\" rel=\"nofollow noreferrer\">wyldnetworks.com/wyld-mesh-covid-19-proximity-contact-tracin&zwnj;&#8203;g</a>"},{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":0,"creation_date":1654699379,"post_id":61825938,"comment_id":128154267,"body_markdown":"Is there any other way then to fingerprint a device for access control?","body":"Is there any other way then to fingerprint a device for access control?"},{"owner":{"account_id":6868,"reputation":76799,"user_id":11683,"accept_rate":76,"display_name":"GSerg"},"score":0,"creation_date":1656695845,"post_id":61825938,"comment_id":128643159,"body_markdown":"Does this &quot;security&quot; also apply to company-managed devices (work profile etc)? I cannot find any confirmation that it doesn&#39;t, in which case Google gives the corporate users the finger, again. Here we were, in a fully managed work environment, trying to show a bluetooth pairing barcode on the screen, to pair the phone with a wireless barcode scanner that supports this type of pairing. And we needed to encode the phone&#39;s bluetooth address into the barcode for that...","body":"Does this &quot;security&quot; also apply to company-managed devices (work profile etc)? I cannot find any confirmation that it doesn&#39;t, in which case Google gives the corporate users the finger, again. Here we were, in a fully managed work environment, trying to show a bluetooth pairing barcode on the screen, to pair the phone with a wireless barcode scanner that supports this type of pairing. And we needed to encode the phone&#39;s bluetooth address into the barcode for that..."}],"tags":[],"owner":{"account_id":2551478,"reputation":12142,"user_id":2215147,"accept_rate":67,"display_name":"Youssif Saeed"},"comment_count":6,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1589566987,"creation_date":1589566987,"answer_id":61825938,"question_id":61823851,"body_markdown":"For security reasons this functionality is not available on Android since Android version 6.0[ \\[source\\]][1]:-\r\n\r\n&gt; To provide users with greater data protection, starting in this\r\n&gt; release, Android removes programmatic access to the device’s local\r\n&gt; hardware identifier for apps using the Wi-Fi and Bluetooth APIs. The\r\n&gt; WifiInfo.getMacAddress() and the BluetoothAdapter.getAddress() methods\r\n&gt; now return a constant value of 02:00:00:00:00:00.\r\n\r\nThe reason for this is to stop random applications gaining information about the phone&#39;s hardware addresses therefore violating the privacy/data protection.\r\n\r\nI hope this helps.\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-hardware-id","title":"Get the MAC address of bluetooth adapter in Android","body":"<p>For security reasons this functionality is not available on Android since Android version 6.0<a href=\"https://developer.android.com/about/versions/marshmallow/android-6.0-changes.html#behavior-hardware-id\" rel=\"noreferrer\"> [source]</a>:-</p>\n\n<blockquote>\n  <p>To provide users with greater data protection, starting in this\n  release, Android removes programmatic access to the device’s local\n  hardware identifier for apps using the Wi-Fi and Bluetooth APIs. The\n  WifiInfo.getMacAddress() and the BluetoothAdapter.getAddress() methods\n  now return a constant value of 02:00:00:00:00:00.</p>\n</blockquote>\n\n<p>The reason for this is to stop random applications gaining information about the phone's hardware addresses therefore violating the privacy/data protection.</p>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":13007434,"reputation":1659,"user_id":9401556,"display_name":"Mohamad Mousheimish"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655888642,"creation_date":1590059434,"answer_id":61933165,"question_id":61823851,"body_markdown":"What [Youssif Saeed][1] said in the other answer was correct. Android won&#39;t let us get the MAC address anymore.\r\n\r\nBrief description about what I want: \r\n\r\nLet&#39;s say I have a phone with MAC Address X, and I have another nearby device with MAC address B. When the two devices are nearby each other. I was able to get the MAC address of the other device using BluetoothDevice and getAddress() method from ScanResult.getDevice(). So what I still need is to catch my own device MAC address so that in the backend I save each user with his MAC address, and when I catch it in bluetooth, I know who&#39;s nearby me\r\n\r\nHere&#39;s the workaround I&#39;ve done in order to send some data between near devices.\r\n\r\nI found something called [Nearby Messages API][2]. It is available for Android and iOS and very easy to implement. Now I&#39;m able to catch near devices with my application installed on them, and send a unique Id generated by the application to identify the user.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2215147/youssif-saeed\r\n  [2]: https://developers.google.com/nearby/messages/overview","title":"Get the MAC address of bluetooth adapter in Android","body":"<p>What <a href=\"https://stackoverflow.com/users/2215147/youssif-saeed\">Youssif Saeed</a> said in the other answer was correct. Android won't let us get the MAC address anymore.</p>\n<p>Brief description about what I want:</p>\n<p>Let's say I have a phone with MAC Address X, and I have another nearby device with MAC address B. When the two devices are nearby each other. I was able to get the MAC address of the other device using BluetoothDevice and getAddress() method from ScanResult.getDevice(). So what I still need is to catch my own device MAC address so that in the backend I save each user with his MAC address, and when I catch it in bluetooth, I know who's nearby me</p>\n<p>Here's the workaround I've done in order to send some data between near devices.</p>\n<p>I found something called <a href=\"https://developers.google.com/nearby/messages/overview\" rel=\"nofollow noreferrer\">Nearby Messages API</a>. It is available for Android and iOS and very easy to implement. Now I'm able to catch near devices with my application installed on them, and send a unique Id generated by the application to identify the user.</p>\n"},{"tags":[],"owner":{"account_id":4009697,"reputation":34,"user_id":3303464,"display_name":"IET_DEMO"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683550708,"creation_date":1683550708,"answer_id":76200841,"question_id":61823851,"body_markdown":"I found a solution on my device for bluetooth and wifi mac.\r\nSome properties are not hidden .\r\nIf you run getprop on an unrooted shell inside your application, you might find these properties which are read only:\r\n\r\npersist.odm.wifimac: [xx:xx:xx:xx:xx:xx]\r\n\r\npersist.odm.bt.address: [xx:xx:xx:xx:xx:xx]\r\n\r\nFor my application, i run this command to get the bluetooth mac and then i read the content back from the datainputstream to get the mac adress.\r\n\r\ngetprop persist.odm.bt.address\r\n","title":"Get the MAC address of bluetooth adapter in Android","body":"<p>I found a solution on my device for bluetooth and wifi mac.\nSome properties are not hidden .\nIf you run getprop on an unrooted shell inside your application, you might find these properties which are read only:</p>\n<p>persist.odm.wifimac: [xx:xx:xx:xx:xx:xx]</p>\n<p>persist.odm.bt.address: [xx:xx:xx:xx:xx:xx]</p>\n<p>For my application, i run this command to get the bluetooth mac and then i read the content back from the datainputstream to get the mac adress.</p>\n<p>getprop persist.odm.bt.address</p>\n"}],"owner":{"account_id":13007434,"reputation":1659,"user_id":9401556,"display_name":"Mohamad Mousheimish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12798,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":61933165,"answer_count":3,"score":7,"last_activity_date":1688554962,"creation_date":1589559464,"question_id":61823851,"body_markdown":"I&#39;m trying to get the MAC address of bluetooth in my android device. So I&#39;m using the following method:\r\n\r\n    BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    String macAddress = mBluetoothAdapter.getAddress();\r\n\r\nThe address returned is `02:00:00:00:00:00`. I&#39;ve seen questions and posts saying that it&#39;s not possible anymore to get your MAC address in android unless your application is a **System Application**.\r\n\r\nSo what if I really need to get the MAC address of my phone?? It&#39;s impossible to do it or what?\r\n\r\n**Note:** I know this question is asked lots of times on SO, but most of the answers are out of date.\r\n\r\n\r\n ","title":"Get the MAC address of bluetooth adapter in Android","body":"<p>I'm trying to get the MAC address of bluetooth in my android device. So I'm using the following method:</p>\n\n<pre><code>BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\nString macAddress = mBluetoothAdapter.getAddress();\n</code></pre>\n\n<p>The address returned is <code>02:00:00:00:00:00</code>. I've seen questions and posts saying that it's not possible anymore to get your MAC address in android unless your application is a <strong>System Application</strong>.</p>\n\n<p>So what if I really need to get the MAC address of my phone?? It's impossible to do it or what?</p>\n\n<p><strong>Note:</strong> I know this question is asked lots of times on SO, but most of the answers are out of date.</p>\n"},{"tags":["java","android","java-native-interface"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1427050867,"post_id":29197543,"comment_id":46609534,"body_markdown":"`&quot;Test$1Decision&quot;` &lt;-- looks like you haven&#39;t specified the package name. You should check the return values from all the JNI functions. For example, `FindClass` will return `NULL` if the class can&#39;t be found.","body":"<code>&quot;Test$1Decision&quot;</code> &lt;-- looks like you haven&#39;t specified the package name. You should check the return values from all the JNI functions. For example, <code>FindClass</code> will return <code>NULL</code> if the class can&#39;t be found."},{"owner":{"account_id":3463261,"reputation":11,"user_id":3136756,"accept_rate":44,"display_name":"user3136756"},"score":0,"creation_date":1427052689,"post_id":29197543,"comment_id":46610157,"body_markdown":"FindClass is not returning null and the fieldID is being retrieved. The problem is in the GetObjectField part","body":"FindClass is not returning null and the fieldID is being retrieved. The problem is in the GetObjectField part"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1427053033,"post_id":29197543,"comment_id":46610269,"body_markdown":"Well, why are you using `GetObjectField` rather than `GetBooleanField`?","body":"Well, why are you using <code>GetObjectField</code> rather than <code>GetBooleanField</code>?"},{"owner":{"account_id":3463261,"reputation":11,"user_id":3136756,"accept_rate":44,"display_name":"user3136756"},"score":0,"creation_date":1427054724,"post_id":29197543,"comment_id":46610810,"body_markdown":"I tried with GetBooleanField but it still crashes","body":"I tried with GetBooleanField but it still crashes"},{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":1,"creation_date":1427055076,"post_id":29197543,"comment_id":46610942,"body_markdown":"Crashes how? What exactly does the stack trace look like?","body":"Crashes how? What exactly does the stack trace look like?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1427059743,"post_id":29197543,"comment_id":46612400,"body_markdown":"Please post the correct code using GetBooleanField() and the crash.","body":"Please post the correct code using GetBooleanField() and the crash."},{"owner":{"account_id":5438128,"reputation":11717,"user_id":4326936,"accept_rate":39,"display_name":"alijandro"},"score":0,"creation_date":1427103016,"post_id":29197543,"comment_id":46624185,"body_markdown":"The java code you posted is wrong, it doesn&#39;t have any help.","body":"The java code you posted is wrong, it doesn&#39;t have any help."},{"owner":{"account_id":2996877,"reputation":2143,"user_id":2543253,"display_name":"user2543253"},"score":0,"creation_date":1427111030,"post_id":29197543,"comment_id":46628561,"body_markdown":"If you call the right method (GetBooleanField as others have pointed out) and you&#39;re sure you have the correct field id it must be the obj that&#39;s the problem. Where do you get that from?","body":"If you call the right method (GetBooleanField as others have pointed out) and you&#39;re sure you have the correct field id it must be the obj that&#39;s the problem. Where do you get that from?"}],"answers":[{"tags":[],"owner":{"account_id":8707619,"reputation":219,"user_id":6515005,"display_name":"rafal1137"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688554771,"creation_date":1688554771,"answer_id":76619673,"question_id":29197543,"body_markdown":"I suggest you to take a look at my code\r\n\r\n    cjv.f_id      = (*cjv.env)-&gt;GetStaticFieldID(cjv.env, cjv.clazz, &quot;UiMenu&quot;, &quot;Z&quot;);\r\n    cjv.f_boolean = (*cjv.env)-&gt;GetStaticBooleanField(cjv.env, cjv.clazz, cjv.f_id);\r\n\r\nIn my case I need it to be static but you should get an idea instead of obj you should try with boolean field.","title":"Finding value of instance variable in JNI","body":"<p>I suggest you to take a look at my code</p>\n<pre><code>cjv.f_id      = (*cjv.env)-&gt;GetStaticFieldID(cjv.env, cjv.clazz, &quot;UiMenu&quot;, &quot;Z&quot;);\ncjv.f_boolean = (*cjv.env)-&gt;GetStaticBooleanField(cjv.env, cjv.clazz, cjv.f_id);\n</code></pre>\n<p>In my case I need it to be static but you should get an idea instead of obj you should try with boolean field.</p>\n"}],"owner":{"account_id":3463261,"reputation":11,"user_id":3136756,"accept_rate":44,"display_name":"user3136756"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688554771,"creation_date":1427045462,"question_id":29197543,"body_markdown":"The following code shows the structure of my method which is located in the &#39;Test&#39; class and I need to access the value of my Boolean variable &#39;test_var&#39;.  \r\n\r\n    public Decision declare(){\r\n     class Decide extends Decision{\r\n           public boolean test_var = false;\r\n\r\n     }\r\n    \r\n     final Decide  d = new Decide();\r\n\r\n     d.Add(new Rule(&quot;decision&quot;)){\r\n      public void take(){\r\n        d.test_var = true;\r\n        }\r\n\r\n      });\r\n      return d;\r\n    }\r\n\r\nI tried the following in JNI but the android application crashes when trying to find the boolean value through the GetObjectField.\r\n\r\n        jclass decision_class = (*env)-&gt;FindClass(env, &quot;Test$1Decision&quot;);\r\n\r\n\tjfieldID varID = (*env)-&gt;GetFieldID(env, decision_class, &quot;test_var&quot;, &quot;Z&quot;);\r\n\r\n\tif(NULL == varID) log(&quot;varID not found\\n&quot;)\r\n\r\n\telse log(&quot;varID was found!!!\\n&quot;)\r\n\r\n\t//jboolean result = (*env)-&gt;GetBooleanField(env, obj, varID);\r\n\tjboolean result = (*env)-&gt;GetObjectField(env, obj, varID);\r\n\r\n\tlog(&quot;In C the boolean value is:&quot;, result)\r\n\r\nAm I accessing the field in the wrong way? Any suggestions are much appreciated. Thanks in advance. ","title":"Finding value of instance variable in JNI","body":"<p>The following code shows the structure of my method which is located in the 'Test' class and I need to access the value of my Boolean variable 'test_var'.  </p>\n\n<pre><code>public Decision declare(){\n class Decide extends Decision{\n       public boolean test_var = false;\n\n }\n\n final Decide  d = new Decide();\n\n d.Add(new Rule(\"decision\")){\n  public void take(){\n    d.test_var = true;\n    }\n\n  });\n  return d;\n}\n</code></pre>\n\n<p>I tried the following in JNI but the android application crashes when trying to find the boolean value through the GetObjectField.</p>\n\n<pre><code>    jclass decision_class = (*env)-&gt;FindClass(env, \"Test$1Decision\");\n\njfieldID varID = (*env)-&gt;GetFieldID(env, decision_class, \"test_var\", \"Z\");\n\nif(NULL == varID) log(\"varID not found\\n\")\n\nelse log(\"varID was found!!!\\n\")\n\n//jboolean result = (*env)-&gt;GetBooleanField(env, obj, varID);\njboolean result = (*env)-&gt;GetObjectField(env, obj, varID);\n\nlog(\"In C the boolean value is:\", result)\n</code></pre>\n\n<p>Am I accessing the field in the wrong way? Any suggestions are much appreciated. Thanks in advance. </p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":22865693,"reputation":29,"user_id":17009196,"display_name":"gold-three"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688554455,"creation_date":1688434426,"answer_id":76608925,"question_id":76604459,"body_markdown":"Omg, I forgot to override the interface `UserDetails` inner method: `isEnabled()`, Hahahah. Spent two hours finding this bug.\r\n\r\n```java\r\n/**\r\n * Indicates whether the user is enabled or disabled. A disabled user cannot be\r\n * authenticated.\r\n * @return &lt;code&gt;true&lt;/code&gt; if the user is enabled, &lt;code&gt;false&lt;/code&gt; otherwise\r\n */\r\nboolean isEnabled();\r\n```\r\n","title":"Spring Security login failed","body":"<p>Omg, I forgot to override the interface <code>UserDetails</code> inner method: <code>isEnabled()</code>, Hahahah. Spent two hours finding this bug.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Indicates whether the user is enabled or disabled. A disabled user cannot be\n * authenticated.\n * @return &lt;code&gt;true&lt;/code&gt; if the user is enabled, &lt;code&gt;false&lt;/code&gt; otherwise\n */\nboolean isEnabled();\n</code></pre>\n"}],"owner":{"account_id":22865693,"reputation":29,"user_id":17009196,"display_name":"gold-three"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688554455,"creation_date":1688384997,"question_id":76604459,"body_markdown":"Use customized datasource and Spring Security password encoder, but login failed.  \r\nSpring Boot version 2.7.0  \r\nI first register a user named &quot;132456&quot;, passsword &quot;123456&quot;, then login, but failed;  \r\nThen I create a test class: print true\r\n\r\n``` java\r\n    @Test\r\n    public void selectTest() {\r\n        UserDetails userDetails = userInfoService.loadUserByUsername(&quot;123456&quot;);\r\n        System.out.println(userDetails);\r\n        boolean matches = passwordEncoder.matches(&quot;123456&quot;, userDetails.getPassword());\r\n        System.out.println(matches);\r\n    }\r\n```\r\n\r\n**Spring Security config**\r\n``` java\r\n@EnableWebSecurity\r\n@Configuration\r\n@Slf4j\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\npublic class SecurityConfiguration {\r\n\r\n    @Autowired\r\n    UserInfoService userInfoService;\r\n\r\n    @Autowired\r\n    Gson gson;\r\n\r\n    @Autowired\r\n    JwtTokenFilter jwtTokenFilter;\r\n\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        .... login url has pass\r\n        http.formLogin().loginProcessingUrl(&quot;/api/login&quot;).permitAll()\r\n                .successHandler((request, response, authentication) -&gt; {\r\n                    this.sendMessage(response, authentication);\r\n                })\r\n                .failureHandler((request, response, exception) -&gt;\r\n                        jwtTokenFilter.sendError(response, HttpServletResponse.SC_UNAUTHORIZED, &quot;username or password error&quot;));\r\n        http.logout().invalidateHttpSession(true).clearAuthentication(false);\r\n        http.rememberMe().disable();\r\n        http.csrf().disable();\r\n        return http.build();\r\n    }\r\n    \r\n    @Bean\r\n    DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userInfoService);\r\n        authProvider.setPasswordEncoder(passwordEncoder);\r\n        return authProvider;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**userServiceImpl**\r\n\r\n``` java \r\n// use mybatisplus framework\r\n@Service\r\npublic class UserInfoServiceImpl extends ServiceImpl&lt;UserInfoMapper, UserInfo&gt; implements UserInfoService {\r\n\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        LambdaQueryWrapper&lt;UserInfo&gt; queryWrapper = new LambdaQueryWrapper&lt;&gt;();\r\n        queryWrapper.eq(UserInfo::getUsername, username);\r\n        return getOne(queryWrapper);\r\n    }\r\n\r\n    @Override\r\n    public boolean create(UserInfoDTO userInfoDTO) {\r\n        userInfoDTO.setPassword(passwordEncoder.encode(userInfoDTO.getPassword()));\r\n        return save(BeanUtil.copyProperties(userInfoDTO, UserInfo.class));\r\n    }\r\n}\r\n```\r\n\r\nlogin success, then return token.","title":"Spring Security login failed","body":"<p>Use customized datasource and Spring Security password encoder, but login failed.<br />\nSpring Boot version 2.7.0<br />\nI first register a user named &quot;132456&quot;, passsword &quot;123456&quot;, then login, but failed;<br />\nThen I create a test class: print true</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void selectTest() {\n        UserDetails userDetails = userInfoService.loadUserByUsername(&quot;123456&quot;);\n        System.out.println(userDetails);\n        boolean matches = passwordEncoder.matches(&quot;123456&quot;, userDetails.getPassword());\n        System.out.println(matches);\n    }\n</code></pre>\n<p><strong>Spring Security config</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@Configuration\n@Slf4j\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\npublic class SecurityConfiguration {\n\n    @Autowired\n    UserInfoService userInfoService;\n\n    @Autowired\n    Gson gson;\n\n    @Autowired\n    JwtTokenFilter jwtTokenFilter;\n\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        .... login url has pass\n        http.formLogin().loginProcessingUrl(&quot;/api/login&quot;).permitAll()\n                .successHandler((request, response, authentication) -&gt; {\n                    this.sendMessage(response, authentication);\n                })\n                .failureHandler((request, response, exception) -&gt;\n                        jwtTokenFilter.sendError(response, HttpServletResponse.SC_UNAUTHORIZED, &quot;username or password error&quot;));\n        http.logout().invalidateHttpSession(true).clearAuthentication(false);\n        http.rememberMe().disable();\n        http.csrf().disable();\n        return http.build();\n    }\n    \n    @Bean\n    DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userInfoService);\n        authProvider.setPasswordEncoder(passwordEncoder);\n        return authProvider;\n    }\n\n}\n</code></pre>\n<p><strong>userServiceImpl</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>// use mybatisplus framework\n@Service\npublic class UserInfoServiceImpl extends ServiceImpl&lt;UserInfoMapper, UserInfo&gt; implements UserInfoService {\n\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        LambdaQueryWrapper&lt;UserInfo&gt; queryWrapper = new LambdaQueryWrapper&lt;&gt;();\n        queryWrapper.eq(UserInfo::getUsername, username);\n        return getOne(queryWrapper);\n    }\n\n    @Override\n    public boolean create(UserInfoDTO userInfoDTO) {\n        userInfoDTO.setPassword(passwordEncoder.encode(userInfoDTO.getPassword()));\n        return save(BeanUtil.copyProperties(userInfoDTO, UserInfo.class));\n    }\n}\n</code></pre>\n<p>login success, then return token.</p>\n"},{"tags":["java","java-8","x509certificate","java-security"],"owner":{"account_id":15691378,"reputation":97,"user_id":11322355,"display_name":"recvfrom_ro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688554369,"creation_date":1688554369,"question_id":76619621,"body_markdown":"**A brief introduction:**\r\n\r\nGot a strange problem with **java.security.cert.CertificateFactory.generateCertificates** when loading data for detached signature with old java8 jdk. \r\n\r\nLuckily we observed the problem only on the old openjdk8 versions, and no problems on more recent updates. \r\n\r\nThe error is &quot;Unable to initialize, java.io.IOException: Short read of DER length&quot; but it does not matter, cause we know that the data is ok and more recent openjdk8 versions have no problems loading certificate data.\r\n\r\nBinary search experiment with versions from https://wiki.openjdk.org/display/jdk8u/Main\r\nlead us that problem dissapears between 1.8.0_312(still does not work) and 1.8.0_322(loads ok)\r\n\r\n**And the question is:**\r\n\r\nReading release notes for openjdk8 322 here https://mail.openjdk.org/pipermail/jdk8u-dev/2022-January/014522.html does not give a clear answer.\r\n\r\nMay be the fix is in &quot;JDK-8268488: More valuable DerValues&quot;\r\n\r\nBut we can&#39;t find what are the details, and details link https://builds.shipilev.net/backports-monitor/release-notes-openjdk8u322.txt does not have anything about JDK-8268488\r\n\r\nCan someone share some light or give a hint how to find details about JDK-8268488?\r\n\r\n**PS** For testing purpose to isolate from any libraries on the system we do a check with simple code \r\n\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.security.cert.Certificate;\r\nimport java.security.cert.CertificateFactory;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.util.Collection;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.nio.file.Path;\r\n\r\n\r\npublic class Main {\r\n    public static void main (String[] args) throws Exception{\r\n\r\n      if( args.length != 1) {\r\n        System.err.println(&quot;Must pass file argument&quot;);\r\n        return;\r\n      }\r\n\r\n      final Path path = Paths.get(args[0]);\r\n\r\n      final byte[] data = Files.readAllBytes(path);\r\n\r\n      final CertificateFactory  cf = CertificateFactory.getInstance(&quot;X509&quot;);\r\n      Collection&lt;? extends Certificate&gt; certs = cf.generateCertificates(new ByteArrayInputStream(data));\r\n      System.out.println(&quot;certs: &quot; + certs);\r\n\r\n    }\r\n}\r\n","title":"Searching for details about JDK-8268488 in openjdk8 322 release","body":"<p><strong>A brief introduction:</strong></p>\n<p>Got a strange problem with <strong>java.security.cert.CertificateFactory.generateCertificates</strong> when loading data for detached signature with old java8 jdk.</p>\n<p>Luckily we observed the problem only on the old openjdk8 versions, and no problems on more recent updates.</p>\n<p>The error is &quot;Unable to initialize, java.io.IOException: Short read of DER length&quot; but it does not matter, cause we know that the data is ok and more recent openjdk8 versions have no problems loading certificate data.</p>\n<p>Binary search experiment with versions from <a href=\"https://wiki.openjdk.org/display/jdk8u/Main\" rel=\"nofollow noreferrer\">https://wiki.openjdk.org/display/jdk8u/Main</a>\nlead us that problem dissapears between 1.8.0_312(still does not work) and 1.8.0_322(loads ok)</p>\n<p><strong>And the question is:</strong></p>\n<p>Reading release notes for openjdk8 322 here <a href=\"https://mail.openjdk.org/pipermail/jdk8u-dev/2022-January/014522.html\" rel=\"nofollow noreferrer\">https://mail.openjdk.org/pipermail/jdk8u-dev/2022-January/014522.html</a> does not give a clear answer.</p>\n<p>May be the fix is in &quot;JDK-8268488: More valuable DerValues&quot;</p>\n<p>But we can't find what are the details, and details link <a href=\"https://builds.shipilev.net/backports-monitor/release-notes-openjdk8u322.txt\" rel=\"nofollow noreferrer\">https://builds.shipilev.net/backports-monitor/release-notes-openjdk8u322.txt</a> does not have anything about JDK-8268488</p>\n<p>Can someone share some light or give a hint how to find details about JDK-8268488?</p>\n<p><strong>PS</strong> For testing purpose to isolate from any libraries on the system we do a check with simple code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.security.cert.Certificate;\nimport java.security.cert.CertificateFactory;\nimport java.io.ByteArrayInputStream;\nimport java.util.Collection;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.nio.file.Path;\n\n\npublic class Main {\n    public static void main (String[] args) throws Exception{\n\n      if( args.length != 1) {\n        System.err.println(&quot;Must pass file argument&quot;);\n        return;\n      }\n\n      final Path path = Paths.get(args[0]);\n\n      final byte[] data = Files.readAllBytes(path);\n\n      final CertificateFactory  cf = CertificateFactory.getInstance(&quot;X509&quot;);\n      Collection&lt;? extends Certificate&gt; certs = cf.generateCertificates(new ByteArrayInputStream(data));\n      System.out.println(&quot;certs: &quot; + certs);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","google-calendar-api"],"comments":[{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1688557739,"post_id":76619598,"comment_id":135088569,"body_markdown":"sounds like your REFRESHTOKEN is expired request a new one","body":"sounds like your REFRESHTOKEN is expired request a new one"},{"owner":{"account_id":27695033,"reputation":1,"user_id":21140941,"display_name":"Shivangi Malik"},"score":0,"creation_date":1688563688,"post_id":76619598,"comment_id":135090102,"body_markdown":"I have created a new one, as well but th resfresh token is not working once access token is expired.","body":"I have created a new one, as well but th resfresh token is not working once access token is expired."}],"owner":{"account_id":27695033,"reputation":1,"user_id":21140941,"display_name":"Shivangi Malik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688554369,"creation_date":1688554181,"question_id":76619598,"body_markdown":"I created an app in my google developer console account back in 2021 &amp; I have the client ID, client secret, access token &amp; refresh token for this app. I&#39;m trying to book the calender alongwith gmeet url with my spring boot application. It was working fine till today &amp; suddenly I am getting this error which says:\r\n\r\n[Stack Trace](https://i.stack.imgur.com/rjCVE.png)\r\n\r\n    com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request\r\n{\r\n&quot;error&quot; : &quot;invalid_grant&quot;,\r\n&quot;error_description&quot; : &quot;Token has been expired or revoked.&quot;\r\n}\r\n      at com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:105)\r\n      at com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:287)\r\n      at com.google.api.client.auth.oauth2.TokenRequest.execute(TokenRequest.java:307)\r\n      at com.google.api.client.auth.oauth2.Credential.executeRefreshToken(Credential.java:570)\r\n      at com.google.api.client.googleapis.auth.oauth2.GoogleCredential.executeRefreshToken(GoogleCredential.java:372)\r\n      at com.google.api.client.auth.oauth2.Credential.refreshToken(Credential.java:489)\r\n      at com.google.api.client.auth.oauth2.Credential.handleResponse(Credential.java:272)\r\n      at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1015)\r\n      at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\r\n      at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\r\n      at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\r\n      at com.oodles.service.recruitment.GoogleCalenderService.addEvent(GoogleCalenderService.java:105)\r\n      at com.oodles.service.recruitment.GoogleCalenderService$$FastClassBySpringCGLIB$$fcb2042c.invoke(&lt;generated&gt;)\r\n      at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n      at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n      at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n      at com.oodles.service.recruitment.GoogleCalenderService$$EnhancerBySpringCGLIB$$e65c2348.addEvent(&lt;generated&gt;)\r\n      at com.oodles.service.recruitment.InterviewPanelService.addInterviewPanel(InterviewPanelService.java:312)\r\n      at com.oodles.service.recruitment.InterviewPanelService$$FastClassBySpringCGLIB$$902f1a3c.invoke(&lt;generated&gt;)\r\n      at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n      at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n      at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n      at com.oodles.service.recruitment.InterviewPanelService$$EnhancerBySpringCGLIB$$ce69af78.addInterviewPanel(&lt;generated&gt;)\r\n      at com.oodles.controller.recruitment.InterviewPanelController.addInterviewPanel(InterviewPanelController.java:79)\r\n      at com.oodles.controller.recruitment.InterviewPanelController$$FastClassBySpringCGLIB$$de518678.invoke(&lt;generated&gt;)\r\n      at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n      at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n      at net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\r\n      at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n      at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n      at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n      at com.oodles.controller.recruitment.InterviewPanelController$$EnhancerBySpringCGLIB$$371cf812.addInterviewPanel(&lt;generated&gt;)\r\n      at sun.reflect.GeneratedMethodAccessor702.invoke(Unknown Source)\r\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n      at java.lang.reflect.Method.invoke(Method.java:498)\r\n      at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\r\n      at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\r\n      at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n      at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\r\n      at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n      at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n      at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)\r\n      at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)\r\n      at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n      at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n      at javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\r\n      at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n      at javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\r\n      at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n      at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n      at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n      at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n      at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at com.oodles.security.JwtAuthorizationFilter.doFilterInternal(JwtAuthorizationFilter.java:57)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n      at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n      at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n      at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n      at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n      at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n      at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n      at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n      at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n      at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n      at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n      at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n      at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n      at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n      at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n      at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n      at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n      at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\r\n      at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n      at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\r\n      at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\r\n      at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n      at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n      at java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\n**Following is the code I am using** \r\n\r\n\r\n```\r\npublic GoogleCredential getCredentilas() throws IOException, GeneralSecurityException {\r\n\r\n\t\tGoogleCredential credential = new GoogleCredential.Builder().setTransport(new NetHttpTransport())\r\n\t\t\t\t.setJsonFactory(new JacksonFactory())\r\n\t\t\t\t.setClientSecrets(CLIENT-ID,SECRET-ID)\r\n\t\t\t\r\n\t\t\t\t.build()\r\n\t\t\t\t.setExpiresInSeconds(3600L)\r\n\t\t\t\t.createScoped(SCOPES)\r\n\t\t\t\t.setAccessToken(\r\n\t\t\t\t\t\tACCESSTOKEN)\r\n\t\t\t\t\r\n\t\t\t\t.setRefreshToken(\r\n\t\t\t\t\t\tREFRESHTOKEN).\r\n\t\tSystem.out.println(&quot;creds...&quot;+credential.getRefreshToken()+&quot;,,,&quot;+credential.getExpiresInSeconds());\r\n\t\treturn credential;\r\n\t}\r\n```\r\n\r\n\r\n\r\n\r\nI have tried generating another token but facing same issue after 1 hour once access token is expired.","title":"ERROR c.g.a.client.auth.oauth2.Credential - unable to refresh token","body":"<p>I created an app in my google developer console account back in 2021 &amp; I have the client ID, client secret, access token &amp; refresh token for this app. I'm trying to book the calender alongwith gmeet url with my spring boot application. It was working fine till today &amp; suddenly I am getting this error which says:</p>\n<p><a href=\"https://i.stack.imgur.com/rjCVE.png\" rel=\"nofollow noreferrer\">Stack Trace</a></p>\n<pre><code>com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request\n</code></pre>\n<p>{\n&quot;error&quot; : &quot;invalid_grant&quot;,\n&quot;error_description&quot; : &quot;Token has been expired or revoked.&quot;\n}\nat com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:105)\nat com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:287)\nat com.google.api.client.auth.oauth2.TokenRequest.execute(TokenRequest.java:307)\nat com.google.api.client.auth.oauth2.Credential.executeRefreshToken(Credential.java:570)\nat com.google.api.client.googleapis.auth.oauth2.GoogleCredential.executeRefreshToken(GoogleCredential.java:372)\nat com.google.api.client.auth.oauth2.Credential.refreshToken(Credential.java:489)\nat com.google.api.client.auth.oauth2.Credential.handleResponse(Credential.java:272)\nat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1015)\nat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:419)\nat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:352)\nat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:469)\nat com.oodles.service.recruitment.GoogleCalenderService.addEvent(GoogleCalenderService.java:105)\nat com.oodles.service.recruitment.GoogleCalenderService$$FastClassBySpringCGLIB$$fcb2042c.invoke()\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\nat com.oodles.service.recruitment.GoogleCalenderService$$EnhancerBySpringCGLIB$$e65c2348.addEvent()\nat com.oodles.service.recruitment.InterviewPanelService.addInterviewPanel(InterviewPanelService.java:312)\nat com.oodles.service.recruitment.InterviewPanelService$$FastClassBySpringCGLIB$$902f1a3c.invoke()\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\nat com.oodles.service.recruitment.InterviewPanelService$$EnhancerBySpringCGLIB$$ce69af78.addInterviewPanel()\nat com.oodles.controller.recruitment.InterviewPanelController.addInterviewPanel(InterviewPanelController.java:79)\nat com.oodles.controller.recruitment.InterviewPanelController$$FastClassBySpringCGLIB$$de518678.invoke()\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat net.bull.javamelody.MonitoringSpringInterceptor.invoke(MonitoringSpringInterceptor.java:76)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\nat com.oodles.controller.recruitment.InterviewPanelController$$EnhancerBySpringCGLIB$$371cf812.addInterviewPanel()\nat sun.reflect.GeneratedMethodAccessor702.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1061)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:961)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:652)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\nat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat com.oodles.security.JwtAuthorizationFilter.doFilterInternal(JwtAuthorizationFilter.java:57)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:888)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1597)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:748)</p>\n<p><strong>Following is the code I am using</strong></p>\n<pre><code>public GoogleCredential getCredentilas() throws IOException, GeneralSecurityException {\n\n        GoogleCredential credential = new GoogleCredential.Builder().setTransport(new NetHttpTransport())\n                .setJsonFactory(new JacksonFactory())\n                .setClientSecrets(CLIENT-ID,SECRET-ID)\n            \n                .build()\n                .setExpiresInSeconds(3600L)\n                .createScoped(SCOPES)\n                .setAccessToken(\n                        ACCESSTOKEN)\n                \n                .setRefreshToken(\n                        REFRESHTOKEN).\n        System.out.println(&quot;creds...&quot;+credential.getRefreshToken()+&quot;,,,&quot;+credential.getExpiresInSeconds());\n        return credential;\n    }\n</code></pre>\n<p>I have tried generating another token but facing same issue after 1 hour once access token is expired.</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688552140,"post_id":76619305,"comment_id":135087439,"body_markdown":"`Runnable` is an interface and has no constructor. If you mean the constructor `Thread(String name)` you can simply use `new Thread(&quot;name of the thread&quot;)`","body":"<code>Runnable</code> is an interface and has no constructor. If you mean the constructor <code>Thread(String name)</code> you can simply use <code>new Thread(&quot;name of the thread&quot;)</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688552226,"post_id":76619305,"comment_id":135087453,"body_markdown":"*Why is it not invoking Thread(String name) instance?* becuase you use a lamda/runable as parameter","body":"<i>Why is it not invoking Thread(String name) instance?</i> becuase you use a lamda/runable as parameter"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1688552239,"post_id":76619305,"comment_id":135087456,"body_markdown":"BTW: please share code always as text not as image","body":"BTW: please share code always as text not as image"},{"owner":{"account_id":7974315,"reputation":13,"user_id":6017978,"display_name":"A Hybris Dev"},"score":0,"creation_date":1688552270,"post_id":76619305,"comment_id":135087466,"body_markdown":"I want to use lambda expression. I can use all these things via Java 7 but that is not the point actually. My question is about how Java 8 really resolve which method/ constructor  needs to be invoked.","body":"I want to use lambda expression. I can use all these things via Java 7 but that is not the point actually. My question is about how Java 8 really resolve which method/ constructor  needs to be invoked."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1688552471,"post_id":76619305,"comment_id":135087517,"body_markdown":"When you write `()-&gt;{...}` your creating a lamba expression that has a no argument method that can implement a &quot;functional interface&quot;. The Thread constructors are checked, and there is one constructor that has a functional interface with no arguments. `Thread(Runnable)` thus the java compiler will choose that constructor and your lambda expression is a Runnable. `String` is not a functional interface so there is no abiguity there.","body":"When you write <code>()-&gt;{...}</code> your creating a lamba expression that has a no argument method that can implement a &quot;functional interface&quot;. The Thread constructors are checked, and there is one constructor that has a functional interface with no arguments. <code>Thread(Runnable)</code> thus the java compiler will choose that constructor and your lambda expression is a Runnable. <code>String</code> is not a functional interface so there is no abiguity there."},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1688552481,"post_id":76619305,"comment_id":135087521,"body_markdown":"@AHybrisDev The lambda-function you are passing conforms to the functional interface `Runnable`. That&#39;s how Java is able to resolve the correct constructor.","body":"@AHybrisDev The lambda-function you are passing conforms to the functional interface <code>Runnable</code>. That&#39;s how Java is able to resolve the correct constructor."}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688552950,"creation_date":1688552950,"answer_id":76619439,"question_id":76619305,"body_markdown":"So this is your expression:\r\n```java\r\nnew Thread( () -&gt; {System.out.println(...);}\r\n```\r\nTake a look at the lambda expression: `() -&gt; {System.out.println(...);}`\r\nIt doesn&#39;t have input parameters and doesn&#39;t return any result.\r\nBasically its similar to the function that is defined as `void someName()` (no parameters, and returns `void`)\r\n\r\nOk, now in Java when there is a functional interface it can be &quot;substituted&quot; with lambda expression.\r\n\r\nIn this case Java has to &quot;chose&quot; a suitable constructor, and indeed the interface `Runnable` matches this lambda:\r\n\r\n```java\r\ninterface Runnable {\r\n   void run(); // note, no input parameters, and it returns void\r\n}\r\n```\r\nClass `Thread` has a constructor that accepts `Runnable` as a parameter:\r\n\r\n```java\r\npublic class Thread {\r\n\r\n    public Thread(Runnable runnable) {...}\r\n\r\n     other constructors as well...\r\n}\r\n```\r\n\r\nSo Basically Java picks this constructor and calls it because the lambda expression that you specified matches `Runnable` interface\r\n\r\n","title":"How lambda expression resolve which method to call?","body":"<p>So this is your expression:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Thread( () -&gt; {System.out.println(...);}\n</code></pre>\n<p>Take a look at the lambda expression: <code>() -&gt; {System.out.println(...);}</code>\nIt doesn't have input parameters and doesn't return any result.\nBasically its similar to the function that is defined as <code>void someName()</code> (no parameters, and returns <code>void</code>)</p>\n<p>Ok, now in Java when there is a functional interface it can be &quot;substituted&quot; with lambda expression.</p>\n<p>In this case Java has to &quot;chose&quot; a suitable constructor, and indeed the interface <code>Runnable</code> matches this lambda:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Runnable {\n   void run(); // note, no input parameters, and it returns void\n}\n</code></pre>\n<p>Class <code>Thread</code> has a constructor that accepts <code>Runnable</code> as a parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Thread {\n\n    public Thread(Runnable runnable) {...}\n\n     other constructors as well...\n}\n</code></pre>\n<p>So Basically Java picks this constructor and calls it because the lambda expression that you specified matches <code>Runnable</code> interface</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688554294,"creation_date":1688554294,"answer_id":76619610,"question_id":76619305,"body_markdown":"Lambdas are resolved &#39;inside out&#39;. You can try this to confirm it:\r\n\r\n```\r\nObject o = () -&gt; System.out.println(&quot;Hello, World!&quot;);\r\n```\r\n\r\ndoes not compile. That&#39;s because all lambdas need to be &#39;resolved&#39; - the compiler __must__ know which _functional interface type_ the lambda is representing.\r\n\r\nA functional interface is any interface where you end up with precisely 1 method if you remove all methods which:\r\n\r\n* Have a `default` implementation.\r\n* Which match the exact signature of any method defined in `java.lang.Object` (such as the `toString` in `interface Example { String toString(); }`).\r\n\r\nWhether you stick `@FunctionalInterface` on it or not, that is a functional interface (the annotation merely means: If the interface _is not_ a functional interface, you get a compiler error - it&#39;s compiler-checked documentation).\r\n\r\nFrom the context where you write a lambda, it must be possible for the compiler to determine exactly 1 functionalinterface type and the lambda is then interpreted as that type. The compiler goes pretty far in attempting to figure this out, though. Obviously, this works:\r\n\r\n```\r\nRunnable r = () -&gt; System.out.println(&quot;Hello, World!&quot;);\r\n```\r\n\r\nThat&#39;s because `Runnable` is a functional interface, and `Object` is not (it&#39;s not even an interface).\r\n\r\nBut, this also works:\r\n\r\n```\r\nvoid foo(String o) {}\r\nvoid foo(Runnable r) {}\r\n\r\n...\r\n\r\nfoo(() -&gt; System.out.println(&quot;Hello, World!&quot;));\r\n```\r\n\r\nBecause the compiler&#39;s logic goes more or less as follows:\r\n\r\n* Okay, foo is being invoked with 1 parameter. Let&#39;s see all the `foo` methods available that fit that. There are 2; one takes a `String`, the other takes a `Runnable` (in java, the identity of a method isn&#39;t just the name, it also includes the parameter types, hence, we have 2 completely unrelated methods here, both of which so happen to be named `foo`).\r\n* Given that a lambda is being passed as param1, __only__ those `foo` methods whose first param type is a functional interface type are even relevant. Applying that filter, only one `foo` method remains - the `foo(Runnable r)` one.\r\n* Therefore that must be applied.\r\n* Now we can resolve &#39;inside out&#39; - that lambda is now interpreted as being a lambda for the functional interface `Runnable`, and it is parsed accordingly.\r\n\r\nThis mechanism both explains which method is &#39;selected&#39;, as well as how java knows how to compile even if you fail to specify the arg types of your lambda. Thus, for example, this works fine too:\r\n\r\n```\r\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\nlist.stream().filter(x -&gt; x.length() &lt; 5).toList();\r\n```\r\n\r\nThat compiles and does what you think it does, but that is at first glance surprising. _How_ does that work? Java is generally strongly, nominally, explicitly typed; so how does `x.length()` compile here, given that `Object` _does not_ have a `length()` method?\r\n\r\nThat&#39;s because of the inside-out thing: The expression `list` is of type `List&lt;String&gt;`. Hence, the expression of `list.stream()` is of type `Stream&lt;String&gt;`. Hence, the only `filter()` method that is relevant is `filter(Predicate&lt;? super String&gt;)`, i.e. a function that takes in either Strings or Objects, and emits a boolean (why boolean? Because the only method in the `Predicate` functional interface&#39;s signature is `boolean test(X elem)` - and therefore the lambda must be an implementation of that method). Now the lambda is interpreted with these limits - `String` is used because it is more specific.\r\n\r\nEven though your lambda does not explicitly say that the type of `x` is `String`, the compiler figures that out and doesn&#39;t parse the content of the lambda (here, `x.length() &lt; 5`) without this knowledge. Hence, the compiler determines `length()` is fine, because `String` expressions have a `length()` method.\r\n","title":"How lambda expression resolve which method to call?","body":"<p>Lambdas are resolved 'inside out'. You can try this to confirm it:</p>\n<pre><code>Object o = () -&gt; System.out.println(&quot;Hello, World!&quot;);\n</code></pre>\n<p>does not compile. That's because all lambdas need to be 'resolved' - the compiler <strong>must</strong> know which <em>functional interface type</em> the lambda is representing.</p>\n<p>A functional interface is any interface where you end up with precisely 1 method if you remove all methods which:</p>\n<ul>\n<li>Have a <code>default</code> implementation.</li>\n<li>Which match the exact signature of any method defined in <code>java.lang.Object</code> (such as the <code>toString</code> in <code>interface Example { String toString(); }</code>).</li>\n</ul>\n<p>Whether you stick <code>@FunctionalInterface</code> on it or not, that is a functional interface (the annotation merely means: If the interface <em>is not</em> a functional interface, you get a compiler error - it's compiler-checked documentation).</p>\n<p>From the context where you write a lambda, it must be possible for the compiler to determine exactly 1 functionalinterface type and the lambda is then interpreted as that type. The compiler goes pretty far in attempting to figure this out, though. Obviously, this works:</p>\n<pre><code>Runnable r = () -&gt; System.out.println(&quot;Hello, World!&quot;);\n</code></pre>\n<p>That's because <code>Runnable</code> is a functional interface, and <code>Object</code> is not (it's not even an interface).</p>\n<p>But, this also works:</p>\n<pre><code>void foo(String o) {}\nvoid foo(Runnable r) {}\n\n...\n\nfoo(() -&gt; System.out.println(&quot;Hello, World!&quot;));\n</code></pre>\n<p>Because the compiler's logic goes more or less as follows:</p>\n<ul>\n<li>Okay, foo is being invoked with 1 parameter. Let's see all the <code>foo</code> methods available that fit that. There are 2; one takes a <code>String</code>, the other takes a <code>Runnable</code> (in java, the identity of a method isn't just the name, it also includes the parameter types, hence, we have 2 completely unrelated methods here, both of which so happen to be named <code>foo</code>).</li>\n<li>Given that a lambda is being passed as param1, <strong>only</strong> those <code>foo</code> methods whose first param type is a functional interface type are even relevant. Applying that filter, only one <code>foo</code> method remains - the <code>foo(Runnable r)</code> one.</li>\n<li>Therefore that must be applied.</li>\n<li>Now we can resolve 'inside out' - that lambda is now interpreted as being a lambda for the functional interface <code>Runnable</code>, and it is parsed accordingly.</li>\n</ul>\n<p>This mechanism both explains which method is 'selected', as well as how java knows how to compile even if you fail to specify the arg types of your lambda. Thus, for example, this works fine too:</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.stream().filter(x -&gt; x.length() &lt; 5).toList();\n</code></pre>\n<p>That compiles and does what you think it does, but that is at first glance surprising. <em>How</em> does that work? Java is generally strongly, nominally, explicitly typed; so how does <code>x.length()</code> compile here, given that <code>Object</code> <em>does not</em> have a <code>length()</code> method?</p>\n<p>That's because of the inside-out thing: The expression <code>list</code> is of type <code>List&lt;String&gt;</code>. Hence, the expression of <code>list.stream()</code> is of type <code>Stream&lt;String&gt;</code>. Hence, the only <code>filter()</code> method that is relevant is <code>filter(Predicate&lt;? super String&gt;)</code>, i.e. a function that takes in either Strings or Objects, and emits a boolean (why boolean? Because the only method in the <code>Predicate</code> functional interface's signature is <code>boolean test(X elem)</code> - and therefore the lambda must be an implementation of that method). Now the lambda is interpreted with these limits - <code>String</code> is used because it is more specific.</p>\n<p>Even though your lambda does not explicitly say that the type of <code>x</code> is <code>String</code>, the compiler figures that out and doesn't parse the content of the lambda (here, <code>x.length() &lt; 5</code>) without this knowledge. Hence, the compiler determines <code>length()</code> is fine, because <code>String</code> expressions have a <code>length()</code> method.</p>\n"}],"owner":{"account_id":7974315,"reputation":13,"user_id":6017978,"display_name":"A Hybris Dev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76619439,"answer_count":2,"score":-1,"last_activity_date":1688554294,"creation_date":1688551888,"question_id":76619305,"body_markdown":"If I write a simple class:\r\n[![enter image description here](https://i.stack.imgur.com/0cUc8.png)](https://i.stack.imgur.com/0cUc8.png)\r\n\r\n    package com.animal;\r\n    \r\n    public class Human extends Animal {\r\n    \tpublic void hisss() {\r\n    \t\tThread t = new Thread(() -&gt; {System.out.println(&quot;New runnable instance&quot;);});\r\n    \t}\r\n    }\r\n\r\nJava is automatically invoking **Thread(Runnable runnable)** constructor. Why is it not invoking **Thread(String name)** instance?\r\n\r\nThis may be very primitive question but I am a primitive dev also. :-)\r\n\r\nNot able to invoke **Runnable(String name)** constructor and also how can I call this constructor if I want?","title":"How lambda expression resolve which method to call?","body":"<p>If I write a simple class:\n<a href=\"https://i.stack.imgur.com/0cUc8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0cUc8.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>package com.animal;\n\npublic class Human extends Animal {\n    public void hisss() {\n        Thread t = new Thread(() -&gt; {System.out.println(&quot;New runnable instance&quot;);});\n    }\n}\n</code></pre>\n<p>Java is automatically invoking <strong>Thread(Runnable runnable)</strong> constructor. Why is it not invoking <strong>Thread(String name)</strong> instance?</p>\n<p>This may be very primitive question but I am a primitive dev also. :-)</p>\n<p>Not able to invoke <strong>Runnable(String name)</strong> constructor and also how can I call this constructor if I want?</p>\n"},{"tags":["java","docker","maven","packaging"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1688554703,"post_id":76619603,"comment_id":135087936,"body_markdown":"The first thing that pops into my mind then is to declare the child modules as provided. They&#39;ll be on the compile time classpath but be expected to be available at runtime so won&#39;t be part of the deployable. But that might have other consequences only you can know about.","body":"The first thing that pops into my mind then is to declare the child modules as provided. They&#39;ll be on the compile time classpath but be expected to be available at runtime so won&#39;t be part of the deployable. But that might have other consequences only you can know about."},{"owner":{"account_id":14823339,"reputation":594,"user_id":10704952,"display_name":"Vijay Jangir"},"score":0,"creation_date":1688555283,"post_id":76619603,"comment_id":135088057,"body_markdown":"I don&#39;t want to make any changes in the child pom.xml as long as possible, any other way i can achieve this from parent pom?\nAlso, will this not break my fat jar deployments?","body":"I don&#39;t want to make any changes in the child pom.xml as long as possible, any other way i can achieve this from parent pom? Also, will this not break my fat jar deployments?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1688556605,"post_id":76619603,"comment_id":135088331,"body_markdown":"That&#39;s what I mean, you didn&#39;t mention any fat jar deployments. I would add that to the question.","body":"That&#39;s what I mean, you didn&#39;t mention any fat jar deployments. I would add that to the question."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1688559778,"post_id":76619603,"comment_id":135089053,"body_markdown":"After reading the documentation, what do you expect copy-dependencies to do?","body":"After reading the documentation, what do you expect copy-dependencies to do?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688562339,"post_id":76619603,"comment_id":135089737,"body_markdown":"Can you make an example project on github or alike... apart from that I don&#39;t understand what your real problem is here? Why do you need to copy files into a lib directory? Should be a kind of distribution archive/directory or alike?","body":"Can you make an example project on github or alike... apart from that I don&#39;t understand what your real problem is here? Why do you need to copy files into a lib directory? Should be a kind of distribution archive/directory or alike?"}],"owner":{"account_id":14823339,"reputation":594,"user_id":10704952,"display_name":"Vijay Jangir"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688554222,"creation_date":1688554222,"question_id":76619603,"body_markdown":"I&#39;m copying all dependencies in a top level lib directory from all child-modules, I use \r\n\r\n    &lt;outputDirectory&gt;${env.PWD}/lib&lt;/outputDirectory&gt;\r\nto achieve this (as it&#39;s always triggered form root in my cicd).\r\n\r\nNow i use this lib to create my docker image, and because these lib are pretty big (~600MB) i want to cache this layer unless it&#39;s changed.\r\n\r\nThe problem is that every time i compile, it copies child-module&#39;s jars as well inside lib folder, which is not desirable for me. I&#39;m explicitly copying my jars in next layer of dockerfile. This is happening because **child-module-1** is a dependency in **child-module-2,** hence when copy-dependencies goal for **child-module-2** is executed it copies **child-module-1** as well into libs!!\r\n\r\nBelow is the config i&#39;m using.\r\n\r\n```\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;\r\n                ${dependency.output.dir}\r\n              &lt;/outputDirectory&gt;\r\n              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n              &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n              &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n              &lt;excludeScope&gt;provided&lt;/excludeScope&gt;\r\n              &lt;includeScope&gt;runtime&lt;/includeScope&gt;\r\n              &lt;!-- &lt;excludeTransitive&gt;true&lt;/excludeTransitive&gt; --&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n```\r\nI don&#39;t want to include any exclusions inside child POM as this is going to be my standard pom for all projects, which shouldn&#39;t require any change in child-modules!.","title":"MAVEN: I want to copy-dependencies for all child modules to a single lib folder, but i don&#39;t want the jars built for each child-module to be included","body":"<p>I'm copying all dependencies in a top level lib directory from all child-modules, I use</p>\n<pre><code>&lt;outputDirectory&gt;${env.PWD}/lib&lt;/outputDirectory&gt;\n</code></pre>\n<p>to achieve this (as it's always triggered form root in my cicd).</p>\n<p>Now i use this lib to create my docker image, and because these lib are pretty big (~600MB) i want to cache this layer unless it's changed.</p>\n<p>The problem is that every time i compile, it copies child-module's jars as well inside lib folder, which is not desirable for me. I'm explicitly copying my jars in next layer of dockerfile. This is happening because <strong>child-module-1</strong> is a dependency in <strong>child-module-2,</strong> hence when copy-dependencies goal for <strong>child-module-2</strong> is executed it copies <strong>child-module-1</strong> as well into libs!!</p>\n<p>Below is the config i'm using.</p>\n<pre><code>          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;copy-dependencies&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;\n                ${dependency.output.dir}\n              &lt;/outputDirectory&gt;\n              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n              &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n              &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n              &lt;excludeScope&gt;provided&lt;/excludeScope&gt;\n              &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n              &lt;!-- &lt;excludeTransitive&gt;true&lt;/excludeTransitive&gt; --&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n</code></pre>\n<p>I don't want to include any exclusions inside child POM as this is going to be my standard pom for all projects, which shouldn't require any change in child-modules!.</p>\n"},{"tags":["java","case-sensitive"],"comments":[{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":3,"creation_date":1247588049,"post_id":1126227,"comment_id":943489,"body_markdown":"Not that I&#39;m a big performance guy or anything (I actually consider performance tuning kind of evil), but the .toUpperCase copies your string each time you call it so if you do this in a loop, try to move the .toUpperCase out of the loop if possible.","body":"Not that I&#39;m a big performance guy or anything (I actually consider performance tuning kind of evil), but the .toUpperCase copies your string each time you call it so if you do this in a loop, try to move the .toUpperCase out of the loop if possible."}],"answers":[{"comments":[{"owner":{"account_id":27431,"reputation":46866,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":5,"creation_date":1547526111,"post_id":1126250,"comment_id":95212865,"body_markdown":"No. Don&#39;t ever do that. The reason is that, `original.toLowerCase().length()` not always equals to `original.length()`. The result `idx` is not able to map back correctly to `original`.","body":"No. Don&#39;t ever do that. The reason is that, <code>original.toLowerCase().length()</code> not always equals to <code>original.length()</code>. The result <code>idx</code> is not able to map back correctly to <code>original</code>."}],"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":1,"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1413252830,"creation_date":1247585920,"answer_id":1126250,"question_id":1126227,"body_markdown":"Yes, `indexOf` is case sensitive.\r\n\r\nThe best way to do case insensivity I have found is:\r\n\r\n    String original;\r\n    int idx = original.toLowerCase().indexOf(someStr.toLowerCase());\r\n\r\nThat will do a case insensitive `indexOf()`.","title":"indexOf Case Sensitive?","body":"<p>Yes, <code>indexOf</code> is case sensitive.</p>\n\n<p>The best way to do case insensivity I have found is:</p>\n\n<pre><code>String original;\nint idx = original.toLowerCase().indexOf(someStr.toLowerCase());\n</code></pre>\n\n<p>That will do a case insensitive <code>indexOf()</code>.</p>\n"},{"comments":[{"owner":{"account_id":4058,"reputation":6271,"user_id":5984,"accept_rate":88,"display_name":"idursun"},"score":9,"creation_date":1247586579,"post_id":1126253,"comment_id":943297,"body_markdown":"oh please please please don&#39;t forget to use culture invariant conversion with Locale.US, we had enough problems with java applications running under Turkish locale.","body":"oh please please please don&#39;t forget to use culture invariant conversion with Locale.US, we had enough problems with java applications running under Turkish locale."},{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":0,"creation_date":1524222725,"post_id":1126253,"comment_id":86896225,"body_markdown":"@idursun - forcing to US locale doesn&#39;t solve the problem, because it still doesn&#39;t work for strings that actually contain the characters that are problematic to start with (for instance  `&quot;ı&quot;.toLowerCase(Locale.US).indexOf(&quot;I&quot;.toLowerCase(Locale.US))` should return 0 because the first string is a Turkish lower case `&quot;I&quot;`, and therefore should compare as equal to the upper-case `&quot;I&quot;` in the second, but returns -1 because the latter is converted to `&quot;i&quot;` instead).","body":"@idursun - forcing to US locale doesn&#39;t solve the problem, because it still doesn&#39;t work for strings that actually contain the characters that are problematic to start with (for instance  <code>&quot;ı&quot;.toLowerCase(Locale.US).indexOf(&quot;I&quot;.toLowerCase(Locale.US&zwnj;&#8203;))</code> should return 0 because the first string is a Turkish lower case <code>&quot;I&quot;</code>, and therefore should compare as equal to the upper-case <code>&quot;I&quot;</code> in the second, but returns -1 because the latter is converted to <code>&quot;i&quot;</code> instead)."}],"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"comment_count":2,"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1247586510,"creation_date":1247585924,"answer_id":1126253,"question_id":1126227,"body_markdown":"&gt; Is the indexOf(String) method case sensitive?\r\n\r\nYes, it is case sensitive:\r\n\r\n    @Test\r\n    public void indexOfIsCaseSensitive() {\r\n        assertTrue(&quot;Hello World!&quot;.indexOf(&quot;Hello&quot;) != -1);\r\n        assertTrue(&quot;Hello World!&quot;.indexOf(&quot;hello&quot;) == -1);\r\n    }\r\n\r\n&gt; If so, is there a case insensitive version of it?\r\n\r\nNo, there isn&#39;t. You can convert both strings to lower case before calling indexOf:\r\n\r\n    @Test\r\n    public void caseInsensitiveIndexOf() {\r\n        assertTrue(&quot;Hello World!&quot;.toLowerCase().indexOf(&quot;Hello&quot;.toLowerCase()) != -1);\r\n        assertTrue(&quot;Hello World!&quot;.toLowerCase().indexOf(&quot;hello&quot;.toLowerCase()) != -1);\r\n    }","title":"indexOf Case Sensitive?","body":"<blockquote>\n  <p>Is the indexOf(String) method case sensitive?</p>\n</blockquote>\n\n<p>Yes, it is case sensitive:</p>\n\n<pre><code>@Test\npublic void indexOfIsCaseSensitive() {\n    assertTrue(\"Hello World!\".indexOf(\"Hello\") != -1);\n    assertTrue(\"Hello World!\".indexOf(\"hello\") == -1);\n}\n</code></pre>\n\n<blockquote>\n  <p>If so, is there a case insensitive version of it?</p>\n</blockquote>\n\n<p>No, there isn't. You can convert both strings to lower case before calling indexOf:</p>\n\n<pre><code>@Test\npublic void caseInsensitiveIndexOf() {\n    assertTrue(\"Hello World!\".toLowerCase().indexOf(\"Hello\".toLowerCase()) != -1);\n    assertTrue(\"Hello World!\".toLowerCase().indexOf(\"hello\".toLowerCase()) != -1);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1247586209,"post_id":1126258,"comment_id":943238,"body_markdown":"This doesn&#39;t even answer the full question..it doesn&#39;t even say if the test passes....","body":"This doesn&#39;t even answer the full question..it doesn&#39;t even say if the test passes...."},{"owner":{"account_id":45943,"reputation":19756,"user_id":135624,"accept_rate":88,"display_name":"Paul McKenzie"},"score":2,"creation_date":1247586680,"post_id":1126258,"comment_id":943313,"body_markdown":"You&#39;re right I didn&#39;t, I was kinda hoping that it would prompt the original questioner to run the test him/herself, and maybe get into the habit","body":"You&#39;re right I didn&#39;t, I was kinda hoping that it would prompt the original questioner to run the test him/herself, and maybe get into the habit"},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":2,"creation_date":1247586880,"post_id":1126258,"comment_id":943347,"body_markdown":"Well, that is fine...but I would argue that it would be better to vote for a question that actually gives an answer than a test.  StackOverflow is trying to be a code Q and A repository.  Thus full answers would be best.","body":"Well, that is fine...but I would argue that it would be better to vote for a question that actually gives an answer than a test.  StackOverflow is trying to be a code Q and A repository.  Thus full answers would be best."},{"owner":{"account_id":31908,"reputation":21538,"user_id":87979,"accept_rate":83,"display_name":"Tom"},"score":1,"creation_date":1247587391,"post_id":1126258,"comment_id":943419,"body_markdown":"@jjnguy: I was always under the impression that people who posted tests, posted tests that pass. @dfa kind of did a similar thing. (But @dfa&#39;s answer is more complete).","body":"@jjnguy: I was always under the impression that people who posted tests, posted tests that pass. @dfa kind of did a similar thing. (But @dfa&#39;s answer is more complete)."},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1247587583,"post_id":1126258,"comment_id":943441,"body_markdown":"But he also posted some words(description)...Those are usually helpful.","body":"But he also posted some words(description)...Those are usually helpful."}],"tags":[],"owner":{"account_id":45943,"reputation":19756,"user_id":135624,"accept_rate":88,"display_name":"Paul McKenzie"},"comment_count":5,"down_vote_count":6,"up_vote_count":8,"is_accepted":false,"score":2,"last_activity_date":1247586592,"creation_date":1247585961,"answer_id":1126258,"question_id":1126227,"body_markdown":"  \r\n\r\n    @Test\r\n    public void testIndexofCaseSensitive() {\r\n        TestCase.assertEquals(-1, &quot;abcDef&quot;.indexOf(&quot;d&quot;) );\r\n    }","title":"indexOf Case Sensitive?","body":"<pre><code>@Test\npublic void testIndexofCaseSensitive() {\n    TestCase.assertEquals(-1, \"abcDef\".indexOf(\"d\") );\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15190,"reputation":5491,"user_id":31828,"display_name":"James Van Huis"},"score":6,"creation_date":1247586806,"post_id":1126259,"comment_id":943335,"body_markdown":"Beware of internationalization issues (i.e. the Turkish İ) when using toUpperCase.  A more proper solution is to use str.toUpperCase(Locale.US).indexOf(...);","body":"Beware of internationalization issues (i.e. the Turkish İ) when using toUpperCase.  A more proper solution is to use str.toUpperCase(Locale.US).indexOf(...);"},{"owner":{"account_id":60223,"reputation":350,"user_id":179957,"display_name":"nielsm"},"score":2,"creation_date":1272966445,"post_id":1126259,"comment_id":2796628,"body_markdown":"I&#39;m quite sure that case-converting and then comparing is not entirely correct according to Unicode comparison rules. It works for some things (namely case folding, which is generally used only in syntax parsing contexts) but for natural language there can be special cases where two strings that should compare equal don&#39;t, under either both uppercase or both lowercase. I can&#39;t come up with any examples off the bat however.","body":"I&#39;m quite sure that case-converting and then comparing is not entirely correct according to Unicode comparison rules. It works for some things (namely case folding, which is generally used only in syntax parsing contexts) but for natural language there can be special cases where two strings that should compare equal don&#39;t, under either both uppercase or both lowercase. I can&#39;t come up with any examples off the bat however."},{"owner":{"account_id":385325,"reputation":1833,"user_id":742404,"accept_rate":60,"display_name":"Simon"},"score":8,"creation_date":1365201204,"post_id":1126259,"comment_id":22546643,"body_markdown":"Won&#39;t work. Some weird, international characters are converted to multiple characters when converted to lower-/upper-case. For example: `&quot;&#223;&quot;.toUpperCase().equals(&quot;SS&quot;)`","body":"Won&#39;t work. Some weird, international characters are converted to multiple characters when converted to lower-/upper-case. For example: <code>&quot;&#223;&quot;.toUpperCase().equals(&quot;SS&quot;)</code>"},{"owner":{"account_id":27626,"reputation":346928,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"score":0,"creation_date":1365269355,"post_id":1126259,"comment_id":22562367,"body_markdown":"&#223; is hardly a weird character and it&#39;s hardly international either, being used only in Germany and Austria. But yes, this is just as good as it gets but not *actually* a case-insensitive comparison, as nielsm already pointed out three years ago.","body":"&#223; is hardly a weird character and it&#39;s hardly international either, being used only in Germany and Austria. But yes, this is just as good as it gets but not <i>actually</i> a case-insensitive comparison, as nielsm already pointed out three years ago."},{"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"score":0,"creation_date":1391540873,"post_id":1126259,"comment_id":32564258,"body_markdown":"Does not work for Turkish unicode, that comes straight from somebody&#39;s email.","body":"Does not work for Turkish unicode, that comes straight from somebody&#39;s email."},{"owner":{"account_id":7908921,"reputation":344,"user_id":5980481,"display_name":"David"},"score":0,"creation_date":1557304208,"post_id":1126259,"comment_id":98715455,"body_markdown":"Due to the discrepancy between some characters&#39; upper and lower case equivalents, one could perform both tests - one upper and one lower case match - and if either pass, the match is successful.","body":"Due to the discrepancy between some characters&#39; upper and lower case equivalents, one could perform both tests - one upper and one lower case match - and if either pass, the match is successful."},{"owner":{"account_id":7378049,"reputation":3209,"user_id":5615873,"accept_rate":0,"display_name":"Apostolos"},"score":0,"creation_date":1647421274,"post_id":1126259,"comment_id":126364069,"body_markdown":"This is a very obvious method and **not an answer the question**, which is **&quot;Is there a case insensitive version of it [indexOf)?**","body":"This is a very obvious method and <b>not an answer the question</b>, which is <b>&quot;Is there a case insensitive version of it [indexOf)?</b>"}],"tags":[],"owner":{"account_id":27626,"reputation":346928,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"comment_count":7,"down_vote_count":3,"up_vote_count":83,"is_accepted":true,"score":80,"last_activity_date":1365270143,"creation_date":1247585984,"answer_id":1126259,"question_id":1126227,"body_markdown":"The `indexOf()` methods are all case-sensitive. You can make them (roughly, in a broken way, but working for plenty of cases) case-insensitive by converting your strings to upper/lower case beforehand:\r\n\r\n    s1 = s1.toLowerCase(Locale.US);\r\n    s2 = s2.toLowerCase(Locale.US);\r\n    s1.indexOf(s2);","title":"indexOf Case Sensitive?","body":"<p>The <code>indexOf()</code> methods are all case-sensitive. You can make them (roughly, in a broken way, but working for plenty of cases) case-insensitive by converting your strings to upper/lower case beforehand:</p>\n\n<pre><code>s1 = s1.toLowerCase(Locale.US);\ns2 = s2.toLowerCase(Locale.US);\ns1.indexOf(s2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40749,"reputation":54774,"user_id":118145,"accept_rate":84,"display_name":"Yacoby"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1247587474,"creation_date":1247585999,"answer_id":1126263,"question_id":1126227,"body_markdown":"Yes, I am fairly sure it is. One method of working around that using the standard library would be:\r\n\r\n    int index = str.toUpperCase().indexOf(&quot;FOO&quot;); ","title":"indexOf Case Sensitive?","body":"<p>Yes, I am fairly sure it is. One method of working around that using the standard library would be:</p>\n\n<pre><code>int index = str.toUpperCase().indexOf(\"FOO\"); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":1,"creation_date":1524223563,"post_id":1126275,"comment_id":86896756,"body_markdown":"Sticking to lower case doesn&#39;t help: if you change `find` to `&quot;STRASSE&quot;`, it doesn&#39;t find it at all in the lower case variant, but does correctly find it in the upper case version.","body":"Sticking to lower case doesn&#39;t help: if you change <code>find</code> to <code>&quot;STRASSE&quot;</code>, it doesn&#39;t find it at all in the lower case variant, but does correctly find it in the upper case version."}],"tags":[],"owner":{"account_id":44517,"reputation":4168,"user_id":130717,"display_name":"Nick Lewis"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1315402755,"creation_date":1247586073,"answer_id":1126275,"question_id":1126227,"body_markdown":"Yes, it is case-sensitive. You can do a case-insensitive `indexOf` by converting your String and the String parameter both to upper-case before searching.\r\n\r\n    String str = &quot;Hello world&quot;;\r\n    String search = &quot;hello&quot;;\r\n    str.toUpperCase().indexOf(search.toUpperCase());\r\n\r\nNote that toUpperCase may not work in some circumstances. For instance this:\r\n\r\n    String str = &quot;Feldbergstra&#223;e 23, Mainz&quot;;\r\n    String find = &quot;mainz&quot;;\r\n    int idxU = str.toUpperCase().indexOf (find.toUpperCase ());\r\n    int idxL = str.toLowerCase().indexOf (find.toLowerCase ());\r\n\r\nidxU will be 20, which is wrong! idxL will be 19, which is correct. What&#39;s causing the problem is tha toUpperCase() converts the &quot;&#223;&quot; character into TWO characters, &quot;SS&quot; and this throws the index off.\r\n\r\nConsequently, always stick with toLowerCase()\r\n\r\n","title":"indexOf Case Sensitive?","body":"<p>Yes, it is case-sensitive. You can do a case-insensitive <code>indexOf</code> by converting your String and the String parameter both to upper-case before searching.</p>\n\n<pre><code>String str = \"Hello world\";\nString search = \"hello\";\nstr.toUpperCase().indexOf(search.toUpperCase());\n</code></pre>\n\n<p>Note that toUpperCase may not work in some circumstances. For instance this:</p>\n\n<pre><code>String str = \"Feldbergstraße 23, Mainz\";\nString find = \"mainz\";\nint idxU = str.toUpperCase().indexOf (find.toUpperCase ());\nint idxL = str.toLowerCase().indexOf (find.toLowerCase ());\n</code></pre>\n\n<p>idxU will be 20, which is wrong! idxL will be 19, which is correct. What's causing the problem is tha toUpperCase() converts the \"ß\" character into TWO characters, \"SS\" and this throws the index off.</p>\n\n<p>Consequently, always stick with toLowerCase()</p>\n"},{"tags":[],"owner":{"account_id":1092,"reputation":113958,"user_id":1450,"accept_rate":96,"display_name":"John Topley"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1247586111,"creation_date":1247586111,"answer_id":1126278,"question_id":1126227,"body_markdown":"I&#39;ve just looked at the source. It compares chars so it is case sensitive.","title":"indexOf Case Sensitive?","body":"<p>I've just looked at the source. It compares chars so it is case sensitive.</p>\n"},{"comments":[{"owner":{"account_id":1092,"reputation":113958,"user_id":1450,"accept_rate":96,"display_name":"John Topley"},"score":0,"creation_date":1247587991,"post_id":1126281,"comment_id":943480,"body_markdown":"The original question is about String&#39;s indexOf method.","body":"The original question is about String&#39;s indexOf method."},{"owner":{"account_id":46732,"reputation":831,"user_id":138145,"accept_rate":94,"display_name":"Robbie"},"score":0,"creation_date":1247597080,"post_id":1126281,"comment_id":944375,"body_markdown":"I didn&#39;t know that&#39;s what he was talking about. I didn&#39;t realize it until other people had said something. The principle is still the same though.","body":"I didn&#39;t know that&#39;s what he was talking about. I didn&#39;t realize it until other people had said something. The principle is still the same though."},{"owner":{"account_id":1092,"reputation":113958,"user_id":1450,"accept_rate":96,"display_name":"John Topley"},"score":2,"creation_date":1247597671,"post_id":1126281,"comment_id":944442,"body_markdown":"No it isn&#39;t. The internals of String&#39;s indexOf method compares chars not objects, so it doesn&#39;t use the equals method.","body":"No it isn&#39;t. The internals of String&#39;s indexOf method compares chars not objects, so it doesn&#39;t use the equals method."}],"tags":[],"owner":{"account_id":46732,"reputation":831,"user_id":138145,"accept_rate":94,"display_name":"Robbie"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1247586132,"creation_date":1247586132,"answer_id":1126281,"question_id":1126227,"body_markdown":"indexOf is case sensitive. This is because it uses the equals method to compare the elements in the list. The same thing goes for contains and remove.","title":"indexOf Case Sensitive?","body":"<p>indexOf is case sensitive. This is because it uses the equals method to compare the elements in the list. The same thing goes for contains and remove.</p>\n"},{"comments":[{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":0,"creation_date":1524224520,"post_id":1126289,"comment_id":86897425,"body_markdown":"As commented above, this fails to correctly identify that `&quot;ı&quot;` is a lower-case variant (just not the default one in most langauges) of `&quot;I&quot;`.  Or alternatively, if run on a machine set to a locale where `&quot;ı&quot;` *is* the default, it will fail to notice that `&quot;i&quot;` is also a lower-case variant of `&quot;I&quot;`.","body":"As commented above, this fails to correctly identify that <code>&quot;ı&quot;</code> is a lower-case variant (just not the default one in most langauges) of <code>&quot;I&quot;</code>.  Or alternatively, if run on a machine set to a locale where <code>&quot;ı&quot;</code> <i>is</i> the default, it will fail to notice that <code>&quot;i&quot;</code> is also a lower-case variant of <code>&quot;I&quot;</code>."}],"tags":[],"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1247592733,"creation_date":1247586168,"answer_id":1126289,"question_id":1126227,"body_markdown":"But it&#39;s not hard to write one:\r\n\r\n    public class CaseInsensitiveIndexOfTest extends TestCase {\r\n    \tpublic void testOne() throws Exception {\r\n    \t\tassertEquals(2, caseInsensitiveIndexOf(&quot;ABC&quot;, &quot;xxabcdef&quot;));\r\n    \t}\r\n    \r\n    \tpublic static int caseInsensitiveIndexOf(String substring, String string) {\r\n    \t\treturn string.toLowerCase().indexOf(substring.toLowerCase());\r\n    \t}\r\n    }\r\n\r\n","title":"indexOf Case Sensitive?","body":"<p>But it's not hard to write one:</p>\n\n<pre><code>public class CaseInsensitiveIndexOfTest extends TestCase {\n    public void testOne() throws Exception {\n        assertEquals(2, caseInsensitiveIndexOf(\"ABC\", \"xxabcdef\"));\n    }\n\n    public static int caseInsensitiveIndexOf(String substring, String string) {\n        return string.toLowerCase().indexOf(substring.toLowerCase());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":0,"creation_date":1524224625,"post_id":1128632,"comment_id":86897502,"body_markdown":"Surprised by the lack of upvotes here.  In a page dominated by incorrect answers, this is one of the only three that actually works correctly.","body":"Surprised by the lack of upvotes here.  In a page dominated by incorrect answers, this is one of the only three that actually works correctly."}],"tags":[],"owner":{"account_id":2379,"reputation":49909,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1247613910,"creation_date":1247613910,"answer_id":1128632,"question_id":1126227,"body_markdown":"What are you doing with the index value once returned?\r\n\r\nIf you are using it to manipulate your string, then could you not use a regular expression instead?\r\n\r\n    import static org.junit.Assert.assertEquals;    \r\n    import org.junit.Test;\r\n    \r\n    public class StringIndexOfRegexpTest {\r\n    \r\n        @Test\r\n        public void testNastyIndexOfBasedReplace() {\r\n            final String source = &quot;Hello World&quot;;\r\n            final int index = source.toLowerCase().indexOf(&quot;hello&quot;.toLowerCase());\r\n            final String target = &quot;Hi&quot;.concat(source.substring(index\r\n                    + &quot;hello&quot;.length(), source.length()));\r\n            assertEquals(&quot;Hi World&quot;, target);\r\n        }\r\n    \r\n        @Test\r\n        public void testSimpleRegexpBasedReplace() {\r\n            final String source = &quot;Hello World&quot;;\r\n            final String target = source.replaceFirst(&quot;(?i)hello&quot;, &quot;Hi&quot;);\r\n            assertEquals(&quot;Hi World&quot;, target);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    \r\n","title":"indexOf Case Sensitive?","body":"<p>What are you doing with the index value once returned?</p>\n\n<p>If you are using it to manipulate your string, then could you not use a regular expression instead?</p>\n\n<pre><code>import static org.junit.Assert.assertEquals;    \nimport org.junit.Test;\n\npublic class StringIndexOfRegexpTest {\n\n    @Test\n    public void testNastyIndexOfBasedReplace() {\n        final String source = \"Hello World\";\n        final int index = source.toLowerCase().indexOf(\"hello\".toLowerCase());\n        final String target = \"Hi\".concat(source.substring(index\n                + \"hello\".length(), source.length()));\n        assertEquals(\"Hi World\", target);\n    }\n\n    @Test\n    public void testSimpleRegexpBasedReplace() {\n        final String source = \"Hello World\";\n        final String target = source.replaceFirst(\"(?i)hello\", \"Hi\");\n        assertEquals(\"Hi World\", target);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"score":0,"creation_date":1391541053,"post_id":21426647,"comment_id":32564352,"body_markdown":"This should be an accepted answer, as the current one does not work for certain non-ascii strings that contain unicode control characters.  For example, this works for text written in Turkish.  Behind the scene Apache uses regionMatches, and that does work.","body":"This should be an accepted answer, as the current one does not work for certain non-ascii strings that contain unicode control characters.  For example, this works for text written in Turkish.  Behind the scene Apache uses regionMatches, and that does work."}],"tags":[],"owner":{"account_id":3928630,"reputation":421,"user_id":3248078,"display_name":"deepika"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1390986893,"creation_date":1390986893,"answer_id":21426647,"question_id":1126227,"body_markdown":"There is an ignore case method in StringUtils class of Apache Commons Lang library\r\n\r\nindexOfIgnoreCase(CharSequence str, CharSequence searchStr)","title":"indexOf Case Sensitive?","body":"<p>There is an ignore case method in StringUtils class of Apache Commons Lang library</p>\n\n<p>indexOfIgnoreCase(CharSequence str, CharSequence searchStr)</p>\n"},{"tags":[],"owner":{"account_id":2136614,"reputation":9806,"user_id":1896222,"accept_rate":64,"display_name":"max"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1478111285,"creation_date":1391977736,"answer_id":21664613,"question_id":1126227,"body_markdown":"Just to sum it up, 3 solutions:\r\n\r\n- using toLowerCase() or toUpperCase\r\n- using StringUtils of apache\r\n- using    regex\r\n\r\nNow, what I was wondering was which one is the fastest?\r\nI&#39;m guessing on average the first one.","title":"indexOf Case Sensitive?","body":"<p>Just to sum it up, 3 solutions:</p>\n\n<ul>\n<li>using toLowerCase() or toUpperCase</li>\n<li>using StringUtils of apache</li>\n<li>using    regex</li>\n</ul>\n\n<p>Now, what I was wondering was which one is the fastest?\nI'm guessing on average the first one.</p>\n"},{"tags":[],"owner":{"account_id":411239,"reputation":624,"user_id":783580,"display_name":"Jakub Vr&#225;na"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415722489,"creation_date":1415722489,"answer_id":26869361,"question_id":1126227,"body_markdown":"Converting both strings to lower-case is usually not a big deal but it would be slow if some of the strings is long. And if you do this in a loop then it would be really bad. For this reason, I would recommend `indexOfIgnoreCase`.","title":"indexOf Case Sensitive?","body":"<p>Converting both strings to lower-case is usually not a big deal but it would be slow if some of the strings is long. And if you do this in a loop then it would be really bad. For this reason, I would recommend <code>indexOfIgnoreCase</code>.</p>\n"},{"comments":[{"owner":{"account_id":3444838,"reputation":840,"user_id":2885897,"display_name":"fiffy"},"score":0,"creation_date":1443779401,"post_id":27252763,"comment_id":53637507,"body_markdown":"This is actually very clever, as the searchstring will be significantly shorter than the text to search in, and it only creates an upper- and lowercase version of the searchstring. Thank you for that!","body":"This is actually very clever, as the searchstring will be significantly shorter than the text to search in, and it only creates an upper- and lowercase version of the searchstring. Thank you for that!"},{"owner":{"account_id":38529,"reputation":931,"user_id":110642,"display_name":"Jeff Williams"},"score":0,"creation_date":1449519216,"post_id":27252763,"comment_id":56032702,"body_markdown":"This is significantly slower than StringUtils version in my testing. However, Zach&#39;s answer is like 10-15% faster.","body":"This is significantly slower than StringUtils version in my testing. However, Zach&#39;s answer is like 10-15% faster."},{"owner":{"account_id":2138896,"reputation":747,"user_id":1898054,"accept_rate":60,"display_name":"gogognome"},"score":0,"creation_date":1463606213,"post_id":27252763,"comment_id":62141493,"body_markdown":"This solution is about 10% faster than the one given by Zach Vorhies. Thank you for this solution.","body":"This solution is about 10% faster than the one given by Zach Vorhies. Thank you for this solution."},{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":0,"creation_date":1524224000,"post_id":27252763,"comment_id":86897050,"body_markdown":"This solution doesn&#39;t produce a correct answer in presence of strings that change length on conversion to upper case (e.g. if you search for &quot;&#223;&quot; it will find it in any string that contains a single capital &quot;S&quot;) or for text that uses alternative capitalizations (e.g. `indexOfIgnoreCase(&quot;İ&quot;,&quot;i&quot;)` should return 0 because `İ` is the correct capitalization of `i` for Turkish text, but instead returns -1 because `i` is capitalized to the more common `I`).","body":"This solution doesn&#39;t produce a correct answer in presence of strings that change length on conversion to upper case (e.g. if you search for &quot;&#223;&quot; it will find it in any string that contains a single capital &quot;S&quot;) or for text that uses alternative capitalizations (e.g. <code>indexOfIgnoreCase(&quot;İ&quot;,&quot;i&quot;)</code> should return 0 because <code>İ</code> is the correct capitalization of <code>i</code> for Turkish text, but instead returns -1 because <code>i</code> is capitalized to the more common <code>I</code>)."}],"tags":[],"owner":{"account_id":5423095,"reputation":37,"user_id":4316199,"display_name":"phil"},"comment_count":4,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1417533386,"creation_date":1417533386,"answer_id":27252763,"question_id":1126227,"body_markdown":"Had the same problem.\r\nI tried regular expression and the apache StringUtils.indexOfIgnoreCase-Method, but both were pretty slow...\r\nSo I wrote an short method myself...:\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static int indexOfIgnoreCase(final String chkstr, final String searchStr, int i) {\r\n        if (chkstr != null &amp;&amp; searchStr != null &amp;&amp; i &gt; -1) {\r\n              int serchStrLength = searchStr.length();\r\n              char[] searchCharLc = new char[serchStrLength];\r\n              char[] searchCharUc = new char[serchStrLength];\r\n              searchStr.toUpperCase().getChars(0, serchStrLength, searchCharUc, 0);\r\n              searchStr.toLowerCase().getChars(0, serchStrLength, searchCharLc, 0);\r\n              int j = 0;\r\n              for (int checkStrLength = chkstr.length(); i &lt; checkStrLength; i++) {\r\n                    char charAt = chkstr.charAt(i);\r\n                    if (charAt == searchCharLc[j] || charAt == searchCharUc[j]) {\r\n                         if (++j == serchStrLength) {\r\n                               return i - j + 1;\r\n                         }\r\n                    } else { // faster than: else if (j != 0) {\r\n                             i = i - j;\r\n                             j = 0;\r\n                        }\r\n                  }\r\n            }\r\n            return -1;\r\n      }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nAccording to my tests its much faster... (at least if your searchString is rather short).\r\nif you have any suggestions for improvement or bugs it would be nice to let me know... (since I use this code in an application ;-)\r\n\r\n\r\n","title":"indexOf Case Sensitive?","body":"<p>Had the same problem.\nI tried regular expression and the apache StringUtils.indexOfIgnoreCase-Method, but both were pretty slow...\nSo I wrote an short method myself...:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static int indexOfIgnoreCase(final String chkstr, final String searchStr, int i) {\n    if (chkstr != null &amp;&amp; searchStr != null &amp;&amp; i &gt; -1) {\n          int serchStrLength = searchStr.length();\n          char[] searchCharLc = new char[serchStrLength];\n          char[] searchCharUc = new char[serchStrLength];\n          searchStr.toUpperCase().getChars(0, serchStrLength, searchCharUc, 0);\n          searchStr.toLowerCase().getChars(0, serchStrLength, searchCharLc, 0);\n          int j = 0;\n          for (int checkStrLength = chkstr.length(); i &lt; checkStrLength; i++) {\n                char charAt = chkstr.charAt(i);\n                if (charAt == searchCharLc[j] || charAt == searchCharUc[j]) {\n                     if (++j == serchStrLength) {\n                           return i - j + 1;\n                     }\n                } else { // faster than: else if (j != 0) {\n                         i = i - j;\n                         j = 0;\n                    }\n              }\n        }\n        return -1;\n  }\n</code></pre>\n\n<p>According to my tests its much faster... (at least if your searchString is rather short).\nif you have any suggestions for improvement or bugs it would be nice to let me know... (since I use this code in an application ;-)</p>\n"},{"comments":[{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":0,"creation_date":1524224762,"post_id":27934465,"comment_id":86897589,"body_markdown":"Surprised by the lack of upvotes here. In a page dominated by incorrect answers, this is one of the only three that actually works correctly.","body":"Surprised by the lack of upvotes here. In a page dominated by incorrect answers, this is one of the only three that actually works correctly."}],"tags":[],"owner":{"account_id":1395923,"reputation":1278,"user_id":1325669,"display_name":"Bernd S"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421199118,"creation_date":1421199118,"answer_id":27934465,"question_id":1126227,"body_markdown":"The first question has already been answered many times. Yes, the `String.indexOf()` methods are all case-sensitive.\r\n\r\nIf you need a locale-sensitive `indexOf()` you could use the [Collator][1]. Depending on the strength value you set you can get case insensitive comparison, and also treat accented letters as the same as the non-accented ones, etc.\r\nHere is an example of how to do this:\r\n\r\n    private int indexOf(String original, String search) {\r\n        Collator collator = Collator.getInstance();\r\n        collator.setStrength(Collator.PRIMARY);\r\n        for (int i = 0; i &lt;= original.length() - search.length(); i++) {\r\n            if (collator.equals(search, original.substring(i, i + search.length()))) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/Collator.html","title":"indexOf Case Sensitive?","body":"<p>The first question has already been answered many times. Yes, the <code>String.indexOf()</code> methods are all case-sensitive.</p>\n\n<p>If you need a locale-sensitive <code>indexOf()</code> you could use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/Collator.html\" rel=\"nofollow\">Collator</a>. Depending on the strength value you set you can get case insensitive comparison, and also treat accented letters as the same as the non-accented ones, etc.\nHere is an example of how to do this:</p>\n\n<pre><code>private int indexOf(String original, String search) {\n    Collator collator = Collator.getInstance();\n    collator.setStrength(Collator.PRIMARY);\n    for (int i = 0; i &lt;= original.length() - search.length(); i++) {\n        if (collator.equals(search, original.substring(i, i + search.length()))) {\n            return i;\n        }\n    }\n    return -1;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5546941,"reputation":6609,"user_id":4401293,"accept_rate":59,"display_name":"Quality Catalyst"},"score":0,"creation_date":1429740460,"post_id":29809553,"comment_id":47747613,"body_markdown":"How does this answer the question??","body":"How does this answer the question??"},{"owner":{"account_id":6188051,"reputation":199,"user_id":4821586,"display_name":"Zach Vorhies"},"score":8,"creation_date":1429839287,"post_id":29809553,"comment_id":47801085,"body_markdown":"The answer is &quot;no, there are no case insensitive versions of indexOf&quot;.\n\nHowever, I added the solution here because people are going to find this page looking for solutions. I made my solution available with test cases so that the next person coming through can use my code to solve the exact same problem. That&#39;s why stack overflow is useful right?\n\nI have a decade of experience writing high performance code, half of that at google. I just gave a well tested solution away for free to help the community.","body":"The answer is &quot;no, there are no case insensitive versions of indexOf&quot;.  However, I added the solution here because people are going to find this page looking for solutions. I made my solution available with test cases so that the next person coming through can use my code to solve the exact same problem. That&#39;s why stack overflow is useful right?  I have a decade of experience writing high performance code, half of that at google. I just gave a well tested solution away for free to help the community."},{"owner":{"account_id":38529,"reputation":931,"user_id":110642,"display_name":"Jeff Williams"},"score":3,"creation_date":1449519259,"post_id":29809553,"comment_id":56032726,"body_markdown":"This is exactly what I was interested in.  I found this to be about 10-15% faster than the Apache Commons version.  If I could upvote it many more times I would. Thanks!","body":"This is exactly what I was interested in.  I found this to be about 10-15% faster than the Apache Commons version.  If I could upvote it many more times I would. Thanks!"},{"owner":{"account_id":6188051,"reputation":199,"user_id":4821586,"display_name":"Zach Vorhies"},"score":0,"creation_date":1450138855,"post_id":29809553,"comment_id":56299978,"body_markdown":"Thanks Jeff, I&#39;m glad it gave you a lot of value. There are others that are recommending that this post which provides a solution goes toward the top. If someone else likes my code then I humbly ask that you upvote this solution.","body":"Thanks Jeff, I&#39;m glad it gave you a lot of value. There are others that are recommending that this post which provides a solution goes toward the top. If someone else likes my code then I humbly ask that you upvote this solution."},{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":2,"creation_date":1524223079,"post_id":29809553,"comment_id":86896443,"body_markdown":"Here&#39;s a missing test case: `assertThat(StringUtils.indexOfIgnoreCase(&quot;ı&quot; /* Turkish lower-case I, U+0131 */, &quot;I&quot;), is(0));`","body":"Here&#39;s a missing test case: <code>assertThat(StringUtils.indexOfIgnoreCase(&quot;ı&quot; &#47;* Turkish lower-case I, U+0131 *&#47;, &quot;I&quot;), is(0));</code>"}],"tags":[],"owner":{"account_id":6188051,"reputation":199,"user_id":4821586,"display_name":"Zach Vorhies"},"comment_count":5,"down_vote_count":3,"up_vote_count":20,"is_accepted":false,"score":17,"last_activity_date":1429739506,"creation_date":1429739506,"answer_id":29809553,"question_id":1126227,"body_markdown":"Here is my solution which does not allocate any heap memory, therefore it should be significantly faster than most of the other implementations mentioned here.\r\n\r\n    public static int indexOfIgnoreCase(final String haystack,\r\n                                        final String needle) {\r\n        if (needle.isEmpty() || haystack.isEmpty()) {\r\n            // Fallback to legacy behavior.\r\n            return haystack.indexOf(needle);\r\n        }\r\n        \r\n        for (int i = 0; i &lt; haystack.length(); ++i) {\r\n            // Early out, if possible.\r\n            if (i + needle.length() &gt; haystack.length()) {\r\n                return -1;\r\n            }\r\n            \r\n            // Attempt to match substring starting at position i of haystack.\r\n            int j = 0;\r\n            int ii = i;\r\n            while (ii &lt; haystack.length() &amp;&amp; j &lt; needle.length()) {\r\n                char c = Character.toLowerCase(haystack.charAt(ii));\r\n                char c2 = Character.toLowerCase(needle.charAt(j));\r\n                if (c != c2) {\r\n                    break;\r\n                }\r\n                j++;\r\n                ii++;\r\n            }\r\n            // Walked all the way to the end of the needle, return the start\r\n            // position that this was found.\r\n            if (j == needle.length()) {\r\n                return i;\r\n            }\r\n        }\r\n        \r\n        return -1;\r\n    }\r\n\r\nAnd here are the unit tests that verify correct behavior.\r\n\r\n    @Test\r\n    public void testIndexOfIgnoreCase() {\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;A&quot;, &quot;A&quot;), is(0));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;a&quot;, &quot;A&quot;), is(0));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;A&quot;, &quot;a&quot;), is(0));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;a&quot;, &quot;a&quot;), is(0));\r\n        \r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;a&quot;, &quot;ba&quot;), is(-1));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;ba&quot;, &quot;a&quot;), is(1));\r\n\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot; Royal Blue&quot;), is(-1));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot; Royal Blue&quot;, &quot;Royal Blue&quot;), is(1));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot;royal&quot;), is(0));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot;oyal&quot;), is(1));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot;al&quot;), is(3));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;&quot;, &quot;royal&quot;), is(-1));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot;&quot;), is(0));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot;BLUE&quot;), is(6));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot;BIGLONGSTRING&quot;), is(-1));\r\n        assertThat(StringUtils.indexOfIgnoreCase(&quot;Royal Blue&quot;, &quot;Royal Blue LONGSTRING&quot;), is(-1));  \r\n    }","title":"indexOf Case Sensitive?","body":"<p>Here is my solution which does not allocate any heap memory, therefore it should be significantly faster than most of the other implementations mentioned here.</p>\n\n<pre><code>public static int indexOfIgnoreCase(final String haystack,\n                                    final String needle) {\n    if (needle.isEmpty() || haystack.isEmpty()) {\n        // Fallback to legacy behavior.\n        return haystack.indexOf(needle);\n    }\n\n    for (int i = 0; i &lt; haystack.length(); ++i) {\n        // Early out, if possible.\n        if (i + needle.length() &gt; haystack.length()) {\n            return -1;\n        }\n\n        // Attempt to match substring starting at position i of haystack.\n        int j = 0;\n        int ii = i;\n        while (ii &lt; haystack.length() &amp;&amp; j &lt; needle.length()) {\n            char c = Character.toLowerCase(haystack.charAt(ii));\n            char c2 = Character.toLowerCase(needle.charAt(j));\n            if (c != c2) {\n                break;\n            }\n            j++;\n            ii++;\n        }\n        // Walked all the way to the end of the needle, return the start\n        // position that this was found.\n        if (j == needle.length()) {\n            return i;\n        }\n    }\n\n    return -1;\n}\n</code></pre>\n\n<p>And here are the unit tests that verify correct behavior.</p>\n\n<pre><code>@Test\npublic void testIndexOfIgnoreCase() {\n    assertThat(StringUtils.indexOfIgnoreCase(\"A\", \"A\"), is(0));\n    assertThat(StringUtils.indexOfIgnoreCase(\"a\", \"A\"), is(0));\n    assertThat(StringUtils.indexOfIgnoreCase(\"A\", \"a\"), is(0));\n    assertThat(StringUtils.indexOfIgnoreCase(\"a\", \"a\"), is(0));\n\n    assertThat(StringUtils.indexOfIgnoreCase(\"a\", \"ba\"), is(-1));\n    assertThat(StringUtils.indexOfIgnoreCase(\"ba\", \"a\"), is(1));\n\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \" Royal Blue\"), is(-1));\n    assertThat(StringUtils.indexOfIgnoreCase(\" Royal Blue\", \"Royal Blue\"), is(1));\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \"royal\"), is(0));\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \"oyal\"), is(1));\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \"al\"), is(3));\n    assertThat(StringUtils.indexOfIgnoreCase(\"\", \"royal\"), is(-1));\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \"\"), is(0));\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \"BLUE\"), is(6));\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \"BIGLONGSTRING\"), is(-1));\n    assertThat(StringUtils.indexOfIgnoreCase(\"Royal Blue\", \"Royal Blue LONGSTRING\"), is(-1));  \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":1,"creation_date":1565377736,"post_id":53482323,"comment_id":101349457,"body_markdown":"This looks like it might be C#","body":"This looks like it might be C#"}],"tags":[],"owner":{"account_id":9028571,"reputation":1,"user_id":9471199,"display_name":"Jawwad Rafiq"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543239389,"creation_date":1543239389,"answer_id":53482323,"question_id":1126227,"body_markdown":"     static string Search(string factMessage, string b)\r\n            {\r\n    \r\n                int index = factMessage.IndexOf(b, StringComparison.CurrentCultureIgnoreCase);\r\n                string line = null;\r\n                int i = index;\r\n                if (i == -1)\r\n                { return &quot;not matched&quot;; }\r\n                else\r\n                {\r\n                    while (factMessage[i] != &#39; &#39;)\r\n                    {\r\n                        line = line + factMessage[i];\r\n                        i++;\r\n                    }\r\n    \r\n                    return line;\r\n                }\r\n    \r\n            }","title":"indexOf Case Sensitive?","body":"<pre><code> static string Search(string factMessage, string b)\n        {\n\n            int index = factMessage.IndexOf(b, StringComparison.CurrentCultureIgnoreCase);\n            string line = null;\n            int i = index;\n            if (i == -1)\n            { return \"not matched\"; }\n            else\n            {\n                while (factMessage[i] != ' ')\n                {\n                    line = line + factMessage[i];\n                    i++;\n                }\n\n                return line;\n            }\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104419,"reputation":1599,"user_id":279180,"accept_rate":75,"display_name":"Ernie Thomason"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565586544,"creation_date":1565586544,"answer_id":57455886,"question_id":1126227,"body_markdown":"Here&#39;s a version closely resembling Apache&#39;s StringUtils version:\r\n\r\n    public int indexOfIgnoreCase(String str, String searchStr) {\r\n    \treturn indexOfIgnoreCase(str, searchStr, 0);\r\n\t}\r\n\r\n\tpublic int indexOfIgnoreCase(String str, String searchStr, int fromIndex) {\r\n\t\t// https://stackoverflow.com/questions/14018478/string-contains-ignore-case/14018511\r\n\t\tif(str == null || searchStr == null) return -1;\r\n\t\tif (searchStr.length() == 0) return fromIndex;\t// empty string found; use same behavior as Apache StringUtils\r\n\t\tfinal int endLimit = str.length() - searchStr.length() + 1;\r\n\t\tfor (int i = fromIndex; i &lt; endLimit; i++) {\r\n\t\t\tif (str.regionMatches(true, i, searchStr, 0, searchStr.length())) return i;\r\n\t\t}\r\n\t\treturn -1;\r\n\t}","title":"indexOf Case Sensitive?","body":"<p>Here's a version closely resembling Apache's StringUtils version:</p>\n\n<pre><code>public int indexOfIgnoreCase(String str, String searchStr) {\n    return indexOfIgnoreCase(str, searchStr, 0);\n}\n\npublic int indexOfIgnoreCase(String str, String searchStr, int fromIndex) {\n    // https://stackoverflow.com/questions/14018478/string-contains-ignore-case/14018511\n    if(str == null || searchStr == null) return -1;\n    if (searchStr.length() == 0) return fromIndex;  // empty string found; use same behavior as Apache StringUtils\n    final int endLimit = str.length() - searchStr.length() + 1;\n    for (int i = fromIndex; i &lt; endLimit; i++) {\n        if (str.regionMatches(true, i, searchStr, 0, searchStr.length())) return i;\n    }\n    return -1;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":81168,"reputation":234365,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":1,"creation_date":1584233239,"post_id":60442271,"comment_id":107374160,"body_markdown":"If you want to dual-license your code, please do so via some other platform, and include a link there. A massive blob of legalese appended to the end of each answer adds an egregious amount of clutter to Stack Overflow.","body":"If you want to dual-license your code, please do so via some other platform, and include a link there. A massive blob of legalese appended to the end of each answer adds an egregious amount of clutter to Stack Overflow."},{"owner":{"account_id":1278157,"reputation":7595,"user_id":1232937,"accept_rate":40,"display_name":"Robin Davies"},"score":0,"creation_date":1584349967,"post_id":60442271,"comment_id":107400101,"body_markdown":"Then perhaps you should find a more efficient way to address the problem of CC-BY-SA applied to code fragments,","body":"Then perhaps you should find a more efficient way to address the problem of CC-BY-SA applied to code fragments,"},{"owner":{"account_id":1278157,"reputation":7595,"user_id":1232937,"accept_rate":40,"display_name":"Robin Davies"},"score":1,"creation_date":1584350651,"post_id":60442271,"comment_id":107400363,"body_markdown":"It also seems inappropriate for you to remove license grants that I provided to code fragments to which I hold copyright.","body":"It also seems inappropriate for you to remove license grants that I provided to code fragments to which I hold copyright."}],"tags":[],"owner":{"account_id":1278157,"reputation":7595,"user_id":1232937,"accept_rate":40,"display_name":"Robin Davies"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612458604,"creation_date":1582840405,"answer_id":60442271,"question_id":1126227,"body_markdown":"I would like to lay claim to the ONE and only solution posted so far that actually works. :-)\r\n\r\nThree classes of problems that have to be dealt with.\r\n\r\n 1. Non-transitive matching rules for lower and uppercase. The Turkish I problem has been mentioned frequently in other replies. According to comments in Android source for String.regionMatches, the Georgian comparison rules requires additional conversion to lower-case when comparing for case-insensitive equality.\r\n\r\n 2. Cases where upper- and lower-case forms have a different number of letters. Pretty much all of the solutions posted so far fail, in these cases. Example: German STRASSE vs. Stra&#223;e have case-insensitive equality, but have different lengths.\r\n\r\n 3. Binding strengths of accented characters. Locale AND context effect whether accents match or not. In French, the uppercase form of &#39;&#233;&#39; is &#39;E&#39;, although there is a movement toward using uppercase accents . In Canadian French, the upper-case form of &#39;&#233;&#39; is &#39;&#201;&#39;, without exception. Users in both countries would expect &quot;e&quot; to  match &quot;&#233;&quot; when searching. Whether accented and unaccented characters match is locale-specific. Now consider: does &quot;E&quot; equal &quot;&#201;&quot;? Yes. It does. In French locales, anyway. \r\n\r\nI am currently using `android.icu.text.StringSearch` to correctly implement previous implementations of case-insensitive indexOf operations.\r\n\r\nNon-Android users can access the same functionality through the ICU4J package, using the `com.ibm.icu.text.StringSearch` class.\r\n\r\nBe careful to reference classes in the correct icu package (`android.icu.text` or `com.ibm.icu.text`) as Android and the JRE both have classes with the same name in other namespaces (e.g. Collator).\r\n\r\n\r\n   \t\tthis.collator = (RuleBasedCollator)Collator.getInstance(locale);\r\n\t\tthis.collator.setStrength(Collator.PRIMARY);\r\n\r\n        ....\r\n\r\n        StringSearch search = new StringSearch(\r\n             pattern,\r\n             new StringCharacterIterator(targetText),\r\n             collator);\r\n\t\tint index = search.first();\r\n\t\tif (index != SearchString.DONE)\r\n\t\t{\r\n            // remember that the match length may NOT equal the pattern length.\r\n\t\t\tlength = search.getMatchLength();\r\n            .... \r\n        }\r\n\r\nTest Cases (Locale, pattern, target text, expectedResult):\r\n\r\n\t\ttestMatch(Locale.US,&quot;AbCde&quot;,&quot;aBcDe&quot;,true);\r\n\t\ttestMatch(Locale.US,&quot;&#233;&#232;&#234;&quot;,&quot;EEE&quot;,true);\r\n\r\n\t\ttestMatch(Locale.GERMAN,&quot;STRASSE&quot;,&quot;Stra&#223;e&quot;,true);\r\n\t\ttestMatch(Locale.FRENCH,&quot;&#233;&#232;&#234;&quot;,&quot;EEE&quot;,true);\r\n\t\ttestMatch(Locale.FRENCH,&quot;EEE&quot;,&quot;&#233;&#232;&#234;&quot;,true);\r\n\t\ttestMatch(Locale.FRENCH,&quot;&#233;&#232;&#234;&quot;,&quot;&#201;&#200;&#202;&quot;,true);\r\n\r\n\t\ttestMatch(new Locale(&quot;tr-TR&quot;),&quot;TITLE&quot;,&quot;tıtle&quot;,true);  // Turkish dotless I/i\r\n\t\ttestMatch(new Locale(&quot;tr-TR&quot;),&quot;TİTLE&quot;,&quot;title&quot;,true);  // Turkish dotted I/i\r\n\t\ttestMatch(new Locale(&quot;tr-TR&quot;),&quot;TITLE&quot;,&quot;title&quot;,false);  // Dotless-I != dotted i.\r\n\r\n\r\nPS: As best as I can determine, the PRIMARY binding strength should do the right thing when locale-specific rules differentiate between accented and non-accented characters according to dictionary rules; but I don&#39;t which locale to use to test this premise. Donated test cases would be gratefully appreciated.\r\n\r\n--\r\n\r\nCopyright notice: because StackOverflow&#39;s CC-BY_SA copyrights as applied to code-fragments are unworkable for professional developers, these fragments are dual licensed under more appropriate licenses here:  https://pastebin.com/1YhFWmnU\r\n","title":"indexOf Case Sensitive?","body":"<p>I would like to lay claim to the ONE and only solution posted so far that actually works. :-)</p>\n<p>Three classes of problems that have to be dealt with.</p>\n<ol>\n<li><p>Non-transitive matching rules for lower and uppercase. The Turkish I problem has been mentioned frequently in other replies. According to comments in Android source for String.regionMatches, the Georgian comparison rules requires additional conversion to lower-case when comparing for case-insensitive equality.</p>\n</li>\n<li><p>Cases where upper- and lower-case forms have a different number of letters. Pretty much all of the solutions posted so far fail, in these cases. Example: German STRASSE vs. Straße have case-insensitive equality, but have different lengths.</p>\n</li>\n<li><p>Binding strengths of accented characters. Locale AND context effect whether accents match or not. In French, the uppercase form of 'é' is 'E', although there is a movement toward using uppercase accents . In Canadian French, the upper-case form of 'é' is 'É', without exception. Users in both countries would expect &quot;e&quot; to  match &quot;é&quot; when searching. Whether accented and unaccented characters match is locale-specific. Now consider: does &quot;E&quot; equal &quot;É&quot;? Yes. It does. In French locales, anyway.</p>\n</li>\n</ol>\n<p>I am currently using <code>android.icu.text.StringSearch</code> to correctly implement previous implementations of case-insensitive indexOf operations.</p>\n<p>Non-Android users can access the same functionality through the ICU4J package, using the <code>com.ibm.icu.text.StringSearch</code> class.</p>\n<p>Be careful to reference classes in the correct icu package (<code>android.icu.text</code> or <code>com.ibm.icu.text</code>) as Android and the JRE both have classes with the same name in other namespaces (e.g. Collator).</p>\n<pre><code>    this.collator = (RuleBasedCollator)Collator.getInstance(locale);\n    this.collator.setStrength(Collator.PRIMARY);\n\n    ....\n\n    StringSearch search = new StringSearch(\n         pattern,\n         new StringCharacterIterator(targetText),\n         collator);\n    int index = search.first();\n    if (index != SearchString.DONE)\n    {\n        // remember that the match length may NOT equal the pattern length.\n        length = search.getMatchLength();\n        .... \n    }\n</code></pre>\n<p>Test Cases (Locale, pattern, target text, expectedResult):</p>\n<pre><code>    testMatch(Locale.US,&quot;AbCde&quot;,&quot;aBcDe&quot;,true);\n    testMatch(Locale.US,&quot;éèê&quot;,&quot;EEE&quot;,true);\n\n    testMatch(Locale.GERMAN,&quot;STRASSE&quot;,&quot;Straße&quot;,true);\n    testMatch(Locale.FRENCH,&quot;éèê&quot;,&quot;EEE&quot;,true);\n    testMatch(Locale.FRENCH,&quot;EEE&quot;,&quot;éèê&quot;,true);\n    testMatch(Locale.FRENCH,&quot;éèê&quot;,&quot;ÉÈÊ&quot;,true);\n\n    testMatch(new Locale(&quot;tr-TR&quot;),&quot;TITLE&quot;,&quot;tıtle&quot;,true);  // Turkish dotless I/i\n    testMatch(new Locale(&quot;tr-TR&quot;),&quot;TİTLE&quot;,&quot;title&quot;,true);  // Turkish dotted I/i\n    testMatch(new Locale(&quot;tr-TR&quot;),&quot;TITLE&quot;,&quot;title&quot;,false);  // Dotless-I != dotted i.\n</code></pre>\n<p>PS: As best as I can determine, the PRIMARY binding strength should do the right thing when locale-specific rules differentiate between accented and non-accented characters according to dictionary rules; but I don't which locale to use to test this premise. Donated test cases would be gratefully appreciated.</p>\n<p>--</p>\n<p>Copyright notice: because StackOverflow's CC-BY_SA copyrights as applied to code-fragments are unworkable for professional developers, these fragments are dual licensed under more appropriate licenses here:  <a href=\"https://pastebin.com/1YhFWmnU\" rel=\"nofollow noreferrer\">https://pastebin.com/1YhFWmnU</a></p>\n"}],"owner":{"account_id":1479,"reputation":1896,"user_id":1972,"accept_rate":83,"display_name":"Brian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136928,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":1126259,"answer_count":19,"score":93,"last_activity_date":1688554020,"creation_date":1247585734,"question_id":1126227,"body_markdown":"Is the indexOf(String) method case sensitive?  If so, is there a case insensitive version of it?","title":"indexOf Case Sensitive?","body":"<p>Is the indexOf(String) method case sensitive?  If so, is there a case insensitive version of it?</p>\n"},{"tags":["java","android","events","android-calendar"],"comments":[{"owner":{"account_id":13306328,"reputation":52,"user_id":9605980,"display_name":"Manjunath"},"score":0,"creation_date":1688561068,"post_id":76619568,"comment_id":135089377,"body_markdown":"https://github.com/ajeethere/EventsCalender download the code and check it","body":"<a href=\"https://github.com/ajeethere/EventsCalender\" rel=\"nofollow noreferrer\">github.com/ajeethere/EventsCalender</a> download the code and check it"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1688561504,"post_id":76619568,"comment_id":135089496,"body_markdown":"&quot;i came across some devices where it doesn&#39;t work&quot; -- please explain in detail what &quot;it doesn&#39;t work&quot; means. For example, are you crashing? If so, what is the stack trace associated with the crash?","body":"&quot;i came across some devices where it doesn&#39;t work&quot; -- please explain in detail what &quot;it doesn&#39;t work&quot; means. For example, are you crashing? If so, what is the stack trace associated with the crash?"}],"owner":{"account_id":28954816,"reputation":11,"user_id":22178609,"display_name":"Marco Ferrante"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688553982,"creation_date":1688553982,"question_id":76619568,"body_markdown":"I created a booking application. when a reservation is made, an event is automatically added to the calendar. this works on most devices. i came across some devices where it doesn&#39;t work (xiaomi and  samsung) i don&#39;t know if the cause is the os version or something else.\r\n\r\n\r\n\r\n\r\nthe following code is what i use for most devices\r\n\r\n```\r\nContentValues event = new ContentValues();\r\n        event.put(CalendarContract.Events.CALENDAR_ID, 1);\r\n        event.put(CalendarContract.Events.TITLE, &quot;title&quot;);\r\n        event.put(CalendarContract.Events.DESCRIPTION, &quot;description&quot;);\r\n        event.put(CalendarContract.Events.EVENT_LOCATION, &quot;location&quot;);\r\n        event.put(CalendarContract.Events.EVENT_TIMEZONE, TimeZone.getDefault().getID());\r\n\r\n        event.put(CalendarContract.Events.DTSTART, date + (begin * 3600000) + 1800000);\r\n        event.put(CalendarContract.Events.DTEND, date + (end * 3600000) + 1800000);\r\n\r\n        event.put(CalendarContract.Events.ALL_DAY, 0); // 0 per false, 1 per true\r\n        event.put(&quot;eventStatus&quot;, 1);\r\n        event.put(CalendarContract.Events.HAS_ALARM, 0);\r\n\r\n        String eventUriString = &quot;content://com.android.calendar/events&quot;;\r\n        Uri eventUri = requireContext().getApplicationContext()\r\n                .getContentResolver()\r\n                .insert(Uri.parse(eventUriString), event);\r\n        long eventID = Long.parseLong(eventUri.getLastPathSegment());\r\n\r\n\r\n        int minutes=30;\r\n\r\n\r\n        // add reminder for the event\r\n        ContentValues reminders = new ContentValues();\r\n        reminders.put(&quot;event_id&quot;, eventID);\r\n        reminders.put(&quot;method&quot;, &quot;1&quot;);\r\n        reminders.put(&quot;minutes&quot;, minutes);\r\n\r\n        String reminderUriString = &quot;content://com.android.calendar/reminders&quot;;\r\n        getContext().getContentResolver()\r\n                .insert(Uri.parse(reminderUriString), reminders);\r\n```\r\n\r\nI found some code somewhere that allows you to open the calendar app with the fields already filled in. what I want, however, is that the user does not even have the perception that the event has been created","title":"add programmatically calendar event on android 13 with java","body":"<p>I created a booking application. when a reservation is made, an event is automatically added to the calendar. this works on most devices. i came across some devices where it doesn't work (xiaomi and  samsung) i don't know if the cause is the os version or something else.</p>\n<p>the following code is what i use for most devices</p>\n<pre><code>ContentValues event = new ContentValues();\n        event.put(CalendarContract.Events.CALENDAR_ID, 1);\n        event.put(CalendarContract.Events.TITLE, &quot;title&quot;);\n        event.put(CalendarContract.Events.DESCRIPTION, &quot;description&quot;);\n        event.put(CalendarContract.Events.EVENT_LOCATION, &quot;location&quot;);\n        event.put(CalendarContract.Events.EVENT_TIMEZONE, TimeZone.getDefault().getID());\n\n        event.put(CalendarContract.Events.DTSTART, date + (begin * 3600000) + 1800000);\n        event.put(CalendarContract.Events.DTEND, date + (end * 3600000) + 1800000);\n\n        event.put(CalendarContract.Events.ALL_DAY, 0); // 0 per false, 1 per true\n        event.put(&quot;eventStatus&quot;, 1);\n        event.put(CalendarContract.Events.HAS_ALARM, 0);\n\n        String eventUriString = &quot;content://com.android.calendar/events&quot;;\n        Uri eventUri = requireContext().getApplicationContext()\n                .getContentResolver()\n                .insert(Uri.parse(eventUriString), event);\n        long eventID = Long.parseLong(eventUri.getLastPathSegment());\n\n\n        int minutes=30;\n\n\n        // add reminder for the event\n        ContentValues reminders = new ContentValues();\n        reminders.put(&quot;event_id&quot;, eventID);\n        reminders.put(&quot;method&quot;, &quot;1&quot;);\n        reminders.put(&quot;minutes&quot;, minutes);\n\n        String reminderUriString = &quot;content://com.android.calendar/reminders&quot;;\n        getContext().getContentResolver()\n                .insert(Uri.parse(reminderUriString), reminders);\n</code></pre>\n<p>I found some code somewhere that allows you to open the calendar app with the fields already filled in. what I want, however, is that the user does not even have the perception that the event has been created</p>\n"},{"tags":["java","google-drive-api","drive"],"owner":{"account_id":28953560,"reputation":1,"user_id":22177577,"display_name":"Naveen Tangudu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688553506,"creation_date":1688542899,"question_id":76618104,"body_markdown":"Is there any way for getting all the changes of Google Drive from the beginning of the drive and if there is no way please mention it if you have any official documentation also I&#39;m fine.\r\n\r\nHi people,\r\n\r\nI have a case where I need to get all the changes from the Drive from the beginning in Java,\r\n\r\nI tried multiple approaches like \r\n```java\r\nString pagetoken = &quot;&quot;;\r\n        ChangeList changes = drive.changes().list(pagetoken).execute();\r\n```\r\ngetting error like\r\n\r\n```\r\n400 Bad Request\r\n{\r\n  &quot;code&quot; : 400,\r\n  &quot;errors&quot; : [ {\r\n    &quot;domain&quot; : &quot;global&quot;,\r\n    &quot;location&quot; : &quot;pageToken&quot;,\r\n    &quot;locationType&quot; : &quot;parameter&quot;,\r\n    &quot;message&quot; : &quot;Invalid Value&quot;,\r\n    &quot;reason&quot; : &quot;invalid&quot;\r\n  } ],\r\n  &quot;message&quot; : &quot;Invalid Value&quot;\r\n}\r\n```\r\n\r\nApproach 2\r\n\r\n\r\n```java\r\nString pagetoken = null;\r\n        ChangeList changes = drive.changes().list(pagetoken).execute();\r\n```\r\n\r\ngetting error like\r\n\r\n```\r\njava.lang.NullPointerException: Required parameter pageToken must be specified.\r\n```\r\n\r\nApproach 3\r\n\r\n\r\n```java\r\nString pagetoken = &quot;1&quot;;\r\n        ChangeList changes = drive.changes().list().execute();\r\n```\r\n\r\ngetting error like \r\n\r\n```\r\nExpected 1 arguments but found 0 for list parameter\r\n```\r\nhere drive is the google drive object and I&#39;m using the Google Drive library in Java \r\n\r\ncomplete code\r\n\r\n\r\n```java\r\nimport com.google.api.services.drive.Drive;\r\nimport com.google.api.services.drive.model.Change;\r\nimport com.google.api.services.drive.model.ChangeList;\r\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\nimport com.google.api.client.json.jackson2.JacksonFactory;\r\n\r\nimport java.io.IOException;\r\nimport java.security.GeneralSecurityException;\r\nimport java.util.List;\r\n\r\npublic class GoogleDriveChangesExample {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            Drive driveService = new Drive.Builder(\r\n                    GoogleNetHttpTransport.newTrustedTransport(),\r\n                    JacksonFactory.getDefaultInstance(),\r\n                    yourCredentials)\r\n                    .setApplicationName(&quot;Your Application Name&quot;)\r\n                    .build();\r\n\r\n            ChangeList changes;\r\n            String pageToken = null;\r\n            changes = drive.changes().list(pageToken).execute();\r\n           \r\n\r\n        } catch (GeneralSecurityException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nSo is there any way for getting all the changes of the drive from the beginning of the drive?","title":"Is there any way to get all the changes of the google drive from its beginning in java","body":"<p>Is there any way for getting all the changes of Google Drive from the beginning of the drive and if there is no way please mention it if you have any official documentation also I'm fine.</p>\n<p>Hi people,</p>\n<p>I have a case where I need to get all the changes from the Drive from the beginning in Java,</p>\n<p>I tried multiple approaches like</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pagetoken = &quot;&quot;;\n        ChangeList changes = drive.changes().list(pagetoken).execute();\n</code></pre>\n<p>getting error like</p>\n<pre><code>400 Bad Request\n{\n  &quot;code&quot; : 400,\n  &quot;errors&quot; : [ {\n    &quot;domain&quot; : &quot;global&quot;,\n    &quot;location&quot; : &quot;pageToken&quot;,\n    &quot;locationType&quot; : &quot;parameter&quot;,\n    &quot;message&quot; : &quot;Invalid Value&quot;,\n    &quot;reason&quot; : &quot;invalid&quot;\n  } ],\n  &quot;message&quot; : &quot;Invalid Value&quot;\n}\n</code></pre>\n<p>Approach 2</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pagetoken = null;\n        ChangeList changes = drive.changes().list(pagetoken).execute();\n</code></pre>\n<p>getting error like</p>\n<pre><code>java.lang.NullPointerException: Required parameter pageToken must be specified.\n</code></pre>\n<p>Approach 3</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pagetoken = &quot;1&quot;;\n        ChangeList changes = drive.changes().list().execute();\n</code></pre>\n<p>getting error like</p>\n<pre><code>Expected 1 arguments but found 0 for list parameter\n</code></pre>\n<p>here drive is the google drive object and I'm using the Google Drive library in Java</p>\n<p>complete code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.api.services.drive.Drive;\nimport com.google.api.services.drive.model.Change;\nimport com.google.api.services.drive.model.ChangeList;\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.json.jackson2.JacksonFactory;\n\nimport java.io.IOException;\nimport java.security.GeneralSecurityException;\nimport java.util.List;\n\npublic class GoogleDriveChangesExample {\n\n    public static void main(String[] args) {\n        try {\n            Drive driveService = new Drive.Builder(\n                    GoogleNetHttpTransport.newTrustedTransport(),\n                    JacksonFactory.getDefaultInstance(),\n                    yourCredentials)\n                    .setApplicationName(&quot;Your Application Name&quot;)\n                    .build();\n\n            ChangeList changes;\n            String pageToken = null;\n            changes = drive.changes().list(pageToken).execute();\n           \n\n        } catch (GeneralSecurityException | IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>So is there any way for getting all the changes of the drive from the beginning of the drive?</p>\n"},{"tags":["java","maven","httpclient","apache-commons-httpclient"],"owner":{"account_id":310878,"reputation":124,"user_id":4767104,"display_name":"Kathees"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688553411,"creation_date":1688553411,"question_id":76619502,"body_markdown":"I have updgraded to httpclient from commons-httpclient for security vulnerability issues.\r\n\r\nhttps://mvnrepository.com/artifact/commons-httpclient/commons-httpclient\r\n\r\nBut, can not find ConnectTimeoutException class in httpclient.\r\n\r\nWhat is the class for ConnectTimeoutException in httpclient?\r\n\r\n**commons-httpclient**\r\n\r\n    &lt;exclusion&gt;\r\n            &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\r\n             &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n\r\n**httpclient**\r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;4.5.14&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n","title":"ConnectTimeoutException class in httpclient instead for commons-httpclient","body":"<p>I have updgraded to httpclient from commons-httpclient for security vulnerability issues.</p>\n<p><a href=\"https://mvnrepository.com/artifact/commons-httpclient/commons-httpclient\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/commons-httpclient/commons-httpclient</a></p>\n<p>But, can not find ConnectTimeoutException class in httpclient.</p>\n<p>What is the class for ConnectTimeoutException in httpclient?</p>\n<p><strong>commons-httpclient</strong></p>\n<pre><code>&lt;exclusion&gt;\n        &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\n         &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n</code></pre>\n<p><strong>httpclient</strong></p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.14&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","hbase"],"owner":{"account_id":13182211,"reputation":23,"user_id":9521249,"display_name":"sr ao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688553329,"creation_date":1688543421,"question_id":76618172,"body_markdown":"I use the async client of hbase in java. I execute the get method (`CompletableFuture&lt;Result&gt; get(Get get);`) about 10000 times in a loop. Then I got the message:\r\n\r\n```\r\norg.apache.hadoop.hbase.CallQueueTooBigException: Call queue is full on ip-10-161-3-55.us-west-2.compute.internal,16020,1678360345005, too many items queued ?\r\n sun.reflect.GeneratedConstructorAccessor101.newInstance(Unknown Source)\r\n sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n org.apache.hadoop.hbase.ipc.RemoteWithExtrasException.instantiateException(RemoteWithExtrasException.java:99)\r\n org.apache.hadoop.hbase.ipc.RemoteWithExtrasException.unwrapRemoteException(RemoteWithExtrasException.java:89)\r\n org.apache.hadoop.hbase.client.ConnectionUtils.translateException(ConnectionUtils.java:317)\r\n org.apache.hadoop.hbase.client.AsyncRpcRetryingCaller.onError(AsyncRpcRetryingCaller.java:159)\r\n org.apache.hadoop.hbase.client.AsyncSingleRequestRpcRetryingCaller.lambda$call$4(AsyncSingleRequestRpcRetryingCaller.java:84)\r\n org.apache.hadoop.hbase.util.FutureUtils.lambda$addListener$0(FutureUtils.java:68)\r\n java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)\r\n java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)\r\n java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\r\n java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)\r\n org.apache.hadoop.hbase.client.RawAsyncTableImpl$1.run(RawAsyncTableImpl.java:182)\r\n org.apache.hbase.thirdparty.com.google.protobuf.RpcUtil$1.run(RpcUtil.java:79)\r\n org.apache.hbase.thirdparty.com.google.protobuf.RpcUtil$1.run(RpcUtil.java:70)\r\n org.apache.hadoop.hbase.ipc.AbstractRpcClient.onCallFinished(AbstractRpcClient.java:385)\r\n org.apache.hadoop.hbase.ipc.AbstractRpcClient.access$100(AbstractRpcClient.java:89)\r\n org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:414)\r\n org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:410)\r\n org.apache.hadoop.hbase.ipc.Call.callComplete(Call.java:118)\r\n org.apache.hadoop.hbase.ipc.Call.setException(Call.java:133)\r\n org.apache.hadoop.hbase.ipc.NettyRpcDuplexHandler.readResponse(NettyRpcDuplexHandler.java:162)\r\n org.apache.hadoop.hbase.ipc.NettyRpcDuplexHandler.channelRead(NettyRpcDuplexHandler.java:192)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\r\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)\r\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:432)\r\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n org.apache.hbase.thirdparty.io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n org.apache.hbase.thirdparty.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n org.apache.hbase.thirdparty.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n org.apache.hbase.thirdparty.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\r\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n org.apache.hbase.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n org.apache.hbase.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n org.apache.hbase.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.apache.hadoop.hbase.ipc.RemoteWithExtrasException: Call queue is full on ip-10-161-3-55.us-west-2.compute.internal,16020,1678360345005, too many items queued ?\r\n org.apache.hadoop.hbase.ipc.AbstractRpcClient.onCallFinished(AbstractRpcClient.java:380)\r\n```\r\nIt seems I&#39;ve sent too many requests to the HBase server. The `hbase.regionserver.handler.count` is 100. Increasing the handler count may help but I think it can&#39;t solve this problem completely when there are more requests.\r\n\r\nWhat is the real reason for this exception?\r\n\r\nAre there any configurations to control the concurrent of the request or anything that can help?","title":"Hbase too many items queued","body":"<p>I use the async client of hbase in java. I execute the get method (<code>CompletableFuture&lt;Result&gt; get(Get get);</code>) about 10000 times in a loop. Then I got the message:</p>\n<pre><code>org.apache.hadoop.hbase.CallQueueTooBigException: Call queue is full on ip-10-161-3-55.us-west-2.compute.internal,16020,1678360345005, too many items queued ?\n sun.reflect.GeneratedConstructorAccessor101.newInstance(Unknown Source)\n sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n org.apache.hadoop.hbase.ipc.RemoteWithExtrasException.instantiateException(RemoteWithExtrasException.java:99)\n org.apache.hadoop.hbase.ipc.RemoteWithExtrasException.unwrapRemoteException(RemoteWithExtrasException.java:89)\n org.apache.hadoop.hbase.client.ConnectionUtils.translateException(ConnectionUtils.java:317)\n org.apache.hadoop.hbase.client.AsyncRpcRetryingCaller.onError(AsyncRpcRetryingCaller.java:159)\n org.apache.hadoop.hbase.client.AsyncSingleRequestRpcRetryingCaller.lambda$call$4(AsyncSingleRequestRpcRetryingCaller.java:84)\n org.apache.hadoop.hbase.util.FutureUtils.lambda$addListener$0(FutureUtils.java:68)\n java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760)\n java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:736)\n java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)\n java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:1977)\n org.apache.hadoop.hbase.client.RawAsyncTableImpl$1.run(RawAsyncTableImpl.java:182)\n org.apache.hbase.thirdparty.com.google.protobuf.RpcUtil$1.run(RpcUtil.java:79)\n org.apache.hbase.thirdparty.com.google.protobuf.RpcUtil$1.run(RpcUtil.java:70)\n org.apache.hadoop.hbase.ipc.AbstractRpcClient.onCallFinished(AbstractRpcClient.java:385)\n org.apache.hadoop.hbase.ipc.AbstractRpcClient.access$100(AbstractRpcClient.java:89)\n org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:414)\n org.apache.hadoop.hbase.ipc.AbstractRpcClient$3.run(AbstractRpcClient.java:410)\n org.apache.hadoop.hbase.ipc.Call.callComplete(Call.java:118)\n org.apache.hadoop.hbase.ipc.Call.setException(Call.java:133)\n org.apache.hadoop.hbase.ipc.NettyRpcDuplexHandler.readResponse(NettyRpcDuplexHandler.java:162)\n org.apache.hadoop.hbase.ipc.NettyRpcDuplexHandler.channelRead(NettyRpcDuplexHandler.java:192)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324)\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:311)\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:432)\n org.apache.hbase.thirdparty.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n org.apache.hbase.thirdparty.io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n org.apache.hbase.thirdparty.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n org.apache.hbase.thirdparty.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n org.apache.hbase.thirdparty.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n org.apache.hbase.thirdparty.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n org.apache.hbase.thirdparty.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n org.apache.hbase.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n org.apache.hbase.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n org.apache.hbase.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:748)\nCaused by: org.apache.hadoop.hbase.ipc.RemoteWithExtrasException: Call queue is full on ip-10-161-3-55.us-west-2.compute.internal,16020,1678360345005, too many items queued ?\n org.apache.hadoop.hbase.ipc.AbstractRpcClient.onCallFinished(AbstractRpcClient.java:380)\n</code></pre>\n<p>It seems I've sent too many requests to the HBase server. The <code>hbase.regionserver.handler.count</code> is 100. Increasing the handler count may help but I think it can't solve this problem completely when there are more requests.</p>\n<p>What is the real reason for this exception?</p>\n<p>Are there any configurations to control the concurrent of the request or anything that can help?</p>\n"},{"tags":["java","android","gradle","build"],"owner":{"account_id":2796529,"reputation":2231,"user_id":2405663,"accept_rate":48,"display_name":"bircastri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688553069,"creation_date":1688543594,"question_id":76618191,"body_markdown":"I have an Android application and I am not able to build successfully.\r\nThis is my `gradle.app` file:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;io.fabric&#39;\r\n    \r\n    repositories {\r\n        maven { url &#39;https://maven.fabric.io/public&#39; }\r\n    }\r\n    android {\r\n        compileSdkVersion 31\r\n        defaultConfig {\r\n            applicationId &quot;it.bioresult.cardio&quot;\r\n            minSdkVersion 28\r\n            //noinspection ExpiredTargetSdkVersion\r\n            targetSdkVersion 31\r\n            versionCode 2\r\n            versionName &quot;1.1&quot;\r\n            multiDexEnabled true\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            ndk {\r\n                abiFilters &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;armeabi&quot;, &quot;mips&quot;\r\n            }\r\n    \r\n        }\r\n        //useLibrary &#39;org.apache.http.legacy&#39;\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            targetCompatibility = 1.8\r\n            sourceCompatibility = 1.8\r\n        }\r\n    \r\n        packagingOptions {\r\n            // Exclude file to avoid\r\n            // Error: Duplicate files during packaging of APK\r\n            exclude &#39;META-INF/DEPENDENCIES&#39;\r\n            exclude &#39;META-INF/LICENSE&#39;\r\n            exclude &#39;META-INF/LICENSE.txt&#39;\r\n            exclude &#39;META-INF/license.txt&#39;\r\n            exclude &#39;META-INF/NOTICE&#39;\r\n            exclude &#39;META-INF/NOTICE.txt&#39;\r\n            exclude &#39;META-INF/notice.txt&#39;\r\n            exclude &#39;META-INF/ASL2.0&#39;\r\n            exclude &#39;META-INF/services/javax.annotation.processing.Processor&#39;\r\n            exclude &#39;META-INF/*.kotlin_module&#39;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;androidx.recyclerview:recyclerview:1.2.1&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-service:2.5.1&#39;\r\n        final ROOM_VERSION = &#39;1.1.1&#39;\r\n        final DAGGER_VERSION = &#39;2.15&#39;\r\n        final ARCHITECTURE_COMPONENT_VERSION = &#39;1.1.1&#39;\r\n        //noinspection OutdatedLibrary\r\n        implementation(&#39;com.crashlytics.sdk.android:crashlytics:2.9.8@aar&#39;) {\r\n            transitive = true;\r\n        }\r\n        implementation fileTree(include: [&#39;*.jar&#39;, &#39;*.aar&#39;], dir: &#39;libs&#39;)\r\n        //implementation fileTree(include: [&#39;*.aar&#39;], dir: &#39;libs&#39;)\r\n        //noinspection GradleCompatible\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        //noinspection GradleCompatible\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        implementation &#39;com.github.bumptech.glide:glide:4.8.0&#39;\r\n        annotationProcessor &#39;com.github.bumptech.glide:compiler:4.8.0&#39;\r\n        //noinspection GradleCompatible\r\n        implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n        implementation &#39;me.hiennguyen.circleseekbar:circleseekbar:1.0.1&#39;\r\n        implementation &#39;me.tankery.lib:circularSeekBar:1.1.7&#39;\r\n        implementation &#39;com.github.PhilJay:MPAndroidChart:v2.2.4&#39;\r\n        implementation &#39;devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4&#39;\r\n        implementation &#39;com.github.bmarrdev:android-DecoView-charting:v0.9.3&#39;\r\n        implementation &#39;com.wefika:horizontal-picker:1.1.1&#39;\r\n        //implementation &#39;com.wefika:horizontal-picker:1.1.1&#39;\r\n        //    implementation &#39;com.github.bumptech.glide:glide:4.8.0&#39;\r\n        //    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.8.0&#39;\r\n        //bargraph\r\n        implementation &#39;com.github.blackfizz:eazegraph:1.2.5l@aar&#39;\r\n        implementation &#39;com.nineoldandroids:library:2.4.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-maps:17.0.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-location:17.0.0&#39;\r\n        implementation &#39;org.lucasr.twowayview:twowayview:0.1.4&#39;\r\n        implementation &#39;com.quinny898.library.persistentsearch:library:1.1.0-SNAPSHOT&#39;\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.5.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:converter-gson:2.4.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:adapter-rxjava2:2.3.0&#39;\r\n        // implementation &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n        implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n        implementation &#39;com.squareup.okhttp3:okhttp:3.12.0&#39;\r\n        implementation &#39;com.squareup.okhttp3:logging-interceptor:3.11.0&#39;\r\n        //Job Scheduler and MQTT\r\n        implementation &#39;com.birbit:android-priority-jobqueue:2.0.1&#39;\r\n        implementation &#39;org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.1.0&#39;\r\n        implementation &#39;org.eclipse.paho:org.eclipse.paho.android.service:1.1.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:20.0.0&#39;\r\n        //    implementation &#39;com.github.Triggertrap:SeekArc:v1.1&#39;\r\n        //    implementation &#39;me.tankery.lib:circularSeekBar:1.1.4&#39;\r\n        //    implementation &#39;com.github.feeeei:CircleSeekbar:v1.1.2&#39;\r\n        implementation project(&#39;:speedviewlib&#39;)\r\n        implementation &#39;eo.view:batterymeter:1.1.1&#39;\r\n        //PROVO A COMMENTARE QUESTA LINE ADI CODICE\r\n        //implementation &#39;org.apache.commons:commons-math3:3.6.1&#39;\r\n        implementation project(&#39;:zephyrlib&#39;)\r\n        //implementation project(&#39;:ecgview&#39;)\r\n        //implementation &#39;com.androidplot:androidplot-core:1.5.3&#39;\r\n        // implementation project(&#39;:support&#39;)\r\n        //compile &#39;org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2&#39;\r\n        //QUESTO SERVE PER L INVIO DEI CRASH\r\n        //implementation &#39;ch.acra:acra:4.9.0&#39;\r\n        implementation &#39;androidx.core:core:1.0.2&#39;\r\n        //COMMENTO QUESTA LINEA DI CODICE\r\n        implementation &#39;joda-time:joda-time:2.9.6&#39;\r\n        implementation &#39;com.neovisionaries:nv-bluetooth:1.7&#39;\r\n        implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.5.1&#39;\r\n        //COMMENTO QUESTA LINEA DI CODICE\r\n        implementation &#39;org.apache.commons:commons-math3:3.6.1&#39;\r\n        //COMMENTO QUESTA LINEA DI CODICE\r\n        implementation &#39;org.apache.commons:commons-math:2.2&#39;\r\n        implementation &#39;com.google.code.gson:gson:2.8.5&#39;\r\n        implementation &#39;net.lingala.zip4j:zip4j:1.3.2&#39;\r\n        implementation &#39;org.osmdroid:osmdroid-android:6.1.2&#39;\r\n        implementation project(&#39;:subsamplinglib&#39;)\r\n        implementation &#39;org.jetbrains:annotations:15.0&#39;\r\n        implementation &#39;com.nostra13.universalimageloader:universal-image-loader:1.9.5&#39;\r\n        //  compile project(path: &#39;:whitelabel&#39;)\r\n        implementation files(&#39;libs/Jama-1.0.3.jar&#39;)\r\n        implementation &#39;com.github.Abhi347:LumberJack:0.1.0&#39;\r\n        //salvare i dati automaticvamente nelle preferenze del sistema\r\n        implementation &#39;io.paperdb:paperdb:2.6&#39;\r\n    \r\n        //NEXTOME\r\n        //implementation &quot;com.android.volley:volley:1.1.0&quot;\r\n    \r\n        /*\r\n        integrazione da app indiani\r\n        * */\r\n        // RxJava / RxAndroid\r\n        implementation &#39;io.reactivex.rxjava2:rxjava:2.1.10&#39;\r\n        implementation &#39;io.reactivex.rxjava2:rxandroid:2.0.2&#39;\r\n        implementation &quot;android.arch.persistence.room:runtime:$ROOM_VERSION&quot;\r\n        annotationProcessor &quot;android.arch.persistence.room:compiler:$ROOM_VERSION&quot;\r\n        implementation &quot;android.arch.persistence.room:rxjava2:$ROOM_VERSION&quot;\r\n        implementation &quot;com.google.dagger:dagger:$DAGGER_VERSION&quot;\r\n        implementation &quot;com.google.dagger:dagger-android-support:$DAGGER_VERSION&quot;\r\n        annotationProcessor &quot;com.google.dagger:dagger-compiler:$DAGGER_VERSION&quot;\r\n        annotationProcessor &quot;com.google.dagger:dagger-android-processor:$DAGGER_VERSION&quot;\r\n        androidTestAnnotationProcessor &quot;com.google.dagger:dagger-compiler:$DAGGER_VERSION&quot;\r\n        implementation &#39;com.github.PhilJay:MPAndroidChart:v3.1.0&#39;\r\n        implementation &#39;com.intuit.sdp:sdp-android:1.0.6&#39;\r\n        implementation &#39;com.github.razerdp:AnimatedPieView:1.2.6&#39;\r\n        implementation &#39;org.apmem.tools:layouts:1.10@aar&#39;\r\n        implementation &#39;com.jakewharton.timber:timber:4.5.1&#39;\r\n        implementation &quot;com.google.android.gms:play-services-gcm:17.0.0&quot;\r\n        implementation project(&#39;:horizontalcalendar&#39;)\r\n        implementation &quot;com.github.skydoves:progressview:1.0.7&quot;\r\n        implementation &#39;com.henryblue.mxvideoplayer:xvideoplayer:1.2.1&#39;\r\n        implementation &#39;com.github.HamidrezaAmz:MagicalExoPlayer:1.0.16&#39;\r\n        implementation &#39;com.github.antonKozyriatskyi:CircularProgressIndicator:1.3.0&#39;\r\n        implementation &#39;com.mikhaellopez:circularprogressbar:3.0.3&#39;\r\n    implementation &#39;org.altbeacon:android-beacon-library:2+&#39;\r\n        implementation &#39;com.lemmingapex.trilateration:trilateration:1.0.2&#39;\r\n    \r\n    }\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nThis is the error that I can read from Android console:\r\n\r\n    &gt; Task :app:desugarDebugFileDependencies\r\n    \r\n    FAILURE: Build completed with 5 failures.\r\n    \r\n    1: Task failed with an exception.\r\n    -----------\r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:javaPreCompileDebug&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:app:debugCompileClasspath&#39;.\r\n       &gt; Failed to transform artifact &#39;android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)&#39; to match attributes {artifactType=android-classes, org.gradle.usage=java-api}.\r\n          &gt; Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\r\n             &gt; Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:javaPreCompileDebug&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:73)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\r\n    \tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:49)\r\n    \tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n    \tat     \r\n    ==============================================================================\r\n    \r\n    Caused by: java.lang.RuntimeException: Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \r\n    2: Task failed with an exception.\r\n    -----------\r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:mergeDebugAssets&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n       &gt; Failed to transform artifact &#39;android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)&#39; to match attributes {artifactType=android-assets}.\r\n          &gt; Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\r\n             &gt; Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    \r\n    Caused by: java.lang.RuntimeException: Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \tat com.android.build.gradle.internal.dependency.JetifyTransform.transform(JetifyTransform.kt:118)\r\n    \tat org.gradle.api.internal.artifacts.transform.LegacyTransformer.transform(LegacyTransformer.java:76)\r\n    Caused by: java.lang.RuntimeException: Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \r\n    \t\r\n    ==============================================================================\r\n    \r\n    4: Task failed with an exception.\r\n    -----------\r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n    &gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n       &gt; Failed to transform artifact &#39;android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)&#39; to match attributes {artifactType=android-classes, org.gradle.usage=java-runtime}.\r\n          &gt; Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\r\n             &gt; Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:73)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\r\n    \tat \r\n    Caused by: org.gradle.api.internal.artifacts.transform.TransformException: Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\r\n    \r\n    Caused by: java.lang.RuntimeException: Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \tat com.android.build.gradle.internal.dependency.JetifyTransform.transform(JetifyTransform.kt:118)\r\n    \tat org.gradle.api.internal.artifacts.transform.LegacyTransformer.transform(LegacyTransformer.java:76)\r\n    \tat \r\n    Caused by: org.gradle.api.internal.artifacts.transform.TransformException: Failed to transform artifact &#39;android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)&#39; to match attributes {artifactType=android-java-res}.\r\n    \tat org.gradle.api.internal.artifacts.transform.TransformingArtifactVisitor.lambda$visitArtifact$1(TransformingArtifactVisitor.java:61)\r\n    \tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:191)\r\n    \tat \r\n    Caused by: java.lang.RuntimeException: Failed to transform &#39;C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar&#39; using Jetifier. Reason: null. (Run with --stacktrace for more details.)\r\n    \r\n    \tat com.android.tools.build.jetifier.processor.Processor.transformLibrary(Processor.kt:421)\r\n    \tat com.android.tools.build.jetifier.processor.Processor.transform(Processor.kt:247)\r\n    \tat com.android.build.gradle.internal.dependency.JetifyTransform.transform(JetifyTransform.kt:113)\r\n    \t... 81 more\r\n    \r\n    ==============================================================================\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\r\n    Use &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\n    See https://docs.gradle.org/5.4.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    Caused by: java.lang.IllegalArgumentException\r\n    \r\n    BUILD FAILED in 10s\r\n    98 actionable tasks: 98 executed\r\n\r\n\r\nWhat can I do to fix them?\r\n","title":"Android application build failed: Execution failed for task &#39;:app:javaPreCompileDebug&#39;","body":"<p>I have an Android application and I am not able to build successfully.\nThis is my <code>gradle.app</code> file:</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'io.fabric'\n\nrepositories {\n    maven { url 'https://maven.fabric.io/public' }\n}\nandroid {\n    compileSdkVersion 31\n    defaultConfig {\n        applicationId &quot;it.bioresult.cardio&quot;\n        minSdkVersion 28\n        //noinspection ExpiredTargetSdkVersion\n        targetSdkVersion 31\n        versionCode 2\n        versionName &quot;1.1&quot;\n        multiDexEnabled true\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        ndk {\n            abiFilters &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;armeabi&quot;, &quot;mips&quot;\n        }\n\n    }\n    //useLibrary 'org.apache.http.legacy'\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        targetCompatibility = 1.8\n        sourceCompatibility = 1.8\n    }\n\n    packagingOptions {\n        // Exclude file to avoid\n        // Error: Duplicate files during packaging of APK\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/license.txt'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/notice.txt'\n        exclude 'META-INF/ASL2.0'\n        exclude 'META-INF/services/javax.annotation.processing.Processor'\n        exclude 'META-INF/*.kotlin_module'\n    }\n}\n\ndependencies {\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\n    implementation 'androidx.lifecycle:lifecycle-service:2.5.1'\n    final ROOM_VERSION = '1.1.1'\n    final DAGGER_VERSION = '2.15'\n    final ARCHITECTURE_COMPONENT_VERSION = '1.1.1'\n    //noinspection OutdatedLibrary\n    implementation('com.crashlytics.sdk.android:crashlytics:2.9.8@aar') {\n        transitive = true;\n    }\n    implementation fileTree(include: ['*.jar', '*.aar'], dir: 'libs')\n    //implementation fileTree(include: ['*.aar'], dir: 'libs')\n    //noinspection GradleCompatible\n    implementation 'androidx.appcompat:appcompat:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    //noinspection GradleCompatible\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.github.bumptech.glide:glide:4.8.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.8.0'\n    //noinspection GradleCompatible\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'me.hiennguyen.circleseekbar:circleseekbar:1.0.1'\n    implementation 'me.tankery.lib:circularSeekBar:1.1.7'\n    implementation 'com.github.PhilJay:MPAndroidChart:v2.2.4'\n    implementation 'devs.mulham.horizontalcalendar:horizontalcalendar:1.3.4'\n    implementation 'com.github.bmarrdev:android-DecoView-charting:v0.9.3'\n    implementation 'com.wefika:horizontal-picker:1.1.1'\n    //implementation 'com.wefika:horizontal-picker:1.1.1'\n    //    implementation 'com.github.bumptech.glide:glide:4.8.0'\n    //    annotationProcessor 'com.github.bumptech.glide:compiler:4.8.0'\n    //bargraph\n    implementation 'com.github.blackfizz:eazegraph:1.2.5l@aar'\n    implementation 'com.nineoldandroids:library:2.4.0'\n    implementation 'com.google.android.gms:play-services-maps:17.0.0'\n    implementation 'com.google.android.gms:play-services-location:17.0.0'\n    implementation 'org.lucasr.twowayview:twowayview:0.1.4'\n    implementation 'com.quinny898.library.persistentsearch:library:1.1.0-SNAPSHOT'\n    implementation 'com.squareup.retrofit2:retrofit:2.5.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.4.0'\n    implementation 'com.squareup.retrofit2:adapter-rxjava2:2.3.0'\n    // implementation 'com.squareup.picasso:picasso:2.5.2'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.squareup.okhttp3:okhttp:3.12.0'\n    implementation 'com.squareup.okhttp3:logging-interceptor:3.11.0'\n    //Job Scheduler and MQTT\n    implementation 'com.birbit:android-priority-jobqueue:2.0.1'\n    implementation 'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.1.0'\n    implementation 'org.eclipse.paho:org.eclipse.paho.android.service:1.1.1'\n    implementation 'com.google.firebase:firebase-messaging:20.0.0'\n    //    implementation 'com.github.Triggertrap:SeekArc:v1.1'\n    //    implementation 'me.tankery.lib:circularSeekBar:1.1.4'\n    //    implementation 'com.github.feeeei:CircleSeekbar:v1.1.2'\n    implementation project(':speedviewlib')\n    implementation 'eo.view:batterymeter:1.1.1'\n    //PROVO A COMMENTARE QUESTA LINE ADI CODICE\n    //implementation 'org.apache.commons:commons-math3:3.6.1'\n    implementation project(':zephyrlib')\n    //implementation project(':ecgview')\n    //implementation 'com.androidplot:androidplot-core:1.5.3'\n    // implementation project(':support')\n    //compile 'org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2'\n    //QUESTO SERVE PER L INVIO DEI CRASH\n    //implementation 'ch.acra:acra:4.9.0'\n    implementation 'androidx.core:core:1.0.2'\n    //COMMENTO QUESTA LINEA DI CODICE\n    implementation 'joda-time:joda-time:2.9.6'\n    implementation 'com.neovisionaries:nv-bluetooth:1.7'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.5.1'\n    //COMMENTO QUESTA LINEA DI CODICE\n    implementation 'org.apache.commons:commons-math3:3.6.1'\n    //COMMENTO QUESTA LINEA DI CODICE\n    implementation 'org.apache.commons:commons-math:2.2'\n    implementation 'com.google.code.gson:gson:2.8.5'\n    implementation 'net.lingala.zip4j:zip4j:1.3.2'\n    implementation 'org.osmdroid:osmdroid-android:6.1.2'\n    implementation project(':subsamplinglib')\n    implementation 'org.jetbrains:annotations:15.0'\n    implementation 'com.nostra13.universalimageloader:universal-image-loader:1.9.5'\n    //  compile project(path: ':whitelabel')\n    implementation files('libs/Jama-1.0.3.jar')\n    implementation 'com.github.Abhi347:LumberJack:0.1.0'\n    //salvare i dati automaticvamente nelle preferenze del sistema\n    implementation 'io.paperdb:paperdb:2.6'\n\n    //NEXTOME\n    //implementation &quot;com.android.volley:volley:1.1.0&quot;\n\n    /*\n    integrazione da app indiani\n    * */\n    // RxJava / RxAndroid\n    implementation 'io.reactivex.rxjava2:rxjava:2.1.10'\n    implementation 'io.reactivex.rxjava2:rxandroid:2.0.2'\n    implementation &quot;android.arch.persistence.room:runtime:$ROOM_VERSION&quot;\n    annotationProcessor &quot;android.arch.persistence.room:compiler:$ROOM_VERSION&quot;\n    implementation &quot;android.arch.persistence.room:rxjava2:$ROOM_VERSION&quot;\n    implementation &quot;com.google.dagger:dagger:$DAGGER_VERSION&quot;\n    implementation &quot;com.google.dagger:dagger-android-support:$DAGGER_VERSION&quot;\n    annotationProcessor &quot;com.google.dagger:dagger-compiler:$DAGGER_VERSION&quot;\n    annotationProcessor &quot;com.google.dagger:dagger-android-processor:$DAGGER_VERSION&quot;\n    androidTestAnnotationProcessor &quot;com.google.dagger:dagger-compiler:$DAGGER_VERSION&quot;\n    implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'\n    implementation 'com.intuit.sdp:sdp-android:1.0.6'\n    implementation 'com.github.razerdp:AnimatedPieView:1.2.6'\n    implementation 'org.apmem.tools:layouts:1.10@aar'\n    implementation 'com.jakewharton.timber:timber:4.5.1'\n    implementation &quot;com.google.android.gms:play-services-gcm:17.0.0&quot;\n    implementation project(':horizontalcalendar')\n    implementation &quot;com.github.skydoves:progressview:1.0.7&quot;\n    implementation 'com.henryblue.mxvideoplayer:xvideoplayer:1.2.1'\n    implementation 'com.github.HamidrezaAmz:MagicalExoPlayer:1.0.16'\n    implementation 'com.github.antonKozyriatskyi:CircularProgressIndicator:1.3.0'\n    implementation 'com.mikhaellopez:circularprogressbar:3.0.3'\nimplementation 'org.altbeacon:android-beacon-library:2+'\n    implementation 'com.lemmingapex.trilateration:trilateration:1.0.2'\n\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>This is the error that I can read from Android console:</p>\n<pre><code>&gt; Task :app:desugarDebugFileDependencies\n\nFAILURE: Build completed with 5 failures.\n\n1: Task failed with an exception.\n-----------\n* What went wrong:\nExecution failed for task ':app:javaPreCompileDebug'.\n&gt; Could not resolve all files for configuration ':app:debugCompileClasspath'.\n   &gt; Failed to transform artifact 'android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)' to match attributes {artifactType=android-classes, org.gradle.usage=java-api}.\n      &gt; Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\n         &gt; Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:javaPreCompileDebug'.\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\n    at org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:49)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\n    at     \n==============================================================================\n\nCaused by: java.lang.RuntimeException: Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n\n2: Task failed with an exception.\n-----------\n* What went wrong:\nExecution failed for task ':app:mergeDebugAssets'.\n&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n   &gt; Failed to transform artifact 'android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)' to match attributes {artifactType=android-assets}.\n      &gt; Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\n         &gt; Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n\nCaused by: java.lang.RuntimeException: Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n    at com.android.build.gradle.internal.dependency.JetifyTransform.transform(JetifyTransform.kt:118)\n    at org.gradle.api.internal.artifacts.transform.LegacyTransformer.transform(LegacyTransformer.java:76)\nCaused by: java.lang.RuntimeException: Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n\n    \n==============================================================================\n\n4: Task failed with an exception.\n-----------\n* What went wrong:\nExecution failed for task ':app:checkDebugDuplicateClasses'.\n&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n   &gt; Failed to transform artifact 'android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)' to match attributes {artifactType=android-classes, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\n         &gt; Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:checkDebugDuplicateClasses'.\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:38)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:49)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\n    at \nCaused by: org.gradle.api.internal.artifacts.transform.TransformException: Execution failed for JetifyTransform: C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar.\n\nCaused by: java.lang.RuntimeException: Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n    at com.android.build.gradle.internal.dependency.JetifyTransform.transform(JetifyTransform.kt:118)\n    at org.gradle.api.internal.artifacts.transform.LegacyTransformer.transform(LegacyTransformer.java:76)\n    at \nCaused by: org.gradle.api.internal.artifacts.transform.TransformException: Failed to transform artifact 'android-beacon-library.aar (org.altbeacon:android-beacon-library:2.19.6)' to match attributes {artifactType=android-java-res}.\n    at org.gradle.api.internal.artifacts.transform.TransformingArtifactVisitor.lambda$visitArtifact$1(TransformingArtifactVisitor.java:61)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:191)\n    at \nCaused by: java.lang.RuntimeException: Failed to transform 'C:\\Users\\michele.castriotta\\.gradle\\caches\\modules-2\\files-2.1\\org.altbeacon\\android-beacon-library\\2.19.6\\c967a0d449bc55e98d768fa096de8733bb2a4926\\android-beacon-library-2.19.6.aar' using Jetifier. Reason: null. (Run with --stacktrace for more details.)\n\n    at com.android.tools.build.jetifier.processor.Processor.transformLibrary(Processor.kt:421)\n    at com.android.tools.build.jetifier.processor.Processor.transform(Processor.kt:247)\n    at com.android.build.gradle.internal.dependency.JetifyTransform.transform(JetifyTransform.kt:113)\n    ... 81 more\n\n==============================================================================\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/5.4.1/userguide/command_line_interface.html#sec:command_line_warnings\n\nCaused by: java.lang.IllegalArgumentException\n\nBUILD FAILED in 10s\n98 actionable tasks: 98 executed\n</code></pre>\n<p>What can I do to fix them?</p>\n"},{"tags":["java","excel","xml"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1688543696,"post_id":76618174,"comment_id":135085729,"body_markdown":"Do you talk about a native excel file (format) or a CSV file? What does method &quot;ValueAddition()&quot; do? Can you provide some example code what you have tried so far?","body":"Do you talk about a native excel file (format) or a CSV file? What does method &quot;ValueAddition()&quot; do? Can you provide some example code what you have tried so far?"},{"owner":{"account_id":485835,"reputation":8478,"user_id":902383,"accept_rate":90,"display_name":"user902383"},"score":0,"creation_date":1688546022,"post_id":76618174,"comment_id":135086175,"body_markdown":"can the same id appear in more than one line?","body":"can the same id appear in more than one line?"},{"owner":{"account_id":5732403,"reputation":579,"user_id":4527515,"accept_rate":50,"display_name":"Pratim Singha"},"score":0,"creation_date":1688547038,"post_id":76618174,"comment_id":135086370,"body_markdown":"Yes the same ID can appear in more than one line.","body":"Yes the same ID can appear in more than one line."},{"owner":{"account_id":1718670,"reputation":4777,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1688547145,"post_id":76618174,"comment_id":135086396,"body_markdown":"https://docs.oracle.com/middleware/11119/wls/XMLPG/stax.htm","body":"<a href=\"https://docs.oracle.com/middleware/11119/wls/XMLPG/stax.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/middleware/11119/wls/XMLPG/stax.htm</a>"}],"owner":{"account_id":5732403,"reputation":579,"user_id":4527515,"accept_rate":50,"display_name":"Pratim Singha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688552519,"creation_date":1688543436,"question_id":76618174,"body_markdown":"Consider we have an Excel file with 4 columns:\r\n\r\n    |ID|Value1|Value2|Value3|\r\n    |Fruits|Apple|Banana|Papaya|\r\n    |Cars|Mercedes|Ferrari|Haas|\r\n\r\n\r\nThere can be million of rows in the Excel file.\r\n\r\nFrom the Excel file, We need to read the values row by row and create an XML.\r\n\r\nProblem:\r\nI am allowed to code in a method like `valueAddition(String value, int row, int col)` where we will be getting the values row-wise. \r\n\r\nI am thinking of a solution where we will be creating a Map, to store all the values from the Excel file to the memory and then create the XML traversing the values in the variable (memory).\r\n\r\nThere is no option to create the XML file while iterating `valueAddition()` because the XML file may be in this format:\r\n\r\n```xml\r\n    &lt;Values&gt;\r\n        &lt;ValueList ID=&quot;Fruits&quot;&gt;\r\n            &lt;Value&gt;Apple&lt;/Value&gt;\r\n            &lt;Value&gt;Banana&lt;/Value&gt;\r\n    \t\t&lt;Value&gt;Papaya&lt;/Value&gt;\r\n        &lt;/ValueList&gt;\r\n    \t&lt;Valueist ID=&quot;Cars&quot;&gt;\r\n            &lt;Value&gt;Mercedes&lt;/Value&gt;\r\n            &lt;Value&gt;Haas&lt;/Value&gt;\r\n            &lt;Value&gt;Haas&lt;/Value&gt;\r\n        &lt;/ValueList&gt;\r\n    &lt;/Values&gt;\r\n```\r\n\r\nWhere I won&#39;t be knowing while the control will be in `valueAddition()`, that the same Fruits ID can be present in the last part of the Excel File and I need to map it inside the XML tag `&lt;ValueList ID=&quot;Fruits&quot;&gt;`.\r\n\r\nNow putting records of millions in memory can be troublesome. Is there any alternative method to do it?\r\n\r\nPlease Note:\r\n`XSSFReader` (Apache POI) is used to read the Excel file row-wise.\r\nThe `valueAddition(String value, int row, int col)` method will be called in a loop...\r\nAt a time, the `valueAddition` will contain the value in the Excel file, the row number, and its column number.\r\n\r\nFor example,\r\n\r\n```java\r\n    valueAddition(&quot;Fruits&quot;, 1, 0)\r\n    valueAddition(&quot;Apple&quot;, 1, 1)\r\n    valueAddition(&quot;Banana&quot;, 1, 2)\r\n    valueAddition(&quot;Papaya&quot;, 1, 3)\r\n    valueAddition(&quot;Cars&quot;, 2, 0)\r\n    valueAddition(&quot;Mercedes&quot;, 2, 1)\r\n```\r\n\r\nThe definition of the `valueAddition` method was not done yet... the thought process is that each value will be stored in a map variable such as\r\n\r\n```java\r\n    class Values {\r\n        String value1;\r\n        String value2;\r\n        String value3;\r\n    }\r\n\r\n    Map&lt;String,Values) valuesWithId = new HashMap&lt;&gt;();\r\n\r\n    valueAddition(String value, int row, int col) {\r\n        if (col == 0) {\r\n            valuesWithId.put(value, null);\r\n        else {\r\n            // append the values to the corresponding value in the Map.\r\n        }\r\n    }\r\n```","title":"Converting large volume Excel Data into XML in Java","body":"<p>Consider we have an Excel file with 4 columns:</p>\n<pre><code>|ID|Value1|Value2|Value3|\n|Fruits|Apple|Banana|Papaya|\n|Cars|Mercedes|Ferrari|Haas|\n</code></pre>\n<p>There can be million of rows in the Excel file.</p>\n<p>From the Excel file, We need to read the values row by row and create an XML.</p>\n<p>Problem:\nI am allowed to code in a method like <code>valueAddition(String value, int row, int col)</code> where we will be getting the values row-wise.</p>\n<p>I am thinking of a solution where we will be creating a Map, to store all the values from the Excel file to the memory and then create the XML traversing the values in the variable (memory).</p>\n<p>There is no option to create the XML file while iterating <code>valueAddition()</code> because the XML file may be in this format:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;Values&gt;\n        &lt;ValueList ID=&quot;Fruits&quot;&gt;\n            &lt;Value&gt;Apple&lt;/Value&gt;\n            &lt;Value&gt;Banana&lt;/Value&gt;\n            &lt;Value&gt;Papaya&lt;/Value&gt;\n        &lt;/ValueList&gt;\n        &lt;Valueist ID=&quot;Cars&quot;&gt;\n            &lt;Value&gt;Mercedes&lt;/Value&gt;\n            &lt;Value&gt;Haas&lt;/Value&gt;\n            &lt;Value&gt;Haas&lt;/Value&gt;\n        &lt;/ValueList&gt;\n    &lt;/Values&gt;\n</code></pre>\n<p>Where I won't be knowing while the control will be in <code>valueAddition()</code>, that the same Fruits ID can be present in the last part of the Excel File and I need to map it inside the XML tag <code>&lt;ValueList ID=&quot;Fruits&quot;&gt;</code>.</p>\n<p>Now putting records of millions in memory can be troublesome. Is there any alternative method to do it?</p>\n<p>Please Note:\n<code>XSSFReader</code> (Apache POI) is used to read the Excel file row-wise.\nThe <code>valueAddition(String value, int row, int col)</code> method will be called in a loop...\nAt a time, the <code>valueAddition</code> will contain the value in the Excel file, the row number, and its column number.</p>\n<p>For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>    valueAddition(&quot;Fruits&quot;, 1, 0)\n    valueAddition(&quot;Apple&quot;, 1, 1)\n    valueAddition(&quot;Banana&quot;, 1, 2)\n    valueAddition(&quot;Papaya&quot;, 1, 3)\n    valueAddition(&quot;Cars&quot;, 2, 0)\n    valueAddition(&quot;Mercedes&quot;, 2, 1)\n</code></pre>\n<p>The definition of the <code>valueAddition</code> method was not done yet... the thought process is that each value will be stored in a map variable such as</p>\n<pre class=\"lang-java prettyprint-override\"><code>    class Values {\n        String value1;\n        String value2;\n        String value3;\n    }\n\n    Map&lt;String,Values) valuesWithId = new HashMap&lt;&gt;();\n\n    valueAddition(String value, int row, int col) {\n        if (col == 0) {\n            valuesWithId.put(value, null);\n        else {\n            // append the values to the corresponding value in the Map.\n        }\n    }\n</code></pre>\n"},{"tags":["java","sap-cloud-sdk"],"comments":[{"owner":{"account_id":16076874,"reputation":1,"user_id":11603897,"display_name":"anubha jain"},"score":0,"creation_date":1688554152,"post_id":76615968,"comment_id":135087824,"body_markdown":"As a workaround I have added the field which I wanted to update as a property in the updateObject(by making change in yaml file), instead of sending as cloudSDKCustomField. Using PUT.","body":"As a workaround I have added the field which I wanted to update as a property in the updateObject(by making change in yaml file), instead of sending as cloudSDKCustomField. Using PUT."}],"answers":[{"tags":[],"owner":{"account_id":1233473,"reputation":1089,"user_id":3275009,"display_name":"Christoph Schubert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688552363,"creation_date":1688552363,"answer_id":76619368,"question_id":76615968,"body_markdown":"Since version 4.15.0 of the SAP Cloud SDK, the objects generated by our OpenAPI generator allow you to access custom fields that are not part of the object specification.\r\nCompare for that: https://sap.github.io/cloud-sdk/docs/java/release-notes#4150---may-26-2023\r\n\r\nHowever, this does not allow you to write custom fields at this moment.\r\n\r\nI can create a BLI on our side to have a look into supporting this, but cannot give any timeline or commitment.","title":"open API generated Cloud SDK custom fields update","body":"<p>Since version 4.15.0 of the SAP Cloud SDK, the objects generated by our OpenAPI generator allow you to access custom fields that are not part of the object specification.\nCompare for that: <a href=\"https://sap.github.io/cloud-sdk/docs/java/release-notes#4150---may-26-2023\" rel=\"nofollow noreferrer\">https://sap.github.io/cloud-sdk/docs/java/release-notes#4150---may-26-2023</a></p>\n<p>However, this does not allow you to write custom fields at this moment.</p>\n<p>I can create a BLI on our side to have a look into supporting this, but cannot give any timeline or commitment.</p>\n"}],"owner":{"account_id":16076874,"reputation":1,"user_id":11603897,"display_name":"anubha jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688552363,"creation_date":1688506394,"question_id":76615968,"body_markdown":"I&#39;m trying to update cloudSDKCustomFields using an OpenAPI generated API. But I&#39;m not able to do so as these custom fields are not getting serialized.\r\n\r\nHow to update these custom fields?\r\n\r\nI tried via PATCH and PUT, both not working.\r\n","title":"open API generated Cloud SDK custom fields update","body":"<p>I'm trying to update cloudSDKCustomFields using an OpenAPI generated API. But I'm not able to do so as these custom fields are not getting serialized.</p>\n<p>How to update these custom fields?</p>\n<p>I tried via PATCH and PUT, both not working.</p>\n"},{"tags":["java","junit5","junit5-extension-model"],"answers":[{"comments":[{"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"score":0,"creation_date":1688553777,"post_id":76614650,"comment_id":135087759,"body_markdown":"Thanks a lot @johanneslink, perfect answer accepted. I did not see context.getElement(). Thanks for your explanations, too.","body":"Thanks a lot @johanneslink, perfect answer accepted. I did not see context.getElement(). Thanks for your explanations, too."},{"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"score":0,"creation_date":1688636446,"post_id":76614650,"comment_id":135101513,"body_markdown":"It seems like this solution does not work with jpms activated, right? I can not find out how to fix\n```\ncannot access class org.junit.platform.commons.util.Preconditions (in module org.junit.platform.commons) because module org.junit.platform.commons does not export org.junit.platform.commons.util to unnamed module\n```","body":"It seems like this solution does not work with jpms activated, right? I can not find out how to fix ``` cannot access class org.junit.platform.commons.util.Preconditions (in module org.junit.platform.commons) because module org.junit.platform.commons does not export org.junit.platform.commons.util to unnamed module ```"},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":1,"creation_date":1688641871,"post_id":76614650,"comment_id":135102680,"body_markdown":"You can use `org.junit.platform.commons.support.AnnotationSupport.findAnnotation` instead of `AnnotationUtil.findAnnotation`. This is in a published package.","body":"You can use <code>org.junit.platform.commons.support.AnnotationSupport.findAnn&zwnj;&#8203;otation</code> instead of <code>AnnotationUtil.findAnnotation</code>. This is in a published package."},{"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"score":0,"creation_date":1689076675,"post_id":76614650,"comment_id":135159106,"body_markdown":"Thanks for your advice. I successfully replaced my own jpms-version of &#39;findAnnotation&#39; with &#39;org.junit.platform.commons.support.AnnotationSupport.findAnnotation&#39;.","body":"Thanks for your advice. I successfully replaced my own jpms-version of &#39;findAnnotation&#39; with &#39;org.junit.platform.commons.support.AnnotationSupport.findAn&zwnj;&#8203;notation&#39;."}],"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688552140,"creation_date":1688490152,"answer_id":76614650,"question_id":76613310,"body_markdown":"Looking at existing Jupiter functionality you can see that most existing implementations of `ExecutionCondition` work with annotations. Thus, what you want to do is possible.\r\n\r\nLet&#39;s look at (parts of) the implementation of `DisabledCondition`:\r\n\r\n```java\r\n\r\nimport static org.junit.platform.commons.util.AnnotationUtils.findAnnotation;\r\n\r\n\r\nclass DisabledCondition implements ExecutionCondition {\r\n\r\n\tprivate static final ConditionEvaluationResult ENABLED = ConditionEvaluationResult.enabled(\r\n\t\t&quot;@Disabled is not present&quot;);\r\n\r\n\t@Override\r\n\tpublic ConditionEvaluationResult evaluateExecutionCondition(ExtensionContext context) {\r\n\t\tAnnotatedElement element = context.getElement().orElse(null);\r\n\t\treturn findAnnotation(element, Disabled.class) //\r\n\t\t\t\t.map(annotation -&gt; toResult(element, annotation)) //\r\n\t\t\t\t.orElse(ENABLED);\r\n\t}\r\n\r\n\tprivate ConditionEvaluationResult toResult(AnnotatedElement element, Disabled annotation) {\r\n\t\tString value = annotation.value();\r\n\t\tString reason = StringUtils.isNotBlank(value) ? value : element + &quot; is @Disabled&quot;;\r\n\t\treturn ConditionEvaluationResult.disabled(reason);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nIf you replace `Disabled` with `DisabledOnServerNotListening` you have a head start on the implementation of your own `ExecutionCondition` subtype.\r\n\r\nThe actual checking code for host availability would probably reside within the `toResult` method. Similar to:\r\n\r\n```java\r\nprivate ConditionEvaluationResult toResult(AnnotatedElement element, DisabledOnServerNotListening annotation) {\r\n    String hostPropName = annotation.propertyNameHost();\r\n    String portPropName = annotation.propertyNamePort();\r\n    boolean disabled = !checkIfHostIsListening(hostPropName, portPropName);\r\n    if (disabled) \r\n        return ConditionEvaluationResult.disabled(&quot;host not listening&quot;);\r\n    else\r\n        return ConditionEvaluationResult.enabled();\r\n}\r\n```","title":"Is there a way to access values of a custom annotation in a ExecutionCondition of junit 5 tests?","body":"<p>Looking at existing Jupiter functionality you can see that most existing implementations of <code>ExecutionCondition</code> work with annotations. Thus, what you want to do is possible.</p>\n<p>Let's look at (parts of) the implementation of <code>DisabledCondition</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport static org.junit.platform.commons.util.AnnotationUtils.findAnnotation;\n\n\nclass DisabledCondition implements ExecutionCondition {\n\n    private static final ConditionEvaluationResult ENABLED = ConditionEvaluationResult.enabled(\n        &quot;@Disabled is not present&quot;);\n\n    @Override\n    public ConditionEvaluationResult evaluateExecutionCondition(ExtensionContext context) {\n        AnnotatedElement element = context.getElement().orElse(null);\n        return findAnnotation(element, Disabled.class) //\n                .map(annotation -&gt; toResult(element, annotation)) //\n                .orElse(ENABLED);\n    }\n\n    private ConditionEvaluationResult toResult(AnnotatedElement element, Disabled annotation) {\n        String value = annotation.value();\n        String reason = StringUtils.isNotBlank(value) ? value : element + &quot; is @Disabled&quot;;\n        return ConditionEvaluationResult.disabled(reason);\n    }\n\n}\n</code></pre>\n<p>If you replace <code>Disabled</code> with <code>DisabledOnServerNotListening</code> you have a head start on the implementation of your own <code>ExecutionCondition</code> subtype.</p>\n<p>The actual checking code for host availability would probably reside within the <code>toResult</code> method. Similar to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private ConditionEvaluationResult toResult(AnnotatedElement element, DisabledOnServerNotListening annotation) {\n    String hostPropName = annotation.propertyNameHost();\n    String portPropName = annotation.propertyNamePort();\n    boolean disabled = !checkIfHostIsListening(hostPropName, portPropName);\n    if (disabled) \n        return ConditionEvaluationResult.disabled(&quot;host not listening&quot;);\n    else\n        return ConditionEvaluationResult.enabled();\n}\n</code></pre>\n"}],"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76614650,"answer_count":1,"score":0,"last_activity_date":1688552140,"creation_date":1688478492,"question_id":76613310,"body_markdown":"I have the following annotation to mark test code that should not be executed if a server does not listen on a host and port each specified in a properties file:\r\n\r\n```\r\n@Target({ ElementType.TYPE, ElementType.METHOD })\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@ExtendWith(DisableOnServerNotListening.class)\r\npublic @interface DisabledOnServerNotListening\r\n{\r\n\tString propertyNameHost() default &quot;host&quot;;\r\n\tString propertyNamePort() default &quot;port&quot;;\r\n}\r\n```\r\n\r\nIn a junit 5 ```&#200;xecutionCondition``` I want to look up the actual configured host/port values from the property file to decide if the test should be run (port is listening) or not\r\n(port is not listening). Because there may be more than one host/port configuration in my tests I need to be flexible regarding property names. So how can I access the values of the annotation? Debugging shows that there is a field called ```testDescriptor``` in ```ExtensionContext```, but it is not exposed for access.","title":"Is there a way to access values of a custom annotation in a ExecutionCondition of junit 5 tests?","body":"<p>I have the following annotation to mark test code that should not be executed if a server does not listen on a host and port each specified in a properties file:</p>\n<pre><code>@Target({ ElementType.TYPE, ElementType.METHOD })\n@Retention(RetentionPolicy.RUNTIME)\n@ExtendWith(DisableOnServerNotListening.class)\npublic @interface DisabledOnServerNotListening\n{\n    String propertyNameHost() default &quot;host&quot;;\n    String propertyNamePort() default &quot;port&quot;;\n}\n</code></pre>\n<p>In a junit 5 <code>ÈxecutionCondition</code> I want to look up the actual configured host/port values from the property file to decide if the test should be run (port is listening) or not\n(port is not listening). Because there may be more than one host/port configuration in my tests I need to be flexible regarding property names. So how can I access the values of the annotation? Debugging shows that there is a field called <code>testDescriptor</code> in <code>ExtensionContext</code>, but it is not exposed for access.</p>\n"},{"tags":["java","user-interface","keycloak","rocky-os"],"answers":[{"tags":[],"owner":{"account_id":8456331,"reputation":71,"user_id":6343472,"display_name":"Jose Luis Viloria"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1678770881,"creation_date":1678096940,"answer_id":75649421,"question_id":75232123,"body_markdown":"To fix this error add the environment variables:\r\n \r\n\r\n&gt;  KC_HOSTNAME_STRICT: &quot;false&quot;   KC_HOSTNAME_STRICT_HTTPS: &quot;false&quot;  \r\n&gt; KC_HTTP_ENABLED: &quot;true&quot;   KC_PROXY: edge","title":"Keycloak: Not able to load admin GUI/console","body":"<p>To fix this error add the environment variables:</p>\n<blockquote>\n<p>KC_HOSTNAME_STRICT: &quot;false&quot;   KC_HOSTNAME_STRICT_HTTPS: &quot;false&quot;<br />\nKC_HTTP_ENABLED: &quot;true&quot;   KC_PROXY: edge</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688552017,"creation_date":1688548644,"answer_id":76618853,"question_id":75232123,"body_markdown":"When Keycloak is running in Production mode over HTTPS, the aforementioned issue may arise if you are using **IPADDRESS** in place of **HOSTNAME** to access Keycloak UI. \r\nSo one solution is use below command\r\n\r\n    ./kc.sh start --http-enabled true --hostname &lt;HOSTNAME&gt;\r\n\r\nand then access Keycloak UI with this url\r\n\r\n    https://&lt;HOSTNAME&gt;:PORT\r\n\r\nAnother dirty Solution is ,set Below parameters \r\n \r\n\r\n     export KC_HOSTNAME_STRICT= &quot;false&quot;\r\n     export KC_HOSTNAME_STRICT_HTTPS= &quot;false&quot;\r\n     export KC_HTTP_ENABLED= &quot;true&quot;\r\n\r\nAnd Start Keycloak like this and access through IPADDRESS\r\n\r\n    ./kc.sh start --http-enabled=false --https-key-store-password=secret --proxy edge\r\n\r\n","title":"Keycloak: Not able to load admin GUI/console","body":"<p>When Keycloak is running in Production mode over HTTPS, the aforementioned issue may arise if you are using <strong>IPADDRESS</strong> in place of <strong>HOSTNAME</strong> to access Keycloak UI.\nSo one solution is use below command</p>\n<pre><code>./kc.sh start --http-enabled true --hostname &lt;HOSTNAME&gt;\n</code></pre>\n<p>and then access Keycloak UI with this url</p>\n<pre><code>https://&lt;HOSTNAME&gt;:PORT\n</code></pre>\n<p>Another dirty Solution is ,set Below parameters</p>\n<pre><code> export KC_HOSTNAME_STRICT= &quot;false&quot;\n export KC_HOSTNAME_STRICT_HTTPS= &quot;false&quot;\n export KC_HTTP_ENABLED= &quot;true&quot;\n</code></pre>\n<p>And Start Keycloak like this and access through IPADDRESS</p>\n<pre><code>./kc.sh start --http-enabled=false --https-key-store-password=secret --proxy edge\n</code></pre>\n"}],"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3494,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76618853,"answer_count":2,"score":3,"last_activity_date":1688552017,"creation_date":1674640002,"question_id":75232123,"body_markdown":"We have installed [Keycloak][1] Latest version[**20.0.3**] into the VM. \r\nWith the help of kc shell script trying to start the Keycloak\r\n\r\n    ./kc.sh start --http-enabled true --hostname &lt;IP-ADDRESS&gt;\r\n\r\nUp to here everything is fine and I was able to view the home screen of Keycloak but when it redirecting[http://&lt;IP-ADDRESS&gt;:8080/admin/master/console/] to login into the admin console its struck and not loading \r\n\r\n[![enter image description here][2]][2]\r\n\r\nMy browser Developer tool showing this error\r\n\r\n&gt; Timeout when waiting for 3rd party check iframe message.\r\n\r\n 1. Linux Rocky 6.5\r\n 2. Java 11\r\n\r\n**Note:-**\r\n\r\nWhen i am using development mode everything works fine.\r\n\r\n     ./kc.sh start-dev\r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/releases/download/20.0.3/keycloak-20.0.3.zip\r\n  [2]: https://i.stack.imgur.com/kjWTj.png","title":"Keycloak: Not able to load admin GUI/console","body":"<p>We have installed <a href=\"https://github.com/keycloak/keycloak/releases/download/20.0.3/keycloak-20.0.3.zip\" rel=\"nofollow noreferrer\">Keycloak</a> Latest version[<strong>20.0.3</strong>] into the VM.\nWith the help of kc shell script trying to start the Keycloak</p>\n<pre><code>./kc.sh start --http-enabled true --hostname &lt;IP-ADDRESS&gt;\n</code></pre>\n<p>Up to here everything is fine and I was able to view the home screen of Keycloak but when it redirecting[http://:8080/admin/master/console/] to login into the admin console its struck and not loading</p>\n<p><a href=\"https://i.stack.imgur.com/kjWTj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kjWTj.png\" alt=\"enter image description here\" /></a></p>\n<p>My browser Developer tool showing this error</p>\n<blockquote>\n<p>Timeout when waiting for 3rd party check iframe message.</p>\n</blockquote>\n<ol>\n<li>Linux Rocky 6.5</li>\n<li>Java 11</li>\n</ol>\n<p><strong>Note:-</strong></p>\n<p>When i am using development mode everything works fine.</p>\n<pre><code> ./kc.sh start-dev\n</code></pre>\n"},{"tags":["java","automation","database-testing"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1688593738,"post_id":76619319,"comment_id":135096192,"body_markdown":"Welcome to stackoverflow. Asking for tool and library recommendations is off-topic here; see [help/on-topic]. Your best bet is probably a web search. Years ago I briefly looked at pgtap, maybe there is something similar for other databases that works for you. Good luck!","body":"Welcome to stackoverflow. Asking for tool and library recommendations is off-topic here; see <a href=\"https://stackoverflow.com/help/on-topic\">help center</a>. Your best bet is probably a web search. Years ago I briefly looked at pgtap, maybe there is something similar for other databases that works for you. Good luck!"}],"owner":{"account_id":28954617,"reputation":1,"user_id":22178445,"display_name":"Developer_K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688551979,"creation_date":1688551979,"question_id":76619319,"body_markdown":"I am from a JAVA background\r\n\r\nI have a requirement for a automated Testing Process or Framework that can be used to verify our stored procedures and functions in Aurora DB compatible with Mysql. We have Cypress which we use to automate in UI side of APP.\r\n\r\nBut Currently we want to automate Testing process in DB.(i.e) \r\n1) To create and maintain test cases for each procedures and functions\r\n2) To run the complete or subset of test cases\r\n\r\nI did a quick google search and could not find any frameworks or tools for it. \r\n\r\nSuggestions on any already existing tools/ Design aspects for the same if it has to be developed is welcome.\r\n\r\n\r\nThanks in Advance!\r\n\r\n","title":"DB Procedure Test Aumation","body":"<p>I am from a JAVA background</p>\n<p>I have a requirement for a automated Testing Process or Framework that can be used to verify our stored procedures and functions in Aurora DB compatible with Mysql. We have Cypress which we use to automate in UI side of APP.</p>\n<p>But Currently we want to automate Testing process in DB.(i.e)</p>\n<ol>\n<li>To create and maintain test cases for each procedures and functions</li>\n<li>To run the complete or subset of test cases</li>\n</ol>\n<p>I did a quick google search and could not find any frameworks or tools for it.</p>\n<p>Suggestions on any already existing tools/ Design aspects for the same if it has to be developed is welcome.</p>\n<p>Thanks in Advance!</p>\n"},{"tags":["java","spring","servlets","cache-control"],"comments":[{"owner":{"account_id":6544529,"reputation":11,"user_id":5060951,"display_name":"jijonbo"},"score":0,"creation_date":1688457463,"post_id":76610216,"comment_id":135073076,"body_markdown":"without webserver like apache, even in eclipse local tomcat server. inner jsp images are returned with no-cache, no-store, must-revalidate.","body":"without webserver like apache, even in eclipse local tomcat server. inner jsp images are returned with no-cache, no-store, must-revalidate."},{"owner":{"account_id":6544529,"reputation":11,"user_id":5060951,"display_name":"jijonbo"},"score":0,"creation_date":1688457595,"post_id":76610216,"comment_id":135073108,"body_markdown":"I have already checked tomcat default servlet configurations, but there was no extra-configuration about Cache-Control","body":"I have already checked tomcat default servlet configurations, but there was no extra-configuration about Cache-Control"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1688467417,"post_id":76610216,"comment_id":135075155,"body_markdown":"The set-cookie header says that you&#39;re running this behind AWSALB which is a load balancing proxy of AWS EC2. Look over there. This is at least not a programming problem.","body":"The set-cookie header says that you&#39;re running this behind AWSALB which is a load balancing proxy of AWS EC2. Look over there. This is at least not a programming problem."},{"owner":{"account_id":6544529,"reputation":11,"user_id":5060951,"display_name":"jijonbo"},"score":0,"creation_date":1688516579,"post_id":76610216,"comment_id":135082992,"body_markdown":"Thank you BalusC. I will ask AWS teachnical team. Thank you very much. Have a nice day","body":"Thank you BalusC. I will ask AWS teachnical team. Thank you very much. Have a nice day"}],"owner":{"account_id":6544529,"reputation":11,"user_id":5060951,"display_name":"jijonbo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688551812,"creation_date":1688455388,"question_id":76610216,"body_markdown":"//////////////////// Configuration information ////////////////\r\n\r\n    Environment :         \r\n        java : oracle 8\r\n        Spring4 xml config\r\n        eclispe version: 2020-06(4.16.0)\r\n        was-server: tomcat 8.5\r\n        servlet: web-app_3_1.xsd version=3.1 \r\n        jsp: 2.1\r\n    Sympthoms: some image files are always returned with &quot;no-cache, no-store, must-revalidate\r\n\r\nOur system landing page includes jsp file like below.\r\n\r\n```\r\n///////////////////// landing.jsp ///////////////////////////\r\n    &lt;span&gt; &lt;image name=&quot;aaa&quot; src=&quot;----------------&quot; /&gt; &lt;/span&gt;\r\n        &lt;jsp:include pag=&quot;/WEB-INF/jsp/usr/common/curation.jsp&quot;&gt;\r\n        &lt;jsp:param name=&quot;resourceNo&quot; value=&quot;21&quot; /&gt;\r\n    &lt;/jsp:include&gt;\r\n```\r\n\r\nWhen landing page was loaded. I checked the response header in chrome network tab.\r\nthe image aaa had Cache-Control: max-age=0 ( this is good because browser does not try network round trip)\r\n\r\nBut on the images in the inner jsp file(/WEB-INF/jsp/usr/common/curation.jsp)\r\nThey are always downloaded on the origin tomcat server.\r\n\r\nSo I checked the Cash-Control&#39;s value...\r\nIt was &quot;no-cache, no-store, must-revalidate&quot;.\r\n\r\nBut our system did not set any response Cahche-Control header value.\r\n\r\nI don&#39;t know why tomcat always use cach-control: no-cache, no-store, must-revalidate on that inner jsp images.\r\n\r\n\r\nSo I decided to create Filter that overwrite the Cahche-Control value like below\r\n\r\n```\r\n///////////////////////////// web.xml /////////////////////////////////\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;testFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n////////////////////////////// Filter ////////////////////////////////\r\n```\r\n```  \r\npulbic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletExcetpion{\r\n    resp = (HttpServletResponse) response;\r\n    chain.doFilter(request, response); // \r\n    resp.setHeader(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\r\n\r\n}\r\n```\r\n\r\n\r\nBut despite of applying filter, the images in the curation.jsp does not use cache, because they are always returned with no-cache, no-store, re-validate..\r\n\r\n[![enter image description here][1]][1]\r\nAnybody knows this magical sympthoms...\r\nguide me how do I fix this... I want to use cache only &quot;max-age=0&quot;.\r\n\r\n\r\nthank you in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jP14d.png","title":"Tomcat some image file response always cache-control &quot;no-cache, no-store, must-revalidate","body":"<p>//////////////////// Configuration information ////////////////</p>\n<pre><code>Environment :         \n    java : oracle 8\n    Spring4 xml config\n    eclispe version: 2020-06(4.16.0)\n    was-server: tomcat 8.5\n    servlet: web-app_3_1.xsd version=3.1 \n    jsp: 2.1\nSympthoms: some image files are always returned with &quot;no-cache, no-store, must-revalidate\n</code></pre>\n<p>Our system landing page includes jsp file like below.</p>\n<pre><code>///////////////////// landing.jsp ///////////////////////////\n    &lt;span&gt; &lt;image name=&quot;aaa&quot; src=&quot;----------------&quot; /&gt; &lt;/span&gt;\n        &lt;jsp:include pag=&quot;/WEB-INF/jsp/usr/common/curation.jsp&quot;&gt;\n        &lt;jsp:param name=&quot;resourceNo&quot; value=&quot;21&quot; /&gt;\n    &lt;/jsp:include&gt;\n</code></pre>\n<p>When landing page was loaded. I checked the response header in chrome network tab.\nthe image aaa had Cache-Control: max-age=0 ( this is good because browser does not try network round trip)</p>\n<p>But on the images in the inner jsp file(/WEB-INF/jsp/usr/common/curation.jsp)\nThey are always downloaded on the origin tomcat server.</p>\n<p>So I checked the Cash-Control's value...\nIt was &quot;no-cache, no-store, must-revalidate&quot;.</p>\n<p>But our system did not set any response Cahche-Control header value.</p>\n<p>I don't know why tomcat always use cach-control: no-cache, no-store, must-revalidate on that inner jsp images.</p>\n<p>So I decided to create Filter that overwrite the Cahche-Control value like below</p>\n<pre><code>///////////////////////////// web.xml /////////////////////////////////\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;testFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n////////////////////////////// Filter ////////////////////////////////\n</code></pre>\n<pre><code>pulbic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletExcetpion{\n    resp = (HttpServletResponse) response;\n    chain.doFilter(request, response); // \n    resp.setHeader(&quot;Cache-Control&quot;, &quot;max-age=0&quot;);\n\n}\n</code></pre>\n<p>But despite of applying filter, the images in the curation.jsp does not use cache, because they are always returned with no-cache, no-store, re-validate..</p>\n<p><a href=\"https://i.stack.imgur.com/jP14d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jP14d.png\" alt=\"enter image description here\" /></a>\nAnybody knows this magical sympthoms...\nguide me how do I fix this... I want to use cache only &quot;max-age=0&quot;.</p>\n<p>thank you in advance</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":21152599,"reputation":1,"user_id":15552578,"display_name":"Mobile App Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688551755,"creation_date":1688108282,"question_id":76586681,"body_markdown":"I am currently developing a task reminder app that allows users to specify the desired time, date, and day for receiving notifications along with an alarm. To illustrate, a user can input the following details:\r\n \r\n    Jul 7, 2023\r\n    Tuesday\r\n    11 : 30 AM\r\n\r\nNow the the user should receive a notification, accompanied by an alarming sound, even if the app has been completely closed. I have attempted various approaches but haven&#39;t been successful so far. This is my code:\r\n    \r\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n    \r\n        private ActivityMainBinding binding;\r\n        private AlarmManager alarmManager;\r\n        private String dateToNotify, timeToNotify;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n    \r\n            alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\r\n    \r\n            binding.dateEditText.setOnClickListener(this);\r\n            binding.timeEditText.setOnClickListener(this);\r\n            binding.setAlarmButton.setOnClickListener(this);\r\n        }\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.M)\r\n        @Override\r\n        public void onClick(View v) {\r\n            if (v.getId() == R.id.date_edit_text)\r\n                showMaterialDatePickerToUpdate();\r\n            else if (v.getId() == R.id.time_edit_text)\r\n                showMaterialTimePicker();\r\n            else if (v.getId() == R.id.set_alarm_button) {\r\n                String monthInAlphabets = dateToNotify.substring(0, 3);\r\n                int monthInDigits = 0;\r\n                if (monthInAlphabets.equalsIgnoreCase(&quot;Jan&quot;))\r\n                    monthInDigits = 1;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Feb&quot;))\r\n                    monthInDigits = 2;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Mar&quot;))\r\n                    monthInDigits = 3;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Apr&quot;))\r\n                    monthInDigits = 4;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;May&quot;))\r\n                    monthInDigits = 5;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Jun&quot;))\r\n                    monthInDigits = 6;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Jul&quot;))\r\n                    monthInDigits = 7;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Aug&quot;))\r\n                    monthInDigits = 8;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Sep&quot;))\r\n                    monthInDigits = 9;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Oct&quot;))\r\n                    monthInDigits = 10;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Nov&quot;))\r\n                    monthInDigits = 11;\r\n                else if (monthInAlphabets.equalsIgnoreCase(&quot;Dec&quot;))\r\n                    monthInDigits = 12;\r\n    \r\n                int dateOfMonth, year;\r\n                if (dateToNotify.length() == 11) {\r\n                    dateOfMonth = Integer.parseInt(dateToNotify.substring(4, 5));\r\n                    year = Integer.parseInt(dateToNotify.substring(7, 11));\r\n                } else {\r\n                    dateOfMonth = Integer.parseInt(dateToNotify.substring(4, 6));\r\n                    year = Integer.parseInt(dateToNotify.substring(8, 12));\r\n                }\r\n    \r\n                String hours = timeToNotify.substring(0, 2);\r\n                String minutes = timeToNotify.substring(5, 7);\r\n                String ampm = timeToNotify.substring(8, 10);\r\n    \r\n                /*Calendar calendar = Calendar.getInstance();\r\n                calendar.setTimeInMillis(System.currentTimeMillis());\r\n                calendar.set(Calendar.DAY_OF_MONTH, dateOfMonth);\r\n                calendar.set(Calendar.YEAR, year);\r\n                calendar.set(Calendar.MONTH, monthInDigits);\r\n                calendar.set(Calendar.HOUR_OF_DAY, Integer.parseInt(hours));\r\n                calendar.set(Calendar.MINUTE, Integer.parseInt(minutes));\r\n                calendar.set(Calendar.SECOND, 0);\r\n                if (ampm.equalsIgnoreCase(&quot;AM&quot;))\r\n                    calendar.set(Calendar.AM, 0);\r\n                else\r\n                    calendar.set(Calendar.PM, 1);*/\r\n    \r\n                //            calendar.set(year, monthInDigits, dateOfMonth, Integer.parseInt(hours), Integer.parseInt(minutes));\r\n    \r\n                Intent intent = new Intent(this, MyAlarmReceiver.class);\r\n                PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0, intent,\r\n                    PendingIntent.FLAG_IMMUTABLE);\r\n    \r\n                Calendar calendar = Calendar.getInstance();\r\n                calendar.setTimeInMillis(System.currentTimeMillis());\r\n                calendar.set(Calendar.HOUR_OF_DAY, Integer.parseInt(hours));\r\n                calendar.set(Calendar.MINUTE, Integer.parseInt(minutes));\r\n    \r\n                alarmManager.set(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n    \r\n                /*if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                    alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n                } else {\r\n                    alarmManager.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n                }*/\r\n            }\r\n        }\r\n    \r\n        private void showMaterialTimePicker() {\r\n            Calendar calendar = Calendar.getInstance();\r\n            MaterialTimePicker.Builder builder = new MaterialTimePicker.Builder();\r\n            builder.setTitleText(&quot;Select Time...&quot;);\r\n            builder.setTimeFormat(TimeFormat.CLOCK_12H);\r\n            builder.setInputMode(MaterialTimePicker.INPUT_MODE_CLOCK);\r\n            builder.setHour(calendar.get(Calendar.HOUR));\r\n            builder.setMinute(calendar.get(Calendar.MINUTE));\r\n            MaterialTimePicker materialTimePicker = builder.build();\r\n            materialTimePicker.show(getSupportFragmentManager(), &quot;MATERIAL_TIME_PICKER&quot;);\r\n            materialTimePicker.addOnPositiveButtonClickListener(v - &gt; {\r\n                Time time = new Time(materialTimePicker.getHour(), materialTimePicker.getMinute(), 0);\r\n                Format formatter = new SimpleDateFormat(&quot;a&quot;);\r\n    \r\n                if (Objects.equals(formatter.format(time), &quot;PM&quot;)) {\r\n                    int hours = materialTimePicker.getHour() - 12;\r\n                    if (hours &gt; 0 &amp;&amp; hours &lt;= 9) {\r\n                        if (materialTimePicker.getMinute() &lt;= 9) {\r\n                            timeToNotify = &quot;0&quot; + hours + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        } else {\r\n                            timeToNotify = &quot;0&quot; + hours + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        }\r\n                    } else if (hours &gt; 9) {\r\n                        if (materialTimePicker.getMinute() &lt;= 9) {\r\n                            timeToNotify = hours + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        } else {\r\n                            timeToNotify = hours + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        }\r\n                    } else if (hours == 0) {\r\n                        if (materialTimePicker.getMinute() &lt;= 9) {\r\n                            timeToNotify = &quot;12 : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        } else {\r\n                            timeToNotify = &quot;12 : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        }\r\n                    }\r\n                } else {\r\n                    if (materialTimePicker.getHour() &gt; 0 &amp;&amp; materialTimePicker.getHour() &lt;= 9) {\r\n                        if (materialTimePicker.getMinute() &lt;= 9) {\r\n                            timeToNotify = &quot;0&quot; + materialTimePicker.getHour() + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        } else {\r\n                            timeToNotify = &quot;0&quot; + materialTimePicker.getHour() + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        }\r\n                    } else if (materialTimePicker.getHour() &gt; 9) {\r\n                        if (materialTimePicker.getMinute() &lt;= 9) {\r\n                            timeToNotify = materialTimePicker.getHour() + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        } else {\r\n                            timeToNotify = materialTimePicker.getHour() + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        }\r\n                    } else if (materialTimePicker.getHour() == 0) {\r\n                        if (materialTimePicker.getMinute() &lt;= 9) {\r\n                            timeToNotify = &quot;12 : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        } else {\r\n                            timeToNotify = &quot;12 : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\r\n                            binding.timeEditText.setText(timeToNotify);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void showMaterialDatePickerToUpdate() {\r\n            MaterialDatePicker.Builder &lt; Long &gt; datePicker = MaterialDatePicker.Builder.datePicker();\r\n            datePicker.setTitleText(&quot;Select Date...&quot;);\r\n            datePicker.setSelection(MaterialDatePicker.todayInUtcMilliseconds());\r\n            datePicker.setInputMode(MaterialDatePicker.INPUT_MODE_CALENDAR);\r\n            MaterialDatePicker &lt; Long &gt; picker = datePicker.build();\r\n            picker.show(getSupportFragmentManager(), &quot;MATERIAL_DATE_PICKER&quot;);\r\n            picker.addOnPositiveButtonClickListener(selection - &gt; {\r\n                dateToNotify = picker.getHeaderText();\r\n                binding.dateEditText.setText(dateToNotify);\r\n            });\r\n        }\r\n    }\r\n    \r\n    BroadCastReceiver.java\r\n    public class MyAlarmReceiver extends BroadcastReceiver {\r\n    \r\n        private MediaPlayer mediaPlayer;\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            mediaPlayer = MediaPlayer.create(context, Settings.System.DEFAULT_RINGTONE_URI);\r\n            mediaPlayer.setLooping(true);\r\n            mediaPlayer.start();\r\n            Toast.makeText(context, &quot;Alarm is ON...&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    }","title":"AlarmManager not fire notification even when app is completely destroy from memory","body":"<p>I am currently developing a task reminder app that allows users to specify the desired time, date, and day for receiving notifications along with an alarm. To illustrate, a user can input the following details:</p>\n<pre><code>Jul 7, 2023\nTuesday\n11 : 30 AM\n</code></pre>\n<p>Now the the user should receive a notification, accompanied by an alarming sound, even if the app has been completely closed. I have attempted various approaches but haven't been successful so far. This is my code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener {\n\n    private ActivityMainBinding binding;\n    private AlarmManager alarmManager;\n    private String dateToNotify, timeToNotify;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\n\n        binding.dateEditText.setOnClickListener(this);\n        binding.timeEditText.setOnClickListener(this);\n        binding.setAlarmButton.setOnClickListener(this);\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.M)\n    @Override\n    public void onClick(View v) {\n        if (v.getId() == R.id.date_edit_text)\n            showMaterialDatePickerToUpdate();\n        else if (v.getId() == R.id.time_edit_text)\n            showMaterialTimePicker();\n        else if (v.getId() == R.id.set_alarm_button) {\n            String monthInAlphabets = dateToNotify.substring(0, 3);\n            int monthInDigits = 0;\n            if (monthInAlphabets.equalsIgnoreCase(&quot;Jan&quot;))\n                monthInDigits = 1;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Feb&quot;))\n                monthInDigits = 2;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Mar&quot;))\n                monthInDigits = 3;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Apr&quot;))\n                monthInDigits = 4;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;May&quot;))\n                monthInDigits = 5;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Jun&quot;))\n                monthInDigits = 6;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Jul&quot;))\n                monthInDigits = 7;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Aug&quot;))\n                monthInDigits = 8;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Sep&quot;))\n                monthInDigits = 9;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Oct&quot;))\n                monthInDigits = 10;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Nov&quot;))\n                monthInDigits = 11;\n            else if (monthInAlphabets.equalsIgnoreCase(&quot;Dec&quot;))\n                monthInDigits = 12;\n\n            int dateOfMonth, year;\n            if (dateToNotify.length() == 11) {\n                dateOfMonth = Integer.parseInt(dateToNotify.substring(4, 5));\n                year = Integer.parseInt(dateToNotify.substring(7, 11));\n            } else {\n                dateOfMonth = Integer.parseInt(dateToNotify.substring(4, 6));\n                year = Integer.parseInt(dateToNotify.substring(8, 12));\n            }\n\n            String hours = timeToNotify.substring(0, 2);\n            String minutes = timeToNotify.substring(5, 7);\n            String ampm = timeToNotify.substring(8, 10);\n\n            /*Calendar calendar = Calendar.getInstance();\n            calendar.setTimeInMillis(System.currentTimeMillis());\n            calendar.set(Calendar.DAY_OF_MONTH, dateOfMonth);\n            calendar.set(Calendar.YEAR, year);\n            calendar.set(Calendar.MONTH, monthInDigits);\n            calendar.set(Calendar.HOUR_OF_DAY, Integer.parseInt(hours));\n            calendar.set(Calendar.MINUTE, Integer.parseInt(minutes));\n            calendar.set(Calendar.SECOND, 0);\n            if (ampm.equalsIgnoreCase(&quot;AM&quot;))\n                calendar.set(Calendar.AM, 0);\n            else\n                calendar.set(Calendar.PM, 1);*/\n\n            //            calendar.set(year, monthInDigits, dateOfMonth, Integer.parseInt(hours), Integer.parseInt(minutes));\n\n            Intent intent = new Intent(this, MyAlarmReceiver.class);\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(this, 0, intent,\n                PendingIntent.FLAG_IMMUTABLE);\n\n            Calendar calendar = Calendar.getInstance();\n            calendar.setTimeInMillis(System.currentTimeMillis());\n            calendar.set(Calendar.HOUR_OF_DAY, Integer.parseInt(hours));\n            calendar.set(Calendar.MINUTE, Integer.parseInt(minutes));\n\n            alarmManager.set(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n\n            /*if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n            } else {\n                alarmManager.setExact(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n            }*/\n        }\n    }\n\n    private void showMaterialTimePicker() {\n        Calendar calendar = Calendar.getInstance();\n        MaterialTimePicker.Builder builder = new MaterialTimePicker.Builder();\n        builder.setTitleText(&quot;Select Time...&quot;);\n        builder.setTimeFormat(TimeFormat.CLOCK_12H);\n        builder.setInputMode(MaterialTimePicker.INPUT_MODE_CLOCK);\n        builder.setHour(calendar.get(Calendar.HOUR));\n        builder.setMinute(calendar.get(Calendar.MINUTE));\n        MaterialTimePicker materialTimePicker = builder.build();\n        materialTimePicker.show(getSupportFragmentManager(), &quot;MATERIAL_TIME_PICKER&quot;);\n        materialTimePicker.addOnPositiveButtonClickListener(v - &gt; {\n            Time time = new Time(materialTimePicker.getHour(), materialTimePicker.getMinute(), 0);\n            Format formatter = new SimpleDateFormat(&quot;a&quot;);\n\n            if (Objects.equals(formatter.format(time), &quot;PM&quot;)) {\n                int hours = materialTimePicker.getHour() - 12;\n                if (hours &gt; 0 &amp;&amp; hours &lt;= 9) {\n                    if (materialTimePicker.getMinute() &lt;= 9) {\n                        timeToNotify = &quot;0&quot; + hours + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    } else {\n                        timeToNotify = &quot;0&quot; + hours + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    }\n                } else if (hours &gt; 9) {\n                    if (materialTimePicker.getMinute() &lt;= 9) {\n                        timeToNotify = hours + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    } else {\n                        timeToNotify = hours + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    }\n                } else if (hours == 0) {\n                    if (materialTimePicker.getMinute() &lt;= 9) {\n                        timeToNotify = &quot;12 : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    } else {\n                        timeToNotify = &quot;12 : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    }\n                }\n            } else {\n                if (materialTimePicker.getHour() &gt; 0 &amp;&amp; materialTimePicker.getHour() &lt;= 9) {\n                    if (materialTimePicker.getMinute() &lt;= 9) {\n                        timeToNotify = &quot;0&quot; + materialTimePicker.getHour() + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    } else {\n                        timeToNotify = &quot;0&quot; + materialTimePicker.getHour() + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    }\n                } else if (materialTimePicker.getHour() &gt; 9) {\n                    if (materialTimePicker.getMinute() &lt;= 9) {\n                        timeToNotify = materialTimePicker.getHour() + &quot; : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    } else {\n                        timeToNotify = materialTimePicker.getHour() + &quot; : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    }\n                } else if (materialTimePicker.getHour() == 0) {\n                    if (materialTimePicker.getMinute() &lt;= 9) {\n                        timeToNotify = &quot;12 : 0&quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    } else {\n                        timeToNotify = &quot;12 : &quot; + materialTimePicker.getMinute() + &quot; &quot; + formatter.format(time);\n                        binding.timeEditText.setText(timeToNotify);\n                    }\n                }\n            }\n        });\n    }\n\n    private void showMaterialDatePickerToUpdate() {\n        MaterialDatePicker.Builder &lt; Long &gt; datePicker = MaterialDatePicker.Builder.datePicker();\n        datePicker.setTitleText(&quot;Select Date...&quot;);\n        datePicker.setSelection(MaterialDatePicker.todayInUtcMilliseconds());\n        datePicker.setInputMode(MaterialDatePicker.INPUT_MODE_CALENDAR);\n        MaterialDatePicker &lt; Long &gt; picker = datePicker.build();\n        picker.show(getSupportFragmentManager(), &quot;MATERIAL_DATE_PICKER&quot;);\n        picker.addOnPositiveButtonClickListener(selection - &gt; {\n            dateToNotify = picker.getHeaderText();\n            binding.dateEditText.setText(dateToNotify);\n        });\n    }\n}\n\nBroadCastReceiver.java\npublic class MyAlarmReceiver extends BroadcastReceiver {\n\n    private MediaPlayer mediaPlayer;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        mediaPlayer = MediaPlayer.create(context, Settings.System.DEFAULT_RINGTONE_URI);\n        mediaPlayer.setLooping(true);\n        mediaPlayer.start();\n        Toast.makeText(context, &quot;Alarm is ON...&quot;, Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7839,"page":329,"page_size":100}
