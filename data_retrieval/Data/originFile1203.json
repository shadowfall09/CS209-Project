{"items":[{"tags":["java","ftp","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656481285,"creation_date":1656481285,"answer_id":72796294,"question_id":72793174,"body_markdown":"There&#39;s no standard way to request recursive directory listing from remote server in &quot;one call&quot;.\r\n\r\nSo even if the Apache Common Net (or any other library) had a single call API to request recursive directory listing, it would internally have to do the same recursive algorithm, as for example here:  \r\nhttps://stackoverflow.com/q/55096136/850848\r\n\r\n---\r\n\r\nSome FTP servers support a non-standard request for recursive listing.\r\n\r\nFor example [ProFTPD has `-R` switch](http://www.proftpd.org/docs/howto/ListOptions.html) to `LIST` command (and similar) to list the directories recursively.\r\n\r\nIn Apache Commons Net you can inject that switch by simply prepending it to the path:\r\n```\r\nftpClient.listFiles(&quot;-R &quot; + remotePath);\r\n```\r\n\r\nBut you can use that only if you know for sure that you are connected to ProFTPD.\r\n\r\n---\r\n\r\nI do not know of any other FTP server with similar functionality. With other FTP servers you can optimize the listing by using multiple parallel connections.\r\n\r\nIf you have a choice of protocols, consider using WebDAV, as that&#39;s the only file transfer protocol I know of that supports recursive directory listing.\r\n\r\n----\r\n\r\nSimilar question:  \r\nhttps://stackoverflow.com/q/42050334/850848","title":"Get a whole FTP directory listings recursively in one call possible to reduce time","body":"<p>There's no standard way to request recursive directory listing from remote server in &quot;one call&quot;.</p>\n<p>So even if the Apache Common Net (or any other library) had a single call API to request recursive directory listing, it would internally have to do the same recursive algorithm, as for example here:<br />\n<a href=\"https://stackoverflow.com/q/55096136/850848\">Retrieve all sub folders contents using Java Apache Commons Net library</a></p>\n<hr />\n<p>Some FTP servers support a non-standard request for recursive listing.</p>\n<p>For example <a href=\"http://www.proftpd.org/docs/howto/ListOptions.html\" rel=\"nofollow noreferrer\">ProFTPD has <code>-R</code> switch</a> to <code>LIST</code> command (and similar) to list the directories recursively.</p>\n<p>In Apache Commons Net you can inject that switch by simply prepending it to the path:</p>\n<pre><code>ftpClient.listFiles(&quot;-R &quot; + remotePath);\n</code></pre>\n<p>But you can use that only if you know for sure that you are connected to ProFTPD.</p>\n<hr />\n<p>I do not know of any other FTP server with similar functionality. With other FTP servers you can optimize the listing by using multiple parallel connections.</p>\n<p>If you have a choice of protocols, consider using WebDAV, as that's the only file transfer protocol I know of that supports recursive directory listing.</p>\n<hr />\n<p>Similar question:<br />\n<a href=\"https://stackoverflow.com/q/42050334/850848\">How to list the sub directories in a Windows FTP server?</a></p>\n"}],"owner":{"account_id":25335025,"reputation":83,"user_id":19154308,"display_name":"dsknjksad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657259876,"creation_date":1656450600,"question_id":72793174,"body_markdown":"Get a whole FTP directory listings recursively in one call if possible to reduce time using possibly Apache Commons API. Right now I have to call it multiple times to get all the directory listings is there any solutions for that.","title":"Get a whole FTP directory listings recursively in one call possible to reduce time","body":"<p>Get a whole FTP directory listings recursively in one call if possible to reduce time using possibly Apache Commons API. Right now I have to call it multiple times to get all the directory listings is there any solutions for that.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5950073,"reputation":191,"user_id":4678398,"display_name":"JCampy"},"score":0,"creation_date":1657219356,"post_id":72902541,"comment_id":128765253,"body_markdown":"How much time after load test are you getting your final stats?  Garbage collection only runs periodically, so you may need to wait a bit for it to happen.  Alternatively, you could have a circular dependency on allocated objects that prevents them from being garbage collected.","body":"How much time after load test are you getting your final stats?  Garbage collection only runs periodically, so you may need to wait a bit for it to happen.  Alternatively, you could have a circular dependency on allocated objects that prevents them from being garbage collected."},{"owner":{"account_id":25752980,"reputation":1,"user_id":19505213,"display_name":"A Jesh"},"score":0,"creation_date":1657220095,"post_id":72902541,"comment_id":128765475,"body_markdown":"waited for an hour to see memory footprint of the application","body":"waited for an hour to see memory footprint of the application"},{"owner":{"account_id":5950073,"reputation":191,"user_id":4678398,"display_name":"JCampy"},"score":0,"creation_date":1657223154,"post_id":72902541,"comment_id":128766450,"body_markdown":"Seems like something is holding the memory in your code.  I thought it might be the circular reference issue, but I am seeing reference to those being GC&#39;d as well in Java 8 (sorry, wasn&#39;t sure when that happened).  So it seems like something in your code is holding on to objects somehow.  A tool like VisualVM can help identify what&#39;s being held in memory, and then you can review the use of those objects in your code and make sure they are released for GC.","body":"Seems like something is holding the memory in your code.  I thought it might be the circular reference issue, but I am seeing reference to those being GC&#39;d as well in Java 8 (sorry, wasn&#39;t sure when that happened).  So it seems like something in your code is holding on to objects somehow.  A tool like VisualVM can help identify what&#39;s being held in memory, and then you can review the use of those objects in your code and make sure they are released for GC."},{"owner":{"account_id":25752980,"reputation":1,"user_id":19505213,"display_name":"A Jesh"},"score":0,"creation_date":1657223182,"post_id":72902541,"comment_id":128766460,"body_markdown":"Garbage collection is happening when the same application deployed in Windows environment","body":"Garbage collection is happening when the same application deployed in Windows environment"},{"owner":{"account_id":25752980,"reputation":1,"user_id":19505213,"display_name":"A Jesh"},"score":0,"creation_date":1657223245,"post_id":72902541,"comment_id":128766475,"body_markdown":"below Problem Suspect reported from MAT tool --&gt;  _One instance of “org.apache.tomcat.util.net.NioEndpoint” loaded by “org.springframework.boot.loader.LaunchedURLClassLoader @ 0xc0106240” occupies 8,446,416 (16.41%) bytes. The memory is accumulated in one instance of “java.lang.Object[]”, loaded by “&lt;system class loader&gt;”, which occupies 8,439,448 (16.39%) bytes._","body":"below Problem Suspect reported from MAT tool --&gt;  <i>One instance of “org.apache.tomcat.util.net.NioEndpoint” loaded by “org.springframework.boot.loader.LaunchedURLClassLoader @ 0xc0106240” occupies 8,446,416 (16.41%) bytes. The memory is accumulated in one instance of “java.lang.Object[]”, loaded by “&lt;system class loader&gt;”, which occupies 8,439,448 (16.39%) bytes.</i>"},{"owner":{"account_id":5950073,"reputation":191,"user_id":4678398,"display_name":"JCampy"},"score":0,"creation_date":1657224065,"post_id":72902541,"comment_id":128766721,"body_markdown":"OK, I am seeing some reference via searches to JVMs inside Docker getting different settings than you may get natively (like different GC algorithms).  To be honest, I&#39;ve only run C++ apps inside Docker to date, so this was unexpected.  At this point, I&#39;ll have to defer to someone with more experience with that combination of technologies.  Sorry I couldn&#39;t be more help.","body":"OK, I am seeing some reference via searches to JVMs inside Docker getting different settings than you may get natively (like different GC algorithms).  To be honest, I&#39;ve only run C++ apps inside Docker to date, so this was unexpected.  At this point, I&#39;ll have to defer to someone with more experience with that combination of technologies.  Sorry I couldn&#39;t be more help."},{"owner":{"account_id":25752980,"reputation":1,"user_id":19505213,"display_name":"A Jesh"},"score":0,"creation_date":1657224311,"post_id":72902541,"comment_id":128766799,"body_markdown":"Thanks @JCampy for your immediate response to my post. came to know about circular dependency cause for GC failure. Thanks once again.","body":"Thanks @JCampy for your immediate response to my post. came to know about circular dependency cause for GC failure. Thanks once again."}],"owner":{"account_id":25752980,"reputation":1,"user_id":19505213,"display_name":"A Jesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657259468,"creation_date":1657217920,"question_id":72902541,"body_markdown":"Deployed the spring boot (v2.1.3) application in docker (20.10) as container and running load test to verify our application. Java version is 8\r\n\r\nPlease find the stats before load test, at time of load test and after load test.\r\n\r\n**::: Before Load test**\r\n\r\nID     NAME                CPU %     MEM USAGE / LIMIT     MEM %     NET I/O           BLOCK I/O        \r\nc-id   CONTAINER_NAME    3.22%     583MiB / 31.36GiB     1.82%     24.6kB / 13.7kB   0B / 0B   \r\n\r\n**:::at time of load test**\r\n\r\nID     NAME                CPU %     MEM USAGE / LIMIT     MEM %     NET I/O           BLOCK I/O          \r\nc-id   CONTAINER_NAME    0.14%     1.223GiB / 31.36GiB   3.90%     47.9MB / 675MB    0B / 65.5kB  \r\n\r\n\r\n**:::after load test:::**\r\n\r\nID     NAME                CPU %     MEM USAGE / LIMIT     MEM %     NET I/O           BLOCK I/O       \r\nc-id   CONTAINER_NAME    0.09%     1.3GiB / 31.36GiB     4.15%     115MB / 675MB     0B / 8.77MB      \r\n\r\nMemory for the container is keep on increasing. its not all coming to normal even after completing the load test. ie. Garbage collection is not happening in docker container. (whereas garbage collection is happening when the same application deployed in Windows environment)\r\n\r\nAre there any configuration to reduce the memory after load test.\r\n\r\nCan anyone of you help me on that. ","title":"Unable to reduce Memory footprint of Java Spring boot application in docker container after load test","body":"<p>Deployed the spring boot (v2.1.3) application in docker (20.10) as container and running load test to verify our application. Java version is 8</p>\n<p>Please find the stats before load test, at time of load test and after load test.</p>\n<p><strong>::: Before Load test</strong></p>\n<p>ID     NAME                CPU %     MEM USAGE / LIMIT     MEM %     NET I/O           BLOCK I/O<br />\nc-id   CONTAINER_NAME    3.22%     583MiB / 31.36GiB     1.82%     24.6kB / 13.7kB   0B / 0B</p>\n<p><strong>:::at time of load test</strong></p>\n<p>ID     NAME                CPU %     MEM USAGE / LIMIT     MEM %     NET I/O           BLOCK I/O<br />\nc-id   CONTAINER_NAME    0.14%     1.223GiB / 31.36GiB   3.90%     47.9MB / 675MB    0B / 65.5kB</p>\n<p><strong>:::after load test:::</strong></p>\n<p>ID     NAME                CPU %     MEM USAGE / LIMIT     MEM %     NET I/O           BLOCK I/O<br />\nc-id   CONTAINER_NAME    0.09%     1.3GiB / 31.36GiB     4.15%     115MB / 675MB     0B / 8.77MB</p>\n<p>Memory for the container is keep on increasing. its not all coming to normal even after completing the load test. ie. Garbage collection is not happening in docker container. (whereas garbage collection is happening when the same application deployed in Windows environment)</p>\n<p>Are there any configuration to reduce the memory after load test.</p>\n<p>Can anyone of you help me on that.</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":25235500,"reputation":181,"user_id":19115786,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657259054,"creation_date":1657259054,"answer_id":72907111,"question_id":72906574,"body_markdown":"Jackson doesnt even try to deserialize &quot;null&quot; values, so the only way is to sanitize input before mapping","title":"Jackson ObjectMapper - fail on &quot;null&quot; as JSON string","body":"<p>Jackson doesnt even try to deserialize &quot;null&quot; values, so the only way is to sanitize input before mapping</p>\n"}],"owner":{"account_id":15093150,"reputation":127,"user_id":10892400,"display_name":"herdsothom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72907111,"answer_count":1,"score":0,"last_activity_date":1657259054,"creation_date":1657253728,"question_id":72906574,"body_markdown":"Is it possible to make ObjectMapper fail when `&quot;null&quot;` is the entire string that is passed in? \r\n\r\n\r\nThe below code returns null, rather than throwing an exception:\r\n\r\n```objectMapper.readValue(&quot;null&quot;, MyModel.class);```\r\n\r\nI have tried the following configurations, with no luck:\r\n```\r\n.configure(DeserializationFeature.FAIL_ON_NULL_CREATOR_PROPERTIES, true)\r\n.configure(DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES, true)\r\n.configure(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES, true);\r\n```","title":"Jackson ObjectMapper - fail on &quot;null&quot; as JSON string","body":"<p>Is it possible to make ObjectMapper fail when <code>&quot;null&quot;</code> is the entire string that is passed in?</p>\n<p>The below code returns null, rather than throwing an exception:</p>\n<p><code>objectMapper.readValue(&quot;null&quot;, MyModel.class);</code></p>\n<p>I have tried the following configurations, with no luck:</p>\n<pre><code>.configure(DeserializationFeature.FAIL_ON_NULL_CREATOR_PROPERTIES, true)\n.configure(DeserializationFeature.FAIL_ON_NULL_FOR_PRIMITIVES, true)\n.configure(DeserializationFeature.FAIL_ON_MISSING_CREATOR_PROPERTIES, true);\n</code></pre>\n"},{"tags":["java","set"],"comments":[{"owner":{"account_id":7881594,"reputation":737,"user_id":5955362,"display_name":"Jaydeep Devda"},"score":2,"creation_date":1657254501,"post_id":72906645,"comment_id":128772012,"body_markdown":"Have ever thinking to use map ?","body":"Have ever thinking to use map ?"},{"owner":{"account_id":12232652,"reputation":4004,"user_id":8930395,"display_name":"LOrD_ARaGOrN"},"score":0,"creation_date":1657254987,"post_id":72906645,"comment_id":128772083,"body_markdown":"i am getting SET only.","body":"i am getting SET only."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":2,"creation_date":1657255994,"post_id":72906645,"comment_id":128772254,"body_markdown":"I can&#39;t see any effort from your side! Since your data has no particular pattern, I recommend you to use the `startsWith()` and `endsWith()` methods in the `String` class. Get each of the elements and check the occurrence by the above methods.","body":"I can&#39;t see any effort from your side! Since your data has no particular pattern, I recommend you to use the <code>startsWith()</code> and <code>endsWith()</code> methods in the <code>String</code> class. Get each of the elements and check the occurrence by the above methods."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657257354,"creation_date":1657255597,"answer_id":72906750,"question_id":72906645,"body_markdown":"Establish your inputs.\r\n\r\n    Set &lt; String &gt; inputs = Set.of( &quot;a-b-c&quot; , &quot;abc-type=unknown&quot; , &quot;xyz-type=a.b.c.d&quot; , &quot;log-value&quot; );\r\n\r\n# Loops\r\n\r\nCall a method we invent for extracting the desired value. Our method returns an `Optional` because we may find nothing to report.\r\n\r\n    Optional &lt; String &gt; result = this.extract( &quot;xyz-type&quot; , inputs );\r\n\r\nReport result.\r\n\r\n    System.out.println( &quot;result = &quot; + result );\r\n\r\nWrite that method.\r\n\r\nWe loop each input in our set. Keep in mind that a `Set` iterates in an unspecified order.\r\n\r\nFor each input string, try splitting on an EQUALS SIGN character. If this results in two parts, then proceed to see if the first part is our target string. If so, return the second part. If all else fails, return an empty `Optional&lt;String&gt;`. \r\n\r\n    private Optional &lt; String &gt; extract ( final String target , final Set &lt; String &gt; inputs )\r\n    {\r\n        for ( String input : inputs )\r\n        {\r\n            String[] parts = input.split( &quot;=&quot; );\r\n            if ( parts.length == 2 )\r\n            {\r\n                if ( Objects.equals( parts[ 0 ] , target ) )\r\n                {\r\n                    return Optional.of( parts[ 1 ] );\r\n                }\r\n            }\r\n        }\r\n        return Optional.empty();\r\n    }\r\n\r\nWhen run.\r\n\r\n```none\r\nresult = Optional[a.b.c.d]\r\n```\r\n\r\n# Streams\r\n\r\nThis might possibly be done more briefly using streams. But as a student of Java, first master loops before trying streams.\r\n\r\nCall our streams-based extract method.\r\n\r\n    Optional &lt; String &gt; result = this.extractViaStreams( &quot;xyz-type=&quot; , inputs );\r\n\r\nWrite that method.\r\n\r\n    private Optional &lt; String &gt; extractViaStreams ( final String target , final Set &lt; String &gt; inputs )\r\n    {\r\n        return\r\n                inputs\r\n                        .stream()\r\n                        .filter( input -&gt; input.startsWith( target ) )\r\n                        .map( input -&gt; input.split( target )[ 1 ] )\r\n                        .findAny();\r\n    }\r\n\r\nThanks owed to Arun Sudhakaran whose [Comment](https://stackoverflow.com/questions/72906645/how-can-i-check-a-pattern-in-a-set-and-extract-its-value-if-it-exists/72906750#comment128772254_72906645) about `String#startsWith` gave me the idea for this stream code.\r\n\r\n\r\n  [1]: https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwjrjZ2pw-j4AhWbJjQIHamZBrcQFnoECBEQAQ&amp;url=https%3A%2F%2Fdocs.oracle.com%2Fen%2Fjava%2Fjavase%2F17%2Fdocs%2Fapi%2Fjava.base%2Fjava%2Futil%2FMap.html&amp;usg=AOvVaw1wRNqSzUgrxCf4ftXa2Coc\r\n  [2]: https://stackoverflow.com/a/72906841/642706","title":"How can I check a pattern in a SET and extract its value if it exists","body":"<p>Establish your inputs.</p>\n<pre><code>Set &lt; String &gt; inputs = Set.of( &quot;a-b-c&quot; , &quot;abc-type=unknown&quot; , &quot;xyz-type=a.b.c.d&quot; , &quot;log-value&quot; );\n</code></pre>\n<h1>Loops</h1>\n<p>Call a method we invent for extracting the desired value. Our method returns an <code>Optional</code> because we may find nothing to report.</p>\n<pre><code>Optional &lt; String &gt; result = this.extract( &quot;xyz-type&quot; , inputs );\n</code></pre>\n<p>Report result.</p>\n<pre><code>System.out.println( &quot;result = &quot; + result );\n</code></pre>\n<p>Write that method.</p>\n<p>We loop each input in our set. Keep in mind that a <code>Set</code> iterates in an unspecified order.</p>\n<p>For each input string, try splitting on an EQUALS SIGN character. If this results in two parts, then proceed to see if the first part is our target string. If so, return the second part. If all else fails, return an empty <code>Optional&lt;String&gt;</code>.</p>\n<pre><code>private Optional &lt; String &gt; extract ( final String target , final Set &lt; String &gt; inputs )\n{\n    for ( String input : inputs )\n    {\n        String[] parts = input.split( &quot;=&quot; );\n        if ( parts.length == 2 )\n        {\n            if ( Objects.equals( parts[ 0 ] , target ) )\n            {\n                return Optional.of( parts[ 1 ] );\n            }\n        }\n    }\n    return Optional.empty();\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>result = Optional[a.b.c.d]\n</code></pre>\n<h1>Streams</h1>\n<p>This might possibly be done more briefly using streams. But as a student of Java, first master loops before trying streams.</p>\n<p>Call our streams-based extract method.</p>\n<pre><code>Optional &lt; String &gt; result = this.extractViaStreams( &quot;xyz-type=&quot; , inputs );\n</code></pre>\n<p>Write that method.</p>\n<pre><code>private Optional &lt; String &gt; extractViaStreams ( final String target , final Set &lt; String &gt; inputs )\n{\n    return\n            inputs\n                    .stream()\n                    .filter( input -&gt; input.startsWith( target ) )\n                    .map( input -&gt; input.split( target )[ 1 ] )\n                    .findAny();\n}\n</code></pre>\n<p>Thanks owed to Arun Sudhakaran whose <a href=\"https://stackoverflow.com/questions/72906645/how-can-i-check-a-pattern-in-a-set-and-extract-its-value-if-it-exists/72906750#comment128772254_72906645\">Comment</a> about <code>String#startsWith</code> gave me the idea for this stream code.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657258320,"creation_date":1657256520,"answer_id":72906841,"question_id":72906645,"body_markdown":"If you&#39;re going utilize these data multiple times it&#39;s probelly worth to transform this `Set` into a `Map`.\r\n\r\nFor one time use you can iterate over the set using a loop or a stream, try to split each element with a delimiter (`&quot;=&quot;`) and check whether there&#39;s a match with the given key (`&quot;xyz-type&quot;`).\r\n\r\nThat&#39;s how it can be done using Stream API:\r\n\r\n    public String getValue(Set&lt;String&gt; associatedSet, String delimiter, String key) {\r\n        \r\n        return associatedSet.stream()         // Stream&lt;String&gt;\r\n            .map(str -&gt; str.split(delimiter)) // Stream&lt;String[]&gt;\r\n            .filter(arr -&gt; arr.length == 2)\r\n            .filter(arr -&gt; arr[0].equals(key))\r\n            .map(arr -&gt; arr[1])              // Stream&lt;String&gt;\r\n            .findFirst()                     // Optional&lt;String&gt;\r\n            .orElse(&quot;no such key&quot;); // or .orElseThrow() depending on you needs\r\n    }\r\n\r\nA that how you can generate a `Map` using streams, assuming that all &quot;keys&quot; are unique:\r\n\r\n    public Map&lt;String, String&gt; toMap(Set&lt;String&gt; associatedSet, String delimiter) {\r\n        \r\n        return associatedSet.stream()         // Stream&lt;String&gt;\r\n            .map(str -&gt; str.split(delimiter)) // Stream&lt;String[]&gt;\r\n            .collect(Collectors.toMap(\r\n                arr -&gt; arr[0],\r\n                arr -&gt; arr.length == 2 ? arr[1] : &quot;&quot; // if delimiter is not present (length == 1) the key would be associated with an empty string\r\n            ));\r\n    }\r\n\r\nIf there could be multiple occurrences of the same &quot;key&quot; you can use the following approach:\r\n\r\n    public Map&lt;String, List&lt;String&gt;&gt; toMap(Set&lt;String&gt; associatedSet, String delimiter) {\r\n        \r\n        return associatedSet.stream()         // Stream&lt;String&gt;\r\n            .map(str -&gt; str.split(delimiter)) // Stream&lt;String[]&gt;\r\n            .collect(Collectors.groupingBy(\r\n                arr -&gt; arr[0],\r\n                Collectors.mapping(arr -&gt; arr.length == 2 ? arr[1] : &quot;&quot;,\r\n                    Collectors.toList())\r\n            ));\r\n    }","title":"How can I check a pattern in a SET and extract its value if it exists","body":"<p>If you're going utilize these data multiple times it's probelly worth to transform this <code>Set</code> into a <code>Map</code>.</p>\n<p>For one time use you can iterate over the set using a loop or a stream, try to split each element with a delimiter (<code>&quot;=&quot;</code>) and check whether there's a match with the given key (<code>&quot;xyz-type&quot;</code>).</p>\n<p>That's how it can be done using Stream API:</p>\n<pre><code>public String getValue(Set&lt;String&gt; associatedSet, String delimiter, String key) {\n    \n    return associatedSet.stream()         // Stream&lt;String&gt;\n        .map(str -&gt; str.split(delimiter)) // Stream&lt;String[]&gt;\n        .filter(arr -&gt; arr.length == 2)\n        .filter(arr -&gt; arr[0].equals(key))\n        .map(arr -&gt; arr[1])              // Stream&lt;String&gt;\n        .findFirst()                     // Optional&lt;String&gt;\n        .orElse(&quot;no such key&quot;); // or .orElseThrow() depending on you needs\n}\n</code></pre>\n<p>A that how you can generate a <code>Map</code> using streams, assuming that all &quot;keys&quot; are unique:</p>\n<pre><code>public Map&lt;String, String&gt; toMap(Set&lt;String&gt; associatedSet, String delimiter) {\n    \n    return associatedSet.stream()         // Stream&lt;String&gt;\n        .map(str -&gt; str.split(delimiter)) // Stream&lt;String[]&gt;\n        .collect(Collectors.toMap(\n            arr -&gt; arr[0],\n            arr -&gt; arr.length == 2 ? arr[1] : &quot;&quot; // if delimiter is not present (length == 1) the key would be associated with an empty string\n        ));\n}\n</code></pre>\n<p>If there could be multiple occurrences of the same &quot;key&quot; you can use the following approach:</p>\n<pre><code>public Map&lt;String, List&lt;String&gt;&gt; toMap(Set&lt;String&gt; associatedSet, String delimiter) {\n    \n    return associatedSet.stream()         // Stream&lt;String&gt;\n        .map(str -&gt; str.split(delimiter)) // Stream&lt;String[]&gt;\n        .collect(Collectors.groupingBy(\n            arr -&gt; arr[0],\n            Collectors.mapping(arr -&gt; arr.length == 2 ? arr[1] : &quot;&quot;,\n                Collectors.toList())\n        ));\n}\n</code></pre>\n"}],"owner":{"account_id":12232652,"reputation":4004,"user_id":8930395,"display_name":"LOrD_ARaGOrN"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657258320,"creation_date":1657254417,"question_id":72906645,"body_markdown":"I have a set like below.\r\n\r\n    Set&lt;String&gt; name= new HashSet&lt;String&gt;();\r\n            name.add(&quot;a-b-c&quot;);\r\n            name.add(&quot;abc-type=unknown&quot;);\r\n            name.add(&quot;xyz-type=a.b.c.d&quot;);\r\n            name.add(&quot;log-value&quot;);\r\nprint\r\n\r\n    [a-b-c, log-value, abc-type=unknown, xyz-type=a.b.c.d]\r\n\r\nI want to check if xyz-type exist and get its value &quot;a.b.c.d&quot; .","title":"How can I check a pattern in a SET and extract its value if it exists","body":"<p>I have a set like below.</p>\n<pre><code>Set&lt;String&gt; name= new HashSet&lt;String&gt;();\n        name.add(&quot;a-b-c&quot;);\n        name.add(&quot;abc-type=unknown&quot;);\n        name.add(&quot;xyz-type=a.b.c.d&quot;);\n        name.add(&quot;log-value&quot;);\n</code></pre>\n<p>print</p>\n<pre><code>[a-b-c, log-value, abc-type=unknown, xyz-type=a.b.c.d]\n</code></pre>\n<p>I want to check if xyz-type exist and get its value &quot;a.b.c.d&quot; .</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1657122501,"post_id":72886256,"comment_id":128736365,"body_markdown":"You know that `getItemCount()` is for backing data count of the adapter right? Is that array what feeding data for your adapter? If it is so, why don&#39;t you declare it as a global field in your adapter?","body":"You know that <code>getItemCount()</code> is for backing data count of the adapter right? Is that array what feeding data for your adapter? If it is so, why don&#39;t you declare it as a global field in your adapter?"},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1657123820,"post_id":72886256,"comment_id":128736919,"body_markdown":"@Kozmotronik I did that thank you.","body":"@Kozmotronik I did that thank you."},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1657126518,"post_id":72886256,"comment_id":128737928,"body_markdown":"@Kozmotronik would you mind take another look of the code, because it won&#39;t fix it yet. I added relevant code.","body":"@Kozmotronik would you mind take another look of the code, because it won&#39;t fix it yet. I added relevant code."}],"answers":[{"tags":[],"owner":{"account_id":25737161,"reputation":169,"user_id":19491703,"display_name":"Beant Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657255174,"creation_date":1657122201,"answer_id":72886459,"question_id":72886256,"body_markdown":"You can declare `int size=0;` globally inside Adapter.\r\nalso, create this array list when the constructor gets called.\r\nso you can have the list prepared before `getItemCount()` gets called.\r\n\r\n    Adaper(){\r\n    ArrayList&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n            integers.add(2);\r\n            integers.add(8);\r\n            integers.add(2);\r\n            integers.add(61);\r\n            integers.add(3);\r\n            integers.add(75);\r\n            size = integers.size();\r\n    }","title":"How to pass ArrayList size from onBindViewHolder to getItemCount() method in RecyclerView?","body":"<p>You can declare <code>int size=0;</code> globally inside Adapter.\nalso, create this array list when the constructor gets called.\nso you can have the list prepared before <code>getItemCount()</code> gets called.</p>\n<pre><code>Adaper(){\nArrayList&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\n        integers.add(2);\n        integers.add(8);\n        integers.add(2);\n        integers.add(61);\n        integers.add(3);\n        integers.add(75);\n        size = integers.size();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25756083,"reputation":221,"user_id":19507723,"display_name":"harry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657258284,"creation_date":1657258284,"answer_id":72907026,"question_id":72886256,"body_markdown":"       \r\n\r\n     checklistHelper =  dbHelper.getChecklists(id);\r\n                String status = checklistHelper.getStatus();\r\n                String[] statusSplit = status.split(&quot;\\n&quot;);\r\n                ArrayList&lt;String&gt; newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\r\n                newStatusList.remove(position);\r\n                notifyItemRemoved(position);\r\n             \r\n                int size =  newStatusList.size();\r\n\r\n \r\n@Override\r\n    public int getItemCount() {\r\n\r\n        return newStatusList.size();","title":"How to pass ArrayList size from onBindViewHolder to getItemCount() method in RecyclerView?","body":"<pre><code> checklistHelper =  dbHelper.getChecklists(id);\n            String status = checklistHelper.getStatus();\n            String[] statusSplit = status.split(&quot;\\n&quot;);\n            ArrayList&lt;String&gt; newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\n            newStatusList.remove(position);\n            notifyItemRemoved(position);\n         \n            int size =  newStatusList.size();\n</code></pre>\n<p>@Override\npublic int getItemCount() {</p>\n<pre><code>    return newStatusList.size();\n</code></pre>\n"}],"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657258284,"creation_date":1657121367,"question_id":72886256,"body_markdown":"I have this array inside onBindViewHolder method like that.\r\n\r\n    checklistHelper =  dbHelper.getChecklists(id);\r\n                    String status = checklistHelper.getStatus();\r\n                    String[] statusSplit = status.split(&quot;\\n&quot;);\r\n                    ArrayList&lt;String&gt; newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\r\n                    newStatusList.remove(position);\r\n                    notifyItemRemoved(position);\r\n                    int size =  newStatusList.size();\r\n\r\nI want to pass size to below method\r\n\r\n    @Override\r\n        public int getItemCount() {\r\n\r\n            return size;\r\n\r\nBy doing that getItemCount  won&#39;t get any values in it, this means I don&#39;t see any item. If I want to put that code in the Adapter constructor the items get showed, but after deleting a row, the row gets recreated again. Because I can&#39;t put \r\n\r\n    newStatusList.remove(position);\r\n    notifyItemRemoved(position);\r\n\r\n\r\ninside adapter constructor, since I can&#39;t access ViewHolder position inside adapter constructor.\r\n\r\nAny help is appreciated.","title":"How to pass ArrayList size from onBindViewHolder to getItemCount() method in RecyclerView?","body":"<p>I have this array inside onBindViewHolder method like that.</p>\n<pre><code>checklistHelper =  dbHelper.getChecklists(id);\n                String status = checklistHelper.getStatus();\n                String[] statusSplit = status.split(&quot;\\n&quot;);\n                ArrayList&lt;String&gt; newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\n                newStatusList.remove(position);\n                notifyItemRemoved(position);\n                int size =  newStatusList.size();\n</code></pre>\n<p>I want to pass size to below method</p>\n<pre><code>@Override\n    public int getItemCount() {\n\n        return size;\n</code></pre>\n<p>By doing that getItemCount  won't get any values in it, this means I don't see any item. If I want to put that code in the Adapter constructor the items get showed, but after deleting a row, the row gets recreated again. Because I can't put</p>\n<pre><code>newStatusList.remove(position);\nnotifyItemRemoved(position);\n</code></pre>\n<p>inside adapter constructor, since I can't access ViewHolder position inside adapter constructor.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","proguard"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1657347856,"post_id":72895960,"comment_id":128793732,"body_markdown":"(There is no `except` in the introduction of the first pattern, but it contains a `!`: Please check.)","body":"(There is no <code>except</code> in the introduction of the first pattern, but it contains a <code>!</code>: Please check.)"}],"answers":[{"tags":[],"owner":{"account_id":450954,"reputation":600,"user_id":846563,"accept_rate":57,"display_name":"datahaki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657257960,"creation_date":1657188427,"answer_id":72895961,"question_id":72895960,"body_markdown":"    -keep class ![org.myorg.special,org.myorg.another],org.** { *; }","title":"Advanced pattern matching in proguard to keep multiple packages","body":"<pre><code>-keep class ![org.myorg.special,org.myorg.another],org.** { *; }\n</code></pre>\n"}],"owner":{"account_id":450954,"reputation":600,"user_id":846563,"accept_rate":57,"display_name":"datahaki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657257960,"creation_date":1657188427,"question_id":72895960,"body_markdown":"In order to configure proguard to keep all classes from a single package, say `org.myorg.special`, the following notation works:\r\n\r\n    -keep class !org.myorg.special { *; }\r\n\r\nI would like to configure proguard to keep all classes except when they are from either of **two** packages, say `org.myorg.special` and `org.myorg.another`.\r\n\r\nI have tried for instance\r\n\r\n    -keep class !(org.myorg.special,org.myorg.another) { *; }\r\n\r\nbut the above syntax is not supported by proguard.\r\nWhat is the correct syntax?\r\n","title":"Advanced pattern matching in proguard to keep multiple packages","body":"<p>In order to configure proguard to keep all classes from a single package, say <code>org.myorg.special</code>, the following notation works:</p>\n<pre><code>-keep class !org.myorg.special { *; }\n</code></pre>\n<p>I would like to configure proguard to keep all classes except when they are from either of <strong>two</strong> packages, say <code>org.myorg.special</code> and <code>org.myorg.another</code>.</p>\n<p>I have tried for instance</p>\n<pre><code>-keep class !(org.myorg.special,org.myorg.another) { *; }\n</code></pre>\n<p>but the above syntax is not supported by proguard.\nWhat is the correct syntax?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":4,"creation_date":1657257132,"post_id":72906907,"comment_id":128772416,"body_markdown":"Primitives are not Objects.  They are treated differently.","body":"Primitives are not Objects.  They are treated differently."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1657257662,"post_id":72906907,"comment_id":128772507,"body_markdown":"In advanced to the comment above:\nObjects are generated at the heap of your memory. They are compared by it&#39;s memory address reference by default. For primitive types it is different since they are not heap objects they are compared by their value","body":"In advanced to the comment above: Objects are generated at the heap of your memory. They are compared by it&#39;s memory address reference by default. For primitive types it is different since they are not heap objects they are compared by their value"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657257755,"creation_date":1657257755,"answer_id":72906984,"question_id":72906907,"body_markdown":"This operator is actually the &#39;primitive&#39; comparison that exists on machine language level. To compare two values, load one of them into a CPU register, then subtract the other value and see if all bits are zero.\r\n\r\nThis comparison works for boolean, numbers, characters - anything you can put into a memory location that is not bigger than the CPUs register. In Java such data types are called primitive types. Today most machines have 64 bits which is the magic size limitation.\r\n\r\nSince Objects and Arrays can easily exceed that given size, a pointer to their memory location is passed instead. The primitive comparison would now compare two Objects by comparing their memory pointers. But it is not smart enough to compare the Object content. \r\n\r\nSo if you have two Objects in different addresses that both have the same value the `==` comparison will fail, although most people think the result should be true. That&#39;s why Java has both == operator and the .equals method.","title":"how does == operator in java works for primitive types","body":"<p>This operator is actually the 'primitive' comparison that exists on machine language level. To compare two values, load one of them into a CPU register, then subtract the other value and see if all bits are zero.</p>\n<p>This comparison works for boolean, numbers, characters - anything you can put into a memory location that is not bigger than the CPUs register. In Java such data types are called primitive types. Today most machines have 64 bits which is the magic size limitation.</p>\n<p>Since Objects and Arrays can easily exceed that given size, a pointer to their memory location is passed instead. The primitive comparison would now compare two Objects by comparing their memory pointers. But it is not smart enough to compare the Object content.</p>\n<p>So if you have two Objects in different addresses that both have the same value the <code>==</code> comparison will fail, although most people think the result should be true. That's why Java has both == operator and the .equals method.</p>\n"}],"owner":{"account_id":18096575,"reputation":130,"user_id":13154754,"display_name":"Manish Visave"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657262181,"answer_count":1,"score":0,"last_activity_date":1657257755,"creation_date":1657257050,"question_id":72906907,"body_markdown":"I was reading about == operator and I noticed it says it is used for reference comparison. But then how does it work when we have a condition like \r\n```java\r\nint i = 5;\r\nif (i == 5){\r\n    .....\r\n}\r\n\r\n```\r\ni being int primitive type. \r\n\r\nDoes it gets converted to Integer wrapper class behind the scene and the It behaves like strings immutable class meaning even if we hard code value it will point to the same object in memory?","title":"how does == operator in java works for primitive types","body":"<p>I was reading about == operator and I noticed it says it is used for reference comparison. But then how does it work when we have a condition like</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 5;\nif (i == 5){\n    .....\n}\n\n</code></pre>\n<p>i being int primitive type.</p>\n<p>Does it gets converted to Integer wrapper class behind the scene and the It behaves like strings immutable class meaning even if we hard code value it will point to the same object in memory?</p>\n"},{"tags":["java","android","sqlite","android-studio"],"answers":[{"tags":[],"owner":{"account_id":2557581,"reputation":6571,"user_id":2219237,"accept_rate":60,"display_name":"Vasily Kabunov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657254187,"creation_date":1657254187,"answer_id":72906621,"question_id":72905340,"body_markdown":"Probably, your problem is here:\r\n\r\n```\r\nIntent intent = new Intent(MainActivity.this, HomeActivity.class);\r\nintent.putExtra(&quot;account&quot;, account);\r\nIntent intent1 = new Intent(MainActivity.this, AddModifyTask.class);\r\nintent1.putExtra(&quot;account&quot;, account);\r\nstartActivity(intent);\r\n```\r\n\r\nYou are creating `intent1` for `AddModifyTask`, but starting `intent` for `HomeActivity`.\r\n\r\nTry something like:\r\n\r\n```\r\nIntent intent = new Intent(MainActivity.this, AddModifyTask.class);\r\nintent.putExtra(&quot;account&quot;, account);\r\nstartActivity(intent);\r\n```","title":"intent.putExtra returns correct value in fragment but returns null in activity","body":"<p>Probably, your problem is here:</p>\n<pre><code>Intent intent = new Intent(MainActivity.this, HomeActivity.class);\nintent.putExtra(&quot;account&quot;, account);\nIntent intent1 = new Intent(MainActivity.this, AddModifyTask.class);\nintent1.putExtra(&quot;account&quot;, account);\nstartActivity(intent);\n</code></pre>\n<p>You are creating <code>intent1</code> for <code>AddModifyTask</code>, but starting <code>intent</code> for <code>HomeActivity</code>.</p>\n<p>Try something like:</p>\n<pre><code>Intent intent = new Intent(MainActivity.this, AddModifyTask.class);\nintent.putExtra(&quot;account&quot;, account);\nstartActivity(intent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25549590,"reputation":15,"user_id":19334213,"display_name":"B&#249;i Minh Thương"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657257535,"creation_date":1657257535,"answer_id":72906965,"question_id":72905340,"body_markdown":"I used `SharedPreferences` instead of `intent.putExtra`\r\n\r\n    Boolean result = db.checkUserNamePassword(account, password);\r\n                        if(result==true) {\r\n                            Intent intent = new Intent(MainActivity.this, HomeActivity.class);\r\n                            intent.putExtra(&quot;account&quot;, account);\r\n                            SharedPreferences sharedPref = getSharedPreferences(&quot;account&quot;, MODE_PRIVATE);\r\n                            SharedPreferences.Editor editor = sharedPref.edit();\r\n                            editor.putString(&quot;account&quot;, account);\r\n                            editor.apply();\r\n                            startActivity(intent);\r\n\r\nat AddModifyTask\r\n\r\n    public void saveTask(View v) {\r\n            /*Checking for Empty Task*/\r\n            if (edit_text.getText().toString().trim().length() &gt; 0) {\r\n                if (isModify) {\r\n                    SharedPreferences sharedPreferences = getSharedPreferences(&quot;account&quot;, MODE_PRIVATE);\r\n                    String account = sharedPreferences.getString(&quot;account&quot;,&quot;&quot;);\r\n                    mydb.updateTask(task_id, edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\r\n                    Toast.makeText(getApplicationContext(), &quot;T&#225;c vụ đ&#227; được cập nhật.&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    SharedPreferences sharedPreferences = getSharedPreferences(&quot;account&quot;, MODE_PRIVATE);\r\n                    String account = sharedPreferences.getString(&quot;account&quot;,&quot;&quot;);\r\n                    mydb.insertTask(edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\r\n                    Toast.makeText(getApplicationContext(), &quot;Đ&#227; th&#234;m.&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                finish();","title":"intent.putExtra returns correct value in fragment but returns null in activity","body":"<p>I used <code>SharedPreferences</code> instead of <code>intent.putExtra</code></p>\n<pre><code>Boolean result = db.checkUserNamePassword(account, password);\n                    if(result==true) {\n                        Intent intent = new Intent(MainActivity.this, HomeActivity.class);\n                        intent.putExtra(&quot;account&quot;, account);\n                        SharedPreferences sharedPref = getSharedPreferences(&quot;account&quot;, MODE_PRIVATE);\n                        SharedPreferences.Editor editor = sharedPref.edit();\n                        editor.putString(&quot;account&quot;, account);\n                        editor.apply();\n                        startActivity(intent);\n</code></pre>\n<p>at AddModifyTask</p>\n<pre><code>public void saveTask(View v) {\n        /*Checking for Empty Task*/\n        if (edit_text.getText().toString().trim().length() &gt; 0) {\n            if (isModify) {\n                SharedPreferences sharedPreferences = getSharedPreferences(&quot;account&quot;, MODE_PRIVATE);\n                String account = sharedPreferences.getString(&quot;account&quot;,&quot;&quot;);\n                mydb.updateTask(task_id, edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\n                Toast.makeText(getApplicationContext(), &quot;Tác vụ đã được cập nhật.&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                SharedPreferences sharedPreferences = getSharedPreferences(&quot;account&quot;, MODE_PRIVATE);\n                String account = sharedPreferences.getString(&quot;account&quot;,&quot;&quot;);\n                mydb.insertTask(edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\n                Toast.makeText(getApplicationContext(), &quot;Đã thêm.&quot;, Toast.LENGTH_SHORT).show();\n            }\n            finish();\n</code></pre>\n"}],"owner":{"account_id":25549590,"reputation":15,"user_id":19334213,"display_name":"B&#249;i Minh Thương"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657257535,"creation_date":1657237931,"question_id":72905340,"body_markdown":"I need to get the `account` from **MainActivity** to add to my command in **AddModifyTask**. I used `intent.putExtra` in **MainActivity** and get `account` by `getIntent.getStringExtra` in **AddModifyTask** but it always return `null`, still the same with `getIntent.getStringExtra` in **Fragment** then it returns the correct `account` value, can anyone help me please\r\n\r\nMainAcitivy, I need to pass `account` from here\r\n\r\n \r\n\r\n    Boolean result = db.checkUserNamePassword(account, password);\r\n                        if(result==true) {\r\n                            Intent intent = new Intent(MainActivity.this, HomeActivity.class);\r\n                            intent.putExtra(&quot;account&quot;, account);\r\n                            Intent intent1 = new Intent(MainActivity.this, AddModifyTask.class);\r\n                            intent1.putExtra(&quot;account&quot;, account);\r\n                            startActivity(intent);\r\nAddModifyTask activity where I need to pass `account` to but it just return `null`\r\n\r\n    public void saveTask(View v) {\r\n            /*Checking for Empty Task*/\r\n            if (edit_text.getText().toString().trim().length() &gt; 0) {\r\n                if (isModify) {\r\n                    String account = getIntent().getStringExtra(&quot;account&quot;);\r\n                    mydb.updateTask(task_id, edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\r\n                    Toast.makeText(getApplicationContext(), &quot;Task updated.&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    String account = getIntent().getStringExtra(&quot;account&quot;);\r\n                    mydb.insertTask(edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\r\n                    Toast.makeText(getApplicationContext(), &quot;Added.&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                finish();\r\n    \r\n            } else {\r\n                Toast.makeText(getApplicationContext(), &quot;No empty.&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\nstill the same with `getIntent.getStringExtra` in **Fragment** then it returns the correct `account` value\r\n\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View v = inflater.inflate(R.layout.fragment_profile, container, false);\r\n            TextView textViewAccount = v.findViewById(R.id.textViewAccount);\r\n    \r\n            String account = getActivity().getIntent().getStringExtra(&quot;account&quot;);\r\n            textViewAccount.setText(account);\r\n            }\r\n            return v;\r\n        }\r\nFunction `insertTask` and `updateTask` in **database**, is the problem with the statement in the **database** or the `getIntent` in the **AddModifyTask** or in both?\r\n\r\n    public boolean insertTask(String task, String task_at, String account) {\r\n        Date date;\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(&quot;task&quot;, task);\r\n        contentValues.put(&quot;task_at&quot;, task_at);\r\n        contentValues.put(&quot;status&quot;, 0);\r\n        contentValues.put(&quot;user&quot;, account);\r\n        db.insert(TB_TASK, null, contentValues);\r\n        return true;\r\n    }\r\n    \r\n        public boolean updateTask(String id, String task, String task_at, String account) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(&quot;task&quot;, task);\r\n            contentValues.put(&quot;task_at&quot;, task_at);\r\n            contentValues.put(&quot;user&quot;,  account);\r\n            db.update(TB_TASK, contentValues, &quot;id = ? &quot;, new String[]{id});\r\n            return true;\r\n        }\r\nPlease help!","title":"intent.putExtra returns correct value in fragment but returns null in activity","body":"<p>I need to get the <code>account</code> from <strong>MainActivity</strong> to add to my command in <strong>AddModifyTask</strong>. I used <code>intent.putExtra</code> in <strong>MainActivity</strong> and get <code>account</code> by <code>getIntent.getStringExtra</code> in <strong>AddModifyTask</strong> but it always return <code>null</code>, still the same with <code>getIntent.getStringExtra</code> in <strong>Fragment</strong> then it returns the correct <code>account</code> value, can anyone help me please</p>\n<p>MainAcitivy, I need to pass <code>account</code> from here</p>\n<pre><code>Boolean result = db.checkUserNamePassword(account, password);\n                    if(result==true) {\n                        Intent intent = new Intent(MainActivity.this, HomeActivity.class);\n                        intent.putExtra(&quot;account&quot;, account);\n                        Intent intent1 = new Intent(MainActivity.this, AddModifyTask.class);\n                        intent1.putExtra(&quot;account&quot;, account);\n                        startActivity(intent);\n</code></pre>\n<p>AddModifyTask activity where I need to pass <code>account</code> to but it just return <code>null</code></p>\n<pre><code>public void saveTask(View v) {\n        /*Checking for Empty Task*/\n        if (edit_text.getText().toString().trim().length() &gt; 0) {\n            if (isModify) {\n                String account = getIntent().getStringExtra(&quot;account&quot;);\n                mydb.updateTask(task_id, edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\n                Toast.makeText(getApplicationContext(), &quot;Task updated.&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                String account = getIntent().getStringExtra(&quot;account&quot;);\n                mydb.insertTask(edit_text.getText().toString(), new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(calendar.getTime()), account);\n                Toast.makeText(getApplicationContext(), &quot;Added.&quot;, Toast.LENGTH_SHORT).show();\n            }\n            finish();\n\n        } else {\n            Toast.makeText(getApplicationContext(), &quot;No empty.&quot;, Toast.LENGTH_SHORT).show();\n        }\n</code></pre>\n<p>still the same with <code>getIntent.getStringExtra</code> in <strong>Fragment</strong> then it returns the correct <code>account</code> value</p>\n<pre><code>public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View v = inflater.inflate(R.layout.fragment_profile, container, false);\n        TextView textViewAccount = v.findViewById(R.id.textViewAccount);\n\n        String account = getActivity().getIntent().getStringExtra(&quot;account&quot;);\n        textViewAccount.setText(account);\n        }\n        return v;\n    }\n</code></pre>\n<p>Function <code>insertTask</code> and <code>updateTask</code> in <strong>database</strong>, is the problem with the statement in the <strong>database</strong> or the <code>getIntent</code> in the <strong>AddModifyTask</strong> or in both?</p>\n<pre><code>public boolean insertTask(String task, String task_at, String account) {\n    Date date;\n    SQLiteDatabase db = this.getWritableDatabase();\n    ContentValues contentValues = new ContentValues();\n    contentValues.put(&quot;task&quot;, task);\n    contentValues.put(&quot;task_at&quot;, task_at);\n    contentValues.put(&quot;status&quot;, 0);\n    contentValues.put(&quot;user&quot;, account);\n    db.insert(TB_TASK, null, contentValues);\n    return true;\n}\n\n    public boolean updateTask(String id, String task, String task_at, String account) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(&quot;task&quot;, task);\n        contentValues.put(&quot;task_at&quot;, task_at);\n        contentValues.put(&quot;user&quot;,  account);\n        db.update(TB_TASK, contentValues, &quot;id = ? &quot;, new String[]{id});\n        return true;\n    }\n</code></pre>\n<p>Please help!</p>\n"},{"tags":["java","spring","spring-boot","tomcat"],"answers":[{"tags":[],"owner":{"account_id":381269,"reputation":493,"user_id":1960592,"display_name":"cerdoc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657228713,"creation_date":1657228713,"answer_id":72904341,"question_id":72904213,"body_markdown":"Your Tomcat version 8.5.24 is using Servlet API 3.1, see this : https://tomcat.apache.org/whichversion.html\r\n\r\nYou have to upgrade you servlet-api dependency from 3.0.1 to 3.1\r\n","title":"java- Correct the classpath of your application so that it contains compatible versions of the classes","body":"<p>Your Tomcat version 8.5.24 is using Servlet API 3.1, see this : <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/whichversion.html</a></p>\n<p>You have to upgrade you servlet-api dependency from 3.0.1 to 3.1</p>\n"},{"tags":[],"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657257434,"creation_date":1657257434,"answer_id":72906948,"question_id":72904213,"body_markdown":"There are several issues with your Gradle configuration:\r\n1. These dependencies have conflicting versions, you only need one of them:\r\n```\r\n    compileOnly group: &#39;javax.servlet&#39;, name: &#39;servlet-api&#39;, version: &#39;2.3&#39;\r\n    compile &#39;javax.servlet:javax.servlet-api:3.0.1&#39;\r\n```\r\n\r\n2. `servlet-api` dependency with a proper version is already provided by `spring-boot-web-starter`, so you don&#39;t need to specify it at all, you can just remove both of those lines.\r\n\r\n3. The `tomcat-catalina` dependency is most likely not needed too, since `spring-boot-web-starter` already contains embedded Tomcat, and it&#39;s not the best idea to include Tomcat in your compilation classpath anyway. So this line can also be removed:\r\n```\r\ncompile group: &#39;org.apache.tomcat&#39;, name: &#39;tomcat-catalina&#39;, version: &#39;8.5.24&#39;\r\n```","title":"java- Correct the classpath of your application so that it contains compatible versions of the classes","body":"<p>There are several issues with your Gradle configuration:</p>\n<ol>\n<li>These dependencies have conflicting versions, you only need one of them:</li>\n</ol>\n<pre><code>    compileOnly group: 'javax.servlet', name: 'servlet-api', version: '2.3'\n    compile 'javax.servlet:javax.servlet-api:3.0.1'\n</code></pre>\n<ol start=\"2\">\n<li><p><code>servlet-api</code> dependency with a proper version is already provided by <code>spring-boot-web-starter</code>, so you don't need to specify it at all, you can just remove both of those lines.</p>\n</li>\n<li><p>The <code>tomcat-catalina</code> dependency is most likely not needed too, since <code>spring-boot-web-starter</code> already contains embedded Tomcat, and it's not the best idea to include Tomcat in your compilation classpath anyway. So this line can also be removed:</p>\n</li>\n</ol>\n<pre><code>compile group: 'org.apache.tomcat', name: 'tomcat-catalina', version: '8.5.24'\n</code></pre>\n"}],"owner":{"account_id":23387545,"reputation":35,"user_id":17452639,"display_name":"OzosStackOverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72904341,"answer_count":2,"score":0,"last_activity_date":1657257434,"creation_date":1657227984,"question_id":72904213,"body_markdown":"I&#39;m trying to make an endpoint using Springboot but im getting this error upon compilation...\r\n\r\n&quot;Correct the classpath of your application so that it contains compatible versions of the classes org.apache.catalina.authenticator.AuthenticatorBase and javax.servlet.ServletContext&quot;\r\n\r\nAny suggestions? A google search didnt lead me to the right direction.\r\n\r\n```java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\r\n\tat java.util.concurrent.FutureTask.report(Unknown Source) [na:1.8.0_321]\r\n\tat java.util.concurrent.FutureTask.get(Unknown Source) [na:1.8.0_321]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_321]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.AbstractExecutorService.submit(Unknown Source) [na:1.8.0_321]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [spring-context-5.3.21.jar:5.3.21]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat com.example.HelloWorld.HelloWorldApplication.main(HelloWorldApplication.java:10) [main/:na]\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:176) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5147) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_321]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.AbstractExecutorService.submit(Unknown Source) [na:1.8.0_321]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\t... 29 common frames omitted\r\nCaused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1319) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\t... 39 common frames omitted\r\n\r\n2022-07-07 17:02:17.896 ERROR 1512 --- [           main] org.apache.catalina.core.ContainerBase   : A child container failed during start\r\n\r\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_321]\r\n\tat java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_321]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [spring-context-5.3.21.jar:5.3.21]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.1.jar:2.7.1]\r\n\tat com.example.HelloWorld.HelloWorldApplication.main(HelloWorldApplication.java:10) [main/:na]\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_321]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_321]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\t... 21 common frames omitted\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\r\n\tat java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_321]\r\n\tat java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_321]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\t... 29 common frames omitted\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:176) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5147) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_321]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_321]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\t... 29 common frames omitted\r\nCaused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1319) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\r\n\t... 39 common frames omitted\r\n\r\n2022-07-07 17:02:17.896  INFO 1512 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-07-07 17:02:17.899  WARN 1512 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n2022-07-07 17:02:17.905  INFO 1512 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-07-07 17:02:17.922 ERROR 1512 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1319)\r\n\r\nThe following method did not exist:\r\n\r\n    javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\r\n\r\nThe calling method&#39;s class, org.apache.catalina.authenticator.AuthenticatorBase, was loaded from the following location:\r\n\r\n    jar:file:/C:/Users/axf924/.gradle/caches/modules-2/files-2.1/org.apache.tomcat.embed/tomcat-embed-core/9.0.64/2d91a06d1b93ba13a2cca9e9ea7c143a64037351/tomcat-embed-core-9.0.64.jar!/org/apache/catalina/authenticator/AuthenticatorBase.class\r\n\r\nThe called method&#39;s class, javax.servlet.ServletContext, is available from the following locations:\r\n\r\n    jar:file:/C:/Program%20Files/Java/jre1.8.0_321/lib/ext/servlet-api.jar!/javax/servlet/ServletContext.class\r\n    jar:file:/C:/Users/axf924/.gradle/caches/modules-2/files-2.1/org.apache.tomcat.embed/tomcat-embed-core/9.0.64/2d91a06d1b93ba13a2cca9e9ea7c143a64037351/tomcat-embed-core-9.0.64.jar!/javax/servlet/ServletContext.class\r\n    jar:file:/C:/Program%20Files/Java/jre1.8.0_321/lib/ext/servlet-api.jar!/javax/servlet/ServletContext.class\r\n\r\nThe called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n    javax.servlet.ServletContext: file:/C:/Program%20Files/Java/jre1.8.0_321/lib/ext/servlet-api.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains compatible versions of the classes org.apache.catalina.authenticator.AuthenticatorBase and javax.servlet.ServletContext\r\n```\r\n\r\nbuild.gradle\r\n```dependencies {\r\n\t\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\t\r\n\tcompileOnly group: &#39;javax.servlet&#39;, name: &#39;servlet-api&#39;, version: &#39;2.3&#39;\r\n\tcompile &#39;javax.servlet:javax.servlet-api:3.0.1&#39;\r\n\tcompile group: &#39;org.apache.tomcat&#39;, name: &#39;tomcat-catalina&#39;, version: &#39;8.5.24&#39;\r\n}```","title":"java- Correct the classpath of your application so that it contains compatible versions of the classes","body":"<p>I'm trying to make an endpoint using Springboot but im getting this error upon compilation...</p>\n<p>&quot;Correct the classpath of your application so that it contains compatible versions of the classes org.apache.catalina.authenticator.AuthenticatorBase and javax.servlet.ServletContext&quot;</p>\n<p>Any suggestions? A google search didnt lead me to the right direction.</p>\n<pre><code>    at java.util.concurrent.FutureTask.report(Unknown Source) [na:1.8.0_321]\n    at java.util.concurrent.FutureTask.get(Unknown Source) [na:1.8.0_321]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_321]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) [na:1.8.0_321]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.1.jar:2.7.1]\n    at com.example.HelloWorld.HelloWorldApplication.main(HelloWorldApplication.java:10) [main/:na]\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:176) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5147) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.FutureTask.run(Unknown Source) [na:1.8.0_321]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) [na:1.8.0_321]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    ... 29 common frames omitted\nCaused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\n    at org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1319) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    ... 39 common frames omitted\n\n2022-07-07 17:02:17.896 ERROR 1512 --- [           main] org.apache.catalina.core.ContainerBase   : A child container failed during start\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\n    at java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_321]\n    at java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_321]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) [spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) [spring-boot-2.7.1.jar:2.7.1]\n    at com.example.HelloWorld.HelloWorldApplication.main(HelloWorldApplication.java:10) [main/:na]\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_321]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_321]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    ... 21 common frames omitted\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\n    at java.util.concurrent.FutureTask.report(Unknown Source) ~[na:1.8.0_321]\n    at java.util.concurrent.FutureTask.get(Unknown Source) ~[na:1.8.0_321]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    ... 29 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [NonLoginAuthenticator[StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:176) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5147) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.FutureTask.run(Unknown Source) ~[na:1.8.0_321]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at java.util.concurrent.AbstractExecutorService.submit(Unknown Source) ~[na:1.8.0_321]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    ... 29 common frames omitted\nCaused by: java.lang.NoSuchMethodError: javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\n    at org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1319) ~[tomcat-embed-core-9.0.64.jar:9.0.64]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) [tomcat-embed-core-9.0.64.jar:9.0.64]\n    ... 39 common frames omitted\n\n2022-07-07 17:02:17.896  INFO 1512 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-07-07 17:02:17.899  WARN 1512 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n2022-07-07 17:02:17.905  INFO 1512 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-07-07 17:02:17.922 ERROR 1512 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.apache.catalina.authenticator.AuthenticatorBase.startInternal(AuthenticatorBase.java:1319)\n\nThe following method did not exist:\n\n    javax.servlet.ServletContext.getVirtualServerName()Ljava/lang/String;\n\nThe calling method's class, org.apache.catalina.authenticator.AuthenticatorBase, was loaded from the following location:\n\n    jar:file:/C:/Users/axf924/.gradle/caches/modules-2/files-2.1/org.apache.tomcat.embed/tomcat-embed-core/9.0.64/2d91a06d1b93ba13a2cca9e9ea7c143a64037351/tomcat-embed-core-9.0.64.jar!/org/apache/catalina/authenticator/AuthenticatorBase.class\n\nThe called method's class, javax.servlet.ServletContext, is available from the following locations:\n\n    jar:file:/C:/Program%20Files/Java/jre1.8.0_321/lib/ext/servlet-api.jar!/javax/servlet/ServletContext.class\n    jar:file:/C:/Users/axf924/.gradle/caches/modules-2/files-2.1/org.apache.tomcat.embed/tomcat-embed-core/9.0.64/2d91a06d1b93ba13a2cca9e9ea7c143a64037351/tomcat-embed-core-9.0.64.jar!/javax/servlet/ServletContext.class\n    jar:file:/C:/Program%20Files/Java/jre1.8.0_321/lib/ext/servlet-api.jar!/javax/servlet/ServletContext.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    javax.servlet.ServletContext: file:/C:/Program%20Files/Java/jre1.8.0_321/lib/ext/servlet-api.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes org.apache.catalina.authenticator.AuthenticatorBase and javax.servlet.ServletContext\n</code></pre>\n<p>build.gradle</p>\n<pre><code>    \n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    \n    compileOnly group: 'javax.servlet', name: 'servlet-api', version: '2.3'\n    compile 'javax.servlet:javax.servlet-api:3.0.1'\n    compile group: 'org.apache.tomcat', name: 'tomcat-catalina', version: '8.5.24'\n}```\n</code></pre>\n"},{"tags":["java","spring","jsp","servlets","guice"],"answers":[{"tags":[],"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657256708,"creation_date":1657256708,"answer_id":72906864,"question_id":72899887,"body_markdown":"You can check whether anything is being served at all, e.g by checking if static JavaScript files are accessible throught the browser.\r\n\r\nIf nothing is being served at all, you might want to check the logs for any deployment errors.\r\n\r\nI&#39;m not sure why you install `ServletModule` inside another `ServletModule`, this also might cause an error. The code could probably be simplified as follows:\r\n\r\n```java\r\n @Override\r\n  protected void configureServlets() {\r\n\r\n    // load application settings\r\n    AppSettings settings = AppSettings.get();\r\n\r\n    bind(ObjectMapper.class).toProvider(ObjectMapperProvider.class);\r\n\r\n    install(new JpaModule(jpaUnit, true, false));\r\n\r\n    // check for CORS requests earlier\r\n    filter(&quot;*&quot;).through(CorsFilter.class);\r\n    // pre-session tenant filter should be come before PersistFilter\r\n    filter(&quot;*&quot;).through(PreSessionTenantFilter.class);\r\n    // order is important, PersistFilter must come first\r\n    filter(&quot;*&quot;).through(PersistFilter.class);\r\n    filter(&quot;*&quot;).through(AppFilter.class);\r\n    filter(&quot;*&quot;).through(GuiceShiroFilter.class);\r\n    // pre-session tenant filter should be come after shiro filter\r\n    filter(&quot;*&quot;).through(PostSessionTenantFilter.class);\r\n\r\n    for (Module module : getModules()) {\r\n      install(module);\r\n    }\r\n\r\n    filter(&quot;/js/*&quot;, NoCacheFilter.STATIC_URL_PATTERNS).through(NoCacheFilter.class);\r\n\r\n    serve(&quot;/js/messages.js&quot;).with(I18nServlet.class);\r\n    serve(&quot;/login.jsp&quot;);\r\n}\r\n```","title":"ServletModule : serve not finding jsp page","body":"<p>You can check whether anything is being served at all, e.g by checking if static JavaScript files are accessible throught the browser.</p>\n<p>If nothing is being served at all, you might want to check the logs for any deployment errors.</p>\n<p>I'm not sure why you install <code>ServletModule</code> inside another <code>ServletModule</code>, this also might cause an error. The code could probably be simplified as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Override\n  protected void configureServlets() {\n\n    // load application settings\n    AppSettings settings = AppSettings.get();\n\n    bind(ObjectMapper.class).toProvider(ObjectMapperProvider.class);\n\n    install(new JpaModule(jpaUnit, true, false));\n\n    // check for CORS requests earlier\n    filter(&quot;*&quot;).through(CorsFilter.class);\n    // pre-session tenant filter should be come before PersistFilter\n    filter(&quot;*&quot;).through(PreSessionTenantFilter.class);\n    // order is important, PersistFilter must come first\n    filter(&quot;*&quot;).through(PersistFilter.class);\n    filter(&quot;*&quot;).through(AppFilter.class);\n    filter(&quot;*&quot;).through(GuiceShiroFilter.class);\n    // pre-session tenant filter should be come after shiro filter\n    filter(&quot;*&quot;).through(PostSessionTenantFilter.class);\n\n    for (Module module : getModules()) {\n      install(module);\n    }\n\n    filter(&quot;/js/*&quot;, NoCacheFilter.STATIC_URL_PATTERNS).through(NoCacheFilter.class);\n\n    serve(&quot;/js/messages.js&quot;).with(I18nServlet.class);\n    serve(&quot;/login.jsp&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":10487879,"reputation":289,"user_id":8253322,"display_name":"Maher Ben Taleb Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657256708,"creation_date":1657205172,"question_id":72899887,"body_markdown":"I am trying to serve my login.jsp page but I always get page not found.\r\n\r\nthis is my **ConfigureServlet** method:\r\n```\r\n @Override\r\n  protected void configureServlets() {\r\n\r\n    // load application settings\r\n    AppSettings settings = AppSettings.get();\r\n\r\n    bind(ObjectMapper.class).toProvider(ObjectMapperProvider.class);\r\n\r\n    install(new JpaModule(jpaUnit, true, false));\r\n\r\n    install(\r\n        new ServletModule() {\r\n\r\n          @Override\r\n          protected void configureServlets() {\r\n            // check for CORS requests earlier\r\n            filter(&quot;*&quot;).through(CorsFilter.class);\r\n            // pre-session tenant filter should be come before PersistFilter\r\n            filter(&quot;*&quot;).through(PreSessionTenantFilter.class);\r\n            // order is important, PersistFilter must come first\r\n            filter(&quot;*&quot;).through(PersistFilter.class);\r\n            filter(&quot;*&quot;).through(AppFilter.class);\r\n            filter(&quot;*&quot;).through(GuiceShiroFilter.class);\r\n            // pre-session tenant filter should be come after shiro filter\r\n            filter(&quot;*&quot;).through(PostSessionTenantFilter.class);\r\n          }\r\n        });\r\n\r\n    for (Module module : getModules()) {\r\n      install(module);\r\n    }\r\n\r\n    filter(&quot;/js/*&quot;, NoCacheFilter.STATIC_URL_PATTERNS).through(NoCacheFilter.class);\r\n\r\n    serve(&quot;/js/messages.js&quot;).with(I18nServlet.class);\r\n    serve(&quot;/login.jsp&quot;);\r\n}\r\n```\r\nmy login page is under :\r\n**src : main : webapp: login.jsp**\r\n","title":"ServletModule : serve not finding jsp page","body":"<p>I am trying to serve my login.jsp page but I always get page not found.</p>\n<p>this is my <strong>ConfigureServlet</strong> method:</p>\n<pre><code> @Override\n  protected void configureServlets() {\n\n    // load application settings\n    AppSettings settings = AppSettings.get();\n\n    bind(ObjectMapper.class).toProvider(ObjectMapperProvider.class);\n\n    install(new JpaModule(jpaUnit, true, false));\n\n    install(\n        new ServletModule() {\n\n          @Override\n          protected void configureServlets() {\n            // check for CORS requests earlier\n            filter(&quot;*&quot;).through(CorsFilter.class);\n            // pre-session tenant filter should be come before PersistFilter\n            filter(&quot;*&quot;).through(PreSessionTenantFilter.class);\n            // order is important, PersistFilter must come first\n            filter(&quot;*&quot;).through(PersistFilter.class);\n            filter(&quot;*&quot;).through(AppFilter.class);\n            filter(&quot;*&quot;).through(GuiceShiroFilter.class);\n            // pre-session tenant filter should be come after shiro filter\n            filter(&quot;*&quot;).through(PostSessionTenantFilter.class);\n          }\n        });\n\n    for (Module module : getModules()) {\n      install(module);\n    }\n\n    filter(&quot;/js/*&quot;, NoCacheFilter.STATIC_URL_PATTERNS).through(NoCacheFilter.class);\n\n    serve(&quot;/js/messages.js&quot;).with(I18nServlet.class);\n    serve(&quot;/login.jsp&quot;);\n}\n</code></pre>\n<p>my login page is under :\n<strong>src : main : webapp: login.jsp</strong></p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":0,"creation_date":1657243058,"post_id":72905595,"comment_id":128770474,"body_markdown":"You can check how a custom `RecyclerView.Adapter` handles the click events of a custom `RecyclerView.ViewHolder` from a fragment using a custom click listener in [GeoPackageAdapter.java](https://github.com/ngageoint/geopackage-mapcache-android/blob/04f17b05e0ce8e0da0a3fdbd5d2a3c5bcc0b79c4/mapcache/src/main/java/mil/nga/mapcache/view/GeoPackageAdapter.java)","body":"You can check how a custom <code>RecyclerView.Adapter</code> handles the click events of a custom <code>RecyclerView.ViewHolder</code> from a fragment using a custom click listener in <a href=\"https://github.com/ngageoint/geopackage-mapcache-android/blob/04f17b05e0ce8e0da0a3fdbd5d2a3c5bcc0b79c4/mapcache/src/main/java/mil/nga/mapcache/view/GeoPackageAdapter.java\" rel=\"nofollow noreferrer\">GeoPackageAdapter.java</a>"}],"answers":[{"tags":[],"owner":{"account_id":25755033,"reputation":1,"user_id":19506868,"display_name":"ye luo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657243715,"creation_date":1657243715,"answer_id":72905792,"question_id":72905595,"body_markdown":"If you want to get the click event of recyclerview item in HomeFragment ,\r\n\r\nInterface It&#39;s a good choice\r\n\r\n\r\n    //RecycleAdapter\r\n\r\n    private RecyclerViewListener  recyclerViewListener  \r\n\r\n    public void setRecyclerViewListener(RecyclerViewListener  recyclerViewListener){\r\n    this.RecyclerViewListener  recyclerViewListener ;\r\n    }\r\n\r\n    public Interface RecyclerViewListener{\r\n    void onClick(View  view);\r\n    }\r\n\r\n\r\n\r\n\r\n    class MyViewHolder extends RecyclerView.ViewHolder{\r\n    ImageView imageView;\r\n    TextView recyclertext;\r\n    public MyViewHolder(@NonNull View itemView) {\r\n        super(itemView);\r\n\r\n     \r\n        recyclertext = itemView.findViewById(R.id.recycler_text);\r\n\r\n        recyclertext .setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n              if(recyclerViewListener  !=null)recyclerViewListener.onClick(v)\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    //HomeFragment\r\n\r\n    recycleAdapter.setRecyclerViewListener(new RecyclerViewListener{\r\n    @Override\r\n            public void onClick(View v) {\r\n            //todo\r\n\r\n            }\r\n    })\r\n\r\n","title":"Android RecyclerView - How to get items selected in Fragment class which calls CustomAdapter. I know how to use get(getAbsoluteAdapterPosition()","body":"<p>If you want to get the click event of recyclerview item in HomeFragment ,</p>\n<p>Interface It's a good choice</p>\n<pre><code>//RecycleAdapter\n\nprivate RecyclerViewListener  recyclerViewListener  \n\npublic void setRecyclerViewListener(RecyclerViewListener  recyclerViewListener){\nthis.RecyclerViewListener  recyclerViewListener ;\n}\n\npublic Interface RecyclerViewListener{\nvoid onClick(View  view);\n}\n\n\n\n\nclass MyViewHolder extends RecyclerView.ViewHolder{\nImageView imageView;\nTextView recyclertext;\npublic MyViewHolder(@NonNull View itemView) {\n    super(itemView);\n\n \n    recyclertext = itemView.findViewById(R.id.recycler_text);\n\n    recyclertext .setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n          if(recyclerViewListener  !=null)recyclerViewListener.onClick(v)\n\n        }\n    });\n\n}\n\n\n//HomeFragment\n\nrecycleAdapter.setRecyclerViewListener(new RecyclerViewListener{\n@Override\n        public void onClick(View v) {\n        //todo\n\n        }\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25192167,"reputation":339,"user_id":19374335,"display_name":"Praveen Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657256554,"creation_date":1657256554,"answer_id":72906850,"question_id":72905595,"body_markdown":"**Create Interface Class in your Project**\r\n\r\n    public interface ItemClick {\r\n    public void onClick(IconsModel IconsModel,int pos);\r\n    }\r\n \r\n**Interface class call your recyclerAdapter**\r\n\r\n    public class RecycleAdapter extends RecyclerView.Adapter&lt;RecycleAdapter.MyViewHolder&gt; {\r\n\r\n    Context context;\r\n    List&lt;IconsModel&gt; iconsList;\r\n    ItemClick click;\r\n\r\n    public TokensListAdapter(Context context, List&lt;IconsModel&gt; iconsList, ItemClick click) {\r\n        this.context = context;\r\n        this.tokensModelList = tokensModelList;\r\n        this.click = click;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public TokensListAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater =  LayoutInflater.from(parent.getContext());\r\n        View view = inflater.inflate(R.layout.R.layout.recycler_row_items,parent,false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull TokensListAdapter.ViewHolder holder, int position) {\r\n\r\n        IconsModel iconModel = iconsList.get(position);\r\n        holder.imageView.setImageResource(iconModel.getImageid());\r\n        holder.recyclertext.setText(iconModel.getIconName());\r\n\r\n\r\n        holder.itemView.setOnClickListener(v -&gt; {\r\n            click.onClick(iconModel,position);\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return iconsList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        ImageView imageView;\r\n        TextView recyclertext;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            imageView = itemView.findViewById(R.id.recycler_image);\r\n            recyclertext = itemView.findViewById(R.id.recycler_text);\r\n        }\r\n      }\r\n    }\r\n\r\n**Interface Class implement Your Fragment**\r\n\r\n    public class HomeFragment  extends Fragment implements ItemClick {\r\n\r\n    //adapter assign\r\n    recycleAdapter = new RecycleAdapter(getContext,list,this);\r\n\r\n **override method import your fragment**\r\n\r\n    @Override\r\n    public void onClick(ItemCLick click, int pos) {\r\n     Toast.makeText(getContext(), &quot;Clicked&quot; + pos, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n","title":"Android RecyclerView - How to get items selected in Fragment class which calls CustomAdapter. I know how to use get(getAbsoluteAdapterPosition()","body":"<p><strong>Create Interface Class in your Project</strong></p>\n<pre><code>public interface ItemClick {\npublic void onClick(IconsModel IconsModel,int pos);\n}\n</code></pre>\n<p><strong>Interface class call your recyclerAdapter</strong></p>\n<pre><code>public class RecycleAdapter extends RecyclerView.Adapter&lt;RecycleAdapter.MyViewHolder&gt; {\n\nContext context;\nList&lt;IconsModel&gt; iconsList;\nItemClick click;\n\npublic TokensListAdapter(Context context, List&lt;IconsModel&gt; iconsList, ItemClick click) {\n    this.context = context;\n    this.tokensModelList = tokensModelList;\n    this.click = click;\n}\n\n@NonNull\n@Override\npublic TokensListAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    LayoutInflater inflater =  LayoutInflater.from(parent.getContext());\n    View view = inflater.inflate(R.layout.R.layout.recycler_row_items,parent,false);\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull TokensListAdapter.ViewHolder holder, int position) {\n\n    IconsModel iconModel = iconsList.get(position);\n    holder.imageView.setImageResource(iconModel.getImageid());\n    holder.recyclertext.setText(iconModel.getIconName());\n\n\n    holder.itemView.setOnClickListener(v -&gt; {\n        click.onClick(iconModel,position);\n    });\n}\n\n@Override\npublic int getItemCount() {\n    return iconsList.size();\n}\n\npublic class ViewHolder extends RecyclerView.ViewHolder {\n    ImageView imageView;\n    TextView recyclertext;\n\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n        imageView = itemView.findViewById(R.id.recycler_image);\n        recyclertext = itemView.findViewById(R.id.recycler_text);\n    }\n  }\n}\n</code></pre>\n<p><strong>Interface Class implement Your Fragment</strong></p>\n<pre><code>public class HomeFragment  extends Fragment implements ItemClick {\n\n//adapter assign\nrecycleAdapter = new RecycleAdapter(getContext,list,this);\n</code></pre>\n<p><strong>override method import your fragment</strong></p>\n<pre><code>@Override\npublic void onClick(ItemCLick click, int pos) {\n Toast.makeText(getContext(), &quot;Clicked&quot; + pos, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n"}],"owner":{"account_id":10563957,"reputation":11,"user_id":7782800,"display_name":"appsy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657256554,"creation_date":1657241331,"question_id":72905595,"body_markdown":"Below recycler view  code is working fine and I can Toast message what recycler view position was selected in RecycleAdapter class. But I want to know how can I get what recycler position selected in HomeFragment class?. I tried to get position by setting onclick listener to Imageview and Textview but gives error as reference to Null. Basically I want to use get(getAbsoluteAdapterPosition() in HomeFragment class to know what item selected and navigate to another Fragment. get(getAbsoluteAdapterPosition() is working as expected inside RecycleAdapter.class\r\n\r\nbinding.recyclerview.setOnClickListener is not working in HomeFragment.class. no error but no when I click on recycler views this is not shooted.\r\n\r\ntxt.setOnClickListener is giving error as null refernce which makes sense. because this is inflated in Adapter class but trying to refer in HomeFragement class. So how can I get what selected in homefragment.class. Thanks in advance\r\n\r\n\r\nHomeFragment.class\r\n&#39;&#39;&#39;\r\n\r\n    public class HomeFragment extends Fragment {\r\n        HomeFragmentBinding binding;\r\n        @Override\r\n        public void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View v = inflater.inflate(R.id.home_fragment, container, false);\r\n            return v;\r\n        }\r\n    \r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n    \r\n            %% some code here %%\r\n            recycleAdapter = new RecycleAdapter(list);\r\n    \r\n            binding.recyclerview.setAdapter(recycleAdapter);\r\n    \r\n            TextView txt = (TextView) binding.getRoot().findViewById(R.id.recycler_text);\r\n            txt.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(getContext(), &quot;Clicked on Image&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n            binding.recyclerview.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(getContext(), &quot;RecyclerView clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                    Log.d(&quot;RecyclerViewclicked&quot;, &quot; --- &quot;);\r\n                }\r\n            });\r\n\r\n&#39;&#39;&#39;\r\n&gt;\r\nRecycleAdapter.class\r\n\r\n\r\n\r\n&#39;&#39;&#39;\r\n\r\n    public class RecycleAdapter extends RecyclerView.Adapter&lt;RecycleAdapter.MyViewHolder&gt;{\r\n        RecyclerRowItemsBinding binding;\r\n        List&lt;IconsModel&gt; iconsList;\r\n        public RecycleAdapter(List&lt;IconsModel&gt; iconslist) {\r\n            this.iconsList = iconslist;\r\n        }\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflator = LayoutInflater.from(parent.getContext());\r\n        View v = inflator.inflate(R.layout.recycler_row_items, parent, false);\r\n        MyViewHolder myviewholder = new MyViewHolder(v);\r\n        return myviewholder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        IconsModel iconModel = iconsList.get(position);\r\n        holder.imageView.setImageResource(iconModel.getImageid());\r\n        holder.recyclertext.setText(iconModel.getIconName());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        //return 20;\r\n        return iconsList.size();\r\n    }\r\n\r\n    class MyViewHolder extends RecyclerView.ViewHolder{\r\n        ImageView imageView;\r\n        TextView recyclertext;\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            imageView = itemView.findViewById(R.id.recycler_image);\r\n            recyclertext = itemView.findViewById(R.id.recycler_text);\r\n\r\n            itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    IconsModel iconModel = iconsList.get(getAbsoluteAdapterPosition());\r\n                    Toast.makeText(***itemView.getContext(), &quot;Clicked on &quot;+iconModel.getIconName()***, Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    ;\r\n}\r\n&#39;&#39;&#39;\r\n\r\nhome_fragment.xml\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/recyclerview&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            tools:layout_editor_absoluteX=&quot;1dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;1dp&quot;\r\n            app:layoutManager=&quot;androidx.recyclerview.widget.GridLayoutManager&quot;/&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n&#39;&#39;&#39;\r\nrecycler_row.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:cardCornerRadius=&quot;5dp&quot;\r\n        app:cardElevation=&quot;5dp&quot;\r\n        app:cardBackgroundColor=&quot;@color/home_bg_cardview&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;?attr/selectableItemBackground&quot;\r\n            android:backgroundTint=&quot;@color/home_bg_cardview&quot;\r\n            android:weightSum=&quot;2&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/recycler_image&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;120dp&quot;\r\n                android:layout_weight=&quot;0.5&quot;\r\n                app:srcCompat=&quot;?android:attr/actionModeWebSearchDrawable&quot;\r\n                tools:ignore=&quot;ContentDescription&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/recycler_text&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginBottom=&quot;29dp&quot;\r\n                android:layout_weight=&quot;1.5&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;Browse Items&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textSize=&quot;24sp&quot; /&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;","title":"Android RecyclerView - How to get items selected in Fragment class which calls CustomAdapter. I know how to use get(getAbsoluteAdapterPosition()","body":"<p>Below recycler view  code is working fine and I can Toast message what recycler view position was selected in RecycleAdapter class. But I want to know how can I get what recycler position selected in HomeFragment class?. I tried to get position by setting onclick listener to Imageview and Textview but gives error as reference to Null. Basically I want to use get(getAbsoluteAdapterPosition() in HomeFragment class to know what item selected and navigate to another Fragment. get(getAbsoluteAdapterPosition() is working as expected inside RecycleAdapter.class</p>\n<p>binding.recyclerview.setOnClickListener is not working in HomeFragment.class. no error but no when I click on recycler views this is not shooted.</p>\n<p>txt.setOnClickListener is giving error as null refernce which makes sense. because this is inflated in Adapter class but trying to refer in HomeFragement class. So how can I get what selected in homefragment.class. Thanks in advance</p>\n<p>HomeFragment.class\n'''</p>\n<pre><code>public class HomeFragment extends Fragment {\n    HomeFragmentBinding binding;\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View v = inflater.inflate(R.id.home_fragment, container, false);\n        return v;\n    }\n\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n\n        %% some code here %%\n        recycleAdapter = new RecycleAdapter(list);\n\n        binding.recyclerview.setAdapter(recycleAdapter);\n\n        TextView txt = (TextView) binding.getRoot().findViewById(R.id.recycler_text);\n        txt.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getContext(), &quot;Clicked on Image&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        binding.recyclerview.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getContext(), &quot;RecyclerView clicked&quot;, Toast.LENGTH_SHORT).show();\n                Log.d(&quot;RecyclerViewclicked&quot;, &quot; --- &quot;);\n            }\n        });\n</code></pre>\n<p>'''</p>\n<blockquote>\n</blockquote>\n<p>RecycleAdapter.class</p>\n<p>'''</p>\n<pre><code>public class RecycleAdapter extends RecyclerView.Adapter&lt;RecycleAdapter.MyViewHolder&gt;{\n    RecyclerRowItemsBinding binding;\n    List&lt;IconsModel&gt; iconsList;\n    public RecycleAdapter(List&lt;IconsModel&gt; iconslist) {\n        this.iconsList = iconslist;\n    }\n@NonNull\n@Override\npublic MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    LayoutInflater inflator = LayoutInflater.from(parent.getContext());\n    View v = inflator.inflate(R.layout.recycler_row_items, parent, false);\n    MyViewHolder myviewholder = new MyViewHolder(v);\n    return myviewholder;\n}\n\n@Override\npublic void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n    IconsModel iconModel = iconsList.get(position);\n    holder.imageView.setImageResource(iconModel.getImageid());\n    holder.recyclertext.setText(iconModel.getIconName());\n}\n\n@Override\npublic int getItemCount() {\n    //return 20;\n    return iconsList.size();\n}\n\nclass MyViewHolder extends RecyclerView.ViewHolder{\n    ImageView imageView;\n    TextView recyclertext;\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        imageView = itemView.findViewById(R.id.recycler_image);\n        recyclertext = itemView.findViewById(R.id.recycler_text);\n\n        itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                IconsModel iconModel = iconsList.get(getAbsoluteAdapterPosition());\n                Toast.makeText(***itemView.getContext(), &quot;Clicked on &quot;+iconModel.getIconName()***, Toast.LENGTH_SHORT).show();\n\n            }\n        });\n\n    }\n}\n\n;\n</code></pre>\n<p>}\n'''</p>\n<p>home_fragment.xml</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        tools:layout_editor_absoluteX=&quot;1dp&quot;\n        tools:layout_editor_absoluteY=&quot;1dp&quot;\n        app:layoutManager=&quot;androidx.recyclerview.widget.GridLayoutManager&quot;/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>'''\nrecycler_row.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_gravity=&quot;center&quot;\n    android:layout_margin=&quot;5dp&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:cardCornerRadius=&quot;5dp&quot;\n    app:cardElevation=&quot;5dp&quot;\n    app:cardBackgroundColor=&quot;@color/home_bg_cardview&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;?attr/selectableItemBackground&quot;\n        android:backgroundTint=&quot;@color/home_bg_cardview&quot;\n        android:weightSum=&quot;2&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/recycler_image&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;120dp&quot;\n            android:layout_weight=&quot;0.5&quot;\n            app:srcCompat=&quot;?android:attr/actionModeWebSearchDrawable&quot;\n            tools:ignore=&quot;ContentDescription&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/recycler_text&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginBottom=&quot;29dp&quot;\n            android:layout_weight=&quot;1.5&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;Browse Items&quot;\n            android:textAlignment=&quot;center&quot;\n            android:textSize=&quot;24sp&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653295460,"creation_date":1653295460,"answer_id":72345637,"question_id":72339562,"body_markdown":"&gt; I want to update the above record but when I update that it updates the parent (user) node instead of the child.\r\n\r\nThat&#39;s the expected behavior since your calling `updateChildren()` on the following reference:\r\n\r\n    FirebaseDatabase.getInstance().getReference().child(&quot;User&quot;);\r\n\r\nWhich points exactly to the `User` node. If you want to update the child, you have to add the key to the reference:\r\n\r\n    DatabaseReference db = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference childRef = db.child(&quot;User&quot;).child(&quot;-N2gd...8-6b&quot;); &#128072;\r\n    childRef.updateChildren(m).addOnSuccessListener(/* ... /*);\r\n\r\nSo the key to solving this problem is to add the key of the node in your reference. If you didn&#39;t store the key yet, then please check the answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/45199583/how-to-get-a-key-of-an-object-that-was-pushed-just-now-in-firebase","title":"Updating data in firebase realtime database","body":"<blockquote>\n<p>I want to update the above record but when I update that it updates the parent (user) node instead of the child.</p>\n</blockquote>\n<p>That's the expected behavior since your calling <code>updateChildren()</code> on the following reference:</p>\n<pre><code>FirebaseDatabase.getInstance().getReference().child(&quot;User&quot;);\n</code></pre>\n<p>Which points exactly to the <code>User</code> node. If you want to update the child, you have to add the key to the reference:</p>\n<pre><code>DatabaseReference db = FirebaseDatabase.getInstance().getReference();\nDatabaseReference childRef = db.child(&quot;User&quot;).child(&quot;-N2gd...8-6b&quot;); 👈\nchildRef.updateChildren(m).addOnSuccessListener(/* ... /*);\n</code></pre>\n<p>So the key to solving this problem is to add the key of the node in your reference. If you didn't store the key yet, then please check the answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/45199583/how-to-get-a-key-of-an-object-that-was-pushed-just-now-in-firebase\">How to get a key of an object that was pushed just now in Firebase?</a></li>\n</ul>\n"}],"owner":{"account_id":24300835,"reputation":21,"user_id":18244357,"display_name":"Fatima_Afzaal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657256112,"creation_date":1653238201,"question_id":72339562,"body_markdown":"I want to update the above record but when I update that it updates the parent (user) instead of the child.\r\n\r\n\r\n\r\n\r\n      `     button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                sendNotification();\r\n                Toast.makeText(MainActivity2.this, str, Toast.LENGTH_SHORT).show();\r\n                HashMap&lt;String, Object&gt; m = new HashMap&lt;String, Object&gt;();\r\n                Intent intent = getIntent();\r\n                String ID=intent.getStringExtra(&quot;counter&quot;);\r\n                String email = intent.getStringExtra(&quot;email&quot;);\r\n                m.put(&quot;ID&quot;,ID);\r\n                m.put(&quot;Email&quot;, email);\r\n                if(s!=&quot;Query&quot; &amp;&amp; s!=&quot;Resource&quot;)\r\n                m.put(&quot;Complain&quot;, t.getText().toString());\r\n                else if(s!=&quot;Complain&quot; &amp;&amp; s!=&quot;Resource&quot;)\r\n                m.put(&quot;Query&quot;, t.getText().toString());\r\n                else\r\n                m.put(&quot;Resources&quot;,t.getText().toString());\r\n                m.put(&quot;Time&quot;, &quot;&quot;);\r\n                m.put(&quot;Feedback&quot;, &quot;Pending&quot;);\r\n                FirebaseDatabase.getInstance().getReference().child(&quot;User&quot;).updateChildren(m).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void unused) {\r\n                        Toast.makeText(MainActivity2.this, &quot;Your data is successfully updated&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n            }\r\n        });`\r\n\r\nDB structure:  \r\n![DB structure][1]\r\n \r\n\r\n  [1]: https://i.stack.imgur.com/ha4GN.png","title":"Updating data in firebase realtime database","body":"<p>I want to update the above record but when I update that it updates the parent (user) instead of the child.</p>\n<pre><code>  `     button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            sendNotification();\n            Toast.makeText(MainActivity2.this, str, Toast.LENGTH_SHORT).show();\n            HashMap&lt;String, Object&gt; m = new HashMap&lt;String, Object&gt;();\n            Intent intent = getIntent();\n            String ID=intent.getStringExtra(&quot;counter&quot;);\n            String email = intent.getStringExtra(&quot;email&quot;);\n            m.put(&quot;ID&quot;,ID);\n            m.put(&quot;Email&quot;, email);\n            if(s!=&quot;Query&quot; &amp;&amp; s!=&quot;Resource&quot;)\n            m.put(&quot;Complain&quot;, t.getText().toString());\n            else if(s!=&quot;Complain&quot; &amp;&amp; s!=&quot;Resource&quot;)\n            m.put(&quot;Query&quot;, t.getText().toString());\n            else\n            m.put(&quot;Resources&quot;,t.getText().toString());\n            m.put(&quot;Time&quot;, &quot;&quot;);\n            m.put(&quot;Feedback&quot;, &quot;Pending&quot;);\n            FirebaseDatabase.getInstance().getReference().child(&quot;User&quot;).updateChildren(m).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                @Override\n                public void onSuccess(Void unused) {\n                    Toast.makeText(MainActivity2.this, &quot;Your data is successfully updated&quot;, Toast.LENGTH_SHORT).show();\n                }\n            });\n\n        }\n    });`\n</code></pre>\n<p>DB structure:<br />\n<img src=\"https://i.stack.imgur.com/ha4GN.png\" alt=\"DB structure\" /></p>\n"},{"tags":["java","spring-boot","eclipse","rest"],"comments":[{"owner":{"account_id":19554364,"reputation":29,"user_id":14309150,"display_name":"Satyabrata Sahoo"},"score":0,"creation_date":1657201882,"post_id":72898350,"comment_id":128758687,"body_markdown":"I did it my own.","body":"I did it my own."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1657202323,"post_id":72898350,"comment_id":128758891,"body_markdown":"If you figured out a solution, it&#39;s best to post it as an answer and accept, so people will be aware that it&#39;s answered.","body":"If you figured out a solution, it&#39;s best to post it as an answer and accept, so people will be aware that it&#39;s answered."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1657202516,"post_id":72898350,"comment_id":128758983,"body_markdown":"Tbh, your solution looks wrong for login check -  you will login student `A`, even if input password is wrong, but there exist student `B` with inputted password.","body":"Tbh, your solution looks wrong for login check -  you will login student <code>A</code>, even if input password is wrong, but there exist student <code>B</code> with inputted password."},{"owner":{"account_id":19554364,"reputation":29,"user_id":14309150,"display_name":"Satyabrata Sahoo"},"score":0,"creation_date":1657255029,"post_id":72898350,"comment_id":128772093,"body_markdown":"Correct, It is logging in with A&#39;s email and B&#39;s Password. How can I overcome this problem?","body":"Correct, It is logging in with A&#39;s email and B&#39;s Password. How can I overcome this problem?"}],"answers":[{"tags":[],"owner":{"account_id":19170942,"reputation":33,"user_id":14004705,"display_name":"Veidt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657199518,"creation_date":1657199518,"answer_id":72898453,"question_id":72898350,"body_markdown":"In your @Repository you need a `findByEmail` method, either with @Query annotation and your implementation or shipped with spring naming conventions(in that case read about Spring JpaRepository).\r\nThis method should return whole Student object and you can check its password.","title":"How can I check if email and password exists for same student?[Spring Boot API]","body":"<p>In your @Repository you need a <code>findByEmail</code> method, either with @Query annotation and your implementation or shipped with spring naming conventions(in that case read about Spring JpaRepository).\nThis method should return whole Student object and you can check its password.</p>\n"},{"tags":[],"owner":{"account_id":13689867,"reputation":66,"user_id":9877961,"display_name":"Jelly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657213248,"creation_date":1657213248,"answer_id":72901722,"question_id":72898350,"body_markdown":"Your solution seems wrong since it could return false positives.\r\n\r\nYour solution:\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public String login(@RequestBody Student student) {\r\n        if(studentService.existsByEmail(student.getEmail())) {\r\n            if(studentService.existsByPassword(student.getPassword())) {\r\n                return &quot;student Exists&quot;;\r\n            }\r\n            return &quot;Incorrect Password&quot;;\r\n        }\r\n        return &quot;Student doesn&#39;t exist with this email id:- &quot; + student.getEmail() ;\r\n    }\r\n\r\n\r\n\r\nLet&#39;s say there are 2 students, Mark with email address &quot;mark@student.com&quot; and password &quot;markymark&quot;, and Kim with email address &quot;kim@student.com&quot; and password &quot;kimmykimkim&quot;. \r\n\r\nIf your request specifies email &quot;mark@student.com&quot; and password &quot;kimmykimkim&quot; then the code in your solution would return &quot;student Exists&quot;. mark@student.com does indeed exist, however, their password is not &quot;kimmykimkim&quot;.\r\n\r\nYou could fix it by adding and using the following repository method:\r\n\r\n    existsByEmailAndPassword(String email, String password);\r\n\r\nIs this for a school assignment? If not you should consider storing your passwords encrypted. You&#39;d then first need to retrieve the password of a student, given their email address. Then you need to compare the plaintext password to the encrypted password using a password encoder. [This](https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html) spring security reference can be useful.","title":"How can I check if email and password exists for same student?[Spring Boot API]","body":"<p>Your solution seems wrong since it could return false positives.</p>\n<p>Your solution:</p>\n<pre><code>@PostMapping(&quot;/login&quot;)\npublic String login(@RequestBody Student student) {\n    if(studentService.existsByEmail(student.getEmail())) {\n        if(studentService.existsByPassword(student.getPassword())) {\n            return &quot;student Exists&quot;;\n        }\n        return &quot;Incorrect Password&quot;;\n    }\n    return &quot;Student doesn't exist with this email id:- &quot; + student.getEmail() ;\n}\n</code></pre>\n<p>Let's say there are 2 students, Mark with email address &quot;mark@student.com&quot; and password &quot;markymark&quot;, and Kim with email address &quot;kim@student.com&quot; and password &quot;kimmykimkim&quot;.</p>\n<p>If your request specifies email &quot;mark@student.com&quot; and password &quot;kimmykimkim&quot; then the code in your solution would return &quot;student Exists&quot;. mark@student.com does indeed exist, however, their password is not &quot;kimmykimkim&quot;.</p>\n<p>You could fix it by adding and using the following repository method:</p>\n<pre><code>existsByEmailAndPassword(String email, String password);\n</code></pre>\n<p>Is this for a school assignment? If not you should consider storing your passwords encrypted. You'd then first need to retrieve the password of a student, given their email address. Then you need to compare the plaintext password to the encrypted password using a password encoder. <a href=\"https://docs.spring.io/spring-security/reference/features/authentication/password-storage.html\" rel=\"nofollow noreferrer\">This</a> spring security reference can be useful.</p>\n"}],"owner":{"account_id":19554364,"reputation":29,"user_id":14309150,"display_name":"Satyabrata Sahoo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72901722,"answer_count":2,"score":0,"last_activity_date":1657255971,"creation_date":1657199114,"question_id":72898350,"body_markdown":"I have database table called student, contains fname, lname, city, email &amp; password. I want to create an Spring boot API, which will check email &amp; password for login purpose. I have tried something but this is checking email in total student table and password in total student table. \r\n\r\n**I want to find email first then check if given password exists for same email.**\r\n\r\nPlease help me over here.\r\nMy code in controller:- \r\n```\r\n@GetMapping(&quot;login/{email}/{pass}&quot;)\r\npublic String login(@PathVariable(&quot;email&quot;) String email, @PathVariable(&quot;pass&quot;) String pass) {\r\n\t\t\r\n\t\tBoolean isEmail = studentService.existsByEmail(student.getEmail());\r\n\t\tBoolean isPassword = studentService.existsByPassword(student.getPassword());\r\n\t\tif(isEmail) {\r\n\t\t\tif(isPassword) {\r\n\t\t\t\treturn &quot;student exists&quot;;\r\n\t\t\t}\r\n\t\t\treturn &quot;Not found&quot;;\r\n\t\t}\r\n\t\treturn &quot;Did Not found&quot;;\r\n\t}\r\n```\r\nFinal Solution:- (Special thanks to all.)\r\n```\r\n@PostMapping(&quot;/login&quot;)\r\n\tpublic String login(@RequestBody Student student) {\r\n\t\tif(studentService.existsByEmailAndPassword(student.getEmail(), student.getPassword())) {\r\n\t\t\tString resultString = &quot;Logged in Successfully&quot;;\r\n\t\t\treturn resultString;\r\n\t\t}\r\n\t\treturn &quot;Student doesn&#39;t exist with the given email id:- &quot; + student.getEmail();\r\n\t}\r\n```\r\n\r\n","title":"How can I check if email and password exists for same student?[Spring Boot API]","body":"<p>I have database table called student, contains fname, lname, city, email &amp; password. I want to create an Spring boot API, which will check email &amp; password for login purpose. I have tried something but this is checking email in total student table and password in total student table.</p>\n<p><strong>I want to find email first then check if given password exists for same email.</strong></p>\n<p>Please help me over here.\nMy code in controller:-</p>\n<pre><code>@GetMapping(&quot;login/{email}/{pass}&quot;)\npublic String login(@PathVariable(&quot;email&quot;) String email, @PathVariable(&quot;pass&quot;) String pass) {\n        \n        Boolean isEmail = studentService.existsByEmail(student.getEmail());\n        Boolean isPassword = studentService.existsByPassword(student.getPassword());\n        if(isEmail) {\n            if(isPassword) {\n                return &quot;student exists&quot;;\n            }\n            return &quot;Not found&quot;;\n        }\n        return &quot;Did Not found&quot;;\n    }\n</code></pre>\n<p>Final Solution:- (Special thanks to all.)</p>\n<pre><code>@PostMapping(&quot;/login&quot;)\n    public String login(@RequestBody Student student) {\n        if(studentService.existsByEmailAndPassword(student.getEmail(), student.getPassword())) {\n            String resultString = &quot;Logged in Successfully&quot;;\n            return resultString;\n        }\n        return &quot;Student doesn't exist with the given email id:- &quot; + student.getEmail();\n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","blob","jbpm"],"comments":[{"owner":{"account_id":8888106,"reputation":1254,"user_id":6635754,"display_name":"Abbas Kararawala"},"score":1,"creation_date":1657815866,"post_id":72906717,"comment_id":128905540,"body_markdown":"which version of jbpm do you target for your upgrade FYI latest jbpm support hibernate - 5.3.20.Final - reference: https://github.com/kiegroup/droolsjbpm-build-bootstrap/blob/main/pom.xml","body":"which version of jbpm do you target for your upgrade FYI latest jbpm support hibernate - 5.3.20.Final - reference: <a href=\"https://github.com/kiegroup/droolsjbpm-build-bootstrap/blob/main/pom.xml\" rel=\"nofollow noreferrer\">github.com/kiegroup/droolsjbpm-build-bootstrap/blob/main/&hellip;</a>"},{"owner":{"account_id":49179,"reputation":297,"user_id":146355,"accept_rate":15,"display_name":"Maria"},"score":0,"creation_date":1658225931,"post_id":72906717,"comment_id":128993321,"body_markdown":"We are using JBPM version &quot;5.4.0.Final&quot; &amp; Drools version &quot;5.5.0.Final&quot;. Which version we should choose for the upgrade activity(latest or version lower than the latest). Do we have any scripts to upgrade from &quot;5.4.0.Final&quot; to the suggested version? if so could you share those details?","body":"We are using JBPM version &quot;5.4.0.Final&quot; &amp; Drools version &quot;5.5.0.Final&quot;. Which version we should choose for the upgrade activity(latest or version lower than the latest). Do we have any scripts to upgrade from &quot;5.4.0.Final&quot; to the suggested version? if so could you share those details?"},{"owner":{"account_id":49179,"reputation":297,"user_id":146355,"accept_rate":15,"display_name":"Maria"},"score":0,"creation_date":1658425111,"post_id":72906717,"comment_id":129054386,"body_markdown":"Do we have any scripts to upgrade from &quot;JBPM 5.4.0.Final&quot; to the latest version? if so could you share those details?","body":"Do we have any scripts to upgrade from &quot;JBPM 5.4.0.Final&quot; to the latest version? if so could you share those details?"},{"owner":{"account_id":8888106,"reputation":1254,"user_id":6635754,"display_name":"Abbas Kararawala"},"score":0,"creation_date":1658474758,"post_id":72906717,"comment_id":129064577,"body_markdown":"db scripts you can find here - https://github.com/kiegroup/jbpm/tree/main/jbpm-db-scripts/src/main/resources/db : apply till the version you&#39;re targetting for update. i would suggest to downgrade your hibernate version to what is currently supported","body":"db scripts you can find here - <a href=\"https://github.com/kiegroup/jbpm/tree/main/jbpm-db-scripts/src/main/resources/db\" rel=\"nofollow noreferrer\">github.com/kiegroup/jbpm/tree/main/jbpm-db-scripts/src/main/&zwnj;&#8203;&hellip;</a> : apply till the version you&#39;re targetting for update. i would suggest to downgrade your hibernate version to what is currently supported"}],"owner":{"account_id":49179,"reputation":297,"user_id":146355,"accept_rate":15,"display_name":"Maria"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657255678,"creation_date":1657255264,"question_id":72906717,"body_markdown":"We have migrated spring (from &quot;3.1.1.RELEASE&quot; to &quot;5.3.20&quot;) &amp; hibernate (&quot;3.6.9.Final&quot; to &quot;5.6.9.Final&quot;) whereas JBPM remains same version(&quot;5.4.0.Final&quot;). Due to hibernate upgrade the blob type in the file &quot;ProcessInstanceInfo.hbm.xml&quot; doesn&#39;t support it. So I have changed the blob type from &quot;org.hibernate.type.PrimitiveByteArrayBlobType&quot; to &quot;org.hibernate.type.MaterializedBlobType&quot; in ProcessInstanceInfo.hbm.xml. After the change, the &quot;@Pre-Update&quot; method doesn&#39;t get invoked due to which the process instance blob is not updated (Set as NULL in the database) which impacts the task creation i.e task cannot be created. We have planned to upgrade the JBPM later.","title":"Pre-Update method doesn&#39;t get invoked","body":"<p>We have migrated spring (from &quot;3.1.1.RELEASE&quot; to &quot;5.3.20&quot;) &amp; hibernate (&quot;3.6.9.Final&quot; to &quot;5.6.9.Final&quot;) whereas JBPM remains same version(&quot;5.4.0.Final&quot;). Due to hibernate upgrade the blob type in the file &quot;ProcessInstanceInfo.hbm.xml&quot; doesn't support it. So I have changed the blob type from &quot;org.hibernate.type.PrimitiveByteArrayBlobType&quot; to &quot;org.hibernate.type.MaterializedBlobType&quot; in ProcessInstanceInfo.hbm.xml. After the change, the &quot;@Pre-Update&quot; method doesn't get invoked due to which the process instance blob is not updated (Set as NULL in the database) which impacts the task creation i.e task cannot be created. We have planned to upgrade the JBPM later.</p>\n"},{"tags":["java","websphere","ibm-mq"],"answers":[{"tags":[],"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657253081,"creation_date":1656634776,"answer_id":72823233,"question_id":72820088,"body_markdown":"I can see two problems in your code.\r\n1) There is no connection.Start() method call after setting message listener. Without calling connection.Start method, message delivery will not start. I wonder how application received message(s) without Start().\r\n\r\n2) Your application is exiting immediately after \r\n\r\n`&quot;System.out.println(&quot;=======connection happened=========&quot;);&quot;`. \r\n\r\nSince onMessage method gets called on a separate thread, you need to make your main thread wait till message processing is complete.\r\n\r\nTweak your applications to something like:\r\n\r\n       //... other code\r\n\r\n       receiver.setMessageListener(this);\r\n       con.start();\r\n       System.out.println(&quot;=======connection happened=========&quot;);\r\n       // Wait for a key to be hit.\r\n       System.in.read();\r\n\r\nHope this helps.\r\n\r\n\r\n**Further updates 8th July:**\r\nYou have two threads in your application:\r\n1) Main thread that creates connection, consumer and a message listener. Attaches the message listener to a consumer. \r\n2) Message listner thread - this is invoked by MQ libraries to deliver messages to your application.\r\n\r\nThe main thread controls the life cycle of your application. If that ends, all other threads in your application also end. Dont expect the message listner thread to run even after main thread ends. This is basic threading concepts, nothing specific to message listener. There is no issue here with message listener, it is working as designed.\r\n\r\nJMS is an API specification only, not an implementation. Many vendors like MQ JMS implement the specifications. \r\n\r\nInstead of using asynchronous consumer, you might want to use synchronous consumer.recieve(&lt;timeout&gt;) or consumer.receiveNoWait() methods on the main thread itself. These APIs retrieve messages if available or return null if there are no messages. You can check for null and exit.\r\n\r\nHope this helps.","title":"Unable to consume messages or only one message is getting retrieved while connecting to IBM MQ asynchronous?","body":"<p>I can see two problems in your code.</p>\n<ol>\n<li><p>There is no connection.Start() method call after setting message listener. Without calling connection.Start method, message delivery will not start. I wonder how application received message(s) without Start().</p>\n</li>\n<li><p>Your application is exiting immediately after</p>\n</li>\n</ol>\n<p><code>&quot;System.out.println(&quot;=======connection happened=========&quot;);&quot;</code>.</p>\n<p>Since onMessage method gets called on a separate thread, you need to make your main thread wait till message processing is complete.</p>\n<p>Tweak your applications to something like:</p>\n<pre><code>   //... other code\n\n   receiver.setMessageListener(this);\n   con.start();\n   System.out.println(&quot;=======connection happened=========&quot;);\n   // Wait for a key to be hit.\n   System.in.read();\n</code></pre>\n<p>Hope this helps.</p>\n<p><strong>Further updates 8th July:</strong>\nYou have two threads in your application:</p>\n<ol>\n<li>Main thread that creates connection, consumer and a message listener. Attaches the message listener to a consumer.</li>\n<li>Message listner thread - this is invoked by MQ libraries to deliver messages to your application.</li>\n</ol>\n<p>The main thread controls the life cycle of your application. If that ends, all other threads in your application also end. Dont expect the message listner thread to run even after main thread ends. This is basic threading concepts, nothing specific to message listener. There is no issue here with message listener, it is working as designed.</p>\n<p>JMS is an API specification only, not an implementation. Many vendors like MQ JMS implement the specifications.</p>\n<p>Instead of using asynchronous consumer, you might want to use synchronous consumer.recieve() or consumer.receiveNoWait() methods on the main thread itself. These APIs retrieve messages if available or return null if there are no messages. You can check for null and exit.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":17993658,"reputation":51,"user_id":13077202,"display_name":"Prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657255516,"creation_date":1656611564,"question_id":72820088,"body_markdown":"I had written a java code to consume messages from IBM MQ.. but while executing the code some times only one message is getting consumed and the process is stopping .. some times no messages are not getting consumed at all.. i  had written an asynchronous connection using setMessageListener() but i am not sure where the program is getting wrong. The below code \r\n\r\n```\r\n\r\npublic class MQConnectivity implements MessageListener {\r\n\t\r\n\tMQQueueConnectionFactory factory = new MQQueueConnectionFactory();\r\n\tQueueConnection con;\r\n\tQueue queue;\r\n\tQueueSession session;\r\n\tQueueReceiver receiver;\r\n\t\r\n\tpublic void init() {\r\n\t\ttry {\r\n\t\t\tfactory.setHostName(&quot;******&quot;);\r\n\t\t\tfactory.setPort(123);\r\n\t\t\tfactory.setChannel(&quot;Channel1&quot;);\r\n\t\t\tfactory.setQueueManager(&quot;queue_manager&quot;);\r\n\t\t\tfactory.setTransportType(new Integer(WMQConstants.WMQ_CM_CLIENT));\r\n\t\t\tcon=factory.createQueueConnection(&quot;user1&quot;,&quot; password1&quot;);\r\n\t\t\tqueue= new MQQueue(&quot;myQueue&quot;);\r\n\t\t\tsession=con.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\t\t\treceiver=session.createReceiver(queue);\r\n\t\t\treceiver.setMessageListener(this);\r\n\t\t\tSystem.out.println(&quot;=======connection happened=========&quot;);\r\n            con.start();\r\n            System.out.println(&quot;=======connection started=========&quot;);\r\n\t\t}catch(Exception ex) {\r\n\t\t\tSystem.out.println(&quot;exception is : &quot;+ex);\r\n\t\t}\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tnew MQConnectivity().init();\r\n\r\n\t}\r\n\t@Override\r\n\tpublic void onMessage(Message msg) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\ttry {\r\n\t\tSystem.out.println(&quot;Inside onMessage method&quot;);\r\n\t\tTextMessage txtMsg=(TextMessage)msg;\r\n\t\tSystem.out.println(txtMsg.getText());\r\n\t\t}catch(Exception ex) {\r\n\t\t\tSystem.out.println(&quot;error in onMessage&quot;+ex);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n   \r\n```\r\n ","title":"Unable to consume messages or only one message is getting retrieved while connecting to IBM MQ asynchronous?","body":"<p>I had written a java code to consume messages from IBM MQ.. but while executing the code some times only one message is getting consumed and the process is stopping .. some times no messages are not getting consumed at all.. i  had written an asynchronous connection using setMessageListener() but i am not sure where the program is getting wrong. The below code</p>\n<pre><code>\npublic class MQConnectivity implements MessageListener {\n    \n    MQQueueConnectionFactory factory = new MQQueueConnectionFactory();\n    QueueConnection con;\n    Queue queue;\n    QueueSession session;\n    QueueReceiver receiver;\n    \n    public void init() {\n        try {\n            factory.setHostName(&quot;******&quot;);\n            factory.setPort(123);\n            factory.setChannel(&quot;Channel1&quot;);\n            factory.setQueueManager(&quot;queue_manager&quot;);\n            factory.setTransportType(new Integer(WMQConstants.WMQ_CM_CLIENT));\n            con=factory.createQueueConnection(&quot;user1&quot;,&quot; password1&quot;);\n            queue= new MQQueue(&quot;myQueue&quot;);\n            session=con.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\n            receiver=session.createReceiver(queue);\n            receiver.setMessageListener(this);\n            System.out.println(&quot;=======connection happened=========&quot;);\n            con.start();\n            System.out.println(&quot;=======connection started=========&quot;);\n        }catch(Exception ex) {\n            System.out.println(&quot;exception is : &quot;+ex);\n        }\n    }\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        new MQConnectivity().init();\n\n    }\n    @Override\n    public void onMessage(Message msg) {\n        // TODO Auto-generated method stub\n        try {\n        System.out.println(&quot;Inside onMessage method&quot;);\n        TextMessage txtMsg=(TextMessage)msg;\n        System.out.println(txtMsg.getText());\n        }catch(Exception ex) {\n            System.out.println(&quot;error in onMessage&quot;+ex);\n        }\n    }\n\n}\n\n   \n</code></pre>\n"},{"tags":["java","spring","spring-boot","swagger-2.0","springfox"],"comments":[{"owner":{"account_id":6410870,"reputation":1740,"user_id":4970679,"display_name":"ahuemmer"},"score":1,"creation_date":1657085548,"post_id":72870322,"comment_id":128722426,"body_markdown":"Welcome to SO. It would be nice if you would not just throw your code and error message at us, but also write a few sentences about what you want to achieve and what you tried so far. Also, please make use of the formatting possibilities we provide also for your error logs.","body":"Welcome to SO. It would be nice if you would not just throw your code and error message at us, but also write a few sentences about what you want to achieve and what you tried so far. Also, please make use of the formatting possibilities we provide also for your error logs."},{"owner":{"account_id":16249938,"reputation":9,"user_id":11734152,"display_name":"Honey Bee"},"score":0,"creation_date":1657254879,"post_id":72870322,"comment_id":128772068,"body_markdown":"Thanks for letting me know. I found the fix. I&#39;ve given it below","body":"Thanks for letting me know. I found the fix. I&#39;ve given it below"}],"answers":[{"tags":[],"owner":{"account_id":16249938,"reputation":9,"user_id":11734152,"display_name":"Honey Bee"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1657255012,"creation_date":1657255012,"answer_id":72906688,"question_id":72870322,"body_markdown":"For the Spring Boot based projects, it&#39;s enough to add a single springfox-boot-starter dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Failed to process import candidates for configuration class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]","body":"<p>For the Spring Boot based projects, it's enough to add a single springfox-boot-starter dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16249938,"reputation":9,"user_id":11734152,"display_name":"Honey Bee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4392,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72906688,"answer_count":1,"score":1,"last_activity_date":1657255198,"creation_date":1657027858,"question_id":72870322,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package com.nissan.common.config;\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n    import springfox.documentation.builders.ApiInfoBuilder;\r\n    import springfox.documentation.builders.PathSelectors;\r\n    import springfox.documentation.builders.RequestHandlerSelectors;\r\n    import springfox.documentation.service.ApiInfo;\r\n    import springfox.documentation.service.Contact;\r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spring.web.plugins.Docket;\r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    @ComponentScan\r\n    @Slf4j\r\n    public class SwaggerConfig {\r\n\r\n      @Value(&quot;${swagger.api.controller.basepackage}&quot;)\r\n      private String basePackage;\r\n\r\n\r\n\r\n      @Bean\r\n      public Docket swaggerApi() {\r\n        log.info(&quot;Swagger Api loaded&quot;);\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n            .select()\r\n            .apis(RequestHandlerSelectors.basePackage(basePackage))\r\n            .paths(PathSelectors.any())\r\n            .build();\r\n      }\r\n\r\n      \r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n2022-07-05 17:24:53.527  WARN 6444 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]; nested exception is java.io.FileNotFoundException: class path resource [springfox/documentation/spi/service/ResourceGroupingStrategy.class] cannot be opened because it does not exist\r\n2022-07-05 17:24:53.536  INFO 6444 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-07-05 17:24:53.559 ERROR 6444 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]; nested exception is java.io.FileNotFoundException: class path resource [springfox/documentation/spi/service/ResourceGroupingStrategy.class] cannot be opened because it does not exist\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:610) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:311) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:600) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:311) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:304) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.12.jar:5.3.12]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) [spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) [spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) [spring-boot-2.5.6.jar:2.5.6]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) [spring-boot-2.5.6.jar:2.5.6]","title":"Failed to process import candidates for configuration class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package com.nissan.common.config;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport springfox.documentation.builders.ApiInfoBuilder;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.service.ApiInfo;\nimport springfox.documentation.service.Contact;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\n@ComponentScan\n@Slf4j\npublic class SwaggerConfig {\n\n  @Value(\"${swagger.api.controller.basepackage}\")\n  private String basePackage;\n\n\n\n  @Bean\n  public Docket swaggerApi() {\n    log.info(\"Swagger Api loaded\");\n    return new Docket(DocumentationType.SWAGGER_2)\n        .select()\n        .apis(RequestHandlerSelectors.basePackage(basePackage))\n        .paths(PathSelectors.any())\n        .build();\n  }\n\n  \n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>2022-07-05 17:24:53.527  WARN 6444 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]; nested exception is java.io.FileNotFoundException: class path resource [springfox/documentation/spi/service/ResourceGroupingStrategy.class] cannot be opened because it does not exist\n2022-07-05 17:24:53.536  INFO 6444 --- [           main] ConditionEvaluationReportLoggingListener :</p>\n<p>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-07-05 17:24:53.559 ERROR 6444 --- [           main] o.s.boot.SpringApplication               : Application run failed</p>\n<p>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]; nested exception is java.io.FileNotFoundException: class path resource [springfox/documentation/spi/service/ResourceGroupingStrategy.class] cannot be opened because it does not exist\nat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:610) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:311) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:600) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:311) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:304) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.12.jar:5.3.12]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.6.jar:2.5.6]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) [spring-boot-2.5.6.jar:2.5.6]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) [spring-boot-2.5.6.jar:2.5.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.5.6.jar:2.5.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) [spring-boot-2.5.6.jar:2.5.6]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) [spring-boot-2.5.6.jar:2.5.6]</p>\n"},{"tags":["java","stream"],"answers":[{"tags":[],"owner":{"account_id":9686576,"reputation":526,"user_id":7186177,"display_name":"Tod Harter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657255161,"creation_date":1657255161,"answer_id":72906703,"question_id":72906646,"body_markdown":"I think it depends. If you have one instance of using this technique, then it probably makes sense to simply use an functional interface and a wrap function that are part of the class which utilizes it. If you are using this same pattern in several places (and they all have the same function interface signature) then you can define the functional interface at the package level and put the wrap function in a utility class.","title":"Where I define wrapper function and functional interface for exception handling on stream","body":"<p>I think it depends. If you have one instance of using this technique, then it probably makes sense to simply use an functional interface and a wrap function that are part of the class which utilizes it. If you are using this same pattern in several places (and they all have the same function interface signature) then you can define the functional interface at the package level and put the wrap function in a utility class.</p>\n"}],"owner":{"account_id":12612419,"reputation":91,"user_id":9171035,"display_name":"sjpark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1657270909,"accepted_answer_id":72906703,"answer_count":1,"score":-1,"last_activity_date":1657255161,"creation_date":1657254434,"question_id":72906646,"body_markdown":"While using streams, I learned how to handle exceptions using functional interfaces and wrapper functions.\r\n\r\nIf so, what is the best way to structure the package?\r\n\r\nIs it defined together in the class where stream is used? Or should I create a separate common class and define the wrapper function in it?\r\n\r\nThanks!","title":"Where I define wrapper function and functional interface for exception handling on stream","body":"<p>While using streams, I learned how to handle exceptions using functional interfaces and wrapper functions.</p>\n<p>If so, what is the best way to structure the package?</p>\n<p>Is it defined together in the class where stream is used? Or should I create a separate common class and define the wrapper function in it?</p>\n<p>Thanks!</p>\n"},{"tags":["java","json","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657199725,"creation_date":1657199208,"answer_id":72898368,"question_id":72897154,"body_markdown":"Json you posted is not valid. I guess it should look like this :\r\n\r\n\r\n    {\r\n      &quot;Application&quot;: {\r\n        &quot;DCode&quot;: &quot;unsecliverelease&quot;,\r\n        &quot;PType&quot;: &quot;DA&quot;,\r\n        &quot;AId&quot;: &quot;230391106&quot;,\r\n        &quot;ApNO&quot;: &quot;NTFLbjOF9fXI15AF1YiC&quot;,\r\n        &quot;crd&quot;: {\r\n          &quot;cate&quot;: &quot;lion&quot;,\r\n          &quot;ProductCode&quot;: &quot;lion&quot;\r\n        },\r\n        &quot;ld&quot;: {\r\n          &quot;dm&quot;: {\r\n            &quot;sn&quot;: &quot;3&quot;,\r\n            &quot;RandomNumbers&quot;: {\r\n              &quot;RandomNumber01&quot;: &quot;319&quot;,\r\n              &quot;RandomNumber02&quot;: &quot;731&quot;,\r\n              &quot;RandomNumber03&quot;: &quot;520&quot;,\r\n              &quot;RandomNumber04&quot;: &quot;102&quot;,\r\n              &quot;RandomNumber05&quot;: &quot;678&quot;\r\n            },\r\n            &quot;Request&quot;: {\r\n              &quot;Name&quot;: &quot;MSE&quot;,\r\n              &quot;ACount&quot;: &quot;1&quot;,\r\n              &quot;BrandInd&quot;: &quot;wert&quot;,\r\n              &quot;CID&quot;: &quot;123456789&quot;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    \r\n\r\nWhat you can do is the following:\r\n\r\n    String json =&quot;{\\n&quot; +\r\n                         &quot;  \\&quot;Application\\&quot;: {\\n&quot; +\r\n                         &quot;    \\&quot;DCode\\&quot;: \\&quot;unsecliverelease\\&quot;,\\n&quot; +\r\n                         &quot;    \\&quot;PType\\&quot;: \\&quot;DA\\&quot;,\\n&quot; +\r\n                         &quot;    \\&quot;AId\\&quot;: \\&quot;230391106\\&quot;,\\n&quot; +\r\n                         &quot;    \\&quot;ApNO\\&quot;: \\&quot;NTFLbjOF9fXI15AF1YiC\\&quot;,\\n&quot; +\r\n                         &quot;    \\&quot;crd\\&quot;: {\\n&quot; +\r\n                         &quot;      \\&quot;cate\\&quot;: \\&quot;lion\\&quot;,\\n&quot; +\r\n                         &quot;      \\&quot;ProductCode\\&quot;: \\&quot;lion\\&quot;\\n&quot; +\r\n                         &quot;    },\\n&quot; +\r\n                         &quot;    \\&quot;ld\\&quot;: {\\n&quot; +\r\n                         &quot;      \\&quot;dm\\&quot;: {\\n&quot; +\r\n                         &quot;        \\&quot;sn\\&quot;: \\&quot;3\\&quot;,\\n&quot; +\r\n                         &quot;        \\&quot;RandomNumbers\\&quot;: {\\n&quot; +\r\n                         &quot;          \\&quot;RandomNumber01\\&quot;: \\&quot;319\\&quot;,\\n&quot; +\r\n                         &quot;          \\&quot;RandomNumber02\\&quot;: \\&quot;731\\&quot;,\\n&quot; +\r\n                         &quot;          \\&quot;RandomNumber03\\&quot;: \\&quot;520\\&quot;,\\n&quot; +\r\n                         &quot;          \\&quot;RandomNumber04\\&quot;: \\&quot;102\\&quot;,\\n&quot; +\r\n                         &quot;          \\&quot;RandomNumber05\\&quot;: \\&quot;678\\&quot;\\n&quot; +\r\n                         &quot;        },\\n&quot; +\r\n                         &quot;        \\&quot;Request\\&quot;: {\\n&quot; +\r\n                         &quot;          \\&quot;Name\\&quot;: \\&quot;MSE\\&quot;,\\n&quot; +\r\n                         &quot;          \\&quot;ACount\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                         &quot;          \\&quot;BrandInd\\&quot;: \\&quot;wert\\&quot;,\\n&quot; +\r\n                         &quot;          \\&quot;CID\\&quot;: \\&quot;123456789\\&quot;\\n&quot; +\r\n                         &quot;        }\\n&quot; +\r\n                         &quot;      }\\n&quot; +\r\n                         &quot;    }\\n&quot; +\r\n                         &quot;  }\\n&quot; +\r\n                         &quot;}&quot;;\r\n        \r\n        \r\n\r\n    CRequestModel cRequestModel = new CRequestModel();\r\n        cRequestModel.setRequestJSON(json);\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        JsonNode actualObj = mapper.readTree(json);\r\n        JsonNode cidNode = actualObj.get(&quot;Application&quot;).get(&quot;ld&quot;).get(&quot;dm&quot;).get(&quot;Request&quot;).get(&quot;CID&quot;);\r\n        int cid= mapper.treeToValue(cidNode,Integer.class);\r\n        cRequestModel.setCid(cid);\r\n\r\n**NOTE**: The assumption is that the json you get will always have structure above and propeties: ld, dm, Request,CID. (order doesn&#39;t matter)","title":"From a nested JSON String getting a specific key&#39;s value","body":"<p>Json you posted is not valid. I guess it should look like this :</p>\n<pre><code>{\n  &quot;Application&quot;: {\n    &quot;DCode&quot;: &quot;unsecliverelease&quot;,\n    &quot;PType&quot;: &quot;DA&quot;,\n    &quot;AId&quot;: &quot;230391106&quot;,\n    &quot;ApNO&quot;: &quot;NTFLbjOF9fXI15AF1YiC&quot;,\n    &quot;crd&quot;: {\n      &quot;cate&quot;: &quot;lion&quot;,\n      &quot;ProductCode&quot;: &quot;lion&quot;\n    },\n    &quot;ld&quot;: {\n      &quot;dm&quot;: {\n        &quot;sn&quot;: &quot;3&quot;,\n        &quot;RandomNumbers&quot;: {\n          &quot;RandomNumber01&quot;: &quot;319&quot;,\n          &quot;RandomNumber02&quot;: &quot;731&quot;,\n          &quot;RandomNumber03&quot;: &quot;520&quot;,\n          &quot;RandomNumber04&quot;: &quot;102&quot;,\n          &quot;RandomNumber05&quot;: &quot;678&quot;\n        },\n        &quot;Request&quot;: {\n          &quot;Name&quot;: &quot;MSE&quot;,\n          &quot;ACount&quot;: &quot;1&quot;,\n          &quot;BrandInd&quot;: &quot;wert&quot;,\n          &quot;CID&quot;: &quot;123456789&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>What you can do is the following:</p>\n<pre><code>String json =&quot;{\\n&quot; +\n                     &quot;  \\&quot;Application\\&quot;: {\\n&quot; +\n                     &quot;    \\&quot;DCode\\&quot;: \\&quot;unsecliverelease\\&quot;,\\n&quot; +\n                     &quot;    \\&quot;PType\\&quot;: \\&quot;DA\\&quot;,\\n&quot; +\n                     &quot;    \\&quot;AId\\&quot;: \\&quot;230391106\\&quot;,\\n&quot; +\n                     &quot;    \\&quot;ApNO\\&quot;: \\&quot;NTFLbjOF9fXI15AF1YiC\\&quot;,\\n&quot; +\n                     &quot;    \\&quot;crd\\&quot;: {\\n&quot; +\n                     &quot;      \\&quot;cate\\&quot;: \\&quot;lion\\&quot;,\\n&quot; +\n                     &quot;      \\&quot;ProductCode\\&quot;: \\&quot;lion\\&quot;\\n&quot; +\n                     &quot;    },\\n&quot; +\n                     &quot;    \\&quot;ld\\&quot;: {\\n&quot; +\n                     &quot;      \\&quot;dm\\&quot;: {\\n&quot; +\n                     &quot;        \\&quot;sn\\&quot;: \\&quot;3\\&quot;,\\n&quot; +\n                     &quot;        \\&quot;RandomNumbers\\&quot;: {\\n&quot; +\n                     &quot;          \\&quot;RandomNumber01\\&quot;: \\&quot;319\\&quot;,\\n&quot; +\n                     &quot;          \\&quot;RandomNumber02\\&quot;: \\&quot;731\\&quot;,\\n&quot; +\n                     &quot;          \\&quot;RandomNumber03\\&quot;: \\&quot;520\\&quot;,\\n&quot; +\n                     &quot;          \\&quot;RandomNumber04\\&quot;: \\&quot;102\\&quot;,\\n&quot; +\n                     &quot;          \\&quot;RandomNumber05\\&quot;: \\&quot;678\\&quot;\\n&quot; +\n                     &quot;        },\\n&quot; +\n                     &quot;        \\&quot;Request\\&quot;: {\\n&quot; +\n                     &quot;          \\&quot;Name\\&quot;: \\&quot;MSE\\&quot;,\\n&quot; +\n                     &quot;          \\&quot;ACount\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\n                     &quot;          \\&quot;BrandInd\\&quot;: \\&quot;wert\\&quot;,\\n&quot; +\n                     &quot;          \\&quot;CID\\&quot;: \\&quot;123456789\\&quot;\\n&quot; +\n                     &quot;        }\\n&quot; +\n                     &quot;      }\\n&quot; +\n                     &quot;    }\\n&quot; +\n                     &quot;  }\\n&quot; +\n                     &quot;}&quot;;\n    \n    \n\nCRequestModel cRequestModel = new CRequestModel();\n    cRequestModel.setRequestJSON(json);\n\n    ObjectMapper mapper = new ObjectMapper();\n    JsonNode actualObj = mapper.readTree(json);\n    JsonNode cidNode = actualObj.get(&quot;Application&quot;).get(&quot;ld&quot;).get(&quot;dm&quot;).get(&quot;Request&quot;).get(&quot;CID&quot;);\n    int cid= mapper.treeToValue(cidNode,Integer.class);\n    cRequestModel.setCid(cid);\n</code></pre>\n<p><strong>NOTE</strong>: The assumption is that the json you get will always have structure above and propeties: ld, dm, Request,CID. (order doesn't matter)</p>\n"},{"tags":[],"owner":{"account_id":13007077,"reputation":13,"user_id":9401288,"display_name":"Mattia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657254999,"creation_date":1657208601,"answer_id":72900746,"question_id":72897154,"body_markdown":"If you have JSON string that can change, I think you have to create a method that parses that JSON string into a `jsonobject` and then extract a value from a specified &quot;key&quot;.\r\n\r\nFor example, if you have a JSON string so composed,\r\n\r\n    {\r\n     &quot;name&quot;:&quot;Sam&quot;, \r\n     &quot;surname&quot;:&quot;Baudo&quot;\r\n    }\r\n\r\n    String jsonStringInput = &quot;input-json-value&quot;; \r\n    JSONObject json = new JSONObject(jsonStringInput);\r\n    String surname = json.getString(&quot;surname&quot;);","title":"From a nested JSON String getting a specific key&#39;s value","body":"<p>If you have JSON string that can change, I think you have to create a method that parses that JSON string into a <code>jsonobject</code> and then extract a value from a specified &quot;key&quot;.</p>\n<p>For example, if you have a JSON string so composed,</p>\n<pre><code>{\n &quot;name&quot;:&quot;Sam&quot;, \n &quot;surname&quot;:&quot;Baudo&quot;\n}\n\nString jsonStringInput = &quot;input-json-value&quot;; \nJSONObject json = new JSONObject(jsonStringInput);\nString surname = json.getString(&quot;surname&quot;);\n</code></pre>\n"}],"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":836,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657254999,"creation_date":1657193962,"question_id":72897154,"body_markdown":"Here I&#39;m having a controller which is of postmapping type. I&#39;m taking the request body as String which a nested JSON. When the controller is being called with the String as request body I want to map that String into a POJO. In that POJO I have fields which are to be mapped from that nested json and also a field which takes the actual String request body as is. Kindly help me how do I map a particular field from that nested json string to the POJO.\r\n\r\nThe request looks like - \r\n\r\n    {\r\n        &quot;Application&quot;: {\r\n            &quot;DCode&quot;: &quot;unsecliverelease&quot;,\r\n            &quot;PType&quot;: &quot;DA&quot;,\r\n            &quot;AId&quot;: &quot;230391106&quot;,\r\n            &quot;ApNO&quot;: &quot;NTFLbjOF9fXI15AF1YiC&quot;,\r\n            &quot;crd&quot;: {\r\n                &quot;cate&quot;: &quot;lion&quot;,\r\n                &quot;ProductCode&quot;: &quot;lion&quot;\r\n            },\r\n            &quot;ld&quot;: {\r\n                &quot;dm&quot;: {\r\n                    &quot;sn&quot;: &quot;3&quot;,\r\n                    &quot;RandomNumbers&quot;: {\r\n                        &quot;RandomNumber01&quot;: &quot;319&quot;,\r\n                        &quot;RandomNumber02&quot;: &quot;731&quot;,\r\n                        &quot;RandomNumber03&quot;: &quot;520&quot;,\r\n                        &quot;RandomNumber04&quot;: &quot;102&quot;,\r\n                        &quot;RandomNumber05&quot;: &quot;678&quot;\r\n                    },\r\n                    &quot;Request&quot;: {\r\n                        &quot;Name&quot;: &quot;MSE&quot;,\r\n                        &quot;ACount&quot;: &quot;1&quot;,\r\n                        &quot;BrandInd&quot;: &quot;wert&quot;,\r\n                        &quot;CID&quot;: &quot;123456789&quot;,\r\n                        \r\n                    }\r\n                }\r\n        }\r\n\r\n//controller\r\n\r\n    @PostMapping(\r\n          value = &quot;/decision&quot;,\r\n          produces = MediaType.APPLICATION_JSON_VALUE,\r\n          consumes = MediaType.APPLICATION_JSON_VALUE)\r\n      public ResponseEntity&lt;crdResponse &gt; getDecision(\r\n          @RequestBody final @Valid String request) throws JsonProcessingException {\r\n        crdResponse response =\r\n            crdService.getDec(request);\r\n    \r\n        return ResponseEntity.ok().body(response);\r\n      }\r\n\r\n//POJO\r\n\r\n    public class CRequestModel {\r\n    \r\n      @Column(name = &quot;rid&quot;)\r\n      @Id\r\n      private String crdRqsId;\r\n    \r\n      @Column(name = &quot;scode&quot;)\r\n      private String scode;\r\n    \r\n      @Column(name = &quot;cid&quot;)\r\n      private Integer cid;\r\n    \r\n      @Column(name = &quot;RequestNumber&quot;)\r\n      private Integer requestNumber;\r\n    \r\n      @Column(name = &quot;RequestJson&quot;)\r\n      private String requestJSON;\r\n    \r\n      @Column(name = &quot;CreatedAt&quot;)\r\n      private Timestamp createdAt;\r\n    }\r\n\r\n\r\nI want to save the whole JSON string into requestJSON field and want to save CID value(from request JSON STRING) into cid field.\r\n\r\nKindly help me with the same. This input JSON String can change so the order in which the CID is there in current JSON String might vary.\r\n","title":"From a nested JSON String getting a specific key&#39;s value","body":"<p>Here I'm having a controller which is of postmapping type. I'm taking the request body as String which a nested JSON. When the controller is being called with the String as request body I want to map that String into a POJO. In that POJO I have fields which are to be mapped from that nested json and also a field which takes the actual String request body as is. Kindly help me how do I map a particular field from that nested json string to the POJO.</p>\n<p>The request looks like -</p>\n<pre><code>{\n    &quot;Application&quot;: {\n        &quot;DCode&quot;: &quot;unsecliverelease&quot;,\n        &quot;PType&quot;: &quot;DA&quot;,\n        &quot;AId&quot;: &quot;230391106&quot;,\n        &quot;ApNO&quot;: &quot;NTFLbjOF9fXI15AF1YiC&quot;,\n        &quot;crd&quot;: {\n            &quot;cate&quot;: &quot;lion&quot;,\n            &quot;ProductCode&quot;: &quot;lion&quot;\n        },\n        &quot;ld&quot;: {\n            &quot;dm&quot;: {\n                &quot;sn&quot;: &quot;3&quot;,\n                &quot;RandomNumbers&quot;: {\n                    &quot;RandomNumber01&quot;: &quot;319&quot;,\n                    &quot;RandomNumber02&quot;: &quot;731&quot;,\n                    &quot;RandomNumber03&quot;: &quot;520&quot;,\n                    &quot;RandomNumber04&quot;: &quot;102&quot;,\n                    &quot;RandomNumber05&quot;: &quot;678&quot;\n                },\n                &quot;Request&quot;: {\n                    &quot;Name&quot;: &quot;MSE&quot;,\n                    &quot;ACount&quot;: &quot;1&quot;,\n                    &quot;BrandInd&quot;: &quot;wert&quot;,\n                    &quot;CID&quot;: &quot;123456789&quot;,\n                    \n                }\n            }\n    }\n</code></pre>\n<p>//controller</p>\n<pre><code>@PostMapping(\n      value = &quot;/decision&quot;,\n      produces = MediaType.APPLICATION_JSON_VALUE,\n      consumes = MediaType.APPLICATION_JSON_VALUE)\n  public ResponseEntity&lt;crdResponse &gt; getDecision(\n      @RequestBody final @Valid String request) throws JsonProcessingException {\n    crdResponse response =\n        crdService.getDec(request);\n\n    return ResponseEntity.ok().body(response);\n  }\n</code></pre>\n<p>//POJO</p>\n<pre><code>public class CRequestModel {\n\n  @Column(name = &quot;rid&quot;)\n  @Id\n  private String crdRqsId;\n\n  @Column(name = &quot;scode&quot;)\n  private String scode;\n\n  @Column(name = &quot;cid&quot;)\n  private Integer cid;\n\n  @Column(name = &quot;RequestNumber&quot;)\n  private Integer requestNumber;\n\n  @Column(name = &quot;RequestJson&quot;)\n  private String requestJSON;\n\n  @Column(name = &quot;CreatedAt&quot;)\n  private Timestamp createdAt;\n}\n</code></pre>\n<p>I want to save the whole JSON string into requestJSON field and want to save CID value(from request JSON STRING) into cid field.</p>\n<p>Kindly help me with the same. This input JSON String can change so the order in which the CID is there in current JSON String might vary.</p>\n"},{"tags":["java","spring","spring-boot","webclient","spring-webclient"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1642579078,"post_id":70766948,"comment_id":125104890,"body_markdown":"The `sarShomare` is different.","body":"The <code>sarShomare</code> is different."},{"owner":{"account_id":10794010,"reputation":1606,"user_id":7940437,"display_name":"Majid Roustaei"},"score":0,"creation_date":1642579520,"post_id":70766948,"comment_id":125105034,"body_markdown":"it was a good point. so why they have the same traceId and threadName?","body":"it was a good point. so why they have the same traceId and threadName?"},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1642596270,"post_id":70766948,"comment_id":125111699,"body_markdown":"How do you add trace ids? Thread name is likely to be shared as that’s really the point of reactive…","body":"How do you add trace ids? Thread name is likely to be shared as that’s really the point of reactive…"},{"owner":{"account_id":1416455,"reputation":1818,"user_id":1342086,"accept_rate":70,"display_name":"rj2700"},"score":1,"creation_date":1651183959,"post_id":70766948,"comment_id":127310339,"body_markdown":"It also depends on how the request was sent into this app. Trace IDs can be shared in multiple requests if all of the requests were generated from the same &quot;root&quot;, I believe. So if 1 requests comes into service A and service A splits calls to downstream services, it&#39;ll have the same trace ID.","body":"It also depends on how the request was sent into this app. Trace IDs can be shared in multiple requests if all of the requests were generated from the same &quot;root&quot;, I believe. So if 1 requests comes into service A and service A splits calls to downstream services, it&#39;ll have the same trace ID."}],"answers":[{"tags":[],"owner":{"account_id":4083966,"reputation":1293,"user_id":3353717,"display_name":"roj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657254032,"creation_date":1657254032,"answer_id":72906609,"question_id":70766948,"body_markdown":"@majid-roustaei This looks like it&#39;s because you have &#39;swallowed&#39; the exception in the &#39;doOnError&#39; block, rather than rethrowing it. So, just like a catch block that logs an exception but does nothing else, the method will complete successfully.\r\nTo prevent successful completion you could just rethrow it by updating your `doOnError` lambda to this:\r\n```java\r\n   .doOnError(throwable -&gt; { \r\n       logger.error(&quot;throws exception when send SMS to : {} with {} &quot;, clientId, provider.getSarShomare(), throwable);\r\n       throw throwable;\r\n       })\r\n```\r\nThat should stop your &#39;Successfully sent&#39; message in the event of an exception.","title":"Java WebClient both doOnError and doOnSuccess methods happen in a single request","body":"<p>@majid-roustaei This looks like it's because you have 'swallowed' the exception in the 'doOnError' block, rather than rethrowing it. So, just like a catch block that logs an exception but does nothing else, the method will complete successfully.\nTo prevent successful completion you could just rethrow it by updating your <code>doOnError</code> lambda to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>   .doOnError(throwable -&gt; { \n       logger.error(&quot;throws exception when send SMS to : {} with {} &quot;, clientId, provider.getSarShomare(), throwable);\n       throw throwable;\n       })\n</code></pre>\n<p>That should stop your 'Successfully sent' message in the event of an exception.</p>\n"}],"owner":{"account_id":10794010,"reputation":1606,"user_id":7940437,"display_name":"Majid Roustaei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657254032,"creation_date":1642578468,"question_id":70766948,"body_markdown":"I&#39;m using `WebClient` in a `spring boot` application and here is a part of my code:\r\n\r\n        WebClient webClient = setApiKey(provider);\r\n        return webClient\r\n                .post()\r\n                .uri(&quot;sms&quot;)\r\n                .body(Mono.just(jsonArray.toString()), String.class)\r\n                .retrieve()\r\n                .onStatus(httpStatus -&gt; httpStatus.is4xxClientError(),\r\n                        response -&gt; Mono.error(new HttpClientErrorException(response.statusCode())))\r\n                .onStatus(httpStatus -&gt; httpStatus.is5xxServerError(),\r\n                        response -&gt; Mono.error(new HttpServerErrorException(response.statusCode())))\r\n                .bodyToMono(AdpBatchSmsResponseDto.class)\r\n                .doOnSuccess(response -&gt; logger.info(&quot;Successfully send SMS to : {} with {} &quot;, clientId, provider.getSarShomare()))\r\n                .doOnError(throwable -&gt; logger.error(&quot;throws exception when send SMS to : {} with {} &quot;, clientId, provider.getSarShomare(), throwable))\r\n                .block();\r\n\r\nin some cases, both `doOnError` and `doOnSuccess` methods happen and do the code which I want to each one do, nearly simultaneously. here is a picture from my log in `kibana`:\r\n\r\n [![kibana][1]][1]\r\n\r\nas it is highlighted, they have the same `traceId` and almost happen at the same time.\r\nwhy they both happen? whether the call is successful or not, one of them might be called.\r\n\r\n  [1]: https://i.stack.imgur.com/cz1PW.png","title":"Java WebClient both doOnError and doOnSuccess methods happen in a single request","body":"<p>I'm using <code>WebClient</code> in a <code>spring boot</code> application and here is a part of my code:</p>\n<pre><code>    WebClient webClient = setApiKey(provider);\n    return webClient\n            .post()\n            .uri(&quot;sms&quot;)\n            .body(Mono.just(jsonArray.toString()), String.class)\n            .retrieve()\n            .onStatus(httpStatus -&gt; httpStatus.is4xxClientError(),\n                    response -&gt; Mono.error(new HttpClientErrorException(response.statusCode())))\n            .onStatus(httpStatus -&gt; httpStatus.is5xxServerError(),\n                    response -&gt; Mono.error(new HttpServerErrorException(response.statusCode())))\n            .bodyToMono(AdpBatchSmsResponseDto.class)\n            .doOnSuccess(response -&gt; logger.info(&quot;Successfully send SMS to : {} with {} &quot;, clientId, provider.getSarShomare()))\n            .doOnError(throwable -&gt; logger.error(&quot;throws exception when send SMS to : {} with {} &quot;, clientId, provider.getSarShomare(), throwable))\n            .block();\n</code></pre>\n<p>in some cases, both <code>doOnError</code> and <code>doOnSuccess</code> methods happen and do the code which I want to each one do, nearly simultaneously. here is a picture from my log in <code>kibana</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/cz1PW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cz1PW.png\" alt=\"kibana\" /></a></p>\n<p>as it is highlighted, they have the same <code>traceId</code> and almost happen at the same time.\nwhy they both happen? whether the call is successful or not, one of them might be called.</p>\n"},{"tags":["java","amazon-ec2","microservices","heap-memory","infrastructure"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1657254330,"post_id":72906607,"comment_id":128771983,"body_markdown":"Don&#39;t store the whole 2 million rows in memory. Write/print the pages to file as you go, that way you really only need to keep one or two pages worth of data in memory at a time, and you should be nowhere near your memory cap. Apache has the ability to only read select rows at a time, see here for example: [How to load a large xlsx file with Apache POI?](https://stackoverflow.com/questions/11891851/how-to-load-a-large-xlsx-file-with-apache-poi) Or for even more fine control of the sheet data see: https://poi.apache.org/components/spreadsheet/how-to.html#xssf_sax_api","body":"Don&#39;t store the whole 2 million rows in memory. Write/print the pages to file as you go, that way you really only need to keep one or two pages worth of data in memory at a time, and you should be nowhere near your memory cap. Apache has the ability to only read select rows at a time, see here for example: <a href=\"https://stackoverflow.com/questions/11891851/how-to-load-a-large-xlsx-file-with-apache-poi\">How to load a large xlsx file with Apache POI?</a> Or for even more fine control of the sheet data see: <a href=\"https://poi.apache.org/components/spreadsheet/how-to.html#xssf_sax_api\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/how-to.html#xssf_sax_a&zwnj;&#8203;pi</a>"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1657254561,"post_id":72906607,"comment_id":128772021,"body_markdown":"If you need to process all 2 million rows and do some calculations, then this can still be done a few rows at a time for example by stripping out only the essential data","body":"If you need to process all 2 million rows and do some calculations, then this can still be done a few rows at a time for example by stripping out only the essential data"}],"owner":{"account_id":2460946,"reputation":1889,"user_id":2145133,"accept_rate":18,"display_name":"Code Geas Coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657254007,"creation_date":1657254007,"question_id":72906607,"body_markdown":"I have a service to build a report in JAVA that are using Apache POI, but at this moment i have a problem.\r\n\r\nI need allow the report generation with a lot of data (2 millions of rows) and only the map creation with that data spends 4 GB of memory more the memory that spends apache POI to build the report, i need more than 8 GB.\r\n\r\nThis process is launched manually for somebody, but the person can run the process whenever he wants.\r\n\r\nThis process will be executed only two or three times per week, then I don&#39;t know if having a machine with a lot of memory is the solution, because they are resources that are being spent only for 2 or 3 executions per week.\r\n\r\nOr I don&#39;t know if exists a tool to help with the memory on demand, like redis or How can I attack this problem without spending so many resources?","title":"occasional process spends a lot of memory Java ec2","body":"<p>I have a service to build a report in JAVA that are using Apache POI, but at this moment i have a problem.</p>\n<p>I need allow the report generation with a lot of data (2 millions of rows) and only the map creation with that data spends 4 GB of memory more the memory that spends apache POI to build the report, i need more than 8 GB.</p>\n<p>This process is launched manually for somebody, but the person can run the process whenever he wants.</p>\n<p>This process will be executed only two or three times per week, then I don't know if having a machine with a lot of memory is the solution, because they are resources that are being spent only for 2 or 3 executions per week.</p>\n<p>Or I don't know if exists a tool to help with the memory on demand, like redis or How can I attack this problem without spending so many resources?</p>\n"},{"tags":["java","for-loop","nested-for-loop"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":1,"creation_date":1656542643,"post_id":72808578,"comment_id":128601761,"body_markdown":"What are `CF` and `FC`? Those aren&#39;t included in the code you posted.","body":"What are <code>CF</code> and <code>FC</code>? Those aren&#39;t included in the code you posted."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1656542927,"post_id":72808578,"comment_id":128601829,"body_markdown":"This is just a guess from what you&#39;ve posted above, but: perhaps one or both of the functions `CF` and `FC` are modifying one of the statics you&#39;ve defined (c1, f1, f2, c2). I&#39;d try to rework the functions so that the only inputs they use are parameters that are passed into the functions – don&#39;t refer to any globally accessible things (like the four static `double` values you&#39;ve defined).","body":"This is just a guess from what you&#39;ve posted above, but: perhaps one or both of the functions <code>CF</code> and <code>FC</code> are modifying one of the statics you&#39;ve defined (c1, f1, f2, c2). I&#39;d try to rework the functions so that the only inputs they use are parameters that are passed into the functions – don&#39;t refer to any globally accessible things (like the four static <code>double</code> values you&#39;ve defined)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1656542970,"post_id":72808578,"comment_id":128601839,"body_markdown":"instead of two loops, you need a single loop (eventually with two variables **&#185;**) - nested loops means that you will get all combinations of both variables || **1** `for (c1=startC, f2=startF; c1&lt;=finishC &amp;&amp; f2&lt;=finishF; c1+=stepC, f2+=stepF)`","body":"instead of two loops, you need a single loop (eventually with two variables <b>&#185;</b>) - nested loops means that you will get all combinations of both variables || <b>1</b> <code>for (c1=startC, f2=startF; c1&lt;=finishC &amp;&amp; f2&lt;=finishF; c1+=stepC, f2+=stepF)</code>"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1656543081,"post_id":72808578,"comment_id":128601856,"body_markdown":"Both loops are working correctly, but note that the value of `f1` in the outer loop only changes once every 10 cycles of the inner loop (Not every cycle like you want in your example).","body":"Both loops are working correctly, but note that the value of <code>f1</code> in the outer loop only changes once every 10 cycles of the inner loop (Not every cycle like you want in your example)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1656543598,"post_id":72808578,"comment_id":128601970,"body_markdown":"BTW 50&#176;C is not 10&#176;F, it is 122&#176;F (Good values to test: 0&#176;C=32&#176;F and 100&#176;C=212&#176;F)","body":"BTW 50&#176;C is not 10&#176;F, it is 122&#176;F (Good values to test: 0&#176;C=32&#176;F and 100&#176;C=212&#176;F)"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1656548010,"post_id":72808578,"comment_id":128602700,"body_markdown":"You only need one for loop and one conversion, from Celsius to Fahrenheit.  You already have the temperatures in Celsius.  By the way, the conversion is F = C * 9 / 5 + 32","body":"You only need one for loop and one conversion, from Celsius to Fahrenheit.  You already have the temperatures in Celsius.  By the way, the conversion is F = C * 9 / 5 + 32"},{"owner":{"account_id":20045822,"reputation":45,"user_id":14695508,"display_name":"NobleRuckus"},"score":0,"creation_date":1656565393,"post_id":72808578,"comment_id":128604940,"body_markdown":"@user16320675 Thank you my friend! This was the solution. I played with it a tiny bit, plugged the numbers in and off it went! Thank you! Also just to comment on the other comment you had, the temp conversion was correct, I just had to switch around where I printed C and F. All fixed now!","body":"@user16320675 Thank you my friend! This was the solution. I played with it a tiny bit, plugged the numbers in and off it went! Thank you! Also just to comment on the other comment you had, the temp conversion was correct, I just had to switch around where I printed C and F. All fixed now!"}],"answers":[{"tags":[],"owner":{"account_id":20045822,"reputation":45,"user_id":14695508,"display_name":"NobleRuckus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656565843,"creation_date":1656565843,"answer_id":72810559,"question_id":72808578,"body_markdown":"As suggested by @user16320675, I combined everything into a single for-loop and it is now working as expected! I didn&#39;t even know you could combine for-loop statements with the &amp;&amp; operator. User&#39;s suggestion that answered my problem was:\r\n\r\n```\r\nfor (c1=startC, f2=startF; c1&lt;=finishC &amp;&amp; f2&lt;=finishF; c1+=stepC, f2+=stepF)\r\n```\r\nI just made a couple tiny changes and off it went! Thank you everyone for your help and time!","title":"In a Java nested for-loop, the code works properly if separated into 2 different for-loops. If nested, the outer loop doesn&#39;t increment. Thoughts?","body":"<p>As suggested by @user16320675, I combined everything into a single for-loop and it is now working as expected! I didn't even know you could combine for-loop statements with the &amp;&amp; operator. User's suggestion that answered my problem was:</p>\n<pre><code>for (c1=startC, f2=startF; c1&lt;=finishC &amp;&amp; f2&lt;=finishF; c1+=stepC, f2+=stepF)\n</code></pre>\n<p>I just made a couple tiny changes and off it went! Thank you everyone for your help and time!</p>\n"}],"owner":{"account_id":20045822,"reputation":45,"user_id":14695508,"display_name":"NobleRuckus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1657253770,"creation_date":1656542344,"question_id":72808578,"body_markdown":"I&#39;m having some trouble with a nested for loop. After days of agonizing searching and trial and error, I finally got the math working for a temperature conversion table. When I separate this code, it works great. Celsius converts to Fahrenheit and vise versa and both sides loop properly. However, when I try and nest the for loops, one side stops working. I&#39;ve tried moving my statements around, but I keep coming up with the same result which is one side will not increment while the other side does. I&#39;m new to Java so I don&#39;t see what I&#39;m doing wrong as I used a for loop on a previous program with success. I&#39;m not sure what to do with the: f1 = CF(c1); I&#39;ve tried it in both loops while nested. ANY insight is greatly appreciated.\r\n```\r\nstatic double c1, f1; // c1 is the celsius temp, f1 is the equivalent \r\n                      // fahrenheit temp\r\nstatic double f2, c2; // f2 is the fahrenheit temp, c2 is the equivalent \r\n                      //   celsius temp\r\n\r\ndouble start = -50;\r\ndouble finish = 50;\r\nint five = 5;\r\n\r\nfor (c1 = start; c1 &lt;= finish; c1 += five) {  \t\t\t\t\r\n\r\n    f1 = CF(c1);\r\n\r\n    for (f2 = start; f2 &lt;= finish; f2 += five){\r\n\t\t\t\t\r\n        c2 = FC(f2);\r\n        System.out.print(&quot;\\n&quot;);\r\n        System.out.format(&quot;%6.3fC %6.3fF &lt;&gt; %6.3fF %6.3fC&quot;, f2, c2, c1, f1);\r\n    }\r\n}\r\n```\r\nAs stated above, when the for loops are separated, everything works properly. When the loops are nested, the outer loop stops working, while the inner loop functions properly. To clarify, the inner loop converts fahrenheit to celsius and prints them starting from -50 to 50 in increments of 5. However, this is a snippet of what I&#39;m getting\r\n\r\n```\r\n30.000C     -1.111F &lt;&gt;   50.000F    122.000C\r\n35.000C      1.667F &lt;&gt;   50.000F    122.000C\r\n40.000C      4.444F &lt;&gt;   50.000F    122.000C\r\n45.000C      7.222F &lt;&gt;   50.000F    122.000C\r\n50.000C     10.000F &lt;&gt;   50.000F    122.000C\r\n\r\nMy expected outcome should be:\r\n30.000C   -1.111F &lt;&gt; 30.000C     86.000F\r\n35.000C    1.667F &lt;&gt; 35.000C     95.000F\r\n40.000C    4.444F &lt;&gt; 40.000C    104.000F\r\n45.000C    7.222F &lt;&gt; 45.000C    113.000F\r\n50.000C    10.000F&lt;&gt; 50.000C    122.000F\r\n``` ","title":"In a Java nested for-loop, the code works properly if separated into 2 different for-loops. If nested, the outer loop doesn&#39;t increment. Thoughts?","body":"<p>I'm having some trouble with a nested for loop. After days of agonizing searching and trial and error, I finally got the math working for a temperature conversion table. When I separate this code, it works great. Celsius converts to Fahrenheit and vise versa and both sides loop properly. However, when I try and nest the for loops, one side stops working. I've tried moving my statements around, but I keep coming up with the same result which is one side will not increment while the other side does. I'm new to Java so I don't see what I'm doing wrong as I used a for loop on a previous program with success. I'm not sure what to do with the: f1 = CF(c1); I've tried it in both loops while nested. ANY insight is greatly appreciated.</p>\n<pre><code>static double c1, f1; // c1 is the celsius temp, f1 is the equivalent \n                      // fahrenheit temp\nstatic double f2, c2; // f2 is the fahrenheit temp, c2 is the equivalent \n                      //   celsius temp\n\ndouble start = -50;\ndouble finish = 50;\nint five = 5;\n\nfor (c1 = start; c1 &lt;= finish; c1 += five) {                \n\n    f1 = CF(c1);\n\n    for (f2 = start; f2 &lt;= finish; f2 += five){\n                \n        c2 = FC(f2);\n        System.out.print(&quot;\\n&quot;);\n        System.out.format(&quot;%6.3fC %6.3fF &lt;&gt; %6.3fF %6.3fC&quot;, f2, c2, c1, f1);\n    }\n}\n</code></pre>\n<p>As stated above, when the for loops are separated, everything works properly. When the loops are nested, the outer loop stops working, while the inner loop functions properly. To clarify, the inner loop converts fahrenheit to celsius and prints them starting from -50 to 50 in increments of 5. However, this is a snippet of what I'm getting</p>\n<pre><code>30.000C     -1.111F &lt;&gt;   50.000F    122.000C\n35.000C      1.667F &lt;&gt;   50.000F    122.000C\n40.000C      4.444F &lt;&gt;   50.000F    122.000C\n45.000C      7.222F &lt;&gt;   50.000F    122.000C\n50.000C     10.000F &lt;&gt;   50.000F    122.000C\n\nMy expected outcome should be:\n30.000C   -1.111F &lt;&gt; 30.000C     86.000F\n35.000C    1.667F &lt;&gt; 35.000C     95.000F\n40.000C    4.444F &lt;&gt; 40.000C    104.000F\n45.000C    7.222F &lt;&gt; 45.000C    113.000F\n50.000C    10.000F&lt;&gt; 50.000C    122.000F\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1657253169,"post_id":72906484,"comment_id":128771821,"body_markdown":"The first line in the blog post you linked to has a pretty good answer.. _&quot;The Builder pattern is a creational design pattern that lets you construct complex objects step by step.&quot;_","body":"The first line in the blog post you linked to has a pretty good answer.. <i>&quot;The Builder pattern is a creational design pattern that lets you construct complex objects step by step.&quot;</i>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1657256443,"post_id":72906484,"comment_id":128772316,"body_markdown":"Design patterns are not obligatory.  If you don&#39;t think a given design pattern will help your particular use-case ... don&#39;t use it.  The example above is one where the benefit is marginal.  But in other use-cases, the builder pattern is helpful.","body":"Design patterns are not obligatory.  If you don&#39;t think a given design pattern will help your particular use-case ... don&#39;t use it.  The example above is one where the benefit is marginal.  But in other use-cases, the builder pattern is helpful."}],"owner":{"account_id":13192885,"reputation":50,"user_id":9857097,"display_name":"LFC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657252952,"answer_count":0,"score":0,"last_activity_date":1657252781,"creation_date":1657252781,"question_id":72906484,"body_markdown":"I came across a [blog](https://medium.com/@gaurav.k.tyagi.1/builder-design-pattern-java-a87a831633a1) on medium which highlights the use of builder design pattern. First they create a person POJO class\r\n```\r\npublic class Person {\r\n\r\n    private final String firstName;\r\n    private final String lastName;\r\n    private final int age;\r\n    private final String height;\r\n    private final String weight;\r\n    private final String eyesColor;\r\n    private final String hairColor;\r\n    private final String birthPlace;\r\n    private final Date birthDate;\r\n    private final int numberOfSibling;\r\n    private final boolean married;\r\n   // Private Constructor\r\n    private Person(PersonBuilder builder){\r\n        this.firstName = builder.firstName;\r\n        this.lastName = builder.lastName;\r\n        this.age = builder.age;\r\n        this.height = builder.height;\r\n        this.weight = builder.weight;\r\n        this.eyesColor = builder.eyesColor;\r\n        this.hairColor = builder.hairColor;\r\n        this.birthPlace = builder.birthPlace;\r\n        this.birthDate = builder.birthDate;\r\n        this.numberOfSibling = builder.numberOfSibling;\r\n        this.married = builder.married;\r\n    }\r\n\r\n    // Static Inner Class with same parameters\r\n    public static class PersonBuilder{\r\n\r\n        private String firstName;\r\n        private String lastName;\r\n        private int age;\r\n        private String height;\r\n        private String weight;\r\n        private String eyesColor;\r\n        private String hairColor;\r\n        private String birthPlace;\r\n        private Date birthDate;\r\n        private int numberOfSibling;\r\n        private boolean married;\r\n        public PersonBuilder(){}\r\n/* If you have some necessary/compulsary parameters then you can use parametrized constructor instead of default constructor.\r\n        public PersonBuilder(String firstName){\r\n            this.firstName = firstName;\r\n       }  */\r\n        public PersonBuilder setFirstName(String firstName){\r\n            this.firstName = firstName;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setLastName(String lastName){\r\n            this.lastName = lastName;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setAge(int age){\r\n            this.age = age;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setHeight(String height){\r\n            this.height = height;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setWeight(String weight){\r\n            this.weight = weight;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setEyesColor(String eyesColor){\r\n            this.eyesColor = eyesColor;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setHairColor(String hairColor){\r\n            this.hairColor = hairColor;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setBirthPlace(String birthPlace){\r\n            this.birthPlace = birthPlace;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setBirthDate(Date birthDate){\r\n            this.birthDate = birthDate;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setNumberOfSibling(int numberOfSibling){\r\n            this.numberOfSibling = numberOfSibling;\r\n            return this;\r\n        }\r\n\r\n        public PersonBuilder setMarried(boolean married){\r\n            this.married = married;\r\n            return this;\r\n        }\r\n\r\n        public Person build(){\r\n            Person person = new Person(this);\r\n            return person;\r\n        }\r\n    }\r\n}\r\n```\r\nThey then create an object by invoking the build method as :-\r\n```\r\nPerson person = new Person.PersonBuilder()\r\n                .setFirstName(&quot;Gaurav Tyagi&quot;)\r\n                .setAge(30)\r\n                .setBirthPlace(&quot;India&quot;)\r\n                .setMarried(true)\r\n                .setNumberOfSibling(2)\r\n                .build();\r\n```\r\nI want to know what benefit does this builder design pattern offer. I can create Person class as -\r\n```\r\npublic class Person{\r\n private final String firstName;\r\n    private final String lastName;\r\n    private final int age;\r\n//and other properties\r\npublic Person(){}\r\npublic Person setAge(int age)\r\n{\r\nthis.age=age;\r\nreturn this;\r\n} \r\n// and other setters returning Person object\r\n}\r\n```\r\nand create object\r\n```\r\nPerson person=new Person().setAge(20).setName(&quot;Samarth&quot;); // and other setters chained together.\r\n```\r\nI can get similar results and I even don&#39;t need the build method and also don&#39;t need to create a nested static class with repeated properties. Correct me if I am wrong! ","title":"What is the need of Builder design pattern in Java?","body":"<p>I came across a <a href=\"https://medium.com/@gaurav.k.tyagi.1/builder-design-pattern-java-a87a831633a1\" rel=\"nofollow noreferrer\">blog</a> on medium which highlights the use of builder design pattern. First they create a person POJO class</p>\n<pre><code>public class Person {\n\n    private final String firstName;\n    private final String lastName;\n    private final int age;\n    private final String height;\n    private final String weight;\n    private final String eyesColor;\n    private final String hairColor;\n    private final String birthPlace;\n    private final Date birthDate;\n    private final int numberOfSibling;\n    private final boolean married;\n   // Private Constructor\n    private Person(PersonBuilder builder){\n        this.firstName = builder.firstName;\n        this.lastName = builder.lastName;\n        this.age = builder.age;\n        this.height = builder.height;\n        this.weight = builder.weight;\n        this.eyesColor = builder.eyesColor;\n        this.hairColor = builder.hairColor;\n        this.birthPlace = builder.birthPlace;\n        this.birthDate = builder.birthDate;\n        this.numberOfSibling = builder.numberOfSibling;\n        this.married = builder.married;\n    }\n\n    // Static Inner Class with same parameters\n    public static class PersonBuilder{\n\n        private String firstName;\n        private String lastName;\n        private int age;\n        private String height;\n        private String weight;\n        private String eyesColor;\n        private String hairColor;\n        private String birthPlace;\n        private Date birthDate;\n        private int numberOfSibling;\n        private boolean married;\n        public PersonBuilder(){}\n/* If you have some necessary/compulsary parameters then you can use parametrized constructor instead of default constructor.\n        public PersonBuilder(String firstName){\n            this.firstName = firstName;\n       }  */\n        public PersonBuilder setFirstName(String firstName){\n            this.firstName = firstName;\n            return this;\n        }\n\n        public PersonBuilder setLastName(String lastName){\n            this.lastName = lastName;\n            return this;\n        }\n\n        public PersonBuilder setAge(int age){\n            this.age = age;\n            return this;\n        }\n\n        public PersonBuilder setHeight(String height){\n            this.height = height;\n            return this;\n        }\n\n        public PersonBuilder setWeight(String weight){\n            this.weight = weight;\n            return this;\n        }\n\n        public PersonBuilder setEyesColor(String eyesColor){\n            this.eyesColor = eyesColor;\n            return this;\n        }\n\n        public PersonBuilder setHairColor(String hairColor){\n            this.hairColor = hairColor;\n            return this;\n        }\n\n        public PersonBuilder setBirthPlace(String birthPlace){\n            this.birthPlace = birthPlace;\n            return this;\n        }\n\n        public PersonBuilder setBirthDate(Date birthDate){\n            this.birthDate = birthDate;\n            return this;\n        }\n\n        public PersonBuilder setNumberOfSibling(int numberOfSibling){\n            this.numberOfSibling = numberOfSibling;\n            return this;\n        }\n\n        public PersonBuilder setMarried(boolean married){\n            this.married = married;\n            return this;\n        }\n\n        public Person build(){\n            Person person = new Person(this);\n            return person;\n        }\n    }\n}\n</code></pre>\n<p>They then create an object by invoking the build method as :-</p>\n<pre><code>Person person = new Person.PersonBuilder()\n                .setFirstName(&quot;Gaurav Tyagi&quot;)\n                .setAge(30)\n                .setBirthPlace(&quot;India&quot;)\n                .setMarried(true)\n                .setNumberOfSibling(2)\n                .build();\n</code></pre>\n<p>I want to know what benefit does this builder design pattern offer. I can create Person class as -</p>\n<pre><code>public class Person{\n private final String firstName;\n    private final String lastName;\n    private final int age;\n//and other properties\npublic Person(){}\npublic Person setAge(int age)\n{\nthis.age=age;\nreturn this;\n} \n// and other setters returning Person object\n}\n</code></pre>\n<p>and create object</p>\n<pre><code>Person person=new Person().setAge(20).setName(&quot;Samarth&quot;); // and other setters chained together.\n</code></pre>\n<p>I can get similar results and I even don't need the build method and also don't need to create a nested static class with repeated properties. Correct me if I am wrong!</p>\n"},{"tags":["java","spring","unit-testing","mockito","junit4"],"comments":[{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1657299597,"post_id":72906442,"comment_id":128785528,"body_markdown":"you might need to mock the response for this function also `API.get()` can u show the actual code ?","body":"you might need to mock the response for this function also <code>API.get()</code> can u show the actual code ?"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1657308386,"post_id":72906442,"comment_id":128788123,"body_markdown":"One common way is to create SomeApiService exposing static methods of external API, and inject SomeApiService to the controller. Note that there might be a better way - spring has a ton of functionality around authentication, it is difficult to suggest sth without knowing more about your external API.","body":"One common way is to create SomeApiService exposing static methods of external API, and inject SomeApiService to the controller. Note that there might be a better way - spring has a ton of functionality around authentication, it is difficult to suggest sth without knowing more about your external API."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1657312289,"post_id":72906442,"comment_id":128789167,"body_markdown":"Show me the codes of `API.get();` . Ideally , it should have some way to configure which user to be returned when it is called.","body":"Show me the codes of <code>API.get();</code> . Ideally , it should have some way to configure which user to be returned when it is called."}],"owner":{"account_id":18049123,"reputation":119,"user_id":13119267,"display_name":"MusicalChicken"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657252242,"creation_date":1657252242,"question_id":72906442,"body_markdown":"I have a function and a unit test of it via mockito. I have trouble in checking the arguments. Here is the function code:  \r\n```\r\nimport API;\r\npublic class Controller {\r\n     private Service service;\r\n     public void testingFunction(String path, String name){\r\n           String user = API.get(); // the function gets the userName from a API\r\n           this.service.putInformation(path, name, user);  \r\n     }\r\n}\r\n```\r\n\r\nAnd here is my tester for the `testingFunction`:\r\n```\r\n    @Mock\r\n    Service service;\r\n\r\n    @InjectMocks\r\n    Controller controller;\r\n\r\n    private static final String TEST_USER = &quot;userName&quot;;\r\n    private static final String PATH = &quot;test path&quot;;\r\n    private static final String NAME = &quot;test name&quot;;\r\n\r\n    @Test\r\n    public void valid_test() {\r\n        controller.testingFunction(PATH, NAME);\r\n        Mockito.verify(service).putInformation(eq(PATH), eq(NAME), eq(TEST_USER));\r\n    }\r\n```\r\nHowever, I got the error that `Argument(s) are different! Actual invocation has different arguments`. The different argument is USER because one is TEST_USER and one is null.\r\n\r\nIt can be passed by the anyString(). However, I&#39;m worried that the test isn&#39;t strict enough without argument check.\r\nI&#39;m not sure how to mock the API because it&#39;s external.\r\n\r\nThank you for any suggestions!\r\n","title":"how to test method if testing func and mocking func have different argument","body":"<p>I have a function and a unit test of it via mockito. I have trouble in checking the arguments. Here is the function code:</p>\n<pre><code>import API;\npublic class Controller {\n     private Service service;\n     public void testingFunction(String path, String name){\n           String user = API.get(); // the function gets the userName from a API\n           this.service.putInformation(path, name, user);  \n     }\n}\n</code></pre>\n<p>And here is my tester for the <code>testingFunction</code>:</p>\n<pre><code>    @Mock\n    Service service;\n\n    @InjectMocks\n    Controller controller;\n\n    private static final String TEST_USER = &quot;userName&quot;;\n    private static final String PATH = &quot;test path&quot;;\n    private static final String NAME = &quot;test name&quot;;\n\n    @Test\n    public void valid_test() {\n        controller.testingFunction(PATH, NAME);\n        Mockito.verify(service).putInformation(eq(PATH), eq(NAME), eq(TEST_USER));\n    }\n</code></pre>\n<p>However, I got the error that <code>Argument(s) are different! Actual invocation has different arguments</code>. The different argument is USER because one is TEST_USER and one is null.</p>\n<p>It can be passed by the anyString(). However, I'm worried that the test isn't strict enough without argument check.\nI'm not sure how to mock the API because it's external.</p>\n<p>Thank you for any suggestions!</p>\n"},{"tags":["java","neo4j"],"comments":[{"owner":{"account_id":9963444,"reputation":12317,"user_id":7371893,"display_name":"jose_bacoy"},"score":0,"creation_date":1657123254,"post_id":72885721,"comment_id":128736689,"body_markdown":"The error says &quot;the id you are using to run the neo4j service does not have access to create files on that directory: /User/Desktop/db2/logs&quot;.  Try using sudo neo4j console to start the start the db","body":"The error says &quot;the id you are using to run the neo4j service does not have access to create files on that directory: /User/Desktop/db2/logs&quot;.  Try using sudo neo4j console to start the start the db"}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657252234,"creation_date":1657251865,"answer_id":72906417,"question_id":72885721,"body_markdown":"You posted this error:\r\n```\r\njava.io.IOException: Unable to create directory path [/User/Desktop/db2/logs] for Neo4j store.\r\n```\r\nFrom that error, it looks like:\r\n* Neo4j was installed at &quot;/User/Desktop/db2&quot;\r\n* The permissions for that directory do not have &quot;write&quot; permission\r\n\r\nI tried to reproduce this locally using Neo4j Community 4.4.5, following the steps below.\r\nI do see an IOException related to &quot;logs&quot;, but it&#39;s slightly different from what you posted. Perhaps we&#39;re on different versions of Neo4j.\r\n\r\n* Open terminal into install directory: `cd neo4j`\r\n* Verify &quot;neo4j&quot; is stopped: `./bin/neo4j stop`\r\n* Rename existing &quot;logs&quot; directory: `mv logs logs.save`\r\n* Remove write permission for the Neo4j install: `chmod u-w .`\r\n* Start neo4j in console mode: `./bin/neo4j console`\r\n* Observe errors in console output\r\n\t```\r\n\t2022-07-08 03:28:38.081+0000 INFO  Starting...\r\n\tERROR StatusLogger Unable to create file [****************************]/neo4j/logs/debug.log\r\n\t java.io.IOException: Could not create directory [****************************]/neo4j/logs\r\n\t...\r\n\t```\r\n\r\nTo fix things, try:\r\n* Get a terminal into your Neo4j directory:\r\n\t```\r\n\tcd /User/Desktop/db2\r\n\t```\r\n* Set write permissions for the entire directory tree:\r\n\t```\r\n\tchmod u+w -R .\r\n\t```\r\n* Start neo4j in console mode:\r\n\t```\r\n\t./bin/neo4j console\r\n\t```\r\n\r\nIf this works and you&#39;re able to run neo4j fine, it points to an issue with user permissions when running neo4j as a system service.\r\nThe best steps from there depend on the system, your access, how comfortable you are making changes, probably other things. An easy, brute-force hammer would be to manually create each directory you discover (such as &quot;/User/Desktop/db2/logs&quot;) and grant premissions to all users (`chmod ugo+w .`), then try re-running the service, see what errors pop up. Repeat that until you&#39;re able to run the service without errors.\r\n","title":"Unable to create directory path [/User/Desktop/db2/logs] for Neo4j store","body":"<p>You posted this error:</p>\n<pre><code>java.io.IOException: Unable to create directory path [/User/Desktop/db2/logs] for Neo4j store.\n</code></pre>\n<p>From that error, it looks like:</p>\n<ul>\n<li>Neo4j was installed at &quot;/User/Desktop/db2&quot;</li>\n<li>The permissions for that directory do not have &quot;write&quot; permission</li>\n</ul>\n<p>I tried to reproduce this locally using Neo4j Community 4.4.5, following the steps below.\nI do see an IOException related to &quot;logs&quot;, but it's slightly different from what you posted. Perhaps we're on different versions of Neo4j.</p>\n<ul>\n<li>Open terminal into install directory: <code>cd neo4j</code></li>\n<li>Verify &quot;neo4j&quot; is stopped: <code>./bin/neo4j stop</code></li>\n<li>Rename existing &quot;logs&quot; directory: <code>mv logs logs.save</code></li>\n<li>Remove write permission for the Neo4j install: <code>chmod u-w .</code></li>\n<li>Start neo4j in console mode: <code>./bin/neo4j console</code></li>\n<li>Observe errors in console output\n<pre><code>2022-07-08 03:28:38.081+0000 INFO  Starting...\nERROR StatusLogger Unable to create file [****************************]/neo4j/logs/debug.log\n java.io.IOException: Could not create directory [****************************]/neo4j/logs\n...\n</code></pre>\n</li>\n</ul>\n<p>To fix things, try:</p>\n<ul>\n<li>Get a terminal into your Neo4j directory:\n<pre><code>cd /User/Desktop/db2\n</code></pre>\n</li>\n<li>Set write permissions for the entire directory tree:\n<pre><code>chmod u+w -R .\n</code></pre>\n</li>\n<li>Start neo4j in console mode:\n<pre><code>./bin/neo4j console\n</code></pre>\n</li>\n</ul>\n<p>If this works and you're able to run neo4j fine, it points to an issue with user permissions when running neo4j as a system service.\nThe best steps from there depend on the system, your access, how comfortable you are making changes, probably other things. An easy, brute-force hammer would be to manually create each directory you discover (such as &quot;/User/Desktop/db2/logs&quot;) and grant premissions to all users (<code>chmod ugo+w .</code>), then try re-running the service, see what errors pop up. Repeat that until you're able to run the service without errors.</p>\n"}],"owner":{"account_id":25597657,"reputation":25,"user_id":19373138,"display_name":"Giammaria Giordano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657252234,"creation_date":1657119236,"question_id":72885721,"body_markdown":"I am trying to use a tool that, in two steps, analyzes code smells for android.\r\nIn the first step, the tool parses an apk and generates within a directory .db files that should then be converted to CSV files in the next step; however, whenever I try to run the second step, the console returns the following error:\r\n``` \r\njava.io.IOException: Unable to create directory path [/User/Desktop/db2/logs] for Neo4j store.\r\n``` \r\n\r\nI think it is a Neo4J configuration problem.\r\nI am currently running the tool with the following Java configuration:\r\n``` \r\necho $JAVA_HOME \r\n/home/User/openlogic-openjdk-11.0.15\r\n``` \r\n``` \r\nupdate-alternatives --config java\r\n* 0 /usr/lib/jvm/java-11-openjdk-amd64/bin/java 1111 auto mode\r\n``` \r\nTo be safe, I also started Neo4J, which returned the following output\r\n``` \r\nsudo systemctl status neo4j.service\r\n``` \r\n``` \r\nneo4j.service - Neo4j Graph Database\r\n     Loaded: loaded (/lib/systemd/system/neo4j.service; enabled; vendor preset: enabled)\r\n     Active: active (running) since Wed 2022-07-06 20:11:04 CEST; 16min ago\r\n   Main PID: 1040 (java)\r\n      Tasks: 57 (limit: 18901)\r\n     Memory: 705.4M\r\n        CPU: 16.639s\r\n     CGroup: /system.slice/neo4j.service\r\n             └─1040 /usr/bin/java -cp &quot;/var/lib/neo4j/plugins:/etc/neo4j:/usr/share/neo4j/lib/*:/var/lib/neo4j/plugins/*&quot; -XX:+UseG1GC -XX:-OmitStackTraceInFastThrow -XX:+AlwaysPreTouch -XX:+UnlockExper&gt;.\r\n``` \r\n\r\nHow can I solve this?","title":"Unable to create directory path [/User/Desktop/db2/logs] for Neo4j store","body":"<p>I am trying to use a tool that, in two steps, analyzes code smells for android.\nIn the first step, the tool parses an apk and generates within a directory .db files that should then be converted to CSV files in the next step; however, whenever I try to run the second step, the console returns the following error:</p>\n<pre><code>java.io.IOException: Unable to create directory path [/User/Desktop/db2/logs] for Neo4j store.\n</code></pre>\n<p>I think it is a Neo4J configuration problem.\nI am currently running the tool with the following Java configuration:</p>\n<pre><code>echo $JAVA_HOME \n/home/User/openlogic-openjdk-11.0.15\n</code></pre>\n<pre><code>update-alternatives --config java\n* 0 /usr/lib/jvm/java-11-openjdk-amd64/bin/java 1111 auto mode\n</code></pre>\n<p>To be safe, I also started Neo4J, which returned the following output</p>\n<pre><code>sudo systemctl status neo4j.service\n</code></pre>\n<pre><code>neo4j.service - Neo4j Graph Database\n     Loaded: loaded (/lib/systemd/system/neo4j.service; enabled; vendor preset: enabled)\n     Active: active (running) since Wed 2022-07-06 20:11:04 CEST; 16min ago\n   Main PID: 1040 (java)\n      Tasks: 57 (limit: 18901)\n     Memory: 705.4M\n        CPU: 16.639s\n     CGroup: /system.slice/neo4j.service\n             └─1040 /usr/bin/java -cp &quot;/var/lib/neo4j/plugins:/etc/neo4j:/usr/share/neo4j/lib/*:/var/lib/neo4j/plugins/*&quot; -XX:+UseG1GC -XX:-OmitStackTraceInFastThrow -XX:+AlwaysPreTouch -XX:+UnlockExper&gt;.\n</code></pre>\n<p>How can I solve this?</p>\n"},{"tags":["java","apache-poi","xwpf"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657252010,"creation_date":1657117757,"answer_id":72885349,"question_id":72884458,"body_markdown":"If the table is in an editable region (between `PermStart` and `PermEnd`) then it will be editable including adding rows. \r\n\r\nThe `PermStart` and `PermEnd` can be inserted in document body using\r\n\r\n    // CTPermStart marking the start of unprotected range  \r\n    CTPermStart ctPermStart = document.getDocument().getBody().addNewPermStart();\r\n    ctPermStart.setEdGrp(STEdGrp.EVERYONE);\r\n    ctPermStart.setId(&quot;123456&quot;); //note the Id\r\n\r\nand\r\n\r\n    // CTPerm marking the end of unprotected range  \r\n    document.getDocument().getBody().addNewPermEnd().setId(&quot;123456&quot;); //note the same Id\r\n\r\nAll body elements between this `PermStart` and `PermEnd` are  editable in a protected document. That is true also for tables between this `PermStart` and `PermEnd`.\r\n\r\nIf only parts of tables shall be editable, then `PermStart` and `PermEnd` also can be inserted within the table. For example if only the last row of a table shall be editable and new rows shall be insertable, then:\r\n\r\n    XWPFTable table = ...;\r\n    ...  \r\n    // CTPermStart marking the start of unprotected range  \r\n    ctPermStart = table.getCTTbl().addNewPermStart();\r\n    ctPermStart.setEdGrp(STEdGrp.EVERYONE);\r\n    ctPermStart.setId(&quot;789012&quot;); //note the Id\r\n  \r\n    XWPFTableRow row = table.createRow();\r\n\r\n    // CTPerm marking the end of unprotected range  \r\n    table.getCTTbl().addNewPermEnd().setId(&quot;789012&quot;); //note the same Id\r\n    ...\r\n\r\nComplete example:\r\n\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.wp.usermodel.*;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPermStart;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.STEdGrp;\r\n    \r\n    public class CreateWordPartialProtected {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument document= new XWPFDocument();\r\n    \r\n      // create header\r\n      XWPFHeader header = document.createHeader(HeaderFooterType.DEFAULT);\r\n    \r\n      XWPFParagraph paragraph = header.createParagraph();\r\n      paragraph.setAlignment(ParagraphAlignment.LEFT);\r\n    \r\n      XWPFRun run = paragraph.createRun();  \r\n      run.setText(&quot;The page header:&quot;);\r\n    \r\n      // create footer\r\n      XWPFFooter footer = document.createFooter(HeaderFooterType.DEFAULT);\r\n    \r\n      paragraph = footer.createParagraph();\r\n      paragraph.setAlignment(ParagraphAlignment.CENTER);\r\n    \r\n      run = paragraph.createRun();  \r\n      run.setText(&quot;Page &quot;);\r\n      paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE \\\\* MERGEFORMAT&quot;);\r\n      run = paragraph.createRun();  \r\n      run.setText(&quot; of &quot;);\r\n      paragraph.getCTP().addNewFldSimple().setInstr(&quot;NUMPAGES \\\\* MERGEFORMAT&quot;);\r\n    \r\n      // the body content\r\n      paragraph = document.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;This body part is protected.&quot;);\r\n      paragraph = document.createParagraph();\r\n    \r\n      // CTPermStart marking the start of unprotected range  \r\n      CTPermStart ctPermStart = document.getDocument().getBody().addNewPermStart();\r\n      ctPermStart.setEdGrp(STEdGrp.EVERYONE);\r\n      ctPermStart.setId(&quot;123456&quot;); //note the Id\r\n    \r\n      paragraph = document.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;This body part is not protected.&quot;);\r\n    \r\n      // CTPerm marking the end of unprotected range  \r\n      document.getDocument().getBody().addNewPermEnd().setId(&quot;123456&quot;); //note the same Id\r\n    \r\n      paragraph = document.createParagraph();\r\n    \r\n      paragraph = document.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;This body part is protected again.&quot;);\r\n      paragraph = document.createParagraph();\r\n      \r\n    \r\n      XWPFTable table = document.createTable(1, 3);\r\n      table.setWidth(&quot;100%&quot;);\r\n      table.getRow(0).getCell(0).setText(&quot;Column 1&quot;);\r\n      table.getRow(0).getCell(1).setText(&quot;Column 2&quot;);\r\n      table.getRow(0).getCell(2).setText(&quot;Column 3&quot;);\r\n      \r\n      // CTPermStart marking the start of unprotected range  \r\n      ctPermStart = table.getCTTbl().addNewPermStart();\r\n      ctPermStart.setEdGrp(STEdGrp.EVERYONE);\r\n      ctPermStart.setId(&quot;789012&quot;); //note the Id\r\n      \r\n      XWPFTableRow row = table.createRow();\r\n    \r\n      // CTPerm marking the end of unprotected range  \r\n      table.getCTTbl().addNewPermEnd().setId(&quot;789012&quot;); //note the same Id\r\n      \r\n      paragraph = document.createParagraph();\r\n    \r\n      paragraph = document.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;This body part is protected again.&quot;);\r\n      paragraph = document.createParagraph();\r\n    \r\n      document.enforceReadonlyProtection(&quot;passwd&quot;, org.apache.poi.poifs.crypt.HashAlgorithm.sha1); //enforce readonly protection\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;CreateWordPartialProtected.docx&quot;);\r\n      document.write(out);\r\n      out.close();\r\n      document.close();\r\n    \r\n     }\r\n    }\r\n\r\n\r\nThis code is tested and works using `apache poi 5.2.2`. It produces a Word document having two editable regions. The second is in a table after the title row. So that title row is protected. The last row is in that editable region. So this row is editable and new rows can be inserted above and below that row. All this tested in `Microsoft Word 2017` and `Microsoft Word 365`. Other text-processing applications, which are able to handle `*.docx` files, might not respect editable regions.\r\n\r\n","title":"How to allow more rows to be created in apache POI with read only protection?","body":"<p>If the table is in an editable region (between <code>PermStart</code> and <code>PermEnd</code>) then it will be editable including adding rows.</p>\n<p>The <code>PermStart</code> and <code>PermEnd</code> can be inserted in document body using</p>\n<pre><code>// CTPermStart marking the start of unprotected range  \nCTPermStart ctPermStart = document.getDocument().getBody().addNewPermStart();\nctPermStart.setEdGrp(STEdGrp.EVERYONE);\nctPermStart.setId(&quot;123456&quot;); //note the Id\n</code></pre>\n<p>and</p>\n<pre><code>// CTPerm marking the end of unprotected range  \ndocument.getDocument().getBody().addNewPermEnd().setId(&quot;123456&quot;); //note the same Id\n</code></pre>\n<p>All body elements between this <code>PermStart</code> and <code>PermEnd</code> are  editable in a protected document. That is true also for tables between this <code>PermStart</code> and <code>PermEnd</code>.</p>\n<p>If only parts of tables shall be editable, then <code>PermStart</code> and <code>PermEnd</code> also can be inserted within the table. For example if only the last row of a table shall be editable and new rows shall be insertable, then:</p>\n<pre><code>XWPFTable table = ...;\n...  \n// CTPermStart marking the start of unprotected range  \nctPermStart = table.getCTTbl().addNewPermStart();\nctPermStart.setEdGrp(STEdGrp.EVERYONE);\nctPermStart.setId(&quot;789012&quot;); //note the Id\n\nXWPFTableRow row = table.createRow();\n\n// CTPerm marking the end of unprotected range  \ntable.getCTTbl().addNewPermEnd().setId(&quot;789012&quot;); //note the same Id\n...\n</code></pre>\n<p>Complete example:</p>\n<pre><code>import java.io.*;\n\nimport org.apache.poi.wp.usermodel.*;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPermStart;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.STEdGrp;\n\npublic class CreateWordPartialProtected {\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument document= new XWPFDocument();\n\n  // create header\n  XWPFHeader header = document.createHeader(HeaderFooterType.DEFAULT);\n\n  XWPFParagraph paragraph = header.createParagraph();\n  paragraph.setAlignment(ParagraphAlignment.LEFT);\n\n  XWPFRun run = paragraph.createRun();  \n  run.setText(&quot;The page header:&quot;);\n\n  // create footer\n  XWPFFooter footer = document.createFooter(HeaderFooterType.DEFAULT);\n\n  paragraph = footer.createParagraph();\n  paragraph.setAlignment(ParagraphAlignment.CENTER);\n\n  run = paragraph.createRun();  \n  run.setText(&quot;Page &quot;);\n  paragraph.getCTP().addNewFldSimple().setInstr(&quot;PAGE \\\\* MERGEFORMAT&quot;);\n  run = paragraph.createRun();  \n  run.setText(&quot; of &quot;);\n  paragraph.getCTP().addNewFldSimple().setInstr(&quot;NUMPAGES \\\\* MERGEFORMAT&quot;);\n\n  // the body content\n  paragraph = document.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;This body part is protected.&quot;);\n  paragraph = document.createParagraph();\n\n  // CTPermStart marking the start of unprotected range  \n  CTPermStart ctPermStart = document.getDocument().getBody().addNewPermStart();\n  ctPermStart.setEdGrp(STEdGrp.EVERYONE);\n  ctPermStart.setId(&quot;123456&quot;); //note the Id\n\n  paragraph = document.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;This body part is not protected.&quot;);\n\n  // CTPerm marking the end of unprotected range  \n  document.getDocument().getBody().addNewPermEnd().setId(&quot;123456&quot;); //note the same Id\n\n  paragraph = document.createParagraph();\n\n  paragraph = document.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;This body part is protected again.&quot;);\n  paragraph = document.createParagraph();\n  \n\n  XWPFTable table = document.createTable(1, 3);\n  table.setWidth(&quot;100%&quot;);\n  table.getRow(0).getCell(0).setText(&quot;Column 1&quot;);\n  table.getRow(0).getCell(1).setText(&quot;Column 2&quot;);\n  table.getRow(0).getCell(2).setText(&quot;Column 3&quot;);\n  \n  // CTPermStart marking the start of unprotected range  \n  ctPermStart = table.getCTTbl().addNewPermStart();\n  ctPermStart.setEdGrp(STEdGrp.EVERYONE);\n  ctPermStart.setId(&quot;789012&quot;); //note the Id\n  \n  XWPFTableRow row = table.createRow();\n\n  // CTPerm marking the end of unprotected range  \n  table.getCTTbl().addNewPermEnd().setId(&quot;789012&quot;); //note the same Id\n  \n  paragraph = document.createParagraph();\n\n  paragraph = document.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(&quot;This body part is protected again.&quot;);\n  paragraph = document.createParagraph();\n\n  document.enforceReadonlyProtection(&quot;passwd&quot;, org.apache.poi.poifs.crypt.HashAlgorithm.sha1); //enforce readonly protection\n\n  FileOutputStream out = new FileOutputStream(&quot;CreateWordPartialProtected.docx&quot;);\n  document.write(out);\n  out.close();\n  document.close();\n\n }\n}\n</code></pre>\n<p>This code is tested and works using <code>apache poi 5.2.2</code>. It produces a Word document having two editable regions. The second is in a table after the title row. So that title row is protected. The last row is in that editable region. So this row is editable and new rows can be inserted above and below that row. All this tested in <code>Microsoft Word 2017</code> and <code>Microsoft Word 365</code>. Other text-processing applications, which are able to handle <code>*.docx</code> files, might not respect editable regions.</p>\n"}],"owner":{"account_id":25741159,"reputation":21,"user_id":19495148,"display_name":"mz0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657252010,"creation_date":1657114259,"question_id":72884458,"body_markdown":"I&#39;m working creating a docx file which needs to be readonly protected except in some fields. For those fields I have solved it with this:\r\n\r\n```\r\npInit.getCTP().addNewPermStart();\r\n...\r\npEnd.getCTP().addNewPermEnd();\r\n```\r\nBut now I want to allow adding new rows to a XWPFTable, but this line:\r\n```\r\ndocument.enforceReadonlyProtection(wordLockedPass, HashAlgorithm.sha1);\r\n```\r\nblock this functionality and I don&#39;t know what to do.\r\n\r\nThanks in advance!\r\n","title":"How to allow more rows to be created in apache POI with read only protection?","body":"<p>I'm working creating a docx file which needs to be readonly protected except in some fields. For those fields I have solved it with this:</p>\n<pre><code>pInit.getCTP().addNewPermStart();\n...\npEnd.getCTP().addNewPermEnd();\n</code></pre>\n<p>But now I want to allow adding new rows to a XWPFTable, but this line:</p>\n<pre><code>document.enforceReadonlyProtection(wordLockedPass, HashAlgorithm.sha1);\n</code></pre>\n<p>block this functionality and I don't know what to do.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","hyperlink","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":8159822,"reputation":653,"user_id":6144186,"display_name":"Nam Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657168856,"creation_date":1657168342,"answer_id":72892315,"question_id":44524118,"body_markdown":"This works, but need more some steps to get text formatting correctly:\r\n\r\n    \ttry (var fis = new FileInputStream(fileName);\r\n\t\t\t\tvar doc = new XWPFDocument(fis)) {\r\n\t\t\tvar pList = doc.getParagraphs();\r\n\t\t\tfor (var p : pList) {\r\n\t\t\t\tvar runs = p.getRuns();\r\n\t\t\t\tfor (int i = 0; i &lt; runs.size(); i++) {\r\n\t\t\t\t\tvar r = runs.get(i);\r\n\t\t\t\t\tif (r instanceof XWPFHyperlinkRun) {\r\n\t\t\t\t\t\tvar run = (XWPFHyperlinkRun) r;\r\n\t\t\t\t\t\tvar link = run.getHyperlink(doc);\r\n\t\t\t\t\t\t// To get text: link for checking\r\n\t\t\t\t\t\tSystem.out.println(run.getText(0) + &quot;: &quot; + link.getURL());\r\n\t\t\t\t\t\t// how i replace it\r\n\t\t\t\t\t\tvar run1 = p.insertNewHyperlinkRun(i, &quot;http://google.com&quot;);\r\n\t\t\t\t\t\trun1.setText(run.getText(0));\r\n\t\t\t\t\t\t// remove the old link\r\n\t\t\t\t\t\tp.removeRun(i + 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttry (var fos = new FileOutputStream(outFileName)) {\r\n\t\t\t\tdoc.write(fos);\r\n\t\t\t}\r\n\t\t}\r\n\r\nI&#39;m using these libraries:\r\n\r\n    implementation &#39;org.apache.poi:poi:5.2.2&#39;\r\n\timplementation &#39;org.apache.poi:poi-ooxml:5.2.2&#39;","title":"How to edit a Hyperlink in a Word Document using Apache POI?","body":"<p>This works, but need more some steps to get text formatting correctly:</p>\n<pre><code>    try (var fis = new FileInputStream(fileName);\n            var doc = new XWPFDocument(fis)) {\n        var pList = doc.getParagraphs();\n        for (var p : pList) {\n            var runs = p.getRuns();\n            for (int i = 0; i &lt; runs.size(); i++) {\n                var r = runs.get(i);\n                if (r instanceof XWPFHyperlinkRun) {\n                    var run = (XWPFHyperlinkRun) r;\n                    var link = run.getHyperlink(doc);\n                    // To get text: link for checking\n                    System.out.println(run.getText(0) + &quot;: &quot; + link.getURL());\n                    // how i replace it\n                    var run1 = p.insertNewHyperlinkRun(i, &quot;http://google.com&quot;);\n                    run1.setText(run.getText(0));\n                    // remove the old link\n                    p.removeRun(i + 1);\n                }\n            }\n        }\n        try (var fos = new FileOutputStream(outFileName)) {\n            doc.write(fos);\n        }\n    }\n</code></pre>\n<p>I'm using these libraries:</p>\n<pre><code>implementation 'org.apache.poi:poi:5.2.2'\nimplementation 'org.apache.poi:poi-ooxml:5.2.2'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8494000,"reputation":1108,"user_id":6454838,"display_name":"NickAth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657195442,"creation_date":1657195442,"answer_id":72897513,"question_id":44524118,"body_markdown":"I found a way to edit the url of the link in a &quot;indirect way&quot; (copy the previous hyperlink, modify the url, delete the previous hyperlink and add the new one in the paragraph). \r\n\r\nCode is shown below:\r\n\r\n    private void editLinksOfParagraph(XWPFParagraph paragraph, XWPFDocument document) {\r\n        for (int rIndex = 0; rIndex &lt; paragraph.getRuns().size(); rIndex++) {\r\n            XWPFRun run = paragraph.getRuns().get(rIndex);\r\n\r\n            if (run instanceof XWPFHyperlinkRun) {\r\n                // get the url of the link to edit it\r\n                XWPFHyperlink link = ((XWPFHyperlinkRun) run).getHyperlink(document);\r\n                String linkURL = link.getURL();\r\n                //get the xml representation of the hyperlink that includes all the information\r\n                XmlObject xmlObject = run.getCTR().copy();\r\n\r\n                linkURL += &quot;-edited-link&quot;; //edited url of the link, f.e add a &#39;-edited-link&#39; suffix\r\n                //remove the previous link from the paragraph\r\n                paragraph.removeRun(rIndex);\r\n                //add the new hyperlinked with updated url in the paragraph, in place of the previous deleted\r\n                XWPFHyperlinkRun hyperlinkRun = paragraph.insertNewHyperlinkRun(rIndex, linkURL);\r\n                hyperlinkRun.getCTR().set(xmlObject);\r\n            }\r\n        }\r\n    }","title":"How to edit a Hyperlink in a Word Document using Apache POI?","body":"<p>I found a way to edit the url of the link in a &quot;indirect way&quot; (copy the previous hyperlink, modify the url, delete the previous hyperlink and add the new one in the paragraph).</p>\n<p>Code is shown below:</p>\n<pre><code>private void editLinksOfParagraph(XWPFParagraph paragraph, XWPFDocument document) {\n    for (int rIndex = 0; rIndex &lt; paragraph.getRuns().size(); rIndex++) {\n        XWPFRun run = paragraph.getRuns().get(rIndex);\n\n        if (run instanceof XWPFHyperlinkRun) {\n            // get the url of the link to edit it\n            XWPFHyperlink link = ((XWPFHyperlinkRun) run).getHyperlink(document);\n            String linkURL = link.getURL();\n            //get the xml representation of the hyperlink that includes all the information\n            XmlObject xmlObject = run.getCTR().copy();\n\n            linkURL += &quot;-edited-link&quot;; //edited url of the link, f.e add a '-edited-link' suffix\n            //remove the previous link from the paragraph\n            paragraph.removeRun(rIndex);\n            //add the new hyperlinked with updated url in the paragraph, in place of the previous deleted\n            XWPFHyperlinkRun hyperlinkRun = paragraph.insertNewHyperlinkRun(rIndex, linkURL);\n            hyperlinkRun.getCTR().set(xmlObject);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657251345,"creation_date":1657197280,"answer_id":72897909,"question_id":44524118,"body_markdown":"This requirement needs knowledge about how hyperlinks referring to an external reference get stored in Microsoft Word documents and how this gets represented in `XWPF` of Apache POI.\r\n\r\nThe `XWPFHyperlinkRun` is the representation of a linked text run in a `IRunBody`. This text run, or even multiple text runs, is/are wrapped with a XML object of type `CTHyperlink`. This contains a relation ID which points to a relation in the package relations part. This package relation contains the URI which is the hyperlink&#39;s target.\r\n\r\nCurrently (`apache poi 5.2.2`) `XWPFHyperlinkRun` provides access to a `XWPFHyperlink`. But this is very rudimentary. It only has getters for the Id and the URI. It neither provides access to it&#39;s XWPFHyperlinkRun and it&#39;s IRunBody nor it provides a setter for the target URI in the package relations part. It not even has internally access to it&#39;s the package relations part.\r\n\r\nSo only using Apache POI classes the only possibility currently is to delete the old `XWPFHyperlinkRun` and create a new one pointing to the new URI. But as the text runs also contain the text formatting, deleting them will also delete the text formatting. It would must be copied from the old `XWPFHyperlinkRun` to the new before deleting the old one. That&#39;s uncomfortable. \r\n\r\nSo the rudimentary `XWPFHyperlink` should be extended to provide a setter for the target URI in the package relations part. A new class `XWPFHyperlinkExtended` could look like so:\r\n\r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.apache.poi.openxml4j.opc.PackageRelationship;\r\n    import org.apache.poi.openxml4j.exceptions.InvalidFormatException;\r\n    \r\n    /**\r\n     * Extended XWPF hyperlink class\r\n     * Provides access to it&#39;s Id, URI, XWPFHyperlinkRun, IRunBody.\r\n     * Provides setting target URI in PackageRelationship.\r\n    */\r\n    public class XWPFHyperlinkExtended {\r\n    \t\r\n     private String id;\r\n     private String uri;\r\n     private XWPFHyperlinkRun hyperlinkRun;\r\n     private IRunBody runBody;\r\n     private PackageRelationship rel;\r\n    \r\n     public XWPFHyperlinkExtended(XWPFHyperlinkRun hyperlinkRun, PackageRelationship rel) {\r\n      this.id = rel.getId();\r\n      this.uri = rel.getTargetURI().toString();\r\n      this.hyperlinkRun = hyperlinkRun;\r\n      this.runBody = hyperlinkRun.getParent();\r\n      this.rel = rel;\r\n     }\r\n    \r\n     public String getId() {\r\n      return this.id;\r\n     }\r\n     public String getURI() {\r\n      return this.uri;\r\n     }\r\n     public IRunBody getIRunBody() {\r\n      return this.runBody; \r\n     }\r\n     public XWPFHyperlinkRun getHyperlinkRun() {\r\n      return this.hyperlinkRun; \r\n     }\r\n     \r\n     /**\r\n      * Provides setting target URI in PackageRelationship.\r\n      * The old PackageRelationship gets removed.\r\n      * A new PackageRelationship gets added using the same Id.\r\n     */\r\n     public void setTargetURI(String uri) {\r\n      this.runBody.getPart().getPackagePart().removeRelationship(this.getId());\r\n      this.uri = uri;\r\n      PackageRelationship rel = this.runBody.getPart().getPackagePart().addExternalRelationship(uri, XWPFRelation.HYPERLINK.getRelation(), this.getId());\r\n      this.rel = rel;\r\n     }\r\n      \r\n    }\r\n\r\nIt does not extend `XWPFHyperlink` as this is so rudimentary it&#39;s not worth it. Furthermore after `setTargetURI` the `String uri` needs to be updated. But there is no setter in `XWPFHyperlink` and the field is only accessible from inside the package.\r\n\r\nThe new `XWPFHyperlinkExtended` can be got from `XWPFHyperlinkRun` like so:\r\n\r\n     /**\r\n      * If this HyperlinkRun refers to an external reference hyperlink,\r\n      * return the XWPFHyperlinkExtended object for it.\r\n      * May return null if no PackageRelationship found.\r\n     */\t\r\n     /*modifiers*/ XWPFHyperlinkExtended getHyperlink(XWPFHyperlinkRun hyperlinkRun) {\r\n      try {\r\n       for (org.apache.poi.openxml4j.opc.PackageRelationship rel : hyperlinkRun.getParent().getPart().getPackagePart().getRelationshipsByType(XWPFRelation.HYPERLINK.getRelation())) {\t \r\n        if (rel.getId().equals(hyperlinkRun.getHyperlinkId())) {\r\n         return new XWPFHyperlinkExtended(hyperlinkRun, rel);\r\n        }\r\n       }\r\n      } catch (org.apache.poi.openxml4j.exceptions.InvalidFormatException ifex) {\r\n       // do nothing, simply do not return something\t  \r\n      }\r\n      return null;\t \r\n     }\r\n\r\nOnce we have that `XWPFHyperlinkExtended` we can set an new target URI using it&#39;s method `setTargetURI`.\r\n\r\n______________________________________________________________\r\n\r\nA further problem results from the fact, that the XML object of type `CTHyperlink` can wrap around multiple text runs, not only one. Then multiple `XWPFHyperlinkRun` are in one `CTHyperlink` and point to one target URI. For example this could look like:\r\n\r\n... [this **is** a **link** to **example.com**]-&gt;https://example.com ...\r\n\r\nThis results in 6 `XWPFHyperlinkRun`s in one `CTHyperlink` linking to https://example.com.\r\n\r\nThis leads to problems when link text needs to be changed when the link target changes. The text of all the 6 text runs is the link text. So which text run shall be changed?\r\n\r\nThe best I have found is a method  which sets the text of the first text run in the CTHyperlink. \r\n\r\n     /**\r\n      * Sets the text of the first text run in the CTHyperlink of this XWPFHyperlinkRun.\r\n      * Tries solving the problem when a CTHyperlink contains multiple text runs.\r\n      * Then the String value is set in first text run only. All other text runs are set empty.\r\n     */\t\r\n     /*modifiers*/ void setTextInFirstRun(XWPFHyperlinkRun hyperlinkRun, String value) {\r\n      org.openxmlformats.schemas.wordprocessingml.x2006.main.CTHyperlink ctHyperlink = hyperlinkRun.getCTHyperlink();\r\n      for (int r = 0; r &lt; ctHyperlink.getRList().size(); r++) {\r\n       org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR ctR = ctHyperlink.getRList().get(r);\r\n       for (int t = 0; t &lt; ctR.getTList().size(); t++) {\r\n        org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText ctText = ctR.getTList().get(t);\r\n        if (r == 0 &amp;&amp; t == 0) {\r\n         ctText.setStringValue(value);  \r\n        } else {\r\n         ctText.setStringValue(&quot;&quot;);  \r\n        }\r\n       }\r\n      }\r\n     }\r\n\r\nThere the `String` value is set in first text run only. All other text runs are set empty. The text formatting of the first text run remains.\r\n\r\n\r\n","title":"How to edit a Hyperlink in a Word Document using Apache POI?","body":"<p>This requirement needs knowledge about how hyperlinks referring to an external reference get stored in Microsoft Word documents and how this gets represented in <code>XWPF</code> of Apache POI.</p>\n<p>The <code>XWPFHyperlinkRun</code> is the representation of a linked text run in a <code>IRunBody</code>. This text run, or even multiple text runs, is/are wrapped with a XML object of type <code>CTHyperlink</code>. This contains a relation ID which points to a relation in the package relations part. This package relation contains the URI which is the hyperlink's target.</p>\n<p>Currently (<code>apache poi 5.2.2</code>) <code>XWPFHyperlinkRun</code> provides access to a <code>XWPFHyperlink</code>. But this is very rudimentary. It only has getters for the Id and the URI. It neither provides access to it's XWPFHyperlinkRun and it's IRunBody nor it provides a setter for the target URI in the package relations part. It not even has internally access to it's the package relations part.</p>\n<p>So only using Apache POI classes the only possibility currently is to delete the old <code>XWPFHyperlinkRun</code> and create a new one pointing to the new URI. But as the text runs also contain the text formatting, deleting them will also delete the text formatting. It would must be copied from the old <code>XWPFHyperlinkRun</code> to the new before deleting the old one. That's uncomfortable.</p>\n<p>So the rudimentary <code>XWPFHyperlink</code> should be extended to provide a setter for the target URI in the package relations part. A new class <code>XWPFHyperlinkExtended</code> could look like so:</p>\n<pre><code>import org.apache.poi.xwpf.usermodel.*;\nimport org.apache.poi.openxml4j.opc.PackageRelationship;\nimport org.apache.poi.openxml4j.exceptions.InvalidFormatException;\n\n/**\n * Extended XWPF hyperlink class\n * Provides access to it's Id, URI, XWPFHyperlinkRun, IRunBody.\n * Provides setting target URI in PackageRelationship.\n*/\npublic class XWPFHyperlinkExtended {\n    \n private String id;\n private String uri;\n private XWPFHyperlinkRun hyperlinkRun;\n private IRunBody runBody;\n private PackageRelationship rel;\n\n public XWPFHyperlinkExtended(XWPFHyperlinkRun hyperlinkRun, PackageRelationship rel) {\n  this.id = rel.getId();\n  this.uri = rel.getTargetURI().toString();\n  this.hyperlinkRun = hyperlinkRun;\n  this.runBody = hyperlinkRun.getParent();\n  this.rel = rel;\n }\n\n public String getId() {\n  return this.id;\n }\n public String getURI() {\n  return this.uri;\n }\n public IRunBody getIRunBody() {\n  return this.runBody; \n }\n public XWPFHyperlinkRun getHyperlinkRun() {\n  return this.hyperlinkRun; \n }\n \n /**\n  * Provides setting target URI in PackageRelationship.\n  * The old PackageRelationship gets removed.\n  * A new PackageRelationship gets added using the same Id.\n */\n public void setTargetURI(String uri) {\n  this.runBody.getPart().getPackagePart().removeRelationship(this.getId());\n  this.uri = uri;\n  PackageRelationship rel = this.runBody.getPart().getPackagePart().addExternalRelationship(uri, XWPFRelation.HYPERLINK.getRelation(), this.getId());\n  this.rel = rel;\n }\n  \n}\n</code></pre>\n<p>It does not extend <code>XWPFHyperlink</code> as this is so rudimentary it's not worth it. Furthermore after <code>setTargetURI</code> the <code>String uri</code> needs to be updated. But there is no setter in <code>XWPFHyperlink</code> and the field is only accessible from inside the package.</p>\n<p>The new <code>XWPFHyperlinkExtended</code> can be got from <code>XWPFHyperlinkRun</code> like so:</p>\n<pre><code> /**\n  * If this HyperlinkRun refers to an external reference hyperlink,\n  * return the XWPFHyperlinkExtended object for it.\n  * May return null if no PackageRelationship found.\n */ \n /*modifiers*/ XWPFHyperlinkExtended getHyperlink(XWPFHyperlinkRun hyperlinkRun) {\n  try {\n   for (org.apache.poi.openxml4j.opc.PackageRelationship rel : hyperlinkRun.getParent().getPart().getPackagePart().getRelationshipsByType(XWPFRelation.HYPERLINK.getRelation())) {   \n    if (rel.getId().equals(hyperlinkRun.getHyperlinkId())) {\n     return new XWPFHyperlinkExtended(hyperlinkRun, rel);\n    }\n   }\n  } catch (org.apache.poi.openxml4j.exceptions.InvalidFormatException ifex) {\n   // do nothing, simply do not return something      \n  }\n  return null;   \n }\n</code></pre>\n<p>Once we have that <code>XWPFHyperlinkExtended</code> we can set an new target URI using it's method <code>setTargetURI</code>.</p>\n<hr />\n<p>A further problem results from the fact, that the XML object of type <code>CTHyperlink</code> can wrap around multiple text runs, not only one. Then multiple <code>XWPFHyperlinkRun</code> are in one <code>CTHyperlink</code> and point to one target URI. For example this could look like:</p>\n<p>... [this <strong>is</strong> a <strong>link</strong> to <strong>example.com</strong>]-&gt;https://example.com ...</p>\n<p>This results in 6 <code>XWPFHyperlinkRun</code>s in one <code>CTHyperlink</code> linking to <a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a>.</p>\n<p>This leads to problems when link text needs to be changed when the link target changes. The text of all the 6 text runs is the link text. So which text run shall be changed?</p>\n<p>The best I have found is a method  which sets the text of the first text run in the CTHyperlink.</p>\n<pre><code> /**\n  * Sets the text of the first text run in the CTHyperlink of this XWPFHyperlinkRun.\n  * Tries solving the problem when a CTHyperlink contains multiple text runs.\n  * Then the String value is set in first text run only. All other text runs are set empty.\n */ \n /*modifiers*/ void setTextInFirstRun(XWPFHyperlinkRun hyperlinkRun, String value) {\n  org.openxmlformats.schemas.wordprocessingml.x2006.main.CTHyperlink ctHyperlink = hyperlinkRun.getCTHyperlink();\n  for (int r = 0; r &lt; ctHyperlink.getRList().size(); r++) {\n   org.openxmlformats.schemas.wordprocessingml.x2006.main.CTR ctR = ctHyperlink.getRList().get(r);\n   for (int t = 0; t &lt; ctR.getTList().size(); t++) {\n    org.openxmlformats.schemas.wordprocessingml.x2006.main.CTText ctText = ctR.getTList().get(t);\n    if (r == 0 &amp;&amp; t == 0) {\n     ctText.setStringValue(value);  \n    } else {\n     ctText.setStringValue(&quot;&quot;);  \n    }\n   }\n  }\n }\n</code></pre>\n<p>There the <code>String</code> value is set in first text run only. All other text runs are set empty. The text formatting of the first text run remains.</p>\n"}],"owner":{"account_id":6628090,"reputation":167,"user_id":5117622,"accept_rate":44,"display_name":"Su_toL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":928,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1657251345,"creation_date":1497363406,"question_id":44524118,"body_markdown":"So I&#39;ve been browsing around the source code / documentation for POI (specifically XWPF) and I can&#39;t seem to find anything that relates to editing a hyperlink in a .docx. I only see functionality to get the information for the currently set hyperlink. My goal is to change the hyperlink in a .docx to link to &quot;http://yahoo.com&quot; from &quot;http://google.com&quot; as an example. Any help would be greatly appreciated. Thanks!","title":"How to edit a Hyperlink in a Word Document using Apache POI?","body":"<p>So I've been browsing around the source code / documentation for POI (specifically XWPF) and I can't seem to find anything that relates to editing a hyperlink in a .docx. I only see functionality to get the information for the currently set hyperlink. My goal is to change the hyperlink in a .docx to link to \"<a href=\"http://yahoo.com\" rel=\"noreferrer\">http://yahoo.com</a>\" from \"<a href=\"http://google.com\" rel=\"noreferrer\">http://google.com</a>\" as an example. Any help would be greatly appreciated. Thanks!</p>\n"},{"tags":["java","zip"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657249728,"creation_date":1657181777,"answer_id":72894442,"question_id":72893743,"body_markdown":"_**Warning:** The below causes each entry in the source ZIP file to be decompressed, only to immediately recompress it when copying it to the target ZIP file. As far as I can tell, this is unavoidable if all you have access to is the `ZipInputStream`. Perhaps someone else knows of a better approach. I would recommend modifying your code to somehow get the raw byte stream of the ZIP file, that way you can just dump the bytes into your target file._\r\n\r\n---\r\n\r\nIf I understand your goal correctly, you want to copy a ZIP file from one location to another, but you only have access to the ZIP file via a `ZipInputStream`. If that&#39;s the case, then you can implement this by opening a `ZipOutputStream` to the target file and copying the entries over.\r\n\r\nFor example:\r\n\r\n```lang-java\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.util.zip.ZipEntry;\r\nimport java.util.zip.ZipInputStream;\r\nimport java.util.zip.ZipOutputStream;\r\n\r\npublic class Main {\r\n\r\n  public static void copyZipFile(ZipInputStream in, File target) throws IOException {\r\n    try (ZipOutputStream out = new ZipOutputStream(new FileOutputStream(target))) {\r\n      byte[] buffer = new byte[1024 * 8];\r\n\r\n      ZipEntry entry;\r\n      while ((entry = in.getNextEntry()) != null) {\r\n        out.putNextEntry(entry);\r\n        \r\n        int read;\r\n        while ((read = in.read(buffer)) != -1) {\r\n          out.write(buffer, 0, read);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    File target = /* your target file */;\r\n    try (ZipInputStream in = /* your ZipInputStream */) {\r\n      copyZipFile(in, target);\r\n    } catch (IOException ex) {\r\n      ex.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIt&#39;s important you close the streams when done with them (which is done via _try-with-resources_ in the above example).\r\n\r\nNote the manual buffer handling can be replaced with `InputStream#transferTo(OutputStream)` in Java 9+.","title":"How can I create a Zipfile and save it to my local path when I have access to ZipInputStream","body":"<p><em><strong>Warning:</strong> The below causes each entry in the source ZIP file to be decompressed, only to immediately recompress it when copying it to the target ZIP file. As far as I can tell, this is unavoidable if all you have access to is the <code>ZipInputStream</code>. Perhaps someone else knows of a better approach. I would recommend modifying your code to somehow get the raw byte stream of the ZIP file, that way you can just dump the bytes into your target file.</em></p>\n<hr />\n<p>If I understand your goal correctly, you want to copy a ZIP file from one location to another, but you only have access to the ZIP file via a <code>ZipInputStream</code>. If that's the case, then you can implement this by opening a <code>ZipOutputStream</code> to the target file and copying the entries over.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipInputStream;\nimport java.util.zip.ZipOutputStream;\n\npublic class Main {\n\n  public static void copyZipFile(ZipInputStream in, File target) throws IOException {\n    try (ZipOutputStream out = new ZipOutputStream(new FileOutputStream(target))) {\n      byte[] buffer = new byte[1024 * 8];\n\n      ZipEntry entry;\n      while ((entry = in.getNextEntry()) != null) {\n        out.putNextEntry(entry);\n        \n        int read;\n        while ((read = in.read(buffer)) != -1) {\n          out.write(buffer, 0, read);\n        }\n      }\n    }\n  }\n\n  public static void main(String[] args) {\n    File target = /* your target file */;\n    try (ZipInputStream in = /* your ZipInputStream */) {\n      copyZipFile(in, target);\n    } catch (IOException ex) {\n      ex.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>It's important you close the streams when done with them (which is done via <em>try-with-resources</em> in the above example).</p>\n<p>Note the manual buffer handling can be replaced with <code>InputStream#transferTo(OutputStream)</code> in Java 9+.</p>\n"}],"owner":{"account_id":24048061,"reputation":118,"user_id":18026862,"display_name":"Arjun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657249728,"creation_date":1657178418,"question_id":72893743,"body_markdown":"I have a method which has access to the zip file&#39;s name and the zipInputStream object (The zipInputStream actually comes from a service which cannot take any additional changes). I want to save the contents of the zipInputStream as a ZIP file in a particular path on my system. Can someone help me with the best way to do this? \r\n\r\nPS: I&#39;m still finding my way around java","title":"How can I create a Zipfile and save it to my local path when I have access to ZipInputStream","body":"<p>I have a method which has access to the zip file's name and the zipInputStream object (The zipInputStream actually comes from a service which cannot take any additional changes). I want to save the contents of the zipInputStream as a ZIP file in a particular path on my system. Can someone help me with the best way to do this?</p>\n<p>PS: I'm still finding my way around java</p>\n"},{"tags":["java","macos","http"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1657242215,"post_id":72905635,"comment_id":128770374,"body_markdown":"My guess is that you don&#39;t have the right permissions set on the Mac. Don&#39;t much about MacOS, but I have a feeling that you need to set read/write privileges correctly for either the logged user or the application.","body":"My guess is that you don&#39;t have the right permissions set on the Mac. Don&#39;t much about MacOS, but I have a feeling that you need to set read/write privileges correctly for either the logged user or the application."},{"owner":{"account_id":18089914,"reputation":59,"user_id":13149761,"display_name":"NoThrottle"},"score":0,"creation_date":1657242433,"post_id":72905635,"comment_id":128770401,"body_markdown":"What do you mean by that? AFAIK, sudo is the only way to elevate a program, and the issue persists regardless of the elevation. Granted, I&#39;m basing off linux knowledge, macOS might work entirely differently. @hfontanez","body":"What do you mean by that? AFAIK, sudo is the only way to elevate a program, and the issue persists regardless of the elevation. Granted, I&#39;m basing off linux knowledge, macOS might work entirely differently. @hfontanez"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1657242679,"post_id":72905635,"comment_id":128770429,"body_markdown":"I would check your firewall, and all the firewalls in between this system and the outside world.  Maybe try `traceroute` to see where the packets die.","body":"I would check your firewall, and all the firewalls in between this system and the outside world.  Maybe try <code>traceroute</code> to see where the packets die."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1657242703,"post_id":72905635,"comment_id":128770431,"body_markdown":"Think about this... in Windows, if you are not an admin user, you will be denied access to a user folder that isn&#39;t the current user. I am sure MacOS has something similar. That&#39;s my guess.","body":"Think about this... in Windows, if you are not an admin user, you will be denied access to a user folder that isn&#39;t the current user. I am sure MacOS has something similar. That&#39;s my guess."},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":1,"creation_date":1657243147,"post_id":72905635,"comment_id":128770489,"body_markdown":"If your client gets a 403 response, then shouldn&#39;t the server&#39;s error_log reveal the cause?","body":"If your client gets a 403 response, then shouldn&#39;t the server&#39;s error_log reveal the cause?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1657243606,"post_id":72905635,"comment_id":128770563,"body_markdown":"Well it has nothing to do with (1), NIO, (2) Java, (3) `sudo`, (4) local file permissions. The *server* denied you access. It doesn&#39;t know about any of these things. Possibly you got bounced by a local HTTP proxy.","body":"Well it has nothing to do with (1), NIO, (2) Java, (3) <code>sudo</code>, (4) local file permissions. The <i>server</i> denied you access. It doesn&#39;t know about any of these things. Possibly you got bounced by a local HTTP proxy."},{"owner":{"account_id":18089914,"reputation":59,"user_id":13149761,"display_name":"NoThrottle"},"score":0,"creation_date":1657244813,"post_id":72905635,"comment_id":128770746,"body_markdown":"@user207421 how would you suggest modifying the code above so it gives me more information (e.g the response body)? It seems downloading it every other way besides NIO works.","body":"@user207421 how would you suggest modifying the code above so it gives me more information (e.g the response body)? It seems downloading it every other way besides NIO works."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1657245351,"post_id":72905635,"comment_id":128770834,"body_markdown":"Is Java downloading from the Mac system in question?  Then I&#39;m going to guess that the SSL layer may not be working right for NIO.  I haven&#39;t looked at SSL on top of NIO thoroughly myself, so I&#39;m sorta guessing.","body":"Is Java downloading from the Mac system in question?  Then I&#39;m going to guess that the SSL layer may not be working right for NIO.  I haven&#39;t looked at SSL on top of NIO thoroughly myself, so I&#39;m sorta guessing."},{"owner":{"account_id":18089914,"reputation":59,"user_id":13149761,"display_name":"NoThrottle"},"score":0,"creation_date":1657245565,"post_id":72905635,"comment_id":128770859,"body_markdown":"@markspace Java is downloading to the mac. Unless I read your question wrong.","body":"@markspace Java is downloading to the mac. Unless I read your question wrong."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1657245572,"post_id":72905635,"comment_id":128770860,"body_markdown":"It doesn&#39;t have anything to do with the code. Do you have a local proxy set? and does Java know about it?","body":"It doesn&#39;t have anything to do with the code. Do you have a local proxy set? and does Java know about it?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1657245607,"post_id":72905635,"comment_id":128770864,"body_markdown":"@markspace The fact that a 403 response was received proves that it doesn&#39;t have anything to do with SSL.","body":"@markspace The fact that a 403 response was received proves that it doesn&#39;t have anything to do with SSL."},{"owner":{"account_id":18089914,"reputation":59,"user_id":13149761,"display_name":"NoThrottle"},"score":0,"creation_date":1657245949,"post_id":72905635,"comment_id":128770919,"body_markdown":"I removed all the code that attempts to clean up errors and added the full? error stack trace.","body":"I removed all the code that attempts to clean up errors and added the full? error stack trace."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1657246486,"post_id":72905635,"comment_id":128770984,"body_markdown":"@NoThrottle That&#39;s a fair point, I was thinking about it in terms of a Java IO error, not in terms of the server actually replying with an error code.","body":"@NoThrottle That&#39;s a fair point, I was thinking about it in terms of a Java IO error, not in terms of the server actually replying with an error code."}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1657246161,"creation_date":1657245293,"answer_id":72905917,"question_id":72905635,"body_markdown":"With high probably, the HTTP server doesn&#39;t like the Java default [user agent ](http://www.useragentstring.com) header, which is being sent - or it&#39;s absence; use another client. This can easily be validated by comparing the server logs. https://datatracker.ietf.org/doc/html/rfc7231#section-6.5.3\r\n\r\nThe point is, that neither NIO `Channel` nor `URL` permit setting that header.","title":"Why is it that Java NIO Download works on Windows but returns Forbidden 403 on macOS?","body":"<p>With high probably, the HTTP server doesn't like the Java default <a href=\"http://www.useragentstring.com\" rel=\"nofollow noreferrer\">user agent </a> header, which is being sent - or it's absence; use another client. This can easily be validated by comparing the server logs. <a href=\"https://datatracker.ietf.org/doc/html/rfc7231#section-6.5.3\" rel=\"nofollow noreferrer\">https://datatracker.ietf.org/doc/html/rfc7231#section-6.5.3</a></p>\n<p>The point is, that neither NIO <code>Channel</code> nor <code>URL</code> permit setting that header.</p>\n"}],"owner":{"account_id":18089914,"reputation":59,"user_id":13149761,"display_name":"NoThrottle"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72905917,"answer_count":1,"score":0,"last_activity_date":1657247981,"creation_date":1657241785,"question_id":72905635,"body_markdown":"I have a small command-line program that I wrote for re-downloading files from a server in bulk. It works flawlessly in Windows, but doesn&#39;t seem to work in macOS. \r\n\r\nHere is the error I receive:\r\n\r\n```\r\nDownload failed: java.io.IOException: Server returned HTTP response code: 403 for URL:\r\nhttps://cdn.modrinth.com/data/P7dR8mSH/versions/0.56.3+1.19/fabric-api-0.56.3%2B1.19.jar\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1914)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1512)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:268)\r\n\tat java.net.URL.openStream(URL.java:1092)\r\n\tat main.downloadUsingNIO(main.java:37)\r\n\tat main.main(main.java:20)\r\n```\r\n\r\nRelevant code:\r\n```\r\n   private static void downloadUsingNIO(String urlStr, String file) throws IOException {\r\n       URL url = new URL(urlStr);\r\n       ReadableByteChannel rbc = Channels.newChannel(url.openStream());\r\n       FileOutputStream fos = new FileOutputStream(file);\r\n       fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n       fos.close();\r\n       rbc.close();\r\n   }\r\n```\r\n\r\nUsage:\r\n```\r\ndownloadUsingNIO(URLOFFILE, WHERETOSAVEANDTOWHATFILE);\r\n```\r\n\r\nOther information:\r\n 1. Both windows and macos accounts used are the primary administrator accounts.\r\n 2. running the jar with elevated permissions through &quot;sudo java -jar &quot; does not fix it.\r\n 3. The file is downloadable in safari with the same link.\r\n 4. The download works with &quot;curl -o thing.jar &lt;link&gt;&quot;\r\n 5. Tried Apache Commons.IO, didn&#39;t do anything as it uses the same code underneath (the stacktrace was the same)\r\n\r\n--------------------\r\n\r\nThank you for the answers, this is the code that I used to fix the issue:\r\n\r\n```\r\nprivate static void downloadUsingNIO(String Strurl, String path) throws IOException {\r\n\r\n        final URLConnection connection = new URL(Strurl).openConnection();\r\n        connection.addRequestProperty(&quot;User-Agent&quot;,\r\n                &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:102.0) Gecko/20100101 Firefox/102.0&quot;);\r\n\r\n        final int contentLength = connection.getContentLength();\r\n        final File end = new File(path);\r\n\r\n        if (end.exists()) {\r\n            final URLConnection savedFileConnection = end.toURI().toURL().openConnection();\r\n            if (savedFileConnection.getContentLength() == contentLength) {\r\n                return;\r\n            }\r\n        } else {\r\n            final File dir = end.getParentFile();\r\n            if (!dir.exists())\r\n                dir.mkdirs();\r\n        }\r\n\r\n        final ReadableByteChannel rbc = Channels.newChannel(connection.getInputStream());\r\n        final FileOutputStream fos = new FileOutputStream(end);\r\n        fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n        fos.close();\r\n\t\t\r\n        return;\r\n\t}\r\n```","title":"Why is it that Java NIO Download works on Windows but returns Forbidden 403 on macOS?","body":"<p>I have a small command-line program that I wrote for re-downloading files from a server in bulk. It works flawlessly in Windows, but doesn't seem to work in macOS.</p>\n<p>Here is the error I receive:</p>\n<pre><code>Download failed: java.io.IOException: Server returned HTTP response code: 403 for URL:\nhttps://cdn.modrinth.com/data/P7dR8mSH/versions/0.56.3+1.19/fabric-api-0.56.3%2B1.19.jar\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1914)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1512)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:268)\n    at java.net.URL.openStream(URL.java:1092)\n    at main.downloadUsingNIO(main.java:37)\n    at main.main(main.java:20)\n</code></pre>\n<p>Relevant code:</p>\n<pre><code>   private static void downloadUsingNIO(String urlStr, String file) throws IOException {\n       URL url = new URL(urlStr);\n       ReadableByteChannel rbc = Channels.newChannel(url.openStream());\n       FileOutputStream fos = new FileOutputStream(file);\n       fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n       fos.close();\n       rbc.close();\n   }\n</code></pre>\n<p>Usage:</p>\n<pre><code>downloadUsingNIO(URLOFFILE, WHERETOSAVEANDTOWHATFILE);\n</code></pre>\n<p>Other information:</p>\n<ol>\n<li>Both windows and macos accounts used are the primary administrator accounts.</li>\n<li>running the jar with elevated permissions through &quot;sudo java -jar &quot; does not fix it.</li>\n<li>The file is downloadable in safari with the same link.</li>\n<li>The download works with &quot;curl -o thing.jar &quot;</li>\n<li>Tried Apache Commons.IO, didn't do anything as it uses the same code underneath (the stacktrace was the same)</li>\n</ol>\n<hr />\n<p>Thank you for the answers, this is the code that I used to fix the issue:</p>\n<pre><code>private static void downloadUsingNIO(String Strurl, String path) throws IOException {\n\n        final URLConnection connection = new URL(Strurl).openConnection();\n        connection.addRequestProperty(&quot;User-Agent&quot;,\n                &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:102.0) Gecko/20100101 Firefox/102.0&quot;);\n\n        final int contentLength = connection.getContentLength();\n        final File end = new File(path);\n\n        if (end.exists()) {\n            final URLConnection savedFileConnection = end.toURI().toURL().openConnection();\n            if (savedFileConnection.getContentLength() == contentLength) {\n                return;\n            }\n        } else {\n            final File dir = end.getParentFile();\n            if (!dir.exists())\n                dir.mkdirs();\n        }\n\n        final ReadableByteChannel rbc = Channels.newChannel(connection.getInputStream());\n        final FileOutputStream fos = new FileOutputStream(end);\n        fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n        fos.close();\n        \n        return;\n    }\n</code></pre>\n"},{"tags":["java","google-api","gmail-api"],"comments":[{"owner":{"account_id":1628937,"reputation":13445,"user_id":1503886,"accept_rate":100,"display_name":"Jay Lee"},"score":0,"creation_date":1458911731,"post_id":36214968,"comment_id":60072632,"body_markdown":"What errors do you get?","body":"What errors do you get?"},{"owner":{"account_id":2215904,"reputation":3694,"user_id":1956510,"accept_rate":55,"display_name":"tqjustc"},"score":0,"creation_date":1458930319,"post_id":36214968,"comment_id":60082404,"body_markdown":"@JayLee  the output is one word: `Error`","body":"@JayLee  the output is one word: <code>Error</code>"},{"owner":{"account_id":6665255,"reputation":1742,"user_id":5143082,"accept_rate":83,"display_name":"Bhunnu Baba"},"score":0,"creation_date":1459142875,"post_id":36214968,"comment_id":60142098,"body_markdown":"do you see msg &quot;Invalid string value&quot; in your output?","body":"do you see msg &quot;Invalid string value&quot; in your output?"},{"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"score":0,"creation_date":1459275183,"post_id":36214968,"comment_id":60209177,"body_markdown":"@tqjustc Would you please provide **e.printStackTrace();** from your catch block? It will help to give you proper solution.","body":"@tqjustc Would you please provide <b>e.printStackTrace();</b> from your catch block? It will help to give you proper solution."},{"owner":{"account_id":2215904,"reputation":3694,"user_id":1956510,"accept_rate":55,"display_name":"tqjustc"},"score":0,"creation_date":1459312804,"post_id":36214968,"comment_id":60223882,"body_markdown":"@SkyWalker  It still printed:  400,  Bad request","body":"@SkyWalker  It still printed:  400,  Bad request"},{"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"score":0,"creation_date":1459477106,"post_id":36214968,"comment_id":60315222,"body_markdown":"@tqjustc Would you please check my updated answer? I have provided 2 running code as sample, some precautions and token related info. Hope it will help you.","body":"@tqjustc Would you please check my updated answer? I have provided 2 running code as sample, some precautions and token related info. Hope it will help you."},{"owner":{"account_id":1888725,"reputation":1493,"user_id":1707382,"display_name":"SlavaSt"},"score":0,"creation_date":1459509583,"post_id":36214968,"comment_id":60329635,"body_markdown":"Why don&#39;t you want to use google&#39;s Gmail Java API?  https://developers.google.com/gmail/api/quickstart/java","body":"Why don&#39;t you want to use google&#39;s Gmail Java API?  <a href=\"https://developers.google.com/gmail/api/quickstart/java\" rel=\"nofollow noreferrer\">developers.google.com/gmail/api/quickstart/java</a>"},{"owner":{"account_id":14157912,"reputation":105,"user_id":10228014,"display_name":"Tabish"},"score":0,"creation_date":1585370079,"post_id":36214968,"comment_id":107741319,"body_markdown":"I am facing the same error that is \n{\n    &quot;error&quot;: &quot;invalid_grant&quot;,\n    &quot;error_description&quot;: &quot;Bad Request&quot;\n}\nI am using the endpoint via postman can anyone tell me what i should use in grant_type parameter ?","body":"I am facing the same error that is  {     &quot;error&quot;: &quot;invalid_grant&quot;,     &quot;error_description&quot;: &quot;Bad Request&quot; } I am using the endpoint via postman can anyone tell me what i should use in grant_type parameter ?"},{"owner":{"account_id":4386610,"reputation":105,"user_id":3576562,"accept_rate":80,"display_name":"Programminghobby"},"score":0,"creation_date":1589239676,"post_id":36214968,"comment_id":109209909,"body_markdown":"@tqjustc I am trying to make Rest calls to the gmail api server without the gmail client library and without the user prompt to send emails in gmail. I see you are making a similar call in native java. In your java code above, where did your value for the &quot;code&quot; url parameter? Also the since I am programming the REST request to gmail api from my ionic/angular2 mobile(android/ios) app, and the link you have says &quot;The client_secret is not applicable to requests from clients registered as Android, iOS, or Chrome applications.&quot; do I skip the &quot;client_secret&quot; or do I replace it with something else?","body":"@tqjustc I am trying to make Rest calls to the gmail api server without the gmail client library and without the user prompt to send emails in gmail. I see you are making a similar call in native java. In your java code above, where did your value for the &quot;code&quot; url parameter? Also the since I am programming the REST request to gmail api from my ionic/angular2 mobile(android/ios) app, and the link you have says &quot;The client_secret is not applicable to requests from clients registered as Android, iOS, or Chrome applications.&quot; do I skip the &quot;client_secret&quot; or do I replace it with something else?"}],"answers":[{"tags":[],"owner":{"account_id":8082020,"reputation":946,"user_id":6090859,"display_name":"newhouse"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1459104955,"creation_date":1459104955,"answer_id":36251298,"question_id":36214968,"body_markdown":"You are not using the right endpoint. Try to change the `authURL` to `https://www.googleapis.com/oauth2/v4/token`\r\n\r\nFrom the documentation:\r\n\r\n&gt; To make this token request, send an HTTP POST request to the /oauth2/v4/token endpoint\r\n\r\nThe actual request might look like the following:\r\n\r\n    POST /oauth2/v4/token HTTP/1.1\r\n    Host: www.googleapis.com\r\n    Content-Type: application/x-www-form-urlencoded\r\n\r\n    code=4/v6xr77ewYqhvHSyW6UJ1w7jKwAzu&amp;\r\n    client_id=8819981768.apps.googleusercontent.com&amp;\r\n    client_secret=your_client_secret&amp;\r\n    redirect_uri=https://oauth2-login-demo.appspot.com/code&amp;\r\n    grant_type=authorization_code\r\n\r\n**Reference** https://developers.google.com/identity/protocols/OAuth2InstalledApp#handlingtheresponse","title":"How to get access token using gmail api","body":"<p>You are not using the right endpoint. Try to change the <code>authURL</code> to <code>https://www.googleapis.com/oauth2/v4/token</code></p>\n\n<p>From the documentation:</p>\n\n<blockquote>\n  <p>To make this token request, send an HTTP POST request to the /oauth2/v4/token endpoint</p>\n</blockquote>\n\n<p>The actual request might look like the following:</p>\n\n<pre><code>POST /oauth2/v4/token HTTP/1.1\nHost: www.googleapis.com\nContent-Type: application/x-www-form-urlencoded\n\ncode=4/v6xr77ewYqhvHSyW6UJ1w7jKwAzu&amp;\nclient_id=8819981768.apps.googleusercontent.com&amp;\nclient_secret=your_client_secret&amp;\nredirect_uri=https://oauth2-login-demo.appspot.com/code&amp;\ngrant_type=authorization_code\n</code></pre>\n\n<p><strong>Reference</strong> <a href=\"https://developers.google.com/identity/protocols/OAuth2InstalledApp#handlingtheresponse\" rel=\"nofollow\">https://developers.google.com/identity/protocols/OAuth2InstalledApp#handlingtheresponse</a></p>\n"},{"tags":[],"owner":{"account_id":1706562,"reputation":2945,"user_id":1565503,"accept_rate":27,"display_name":"Benoit Vanalderweireldt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459299459,"creation_date":1459137681,"answer_id":36255783,"question_id":36214968,"body_markdown":"**For me your request is fine**, I tried it using Curl, I also get a &#39;HTTP/1.1 400 Bad Request&#39; with the reason why it failed &#39;invalid_grant&#39; :\r\n\r\n    curl -X POST https://www.googleapis.com/oauth2/v4/token -d &#39;code=4/SVisuz_x*********************&amp;client_id=*******************7vet.apps.googleusercontent.com&amp;client_secret=***************&amp;redirect_uri=https://oauth2-login-demo.appspot.com/code&amp;grant_type=authorization_code&#39;\r\n\r\nI receive (HTTP/1.1 400 Bad Request) :\r\n\r\n    {\r\n     &quot;error&quot;: &quot;invalid_grant&quot;,\r\n     &quot;error_description&quot;: &quot;Code was already redeemed.&quot;\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nNow using HttpClient from Apache :\r\n\r\n\tURL obj = new URL(authURL);\r\n\tHttpClient client = HttpClientBuilder.create().build();\r\n\tHttpPost post = new HttpPost(authURL);\r\n\tpost.addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\tpost.addHeader(&quot;Host&quot;, &quot;www.googleapis.com&quot;);\r\n\tpost.setEntity(new StringEntity(strBuild.toString()));\r\n\t        \r\n\tHttpResponse resp = client.execute(post);\r\n\tSystem.out.println(resp.getStatusLine());\r\n\tSystem.out.println(EntityUtils.toString(resp.getEntity()));\r\n\r\nI see in my console :\r\n\r\n    HTTP/1.1 400 Bad Request\r\n    {\r\n     &quot;error&quot;: &quot;invalid_grant&quot;,\r\n     &quot;error_description&quot;: &quot;Code was already redeemed.&quot;\r\n    }\r\n\r\n\r\n----------\r\n\r\nAre you sure the code you are using is still valid ? Can you try with a new one ?","title":"How to get access token using gmail api","body":"<p><strong>For me your request is fine</strong>, I tried it using Curl, I also get a 'HTTP/1.1 400 Bad Request' with the reason why it failed 'invalid_grant' :</p>\n\n<pre><code>curl -X POST https://www.googleapis.com/oauth2/v4/token -d 'code=4/SVisuz_x*********************&amp;client_id=*******************7vet.apps.googleusercontent.com&amp;client_secret=***************&amp;redirect_uri=https://oauth2-login-demo.appspot.com/code&amp;grant_type=authorization_code'\n</code></pre>\n\n<p>I receive (HTTP/1.1 400 Bad Request) :</p>\n\n<pre><code>{\n \"error\": \"invalid_grant\",\n \"error_description\": \"Code was already redeemed.\"\n}\n</code></pre>\n\n<hr>\n\n<p>Now using HttpClient from Apache :</p>\n\n<pre><code>URL obj = new URL(authURL);\nHttpClient client = HttpClientBuilder.create().build();\nHttpPost post = new HttpPost(authURL);\npost.addHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\npost.addHeader(\"Host\", \"www.googleapis.com\");\npost.setEntity(new StringEntity(strBuild.toString()));\n\nHttpResponse resp = client.execute(post);\nSystem.out.println(resp.getStatusLine());\nSystem.out.println(EntityUtils.toString(resp.getEntity()));\n</code></pre>\n\n<p>I see in my console :</p>\n\n<pre><code>HTTP/1.1 400 Bad Request\n{\n \"error\": \"invalid_grant\",\n \"error_description\": \"Code was already redeemed.\"\n}\n</code></pre>\n\n<hr>\n\n<p>Are you sure the code you are using is still valid ? Can you try with a new one ?</p>\n"},{"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1459737278,"creation_date":1459183260,"answer_id":36266696,"question_id":36214968,"body_markdown":"&gt; How to get access token using gmail api?\r\n\r\n**Ans:** As per [your following tutorial][1], you are using `OAuth 2.0`. So there is a basic pattern for accessing a Google API using `OAuth 2.0`. It follows 4 steps:\r\n\r\n 1. Obtain OAuth 2.0 credentials from the Google Developers Console.\r\n 2. Obtain an access token from the Google Authorization Server.\r\n 3. Send the access token to an API.\r\n 4. Refresh the access token, if necessary.\r\n\r\nFor details, you can follow the tutorial - [Using OAuth 2.0 to Access Google APIs][2]\r\n\r\n\r\nYou have to visit the [Google Developers Console][3] to obtain OAuth 2.0 credentials such as a `client ID` and `client secret` that are known to both Google and your application\r\n\r\n---\r\n\r\nRoot Cause Analysis:\r\n--\r\n**Issue-1:**\r\n\r\nAfter studying your code, some lacking are found. If your code runs smoothly, then the code always give an empty string. Because your `AccessToken()` method always return `return &quot;&quot;;`\r\n\r\n**Issue-2:**\r\n\r\n     catch (Exception e)\r\n        {\r\n            System.out.println(&quot;Error.&quot;);\r\n        }\r\nYour try catch block is going exception block. Because, it seems that you have not completed your code properly. You have missed `encoding` as well as using `JSONObject` which prepares the access token. So it is giving output as \r\n\r\n&gt; Error.\r\n\r\nSolution:\r\n---------\r\nI got that your code is similar with this [tutorial][4]\r\n\r\n\r\nAs your code needs more changes to solve your issue. So I offer you to use **LinkedHashMap** or **ArrayList**. Those will provide easier way to make solution. So I give you 2 sample code to make your life easier. You can choose any of them. You need to change `refresh_token, client id, client secret and grant type` as yours.\r\n\r\n    private String getAccessToken()\r\n    {\r\n        try\r\n        {\r\n            Map&lt;String,Object&gt; params = new LinkedHashMap&lt;&gt;();\r\n            params.put(&quot;grant_type&quot;,&quot;refresh_token&quot;);\r\n            params.put(&quot;client_id&quot;,[YOUR CLIENT ID]);\r\n            params.put(&quot;client_secret&quot;,[YOUR CLIENT SECRET]);\r\n            params.put(&quot;refresh_token&quot;,[YOUR REFRESH TOKEN]);\r\n    \r\n            StringBuilder postData = new StringBuilder();\r\n            for(Map.Entry&lt;String,Object&gt; param : params.entrySet())\r\n            {\r\n                if(postData.length() != 0)\r\n                {\r\n                    postData.append(&#39;&amp;&#39;);\r\n                }\r\n                postData.append(URLEncoder.encode(param.getKey(),&quot;UTF-8&quot;));\r\n                postData.append(&#39;=&#39;);\r\n                postData.append(URLEncoder.encode(String.valueOf(param.getValue()),&quot;UTF-8&quot;));\r\n            }\r\n            byte[] postDataBytes = postData.toString().getBytes(&quot;UTF-8&quot;);\r\n    \r\n            URL url = new URL(&quot;https://accounts.google.com/o/oauth2/token&quot;);\r\n            HttpURLConnection con = (HttpURLConnection)url.openConnection();\r\n            con.setDoOutput(true);\r\n            con.setUseCaches(false);\r\n            con.setRequestMethod(&quot;POST&quot;);\r\n            con.getOutputStream().write(postDataBytes);\r\n    \r\n            BufferedReader  reader = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n            StringBuffer buffer = new StringBuffer();\r\n            for (String line = reader.readLine(); line != null; line = reader.readLine())\r\n            {\r\n                buffer.append(line);\r\n            }\r\n    \r\n            JSONObject json = new JSONObject(buffer.toString());\r\n            String accessToken = json.getString(&quot;access_token&quot;);\r\n            return accessToken;\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            ex.printStackTrace(); \r\n        }\r\n        return null;\r\n    }\r\n\r\n&gt; For **accessing google play android developer api**, you need to pass the\r\n&gt; previous refresh token to get access token\r\n\r\n    private String getAccessToken(String refreshToken){\r\n    \r\n    HttpClient client = new DefaultHttpClient();\r\n    HttpPost post = new HttpPost(&quot;https://accounts.google.com/o/oauth2/token&quot;);\r\n    try \r\n    {\r\n        List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;(4);\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;grant_type&quot;,    &quot;refresh_token&quot;));\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;client_id&quot;,     GOOGLE_CLIENT_ID));\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;client_secret&quot;, GOOGLE_CLIENT_SECRET));\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;refresh_token&quot;, refreshToken));\r\n        post.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n    \r\n        org.apache.http.HttpResponse response = client.execute(post);\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\r\n        StringBuffer buffer = new StringBuffer();\r\n        for (String line = reader.readLine(); line != null; line = reader.readLine())\r\n        {\r\n            buffer.append(line);\r\n        }\r\n    \r\n        JSONObject json = new JSONObject(buffer.toString());\r\n        String accessToken = json.getString(&quot;access_token&quot;);\r\n    \r\n        return accessToken;\r\n    \r\n    }\r\n    catch (IOException e) { e.printStackTrace(); }\r\n    \r\n    return null;\r\n    }\r\n\r\nResource Link:\r\n--------------\r\n- [Unable to get the subscription information from Google Play Android Developer API][5]\r\n\r\n- [Using java.net.URLConnection to fire and handle HTTP requests][6]\r\n\r\n- [How to send HTTP request GET/POST in Java][7]\r\n\r\n\r\nHope that, this `samples` and `resource link` will help you to solve your issue and get access of `access token`.\r\n\r\n---\r\n\r\n[What is 400 bad request?][8]\r\n------------------------\r\n\r\n**Ans:** It indicates that the query was invalid. Parent ID was missing or the combination of dimensions or metrics requested was not valid.\r\n\r\n**Recommended Action:** You need to make changes to the API query in order for it to work.\r\n\r\n&gt; For `HTTP/1.1 400 Bad Request error`, you can go through [my another\r\n&gt; answer][11]. **It will help you to make sense about `which host you\r\n&gt; need to use` and which conditions you need to apply**.\r\n\r\n[Why token expires? What is the limit of token?][9]\r\n---\r\nA token might stop working for one of these reasons:\r\n\r\n 1. The user has `revoked` access.\r\n 2. The token has not been used for `six months`.\r\n 3. The `user changed passwords` and the token contains Gmail, Calendar,\r\n    Contacts, or Hangouts scopes.\r\n 4. The user account has `exceeded a certain number of token requests`.\r\n\r\nThere is `currently a limit of 25 refresh tokens per user account per client`. If the limit is reached, creating a new token automatically invalidates the oldest token without warning. This limit does not apply to service accounts.\r\n\r\nWhich precautions should be followed?\r\n---\r\nPrecautions - 1:\r\n---\r\n&gt; Some requests require an authentication step where the user logs in\r\n&gt; with their Google account. After logging in, the user is asked whether\r\n&gt; they are willing to grant the permissions that your application is\r\n&gt; requesting. This process is called user consent.\r\n&gt; \r\n&gt; If the user grants the permission, the Google Authorization Server\r\n&gt; sends your application an access token (or an authorization code that\r\n&gt; your application can use to obtain an access token). If the user does\r\n&gt; not grant the permission, the server returns an error.\r\n\r\nPrecautions - 2:\r\n---\r\n&gt; If an access token is issued for the Google+ API, it does not grant\r\n&gt; access to the Google Contacts API. You can, however, send that access\r\n&gt; token to the Google+ API multiple times for similar operations.\r\n\r\nPrecautions - 3:\r\n---\r\n\r\n&gt; An access token typically has an expiration date of 1 hour, after\r\n&gt; which you will get an error if you try to use it. [Google Credential][10]\r\n&gt; takes care of automatically &quot;refreshing&quot; the token, which simply means\r\n&gt; getting a new access token.\r\n\r\n&gt; Save refresh tokens in secure long-term storage and continue to use\r\n&gt; them as long as they remain valid. Limits apply to the number of\r\n&gt; refresh tokens that are issued per client-user combination, and per\r\n&gt; user across all clients, and these limits are different. If your\r\n&gt; application requests enough refresh tokens to go over one of the\r\n&gt; limits, older refresh tokens stop working.\r\n\r\n\r\n\r\n\r\n  [1]: https://developers.google.com/identity/protocols/OAuth2InstalledApp#handlingtheresponse\r\n  [2]: https://developers.google.com/identity/protocols/OAuth2#basicsteps\r\n  [3]: https://console.developers.google.com/\r\n  [4]: http://www.mkyong.com/java/how-to-automate-login-a-website-java-example/\r\n  [5]: https://stackoverflow.com/questions/11115381/unable-to-get-the-subscription-information-from-google-play-android-developer-ap?rq=1\r\n  [6]: https://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests\r\n  [7]: http://www.mkyong.com/java/how-to-send-http-request-getpost-in-java/\r\n  [8]: https://developers.google.com/analytics/devguides/reporting/core/v3/coreErrors#standard_errors\r\n  [9]: https://developers.google.com/identity/protocols/OAuth2#expiration\r\n  [10]: https://developers.google.com/api-client-library/java/google-api-java-client/reference/1.20.0/com/google/api/client/googleapis/auth/oauth2/GoogleCredential.html\r\n  [11]: https://stackoverflow.com/questions/35019357/google-play-developer-api-query-purchase-token-returns-invalid-value/36290762#36290762","title":"How to get access token using gmail api","body":"<blockquote>\n  <p>How to get access token using gmail api?</p>\n</blockquote>\n\n<p><strong>Ans:</strong> As per <a href=\"https://developers.google.com/identity/protocols/OAuth2InstalledApp#handlingtheresponse\" rel=\"noreferrer\">your following tutorial</a>, you are using <code>OAuth 2.0</code>. So there is a basic pattern for accessing a Google API using <code>OAuth 2.0</code>. It follows 4 steps:</p>\n\n<ol>\n<li>Obtain OAuth 2.0 credentials from the Google Developers Console.</li>\n<li>Obtain an access token from the Google Authorization Server.</li>\n<li>Send the access token to an API.</li>\n<li>Refresh the access token, if necessary.</li>\n</ol>\n\n<p>For details, you can follow the tutorial - <a href=\"https://developers.google.com/identity/protocols/OAuth2#basicsteps\" rel=\"noreferrer\">Using OAuth 2.0 to Access Google APIs</a></p>\n\n<p>You have to visit the <a href=\"https://console.developers.google.com/\" rel=\"noreferrer\">Google Developers Console</a> to obtain OAuth 2.0 credentials such as a <code>client ID</code> and <code>client secret</code> that are known to both Google and your application</p>\n\n<hr>\n\n<h2>Root Cause Analysis:</h2>\n\n<p><strong>Issue-1:</strong></p>\n\n<p>After studying your code, some lacking are found. If your code runs smoothly, then the code always give an empty string. Because your <code>AccessToken()</code> method always return <code>return \"\";</code></p>\n\n<p><strong>Issue-2:</strong></p>\n\n<pre><code> catch (Exception e)\n    {\n        System.out.println(\"Error.\");\n    }\n</code></pre>\n\n<p>Your try catch block is going exception block. Because, it seems that you have not completed your code properly. You have missed <code>encoding</code> as well as using <code>JSONObject</code> which prepares the access token. So it is giving output as </p>\n\n<blockquote>\n  <p>Error.</p>\n</blockquote>\n\n<h2>Solution:</h2>\n\n<p>I got that your code is similar with this <a href=\"http://www.mkyong.com/java/how-to-automate-login-a-website-java-example/\" rel=\"noreferrer\">tutorial</a></p>\n\n<p>As your code needs more changes to solve your issue. So I offer you to use <strong>LinkedHashMap</strong> or <strong>ArrayList</strong>. Those will provide easier way to make solution. So I give you 2 sample code to make your life easier. You can choose any of them. You need to change <code>refresh_token, client id, client secret and grant type</code> as yours.</p>\n\n<pre><code>private String getAccessToken()\n{\n    try\n    {\n        Map&lt;String,Object&gt; params = new LinkedHashMap&lt;&gt;();\n        params.put(\"grant_type\",\"refresh_token\");\n        params.put(\"client_id\",[YOUR CLIENT ID]);\n        params.put(\"client_secret\",[YOUR CLIENT SECRET]);\n        params.put(\"refresh_token\",[YOUR REFRESH TOKEN]);\n\n        StringBuilder postData = new StringBuilder();\n        for(Map.Entry&lt;String,Object&gt; param : params.entrySet())\n        {\n            if(postData.length() != 0)\n            {\n                postData.append('&amp;');\n            }\n            postData.append(URLEncoder.encode(param.getKey(),\"UTF-8\"));\n            postData.append('=');\n            postData.append(URLEncoder.encode(String.valueOf(param.getValue()),\"UTF-8\"));\n        }\n        byte[] postDataBytes = postData.toString().getBytes(\"UTF-8\");\n\n        URL url = new URL(\"https://accounts.google.com/o/oauth2/token\");\n        HttpURLConnection con = (HttpURLConnection)url.openConnection();\n        con.setDoOutput(true);\n        con.setUseCaches(false);\n        con.setRequestMethod(\"POST\");\n        con.getOutputStream().write(postDataBytes);\n\n        BufferedReader  reader = new BufferedReader(new InputStreamReader(con.getInputStream()));\n        StringBuffer buffer = new StringBuffer();\n        for (String line = reader.readLine(); line != null; line = reader.readLine())\n        {\n            buffer.append(line);\n        }\n\n        JSONObject json = new JSONObject(buffer.toString());\n        String accessToken = json.getString(\"access_token\");\n        return accessToken;\n    }\n    catch (Exception ex)\n    {\n        ex.printStackTrace(); \n    }\n    return null;\n}\n</code></pre>\n\n<blockquote>\n  <p>For <strong>accessing google play android developer api</strong>, you need to pass the\n  previous refresh token to get access token</p>\n</blockquote>\n\n<pre><code>private String getAccessToken(String refreshToken){\n\nHttpClient client = new DefaultHttpClient();\nHttpPost post = new HttpPost(\"https://accounts.google.com/o/oauth2/token\");\ntry \n{\n    List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;(4);\n    nameValuePairs.add(new BasicNameValuePair(\"grant_type\",    \"refresh_token\"));\n    nameValuePairs.add(new BasicNameValuePair(\"client_id\",     GOOGLE_CLIENT_ID));\n    nameValuePairs.add(new BasicNameValuePair(\"client_secret\", GOOGLE_CLIENT_SECRET));\n    nameValuePairs.add(new BasicNameValuePair(\"refresh_token\", refreshToken));\n    post.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n\n    org.apache.http.HttpResponse response = client.execute(post);\n    BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\n    StringBuffer buffer = new StringBuffer();\n    for (String line = reader.readLine(); line != null; line = reader.readLine())\n    {\n        buffer.append(line);\n    }\n\n    JSONObject json = new JSONObject(buffer.toString());\n    String accessToken = json.getString(\"access_token\");\n\n    return accessToken;\n\n}\ncatch (IOException e) { e.printStackTrace(); }\n\nreturn null;\n}\n</code></pre>\n\n<h2>Resource Link:</h2>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/11115381/unable-to-get-the-subscription-information-from-google-play-android-developer-ap?rq=1\">Unable to get the subscription information from Google Play Android Developer API</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/2793150/using-java-net-urlconnection-to-fire-and-handle-http-requests\">Using java.net.URLConnection to fire and handle HTTP requests</a></p></li>\n<li><p><a href=\"http://www.mkyong.com/java/how-to-send-http-request-getpost-in-java/\" rel=\"noreferrer\">How to send HTTP request GET/POST in Java</a></p></li>\n</ul>\n\n<p>Hope that, this <code>samples</code> and <code>resource link</code> will help you to solve your issue and get access of <code>access token</code>.</p>\n\n<hr>\n\n<h2><a href=\"https://developers.google.com/analytics/devguides/reporting/core/v3/coreErrors#standard_errors\" rel=\"noreferrer\">What is 400 bad request?</a></h2>\n\n<p><strong>Ans:</strong> It indicates that the query was invalid. Parent ID was missing or the combination of dimensions or metrics requested was not valid.</p>\n\n<p><strong>Recommended Action:</strong> You need to make changes to the API query in order for it to work.</p>\n\n<blockquote>\n  <p>For <code>HTTP/1.1 400 Bad Request error</code>, you can go through <a href=\"https://stackoverflow.com/questions/35019357/google-play-developer-api-query-purchase-token-returns-invalid-value/36290762#36290762\">my another\n  answer</a>. <strong>It will help you to make sense about <code>which host you\n  need to use</code> and which conditions you need to apply</strong>.</p>\n</blockquote>\n\n<h2><a href=\"https://developers.google.com/identity/protocols/OAuth2#expiration\" rel=\"noreferrer\">Why token expires? What is the limit of token?</a></h2>\n\n<p>A token might stop working for one of these reasons:</p>\n\n<ol>\n<li>The user has <code>revoked</code> access.</li>\n<li>The token has not been used for <code>six months</code>.</li>\n<li>The <code>user changed passwords</code> and the token contains Gmail, Calendar,\nContacts, or Hangouts scopes.</li>\n<li>The user account has <code>exceeded a certain number of token requests</code>.</li>\n</ol>\n\n<p>There is <code>currently a limit of 25 refresh tokens per user account per client</code>. If the limit is reached, creating a new token automatically invalidates the oldest token without warning. This limit does not apply to service accounts.</p>\n\n<h2>Which precautions should be followed?</h2>\n\n<h2>Precautions - 1:</h2>\n\n<blockquote>\n  <p>Some requests require an authentication step where the user logs in\n  with their Google account. After logging in, the user is asked whether\n  they are willing to grant the permissions that your application is\n  requesting. This process is called user consent.</p>\n  \n  <p>If the user grants the permission, the Google Authorization Server\n  sends your application an access token (or an authorization code that\n  your application can use to obtain an access token). If the user does\n  not grant the permission, the server returns an error.</p>\n</blockquote>\n\n<h2>Precautions - 2:</h2>\n\n<blockquote>\n  <p>If an access token is issued for the Google+ API, it does not grant\n  access to the Google Contacts API. You can, however, send that access\n  token to the Google+ API multiple times for similar operations.</p>\n</blockquote>\n\n<h2>Precautions - 3:</h2>\n\n<blockquote>\n  <p>An access token typically has an expiration date of 1 hour, after\n  which you will get an error if you try to use it. <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/reference/1.20.0/com/google/api/client/googleapis/auth/oauth2/GoogleCredential.html\" rel=\"noreferrer\">Google Credential</a>\n  takes care of automatically \"refreshing\" the token, which simply means\n  getting a new access token.</p>\n  \n  <p>Save refresh tokens in secure long-term storage and continue to use\n  them as long as they remain valid. Limits apply to the number of\n  refresh tokens that are issued per client-user combination, and per\n  user across all clients, and these limits are different. If your\n  application requests enough refresh tokens to go over one of the\n  limits, older refresh tokens stop working.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6113103,"reputation":76,"user_id":4768943,"display_name":"Fırat Kocabay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459430891,"creation_date":1459430891,"answer_id":36334890,"question_id":36214968,"body_markdown":"Firstly, you must look this page : \r\n\r\nhttps://developers.google.com/gmail/api/auth/web-server#create_a_client_id_and_client_secret\r\n\r\nThe value you see in the query parameter code is a string you have to post to google in order to get the access token.\r\n\r\nAfter the web server receives the authorization code, it may exchange the authorization code for an access token and a refresh token. This request is an HTTPS POST to the URL https://www.googleapis.com/oauth2/v3/token\r\nPOST /oauth2/v3/token HTTP/1.1\r\ncontent-type: application/x-www-form-urlencoded\r\n\r\ncode=4/v4-CqVXkhiTkn9uapv6V0iqUmelHNnbLRr1EbErzkQw#&amp;redirect_uri=&lt;redirect_uri&gt;&amp;client_id=&lt;client_id&gt;&amp;scope=&amp;client_secret=************&amp;grant_type=authorization_code\r\nhttps://developers.google.com/identity/protocols/OAuth2WebServer","title":"How to get access token using gmail api","body":"<p>Firstly, you must look this page : </p>\n\n<p><a href=\"https://developers.google.com/gmail/api/auth/web-server#create_a_client_id_and_client_secret\" rel=\"nofollow\">https://developers.google.com/gmail/api/auth/web-server#create_a_client_id_and_client_secret</a></p>\n\n<p>The value you see in the query parameter code is a string you have to post to google in order to get the access token.</p>\n\n<p>After the web server receives the authorization code, it may exchange the authorization code for an access token and a refresh token. This request is an HTTPS POST to the URL <a href=\"https://www.googleapis.com/oauth2/v3/token\" rel=\"nofollow\">https://www.googleapis.com/oauth2/v3/token</a>\nPOST /oauth2/v3/token HTTP/1.1\ncontent-type: application/x-www-form-urlencoded</p>\n\n<p>code=4/v4-CqVXkhiTkn9uapv6V0iqUmelHNnbLRr1EbErzkQw#&amp;redirect_uri=&amp;client_id=&amp;scope=&amp;client_secret=************&amp;grant_type=authorization_code\n<a href=\"https://developers.google.com/identity/protocols/OAuth2WebServer\" rel=\"nofollow\">https://developers.google.com/identity/protocols/OAuth2WebServer</a></p>\n"},{"tags":[],"owner":{"account_id":2586515,"reputation":2672,"user_id":2242104,"display_name":"Yoav Aharoni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459707528,"creation_date":1459707161,"answer_id":36389204,"question_id":36214968,"body_markdown":"I think I understand what&#39;s wrong:\n\n1. as @newhouse said, you should POST to `https://www.googleapis.com/oauth2/v4/token` and not `https://accounts.google.com/o/oauth2/token` (@newhouse I gave you a +1 :) )\n\n    (`https://www.googleapis.com/oauth2/v4/token` is for getting the `authorization_code` and `https://accounts.google.com/o/oauth2/token` is for getting the `code`).\n\n2. **You can&#39;t use the same `code` more than once.**\n\n   Everything else seems in order so, if you keep getting 400, you are probably trying to use the `code` you got more than one time (then you&#39;ll get 400 every time, again and again).\n\n\\* You should also lose the `con.setRequestProperty(&quot;Host&quot;, &quot;www.googleapis.com&quot;);` ","title":"How to get access token using gmail api","body":"<p>I think I understand what's wrong:</p>\n<ol>\n<li><p>as @newhouse said, you should POST to <code>https://www.googleapis.com/oauth2/v4/token</code> and not <code>https://accounts.google.com/o/oauth2/token</code> (@newhouse I gave you a +1 :) )</p>\n<p>(<code>https://www.googleapis.com/oauth2/v4/token</code> is for getting the <code>authorization_code</code> and <code>https://accounts.google.com/o/oauth2/token</code> is for getting the <code>code</code>).</p>\n</li>\n<li><p><strong>You can't use the same <code>code</code> more than once.</strong></p>\n<p>Everything else seems in order so, if you keep getting 400, you are probably trying to use the <code>code</code> you got more than one time (then you'll get 400 every time, again and again).</p>\n</li>\n</ol>\n<p>* You should also lose the <code>con.setRequestProperty(&quot;Host&quot;, &quot;www.googleapis.com&quot;);</code></p>\n"},{"tags":[],"owner":{"account_id":10779645,"reputation":171,"user_id":7930533,"display_name":"Umang Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493287873,"creation_date":1493287873,"answer_id":43654774,"question_id":36214968,"body_markdown":"Refer : https://developers.google.com/android-publisher/authorization\r\n\r\nYou already have authorization code that is called &quot;refresh token&quot;. Please keep it in safe place. You can use &quot;refresh token&quot; to generate &quot;access token&quot;.\r\n\r\nTo get &quot;access token&quot;, please make a post request to following URL\r\n\r\nhttps://accounts.google.com/o/oauth2/token\r\n\r\nParameters:\r\n\r\n - grant_type\r\n - client_id\r\n - client_secret\r\n - refresh_token\r\n\r\nwhere &quot;grant_type&quot; should be &quot;refresh_token&quot;\r\n\r\nWe are using PHP to do same, here is PHP&#39;s code for your reference\r\n\r\n        $curl = curl_init();\r\n      \r\n        curl_setopt_array($curl, array(\r\n        CURLOPT_RETURNTRANSFER =&gt; 1,\r\n        CURLOPT_URL =&gt; &#39;https://accounts.google.com/o/oauth2/token&#39;,\r\n        CURLOPT_USERAGENT =&gt; &#39;Pocket Experts Services&#39;,\r\n        CURLOPT_POST =&gt; 1,\r\n        CURLOPT_POSTFIELDS =&gt; array(\r\n        &quot;grant_type&quot; =&gt; &quot;refresh_token&quot;,\r\n        &quot;client_id&quot; =&gt; $GOOGLE_CLIENT_ID,\r\n        &quot;client_secret&quot; =&gt; $GOOGLE_CLIENT_SECRET,\r\n        &quot;refresh_token&quot; =&gt; $GOOGLE_REFRESH_TOKEN,\r\n        )));\r\n        \r\n\r\n        // Send the request &amp; save response to $resp\r\n        $resp = curl_exec($curl);\r\n\r\nHope it will help you.","title":"How to get access token using gmail api","body":"<p>Refer : <a href=\"https://developers.google.com/android-publisher/authorization\" rel=\"nofollow noreferrer\">https://developers.google.com/android-publisher/authorization</a></p>\n\n<p>You already have authorization code that is called \"refresh token\". Please keep it in safe place. You can use \"refresh token\" to generate \"access token\".</p>\n\n<p>To get \"access token\", please make a post request to following URL</p>\n\n<p><a href=\"https://accounts.google.com/o/oauth2/token\" rel=\"nofollow noreferrer\">https://accounts.google.com/o/oauth2/token</a></p>\n\n<p>Parameters:</p>\n\n<ul>\n<li>grant_type</li>\n<li>client_id</li>\n<li>client_secret</li>\n<li>refresh_token</li>\n</ul>\n\n<p>where \"grant_type\" should be \"refresh_token\"</p>\n\n<p>We are using PHP to do same, here is PHP's code for your reference</p>\n\n<pre><code>    $curl = curl_init();\n\n    curl_setopt_array($curl, array(\n    CURLOPT_RETURNTRANSFER =&gt; 1,\n    CURLOPT_URL =&gt; 'https://accounts.google.com/o/oauth2/token',\n    CURLOPT_USERAGENT =&gt; 'Pocket Experts Services',\n    CURLOPT_POST =&gt; 1,\n    CURLOPT_POSTFIELDS =&gt; array(\n    \"grant_type\" =&gt; \"refresh_token\",\n    \"client_id\" =&gt; $GOOGLE_CLIENT_ID,\n    \"client_secret\" =&gt; $GOOGLE_CLIENT_SECRET,\n    \"refresh_token\" =&gt; $GOOGLE_REFRESH_TOKEN,\n    )));\n\n\n    // Send the request &amp; save response to $resp\n    $resp = curl_exec($curl);\n</code></pre>\n\n<p>Hope it will help you.</p>\n"},{"tags":[],"owner":{"account_id":15333342,"reputation":105,"user_id":11062452,"display_name":"bessam Sahli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599415282,"creation_date":1599415282,"answer_id":63767315,"question_id":36214968,"body_markdown":"the low security methode was temporary and i couldn&#39;t use it in production but I found an article that made it easier using node [here][1]\r\nwith an example code and it works perfect\r\n\r\n  [1]: http://blog.bessam.engineer/How-to-use-nodemailer-with-GMail-and-OAuth","title":"How to get access token using gmail api","body":"<p>the low security methode was temporary and i couldn't use it in production but I found an article that made it easier using node <a href=\"http://blog.bessam.engineer/How-to-use-nodemailer-with-GMail-and-OAuth\" rel=\"nofollow noreferrer\">here</a>\nwith an example code and it works perfect</p>\n"}],"owner":{"account_id":2215904,"reputation":3694,"user_id":1956510,"accept_rate":55,"display_name":"tqjustc"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46981,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":7,"score":16,"last_activity_date":1657247720,"creation_date":1458886370,"question_id":36214968,"body_markdown":"I got the authorization code following [this document][1]. But when I tried to get access token, I always got errors. Can anyone help me ?\r\n\r\n\tpublic String AccessToken()\r\n\t{\r\n\t\tString accessToken = &quot;&quot;;\r\n\t\tStringBuilder strBuild = new StringBuilder();\r\n\t\t\r\n\t\tString authURL = &quot;https://accounts.google.com/o/oauth2/token?&quot;;\r\n\t\tString code = &quot;4/SVisuz_x*********************&quot;;\r\n\t\tString client_id = &quot;******************e.apps.googleusercontent.com&quot;;\r\n\t\tString client_secret = &quot;*******************&quot;;\r\n\t\tString redirect_uri = &quot;urn:ietf:wg:oauth:2.0:oob&quot;;\r\n\t\tString grant_type=&quot;authorization_code&quot;;\r\n\t\tstrBuild.append(&quot;code=&quot;).append(code)\r\n\t\t\t\t.append(&quot;&amp;client_id=&quot;).append(client_id)\r\n\t\t\t\t.append(&quot;&amp;client_secret=&quot;).append(client_secret)\r\n\t\t\t\t.append(&quot;&amp;redirect_uri=&quot;).append(redirect_uri)\r\n\t\t\t\t.append(&quot;&amp;grant_type=&quot;).append(grant_type);\r\n\t\tSystem.out.println(strBuild.toString());\r\n\t\ttry{\r\n\t\t\tURL obj = new URL(authURL);\r\n\t        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n\t        con.setDoOutput(true);\r\n\t        con.setRequestMethod(&quot;POST&quot;);\r\n\t        \r\n\t        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\t        con.setRequestProperty(&quot;Host&quot;, &quot;www.googleapis.com&quot;);\r\n\t        \r\n\t        //BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(con.getOutputStream()));\r\n\t        //bw.write(strBuild.toString());\r\n\t        //bw.close();\r\n\t        \r\n\t\t\tDataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n\t\t\twr.writeBytes(strBuild.toString());\r\n\t\t\twr.flush();\r\n\t\t\twr.close();\r\n\t        \r\n\t        //OutputStreamWriter out = new OutputStreamWriter(con.getOutputStream());\r\n\t        System.out.println(con.getResponseCode());\r\n\t        System.out.println(con.getResponseMessage());             \r\n\t        \r\n\t\t} catch (Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Error.&quot;);\r\n\t\t}\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\r\n\r\nwhen I ran this code, the output is: \r\n`400\r\nBad Request`\r\n  [1]: https://developers.google.com/identity/protocols/OAuth2InstalledApp#handlingtheresponse","title":"How to get access token using gmail api","body":"<p>I got the authorization code following <a href=\"https://developers.google.com/identity/protocols/OAuth2InstalledApp#handlingtheresponse\">this document</a>. But when I tried to get access token, I always got errors. Can anyone help me ?</p>\n\n<pre><code>public String AccessToken()\n{\n    String accessToken = \"\";\n    StringBuilder strBuild = new StringBuilder();\n\n    String authURL = \"https://accounts.google.com/o/oauth2/token?\";\n    String code = \"4/SVisuz_x*********************\";\n    String client_id = \"******************e.apps.googleusercontent.com\";\n    String client_secret = \"*******************\";\n    String redirect_uri = \"urn:ietf:wg:oauth:2.0:oob\";\n    String grant_type=\"authorization_code\";\n    strBuild.append(\"code=\").append(code)\n            .append(\"&amp;client_id=\").append(client_id)\n            .append(\"&amp;client_secret=\").append(client_secret)\n            .append(\"&amp;redirect_uri=\").append(redirect_uri)\n            .append(\"&amp;grant_type=\").append(grant_type);\n    System.out.println(strBuild.toString());\n    try{\n        URL obj = new URL(authURL);\n        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n        con.setDoOutput(true);\n        con.setRequestMethod(\"POST\");\n\n        con.setRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\");\n        con.setRequestProperty(\"Host\", \"www.googleapis.com\");\n\n        //BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(con.getOutputStream()));\n        //bw.write(strBuild.toString());\n        //bw.close();\n\n        DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n        wr.writeBytes(strBuild.toString());\n        wr.flush();\n        wr.close();\n\n        //OutputStreamWriter out = new OutputStreamWriter(con.getOutputStream());\n        System.out.println(con.getResponseCode());\n        System.out.println(con.getResponseMessage());             \n\n    } catch (Exception e)\n    {\n        System.out.println(\"Error.\");\n    }\n    return \"\";\n}\n</code></pre>\n\n<p>when I ran this code, the output is: \n<code>400\nBad Request</code></p>\n"},{"tags":["java","go"],"comments":[{"owner":{"account_id":1968644,"reputation":32046,"user_id":1768232,"accept_rate":81,"display_name":"durron597"},"score":3,"creation_date":1429115171,"post_id":29655531,"comment_id":47451084,"body_markdown":"possible duplicate of [How to wait for a set of threads to complete?](http://stackoverflow.com/questions/1252190/how-to-wait-for-a-set-of-threads-to-complete)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1252190/how-to-wait-for-a-set-of-threads-to-complete\">How to wait for a set of threads to complete?</a>"},{"owner":{"account_id":3216234,"reputation":28654,"user_id":2714852,"display_name":"twotwotwo"},"score":2,"creation_date":1429124188,"post_id":29655531,"comment_id":47456640,"body_markdown":"I don&#39;t know Java but, for the case where you `wg.Add(n)` before starting all *n* tasks, [CountDownLatch](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html) looks like a fit, using `countDown()` for `wg.Done()` and `await()` for `wg.Wait()`.","body":"I don&#39;t know Java but, for the case where you <code>wg.Add(n)</code> before starting all <i>n</i> tasks, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\">CountDownLatch</a> looks like a fit, using <code>countDown()</code> for <code>wg.Done()</code> and <code>await()</code> for <code>wg.Wait()</code>."},{"owner":{"account_id":3216234,"reputation":28654,"user_id":2714852,"display_name":"twotwotwo"},"score":2,"creation_date":1429124390,"post_id":29655531,"comment_id":47456772,"body_markdown":"The accepted answer on the linked question could work too, since threads are objects in Java. But they&#39;re slightly different: with CountDownLatch a thread can do other work after it finishes the task (so you could use it handing tasks to a pool of long-lived threads), with `thread.join()` it can&#39;t. Since the tasks differ a little I&#39;m not voting to close as dupe.","body":"The accepted answer on the linked question could work too, since threads are objects in Java. But they&#39;re slightly different: with CountDownLatch a thread can do other work after it finishes the task (so you could use it handing tasks to a pool of long-lived threads), with <code>thread.join()</code> it can&#39;t. Since the tasks differ a little I&#39;m not voting to close as dupe."},{"owner":{"account_id":1286794,"reputation":47472,"user_id":1239701,"display_name":"Not_a_Golfer"},"score":0,"creation_date":1429127064,"post_id":29655531,"comment_id":47458442,"body_markdown":"I&#39;m using CountdownLatch for most cases I&#39;d use a WaitGroup in Go.","body":"I&#39;m using CountdownLatch for most cases I&#39;d use a WaitGroup in Go."}],"answers":[{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429192472,"creation_date":1429192472,"answer_id":29676898,"question_id":29655531,"body_markdown":"After looking at the golang doc and confirming that Semaphore won&#39;t break with an enormous amount of permits I think a `Semaphore` set to `Integer.MAX_VALUE` is the closest to a golang `WaitGroup`.\r\n\r\nThe `thread.join` is probably more similar to how you would use WaitGroup with goroutines since it deals with the cleanup of the threads however an isolated `WaitGroup` just like a `Semaphore` is agnostic of what increments it.\r\n\r\nCountdownLatch doesn&#39;t work because you need to know a priori how many threads you want to run and you cannot increment a CountdownLatch.\r\n\r\nAssuming the semaphore is set to `Integer.MAX_VALUE`:\r\n\r\n`wg.Add(n)` == `semaphore.acquire(n)`\r\n\r\n`wg.Done()` == `semaphore.release()`\r\n\r\nand in your thread where you want everything to stop:\r\n\r\n`wg.Wait()` == `semaphore.acquire(Integer.MAX_VALUE)`\r\n\r\nHowever I&#39;m not sure all the semantics carryover so I&#39;m not going to mark this correct for now.\r\n\r\n","title":"What is the Java equivalent of Golang&#39;s WaitGroup","body":"<p>After looking at the golang doc and confirming that Semaphore won't break with an enormous amount of permits I think a <code>Semaphore</code> set to <code>Integer.MAX_VALUE</code> is the closest to a golang <code>WaitGroup</code>.</p>\n\n<p>The <code>thread.join</code> is probably more similar to how you would use WaitGroup with goroutines since it deals with the cleanup of the threads however an isolated <code>WaitGroup</code> just like a <code>Semaphore</code> is agnostic of what increments it.</p>\n\n<p>CountdownLatch doesn't work because you need to know a priori how many threads you want to run and you cannot increment a CountdownLatch.</p>\n\n<p>Assuming the semaphore is set to <code>Integer.MAX_VALUE</code>:</p>\n\n<p><code>wg.Add(n)</code> == <code>semaphore.acquire(n)</code></p>\n\n<p><code>wg.Done()</code> == <code>semaphore.release()</code></p>\n\n<p>and in your thread where you want everything to stop:</p>\n\n<p><code>wg.Wait()</code> == <code>semaphore.acquire(Integer.MAX_VALUE)</code></p>\n\n<p>However I'm not sure all the semantics carryover so I'm not going to mark this correct for now.</p>\n"},{"tags":[],"owner":{"account_id":30408,"reputation":877,"user_id":82928,"accept_rate":80,"display_name":"user82928"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1432595772,"creation_date":1432595772,"answer_id":30447188,"question_id":29655531,"body_markdown":"    public class WaitGroup {\r\n    \r\n        private int jobs = 0;\r\n    \r\n        public synchronized void add(int i) {\r\n            jobs += i;\r\n        }\r\n    \r\n        public synchronized void done() {\r\n            if (--jobs == 0) {\r\n                notifyAll();\r\n            }\r\n        }\r\n    \r\n        public synchronized void await() throws InterruptedException {\r\n            while (jobs &gt; 0) {\r\n                wait();\r\n            }\r\n        }\r\n\r\n    }","title":"What is the Java equivalent of Golang&#39;s WaitGroup","body":"<pre><code>public class WaitGroup {\n\n    private int jobs = 0;\n\n    public synchronized void add(int i) {\n        jobs += i;\n    }\n\n    public synchronized void done() {\n        if (--jobs == 0) {\n            notifyAll();\n        }\n    }\n\n    public synchronized void await() throws InterruptedException {\n        while (jobs &gt; 0) {\n            wait();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4250636,"reputation":9291,"user_id":3477832,"accept_rate":75,"display_name":"kostya"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1432603776,"creation_date":1432603776,"answer_id":30448080,"question_id":29655531,"body_markdown":"`WaitGroup` has `Add(delta)` method that can be called after a `WaitGroup` has been created. `CountDownLatch` doesn&#39;t support this, number of tasks needs to be specified in advance. JDK7 `Phaser` can be used instead in this case:\r\n\r\n    phaser.register = wg.Add(1)\r\n    phaser.arrive = wg.Done\r\n    phaser.await = wg.Wait","title":"What is the Java equivalent of Golang&#39;s WaitGroup","body":"<p><code>WaitGroup</code> has <code>Add(delta)</code> method that can be called after a <code>WaitGroup</code> has been created. <code>CountDownLatch</code> doesn't support this, number of tasks needs to be specified in advance. JDK7 <code>Phaser</code> can be used instead in this case:</p>\n\n<pre><code>phaser.register = wg.Add(1)\nphaser.arrive = wg.Done\nphaser.await = wg.Wait\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6713493,"reputation":1,"user_id":5176063,"display_name":"user5176063"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1533550331,"creation_date":1533548256,"answer_id":51704624,"question_id":29655531,"body_markdown":"No, there is no &#39;CountDownLatch&#39; in Go.\r\n\r\n`sync.WaitGroup` may have the &#39;wait task finish&#39; feature, but this API&#39;s `Add()` doesn&#39;t happens-befor `Done()`.\r\n","title":"What is the Java equivalent of Golang&#39;s WaitGroup","body":"<p>No, there is no 'CountDownLatch' in Go.</p>\n\n<p><code>sync.WaitGroup</code> may have the 'wait task finish' feature, but this API's <code>Add()</code> doesn't happens-befor <code>Done()</code>.</p>\n"},{"tags":[],"owner":{"account_id":9050387,"reputation":350,"user_id":6740934,"display_name":"Yao Yuan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657246926,"creation_date":1657246367,"answer_id":72906001,"question_id":29655531,"body_markdown":"Thanks to @kostya&#39;s answer.\r\nI write a WaitGroup class with [Phaser](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Phaser.html)\r\n\r\n```java\r\npublic class WaitGroup {\r\n\r\n    Phaser phaser = new Phaser(1);\r\n\r\n    public void add() {\r\n        phaser.register();\r\n    }\r\n\r\n    public void done() {\r\n        phaser.arrive();\r\n    }\r\n\r\n    public void await() {\r\n        phaser.arriveAndAwaitAdvance();\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"What is the Java equivalent of Golang&#39;s WaitGroup","body":"<p>Thanks to @kostya's answer.\nI write a WaitGroup class with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Phaser.html\" rel=\"nofollow noreferrer\">Phaser</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WaitGroup {\n\n    Phaser phaser = new Phaser(1);\n\n    public void add() {\n        phaser.register();\n    }\n\n    public void done() {\n        phaser.arrive();\n    }\n\n    public void await() {\n        phaser.arriveAndAwaitAdvance();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5781,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":30448080,"answer_count":5,"score":10,"last_activity_date":1657246926,"creation_date":1429114624,"question_id":29655531,"body_markdown":"Golang has something called a `WaitGroup` which is sort of like in Java a `CompletionService` or a `CountDownLatch` or a `Semaphore` or some combination of the latter.\r\n\r\nI&#39;m not entirely sure how you would implement a WaitGroup in Java. I would imagine a custom CompletionService with some sort of Poison message would be the route to go (since queues can&#39;t say when they are done) but perhaps there is a better concurrent data structure/lock?\r\n\r\nEDIT I posted a possible solution below using `Semaphore` that I think is more analogous than using `thread.join`.\r\n\r\n","title":"What is the Java equivalent of Golang&#39;s WaitGroup","body":"<p>Golang has something called a <code>WaitGroup</code> which is sort of like in Java a <code>CompletionService</code> or a <code>CountDownLatch</code> or a <code>Semaphore</code> or some combination of the latter.</p>\n\n<p>I'm not entirely sure how you would implement a WaitGroup in Java. I would imagine a custom CompletionService with some sort of Poison message would be the route to go (since queues can't say when they are done) but perhaps there is a better concurrent data structure/lock?</p>\n\n<p>EDIT I posted a possible solution below using <code>Semaphore</code> that I think is more analogous than using <code>thread.join</code>.</p>\n"},{"tags":["java","microsoft-graph-api"],"comments":[{"owner":{"account_id":23997029,"reputation":589,"user_id":17982436,"display_name":"Mehtab Siddique"},"score":0,"creation_date":1657288590,"post_id":72897255,"comment_id":128781797,"body_markdown":"Please check this doc for Requesting an authorization code: https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-authorization-code","body":"Please check this doc for Requesting an authorization code: <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow#request-an-authorization-code\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/active-directory/develop/&hellip;</a>"},{"owner":{"account_id":954101,"reputation":135,"user_id":979705,"accept_rate":57,"display_name":"N.D.H.Vu"},"score":0,"creation_date":1657507784,"post_id":72897255,"comment_id":128818334,"body_markdown":"@MehtabSiddique Thanks for the reply. I have already read it, but it all about the concept and no sample code on how to do it using MS Graph SDK.","body":"@MehtabSiddique Thanks for the reply. I have already read it, but it all about the concept and no sample code on how to do it using MS Graph SDK."}],"owner":{"account_id":954101,"reputation":135,"user_id":979705,"accept_rate":57,"display_name":"N.D.H.Vu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657246208,"creation_date":1657194431,"question_id":72897255,"body_markdown":"Disclaimer: This is a continue from my previous question &quot;[how-to-set-scope-when-call-microsoft-graph-api][1]&quot;\r\n\r\nI am learning to call Microsoft Graph API in Java for my project. Current task is to post a message on a channel.\r\n\r\nMy current code is as below:\r\n\r\n    ClientSecretCredential _credential = new ClientSecretCredentialBuilder().clientId(clientId).clientSecret(secretValue).tenantId(tenantId).build();\r\n    TokenCredentialAuthProvider authProvider = new TokenCredentialAuthProvider(graphUserScopes, _credential);\r\n    GraphServiceClient&lt;Request&gt;_client = GraphServiceClient.builder().authenticationProvider(authProvider).buildClient();\r\n    \r\n    ChatMessage chatMessage = new ChatMessage();\r\n    ItemBody body = new ItemBody();\r\n    body.content = message;\r\n    chatMessage.body = body;\r\n    \r\n    _client.teams(teamId).channels(channelId).messages().buildRequest().post(chatMessage);\r\n\r\nI have come to learn that ClientSecretCredential is for &quot;Application&quot; type of action only, and &quot;send channel message&quot; require a &quot;Delegated&quot; type. I think about trying AuthorizationCodeCredential class, but do not know how to request &quot;authorizationCode&quot; like in this link: [Authorization code provider][2]\r\n\r\nCan anyone help me with code to get &quot;authorizationCode&quot;?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72867754/how-to-set-scope-when-call-microsoft-graph-api\r\n  [2]: https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#authorization-code-provider","title":"How to request authorization code for AuthorizationCodeCredential","body":"<p>Disclaimer: This is a continue from my previous question &quot;<a href=\"https://stackoverflow.com/questions/72867754/how-to-set-scope-when-call-microsoft-graph-api\">how-to-set-scope-when-call-microsoft-graph-api</a>&quot;</p>\n<p>I am learning to call Microsoft Graph API in Java for my project. Current task is to post a message on a channel.</p>\n<p>My current code is as below:</p>\n<pre><code>ClientSecretCredential _credential = new ClientSecretCredentialBuilder().clientId(clientId).clientSecret(secretValue).tenantId(tenantId).build();\nTokenCredentialAuthProvider authProvider = new TokenCredentialAuthProvider(graphUserScopes, _credential);\nGraphServiceClient&lt;Request&gt;_client = GraphServiceClient.builder().authenticationProvider(authProvider).buildClient();\n\nChatMessage chatMessage = new ChatMessage();\nItemBody body = new ItemBody();\nbody.content = message;\nchatMessage.body = body;\n\n_client.teams(teamId).channels(channelId).messages().buildRequest().post(chatMessage);\n</code></pre>\n<p>I have come to learn that ClientSecretCredential is for &quot;Application&quot; type of action only, and &quot;send channel message&quot; require a &quot;Delegated&quot; type. I think about trying AuthorizationCodeCredential class, but do not know how to request &quot;authorizationCode&quot; like in this link: <a href=\"https://learn.microsoft.com/en-us/graph/sdks/choose-authentication-providers?tabs=Java#authorization-code-provider\" rel=\"nofollow noreferrer\">Authorization code provider</a></p>\n<p>Can anyone help me with code to get &quot;authorizationCode&quot;?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657243230,"post_id":72905637,"comment_id":128770503,"body_markdown":"I can reproduce this. One thing that works for me is to also run the Intellij Build task as a before launch action. Either before or after the maven goal seems to work.","body":"I can reproduce this. One thing that works for me is to also run the Intellij Build task as a before launch action. Either before or after the maven goal seems to work."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657243491,"post_id":72905637,"comment_id":128770537,"body_markdown":"Have you raised a ticket with Intellij?","body":"Have you raised a ticket with Intellij?"},{"owner":{"account_id":19531393,"reputation":31,"user_id":14291081,"display_name":"Crispy"},"score":0,"creation_date":1657245748,"post_id":72905637,"comment_id":128770888,"body_markdown":"@tgdavies Thank you! This workaround works for me. I haven&#39;t raised a ticket yet as I wasn&#39;t sure if it truly is a bug or if there was some configuration option that I was missing or something. The fact that you can reproduce it is probably confirmation enough that I should raise a ticket, so I will do so. Thank you again!","body":"@tgdavies Thank you! This workaround works for me. I haven&#39;t raised a ticket yet as I wasn&#39;t sure if it truly is a bug or if there was some configuration option that I was missing or something. The fact that you can reproduce it is probably confirmation enough that I should raise a ticket, so I will do so. Thank you again!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657248629,"post_id":72905637,"comment_id":128771240,"body_markdown":"And maybe make the maven target `package` so the tests get run?","body":"And maybe make the maven target <code>package</code> so the tests get run?"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1657253488,"post_id":72905637,"comment_id":128771860,"body_markdown":"What version of IntelliJ are you using? Relevant info as others potentially encounter the same issue.","body":"What version of IntelliJ are you using? Relevant info as others potentially encounter the same issue."}],"answers":[{"tags":[],"owner":{"account_id":19531393,"reputation":31,"user_id":14291081,"display_name":"Crispy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657246055,"creation_date":1657246055,"answer_id":72905973,"question_id":72905637,"body_markdown":"As suggested by tgdavies in a comment, it&#39;s possible to make this work first time by adding an IntelliJ Build task following the Maven Build task in the Before launch steps. My Main Run Target now has Before launch: `1. Run Maven Goal &#39;Project Name: compiler:compile&#39;` `2. Build`. Obviously this solution is less than ideal but at this stage, I&#39;ll take functional. I&#39;ll be raising a ticket with IntelliJ and hopefully it will be addressed... Thanks tgdavies!","title":"First Run of Maven Built Application in IntelliJ fails","body":"<p>As suggested by tgdavies in a comment, it's possible to make this work first time by adding an IntelliJ Build task following the Maven Build task in the Before launch steps. My Main Run Target now has Before launch: <code>1. Run Maven Goal 'Project Name: compiler:compile'</code> <code>2. Build</code>. Obviously this solution is less than ideal but at this stage, I'll take functional. I'll be raising a ticket with IntelliJ and hopefully it will be addressed... Thanks tgdavies!</p>\n"}],"owner":{"account_id":19531393,"reputation":31,"user_id":14291081,"display_name":"Crispy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657246055,"creation_date":1657241828,"question_id":72905637,"body_markdown":"I have a project that I want to build with Maven but run with IntelliJ, i.e. not delegate run actions to Maven. I have an Application Run Configuration that points at the main class of my project, with a Before Launch action of `1. Run Maven Goal &#39;Project Name: compiler:compile&#39;`. The FIRST time only that I run this config, I get:\r\n\r\n&gt; Error: Could not find or load main class xx.Main \r\n&gt; \r\n&gt; Caused by: java.lang.ClassNotFoundException: xx.Main\r\n\r\nAnd on subsequent (using the exact same run config) runs, it works perfectly. \r\n\r\nNote: if I have a separate Maven Build Target for my project and I run that first and then the Application Run Target (without the build before launch), it works first try. I&#39;ve also tried setting a Before Launch action to run that Build Target, with the same failure as a result. This ONLY occurs when I try to build and run in the same target.\r\n\r\nIt seems like IntelliJ is caching the build state BEFORE anything runs and then using that same state AFTER the Maven Build has run... Does anyone know why this occurs and if there is a way to fix it, or am I just stuck running it twice after every clean? Happy to provide more detail if required.\r\n\r\nBackground as to why I want to do it one step: I&#39;m setting this up for some very junior (and VERY prone to messing things up) devs and the fewer steps there are, the better. I don&#39;t want them to have to think about how to make it run.","title":"First Run of Maven Built Application in IntelliJ fails","body":"<p>I have a project that I want to build with Maven but run with IntelliJ, i.e. not delegate run actions to Maven. I have an Application Run Configuration that points at the main class of my project, with a Before Launch action of <code>1. Run Maven Goal 'Project Name: compiler:compile'</code>. The FIRST time only that I run this config, I get:</p>\n<blockquote>\n<p>Error: Could not find or load main class xx.Main</p>\n<p>Caused by: java.lang.ClassNotFoundException: xx.Main</p>\n</blockquote>\n<p>And on subsequent (using the exact same run config) runs, it works perfectly.</p>\n<p>Note: if I have a separate Maven Build Target for my project and I run that first and then the Application Run Target (without the build before launch), it works first try. I've also tried setting a Before Launch action to run that Build Target, with the same failure as a result. This ONLY occurs when I try to build and run in the same target.</p>\n<p>It seems like IntelliJ is caching the build state BEFORE anything runs and then using that same state AFTER the Maven Build has run... Does anyone know why this occurs and if there is a way to fix it, or am I just stuck running it twice after every clean? Happy to provide more detail if required.</p>\n<p>Background as to why I want to do it one step: I'm setting this up for some very junior (and VERY prone to messing things up) devs and the fewer steps there are, the better. I don't want them to have to think about how to make it run.</p>\n"},{"tags":["java","spring-boot","maven","junit","junit5"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1597744006,"post_id":63465987,"comment_id":112227006,"body_markdown":"Please show the full code including imports etc. of your test class...","body":"Please show the full code including imports etc. of your test class..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1597744069,"post_id":63465987,"comment_id":112227042,"body_markdown":"Remove the dependencies to maven-surefire-plugin in your project and remove the definition of the version for maven-surefire-plugin cause they are already handled in the parent.","body":"Remove the dependencies to maven-surefire-plugin in your project and remove the definition of the version for maven-surefire-plugin cause they are already handled in the parent."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1597744247,"post_id":63465987,"comment_id":112227136,"body_markdown":"Hi, updated the question having added the import and removed the maven dependency. This had been added just when trying to debug the issue a bit more but whether with or without it I keep getting the same error message still.","body":"Hi, updated the question having added the import and removed the maven dependency. This had been added just when trying to debug the issue a bit more but whether with or without it I keep getting the same error message still."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1597744633,"creation_date":1597744633,"answer_id":63466216,"question_id":63465987,"body_markdown":"The problem is related to that you trying to use a different version of junit jupiter. The version which is predefined by [spring-boot-parent (2.2.4.RELEASE) is 5.5.2](https://search.maven.org/artifact/org.springframework.boot/spring-boot-dependencies/2.2.4.RELEASE/pom). The simplest solution is to remove the versions of junit-jupiter parts (version tag) and use the one which is inherited from spring-boot-parent. The best recommendation I can give is to start with a newer version of Spring Boot (2.3.3.RELEASE most recent one) which uses a more recent version. \r\n\r\nIf you can&#39;t go that way you have to use the `junit-bom` file instead like this:\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.2&lt;/version&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n\r\nThen it should work fine. Afterwards you have to use the dependencies without defining the version tag anymore in your pom.xml file.\r\n\r\n\r\n","title":"No Tests Were Executed when using JUnit5 and Spring-boot-starter-parent","body":"<p>The problem is related to that you trying to use a different version of junit jupiter. The version which is predefined by <a href=\"https://search.maven.org/artifact/org.springframework.boot/spring-boot-dependencies/2.2.4.RELEASE/pom\" rel=\"nofollow noreferrer\">spring-boot-parent (2.2.4.RELEASE) is 5.5.2</a>. The simplest solution is to remove the versions of junit-jupiter parts (version tag) and use the one which is inherited from spring-boot-parent. The best recommendation I can give is to start with a newer version of Spring Boot (2.3.3.RELEASE most recent one) which uses a more recent version.</p>\n<p>If you can't go that way you have to use the <code>junit-bom</code> file instead like this:</p>\n\n<pre><code>  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n        &lt;version&gt;5.6.2&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>Then it should work fine. Afterwards you have to use the dependencies without defining the version tag anymore in your pom.xml file.</p>\n"},{"tags":[],"owner":{"account_id":16643589,"reputation":191,"user_id":12028426,"display_name":"Waqqas Sharif"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1657244899,"creation_date":1657244899,"answer_id":72905879,"question_id":63465987,"body_markdown":"Adding -DfailIfNoTests=false to the mvn command seems to make it work.","title":"No Tests Were Executed when using JUnit5 and Spring-boot-starter-parent","body":"<p>Adding -DfailIfNoTests=false to the mvn command seems to make it work.</p>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2807,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63466216,"answer_count":2,"score":0,"last_activity_date":1657244899,"creation_date":1597743856,"question_id":63465987,"body_markdown":"I have a very simple JUnit test class that I can not run unless I remove `parent spring-boot-starter-parent` from the pom, which wouldn&#39;t be a possibility for our production application. The error we get on is No Tests Were Executed and below is the mvp with the parent piece that whenever not commented out would block the tests. If I can get any guidance to know how to fix this please.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n     \r\n    &lt;!-- Piece to be disabled for tests to run --&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.hmhco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;crs-v2&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;crs-v2&lt;/name&gt;\r\n    &lt;description&gt;Content Recommendation Service V2&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;junit.jupiter.version&gt;5.6.2&lt;/junit.jupiter.version&gt;\r\n        &lt;maven.surefire.version&gt;3.0.0-M5&lt;/maven.surefire.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    public class TestingTest {\r\n\r\n    @Test\r\n    public void checking() {\r\n        System.out.println(&quot;checking------------&quot;);\r\n    }\r\n    }\r\n\r\nThank you.","title":"No Tests Were Executed when using JUnit5 and Spring-boot-starter-parent","body":"<p>I have a very simple JUnit test class that I can not run unless I remove <code>parent spring-boot-starter-parent</code> from the pom, which wouldn't be a possibility for our production application. The error we get on is No Tests Were Executed and below is the mvp with the parent piece that whenever not commented out would block the tests. If I can get any guidance to know how to fix this please.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n \n&lt;!-- Piece to be disabled for tests to run --&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n\n&lt;groupId&gt;com.hmhco&lt;/groupId&gt;\n&lt;artifactId&gt;crs-v2&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;crs-v2&lt;/name&gt;\n&lt;description&gt;Content Recommendation Service V2&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;junit.jupiter.version&gt;5.6.2&lt;/junit.jupiter.version&gt;\n    &lt;maven.surefire.version&gt;3.0.0-M5&lt;/maven.surefire.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit.jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<pre><code>import org.junit.jupiter.api.Test;\n\npublic class TestingTest {\n\n@Test\npublic void checking() {\n    System.out.println(&quot;checking------------&quot;);\n}\n}\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":25755158,"reputation":1,"user_id":19506971,"display_name":"wjgso666"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657244454,"creation_date":1657244454,"answer_id":72905843,"question_id":72905775,"body_markdown":"You should apply for relevant permission.","title":"How to get All files Name in Public Directory in Android 11+?","body":"<p>You should apply for relevant permission.</p>\n"}],"owner":{"display_name":"user19506886"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657244454,"creation_date":1657243598,"question_id":72905775,"body_markdown":"I have not getting Files which created without my App means Another Files which not created by my Application...\r\n```\r\nfolder = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS) + &quot;/&quot; + &quot;com.krunaldhoriya.stockmanager&quot;);\r\n            if (!folder.exists()) {\r\n                folder.mkdirs();\r\n            }\r\n            files = folder.listFiles();\r\n            for(int i = 0;i&lt;files.length;i++) {\r\n                Toast.makeText(MainActivity.this,files[i].getName(),Toast.LENGTH_LONG).show();\r\n            }\r\n```\r\nIt not Display by Any other files which not created by my Application...\r\nSo How to i get All files of this directory which it have already ?","title":"How to get All files Name in Public Directory in Android 11+?","body":"<p>I have not getting Files which created without my App means Another Files which not created by my Application...</p>\n<pre><code>folder = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS) + &quot;/&quot; + &quot;com.krunaldhoriya.stockmanager&quot;);\n            if (!folder.exists()) {\n                folder.mkdirs();\n            }\n            files = folder.listFiles();\n            for(int i = 0;i&lt;files.length;i++) {\n                Toast.makeText(MainActivity.this,files[i].getName(),Toast.LENGTH_LONG).show();\n            }\n</code></pre>\n<p>It not Display by Any other files which not created by my Application...\nSo How to i get All files of this directory which it have already ?</p>\n"},{"tags":["java","queue","big-o","enqueue"],"comments":[{"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"score":4,"creation_date":1657227272,"post_id":72904081,"comment_id":128767668,"body_markdown":"However, the loop will always iterate a specific number of times *depending on how many items are in the list*. How many items in the list is your `n`, so `O(n)`.","body":"However, the loop will always iterate a specific number of times <i>depending on how many items are in the list</i>. How many items in the list is your <code>n</code>, so <code>O(n)</code>."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1657227363,"post_id":72904081,"comment_id":128767694,"body_markdown":"Exactly what @StephB said - you answered your own question. If your loop depends on `n` then it is `O(n)` - even if it is half of `n` or a tenth. Still `O(n)`.","body":"Exactly what @StephB said - you answered your own question. If your loop depends on <code>n</code> then it is <code>O(n)</code> - even if it is half of <code>n</code> or a tenth. Still <code>O(n)</code>."}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657228910,"creation_date":1657227814,"answer_id":72904183,"question_id":72904081,"body_markdown":"Let&#39;s start from the following excerpt from the question:\r\n\r\n&gt; However, the loop will always iterate a specific number of times depending on how many items are in the list.\r\n\r\nThis is a correct statement.\r\n\r\nPlease, note the dependency on the input size:\r\n\r\n&gt; iterate a specific number of times depending on how many items are in the list\r\n\r\nTherefore, the algorithm has the linear time complexity — `O(n)`.\r\n\r\n# Linear time complexity\r\nA slightly reformatted excerpt from the article: [Time complexity: Linear_time - Wikipedia](https://en.wikipedia.org/wiki/Time_complexity#Linear_time):\r\n\r\n&gt; An algorithm is said to take **linear time**, or `O(n)` time, if its time complexity is `O(n)`. Informally, this means that the running time increases at most linearly with the size of the input. More precisely, this means that there is a constant `c` such that the running time is at most `cn` for every input of size `n`. For example, a procedure that adds up all elements of a list requires time proportional to the length of the list, if the adding time is constant, or, at least, bounded by a constant.\r\n\r\nA slightly reformatted excerpt from the article: [Big O notation: Orders of common functions - Wikipedia](https://en.wikipedia.org/wiki/Big_O_notation#Orders_of_common_functions): let&#39;s refer to the corresponding row:\r\n\r\n&gt; Notation: `O(n)`\r\n&gt;\r\n&gt; Name: [linear](https://en.wikipedia.org/wiki/Linear_time)\r\n&gt;\r\n&gt; Example: Finding an item in an unsorted list or in an unsorted array; adding two `n`-bit integers by [ripple carry](https://en.wikipedia.org/wiki/Ripple_carry_adder &quot;Ripple carry adder&quot;)","title":"What is the Big O for this enqueue method?","body":"<p>Let's start from the following excerpt from the question:</p>\n<blockquote>\n<p>However, the loop will always iterate a specific number of times depending on how many items are in the list.</p>\n</blockquote>\n<p>This is a correct statement.</p>\n<p>Please, note the dependency on the input size:</p>\n<blockquote>\n<p>iterate a specific number of times depending on how many items are in the list</p>\n</blockquote>\n<p>Therefore, the algorithm has the linear time complexity — <code>O(n)</code>.</p>\n<h1>Linear time complexity</h1>\n<p>A slightly reformatted excerpt from the article: <a href=\"https://en.wikipedia.org/wiki/Time_complexity#Linear_time\" rel=\"nofollow noreferrer\">Time complexity: Linear_time - Wikipedia</a>:</p>\n<blockquote>\n<p>An algorithm is said to take <strong>linear time</strong>, or <code>O(n)</code> time, if its time complexity is <code>O(n)</code>. Informally, this means that the running time increases at most linearly with the size of the input. More precisely, this means that there is a constant <code>c</code> such that the running time is at most <code>cn</code> for every input of size <code>n</code>. For example, a procedure that adds up all elements of a list requires time proportional to the length of the list, if the adding time is constant, or, at least, bounded by a constant.</p>\n</blockquote>\n<p>A slightly reformatted excerpt from the article: <a href=\"https://en.wikipedia.org/wiki/Big_O_notation#Orders_of_common_functions\" rel=\"nofollow noreferrer\">Big O notation: Orders of common functions - Wikipedia</a>: let's refer to the corresponding row:</p>\n<blockquote>\n<p>Notation: <code>O(n)</code></p>\n<p>Name: <a href=\"https://en.wikipedia.org/wiki/Linear_time\" rel=\"nofollow noreferrer\">linear</a></p>\n<p>Example: Finding an item in an unsorted list or in an unsorted array; adding two <code>n</code>-bit integers by <a href=\"https://en.wikipedia.org/wiki/Ripple_carry_adder\" rel=\"nofollow noreferrer\" title=\"Ripple carry adder\">ripple carry</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657244414,"creation_date":1657243709,"answer_id":72905791,"question_id":72904081,"body_markdown":"&gt; However, the loop will always iterate a specific number of times depending on how many items are in the list. This makes me believe it&#39;s actually O(1).\r\n\r\n&gt; Am I wrong?\r\n\r\nYour reasoning is wrong.\r\n\r\nA complexity analysis of an algorithm needs to take account of all possible inputs.\r\n\r\nWhile the number of elements in a single given list can be assumed to be constant while you are looping, the number of elements in *any* list is not a constant.  If you consider all possible lists that could be inputs to the algorithm, the length of the list is a variable whose value can get arbitrarily large&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nIf we call that variable `N` then it is clear that the complexity class for your algorithm is `O(N)`.  (I won&#39;t go into the details because I think you already understand them.)\r\n\r\nThe only way that your reasoning could be semi-correct would be if you could categorically state that the input list length was less than some constant `L`.  The complexity class then collapses to `O(1)`.  However even this reasoning is dubious&lt;sup&gt;2&lt;/sup&gt;, since the algorithm as written does not check that constraint.  It has no control over the list length!  \r\n\r\nOn the other hand, if you rewrote the algorithm as this:\r\n\r\n    public static final int L = 42;\r\n    \r\n    public Node&lt;T&gt; enqueue(T data){\r\n        Node&lt;T&gt; toQueue = new Node&lt;&gt;(data);\r\n        if (this.head == null) {\r\n            this.head = toQueue;\r\n            return toQueue;\r\n        }\r\n        Node&lt;T&gt; lastNode = this.head;\r\n        int count = 0;\r\n        while(lastNode.next != null){\r\n            lastNode = lastNode.next;\r\n            if (count++ &gt; L) {\r\n               throw InvalidArgumentException(&quot;list too long&quot;);\r\n            }\r\n        }\r\n\r\n        lastNode.next = toQueue;\r\n\r\n        return toQueue;\r\n    }\r\n\r\nthen we can legitimately say that the method is `O(1)`.  It will either give a result or throw an exception within a constant time.\r\n\r\n----------------------\r\n\r\n&lt;sup&gt;1 - I am ignoring the fact that there are practical limits on how long a simple linked list like this can be in a Java program.  If the list is too large, it won&#39;t fit in the heap.  And there are limits on how large you could make the heap.&lt;br&gt;\r\n2 - A more mathematically sound way to describe the scenario is that your algorithm is `O(N)` *but* your use of the algorithm is `O(1)` because the calling code (not shown) enforces a bound on the list length.&lt;/sup&gt; ","title":"What is the Big O for this enqueue method?","body":"<blockquote>\n<p>However, the loop will always iterate a specific number of times depending on how many items are in the list. This makes me believe it's actually O(1).</p>\n</blockquote>\n<blockquote>\n<p>Am I wrong?</p>\n</blockquote>\n<p>Your reasoning is wrong.</p>\n<p>A complexity analysis of an algorithm needs to take account of all possible inputs.</p>\n<p>While the number of elements in a single given list can be assumed to be constant while you are looping, the number of elements in <em>any</em> list is not a constant.  If you consider all possible lists that could be inputs to the algorithm, the length of the list is a variable whose value can get arbitrarily large<sup>1</sup>.</p>\n<p>If we call that variable <code>N</code> then it is clear that the complexity class for your algorithm is <code>O(N)</code>.  (I won't go into the details because I think you already understand them.)</p>\n<p>The only way that your reasoning could be semi-correct would be if you could categorically state that the input list length was less than some constant <code>L</code>.  The complexity class then collapses to <code>O(1)</code>.  However even this reasoning is dubious<sup>2</sup>, since the algorithm as written does not check that constraint.  It has no control over the list length!</p>\n<p>On the other hand, if you rewrote the algorithm as this:</p>\n<pre><code>public static final int L = 42;\n\npublic Node&lt;T&gt; enqueue(T data){\n    Node&lt;T&gt; toQueue = new Node&lt;&gt;(data);\n    if (this.head == null) {\n        this.head = toQueue;\n        return toQueue;\n    }\n    Node&lt;T&gt; lastNode = this.head;\n    int count = 0;\n    while(lastNode.next != null){\n        lastNode = lastNode.next;\n        if (count++ &gt; L) {\n           throw InvalidArgumentException(&quot;list too long&quot;);\n        }\n    }\n\n    lastNode.next = toQueue;\n\n    return toQueue;\n}\n</code></pre>\n<p>then we can legitimately say that the method is <code>O(1)</code>.  It will either give a result or throw an exception within a constant time.</p>\n<hr />\n<p><sup>1 - I am ignoring the fact that there are practical limits on how long a simple linked list like this can be in a Java program.  If the list is too large, it won't fit in the heap.  And there are limits on how large you could make the heap.<br>\n2 - A more mathematically sound way to describe the scenario is that your algorithm is <code>O(N)</code> <em>but</em> your use of the algorithm is <code>O(1)</code> because the calling code (not shown) enforces a bound on the list length.</sup></p>\n"}],"owner":{"account_id":25537980,"reputation":1,"user_id":19324676,"display_name":"GeRmAnImAl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1657295227,"answer_count":2,"score":-3,"last_activity_date":1657244414,"creation_date":1657227102,"question_id":72904081,"body_markdown":"I wrote code for an enqueue method in a singly linked list and I&#39;m wondering if anyone can tell me the Big O is for this code. I at first assumed it was O(n) because of the loop. However, the loop will always iterate a specific number of times depending on how many items are in the list. This makes me believe it&#39;s actually O(1). Am I wrong?\r\n\r\n```\r\npublic Node&lt;T&gt; enqueue(T data){\r\n        Node&lt;T&gt; toQueue = new Node&lt;&gt;(data);\r\n        if (this.head == null) {\r\n            this.head = toQueue;\r\n            return toQueue;\r\n        }\r\n        Node&lt;T&gt; lastNode = this.head;\r\n        while(lastNode.next != null){\r\n            lastNode = lastNode.next;\r\n        }\r\n\r\n        lastNode.next = toQueue;\r\n\r\n        return toQueue;\r\n    }\r\n```","title":"What is the Big O for this enqueue method?","body":"<p>I wrote code for an enqueue method in a singly linked list and I'm wondering if anyone can tell me the Big O is for this code. I at first assumed it was O(n) because of the loop. However, the loop will always iterate a specific number of times depending on how many items are in the list. This makes me believe it's actually O(1). Am I wrong?</p>\n<pre><code>public Node&lt;T&gt; enqueue(T data){\n        Node&lt;T&gt; toQueue = new Node&lt;&gt;(data);\n        if (this.head == null) {\n            this.head = toQueue;\n            return toQueue;\n        }\n        Node&lt;T&gt; lastNode = this.head;\n        while(lastNode.next != null){\n            lastNode = lastNode.next;\n        }\n\n        lastNode.next = toQueue;\n\n        return toQueue;\n    }\n</code></pre>\n"},{"tags":["java","pdf","itext","sign"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1657123186,"post_id":72885745,"comment_id":128736651,"body_markdown":"Your flow cannot be correct: In `sign` you prepare the PDF for signing and sign it with a signature you provide as a parameter; thus, that signature has been created before the data to sign were known! (The data to sign are finalized by that preparation for signing.)","body":"Your flow cannot be correct: In <code>sign</code> you prepare the PDF for signing and sign it with a signature you provide as a parameter; thus, that signature has been created before the data to sign were known! (The data to sign are finalized by that preparation for signing.)"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657128172,"post_id":72885745,"comment_id":128738555,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":25741357,"reputation":11,"user_id":19495303,"display_name":"papi_pl"},"score":0,"creation_date":1657131016,"post_id":72885745,"comment_id":128739621,"body_markdown":"@mkl thank you for your comment, after some reading i think i should use deferred sign process with pre signing like in example here   https://git.itextsupport.com/projects/I7JS/repos/signatures/browse/src/test/java/com/itextpdf/samples/signatures/chapter04/C4_09_DeferredSigning.java","body":"@mkl thank you for your comment, after some reading i think i should use deferred sign process with pre signing like in example here   <a href=\"https://git.itextsupport.com/projects/I7JS/repos/signatures/browse/src/test/java/com/itextpdf/samples/signatures/chapter04/C4_09_DeferredSigning.java\" rel=\"nofollow noreferrer\">git.itextsupport.com/projects/I7JS/repos/signatures/browse/s&zwnj;&#8203;rc/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1657134765,"post_id":72885745,"comment_id":128740801,"body_markdown":"That is one option. Another one would be to call your sign service from within your `CustomSignature`. Which is better depends on details of your signature service and your whole use case.","body":"That is one option. Another one would be to call your sign service from within your <code>CustomSignature</code>. Which is better depends on details of your signature service and your whole use case."}],"answers":[{"tags":[],"owner":{"account_id":25741357,"reputation":11,"user_id":19495303,"display_name":"papi_pl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657243989,"creation_date":1657208261,"answer_id":72900649,"question_id":72885745,"body_markdown":"According to advice posted in the comment, I still use custom `IExternalSignature` implementation with external call in sign method:\r\n\r\n        public void sign(Certificate[] chain, PdfSigner.CryptoStandard subfilter, String fieldName) throws GeneralSecurityException, IOException {\r\n        try (InputStream is = new FileInputStream(src); FileOutputStream os = new FileOutputStream(dest)) {\r\n            PdfReader reader = new PdfReader(is);\r\n            PdfSigner signer = new PdfSigner(reader, os, new StampingProperties());\r\n            signer.setFieldName(fieldName); //My signature fields\r\n            IExternalDigest digest = new BouncyCastleDigest();\r\n            IExternalSignature signature = new CustomSignature(chain);\r\n            signer.signDetached(digest, signature, chain, null, null, null,\r\n                    8196, subfilter);\r\n        }\r\n    }\r\n\r\n    public class CustomSignature implements IExternalSignature {\r\n        private Certificate[] chain;\r\n        public CustomSignature(Certificate[] chain) {\r\n            this.chain = chain;\r\n        }\r\n        public String getHashAlgorithm() {\r\n            return DigestAlgorithms.SHA256;\r\n        }\r\n\r\n        public String getEncryptionAlgorithm() {\r\n            return &quot;RSA&quot;;\r\n        }\r\n\r\n        public byte[] sign(byte[] message) throws GeneralSecurityException {\r\n            BouncyCastleDigest digest = new BouncyCastleDigest();\r\n            byte[] hash = digest.getMessageDigest(&quot;SHA256&quot;).digest(message);\r\n            return Base64.getDecoder().decode(client.getSignedHash(Base64.getEncoder().encodeToString(hash))); // call externall service here\r\n        }\r\n    }\r\n\r\nAnd for the first call validation error disappeared, Signature1 seems to be ok, but a problem occurred when I tried to sign second sig field using pdf generetaed in first call and takes another file as output. Now newly created Signature2 is ok, but the first one failed with a broken byte range:\r\n\r\n    new DocumentSigner(SOURCE, DEST1).sign(chain,PdfSigner.CryptoStandard.CMS, &quot;Signature1&quot;);\r\n    new DocumentSigner(DEST1, DEST2).sign(chain, PdfSigner.CryptoStandard.CMS, &quot;Signature2&quot;);\r\n\r\nI will be grateful for any ideas what can I do to sign multiple fields without broke previous ones \r\n\r\n[Here is Adobe validation output after the second call][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dauPj.png\r\n\r\n\r\n**UPDATE:**\r\n\r\nI used append mode on PdfSigner&#39;s `StampingProperties` and now everything is ok:\r\n\r\n    StampingProperties stampingProperties = new StampingProperties();\r\n    stampingProperties.useAppendMode();\r\n    PdfSigner signer = new PdfSigner(reader, os, stampingProperties);","title":"Itext sign pdf with external signature causes validation fail (“the document has been altered or corrupted..&quot;)","body":"<p>According to advice posted in the comment, I still use custom <code>IExternalSignature</code> implementation with external call in sign method:</p>\n<pre><code>    public void sign(Certificate[] chain, PdfSigner.CryptoStandard subfilter, String fieldName) throws GeneralSecurityException, IOException {\n    try (InputStream is = new FileInputStream(src); FileOutputStream os = new FileOutputStream(dest)) {\n        PdfReader reader = new PdfReader(is);\n        PdfSigner signer = new PdfSigner(reader, os, new StampingProperties());\n        signer.setFieldName(fieldName); //My signature fields\n        IExternalDigest digest = new BouncyCastleDigest();\n        IExternalSignature signature = new CustomSignature(chain);\n        signer.signDetached(digest, signature, chain, null, null, null,\n                8196, subfilter);\n    }\n}\n\npublic class CustomSignature implements IExternalSignature {\n    private Certificate[] chain;\n    public CustomSignature(Certificate[] chain) {\n        this.chain = chain;\n    }\n    public String getHashAlgorithm() {\n        return DigestAlgorithms.SHA256;\n    }\n\n    public String getEncryptionAlgorithm() {\n        return &quot;RSA&quot;;\n    }\n\n    public byte[] sign(byte[] message) throws GeneralSecurityException {\n        BouncyCastleDigest digest = new BouncyCastleDigest();\n        byte[] hash = digest.getMessageDigest(&quot;SHA256&quot;).digest(message);\n        return Base64.getDecoder().decode(client.getSignedHash(Base64.getEncoder().encodeToString(hash))); // call externall service here\n    }\n}\n</code></pre>\n<p>And for the first call validation error disappeared, Signature1 seems to be ok, but a problem occurred when I tried to sign second sig field using pdf generetaed in first call and takes another file as output. Now newly created Signature2 is ok, but the first one failed with a broken byte range:</p>\n<pre><code>new DocumentSigner(SOURCE, DEST1).sign(chain,PdfSigner.CryptoStandard.CMS, &quot;Signature1&quot;);\nnew DocumentSigner(DEST1, DEST2).sign(chain, PdfSigner.CryptoStandard.CMS, &quot;Signature2&quot;);\n</code></pre>\n<p>I will be grateful for any ideas what can I do to sign multiple fields without broke previous ones</p>\n<p><a href=\"https://i.stack.imgur.com/dauPj.png\" rel=\"nofollow noreferrer\">Here is Adobe validation output after the second call</a></p>\n<p><strong>UPDATE:</strong></p>\n<p>I used append mode on PdfSigner's <code>StampingProperties</code> and now everything is ok:</p>\n<pre><code>StampingProperties stampingProperties = new StampingProperties();\nstampingProperties.useAppendMode();\nPdfSigner signer = new PdfSigner(reader, os, stampingProperties);\n</code></pre>\n"}],"owner":{"account_id":25741357,"reputation":11,"user_id":19495303,"display_name":"papi_pl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657243989,"creation_date":1657119370,"question_id":72885745,"body_markdown":"I try to sign pdf document using itext7, certificate and external signature returned from external web service say Sign Service:\r\n\r\nI did the following steps:\r\n\r\n1. Got the orginal pdf, added last page (sign page) with 2 signatures filelds on it and created temp pdf\r\n\r\n2. Calculated hash from created temp pdf\r\n\r\n3. Exchanhed with Sign Service my Base64 encoded hash with encoded Base64 signed hash (I&#39;m not sure is this raw or CMS signature - I treat it as CMS container)\r\n\r\n4. Decoded and put obtained signed hash along with certificate from Sign Company to one of my Sig field on temp pdf file. I will need sign subseqent field/fields in this way in the furure.\r\n\r\nUnfortunately i got validation errors in Adobe Reader: “the document has been altered or corrupted since the signature was applied”:\r\n[link to Adobe validation result][1]\r\n\r\nBelow the code fragment where I create sign page:\r\n\r\n    private void createPdfDocument(Document doc, int iteration) {\r\n        //Add last sign page to doc\r\n        doc.add(new AreaBreak(AreaBreakType.LAST_PAGE));\r\n        doc.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\r\n\r\n        PdfPage lastPage = doc.getPdfDocument().getLastPage();\r\n        float width = lastPage.getPageSize().getWidth();\r\n        float height = lastPage.getPageSize().getHeight();\r\n\r\n        createTitle(doc);\r\n        PdfAcroForm form = PdfAcroForm.getAcroForm(doc.getPdfDocument(), true);\r\n\r\n        for (int i = 1; i &lt;= iteration; i++) {\r\n            addSignArea(doc, form, VERTICAL_RECTANGLE_START - (i - 1) * VERTICAL_MARGIN,\r\n                    VERTICAL_TEXT_START - (i - 1) * VERTICAL_MARGIN, i);\r\n        }\r\n        System.out.println(&quot;Creating sign page finished&quot;);\r\n    }\r\n    private void addSignArea(Document doc, PdfAcroForm form, int verticalRectPosition, int verticalFieldPosition, int iteration) {\r\n        Color color = new DeviceRgb(46, 66, 148);\r\n\r\n        //Create sign area frame\r\n        new PdfCanvas(doc.getPdfDocument().getLastPage())\r\n                .roundRectangle(50, verticalRectPosition, 495, 50, 5)\r\n                .setLineWidth(0.5f)\r\n                .setStrokeColor(color)\r\n                .stroke();\r\n\r\n        //Create text fields inside frame\r\n        PdfSignatureFormField signField = PdfSignatureFormField.createSignature(doc.getPdfDocument(),\r\n                new Rectangle(50, verticalRectPosition, 495, 50));\r\n        signField.setFieldName(getFieldCountedName(&quot;Signature&quot;, iteration));\r\n        form.addField(signField);\r\n    }\r\n\r\nI calculate document hash that way:\r\n\r\n    public String getDocumentHash() {\r\n        try (FileInputStream is = new FileInputStream(DOC)) {\r\n            byte[] hash = DigestAlgorithms.digest(is, DigestAlgorithms.SHA256, null);\r\n            String encodeToString = Base64.getEncoder().encodeToString(hash);\r\n            System.out.println(encodeToString);\r\n            return encodeToString;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\nAnd finally sign pdf file:\r\n\r\n    public class DocumentSigner {\r\n\r\n    public static final String DEST = &quot;&quot;;\r\n    private static final String SOURCE = &quot;&quot;;\r\n    private static final String DOC_HASH = &quot;6XsoKhEXVMu8e0R7BGtaKvghwL0GBrqTGAivFpct6J4=&quot;;\r\n\r\n    public static final String[] RESULT_FILES = new String[]{\r\n            &quot;sign_doc_result1.pdf&quot;\r\n    };\r\n\r\n    public static void main(String[] args) throws GeneralSecurityException, IOException {\r\n        File file = new File(DEST);\r\n        file.mkdirs();\r\n\r\n        Certificate[] chain = new Certificate[1];\r\n        chain[0] = CertLoadTest.getPublicCert(); //load cert from path\r\n\r\n        String encodedExternalHash = getExternalSignedHash(); //get the signded hash returned from the Sign Service\r\n\r\n        new DocumentSigner().sign(SOURCE, DEST + RESULT_FILES[0], chain, PdfSigner.CryptoStandard.CMS,\r\n                encodedExternalHash, DOC_HASH, &quot;Signature1&quot;);\r\n    }\r\n\r\n    public void sign(String src, String dest, Certificate[] chain, PdfSigner.CryptoStandard subfilter,\r\n                     String encodedExternalHash, String documentHash,  String fieldName) throws GeneralSecurityException, IOException {\r\n\r\n        try (FileOutputStream os = new FileOutputStream(dest); InputStream is = new FileInputStream(src)) {\r\n            PdfReader reader = new PdfReader(is);\r\n            PdfSigner signer = new PdfSigner(reader, os, new StampingProperties());\r\n            signer.setFieldName(fieldName);\r\n\r\n            IExternalDigest digest = new BouncyCastleDigest();\r\n            IExternalSignature signature = new CustomSignature(Base64.getDecoder().decode(encodedExternalHash),\r\n                    Base64.getDecoder().decode(documentHash), chain);\r\n\r\n            signer.signDetached(digest, signature, chain, null, null, null,\r\n                    8096, subfilter);\r\n        }\r\n    }\r\n\r\n    public class CustomSignature implements IExternalSignature {\r\n        private byte[] signedHash;\r\n        private byte[] documentHash;\r\n        private Certificate[] chain;\r\n\r\n        public CustomSignature(byte[] signedHash, byte[] documentHash, Certificate[] chain) {\r\n            this.signedHash = signedHash;\r\n            this.documentHash = documentHash;\r\n            this.chain = chain;\r\n        }\r\n\r\n        public String getHashAlgorithm() {\r\n            return DigestAlgorithms.SHA256;\r\n        }\r\n\r\n        public String getEncryptionAlgorithm() {\r\n            return &quot;RSA&quot;;\r\n        }\r\n\r\n        public byte[] sign(byte[] message) throws GeneralSecurityException {\r\n            return signedHash;\r\n        }\r\n    }\r\n\r\n    private static String getExternalSignedHash() {\r\n        //mocked Sign Service result - documentHash is exchanged with signedHash\r\n        return &quot;3BLqVMOLSFXEfCy++n0DmRqcfCGCqSLy9Nzpn1IpAn6iTqr+h78+yOomGMAL0La77IB08Tou9gkxbwSXPHrdN5+EPm7HCXeI/z3fzj711H9OH6P9tWtVHgieKUFOVhrm/PTeypSC/vy7RJQLNmL5+/+Moby5Bdo/KaaN2h9Jj41w1i6CwL/7wzCZ0h+AU9sI+IC0i/UbWFFz7VMfN5barcF1vP+ECLiX3qtZrGbFZNZfrr+28ytNTdUR4iZJRLKL2nXeg0CqxsTjnAyUsFMTCro1qv0QkQO8Cv6AJFhWlUFGUkt+pIUKhIticlypB+WdzwmISOsRK0IUiKgrJI6E3g==&quot;;\r\n    }\r\n\r\nA also tried to treat returned from Sign Service hash as a raw signature - this is what sign method in CustomSignature class looks like then:\r\n\r\n            BouncyCastleDigest digest = new BouncyCastleDigest();\r\n            PdfPKCS7 sgn = new PdfPKCS7(null, chain, &quot;SHA256&quot;, null, digest, false);\r\n            byte[] sh = sgn.getAuthenticatedAttributeBytes(documentHash, PdfSigner.CryptoStandard.CMS, null, null);\r\n            sgn.setExternalDigest(signedHash, null, &quot;RSA&quot;);\r\n            byte[] encodedSig = sgn.getEncodedPKCS7(documentHash, PdfSigner.CryptoStandard.CMS, null, null, null);\r\n            return encodedSig;\r\n\r\n\r\nBut in this case i get formmatting signature errors in Adobe Reader\r\n\r\nIs my flow correct or maybe i need another approach to properly sign document.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cpJLb.png","title":"Itext sign pdf with external signature causes validation fail (“the document has been altered or corrupted..&quot;)","body":"<p>I try to sign pdf document using itext7, certificate and external signature returned from external web service say Sign Service:</p>\n<p>I did the following steps:</p>\n<ol>\n<li><p>Got the orginal pdf, added last page (sign page) with 2 signatures filelds on it and created temp pdf</p>\n</li>\n<li><p>Calculated hash from created temp pdf</p>\n</li>\n<li><p>Exchanhed with Sign Service my Base64 encoded hash with encoded Base64 signed hash (I'm not sure is this raw or CMS signature - I treat it as CMS container)</p>\n</li>\n<li><p>Decoded and put obtained signed hash along with certificate from Sign Company to one of my Sig field on temp pdf file. I will need sign subseqent field/fields in this way in the furure.</p>\n</li>\n</ol>\n<p>Unfortunately i got validation errors in Adobe Reader: “the document has been altered or corrupted since the signature was applied”:\n<a href=\"https://i.stack.imgur.com/cpJLb.png\" rel=\"nofollow noreferrer\">link to Adobe validation result</a></p>\n<p>Below the code fragment where I create sign page:</p>\n<pre><code>private void createPdfDocument(Document doc, int iteration) {\n    //Add last sign page to doc\n    doc.add(new AreaBreak(AreaBreakType.LAST_PAGE));\n    doc.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\n\n    PdfPage lastPage = doc.getPdfDocument().getLastPage();\n    float width = lastPage.getPageSize().getWidth();\n    float height = lastPage.getPageSize().getHeight();\n\n    createTitle(doc);\n    PdfAcroForm form = PdfAcroForm.getAcroForm(doc.getPdfDocument(), true);\n\n    for (int i = 1; i &lt;= iteration; i++) {\n        addSignArea(doc, form, VERTICAL_RECTANGLE_START - (i - 1) * VERTICAL_MARGIN,\n                VERTICAL_TEXT_START - (i - 1) * VERTICAL_MARGIN, i);\n    }\n    System.out.println(&quot;Creating sign page finished&quot;);\n}\nprivate void addSignArea(Document doc, PdfAcroForm form, int verticalRectPosition, int verticalFieldPosition, int iteration) {\n    Color color = new DeviceRgb(46, 66, 148);\n\n    //Create sign area frame\n    new PdfCanvas(doc.getPdfDocument().getLastPage())\n            .roundRectangle(50, verticalRectPosition, 495, 50, 5)\n            .setLineWidth(0.5f)\n            .setStrokeColor(color)\n            .stroke();\n\n    //Create text fields inside frame\n    PdfSignatureFormField signField = PdfSignatureFormField.createSignature(doc.getPdfDocument(),\n            new Rectangle(50, verticalRectPosition, 495, 50));\n    signField.setFieldName(getFieldCountedName(&quot;Signature&quot;, iteration));\n    form.addField(signField);\n}\n</code></pre>\n<p>I calculate document hash that way:</p>\n<pre><code>public String getDocumentHash() {\n    try (FileInputStream is = new FileInputStream(DOC)) {\n        byte[] hash = DigestAlgorithms.digest(is, DigestAlgorithms.SHA256, null);\n        String encodeToString = Base64.getEncoder().encodeToString(hash);\n        System.out.println(encodeToString);\n        return encodeToString;\n    } catch (Exception e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n<p>And finally sign pdf file:</p>\n<pre><code>public class DocumentSigner {\n\npublic static final String DEST = &quot;&quot;;\nprivate static final String SOURCE = &quot;&quot;;\nprivate static final String DOC_HASH = &quot;6XsoKhEXVMu8e0R7BGtaKvghwL0GBrqTGAivFpct6J4=&quot;;\n\npublic static final String[] RESULT_FILES = new String[]{\n        &quot;sign_doc_result1.pdf&quot;\n};\n\npublic static void main(String[] args) throws GeneralSecurityException, IOException {\n    File file = new File(DEST);\n    file.mkdirs();\n\n    Certificate[] chain = new Certificate[1];\n    chain[0] = CertLoadTest.getPublicCert(); //load cert from path\n\n    String encodedExternalHash = getExternalSignedHash(); //get the signded hash returned from the Sign Service\n\n    new DocumentSigner().sign(SOURCE, DEST + RESULT_FILES[0], chain, PdfSigner.CryptoStandard.CMS,\n            encodedExternalHash, DOC_HASH, &quot;Signature1&quot;);\n}\n\npublic void sign(String src, String dest, Certificate[] chain, PdfSigner.CryptoStandard subfilter,\n                 String encodedExternalHash, String documentHash,  String fieldName) throws GeneralSecurityException, IOException {\n\n    try (FileOutputStream os = new FileOutputStream(dest); InputStream is = new FileInputStream(src)) {\n        PdfReader reader = new PdfReader(is);\n        PdfSigner signer = new PdfSigner(reader, os, new StampingProperties());\n        signer.setFieldName(fieldName);\n\n        IExternalDigest digest = new BouncyCastleDigest();\n        IExternalSignature signature = new CustomSignature(Base64.getDecoder().decode(encodedExternalHash),\n                Base64.getDecoder().decode(documentHash), chain);\n\n        signer.signDetached(digest, signature, chain, null, null, null,\n                8096, subfilter);\n    }\n}\n\npublic class CustomSignature implements IExternalSignature {\n    private byte[] signedHash;\n    private byte[] documentHash;\n    private Certificate[] chain;\n\n    public CustomSignature(byte[] signedHash, byte[] documentHash, Certificate[] chain) {\n        this.signedHash = signedHash;\n        this.documentHash = documentHash;\n        this.chain = chain;\n    }\n\n    public String getHashAlgorithm() {\n        return DigestAlgorithms.SHA256;\n    }\n\n    public String getEncryptionAlgorithm() {\n        return &quot;RSA&quot;;\n    }\n\n    public byte[] sign(byte[] message) throws GeneralSecurityException {\n        return signedHash;\n    }\n}\n\nprivate static String getExternalSignedHash() {\n    //mocked Sign Service result - documentHash is exchanged with signedHash\n    return &quot;3BLqVMOLSFXEfCy++n0DmRqcfCGCqSLy9Nzpn1IpAn6iTqr+h78+yOomGMAL0La77IB08Tou9gkxbwSXPHrdN5+EPm7HCXeI/z3fzj711H9OH6P9tWtVHgieKUFOVhrm/PTeypSC/vy7RJQLNmL5+/+Moby5Bdo/KaaN2h9Jj41w1i6CwL/7wzCZ0h+AU9sI+IC0i/UbWFFz7VMfN5barcF1vP+ECLiX3qtZrGbFZNZfrr+28ytNTdUR4iZJRLKL2nXeg0CqxsTjnAyUsFMTCro1qv0QkQO8Cv6AJFhWlUFGUkt+pIUKhIticlypB+WdzwmISOsRK0IUiKgrJI6E3g==&quot;;\n}\n</code></pre>\n<p>A also tried to treat returned from Sign Service hash as a raw signature - this is what sign method in CustomSignature class looks like then:</p>\n<pre><code>        BouncyCastleDigest digest = new BouncyCastleDigest();\n        PdfPKCS7 sgn = new PdfPKCS7(null, chain, &quot;SHA256&quot;, null, digest, false);\n        byte[] sh = sgn.getAuthenticatedAttributeBytes(documentHash, PdfSigner.CryptoStandard.CMS, null, null);\n        sgn.setExternalDigest(signedHash, null, &quot;RSA&quot;);\n        byte[] encodedSig = sgn.getEncodedPKCS7(documentHash, PdfSigner.CryptoStandard.CMS, null, null, null);\n        return encodedSig;\n</code></pre>\n<p>But in this case i get formmatting signature errors in Adobe Reader</p>\n<p>Is my flow correct or maybe i need another approach to properly sign document.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"score":0,"creation_date":1657193596,"post_id":72896939,"comment_id":128755248,"body_markdown":"Try add `@ComponentScan` over `IHubApplication.class`","body":"Try add <code>@ComponentScan</code> over <code>IHubApplication.class</code>"},{"owner":{"account_id":4153002,"reputation":139,"user_id":3404905,"display_name":"chethan bhounsley g"},"score":0,"creation_date":1657194326,"post_id":72896939,"comment_id":128755529,"body_markdown":"CustomConfig was generated through SDK with same class and same package was causing issue. Thank you.","body":"CustomConfig was generated through SDK with same class and same package was causing issue. Thank you."}],"owner":{"account_id":4153002,"reputation":139,"user_id":3404905,"display_name":"chethan bhounsley g"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657243903,"creation_date":1657192963,"question_id":72896939,"body_markdown":"I have a spring boot application with base \r\n\r\n```\r\n@SpringBootApplication(scanBasePackages = { &quot;com.abc.xyz.pqr&quot; })\r\npublic class IhubApplication {}\r\n```\r\n\r\nand library folder where I am loading multiple projects having different packages scanned using \r\n\r\n*Project 1:*\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackages = &quot;com.pqr.abc&quot;)\r\n    public class CustomConfig {\r\n    \r\n    }\r\n\r\n*Project 2:*\r\n\r\n```\r\n@ComponentScan(basePackages = {&quot;com.abc.xyx&quot;})\r\n@Configuration\r\npublic class CustomConfig {}\r\n```\r\n\r\n**Problem:** On running `IhubApplication`, only one is loading from lib, i.e, `com.abc.xyx`. Project with component scan `com.pqr.abc` is being ignored.\r\n\r\n","title":"Multiple Projects - @ComponentScan is not working correctly","body":"<p>I have a spring boot application with base</p>\n<pre><code>@SpringBootApplication(scanBasePackages = { &quot;com.abc.xyz.pqr&quot; })\npublic class IhubApplication {}\n</code></pre>\n<p>and library folder where I am loading multiple projects having different packages scanned using</p>\n<p><em>Project 1:</em></p>\n<pre><code>@Configuration\n@ComponentScan(basePackages = &quot;com.pqr.abc&quot;)\npublic class CustomConfig {\n\n}\n</code></pre>\n<p><em>Project 2:</em></p>\n<pre><code>@ComponentScan(basePackages = {&quot;com.abc.xyx&quot;})\n@Configuration\npublic class CustomConfig {}\n</code></pre>\n<p><strong>Problem:</strong> On running <code>IhubApplication</code>, only one is loading from lib, i.e, <code>com.abc.xyx</code>. Project with component scan <code>com.pqr.abc</code> is being ignored.</p>\n"},{"tags":["java","android","expandablelistview"],"comments":[{"owner":{"account_id":6305344,"reputation":2779,"user_id":4898562,"display_name":"i_A_mok"},"score":1,"creation_date":1657442615,"post_id":72905785,"comment_id":128807326,"body_markdown":"I think you have to replace `while (res.moveToNext()){ ctrVisit = res.getString(3); }` with some code related to **childPosition**.","body":"I think you have to replace <code>while (res.moveToNext()){ ctrVisit = res.getString(3); }</code> with some code related to <b>childPosition</b>."},{"owner":{"account_id":9132874,"reputation":15,"user_id":6793755,"display_name":"Ryan Baltazar"},"score":0,"creation_date":1657500894,"post_id":72905785,"comment_id":128817568,"body_markdown":"Thank you sir. Everything is fine now, The problem is I declared my button and textviews as Global.","body":"Thank you sir. Everything is fine now, The problem is I declared my button and textviews as Global."}],"owner":{"account_id":9132874,"reputation":15,"user_id":6793755,"display_name":"Ryan Baltazar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657243655,"creation_date":1657243655,"question_id":72905785,"body_markdown":"I&#39;m trying to add an remove function on my child list inside ExpandableListView, but when I clicked the button inside child list, it always returns me the last list on my child even though I select the first one or other child list. \r\n\r\nHere&#39;s my source code for ExpandableListView\r\n\r\n\r\nExpandableListView Code : \r\n\r\n     private void fillData(){\r\n            String COA = String.format(dataBaseHelper.getCount(VisitDate));\r\n            if(COA.equals(0)) {\r\n                mGroupsCursor = dataBaseHelper.getSelectedParentMVPDate(reformatMVPDate());\r\n                startManagingCursor(mGroupsCursor);\r\n                mGroupsCursor.moveToFirst();\r\n                ExpandableListView SelectedListView = (ExpandableListView) findViewById(R.id.MVPListitem);\r\n                mAdapter = new MyExpandableListAdapter(mGroupsCursor, this,\r\n                        R.layout.mvp_list_parent,\r\n                        R.layout.mvp_list_child,\r\n                        new String[]{DataBaseHelper.MVP_INDUSTRY_TYPE},\r\n                        new int[]{R.id.txtMVPParent},\r\n                        new String[]{DataBaseHelper.MVP_BRCH_CODE_NAME, DataBaseHelper.MVP_BRCH_ADDRESS, DataBaseHelper.MVP_ID},\r\n                        new int[]{R.id.txtviewBrnchCodeName, R.id.txtviewBrchAddr, R.id.txtmvpID});\r\n                SelectedListView.setAdapter(mAdapter);\r\n            }\r\n            else{\r\n                mGroupsCursor = dataBaseHelper.getSelectedParentMVPDate(reformatMVPDate());\r\n                startManagingCursor(mGroupsCursor);\r\n                mGroupsCursor.moveToFirst();\r\n                ExpandableListView SelectedListView = (ExpandableListView) findViewById(R.id.MVPListitem);\r\n                mAdapter = new MyExpandableListAdapter(mGroupsCursor, this,\r\n                        R.layout.mvp_list_parent,\r\n                        R.layout.mvp_list_child,\r\n                        new String[]{DataBaseHelper.MVP_INDUSTRY_TYPE},\r\n                        new int[]{R.id.txtMVPParent},\r\n                        new String[]{DataBaseHelper.MVP_BRCH_CODE_NAME, DataBaseHelper.MVP_BRCH_ADDRESS, DataBaseHelper.MVP_ID},\r\n                        new int[]{R.id.txtviewBrnchCodeName, R.id.txtviewBrchAddr, R.id.txtmvpID});\r\n                SelectedListView.setAdapter(mAdapter);\r\n            }\r\n        }\r\n    \r\n        public class MyExpandableListAdapter extends SimpleCursorTreeAdapter {\r\n            public MyExpandableListAdapter(Cursor cursor, Context context,int groupLayout,\r\n                                           int childLayout, String[] groupFrom, int[] groupTo, String[] childrenFrom,\r\n                                           int[] childrenTo) {\r\n                super(context, cursor, groupLayout, groupFrom, groupTo,\r\n                        childLayout, childrenFrom, childrenTo);\r\n            }\r\n    \r\n            @Override\r\n            protected Cursor getChildrenCursor(Cursor cursor) {\r\n                @SuppressLint(&quot;Range&quot;) Cursor childCursor = dataBaseHelper.getSelectedChildMVPDate(cursor.getString(cursor.getColumnIndex(DataBaseHelper.MVP_INDUSTRY_TYPE)),reformatMVPDate());\r\n                startManagingCursor(childCursor);\r\n                childCursor.moveToFirst();\r\n                return childCursor;\r\n            }\r\n    \r\n            public View getChildView(final int groupPosition,\r\n                                     final int childPosition, boolean isLastChild, View convertView,\r\n                                     ViewGroup parent) {\r\n    \r\n    \r\n        View rowView = super.getChildView(groupPosition, childPosition,\r\n                        isLastChild, convertView, parent);\r\n    \r\n    \r\n    \r\n    \r\n                removeMVP = (Button) rowView.findViewById(R.id.btnRemove);\r\n                txtBCN = (TextView) rowView.findViewById(R.id.txtviewBrnchCodeName);\r\n                txtBA = (TextView) rowView.findViewById(R.id.txtviewBrchAddr);\r\n                txtmvpID = (TextView) rowView.findViewById(R.id.txtmvpID);\r\n                if(edit.getVisibility() == View.VISIBLE){\r\n                    removeMVP.setVisibility(View.GONE);\r\n                }\r\n                else{\r\n                    removeMVP.setVisibility(View.VISIBLE);\r\n                }\r\n                //remove childList\r\n                removeMVP.setOnClickListener(new View.OnClickListener() {\r\n                    @SuppressLint(&quot;Range&quot;)\r\n                    public void onClick(View v) {\r\n                        AlertDialog.Builder builder = new AlertDialog.Builder(MasterVisitPlan.this);\r\n                        builder.setTitle(&quot;Delete Appointment&quot;)\r\n                                .setMessage(&quot;Are you sure? Assigned date and branch will be removed.&quot; + txtBCN.getText().toString())\r\n                                .setCancelable(false)\r\n                                .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(DialogInterface dialog, int which) {\r\n                                        Cursor res = dataBaseHelper.getCounterVisitData(txtBCN.getText().toString(), reformatDate());\r\n                                        if(res.getCount() == 0){\r\n                                            return;\r\n                                        }while (res.moveToNext()){\r\n                                            ctrVisit = res.getString(3);\r\n                                        }\r\n                                        int diffCounterVisit = Integer.parseInt(ctrVisit) - 1;\r\n                                        dataBaseHelper.updateCounterVisit(txtBCN.getText().toString(),String.valueOf(diffCounterVisit),reformatDate());\r\n                                        Integer deletedRows = dataBaseHelper.DeleteSelectedChildMVPDate(txtmvpID.getText().toString());\r\n                                        if(deletedRows &gt; 0){\r\n                                            AlertDialog.Builder builder = new AlertDialog.Builder(MasterVisitPlan.this);\r\n                                            builder.setMessage(&quot;✔ Successfully removed.&quot;)\r\n                                                    .setCancelable(false)\r\n                                                    .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                                                        @Override\r\n                                                        public void onClick(DialogInterface dialog, int which) {\r\n                                                            edit.clearAnimation();\r\n                                                            dialog.cancel();\r\n                                                            setMonthView();\r\n                                                            getStatus();\r\n                                                            btnViewfromUploadStatus();\r\n                                                            enableView(calendar, false);\r\n                                                        }\r\n                                                    });\r\n                                            AlertDialog dialogDeleted = builder.create();\r\n                                            dialogDeleted.show();\r\n                                        }else{\r\n                                            Toast.makeText(MasterVisitPlan.this, &quot;Data not Deleted&quot;, Toast.LENGTH_SHORT).show();\r\n                                        }\r\n                                        fillData();\r\n                                        countMVPData();\r\n                                    }\r\n                                })\r\n                                .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(DialogInterface dialog, int which) {\r\n                                        dialog.cancel();\r\n                                    }\r\n                                });\r\n                        AlertDialog dialog = builder.create();\r\n                        dialog.show();\r\n                    }\r\n                });\r\n                return rowView;\r\n            }\r\n        }\r\n\r\n","title":"Delete child item inside ExpandableListView","body":"<p>I'm trying to add an remove function on my child list inside ExpandableListView, but when I clicked the button inside child list, it always returns me the last list on my child even though I select the first one or other child list.</p>\n<p>Here's my source code for ExpandableListView</p>\n<p>ExpandableListView Code :</p>\n<pre><code> private void fillData(){\n        String COA = String.format(dataBaseHelper.getCount(VisitDate));\n        if(COA.equals(0)) {\n            mGroupsCursor = dataBaseHelper.getSelectedParentMVPDate(reformatMVPDate());\n            startManagingCursor(mGroupsCursor);\n            mGroupsCursor.moveToFirst();\n            ExpandableListView SelectedListView = (ExpandableListView) findViewById(R.id.MVPListitem);\n            mAdapter = new MyExpandableListAdapter(mGroupsCursor, this,\n                    R.layout.mvp_list_parent,\n                    R.layout.mvp_list_child,\n                    new String[]{DataBaseHelper.MVP_INDUSTRY_TYPE},\n                    new int[]{R.id.txtMVPParent},\n                    new String[]{DataBaseHelper.MVP_BRCH_CODE_NAME, DataBaseHelper.MVP_BRCH_ADDRESS, DataBaseHelper.MVP_ID},\n                    new int[]{R.id.txtviewBrnchCodeName, R.id.txtviewBrchAddr, R.id.txtmvpID});\n            SelectedListView.setAdapter(mAdapter);\n        }\n        else{\n            mGroupsCursor = dataBaseHelper.getSelectedParentMVPDate(reformatMVPDate());\n            startManagingCursor(mGroupsCursor);\n            mGroupsCursor.moveToFirst();\n            ExpandableListView SelectedListView = (ExpandableListView) findViewById(R.id.MVPListitem);\n            mAdapter = new MyExpandableListAdapter(mGroupsCursor, this,\n                    R.layout.mvp_list_parent,\n                    R.layout.mvp_list_child,\n                    new String[]{DataBaseHelper.MVP_INDUSTRY_TYPE},\n                    new int[]{R.id.txtMVPParent},\n                    new String[]{DataBaseHelper.MVP_BRCH_CODE_NAME, DataBaseHelper.MVP_BRCH_ADDRESS, DataBaseHelper.MVP_ID},\n                    new int[]{R.id.txtviewBrnchCodeName, R.id.txtviewBrchAddr, R.id.txtmvpID});\n            SelectedListView.setAdapter(mAdapter);\n        }\n    }\n\n    public class MyExpandableListAdapter extends SimpleCursorTreeAdapter {\n        public MyExpandableListAdapter(Cursor cursor, Context context,int groupLayout,\n                                       int childLayout, String[] groupFrom, int[] groupTo, String[] childrenFrom,\n                                       int[] childrenTo) {\n            super(context, cursor, groupLayout, groupFrom, groupTo,\n                    childLayout, childrenFrom, childrenTo);\n        }\n\n        @Override\n        protected Cursor getChildrenCursor(Cursor cursor) {\n            @SuppressLint(&quot;Range&quot;) Cursor childCursor = dataBaseHelper.getSelectedChildMVPDate(cursor.getString(cursor.getColumnIndex(DataBaseHelper.MVP_INDUSTRY_TYPE)),reformatMVPDate());\n            startManagingCursor(childCursor);\n            childCursor.moveToFirst();\n            return childCursor;\n        }\n\n        public View getChildView(final int groupPosition,\n                                 final int childPosition, boolean isLastChild, View convertView,\n                                 ViewGroup parent) {\n\n\n    View rowView = super.getChildView(groupPosition, childPosition,\n                    isLastChild, convertView, parent);\n\n\n\n\n            removeMVP = (Button) rowView.findViewById(R.id.btnRemove);\n            txtBCN = (TextView) rowView.findViewById(R.id.txtviewBrnchCodeName);\n            txtBA = (TextView) rowView.findViewById(R.id.txtviewBrchAddr);\n            txtmvpID = (TextView) rowView.findViewById(R.id.txtmvpID);\n            if(edit.getVisibility() == View.VISIBLE){\n                removeMVP.setVisibility(View.GONE);\n            }\n            else{\n                removeMVP.setVisibility(View.VISIBLE);\n            }\n            //remove childList\n            removeMVP.setOnClickListener(new View.OnClickListener() {\n                @SuppressLint(&quot;Range&quot;)\n                public void onClick(View v) {\n                    AlertDialog.Builder builder = new AlertDialog.Builder(MasterVisitPlan.this);\n                    builder.setTitle(&quot;Delete Appointment&quot;)\n                            .setMessage(&quot;Are you sure? Assigned date and branch will be removed.&quot; + txtBCN.getText().toString())\n                            .setCancelable(false)\n                            .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                                @Override\n                                public void onClick(DialogInterface dialog, int which) {\n                                    Cursor res = dataBaseHelper.getCounterVisitData(txtBCN.getText().toString(), reformatDate());\n                                    if(res.getCount() == 0){\n                                        return;\n                                    }while (res.moveToNext()){\n                                        ctrVisit = res.getString(3);\n                                    }\n                                    int diffCounterVisit = Integer.parseInt(ctrVisit) - 1;\n                                    dataBaseHelper.updateCounterVisit(txtBCN.getText().toString(),String.valueOf(diffCounterVisit),reformatDate());\n                                    Integer deletedRows = dataBaseHelper.DeleteSelectedChildMVPDate(txtmvpID.getText().toString());\n                                    if(deletedRows &gt; 0){\n                                        AlertDialog.Builder builder = new AlertDialog.Builder(MasterVisitPlan.this);\n                                        builder.setMessage(&quot;✔ Successfully removed.&quot;)\n                                                .setCancelable(false)\n                                                .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                                                    @Override\n                                                    public void onClick(DialogInterface dialog, int which) {\n                                                        edit.clearAnimation();\n                                                        dialog.cancel();\n                                                        setMonthView();\n                                                        getStatus();\n                                                        btnViewfromUploadStatus();\n                                                        enableView(calendar, false);\n                                                    }\n                                                });\n                                        AlertDialog dialogDeleted = builder.create();\n                                        dialogDeleted.show();\n                                    }else{\n                                        Toast.makeText(MasterVisitPlan.this, &quot;Data not Deleted&quot;, Toast.LENGTH_SHORT).show();\n                                    }\n                                    fillData();\n                                    countMVPData();\n                                }\n                            })\n                            .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                                @Override\n                                public void onClick(DialogInterface dialog, int which) {\n                                    dialog.cancel();\n                                }\n                            });\n                    AlertDialog dialog = builder.create();\n                    dialog.show();\n                }\n            });\n            return rowView;\n        }\n    }\n</code></pre>\n"},{"tags":["java","linux","ubuntu","docker"],"comments":[{"owner":{"account_id":3597514,"reputation":117144,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1469079577,"post_id":38495646,"comment_id":64391654,"body_markdown":"Are you trying to use a Docker container like a regular virtual machine? That&#39;s not really how it works. You should write a `Dockerfile` that starts with the base Ubuntu image you want, installs Java, copies across your app and sets it up to run.","body":"Are you trying to use a Docker container like a regular virtual machine? That&#39;s not really how it works. You should write a <code>Dockerfile</code> that starts with the base Ubuntu image you want, installs Java, copies across your app and sets it up to run."},{"owner":{"account_id":7385237,"reputation":2762,"user_id":5620472,"accept_rate":23,"display_name":"user5620472"},"score":0,"creation_date":1469079940,"post_id":38495646,"comment_id":64391788,"body_markdown":"@jonrsharpe OK. let&#39;s say I&#39;ve created a file docker. Then what I do with it? I imagine this is so - I run docker. install all need Programs  (java, db, some utilites). test how it works. If all is well then I create an image. then I install that image in another docker on another computer.","body":"@jonrsharpe OK. let&#39;s say I&#39;ve created a file docker. Then what I do with it? I imagine this is so - I run docker. install all need Programs  (java, db, some utilites). test how it works. If all is well then I create an image. then I install that image in another docker on another computer."},{"owner":{"account_id":4992556,"reputation":18256,"user_id":4014291,"accept_rate":100,"display_name":"Samuel Toh"},"score":0,"creation_date":1469079999,"post_id":38495646,"comment_id":64391817,"body_markdown":"In Docker data are not persist in the container unless it is associated with a volume that is mapped to a file system.","body":"In Docker data are not persist in the container unless it is associated with a volume that is mapped to a file system."},{"owner":{"account_id":7385237,"reputation":2762,"user_id":5620472,"accept_rate":23,"display_name":"user5620472"},"score":0,"creation_date":1469080053,"post_id":38495646,"comment_id":64391832,"body_markdown":"then I do not understand how it works","body":"then I do not understand how it works"},{"owner":{"account_id":3597514,"reputation":117144,"user_id":3001761,"display_name":"jonrsharpe"},"score":1,"creation_date":1469080247,"post_id":38495646,"comment_id":64391919,"body_markdown":"Well have you considered reading the [introductory tutorial](https://docs.docker.com/engine/getstarted/) or the docs (e.g. [`Dockerfile` reference](https://docs.docker.com/engine/reference/builder/))? You supply a list of steps that tells Docker how to build the container you want, then it&#39;s easily repeatable, rather than having to set it up in a running machine. See e.g. https://github.com/textbook/flash/blob/master/Dockerfile, from one of my own projects.","body":"Well have you considered reading the <a href=\"https://docs.docker.com/engine/getstarted/\" rel=\"nofollow noreferrer\">introductory tutorial</a> or the docs (e.g. <a href=\"https://docs.docker.com/engine/reference/builder/\" rel=\"nofollow noreferrer\"><code>Dockerfile</code> reference</a>)? You supply a list of steps that tells Docker how to build the container you want, then it&#39;s easily repeatable, rather than having to set it up in a running machine. See e.g. <a href=\"https://github.com/textbook/flash/blob/master/Dockerfile\" rel=\"nofollow noreferrer\">github.com/textbook/flash/blob/master/Dockerfile</a>, from one of my own projects."}],"answers":[{"tags":[],"owner":{"account_id":3032783,"reputation":5092,"user_id":2571455,"display_name":"Rambler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469079847,"creation_date":1469079847,"answer_id":38495757,"question_id":38495646,"body_markdown":"You will have to commit the updated Image after installing Ubuntu.Try the following after installing java on the running container :\r\n    \r\n    docker ps -l #get current container ID , let&#39;s sat it is &quot;container_id&quot;\r\n\r\nThen :\r\n\r\n    docker commit container_id ubuntu_with_java\r\n\r\nIt would create a new Image with name &quot;ubuntu_with_java&quot; .     ","title":"How install java to ubuntu on docker?","body":"<p>You will have to commit the updated Image after installing Ubuntu.Try the following after installing java on the running container :</p>\n\n<pre><code>docker ps -l #get current container ID , let's sat it is \"container_id\"\n</code></pre>\n\n<p>Then :</p>\n\n<pre><code>docker commit container_id ubuntu_with_java\n</code></pre>\n\n<p>It would create a new Image with name \"ubuntu_with_java\" .     </p>\n"},{"tags":[],"owner":{"account_id":3483673,"reputation":31124,"user_id":2915097,"display_name":"user2915097"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1469082521,"creation_date":1469082521,"answer_id":38496519,"question_id":38495646,"body_markdown":"why not use the official Java images, or the alpine Java, and just put in your Dockerfile \r\n\r\n`FROM java` \r\n\r\nor \r\n\r\n`FROM anapsix/alpine-java`\r\n\r\n? You have a functional Java installed and can do whatever you want.\r\n\r\nSee \r\n\r\nhttp://hub.docker.com/search/?isAutomated=0&amp;isOfficial=0&amp;page=1&amp;pullCount=0&amp;q=java&amp;starCount=0 \r\n\r\nfor some Java from the docker hub\r\n\r\nYou should read the good links provided by jonrsharpe","title":"How install java to ubuntu on docker?","body":"<p>why not use the official Java images, or the alpine Java, and just put in your Dockerfile </p>\n\n<p><code>FROM java</code> </p>\n\n<p>or </p>\n\n<p><code>FROM anapsix/alpine-java</code></p>\n\n<p>? You have a functional Java installed and can do whatever you want.</p>\n\n<p>See </p>\n\n<p><a href=\"http://hub.docker.com/search/?isAutomated=0&amp;isOfficial=0&amp;page=1&amp;pullCount=0&amp;q=java&amp;starCount=0\" rel=\"nofollow\">http://hub.docker.com/search/?isAutomated=0&amp;isOfficial=0&amp;page=1&amp;pullCount=0&amp;q=java&amp;starCount=0</a> </p>\n\n<p>for some Java from the docker hub</p>\n\n<p>You should read the good links provided by jonrsharpe</p>\n"},{"tags":[],"owner":{"account_id":479485,"reputation":506,"user_id":892174,"display_name":"paulscott56"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469111104,"creation_date":1469111104,"answer_id":38506907,"question_id":38495646,"body_markdown":"The container is a single contained entity. All changes that you make to it are essentially lost when you quit and restart it. There are 2 solutions to his though:\r\n\r\n1. Do it properly, and add java to a RUN apt-get line in your Dockerfile,\r\nOR\r\n2. (Bad bad bad) Add it and hope your host never goes down.\r\n\r\nDepending on what you want (Ubuntu or a container to run a Java app), you should either use the method in 1. or create a new Dockerfile that grabs FROM Java8 base image.\r\n\r\n","title":"How install java to ubuntu on docker?","body":"<p>The container is a single contained entity. All changes that you make to it are essentially lost when you quit and restart it. There are 2 solutions to his though:</p>\n\n<ol>\n<li>Do it properly, and add java to a RUN apt-get line in your Dockerfile,\nOR</li>\n<li>(Bad bad bad) Add it and hope your host never goes down.</li>\n</ol>\n\n<p>Depending on what you want (Ubuntu or a container to run a Java app), you should either use the method in 1. or create a new Dockerfile that grabs FROM Java8 base image.</p>\n"},{"tags":[],"owner":{"account_id":2449735,"reputation":1068,"user_id":4277724,"display_name":"Gautier"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1516720978,"creation_date":1495619047,"answer_id":44154721,"question_id":38495646,"body_markdown":"As [paulscott56](https://stackoverflow.com/a/38506907/4277724) said, you can add those lines in your Dockerfile: \r\n\r\n    RUN apt-get update &amp;&amp; \\\r\n        DEBIAN_FRONTEND=noninteractive \\\r\n        apt-get -y install default-jre-headless &amp;&amp; \\\r\n        apt-get clean &amp;&amp; \\\r\n        rm -rf /var/lib/apt/lists/*\r\n\r\nhttps://hub.docker.com/r/pataquets/default-jre-headless/~/dockerfile/","title":"How install java to ubuntu on docker?","body":"<p>As <a href=\"https://stackoverflow.com/a/38506907/4277724\">paulscott56</a> said, you can add those lines in your Dockerfile: </p>\n\n<pre><code>RUN apt-get update &amp;&amp; \\\n    DEBIAN_FRONTEND=noninteractive \\\n    apt-get -y install default-jre-headless &amp;&amp; \\\n    apt-get clean &amp;&amp; \\\n    rm -rf /var/lib/apt/lists/*\n</code></pre>\n\n<p><a href=\"https://hub.docker.com/r/pataquets/default-jre-headless/~/dockerfile/\" rel=\"noreferrer\">https://hub.docker.com/r/pataquets/default-jre-headless/~/dockerfile/</a></p>\n"},{"tags":[],"owner":{"account_id":22026323,"reputation":190,"user_id":16294264,"display_name":"csaju"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657243260,"creation_date":1657243260,"answer_id":72905743,"question_id":38495646,"body_markdown":"You can use this Dockerfile if you want to have JDK on my images, or you can have a multi-stage build with java with ubuntu. \r\n```\r\nFROM openjdk:8-jre-alpine\r\n\r\nWORKDIR /usr/src/app\r\n\r\nCMD [&quot;/bin/bash&quot;]\r\n\r\n```","title":"How install java to ubuntu on docker?","body":"<p>You can use this Dockerfile if you want to have JDK on my images, or you can have a multi-stage build with java with ubuntu.</p>\n<pre><code>FROM openjdk:8-jre-alpine\n\nWORKDIR /usr/src/app\n\nCMD [&quot;/bin/bash&quot;]\n\n</code></pre>\n"}],"owner":{"account_id":7385237,"reputation":2762,"user_id":5620472,"accept_rate":23,"display_name":"user5620472"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26345,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"answer_count":5,"score":11,"last_activity_date":1657243260,"creation_date":1469079406,"question_id":38495646,"body_markdown":"I tried use docker. I install tool docker and run. I dovnload ubuntu image and run on docker. I make all by this [link][1]\r\n\r\n\r\n  [1]: https://docs.docker.com/docker-for-windows/\r\n\r\nFor install ubuntu I used `docker run -it ubuntu bash`\r\n\r\nAfter that I run this ubuntu  `docker run -i -t ubuntu:latest /bin/bash`\r\n\r\nAfter start I placed `root@9bca9a2a537d:/#`\r\n\r\nNow I want install java and start some app on this java. \r\n\r\nI tried install java `root@cf50a6fdfc10:/# apt-get install default-jre`\r\n\r\nWhen this installed i try run this command `java -version` and I see \r\n\r\n    root@2e62f448f783:/# java -version\r\n    openjdk version &quot;1.8.0_91&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_91-8u91-b14-0ubuntu4~16.04.1-b14)\r\n    OpenJDK 64-Bit Server VM (build 25.91-b14, mixed mode)\r\n\r\nafter that i exit from ubuntu\r\n\r\n    root@2e62f448f783:/# exit\r\n\r\nand run again. And when ubuntu started i try \r\n\r\n    root@20cefe55e2eb:/# java -version\r\n    bash: java: command not found\r\n\r\nHow can I install java or start this java version?","title":"How install java to ubuntu on docker?","body":"<p>I tried use docker. I install tool docker and run. I dovnload ubuntu image and run on docker. I make all by this <a href=\"https://docs.docker.com/docker-for-windows/\" rel=\"noreferrer\">link</a></p>\n\n<p>For install ubuntu I used <code>docker run -it ubuntu bash</code></p>\n\n<p>After that I run this ubuntu  <code>docker run -i -t ubuntu:latest /bin/bash</code></p>\n\n<p>After start I placed <code>root@9bca9a2a537d:/#</code></p>\n\n<p>Now I want install java and start some app on this java. </p>\n\n<p>I tried install java <code>root@cf50a6fdfc10:/# apt-get install default-jre</code></p>\n\n<p>When this installed i try run this command <code>java -version</code> and I see </p>\n\n<pre><code>root@2e62f448f783:/# java -version\nopenjdk version \"1.8.0_91\"\nOpenJDK Runtime Environment (build 1.8.0_91-8u91-b14-0ubuntu4~16.04.1-b14)\nOpenJDK 64-Bit Server VM (build 25.91-b14, mixed mode)\n</code></pre>\n\n<p>after that i exit from ubuntu</p>\n\n<pre><code>root@2e62f448f783:/# exit\n</code></pre>\n\n<p>and run again. And when ubuntu started i try </p>\n\n<pre><code>root@20cefe55e2eb:/# java -version\nbash: java: command not found\n</code></pre>\n\n<p>How can I install java or start this java version?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":0,"creation_date":1657243681,"post_id":72905725,"comment_id":128770576,"body_markdown":"Did you install Maven? It does not come bundled with Java.","body":"Did you install Maven? It does not come bundled with Java."},{"owner":{"account_id":19772809,"reputation":11,"user_id":16626457,"display_name":"Camila"},"score":0,"creation_date":1657311757,"post_id":72905725,"comment_id":128789007,"body_markdown":"Yes, I did install it...","body":"Yes, I did install it..."},{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":0,"creation_date":1657311999,"post_id":72905725,"comment_id":128789081,"body_markdown":"Where did you install it? The `mvn` executable is not found in JAVA_HOME, nor does it go on the CLASSPATH. It goes on the PATH, like any other executable you may want to run from the shell.","body":"Where did you install it? The <code>mvn</code> executable is not found in JAVA_HOME, nor does it go on the CLASSPATH. It goes on the PATH, like any other executable you may want to run from the shell."},{"owner":{"account_id":19772809,"reputation":11,"user_id":16626457,"display_name":"Camila"},"score":0,"creation_date":1657379346,"post_id":72905725,"comment_id":128798879,"body_markdown":"I used &quot;brew install maven&quot; (on a mac). As far as I understood, it may have been installed in the zsh shell ad what I&#39;m trying to do is to set the path to the bash shell... Did I get it right?","body":"I used &quot;brew install maven&quot; (on a mac). As far as I understood, it may have been installed in the zsh shell ad what I&#39;m trying to do is to set the path to the bash shell... Did I get it right?"},{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":0,"creation_date":1657379752,"post_id":72905725,"comment_id":128798953,"body_markdown":"Yes, you need to set PATH in your bash configuration to include the Homebrew bin.","body":"Yes, you need to set PATH in your bash configuration to include the Homebrew bin."}],"owner":{"account_id":19772809,"reputation":11,"user_id":16626457,"display_name":"Camila"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657243011,"creation_date":1657243011,"question_id":72905725,"body_markdown":"I tried to run maven and I got the message: -bash: mvn: command not found.\r\nThen I followed instructions to set the Java path as follows: \r\n\r\n$ vim .bash_profile \r\n\r\nexport JAVA_HOME=$(/usr/libexec/java_home)\r\n\r\n$ source .bash_profile\r\n\r\nBut when I write the command export I get the message: &quot;E1042: Export can only be used in vim9script&quot;. How could I solve this? I&#39;m new to this and not very profi with terminal.","title":"How to solve this error: E1042: Export can only be used in vim9script and correctly set Java Path and Maven?","body":"<p>I tried to run maven and I got the message: -bash: mvn: command not found.\nThen I followed instructions to set the Java path as follows:</p>\n<p>$ vim .bash_profile</p>\n<p>export JAVA_HOME=$(/usr/libexec/java_home)</p>\n<p>$ source .bash_profile</p>\n<p>But when I write the command export I get the message: &quot;E1042: Export can only be used in vim9script&quot;. How could I solve this? I'm new to this and not very profi with terminal.</p>\n"},{"tags":["java","function","async-await","conditional-statements","predicate"],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657242486,"creation_date":1657242486,"answer_id":72905689,"question_id":72905596,"body_markdown":"From [the docs](https://en.cppreference.com/w/cpp/thread/condition_variable/wait), the C++ `condition_variable::wait` overload is just checking the predicate when a notification comes through and is equivalent to\r\n\r\n&gt;     while (!stop_waiting()) {\r\n&gt;         wait(lock);\r\n&gt;     }\r\n\r\nSo we can simply do the same thing in Java.\r\n\r\n    while (!someCondition()) {\r\n        conditionVariable.await();\r\n    }","title":"Does Java&#39;s Condition::await() support to have a predicate/function?","body":"<p>From <a href=\"https://en.cppreference.com/w/cpp/thread/condition_variable/wait\" rel=\"nofollow noreferrer\">the docs</a>, the C++ <code>condition_variable::wait</code> overload is just checking the predicate when a notification comes through and is equivalent to</p>\n<blockquote>\n<pre><code>while (!stop_waiting()) {\n    wait(lock);\n}\n</code></pre>\n</blockquote>\n<p>So we can simply do the same thing in Java.</p>\n<pre><code>while (!someCondition()) {\n    conditionVariable.await();\n}\n</code></pre>\n"}],"owner":{"account_id":8189476,"reputation":7627,"user_id":6164172,"accept_rate":92,"display_name":"Troskyvs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72905689,"answer_count":1,"score":0,"last_activity_date":1657242486,"creation_date":1657241332,"question_id":72905596,"body_markdown":"From java doc 1.8, seems Condition only has ```await()```, ```await(long, TimeUnit)```, ```awaitNanos()```, etc.\r\n\r\nIt doesn&#39;t have a function that looks like Condition.await(()-&gt;xxxxx) to wait until a condition is met. c++11 condition_variable supports to have ```cv.wait(mutex, predicate_function)``` so we can use a lambda function as a parameter to control when condition_variable should return from wait/await.\r\n\r\nDoes java support this?\r\n","title":"Does Java&#39;s Condition::await() support to have a predicate/function?","body":"<p>From java doc 1.8, seems Condition only has <code>await()</code>, <code>await(long, TimeUnit)</code>, <code>awaitNanos()</code>, etc.</p>\n<p>It doesn't have a function that looks like Condition.await(()-&gt;xxxxx) to wait until a condition is met. c++11 condition_variable supports to have <code>cv.wait(mutex, predicate_function)</code> so we can use a lambda function as a parameter to control when condition_variable should return from wait/await.</p>\n<p>Does java support this?</p>\n"},{"tags":["java","java.util.logging"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1657075473,"post_id":72877387,"comment_id":128720861,"body_markdown":"This is documented by [`SimpleFormatter#format(LogRecord)`](https://docs.oracle.com/en/java/javase/18/docs/api/java.logging/java/util/logging/SimpleFormatter.html#format(java.util.logging.LogRecord)), which formats the log record &quot;as if by calling [`String.format(format, date, source, logger, level, message, thrown)`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...))&quot;, where the format pattern is documented by [`Formatter`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Formatter.html).","body":"This is documented by <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.logging/java/util/logging/SimpleFormatter.html#format(java.util.logging.LogRecord)\" rel=\"nofollow noreferrer\"><code>SimpleFormatter#format(LogRecord)</code></a>, which formats the log record &quot;as if by calling <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>String.format(format, date, source, logger, level, message, thrown)</code></a>&quot;, where the format pattern is documented by <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\"><code>Formatter</code></a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1657075756,"post_id":72877387,"comment_id":128720899,"body_markdown":"(assuming you&#39;re using a `SimpleFormatter`)","body":"(assuming you&#39;re using a <code>SimpleFormatter</code>)"},{"owner":{"account_id":3498688,"reputation":487,"user_id":2926020,"accept_rate":67,"display_name":"Vinny Gray"},"score":0,"creation_date":1657113896,"post_id":72877387,"comment_id":128732423,"body_markdown":"Yes we are using SimpleFormatter, but I don&#39;t see any description of the syntax %1$ts. I understand that %1 is the field reference, but what about the $t, and what are the formatting letters following that, m,d,H,S,L etc?","body":"Yes we are using SimpleFormatter, but I don&#39;t see any description of the syntax %1$ts. I understand that %1 is the field reference, but what about the $t, and what are the formatting letters following that, m,d,H,S,L etc?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1657136479,"post_id":72877387,"comment_id":128741324,"body_markdown":"As shown in the documentation of `java.util.Formatter` (linked previously), the `t` is &quot;_Prefix for date and time conversion characters_&quot;. And then if you go to the &quot;Date/Time Conversions&quot; section, you&#39;ll see what letters such as `m`, `d`, etc. mean. For instance, `%1$ts` is formatting the first argument as a date/time, specifically into &quot;_Seconds since the beginning of the epoch starting at 1 January 1970 00:00:00 UTC_&quot;.","body":"As shown in the documentation of <code>java.util.Formatter</code> (linked previously), the <code>t</code> is &quot;<i>Prefix for date and time conversion characters</i>&quot;. And then if you go to the &quot;Date/Time Conversions&quot; section, you&#39;ll see what letters such as <code>m</code>, <code>d</code>, etc. mean. For instance, <code>%1$ts</code> is formatting the first argument as a date/time, specifically into &quot;<i>Seconds since the beginning of the epoch starting at 1 January 1970 00:00:00 UTC</i>&quot;."}],"answers":[{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657240686,"creation_date":1657116720,"answer_id":72885085,"question_id":72877387,"body_markdown":"[`java.util.logging.SimpleFormatter::format`][1] explains this:\r\n\r\n&gt; The formatting can be customized by specifying the format string in the java.util.logging.SimpleFormatter.format property. The given LogRecord will be formatted as if by calling:\r\n&gt;\r\n&gt;     String.format(format, date, source, logger, level, message, thrown);\r\n&gt;where the arguments are:\r\n&gt; 1. format - the java.util.Formatter format string specified in the java.util.logging.SimpleFormatter.format property or the default format.\r\n&gt; 2. date - a ZonedDateTime object representing event time of the log record in the ZoneId.systemDefault() system time zone.\r\n&gt; 3. source - a string representing the caller, if available; otherwise, the logger&#39;s name.\r\n&gt; 4. logger - the logger&#39;s name.\r\n&gt; 5. level - the log level.\r\n&gt; 6. message - the formatted log message returned from the Formatter.formatMessage(LogRecord) method. It uses java.text formatting and does not use the java.util.Formatter format argument.\r\n&gt;7. thrown - a string representing the throwable associated with the log record and its backtrace beginning with a newline character, if any; otherwise, an empty string.\r\n\r\nNote that the `%[argument_index$]` is off by one from the javadocs in SimpleFormatter as `format` is listed as the argument number one.  E.G. `date` is listed as `2` but is really `%1$`.\r\n\r\n[String::format][2] has a &quot;see&quot; reference to [`java.util.Formatter`][3] (not to be confused with `java.util.logging.Formatter`).  \r\n\r\nThe class level documentation of `java.util.Formatter&#39; includes information on &#39;Date/Time Conversions&#39; and &#39;Flags&#39;.\r\n\r\nIf you use [parameterized logging][4] you can also do some formatting with [java.text.MessageFormat][5] on the parameters of a LogRecord.  This can be used to change the behavior of the &#39;message&#39; parameter passed to `String::format`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/SimpleFormatter.html#format(java.util.logging.LogRecord)\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/Logger.html#log(java.util.logging.Level,java.lang.String,java.lang.Object%5B%5D)\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html","title":"What are the formatting pattern semantics in Java Util Logging?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/SimpleFormatter.html#format(java.util.logging.LogRecord)\" rel=\"nofollow noreferrer\"><code>java.util.logging.SimpleFormatter::format</code></a> explains this:</p>\n<blockquote>\n<p>The formatting can be customized by specifying the format string in the java.util.logging.SimpleFormatter.format property. The given LogRecord will be formatted as if by calling:</p>\n<pre><code>String.format(format, date, source, logger, level, message, thrown);\n</code></pre>\n<p>where the arguments are:</p>\n<ol>\n<li>format - the java.util.Formatter format string specified in the java.util.logging.SimpleFormatter.format property or the default format.</li>\n<li>date - a ZonedDateTime object representing event time of the log record in the ZoneId.systemDefault() system time zone.</li>\n<li>source - a string representing the caller, if available; otherwise, the logger's name.</li>\n<li>logger - the logger's name.</li>\n<li>level - the log level.</li>\n<li>message - the formatted log message returned from the Formatter.formatMessage(LogRecord) method. It uses java.text formatting and does not use the java.util.Formatter format argument.</li>\n<li>thrown - a string representing the throwable associated with the log record and its backtrace beginning with a newline character, if any; otherwise, an empty string.</li>\n</ol>\n</blockquote>\n<p>Note that the <code>%[argument_index$]</code> is off by one from the javadocs in SimpleFormatter as <code>format</code> is listed as the argument number one.  E.G. <code>date</code> is listed as <code>2</code> but is really <code>%1$</code>.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">String::format</a> has a &quot;see&quot; reference to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\"><code>java.util.Formatter</code></a> (not to be confused with <code>java.util.logging.Formatter</code>).</p>\n<p>The class level documentation of `java.util.Formatter' includes information on 'Date/Time Conversions' and 'Flags'.</p>\n<p>If you use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/Logger.html#log(java.util.logging.Level,java.lang.String,java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">parameterized logging</a> you can also do some formatting with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html\" rel=\"nofollow noreferrer\">java.text.MessageFormat</a> on the parameters of a LogRecord.  This can be used to change the behavior of the 'message' parameter passed to <code>String::format</code>.</p>\n"}],"owner":{"account_id":3498688,"reputation":487,"user_id":2926020,"accept_rate":67,"display_name":"Vinny Gray"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1058,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657240686,"creation_date":1657075045,"question_id":72877387,"body_markdown":"I am trying to make sense of the formatting patterns used in Java Util Logging.\r\nJust by experiment I see the following:\r\n\r\n    %1$ts     epoch time: 1657069724\r\n    %1$tc     Standard date/time format: Tue Jul 05 20:59:21 EDT 2022\r\n    %1$tY     year - 2022\r\n    %1$tb     3 char month - Jul\r\n    %1$th     3 char month - Jul\r\n    %1$tm     2 digit month - 07\r\n    %1$td     2 digit day of month - 05\r\n    %1$tH:    hours (0-23) 21:\r\n    %1$tM:    minutes: 03:\r\n    %1$tS.    Seconds: 55.\r\n    %1$tL     Milleseconds 294\r\n    %2$s      logger name and method\r\n    %3$s      logger name\r\n    %4$-7s    log level of this message - WARNING\r\n(the -7 before the s means left justify in a 7 character field. Remove the &quot;-&quot; to right justify)\r\n\r\nAre these documented anywhere? I do not see anything in the SimpleFormat API or in Java Util Logging docs","title":"What are the formatting pattern semantics in Java Util Logging?","body":"<p>I am trying to make sense of the formatting patterns used in Java Util Logging.\nJust by experiment I see the following:</p>\n<pre><code>%1$ts     epoch time: 1657069724\n%1$tc     Standard date/time format: Tue Jul 05 20:59:21 EDT 2022\n%1$tY     year - 2022\n%1$tb     3 char month - Jul\n%1$th     3 char month - Jul\n%1$tm     2 digit month - 07\n%1$td     2 digit day of month - 05\n%1$tH:    hours (0-23) 21:\n%1$tM:    minutes: 03:\n%1$tS.    Seconds: 55.\n%1$tL     Milleseconds 294\n%2$s      logger name and method\n%3$s      logger name\n%4$-7s    log level of this message - WARNING\n</code></pre>\n<p>(the -7 before the s means left justify in a 7 character field. Remove the &quot;-&quot; to right justify)</p>\n<p>Are these documented anywhere? I do not see anything in the SimpleFormat API or in Java Util Logging docs</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":0,"creation_date":1657235232,"post_id":72905076,"comment_id":128769367,"body_markdown":"Why can&#39;t you read the file before it&#39;s deleted?","body":"Why can&#39;t you read the file before it&#39;s deleted?"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1657236741,"post_id":72905076,"comment_id":128769608,"body_markdown":"Why do you need to test the content of the file? It&#39;s not created in any code you&#39;ve shown, i.e., doesn&#39;t seem to be relevant to the code you want to test.","body":"Why do you need to test the content of the file? It&#39;s not created in any code you&#39;ve shown, i.e., doesn&#39;t seem to be relevant to the code you want to test."},{"owner":{"account_id":6931587,"reputation":47,"user_id":5320924,"accept_rate":29,"display_name":"sandhu"},"score":0,"creation_date":1657238192,"post_id":72905076,"comment_id":128769818,"body_markdown":"@accessviolation Apologies for half code, I have update the code","body":"@accessviolation Apologies for half code, I have update the code"},{"owner":{"account_id":6931587,"reputation":47,"user_id":5320924,"accept_rate":29,"display_name":"sandhu"},"score":0,"creation_date":1657238227,"post_id":72905076,"comment_id":128769821,"body_markdown":"@Jeremy I have updated code which will give you clarity, send EMail is private function","body":"@Jeremy I have updated code which will give you clarity, send EMail is private function"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657238373,"post_id":72905076,"comment_id":128769846,"body_markdown":"`sendEmail` doesn&#39;t use the file, other than to delete it. But I would extract the csv file generation into a separate class, and test that in a different test.","body":"<code>sendEmail</code> doesn&#39;t use the file, other than to delete it. But I would extract the csv file generation into a separate class, and test that in a different test."}],"owner":{"account_id":6931587,"reputation":47,"user_id":5320924,"accept_rate":29,"display_name":"sandhu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657239141,"creation_date":1657235074,"question_id":72905076,"body_markdown":"I have a function, which generates a CSV file using CSV printer, emails and then deletes the file by calling another private function. The private function which sends the email is :\r\n  ``` \r\nprivate void sendEmail(File fileToSend) {\r\n        List&lt;String&gt; emailTo = xyz@gmail.com\r\n        String emailFrom = abc@gmail.com\r\n        String host = host //cannot write the proper host name\r\n        \r\n        try\r\n        {\r\n            mailUtil.sendMailWithAttachment(emailFrom, emailTo, host)\r\n            logger.debug(&quot;Email successfully sent&quot;);\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Exception when sending mail &quot;, e);\r\n        }\r\n        finally {\r\n            deleteFile(fileToSend);\r\n        }\r\n    }\r\n```\r\n\r\n```\r\nprivate File saveInCsv(List&lt;List &lt;String&gt; &gt; valuesToStore) {\r\n        String fileName = &quot;hello.csv&quot;;\r\n        File deletedIncidentCsv = new File(fileName);\r\n\r\n        try (BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(deletedIncidentCsv));\r\n\r\n             CSVPrinter csvPrinter = new CSVPrinter(bufferedWriter, CSVFormat.EXCEL.withHeader(headers).withQuoteMode(QuoteMode.ALL));\r\n        )\r\n        {\r\n            for (List&lt;String&gt; strings : valuesToStore) {\r\n\r\n                csvPrinter.printRecord(strings);\r\n            }\r\n            csvPrinter.flush();\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            logger.error(&quot;Error in writing to CSV file &quot;, e);\r\n        }\r\n        return deletedIncidentCsv;\r\n    }\r\n```\r\n\r\nboth these private functions are being called by public function , which I am testing:\r\n```\r\npublic generateEmailFile(){\r\n        //does some work to retrieve dataToWriteInCSV\r\n        File csvFileGenerated = saveInCsv(dataToWriteInCsv);\r\n                sendEmail(csvFileGenerated);\r\n}\r\n```\r\n\r\n\r\nIn my unit test I want to check the contents of the file before its deleted. Is there anyway of doing it.","title":"Test temporary file existence in JUNIT , mockito","body":"<p>I have a function, which generates a CSV file using CSV printer, emails and then deletes the file by calling another private function. The private function which sends the email is :</p>\n<pre><code>private void sendEmail(File fileToSend) {\n      List&lt;String&gt; emailTo = xyz@gmail.com\n      String emailFrom = abc@gmail.com\n      String host = host //cannot write the proper host name\n      \n      try\n      {\n          mailUtil.sendMailWithAttachment(emailFrom, emailTo, host)\n          logger.debug(&quot;Email successfully sent&quot;);\n      } catch (Exception e) {\n          logger.error(&quot;Exception when sending mail &quot;, e);\n      }\n      finally {\n          deleteFile(fileToSend);\n      }\n  }\n</code></pre>\n<pre><code>private File saveInCsv(List&lt;List &lt;String&gt; &gt; valuesToStore) {\n        String fileName = &quot;hello.csv&quot;;\n        File deletedIncidentCsv = new File(fileName);\n\n        try (BufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(deletedIncidentCsv));\n\n             CSVPrinter csvPrinter = new CSVPrinter(bufferedWriter, CSVFormat.EXCEL.withHeader(headers).withQuoteMode(QuoteMode.ALL));\n        )\n        {\n            for (List&lt;String&gt; strings : valuesToStore) {\n\n                csvPrinter.printRecord(strings);\n            }\n            csvPrinter.flush();\n        }\n        catch (Exception e)\n        {\n            logger.error(&quot;Error in writing to CSV file &quot;, e);\n        }\n        return deletedIncidentCsv;\n    }\n</code></pre>\n<p>both these private functions are being called by public function , which I am testing:</p>\n<pre><code>public generateEmailFile(){\n        //does some work to retrieve dataToWriteInCSV\n        File csvFileGenerated = saveInCsv(dataToWriteInCsv);\n                sendEmail(csvFileGenerated);\n}\n</code></pre>\n<p>In my unit test I want to check the contents of the file before its deleted. Is there anyway of doing it.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data-rest"],"owner":{"account_id":25754710,"reputation":1,"user_id":19506622,"display_name":"immy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657238828,"creation_date":1657238828,"question_id":72905405,"body_markdown":"I have one primary database (host) and multiple customer databases (tenant databases) in my application. Configurations are as follows-\r\n\r\n**Host Database**\r\n\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n            basePackages = {&quot;com.sample.dbms.host&quot;},\r\n            entityManagerFactoryRef = &quot;hostEntityManagerFactory&quot;,\r\n            transactionManagerRef = &quot;hostTransactionManager&quot;)\r\n    public class HostDatabaseConfig {\r\n    \r\n        @Primary\r\n        @Bean(name = &quot;hostDataSource&quot;)\r\n        @ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\r\n        public DataSource hostDataSource() {\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n    \r\n        @Primary\r\n        @Bean(name = &quot;hostEntityManagerFactory&quot;)\r\n        public LocalContainerEntityManagerFactoryBean hostEntityManagerFactory(EntityManagerFactoryBuilder builder,\r\n                                                                               @Qualifier(&quot;hostDataSource&quot;) DataSource dataSource) {\r\n            return builder\r\n                    .dataSource(dataSource)\r\n                    .packages(&quot;com.sample.dbms.host&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean\r\n        public PlatformTransactionManager hostTransactionManager(@Qualifier(&quot;hostEntityManagerFactory&quot;) EntityManagerFactory emf) {\r\n            return new JpaTransactionManager(emf);\r\n        }\r\n    \r\n    }\r\n\r\n**Tenant Database**\r\n\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n            basePackages = {&quot;com.sample.dbms.ebo&quot;}\r\n    )\r\n    public class TenantDatabaseConfig {\r\n    \r\n        @Bean(name = &quot;dataSource&quot;)\r\n        public DataSource dataSource(ApplicationContext context) {\r\n            return  context.getBean(TenantRoutingDatasource.class);\r\n        }\r\n    \r\n        @Primary\r\n        @Bean(name = &quot;entityManagerFactory&quot;)\r\n        public LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder,\r\n                                                                               @Qualifier(&quot;dataSource&quot;) DataSource dataSource) {\r\n            return builder\r\n                    .dataSource(dataSource)\r\n                    .packages(&quot;com.sample.dbms.ebo&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        @Bean(name = &quot;transactionManager&quot;)\r\n        public PlatformTransactionManager transactionManager(@Qualifier(&quot;entityManagerFactory&quot;) EntityManagerFactory emf) {\r\n            return new JpaTransactionManager(emf);\r\n        }\r\n    \r\n    }\r\n\r\n**TenantRoutingDatasource**\r\n\r\n \r\n\r\n           @Component\r\n            public class TenantRoutingDatasource extends AbstractRoutingDataSource {\r\n            \r\n                String migrationPath = &quot;classpath:db&quot;;\r\n                List&lt;String&gt; migrationFolders = Arrays.asList(&quot;table&quot;, &quot;index&quot;, &quot;proc&quot;, &quot;seed&quot;);\r\n            \r\n                private final TenantRepository tenantRepository;\r\n                private final DataSource hostDataSource;\r\n                public TenantRoutingDatasource(TenantRepository tenantRepository,\r\n                                               @Qualifier(&quot;hostDataSource&quot;) DataSource hostDataSource) {\r\n                    this.tenantRepository = tenantRepository;\r\n                    this.hostDataSource = hostDataSource;\r\n            \r\n                    Map&lt;Tenant, DataSource&gt; dataSources = new HashMap&lt;&gt;();\r\n                    Map&lt;Object,Object&gt; tenantMap = new HashMap&lt;&gt;();\r\n                    tenantRepository.findAllByIsActive(true).forEach(ebo -&gt; {\r\n                        HikariDataSource dataSource = new HikariDataSource();\r\n                        dataSource.setDriverClassName(ebo.getDriverClassName());\r\n                        dataSource.setJdbcUrl(ebo.getJdbcUrl());\r\n                        dataSource.setUsername(ebo.getUsername());\r\n                        dataSource.setPassword(ebo.getPassword());\r\n                        dataSource.setMaximumPoolSize(10);\r\n                        dataSource.setPoolName(&quot;pool_&quot;+ebo.getId());\r\n                        tenantMap.put(ebo.getId(), dataSource);\r\n                        dataSources.put(ebo, dataSource);\r\n                    });\r\n                    setTargetDataSources(tenantMap);\r\n                }\r\n     @Override\r\n        protected Object determineCurrentLookupKey() {\r\n            return TenantHolder.getTenant() == null ? 1 : TenantHolder.getTenant();\r\n        }\r\n        }\r\n\r\nWhere **TenantRepository** is JPA Repository which belongs to the host database. \r\n\r\nWhich this type of configuration I was trying to use Spring-data-rest but unfortunately when I make the repository as @RestResource and try to hit the URL from postman I got 500 response. \r\n\r\nWhen I debug it then I got the flowing error. \r\n\r\n    java.lang.NullPointerException: null\r\n    \tat org.springframework.data.rest.webmvc.RepositoryController.listRepositories(RepositoryController.java:111) ~[spring-data-rest-webmvc-3.6.4.jar:3.6.4]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.3.jar:5.6.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n\r\nWhen I closely debug this issue I found mappings.getMetadataFor(domainType) method try to fetch information from inmemory cache, And that cache only contains mappings for com.sample.host.entity package not for com.sample.tenant.entity. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring-Data-Rest with RoutingDatasource not working because of ResourceMetadataHandlerMethodArgumentResolver throw null pointer","body":"<p>I have one primary database (host) and multiple customer databases (tenant databases) in my application. Configurations are as follows-</p>\n<p><strong>Host Database</strong></p>\n<pre><code>@EnableTransactionManagement\n@EnableJpaRepositories(\n        basePackages = {&quot;com.sample.dbms.host&quot;},\n        entityManagerFactoryRef = &quot;hostEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;hostTransactionManager&quot;)\npublic class HostDatabaseConfig {\n\n    @Primary\n    @Bean(name = &quot;hostDataSource&quot;)\n    @ConfigurationProperties(prefix=&quot;spring.datasource&quot;)\n    public DataSource hostDataSource() {\n        return DataSourceBuilder.create().build();\n    }\n\n    @Primary\n    @Bean(name = &quot;hostEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean hostEntityManagerFactory(EntityManagerFactoryBuilder builder,\n                                                                           @Qualifier(&quot;hostDataSource&quot;) DataSource dataSource) {\n        return builder\n                .dataSource(dataSource)\n                .packages(&quot;com.sample.dbms.host&quot;)\n                .build();\n    }\n\n    @Bean\n    public PlatformTransactionManager hostTransactionManager(@Qualifier(&quot;hostEntityManagerFactory&quot;) EntityManagerFactory emf) {\n        return new JpaTransactionManager(emf);\n    }\n\n}\n</code></pre>\n<p><strong>Tenant Database</strong></p>\n<pre><code>@EnableTransactionManagement\n@EnableJpaRepositories(\n        basePackages = {&quot;com.sample.dbms.ebo&quot;}\n)\npublic class TenantDatabaseConfig {\n\n    @Bean(name = &quot;dataSource&quot;)\n    public DataSource dataSource(ApplicationContext context) {\n        return  context.getBean(TenantRoutingDatasource.class);\n    }\n\n    @Primary\n    @Bean(name = &quot;entityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(EntityManagerFactoryBuilder builder,\n                                                                           @Qualifier(&quot;dataSource&quot;) DataSource dataSource) {\n        return builder\n                .dataSource(dataSource)\n                .packages(&quot;com.sample.dbms.ebo&quot;)\n                .build();\n    }\n\n    @Bean(name = &quot;transactionManager&quot;)\n    public PlatformTransactionManager transactionManager(@Qualifier(&quot;entityManagerFactory&quot;) EntityManagerFactory emf) {\n        return new JpaTransactionManager(emf);\n    }\n\n}\n</code></pre>\n<p><strong>TenantRoutingDatasource</strong></p>\n<pre><code>       @Component\n        public class TenantRoutingDatasource extends AbstractRoutingDataSource {\n        \n            String migrationPath = &quot;classpath:db&quot;;\n            List&lt;String&gt; migrationFolders = Arrays.asList(&quot;table&quot;, &quot;index&quot;, &quot;proc&quot;, &quot;seed&quot;);\n        \n            private final TenantRepository tenantRepository;\n            private final DataSource hostDataSource;\n            public TenantRoutingDatasource(TenantRepository tenantRepository,\n                                           @Qualifier(&quot;hostDataSource&quot;) DataSource hostDataSource) {\n                this.tenantRepository = tenantRepository;\n                this.hostDataSource = hostDataSource;\n        \n                Map&lt;Tenant, DataSource&gt; dataSources = new HashMap&lt;&gt;();\n                Map&lt;Object,Object&gt; tenantMap = new HashMap&lt;&gt;();\n                tenantRepository.findAllByIsActive(true).forEach(ebo -&gt; {\n                    HikariDataSource dataSource = new HikariDataSource();\n                    dataSource.setDriverClassName(ebo.getDriverClassName());\n                    dataSource.setJdbcUrl(ebo.getJdbcUrl());\n                    dataSource.setUsername(ebo.getUsername());\n                    dataSource.setPassword(ebo.getPassword());\n                    dataSource.setMaximumPoolSize(10);\n                    dataSource.setPoolName(&quot;pool_&quot;+ebo.getId());\n                    tenantMap.put(ebo.getId(), dataSource);\n                    dataSources.put(ebo, dataSource);\n                });\n                setTargetDataSources(tenantMap);\n            }\n @Override\n    protected Object determineCurrentLookupKey() {\n        return TenantHolder.getTenant() == null ? 1 : TenantHolder.getTenant();\n    }\n    }\n</code></pre>\n<p>Where <strong>TenantRepository</strong> is JPA Repository which belongs to the host database.</p>\n<p>Which this type of configuration I was trying to use Spring-data-rest but unfortunately when I make the repository as @RestResource and try to hit the URL from postman I got 500 response.</p>\n<p>When I debug it then I got the flowing error.</p>\n<pre><code>java.lang.NullPointerException: null\n    at org.springframework.data.rest.webmvc.RepositoryController.listRepositories(RepositoryController.java:111) ~[spring-data-rest-webmvc-3.6.4.jar:3.6.4]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176) ~[spring-security-oauth2-2.3.4.RELEASE.jar:na]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.3.jar:5.6.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n</code></pre>\n<p>When I closely debug this issue I found mappings.getMetadataFor(domainType) method try to fetch information from inmemory cache, And that cache only contains mappings for com.sample.host.entity package not for com.sample.tenant.entity.</p>\n"},{"tags":["java","android","search","themes"],"answers":[{"tags":[],"owner":{"account_id":13381081,"reputation":13847,"user_id":9656320,"display_name":"Son Truong"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1552358723,"creation_date":1552358723,"answer_id":55113359,"question_id":55107199,"body_markdown":"You can do the following steps to change cursor color.\r\n\r\n**Step 1:** Define your own cursor drawable which placed in `res/drawable` folder.\r\n\r\n**my_cursor.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n           android:shape=&quot;rectangle&quot;&gt;\r\n        &lt;solid android:color=&quot;#0f0&quot;/&gt;\r\n        &lt;size android:width=&quot;1dp&quot;/&gt;\r\n    &lt;/shape&gt;\r\n\r\n**Step 2:** Add this code into `onCreateOptionsMenu`.\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu_main, menu);\r\n\r\n        MenuItem findItem = menu.findItem(R.id.menu_action_search);\r\n        searchView = (SearchView) findItem.getActionView();\r\n    \r\n        // Add this code\r\n        SearchView.SearchAutoComplete searchTextView = searchView.findViewById(R.id.search_src_text);\r\n        try {\r\n            Field field = TextView.class.getDeclaredField(&quot;mCursorDrawableRes&quot;);\r\n            field.setAccessible(true);\r\n            field.set(searchTextView, R.drawable.my_cursor);\r\n        } catch (Exception e) {\r\n            // Ignore exception\r\n        }\r\n    \r\n        // Your logic code here\r\n    \r\n        return super.onCreateOptionsMenu(menu);\r\n    }","title":"Android SearchView - change cursor color","body":"<p>You can do the following steps to change cursor color.</p>\n\n<p><strong>Step 1:</strong> Define your own cursor drawable which placed in <code>res/drawable</code> folder.</p>\n\n<p><strong>my_cursor.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"\n       android:shape=\"rectangle\"&gt;\n    &lt;solid android:color=\"#0f0\"/&gt;\n    &lt;size android:width=\"1dp\"/&gt;\n&lt;/shape&gt;\n</code></pre>\n\n<p><strong>Step 2:</strong> Add this code into <code>onCreateOptionsMenu</code>.</p>\n\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.menu_main, menu);\n\n    MenuItem findItem = menu.findItem(R.id.menu_action_search);\n    searchView = (SearchView) findItem.getActionView();\n\n    // Add this code\n    SearchView.SearchAutoComplete searchTextView = searchView.findViewById(R.id.search_src_text);\n    try {\n        Field field = TextView.class.getDeclaredField(\"mCursorDrawableRes\");\n        field.setAccessible(true);\n        field.set(searchTextView, R.drawable.my_cursor);\n    } catch (Exception e) {\n        // Ignore exception\n    }\n\n    // Your logic code here\n\n    return super.onCreateOptionsMenu(menu);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13010862,"reputation":874,"user_id":9403953,"display_name":"John T"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657236190,"creation_date":1657181894,"answer_id":72894470,"question_id":55107199,"body_markdown":"From Android Q and up you can do this easily in code. First, find your searchView:\r\n\r\n    SearchView search = findViewById(R.id.search);\r\n\r\nThen find the searchText field using your searchView:\r\n\r\n    EditText searchText = search.findViewById(androidx.appcompat.R.id.search_src_text);\r\n\r\nThen use this to change the color of the cursor:\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n        searchText.setTextCursorDrawable(R.drawable.cursor_primary);\r\n    }\r\n\r\nYou also need to create a drawable for each color you wish to use. In my case above it&#39;s cursor_primary.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:shape=&quot;rectangle&quot;&gt;\r\n        &lt;solid android:color=&quot;@color/colorPrimary&quot;/&gt;\r\n        &lt;size android:width=&quot;1dp&quot;/&gt;\r\n    &lt;/shape&gt;\r\n\r\nThat&#39;s all!\r\n\r\n**Update 8th of July 2022**\r\n\r\nI later discovered that the drawable isn&#39;t properly updated until restarting the app. So, instead of using drawables, use this:        \r\n\r\n    searchText.getTextCursorDrawable().setTint(ContextCompat.getColor(context, R.color.colorPrimary));\r\n\r\n..and that one works as it should!\r\n\r\n","title":"Android SearchView - change cursor color","body":"<p>From Android Q and up you can do this easily in code. First, find your searchView:</p>\n<pre><code>SearchView search = findViewById(R.id.search);\n</code></pre>\n<p>Then find the searchText field using your searchView:</p>\n<pre><code>EditText searchText = search.findViewById(androidx.appcompat.R.id.search_src_text);\n</code></pre>\n<p>Then use this to change the color of the cursor:</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n    searchText.setTextCursorDrawable(R.drawable.cursor_primary);\n}\n</code></pre>\n<p>You also need to create a drawable for each color you wish to use. In my case above it's cursor_primary.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;&gt;\n    &lt;solid android:color=&quot;@color/colorPrimary&quot;/&gt;\n    &lt;size android:width=&quot;1dp&quot;/&gt;\n&lt;/shape&gt;\n</code></pre>\n<p>That's all!</p>\n<p><strong>Update 8th of July 2022</strong></p>\n<p>I later discovered that the drawable isn't properly updated until restarting the app. So, instead of using drawables, use this:</p>\n<pre><code>searchText.getTextCursorDrawable().setTint(ContextCompat.getColor(context, R.color.colorPrimary));\n</code></pre>\n<p>..and that one works as it should!</p>\n"}],"owner":{"account_id":1256428,"reputation":4264,"user_id":1215791,"accept_rate":48,"display_name":"Andrei F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55113359,"answer_count":2,"score":1,"last_activity_date":1657236190,"creation_date":1552324865,"question_id":55107199,"body_markdown":"I am trying to change the cursor color of my SearchView which I instantiate and add in my action bar like this: \r\n\r\n    MenuItem findItem = menu.findItem(R.id.menu_action_search);\r\n            searchView = (SearchView) findItem.getActionView();\r\n\r\nXml code:\r\n\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        &gt;\r\n    \r\n          &lt;item android:id=&quot;@+id/menu_action_search&quot;\r\n              android:title=&quot;Search&quot;\r\n              android:icon=&quot;@drawable/ic_search_white&quot;\r\n              app:showAsAction=&quot;collapseActionView|always&quot;\r\n              app:actionViewClass=&quot;android.support.v7.widget.SearchView&quot; /&gt;\r\n        \r\n    &lt;/menu&gt;\r\n\r\n\r\nAnd my activity has a Toolbar like this:\r\n\r\n\t&lt;android.support.design.widget.AppBarLayout\r\n\t\tandroid:id=&quot;@+id/appbarLayout&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\r\n\t\t&gt;\r\n\r\n\t\t\t&lt;android.support.v7.widget.Toolbar\r\n\t\t\t\tandroid:id=&quot;@+id/toolbar&quot;\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;?attr/actionBarSize&quot;\r\n\t\t\t\tandroid:theme=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;\r\n\r\n\t\t\t\tstyle=&quot;@style/EActionBar&quot;\r\n\r\n\t\t\t\t/&gt;\r\n\t&lt;/android.support.design.widget.AppBarLayout&gt;\r\n\r\n\r\nIs there a way to override an existing style and change the cursor color of the autocomplete text view?","title":"Android SearchView - change cursor color","body":"<p>I am trying to change the cursor color of my SearchView which I instantiate and add in my action bar like this: </p>\n\n<pre><code>MenuItem findItem = menu.findItem(R.id.menu_action_search);\n        searchView = (SearchView) findItem.getActionView();\n</code></pre>\n\n<p>Xml code:</p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    &gt;\n\n      &lt;item android:id=\"@+id/menu_action_search\"\n          android:title=\"Search\"\n          android:icon=\"@drawable/ic_search_white\"\n          app:showAsAction=\"collapseActionView|always\"\n          app:actionViewClass=\"android.support.v7.widget.SearchView\" /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<p>And my activity has a Toolbar like this:</p>\n\n<pre><code>&lt;android.support.design.widget.AppBarLayout\n    android:id=\"@+id/appbarLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n\n    &gt;\n\n        &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\n\n            style=\"@style/EActionBar\"\n\n            /&gt;\n&lt;/android.support.design.widget.AppBarLayout&gt;\n</code></pre>\n\n<p>Is there a way to override an existing style and change the cursor color of the autocomplete text view?</p>\n"},{"tags":["java","spring-boot","singleton","factory"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1558016216,"post_id":56170648,"comment_id":98967835,"body_markdown":"If I understand correctly, you want to use different types of classes using Factory design ?","body":"If I understand correctly, you want to use different types of classes using Factory design ?"},{"owner":{"account_id":2730152,"reputation":4928,"user_id":2354117,"accept_rate":63,"display_name":"roeygol"},"score":0,"creation_date":1558016276,"post_id":56170648,"comment_id":98967881,"body_markdown":"Yes, but the issue here is to get the property from Autowired ApplicationProperties.java which tells me which class to build","body":"Yes, but the issue here is to get the property from Autowired ApplicationProperties.java which tells me which class to build"},{"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"score":0,"creation_date":1558016544,"post_id":56170648,"comment_id":98968055,"body_markdown":"you are autowiring an interface that is the issue. try to autowire an implementation from that interface.","body":"you are autowiring an interface that is the issue. try to autowire an implementation from that interface."}],"answers":[{"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1558016431,"creation_date":1558016431,"answer_id":56170759,"question_id":56170648,"body_markdown":"You can use @Autowired with @Qualifier annotations. Let us take an example, there is one interface but there are multiple implementations. You want to different implementation in different place. To understand more on this, refer this link. https://www.mkyong.com/spring/spring-autowiring-qualifier-example/.\r\n\r\nI provide a very basic one for your understanding.\r\n\r\n    @Component(value=&quot;bmw&quot;) \r\n    public BMW implements Vehicle {}\r\n\r\n    @Component(value=&quot;mercedes&quot;) \r\n    public Mercedes implements Vehicle {}\r\n\r\n    public class MyActualClass {\r\n    \r\n    @Autowired @Qualifier(&quot;bmw&quot;)\r\n    private Vehicle vehicle;\r\n     ... other code goes here\r\n    }","title":"How to create simple Factory design pattern in Spring-boot?","body":"<p>You can use @Autowired with @Qualifier annotations. Let us take an example, there is one interface but there are multiple implementations. You want to different implementation in different place. To understand more on this, refer this link. <a href=\"https://www.mkyong.com/spring/spring-autowiring-qualifier-example/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/spring/spring-autowiring-qualifier-example/</a>.</p>\n\n<p>I provide a very basic one for your understanding.</p>\n\n<pre><code>@Component(value=\"bmw\") \npublic BMW implements Vehicle {}\n\n@Component(value=\"mercedes\") \npublic Mercedes implements Vehicle {}\n\npublic class MyActualClass {\n\n@Autowired @Qualifier(\"bmw\")\nprivate Vehicle vehicle;\n ... other code goes here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422580,"reputation":9188,"user_id":801434,"accept_rate":79,"display_name":"Mr.J4mes"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1558020358,"creation_date":1558020358,"answer_id":56171929,"question_id":56170648,"body_markdown":"Try this.\r\n\r\n    @Component\r\n    public class StorageFactory {\r\n        private static IApplicationProperties applicationProperties;\r\n    \r\n        @Autowired\r\n        private StorageFactory(IApplicationProperties applicationProperties) {\r\n            StorageFactory.applicationProperties = applicationProperties;\r\n        }\r\n    }","title":"How to create simple Factory design pattern in Spring-boot?","body":"<p>Try this.</p>\n\n<pre><code>@Component\npublic class StorageFactory {\n    private static IApplicationProperties applicationProperties;\n\n    @Autowired\n    private StorageFactory(IApplicationProperties applicationProperties) {\n        StorageFactory.applicationProperties = applicationProperties;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17980360,"reputation":53,"user_id":13066866,"display_name":"shrexster42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657235203,"creation_date":1657235203,"answer_id":72905096,"question_id":56170648,"body_markdown":"`DataManager` is not managed by Spring and hence when you call `StorageFactory.create()` inside the constructor you should see a NullPointerException on `applicationProperties.getStorageType()`\r\n\r\nAdd `@Component` on the `DataManager` so that spring creates the singleton for you instead of you separately creating the DataManager singleton object and then also autowire the StorageFactory inside the DataManager","title":"How to create simple Factory design pattern in Spring-boot?","body":"<p><code>DataManager</code> is not managed by Spring and hence when you call <code>StorageFactory.create()</code> inside the constructor you should see a NullPointerException on <code>applicationProperties.getStorageType()</code></p>\n<p>Add <code>@Component</code> on the <code>DataManager</code> so that spring creates the singleton for you instead of you separately creating the DataManager singleton object and then also autowire the StorageFactory inside the DataManager</p>\n"}],"owner":{"account_id":2730152,"reputation":4928,"user_id":2354117,"accept_rate":63,"display_name":"roeygol"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1657235203,"creation_date":1558016074,"question_id":56170648,"body_markdown":"Having this StorageFactory.java class which needs to be called from a Singleton:\r\n\r\n    @Component\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class StorageFactory {\r\n    \r\n        @Value(&quot;${storage.type}&quot;)\r\n        private static String storageTypeString;\r\n    \r\n        @Autowired\r\n        private IApplicationProperties applicationProperties;\r\n    \r\n        @Autowired\r\n        private Environment env;\r\n    \r\n        private static StorageType storageType;\r\n    \r\n        public static IEntityStorage create() {\r\n            IEntityStorage storage = null;\r\n    \r\n            storageType = applicationProperties.getStorageType();\r\n    \r\n            switch (storageType){\r\n                case File:\r\n                    storage = new FileStorageImpl();\r\n                    break;\r\n    \r\n                default:\r\n                    throw new IllegalArgumentException(&quot;storage.type in application.properties is invalid.&quot;);\r\n            }\r\n    \r\n            return storage;\r\n        }\r\n    \r\n        public static StorageType getStorageType() {\r\n            return storageType;\r\n        }\r\n    }\r\n\r\n**The call from the Singleton:** \r\n\r\n    public final class DataManager {\r\n    \r\n        private static StorageType storageType;\r\n    \r\n        private static IEntityStorage storage;\r\n    \r\n        private static DataManager instance = null;\r\n    \r\n        protected DataManager() {\r\n            storage = StorageFactory.create(); &lt;&lt;&lt;&lt; Calling from here to create the factory\r\n            storage.init();\r\n            loadAll();\r\n            storageType = StorageFactory.getStorageType();\r\n        }\r\n    \r\n        public static DataManager getInstance() {\r\n            if (instance == null){\r\n                synchronized (DataManager.class){\r\n                    if (instance == null){\r\n                        instance = new DataManager();\r\n                    }\r\n                }\r\n            }\r\n            return instance;\r\n        }\r\n    }\r\n\r\n\r\n\r\nWhat i&#39;m trying to do is the use the Autowired ApplicationProperites.java (inside StorageFactory .java) to get my property (storageType).\r\n\r\nI tried to solve the Autowiring issue with several approached and it didn&#39;t work.\r\n\r\n\r\nWhat can I do in order to get the value from the property file in this stage?\r\n\r\n\r\n\r\n\r\n","title":"How to create simple Factory design pattern in Spring-boot?","body":"<p>Having this StorageFactory.java class which needs to be called from a Singleton:</p>\n\n<pre><code>@Component\n@Configuration\n@PropertySource(\"classpath:application.properties\")\npublic class StorageFactory {\n\n    @Value(\"${storage.type}\")\n    private static String storageTypeString;\n\n    @Autowired\n    private IApplicationProperties applicationProperties;\n\n    @Autowired\n    private Environment env;\n\n    private static StorageType storageType;\n\n    public static IEntityStorage create() {\n        IEntityStorage storage = null;\n\n        storageType = applicationProperties.getStorageType();\n\n        switch (storageType){\n            case File:\n                storage = new FileStorageImpl();\n                break;\n\n            default:\n                throw new IllegalArgumentException(\"storage.type in application.properties is invalid.\");\n        }\n\n        return storage;\n    }\n\n    public static StorageType getStorageType() {\n        return storageType;\n    }\n}\n</code></pre>\n\n<p><strong>The call from the Singleton:</strong> </p>\n\n<pre><code>public final class DataManager {\n\n    private static StorageType storageType;\n\n    private static IEntityStorage storage;\n\n    private static DataManager instance = null;\n\n    protected DataManager() {\n        storage = StorageFactory.create(); &lt;&lt;&lt;&lt; Calling from here to create the factory\n        storage.init();\n        loadAll();\n        storageType = StorageFactory.getStorageType();\n    }\n\n    public static DataManager getInstance() {\n        if (instance == null){\n            synchronized (DataManager.class){\n                if (instance == null){\n                    instance = new DataManager();\n                }\n            }\n        }\n        return instance;\n    }\n}\n</code></pre>\n\n<p>What i'm trying to do is the use the Autowired ApplicationProperites.java (inside StorageFactory .java) to get my property (storageType).</p>\n\n<p>I tried to solve the Autowiring issue with several approached and it didn't work.</p>\n\n<p>What can I do in order to get the value from the property file in this stage?</p>\n"},{"tags":["java","instrumentation","java-bytecode-asm","javaagents","jvm-bytecode"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1657096286,"post_id":72877465,"comment_id":128725579,"body_markdown":"I wonder how that method looks like - I always thought stack map frames are only needed for targets of jump instructions. So what jumps there?","body":"I wonder how that method looks like - I always thought stack map frames are only needed for targets of jump instructions. So what jumps there?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1657096882,"post_id":72877465,"comment_id":128725774,"body_markdown":"I think I found [the source](https://github.com/apache/commons-math/blob/7f35915afd4aed48f284f9967419f571788b044f/src/test/org/apache/commons/math/ode/ContinuousOutputModelTest.java#L164). Well - boolean expressions often come with jumps (unfortunately).","body":"I think I found <a href=\"https://github.com/apache/commons-math/blob/7f35915afd4aed48f284f9967419f571788b044f/src/test/org/apache/commons/math/ode/ContinuousOutputModelTest.java#L164\" rel=\"nofollow noreferrer\">the source</a>. Well - boolean expressions often come with jumps (unfortunately)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1657098278,"post_id":72877465,"comment_id":128726301,"body_markdown":"It would be helpful to see the actual instrumenting code.","body":"It would be helpful to see the actual instrumenting code."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1657101324,"post_id":72877465,"comment_id":128727450,"body_markdown":"I guess the code is injected before a `visitLineNumber` or `LineNumberNode`. But it has to be injected before the corresponding `visitLabel` is called (which happens before). I wrote some [reproducer/fix](https://gist.github.com/DasBrain/d287079fb97cd1bea47d2161adcb2779). Replace `lnn.start` with `lnn` to reproduce.","body":"I guess the code is injected before a <code>visitLineNumber</code> or <code>LineNumberNode</code>. But it has to be injected before the corresponding <code>visitLabel</code> is called (which happens before). I wrote some <a href=\"https://gist.github.com/DasBrain/d287079fb97cd1bea47d2161adcb2779\" rel=\"nofollow noreferrer\">reproducer/fix</a>. Replace <code>lnn.start</code> with <code>lnn</code> to reproduce."},{"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"score":0,"creation_date":1657116019,"post_id":72877465,"comment_id":128733361,"body_markdown":"@Holger Sorry that I didn&#39;t add my instrumentation code yesterday. Now I add them. Even though it looks quite long, the logic is actually very simple.","body":"@Holger Sorry that I didn&#39;t add my instrumentation code yesterday. Now I add them. Even though it looks quite long, the logic is actually very simple."},{"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"score":0,"creation_date":1657126345,"post_id":72877465,"comment_id":128737856,"body_markdown":"@JohannesKuhn For coverage collection, I don&#39;t think I can insert the code before the label, once some instruction jumped to this label, my inserted code will be skipped&#128514;","body":"@JohannesKuhn For coverage collection, I don&#39;t think I can insert the code before the label, once some instruction jumped to this label, my inserted code will be skipped😂"}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657089971,"creation_date":1657089971,"answer_id":72878984,"question_id":72877465,"body_markdown":"ASM uses labels to mark offsets in byte code. If you place an instruction between a label and the original NEW instruction, you are breaking the reference.\r\n\r\nTherefore, you need to avoid placing instructions directly after labels or issue a new label and replace the original one in the stack map frame.","title":"ASM &amp; Javaagent bytecode instrumentation: ClassFormatError: StackMapTable format error: bad offset for Uninitialized","body":"<p>ASM uses labels to mark offsets in byte code. If you place an instruction between a label and the original NEW instruction, you are breaking the reference.</p>\n<p>Therefore, you need to avoid placing instructions directly after labels or issue a new label and replace the original one in the stack map frame.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1657212506,"creation_date":1657212201,"answer_id":72901516,"question_id":72877465,"body_markdown":"As [Rafael Winterhalter said], labels are used to refer to `NEW` instructions, therefore placing instructions between the label’s location and the instruction will break this reference. Such references are required by stack map frames when an uninitialized instance created by the instruction is on the stack or in a local variable.\r\n\r\nSince you want to keep the original location as branch target or line number start when inserting code before the `NEW` instruction, you have to create a new label for the code location between the injected code and the old `NEW` instruction, then replace the labels used by stack map frames (and only those used by stack map frames).\r\n\r\nNote that this wouldn’t be necessary when using the `COMPUTE_FRAMES` option which will recompute the frames from scratch and not use the old labels, however, it’s actually a reasonable strategy not to use this option, as it is expensive and error prone. For injecting simple logging statements without branches, we can keep the original frames, even when checking for the special case of `NEW` instructions makes it slightly harder.\r\n\r\nThe following method visitor implements the strategy described above. For my testing, I just injected a plain `System.out.println(…);` statement.\r\n\r\n```java\r\nclass CoverageMethodVisitor extends MethodVisitor {\r\n    private final String slashClassName;\r\n    private final String methodName;\r\n    private final Map&lt;Label,Label&gt; translateForUninitialized = new HashMap&lt;&gt;();\r\n    private Label lastLabel;\r\n    private int newLineNumber = -1;\r\n\r\n    protected CoverageMethodVisitor(MethodVisitor mv,String clName,String methodName){\r\n        super(Opcodes.ASM9, mv);\r\n        this.slashClassName = clName;\r\n        this.methodName = methodName;\r\n    }\r\n\r\n    @Override\r\n    public void visitLineNumber(int line, Label start) {\r\n        newLineNumber = line;\r\n        super.visitLineNumber(line, start);\r\n    }\r\n\r\n    @Override\r\n    public void visitLabel(Label label) {\r\n        lastLabel = label;\r\n        super.visitLabel(label);\r\n    }\r\n\r\n    @Override\r\n    public void visitTypeInsn(int opcode, String type) {\r\n        if(instrumentReportCoverageInvocation() &amp;&amp; opcode == Opcodes.NEW) {\r\n            if(lastLabel != null) {\r\n                Label newLabel = new Label();\r\n                super.visitLabel(newLabel);\r\n                translateForUninitialized.put(lastLabel, newLabel);\r\n            }\r\n        }\r\n        super.visitTypeInsn(opcode, type);\r\n    }\r\n\r\n    @Override\r\n    public void visitFrame(int type,\r\n        int numLocal, Object[] local, int numStack, Object[] stack) {\r\n        switch(type) {\r\n            case Opcodes.F_NEW, Opcodes.F_FULL -&gt; {\r\n                local = replaceLabels(numLocal, local);\r\n                stack = replaceLabels(numStack, stack);\r\n            }\r\n            case Opcodes.F_APPEND -&gt; local = replaceLabels(numLocal, local);\r\n            case Opcodes.F_CHOP, Opcodes.F_SAME -&gt; {}\r\n            case Opcodes.F_SAME1 -&gt; stack = replaceLabels(1, stack);\r\n            default -&gt; throw new AssertionError();\r\n        }\r\n        super.visitFrame(type, numLocal, local, numStack, stack);\r\n    }\r\n\r\n    private Object[] replaceLabels(int num, Object[] array) {\r\n        Object[] result = array;\r\n        for(int ix = 0; ix &lt; num; ix++) {\r\n            Label repl = translateForUninitialized.get(result[ix]);\r\n            if(repl == null) continue;\r\n            if(result == array) result = array.clone();\r\n            result[ix] = repl;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private boolean instrumentReportCoverageInvocation() {\r\n        int lineNumber = newLineNumber;\r\n        if(lineNumber &lt; 0) return false;\r\n        newLineNumber = -1;\r\n        super.visitFieldInsn(Opcodes.GETSTATIC,\r\n             &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\r\n        super.visitLdcInsn(slashClassName + &quot;.&quot; + methodName + &quot; line &quot; + lineNumber);\r\n        super.visitMethodInsn(Opcodes.INVOKEVIRTUAL,\r\n            &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;, false);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void visitLdcInsn(Object value) {\r\n        instrumentReportCoverageInvocation();\r\n        super.visitLdcInsn(value);\r\n    }\r\n\r\n    @Override\r\n    public void visitInsn(int opcode) {\r\n        instrumentReportCoverageInvocation();\r\n        super.visitInsn(opcode);\r\n    }\r\n\r\n    @Override\r\n    public void visitIntInsn(int opcode, int operand) {\r\n        instrumentReportCoverageInvocation();\r\n        super.visitIntInsn(opcode, operand);\r\n    }\r\n\r\n    @Override\r\n    public void visitVarInsn(int opcode, int varIndex) {\r\n        instrumentReportCoverageInvocation();\r\n        super.visitVarInsn(opcode, varIndex);\r\n    }\r\n\r\n    @Override\r\n    public void visitFieldInsn(int opcode,\r\n        String owner, String name, String descriptor) {\r\n        instrumentReportCoverageInvocation();\r\n        super.visitFieldInsn(opcode, owner, name, descriptor);\r\n    }\r\n\r\n    @Override\r\n    public void visitMethodInsn(int opcode,\r\n        String owner, String name, String descriptor, boolean isInterface) {\r\n        instrumentReportCoverageInvocation();\r\n        super.visitMethodInsn(opcode, owner, name, descriptor, isInterface);\r\n    }\r\n\r\n    @Override\r\n    public void visitInvokeDynamicInsn(\r\n            String name, String descriptor, Handle bootstrapMethodHandle,\r\n            Object... bootstrapMethodArguments) {\r\n        instrumentReportCoverageInvocation();\r\n        super.visitInvokeDynamicInsn(\r\n            name, descriptor, bootstrapMethodHandle, bootstrapMethodArguments);\r\n    }\r\n\r\n    @Override\r\n    public void visitJumpInsn(int opcode, Label label) {\r\n        instrumentReportCoverageInvocation();\r\n        super.visitJumpInsn(opcode, label);\r\n    }\r\n\r\n    @Override\r\n    public void visitIincInsn(int varIndex, int increment) {\r\n        instrumentReportCoverageInvocation();\r\n        super.visitIincInsn(varIndex, increment);\r\n    }\r\n\r\n    @Override\r\n    public void visitTableSwitchInsn(int min, int max, Label dflt, Label... labels) {\r\n        instrumentReportCoverageInvocation();\r\n        super.visitTableSwitchInsn(min, max, dflt, labels);\r\n    }\r\n\r\n    @Override\r\n    public void visitLookupSwitchInsn(Label dflt, int[] keys, Label[] labels) {\r\n        instrumentReportCoverageInvocation();\r\n        super.visitLookupSwitchInsn(dflt, keys, labels);\r\n    }\r\n\r\n    @Override\r\n    public void visitMultiANewArrayInsn(String descriptor, int numDimensions) {\r\n        instrumentReportCoverageInvocation();\r\n        super.visitMultiANewArrayInsn(descriptor, numDimensions);\r\n    }\r\n\r\n    @Override\r\n    public AnnotationVisitor visitInsnAnnotation(\r\n        int typeRef, TypePath tp, String desc, boolean visible) {\r\n        instrumentReportCoverageInvocation();\r\n        return super.visitInsnAnnotation(typeRef, tp, desc, visible);\r\n    }\r\n}\r\n```\r\n\r\nI used a straight-forward class visitor\r\n\r\n```java\r\nclass CoverageClassVisitor extends ClassVisitor {\r\n    private String className;\r\n\r\n    CoverageClassVisitor(ClassVisitor cv) {\r\n        super(Opcodes.ASM9, cv);\r\n    }\r\n\r\n    @Override\r\n    public void visit(\r\n        int version, int acc, String name, String sig, String superName, String[] ifs) {\r\n\r\n        className = name;\r\n        super.visit(version, acc, name, sig, superName, ifs);\r\n    }\r\n    @Override\r\n    public MethodVisitor visitMethod(int access,\r\n        String name, String descriptor, String signature, String[] exceptions) {\r\n        return new CoverageMethodVisitor(\r\n            super.visitMethod(access, name, descriptor, signature, exceptions),\r\n            className,\r\n            name);\r\n    }\r\n}\r\n```\r\n\r\n…and the following code for testing it\r\n\r\n```java\r\npublic class ReportLineNumbers {\r\n    public static void main(String[] arg) throws IOException, IllegalAccessException {\r\n        String className = ReportLineNumbers.class.getName() + &quot;$Example&quot;;\r\n//        ToolProvider.findFirst(&quot;javap&quot;)\r\n//            .ifPresent(p -&gt; p.run(System.out, System.err, &quot;-c&quot;, className));\r\n        ClassReader cr = new ClassReader(className);\r\n        ClassWriter cw = new ClassWriter(cr, ClassWriter.COMPUTE_MAXS);\r\n        CoverageClassVisitor trans = new CoverageClassVisitor(cw);\r\n        cr.accept(trans, 0);\r\n        MethodHandles.lookup().defineClass(cw.toByteArray());\r\n        Example.method();\r\n    }\r\n    static class Example {\r\n        static void method() {\r\n            for(int i = 0; i &lt; 3; i++) {\r\n                System.out.println(\r\n                    i &lt; 2?\r\n                    new String(switch(i) {\r\n                        case 0 -&gt; {\r\n//                            try {\r\n                                yield &quot;0&quot;;\r\n//                            } catch(Throwable t) {\r\n//                                yield &quot;e&quot;;\r\n//                            }\r\n                        }\r\n                        default -&gt; {\r\n                            for(int j = 1; j &lt; 3; j++) {\r\n                                System.out.println(j);\r\n                            }\r\n                            yield &quot;3&quot;;\r\n                        }\r\n                    }):\r\n                    new String(i == 2?\r\n                        &quot;4&quot;.toCharArray():\r\n                        &quot;5&quot;.toCharArray())\r\n                );\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe `Example` class has been designed to be as challenging as possible, covering different branch types (forward, backward, switch) before and after `NEW` instructions. In fact, it turned out to be so challenging that I had to comment out one construct, as with Eclipse, it produced invalid bytecode even without the transformer. But when using `javac`, you can enable this inlined `try … catch …` construct, to see that the transformer will even handle this correctly.\r\n\r\n[Rafael Winterhalter said]: https://stackoverflow.com/a/72878984/2711488","title":"ASM &amp; Javaagent bytecode instrumentation: ClassFormatError: StackMapTable format error: bad offset for Uninitialized","body":"<p>As <a href=\"https://stackoverflow.com/a/72878984/2711488\">Rafael Winterhalter said</a>, labels are used to refer to <code>NEW</code> instructions, therefore placing instructions between the label’s location and the instruction will break this reference. Such references are required by stack map frames when an uninitialized instance created by the instruction is on the stack or in a local variable.</p>\n<p>Since you want to keep the original location as branch target or line number start when inserting code before the <code>NEW</code> instruction, you have to create a new label for the code location between the injected code and the old <code>NEW</code> instruction, then replace the labels used by stack map frames (and only those used by stack map frames).</p>\n<p>Note that this wouldn’t be necessary when using the <code>COMPUTE_FRAMES</code> option which will recompute the frames from scratch and not use the old labels, however, it’s actually a reasonable strategy not to use this option, as it is expensive and error prone. For injecting simple logging statements without branches, we can keep the original frames, even when checking for the special case of <code>NEW</code> instructions makes it slightly harder.</p>\n<p>The following method visitor implements the strategy described above. For my testing, I just injected a plain <code>System.out.println(…);</code> statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CoverageMethodVisitor extends MethodVisitor {\n    private final String slashClassName;\n    private final String methodName;\n    private final Map&lt;Label,Label&gt; translateForUninitialized = new HashMap&lt;&gt;();\n    private Label lastLabel;\n    private int newLineNumber = -1;\n\n    protected CoverageMethodVisitor(MethodVisitor mv,String clName,String methodName){\n        super(Opcodes.ASM9, mv);\n        this.slashClassName = clName;\n        this.methodName = methodName;\n    }\n\n    @Override\n    public void visitLineNumber(int line, Label start) {\n        newLineNumber = line;\n        super.visitLineNumber(line, start);\n    }\n\n    @Override\n    public void visitLabel(Label label) {\n        lastLabel = label;\n        super.visitLabel(label);\n    }\n\n    @Override\n    public void visitTypeInsn(int opcode, String type) {\n        if(instrumentReportCoverageInvocation() &amp;&amp; opcode == Opcodes.NEW) {\n            if(lastLabel != null) {\n                Label newLabel = new Label();\n                super.visitLabel(newLabel);\n                translateForUninitialized.put(lastLabel, newLabel);\n            }\n        }\n        super.visitTypeInsn(opcode, type);\n    }\n\n    @Override\n    public void visitFrame(int type,\n        int numLocal, Object[] local, int numStack, Object[] stack) {\n        switch(type) {\n            case Opcodes.F_NEW, Opcodes.F_FULL -&gt; {\n                local = replaceLabels(numLocal, local);\n                stack = replaceLabels(numStack, stack);\n            }\n            case Opcodes.F_APPEND -&gt; local = replaceLabels(numLocal, local);\n            case Opcodes.F_CHOP, Opcodes.F_SAME -&gt; {}\n            case Opcodes.F_SAME1 -&gt; stack = replaceLabels(1, stack);\n            default -&gt; throw new AssertionError();\n        }\n        super.visitFrame(type, numLocal, local, numStack, stack);\n    }\n\n    private Object[] replaceLabels(int num, Object[] array) {\n        Object[] result = array;\n        for(int ix = 0; ix &lt; num; ix++) {\n            Label repl = translateForUninitialized.get(result[ix]);\n            if(repl == null) continue;\n            if(result == array) result = array.clone();\n            result[ix] = repl;\n        }\n        return result;\n    }\n\n    private boolean instrumentReportCoverageInvocation() {\n        int lineNumber = newLineNumber;\n        if(lineNumber &lt; 0) return false;\n        newLineNumber = -1;\n        super.visitFieldInsn(Opcodes.GETSTATIC,\n             &quot;java/lang/System&quot;, &quot;out&quot;, &quot;Ljava/io/PrintStream;&quot;);\n        super.visitLdcInsn(slashClassName + &quot;.&quot; + methodName + &quot; line &quot; + lineNumber);\n        super.visitMethodInsn(Opcodes.INVOKEVIRTUAL,\n            &quot;java/io/PrintStream&quot;, &quot;println&quot;, &quot;(Ljava/lang/String;)V&quot;, false);\n        return true;\n    }\n\n    @Override\n    public void visitLdcInsn(Object value) {\n        instrumentReportCoverageInvocation();\n        super.visitLdcInsn(value);\n    }\n\n    @Override\n    public void visitInsn(int opcode) {\n        instrumentReportCoverageInvocation();\n        super.visitInsn(opcode);\n    }\n\n    @Override\n    public void visitIntInsn(int opcode, int operand) {\n        instrumentReportCoverageInvocation();\n        super.visitIntInsn(opcode, operand);\n    }\n\n    @Override\n    public void visitVarInsn(int opcode, int varIndex) {\n        instrumentReportCoverageInvocation();\n        super.visitVarInsn(opcode, varIndex);\n    }\n\n    @Override\n    public void visitFieldInsn(int opcode,\n        String owner, String name, String descriptor) {\n        instrumentReportCoverageInvocation();\n        super.visitFieldInsn(opcode, owner, name, descriptor);\n    }\n\n    @Override\n    public void visitMethodInsn(int opcode,\n        String owner, String name, String descriptor, boolean isInterface) {\n        instrumentReportCoverageInvocation();\n        super.visitMethodInsn(opcode, owner, name, descriptor, isInterface);\n    }\n\n    @Override\n    public void visitInvokeDynamicInsn(\n            String name, String descriptor, Handle bootstrapMethodHandle,\n            Object... bootstrapMethodArguments) {\n        instrumentReportCoverageInvocation();\n        super.visitInvokeDynamicInsn(\n            name, descriptor, bootstrapMethodHandle, bootstrapMethodArguments);\n    }\n\n    @Override\n    public void visitJumpInsn(int opcode, Label label) {\n        instrumentReportCoverageInvocation();\n        super.visitJumpInsn(opcode, label);\n    }\n\n    @Override\n    public void visitIincInsn(int varIndex, int increment) {\n        instrumentReportCoverageInvocation();\n        super.visitIincInsn(varIndex, increment);\n    }\n\n    @Override\n    public void visitTableSwitchInsn(int min, int max, Label dflt, Label... labels) {\n        instrumentReportCoverageInvocation();\n        super.visitTableSwitchInsn(min, max, dflt, labels);\n    }\n\n    @Override\n    public void visitLookupSwitchInsn(Label dflt, int[] keys, Label[] labels) {\n        instrumentReportCoverageInvocation();\n        super.visitLookupSwitchInsn(dflt, keys, labels);\n    }\n\n    @Override\n    public void visitMultiANewArrayInsn(String descriptor, int numDimensions) {\n        instrumentReportCoverageInvocation();\n        super.visitMultiANewArrayInsn(descriptor, numDimensions);\n    }\n\n    @Override\n    public AnnotationVisitor visitInsnAnnotation(\n        int typeRef, TypePath tp, String desc, boolean visible) {\n        instrumentReportCoverageInvocation();\n        return super.visitInsnAnnotation(typeRef, tp, desc, visible);\n    }\n}\n</code></pre>\n<p>I used a straight-forward class visitor</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CoverageClassVisitor extends ClassVisitor {\n    private String className;\n\n    CoverageClassVisitor(ClassVisitor cv) {\n        super(Opcodes.ASM9, cv);\n    }\n\n    @Override\n    public void visit(\n        int version, int acc, String name, String sig, String superName, String[] ifs) {\n\n        className = name;\n        super.visit(version, acc, name, sig, superName, ifs);\n    }\n    @Override\n    public MethodVisitor visitMethod(int access,\n        String name, String descriptor, String signature, String[] exceptions) {\n        return new CoverageMethodVisitor(\n            super.visitMethod(access, name, descriptor, signature, exceptions),\n            className,\n            name);\n    }\n}\n</code></pre>\n<p>…and the following code for testing it</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ReportLineNumbers {\n    public static void main(String[] arg) throws IOException, IllegalAccessException {\n        String className = ReportLineNumbers.class.getName() + &quot;$Example&quot;;\n//        ToolProvider.findFirst(&quot;javap&quot;)\n//            .ifPresent(p -&gt; p.run(System.out, System.err, &quot;-c&quot;, className));\n        ClassReader cr = new ClassReader(className);\n        ClassWriter cw = new ClassWriter(cr, ClassWriter.COMPUTE_MAXS);\n        CoverageClassVisitor trans = new CoverageClassVisitor(cw);\n        cr.accept(trans, 0);\n        MethodHandles.lookup().defineClass(cw.toByteArray());\n        Example.method();\n    }\n    static class Example {\n        static void method() {\n            for(int i = 0; i &lt; 3; i++) {\n                System.out.println(\n                    i &lt; 2?\n                    new String(switch(i) {\n                        case 0 -&gt; {\n//                            try {\n                                yield &quot;0&quot;;\n//                            } catch(Throwable t) {\n//                                yield &quot;e&quot;;\n//                            }\n                        }\n                        default -&gt; {\n                            for(int j = 1; j &lt; 3; j++) {\n                                System.out.println(j);\n                            }\n                            yield &quot;3&quot;;\n                        }\n                    }):\n                    new String(i == 2?\n                        &quot;4&quot;.toCharArray():\n                        &quot;5&quot;.toCharArray())\n                );\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>The <code>Example</code> class has been designed to be as challenging as possible, covering different branch types (forward, backward, switch) before and after <code>NEW</code> instructions. In fact, it turned out to be so challenging that I had to comment out one construct, as with Eclipse, it produced invalid bytecode even without the transformer. But when using <code>javac</code>, you can enable this inlined <code>try … catch …</code> construct, to see that the transformer will even handle this correctly.</p>\n"}],"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72901516,"answer_count":2,"score":2,"last_activity_date":1657234718,"creation_date":1657076006,"question_id":72877465,"body_markdown":"#### What am I doing\r\nI am using ASM and javaagent to instrument classes to report their coverage (why am I not using jacoco? Well it is nothing to do with this question), the basic logic is that, every time `visitLineNumber` is called, I instrument some method invocation (right before visiting the next instruction) to record the hit line number.\r\n\r\n#### Problem description\r\nWith such a simple logic, a class got ClassFormatError:\r\n```\r\njava.lang.ClassFormatError: StackMapTable format error: bad offset for Uninitialized in method org.apache.commons.math.ode.ContinuousOutputModelTest.buildInterpolator(D[DD)Lorg/apache/commons/math/ode/sampling/StepInterpolator;\r\n    at java.lang.Class.forName0(Native Method)\r\n    at java.lang.Class.forName(Class.java:348)\r\n    ...\r\n```\r\n\r\nThe bytecode before the instrumentation is shown below. The instructions where the stack map frames are located are @16(offset_delta = 16) and @17(offset_delta = 0).\r\n```\r\nprivate org.apache.commons.math.ode.sampling.StepInterpolator buildInterpolator(double, double[], double);\r\n    descriptor: (D[DD)Lorg/apache/commons/math/ode/sampling/StepInterpolator;\r\n    flags: ACC_PRIVATE\r\n    Code:\r\n      stack=7, locals=7, args_size=4\r\n         0: new           #66                 // class org/apache/commons/math/ode/sampling/DummyStepInterpolator\r\n         3: dup\r\n         4: aload_3\r\n         5: dload         4\r\n         7: dload_1\r\n         8: dcmpl\r\n         9: iflt          16\r\n        12: iconst_1\r\n        13: goto          17\r\n        16: iconst_0\r\n        17: invokespecial #67                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.&quot;&lt;init&gt;&quot;:([DZ)V\r\n        20: astore        6\r\n        22: aload         6\r\n        24: dload_1\r\n        25: invokevirtual #68                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.storeTime:(D)V\r\n        28: aload         6\r\n        30: invokevirtual #69                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.shift:()V\r\n        33: aload         6\r\n        35: dload         4\r\n        37: invokevirtual #68                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.storeTime:(D)V\r\n        40: aload         6\r\n        42: areturn\r\n         ...\r\n      StackMapTable: number_of_entries = 2\r\n        frame_type = 255 /* full_frame */\r\n          offset_delta = 16\r\n          locals = [ class org/apache/commons/math/ode/ContinuousOutputModelTest, double, class &quot;[D&quot;, double ]\r\n          stack = [ uninitialized 0, uninitialized 0, class &quot;[D&quot; ]\r\n        frame_type = 255 /* full_frame */\r\n          offset_delta = 0\r\n          locals = [ class org/apache/commons/math/ode/ContinuousOutputModelTest, double, class &quot;[D&quot;, double ]\r\n          stack = [ uninitialized 0, uninitialized 0, class &quot;[D&quot;, int ]\r\n```\r\nAfter the instrumentation, the bytecode becomes:\r\n\r\n```\r\nprivate org.apache.commons.math.ode.sampling.StepInterpolator buildInterpolator(double, double[], double);\r\n    descriptor: (D[DD)Lorg/apache/commons/math/ode/sampling/StepInterpolator;\r\n    flags: ACC_PRIVATE\r\n    Code:\r\n      stack=10, locals=7, args_size=4\r\n         0: ldc_w         #264                // String org/apache/commons/math/ode/ContinuousOutputModelTest\r\n         3: ldc_w         #344                // String buildInterpolator\r\n         6: ldc_w         #345                // int 169\r\n         9: invokestatic  #272                // Method org/test/cov/CoverageCollector.reportCoverage:(Ljava/lang/String;Ljava/lang/String;I)V\r\n        12: new           #66                 // class org/apache/commons/math/ode/sampling/DummyStepInterpolator\r\n        15: dup\r\n        16: aload_3\r\n        17: dload         4\r\n        19: dload_1\r\n        20: dcmpl\r\n        21: iflt          28\r\n        24: iconst_1\r\n        25: goto          29\r\n        28: iconst_0\r\n        29: invokespecial #67                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.&quot;&lt;init&gt;&quot;:([DZ)V\r\n        32: astore        6\r\n        34: ldc_w         #264                // String org/apache/commons/math/ode/ContinuousOutputModelTest\r\n        37: ldc_w         #344                // String buildInterpolator\r\n        40: ldc_w         #346                // int 170\r\n        43: invokestatic  #272                // Method org/test/cov/CoverageCollector.reportCoverage:(Ljava/lang/String;Ljava/lang/String;I)V\r\n        46: aload         6\r\n        48: dload_1\r\n        49: invokevirtual #68                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.storeTime:(D)V\r\n        52: ldc_w         #264                // String org/apache/commons/math/ode/ContinuousOutputModelTest\r\n        55: ldc_w         #344                // String buildInterpolator\r\n        58: ldc_w         #347                // int 171\r\n        61: invokestatic  #272                // Method org/test/cov/CoverageCollector.reportCoverage:(Ljava/lang/String;Ljava/lang/String;I)V\r\n        64: aload         6\r\n        66: invokevirtual #69                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.shift:()V\r\n        69: ldc_w         #264                // String org/apache/commons/math/ode/ContinuousOutputModelTest\r\n        72: ldc_w         #344                // String buildInterpolator\r\n        75: ldc_w         #348                // int 172\r\n        78: invokestatic  #272                // Method org/test/cov/CoverageCollector.reportCoverage:(Ljava/lang/String;Ljava/lang/String;I)V\r\n        81: aload         6\r\n        83: dload         4\r\n        85: invokevirtual #68                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.storeTime:(D)V\r\n        88: ldc_w         #264                // String org/apache/commons/math/ode/ContinuousOutputModelTest\r\n        91: ldc_w         #344                // String buildInterpolator\r\n        94: ldc_w         #349                // int 173\r\n        97: invokestatic  #272                // Method org/test/cov/CoverageCollector.reportCoverage:(Ljava/lang/String;Ljava/lang/String;I)V\r\n       100: aload         6\r\n       102: areturn\r\n        ...\r\n      StackMapTable: number_of_entries = 2\r\n        frame_type = 255 /* full_frame */\r\n          offset_delta = 28\r\n          locals = [ class org/apache/commons/math/ode/ContinuousOutputModelTest, double, class &quot;[D&quot;, double ]\r\n          stack = [ uninitialized 0, uninitialized 0, class &quot;[D&quot; ]\r\n        frame_type = 255 /* full_frame */\r\n          offset_delta = 0\r\n          locals = [ class org/apache/commons/math/ode/ContinuousOutputModelTest, double, class &quot;[D&quot;, double ]\r\n          stack = [ uninitialized 0, uninitialized 0, class &quot;[D&quot;, int ]\r\n```\r\n\r\nI didn&#39;t see any problem with the StackMapTable. Any ideas about why this StackMapTable format is invalid?\r\n\r\n--------\r\nThe following is my instrumentation code:\r\n```java\r\n\r\nclass CoverageMethodVisitor extends MethodVisitor {\r\n\r\n    private String slashClassName;\r\n    private String methodName;\r\n    private int currentLine;\r\n    private boolean isJUnit3TestClass;\r\n    private boolean hasTestAnnotation;\r\n    private boolean isTestMethod;\r\n    private int classVersion;\r\n\r\n    private boolean isRightAfterLabel;\r\n\r\n    protected CoverageMethodVisitor(MethodVisitor methodVisitor, String className, String methodName, boolean isJUnit3TestClass, int classVersion) {\r\n        super(ASM_VERSION, methodVisitor);\r\n        this.slashClassName = className;\r\n        this.methodName = methodName;\r\n        this.isJUnit3TestClass = isJUnit3TestClass;\r\n        this.classVersion = classVersion;\r\n    }\r\n\r\n    private void instrumentReportCoverageInvocation() {\r\n        super.visitLdcInsn(slashClassName);\r\n        super.visitLdcInsn(methodName);\r\n        super.visitLdcInsn(currentLine);\r\n        super.visitMethodInsn(INVOKESTATIC, &quot;org/test/cov/CoverageCollector&quot;,\r\n                &quot;reportCoverage&quot;, &quot;(Ljava/lang/String;Ljava/lang/String;I)V&quot;, false);\r\n    }\r\n\r\n    @Override\r\n    public void visitInsn(int opcode) {\r\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\r\n        super.visitInsn(opcode);\r\n    }\r\n\r\n    @Override\r\n    public void visitIntInsn(int opcode, int operand) {\r\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\r\n        super.visitIntInsn(opcode, operand);\r\n    }\r\n\r\n    @Override\r\n    public void visitVarInsn(int opcode, int varIndex) {\r\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\r\n        super.visitVarInsn(opcode, varIndex);\r\n    }\r\n\r\n    @Override\r\n    public void visitTypeInsn(int opcode, String type) {\r\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\r\n        super.visitTypeInsn(opcode, type);\r\n    }\r\n\r\n    @Override\r\n    public void visitFieldInsn(int opcode, String owner, String name, String descriptor) {\r\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\r\n        super.visitFieldInsn(opcode, owner, name, descriptor);\r\n    }\r\n\r\n    @Override\r\n    public void visitMethodInsn(int opcode, String owner, String name, String descriptor, boolean isInterface) {\r\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\r\n        super.visitMethodInsn(opcode, owner, name, descriptor, isInterface);\r\n    }\r\n\r\n    @Override\r\n    public void visitInvokeDynamicInsn(String name, String descriptor, Handle bootstrapMethodHandle, Object... bootstrapMethodArguments) {\r\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\r\n        super.visitInvokeDynamicInsn(name, descriptor, bootstrapMethodHandle, bootstrapMethodArguments);\r\n    }\r\n\r\n    @Override\r\n    public void visitJumpInsn(int opcode, Label label) {\r\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\r\n        super.visitJumpInsn(opcode, label);\r\n    }\r\n\r\n    @Override\r\n    public void visitLdcInsn(Object value) {\r\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\r\n        super.visitLdcInsn(value);\r\n    }\r\n\r\n    @Override\r\n    public void visitIincInsn(int varIndex, int increment) {\r\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\r\n        super.visitIincInsn(varIndex, increment);\r\n    }\r\n\r\n    @Override\r\n    public void visitTableSwitchInsn(int min, int max, Label dflt, Label... labels) {\r\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\r\n        super.visitTableSwitchInsn(min, max, dflt, labels);\r\n    }\r\n\r\n    @Override\r\n    public void visitLookupSwitchInsn(Label dflt, int[] keys, Label[] labels) {\r\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\r\n        super.visitLookupSwitchInsn(dflt, keys, labels);\r\n    }\r\n\r\n    @Override\r\n    public void visitMultiANewArrayInsn(String descriptor, int numDimensions) {\r\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\r\n        super.visitMultiANewArrayInsn(descriptor, numDimensions);\r\n    }\r\n\r\n    @Override\r\n    public void visitMaxs(int maxStack, int maxLocals) {\r\n        super.visitMaxs(maxStack+3, maxLocals);\r\n    }\r\n\r\n    /**\r\n     * Should not report line coverage immediately after the visitLineNumber. visitLineNumber is called right after\r\n     * visitLabel, but it is very possible that a stack map frame is after the label, if insert instructions right\r\n     * after the label, the original stack map frame will be messed up. So instead, insert instructions before the\r\n     * first instruction after the label. */\r\n    @Override\r\n    public void visitLineNumber(int line, Label start) {\r\n        super.visitLineNumber(line, start);\r\n        currentLine = line;\r\n        isRightAfterLabel = true;\r\n    }\r\n}\r\n\r\n```\r\nThe comment in `/** */` is actually my guess, not sure if it is correct.\r\n\r\n---\r\n**EDIT:**\r\n\r\nI&#39;m sorry I misunderstood the meaning of **`offset_delta = 0`**, as the [java spec][1] mentions:\r\n\r\n&gt; The bytecode offset at which a frame applies is calculated by adding offset_delta + 1 to the bytecode offset of the previous frame, unless the previous frame is the initial frame of the method, ...\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.7.4\r\n\r\n#### Summary\r\n##### Reason of the error\r\nThe `Uninitialized` in the `bad offset for Uninitialized` refers to the uninitialized object produced by the `NEW` instruction (the first instruction in the original bytecode). Since the original stack map frame needs to use the label (let&#39;s say `L0`) before the `NEW` instruction to represent the uninitialized object in its `locals` and `stack`, and the `L0` in the instrumented code no longer represents the `NEW` instruction, such error is thrown.\r\n##### Solution\r\nSince the `L0` in the instrumented code no longer represents the `NEW` instruction, we need to create a new label for that `NEW` instruction, and replace the old label `L0` with the new label in both stack map frames. If `COMPUTE_FRAME` is specified, such stack map frame (re)computation will be done automatically, but here we need to do it manually since `COMPUTE_FRAME` is not used to avoid other latent problems.","title":"ASM &amp; Javaagent bytecode instrumentation: ClassFormatError: StackMapTable format error: bad offset for Uninitialized","body":"<h4>What am I doing</h4>\n<p>I am using ASM and javaagent to instrument classes to report their coverage (why am I not using jacoco? Well it is nothing to do with this question), the basic logic is that, every time <code>visitLineNumber</code> is called, I instrument some method invocation (right before visiting the next instruction) to record the hit line number.</p>\n<h4>Problem description</h4>\n<p>With such a simple logic, a class got ClassFormatError:</p>\n<pre><code>java.lang.ClassFormatError: StackMapTable format error: bad offset for Uninitialized in method org.apache.commons.math.ode.ContinuousOutputModelTest.buildInterpolator(D[DD)Lorg/apache/commons/math/ode/sampling/StepInterpolator;\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    ...\n</code></pre>\n<p>The bytecode before the instrumentation is shown below. The instructions where the stack map frames are located are @16(offset_delta = 16) and @17(offset_delta = 0).</p>\n<pre><code>private org.apache.commons.math.ode.sampling.StepInterpolator buildInterpolator(double, double[], double);\n    descriptor: (D[DD)Lorg/apache/commons/math/ode/sampling/StepInterpolator;\n    flags: ACC_PRIVATE\n    Code:\n      stack=7, locals=7, args_size=4\n         0: new           #66                 // class org/apache/commons/math/ode/sampling/DummyStepInterpolator\n         3: dup\n         4: aload_3\n         5: dload         4\n         7: dload_1\n         8: dcmpl\n         9: iflt          16\n        12: iconst_1\n        13: goto          17\n        16: iconst_0\n        17: invokespecial #67                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.&quot;&lt;init&gt;&quot;:([DZ)V\n        20: astore        6\n        22: aload         6\n        24: dload_1\n        25: invokevirtual #68                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.storeTime:(D)V\n        28: aload         6\n        30: invokevirtual #69                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.shift:()V\n        33: aload         6\n        35: dload         4\n        37: invokevirtual #68                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.storeTime:(D)V\n        40: aload         6\n        42: areturn\n         ...\n      StackMapTable: number_of_entries = 2\n        frame_type = 255 /* full_frame */\n          offset_delta = 16\n          locals = [ class org/apache/commons/math/ode/ContinuousOutputModelTest, double, class &quot;[D&quot;, double ]\n          stack = [ uninitialized 0, uninitialized 0, class &quot;[D&quot; ]\n        frame_type = 255 /* full_frame */\n          offset_delta = 0\n          locals = [ class org/apache/commons/math/ode/ContinuousOutputModelTest, double, class &quot;[D&quot;, double ]\n          stack = [ uninitialized 0, uninitialized 0, class &quot;[D&quot;, int ]\n</code></pre>\n<p>After the instrumentation, the bytecode becomes:</p>\n<pre><code>private org.apache.commons.math.ode.sampling.StepInterpolator buildInterpolator(double, double[], double);\n    descriptor: (D[DD)Lorg/apache/commons/math/ode/sampling/StepInterpolator;\n    flags: ACC_PRIVATE\n    Code:\n      stack=10, locals=7, args_size=4\n         0: ldc_w         #264                // String org/apache/commons/math/ode/ContinuousOutputModelTest\n         3: ldc_w         #344                // String buildInterpolator\n         6: ldc_w         #345                // int 169\n         9: invokestatic  #272                // Method org/test/cov/CoverageCollector.reportCoverage:(Ljava/lang/String;Ljava/lang/String;I)V\n        12: new           #66                 // class org/apache/commons/math/ode/sampling/DummyStepInterpolator\n        15: dup\n        16: aload_3\n        17: dload         4\n        19: dload_1\n        20: dcmpl\n        21: iflt          28\n        24: iconst_1\n        25: goto          29\n        28: iconst_0\n        29: invokespecial #67                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.&quot;&lt;init&gt;&quot;:([DZ)V\n        32: astore        6\n        34: ldc_w         #264                // String org/apache/commons/math/ode/ContinuousOutputModelTest\n        37: ldc_w         #344                // String buildInterpolator\n        40: ldc_w         #346                // int 170\n        43: invokestatic  #272                // Method org/test/cov/CoverageCollector.reportCoverage:(Ljava/lang/String;Ljava/lang/String;I)V\n        46: aload         6\n        48: dload_1\n        49: invokevirtual #68                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.storeTime:(D)V\n        52: ldc_w         #264                // String org/apache/commons/math/ode/ContinuousOutputModelTest\n        55: ldc_w         #344                // String buildInterpolator\n        58: ldc_w         #347                // int 171\n        61: invokestatic  #272                // Method org/test/cov/CoverageCollector.reportCoverage:(Ljava/lang/String;Ljava/lang/String;I)V\n        64: aload         6\n        66: invokevirtual #69                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.shift:()V\n        69: ldc_w         #264                // String org/apache/commons/math/ode/ContinuousOutputModelTest\n        72: ldc_w         #344                // String buildInterpolator\n        75: ldc_w         #348                // int 172\n        78: invokestatic  #272                // Method org/test/cov/CoverageCollector.reportCoverage:(Ljava/lang/String;Ljava/lang/String;I)V\n        81: aload         6\n        83: dload         4\n        85: invokevirtual #68                 // Method org/apache/commons/math/ode/sampling/DummyStepInterpolator.storeTime:(D)V\n        88: ldc_w         #264                // String org/apache/commons/math/ode/ContinuousOutputModelTest\n        91: ldc_w         #344                // String buildInterpolator\n        94: ldc_w         #349                // int 173\n        97: invokestatic  #272                // Method org/test/cov/CoverageCollector.reportCoverage:(Ljava/lang/String;Ljava/lang/String;I)V\n       100: aload         6\n       102: areturn\n        ...\n      StackMapTable: number_of_entries = 2\n        frame_type = 255 /* full_frame */\n          offset_delta = 28\n          locals = [ class org/apache/commons/math/ode/ContinuousOutputModelTest, double, class &quot;[D&quot;, double ]\n          stack = [ uninitialized 0, uninitialized 0, class &quot;[D&quot; ]\n        frame_type = 255 /* full_frame */\n          offset_delta = 0\n          locals = [ class org/apache/commons/math/ode/ContinuousOutputModelTest, double, class &quot;[D&quot;, double ]\n          stack = [ uninitialized 0, uninitialized 0, class &quot;[D&quot;, int ]\n</code></pre>\n<p>I didn't see any problem with the StackMapTable. Any ideas about why this StackMapTable format is invalid?</p>\n<hr />\n<p>The following is my instrumentation code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass CoverageMethodVisitor extends MethodVisitor {\n\n    private String slashClassName;\n    private String methodName;\n    private int currentLine;\n    private boolean isJUnit3TestClass;\n    private boolean hasTestAnnotation;\n    private boolean isTestMethod;\n    private int classVersion;\n\n    private boolean isRightAfterLabel;\n\n    protected CoverageMethodVisitor(MethodVisitor methodVisitor, String className, String methodName, boolean isJUnit3TestClass, int classVersion) {\n        super(ASM_VERSION, methodVisitor);\n        this.slashClassName = className;\n        this.methodName = methodName;\n        this.isJUnit3TestClass = isJUnit3TestClass;\n        this.classVersion = classVersion;\n    }\n\n    private void instrumentReportCoverageInvocation() {\n        super.visitLdcInsn(slashClassName);\n        super.visitLdcInsn(methodName);\n        super.visitLdcInsn(currentLine);\n        super.visitMethodInsn(INVOKESTATIC, &quot;org/test/cov/CoverageCollector&quot;,\n                &quot;reportCoverage&quot;, &quot;(Ljava/lang/String;Ljava/lang/String;I)V&quot;, false);\n    }\n\n    @Override\n    public void visitInsn(int opcode) {\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\n        super.visitInsn(opcode);\n    }\n\n    @Override\n    public void visitIntInsn(int opcode, int operand) {\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\n        super.visitIntInsn(opcode, operand);\n    }\n\n    @Override\n    public void visitVarInsn(int opcode, int varIndex) {\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\n        super.visitVarInsn(opcode, varIndex);\n    }\n\n    @Override\n    public void visitTypeInsn(int opcode, String type) {\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\n        super.visitTypeInsn(opcode, type);\n    }\n\n    @Override\n    public void visitFieldInsn(int opcode, String owner, String name, String descriptor) {\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\n        super.visitFieldInsn(opcode, owner, name, descriptor);\n    }\n\n    @Override\n    public void visitMethodInsn(int opcode, String owner, String name, String descriptor, boolean isInterface) {\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\n        super.visitMethodInsn(opcode, owner, name, descriptor, isInterface);\n    }\n\n    @Override\n    public void visitInvokeDynamicInsn(String name, String descriptor, Handle bootstrapMethodHandle, Object... bootstrapMethodArguments) {\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\n        super.visitInvokeDynamicInsn(name, descriptor, bootstrapMethodHandle, bootstrapMethodArguments);\n    }\n\n    @Override\n    public void visitJumpInsn(int opcode, Label label) {\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\n        super.visitJumpInsn(opcode, label);\n    }\n\n    @Override\n    public void visitLdcInsn(Object value) {\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\n        super.visitLdcInsn(value);\n    }\n\n    @Override\n    public void visitIincInsn(int varIndex, int increment) {\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\n        super.visitIincInsn(varIndex, increment);\n    }\n\n    @Override\n    public void visitTableSwitchInsn(int min, int max, Label dflt, Label... labels) {\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\n        super.visitTableSwitchInsn(min, max, dflt, labels);\n    }\n\n    @Override\n    public void visitLookupSwitchInsn(Label dflt, int[] keys, Label[] labels) {\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\n        super.visitLookupSwitchInsn(dflt, keys, labels);\n    }\n\n    @Override\n    public void visitMultiANewArrayInsn(String descriptor, int numDimensions) {\n        if (isRightAfterLabel) instrumentReportCoverageInvocation(); isRightAfterLabel = false;\n        super.visitMultiANewArrayInsn(descriptor, numDimensions);\n    }\n\n    @Override\n    public void visitMaxs(int maxStack, int maxLocals) {\n        super.visitMaxs(maxStack+3, maxLocals);\n    }\n\n    /**\n     * Should not report line coverage immediately after the visitLineNumber. visitLineNumber is called right after\n     * visitLabel, but it is very possible that a stack map frame is after the label, if insert instructions right\n     * after the label, the original stack map frame will be messed up. So instead, insert instructions before the\n     * first instruction after the label. */\n    @Override\n    public void visitLineNumber(int line, Label start) {\n        super.visitLineNumber(line, start);\n        currentLine = line;\n        isRightAfterLabel = true;\n    }\n}\n\n</code></pre>\n<p>The comment in <code>/** */</code> is actually my guess, not sure if it is correct.</p>\n<hr />\n<p><strong>EDIT:</strong></p>\n<p>I'm sorry I misunderstood the meaning of <strong><code>offset_delta = 0</code></strong>, as the <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.7.4\" rel=\"nofollow noreferrer\">java spec</a> mentions:</p>\n<blockquote>\n<p>The bytecode offset at which a frame applies is calculated by adding offset_delta + 1 to the bytecode offset of the previous frame, unless the previous frame is the initial frame of the method, ...</p>\n</blockquote>\n<h4>Summary</h4>\n<h5>Reason of the error</h5>\n<p>The <code>Uninitialized</code> in the <code>bad offset for Uninitialized</code> refers to the uninitialized object produced by the <code>NEW</code> instruction (the first instruction in the original bytecode). Since the original stack map frame needs to use the label (let's say <code>L0</code>) before the <code>NEW</code> instruction to represent the uninitialized object in its <code>locals</code> and <code>stack</code>, and the <code>L0</code> in the instrumented code no longer represents the <code>NEW</code> instruction, such error is thrown.</p>\n<h5>Solution</h5>\n<p>Since the <code>L0</code> in the instrumented code no longer represents the <code>NEW</code> instruction, we need to create a new label for that <code>NEW</code> instruction, and replace the old label <code>L0</code> with the new label in both stack map frames. If <code>COMPUTE_FRAME</code> is specified, such stack map frame (re)computation will be done automatically, but here we need to do it manually since <code>COMPUTE_FRAME</code> is not used to avoid other latent problems.</p>\n"},{"tags":["java","macos","swing","netbeans","sdkman"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1657149911,"post_id":72889458,"comment_id":128744623,"body_markdown":"Apps for Microsoft Windows do not run on macOS. So your Question makes no sense. Edit for clarity.","body":"Apps for Microsoft Windows do not run on macOS. So your Question makes no sense. Edit for clarity."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1657150014,"post_id":72889458,"comment_id":128744637,"body_markdown":"For NetBeans on macOS, download the `.dmg` file. Currently that would be `Apache-NetBeans-14-bin-macosx.dmg`.","body":"For NetBeans on macOS, download the <code>.dmg</code> file. Currently that would be <code>Apache-NetBeans-14-bin-macosx.dmg</code>."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1657186484,"post_id":72889458,"comment_id":128752544,"body_markdown":"[1] Not a solution to your specific problem, but a possible workaround is to bypass the installer completely, simply [download and unzip the NetBeans binary zip file **netbeans-14-bin.zip**](https://netbeans.apache.org/download/nb14/nb14.html) [2] See the accepted answer to [No JDK found installing Apache NetBeans IDE on MacOS Big Sur](https://stackoverflow.com/q/63570470/2985643). Does that help? [3] Provide more details in your question; just stating _&quot;throwing a java not installed error&quot;_ is inadequate. Provide the context, the precise error in text form, and a screen shot.","body":"[1] Not a solution to your specific problem, but a possible workaround is to bypass the installer completely, simply <a href=\"https://netbeans.apache.org/download/nb14/nb14.html\" rel=\"nofollow noreferrer\">download and unzip the NetBeans binary zip file <b>netbeans-14-bin.zip</b></a> [2] See the accepted answer to <a href=\"https://stackoverflow.com/q/63570470/2985643\">No JDK found installing Apache NetBeans IDE on MacOS Big Sur</a>. Does that help? [3] Provide more details in your question; just stating <i>&quot;throwing a java not installed error&quot;</i> is inadequate. Provide the context, the precise error in text form, and a screen shot."},{"owner":{"account_id":1325052,"reputation":324,"user_id":1270076,"display_name":"JuanKB1024"},"score":1,"creation_date":1657207411,"post_id":72889458,"comment_id":128761139,"body_markdown":"It was the same problem as [link](https://stackoverflow.com/q/63570470/2985643) @skomisa though instead of using brew, I installed both via dmg and then deleted the dmg java to leave just the ones in sdkman.","body":"It was the same problem as <a href=\"https://stackoverflow.com/q/63570470/2985643\">link</a> @skomisa though instead of using brew, I installed both via dmg and then deleted the dmg java to leave just the ones in sdkman."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1657208618,"post_id":72889458,"comment_id":128761593,"body_markdown":"OK. Though similar, your solution seems sufficiently different to avoid being a duplicate. Please consider posting (and accepting) an answer here, providing a similar level of detail to the accepted answer to the linked question. Your solution can then help others with a similar problem in the future. Also please be sure to specify your versions of NetBeans and Java.","body":"OK. Though similar, your solution seems sufficiently different to avoid being a duplicate. Please consider posting (and accepting) an answer here, providing a similar level of detail to the accepted answer to the linked question. Your solution can then help others with a similar problem in the future. Also please be sure to specify your versions of NetBeans and Java."}],"answers":[{"tags":[],"owner":{"account_id":1325052,"reputation":324,"user_id":1270076,"display_name":"JuanKB1024"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657234698,"creation_date":1657234698,"answer_id":72905040,"question_id":72889458,"body_markdown":"[Checking this answer][1] I&#39;ve solved it by temporarily installing a similar Java in question through the .dmg file. After that, I&#39;ve installed Netbeans 14 through the .dmg file as well.\r\n\r\nOnce NetBeans was installed, I deleted the Java installed through the dmg to manage all my JDKs through sdkman. Since sdkman sets java_home, NetBeans continued to work without a problem.\r\n\r\nFor some reason, NetBeans installer doesn&#39;t detect the current java by the java_home environment but through something else. But NetBeans works without a problem.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/63570470/no-jdk-found-installing-apache-netbeans-ide-on-macos-big-sur","title":"How to use an SDKMAN jdk for window applications on mac","body":"<p><a href=\"https://stackoverflow.com/questions/63570470/no-jdk-found-installing-apache-netbeans-ide-on-macos-big-sur\">Checking this answer</a> I've solved it by temporarily installing a similar Java in question through the .dmg file. After that, I've installed Netbeans 14 through the .dmg file as well.</p>\n<p>Once NetBeans was installed, I deleted the Java installed through the dmg to manage all my JDKs through sdkman. Since sdkman sets java_home, NetBeans continued to work without a problem.</p>\n<p>For some reason, NetBeans installer doesn't detect the current java by the java_home environment but through something else. But NetBeans works without a problem.</p>\n"}],"owner":{"account_id":1325052,"reputation":324,"user_id":1270076,"display_name":"JuanKB1024"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1657234698,"creation_date":1657138976,"question_id":72889458,"body_markdown":"I&#39;ve recently installed a fresh Mac OS and installed java using SDKMAN but no windows apps recognize the jdk throwing a java not installed error. Trying to install NetBeans using the .pkg throws a similar error.\r\n\r\nMeanwhile, all terminal apps like gradle have no problem with the JDK that was installed using SDKMAN.\r\n\r\nHow can I use the jdk installed with SDKMAN with windowed apps in Mac?","title":"How to use an SDKMAN jdk for window applications on mac","body":"<p>I've recently installed a fresh Mac OS and installed java using SDKMAN but no windows apps recognize the jdk throwing a java not installed error. Trying to install NetBeans using the .pkg throws a similar error.</p>\n<p>Meanwhile, all terminal apps like gradle have no problem with the JDK that was installed using SDKMAN.</p>\n<p>How can I use the jdk installed with SDKMAN with windowed apps in Mac?</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1657212519,"post_id":72901054,"comment_id":128763094,"body_markdown":"What&#39;s the error you&#39;re getting? Is it an exception? Please update your post including the error/exception","body":"What&#39;s the error you&#39;re getting? Is it an exception? Please update your post including the error/exception"},{"owner":{"account_id":25700661,"reputation":11,"user_id":19460760,"display_name":"Ronaldo"},"score":0,"creation_date":1657232567,"post_id":72901054,"comment_id":128768899,"body_markdown":"@JornRigter when I run, the application just closes, so I added DeBug with the error that appears","body":"@JornRigter when I run, the application just closes, so I added DeBug with the error that appears"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1657234392,"post_id":72901054,"comment_id":128769216,"body_markdown":"This is not a bug, but your XML seems to be invalid. `FrameLayout` is not a `ConstraintLayout`.","body":"This is not a bug, but your XML seems to be invalid. <code>FrameLayout</code> is not a <code>ConstraintLayout</code>."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1657234958,"post_id":72901054,"comment_id":128769323,"body_markdown":"In `HomeFragment`, `onCreate` is called before `onCreateView` - so the binding object is not set yet. You need to move the stuff out of `onCreate` to somewhere later in the [Fragment lifecycle](https://developer.android.com/guide/fragments/lifecycle) where the binding was already defined.","body":"In <code>HomeFragment</code>, <code>onCreate</code> is called before <code>onCreateView</code> - so the binding object is not set yet. You need to move the stuff out of <code>onCreate</code> to somewhere later in the <a href=\"https://developer.android.com/guide/fragments/lifecycle\" rel=\"nofollow noreferrer\">Fragment lifecycle</a> where the binding was already defined."},{"owner":{"account_id":25700661,"reputation":11,"user_id":19460760,"display_name":"Ronaldo"},"score":0,"creation_date":1657238248,"post_id":72901054,"comment_id":128769825,"body_markdown":"@TylerV thanks for the lesson, I made the change in the position of the objects in fragmenteHome.java and the application started perfectly (it didn&#39;t load the video but it opened again, which is already amazing) I will continue to study","body":"@TylerV thanks for the lesson, I made the change in the position of the objects in fragmenteHome.java and the application started perfectly (it didn&#39;t load the video but it opened again, which is already amazing) I will continue to study"}],"owner":{"account_id":25700661,"reputation":11,"user_id":19460760,"display_name":"Ronaldo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1657234255,"answer_count":0,"score":0,"last_activity_date":1657234278,"creation_date":1657210064,"question_id":72901054,"body_markdown":"my application so far is like this: in ActivityHome, it opens the Fragments using a &quot;FragmentContainerView&quot;, my FragmentHome loads the firebase videos in a ViewPage2, using the design of an xml file\r\n\r\nThe problem is that after finishing the class files, the application does not run and presents the error in onCreate(Home.java), I could not solve the error or find the problem\r\n\r\nCould someone point out how to solve this BUG?\r\n\r\n\r\nlayout/Activity_Home:\r\n\r\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Home&quot;&gt;\r\n\r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/nav_host_fragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/nav_inferior&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:navGraph=&quot;@navigation/nav_main&quot;/&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:src=&quot;@drawable/ic_baseline_add_24&quot;\r\n        app:maxImageSize=&quot;50dp&quot;\r\n        android:backgroundTint=&quot;#3f3f3f&quot;\r\n        app:borderWidth=&quot;0dp&quot;\r\n        app:layout_anchor=&quot;@id/nav_inferior&quot;\r\n        android:contentDescription=&quot;@string/nav_post&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.bottomappbar.BottomAppBar\r\n        android:id=&quot;@+id/nav_inferior&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;bottom&quot;\r\n        app:fabCradleRoundedCornerRadius=&quot;20dp&quot;\r\n        app:fabCradleMargin=&quot;10dp&quot;\r\n        &gt;\r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottom_nav_inferior&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            app:menu=&quot;@menu/menu_inferior&quot;\r\n            android:layout_marginEnd=&quot;20dp&quot;\r\n            app:itemIconTint=&quot;@color/nav_item_bg&quot;\r\n            app:itemTextColor=&quot;@color/nav_item_bg&quot;\r\n        /&gt;\r\n    &lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\r\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n\r\nHome.java\r\n\r\n    public class Home extends AppCompatActivity {\r\n    BottomNavigationView bottomNavigationView;\r\n    ActivityHomeBinding binding;\r\n    private NavHostFragment navHostFragment;\r\n    private NavController navController;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getSupportActionBar().hide();\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        binding = ActivityHomeBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        IniciarComponentes();\r\n        IniciarNavegacao();\r\n        IniciarBadge();\r\n\r\n    }\r\n\r\n    private void IniciarNavegacao(){\r\n        navHostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment);\r\n        navController = navHostFragment.getNavController();\r\n        NavigationUI.setupWithNavController(binding.bottomNavInferior, navController);\r\n\r\n        navController.addOnDestinationChangedListener((navController, navDestination, bundle) -&gt; {\r\n            if (navDestination.getId() == R.id.nav_painel){\r\n                BadgeDrawable badgeDrawable = binding.bottomNavInferior.getBadge(R.id.bottom_nav_inferior);\r\n                if (badgeDrawable != null){\r\n                        badgeDrawable.setVisible(false);\r\n                        badgeDrawable.clearNumber();\r\n                }\r\n            }\r\n        });\r\n    }\r\n    private void IniciarBadge(){\r\n        BadgeDrawable badge = binding.bottomNavInferior.getOrCreateBadge(R.id.nav_painel);\r\n        badge.setVisible(true);\r\n        badge.setNumber(99);\r\n\r\n        badge.setBackgroundColor(ContextCompat.getColor(this,R.color.colorError));\r\n        badge.setBadgeTextColor(ContextCompat.getColor(this, com.denzcoskun.imageslider.R.color.text_shadow_white));\r\n\r\n    }\r\n\r\n    private void IniciarComponentes(){\r\n        bottomNavigationView = findViewById(R.id.bottom_nav_inferior);\r\n        bottomNavigationView.setBackground(null);\r\n\r\n    }\r\n    }\r\n\r\nlayout/FragmentHome\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.fragments.HomeFragment&quot;&gt;\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/homeVideos&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\nfragmente/FragmentHome.java\r\n\r\n    public class HomeFragment extends Fragment {\r\n\r\n    private FragmentHomeBinding binding;\r\n    VideosConvert videosConvert;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        final ViewPager2 viewPager2 = binding.homeVideos;\r\n        FirebaseRecyclerOptions&lt;VideosDados&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;VideosDados&gt;()\r\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Videos&quot;), VideosDados.class)\r\n                        .build();\r\n        videosConvert = new VideosConvert(options);\r\n        viewPager2.setAdapter(videosConvert);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        binding = FragmentHomeBinding.inflate(inflater,container, false);\r\n        View root = binding.getRoot();\r\n        return root;\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        videosConvert.startListening();\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        videosConvert.stopListening();\r\n    }\r\n    }\r\n\r\nlayout/videoDesign\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#000&quot;&gt;\r\n\r\n    &lt;VideoView\r\n        android:id=&quot;@+id/videoView&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;1.0&quot; /&gt;\r\n\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/videoProgressBar&quot;\r\n        android:layout_width=&quot;30dp&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.888&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textoTituloVideo&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;6.00sp&quot;\r\n            android:layout_marginBottom=&quot;7.80sp&quot;\r\n            android:fontFamily=&quot;sans-serif-medium&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            android:paddingStart=&quot;5dp&quot;\r\n            android:paddingTop=&quot;5dp&quot;\r\n            android:paddingEnd=&quot;5dp&quot;\r\n            android:shadowDx=&quot;0&quot;\r\n            android:shadowDy=&quot;0&quot;\r\n            android:shadowRadius=&quot;15&quot;\r\n            android:text=&quot;T&#237;tulo&quot;\r\n            android:textSize=&quot;25sp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textoDescricaoVideo&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;7.80sp&quot;\r\n            android:layout_marginEnd=&quot;46.8dp&quot;\r\n            android:layout_marginBottom=&quot;20.80dp&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            android:fontFamily=&quot;@font/calibri&quot;\r\n            android:paddingStart=&quot;5dp&quot;\r\n            android:paddingTop=&quot;5dp&quot;\r\n            android:paddingEnd=&quot;5dp&quot;\r\n            android:shadowDx=&quot;0&quot;\r\n            android:shadowDy=&quot;0&quot;\r\n            android:shadowRadius=&quot;15&quot;\r\n            android:text=&quot;Descri&#231;&#227;o do v&#237;deo&quot;\r\n            android:textSize=&quot;16sp&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nVideoConvert.java\r\n\r\n    public class VideosConvert extends FirebaseRecyclerAdapter&lt;VideosDados, VideosConvert.myviewholder&gt; {\r\n\r\n    public VideosConvert(@NonNull FirebaseRecyclerOptions&lt;VideosDados&gt; options) {\r\n        super(options);\r\n    }\r\n\r\n    @Override\r\n    protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull VideosDados model) {\r\n        holder.setdata(model);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.video_design,parent,false);\r\n        return new myviewholder(view);\r\n    }\r\n\r\n    public class myviewholder extends RecyclerView.ViewHolder {\r\n\r\n        VideoView videoView;\r\n        TextView titolo,desc;\r\n        ProgressBar progressBar;\r\n        public myviewholder(@NonNull View itemView) {\r\n            super(itemView);\r\n            videoView=(VideoView)itemView.findViewById(R.id.videoView);\r\n            titolo=(TextView)itemView.findViewById(R.id.textoTituloVideo);\r\n            desc=(TextView)itemView.findViewById(R.id.textoDescricaoVideo);\r\n            progressBar=(ProgressBar)itemView.findViewById(R.id.videoProgressBar);\r\n        }\r\n\r\n        public void setdata(VideosDados model) {\r\n            videoView.setVideoPath(model.getUrl());\r\n            titolo.setText(model.getTitle());\r\n            desc.setText(model.getDesc());\r\n\r\n            videoView.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n                @Override\r\n                public void onPrepared(MediaPlayer mp) {\r\n                    progressBar.setVisibility(View.GONE);\r\n                    mp.start();\r\n                }\r\n            });\r\n            videoView.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n                @Override\r\n                public void onCompletion(MediaPlayer mp) {\r\n                    mp.start();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    }\r\nVideoDados.java\r\n\r\n    public class VideosDados {\r\n\r\n    String desc,title,url;\r\n\r\n    public VideosDados(String desc, String title, String url) {\r\n        this.desc = desc;\r\n        this.title = title;\r\n        this.url = url;\r\n    }\r\n    VideosDados() {\r\n\r\n    }\r\n\r\n    public String getDesc() {\r\n        return desc;\r\n    }\r\n\r\n    public void setDesc(String desc) {\r\n        this.desc = desc;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getUrl() {\r\n        return url;\r\n    }\r\n\r\n    public void setUrl(String url) {\r\n        this.url = url;\r\n    }\r\n    }\r\n\r\nafter hours of failing to resolve, it seems impossible to resolve.\r\nthanks for the time and help\r\n\r\nDebug \r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.meinlowe.souldiabah, PID: 30521\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.meinlowe.souldiabah/com.meinlowe.souldiabah.Home}: android.view.InflateException: Binary XML file line #11 in com.meinlowe.souldiabah:layout/activity_home: Binary XML file line #11 in com.meinlowe.souldiabah:layout/activity_home: Error inflating class androidx.fragment.app.FragmentContainerView\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4035)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4201)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2438)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:226)\r\n        at android.os.Looper.loop(Looper.java:313)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8663)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n     Caused by: android.view.InflateException: Binary XML file line #11 in com.meinlowe.souldiabah:layout/activity_home: Binary XML file line #11 in com.meinlowe.souldiabah:layout/activity_home: Error inflating class androidx.fragment.app.FragmentContainerView\r\n     Caused by: android.view.InflateException: Binary XML file line #11 in com.meinlowe.souldiabah:layout/activity_home: Error inflating class androidx.fragment.app.FragmentContainerView\r\n     Caused by: java.lang.NullPointerException: Attempt to read from field &#39;androidx.viewpager2.widget.ViewPager2 com.meinlowe.souldiabah.databinding.FragmentHomeBinding.homeVideos&#39; on a null object reference\r\n        at com.meinlowe.souldiabah.fragments.HomeFragment.onCreate(HomeFragment.java:27)\r\n        at androidx.fragment.app.Fragment.performCreate(Fragment.java:2981)\r\n        at androidx.fragment.app.FragmentStateManager.create(FragmentStateManager.java:474)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:257)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1840)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1764)\r\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1701)\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2849)\r\n        at androidx.fragment.app.FragmentManager.dispatchCreate(FragmentManager.java:2773)\r\n        at androidx.fragment.app.Fragment.onCreate(Fragment.java:1913)\r\n        at androidx.navigation.fragment.NavHostFragment.onCreate(NavHostFragment.kt:169)\r\n        at androidx.fragment.app.Fragment.performCreate(Fragment.java:2981)\r\n        at androidx.fragment.app.FragmentStateManager.create(FragmentStateManager.java:474)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:257)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1840)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1764)\r\n        at androidx.fragment.app.FragmentManager.execSingleAction(FragmentManager.java:1670)\r\n        at androidx.fragment.app.BackStackRecord.commitNowAllowingStateLoss(BackStackRecord.java:323)\r\n        at androidx.fragment.app.FragmentContainerView.&lt;init&gt;(FragmentContainerView.kt:158)\r\n        at androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:53)\r\n        at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:135)\r\n        at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:295)\r\n     E/AndroidRuntime:     at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:274)\r\n        at android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1073)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1001)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:965)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1127)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:686)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:538)\r\n        at com.meinlowe.souldiabah.databinding.ActivityHomeBinding.inflate(ActivityHomeBinding.java:56)\r\n        at com.meinlowe.souldiabah.databinding.ActivityHomeBinding.inflate(ActivityHomeBinding.java:50)\r\n        at com.meinlowe.souldiabah.Home.onCreate(Home.java:28)\r\n        at android.app.Activity.performCreate(Activity.java:8290)\r\n        at android.app.Activity.performCreate(Activity.java:8270)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4009)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4201)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2438)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:226)\r\n        at android.os.Looper.loop(Looper.java:313)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8663)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)","title":"BUG, activity does not load fragment with firebase data","body":"<p>my application so far is like this: in ActivityHome, it opens the Fragments using a &quot;FragmentContainerView&quot;, my FragmentHome loads the firebase videos in a ViewPage2, using the design of an xml file</p>\n<p>The problem is that after finishing the class files, the application does not run and presents the error in onCreate(Home.java), I could not solve the error or find the problem</p>\n<p>Could someone point out how to solve this BUG?</p>\n<p>layout/Activity_Home:</p>\n<pre><code>&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.Home&quot;&gt;\n\n&lt;androidx.fragment.app.FragmentContainerView\n    android:id=&quot;@+id/nav_host_fragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n    app:defaultNavHost=&quot;true&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/nav_inferior&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:navGraph=&quot;@navigation/nav_main&quot;/&gt;\n\n&lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:src=&quot;@drawable/ic_baseline_add_24&quot;\n    app:maxImageSize=&quot;50dp&quot;\n    android:backgroundTint=&quot;#3f3f3f&quot;\n    app:borderWidth=&quot;0dp&quot;\n    app:layout_anchor=&quot;@id/nav_inferior&quot;\n    android:contentDescription=&quot;@string/nav_post&quot; /&gt;\n\n&lt;com.google.android.material.bottomappbar.BottomAppBar\n    android:id=&quot;@+id/nav_inferior&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_gravity=&quot;bottom&quot;\n    app:fabCradleRoundedCornerRadius=&quot;20dp&quot;\n    app:fabCradleMargin=&quot;10dp&quot;\n    &gt;\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottom_nav_inferior&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        app:menu=&quot;@menu/menu_inferior&quot;\n        android:layout_marginEnd=&quot;20dp&quot;\n        app:itemIconTint=&quot;@color/nav_item_bg&quot;\n        app:itemTextColor=&quot;@color/nav_item_bg&quot;\n    /&gt;\n&lt;/com.google.android.material.bottomappbar.BottomAppBar&gt;\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>Home.java</p>\n<pre><code>public class Home extends AppCompatActivity {\nBottomNavigationView bottomNavigationView;\nActivityHomeBinding binding;\nprivate NavHostFragment navHostFragment;\nprivate NavController navController;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    getSupportActionBar().hide();\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n    binding = ActivityHomeBinding.inflate(getLayoutInflater());\n    setContentView(binding.getRoot());\n    IniciarComponentes();\n    IniciarNavegacao();\n    IniciarBadge();\n\n}\n\nprivate void IniciarNavegacao(){\n    navHostFragment = (NavHostFragment) getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment);\n    navController = navHostFragment.getNavController();\n    NavigationUI.setupWithNavController(binding.bottomNavInferior, navController);\n\n    navController.addOnDestinationChangedListener((navController, navDestination, bundle) -&gt; {\n        if (navDestination.getId() == R.id.nav_painel){\n            BadgeDrawable badgeDrawable = binding.bottomNavInferior.getBadge(R.id.bottom_nav_inferior);\n            if (badgeDrawable != null){\n                    badgeDrawable.setVisible(false);\n                    badgeDrawable.clearNumber();\n            }\n        }\n    });\n}\nprivate void IniciarBadge(){\n    BadgeDrawable badge = binding.bottomNavInferior.getOrCreateBadge(R.id.nav_painel);\n    badge.setVisible(true);\n    badge.setNumber(99);\n\n    badge.setBackgroundColor(ContextCompat.getColor(this,R.color.colorError));\n    badge.setBadgeTextColor(ContextCompat.getColor(this, com.denzcoskun.imageslider.R.color.text_shadow_white));\n\n}\n\nprivate void IniciarComponentes(){\n    bottomNavigationView = findViewById(R.id.bottom_nav_inferior);\n    bottomNavigationView.setBackground(null);\n\n}\n}\n</code></pre>\n<p>layout/FragmentHome</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.fragments.HomeFragment&quot;&gt;\n\n&lt;androidx.viewpager2.widget.ViewPager2\n    android:id=&quot;@+id/homeVideos&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>fragmente/FragmentHome.java</p>\n<pre><code>public class HomeFragment extends Fragment {\n\nprivate FragmentHomeBinding binding;\nVideosConvert videosConvert;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    final ViewPager2 viewPager2 = binding.homeVideos;\n    FirebaseRecyclerOptions&lt;VideosDados&gt; options =\n            new FirebaseRecyclerOptions.Builder&lt;VideosDados&gt;()\n                    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Videos&quot;), VideosDados.class)\n                    .build();\n    videosConvert = new VideosConvert(options);\n    viewPager2.setAdapter(videosConvert);\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    binding = FragmentHomeBinding.inflate(inflater,container, false);\n    View root = binding.getRoot();\n    return root;\n\n}\n\n@Override\npublic void onStart() {\n    super.onStart();\n    videosConvert.startListening();\n}\n\n@Override\npublic void onStop() {\n    super.onStop();\n    videosConvert.stopListening();\n}\n}\n</code></pre>\n<p>layout/videoDesign</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;#000&quot;&gt;\n\n&lt;VideoView\n    android:id=&quot;@+id/videoView&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;1.0&quot; /&gt;\n\n&lt;ProgressBar\n    android:id=&quot;@+id/videoProgressBar&quot;\n    android:layout_width=&quot;30dp&quot;\n    android:layout_height=&quot;30dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;0.888&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textoTituloVideo&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;6.00sp&quot;\n        android:layout_marginBottom=&quot;7.80sp&quot;\n        android:fontFamily=&quot;sans-serif-medium&quot;\n        android:textColor=&quot;@android:color/white&quot;\n        android:paddingStart=&quot;5dp&quot;\n        android:paddingTop=&quot;5dp&quot;\n        android:paddingEnd=&quot;5dp&quot;\n        android:shadowDx=&quot;0&quot;\n        android:shadowDy=&quot;0&quot;\n        android:shadowRadius=&quot;15&quot;\n        android:text=&quot;Título&quot;\n        android:textSize=&quot;25sp&quot;\n        android:textStyle=&quot;bold&quot; /&gt;\n\n\n    &lt;TextView\n        android:id=&quot;@+id/textoDescricaoVideo&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;7.80sp&quot;\n        android:layout_marginEnd=&quot;46.8dp&quot;\n        android:layout_marginBottom=&quot;20.80dp&quot;\n        android:textColor=&quot;@android:color/white&quot;\n        android:fontFamily=&quot;@font/calibri&quot;\n        android:paddingStart=&quot;5dp&quot;\n        android:paddingTop=&quot;5dp&quot;\n        android:paddingEnd=&quot;5dp&quot;\n        android:shadowDx=&quot;0&quot;\n        android:shadowDy=&quot;0&quot;\n        android:shadowRadius=&quot;15&quot;\n        android:text=&quot;Descrição do vídeo&quot;\n        android:textSize=&quot;16sp&quot; /&gt;\n&lt;/LinearLayout&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>VideoConvert.java</p>\n<pre><code>public class VideosConvert extends FirebaseRecyclerAdapter&lt;VideosDados, VideosConvert.myviewholder&gt; {\n\npublic VideosConvert(@NonNull FirebaseRecyclerOptions&lt;VideosDados&gt; options) {\n    super(options);\n}\n\n@Override\nprotected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull VideosDados model) {\n    holder.setdata(model);\n}\n\n@NonNull\n@Override\npublic myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.video_design,parent,false);\n    return new myviewholder(view);\n}\n\npublic class myviewholder extends RecyclerView.ViewHolder {\n\n    VideoView videoView;\n    TextView titolo,desc;\n    ProgressBar progressBar;\n    public myviewholder(@NonNull View itemView) {\n        super(itemView);\n        videoView=(VideoView)itemView.findViewById(R.id.videoView);\n        titolo=(TextView)itemView.findViewById(R.id.textoTituloVideo);\n        desc=(TextView)itemView.findViewById(R.id.textoDescricaoVideo);\n        progressBar=(ProgressBar)itemView.findViewById(R.id.videoProgressBar);\n    }\n\n    public void setdata(VideosDados model) {\n        videoView.setVideoPath(model.getUrl());\n        titolo.setText(model.getTitle());\n        desc.setText(model.getDesc());\n\n        videoView.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n            @Override\n            public void onPrepared(MediaPlayer mp) {\n                progressBar.setVisibility(View.GONE);\n                mp.start();\n            }\n        });\n        videoView.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n            @Override\n            public void onCompletion(MediaPlayer mp) {\n                mp.start();\n            }\n        });\n    }\n}\n}\n</code></pre>\n<p>VideoDados.java</p>\n<pre><code>public class VideosDados {\n\nString desc,title,url;\n\npublic VideosDados(String desc, String title, String url) {\n    this.desc = desc;\n    this.title = title;\n    this.url = url;\n}\nVideosDados() {\n\n}\n\npublic String getDesc() {\n    return desc;\n}\n\npublic void setDesc(String desc) {\n    this.desc = desc;\n}\n\npublic String getTitle() {\n    return title;\n}\n\npublic void setTitle(String title) {\n    this.title = title;\n}\n\npublic String getUrl() {\n    return url;\n}\n\npublic void setUrl(String url) {\n    this.url = url;\n}\n}\n</code></pre>\n<p>after hours of failing to resolve, it seems impossible to resolve.\nthanks for the time and help</p>\n<p>Debug</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.meinlowe.souldiabah, PID: 30521\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.meinlowe.souldiabah/com.meinlowe.souldiabah.Home}: android.view.InflateException: Binary XML file line #11 in com.meinlowe.souldiabah:layout/activity_home: Binary XML file line #11 in com.meinlowe.souldiabah:layout/activity_home: Error inflating class androidx.fragment.app.FragmentContainerView\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4035)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4201)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2438)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loopOnce(Looper.java:226)\n    at android.os.Looper.loop(Looper.java:313)\n    at android.app.ActivityThread.main(ActivityThread.java:8663)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n Caused by: android.view.InflateException: Binary XML file line #11 in com.meinlowe.souldiabah:layout/activity_home: Binary XML file line #11 in com.meinlowe.souldiabah:layout/activity_home: Error inflating class androidx.fragment.app.FragmentContainerView\n Caused by: android.view.InflateException: Binary XML file line #11 in com.meinlowe.souldiabah:layout/activity_home: Error inflating class androidx.fragment.app.FragmentContainerView\n Caused by: java.lang.NullPointerException: Attempt to read from field 'androidx.viewpager2.widget.ViewPager2 com.meinlowe.souldiabah.databinding.FragmentHomeBinding.homeVideos' on a null object reference\n    at com.meinlowe.souldiabah.fragments.HomeFragment.onCreate(HomeFragment.java:27)\n    at androidx.fragment.app.Fragment.performCreate(Fragment.java:2981)\n    at androidx.fragment.app.FragmentStateManager.create(FragmentStateManager.java:474)\n    at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:257)\n    at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1840)\n    at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1764)\n    at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:1701)\n    at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2849)\n    at androidx.fragment.app.FragmentManager.dispatchCreate(FragmentManager.java:2773)\n    at androidx.fragment.app.Fragment.onCreate(Fragment.java:1913)\n    at androidx.navigation.fragment.NavHostFragment.onCreate(NavHostFragment.kt:169)\n    at androidx.fragment.app.Fragment.performCreate(Fragment.java:2981)\n    at androidx.fragment.app.FragmentStateManager.create(FragmentStateManager.java:474)\n    at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:257)\n    at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1840)\n    at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1764)\n    at androidx.fragment.app.FragmentManager.execSingleAction(FragmentManager.java:1670)\n    at androidx.fragment.app.BackStackRecord.commitNowAllowingStateLoss(BackStackRecord.java:323)\n    at androidx.fragment.app.FragmentContainerView.&lt;init&gt;(FragmentContainerView.kt:158)\n    at androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:53)\n    at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:135)\n    at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:295)\n E/AndroidRuntime:     at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:274)\n    at android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1073)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1001)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:965)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:1127)\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1088)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:686)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:538)\n    at com.meinlowe.souldiabah.databinding.ActivityHomeBinding.inflate(ActivityHomeBinding.java:56)\n    at com.meinlowe.souldiabah.databinding.ActivityHomeBinding.inflate(ActivityHomeBinding.java:50)\n    at com.meinlowe.souldiabah.Home.onCreate(Home.java:28)\n    at android.app.Activity.performCreate(Activity.java:8290)\n    at android.app.Activity.performCreate(Activity.java:8270)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1329)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:4009)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:4201)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2438)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loopOnce(Looper.java:226)\n    at android.os.Looper.loop(Looper.java:313)\n    at android.app.ActivityThread.main(ActivityThread.java:8663)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657223105,"creation_date":1657223105,"answer_id":72903426,"question_id":72902404,"body_markdown":"Try like this\r\n\r\n    btn[i].setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    String btnTextValue = ((Button) v).getText().toStrinh();\r\n                    txtPass.setText(btnTextValue);\r\n                }\r\n            });","title":"Text from button not staying in edittext when clicked?","body":"<p>Try like this</p>\n<pre><code>btn[i].setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String btnTextValue = ((Button) v).getText().toStrinh();\n                txtPass.setText(btnTextValue);\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657234239,"creation_date":1657234239,"answer_id":72905005,"question_id":72902404,"body_markdown":"If you want to **append** the button text to the current EditText string instead of **replacing** it, you should get the current string first, append the new value, then put the new appended string back in the EditText, like this:\r\n\r\n```java\r\nbtn[i].setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n        String newText = txtPass.getText().toString() + text;\r\n        txtPass.setText(newText);\r\n    }\r\n});\r\n```","title":"Text from button not staying in edittext when clicked?","body":"<p>If you want to <strong>append</strong> the button text to the current EditText string instead of <strong>replacing</strong> it, you should get the current string first, append the new value, then put the new appended string back in the EditText, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>btn[i].setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        String newText = txtPass.getText().toString() + text;\n        txtPass.setText(newText);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":25553611,"reputation":3,"user_id":19337569,"display_name":"Chika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72905005,"answer_count":2,"score":0,"last_activity_date":1657234239,"creation_date":1657217144,"question_id":72902404,"body_markdown":"When I click on my button, it is supposed to &quot;put the current String Text of the button&quot; into the EditText. \r\n\r\nBut clicking on a new button replaces the existing string value in the EditText while I want it to not remove the previous input.\r\n\r\nEx. &quot;When I click on a *Button* with the *Text String of &quot;1&quot;* in it, it appears on the editText. When I click on another *Button* with a different String, it replaces the current value in the EditText while I want them to stay. \r\n\r\n[What my current layout looks like (Sorry for the choice colors)][1]\r\n\r\n    private void LoadBtnNumbers(){\r\n            Button[] btn = new Button[] {\r\n    \r\n                    (Button) findViewById(R.id.btn1),\r\n                    (Button) findViewById(R.id.btn2),\r\n                    (Button) findViewById(R.id.btn3),\r\n                    (Button) findViewById(R.id.btn4),\r\n                    (Button) findViewById(R.id.btn5),\r\n                    (Button) findViewById(R.id.btn6),\r\n                    (Button) findViewById(R.id.btn7),\r\n                    (Button) findViewById(R.id.btn8),\r\n                    (Button) findViewById(R.id.btn9),\r\n            };\r\n    \r\n            ArrayList&lt;String&gt; array = new ArrayList&lt;&gt;();\r\n            array.add(&quot;1&quot;);\r\n            array.add(&quot;2&quot;);\r\n            array.add(&quot;3&quot;);\r\n            array.add(&quot;4&quot;);\r\n            array.add(&quot;5&quot;);\r\n            array.add(&quot;6&quot;);\r\n            array.add(&quot;7&quot;);\r\n            array.add(&quot;8&quot;);\r\n            array.add(&quot;9&quot;);\r\n    \r\n    \r\n            for(int i = 0; i &lt; btn.length; i++) {\r\n    \r\n                Random rand = new Random();\r\n                String newString = array.get(rand.nextInt(array.size()));\r\n                btn[i].setText(newString);\r\n    \r\n                array.remove(newString);\r\n                String text = btn[i].getText().toString();\r\n    \r\n                btn[i].setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        Log.e(&quot;BTN&quot;,&quot;NUMBER = &quot;+ text);\r\n                        txtPass.setText(text);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\nMy code above is to get an Array of Buttons and ArrayList of Strings, to then set the text of the button randomly on start from the string Array. \r\n\r\nDo let me know if what I imagine is even possible and how can I accomplished that.\r\n\r\nThank You.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y8QtS.png","title":"Text from button not staying in edittext when clicked?","body":"<p>When I click on my button, it is supposed to &quot;put the current String Text of the button&quot; into the EditText.</p>\n<p>But clicking on a new button replaces the existing string value in the EditText while I want it to not remove the previous input.</p>\n<p>Ex. &quot;When I click on a <em>Button</em> with the <em>Text String of &quot;1&quot;</em> in it, it appears on the editText. When I click on another <em>Button</em> with a different String, it replaces the current value in the EditText while I want them to stay.</p>\n<p><a href=\"https://i.stack.imgur.com/y8QtS.png\" rel=\"nofollow noreferrer\">What my current layout looks like (Sorry for the choice colors)</a></p>\n<pre><code>private void LoadBtnNumbers(){\n        Button[] btn = new Button[] {\n\n                (Button) findViewById(R.id.btn1),\n                (Button) findViewById(R.id.btn2),\n                (Button) findViewById(R.id.btn3),\n                (Button) findViewById(R.id.btn4),\n                (Button) findViewById(R.id.btn5),\n                (Button) findViewById(R.id.btn6),\n                (Button) findViewById(R.id.btn7),\n                (Button) findViewById(R.id.btn8),\n                (Button) findViewById(R.id.btn9),\n        };\n\n        ArrayList&lt;String&gt; array = new ArrayList&lt;&gt;();\n        array.add(&quot;1&quot;);\n        array.add(&quot;2&quot;);\n        array.add(&quot;3&quot;);\n        array.add(&quot;4&quot;);\n        array.add(&quot;5&quot;);\n        array.add(&quot;6&quot;);\n        array.add(&quot;7&quot;);\n        array.add(&quot;8&quot;);\n        array.add(&quot;9&quot;);\n\n\n        for(int i = 0; i &lt; btn.length; i++) {\n\n            Random rand = new Random();\n            String newString = array.get(rand.nextInt(array.size()));\n            btn[i].setText(newString);\n\n            array.remove(newString);\n            String text = btn[i].getText().toString();\n\n            btn[i].setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    Log.e(&quot;BTN&quot;,&quot;NUMBER = &quot;+ text);\n                    txtPass.setText(text);\n                }\n            });\n        }\n    }\n</code></pre>\n<p>My code above is to get an Array of Buttons and ArrayList of Strings, to then set the text of the button randomly on start from the string Array.</p>\n<p>Do let me know if what I imagine is even possible and how can I accomplished that.</p>\n<p>Thank You.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1657222486,"post_id":72903316,"comment_id":128766255,"body_markdown":"Indexes are 0 based. So if you array size is 9, the valid indexes are from 0 - 8 (not 9).","body":"Indexes are 0 based. So if you array size is 9, the valid indexes are from 0 - 8 (not 9)."},{"owner":{"account_id":25703302,"reputation":53,"user_id":19463036,"display_name":"nuno"},"score":0,"creation_date":1657222532,"post_id":72903316,"comment_id":128766267,"body_markdown":"yes thats how I want it to be, in the code I only try to get up to the 8th index","body":"yes thats how I want it to be, in the code I only try to get up to the 8th index"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1657222628,"post_id":72903316,"comment_id":128766293,"body_markdown":"`Nums = new ArrayList&lt;&gt;(9);` only creates an `ArrayList` with a *capacity* of 9. It&#39;s still empty, so `Nums.get(0)` will fail.","body":"<code>Nums = new ArrayList&lt;&gt;(9);</code> only creates an <code>ArrayList</code> with a <i>capacity</i> of 9. It&#39;s still empty, so <code>Nums.get(0)</code> will fail."},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657222826,"post_id":72903316,"comment_id":128766352,"body_markdown":"Try `Arrays.asList(new int[9])` instead to get a filled list with the length of 9. (default value is 0)","body":"Try <code>Arrays.asList(new int[9])</code> instead to get a filled list with the length of 9. (default value is 0)"},{"owner":{"account_id":25703302,"reputation":53,"user_id":19463036,"display_name":"nuno"},"score":0,"creation_date":1657223044,"post_id":72903316,"comment_id":128766423,"body_markdown":"I already changed up my code to keep the arraylist empty by changing the ifs to (for example) `Nums.isEmpty() &amp;&amp; n &gt;=1 &amp;&amp; n&lt;=9 || Nums.get(0) == null &amp;&amp; n &gt;=1 &amp;&amp; n&lt;=9 ` but now I get a ConcurrentModifiedException at `for(int n : holder)`","body":"I already changed up my code to keep the arraylist empty by changing the ifs to (for example) <code>Nums.isEmpty() &amp;&amp; n &gt;=1 &amp;&amp; n&lt;=9 || Nums.get(0) == null &amp;&amp; n &gt;=1 &amp;&amp; n&lt;=9 </code> but now I get a ConcurrentModifiedException at <code>for(int n : holder)</code>"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1657223412,"post_id":72903316,"comment_id":128766521,"body_markdown":"Can you share the third class where you call / test / use this classes?","body":"Can you share the third class where you call / test / use this classes?"},{"owner":{"account_id":25703302,"reputation":53,"user_id":19463036,"display_name":"nuno"},"score":0,"creation_date":1657223468,"post_id":72903316,"comment_id":128766538,"body_markdown":"ok adding it now","body":"ok adding it now"},{"owner":{"account_id":25703302,"reputation":53,"user_id":19463036,"display_name":"nuno"},"score":0,"creation_date":1657224210,"post_id":72903316,"comment_id":128766778,"body_markdown":"Again, I fixed the exception by removing `holder.remove(n)`, but now I get an exception of out of bounds yet again but in another place now. commenting where it&#39;s happening.","body":"Again, I fixed the exception by removing <code>holder.remove(n)</code>, but now I get an exception of out of bounds yet again but in another place now. commenting where it&#39;s happening."},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657224672,"post_id":72903316,"comment_id":128766921,"body_markdown":"@nuno ConcurrentModifiedException means you are changeing the content of the array while iterating trough it with your for loop.","body":"@nuno ConcurrentModifiedException means you are changeing the content of the array while iterating trough it with your for loop."},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657224807,"post_id":72903316,"comment_id":128766964,"body_markdown":"Can you paste the entire stacktrace of your out of bounds exception?","body":"Can you paste the entire stacktrace of your out of bounds exception?"},{"owner":{"account_id":25703302,"reputation":53,"user_id":19463036,"display_name":"nuno"},"score":0,"creation_date":1657225106,"post_id":72903316,"comment_id":128767054,"body_markdown":"yup adding it now","body":"yup adding it now"},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657225616,"post_id":72903316,"comment_id":128767205,"body_markdown":"You didn&#39;t implement the solution I recommented above. This is still an empty list: ` new ArrayList&lt;&gt;(9)` as @JonSkeet said.","body":"You didn&#39;t implement the solution I recommented above. This is still an empty list: ` new ArrayList&lt;&gt;(9)` as @JonSkeet said."},{"owner":{"account_id":25703302,"reputation":53,"user_id":19463036,"display_name":"nuno"},"score":0,"creation_date":1657225684,"post_id":72903316,"comment_id":128767228,"body_markdown":"I understand that but won&#39;t the if statement check if it&#39;s empty and make that irrelevant?","body":"I understand that but won&#39;t the if statement check if it&#39;s empty and make that irrelevant?"},{"owner":{"account_id":25703302,"reputation":53,"user_id":19463036,"display_name":"nuno"},"score":0,"creation_date":1657226039,"post_id":72903316,"comment_id":128767329,"body_markdown":"And if I implement like you said, I have to keep ints in the list not NumeroLoto objects","body":"And if I implement like you said, I have to keep ints in the list not NumeroLoto objects"},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657226125,"post_id":72903316,"comment_id":128767348,"body_markdown":"Not realy because you are using an `or`. Your condition looks like this: `if A and B and C or D and E and F`. *And gets prioritized.* So lets say condition A fails because the list is empty it checks condition D which is your get from the list.","body":"Not realy because you are using an <code>or</code>. Your condition looks like this: <code>if A and B and C or D and E and F</code>. <i>And gets prioritized.</i> So lets say condition A fails because the list is empty it checks condition D which is your get from the list."},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657226168,"post_id":72903316,"comment_id":128767359,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/246256/discussion-between-japhei-and-nuno).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/246256/discussion-between-japhei-and-nuno\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657226788,"creation_date":1657226788,"answer_id":72904036,"question_id":72903316,"body_markdown":"You are overcomplicating things way too much. There are obviously simpler approaches to achieve what you are trying to do. I will share a solition below where your code should work, with little modification in your current code as possible, but at the same time encourage you to refactor and try better aproaches.\r\n\r\n**First issue**, the line `Nums = new ArrayList&lt;&gt;(9);` will not create a list with prefilled list having 9 values. It will just create an empty list (size == 0). 9 is just the initial capacity. change it to \r\n\r\n    Nums = new ArrayList&lt;&gt;(Arrays.asList(null,null,null,null,null,null,null,null,null));\r\n\r\n**Second issue** remove all `holder.remove(n)` calls. (which you have already done in between)\r\n\r\n**third issue** use `Nums.add(index, n)` to put an element at a specific index, but you need to remove the null first so that your list size still remains 9\r\n\r\n    if(Nums.get(0) == null &amp;&amp; n &gt;=1 &amp;&amp; n&lt;=9){ \r\n        NumeroLoto num = new NumeroLoto(n);\r\n        Nums.remove(0);\r\n        Nums.add(0, num);\r\n\r\n    }\r\n    else if(Nums.get(1) == null &amp;&amp; n &gt;=10 &amp;&amp; n&lt;=19){\r\n        NumeroLoto num = new NumeroLoto(n);\r\n        Nums.remove(1);\r\n        Nums.add(1, num);\r\n\r\n    }\r\n    // ... and so on\r\n\r\n**fourth issue** in your `imprimeLinha` method check for null first (change condition of `if` and `else if`) to avoid `NullPointerException`. If `Nums.get(i)` is null you cann&#39;t call `Nums.get(i).getNumero()&gt;0` without an NPE\r\n\r\n    public void imprimeLinha(){\r\n        for(int i = 0; i&lt;9; i++){\r\n            if(Nums.get(i)== null){\r\n                System.out.println(&quot;:_:&quot;);\r\n            }\r\n            else if(Nums.get(i).getNumero()&gt;0){\r\n                System.out.println(&quot;:&quot;+Nums.get(i).getNumero()+&quot;:&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n**Fifth issue** in all other metods add a null check in your if condition for the same reason as above\r\n\r\n    public void marcaNumeroAnunciado(int numero){\r\n        for(NumeroLoto n : Nums){\r\n            if(n != null &amp;&amp; n.getNumero()==numero){    // &lt;- n != null\r\n                n.setSaiu(true);\r\n            }\r\n        }\r\n    }\r\n\r\nFor easier access your whole code modified:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    \r\n    /**\r\n     * @author Nuno\r\n     */\r\n    public class LinhaCartao {\r\n    \r\n        ArrayList&lt;NumeroLoto&gt; Nums;\r\n        ArrayList&lt;Integer&gt; holder;\r\n    \r\n        //1, 20, 45, 58, 71\r\n        public LinhaCartao(int n1, int n2, int n3, int n4, int n5) {\r\n            Nums = new ArrayList&lt;&gt;(Arrays.asList(null, null, null, null, null, null, null, null, null));\r\n            holder = new ArrayList&lt;&gt;();\r\n            holder.add(n1);\r\n            holder.add(n2);\r\n            holder.add(n3);\r\n            holder.add(n4);\r\n            holder.add(n5);\r\n            for (int n : holder) {\r\n                if (Nums.get(0) == null &amp;&amp; n &gt;= 1 &amp;&amp; n &lt;= 9) { \r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.remove(0);\r\n                    Nums.add(0, num);\r\n    \r\n                } else if (Nums.get(1) == null &amp;&amp; n &gt;= 10 &amp;&amp; n &lt;= 19) {\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.remove(1);\r\n                    Nums.add(1, num);\r\n    \r\n                } else if (Nums.get(2) == null &amp;&amp; n &gt;= 20 &amp;&amp; n &lt;= 29) {\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.remove(2);\r\n                    Nums.add(2, num);\r\n    \r\n                } else if (Nums.get(3) == null &amp;&amp; n &gt;= 30 &amp;&amp; n &lt;= 39) {\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.remove(3);\r\n                    Nums.add(3, num);\r\n    \r\n                } else if (Nums.get(4) == null &amp;&amp; n &gt;= 40 &amp;&amp; n &lt;= 49) {\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.remove(4);\r\n                    Nums.add(4, num);\r\n    \r\n                } else if (Nums.get(5) == null &amp;&amp; n &gt;= 50 &amp;&amp; n &lt;= 59) {\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.remove(5);\r\n                    Nums.add(5, num);\r\n    \r\n                } else if (Nums.get(6) == null &amp;&amp; n &gt;= 60 &amp;&amp; n &lt;= 69) {\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.remove(6);\r\n                    Nums.add(6, num);\r\n    \r\n                } else if (Nums.get(7) == null &amp;&amp; n &gt;= 70 &amp;&amp; n &lt;= 79) {\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.remove(7);\r\n                    Nums.add(7, num);\r\n    \r\n                } else if (Nums.get(8) == null &amp;&amp; n &gt;= 80 &amp;&amp; n &lt;= 89) {\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.remove(8);\r\n                    Nums.add(8, num);\r\n    \r\n                } else {\r\n                    System.out.println(&quot;N invalido&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void imprimeLinha() {\r\n            for (int i = 0; i &lt; 9; i++) {\r\n                if (Nums.get(i) == null) {\r\n                    System.out.println(&quot;:_:&quot;);\r\n                } else if (Nums.get(i).getNumero() &gt; 0) {\r\n                    System.out.println(&quot;:&quot; + Nums.get(i).getNumero() + &quot;:&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void marcaNumeroAnunciado(int numero) {\r\n            for (NumeroLoto n : Nums) {\r\n                if (n != null &amp;&amp; n.getNumero() == numero) {\r\n                    n.setSaiu(true);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public int quantosNumerosPorMarcar() {\r\n            int count = 0;\r\n            for (NumeroLoto n : Nums) {\r\n                if (n != null &amp;&amp; n.getEstado() == false) {\r\n                    count++;\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n    \r\n        public boolean verificaLinhaCompleta() {\r\n            int count = 0;\r\n            for (NumeroLoto n : Nums) {\r\n                if (n != null &amp;&amp; n.getEstado() == true) {\r\n                    count++;\r\n                }\r\n                if (count == 5) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        public int limpaLinha() {\r\n            int count = 0;\r\n            for (NumeroLoto n : Nums) {\r\n                if (n != null &amp;&amp; n.getEstado() == true) {\r\n                    count++;\r\n                    Nums.remove(n);\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n    }","title":"Arraylist index out of bounds in lotto ticket class","body":"<p>You are overcomplicating things way too much. There are obviously simpler approaches to achieve what you are trying to do. I will share a solition below where your code should work, with little modification in your current code as possible, but at the same time encourage you to refactor and try better aproaches.</p>\n<p><strong>First issue</strong>, the line <code>Nums = new ArrayList&lt;&gt;(9);</code> will not create a list with prefilled list having 9 values. It will just create an empty list (size == 0). 9 is just the initial capacity. change it to</p>\n<pre><code>Nums = new ArrayList&lt;&gt;(Arrays.asList(null,null,null,null,null,null,null,null,null));\n</code></pre>\n<p><strong>Second issue</strong> remove all <code>holder.remove(n)</code> calls. (which you have already done in between)</p>\n<p><strong>third issue</strong> use <code>Nums.add(index, n)</code> to put an element at a specific index, but you need to remove the null first so that your list size still remains 9</p>\n<pre><code>if(Nums.get(0) == null &amp;&amp; n &gt;=1 &amp;&amp; n&lt;=9){ \n    NumeroLoto num = new NumeroLoto(n);\n    Nums.remove(0);\n    Nums.add(0, num);\n\n}\nelse if(Nums.get(1) == null &amp;&amp; n &gt;=10 &amp;&amp; n&lt;=19){\n    NumeroLoto num = new NumeroLoto(n);\n    Nums.remove(1);\n    Nums.add(1, num);\n\n}\n// ... and so on\n</code></pre>\n<p><strong>fourth issue</strong> in your <code>imprimeLinha</code> method check for null first (change condition of <code>if</code> and <code>else if</code>) to avoid <code>NullPointerException</code>. If <code>Nums.get(i)</code> is null you cann't call <code>Nums.get(i).getNumero()&gt;0</code> without an NPE</p>\n<pre><code>public void imprimeLinha(){\n    for(int i = 0; i&lt;9; i++){\n        if(Nums.get(i)== null){\n            System.out.println(&quot;:_:&quot;);\n        }\n        else if(Nums.get(i).getNumero()&gt;0){\n            System.out.println(&quot;:&quot;+Nums.get(i).getNumero()+&quot;:&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Fifth issue</strong> in all other metods add a null check in your if condition for the same reason as above</p>\n<pre><code>public void marcaNumeroAnunciado(int numero){\n    for(NumeroLoto n : Nums){\n        if(n != null &amp;&amp; n.getNumero()==numero){    // &lt;- n != null\n            n.setSaiu(true);\n        }\n    }\n}\n</code></pre>\n<p>For easier access your whole code modified:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\n/**\n * @author Nuno\n */\npublic class LinhaCartao {\n\n    ArrayList&lt;NumeroLoto&gt; Nums;\n    ArrayList&lt;Integer&gt; holder;\n\n    //1, 20, 45, 58, 71\n    public LinhaCartao(int n1, int n2, int n3, int n4, int n5) {\n        Nums = new ArrayList&lt;&gt;(Arrays.asList(null, null, null, null, null, null, null, null, null));\n        holder = new ArrayList&lt;&gt;();\n        holder.add(n1);\n        holder.add(n2);\n        holder.add(n3);\n        holder.add(n4);\n        holder.add(n5);\n        for (int n : holder) {\n            if (Nums.get(0) == null &amp;&amp; n &gt;= 1 &amp;&amp; n &lt;= 9) { \n                NumeroLoto num = new NumeroLoto(n);\n                Nums.remove(0);\n                Nums.add(0, num);\n\n            } else if (Nums.get(1) == null &amp;&amp; n &gt;= 10 &amp;&amp; n &lt;= 19) {\n                NumeroLoto num = new NumeroLoto(n);\n                Nums.remove(1);\n                Nums.add(1, num);\n\n            } else if (Nums.get(2) == null &amp;&amp; n &gt;= 20 &amp;&amp; n &lt;= 29) {\n                NumeroLoto num = new NumeroLoto(n);\n                Nums.remove(2);\n                Nums.add(2, num);\n\n            } else if (Nums.get(3) == null &amp;&amp; n &gt;= 30 &amp;&amp; n &lt;= 39) {\n                NumeroLoto num = new NumeroLoto(n);\n                Nums.remove(3);\n                Nums.add(3, num);\n\n            } else if (Nums.get(4) == null &amp;&amp; n &gt;= 40 &amp;&amp; n &lt;= 49) {\n                NumeroLoto num = new NumeroLoto(n);\n                Nums.remove(4);\n                Nums.add(4, num);\n\n            } else if (Nums.get(5) == null &amp;&amp; n &gt;= 50 &amp;&amp; n &lt;= 59) {\n                NumeroLoto num = new NumeroLoto(n);\n                Nums.remove(5);\n                Nums.add(5, num);\n\n            } else if (Nums.get(6) == null &amp;&amp; n &gt;= 60 &amp;&amp; n &lt;= 69) {\n                NumeroLoto num = new NumeroLoto(n);\n                Nums.remove(6);\n                Nums.add(6, num);\n\n            } else if (Nums.get(7) == null &amp;&amp; n &gt;= 70 &amp;&amp; n &lt;= 79) {\n                NumeroLoto num = new NumeroLoto(n);\n                Nums.remove(7);\n                Nums.add(7, num);\n\n            } else if (Nums.get(8) == null &amp;&amp; n &gt;= 80 &amp;&amp; n &lt;= 89) {\n                NumeroLoto num = new NumeroLoto(n);\n                Nums.remove(8);\n                Nums.add(8, num);\n\n            } else {\n                System.out.println(&quot;N invalido&quot;);\n            }\n        }\n    }\n\n    public void imprimeLinha() {\n        for (int i = 0; i &lt; 9; i++) {\n            if (Nums.get(i) == null) {\n                System.out.println(&quot;:_:&quot;);\n            } else if (Nums.get(i).getNumero() &gt; 0) {\n                System.out.println(&quot;:&quot; + Nums.get(i).getNumero() + &quot;:&quot;);\n            }\n        }\n    }\n\n    public void marcaNumeroAnunciado(int numero) {\n        for (NumeroLoto n : Nums) {\n            if (n != null &amp;&amp; n.getNumero() == numero) {\n                n.setSaiu(true);\n            }\n        }\n    }\n\n    public int quantosNumerosPorMarcar() {\n        int count = 0;\n        for (NumeroLoto n : Nums) {\n            if (n != null &amp;&amp; n.getEstado() == false) {\n                count++;\n            }\n        }\n        return count;\n    }\n\n    public boolean verificaLinhaCompleta() {\n        int count = 0;\n        for (NumeroLoto n : Nums) {\n            if (n != null &amp;&amp; n.getEstado() == true) {\n                count++;\n            }\n            if (count == 5) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public int limpaLinha() {\n        int count = 0;\n        for (NumeroLoto n : Nums) {\n            if (n != null &amp;&amp; n.getEstado() == true) {\n                count++;\n                Nums.remove(n);\n            }\n        }\n        return count;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657232912,"creation_date":1657232912,"answer_id":72904872,"question_id":72903316,"body_markdown":"As discussed in the [discussion chat][1] the constructor can be rewritten as this:\r\n\r\n    public LinhaCartao(int...holder) { ///... means there can be as many parameters as wanted (stored as array)\r\n    \tnums = new ArrayList&lt;&gt;(Arrays.asList(new Integer[9])); //list with the length of 9; default values are &#39;null&#39; \r\n\t\tfor (int n : holder) {\r\n\t\t\tint firstDigit = n / 10; //the int division by 10. So e.g. 24 / 5 = 2 and 67 / 10 = 6\r\n\t\t\tnums.set(firstDigit, n); //overrides the position in the list with the number n\r\n\t\t}\r\n    }\r\n\r\n\r\n  [1]: https://chat.stackoverflow.com/rooms/246256/discussion-between-japhei-and-nuno","title":"Arraylist index out of bounds in lotto ticket class","body":"<p>As discussed in the <a href=\"https://chat.stackoverflow.com/rooms/246256/discussion-between-japhei-and-nuno\">discussion chat</a> the constructor can be rewritten as this:</p>\n<pre><code>public LinhaCartao(int...holder) { ///... means there can be as many parameters as wanted (stored as array)\n    nums = new ArrayList&lt;&gt;(Arrays.asList(new Integer[9])); //list with the length of 9; default values are 'null' \n    for (int n : holder) {\n        int firstDigit = n / 10; //the int division by 10. So e.g. 24 / 5 = 2 and 67 / 10 = 6\n        nums.set(firstDigit, n); //overrides the position in the list with the number n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25703302,"reputation":53,"user_id":19463036,"display_name":"nuno"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72904036,"answer_count":2,"score":1,"last_activity_date":1657232912,"creation_date":1657222424,"question_id":72903316,"body_markdown":"I made a simple lottery game with 3 classes, one to create a lottery &quot;ticket&quot;, one to create the objects to put in said class and another to test things. In my lottery ticket class, the user inputs 5 numbers and these numbers are added to a holder list where there&#39;s then a verification of several conditions to see where to place the number in the arraylist but for some reason, I&#39;m getting an out of bound exception when I check index 1.\r\n\r\nLeaving all classes below along with stacktrace\r\n\r\n```\r\npackage jogoloto;\r\nimport java.util.ArrayList;\r\n\r\n/**\r\n *\r\n * @author Nuno\r\n */\r\npublic class LinhaCartao {\r\n    ArrayList&lt;NumeroLoto&gt; Nums;\r\n    ArrayList&lt;Integer&gt; holder;\r\n\r\n    public LinhaCartao(int n1, int n2, int n3, int n4, int n5) {\r\n        Nums = new ArrayList&lt;&gt;(9);\r\n        holder = new ArrayList&lt;&gt;();\r\n        holder.add(n1);\r\n        holder.add(n2);\r\n        holder.add(n3);\r\n        holder.add(n4);\r\n        holder.add(n5);\r\n            for(int n : holder){ \r\n                if(Nums.isEmpty() &amp;&amp; n &gt;=1 &amp;&amp; n&lt;=9 || \r\nNums.get(0) == null &amp;&amp; n &gt;=1 &amp;&amp; n&lt;=9){\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.add(0,num);\r\n                    \r\n                }\r\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=10 &amp;&amp; n&lt;=19 || \r\nNums.get(1) == null &amp;&amp; n &gt;=10 &amp;&amp; n&lt;=19){ //EXCEPTION HERE\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.add(1,num);\r\n                    \r\n                }\r\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=20 &amp;&amp; n&lt;=29 ||\r\nNums.get(2) == null &amp;&amp; n &gt;=20 &amp;&amp; n&lt;=29){\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.add(2,num);\r\n                    \r\n                }\r\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=30 &amp;&amp; n&lt;=39 || \r\nNums.get(3) == null &amp;&amp; n &gt;=30 &amp;&amp; n&lt;=39){\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.add(3,num);\r\n                    \r\n                }\r\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=40 &amp;&amp; n&lt;=49 || \r\nNums.get(4) == null &amp;&amp; n &gt;=40 &amp;&amp; n&lt;=49){\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.add(4,num);\r\n                    \r\n                }\r\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=50 &amp;&amp; n&lt;=59 || \r\nNums.get(5) == null &amp;&amp; n &gt;=50 &amp;&amp; n&lt;=59){\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.add(5,num);\r\n                    \r\n                }\r\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=60 &amp;&amp; n&lt;=69 || \r\nNums.get(6) == null &amp;&amp; n &gt;=60 &amp;&amp; n&lt;=69){\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.add(6,num);\r\n                    \r\n                }\r\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=70 &amp;&amp; n&lt;=79 || \r\nNums.get(7) == null &amp;&amp; n &gt;=70 &amp;&amp; n&lt;=79){\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.add(7,num);\r\n                    \r\n                }\r\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=80 &amp;&amp; n&lt;=89 || \r\nNums.get(8) == null &amp;&amp; n &gt;=80 &amp;&amp; n&lt;=89){\r\n                    NumeroLoto num = new NumeroLoto(n);\r\n                    Nums.add(8,num);\r\n                    \r\n                }\r\n                else System.out.println(&quot;N invalido&quot;);    \r\n            }\r\n    }\r\n    \r\n    public void imprimeLinha(){\r\n        for(int i = 0; i&lt;9; i++){\r\n            if(Nums.get(i).getNumero()&gt;0){\r\n                System.out.println(&quot;:&quot;+Nums.get(i).getNumero()+&quot;:&quot;);\r\n            }\r\n            else if(Nums.get(i)== null){\r\n                System.out.println(&quot;:_:&quot;);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public void marcaNumeroAnunciado(int numero){\r\n        for(NumeroLoto n : Nums){\r\n            if(n.getNumero()==numero){\r\n                n.setSaiu(true);\r\n            }\r\n        }\r\n    }\r\n    \r\n    public int quantosNumerosPorMarcar(){\r\n        int count = 0;\r\n        for(NumeroLoto n : Nums){\r\n            if(n.getEstado()==false){\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n    \r\n    public boolean verificaLinhaCompleta(){\r\n        int count = 0;\r\n        for(NumeroLoto n : Nums){\r\n            if(n.getEstado()==true){\r\n                count++;\r\n            }\r\n            if(count==5){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    public int limpaLinha(){\r\n        int count = 0;\r\n        for(NumeroLoto n : Nums){\r\n            if(n.getEstado()==true){\r\n                count++;\r\n                Nums.remove(n);\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage jogoloto;\r\n\r\n/**\r\n *\r\n * @author Nuno\r\n */\r\npublic class NumeroLoto {\r\n    int numero;\r\n    public boolean saiu;\r\n\r\n    public NumeroLoto(int numero) {\r\n        this.numero = numero;\r\n        saiu = false;\r\n    }\r\n\r\n    public int getNumero() {\r\n        return numero;\r\n    }\r\n    \r\n    public boolean getEstado(){\r\n        return saiu;\r\n    }\r\n\r\n    public void setSaiu(boolean saiu) {\r\n        this.saiu = saiu;\r\n    }  \r\n}\r\n\r\n```\r\n\r\n```\r\npublic class JogoLoto {\r\n\r\n    public static void main(String[] args) {\r\n        LinhaCartao l = new LinhaCartao(1, 20, 45, 58, 71); //EXCEPTION WHEN I CALL CONSTRUCTOR\r\n        l.imprimeLinha();\r\n        l.quantosNumerosPorMarcar();\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nstacktrace: \r\n\r\n```\r\n\r\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\r\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\r\n\tat java.base/java.util.Objects.checkIndex(Objects.java:359)\r\n\tat java.base/java.util.ArrayList.get(ArrayList.java:427)\r\n\tat jogoloto.LinhaCartao.&lt;init&gt;(LinhaCartao.java:30)\r\n\tat jogoloto.JogoLoto.main(JogoLoto.java:14)\r\nC:\\Users\\Nuno\\AppData\\Local\\NetBeans\\Cache\\14\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\r\nC:\\Users\\Nuno\\AppData\\Local\\NetBeans\\Cache\\14\\executor-snippets\\run.xml:68: Java returned: 1\r\nBUILD FAILED (total time: 0 seconds)","title":"Arraylist index out of bounds in lotto ticket class","body":"<p>I made a simple lottery game with 3 classes, one to create a lottery &quot;ticket&quot;, one to create the objects to put in said class and another to test things. In my lottery ticket class, the user inputs 5 numbers and these numbers are added to a holder list where there's then a verification of several conditions to see where to place the number in the arraylist but for some reason, I'm getting an out of bound exception when I check index 1.</p>\n<p>Leaving all classes below along with stacktrace</p>\n<pre><code>package jogoloto;\nimport java.util.ArrayList;\n\n/**\n *\n * @author Nuno\n */\npublic class LinhaCartao {\n    ArrayList&lt;NumeroLoto&gt; Nums;\n    ArrayList&lt;Integer&gt; holder;\n\n    public LinhaCartao(int n1, int n2, int n3, int n4, int n5) {\n        Nums = new ArrayList&lt;&gt;(9);\n        holder = new ArrayList&lt;&gt;();\n        holder.add(n1);\n        holder.add(n2);\n        holder.add(n3);\n        holder.add(n4);\n        holder.add(n5);\n            for(int n : holder){ \n                if(Nums.isEmpty() &amp;&amp; n &gt;=1 &amp;&amp; n&lt;=9 || \nNums.get(0) == null &amp;&amp; n &gt;=1 &amp;&amp; n&lt;=9){\n                    NumeroLoto num = new NumeroLoto(n);\n                    Nums.add(0,num);\n                    \n                }\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=10 &amp;&amp; n&lt;=19 || \nNums.get(1) == null &amp;&amp; n &gt;=10 &amp;&amp; n&lt;=19){ //EXCEPTION HERE\n                    NumeroLoto num = new NumeroLoto(n);\n                    Nums.add(1,num);\n                    \n                }\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=20 &amp;&amp; n&lt;=29 ||\nNums.get(2) == null &amp;&amp; n &gt;=20 &amp;&amp; n&lt;=29){\n                    NumeroLoto num = new NumeroLoto(n);\n                    Nums.add(2,num);\n                    \n                }\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=30 &amp;&amp; n&lt;=39 || \nNums.get(3) == null &amp;&amp; n &gt;=30 &amp;&amp; n&lt;=39){\n                    NumeroLoto num = new NumeroLoto(n);\n                    Nums.add(3,num);\n                    \n                }\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=40 &amp;&amp; n&lt;=49 || \nNums.get(4) == null &amp;&amp; n &gt;=40 &amp;&amp; n&lt;=49){\n                    NumeroLoto num = new NumeroLoto(n);\n                    Nums.add(4,num);\n                    \n                }\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=50 &amp;&amp; n&lt;=59 || \nNums.get(5) == null &amp;&amp; n &gt;=50 &amp;&amp; n&lt;=59){\n                    NumeroLoto num = new NumeroLoto(n);\n                    Nums.add(5,num);\n                    \n                }\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=60 &amp;&amp; n&lt;=69 || \nNums.get(6) == null &amp;&amp; n &gt;=60 &amp;&amp; n&lt;=69){\n                    NumeroLoto num = new NumeroLoto(n);\n                    Nums.add(6,num);\n                    \n                }\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=70 &amp;&amp; n&lt;=79 || \nNums.get(7) == null &amp;&amp; n &gt;=70 &amp;&amp; n&lt;=79){\n                    NumeroLoto num = new NumeroLoto(n);\n                    Nums.add(7,num);\n                    \n                }\n                else if(Nums.isEmpty() &amp;&amp; n &gt;=80 &amp;&amp; n&lt;=89 || \nNums.get(8) == null &amp;&amp; n &gt;=80 &amp;&amp; n&lt;=89){\n                    NumeroLoto num = new NumeroLoto(n);\n                    Nums.add(8,num);\n                    \n                }\n                else System.out.println(&quot;N invalido&quot;);    \n            }\n    }\n    \n    public void imprimeLinha(){\n        for(int i = 0; i&lt;9; i++){\n            if(Nums.get(i).getNumero()&gt;0){\n                System.out.println(&quot;:&quot;+Nums.get(i).getNumero()+&quot;:&quot;);\n            }\n            else if(Nums.get(i)== null){\n                System.out.println(&quot;:_:&quot;);\n            }\n        }\n    }\n    \n    public void marcaNumeroAnunciado(int numero){\n        for(NumeroLoto n : Nums){\n            if(n.getNumero()==numero){\n                n.setSaiu(true);\n            }\n        }\n    }\n    \n    public int quantosNumerosPorMarcar(){\n        int count = 0;\n        for(NumeroLoto n : Nums){\n            if(n.getEstado()==false){\n                count++;\n            }\n        }\n        return count;\n    }\n    \n    public boolean verificaLinhaCompleta(){\n        int count = 0;\n        for(NumeroLoto n : Nums){\n            if(n.getEstado()==true){\n                count++;\n            }\n            if(count==5){\n                return true;\n            }\n        }\n        return false;\n    }\n    \n    public int limpaLinha(){\n        int count = 0;\n        for(NumeroLoto n : Nums){\n            if(n.getEstado()==true){\n                count++;\n                Nums.remove(n);\n            }\n        }\n        return count;\n    }\n}\n\n</code></pre>\n<pre><code>package jogoloto;\n\n/**\n *\n * @author Nuno\n */\npublic class NumeroLoto {\n    int numero;\n    public boolean saiu;\n\n    public NumeroLoto(int numero) {\n        this.numero = numero;\n        saiu = false;\n    }\n\n    public int getNumero() {\n        return numero;\n    }\n    \n    public boolean getEstado(){\n        return saiu;\n    }\n\n    public void setSaiu(boolean saiu) {\n        this.saiu = saiu;\n    }  \n}\n\n</code></pre>\n<pre><code>public class JogoLoto {\n\n    public static void main(String[] args) {\n        LinhaCartao l = new LinhaCartao(1, 20, 45, 58, 71); //EXCEPTION WHEN I CALL CONSTRUCTOR\n        l.imprimeLinha();\n        l.quantosNumerosPorMarcar();\n    }\n    \n}\n\n</code></pre>\n<p>stacktrace:</p>\n<pre><code>\nException in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index 1 out of bounds for length 1\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\n    at java.base/java.util.Objects.checkIndex(Objects.java:359)\n    at java.base/java.util.ArrayList.get(ArrayList.java:427)\n    at jogoloto.LinhaCartao.&lt;init&gt;(LinhaCartao.java:30)\n    at jogoloto.JogoLoto.main(JogoLoto.java:14)\nC:\\Users\\Nuno\\AppData\\Local\\NetBeans\\Cache\\14\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\nC:\\Users\\Nuno\\AppData\\Local\\NetBeans\\Cache\\14\\executor-snippets\\run.xml:68: Java returned: 1\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n"},{"tags":["java","android","stax","microsoft-graph-api"],"owner":{"account_id":25754163,"reputation":21,"user_id":19506161,"display_name":"Joshua Lewis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657232709,"creation_date":1657232709,"question_id":72904852,"body_markdown":"The problem occurs within the XmlFactory java file from com.fasterxml.jackson.dataformat\r\nThis is being used by the the MSGraph sdk for Java https://github.com/microsoftgraph/msgraph-sdk-java\r\n\r\nI am trying to use it to send emails but get the following runtime error\r\n\r\n```Caused by: java.lang.NoSuchMethodError: No static method newFactory(Ljava/lang/String;Ljava/lang/ClassLoader;)Ljavax/xml/stream/XMLInputFactory; in class Ljavax/xml/stream/XMLInputFactory; or its super classes```\r\n\r\nAfter some investigating it seems that the XMLInputFactory and XMLOutputFactory comes from an older version (stax:stax-api:1.0.1 I think according to the gradle dependency tree) before newFactory replaced newInstance\r\nHence why the newFactory method cannot be resolved\r\n\r\nThough I could be missing something I believe that this is the where the problem is, just that I don&#39;t know how to fix it.\r\n\r\n\r\n\r\nHere is my build.gradle\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.organisation.appname&quot;\r\n        minSdk 26\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\n    packagingOptions {\r\n        exclude &#39;project.properties&#39;\r\n        exclude &#39;META-INF/INDEX.LIST&#39;\r\n        exclude &#39;META-INF/DEPENDENCIES&#39;\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n        exclude &#39;META-INF/LICENSE.txt&#39;\r\n        exclude &#39;META-INF/license.txt&#39;\r\n        exclude &#39;META-INF/NOTICE&#39;\r\n        exclude &#39;META-INF/NOTICE.txt&#39;\r\n        exclude &#39;META-INF/notice.txt&#39;\r\n        exclude &#39;META-INF/ASL2.0&#39;\r\n        exclude &#39;META-INF/AL2.0&#39;\r\n        exclude &#39;META-INF/LGPL2.1&#39;\r\n        exclude &#39;META-INF/io.netty.versions.properties&#39;\r\n\r\n        //pickFirst &#39;META-INF/services/javax.xml.stream.XMLInputFactory&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    //implementation &#39;javax.xml.stream:stax-api:1.0&#39;\r\n    //implementation &#39;stax:stax:1.2.0&#39;\r\n    implementation fileTree(include: [&#39;*.aar&#39;], dir: &#39;libs&#39;)\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.2&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n    implementation(&#39;com.microsoft.graph:microsoft-graph:5.29.0&#39;) {\r\n        //exclude group: &quot;stax&quot;, module: &quot;stax&quot;\r\n        //exclude group: &quot;stax&quot;, module: &quot;stax-api&quot;\r\n    }\r\n    implementation &#39;com.google.guava:guava:30.1.1-android&#39;\r\n    implementation(&#39;com.azure:azure-identity:1.2.5&#39;) {\r\n        //exclude group: &quot;stax&quot;, module: &quot;stax&quot;\r\n        //exclude group: &quot;stax&quot;, module: &quot;stax-api&quot;\r\n    }\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:1.5.31&quot;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```\r\n\r\nThough I believe the problem is as mentioned above, here is some other potentially relevant information.\r\nThe error occurs when calling \r\n\r\n```\r\n\r\nthis.interactiveBrowserCredential = new InteractiveBrowserCredentialBuilder()\r\n            .clientId(clientId)\r\n            .redirectUrl(myRedirectURL)\r\n            .build();\r\n\r\n```\r\n\r\nHere is the relevant section of my code\r\n\r\n```\r\npublic Emailing() {\r\n        this.interactiveBrowserCredential = new InteractiveBrowserCredentialBuilder()\r\n            .clientId(clientId)\r\n            .redirectUrl(myRedirectURL)\r\n            .build();\r\n\r\n        this.tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, interactiveBrowserCredential);\r\n\r\n        this.graphClient = GraphServiceClient\r\n            .builder()\r\n            .authenticationProvider(tokenCredentialAuthProvider)\r\n            .buildClient();\r\n}\r\n\r\npublic void emailForVisitorArrival(String name, String purpose, List&lt;String&gt; recipients) {\r\n        Date timestamp = Calendar.getInstance().getTime();\r\n        String timestampText = (String) DateFormat.format(&quot;dd MMM yyyy | hh:mm a&quot;, timestamp);\r\n\r\n        Message message = new Message();\r\n        message.subject = name + &quot; has arrived.&quot;;\r\n        ItemBody body = new ItemBody();\r\n        body.contentType = BodyType.TEXT;\r\n        body.content = myEmailContent;\r\n        message.body = body;\r\n        LinkedList&lt;Recipient&gt; toRecipientsList = new LinkedList&lt;Recipient&gt;();\r\n        Recipient toRecipients = new Recipient();\r\n        for (String recipient: recipients) {\r\n            EmailAddress emailAddress = new EmailAddress();\r\n            emailAddress.address = recipient;\r\n            toRecipients.emailAddress = emailAddress;\r\n            toRecipientsList.add(toRecipients);\r\n            message.toRecipients = toRecipientsList;\r\n        }\r\n\r\n        graphClient.me()\r\n                .sendMail(UserSendMailParameterSet\r\n                        .newBuilder()\r\n                        .withMessage(message)\r\n                        .withSaveToSentItems(false)\r\n                        .build())\r\n                .buildRequest()\r\n                .post();\r\n}\r\n```\r\n\r\nI have tried the commented out lines in the build.gradle\r\n\r\nThank you for any help you can give me, let me know id more information is required and I will update the question.","title":"Cannot resolve method &#39;newFactory&#39; in XMLInputFactory MSGraph","body":"<p>The problem occurs within the XmlFactory java file from com.fasterxml.jackson.dataformat\nThis is being used by the the MSGraph sdk for Java <a href=\"https://github.com/microsoftgraph/msgraph-sdk-java\" rel=\"nofollow noreferrer\">https://github.com/microsoftgraph/msgraph-sdk-java</a></p>\n<p>I am trying to use it to send emails but get the following runtime error</p>\n<p><code>Caused by: java.lang.NoSuchMethodError: No static method newFactory(Ljava/lang/String;Ljava/lang/ClassLoader;)Ljavax/xml/stream/XMLInputFactory; in class Ljavax/xml/stream/XMLInputFactory; or its super classes</code></p>\n<p>After some investigating it seems that the XMLInputFactory and XMLOutputFactory comes from an older version (stax:stax-api:1.0.1 I think according to the gradle dependency tree) before newFactory replaced newInstance\nHence why the newFactory method cannot be resolved</p>\n<p>Though I could be missing something I believe that this is the where the problem is, just that I don't know how to fix it.</p>\n<p>Here is my build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.organisation.appname&quot;\n        minSdk 26\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n\n    packagingOptions {\n        exclude 'project.properties'\n        exclude 'META-INF/INDEX.LIST'\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/license.txt'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/notice.txt'\n        exclude 'META-INF/ASL2.0'\n        exclude 'META-INF/AL2.0'\n        exclude 'META-INF/LGPL2.1'\n        exclude 'META-INF/io.netty.versions.properties'\n\n        //pickFirst 'META-INF/services/javax.xml.stream.XMLInputFactory'\n    }\n}\n\ndependencies {\n    //implementation 'javax.xml.stream:stax-api:1.0'\n    //implementation 'stax:stax:1.2.0'\n    implementation fileTree(include: ['*.aar'], dir: 'libs')\n    implementation 'androidx.appcompat:appcompat:1.4.2'\n    implementation 'com.google.android.material:material:1.6.1'\n    implementation('com.microsoft.graph:microsoft-graph:5.29.0') {\n        //exclude group: &quot;stax&quot;, module: &quot;stax&quot;\n        //exclude group: &quot;stax&quot;, module: &quot;stax-api&quot;\n    }\n    implementation 'com.google.guava:guava:30.1.1-android'\n    implementation('com.azure:azure-identity:1.2.5') {\n        //exclude group: &quot;stax&quot;, module: &quot;stax&quot;\n        //exclude group: &quot;stax&quot;, module: &quot;stax-api&quot;\n    }\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:1.5.31&quot;\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>Though I believe the problem is as mentioned above, here is some other potentially relevant information.\nThe error occurs when calling</p>\n<pre><code>\nthis.interactiveBrowserCredential = new InteractiveBrowserCredentialBuilder()\n            .clientId(clientId)\n            .redirectUrl(myRedirectURL)\n            .build();\n\n</code></pre>\n<p>Here is the relevant section of my code</p>\n<pre><code>public Emailing() {\n        this.interactiveBrowserCredential = new InteractiveBrowserCredentialBuilder()\n            .clientId(clientId)\n            .redirectUrl(myRedirectURL)\n            .build();\n\n        this.tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, interactiveBrowserCredential);\n\n        this.graphClient = GraphServiceClient\n            .builder()\n            .authenticationProvider(tokenCredentialAuthProvider)\n            .buildClient();\n}\n\npublic void emailForVisitorArrival(String name, String purpose, List&lt;String&gt; recipients) {\n        Date timestamp = Calendar.getInstance().getTime();\n        String timestampText = (String) DateFormat.format(&quot;dd MMM yyyy | hh:mm a&quot;, timestamp);\n\n        Message message = new Message();\n        message.subject = name + &quot; has arrived.&quot;;\n        ItemBody body = new ItemBody();\n        body.contentType = BodyType.TEXT;\n        body.content = myEmailContent;\n        message.body = body;\n        LinkedList&lt;Recipient&gt; toRecipientsList = new LinkedList&lt;Recipient&gt;();\n        Recipient toRecipients = new Recipient();\n        for (String recipient: recipients) {\n            EmailAddress emailAddress = new EmailAddress();\n            emailAddress.address = recipient;\n            toRecipients.emailAddress = emailAddress;\n            toRecipientsList.add(toRecipients);\n            message.toRecipients = toRecipientsList;\n        }\n\n        graphClient.me()\n                .sendMail(UserSendMailParameterSet\n                        .newBuilder()\n                        .withMessage(message)\n                        .withSaveToSentItems(false)\n                        .build())\n                .buildRequest()\n                .post();\n}\n</code></pre>\n<p>I have tried the commented out lines in the build.gradle</p>\n<p>Thank you for any help you can give me, let me know id more information is required and I will update the question.</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657233852,"post_id":72904822,"comment_id":128769130,"body_markdown":"What is the problem with that? Is this problem related to the type of annotation you use or is the question about if there can be an annotation at all or how to access it?","body":"What is the problem with that? Is this problem related to the type of annotation you use or is the question about if there can be an annotation at all or how to access it?"},{"owner":{"account_id":24305602,"reputation":53,"user_id":18248397,"display_name":"YasudaYutaka"},"score":0,"creation_date":1657234478,"post_id":72904822,"comment_id":128769227,"body_markdown":"I have some test classes that need the testService to be Autowired, but some other classes (inside Nested) need it to be MockBean.","body":"I have some test classes that need the testService to be Autowired, but some other classes (inside Nested) need it to be MockBean."}],"owner":{"account_id":24305602,"reputation":53,"user_id":18248397,"display_name":"YasudaYutaka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657232464,"creation_date":1657232464,"question_id":72904822,"body_markdown":"I have a Service with @Autowired, but I want to change the annotation to @MockBean inside a @Nested class, is it possible? \r\nI tried this, but it didnt work\r\n```\r\npublic class SessionTokenServiceTest extends AbstractBaseTest {\r\n   @Autowired\r\n   private TestService testService;\r\n\r\n   @Nested\r\n   class nestedClass {\r\n      @MockBean\r\n      private TestService testService;\r\n   }\r\n}\r\n```\r\n","title":"Is it possible to change an annotation inside @Nested?","body":"<p>I have a Service with @Autowired, but I want to change the annotation to @MockBean inside a @Nested class, is it possible?\nI tried this, but it didnt work</p>\n<pre><code>public class SessionTokenServiceTest extends AbstractBaseTest {\n   @Autowired\n   private TestService testService;\n\n   @Nested\n   class nestedClass {\n      @MockBean\n      private TestService testService;\n   }\n}\n</code></pre>\n"},{"tags":["java","jakarta-mail","jprogressbar"],"comments":[{"owner":{"account_id":3899650,"reputation":1514,"user_id":3227787,"display_name":"Bruno Toffolo"},"score":1,"creation_date":1391007636,"post_id":21434668,"comment_id":32339906,"body_markdown":"Take a look at [JProgressBar documentation](http://docs.oracle.com/javase/7/docs/api/javax/swing/JProgressBar.html) and in [this usage example](http://docs.oracle.com/javase/tutorial/uiswing/components/progress.html). Please add some code snippets to your post so we can see what you&#39;ve done so far and where, exactly, your question is.","body":"Take a look at <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JProgressBar.html\" rel=\"nofollow noreferrer\">JProgressBar documentation</a> and in <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/progress.html\" rel=\"nofollow noreferrer\">this usage example</a>. Please add some code snippets to your post so we can see what you&#39;ve done so far and where, exactly, your question is."},{"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"score":1,"creation_date":1391007663,"post_id":21434668,"comment_id":32339929,"body_markdown":"Please learn about `SwingWorker` and how to handle background tasks progress","body":"Please learn about <code>SwingWorker</code> and how to handle background tasks progress"}],"answers":[{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391056182,"creation_date":1391056182,"answer_id":21447838,"question_id":21434668,"body_markdown":"If you have a Java application using Swing and JavaMail, and you want a progress bar when the message is being sent to the mail server, that&#39;s difficult.  There&#39;s nothing that will tell you how much of the message (or the file attachment part of the message) has been sent to the mail server.  You can have a progress bar that say &quot;I&#39;m working&quot;, but you can&#39;t (easily) have a progress bar that says &quot;N% done&quot;.\r\n\r\nIf you have a Java application running in a server, and you&#39;re uploading the file attachment from the browser, and you want a progress dialog while the file upload is running, you can probably do that using JavaScript in the browser.","title":"Add jProgressBar to Java mail application","body":"<p>If you have a Java application using Swing and JavaMail, and you want a progress bar when the message is being sent to the mail server, that's difficult.  There's nothing that will tell you how much of the message (or the file attachment part of the message) has been sent to the mail server.  You can have a progress bar that say \"I'm working\", but you can't (easily) have a progress bar that says \"N% done\".</p>\n\n<p>If you have a Java application running in a server, and you're uploading the file attachment from the browser, and you want a progress dialog while the file upload is running, you can probably do that using JavaScript in the browser.</p>\n"}],"owner":{"account_id":3858871,"reputation":41,"user_id":3197079,"display_name":"realProgrammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657232261,"creation_date":1391007420,"question_id":21434668,"body_markdown":"I&#39;m trying develop a Java application for sending email. I&#39;m using Java mail. I want to add file attachment option for this application. I did it. But now I need to add a jProgressBar to this application for viewing attachment uploading progress. I haven&#39;t idea about adding a jPogressBar to viewing uploading progress.","title":"Add jProgressBar to Java mail application","body":"<p>I'm trying develop a Java application for sending email. I'm using Java mail. I want to add file attachment option for this application. I did it. But now I need to add a jProgressBar to this application for viewing attachment uploading progress. I haven't idea about adding a jPogressBar to viewing uploading progress.</p>\n"},{"tags":["java","list","arraylist","java-stream","comparator"],"answers":[{"tags":[],"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657220928,"creation_date":1657220928,"answer_id":72903070,"question_id":72902978,"body_markdown":"You can simply add [`thenComparing()`][1] to your comparator to compare by both `date` and `time`:\r\n\r\n    Comparator&lt;Employee&gt; employeeComparator = Comparator\r\n        .comparing(Employee::getDate)\r\n        .thenComparing(Employee::getTime);\r\n\r\nKind of self-explanatory, it would sort by `date` and then by `time` if two dates are identical.\r\n\r\nYou are correct that if you omit this, you shouldn&#39;t make any assumptions on which of the two elements having `&quot;2022-07-07&quot;` you would get.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.Comparator)","title":"Java Stream: Find the Max element based on Two properties","body":"<p>You can simply add <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>thenComparing()</code></a> to your comparator to compare by both <code>date</code> and <code>time</code>:</p>\n<pre><code>Comparator&lt;Employee&gt; employeeComparator = Comparator\n    .comparing(Employee::getDate)\n    .thenComparing(Employee::getTime);\n</code></pre>\n<p>Kind of self-explanatory, it would sort by <code>date</code> and then by <code>time</code> if two dates are identical.</p>\n<p>You are correct that if you omit this, you shouldn't make any assumptions on which of the two elements having <code>&quot;2022-07-07&quot;</code> you would get.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657231735,"creation_date":1657222229,"answer_id":72903279,"question_id":72902978,"body_markdown":"Never use strings to represent date-time information. Instead, use Java 8 classes from `java.time` package like [`LocalDateTime`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html).\r\n\r\nAssuming that `Employee` is reimplemented like that:\r\n```\r\npublic class Employee {\r\n    private String name;\r\n    private LocalDateTime date;\r\n    \r\n    // constructor, getters, etc.\r\n}\r\n```\r\nThe *comparator* would be:\r\n```\r\nComparator&lt;Employee&gt; byDate = Comparator.comparing(Employee::getDate);\r\n```\r\n\r\nIt happens to be the same as you&#39;ve written, and since your original question was how to create a comparator based on more than one attribute, here is another example:\r\n```\r\npublic static final Comparator&lt;Employee&gt; BY_NAME_DATE =\r\n    Comparator.comparing(Employee::getName)\r\n        .thenComparing(Employee::getDate);\r\n```\r\nYou can declare *comparators* for a class that has no *natural order* right inside this class as `public static` field and use whenever you need them, instead of creating a new *comparator* on the spot each time.\r\n\r\nWith Java 8 a lot of handy static methods were introduced in the `Comparator` interface. You can chain these methods in a fluent way because they all give you a *new comparator*. To combine two comparators, you can use methods like `thenComparing()` and `thenComparingInt()`. To learn how to build comparators using Java-8 methods, have a look at [*this tutorial*](https://www.baeldung.com/java-8-comparator-comparing).\r\n\r\n***Note*** that there could be some intricate cases related to how the *type inference* works in Java, so I&#39;m also suggesting reading [*this question*](https://stackoverflow.com/q/24436871/17949945).\r\n\r\n&gt; I&#39;m not sure if duplicates dates can be a problem\r\n\r\nThere would be no problem with employees having identical latest date-time information associated with them, since you want to get the first encountered element. The problem can occur if there&#39;s no data in the stream at all.\r\n\r\nThat leads to the second suggestion - avoid invoking `get()` on the optional object, unless you didn&#39;t check the presence of the result (which in many cases is inconvenient and if you&#39;re finding yourself performing this check that might indicate that you&#39;re not leveraging `Optional` API to its full power). \r\n\r\nIf you have a look at the documentation of Java 10 and above, you&#39;ll see the following API note in the description of [`get()`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#get()):\r\n\r\n&gt; The preferred alternative to this method is `orElseThrow()`.\r\n\r\nMethod `get()` will produce `NoSuchElementException` in case of the empty optional, if you&#39;re OK with such outcome then apply [`orElseThrow()`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseThrow()) instead, it acts in the same way and makes your intention obvious to the reader of the code.\r\n\r\nThis method also has an overloaded version which allows you to specify the type of exception to throw.\r\n\r\n```\r\nEmployee emp = getEmployeeList().stream()\r\n    .max(byDate)\r\n    .orElseThrow();\r\n``` \r\n\r\nYou&#39;re not limited to using the methods mentioned above, `Optional` offers you other possibilities, for instance, you can provide a default value using [`orElse()`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElse(T)).","title":"Java Stream: Find the Max element based on Two properties","body":"<p>Never use strings to represent date-time information. Instead, use Java 8 classes from <code>java.time</code> package like <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a>.</p>\n<p>Assuming that <code>Employee</code> is reimplemented like that:</p>\n<pre><code>public class Employee {\n    private String name;\n    private LocalDateTime date;\n    \n    // constructor, getters, etc.\n}\n</code></pre>\n<p>The <em>comparator</em> would be:</p>\n<pre><code>Comparator&lt;Employee&gt; byDate = Comparator.comparing(Employee::getDate);\n</code></pre>\n<p>It happens to be the same as you've written, and since your original question was how to create a comparator based on more than one attribute, here is another example:</p>\n<pre><code>public static final Comparator&lt;Employee&gt; BY_NAME_DATE =\n    Comparator.comparing(Employee::getName)\n        .thenComparing(Employee::getDate);\n</code></pre>\n<p>You can declare <em>comparators</em> for a class that has no <em>natural order</em> right inside this class as <code>public static</code> field and use whenever you need them, instead of creating a new <em>comparator</em> on the spot each time.</p>\n<p>With Java 8 a lot of handy static methods were introduced in the <code>Comparator</code> interface. You can chain these methods in a fluent way because they all give you a <em>new comparator</em>. To combine two comparators, you can use methods like <code>thenComparing()</code> and <code>thenComparingInt()</code>. To learn how to build comparators using Java-8 methods, have a look at <a href=\"https://www.baeldung.com/java-8-comparator-comparing\" rel=\"nofollow noreferrer\"><em>this tutorial</em></a>.</p>\n<p><em><strong>Note</strong></em> that there could be some intricate cases related to how the <em>type inference</em> works in Java, so I'm also suggesting reading <a href=\"https://stackoverflow.com/q/24436871/17949945\"><em>this question</em></a>.</p>\n<blockquote>\n<p>I'm not sure if duplicates dates can be a problem</p>\n</blockquote>\n<p>There would be no problem with employees having identical latest date-time information associated with them, since you want to get the first encountered element. The problem can occur if there's no data in the stream at all.</p>\n<p>That leads to the second suggestion - avoid invoking <code>get()</code> on the optional object, unless you didn't check the presence of the result (which in many cases is inconvenient and if you're finding yourself performing this check that might indicate that you're not leveraging <code>Optional</code> API to its full power).</p>\n<p>If you have a look at the documentation of Java 10 and above, you'll see the following API note in the description of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#get()\" rel=\"nofollow noreferrer\"><code>get()</code></a>:</p>\n<blockquote>\n<p>The preferred alternative to this method is <code>orElseThrow()</code>.</p>\n</blockquote>\n<p>Method <code>get()</code> will produce <code>NoSuchElementException</code> in case of the empty optional, if you're OK with such outcome then apply <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseThrow()\" rel=\"nofollow noreferrer\"><code>orElseThrow()</code></a> instead, it acts in the same way and makes your intention obvious to the reader of the code.</p>\n<p>This method also has an overloaded version which allows you to specify the type of exception to throw.</p>\n<pre><code>Employee emp = getEmployeeList().stream()\n    .max(byDate)\n    .orElseThrow();\n</code></pre>\n<p>You're not limited to using the methods mentioned above, <code>Optional</code> offers you other possibilities, for instance, you can provide a default value using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElse(T)\" rel=\"nofollow noreferrer\"><code>orElse()</code></a>.</p>\n"}],"owner":{"account_id":17930665,"reputation":107,"user_id":13028173,"display_name":"acG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1657231735,"creation_date":1657220469,"question_id":72902978,"body_markdown":"I have a List of objects that have this structure\r\n```\r\nList&lt;Employee&gt; empList = new ArrayList&lt;&gt;();\r\n\r\nempList.add(new Employee(1, &quot;2022-07-07&quot;, &quot;15:31&quot;));\r\nempList.add(new Employee(2, &quot;2022-07-07&quot;, &quot;12:15&quot;));\r\nempList.add(new Employee(3, &quot;2021-04-05&quot;, &quot;20:55&quot;));\r\nempList.add(new Employee(4, &quot;2021-03-05&quot;, &quot;17:14&quot;));\r\n```\r\nIs it possible to use Stream API to find the object with the latest *date* and *time*? In this case, I would get the **first object**.\r\n\r\nI know that it is possible to do this, but in this case I&#39;m only filtering by date, and I&#39;m not sure if duplicates dates can be a problem. \r\n```\r\nComparator&lt;Employee&gt; employeeComparator = \r\n    Comparator.comparing(Employee::getDate);\r\n \r\nEmployee emp = getEmployeeList().stream()\r\n    .max(employeeComparator)\r\n    .get();\r\n```","title":"Java Stream: Find the Max element based on Two properties","body":"<p>I have a List of objects that have this structure</p>\n<pre><code>List&lt;Employee&gt; empList = new ArrayList&lt;&gt;();\n\nempList.add(new Employee(1, &quot;2022-07-07&quot;, &quot;15:31&quot;));\nempList.add(new Employee(2, &quot;2022-07-07&quot;, &quot;12:15&quot;));\nempList.add(new Employee(3, &quot;2021-04-05&quot;, &quot;20:55&quot;));\nempList.add(new Employee(4, &quot;2021-03-05&quot;, &quot;17:14&quot;));\n</code></pre>\n<p>Is it possible to use Stream API to find the object with the latest <em>date</em> and <em>time</em>? In this case, I would get the <strong>first object</strong>.</p>\n<p>I know that it is possible to do this, but in this case I'm only filtering by date, and I'm not sure if duplicates dates can be a problem.</p>\n<pre><code>Comparator&lt;Employee&gt; employeeComparator = \n    Comparator.comparing(Employee::getDate);\n \nEmployee emp = getEmployeeList().stream()\n    .max(employeeComparator)\n    .get();\n</code></pre>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1657238250,"post_id":72904671,"comment_id":128769826,"body_markdown":"JavaFX used to be included with **Oracle&#39;s** distribution of the JDK. It was never part of all OpenJDK distributions (e.g., on Linux). But Oracle has not included JavaFX in the JDK as of Java/JavaFX version 11. Some vendors, however, still provide JDK/JRE distributions that include JavaFX (see [jewelsea&#39;s answer](https://stackoverflow.com/a/72904732/6395627)).","body":"JavaFX used to be included with <b>Oracle&#39;s</b> distribution of the JDK. It was never part of all OpenJDK distributions (e.g., on Linux). But Oracle has not included JavaFX in the JDK as of Java/JavaFX version 11. Some vendors, however, still provide JDK/JRE distributions that include JavaFX (see <a href=\"https://stackoverflow.com/a/72904732/6395627\">jewelsea&#39;s answer</a>)."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1657231662,"creation_date":1657231662,"answer_id":72904732,"question_id":72904671,"body_markdown":"JavaFX only comes with some JDK distributions (e.g. Azul Zulu JDK FX or BellSoft Liberica Full JDK), see the:\r\n\r\n * [Installation section of the JavaFX tag](https://stackoverflow.com/tags/javafx/info).  \r\n\r\nOfficial documentation is at: \r\n \r\n * [Getting started with JavaFX on openjfx.io](https://openjfx.io/openjfx-docs/).  \r\n\r\nQuick start with Idea is the: \r\n\r\n * [Create new JavaFX project wizard](https://www.jetbrains.com/help/idea/javafx.html).","title":"Why does IntelliJ not see javaFx?","body":"<p>JavaFX only comes with some JDK distributions (e.g. Azul Zulu JDK FX or BellSoft Liberica Full JDK), see the:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/tags/javafx/info\">Installation section of the JavaFX tag</a>.</li>\n</ul>\n<p>Official documentation is at:</p>\n<ul>\n<li><a href=\"https://openjfx.io/openjfx-docs/\" rel=\"noreferrer\">Getting started with JavaFX on openjfx.io</a>.</li>\n</ul>\n<p>Quick start with Idea is the:</p>\n<ul>\n<li><a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"noreferrer\">Create new JavaFX project wizard</a>.</li>\n</ul>\n"}],"owner":{"account_id":16498896,"reputation":141,"user_id":11920695,"display_name":"Ethan Kharitonov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1657276553,"accepted_answer_id":72904732,"answer_count":1,"score":-4,"last_activity_date":1657231662,"creation_date":1657231147,"question_id":72904671,"body_markdown":"Why does IntelliJ not see javafx? I thought that it comes with the java JDK.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zZb79.png","title":"Why does IntelliJ not see javaFx?","body":"<p>Why does IntelliJ not see javafx? I thought that it comes with the java JDK.\n<a href=\"https://i.stack.imgur.com/zZb79.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zZb79.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","sqlite"],"answers":[{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1655507687,"creation_date":1655506908,"answer_id":72665519,"question_id":72665146,"body_markdown":"You could create an overloaded method `getInfo(String acct)` and invoke as follows:\r\n\r\n    Cursor cursor = database.getInfo(account);\r\n\r\nand define it as such:\r\n\r\n    public Cursor getInfo(String account) {\r\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot; SELECT * FROM &quot; + TB_USER\r\n                + &quot; WHERE &quot; + TB_USER_ACCOUNT + &quot; = &#39;&quot; + account + &quot;&#39;&quot;, null);\r\n        return cursor;\r\n    }\r\n\r\nAn overloaded [method](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html) means methods within a class can have the same name (e.g. `getInfo`) but differ in method signature (parameters).  And of course their implementation can differ.\r\n\r\nSince your query is formed using data from user input you should **use prepared statements**.  Check out [PreparedStatement](https://developer.android.com/reference/java/sql/PreparedStatement.html) for more discussion on that.","title":"How to correctly display user&#39;s info among multiple users?","body":"<p>You could create an overloaded method <code>getInfo(String acct)</code> and invoke as follows:</p>\n<pre><code>Cursor cursor = database.getInfo(account);\n</code></pre>\n<p>and define it as such:</p>\n<pre><code>public Cursor getInfo(String account) {\n    SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n    Cursor cursor = sqLiteDatabase.rawQuery(&quot; SELECT * FROM &quot; + TB_USER\n            + &quot; WHERE &quot; + TB_USER_ACCOUNT + &quot; = '&quot; + account + &quot;'&quot;, null);\n    return cursor;\n}\n</code></pre>\n<p>An overloaded <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">method</a> means methods within a class can have the same name (e.g. <code>getInfo</code>) but differ in method signature (parameters).  And of course their implementation can differ.</p>\n<p>Since your query is formed using data from user input you should <strong>use prepared statements</strong>.  Check out <a href=\"https://developer.android.com/reference/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\">PreparedStatement</a> for more discussion on that.</p>\n"}],"owner":{"account_id":25549590,"reputation":15,"user_id":19334213,"display_name":"B&#249;i Minh Thương"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72665519,"answer_count":1,"score":0,"last_activity_date":1657231662,"creation_date":1655502850,"question_id":72665146,"body_markdown":"The command to retrieve user data doesn&#39;t display correctly, it shows the information of the last registered user.\r\n\r\n**MainActivity/login**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        Button btnRegister, btnLogin;\r\n        EditText edtAccount, edtPassword;\r\n        Database db;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            btnRegister = (Button) findViewById(R.id.buttonSignup);\r\n            btnRegister.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent i = new Intent(MainActivity.this, RegisterActivity.class);\r\n                    startActivity(i);\r\n                }\r\n            });\r\n    \r\n            edtAccount = (EditText) findViewById(R.id.editTextAccount);\r\n            edtPassword = (EditText) findViewById(R.id.editTextPassword);\r\n            btnLogin = (Button) findViewById(R.id.buttonLogin);\r\n    \r\n    \r\n            db=new Database(this);\r\n            btnLogin.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    String account = edtAccount.getText().toString();\r\n                    String password = edtPassword.getText().toString();\r\n    \r\n                    if (account.equals(&quot;&quot;) || password.equals(&quot;&quot;)){\r\n                        Toast.makeText(MainActivity.this,\r\n                                &quot;Account and password are empty&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else {\r\n                        Boolean result = db.checkUserNamePassword(account, password);\r\n                        if(result==true) {\r\n                            Intent intent = new Intent(MainActivity.this, TestActivity.class);\r\n                            intent.putExtra(&quot;account&quot;, account);\r\n                            startActivity(intent);\r\n    \r\n                        }\r\n                        else{\r\n                            Boolean userCheckResult = db.checkUserName(account);\r\n                            if(userCheckResult == true){\r\n                                Toast.makeText(MainActivity.this,\r\n                                        &quot;invalid password!&quot;, Toast.LENGTH_SHORT).show();\r\n                                edtPassword.setError(&quot;invalid password!&quot;);\r\n                            } else{\r\n                        Toast.makeText(MainActivity.this,\r\n                                &quot;Account does not exist&quot;, Toast.LENGTH_SHORT).show();\r\n                                edtAccount.setError(&quot;Account does not exist!&quot;);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n**Database**\r\n\r\n    public class Database extends SQLiteOpenHelper {\r\n    \r\n        public static final String TB_USER = &quot;USER&quot;;\r\n        public static final String TB_PERSONAL = &quot;PERSONAL&quot;;\r\n        public static final String TB_GROUPSCHEDULE = &quot;GROUPSCHEDULE&quot;;\r\n    \r\n        public static String TB_USER_ACCOUNT = &quot;ACCOUNT&quot;;\r\n        public static String TB_USER_PASSWORD = &quot;PASSWORD&quot;;\r\n    \r\n    \r\n        public static String TB_USER_ID = &quot;USERID&quot;;\r\n        public static String TB_USER_FIRSTNAME = &quot;USERFIRSTNAME&quot;;\r\n        public static String TB_USER_LASTNAME = &quot;USERLASTNAME&quot;;\r\n        public static String TB_USER_PHONENUMBER = &quot;PHONENUMBER&quot;;\r\n        public static String TB_USER_EMAIL = &quot;EMAIL&quot;;\r\n    \r\n        public static String TB_PERSONAL_ID = &quot;PERSONALID&quot;;\r\n        public static String TB_PERSONAL_TIME = &quot;PERSONALTIME&quot;;\r\n        public static String TB_PERSONAL_EVENT = &quot;PERSONALEVENT&quot;;\r\n    \r\n        public static String TB_GROUP_ID = &quot;GROUPID&quot;;\r\n        public static String TB_GROUP_MEMBERS = &quot;GROUPMEMBERS&quot;;\r\n        public static String TB_GROUP_LEADER = &quot;GROUPLEADER&quot;;\r\n        public static String TB_GROUP_EVENT = &quot;GROUPEVENT&quot;;\r\n        public static String TB_GROUP_TIME = &quot;GROUPTIME&quot;;\r\n    \r\n    \r\n        public Database(Context context) {\r\n            super(context, &quot;Mysche&quot;, null, 1);\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            String tbUSER = &quot; CREATE TABLE &quot; + TB_USER + &quot; ( &quot;\r\n                    + TB_USER_ACCOUNT + &quot; TEXT , &quot;\r\n                    + TB_USER_PASSWORD + &quot; TEXT , &quot;\r\n                    + TB_USER_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;\r\n                    + TB_USER_FIRSTNAME + &quot; TEXT, &quot;\r\n                    + TB_USER_LASTNAME + &quot; TEXT, &quot;\r\n                    + TB_USER_EMAIL + &quot; TEXT, &quot;\r\n                    + TB_USER_PHONENUMBER + &quot; TEXT )&quot;;\r\n    \r\n            String tbPERSONAL = &quot; CREATE TABLE &quot; + TB_PERSONAL + &quot; ( &quot;\r\n                    + TB_PERSONAL_ID + &quot; TEXT PRIMARY KEY , &quot;\r\n                    + TB_PERSONAL_EVENT + &quot; TEXT, &quot;\r\n                    + TB_PERSONAL_TIME + &quot; DATE )&quot;;\r\n    \r\n            String tbGROUP = &quot; CREATE TABLE &quot; + TB_GROUPSCHEDULE + &quot; ( &quot;\r\n                    + TB_GROUP_ID + &quot;INTEGER PRIMARY KEY , &quot;\r\n                    + TB_GROUP_LEADER + &quot; TEXT, &quot;\r\n                    + TB_GROUP_MEMBERS + &quot; TEXT, &quot;\r\n                    + TB_GROUP_EVENT + &quot; TEXT, &quot;\r\n                    + TB_GROUP_TIME + &quot; TEXT )&quot;;\r\n    \r\n            db.execSQL(tbUSER);\r\n            db.execSQL(tbPERSONAL);\r\n            db.execSQL(tbGROUP);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int i, int i1) {\r\n            db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TB_USER);\r\n            db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TB_PERSONAL);\r\n            db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TB_GROUPSCHEDULE);\r\n            \r\n            onCreate(db);\r\n        }\r\n    \r\n        public Boolean insertData(String ACCOUNT, String PASSWORD, String USERFIRSTNAME, String USERLASTNAME, String PHONENUMBER, String EMAIL) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(&quot;ACCOUNT&quot;, ACCOUNT);\r\n            contentValues.put(&quot;PASSWORD&quot;, PASSWORD);\r\n            contentValues.put(&quot;USERFIRSTNAME&quot;, USERFIRSTNAME);\r\n            contentValues.put(&quot;USERLASTNAME&quot;, USERLASTNAME);\r\n            contentValues.put(&quot;PHONENUMBER&quot;, PHONENUMBER);\r\n            contentValues.put(&quot;EMAIL&quot;, EMAIL);\r\n    \r\n            long result = db.insert(&quot;USER&quot;, null, contentValues);\r\n    \r\n            if (result == -1) {\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        public Boolean checkUserName(String ACCOUNT) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            Cursor cursor = db.rawQuery(&quot;SELECT * FROM USER WHERE ACCOUNT = ?&quot;\r\n                    , new String[]{ACCOUNT});\r\n            if (cursor.getCount() &gt; 0) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        public Boolean checkUserNamePassword(String ACCOUNT, String PASSWORD) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            Cursor cursor = db.rawQuery(&quot;select * from USER where ACCOUNT = ? and PASSWORD = ?&quot;\r\n                    , new String[]{ACCOUNT, PASSWORD});\r\n            if (cursor.getCount() &gt; 0) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        public Cursor getInfo() {\r\n            SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n            Cursor cursor = sqLiteDatabase.rawQuery(&quot; SELECT * FROM &quot; + TB_USER\r\n                    + &quot; WHERE &quot; + TB_USER_ACCOUNT, null);\r\n            return cursor;\r\n        }\r\n    }\r\n\r\n**TestActivity**\r\n\r\n    public class TestActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_test);\r\n    \r\n            Database database = new Database(this);\r\n            TextView textViewName = findViewById(R.id.textViewUserName);\r\n            TextView textViewEmail = findViewById(R.id.textViewUserEmail);\r\n            TextView textViewPhone = findViewById(R.id.textViewPhone);\r\n            TextView textViewAccount = findViewById(R.id.textViewAccount);\r\n            \r\n            String account = getIntent().getStringExtra(&quot;account&quot;);\r\n            textViewPhone.setText(account);\r\n            \r\n            Cursor cursor = database.getInfo();\r\n            \r\n            while (cursor.moveToNext()){\r\n                textViewName.setText(cursor.getString(4 ) + &quot; &quot; +(cursor.getString(3)));\r\n                textViewPhone.setText(cursor.getString(5));\r\n                textViewEmail.setText(cursor.getString(6));\r\n                textViewAccount.setText(account);\r\n            }\r\n        }\r\n    }\r\n\r\nI think I need to change this command:\r\n\r\n     public Cursor getInfo() {\r\n            SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n            Cursor cursor = sqLiteDatabase.rawQuery(&quot; SELECT * FROM &quot; + TB_USER\r\n                    + &quot; WHERE &quot; + TB_USER_ACCOUNT, null);\r\n            return cursor;\r\n    }\r\n\r\nto:\r\n\r\n    public Cursor getInfo() {\r\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot; SELECT * FROM &quot; + TB_USER\r\n                + &quot; WHERE &quot; + TB_USER_ACCOUNT + &quot;=&quot; + loggingAccount();, null);\r\n        return cursor;\r\n    }\r\n\r\nBut I don&#39;t know how to create and insert that `loggingAccount()` function. I was able to display username by `getIntent()` in `TestActivity`.\r\n\r\n    String account = getIntent().getStringExtra(&quot;account&quot;);\r\n    textViewPhone.setText(account);\r\n\r\nOr if anyone knows another way please guide me.","title":"How to correctly display user&#39;s info among multiple users?","body":"<p>The command to retrieve user data doesn't display correctly, it shows the information of the last registered user.</p>\n<p><strong>MainActivity/login</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    Button btnRegister, btnLogin;\n    EditText edtAccount, edtPassword;\n    Database db;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btnRegister = (Button) findViewById(R.id.buttonSignup);\n        btnRegister.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent i = new Intent(MainActivity.this, RegisterActivity.class);\n                startActivity(i);\n            }\n        });\n\n        edtAccount = (EditText) findViewById(R.id.editTextAccount);\n        edtPassword = (EditText) findViewById(R.id.editTextPassword);\n        btnLogin = (Button) findViewById(R.id.buttonLogin);\n\n\n        db=new Database(this);\n        btnLogin.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String account = edtAccount.getText().toString();\n                String password = edtPassword.getText().toString();\n\n                if (account.equals(&quot;&quot;) || password.equals(&quot;&quot;)){\n                    Toast.makeText(MainActivity.this,\n                            &quot;Account and password are empty&quot;,Toast.LENGTH_SHORT).show();\n                }\n                else {\n                    Boolean result = db.checkUserNamePassword(account, password);\n                    if(result==true) {\n                        Intent intent = new Intent(MainActivity.this, TestActivity.class);\n                        intent.putExtra(&quot;account&quot;, account);\n                        startActivity(intent);\n\n                    }\n                    else{\n                        Boolean userCheckResult = db.checkUserName(account);\n                        if(userCheckResult == true){\n                            Toast.makeText(MainActivity.this,\n                                    &quot;invalid password!&quot;, Toast.LENGTH_SHORT).show();\n                            edtPassword.setError(&quot;invalid password!&quot;);\n                        } else{\n                    Toast.makeText(MainActivity.this,\n                            &quot;Account does not exist&quot;, Toast.LENGTH_SHORT).show();\n                            edtAccount.setError(&quot;Account does not exist!&quot;);\n                        }\n                    }\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>Database</strong></p>\n<pre><code>public class Database extends SQLiteOpenHelper {\n\n    public static final String TB_USER = &quot;USER&quot;;\n    public static final String TB_PERSONAL = &quot;PERSONAL&quot;;\n    public static final String TB_GROUPSCHEDULE = &quot;GROUPSCHEDULE&quot;;\n\n    public static String TB_USER_ACCOUNT = &quot;ACCOUNT&quot;;\n    public static String TB_USER_PASSWORD = &quot;PASSWORD&quot;;\n\n\n    public static String TB_USER_ID = &quot;USERID&quot;;\n    public static String TB_USER_FIRSTNAME = &quot;USERFIRSTNAME&quot;;\n    public static String TB_USER_LASTNAME = &quot;USERLASTNAME&quot;;\n    public static String TB_USER_PHONENUMBER = &quot;PHONENUMBER&quot;;\n    public static String TB_USER_EMAIL = &quot;EMAIL&quot;;\n\n    public static String TB_PERSONAL_ID = &quot;PERSONALID&quot;;\n    public static String TB_PERSONAL_TIME = &quot;PERSONALTIME&quot;;\n    public static String TB_PERSONAL_EVENT = &quot;PERSONALEVENT&quot;;\n\n    public static String TB_GROUP_ID = &quot;GROUPID&quot;;\n    public static String TB_GROUP_MEMBERS = &quot;GROUPMEMBERS&quot;;\n    public static String TB_GROUP_LEADER = &quot;GROUPLEADER&quot;;\n    public static String TB_GROUP_EVENT = &quot;GROUPEVENT&quot;;\n    public static String TB_GROUP_TIME = &quot;GROUPTIME&quot;;\n\n\n    public Database(Context context) {\n        super(context, &quot;Mysche&quot;, null, 1);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String tbUSER = &quot; CREATE TABLE &quot; + TB_USER + &quot; ( &quot;\n                + TB_USER_ACCOUNT + &quot; TEXT , &quot;\n                + TB_USER_PASSWORD + &quot; TEXT , &quot;\n                + TB_USER_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;\n                + TB_USER_FIRSTNAME + &quot; TEXT, &quot;\n                + TB_USER_LASTNAME + &quot; TEXT, &quot;\n                + TB_USER_EMAIL + &quot; TEXT, &quot;\n                + TB_USER_PHONENUMBER + &quot; TEXT )&quot;;\n\n        String tbPERSONAL = &quot; CREATE TABLE &quot; + TB_PERSONAL + &quot; ( &quot;\n                + TB_PERSONAL_ID + &quot; TEXT PRIMARY KEY , &quot;\n                + TB_PERSONAL_EVENT + &quot; TEXT, &quot;\n                + TB_PERSONAL_TIME + &quot; DATE )&quot;;\n\n        String tbGROUP = &quot; CREATE TABLE &quot; + TB_GROUPSCHEDULE + &quot; ( &quot;\n                + TB_GROUP_ID + &quot;INTEGER PRIMARY KEY , &quot;\n                + TB_GROUP_LEADER + &quot; TEXT, &quot;\n                + TB_GROUP_MEMBERS + &quot; TEXT, &quot;\n                + TB_GROUP_EVENT + &quot; TEXT, &quot;\n                + TB_GROUP_TIME + &quot; TEXT )&quot;;\n\n        db.execSQL(tbUSER);\n        db.execSQL(tbPERSONAL);\n        db.execSQL(tbGROUP);\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TB_USER);\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TB_PERSONAL);\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TB_GROUPSCHEDULE);\n        \n        onCreate(db);\n    }\n\n    public Boolean insertData(String ACCOUNT, String PASSWORD, String USERFIRSTNAME, String USERLASTNAME, String PHONENUMBER, String EMAIL) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(&quot;ACCOUNT&quot;, ACCOUNT);\n        contentValues.put(&quot;PASSWORD&quot;, PASSWORD);\n        contentValues.put(&quot;USERFIRSTNAME&quot;, USERFIRSTNAME);\n        contentValues.put(&quot;USERLASTNAME&quot;, USERLASTNAME);\n        contentValues.put(&quot;PHONENUMBER&quot;, PHONENUMBER);\n        contentValues.put(&quot;EMAIL&quot;, EMAIL);\n\n        long result = db.insert(&quot;USER&quot;, null, contentValues);\n\n        if (result == -1) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    public Boolean checkUserName(String ACCOUNT) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(&quot;SELECT * FROM USER WHERE ACCOUNT = ?&quot;\n                , new String[]{ACCOUNT});\n        if (cursor.getCount() &gt; 0) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public Boolean checkUserNamePassword(String ACCOUNT, String PASSWORD) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(&quot;select * from USER where ACCOUNT = ? and PASSWORD = ?&quot;\n                , new String[]{ACCOUNT, PASSWORD});\n        if (cursor.getCount() &gt; 0) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public Cursor getInfo() {\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot; SELECT * FROM &quot; + TB_USER\n                + &quot; WHERE &quot; + TB_USER_ACCOUNT, null);\n        return cursor;\n    }\n}\n</code></pre>\n<p><strong>TestActivity</strong></p>\n<pre><code>public class TestActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_test);\n\n        Database database = new Database(this);\n        TextView textViewName = findViewById(R.id.textViewUserName);\n        TextView textViewEmail = findViewById(R.id.textViewUserEmail);\n        TextView textViewPhone = findViewById(R.id.textViewPhone);\n        TextView textViewAccount = findViewById(R.id.textViewAccount);\n        \n        String account = getIntent().getStringExtra(&quot;account&quot;);\n        textViewPhone.setText(account);\n        \n        Cursor cursor = database.getInfo();\n        \n        while (cursor.moveToNext()){\n            textViewName.setText(cursor.getString(4 ) + &quot; &quot; +(cursor.getString(3)));\n            textViewPhone.setText(cursor.getString(5));\n            textViewEmail.setText(cursor.getString(6));\n            textViewAccount.setText(account);\n        }\n    }\n}\n</code></pre>\n<p>I think I need to change this command:</p>\n<pre><code> public Cursor getInfo() {\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n        Cursor cursor = sqLiteDatabase.rawQuery(&quot; SELECT * FROM &quot; + TB_USER\n                + &quot; WHERE &quot; + TB_USER_ACCOUNT, null);\n        return cursor;\n}\n</code></pre>\n<p>to:</p>\n<pre><code>public Cursor getInfo() {\n    SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n    Cursor cursor = sqLiteDatabase.rawQuery(&quot; SELECT * FROM &quot; + TB_USER\n            + &quot; WHERE &quot; + TB_USER_ACCOUNT + &quot;=&quot; + loggingAccount();, null);\n    return cursor;\n}\n</code></pre>\n<p>But I don't know how to create and insert that <code>loggingAccount()</code> function. I was able to display username by <code>getIntent()</code> in <code>TestActivity</code>.</p>\n<pre><code>String account = getIntent().getStringExtra(&quot;account&quot;);\ntextViewPhone.setText(account);\n</code></pre>\n<p>Or if anyone knows another way please guide me.</p>\n"},{"tags":["java","performance","time-complexity","big-o"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1657235916,"post_id":72904683,"comment_id":128769484,"body_markdown":"in case of initial implementation the estimation O(N^2) is wrong: there are two nested loops in code + loop in `code.startsWith(prefix)`","body":"in case of initial implementation the estimation O(N^2) is wrong: there are two nested loops in code + loop in <code>code.startsWith(prefix)</code>"},{"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"score":0,"creation_date":1657237469,"post_id":72904683,"comment_id":128769722,"body_markdown":"Do you care what prefix the code starts with? Or just that is has a prefix from the list? Your reduced code would indicate the latter.","body":"Do you care what prefix the code starts with? Or just that is has a prefix from the list? Your reduced code would indicate the latter."},{"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"score":0,"creation_date":1657237496,"post_id":72904683,"comment_id":128769724,"body_markdown":"Are the prefixes fixed length?","body":"Are the prefixes fixed length?"},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1657295335,"post_id":72904683,"comment_id":128784181,"body_markdown":"[Aho–Corasick algorithm](https://en.wikipedia.org/wiki/Aho%E2%80%93Corasick_algorithm)","body":"<a href=\"https://en.wikipedia.org/wiki/Aho%E2%80%93Corasick_algorithm\" rel=\"nofollow noreferrer\">Aho–Corasick algorithm</a>"},{"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"score":0,"creation_date":1657302160,"post_id":72904683,"comment_id":128786268,"body_markdown":"@AndreyB.Panfilov Isn&#39;t start&#39;s with complexity based not not array lengths, but string lengths? The upper bound of the case in theory wouldn&#39;t change due that, correct?","body":"@AndreyB.Panfilov Isn&#39;t start&#39;s with complexity based not not array lengths, but string lengths? The upper bound of the case in theory wouldn&#39;t change due that, correct?"},{"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"score":0,"creation_date":1657302351,"post_id":72904683,"comment_id":128786347,"body_markdown":"@SephB No, I actually don&#39;t care what code the prefix starts with, only that the code has any of the prefix from the list. Unfortunately the prefix are not fixed length in the context of the application.","body":"@SephB No, I actually don&#39;t care what code the prefix starts with, only that the code has any of the prefix from the list. Unfortunately the prefix are not fixed length in the context of the application."},{"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"score":0,"creation_date":1657302786,"post_id":72904683,"comment_id":128786492,"body_markdown":"@apangin That was an extremely interesting read, I&#39;m curious if anyone&#39;s made a strong common implementation of what&#39;s essentially a much more complex trie.","body":"@apangin That was an extremely interesting read, I&#39;m curious if anyone&#39;s made a strong common implementation of what&#39;s essentially a much more complex trie."}],"owner":{"account_id":2969956,"reputation":486,"user_id":2522234,"display_name":"RMSD"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657231278,"creation_date":1657231278,"question_id":72904683,"body_markdown":"Looking to refactor some legacy code, and I have a method that&#39;s functionally similar to the following simplified version:\r\n\r\n```java\r\npublic static List&lt;String&gt; getAllPrefixedCodes(List&lt;String&gt; codes, List&lt;String&gt; prefixes) {\r\n   var prefixedCodes = new ArrayList&lt;String&gt;();\r\n   for (String code : codes) {\r\n      for (String prefix : prefixes) {\r\n         if (code.startsWith(prefix)) {\r\n            prefixedCodes.add(code);\r\n         }\r\n      }\r\n   }\r\n\r\n   return prefixedCodes;\r\n}\r\n```\r\n\r\nI was looking for ways to increase the speed of the method, and came across Tries in another stack overflow post somewhere. After doing some research, though they were cool so I reimplemented the method as following:\r\n\r\n```java\r\npublic static List&lt;String&gt; getAllPrefixedCodes(Collection&lt;String&gt; codes, Collection&lt;String&gt; prefixes) {\r\n   final var trie = codes.stream()\r\n                    .collect(Collectors.toMap(Function.identity(), Function.identity(), \r\n                       (a, b) -&gt; a, PatriciaTrie::new));\r\n\r\n   return prefixes.parallelStream()\r\n             .map(trie::prefixMap)\r\n             .map(SortedMap::values)\r\n             .flatMap(Collection::stream)\r\n             .collect(Collectors.toList());\r\n}\r\n```\r\n\r\nThe method is much simpler to look at in my opinion, and that&#39;s a plus already for me but I&#39;m second guessing that it&#39;s time complexity improvement. My first instinct is that it&#39;s gone from O(n^2) to O(n). After all the second method is taking O(n) to load the trie, O(m) to search prefixes with O(n)lookup thanks to the trie (from the the [apache docs](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/trie/PatriciaTrie.html#put-K-V-)).\r\n\r\nBut in the second stream, I&#39;m doing an O(n) lookup O(m) times, so I&#39;m hitting O(n^2) anyway, correct? Is there a more efficient or intelligent way to perform this style of operation?","title":"Optimizing time complexity of prefix searching between two lists","body":"<p>Looking to refactor some legacy code, and I have a method that's functionally similar to the following simplified version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; getAllPrefixedCodes(List&lt;String&gt; codes, List&lt;String&gt; prefixes) {\n   var prefixedCodes = new ArrayList&lt;String&gt;();\n   for (String code : codes) {\n      for (String prefix : prefixes) {\n         if (code.startsWith(prefix)) {\n            prefixedCodes.add(code);\n         }\n      }\n   }\n\n   return prefixedCodes;\n}\n</code></pre>\n<p>I was looking for ways to increase the speed of the method, and came across Tries in another stack overflow post somewhere. After doing some research, though they were cool so I reimplemented the method as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; getAllPrefixedCodes(Collection&lt;String&gt; codes, Collection&lt;String&gt; prefixes) {\n   final var trie = codes.stream()\n                    .collect(Collectors.toMap(Function.identity(), Function.identity(), \n                       (a, b) -&gt; a, PatriciaTrie::new));\n\n   return prefixes.parallelStream()\n             .map(trie::prefixMap)\n             .map(SortedMap::values)\n             .flatMap(Collection::stream)\n             .collect(Collectors.toList());\n}\n</code></pre>\n<p>The method is much simpler to look at in my opinion, and that's a plus already for me but I'm second guessing that it's time complexity improvement. My first instinct is that it's gone from O(n^2) to O(n). After all the second method is taking O(n) to load the trie, O(m) to search prefixes with O(n)lookup thanks to the trie (from the the <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/trie/PatriciaTrie.html#put-K-V-\" rel=\"nofollow noreferrer\">apache docs</a>).</p>\n<p>But in the second stream, I'm doing an O(n) lookup O(m) times, so I'm hitting O(n^2) anyway, correct? Is there a more efficient or intelligent way to perform this style of operation?</p>\n"},{"tags":["java","sql","hibernate","criteria"],"answers":[{"tags":[],"owner":{"account_id":8190,"reputation":13616,"user_id":14619,"accept_rate":90,"display_name":"Brian Deterling"},"down_vote_count":1,"up_vote_count":42,"is_accepted":true,"score":41,"last_activity_date":1234832334,"creation_date":1234831930,"answer_id":555192,"question_id":554481,"body_markdown":"I&#39;ve done something like this using Spring AOP so I could grab the sql, parameters, errors, and execution time for any query run in the application whether it was HQL, Criteria, or native SQL.\r\n\r\nThis is obviously fragile, insecure, subject to break with changes in Hibernate, etc, but it illustrates that it&#39;s possible to get the SQL:\r\n\r\n    CriteriaImpl c = (CriteriaImpl)query;\r\n    SessionImpl s = (SessionImpl)c.getSession();\r\n    SessionFactoryImplementor factory = (SessionFactoryImplementor)s.getSessionFactory();\r\n    String[] implementors = factory.getImplementors( c.getEntityOrClassName() );\r\n    CriteriaLoader loader = new CriteriaLoader((OuterJoinLoadable)factory.getEntityPersister(implementors[0]),\r\n        factory, c, implementors[0], s.getEnabledFilters());\r\n    Field f = OuterJoinLoader.class.getDeclaredField(&quot;sql&quot;);\r\n    f.setAccessible(true);\r\n    String sql = (String)f.get(loader);\r\n\r\nWrap the entire thing in a try/catch and use at your own risk.\r\n\r\n","title":"How to get SQL from Hibernate Criteria API (*not* for logging)","body":"<p>I've done something like this using Spring AOP so I could grab the sql, parameters, errors, and execution time for any query run in the application whether it was HQL, Criteria, or native SQL.</p>\n\n<p>This is obviously fragile, insecure, subject to break with changes in Hibernate, etc, but it illustrates that it's possible to get the SQL:</p>\n\n<pre><code>CriteriaImpl c = (CriteriaImpl)query;\nSessionImpl s = (SessionImpl)c.getSession();\nSessionFactoryImplementor factory = (SessionFactoryImplementor)s.getSessionFactory();\nString[] implementors = factory.getImplementors( c.getEntityOrClassName() );\nCriteriaLoader loader = new CriteriaLoader((OuterJoinLoadable)factory.getEntityPersister(implementors[0]),\n    factory, c, implementors[0], s.getEnabledFilters());\nField f = OuterJoinLoader.class.getDeclaredField(\"sql\");\nf.setAccessible(true);\nString sql = (String)f.get(loader);\n</code></pre>\n\n<p>Wrap the entire thing in a try/catch and use at your own risk.</p>\n"},{"tags":[],"owner":{"account_id":215385,"reputation":634,"user_id":470016,"display_name":"ramdane.i"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1339425658,"creation_date":1286526517,"answer_id":3888873,"question_id":554481,"body_markdown":"Here&#39;s &quot;another&quot; way to get the SQL  :\r\n\r\n    CriteriaImpl criteriaImpl = (CriteriaImpl)criteria;\r\n    SessionImplementor session = criteriaImpl.getSession();\r\n    SessionFactoryImplementor factory = session.getFactory();\r\n    CriteriaQueryTranslator translator=new CriteriaQueryTranslator(factory,criteriaImpl,criteriaImpl.getEntityOrClassName(),CriteriaQueryTranslator.ROOT_SQL_ALIAS);\r\n    String[] implementors = factory.getImplementors( criteriaImpl.getEntityOrClassName() );\r\n        \r\n    CriteriaJoinWalker walker = new CriteriaJoinWalker((OuterJoinLoadable)factory.getEntityPersister(implementors[0]), \r\n        \t\t\t\t\ttranslator,\r\n        \t\t\t\t\tfactory, \r\n        \t\t\t\t\tcriteriaImpl, \r\n        \t\t\t\t\tcriteriaImpl.getEntityOrClassName(), \r\n        \t\t\t\t\tsession.getLoadQueryInfluencers()\t);\r\n        \r\n    String sql=walker.getSQLString();\r\n\r\n","title":"How to get SQL from Hibernate Criteria API (*not* for logging)","body":"<p>Here's \"another\" way to get the SQL  :</p>\n\n<pre><code>CriteriaImpl criteriaImpl = (CriteriaImpl)criteria;\nSessionImplementor session = criteriaImpl.getSession();\nSessionFactoryImplementor factory = session.getFactory();\nCriteriaQueryTranslator translator=new CriteriaQueryTranslator(factory,criteriaImpl,criteriaImpl.getEntityOrClassName(),CriteriaQueryTranslator.ROOT_SQL_ALIAS);\nString[] implementors = factory.getImplementors( criteriaImpl.getEntityOrClassName() );\n\nCriteriaJoinWalker walker = new CriteriaJoinWalker((OuterJoinLoadable)factory.getEntityPersister(implementors[0]), \n                        translator,\n                        factory, \n                        criteriaImpl, \n                        criteriaImpl.getEntityOrClassName(), \n                        session.getLoadQueryInfluencers()   );\n\nString sql=walker.getSQLString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":118966,"reputation":1136,"user_id":310357,"accept_rate":78,"display_name":"LiamV"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1289574940,"creation_date":1289574940,"answer_id":4166032,"question_id":554481,"body_markdown":"For those using NHibernate, this is a port of [ram]&#39;s code\r\n\r\n    public static string GenerateSQL(ICriteria criteria)\r\n        {\r\n            NHibernate.Impl.CriteriaImpl criteriaImpl = (NHibernate.Impl.CriteriaImpl)criteria;\r\n            NHibernate.Engine.ISessionImplementor session = criteriaImpl.Session;\r\n            NHibernate.Engine.ISessionFactoryImplementor factory = session.Factory;\r\n\r\n            NHibernate.Loader.Criteria.CriteriaQueryTranslator translator = \r\n                new NHibernate.Loader.Criteria.CriteriaQueryTranslator(\r\n                    factory, \r\n                    criteriaImpl, \r\n                    criteriaImpl.EntityOrClassName, \r\n                    NHibernate.Loader.Criteria.CriteriaQueryTranslator.RootSqlAlias);\r\n\r\n            String[] implementors = factory.GetImplementors(criteriaImpl.EntityOrClassName);\r\n\r\n            NHibernate.Loader.Criteria.CriteriaJoinWalker walker = new NHibernate.Loader.Criteria.CriteriaJoinWalker(\r\n                (NHibernate.Persister.Entity.IOuterJoinLoadable)factory.GetEntityPersister(implementors[0]),\r\n                                    translator,\r\n                                    factory,\r\n                                    criteriaImpl,\r\n                                    criteriaImpl.EntityOrClassName,\r\n                                    session.EnabledFilters);\r\n\r\n            return walker.SqlString.ToString();\r\n        }","title":"How to get SQL from Hibernate Criteria API (*not* for logging)","body":"<p>For those using NHibernate, this is a port of [ram]'s code</p>\n\n<pre><code>public static string GenerateSQL(ICriteria criteria)\n    {\n        NHibernate.Impl.CriteriaImpl criteriaImpl = (NHibernate.Impl.CriteriaImpl)criteria;\n        NHibernate.Engine.ISessionImplementor session = criteriaImpl.Session;\n        NHibernate.Engine.ISessionFactoryImplementor factory = session.Factory;\n\n        NHibernate.Loader.Criteria.CriteriaQueryTranslator translator = \n            new NHibernate.Loader.Criteria.CriteriaQueryTranslator(\n                factory, \n                criteriaImpl, \n                criteriaImpl.EntityOrClassName, \n                NHibernate.Loader.Criteria.CriteriaQueryTranslator.RootSqlAlias);\n\n        String[] implementors = factory.GetImplementors(criteriaImpl.EntityOrClassName);\n\n        NHibernate.Loader.Criteria.CriteriaJoinWalker walker = new NHibernate.Loader.Criteria.CriteriaJoinWalker(\n            (NHibernate.Persister.Entity.IOuterJoinLoadable)factory.GetEntityPersister(implementors[0]),\n                                translator,\n                                factory,\n                                criteriaImpl,\n                                criteriaImpl.EntityOrClassName,\n                                session.EnabledFilters);\n\n        return walker.SqlString.ToString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":304731,"reputation":2460,"user_id":614418,"accept_rate":89,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1339424780,"creation_date":1339424780,"answer_id":10982042,"question_id":554481,"body_markdown":"If you are using Hibernate 3.6 you can use the code in the accepted answer (provided by Brian Deterling) with slight modification:\r\n\r\n      CriteriaImpl c = (CriteriaImpl) criteria;\r\n      SessionImpl s = (SessionImpl) c.getSession();\r\n      SessionFactoryImplementor factory = (SessionFactoryImplementor) s.getSessionFactory();\r\n      String[] implementors = factory.getImplementors(c.getEntityOrClassName());\r\n      LoadQueryInfluencers lqis = new LoadQueryInfluencers();\r\n      CriteriaLoader loader = new CriteriaLoader((OuterJoinLoadable) factory.getEntityPersister(implementors[0]), factory, c, implementors[0], lqis);\r\n      Field f = OuterJoinLoader.class.getDeclaredField(&quot;sql&quot;);\r\n      f.setAccessible(true);\r\n      String sql = (String) f.get(loader);","title":"How to get SQL from Hibernate Criteria API (*not* for logging)","body":"<p>If you are using Hibernate 3.6 you can use the code in the accepted answer (provided by Brian Deterling) with slight modification:</p>\n\n<pre><code>  CriteriaImpl c = (CriteriaImpl) criteria;\n  SessionImpl s = (SessionImpl) c.getSession();\n  SessionFactoryImplementor factory = (SessionFactoryImplementor) s.getSessionFactory();\n  String[] implementors = factory.getImplementors(c.getEntityOrClassName());\n  LoadQueryInfluencers lqis = new LoadQueryInfluencers();\n  CriteriaLoader loader = new CriteriaLoader((OuterJoinLoadable) factory.getEntityPersister(implementors[0]), factory, c, implementors[0], lqis);\n  Field f = OuterJoinLoader.class.getDeclaredField(\"sql\");\n  f.setAccessible(true);\n  String sql = (String) f.get(loader);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1625985,"reputation":721,"user_id":1501542,"display_name":"Triqui"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487850296,"creation_date":1352462334,"answer_id":13307678,"question_id":554481,"body_markdown":"I like this if you want to get just some parts of the query:\r\n\r\n    new CriteriaQueryTranslator(\r\n        factory,\r\n        executableCriteria,\r\n        executableCriteria.getEntityOrClassName(), \r\n        CriteriaQueryTranslator.ROOT_SQL_ALIAS)\r\n            .getWhereCondition();\r\n\r\nFor instance something like this:\r\n\r\n    String where = new CriteriaQueryTranslator(\r\n        factory,\r\n        executableCriteria,\r\n        executableCriteria.getEntityOrClassName(), \r\n        CriteriaQueryTranslator.ROOT_SQL_ALIAS)\r\n            .getWhereCondition();\r\n    \r\n    String sql = &quot;update my_table this_ set this_.status = 0 where &quot; + where;","title":"How to get SQL from Hibernate Criteria API (*not* for logging)","body":"<p>I like this if you want to get just some parts of the query:</p>\n\n<pre><code>new CriteriaQueryTranslator(\n    factory,\n    executableCriteria,\n    executableCriteria.getEntityOrClassName(), \n    CriteriaQueryTranslator.ROOT_SQL_ALIAS)\n        .getWhereCondition();\n</code></pre>\n\n<p>For instance something like this:</p>\n\n<pre><code>String where = new CriteriaQueryTranslator(\n    factory,\n    executableCriteria,\n    executableCriteria.getEntityOrClassName(), \n    CriteriaQueryTranslator.ROOT_SQL_ALIAS)\n        .getWhereCondition();\n\nString sql = \"update my_table this_ set this_.status = 0 where \" + where;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4577178,"reputation":31,"user_id":3715338,"display_name":"fformigli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462460045,"creation_date":1456952026,"answer_id":35757811,"question_id":554481,"body_markdown":"Here is a method I used and worked for me\r\n\r\n\r\n    public static String toSql(Session session, Criteria criteria){\r\n\t\tString sql=&quot;&quot;;\r\n\t\tObject[] parameters = null;\r\n\t\ttry{\r\n\t\t\tCriteriaImpl c = (CriteriaImpl) criteria;\r\n\t\t\tSessionImpl s = (SessionImpl)c.getSession();\r\n\t\t\tSessionFactoryImplementor factory = (SessionFactoryImplementor)s.getSessionFactory();\r\n\t\t\tString[] implementors = factory.getImplementors( c.getEntityOrClassName() );\r\n\t\t\tCriteriaLoader loader = new CriteriaLoader((OuterJoinLoadable)factory.getEntityPersister(implementors[0]), factory, c, implementors[0], s.getEnabledFilters());\r\n\t\t\tField f = OuterJoinLoader.class.getDeclaredField(&quot;sql&quot;);\r\n\t\t\tf.setAccessible(true);\r\n\t\t\tsql = (String)f.get(loader);\r\n\t\t\tField fp = CriteriaLoader.class.getDeclaredField(&quot;traslator&quot;);\r\n\t\t\tfp.setAccessible(true);\r\n\t\t\tCriteriaQueryTranslator translator = (CriteriaQueryTranslator) fp.get(loader);\r\n\t\t\tparameters = translator.getQueryParameters().getPositionalParameterValues();\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t\tif (sql !=null){\r\n\t\t\tint fromPosition = sql.indexOf(&quot; from &quot;);\r\n\t\t\tsql = &quot;SELECT * &quot;+ sql.substring(fromPosition);\r\n\t\t\t\r\n\t\t\tif (parameters!=null &amp;&amp; parameters.length&gt;0){\r\n\t\t\t\tfor (Object val : parameters) {\r\n\t\t\t\t\tString value=&quot;%&quot;;\r\n\t\t\t\t\tif(val instanceof Boolean){\r\n\t\t\t\t\t\tvalue = ((Boolean)val)?&quot;1&quot;:&quot;0&quot;;\r\n\t\t\t\t\t}else if (val instanceof String){\r\n\t\t\t\t\t\tvalue = &quot;&#39;&quot;+val+&quot;&#39;&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsql = sql.replaceFirst(&quot;\\\\?&quot;, value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sql.replaceAll(&quot;left outer join&quot;, &quot;\\nleft outer join&quot;).replace(&quot; and &quot;, &quot;\\nand &quot;).replace(&quot; on &quot;, &quot;\\non &quot;);\r\n\t}","title":"How to get SQL from Hibernate Criteria API (*not* for logging)","body":"<p>Here is a method I used and worked for me</p>\n\n<pre><code>public static String toSql(Session session, Criteria criteria){\n    String sql=\"\";\n    Object[] parameters = null;\n    try{\n        CriteriaImpl c = (CriteriaImpl) criteria;\n        SessionImpl s = (SessionImpl)c.getSession();\n        SessionFactoryImplementor factory = (SessionFactoryImplementor)s.getSessionFactory();\n        String[] implementors = factory.getImplementors( c.getEntityOrClassName() );\n        CriteriaLoader loader = new CriteriaLoader((OuterJoinLoadable)factory.getEntityPersister(implementors[0]), factory, c, implementors[0], s.getEnabledFilters());\n        Field f = OuterJoinLoader.class.getDeclaredField(\"sql\");\n        f.setAccessible(true);\n        sql = (String)f.get(loader);\n        Field fp = CriteriaLoader.class.getDeclaredField(\"traslator\");\n        fp.setAccessible(true);\n        CriteriaQueryTranslator translator = (CriteriaQueryTranslator) fp.get(loader);\n        parameters = translator.getQueryParameters().getPositionalParameterValues();\n    }\n    catch(Exception e){\n        throw new RuntimeException(e);\n    }\n    if (sql !=null){\n        int fromPosition = sql.indexOf(\" from \");\n        sql = \"SELECT * \"+ sql.substring(fromPosition);\n\n        if (parameters!=null &amp;&amp; parameters.length&gt;0){\n            for (Object val : parameters) {\n                String value=\"%\";\n                if(val instanceof Boolean){\n                    value = ((Boolean)val)?\"1\":\"0\";\n                }else if (val instanceof String){\n                    value = \"'\"+val+\"'\";\n                }\n                sql = sql.replaceFirst(\"\\\\?\", value);\n            }\n        }\n    }\n    return sql.replaceAll(\"left outer join\", \"\\nleft outer join\").replace(\" and \", \"\\nand \").replace(\" on \", \"\\non \");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1269066,"reputation":91,"user_id":1225761,"display_name":"Michael Capper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467033174,"creation_date":1467033174,"answer_id":38054924,"question_id":554481,"body_markdown":"This answer is based on user3715338&#39;s answer (with a small spelling error corrected) and mixed with Michael&#39;s answer for Hibernate 3.6 - based on the accepted answer from Brian Deterling. I then extended it (for PostgreSQL) with a couple more types replacing the questionmarks:\r\n\r\n    public static String toSql(Criteria criteria)\r\n\t{\r\n\t\tString sql = &quot;&quot;;\r\n\t\tObject[] parameters = null;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tCriteriaImpl criteriaImpl = (CriteriaImpl) criteria;\r\n\t\t\tSessionImpl sessionImpl = (SessionImpl) criteriaImpl.getSession();\r\n\t\t\tSessionFactoryImplementor factory = sessionImpl.getSessionFactory();\r\n\t\t\tString[] implementors = factory.getImplementors(criteriaImpl.getEntityOrClassName());\r\n\t\t\tOuterJoinLoadable persister = (OuterJoinLoadable) factory.getEntityPersister(implementors[0]);\r\n\t\t\tLoadQueryInfluencers loadQueryInfluencers = new LoadQueryInfluencers();\r\n\t\t\tCriteriaLoader loader = new CriteriaLoader(persister, factory,\r\n\t\t\t\tcriteriaImpl, implementors[0].toString(), loadQueryInfluencers);\r\n\t\t\tField f = OuterJoinLoader.class.getDeclaredField(&quot;sql&quot;);\r\n\t\t\tf.setAccessible(true);\r\n\t\t\tsql = (String) f.get(loader);\r\n\t\t\tField fp = CriteriaLoader.class.getDeclaredField(&quot;translator&quot;);\r\n\t\t\tfp.setAccessible(true);\r\n\t\t\tCriteriaQueryTranslator translator = (CriteriaQueryTranslator) fp.get(loader);\r\n\t\t\tparameters = translator.getQueryParameters().getPositionalParameterValues();\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t\tif (sql != null)\r\n\t\t{\r\n\t\t\tint fromPosition = sql.indexOf(&quot; from &quot;);\r\n\t\t\tsql = &quot;\\nSELECT * &quot; + sql.substring(fromPosition);\r\n\r\n\t\t\tif (parameters != null &amp;&amp; parameters.length &gt; 0)\r\n\t\t\t{\r\n\t\t\t\tfor (Object val : parameters)\r\n\t\t\t\t{\r\n\t\t\t\t\tString value = &quot;%&quot;;\r\n\t\t\t\t\tif (val instanceof Boolean)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue = ((Boolean) val) ? &quot;1&quot; : &quot;0&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (val instanceof String)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue = &quot;&#39;&quot; + val + &quot;&#39;&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (val instanceof Number)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue = val.toString();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (val instanceof Class)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue = &quot;&#39;&quot; + ((Class) val).getCanonicalName() + &quot;&#39;&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (val instanceof Date)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSimpleDateFormat sdf = new SimpleDateFormat(\r\n\t\t\t\t\t\t\t&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n\t\t\t\t\t\tvalue = &quot;&#39;&quot; + sdf.format((Date) val) + &quot;&#39;&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (val instanceof Enum)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue = &quot;&quot; + ((Enum) val).ordinal();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue = val.toString();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsql = sql.replaceFirst(&quot;\\\\?&quot;, value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sql.replaceAll(&quot;left outer join&quot;, &quot;\\nleft outer join&quot;).replaceAll(\r\n\t\t\t&quot; and &quot;, &quot;\\nand &quot;).replaceAll(&quot; on &quot;, &quot;\\non &quot;).replaceAll(&quot;&lt;&gt;&quot;,\r\n\t\t\t&quot;!=&quot;).replaceAll(&quot;&lt;&quot;, &quot; &lt; &quot;).replaceAll(&quot;&gt;&quot;, &quot; &gt; &quot;);\r\n\t}","title":"How to get SQL from Hibernate Criteria API (*not* for logging)","body":"<p>This answer is based on user3715338's answer (with a small spelling error corrected) and mixed with Michael's answer for Hibernate 3.6 - based on the accepted answer from Brian Deterling. I then extended it (for PostgreSQL) with a couple more types replacing the questionmarks:</p>\n\n<pre><code>public static String toSql(Criteria criteria)\n{\n    String sql = \"\";\n    Object[] parameters = null;\n    try\n    {\n        CriteriaImpl criteriaImpl = (CriteriaImpl) criteria;\n        SessionImpl sessionImpl = (SessionImpl) criteriaImpl.getSession();\n        SessionFactoryImplementor factory = sessionImpl.getSessionFactory();\n        String[] implementors = factory.getImplementors(criteriaImpl.getEntityOrClassName());\n        OuterJoinLoadable persister = (OuterJoinLoadable) factory.getEntityPersister(implementors[0]);\n        LoadQueryInfluencers loadQueryInfluencers = new LoadQueryInfluencers();\n        CriteriaLoader loader = new CriteriaLoader(persister, factory,\n            criteriaImpl, implementors[0].toString(), loadQueryInfluencers);\n        Field f = OuterJoinLoader.class.getDeclaredField(\"sql\");\n        f.setAccessible(true);\n        sql = (String) f.get(loader);\n        Field fp = CriteriaLoader.class.getDeclaredField(\"translator\");\n        fp.setAccessible(true);\n        CriteriaQueryTranslator translator = (CriteriaQueryTranslator) fp.get(loader);\n        parameters = translator.getQueryParameters().getPositionalParameterValues();\n    }\n    catch (Exception e)\n    {\n        throw new RuntimeException(e);\n    }\n    if (sql != null)\n    {\n        int fromPosition = sql.indexOf(\" from \");\n        sql = \"\\nSELECT * \" + sql.substring(fromPosition);\n\n        if (parameters != null &amp;&amp; parameters.length &gt; 0)\n        {\n            for (Object val : parameters)\n            {\n                String value = \"%\";\n                if (val instanceof Boolean)\n                {\n                    value = ((Boolean) val) ? \"1\" : \"0\";\n                }\n                else if (val instanceof String)\n                {\n                    value = \"'\" + val + \"'\";\n                }\n                else if (val instanceof Number)\n                {\n                    value = val.toString();\n                }\n                else if (val instanceof Class)\n                {\n                    value = \"'\" + ((Class) val).getCanonicalName() + \"'\";\n                }\n                else if (val instanceof Date)\n                {\n                    SimpleDateFormat sdf = new SimpleDateFormat(\n                        \"yyyy-MM-dd HH:mm:ss.SSS\");\n                    value = \"'\" + sdf.format((Date) val) + \"'\";\n                }\n                else if (val instanceof Enum)\n                {\n                    value = \"\" + ((Enum) val).ordinal();\n                }\n                else\n                {\n                    value = val.toString();\n                }\n                sql = sql.replaceFirst(\"\\\\?\", value);\n            }\n        }\n    }\n    return sql.replaceAll(\"left outer join\", \"\\nleft outer join\").replaceAll(\n        \" and \", \"\\nand \").replaceAll(\" on \", \"\\non \").replaceAll(\"&lt;&gt;\",\n        \"!=\").replaceAll(\"&lt;\", \" &lt; \").replaceAll(\"&gt;\", \" &gt; \");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1508240000,"creation_date":1508238286,"answer_id":46788621,"question_id":554481,"body_markdown":"For anyone wishing to do this in a single line (e.g in the Display/Immediate window, a watch expression or similar in a debug session), the following will do so and &quot;pretty print&quot; the SQL:\r\n\r\n    new org.hibernate.jdbc.util.BasicFormatterImpl().format((new org.hibernate.loader.criteria.CriteriaJoinWalker((org.hibernate.persister.entity.OuterJoinLoadable)((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory().getEntityPersister(((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory().getImplementors(((org.hibernate.impl.CriteriaImpl)crit).getEntityOrClassName())[0]),new org.hibernate.loader.criteria.CriteriaQueryTranslator(((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory(),((org.hibernate.impl.CriteriaImpl)crit),((org.hibernate.impl.CriteriaImpl)crit).getEntityOrClassName(),org.hibernate.loader.criteria.CriteriaQueryTranslator.ROOT_SQL_ALIAS),((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory(),(org.hibernate.impl.CriteriaImpl)crit,((org.hibernate.impl.CriteriaImpl)crit).getEntityOrClassName(),((org.hibernate.impl.CriteriaImpl)crit).getSession().getEnabledFilters())).getSQLString());\r\n\r\n...or here&#39;s an easier to read version:\r\n\r\n    new org.hibernate.jdbc.util.BasicFormatterImpl().format(\r\n      (new org.hibernate.loader.criteria.CriteriaJoinWalker(\r\n         (org.hibernate.persister.entity.OuterJoinLoadable)\r\n          ((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory().getEntityPersister(\r\n            ((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory().getImplementors(\r\n              ((org.hibernate.impl.CriteriaImpl)crit).getEntityOrClassName())[0]),\r\n         new org.hibernate.loader.criteria.CriteriaQueryTranslator(\r\n              ((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory(),\r\n              ((org.hibernate.impl.CriteriaImpl)crit),\r\n              ((org.hibernate.impl.CriteriaImpl)crit).getEntityOrClassName(),\r\n              org.hibernate.loader.criteria.CriteriaQueryTranslator.ROOT_SQL_ALIAS),\r\n         ((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory(),\r\n         (org.hibernate.impl.CriteriaImpl)crit,\r\n         ((org.hibernate.impl.CriteriaImpl)crit).getEntityOrClassName(),\r\n         ((org.hibernate.impl.CriteriaImpl)crit).getSession().getEnabledFilters()\r\n       )\r\n      ).getSQLString()\r\n    );\r\n\r\n**Notes:**\r\n\r\n 1. The answer is based on [the solution posted by ramdane.i](https://stackoverflow.com/questions/554481/46788621#3888873).\r\n 2. It assumes the [Criteria](https://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/Criteria.html) object is named `crit`. *If named differently, do a search and replace*.\r\n 3. It assumes the Hibernate version is later than 3.3.2.GA but earlier than 4.0 in order to use [BasicFormatterImpl](https://docs.jboss.org/hibernate/stable/core.old/api/org/hibernate/jdbc/util/BasicFormatterImpl.html) to &quot;pretty print&quot; the HQL. *If using a different version, see [this answer](https://stackoverflow.com/questions/312552#559120) for how to modify. Or perhaps just remove the pretty printing entirely as it&#39;s just a &quot;nice to have&quot;*.\r\n 4. It&#39;s using [`getEnabledFilters`](https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/engine/SessionImplementor.html#getEnabledFilters()) rather than [`getLoadQueryInfluencers()`](https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/engine/SessionImplementor.html#getLoadQueryInfluencers()) for backwards compatibility since the latter was introduced in a later version of Hibernate (3.5???)\r\n 5. It doesn&#39;t output the actual parameter values used if the query is parameterized.","title":"How to get SQL from Hibernate Criteria API (*not* for logging)","body":"<p>For anyone wishing to do this in a single line (e.g in the Display/Immediate window, a watch expression or similar in a debug session), the following will do so and \"pretty print\" the SQL:</p>\n\n<pre><code>new org.hibernate.jdbc.util.BasicFormatterImpl().format((new org.hibernate.loader.criteria.CriteriaJoinWalker((org.hibernate.persister.entity.OuterJoinLoadable)((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory().getEntityPersister(((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory().getImplementors(((org.hibernate.impl.CriteriaImpl)crit).getEntityOrClassName())[0]),new org.hibernate.loader.criteria.CriteriaQueryTranslator(((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory(),((org.hibernate.impl.CriteriaImpl)crit),((org.hibernate.impl.CriteriaImpl)crit).getEntityOrClassName(),org.hibernate.loader.criteria.CriteriaQueryTranslator.ROOT_SQL_ALIAS),((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory(),(org.hibernate.impl.CriteriaImpl)crit,((org.hibernate.impl.CriteriaImpl)crit).getEntityOrClassName(),((org.hibernate.impl.CriteriaImpl)crit).getSession().getEnabledFilters())).getSQLString());\n</code></pre>\n\n<p>...or here's an easier to read version:</p>\n\n<pre><code>new org.hibernate.jdbc.util.BasicFormatterImpl().format(\n  (new org.hibernate.loader.criteria.CriteriaJoinWalker(\n     (org.hibernate.persister.entity.OuterJoinLoadable)\n      ((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory().getEntityPersister(\n        ((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory().getImplementors(\n          ((org.hibernate.impl.CriteriaImpl)crit).getEntityOrClassName())[0]),\n     new org.hibernate.loader.criteria.CriteriaQueryTranslator(\n          ((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory(),\n          ((org.hibernate.impl.CriteriaImpl)crit),\n          ((org.hibernate.impl.CriteriaImpl)crit).getEntityOrClassName(),\n          org.hibernate.loader.criteria.CriteriaQueryTranslator.ROOT_SQL_ALIAS),\n     ((org.hibernate.impl.CriteriaImpl)crit).getSession().getFactory(),\n     (org.hibernate.impl.CriteriaImpl)crit,\n     ((org.hibernate.impl.CriteriaImpl)crit).getEntityOrClassName(),\n     ((org.hibernate.impl.CriteriaImpl)crit).getSession().getEnabledFilters()\n   )\n  ).getSQLString()\n);\n</code></pre>\n\n<p><strong>Notes:</strong></p>\n\n<ol>\n<li>The answer is based on <a href=\"https://stackoverflow.com/questions/554481/46788621#3888873\">the solution posted by ramdane.i</a>.</li>\n<li>It assumes the <a href=\"https://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/Criteria.html\" rel=\"nofollow noreferrer\">Criteria</a> object is named <code>crit</code>. <em>If named differently, do a search and replace</em>.</li>\n<li>It assumes the Hibernate version is later than 3.3.2.GA but earlier than 4.0 in order to use <a href=\"https://docs.jboss.org/hibernate/stable/core.old/api/org/hibernate/jdbc/util/BasicFormatterImpl.html\" rel=\"nofollow noreferrer\">BasicFormatterImpl</a> to \"pretty print\" the HQL. <em>If using a different version, see <a href=\"https://stackoverflow.com/questions/312552#559120\">this answer</a> for how to modify. Or perhaps just remove the pretty printing entirely as it's just a \"nice to have\"</em>.</li>\n<li>It's using <a href=\"https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/engine/SessionImplementor.html#getEnabledFilters()\" rel=\"nofollow noreferrer\"><code>getEnabledFilters</code></a> rather than <a href=\"https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/engine/SessionImplementor.html#getLoadQueryInfluencers()\" rel=\"nofollow noreferrer\"><code>getLoadQueryInfluencers()</code></a> for backwards compatibility since the latter was introduced in a later version of Hibernate (3.5???)</li>\n<li>It doesn't output the actual parameter values used if the query is parameterized.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4228050,"reputation":1228,"user_id":3461120,"display_name":"prashant.kr.mod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657229536,"creation_date":1657229536,"answer_id":72904459,"question_id":554481,"body_markdown":"Michael&#39;s answer is perfect, just the imports it is missing:\r\n\r\n    import java.lang.reflect.Field;\r\n    \r\n    import org.hibernate.Criteria;\r\n    import org.hibernate.criterion.DetachedCriteria;\r\n    import org.hibernate.criterion.Order;\r\n    import org.hibernate.criterion.Projections;\r\n    import org.hibernate.criterion.Property;\r\n    import org.hibernate.criterion.Restrictions;\r\n    import org.hibernate.criterion.Subqueries;\r\n    import org.hibernate.engine.spi.LoadQueryInfluencers;\r\n    import org.hibernate.engine.spi.SessionFactoryImplementor;\r\n    import org.hibernate.internal.CriteriaImpl;\r\n    import org.hibernate.internal.SessionImpl;\r\n    import org.hibernate.loader.OuterJoinLoader;\r\n    import org.hibernate.loader.criteria.CriteriaLoader;\r\n    import org.hibernate.persister.entity.OuterJoinLoadable;\r\n\r\n  \r\n\r\n      CriteriaImpl c = (CriteriaImpl) criteria;\r\n      SessionImpl s = (SessionImpl) c.getSession();\r\n      SessionFactoryImplementor factory = (SessionFactoryImplementor) s.getSessionFactory();\r\n      String[] implementors = factory.getImplementors(c.getEntityOrClassName());\r\n      LoadQueryInfluencers lqis = new LoadQueryInfluencers();\r\n      CriteriaLoader loader = new CriteriaLoader((OuterJoinLoadable) factory.getEntityPersister(implementors[0]), factory, c, implementors[0], lqis);\r\n      Field f = OuterJoinLoader.class.getDeclaredField(&quot;sql&quot;);\r\n      f.setAccessible(true);\r\n      String sql = (String) f.get(loader);","title":"How to get SQL from Hibernate Criteria API (*not* for logging)","body":"<p>Michael's answer is perfect, just the imports it is missing:</p>\n<pre><code>import java.lang.reflect.Field;\n\nimport org.hibernate.Criteria;\nimport org.hibernate.criterion.DetachedCriteria;\nimport org.hibernate.criterion.Order;\nimport org.hibernate.criterion.Projections;\nimport org.hibernate.criterion.Property;\nimport org.hibernate.criterion.Restrictions;\nimport org.hibernate.criterion.Subqueries;\nimport org.hibernate.engine.spi.LoadQueryInfluencers;\nimport org.hibernate.engine.spi.SessionFactoryImplementor;\nimport org.hibernate.internal.CriteriaImpl;\nimport org.hibernate.internal.SessionImpl;\nimport org.hibernate.loader.OuterJoinLoader;\nimport org.hibernate.loader.criteria.CriteriaLoader;\nimport org.hibernate.persister.entity.OuterJoinLoadable;\n\n\n\n  CriteriaImpl c = (CriteriaImpl) criteria;\n  SessionImpl s = (SessionImpl) c.getSession();\n  SessionFactoryImplementor factory = (SessionFactoryImplementor) s.getSessionFactory();\n  String[] implementors = factory.getImplementors(c.getEntityOrClassName());\n  LoadQueryInfluencers lqis = new LoadQueryInfluencers();\n  CriteriaLoader loader = new CriteriaLoader((OuterJoinLoadable) factory.getEntityPersister(implementors[0]), factory, c, implementors[0], lqis);\n  Field f = OuterJoinLoader.class.getDeclaredField(&quot;sql&quot;);\n  f.setAccessible(true);\n  String sql = (String) f.get(loader);\n</code></pre>\n"}],"owner":{"account_id":19465,"reputation":3028,"user_id":45671,"accept_rate":60,"display_name":"David Bult&#233;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128490,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":555192,"answer_count":9,"score":79,"last_activity_date":1657229536,"creation_date":1234816890,"question_id":554481,"body_markdown":"Is there a way to get the (to-be-generated) SQL from a Hibernate `Criteria`?\r\n\r\nIdeally, I would have something like:\r\n\r\n    Criteria criteria = session.createCriteria(Operator.class);\r\n    \r\n    ... build up the criteria ...\r\n    ... and then do something like ...\r\n    \r\n    String sql = criteria.toSql()\r\n    \r\n    (But this of course does not exist)\r\n\r\nThe idea would then be to use the SQL as part of a huge &#39;MINUS&#39; query (I need to find the differences between 2 identical schemas - identical in structure, not in data - and the MINUS is not supported by Hibernate)\r\n\r\n(BTW I know I can check the SQL from the log files)\r\n\r\n","title":"How to get SQL from Hibernate Criteria API (*not* for logging)","body":"<p>Is there a way to get the (to-be-generated) SQL from a Hibernate <code>Criteria</code>?</p>\n\n<p>Ideally, I would have something like:</p>\n\n<pre><code>Criteria criteria = session.createCriteria(Operator.class);\n\n... build up the criteria ...\n... and then do something like ...\n\nString sql = criteria.toSql()\n\n(But this of course does not exist)\n</code></pre>\n\n<p>The idea would then be to use the SQL as part of a huge 'MINUS' query (I need to find the differences between 2 identical schemas - identical in structure, not in data - and the MINUS is not supported by Hibernate)</p>\n\n<p>(BTW I know I can check the SQL from the log files)</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1657226268,"post_id":72903883,"comment_id":128767392,"body_markdown":"If using kotlin, you can use `View.updateLayoutParams {} ` extension function to update layout.","body":"If using kotlin, you can use <code>View.updateLayoutParams {} </code> extension function to update layout."},{"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"score":0,"creation_date":1657227130,"post_id":72903883,"comment_id":128767638,"body_markdown":"@DarShan my project is in java and I am new to Kotlin. Any idea how to do it in Java?","body":"@DarShan my project is in java and I am new to Kotlin. Any idea how to do it in Java?"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1657227222,"post_id":72903883,"comment_id":128767661,"body_markdown":"You can manually get the existing layout params, make changes &amp; set the new params to the required view. Something like this: https://stackoverflow.com/a/10160317","body":"You can manually get the existing layout params, make changes &amp; set the new params to the required view. Something like this: <a href=\"https://stackoverflow.com/a/10160317\">stackoverflow.com/a/10160317</a>"}],"answers":[{"tags":[],"owner":{"account_id":19186393,"reputation":102,"user_id":14017100,"display_name":"ARCHER"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657228041,"creation_date":1657228041,"answer_id":72904227,"question_id":72903883,"body_markdown":"\r\nprogramaticlly on button onclicklistner \r\nWhen images are gone you can set\r\n\r\n    Checkbox checkbox = findViewById(R.id.checkbox_child);\r\n        \r\n    if (myImageView.getVisibility() == View.VISIBLE) {\r\n        // Its visible\r\n     \r\n    \r\n    LayoutParams lp = new LayoutParams(0, 42);\r\n    checkbox.setLayoutParams(lp);\r\n    \r\n    } else {\r\n        // Either gone or invisible\r\n    \r\n    LayoutParams lp = new LayoutParams(LayoutParams.MATCH_PARENT, 42);\r\n    checkbox.setLayoutParams(lp);\r\n    }\r\n\r\n   \r\n","title":"How to change these views layouts programmatically? I have the views in xml file, but later want to change their size programmatically","body":"<p>programaticlly on button onclicklistner\nWhen images are gone you can set</p>\n<pre><code>Checkbox checkbox = findViewById(R.id.checkbox_child);\n    \nif (myImageView.getVisibility() == View.VISIBLE) {\n    // Its visible\n \n\nLayoutParams lp = new LayoutParams(0, 42);\ncheckbox.setLayoutParams(lp);\n\n} else {\n    // Either gone or invisible\n\nLayoutParams lp = new LayoutParams(LayoutParams.MATCH_PARENT, 42);\ncheckbox.setLayoutParams(lp);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user19506097"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657229164,"creation_date":1657229164,"answer_id":72904407,"question_id":72903883,"body_markdown":"If i understood what you are trying to do, then there is a simple way of doing it programatically :\r\nin `onCreate()` you declare your views\r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    ImageView deleteIv = findViewById(R.id.delete_child);\r\n    ImageView editIv = findViewById(R.id.edit_child);\r\n    CheckBox checkbox = findViewById(R.id.checkbox_child);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThen you set an `onClickListener` over your button and you have to put this code inside of `onClick()` method generated by the button&#39;s listener\r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    yourButton.setOnClickListener( new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n\r\n                    deleteIv.setVisibility(View.GONE);\r\n                    editIv.setVisibility(View.GONE);\r\n                    \r\n                    // Creating a new LayoutParams object to set to the checkBox\r\n                    \r\n                    LinearLayout.LayoutParams lparams = new TableLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATH_PARENT);\r\n                    // Setting the new layout parameters to the checkbox as wanted\r\n                    checkbox.setLayoutParams(lparams);\r\n                }\r\n            });\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to change these views layouts programmatically? I have the views in xml file, but later want to change their size programmatically","body":"<p>If i understood what you are trying to do, then there is a simple way of doing it programatically :\nin <code>onCreate()</code> you declare your views</p>\n<pre class=\"lang-java prettyprint-override\"><code>ImageView deleteIv = findViewById(R.id.delete_child);\nImageView editIv = findViewById(R.id.edit_child);\nCheckBox checkbox = findViewById(R.id.checkbox_child);\n</code></pre>\n<p>Then you set an <code>onClickListener</code> over your button and you have to put this code inside of <code>onClick()</code> method generated by the button's listener</p>\n<pre class=\"lang-java prettyprint-override\"><code>yourButton.setOnClickListener( new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                deleteIv.setVisibility(View.GONE);\n                editIv.setVisibility(View.GONE);\n                \n                // Creating a new LayoutParams object to set to the checkBox\n                \n                LinearLayout.LayoutParams lparams = new TableLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATH_PARENT);\n                // Setting the new layout parameters to the checkbox as wanted\n                checkbox.setLayoutParams(lparams);\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657229164,"creation_date":1657225775,"question_id":72903883,"body_markdown":"I have a working layout in .xml file no problem here. In my code there is a button that show or hide these two imageViews. When I hide the two imageViews I want to set the checkbox layout constraints to mach parent instead of matching constraints(&quot;0dp&quot;), and when I show the the two imageViews I want to set checkbox layout to match constraints.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/constraint_child&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/delete_child&quot;\r\n        android:layout_width=&quot;36dp&quot;\r\n        android:layout_height=&quot;36dp&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:src=&quot;@drawable/delete&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/edit_child&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;CheckBox\r\n        android:id=&quot;@+id/checkbox_child&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;42dp&quot;\r\n        android:text=&quot;CheckBox&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/edit_child&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/edit_child&quot;\r\n        android:layout_width=&quot;26dp&quot;\r\n        android:layout_height=&quot;26dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/delete_child&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/checkbox_child&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:srcCompat=&quot;@drawable/edit&quot; /&gt;\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nI don&#39;t want to create the CheckBox and the two ImageViews programmatically ,because I have created them before in .xml file. what I want is changing these views programmatically in java.\r\nThanks in advance.\r\n","title":"How to change these views layouts programmatically? I have the views in xml file, but later want to change their size programmatically","body":"<p>I have a working layout in .xml file no problem here. In my code there is a button that show or hide these two imageViews. When I hide the two imageViews I want to set the checkbox layout constraints to mach parent instead of matching constraints(&quot;0dp&quot;), and when I show the the two imageViews I want to set checkbox layout to match constraints.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:id=&quot;@+id/constraint_child&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;&gt;\n\n\n&lt;ImageView\n    android:id=&quot;@+id/delete_child&quot;\n    android:layout_width=&quot;36dp&quot;\n    android:layout_height=&quot;36dp&quot;\n    android:layout_marginStart=&quot;16dp&quot;\n    android:src=&quot;@drawable/delete&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toEndOf=&quot;@+id/edit_child&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;CheckBox\n    android:id=&quot;@+id/checkbox_child&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;42dp&quot;\n    android:text=&quot;CheckBox&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toStartOf=&quot;@+id/edit_child&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;ImageView\n    android:id=&quot;@+id/edit_child&quot;\n    android:layout_width=&quot;26dp&quot;\n    android:layout_height=&quot;26dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toStartOf=&quot;@+id/delete_child&quot;\n    app:layout_constraintStart_toEndOf=&quot;@+id/checkbox_child&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:srcCompat=&quot;@drawable/edit&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I don't want to create the CheckBox and the two ImageViews programmatically ,because I have created them before in .xml file. what I want is changing these views programmatically in java.\nThanks in advance.</p>\n"},{"tags":["java","spring-data-cassandra"],"comments":[{"owner":{"account_id":3167875,"reputation":818,"user_id":2677458,"accept_rate":100,"display_name":"K.E."},"score":0,"creation_date":1448521646,"post_id":33921062,"comment_id":55625153,"body_markdown":"Ok, it looks like there is no way to set a custom consistency level yet: https://jira.spring.io/browse/DATACASS-145","body":"Ok, it looks like there is no way to set a custom consistency level yet: <a href=\"https://jira.spring.io/browse/DATACASS-145\" rel=\"nofollow noreferrer\">jira.spring.io/browse/DATACASS-145</a>"}],"answers":[{"tags":[],"owner":{"account_id":1215487,"reputation":1564,"user_id":1183167,"display_name":"Chandra kant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448551896,"creation_date":1448551494,"answer_id":33942121,"question_id":33921062,"body_markdown":"These are the consistency levels defined right now :  \r\n **ANY,   ONE          ,\r\n    TWO         ,\r\n    THREE        ,\r\n    QUORUM       ,\r\n    ALL          ,\r\n    LOCAL_QUORUM,\r\n    EACH_QUORUM ,\r\n    SERIAL       ,\r\n    LOCAL_SERIAL , \r\n    LOCAL_ONE** .   \r\nIf you are talking about using other than these, I don&#39;t think there is a pluggable solution for that right now , where you define number of nodes that will participate to assert required consistency.   \r\nIf you want to use any of the above defined consistencies ,   \r\nan example would be :  \r\n\r\n            Select s = QueryBuilder.select().from(&quot;employee&quot;);\r\n    \t\ts.where(QueryBuilder.eq(&quot;id&quot;, &quot;234&quot;));\r\n    \t\ts.setConsistencyLevel(ConsistencyLevel.QUORUM) ;","title":"spring-data-cassandra set consistency level","body":"<p>These are the consistency levels defined right now :<br>\n <strong>ANY,   ONE          ,\n    TWO         ,\n    THREE        ,\n    QUORUM       ,\n    ALL          ,\n    LOCAL_QUORUM,\n    EACH_QUORUM ,\n    SERIAL       ,\n    LOCAL_SERIAL , \n    LOCAL_ONE</strong> .<br>\nIf you are talking about using other than these, I don't think there is a pluggable solution for that right now , where you define number of nodes that will participate to assert required consistency.<br>\nIf you want to use any of the above defined consistencies ,<br>\nan example would be :  </p>\n\n<pre><code>        Select s = QueryBuilder.select().from(\"employee\");\n        s.where(QueryBuilder.eq(\"id\", \"234\"));\n        s.setConsistencyLevel(ConsistencyLevel.QUORUM) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3167875,"reputation":818,"user_id":2677458,"accept_rate":100,"display_name":"K.E."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1448868765,"creation_date":1448868765,"answer_id":33993512,"question_id":33921062,"body_markdown":"It is not possible to set a custom consistency level when using the CrudRepository Interface of spring-data-cassandra. There is an open issue https://jira.spring.io/browse/DATACASS-14. Reason is that the SimpleCassandraRepository which implements the methods of the interface calls the CassandraOperations methods without the WriteOptions parameter. \r\n\r\n**My solution**: I wrote a custom crudrepository implementation, in this I can set the consistency level on my own.","title":"spring-data-cassandra set consistency level","body":"<p>It is not possible to set a custom consistency level when using the CrudRepository Interface of spring-data-cassandra. There is an open issue <a href=\"https://jira.spring.io/browse/DATACASS-14\" rel=\"nofollow\">https://jira.spring.io/browse/DATACASS-14</a>. Reason is that the SimpleCassandraRepository which implements the methods of the interface calls the CassandraOperations methods without the WriteOptions parameter. </p>\n\n<p><strong>My solution</strong>: I wrote a custom crudrepository implementation, in this I can set the consistency level on my own.</p>\n"},{"tags":[],"owner":{"account_id":6022103,"reputation":53,"user_id":4728893,"display_name":"Uwe Daub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457453637,"creation_date":1457453637,"answer_id":35872393,"question_id":33921062,"body_markdown":"One possibility is to set it in the application.properties file:\r\nspring.data.cassandra.consistency-level=LOCAL_QUORUM\r\n","title":"spring-data-cassandra set consistency level","body":"<p>One possibility is to set it in the application.properties file:\nspring.data.cassandra.consistency-level=LOCAL_QUORUM</p>\n"},{"tags":[],"owner":{"account_id":1521806,"reputation":11725,"user_id":1421254,"accept_rate":100,"display_name":"Dmitriusan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490959046,"creation_date":1490958496,"answer_id":43139173,"question_id":33921062,"body_markdown":"As of `spring-data-cassandra` **release 1.5**, consistency level is already configurable (see `org.springframework.cassandra.core.QueryOptions#setConsistencyLevel(org.springframework.cassandra.core.ConsistencyLevel))`\r\n\r\nIt may be specified as a part of `QueryOptions` either for a single query via `org.springframework.cassandra.core.CqlOperations#execute(java.lang.String, org.springframework.cassandra.core.QueryOptions)` , or for all types of queries via `org.springframework.cassandra.core.CqlTemplate#addQueryOptions`\r\n\r\nAlso it&#39;s possible to set consistency level via `WriteOptions` and then pass them to `org.springframework.data.cassandra.core.CassandraOperations#insert(T, org.springframework.cassandra.core.WriteOptions)`","title":"spring-data-cassandra set consistency level","body":"<p>As of <code>spring-data-cassandra</code> <strong>release 1.5</strong>, consistency level is already configurable (see <code>org.springframework.cassandra.core.QueryOptions#setConsistencyLevel(org.springframework.cassandra.core.ConsistencyLevel))</code></p>\n\n<p>It may be specified as a part of <code>QueryOptions</code> either for a single query via <code>org.springframework.cassandra.core.CqlOperations#execute(java.lang.String, org.springframework.cassandra.core.QueryOptions)</code> , or for all types of queries via <code>org.springframework.cassandra.core.CqlTemplate#addQueryOptions</code></p>\n\n<p>Also it's possible to set consistency level via <code>WriteOptions</code> and then pass them to <code>org.springframework.data.cassandra.core.CassandraOperations#insert(T, org.springframework.cassandra.core.WriteOptions)</code></p>\n"},{"tags":[],"owner":{"account_id":4655615,"reputation":1894,"user_id":3771299,"accept_rate":56,"display_name":"Hasson"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1491931877,"creation_date":1491920254,"answer_id":43348590,"question_id":33921062,"body_markdown":"You can now set this level in spring boot by setting the following properties in application.properties file.\r\n\r\n    spring.data.cassandra.consistency-level=quorum\r\n    spring.data.cassandra.serial-consistency-level=quorum","title":"spring-data-cassandra set consistency level","body":"<p>You can now set this level in spring boot by setting the following properties in application.properties file.</p>\n\n<pre><code>spring.data.cassandra.consistency-level=quorum\nspring.data.cassandra.serial-consistency-level=quorum\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1168340,"reputation":2740,"user_id":2014439,"accept_rate":86,"display_name":"walv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509374740,"creation_date":1509369687,"answer_id":47016324,"question_id":33921062,"body_markdown":"Docs say you can set it as annotation https://docs.spring.io/spring-data/cassandra/docs/current/reference/html/#cassandra.repositories.queries.options .\r\n\r\nIMO, it is always better to control the consistency level per request rather than per application.\r\nRepositories:\r\n    \r\n    public interface PersonRepository extends CrudRepository&lt;Person, String&gt; {\r\n\r\n        @Consistency(ConsistencyLevel.LOCAL_ONE)\r\n        List&lt;Person&gt; findByLastname(String lastname);\r\n\r\n        List&lt;Person&gt; findByFirstname(String firstname, QueryOptions options);\r\n    }\r\n\r\nCassandraTemplate:\r\n\r\n    cassandraTemplate.insert(myEntity, new WriteOptions().builder()\r\n                        .consistencyLevel(ConsistencyLevel.QUORUM).build())","title":"spring-data-cassandra set consistency level","body":"<p>Docs say you can set it as annotation <a href=\"https://docs.spring.io/spring-data/cassandra/docs/current/reference/html/#cassandra.repositories.queries.options\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/cassandra/docs/current/reference/html/#cassandra.repositories.queries.options</a> .</p>\n\n<p>IMO, it is always better to control the consistency level per request rather than per application.\nRepositories:</p>\n\n<pre><code>public interface PersonRepository extends CrudRepository&lt;Person, String&gt; {\n\n    @Consistency(ConsistencyLevel.LOCAL_ONE)\n    List&lt;Person&gt; findByLastname(String lastname);\n\n    List&lt;Person&gt; findByFirstname(String firstname, QueryOptions options);\n}\n</code></pre>\n\n<p>CassandraTemplate:</p>\n\n<pre><code>cassandraTemplate.insert(myEntity, new WriteOptions().builder()\n                    .consistencyLevel(ConsistencyLevel.QUORUM).build())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14167302,"reputation":11,"user_id":10234902,"display_name":"Manas Padhiary"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534431468,"creation_date":1534431468,"answer_id":51880050,"question_id":33921062,"body_markdown":"I am not sure what do you mean by &quot;If you are **not using boot** and want to set this globally, give this a shot&quot;\r\nI used spring boot and this worked`\r\n\r\n    @Configuration     \r\n    public class CassandraConfig extends AbstractCassandraConfiguration {\r\n\r\n \r\n\r\n\r\n    @Override\r\n    public QueryOptions getQueryOptions() {\r\n        QueryOptions queryOptions = new QueryOptions();\r\n        queryOptions.setConsistencyLevel(ConsistencyLevel.TWO);\r\n        return queryOptions;\r\n    }\r\n\r\n    @Override\r\n    protected String getKeyspaceName() {\r\n        return keyspaceName;\r\n    }\r\n\r\n    @Override\r\n    public CassandraCqlClusterFactoryBean cluster() {\r\n        CassandraCqlClusterFactoryBean cluster = super.cluster();\r\n        cluster.setContactPoints(contactPoints);\r\n        cluster.setPort(port);\r\n        cluster.setUsername(username);\r\n        cluster.setPassword(password);\r\n        return cluster;\r\n    }\r\n    //Also added @Import to Main class\r\n\r\n    @Import(CassandraConfig.class)\r\n    @EnableJpaRepositories(basePackageClasses = Vexxxxxxy.class)\r\n    @EnableCassandraRepositories(basePackageClasses = Txxxxxry.class)\r\n    @EntityScan(basePackageClasses = { Entity.class, Vxxxxity.class })\r\n    @SpringBootApplication(scanBasePackages = &quot;com.xx.xxx&quot;)\r\n    public class DrixxxxxxxxMain`\r\n   ","title":"spring-data-cassandra set consistency level","body":"<p>I am not sure what do you mean by \"If you are <strong>not using boot</strong> and want to set this globally, give this a shot\"\nI used spring boot and this worked`</p>\n\n<pre><code>@Configuration     \npublic class CassandraConfig extends AbstractCassandraConfiguration {\n\n\n\n\n@Override\npublic QueryOptions getQueryOptions() {\n    QueryOptions queryOptions = new QueryOptions();\n    queryOptions.setConsistencyLevel(ConsistencyLevel.TWO);\n    return queryOptions;\n}\n\n@Override\nprotected String getKeyspaceName() {\n    return keyspaceName;\n}\n\n@Override\npublic CassandraCqlClusterFactoryBean cluster() {\n    CassandraCqlClusterFactoryBean cluster = super.cluster();\n    cluster.setContactPoints(contactPoints);\n    cluster.setPort(port);\n    cluster.setUsername(username);\n    cluster.setPassword(password);\n    return cluster;\n}\n//Also added @Import to Main class\n\n@Import(CassandraConfig.class)\n@EnableJpaRepositories(basePackageClasses = Vexxxxxxy.class)\n@EnableCassandraRepositories(basePackageClasses = Txxxxxry.class)\n@EntityScan(basePackageClasses = { Entity.class, Vxxxxity.class })\n@SpringBootApplication(scanBasePackages = \"com.xx.xxx\")\npublic class DrixxxxxxxxMain`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1392092,"reputation":11,"user_id":19506073,"display_name":"user19506073"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657228947,"creation_date":1657228947,"answer_id":72904375,"question_id":33921062,"body_markdown":"Resuscitating this old thread in case anyone else stumbles here with the same/similar issue.\r\n\r\nFor `spring-data-cassandra:3.4.0` using `DataStax` I&#39;ve made it work using:\r\n\r\n```\r\n@Configuration \r\npublic class CassandraConfig extends AbstractCassandraConfiguration {\r\n\r\n    @Override\r\n    public CassandraAdminTemplate cassandraTemplate() {\r\n        CassandraAdminTemplate adminTemplate = super.cassandraTemplate();\r\n        CqlTemplate cqlTemplate = (CqlTemplate) adminTemplate.getCqlOperations();\r\n        cqlTemplate.setConsistencyLevel(DefaultConsistencyLevel.valueOf(&quot;LOCAL_QUORUM&quot;));\r\n        cqlTemplate.setSerialConsistencyLevel(DefaultConsistencyLevel.valueOf(&quot;LOCAL_SERIAL&quot;));\r\n        return adminTemplate;\r\n    } }\r\n```\r\n\r\nI hope this helps.","title":"spring-data-cassandra set consistency level","body":"<p>Resuscitating this old thread in case anyone else stumbles here with the same/similar issue.</p>\n<p>For <code>spring-data-cassandra:3.4.0</code> using <code>DataStax</code> I've made it work using:</p>\n<pre><code>@Configuration \npublic class CassandraConfig extends AbstractCassandraConfiguration {\n\n    @Override\n    public CassandraAdminTemplate cassandraTemplate() {\n        CassandraAdminTemplate adminTemplate = super.cassandraTemplate();\n        CqlTemplate cqlTemplate = (CqlTemplate) adminTemplate.getCqlOperations();\n        cqlTemplate.setConsistencyLevel(DefaultConsistencyLevel.valueOf(&quot;LOCAL_QUORUM&quot;));\n        cqlTemplate.setSerialConsistencyLevel(DefaultConsistencyLevel.valueOf(&quot;LOCAL_SERIAL&quot;));\n        return adminTemplate;\n    } }\n</code></pre>\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":3167875,"reputation":818,"user_id":2677458,"accept_rate":100,"display_name":"K.E."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14165,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":33993512,"answer_count":8,"score":5,"last_activity_date":1657228947,"creation_date":1448467282,"question_id":33921062,"body_markdown":"I am using spring-data-cassandra (1.3.1.RELEASE) to connect to a cassandra database. Is there a way to change the consistency level in spring-data-cassandra.\r\nBy default it is level 1 (https://stackoverflow.com/questions/25066566/what-is-the-default-consistency-level-in-spring-data-cassandra). But how to change that?\r\n\r\nThank you!\r\n\r\n","title":"spring-data-cassandra set consistency level","body":"<p>I am using spring-data-cassandra (1.3.1.RELEASE) to connect to a cassandra database. Is there a way to change the consistency level in spring-data-cassandra.\nBy default it is level 1 (<a href=\"https://stackoverflow.com/questions/25066566/what-is-the-default-consistency-level-in-spring-data-cassandra\">What is the default consistency level in spring-data-cassandra?</a>). But how to change that?</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","selenium","annotations","appium","appium-ios"],"answers":[{"tags":[],"owner":{"account_id":3121271,"reputation":84,"user_id":2640987,"display_name":"Sandeep jaju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565089790,"creation_date":1565089790,"answer_id":57374672,"question_id":57373372,"body_markdown":"I assume this could be the issue:\r\nYou instruct testng to run parallel at suite tag not at test tag.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Suite&quot; thread-count=&quot;5&quot; parallel=&quot;classes&quot;&gt;\r\n        &lt;test  name=&quot;Test&quot;&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;com.live.testcase.TC0001ForgotPassword&quot; /&gt;\r\n                &lt;class name=&quot;com.live.testcase.TC0002Login&quot; /&gt;\r\n                &lt;class name=&quot;com.live.testcase.TC0003Dashboard&quot; /&gt;\r\n                &lt;class name=&quot;com.live.testcase.TC0004Activity&quot; /&gt;\r\n                &lt;class name=&quot;com.live.testcase.TC0005MoveMoney&quot; /&gt;\r\n                &lt;class name=&quot;com.live.testcase.TC0006InternationalTransfer&quot; /&gt;\r\n                &lt;class name=&quot;com.live.testcase.TC0007Integration&quot; /&gt;\r\n                &lt;class name=&quot;com.live.testcase.TC0008Account&quot; /&gt;\r\n            &lt;/classes&gt;\r\n    &lt;/test&gt; &lt;!-- Test --&gt;\r\n&lt;/suite&gt; &lt;!-- Suite --&gt;\r\n","title":"Appium / selenium: testNG parallel execution not working","body":"<p>I assume this could be the issue:\nYou instruct testng to run parallel at suite tag not at test tag.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite name=\"Suite\" thread-count=\"5\" parallel=\"classes\"&gt;\n    &lt;test  name=\"Test\"&gt;\n        &lt;classes&gt;\n            &lt;class name=\"com.live.testcase.TC0001ForgotPassword\" /&gt;\n            &lt;class name=\"com.live.testcase.TC0002Login\" /&gt;\n            &lt;class name=\"com.live.testcase.TC0003Dashboard\" /&gt;\n            &lt;class name=\"com.live.testcase.TC0004Activity\" /&gt;\n            &lt;class name=\"com.live.testcase.TC0005MoveMoney\" /&gt;\n            &lt;class name=\"com.live.testcase.TC0006InternationalTransfer\" /&gt;\n            &lt;class name=\"com.live.testcase.TC0007Integration\" /&gt;\n            &lt;class name=\"com.live.testcase.TC0008Account\" /&gt;\n        &lt;/classes&gt;\n&lt;/test&gt; &lt;!-- Test --&gt;\n</code></pre>\n\n<p> </p>\n"},{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565178172,"creation_date":1565178172,"answer_id":57393662,"question_id":57373372,"body_markdown":"As per [Parallelism and time-outs][1] chapter:\n\n&gt;The parallel attribute on the `&lt;suite&gt;` tag can take one of following values:\n&gt;\n&gt;`&lt;suite name=&quot;My suite&quot; parallel=&quot;methods&quot; thread-count=&quot;5&quot;&gt;`\n&gt;\n&gt;`&lt;suite name=&quot;My suite&quot; parallel=&quot;tests&quot; thread-count=&quot;5&quot;&gt;`\n&gt;\n&gt;`&lt;suite name=&quot;My suite&quot; parallel=&quot;classes&quot; thread-count=&quot;5&quot;&gt;`\n&gt;\n&gt;`&lt;suite name=&quot;My suite&quot; parallel=&quot;instances&quot; thread-count=&quot;5&quot;&gt;`\n\nSo my expectation is that you need to amend your [testng.xml][2] to look like:\n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n    &lt;suite name=&quot;Suite&quot; parallel=&quot;tests&quot; configfailurepolicy=&quot;continue&quot; verbose=&quot;2&quot;&gt;\n        &lt;test name=&quot;TC0001ForgotPassword&quot;&gt;\n            &lt;classes&gt;\n                &lt;class name=&quot;com.live.testcase.TC0001ForgotPassword&quot;/&gt;\n            &lt;/classes&gt;\n        &lt;/test&gt;\n        &lt;test name=&quot;TC0002Login&quot;&gt;\n            &lt;classes&gt;\n                &lt;class name=&quot;com.live.testcase.TC0002Login&quot;/&gt;\n            &lt;/classes&gt;\n        &lt;/test&gt;\n        &lt;test name=&quot;TC0003Dashboard&quot;&gt;\n            &lt;classes&gt;\n                &lt;class name=&quot;com.live.testcase.TC0003Dashboard&quot;/&gt;\n            &lt;/classes&gt;\n        &lt;/test&gt;\n        &lt;test name=&quot;TC0004Activity&quot;&gt;\n            &lt;classes&gt;\n                &lt;class name=&quot;com.live.testcase.TC0004Activity&quot;/&gt;\n            &lt;/classes&gt;\n        &lt;/test&gt;\n        &lt;test name=&quot;TC0005MoveMoney&quot;&gt;\n            &lt;classes&gt;\n                &lt;class name=&quot;com.live.testcase.TC0005MoveMoney&quot;/&gt;\n            &lt;/classes&gt;\n        &lt;/test&gt;\n        &lt;test name=&quot;TC0006InternationalTransfer&quot;&gt;\n            &lt;classes&gt;\n                &lt;class name=&quot;com.live.testcase.TC0006InternationalTransfer&quot;/&gt;\n            &lt;/classes&gt;\n        &lt;/test&gt;\n        &lt;test name=&quot;TC0007Integration&quot;&gt;\n            &lt;classes&gt;\n                &lt;class name=&quot;com.live.testcase.TC0007Integration&quot;/&gt;\n            &lt;/classes&gt;\n        &lt;/test&gt;\n        &lt;test name=&quot;TC0008Account&quot;&gt;\n            &lt;classes&gt;\n                &lt;class name=&quot;com.live.testcase.TC0008Account&quot;/&gt;\n            &lt;/classes&gt;\n        &lt;/test&gt;\n    &lt;/suite&gt;\n\nMore information including sample project: [Parallel Tests Execution][3]\n\n    \n\n\n  [1]: https://testng.org/doc/documentation-main.html#parallel-running\n  [2]: https://testng.org/doc/documentation-main.html#testng-xml\n  [3]: https://docs.experitest.com/display/TE/Parallel+Tests+Execution","title":"Appium / selenium: testNG parallel execution not working","body":"<p>As per <a href=\"https://testng.org/doc/documentation-main.html#parallel-running\" rel=\"nofollow noreferrer\">Parallelism and time-outs</a> chapter:</p>\n<blockquote>\n<p>The parallel attribute on the <code>&lt;suite&gt;</code> tag can take one of following values:</p>\n<p><code>&lt;suite name=&quot;My suite&quot; parallel=&quot;methods&quot; thread-count=&quot;5&quot;&gt;</code></p>\n<p><code>&lt;suite name=&quot;My suite&quot; parallel=&quot;tests&quot; thread-count=&quot;5&quot;&gt;</code></p>\n<p><code>&lt;suite name=&quot;My suite&quot; parallel=&quot;classes&quot; thread-count=&quot;5&quot;&gt;</code></p>\n<p><code>&lt;suite name=&quot;My suite&quot; parallel=&quot;instances&quot; thread-count=&quot;5&quot;&gt;</code></p>\n</blockquote>\n<p>So my expectation is that you need to amend your <a href=\"https://testng.org/doc/documentation-main.html#testng-xml\" rel=\"nofollow noreferrer\">testng.xml</a> to look like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Suite&quot; parallel=&quot;tests&quot; configfailurepolicy=&quot;continue&quot; verbose=&quot;2&quot;&gt;\n    &lt;test name=&quot;TC0001ForgotPassword&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.live.testcase.TC0001ForgotPassword&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;TC0002Login&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.live.testcase.TC0002Login&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;TC0003Dashboard&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.live.testcase.TC0003Dashboard&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;TC0004Activity&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.live.testcase.TC0004Activity&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;TC0005MoveMoney&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.live.testcase.TC0005MoveMoney&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;TC0006InternationalTransfer&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.live.testcase.TC0006InternationalTransfer&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;TC0007Integration&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.live.testcase.TC0007Integration&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n    &lt;test name=&quot;TC0008Account&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.live.testcase.TC0008Account&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>More information including sample project: <a href=\"https://docs.experitest.com/display/TE/Parallel+Tests+Execution\" rel=\"nofollow noreferrer\">Parallel Tests Execution</a></p>\n"}],"owner":{"account_id":7657424,"reputation":585,"user_id":5803755,"accept_rate":30,"display_name":"kunal soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1657228514,"creation_date":1565085126,"question_id":57373372,"body_markdown":"i am using appium and selenium.\r\ni am trying to rum it parallel (one case after another case)\r\nmy first case (forgot password is running properly ) and after that execution is just stop.\r\n\r\ncan anyone help me with this? \r\n\r\ni have attached testng.xml , and testbase file. also login and forgot password scripts.\r\n\r\n - i guess there is some issues with annotations.\r\n - i have tried few but now working.\r\n\r\ncan anyone help me with this?\r\n\r\nThanks!!!\r\n\r\n\r\nHere my code looks like:\r\n\r\n**1.testng.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Suite&quot;&gt;\r\n    \t&lt;test thread-count=&quot;5&quot; name=&quot;Test&quot; parallel=&quot;classes&quot;&gt;\r\n    \t\t&lt;classes&gt;\r\n    \t\t\t&lt;class name=&quot;com.live.testcase.TC0001ForgotPassword&quot; /&gt;\r\n    \t\t\t&lt;class name=&quot;com.live.testcase.TC0002Login&quot; /&gt;\r\n    \t\t\t&lt;class name=&quot;com.live.testcase.TC0003Dashboard&quot; /&gt;\r\n    \t\t\t&lt;class name=&quot;com.live.testcase.TC0004Activity&quot; /&gt;\r\n    \t\t\t&lt;class name=&quot;com.live.testcase.TC0005MoveMoney&quot; /&gt;\r\n    \t\t\t&lt;class name=&quot;com.live.testcase.TC0006InternationalTransfer&quot; /&gt;\r\n    \t\t\t&lt;class name=&quot;com.live.testcase.TC0007Integration&quot; /&gt;\r\n    \t\t\t&lt;class name=&quot;com.live.testcase.TC0008Account&quot; /&gt;\r\n    \t\t&lt;/classes&gt;\r\n    \t&lt;/test&gt; &lt;!-- Test --&gt;\r\n    &lt;/suite&gt; &lt;!-- Suite --&gt;\r\n \r\n\r\n**2. testbase.java**\r\n\r\n    public class testBase {\r\n    \r\n    \tprivate String reportDirectory = &quot;reports&quot;;\r\n    \tprivate String reportFormat = &quot;xml&quot;;\r\n    \tprivate String testName = &quot;Untitled&quot;;\r\n    \tprotected IOSDriver&lt;IOSElement&gt; driver = null;\r\n    \r\n    \t@BeforeSuite\r\n    \tpublic void setup() throws MalformedURLException {\r\n    \r\n    \t\tDesiredCapabilities dc = new DesiredCapabilities();\r\n    \t\tdc.setCapability(&quot;reportDirectory&quot;, reportDirectory);\r\n    \t\tdc.setCapability(&quot;reportFormat&quot;, reportFormat);\r\n    \t\tdc.setCapability(&quot;testName&quot;, testName);\r\n    \t\tdc.setCapability(MobileCapabilityType.UDID, &quot;afb65172e9b47b01482d912dede58515819748a3&quot;);\r\n    \t\tdc.setCapability(IOSMobileCapabilityType.BUNDLE_ID, &quot;com.novo.ios.dev&quot;);\r\n    \t\tdriver = new IOSDriver&lt;IOSElement&gt;(new URL(&quot;http://localhost:4723/wd/hub&quot;), dc);\r\n    \t\tdriver.setLogLevel(Level.INFO);\r\n    \r\n    \t}\r\n    \r\n    \t@AfterSuite\r\n    \tpublic void teardown() {\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**3.Forgot password**\r\n\r\n    public class TC0001ForgotPassword extends testBase {\r\n    \r\n    \t@Test\r\n    \tpublic void ForgotPassword() throws InterruptedException {\r\n    \r\n    \t\t// Test case for blank email address.\r\n    \r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;Forgot Password?&#39;]&quot;)).click();\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@placeholder=&#39;Email&#39;]&quot;)).sendKeys(&quot;Automationtesting@banknovo.com&quot;);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;Done&#39;]&quot;)).click();\r\n    \r\n    \t\tThread.sleep(1000);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;CONFIRM&#39;]&quot;)).click();\r\n    \r\n    \t\tThread.sleep(5000);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;(MM/DD/YYYY)&#39;]&quot;)).click();\r\n    \r\n    \t\tThread.sleep(2000);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;Done&#39;]&quot;)).click();\r\n    \r\n    \t\tThread.sleep(2000);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;CONFIRM&#39;]&quot;)).click();\r\n    \r\n    \t\tThread.sleep(2000);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;1&#39;]&quot;)).click();\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;2&#39;]&quot;)).click();\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;3&#39;]&quot;)).click();\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;4&#39;]&quot;)).click();\r\n    \r\n    \t\tThread.sleep(2000);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;CONFIRM&#39;]&quot;)).click();\r\n    \r\n    \t\tThread.sleep(2000);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;CONFIRM&#39;]&quot;)).sendKeys(&quot;111111&quot;);\r\n    \r\n    \t\tThread.sleep(2000);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;CONFIRM&#39;]&quot;)).click();\r\n    \r\n    \t\tThread.sleep(2000);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@placeholder=&#39;Password&#39;]&quot;)).sendKeys(&quot;Novo@2019&quot;);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@placeholder=&#39;Confirm Password&#39;]&quot;)).sendKeys(&quot;Novo@2019&quot;);\r\n    \r\n    \t\tThread.sleep(2000);\r\n    \t\tdriver.findElement(\r\n    \t\t\t\tBy.xpath(&quot;(//*[@class=&#39;UIAView&#39; and ./parent::*[@class=&#39;UIAScrollView&#39;]]/*[@text=&#39;icEyeOpen&#39;])[1]&quot;))\r\n    \t\t\t\t.click();\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;icEyeOpen&#39;]&quot;)).click();\r\n    \r\n    \t\tThread.sleep(2000);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;RESET PASSWORD&#39;]&quot;)).click();\r\n    \r\n    \t\tThread.sleep(2000);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;DONE&#39;]&quot;)).click();\r\n    \r\n    \t}\r\n\r\n**4. Login**\r\n\r\n    package com.live.testcase;\r\n    \r\n    import org.testng.annotations.Test;\r\n    import org.openqa.selenium.By;\r\n    import com.live.common.testBase;\r\n    \r\n    public class TC0002Login extends testBase {\r\n    \r\n    \t@Test\r\n    \tpublic void TC000001_Blank_Email_Password() {\r\n    \r\n    \t\t// Test case for blank email address.\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;LOG IN&#39;]&quot;)).click();\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;OK&#39;]&quot;)).click();\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void TC000002_Invailid_Email() throws Exception {\r\n    \r\n    \t\t// Test case for invalid email addresses\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@placeholder=&#39;Email&#39;]&quot;)).sendKeys(&quot;automationtesting&quot;);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@placeholder=&#39;Password&#39;]&quot;)).sendKeys(&quot;Novo&quot;);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;LOG IN&#39;]&quot;)).click();\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;OK&#39;]&quot;)).click();\r\n    \r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void TC000003_Invailid_Password() throws Exception {\r\n    \r\n    \t\t// Test case for invalid email addresses\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@placeholder=&#39;Email&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@placeholder=&#39;Password&#39;]&quot;)).clear();\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@placeholder=&#39;Password&#39;]&quot;)).sendKeys(&quot;Novo@2019&quot;);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;LOG IN&#39;]&quot;)).click();\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;OK&#39;]&quot;)).click();\r\n    \r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void TC000004_Valid_Email_Password() throws Exception {\r\n    \t\t// Test case for Valid email addresses &amp; password\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@placeholder=&#39;Email&#39;]&quot;)).sendKeys(&quot;automationtesting@banknovo.com&quot;);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@placeholder=&#39;Password&#39;]&quot;)).sendKeys(&quot;Novo@2019&quot;);\r\n    \t\tdriver.findElement(By.xpath(&quot;//*[@text=&#39;LOG IN&#39;]&quot;)).click();\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n**5. pom.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.novo.app&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;com.novo.app&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.14.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \r\n    &lt;/project&gt;","title":"Appium / selenium: testNG parallel execution not working","body":"<p>i am using appium and selenium.\ni am trying to rum it parallel (one case after another case)\nmy first case (forgot password is running properly ) and after that execution is just stop.</p>\n\n<p>can anyone help me with this? </p>\n\n<p>i have attached testng.xml , and testbase file. also login and forgot password scripts.</p>\n\n<ul>\n<li>i guess there is some issues with annotations.</li>\n<li>i have tried few but now working.</li>\n</ul>\n\n<p>can anyone help me with this?</p>\n\n<p>Thanks!!!</p>\n\n<p>Here my code looks like:</p>\n\n<p><strong>1.testng.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite name=\"Suite\"&gt;\n    &lt;test thread-count=\"5\" name=\"Test\" parallel=\"classes\"&gt;\n        &lt;classes&gt;\n            &lt;class name=\"com.live.testcase.TC0001ForgotPassword\" /&gt;\n            &lt;class name=\"com.live.testcase.TC0002Login\" /&gt;\n            &lt;class name=\"com.live.testcase.TC0003Dashboard\" /&gt;\n            &lt;class name=\"com.live.testcase.TC0004Activity\" /&gt;\n            &lt;class name=\"com.live.testcase.TC0005MoveMoney\" /&gt;\n            &lt;class name=\"com.live.testcase.TC0006InternationalTransfer\" /&gt;\n            &lt;class name=\"com.live.testcase.TC0007Integration\" /&gt;\n            &lt;class name=\"com.live.testcase.TC0008Account\" /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt; &lt;!-- Test --&gt;\n&lt;/suite&gt; &lt;!-- Suite --&gt;\n</code></pre>\n\n<p><strong>2. testbase.java</strong></p>\n\n<pre><code>public class testBase {\n\n    private String reportDirectory = \"reports\";\n    private String reportFormat = \"xml\";\n    private String testName = \"Untitled\";\n    protected IOSDriver&lt;IOSElement&gt; driver = null;\n\n    @BeforeSuite\n    public void setup() throws MalformedURLException {\n\n        DesiredCapabilities dc = new DesiredCapabilities();\n        dc.setCapability(\"reportDirectory\", reportDirectory);\n        dc.setCapability(\"reportFormat\", reportFormat);\n        dc.setCapability(\"testName\", testName);\n        dc.setCapability(MobileCapabilityType.UDID, \"afb65172e9b47b01482d912dede58515819748a3\");\n        dc.setCapability(IOSMobileCapabilityType.BUNDLE_ID, \"com.novo.ios.dev\");\n        driver = new IOSDriver&lt;IOSElement&gt;(new URL(\"http://localhost:4723/wd/hub\"), dc);\n        driver.setLogLevel(Level.INFO);\n\n    }\n\n    @AfterSuite\n    public void teardown() {\n\n    }\n\n}\n</code></pre>\n\n<p><strong>3.Forgot password</strong></p>\n\n<pre><code>public class TC0001ForgotPassword extends testBase {\n\n    @Test\n    public void ForgotPassword() throws InterruptedException {\n\n        // Test case for blank email address.\n\n        driver.findElement(By.xpath(\"//*[@text='Forgot Password?']\")).click();\n        driver.findElement(By.xpath(\"//*[@placeholder='Email']\")).sendKeys(\"Automationtesting@banknovo.com\");\n        driver.findElement(By.xpath(\"//*[@text='Done']\")).click();\n\n        Thread.sleep(1000);\n        driver.findElement(By.xpath(\"//*[@text='CONFIRM']\")).click();\n\n        Thread.sleep(5000);\n        driver.findElement(By.xpath(\"//*[@text='(MM/DD/YYYY)']\")).click();\n\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(\"//*[@text='Done']\")).click();\n\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(\"//*[@text='CONFIRM']\")).click();\n\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(\"//*[@text='1']\")).click();\n        driver.findElement(By.xpath(\"//*[@text='2']\")).click();\n        driver.findElement(By.xpath(\"//*[@text='3']\")).click();\n        driver.findElement(By.xpath(\"//*[@text='4']\")).click();\n\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(\"//*[@text='CONFIRM']\")).click();\n\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(\"//*[@text='CONFIRM']\")).sendKeys(\"111111\");\n\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(\"//*[@text='CONFIRM']\")).click();\n\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(\"//*[@placeholder='Password']\")).sendKeys(\"Novo@2019\");\n        driver.findElement(By.xpath(\"//*[@placeholder='Confirm Password']\")).sendKeys(\"Novo@2019\");\n\n        Thread.sleep(2000);\n        driver.findElement(\n                By.xpath(\"(//*[@class='UIAView' and ./parent::*[@class='UIAScrollView']]/*[@text='icEyeOpen'])[1]\"))\n                .click();\n        driver.findElement(By.xpath(\"//*[@text='icEyeOpen']\")).click();\n\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(\"//*[@text='RESET PASSWORD']\")).click();\n\n        Thread.sleep(2000);\n        driver.findElement(By.xpath(\"//*[@text='DONE']\")).click();\n\n    }\n</code></pre>\n\n<p><strong>4. Login</strong></p>\n\n<pre><code>package com.live.testcase;\n\nimport org.testng.annotations.Test;\nimport org.openqa.selenium.By;\nimport com.live.common.testBase;\n\npublic class TC0002Login extends testBase {\n\n    @Test\n    public void TC000001_Blank_Email_Password() {\n\n        // Test case for blank email address.\n        driver.findElement(By.xpath(\"//*[@text='LOG IN']\")).click();\n        driver.findElement(By.xpath(\"//*[@text='OK']\")).click();\n    }\n\n    @Test\n    public void TC000002_Invailid_Email() throws Exception {\n\n        // Test case for invalid email addresses\n        driver.findElement(By.xpath(\"//*[@placeholder='Email']\")).sendKeys(\"automationtesting\");\n        driver.findElement(By.xpath(\"//*[@placeholder='Password']\")).sendKeys(\"Novo\");\n        driver.findElement(By.xpath(\"//*[@text='LOG IN']\")).click();\n        driver.findElement(By.xpath(\"//*[@text='OK']\")).click();\n\n    }\n\n    @Test\n    public void TC000003_Invailid_Password() throws Exception {\n\n        // Test case for invalid email addresses\n        driver.findElement(By.xpath(\"//*[@placeholder='Email']\")).clear();\n        driver.findElement(By.xpath(\"//*[@placeholder='Password']\")).clear();\n        driver.findElement(By.xpath(\"//*[@placeholder='Password']\")).sendKeys(\"Novo@2019\");\n        driver.findElement(By.xpath(\"//*[@text='LOG IN']\")).click();\n        driver.findElement(By.xpath(\"//*[@text='OK']\")).click();\n\n    }\n\n    @Test\n    public void TC000004_Valid_Email_Password() throws Exception {\n        // Test case for Valid email addresses &amp; password\n        driver.findElement(By.xpath(\"//*[@placeholder='Email']\")).sendKeys(\"automationtesting@banknovo.com\");\n        driver.findElement(By.xpath(\"//*[@placeholder='Password']\")).sendKeys(\"Novo@2019\");\n        driver.findElement(By.xpath(\"//*[@text='LOG IN']\")).click();\n    }\n}\n</code></pre>\n\n<p><strong>5. pom.xml</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.novo.app&lt;/groupId&gt;\n    &lt;artifactId&gt;com.novo.app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n            &lt;version&gt;7.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;6.14.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":2786826,"reputation":2172,"user_id":2398000,"display_name":"avalerio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657148260,"creation_date":1657148260,"answer_id":72890667,"question_id":72890501,"body_markdown":"Your problem is `notifyItemChanged(position);`. When you remove an item, you are changing the position of all other items beyond it.\r\n\r\nYou want to use `notifyItemRangeChanged(position, newContentList.size());` as this will take into account the shifting positions.\r\n\r\nYou use `notifyItemChanged(position);` if the content of the position has changed, but the position it self remains the same.","title":"I need help regrading deleting items inside RecyclerView. Deletion works but updating RecyclerView sometimes doesn&#39;t work after deletion","body":"<p>Your problem is <code>notifyItemChanged(position);</code>. When you remove an item, you are changing the position of all other items beyond it.</p>\n<p>You want to use <code>notifyItemRangeChanged(position, newContentList.size());</code> as this will take into account the shifting positions.</p>\n<p>You use <code>notifyItemChanged(position);</code> if the content of the position has changed, but the position it self remains the same.</p>\n"},{"tags":[],"owner":{"account_id":16176496,"reputation":63,"user_id":11679021,"display_name":"Alonso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657157207,"creation_date":1657156874,"answer_id":72891338,"question_id":72890501,"body_markdown":"you need to remove the lines in doDelete method:\r\n\r\n     newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\r\n     newContentList = new ArrayList&lt;&gt;(Arrays.asList(contentSplit));\r\n\r\ntwo lines will re-assign the new object and the underlay data may not locate in the same memory position as the old newStatusList and newContentList \r\n\r\nAnd you can use Adapter.notifyDataSetChanged() instead of notifyItemXXX","title":"I need help regrading deleting items inside RecyclerView. Deletion works but updating RecyclerView sometimes doesn&#39;t work after deletion","body":"<p>you need to remove the lines in doDelete method:</p>\n<pre><code> newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\n newContentList = new ArrayList&lt;&gt;(Arrays.asList(contentSplit));\n</code></pre>\n<p>two lines will re-assign the new object and the underlay data may not locate in the same memory position as the old newStatusList and newContentList</p>\n<p>And you can use Adapter.notifyDataSetChanged() instead of notifyItemXXX</p>\n"},{"tags":[],"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657227019,"creation_date":1657227019,"answer_id":72904071,"question_id":72890501,"body_markdown":"The solution for my problem is not to use position variable which provided inside onBindViewHolder but instead use holder.getLayoutPosition or holder.getLayoutPosition. That is working for me.\r\n","title":"I need help regrading deleting items inside RecyclerView. Deletion works but updating RecyclerView sometimes doesn&#39;t work after deletion","body":"<p>The solution for my problem is not to use position variable which provided inside onBindViewHolder but instead use holder.getLayoutPosition or holder.getLayoutPosition. That is working for me.</p>\n"}],"owner":{"account_id":11529381,"reputation":145,"user_id":8448783,"display_name":"Omer123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72890667,"answer_count":3,"score":0,"last_activity_date":1657227019,"creation_date":1657146455,"question_id":72890501,"body_markdown":"Sometimes delete function works sometimes not. I think the problem is with the notifyItemRemove or removing items inside the array. Worked on finding the bug for 3 days but in vain.\r\nThis is the adapter class\r\n\r\n    public class ChecklistItems extends AppCompatActivity {\r\n    Toolbar toolbar;\r\n    RecyclerView recyclerView;\r\n\r\n    String content;\r\n    String status;\r\n    \r\n    String[] contentSplit;\r\n    String[] statusSplit;\r\n    \r\n    private ChecklistAdapter checklistAdapter;\r\n    DbHelper dbHelper;\r\n    List&lt;ChecklistHelper&gt; checks;\r\n    int id;\r\n    ChecklistHelper checklistHelper;\r\n    StringBuilder stringBuilderContent;\r\n    StringBuilder stringBuilderStatus;\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_checklist_items);\r\n\r\n        toolbar = findViewById(R.id.tool_bar);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n        recyclerView = findViewById(R.id.recycler_view_child);\r\n\r\n\r\n        id = getIntent().getIntExtra(&quot;id&quot;, 0);\r\n        content = getIntent().getStringExtra(&quot;content&quot;);\r\n        status = getIntent().getStringExtra(&quot;status&quot;);\r\n\r\n        contentSplit = content.split(&quot;\\n&quot;);\r\n        statusSplit = status.split(&quot;\\n&quot;);\r\n\r\n        checklistHelper = new ChecklistHelper();\r\n        dbHelper = new DbHelper(this);\r\n\r\n        checks = dbHelper.getChecklists();\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        \r\n        checklistHelper =  dbHelper.getChecklists(id);\r\n        String status = checklistHelper.getStatus();\r\n        String[] statusSplit = status.split(&quot;\\n&quot;);\r\n        ArrayList&lt;String&gt; newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\r\n        ArrayList&lt;String&gt; newContentList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\r\n\r\n        checklistAdapter = new ChecklistAdapter(newStatusList, newContentList);\r\n        recyclerView.setAdapter(checklistAdapter);\r\n    }\r\n\r\n\r\n    public class ChecklistAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n\r\n        ArrayList&lt;String&gt; newStatusList;\r\n        ArrayList&lt;String&gt; newContentList;\r\n        \r\n        public ChecklistAdapter( ArrayList&lt;String&gt; newStatusList, ArrayList&lt;String&gt; newContentList) {\r\n            \r\n            this.newStatusList = newStatusList;\r\n            this.newContentList = newContentList;\r\n        }\r\n        \r\n        @NonNull\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\r\n            View view = layoutInflater.inflate(R.layout.checklist_layout_child, parent, false);\r\n            return new ChecklistChildViewHolder(view);\r\n\r\n        }\r\n        \r\n        @Override\r\n        public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n\r\n            ChecklistChildViewHolder checklistChildViewHolder = (ChecklistChildViewHolder) holder;\r\n            checklistChildViewHolder.checkBox.setText(contentSplit[position]);\r\n\r\n            boolean state;\r\n            if (statusSplit[position].equals(&quot;1&quot;)) {\r\n                state = true;\r\n                checklistChildViewHolder.checkBox.setText(lineThrough(checklistChildViewHolder.checkBox.getText().toString()));\r\n            }\r\n            else\r\n            {\r\n                state = false;\r\n                checklistChildViewHolder.checkBox.setText(checklistChildViewHolder.checkBox.getText().toString());\r\n            }\r\n            checklistChildViewHolder.checkBox.setChecked(state);\r\n\r\n            checklistChildViewHolder.delete.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    doDelete(position);\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return newStatusList.size();\r\n\r\n        }\r\n\r\n        public class ChecklistChildViewHolder extends RecyclerView.ViewHolder {\r\n            CheckBox checkBox;\r\n            ImageView delete, edit;\r\n\r\n            ChecklistChildViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                checkBox = itemView.findViewById(R.id.checkbox_child);\r\n                delete = itemView.findViewById(R.id.delete_child);\r\n                edit = itemView.findViewById(R.id.edit_child);\r\n                delete.setVisibility(View.INVISIBLE);\r\n                edit.setVisibility(View.INVISIBLE);\r\n            }\r\n\r\n            public void updateVisibility(boolean isEnableDelete){\r\n\r\n                if (isEnableDelete) {\r\n                    delete.setVisibility(View.VISIBLE);\r\n                    edit.setVisibility(View.VISIBLE);\r\n                }\r\n                else {\r\n                    delete.setVisibility(View.INVISIBLE);\r\n                    edit.setVisibility(View.INVISIBLE);\r\n                }\r\n            }\r\n        }\r\n\r\n        public int doDelete(int position) {\r\n\r\n            int idd = getIntent().getIntExtra(&quot;id&quot;, 0);\r\n            checklistHelper =  dbHelper.getChecklists(idd);\r\n\r\n            String status = checklistHelper.getStatus();\r\n            String content = checklistHelper.getContent();\r\n\r\n            String[] statusSplit = status.split(&quot;\\n&quot;);\r\n            String[] contentSplit = content.split(&quot;\\n&quot;);\r\n\r\n            newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\r\n            newContentList = new ArrayList&lt;&gt;(Arrays.asList(contentSplit));\r\n\r\n            newStatusList.remove(position);\r\n            newContentList.remove(position);\r\n            \r\n            stringBuilderStatus = new StringBuilder();\r\n            stringBuilderContent = new StringBuilder();\r\n\r\n            for(String singleStatus : newStatusList) {\r\n                stringBuilderStatus.append(singleStatus);\r\n                stringBuilderStatus.append(&quot;\\n&quot;);\r\n            }\r\n\r\n            for(String singleContent: newContentList){\r\n                stringBuilderContent.append(singleContent);\r\n                stringBuilderContent.append(&quot;\\n&quot;);\r\n            }\r\n            String allStatus = stringBuilderStatus.toString();\r\n            String allContent = stringBuilderContent.toString();\r\n            dbHelper.updateChecklist(id,allStatus , allContent, DateTime.date(), DateTime.time(), System.currentTimeMillis());\r\n\r\n            if(allContent.length()==0) {\r\n                dbHelper.deleteChecklist(id);\r\n                finish();\r\n            }\r\n            \r\n            notifyItemRemoved(position);\r\n            notifyItemChanged(position);\r\n\r\n            return newStatusList.size();\r\n        }\r\n    }\r\n   }\r\nI have used most of the (notify) functions which update the RecyclerView but none worked properly.\r\n\r\n        @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_checklist_items);\r\n\r\n        toolbar = findViewById(R.id.tool_bar);\r\n        setSupportActionBar(toolbar);\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n\r\n        recyclerView = findViewById(R.id.recycler_view_child);\r\n        \r\n        id = getIntent().getIntExtra(&quot;id&quot;, 0);\r\n        content = getIntent().getStringExtra(&quot;content&quot;);\r\n        status = getIntent().getStringExtra(&quot;status&quot;);\r\n\r\n        contentSplit = content.split(&quot;\\n&quot;);\r\n        statusSplit = status.split(&quot;\\n&quot;);\r\n\r\n        checklistHelper = new ChecklistHelper();\r\n        dbHelper = new DbHelper(this);\r\n        \r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        recyclerView.setAdapter(checklistAdapter);\r\n\r\n\r\n        checklistHelper =  dbHelper.getChecklists(id);\r\n        String status = checklistHelper.getStatus();\r\n        String[] statusSplit = status.split(&quot;\\n&quot;);\r\n        ArrayList&lt;String&gt; newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\r\n        ArrayList&lt;String&gt; newContentList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\r\n\r\n        checklistAdapter = new ChecklistAdapter(newStatusList, newContentList);\r\n        recyclerView.setAdapter(checklistAdapter);\r\n    }","title":"I need help regrading deleting items inside RecyclerView. Deletion works but updating RecyclerView sometimes doesn&#39;t work after deletion","body":"<p>Sometimes delete function works sometimes not. I think the problem is with the notifyItemRemove or removing items inside the array. Worked on finding the bug for 3 days but in vain.\nThis is the adapter class</p>\n<pre><code>public class ChecklistItems extends AppCompatActivity {\nToolbar toolbar;\nRecyclerView recyclerView;\n\nString content;\nString status;\n\nString[] contentSplit;\nString[] statusSplit;\n\nprivate ChecklistAdapter checklistAdapter;\nDbHelper dbHelper;\nList&lt;ChecklistHelper&gt; checks;\nint id;\nChecklistHelper checklistHelper;\nStringBuilder stringBuilderContent;\nStringBuilder stringBuilderStatus;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_checklist_items);\n\n    toolbar = findViewById(R.id.tool_bar);\n    setSupportActionBar(toolbar);\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n    recyclerView = findViewById(R.id.recycler_view_child);\n\n\n    id = getIntent().getIntExtra(&quot;id&quot;, 0);\n    content = getIntent().getStringExtra(&quot;content&quot;);\n    status = getIntent().getStringExtra(&quot;status&quot;);\n\n    contentSplit = content.split(&quot;\\n&quot;);\n    statusSplit = status.split(&quot;\\n&quot;);\n\n    checklistHelper = new ChecklistHelper();\n    dbHelper = new DbHelper(this);\n\n    checks = dbHelper.getChecklists();\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    \n    checklistHelper =  dbHelper.getChecklists(id);\n    String status = checklistHelper.getStatus();\n    String[] statusSplit = status.split(&quot;\\n&quot;);\n    ArrayList&lt;String&gt; newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\n    ArrayList&lt;String&gt; newContentList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\n\n    checklistAdapter = new ChecklistAdapter(newStatusList, newContentList);\n    recyclerView.setAdapter(checklistAdapter);\n}\n\n\npublic class ChecklistAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n\n    ArrayList&lt;String&gt; newStatusList;\n    ArrayList&lt;String&gt; newContentList;\n    \n    public ChecklistAdapter( ArrayList&lt;String&gt; newStatusList, ArrayList&lt;String&gt; newContentList) {\n        \n        this.newStatusList = newStatusList;\n        this.newContentList = newContentList;\n    }\n    \n    @NonNull\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\n        View view = layoutInflater.inflate(R.layout.checklist_layout_child, parent, false);\n        return new ChecklistChildViewHolder(view);\n\n    }\n    \n    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n\n        ChecklistChildViewHolder checklistChildViewHolder = (ChecklistChildViewHolder) holder;\n        checklistChildViewHolder.checkBox.setText(contentSplit[position]);\n\n        boolean state;\n        if (statusSplit[position].equals(&quot;1&quot;)) {\n            state = true;\n            checklistChildViewHolder.checkBox.setText(lineThrough(checklistChildViewHolder.checkBox.getText().toString()));\n        }\n        else\n        {\n            state = false;\n            checklistChildViewHolder.checkBox.setText(checklistChildViewHolder.checkBox.getText().toString());\n        }\n        checklistChildViewHolder.checkBox.setChecked(state);\n\n        checklistChildViewHolder.delete.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                doDelete(position);\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return newStatusList.size();\n\n    }\n\n    public class ChecklistChildViewHolder extends RecyclerView.ViewHolder {\n        CheckBox checkBox;\n        ImageView delete, edit;\n\n        ChecklistChildViewHolder(@NonNull View itemView) {\n            super(itemView);\n            checkBox = itemView.findViewById(R.id.checkbox_child);\n            delete = itemView.findViewById(R.id.delete_child);\n            edit = itemView.findViewById(R.id.edit_child);\n            delete.setVisibility(View.INVISIBLE);\n            edit.setVisibility(View.INVISIBLE);\n        }\n\n        public void updateVisibility(boolean isEnableDelete){\n\n            if (isEnableDelete) {\n                delete.setVisibility(View.VISIBLE);\n                edit.setVisibility(View.VISIBLE);\n            }\n            else {\n                delete.setVisibility(View.INVISIBLE);\n                edit.setVisibility(View.INVISIBLE);\n            }\n        }\n    }\n\n    public int doDelete(int position) {\n\n        int idd = getIntent().getIntExtra(&quot;id&quot;, 0);\n        checklistHelper =  dbHelper.getChecklists(idd);\n\n        String status = checklistHelper.getStatus();\n        String content = checklistHelper.getContent();\n\n        String[] statusSplit = status.split(&quot;\\n&quot;);\n        String[] contentSplit = content.split(&quot;\\n&quot;);\n\n        newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\n        newContentList = new ArrayList&lt;&gt;(Arrays.asList(contentSplit));\n\n        newStatusList.remove(position);\n        newContentList.remove(position);\n        \n        stringBuilderStatus = new StringBuilder();\n        stringBuilderContent = new StringBuilder();\n\n        for(String singleStatus : newStatusList) {\n            stringBuilderStatus.append(singleStatus);\n            stringBuilderStatus.append(&quot;\\n&quot;);\n        }\n\n        for(String singleContent: newContentList){\n            stringBuilderContent.append(singleContent);\n            stringBuilderContent.append(&quot;\\n&quot;);\n        }\n        String allStatus = stringBuilderStatus.toString();\n        String allContent = stringBuilderContent.toString();\n        dbHelper.updateChecklist(id,allStatus , allContent, DateTime.date(), DateTime.time(), System.currentTimeMillis());\n\n        if(allContent.length()==0) {\n            dbHelper.deleteChecklist(id);\n            finish();\n        }\n        \n        notifyItemRemoved(position);\n        notifyItemChanged(position);\n\n        return newStatusList.size();\n    }\n}\n</code></pre>\n<p>}\nI have used most of the (notify) functions which update the RecyclerView but none worked properly.</p>\n<pre><code>    @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_checklist_items);\n\n    toolbar = findViewById(R.id.tool_bar);\n    setSupportActionBar(toolbar);\n    getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n    recyclerView = findViewById(R.id.recycler_view_child);\n    \n    id = getIntent().getIntExtra(&quot;id&quot;, 0);\n    content = getIntent().getStringExtra(&quot;content&quot;);\n    status = getIntent().getStringExtra(&quot;status&quot;);\n\n    contentSplit = content.split(&quot;\\n&quot;);\n    statusSplit = status.split(&quot;\\n&quot;);\n\n    checklistHelper = new ChecklistHelper();\n    dbHelper = new DbHelper(this);\n    \n    recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n    recyclerView.setAdapter(checklistAdapter);\n\n\n    checklistHelper =  dbHelper.getChecklists(id);\n    String status = checklistHelper.getStatus();\n    String[] statusSplit = status.split(&quot;\\n&quot;);\n    ArrayList&lt;String&gt; newStatusList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\n    ArrayList&lt;String&gt; newContentList = new ArrayList&lt;&gt;(Arrays.asList(statusSplit));\n\n    checklistAdapter = new ChecklistAdapter(newStatusList, newContentList);\n    recyclerView.setAdapter(checklistAdapter);\n}\n</code></pre>\n"},{"tags":["java","cryptography","authorization","signing","metamask"],"comments":[{"owner":{"account_id":15305578,"reputation":2692,"user_id":11042460,"display_name":"Java wanna bee"},"score":0,"creation_date":1662293786,"post_id":72904060,"comment_id":129968387,"body_markdown":"Hi, I&#39;m in a similar situation like you and I ask you if you find between  any improvements for your code? Thank&#39;s!","body":"Hi, I&#39;m in a similar situation like you and I ask you if you find between  any improvements for your code? Thank&#39;s!"},{"owner":{"account_id":15305578,"reputation":2692,"user_id":11042460,"display_name":"Java wanna bee"},"score":0,"creation_date":1662295766,"post_id":72904060,"comment_id":129968796,"body_markdown":"Take a look at this project: https://github.com/Alberto-00/Blockchain-Authentication","body":"Take a look at this project: <a href=\"https://github.com/Alberto-00/Blockchain-Authentication\" rel=\"nofollow noreferrer\">github.com/Alberto-00/Blockchain-Authentication</a>"}],"owner":{"account_id":2155040,"reputation":11,"user_id":19505302,"display_name":"user19505302"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657226955,"creation_date":1657226955,"question_id":72904060,"body_markdown":"I would like to develop a webapp (frontend: ReactJs, backend: Spring Boot) in which users can interact without logging in in the traditional sense of the word (username + password) but instead using Metamask for proving their identity.\r\n\r\nCan you guys find any weaknesses in the following approach:\r\n\r\n 1. Client requests a nonce from the server `/nonce?publicAddress={metamaskAddress}`\r\n 2. Server generates a UUID for a specific Metamask address and stores it with a short TTL and returns it to the client\r\n 3. Client signs the nonce via Metamask\r\n 4. Client makes a request putting the signed nonce and the Metamask address in the headers\r\n 5. Server verifies that the Metamask address that signed the nonce is the same of the one sent in the headers and that the nonce is not expired\r\n\r\nClient code (using ethers library)\r\n```\r\n        if (!window.ethereum) {\r\n            throw new Error(&quot;No crypto wallet found. Please install it.&quot;);\r\n        }\r\n        await window.ethereum.send(&quot;eth_requestAccounts&quot;);\r\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\r\n\r\n        const signer = provider.getSigner();\r\n        const address = await signer.getAddress();\r\n\r\n        const nonceResponse = await fetch(`/nonce?userId=${address}`, {\r\n            method: &quot;get&quot;,\r\n            headers: {\r\n                &quot;Content-Type&quot;: &quot;application/json&quot;,\r\n            },\r\n        });\r\n\r\n        const nonce = await nonceResponse.text();\r\n\r\n        const signature = await signer.signMessage(nonce);\r\n\r\n        await fetch(&quot;/doSomething&quot;, {\r\n            method: &quot;post&quot;,\r\n            headers: {\r\n                &quot;Content-Type&quot;: &quot;application/json&quot;,\r\n                &quot;Authorization&quot;: signature,\r\n                &quot;Public-Address&quot;: address,\r\n            },\r\n            body: JSON.stringify(&quot;data&quot;),\r\n        });\r\n\r\n```\r\n\r\nServer side - validation code taken from [sridharreddyu/web3-java-snippets][1]\r\n```\r\n    @PostMapping(&quot;/doSomething&quot;)\r\n    public void doSomething(\r\n            @RequestHeader(value = HttpHeaders.AUTHORIZATION) String signedNonce,\r\n            @RequestHeader(value = &quot;Public-Address&quot;) String publicAddress,\r\n            @RequestBody String body) {\r\n\r\n        String originalNonce = nonceService.getNonceForAddress(publicAddress)\r\n                .orElseThrow(() -&gt; new HttpClientErrorException(HttpStatus.UNAUTHORIZED));\r\n\r\n        boolean verified = verifySignature(\r\n                publicAddress,\r\n                signedNonce,\r\n                originalNonce\r\n        );\r\n\r\n        if (verified) {\r\n            // do something with the body\r\n        } else {\r\n            throw new HttpClientErrorException(HttpStatus.UNAUTHORIZED);\r\n        }\r\n    }\r\n\r\n    \r\n    public static boolean verifySignature(String address, String signedMessage, String originalMessage) {\r\n        String decryptedAddress = getAddressUsedToSignHashedPrefixedMessage(signedMessage, originalMessage);\r\n        decryptedAddress = &quot;0x&quot; + decryptedAddress;\r\n\r\n        return address.equalsIgnoreCase(decryptedAddress);\r\n    }\r\n\r\n    @SneakyThrows\r\n    private static String getAddressUsedToSignHashedPrefixedMessage(String signedHash, String originalMessage) {\r\n        String r = signedHash.substring(0, 66);\r\n        String s = &quot;0x&quot; + signedHash.substring(66, 130);\r\n        String v = &quot;0x&quot; + signedHash.substring(130, 132);\r\n\r\n        String publicKey = Sign.signedPrefixedMessageToKey(\r\n                        originalMessage.getBytes(),\r\n                        new Sign.SignatureData(\r\n                                Numeric.hexStringToByteArray(v)[0],\r\n                                Numeric.hexStringToByteArray(r),\r\n                                Numeric.hexStringToByteArray(s))\r\n                )\r\n                .toString(16);\r\n\r\n        return Keys.getAddress(publicKey);\r\n    }\r\n```\r\n(please ignore the SneakyThrows)\r\n\r\nThank you for reading this far - any comment/suggestion/criticism is appreciated :)\r\n\r\n  [1]: https://github.com/sridharreddyu/web3-java-snippets/blob/main/src/main/java/com/web3/java/example/Web3SignatureVerification.java","title":"Authorization using Metamask - Signing and validating - can you find any weaknesses in this approach?","body":"<p>I would like to develop a webapp (frontend: ReactJs, backend: Spring Boot) in which users can interact without logging in in the traditional sense of the word (username + password) but instead using Metamask for proving their identity.</p>\n<p>Can you guys find any weaknesses in the following approach:</p>\n<ol>\n<li>Client requests a nonce from the server <code>/nonce?publicAddress={metamaskAddress}</code></li>\n<li>Server generates a UUID for a specific Metamask address and stores it with a short TTL and returns it to the client</li>\n<li>Client signs the nonce via Metamask</li>\n<li>Client makes a request putting the signed nonce and the Metamask address in the headers</li>\n<li>Server verifies that the Metamask address that signed the nonce is the same of the one sent in the headers and that the nonce is not expired</li>\n</ol>\n<p>Client code (using ethers library)</p>\n<pre><code>        if (!window.ethereum) {\n            throw new Error(&quot;No crypto wallet found. Please install it.&quot;);\n        }\n        await window.ethereum.send(&quot;eth_requestAccounts&quot;);\n        const provider = new ethers.providers.Web3Provider(window.ethereum);\n\n        const signer = provider.getSigner();\n        const address = await signer.getAddress();\n\n        const nonceResponse = await fetch(`/nonce?userId=${address}`, {\n            method: &quot;get&quot;,\n            headers: {\n                &quot;Content-Type&quot;: &quot;application/json&quot;,\n            },\n        });\n\n        const nonce = await nonceResponse.text();\n\n        const signature = await signer.signMessage(nonce);\n\n        await fetch(&quot;/doSomething&quot;, {\n            method: &quot;post&quot;,\n            headers: {\n                &quot;Content-Type&quot;: &quot;application/json&quot;,\n                &quot;Authorization&quot;: signature,\n                &quot;Public-Address&quot;: address,\n            },\n            body: JSON.stringify(&quot;data&quot;),\n        });\n\n</code></pre>\n<p>Server side - validation code taken from <a href=\"https://github.com/sridharreddyu/web3-java-snippets/blob/main/src/main/java/com/web3/java/example/Web3SignatureVerification.java\" rel=\"nofollow noreferrer\">sridharreddyu/web3-java-snippets</a></p>\n<pre><code>    @PostMapping(&quot;/doSomething&quot;)\n    public void doSomething(\n            @RequestHeader(value = HttpHeaders.AUTHORIZATION) String signedNonce,\n            @RequestHeader(value = &quot;Public-Address&quot;) String publicAddress,\n            @RequestBody String body) {\n\n        String originalNonce = nonceService.getNonceForAddress(publicAddress)\n                .orElseThrow(() -&gt; new HttpClientErrorException(HttpStatus.UNAUTHORIZED));\n\n        boolean verified = verifySignature(\n                publicAddress,\n                signedNonce,\n                originalNonce\n        );\n\n        if (verified) {\n            // do something with the body\n        } else {\n            throw new HttpClientErrorException(HttpStatus.UNAUTHORIZED);\n        }\n    }\n\n    \n    public static boolean verifySignature(String address, String signedMessage, String originalMessage) {\n        String decryptedAddress = getAddressUsedToSignHashedPrefixedMessage(signedMessage, originalMessage);\n        decryptedAddress = &quot;0x&quot; + decryptedAddress;\n\n        return address.equalsIgnoreCase(decryptedAddress);\n    }\n\n    @SneakyThrows\n    private static String getAddressUsedToSignHashedPrefixedMessage(String signedHash, String originalMessage) {\n        String r = signedHash.substring(0, 66);\n        String s = &quot;0x&quot; + signedHash.substring(66, 130);\n        String v = &quot;0x&quot; + signedHash.substring(130, 132);\n\n        String publicKey = Sign.signedPrefixedMessageToKey(\n                        originalMessage.getBytes(),\n                        new Sign.SignatureData(\n                                Numeric.hexStringToByteArray(v)[0],\n                                Numeric.hexStringToByteArray(r),\n                                Numeric.hexStringToByteArray(s))\n                )\n                .toString(16);\n\n        return Keys.getAddress(publicKey);\n    }\n</code></pre>\n<p>(please ignore the SneakyThrows)</p>\n<p>Thank you for reading this far - any comment/suggestion/criticism is appreciated :)</p>\n"},{"tags":["java","search","twitter","apache-httpcomponents","uribuilder"],"comments":[{"owner":{"account_id":96595,"reputation":11480,"user_id":262478,"display_name":"Andy Piper"},"score":0,"creation_date":1657296479,"post_id":72904025,"comment_id":128784548,"body_markdown":"I&#39;m surprised that this works just with the `#` character as a search term. Have you tried with any words rather than just that character?","body":"I&#39;m surprised that this works just with the <code>#</code> character as a search term. Have you tried with any words rather than just that character?"},{"owner":{"account_id":20666714,"reputation":71,"user_id":15173384,"display_name":"jmuth"},"score":0,"creation_date":1657399622,"post_id":72904025,"comment_id":128802636,"body_markdown":"Yes, I just tried with the word &quot;the&quot; and I still get more entities sections than hastags sections.","body":"Yes, I just tried with the word &quot;the&quot; and I still get more entities sections than hastags sections."}],"owner":{"account_id":20666714,"reputation":71,"user_id":15173384,"display_name":"jmuth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657226740,"creation_date":1657226740,"question_id":72904025,"body_markdown":"I am just starting to use the Twitter API (v2) in Java and it doesn&#39;t seem like I&#39;m getting the correct response to a query on the recent search endpoint. In the code (modified from example code) below, I am using a query of \r\n\r\n&quot;#&quot; has:hashtags lang:en \r\n\r\nto look for English language tweets with a hashtag (using a backslash to escape Java processing so I&#39;m really searching on &quot;#&quot;, which is needed as there has to be one standalone operator) that have occurred in the last second, and returning tweet.fields entities so I can look for the hashtags.\r\n\r\n    private static String search(String bearerToken) throws IOException, URISyntaxException {\r\n        String searchResponse = null;\r\n\r\n        HttpClient httpClient = HttpClients.custom().setDefaultRequestConfig(RequestConfig.custom()\r\n                        .setCookieSpec(CookieSpecs.STANDARD).build()).build();\r\n\r\n        URIBuilder uriBuilder = new URIBuilder(&quot;https://api.twitter.com/2/tweets/search/recent&quot;);\r\n        ArrayList&lt;NameValuePair&gt; queryParameters;\r\n        queryParameters = new ArrayList&lt;&gt;();\r\n        queryParameters.add(new BasicNameValuePair(&quot;query&quot;, &quot;\\&quot;#\\&quot; has:hashtags lang:en&quot;));\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;);\r\n        LocalDateTime datetime = LocalDateTime.now();\r\n        String currentTime = datetime.format(formatter);\r\n        String currentTimeMinusOneSec = currentTime.substring(0,17)+String.valueOf(Integer.parseInt(currentTime.substring(17,19))-1)+currentTime.substring(19);\r\n        queryParameters.add(new BasicNameValuePair(&quot;start_time&quot;, currentTimeMinusOneSec));\r\n        queryParameters.add(new BasicNameValuePair(&quot;tweet.fields&quot;, &quot;entities&quot;));\r\n        uriBuilder.addParameters(queryParameters);\r\n\r\n        HttpGet httpGet = new HttpGet(uriBuilder.build());\r\n        httpGet.setHeader(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, bearerToken));\r\n        httpGet.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\n        HttpResponse response = httpClient.execute(httpGet);\r\n        HttpEntity entity = response.getEntity();\r\n        if (null != entity) {\r\n            searchResponse = EntityUtils.toString(entity, &quot;UTF-8&quot;);\r\n        }\r\n        return searchResponse;\r\n    }\r\n\r\nIn the response, I get 10 entities sections, but only seven of those have hashtags. I would have thought the three entities sections w/o hashtags would have been dropped by has:hashtags. In addition, I have one tweet in Mandarin characters, so clearly not language en (English). If anyone can see what I&#39;m doing wrong or offer advice, that would be great!","title":"How can you tell if a Twitter query is returning the correct data?","body":"<p>I am just starting to use the Twitter API (v2) in Java and it doesn't seem like I'm getting the correct response to a query on the recent search endpoint. In the code (modified from example code) below, I am using a query of</p>\n<p>&quot;#&quot; has:hashtags lang:en</p>\n<p>to look for English language tweets with a hashtag (using a backslash to escape Java processing so I'm really searching on &quot;#&quot;, which is needed as there has to be one standalone operator) that have occurred in the last second, and returning tweet.fields entities so I can look for the hashtags.</p>\n<pre><code>private static String search(String bearerToken) throws IOException, URISyntaxException {\n    String searchResponse = null;\n\n    HttpClient httpClient = HttpClients.custom().setDefaultRequestConfig(RequestConfig.custom()\n                    .setCookieSpec(CookieSpecs.STANDARD).build()).build();\n\n    URIBuilder uriBuilder = new URIBuilder(&quot;https://api.twitter.com/2/tweets/search/recent&quot;);\n    ArrayList&lt;NameValuePair&gt; queryParameters;\n    queryParameters = new ArrayList&lt;&gt;();\n    queryParameters.add(new BasicNameValuePair(&quot;query&quot;, &quot;\\&quot;#\\&quot; has:hashtags lang:en&quot;));\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;);\n    LocalDateTime datetime = LocalDateTime.now();\n    String currentTime = datetime.format(formatter);\n    String currentTimeMinusOneSec = currentTime.substring(0,17)+String.valueOf(Integer.parseInt(currentTime.substring(17,19))-1)+currentTime.substring(19);\n    queryParameters.add(new BasicNameValuePair(&quot;start_time&quot;, currentTimeMinusOneSec));\n    queryParameters.add(new BasicNameValuePair(&quot;tweet.fields&quot;, &quot;entities&quot;));\n    uriBuilder.addParameters(queryParameters);\n\n    HttpGet httpGet = new HttpGet(uriBuilder.build());\n    httpGet.setHeader(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, bearerToken));\n    httpGet.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n    HttpResponse response = httpClient.execute(httpGet);\n    HttpEntity entity = response.getEntity();\n    if (null != entity) {\n        searchResponse = EntityUtils.toString(entity, &quot;UTF-8&quot;);\n    }\n    return searchResponse;\n}\n</code></pre>\n<p>In the response, I get 10 entities sections, but only seven of those have hashtags. I would have thought the three entities sections w/o hashtags would have been dropped by has:hashtags. In addition, I have one tweet in Mandarin characters, so clearly not language en (English). If anyone can see what I'm doing wrong or offer advice, that would be great!</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1657230466,"post_id":72904023,"comment_id":128768482,"body_markdown":"Usually images are not the best way to add clarification in StackOverflow, but in this case, they would be pretty useful. Take a screenshot of your app in different devices to properly see what you mean. I&#39;m not good at UI design/programming to help you out, but I can suspect that `Absolute Layout` is part of the problem.","body":"Usually images are not the best way to add clarification in StackOverflow, but in this case, they would be pretty useful. Take a screenshot of your app in different devices to properly see what you mean. I&#39;m not good at UI design/programming to help you out, but I can suspect that <code>Absolute Layout</code> is part of the problem."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1657235172,"post_id":72904023,"comment_id":128769353,"body_markdown":"Note also that many PC have screen scaling which can cause a lot of issues with swing applications, especially on 4k+ screens. Take a look here and see if this makes a difference [How do I run Java apps upscaled on a high-DPI display?](https://superuser.com/questions/988379/how-do-i-run-java-apps-upscaled-on-a-high-dpi-display) also see here for several ways to work out the scaling so that you can display your UI accordingly [Windows scaling](https://stackoverflow.com/questions/32586883/windows-scaling) For more help please include some more information (screenshots) and some short sample code","body":"Note also that many PC have screen scaling which can cause a lot of issues with swing applications, especially on 4k+ screens. Take a look here and see if this makes a difference <a href=\"https://superuser.com/questions/988379/how-do-i-run-java-apps-upscaled-on-a-high-dpi-display\">How do I run Java apps upscaled on a high-DPI display?</a> also see here for several ways to work out the scaling so that you can display your UI accordingly <a href=\"https://stackoverflow.com/questions/32586883/windows-scaling\">Windows scaling</a> For more help please include some more information (screenshots) and some short sample code"}],"owner":{"account_id":25573594,"reputation":1,"user_id":19353513,"display_name":"Dimitry Garces"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657226730,"creation_date":1657226730,"question_id":72904023,"body_markdown":"I am working with NetBeans and when testing my application on different devices, the panels and some objects of my Frame change their position or size, which makes it unusable in cases due to the disappearance of buttons, this also happened to me in C++, but never I knew how to solve it, does anyone know how to do it?\r\n\r\nIt should be noted that the main panel has an Absolute Layout, I don&#39;t know if that affects it.","title":"Size dimensions distortion when moving my project to another device","body":"<p>I am working with NetBeans and when testing my application on different devices, the panels and some objects of my Frame change their position or size, which makes it unusable in cases due to the disappearance of buttons, this also happened to me in C++, but never I knew how to solve it, does anyone know how to do it?</p>\n<p>It should be noted that the main panel has an Absolute Layout, I don't know if that affects it.</p>\n"},{"tags":["java","spring","profiles","spring-profiles"],"comments":[{"owner":{"account_id":304772,"reputation":11223,"user_id":614482,"accept_rate":80,"display_name":"Emerson Farrugia"},"score":0,"creation_date":1375115642,"post_id":14731979,"comment_id":26196280,"body_markdown":"Did you get anywhere on this? I&#39;m trying to come up with a solution to do something similar.","body":"Did you get anywhere on this? I&#39;m trying to come up with a solution to do something similar."},{"owner":{"account_id":556759,"reputation":173,"user_id":918953,"accept_rate":50,"display_name":"user918953"},"score":0,"creation_date":1382866944,"post_id":14731979,"comment_id":29120233,"body_markdown":"sorry for delay. No i havent found solution for this. let me know if you did.","body":"sorry for delay. No i havent found solution for this. let me know if you did."}],"answers":[{"tags":[],"owner":{"account_id":304772,"reputation":11223,"user_id":614482,"accept_rate":80,"display_name":"Emerson Farrugia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382869971,"creation_date":1382869971,"answer_id":19617079,"question_id":14731979,"body_markdown":"I don&#39;t know of any way to achieve this without custom code which would manipulate the active profiles in a `ConfigurableEnvironment`.\r\n\r\nWe&#39;re trying to achieve the same indirection pattern as rights vs. roles (group of rights) in a security framework, but since this doesn&#39;t come out of the box, I ended up having to work around it. \r\n\r\nI kept my profiles general, e.g. production and super-fast in your case, and for each bean that is sensitive to those profiles, I set the correct @Profile. To make refactoring easier, I used two techniques.\r\n\r\n 1. Create a meta-annotation for each profile, e.g. `@Production`, `@SuperFast` and make the profile name a public constant, e.g. `Production.PROFILE_NAME = &quot;production&quot;`.\r\n 2. When marking the profile of any bean, use your new meta-annotation if it only applies to one profile, or use `@Profile({Production.PROFILE_NAME, ...})` if it applies to multiple profiles. You have to do this because you can&#39;t apply two profile meta-annotations to the same bean, [at least not until 4.0][1].\r\n\r\nFor example,\r\n\r\n    @Profile(Production.PROFILE_NAME)\r\n    public @interface Production {\r\n    \r\n        public static String PROFILE_NAME = &quot;production&quot;;\r\n    }\r\n\r\nThe point of all this is that you can now use your IDE to look for usages of `@Production` or `Production.PROFILE_NAME` if you need to quickly understand or change what beans are being pulled in. \r\n\r\n\r\n  [1]: https://jira.springsource.org/browse/SPR-10812","title":"spring profile groups","body":"<p>I don't know of any way to achieve this without custom code which would manipulate the active profiles in a <code>ConfigurableEnvironment</code>.</p>\n\n<p>We're trying to achieve the same indirection pattern as rights vs. roles (group of rights) in a security framework, but since this doesn't come out of the box, I ended up having to work around it. </p>\n\n<p>I kept my profiles general, e.g. production and super-fast in your case, and for each bean that is sensitive to those profiles, I set the correct @Profile. To make refactoring easier, I used two techniques.</p>\n\n<ol>\n<li>Create a meta-annotation for each profile, e.g. <code>@Production</code>, <code>@SuperFast</code> and make the profile name a public constant, e.g. <code>Production.PROFILE_NAME = \"production\"</code>.</li>\n<li>When marking the profile of any bean, use your new meta-annotation if it only applies to one profile, or use <code>@Profile({Production.PROFILE_NAME, ...})</code> if it applies to multiple profiles. You have to do this because you can't apply two profile meta-annotations to the same bean, <a href=\"https://jira.springsource.org/browse/SPR-10812\" rel=\"nofollow\">at least not until 4.0</a>.</li>\n</ol>\n\n<p>For example,</p>\n\n<pre><code>@Profile(Production.PROFILE_NAME)\npublic @interface Production {\n\n    public static String PROFILE_NAME = \"production\";\n}\n</code></pre>\n\n<p>The point of all this is that you can now use your IDE to look for usages of <code>@Production</code> or <code>Production.PROFILE_NAME</code> if you need to quickly understand or change what beans are being pulled in. </p>\n"},{"tags":[],"owner":{"account_id":119359,"reputation":422,"user_id":311003,"display_name":"abh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657226164,"creation_date":1657226164,"answer_id":72903934,"question_id":14731979,"body_markdown":"Spring Boot have since added functionality to address this problem, called &quot;Profile Groups&quot;. A profile group allows you to define a logical name for a related group of profiles.\r\n\r\nFor example, we can create a `production` group that consists of our `proddb` and `prodmq` profiles.\r\n\r\nThis allows for a grouping to be defined, which is added to the spring-profiles-active, which when enabled, in turn, enables other profiles.\r\n\r\nFor more information see https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.profiles.groups","title":"spring profile groups","body":"<p>Spring Boot have since added functionality to address this problem, called &quot;Profile Groups&quot;. A profile group allows you to define a logical name for a related group of profiles.</p>\n<p>For example, we can create a <code>production</code> group that consists of our <code>proddb</code> and <code>prodmq</code> profiles.</p>\n<p>This allows for a grouping to be defined, which is added to the spring-profiles-active, which when enabled, in turn, enables other profiles.</p>\n<p>For more information see <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.profiles.groups\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.profiles.groups</a></p>\n"}],"owner":{"account_id":556759,"reputation":173,"user_id":918953,"accept_rate":50,"display_name":"user918953"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2846,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1657226164,"creation_date":1360162503,"question_id":14731979,"body_markdown":"I have an application, for which I can specify the profiles I want to run it on.\r\nbut I also want to group these profiles into things like credentails, application performance, memory-print, application behaviour etc.\r\nEx. I can run the following profiles\r\n\r\n    -Dspring.profiles.active=production,cached-local,db-connection-pooled...\r\nbut I would prefer initializing it as\r\n\r\n    -Dspring.profiles.active=production,super-fast\r\n    #the above activates method level caches, db connection pooling etc\r\n    #super-fast triggered activation of cached-local, db-connection-pooled profiles\r\nor\r\n\r\n    -Dspring.profiles.active=dev,low-footprint\r\n    #the above dosent enable caching, or db connection pooling\r\n\r\ncan this be achieved without writing any custom code like \r\nhttps://stackoverflow.com/questions/8587489/how-to-set-active-spring-3-1-environment-profile-via-a-properites-file-and-not-v.\r\nI am fine even if I can load these from properties files or inside spring-xml config.\r\nI am using xml only config on spring 3.1.","title":"spring profile groups","body":"<p>I have an application, for which I can specify the profiles I want to run it on.\nbut I also want to group these profiles into things like credentails, application performance, memory-print, application behaviour etc.\nEx. I can run the following profiles</p>\n\n<pre><code>-Dspring.profiles.active=production,cached-local,db-connection-pooled...\n</code></pre>\n\n<p>but I would prefer initializing it as</p>\n\n<pre><code>-Dspring.profiles.active=production,super-fast\n#the above activates method level caches, db connection pooling etc\n#super-fast triggered activation of cached-local, db-connection-pooled profiles\n</code></pre>\n\n<p>or</p>\n\n<pre><code>-Dspring.profiles.active=dev,low-footprint\n#the above dosent enable caching, or db connection pooling\n</code></pre>\n\n<p>can this be achieved without writing any custom code like \n<a href=\"https://stackoverflow.com/questions/8587489/how-to-set-active-spring-3-1-environment-profile-via-a-properites-file-and-not-v\">How to set active spring 3.1 environment profile via a properites file and not via an env variable or system property</a>.\nI am fine even if I can load these from properties files or inside spring-xml config.\nI am using xml only config on spring 3.1.</p>\n"},{"tags":["java","spring","vue.js","request","userprincipal"],"comments":[{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657219916,"post_id":72902795,"comment_id":128765414,"body_markdown":"Have you tried using the session to store the data in? This would work only as teporary saving location since it gets removed on browser close. Another idea would be to redirect the response to the same site. Since the redirection works client based as far as I know.","body":"Have you tried using the session to store the data in? This would work only as teporary saving location since it gets removed on browser close. Another idea would be to redirect the response to the same site. Since the redirection works client based as far as I know."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657225959,"creation_date":1657225959,"answer_id":72903905,"question_id":72902795,"body_markdown":"Is it possible the first request is sent without user authentication?\r\nThat&#39;s what browsers would typically do, and only when the server responds with HTTP status 403 they would try again with credentials.\r\n\r\nTo not deal with such fuss in your application you could simply set a security constraint that only allows authenticated users to access. The container will then automatically send the 403 response and your application would only see valid traffic.","title":"HttpServletRequest userprincipal is null at first load","body":"<p>Is it possible the first request is sent without user authentication?\nThat's what browsers would typically do, and only when the server responds with HTTP status 403 they would try again with credentials.</p>\n<p>To not deal with such fuss in your application you could simply set a security constraint that only allows authenticated users to access. The container will then automatically send the 403 response and your application would only see valid traffic.</p>\n"}],"owner":{"account_id":14212096,"reputation":131,"user_id":10267017,"display_name":"luis alberto juarez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72903905,"answer_count":1,"score":1,"last_activity_date":1657225959,"creation_date":1657219436,"question_id":72902795,"body_markdown":"im using **javax.servlet.http.HttpServletRequest**; to get the request in java controller, i just want to create controller that returns actual user name, im using method **getUserPrincipal()** in order to get the user in the actual session, it doesn&#39;t work at the *first page load* (returns null) but when i *reload the page* it works perfectly.\r\n \r\nIm using \r\n \r\n\r\n - spring framework 5.3.9 \r\n - javaee-api 8.0\r\n - weblogic 14.1.1\r\n - vuejs 3.2.37\r\n\r\n   \r\n\r\n \r\n\r\nHere is my java controller\r\n\r\n    @GetMapping(&quot;/username&quot;)\r\n        public ResponseEntity&lt;?&gt; getname(HttpServletRequest request) {\r\n            Map&lt;String, String&gt; response = new HashMap&lt;String, String&gt;();\r\n    \r\n            String username = &quot;&quot;;\r\n            try {\r\n    \r\n                Principal p = request.getUserPrincipal();\r\n                if (p == null || p.getName() == null || p.getName().equals(&quot;&quot;)) {\r\n    \r\n                    username = &quot;undefined&quot;;\r\n    \r\n                } else {\r\n                    username = p.getName();\r\n                }\r\n                response.put(&quot;username&quot;, username);\r\n    \r\n                return new ResponseEntity&lt;Object&gt;(\r\n                        response, HttpStatus.OK);\r\n            } catch (Exception ex) {\r\n                System.out.println(ex.getMessage());\r\n                response.put(&quot;username&quot;, &quot;&quot;);\r\n                return new ResponseEntity&lt;Object&gt;(response, HttpStatus.INTERNAL_SERVER_ERROR);\r\n            }\r\n        }\r\n\r\nI have tried something a little tricky, reload the page in my Vue file when username is undefined, it works but i need this to work at first load.\r\n\r\nCan you help me with this issue?\r\n\r\nThanks","title":"HttpServletRequest userprincipal is null at first load","body":"<p>im using <strong>javax.servlet.http.HttpServletRequest</strong>; to get the request in java controller, i just want to create controller that returns actual user name, im using method <strong>getUserPrincipal()</strong> in order to get the user in the actual session, it doesn't work at the <em>first page load</em> (returns null) but when i <em>reload the page</em> it works perfectly.</p>\n<p>Im using</p>\n<ul>\n<li>spring framework 5.3.9</li>\n<li>javaee-api 8.0</li>\n<li>weblogic 14.1.1</li>\n<li>vuejs 3.2.37</li>\n</ul>\n<p>Here is my java controller</p>\n<pre><code>@GetMapping(&quot;/username&quot;)\n    public ResponseEntity&lt;?&gt; getname(HttpServletRequest request) {\n        Map&lt;String, String&gt; response = new HashMap&lt;String, String&gt;();\n\n        String username = &quot;&quot;;\n        try {\n\n            Principal p = request.getUserPrincipal();\n            if (p == null || p.getName() == null || p.getName().equals(&quot;&quot;)) {\n\n                username = &quot;undefined&quot;;\n\n            } else {\n                username = p.getName();\n            }\n            response.put(&quot;username&quot;, username);\n\n            return new ResponseEntity&lt;Object&gt;(\n                    response, HttpStatus.OK);\n        } catch (Exception ex) {\n            System.out.println(ex.getMessage());\n            response.put(&quot;username&quot;, &quot;&quot;);\n            return new ResponseEntity&lt;Object&gt;(response, HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n    }\n</code></pre>\n<p>I have tried something a little tricky, reload the page in my Vue file when username is undefined, it works but i need this to work at first load.</p>\n<p>Can you help me with this issue?</p>\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1657225004,"post_id":72903723,"comment_id":128767024,"body_markdown":"Most likely you are facing one of problems described at: [What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?](https://stackoverflow.com/q/25706216)","body":"Most likely you are facing one of problems described at: <a href=\"https://stackoverflow.com/q/25706216\">What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1657225050,"post_id":72903723,"comment_id":128767038,"body_markdown":"It says `Taskdetails` is a variable of type `String`, and `String` does not have a `getNumberOfTasks()` method. The exact fix is impossible to guess without a [mre].","body":"It says <code>Taskdetails</code> is a variable of type <code>String</code>, and <code>String</code> does not have a <code>getNumberOfTasks()</code> method. The exact fix is impossible to guess without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1657225178,"post_id":72903723,"comment_id":128767071,"body_markdown":"Based on `location: variable Taskdetails of type String` need to agree with @Slaw. This is good example why *variables* should start with `lowerCase` and *types* `UpperCase` so we could easier recognize or even prevent those kind of problems.","body":"Based on <code>location: variable Taskdetails of type String</code> need to agree with @Slaw. This is good example why <i>variables</i> should start with <code>lowerCase</code> and <i>types</i> <code>UpperCase</code> so we could easier recognize or even prevent those kind of problems."}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657225166,"creation_date":1657225166,"answer_id":72903772,"question_id":72903723,"body_markdown":"You named a variable `Taskdetails` of type String. And in the line in the error message, you try to access its method `getNumberOfTasks` which is not present in the String class.","title":"How to fix java 38 error cannot find symbol","body":"<p>You named a variable <code>Taskdetails</code> of type String. And in the line in the error message, you try to access its method <code>getNumberOfTasks</code> which is not present in the String class.</p>\n"}],"owner":{"account_id":21238455,"reputation":11,"user_id":15622320,"display_name":"HAPPY DUMMY"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657225166,"creation_date":1657224899,"question_id":72903723,"body_markdown":"Hi guys can you help me fix this error I am not sure what to do and I have been trying to resolve it for a long time, stackoverflow is not allowing me to post because my post is more code than is description but this is the error I am getting please help\r\n\r\n```\r\n/PROG3.java:38: error: cannot find symbol\r\n    static int size = Taskdetails.getNumberOfTasks();\r\n                                 ^\r\n  symbol:   method getNumberOfTasks()\r\n  location: variable Taskdetails of type String\r\n1 error\r\n```\r\n\r\nI will appreciate your inputs","title":"How to fix java 38 error cannot find symbol","body":"<p>Hi guys can you help me fix this error I am not sure what to do and I have been trying to resolve it for a long time, stackoverflow is not allowing me to post because my post is more code than is description but this is the error I am getting please help</p>\n<pre><code>/PROG3.java:38: error: cannot find symbol\n    static int size = Taskdetails.getNumberOfTasks();\n                                 ^\n  symbol:   method getNumberOfTasks()\n  location: variable Taskdetails of type String\n1 error\n</code></pre>\n<p>I will appreciate your inputs</p>\n"},{"tags":["java","android","material-design","android-theme","preferenceactivity"],"answers":[{"tags":[],"owner":{"account_id":7089013,"reputation":337,"user_id":9215075,"display_name":"Ricardo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1597137149,"creation_date":1597136694,"answer_id":63354995,"question_id":63349209,"body_markdown":"Found it! After reading more the **AndroidX** package found that by default the **AlertDialog.Builder** retrieves a default theme from an attribute when no specified in the constructor. [You can see it here](https://android.googlesource.com/platform/frameworks/support/+/androidx-master-dev/appcompat/appcompat/src/main/java/androidx/appcompat/app/AlertDialog.java#115)\r\n\r\nSo a solution would be to add a specific theme for dialogs in the activity like this:\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;alertDialogTheme&quot;&gt;@style/AlertDialogCustom&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nAnd then you setup your dialog theme like:\r\n\r\n    &lt;style name=&quot;AlertDialogCustom&quot; parent=&quot;Theme.AppCompat.Light.Dialog&quot;&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;#FFC107&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorPrimary&quot;&gt;#FFFFFF&lt;/item&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;#4CAF50&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nAnd this is the result:\r\n\r\n[![Fully changed dialog theme][1]][1]\r\n\r\n&gt; Bonus tip: If you want to also setup the default theme for\r\n&gt; **MaterialAlertDialogBuilder** you must change de attribute\r\n&gt; **materialAlertDialogTheme**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OYr9e.png","title":"Change PreferenceFragmentCompat dialog background color in Android","body":"<p>Found it! After reading more the <strong>AndroidX</strong> package found that by default the <strong>AlertDialog.Builder</strong> retrieves a default theme from an attribute when no specified in the constructor. <a href=\"https://android.googlesource.com/platform/frameworks/support/+/androidx-master-dev/appcompat/appcompat/src/main/java/androidx/appcompat/app/AlertDialog.java#115\" rel=\"nofollow noreferrer\">You can see it here</a></p>\n<p>So a solution would be to add a specific theme for dialogs in the activity like this:</p>\n<pre><code>&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n    &lt;item name=&quot;alertDialogTheme&quot;&gt;@style/AlertDialogCustom&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>And then you setup your dialog theme like:</p>\n<pre><code>&lt;style name=&quot;AlertDialogCustom&quot; parent=&quot;Theme.AppCompat.Light.Dialog&quot;&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;#FFC107&lt;/item&gt;\n    &lt;item name=&quot;android:textColorPrimary&quot;&gt;#FFFFFF&lt;/item&gt;\n    &lt;item name=&quot;android:background&quot;&gt;#4CAF50&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>And this is the result:</p>\n<p><a href=\"https://i.stack.imgur.com/OYr9e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OYr9e.png\" alt=\"Fully changed dialog theme\" /></a></p>\n<blockquote>\n<p>Bonus tip: If you want to also setup the default theme for\n<strong>MaterialAlertDialogBuilder</strong> you must change de attribute\n<strong>materialAlertDialogTheme</strong></p>\n</blockquote>\n"}],"owner":{"account_id":7089013,"reputation":337,"user_id":9215075,"display_name":"Ricardo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63354995,"answer_count":1,"score":1,"last_activity_date":1657225098,"creation_date":1597100627,"question_id":63349209,"body_markdown":"I recently started working with **PreferenceFragmentCompat** and **MaterialComponents** and noticed that *in Dark mode*, Dialogs generated by preferences like **ListPreference** always have that weird grey android background no matter how many background attributes I change in the style.\r\n\r\n[![Image of the weird color (at the left)][1]][1]  \n&lt;sub&gt;(source: [pocketnow.com](https://pocketnow.com/files/2015/09/android-marshmallow-dark-theme.jpg))&lt;/sub&gt;  \n\r\n\r\nThis I&#39;ve tried:\r\n\r\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n    &lt;item name=&quot;android:colorBackground&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n    &lt;item name=&quot;android:colorBackgroundFloating&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n\r\nI&#39;ve also tried with **android:background** and worked but it brokes everything.\r\n\r\nSo I investigated a bit in-depth at elements like **EditTextPreferenceDialogFragment** and most of them create and show an AlertDialog instance [in the same function of PreferenceDialogFragment](https://android.googlesource.com/platform/frameworks/support/+/6904f67/v14/preference/src/android/support/v14/preference/PreferenceDialogFragment.java#64) without any possibility to change its style.\r\n\r\nOr at least that&#39;s the conclusion I&#39;ve come to after some research on the subject.\r\n\r\nMy question is, has anyone found a workaround for this? Am I doing something wrong? Cause I would like to have those dialogs matching my app theme even if it&#39;s just the background color. \r\n\r\nBtw, sorry if it has been already answered before. I also searched in here but found nothing and similar answers for different problems without results. Thanks.\n\n [1]: https://i.stack.imgur.com/vdNYR.jpg","title":"Change PreferenceFragmentCompat dialog background color in Android","body":"<p>I recently started working with <strong>PreferenceFragmentCompat</strong> and <strong>MaterialComponents</strong> and noticed that <em>in Dark mode</em>, Dialogs generated by preferences like <strong>ListPreference</strong> always have that weird grey android background no matter how many background attributes I change in the style.</p>\n<p><a href=\"https://i.stack.imgur.com/vdNYR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vdNYR.jpg\" alt=\"Image of the weird color (at the left)\" /></a><br />\n<sub>(source: <a href=\"https://pocketnow.com/files/2015/09/android-marshmallow-dark-theme.jpg\" rel=\"nofollow noreferrer\">pocketnow.com</a>)</sub></p>\n<p>This I've tried:</p>\n<pre><code>&lt;item name=&quot;android:windowBackground&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n&lt;item name=&quot;android:colorBackground&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n&lt;item name=&quot;android:colorBackgroundFloating&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n</code></pre>\n<p>I've also tried with <strong>android:background</strong> and worked but it brokes everything.</p>\n<p>So I investigated a bit in-depth at elements like <strong>EditTextPreferenceDialogFragment</strong> and most of them create and show an AlertDialog instance <a href=\"https://android.googlesource.com/platform/frameworks/support/+/6904f67/v14/preference/src/android/support/v14/preference/PreferenceDialogFragment.java#64\" rel=\"nofollow noreferrer\">in the same function of PreferenceDialogFragment</a> without any possibility to change its style.</p>\n<p>Or at least that's the conclusion I've come to after some research on the subject.</p>\n<p>My question is, has anyone found a workaround for this? Am I doing something wrong? Cause I would like to have those dialogs matching my app theme even if it's just the background color.</p>\n<p>Btw, sorry if it has been already answered before. I also searched in here but found nothing and similar answers for different problems without results. Thanks.</p>\n"},{"tags":["javascript","java","react-native"],"comments":[{"owner":{"account_id":14547532,"reputation":71,"user_id":10507382,"display_name":"vedasai"},"score":0,"creation_date":1624372445,"post_id":57041024,"comment_id":120337752,"body_markdown":"same problem i am faced","body":"same problem i am faced"}],"answers":[{"tags":[],"owner":{"account_id":10508812,"reputation":3374,"user_id":7745173,"accept_rate":78,"display_name":"Logan Wlv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563199506,"creation_date":1563199506,"answer_id":57041464,"question_id":57041024,"body_markdown":"You missed the return part : \r\n\r\n    @Override\r\n    protected Bundle getLaunchOptions() {\r\n        Bundle initialProperties = new Bundle();\r\n        initialProperties.putString(&quot;testString&quot;, &quot;This should be displayed now&quot;);\r\n        return initialProperties;\r\n    }","title":"How to pass props from android native code to react native","body":"<p>You missed the return part : </p>\n\n<pre><code>@Override\nprotected Bundle getLaunchOptions() {\n    Bundle initialProperties = new Bundle();\n    initialProperties.putString(\"testString\", \"This should be displayed now\");\n    return initialProperties;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15441311,"reputation":74,"user_id":11139788,"display_name":"Bestine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657224948,"creation_date":1657224948,"answer_id":72903730,"question_id":57041024,"body_markdown":"What [@Logan Wlv][1] answered is partially correct but you need to configure it so that it uses promise\r\n\r\n    @Override protected Bundle getLaunchOptions(promise Promise) //change here\r\n    {\r\n    Bundle initialProperties = new Bundle();\r\n    initialProperties.putString(&quot;testString&quot;, &quot;This should be displayed \r\n    now&quot;);\r\n    return promise.resolve(initialProperties;//change here \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/7745173/logan-wlv","title":"How to pass props from android native code to react native","body":"<p>What <a href=\"https://stackoverflow.com/users/7745173/logan-wlv\">@Logan Wlv</a> answered is partially correct but you need to configure it so that it uses promise</p>\n<pre><code>@Override protected Bundle getLaunchOptions(promise Promise) //change here\n{\nBundle initialProperties = new Bundle();\ninitialProperties.putString(&quot;testString&quot;, &quot;This should be displayed \nnow&quot;);\nreturn promise.resolve(initialProperties;//change here \n}\n</code></pre>\n"}],"owner":{"account_id":16305542,"reputation":147,"user_id":11775623,"display_name":"niedem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657224948,"creation_date":1563197999,"question_id":57041024,"body_markdown":"I&#39;m trying to pass some attributes from android native code (Java) to react-native. For now I do it in the initialization, but later it will be done from a function.\r\n\r\nI read through the docs and tried to copy the code the official docs submitted, however this did not work. \r\n\r\nInside my MainActivity class:\r\n```\r\n@Override\r\nprotected Bundle getLaunchOptions() {\r\n    Bundle initialProperties = new Bundle();\r\n    initialProperties.putString(&quot;testString&quot;, &quot;This should be displayed now&quot;);\r\n    return initialProperties;\r\n}\r\n```\r\nIn my app.js render method:\r\n```\r\n&lt;Text&gt;{this.props.testString}&lt;/Text&gt;\r\n```\r\n\r\n\r\n\r\nThe rest of the app works fine, however I get a blank space where the text should be. Debugger says its undefined/null","title":"How to pass props from android native code to react native","body":"<p>I'm trying to pass some attributes from android native code (Java) to react-native. For now I do it in the initialization, but later it will be done from a function.</p>\n\n<p>I read through the docs and tried to copy the code the official docs submitted, however this did not work. </p>\n\n<p>Inside my MainActivity class:</p>\n\n<pre><code>@Override\nprotected Bundle getLaunchOptions() {\n    Bundle initialProperties = new Bundle();\n    initialProperties.putString(\"testString\", \"This should be displayed now\");\n    return initialProperties;\n}\n</code></pre>\n\n<p>In my app.js render method:</p>\n\n<pre><code>&lt;Text&gt;{this.props.testString}&lt;/Text&gt;\n</code></pre>\n\n<p>The rest of the app works fine, however I get a blank space where the text should be. Debugger says its undefined/null</p>\n"},{"tags":["java","maven","azure-devops","azure-pipelines"],"answers":[{"tags":[],"owner":{"account_id":14927328,"reputation":97,"user_id":10911230,"display_name":"Meysam Karimi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1588195519,"creation_date":1588195519,"answer_id":61511973,"question_id":61511096,"body_markdown":"please check following itemes:\r\n\r\n 1. Make sure that when you run &quot;mvn clean install&quot; command, maven read\r\n    configurations from settings.xml file in ${user.home}/.m2 .\r\n 2. Check id, username and password whitin `&lt;server&gt;&lt;/server&gt;` tags.\r\n 3. Please before running &quot;mvn clean install&quot; remove all files and\r\n    folder in .m2 folder.\r\n 4. enable debugging option when run maven install command by add -X or\r\n    --debug options.\r\n\r\n \r\n","title":"How do I add Maven dependencies to Azure Pipelines","body":"<p>please check following itemes:</p>\n\n<ol>\n<li>Make sure that when you run \"mvn clean install\" command, maven read\nconfigurations from settings.xml file in ${user.home}/.m2 .</li>\n<li>Check id, username and password whitin <code>&lt;server&gt;&lt;/server&gt;</code> tags.</li>\n<li>Please before running \"mvn clean install\" remove all files and\nfolder in .m2 folder.</li>\n<li>enable debugging option when run maven install command by add -X or\n--debug options.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1711161,"reputation":5093,"user_id":1569204,"accept_rate":45,"display_name":"Bruce Adams"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593557586,"creation_date":1593557586,"answer_id":62667259,"question_id":61511096,"body_markdown":"We do this by having a separate azure pipeline to build the dependency which deploys it to an Azure feed:\r\n\r\n````\r\n       variables: \r\n        - name: mavenRepoURL\r\n          value: &#39;https://myorg.pkgs.visualstudio.com/myproject/_packaging/myfeed/maven/v1&#39;\r\n\r\n        - task: DownloadSecureFile@1\r\n          name: mvnSettings\r\n          displayName: &#39;Download Maven settings&#39;\r\n          inputs:\r\n            secureFile: &#39;maven-azuredevops-settings.xml&#39;\r\n\r\n        - task: MavenAuthenticate@0\r\n          displayName: Maven Authenticate Artifacts\r\n          inputs:\r\n            artifactsFeeds: &#39;myfeed&#39;\r\n\r\n        - task: Maven@3\r\n          inputs:\r\n            mavenPomFile: &#39;pom.xml&#39;\r\n            options: &#39;-X -B -s $(mvnSettings.secureFilePath) -DWHERE=&quot;AzureDevops&quot; -DremoteRepositories=$(mavenRepoUrl) clean deploy -U&#39;\r\n            mavenAuthenticateFeed: true\r\n            publishJUnitResults: true\r\n            testResultsFiles: &#39;**/TEST-*.xml&#39;\r\n          \r\n````\r\nNote that its important that your personal access token is not stored in version control for security reasons hence the complication of having to upload it as a secure file and download it in the pipeline.\r\n\r\nThe dependency is added to the pom for the project using it as normal but with the Azure feed configured as well\r\n\r\n````\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.foobar.blah&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;artifactId&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;AzureDevops&lt;/id&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;property&gt;\r\n\t\t\t\t\t&lt;name&gt;WHERE&lt;/name&gt;\r\n\t\t\t\t\t&lt;value&gt;AzureDevops&lt;/value&gt;\r\n\t\t\t\t&lt;/property&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t\t&lt;distributionManagement&gt;\r\n\t\t\t\t&lt;repository&gt;\r\n\t\t\t\t\t&lt;id&gt;myfeedname&lt;/id&gt;\r\n\t\t\t\t\t&lt;url&gt;https://myorg.pkgs.visualstudio.com/_packaging/myfeed/maven/v1&lt;/url&gt;\r\n\t\t\t\t\t&lt;releases&gt;\r\n\t\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t\t\t&lt;/releases&gt;\r\n\t\t\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n\t\t\t\t\t&lt;/snapshots&gt;\r\n\t\t\t\t&lt;/repository&gt;\r\n\t\t\t&lt;/distributionManagement&gt;\r\n\t\t&lt;/profile&gt;\r\n\r\n````\r\n\r\nCaveat: I am not that familiar with maven or Azure so some things may not be right. For example, I have issues with project rather than organisation scoped feeds. See https://stackoverflow.com/q/62667271/1569204\r\n","title":"How do I add Maven dependencies to Azure Pipelines","body":"<p>We do this by having a separate azure pipeline to build the dependency which deploys it to an Azure feed:</p>\n<pre><code>       variables: \n        - name: mavenRepoURL\n          value: 'https://myorg.pkgs.visualstudio.com/myproject/_packaging/myfeed/maven/v1'\n\n        - task: DownloadSecureFile@1\n          name: mvnSettings\n          displayName: 'Download Maven settings'\n          inputs:\n            secureFile: 'maven-azuredevops-settings.xml'\n\n        - task: MavenAuthenticate@0\n          displayName: Maven Authenticate Artifacts\n          inputs:\n            artifactsFeeds: 'myfeed'\n\n        - task: Maven@3\n          inputs:\n            mavenPomFile: 'pom.xml'\n            options: '-X -B -s $(mvnSettings.secureFilePath) -DWHERE=&quot;AzureDevops&quot; -DremoteRepositories=$(mavenRepoUrl) clean deploy -U'\n            mavenAuthenticateFeed: true\n            publishJUnitResults: true\n            testResultsFiles: '**/TEST-*.xml'\n          \n</code></pre>\n<p>Note that its important that your personal access token is not stored in version control for security reasons hence the complication of having to upload it as a secure file and download it in the pipeline.</p>\n<p>The dependency is added to the pom for the project using it as normal but with the Azure feed configured as well</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.foobar.blah&lt;/groupId&gt;\n            &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;AzureDevops&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;WHERE&lt;/name&gt;\n                    &lt;value&gt;AzureDevops&lt;/value&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n            &lt;/properties&gt;\n            &lt;distributionManagement&gt;\n                &lt;repository&gt;\n                    &lt;id&gt;myfeedname&lt;/id&gt;\n                    &lt;url&gt;https://myorg.pkgs.visualstudio.com/_packaging/myfeed/maven/v1&lt;/url&gt;\n                    &lt;releases&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/releases&gt;\n                    &lt;snapshots&gt;\n                        &lt;enabled&gt;true&lt;/enabled&gt;\n                    &lt;/snapshots&gt;\n                &lt;/repository&gt;\n            &lt;/distributionManagement&gt;\n        &lt;/profile&gt;\n\n</code></pre>\n<p>Caveat: I am not that familiar with maven or Azure so some things may not be right. For example, I have issues with project rather than organisation scoped feeds. See <a href=\"https://stackoverflow.com/q/62667271/1569204\">What are the equivalent maven commands and settings to upload and download azure artifacts?</a></p>\n"},{"tags":[],"owner":{"account_id":8156952,"reputation":11,"user_id":6142215,"display_name":"Roberto Morales"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657224879,"creation_date":1657224879,"answer_id":72903719,"question_id":61511096,"body_markdown":"I just had to do this myself to create a docker image whit the final .jar and got inspired by Bruce Adams answer and the [documentation about maven][1]\r\n\r\nyou have to add to your pipeline.yml\r\n\r\n    - task: DownloadSecureFile@1\r\n      name: mvnSettings\r\n      displayName: &#39;Download Maven settings&#39;\r\n      inputs:\r\n        secureFile: &#39;maven-azuredevops-settings.xml&#39;\r\n    - task: MavenAuthenticate@0\r\n      displayName: Maven Authenticate Artifacts\r\n      inputs:\r\n        artifactsFeeds: &#39;yourFeed&#39;\r\n    - task: Maven@3\r\n      inputs:\r\n        mavenPomFile: &#39;pom.xml&#39;\r\n        goals: &#39;deploy&#39;\r\n        options: &#39;-s $(mvnSettings.secureFilePath)&#39;\r\n        mavenAuthenticateFeed: true\r\n        publishJUnitResults: true\r\n        testResultsFiles: &#39;**/TEST-*.xml&#39;\r\n        javaHomeOption: &#39;JDKVersion&#39;\r\n        jdkVersionOption: &#39;1.11&#39;\r\n        mavenVersionOption: &#39;Default&#39;\r\n\r\nand in your pom.xml you need to add the configuration to connect to your artifacts feed \r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n        &lt;id&gt;yourFeed&lt;/id&gt;\r\n        &lt;url&gt;https://yourOrganization.pkgs.visualstudio.com/yourProject/_packaging/yourFeed/maven/v1&lt;/url&gt;\r\n        &lt;releases&gt;\r\n            &lt;enabled&gt;true&lt;/enabled&gt;\r\n        &lt;/releases&gt;\r\n        &lt;snapshots&gt;\r\n            &lt;enabled&gt;true&lt;/enabled&gt;\r\n        &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n        &lt;id&gt;bithaus&lt;/id&gt;\r\n        &lt;url&gt;https://yourOrganization.pkgs.visualstudio.com/yourProject/_packaging/yourFeed/maven/v1&lt;/url&gt;\r\n        &lt;releases&gt;\r\n            &lt;enabled&gt;true&lt;/enabled&gt;\r\n        &lt;/releases&gt;\r\n        &lt;snapshots&gt;\r\n            &lt;enabled&gt;true&lt;/enabled&gt;\r\n        &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/distributionManagement&gt;\r\n\r\nand create the file setting.xml on your {user.home}/.m2/ folder, and upload it to [the secure files][2] on your pipeline. \r\nHope it helps someone. \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/devops/artifacts/maven/pom-and-settings?view=azure-devops\r\n  [2]: https://learn.microsoft.com/en-us/azure/devops/pipelines/library/secure-files?view=azure-devops","title":"How do I add Maven dependencies to Azure Pipelines","body":"<p>I just had to do this myself to create a docker image whit the final .jar and got inspired by Bruce Adams answer and the <a href=\"https://learn.microsoft.com/en-us/azure/devops/artifacts/maven/pom-and-settings?view=azure-devops\" rel=\"nofollow noreferrer\">documentation about maven</a></p>\n<p>you have to add to your pipeline.yml</p>\n<pre><code>- task: DownloadSecureFile@1\n  name: mvnSettings\n  displayName: 'Download Maven settings'\n  inputs:\n    secureFile: 'maven-azuredevops-settings.xml'\n- task: MavenAuthenticate@0\n  displayName: Maven Authenticate Artifacts\n  inputs:\n    artifactsFeeds: 'yourFeed'\n- task: Maven@3\n  inputs:\n    mavenPomFile: 'pom.xml'\n    goals: 'deploy'\n    options: '-s $(mvnSettings.secureFilePath)'\n    mavenAuthenticateFeed: true\n    publishJUnitResults: true\n    testResultsFiles: '**/TEST-*.xml'\n    javaHomeOption: 'JDKVersion'\n    jdkVersionOption: '1.11'\n    mavenVersionOption: 'Default'\n</code></pre>\n<p>and in your pom.xml you need to add the configuration to connect to your artifacts feed</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n    &lt;id&gt;yourFeed&lt;/id&gt;\n    &lt;url&gt;https://yourOrganization.pkgs.visualstudio.com/yourProject/_packaging/yourFeed/maven/v1&lt;/url&gt;\n    &lt;releases&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n    &lt;/releases&gt;\n    &lt;snapshots&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n    &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;distributionManagement&gt;\n    &lt;repository&gt;\n    &lt;id&gt;bithaus&lt;/id&gt;\n    &lt;url&gt;https://yourOrganization.pkgs.visualstudio.com/yourProject/_packaging/yourFeed/maven/v1&lt;/url&gt;\n    &lt;releases&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n    &lt;/releases&gt;\n    &lt;snapshots&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n    &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/distributionManagement&gt;\n</code></pre>\n<p>and create the file setting.xml on your {user.home}/.m2/ folder, and upload it to <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/library/secure-files?view=azure-devops\" rel=\"nofollow noreferrer\">the secure files</a> on your pipeline.\nHope it helps someone.</p>\n"}],"owner":{"account_id":5796630,"reputation":71,"user_id":4572234,"display_name":"Jim Passmore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10369,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1657224879,"creation_date":1588192169,"question_id":61511096,"body_markdown":"I am attempting to build a Maven Build Pipeline in Azure Devops.\r\n\r\n\r\nI have one project that has files shared across several others (as set of micro service projects), so the maven compile for that project creates a .jar file ( which is added to my local maven repository .m2) when I do the build on my laptop.  We can call it shared.jar for now.\r\n​\r\n\r\nThen when I compile the micro services on my laptop, they each have a dependency on the jar file in my .m2 repo. And they pick up the dependency from there and the Maven build (mvn clean install).\r\n​\r\n\r\nUnfortunately, The code build pipeline does not maintain a local .m2 repo.  So when I try to do a “mvn clean install” on each micro service they cannot locate shared.jar, so the build fails.\r\n​\r\n\r\nI have been able to successfully add the .jar file to a Feed and Artifact under Azure DevOps, but I can&#39;t seem to figure out how to pull it into the Micro Services Build.\r\n \r\n\r\nHOW do I pick up the dependency for a local jar file in my CI/CD Maven build pipeline and get it into a maven repo that my build will find?\r\n\r\nI have attempted to follow this link:  https://learn.microsoft.com/en-us/azure/devops/artifacts/get-started-maven?view=azure-devops\r\n","title":"How do I add Maven dependencies to Azure Pipelines","body":"<p>I am attempting to build a Maven Build Pipeline in Azure Devops.</p>\n\n<p>I have one project that has files shared across several others (as set of micro service projects), so the maven compile for that project creates a .jar file ( which is added to my local maven repository .m2) when I do the build on my laptop.  We can call it shared.jar for now.\n​</p>\n\n<p>Then when I compile the micro services on my laptop, they each have a dependency on the jar file in my .m2 repo. And they pick up the dependency from there and the Maven build (mvn clean install).\n​</p>\n\n<p>Unfortunately, The code build pipeline does not maintain a local .m2 repo.  So when I try to do a “mvn clean install” on each micro service they cannot locate shared.jar, so the build fails.\n​</p>\n\n<p>I have been able to successfully add the .jar file to a Feed and Artifact under Azure DevOps, but I can't seem to figure out how to pull it into the Micro Services Build.</p>\n\n<p>HOW do I pick up the dependency for a local jar file in my CI/CD Maven build pipeline and get it into a maven repo that my build will find?</p>\n\n<p>I have attempted to follow this link:  <a href=\"https://learn.microsoft.com/en-us/azure/devops/artifacts/get-started-maven?view=azure-devops\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/azure/devops/artifacts/get-started-maven?view=azure-devops</a></p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":381269,"reputation":493,"user_id":1960592,"display_name":"cerdoc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657223871,"creation_date":1657223871,"answer_id":72903559,"question_id":72901840,"body_markdown":"You can have a &#39;global&#39; config with no prefix, SpringBoot will try to fulfil it from the &#39;root&#39; of all the properties\r\n\r\n```lang-java\r\n\r\npublic class StorageConfig(){\r\n     @Getter\r\n     @Setter\r\n     private String path;\r\n}\r\n\r\npublic class CacheConfig(){\r\n     @Getter\r\n     @Setter\r\n     private int duration;\r\n}\r\n\r\n@Component\r\n@ConfigurationProperties\r\npublic class GlobalConfig(){\r\n     @Getter\r\n     @Setter\r\n     private StorageConfig storage;\r\n     @Getter\r\n     @Setter\r\n     private CacheConfig cache;\r\n}\r\n\r\n```\r\n\r\nAs you annotate your configs with `@Component` they are injectable as any other component so you just have to inject to access the properties they hold.","title":"Use different prefixes in spring boot @Configuration/@ConfigurationProperties","body":"<p>You can have a 'global' config with no prefix, SpringBoot will try to fulfil it from the 'root' of all the properties</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class StorageConfig(){\n     @Getter\n     @Setter\n     private String path;\n}\n\npublic class CacheConfig(){\n     @Getter\n     @Setter\n     private int duration;\n}\n\n@Component\n@ConfigurationProperties\npublic class GlobalConfig(){\n     @Getter\n     @Setter\n     private StorageConfig storage;\n     @Getter\n     @Setter\n     private CacheConfig cache;\n}\n\n</code></pre>\n<p>As you annotate your configs with <code>@Component</code> they are injectable as any other component so you just have to inject to access the properties they hold.</p>\n"}],"owner":{"account_id":20812324,"reputation":95,"user_id":15523730,"display_name":"Kre4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72903559,"answer_count":1,"score":1,"last_activity_date":1657223871,"creation_date":1657213811,"question_id":72901840,"body_markdown":"I have spring boot app, and `.yaml` file with such configuration:\r\n```\r\nstorage:\r\n  path: C:\\\\path\\\\example\r\ncache:\r\n  durtion: 60\r\n```\r\nI need ONE class, that will contain both cache and storage. I thought that @ConfigurationProperties will help me, but the only thing I can do with this annotation is creating two different classes:\r\n```\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;storage&quot;)\r\npublic class ConfigA(){\r\n     @Getter\r\n     @Setter\r\n     private String path;\r\n}\r\n...\r\n\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;cache&quot;)\r\npublic class ConfigB(){\r\n     @Getter\r\n     @Setter\r\n     private int duration;\r\n}\r\n```\r\nHow can I combine `ConfigA` and `ConfigB` in one class?\r\nIs it possible to it without using `@Value`?\r\nUpdate:\r\nI&#39;ve managed to do something like this, but I&#39;m not sure this is the best way:\r\n```Java\r\n@Configuration\r\npublic class ValuesConfig {\r\n\r\n    @Bean\r\n    @ConfigurationProperties(prefix = &quot;cache&quot;)\r\n    public Cache cache(){\r\n        return new Cache();\r\n    }\r\n\r\n    @Component\r\n    public static class Cache{\r\n        @Getter\r\n        @Setter\r\n        private int duration;\r\n    }\r\n\r\n}\r\n```","title":"Use different prefixes in spring boot @Configuration/@ConfigurationProperties","body":"<p>I have spring boot app, and <code>.yaml</code> file with such configuration:</p>\n<pre><code>storage:\n  path: C:\\\\path\\\\example\ncache:\n  durtion: 60\n</code></pre>\n<p>I need ONE class, that will contain both cache and storage. I thought that @ConfigurationProperties will help me, but the only thing I can do with this annotation is creating two different classes:</p>\n<pre><code>@Component\n@ConfigurationProperties(prefix = &quot;storage&quot;)\npublic class ConfigA(){\n     @Getter\n     @Setter\n     private String path;\n}\n...\n\n@Component\n@ConfigurationProperties(prefix = &quot;cache&quot;)\npublic class ConfigB(){\n     @Getter\n     @Setter\n     private int duration;\n}\n</code></pre>\n<p>How can I combine <code>ConfigA</code> and <code>ConfigB</code> in one class?\nIs it possible to it without using <code>@Value</code>?\nUpdate:\nI've managed to do something like this, but I'm not sure this is the best way:</p>\n<pre><code>@Configuration\npublic class ValuesConfig {\n\n    @Bean\n    @ConfigurationProperties(prefix = &quot;cache&quot;)\n    public Cache cache(){\n        return new Cache();\n    }\n\n    @Component\n    public static class Cache{\n        @Getter\n        @Setter\n        private int duration;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"score":1,"creation_date":1657224140,"post_id":72903558,"comment_id":128766753,"body_markdown":"I think more info is required. I&#39;d assume the issue is that the medicos record is not present when attempting to add usarios but are you intending to create both in the same form submission, or do you expect the medicos record to be there already? The data model is clear but we&#39;d need to know more about what your code is doing and how it is inserting data","body":"I think more info is required. I&#39;d assume the issue is that the medicos record is not present when attempting to add usarios but are you intending to create both in the same form submission, or do you expect the medicos record to be there already? The data model is clear but we&#39;d need to know more about what your code is doing and how it is inserting data"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1657224154,"post_id":72903558,"comment_id":128766760,"body_markdown":"We need more information: What content do you have int the database? What is the SQL statement you are executing?","body":"We need more information: What content do you have int the database? What is the SQL statement you are executing?"}],"owner":{"account_id":22382774,"reputation":81,"user_id":16596095,"display_name":"mateo ghidini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657223869,"creation_date":1657223869,"question_id":72903558,"body_markdown":"Im trying to create a new user through a form and it worked for half an hour and now it stopped working. Im creating an user which has a dni field which is a fk from the table medicos.\r\n\r\nThis is my table for users \r\n\r\n    create table Usuarios\r\n    (\r\n    ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,\r\n    NOMBRE_USUARIO VARCHAR(200) NOT NULL,\r\n    CONTRASENA VARCHAR(30) NOT NULL,\r\n    estado boolean,\r\n    TIPO_USUARIO INT NOT NULL,\r\n    FOREIGN KEY (TIPO_USUARIO) REFERENCES TiposUsuario(ID),\r\n    dni varchar(11) NULL,\r\n    FOREIGN KEY (dni) REFERENCES Medicos(DNI)\r\n    );\r\n\r\n\r\nThis is my table Medicos:\r\n\r\n    create table Medicos\r\n    (\r\n    dni VARCHAR(11) NOT NULL PRIMARY KEY,\r\n    nombre VARCHAR(25),\r\n    apellido VARCHAR(25),\r\n    sexo VARCHAR(25) ,\r\n    nacionalidad VARCHAR(25),\r\n    fechaNac DATE,\r\n    direccion VARCHAR(50),\r\n    localidad VARCHAR(50),\r\n    provincia VARCHAR(50),\r\n    telefono VARCHAR(25),\r\n    celular VARCHAR(25),\r\n    correo VARCHAR(25),\r\n    estado INT,\r\n    id_especialidad INT,\r\n    FOREIGN KEY(id_especialidad) REFERENCES Especialidades(ID)\r\n    );\r\n\r\n\r\nNow on my form im setting the dni as the following in my method in my controller:\r\n\r\n    u.setDni(request.getParameter(&quot;txtDni&quot;))\r\n\r\nAnd when i submit my form i have the following error message\r\n\r\n    Cannot add or update a child row: a foreign key constraint fails (`bdturnos`.`usuarios`, CONSTRAINT `usuarios_ibfk_2` FOREIGN KEY (`dni`) REFERENCES `medicos` (`dni`))\r\n\r\nWhy is it this? I know this kind of error is due to a mistake that im doing while making the relationship with tables but i cannot identifying which is the mistake.\r\n\r\n","title":"What am i doing wrong in my relationship between tables?","body":"<p>Im trying to create a new user through a form and it worked for half an hour and now it stopped working. Im creating an user which has a dni field which is a fk from the table medicos.</p>\n<p>This is my table for users</p>\n<pre><code>create table Usuarios\n(\nID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,\nNOMBRE_USUARIO VARCHAR(200) NOT NULL,\nCONTRASENA VARCHAR(30) NOT NULL,\nestado boolean,\nTIPO_USUARIO INT NOT NULL,\nFOREIGN KEY (TIPO_USUARIO) REFERENCES TiposUsuario(ID),\ndni varchar(11) NULL,\nFOREIGN KEY (dni) REFERENCES Medicos(DNI)\n);\n</code></pre>\n<p>This is my table Medicos:</p>\n<pre><code>create table Medicos\n(\ndni VARCHAR(11) NOT NULL PRIMARY KEY,\nnombre VARCHAR(25),\napellido VARCHAR(25),\nsexo VARCHAR(25) ,\nnacionalidad VARCHAR(25),\nfechaNac DATE,\ndireccion VARCHAR(50),\nlocalidad VARCHAR(50),\nprovincia VARCHAR(50),\ntelefono VARCHAR(25),\ncelular VARCHAR(25),\ncorreo VARCHAR(25),\nestado INT,\nid_especialidad INT,\nFOREIGN KEY(id_especialidad) REFERENCES Especialidades(ID)\n);\n</code></pre>\n<p>Now on my form im setting the dni as the following in my method in my controller:</p>\n<pre><code>u.setDni(request.getParameter(&quot;txtDni&quot;))\n</code></pre>\n<p>And when i submit my form i have the following error message</p>\n<pre><code>Cannot add or update a child row: a foreign key constraint fails (`bdturnos`.`usuarios`, CONSTRAINT `usuarios_ibfk_2` FOREIGN KEY (`dni`) REFERENCES `medicos` (`dni`))\n</code></pre>\n<p>Why is it this? I know this kind of error is due to a mistake that im doing while making the relationship with tables but i cannot identifying which is the mistake.</p>\n"},{"tags":["java","android","android-studio","kotlin","arduino-esp8266"],"answers":[{"tags":[],"owner":{"account_id":1372922,"reputation":439,"user_id":1307503,"display_name":"Hossein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630441385,"creation_date":1630441385,"answer_id":69004916,"question_id":68923695,"body_markdown":"**activity_main.xml**\r\n\r\n    &lt;WebView\r\n            android:id=&quot;@+id/webView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n\r\n**MainActivity**\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mWebView = (WebView) findViewById(R.id.webView);\r\n        WebSettings webSettings = mWebView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        mWebView.loadUrl(&quot;http://192.168.4.1/LEDON?&quot;);\r\n    }","title":"Run the URL without opening the browser in Android studio","body":"<p><strong>activity_main.xml</strong></p>\n<pre><code>&lt;WebView\n        android:id=&quot;@+id/webView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n</code></pre>\n<p><strong>MainActivity</strong></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mWebView = (WebView) findViewById(R.id.webView);\n    WebSettings webSettings = mWebView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n    mWebView.loadUrl(&quot;http://192.168.4.1/LEDON?&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14059818,"reputation":1,"user_id":18208089,"display_name":"Bhavesh Vishwakarma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657223536,"creation_date":1657223536,"answer_id":72903509,"question_id":68923695,"body_markdown":"You can add a webview widget in xml file of activity then you have to connect it with activity.java file and then have to add the INTERNET user permission in the manifest file, but one last thing for opening http server is allowing your app \r\nUses clear text traffic.(to open http website).\r\nActually webview by default don&#39;t open unsafe website, without this step you can still open the https website as it is secure and uses encryption. On the other side http is plain text. so for opening this file you have to follow the last step other wise it webpage will not be loaded by saying - ERR_CLEARTEXT_NOT_PERMITTED\r\n\r\n[All the files][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Me4ym.jpg","title":"Run the URL without opening the browser in Android studio","body":"<p>You can add a webview widget in xml file of activity then you have to connect it with activity.java file and then have to add the INTERNET user permission in the manifest file, but one last thing for opening http server is allowing your app\nUses clear text traffic.(to open http website).\nActually webview by default don't open unsafe website, without this step you can still open the https website as it is secure and uses encryption. On the other side http is plain text. so for opening this file you have to follow the last step other wise it webpage will not be loaded by saying - ERR_CLEARTEXT_NOT_PERMITTED</p>\n<p><a href=\"https://i.stack.imgur.com/Me4ym.jpg\" rel=\"nofollow noreferrer\">All the files</a></p>\n"}],"owner":{"account_id":18824783,"reputation":31,"user_id":13732411,"display_name":"Superman_Shield"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":693,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":2,"score":0,"last_activity_date":1657223536,"creation_date":1629897493,"question_id":68923695,"body_markdown":"I am working on esp8266 and wanted to make application on Android studio.\r\nMy Problem is the when i press push button on the application ,the url open which i dont want do it.Because if the url open there is no make sense to see the url.\r\n\r\nOther people also answered it (&lt;https://stackoverflow.com/questions/44614299/execute-url-without-opening-browser-in-android&gt; ,&lt;https://stackoverflow.com/questions/5248870/starting-an-action-view-activity-to-open-the-browser-how-do-i-return-to-my-app&gt;)\r\nbut,it not working for me.\r\nKindly Help me !\r\n\r\n\r\n\r\n\r\nAndroid studio java code\r\n\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.content.Intent;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    \r\n    import java.io.BufferedInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n        \r\n        public void clicking(View view) throws IOException {\r\n        //        Intent intent = new Intent(Intent.ACTION_VIEW, \r\n            Uri.parse(&quot;http://192.168.4.1/LEDON?&quot;));\r\n        \r\n        //        startActivity(intent);\r\n        \r\n            URL myURL = new URL(&quot;http://192.168.4.1/LEDON?&quot;);\r\n            URLConnection myURLConnection = myURL.openConnection();\r\n        \r\n            myURLConnection.getContent(); // -&gt; calls getHeaderField(&quot;content-lengt\r\n        //        URL myURL = new URL(&quot;http://192.168.4.1/LEDON?&quot;);\r\n        //        URLConnection myURLConnection = myURL.openConnection();\r\n        \r\n        //        try (InputStream is = myURLConnection.getInputStream()) {}\r\n        }\r\n    }\r\n\r\n","title":"Run the URL without opening the browser in Android studio","body":"<p>I am working on esp8266 and wanted to make application on Android studio.\nMy Problem is the when i press push button on the application ,the url open which i dont want do it.Because if the url open there is no make sense to see the url.</p>\n<p>Other people also answered it (<a href=\"https://stackoverflow.com/questions/44614299/execute-url-without-opening-browser-in-android\">Execute URL without opening browser in Android</a> ,<a href=\"https://stackoverflow.com/questions/5248870/starting-an-action-view-activity-to-open-the-browser-how-do-i-return-to-my-app\">Starting an ACTION_VIEW activity to open the browser, how do I return to my app?</a>)\nbut,it not working for me.\nKindly Help me !</p>\n<p>Android studio java code</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\n\nimport java.io.BufferedInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.net.URLConnection;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n    \n    public void clicking(View view) throws IOException {\n    //        Intent intent = new Intent(Intent.ACTION_VIEW, \n        Uri.parse(&quot;http://192.168.4.1/LEDON?&quot;));\n    \n    //        startActivity(intent);\n    \n        URL myURL = new URL(&quot;http://192.168.4.1/LEDON?&quot;);\n        URLConnection myURLConnection = myURL.openConnection();\n    \n        myURLConnection.getContent(); // -&gt; calls getHeaderField(&quot;content-lengt\n    //        URL myURL = new URL(&quot;http://192.168.4.1/LEDON?&quot;);\n    //        URLConnection myURLConnection = myURL.openConnection();\n    \n    //        try (InputStream is = myURLConnection.getInputStream()) {}\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":8229425,"reputation":300,"user_id":6190600,"display_name":"Daniel Hern&#225;ndez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571327420,"creation_date":1571327420,"answer_id":58436423,"question_id":58394445,"body_markdown":"I think there is no way to do that. I suggest you to create another field in your object (myForm) and assign the error in BindingResult with rejectValue. Then you can validate the error on template:\r\n\r\n    public String myPage(..., BindingResult result) {\r\n        result.reject(&quot;errorCode1&quot;, &quot;Global Error Happened&quot;);\r\n        result.rejectValue(&quot;newField&quot;, &quot;Error 2 happened&quot;);\r\n        return &quot;my-view&quot;\r\n    }\r\n\r\n    &lt;form th:object=&quot;${myForm}&quot; method=&quot;post&quot;&gt;\r\n        &lt;p th:if=&quot;${#fields.hasGlobalErrors()}&quot; th:errors=&quot;*{global}&quot;&gt;&lt;/p&gt;\r\n        &lt;p th:if=&quot;${#fields.hasErrors(&#39;newField&#39;)}&quot; th:errors=&quot;*{newField}&quot;&gt;&lt;/p&gt;\r\n    &lt;/form&gt;\r\n\r\nHope this helps!","title":"Thymeleaf: display global errors by error code","body":"<p>I think there is no way to do that. I suggest you to create another field in your object (myForm) and assign the error in BindingResult with rejectValue. Then you can validate the error on template:</p>\n\n<pre><code>public String myPage(..., BindingResult result) {\n    result.reject(\"errorCode1\", \"Global Error Happened\");\n    result.rejectValue(\"newField\", \"Error 2 happened\");\n    return \"my-view\"\n}\n\n&lt;form th:object=\"${myForm}\" method=\"post\"&gt;\n    &lt;p th:if=\"${#fields.hasGlobalErrors()}\" th:errors=\"*{global}\"&gt;&lt;/p&gt;\n    &lt;p th:if=\"${#fields.hasErrors('newField')}\" th:errors=\"*{newField}\"&gt;&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":11383036,"reputation":526,"user_id":8345434,"accept_rate":62,"display_name":"Thanthla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657223448,"creation_date":1657223448,"answer_id":72903489,"question_id":58394445,"body_markdown":"It took me a bit to figure out, but it works like this:\r\n\r\n    public String myPage(..., BindingResult result) {\r\n        result.reject(&quot;errorCode1&quot;, &quot;errorCode1&quot;);\r\n        result.reject(&quot;errorCode2&quot;, &quot;errorCode2&quot;);\r\n        return &quot;my-view&quot;\r\n    }\r\n**Important:** `errorCode1` must not be a key of a message source!\r\n\r\n    &lt;form th:object=&quot;${myForm}&quot; method=&quot;post&quot;&gt;\r\n        &lt;p th:if=&quot;${#lists.contains(#fields.globalErrors(), &amp;quot;errorCode1d&amp;quot;)}&quot; th:text=&quot;Error 1 happened&quot;&gt;&lt;/p&gt;\r\n    &lt;/form&gt;\r\n**Important:** Use `&amp;quot;` to indicate the string.\r\n`th:text` may contain a message key like `th:text=&quot;#{error.code1}&quot;`","title":"Thymeleaf: display global errors by error code","body":"<p>It took me a bit to figure out, but it works like this:</p>\n<pre><code>public String myPage(..., BindingResult result) {\n    result.reject(&quot;errorCode1&quot;, &quot;errorCode1&quot;);\n    result.reject(&quot;errorCode2&quot;, &quot;errorCode2&quot;);\n    return &quot;my-view&quot;\n}\n</code></pre>\n<p><strong>Important:</strong> <code>errorCode1</code> must not be a key of a message source!</p>\n<pre><code>&lt;form th:object=&quot;${myForm}&quot; method=&quot;post&quot;&gt;\n    &lt;p th:if=&quot;${#lists.contains(#fields.globalErrors(), &amp;quot;errorCode1d&amp;quot;)}&quot; th:text=&quot;Error 1 happened&quot;&gt;&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n<p><strong>Important:</strong> Use <code>&amp;quot;</code> to indicate the string.\n<code>th:text</code> may contain a message key like <code>th:text=&quot;#{error.code1}&quot;</code></p>\n"}],"owner":{"account_id":1496121,"reputation":4617,"user_id":1402026,"accept_rate":36,"display_name":"Christoffer Karlsson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2775,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1657223448,"creation_date":1571141621,"question_id":58394445,"body_markdown":"How can I display multiple global errors in my templates, by their respective error code?\r\n\r\nWhen rejecting on the binding result, the first argument is the `error code`. How can I use this when displaying the errors in my template?\r\n\r\nUse case: I use custom validation rules in my controller (such as duplication checks) and I want to show the global errors on different places in my form. \r\n\r\n\r\n\r\nEx:\r\n```\r\npublic String myPage(..., BindingResult result) {\r\n    result.reject(&quot;errorCode1&quot;, &quot;Error 1 happened&quot;);\r\n    result.reject(&quot;errorCode2&quot;, &quot;Error 2 happened&quot;);\r\n    return &quot;my-view&quot;\r\n}\r\n```\r\n\r\nIn my Thymeleaf template, I can display all errors at once:\r\n```\r\n&lt;form th:object=&quot;${myForm}&quot; method=&quot;post&quot;&gt;\r\n    &lt;p th:if=&quot;${#fields.hasGlobalErrors()}&quot; th:errors=&quot;*{global}&quot;&gt;&lt;/p&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\nBut how can I print **only** the error with error code `errorCode1`?","title":"Thymeleaf: display global errors by error code","body":"<p>How can I display multiple global errors in my templates, by their respective error code?</p>\n\n<p>When rejecting on the binding result, the first argument is the <code>error code</code>. How can I use this when displaying the errors in my template?</p>\n\n<p>Use case: I use custom validation rules in my controller (such as duplication checks) and I want to show the global errors on different places in my form. </p>\n\n<p>Ex:</p>\n\n<pre><code>public String myPage(..., BindingResult result) {\n    result.reject(\"errorCode1\", \"Error 1 happened\");\n    result.reject(\"errorCode2\", \"Error 2 happened\");\n    return \"my-view\"\n}\n</code></pre>\n\n<p>In my Thymeleaf template, I can display all errors at once:</p>\n\n<pre><code>&lt;form th:object=\"${myForm}\" method=\"post\"&gt;\n    &lt;p th:if=\"${#fields.hasGlobalErrors()}\" th:errors=\"*{global}\"&gt;&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>But how can I print <strong>only</strong> the error with error code <code>errorCode1</code>?</p>\n"},{"tags":["java","oop","semantics","definition"],"comments":[{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":4,"creation_date":1388156769,"post_id":6991135,"comment_id":31188181,"body_markdown":"Please also see this question, which has a great answer.  It&#39;s not quite the same question, so I&#39;m not voting to close.  But it explains hydration well: http://stackoverflow.com/questions/4929243/clarifying-terminology-hydrating-an-entity-fetching-properties-from-the-db","body":"Please also see this question, which has a great answer.  It&#39;s not quite the same question, so I&#39;m not voting to close.  But it explains hydration well: <a href=\"http://stackoverflow.com/questions/4929243/clarifying-terminology-hydrating-an-entity-fetching-properties-from-the-db\" title=\"clarifying terminology hydrating an entity fetching properties from the db\">stackoverflow.com/questions/4929243/&hellip;</a>"},{"owner":{"account_id":3273747,"reputation":20855,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1657306639,"post_id":6991135,"comment_id":128787627,"body_markdown":"I think it&#39;s the same question: &quot;what does hydrate mean&quot;. Voting to close.","body":"I think it&#39;s the same question: &quot;what does hydrate mean&quot;. Voting to close."},{"owner":{"account_id":3273747,"reputation":20855,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1657306642,"post_id":6991135,"comment_id":128787628,"body_markdown":"Does this answer your question? [Clarifying terminology - What does &quot;hydrating&quot; a JPA or Hibernate entity mean when fetching the entity from the DB](https://stackoverflow.com/questions/4929243/clarifying-terminology-what-does-hydrating-a-jpa-or-hibernate-entity-mean-wh)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4929243/clarifying-terminology-what-does-hydrating-a-jpa-or-hibernate-entity-mean-wh\">Clarifying terminology - What does &quot;hydrating&quot; a JPA or Hibernate entity mean when fetching the entity from the DB</a>"}],"answers":[{"tags":[],"owner":{"account_id":82818,"reputation":58383,"user_id":232593,"accept_rate":79,"display_name":"Merlyn Morgan-Graham"},"down_vote_count":28,"up_vote_count":224,"is_accepted":true,"score":196,"last_activity_date":1469082302,"creation_date":1312862027,"answer_id":6991192,"question_id":6991135,"body_markdown":"### With respect to the more generic term *hydrate*\r\n\r\nHydrating an object is taking an object that exists in memory, that doesn&#39;t yet contain any domain data (&quot;real&quot; data), and then populating it with domain data (such as from a database, from the network, or from a file system).\r\n\r\nFrom Erick Robertson&#39;s comments on this answer:\r\n\r\n&gt; deserialization == instantiation + hydration\r\n\r\nIf you don&#39;t need to worry about blistering performance, and you aren&#39;t debugging performance optimizations that are in the internals of a data access API, then you probably don&#39;t need to deal with hydration explicitly. You would typically use [deserialization](https://en.wikipedia.org/wiki/Serialization) instead so you can write less code. Some data access APIs don&#39;t give you this option, and in those cases you&#39;d also have to explicitly call the hydration step yourself.\r\n\r\nFor a bit more detail on the concept of Hydration, see [Erick Robertson&#39;s answer](https://stackoverflow.com/a/20787106/232593) on this same question.\r\n\r\n### With respect to [the Java project called hydrate](http://hydrate.sourceforge.net/)\r\n\r\nYou asked about this framework specifically, so I looked into it.\r\n\r\nAs best as I can tell, I don&#39;t think this project used the word &quot;hydrate&quot; in a very generic sense. I see its use in the title as an approximate synonym for &quot;serialization&quot;. As explained above, this usage isn&#39;t entirely accurate:\r\n\r\nSee: http://en.wikipedia.org/wiki/Serialization\r\n\r\n&gt; translating data structures or object state into a format that can be stored [...] and reconstructed later in the same or another computer environment.\r\n\r\nI can&#39;t find the reason behind their name directly on [the Hydrate FAQ](http://hydrate.sourceforge.net/featurefaq.html), but I got clues to their intention. I think they picked the name &quot;Hydrate&quot; because the purpose of the library is similar to the popular sound-alike [Hibernate framework](http://hibernate.org/), but it was designed with the exact opposite workflow in mind.\r\n\r\nMost ORMs, Hibernate included, take an in-memory object-model oriented approach, with the database taking second consideration. The Hydrate library instead takes a database-schema oriented approach, preserving your relational data structures and letting your program work on top of them more cleanly.\r\n\r\nMetaphorically speaking, still with respect to this library&#39;s name: *Hydrate* is like &quot;making something ready to use&quot; (like re-hydrating [Dried Foods](https://en.wikipedia.org/wiki/List_of_dried_foods)). It is a metaphorical opposite of *Hibernate*, which is more like &quot;putting something away for the winter&quot; (like [Animal Hibernation](https://en.wikipedia.org/wiki/Hibernation)).\r\n\r\nThe decision to name the library Hydrate, as far as I can tell, was not concerned with the generic computer programming term &quot;hydrate&quot;.\r\n\r\nWhen using the generic computer programming term &quot;hydrate&quot;, performance optimizations are usually the motivation (or debugging existing optimizations). Even if the library supports granular control over when and how objects are populated with data, the timing and performance don&#39;t seem to be the primary motivation for the name or the library&#39;s functionality. The library seems more concerned with enabling end-to-end mapping and schema-preservation.","title":"What does it mean to hydrate an object?","body":"<h3>With respect to the more generic term <em>hydrate</em></h3>\n\n<p>Hydrating an object is taking an object that exists in memory, that doesn't yet contain any domain data (\"real\" data), and then populating it with domain data (such as from a database, from the network, or from a file system).</p>\n\n<p>From Erick Robertson's comments on this answer:</p>\n\n<blockquote>\n  <p>deserialization == instantiation + hydration</p>\n</blockquote>\n\n<p>If you don't need to worry about blistering performance, and you aren't debugging performance optimizations that are in the internals of a data access API, then you probably don't need to deal with hydration explicitly. You would typically use <a href=\"https://en.wikipedia.org/wiki/Serialization\" rel=\"noreferrer\">deserialization</a> instead so you can write less code. Some data access APIs don't give you this option, and in those cases you'd also have to explicitly call the hydration step yourself.</p>\n\n<p>For a bit more detail on the concept of Hydration, see <a href=\"https://stackoverflow.com/a/20787106/232593\">Erick Robertson's answer</a> on this same question.</p>\n\n<h3>With respect to <a href=\"http://hydrate.sourceforge.net/\" rel=\"noreferrer\">the Java project called hydrate</a></h3>\n\n<p>You asked about this framework specifically, so I looked into it.</p>\n\n<p>As best as I can tell, I don't think this project used the word \"hydrate\" in a very generic sense. I see its use in the title as an approximate synonym for \"serialization\". As explained above, this usage isn't entirely accurate:</p>\n\n<p>See: <a href=\"http://en.wikipedia.org/wiki/Serialization\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Serialization</a></p>\n\n<blockquote>\n  <p>translating data structures or object state into a format that can be stored [...] and reconstructed later in the same or another computer environment.</p>\n</blockquote>\n\n<p>I can't find the reason behind their name directly on <a href=\"http://hydrate.sourceforge.net/featurefaq.html\" rel=\"noreferrer\">the Hydrate FAQ</a>, but I got clues to their intention. I think they picked the name \"Hydrate\" because the purpose of the library is similar to the popular sound-alike <a href=\"http://hibernate.org/\" rel=\"noreferrer\">Hibernate framework</a>, but it was designed with the exact opposite workflow in mind.</p>\n\n<p>Most ORMs, Hibernate included, take an in-memory object-model oriented approach, with the database taking second consideration. The Hydrate library instead takes a database-schema oriented approach, preserving your relational data structures and letting your program work on top of them more cleanly.</p>\n\n<p>Metaphorically speaking, still with respect to this library's name: <em>Hydrate</em> is like \"making something ready to use\" (like re-hydrating <a href=\"https://en.wikipedia.org/wiki/List_of_dried_foods\" rel=\"noreferrer\">Dried Foods</a>). It is a metaphorical opposite of <em>Hibernate</em>, which is more like \"putting something away for the winter\" (like <a href=\"https://en.wikipedia.org/wiki/Hibernation\" rel=\"noreferrer\">Animal Hibernation</a>).</p>\n\n<p>The decision to name the library Hydrate, as far as I can tell, was not concerned with the generic computer programming term \"hydrate\".</p>\n\n<p>When using the generic computer programming term \"hydrate\", performance optimizations are usually the motivation (or debugging existing optimizations). Even if the library supports granular control over when and how objects are populated with data, the timing and performance don't seem to be the primary motivation for the name or the library's functionality. The library seems more concerned with enabling end-to-end mapping and schema-preservation.</p>\n"},{"tags":[],"owner":{"account_id":67878,"reputation":829,"user_id":198371,"display_name":"J. Dimeo"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1366862209,"creation_date":1366862209,"answer_id":16206116,"question_id":6991135,"body_markdown":"While it is somewhat redundant vernacular as Merlyn mentioned, in my experience it refers **only** to filling/populating an object, not instantiating/creating it, so it is a useful word when you need to be precise.","title":"What does it mean to hydrate an object?","body":"<p>While it is somewhat redundant vernacular as Merlyn mentioned, in my experience it refers <strong>only</strong> to filling/populating an object, not instantiating/creating it, so it is a useful word when you need to be precise.</p>\n"},{"tags":[],"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"down_vote_count":0,"up_vote_count":369,"is_accepted":false,"score":369,"last_activity_date":1388071281,"creation_date":1388071281,"answer_id":20787106,"question_id":6991135,"body_markdown":"Hydration refers to the process of filling an object with data.  An object which has not yet been hydrated has been instantiated and represents an entity that does have data, but the data has not yet been loaded into the object.  This is something that is done for performance reasons.\r\n\r\nAdditionally, the term hydration is used when discussing plans for loading data from databases or other data sources.  Here are some examples:\r\n\r\nYou could say that an object is partially hydrated when you have only loaded some of the fields into it, but not all of them.  This can be done because those other fields are not necessary for your current operations.  So there&#39;s no reason to waste bandwidth and CPU cycles loading, transferring, and setting this data when it&#39;s not going to be used.\r\n\r\nAdditionally, there are some ORM&#39;s, such as Doctrine, which do not hydrate objects when they are instantiated, but only when the data is accessed in that object.  This is one method that helps to not load data which is not going to be used.","title":"What does it mean to hydrate an object?","body":"<p>Hydration refers to the process of filling an object with data.  An object which has not yet been hydrated has been instantiated and represents an entity that does have data, but the data has not yet been loaded into the object.  This is something that is done for performance reasons.</p>\n\n<p>Additionally, the term hydration is used when discussing plans for loading data from databases or other data sources.  Here are some examples:</p>\n\n<p>You could say that an object is partially hydrated when you have only loaded some of the fields into it, but not all of them.  This can be done because those other fields are not necessary for your current operations.  So there's no reason to waste bandwidth and CPU cycles loading, transferring, and setting this data when it's not going to be used.</p>\n\n<p>Additionally, there are some ORM's, such as Doctrine, which do not hydrate objects when they are instantiated, but only when the data is accessed in that object.  This is one method that helps to not load data which is not going to be used.</p>\n"},{"tags":[],"owner":{"account_id":527396,"reputation":10920,"user_id":1267639,"accept_rate":79,"display_name":"jonschlinkert"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1587426185,"creation_date":1560883577,"answer_id":56655252,"question_id":6991135,"body_markdown":"This is a pretty old question, but it seems that there is still confusion over the meaning of the following terms. Hopefully, this will disambiguate. \r\n\r\n**Hydrate**\r\n\r\nWhen you see descriptions that say things like, &quot;an object that is waiting for data, is waiting to be hydrated&quot;, that&#39;s confusing and misleading. Objects don&#39;t wait for things, and hydration is just the act of filling an object with data. \r\n\r\nUsing JavaScript as the example:\r\n\r\n```\r\nconst obj = {}; // empty object\r\nconst data = { foo: true, bar: true, baz: true };\r\n\r\n// Hydrate &quot;obj&quot; with &quot;data&quot; \r\nObject.assign(obj, data); \r\nconsole.log(obj.foo); // true\r\nconsole.log(obj.bar); // true\r\nconsole.log(obj.baz); // true\r\n```\r\n\r\nAnything that adds values to `obj` is &quot;hydrating&quot; it. I&#39;m just using `Object.assign()` in this example. \r\n\r\nSince the terms &quot;serialize&quot; and &quot;deserialize&quot; were also mentioned in other answers, here are examples to help disambiguate the meaning of those concepts from hydration:\r\n\r\n**Serialize**\r\n\r\n```\r\nconsole.log(JSON.stringify({ foo: true, bar: true, baz: true }));\r\n```\r\n\r\n**Deserialize**\r\n\r\n```\r\nconsole.log(JSON.parse(&#39;{&quot;foo&quot;:true,&quot;bar&quot;:true,&quot;baz&quot;:true}&#39;));\r\n```\r\n\r\n\r\n","title":"What does it mean to hydrate an object?","body":"<p>This is a pretty old question, but it seems that there is still confusion over the meaning of the following terms. Hopefully, this will disambiguate. </p>\n\n<p><strong>Hydrate</strong></p>\n\n<p>When you see descriptions that say things like, \"an object that is waiting for data, is waiting to be hydrated\", that's confusing and misleading. Objects don't wait for things, and hydration is just the act of filling an object with data. </p>\n\n<p>Using JavaScript as the example:</p>\n\n<pre><code>const obj = {}; // empty object\nconst data = { foo: true, bar: true, baz: true };\n\n// Hydrate \"obj\" with \"data\" \nObject.assign(obj, data); \nconsole.log(obj.foo); // true\nconsole.log(obj.bar); // true\nconsole.log(obj.baz); // true\n</code></pre>\n\n<p>Anything that adds values to <code>obj</code> is \"hydrating\" it. I'm just using <code>Object.assign()</code> in this example. </p>\n\n<p>Since the terms \"serialize\" and \"deserialize\" were also mentioned in other answers, here are examples to help disambiguate the meaning of those concepts from hydration:</p>\n\n<p><strong>Serialize</strong></p>\n\n<pre><code>console.log(JSON.stringify({ foo: true, bar: true, baz: true }));\n</code></pre>\n\n<p><strong>Deserialize</strong></p>\n\n<pre><code>console.log(JSON.parse('{\"foo\":true,\"bar\":true,\"baz\":true}'));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3501357,"reputation":3970,"user_id":2928048,"display_name":"user2928048"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1626783917,"creation_date":1626783917,"answer_id":68454860,"question_id":6991135,"body_markdown":"In PHP, you can create a new class from its name, w/o invoke constructor, like this:\r\n\r\n    require &quot;A.php&quot;;\r\n    $className = &quot;A&quot;;\r\n    $class = new \\ReflectionClass($className);\r\n    $instance = $class-&gt;newInstanceWithoutConstructor();\r\n\r\nThen, you can hydrate invoking setters (or public attributes)","title":"What does it mean to hydrate an object?","body":"<p>In PHP, you can create a new class from its name, w/o invoke constructor, like this:</p>\n<pre><code>require &quot;A.php&quot;;\n$className = &quot;A&quot;;\n$class = new \\ReflectionClass($className);\n$instance = $class-&gt;newInstanceWithoutConstructor();\n</code></pre>\n<p>Then, you can hydrate invoking setters (or public attributes)</p>\n"}],"owner":{"account_id":617741,"reputation":3203,"user_id":885188,"display_name":"Jim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141621,"favorite_count":0,"down_vote_count":0,"up_vote_count":320,"accepted_answer_id":6991192,"answer_count":5,"score":320,"last_activity_date":1657222908,"creation_date":1312861300,"question_id":6991135,"body_markdown":"When someone talks about hydrating an object, what does that mean?\r\n\r\nI see a Java project called Hydrate on the web that transforms data between different representations (RDMS to OOPS to XML). Is this the general meaning of object hydration; to transform data between representations? Could it mean reconstructing an object hierarchy from a stored representation?\r\n","title":"What does it mean to hydrate an object?","body":"<p>When someone talks about hydrating an object, what does that mean?</p>\n\n<p>I see a Java project called Hydrate on the web that transforms data between different representations (RDMS to OOPS to XML). Is this the general meaning of object hydration; to transform data between representations? Could it mean reconstructing an object hierarchy from a stored representation?</p>\n"},{"tags":["java","linux","bash","shell","centos"],"comments":[{"owner":{"account_id":5899608,"reputation":21780,"user_id":4643584,"accept_rate":64,"display_name":"Shakiba Moshiri"},"score":0,"creation_date":1657177286,"post_id":72883158,"comment_id":128749164,"body_markdown":"what is the output of `java -version` since I do not have java installed","body":"what is the output of <code>java -version</code> since I do not have java installed"},{"owner":{"account_id":21169366,"reputation":33,"user_id":15566016,"display_name":"user15566016"},"score":0,"creation_date":1657193238,"post_id":72883158,"comment_id":128755098,"body_markdown":"@ShakibaMoshir iopenjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (build 1.8.0_292-b10)\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)","body":"@ShakibaMoshir iopenjdk version &quot;1.8.0_292&quot; OpenJDK Runtime Environment (build 1.8.0_292-b10) OpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)"}],"answers":[{"tags":[],"owner":{"account_id":5899608,"reputation":21780,"user_id":4643584,"accept_rate":64,"display_name":"Shakiba Moshiri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657222631,"creation_date":1657222631,"answer_id":72903357,"question_id":72883158,"body_markdown":"You can extractthe version `major.minor` and check against it\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\n# checking by java -version\r\nJAVA_VERSION=$(java -version);\r\n\r\n# or set it manually for test purposes\r\n# JAVA_VERSION=1.7\r\n\r\n# extract major.minor\r\nJAVA_VERSION_INSTALLED=$(perl -lne  &#39;/\\d+.\\d+/ &amp;&amp; print $&amp;&#39; &lt;&lt;&lt; $JAVA_VERSION);\r\n\r\ncase $JAVA_VERSION_INSTALLED in\r\n    1.8 )\r\n        echo &quot;$JAVA_VERSION_INSTALLED already installed&quot;;\r\n        echo &quot;nothing do do&quot;;\r\n        exit 0;\r\n    ;;\r\n    1.* )\r\n        echo &quot;you Java is old, trying to install new one&quot;;\r\n        # you can do the business here with yum, app-get, etc\r\n    ;;\r\n    * )\r\n        echo &quot;unknown version&quot;;\r\n        exit 1;\r\n\r\n    ;;\r\nesac\r\n\r\n```\r\n\r\n### NOTE\r\n - I have not `java` installed, the pattern matching is based on what you commented \r\n - update the case accordingly ","title":"Java installation using shellscript","body":"<p>You can extractthe version <code>major.minor</code> and check against it</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\n# checking by java -version\nJAVA_VERSION=$(java -version);\n\n# or set it manually for test purposes\n# JAVA_VERSION=1.7\n\n# extract major.minor\nJAVA_VERSION_INSTALLED=$(perl -lne  '/\\d+.\\d+/ &amp;&amp; print $&amp;' &lt;&lt;&lt; $JAVA_VERSION);\n\ncase $JAVA_VERSION_INSTALLED in\n    1.8 )\n        echo &quot;$JAVA_VERSION_INSTALLED already installed&quot;;\n        echo &quot;nothing do do&quot;;\n        exit 0;\n    ;;\n    1.* )\n        echo &quot;you Java is old, trying to install new one&quot;;\n        # you can do the business here with yum, app-get, etc\n    ;;\n    * )\n        echo &quot;unknown version&quot;;\n        exit 1;\n\n    ;;\nesac\n\n</code></pre>\n<h3>NOTE</h3>\n<ul>\n<li>I have not <code>java</code> installed, the pattern matching is based on what you commented</li>\n<li>update the case accordingly</li>\n</ul>\n"}],"owner":{"account_id":21169366,"reputation":33,"user_id":15566016,"display_name":"user15566016"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657222631,"creation_date":1657108492,"question_id":72883158,"body_markdown":"I am new to shell scripting and I am looking for a way to install java 1.8 on centos machine such that if java 1.8 is already exists then script will skip the installation AND if any other version of Java exists then it will install 1.8 and will use 1.8 only.\r\nHelp here would be really appreciated.\r\n\r\n```\r\n#!/bin/sh\r\n\r\nJAVA_VER=$(java -version 2&gt;&amp;1 &gt;/dev/null | egrep &quot;\\S+\\s+version&quot; | awk &#39;{print $3}&#39; | tr -d &#39;&quot;&#39;)\r\n        if [ &quot;${JAVA_VER}&quot; -ne 0 ]; then\r\n        echo &quot;java $JAVA_VER already installed. Skipping installation...&quot;\r\n  else\r\n      echo &quot;Installing java...&quot;\r\n      yum install java-1.8.0-openjdk -y\r\n      echo &quot;java installed!&quot;\r\n        java -version\r\n        echo &quot;----------------------------------------------------&quot;\r\n  fi\r\n\r\n\r\n```","title":"Java installation using shellscript","body":"<p>I am new to shell scripting and I am looking for a way to install java 1.8 on centos machine such that if java 1.8 is already exists then script will skip the installation AND if any other version of Java exists then it will install 1.8 and will use 1.8 only.\nHelp here would be really appreciated.</p>\n<pre><code>#!/bin/sh\n\nJAVA_VER=$(java -version 2&gt;&amp;1 &gt;/dev/null | egrep &quot;\\S+\\s+version&quot; | awk '{print $3}' | tr -d '&quot;')\n        if [ &quot;${JAVA_VER}&quot; -ne 0 ]; then\n        echo &quot;java $JAVA_VER already installed. Skipping installation...&quot;\n  else\n      echo &quot;Installing java...&quot;\n      yum install java-1.8.0-openjdk -y\n      echo &quot;java installed!&quot;\n        java -version\n        echo &quot;----------------------------------------------------&quot;\n  fi\n\n\n</code></pre>\n"},{"tags":["java","arrays","string","binary-search"],"answers":[{"tags":[],"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657222074,"creation_date":1657222074,"answer_id":72903254,"question_id":72903064,"body_markdown":"Your while loop causes this problem. The first element has the index `0` and as long as `lp &lt; up` 0 is not reachable. Change the smaller than to a smaler equals and you&#39;re good. \r\n\r\nIn addition I would add a check that `up` doesn&#39;t get smaller than `0` because you are decreasing it. You while loop could look like this:\r\n\r\n\twhile (lp &lt;= up &amp;&amp; up &gt;= 0) {","title":"The first element of the string array isn&#39;t being found","body":"<p>Your while loop causes this problem. The first element has the index <code>0</code> and as long as <code>lp &lt; up</code> 0 is not reachable. Change the smaller than to a smaler equals and you're good.</p>\n<p>In addition I would add a check that <code>up</code> doesn't get smaller than <code>0</code> because you are decreasing it. You while loop could look like this:</p>\n<pre><code>while (lp &lt;= up &amp;&amp; up &gt;= 0) {\n</code></pre>\n"}],"owner":{"account_id":25753098,"reputation":13,"user_id":19505309,"display_name":"Nexus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72903254,"answer_count":1,"score":1,"last_activity_date":1657222074,"creation_date":1657220896,"question_id":72903064,"body_markdown":"I am trying to match queries with elements in the string array but when I try to search for the first element entered into the array before sorting, the result shows that the element was not found. What is wrong with the code?\r\n```\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\nclass Solution{\r\n    public static void main(String []argh)\r\n    {\r\n        Scanner in = new Scanner(System.in);\r\n        int n=in.nextInt();\r\n        in.nextLine();\r\n        String name[]= new String[n];\r\n        int phone[]= new int[n];\r\n        for(int i=0;i&lt;n;i++)\r\n        {\r\n            name[i]=in.nextLine().trim();\r\n            phone[i]=in.nextInt();\r\n            in.nextLine();\r\n        }\r\n        \r\n        for(int i=0;i&lt;n-1;i++)\r\n        {\r\n            for(int j=0;j&lt;n-i-1;j++)\r\n            {\r\n                if(name[j].compareTo(name[j+1])&gt;0)\r\n                {\r\n                   String temp=name[j];\r\n                   name[j]=name[j+1];\r\n                   name[j+1]=temp; \r\n                   int temp2=phone[j];\r\n                   phone[j]=phone[j+1];\r\n                   phone[j+1]=temp2;\r\n                }\r\n            }\r\n        }//bubble sort\r\n        \r\n        \r\n      \r\n        \r\n        \r\n        while(in.hasNext())\r\n        {\r\n            String s=in.nextLine().trim();           \r\n            //System.out.println(s);\r\n            boolean b=true;\r\n            int lp=0,up=n,mid=0;\r\n            \r\n            while(lp&lt;up)\r\n            {   mid=(lp+up)/2;\r\n            \r\n                if(s.compareTo(name[mid])==0)\r\n                {\r\n                    System.out.println(s+&quot;=&quot;+phone[mid]);\r\n                    b=false;\r\n                    break;\r\n                    \r\n                    \r\n                }\r\n                else if(s.compareTo(name[mid])&lt;0)\r\n                {\r\n                    up=mid-1;\r\n                    \r\n                }\r\n                else\r\n                {\r\n                    lp=mid+1;\r\n                }\r\n            }\r\n\r\n            if(b)\r\n            {\r\n                System.out.println(&quot;Not found&quot;);\r\n            }\r\n            \r\n        \r\n        }//binary search\r\n\r\n\r\n    }//main ends\r\n}//class ends\r\n\r\n```\r\nThe above code was written as a sort of telephone directory which accepts names and a corresponding 8 digit phone number. It first accepts the number of elements or entries in the directory followed by the elements(the names and corresponding phone number). The data is then sorted using the bubble sort algorithm. \r\n\r\nThe program then takes string queries which are names until the end of file is reached. If a query is  found to be an exact match with an element in the String array then it prints the string along with the phone number.If there is no match it prints &quot;Not found&quot;.\r\n\r\n**Eg:**\r\n\r\n\r\n Input:\r\n```\r\n 4\r\n Anon1\r\n 12345678\r\n Anon2\r\n 12348765\r\n Anon3\r\n 87654321 \r\n Anon4 \r\n 87651234\r\n Anon3\r\n Anon1\r\n Anon5\r\n```\r\nExpected Output:\r\n```\r\nAnon3=87654321\r\nAnon1=12345678\r\nNot found\r\n```\r\n\r\nHowever the result I am getting differs from the expected result as follows.\r\n Output:\r\n```\r\nAnon3=87654321\r\nNot found\r\nNot found\r\n```\r\nThe first element I enter (in this case Anon1) does not turn up any matches. What is wrong with the code?\r\n\r\n","title":"The first element of the string array isn&#39;t being found","body":"<p>I am trying to match queries with elements in the string array but when I try to search for the first element entered into the array before sorting, the result shows that the element was not found. What is wrong with the code?</p>\n<pre><code>import java.util.*;\nimport java.io.*;\n\nclass Solution{\n    public static void main(String []argh)\n    {\n        Scanner in = new Scanner(System.in);\n        int n=in.nextInt();\n        in.nextLine();\n        String name[]= new String[n];\n        int phone[]= new int[n];\n        for(int i=0;i&lt;n;i++)\n        {\n            name[i]=in.nextLine().trim();\n            phone[i]=in.nextInt();\n            in.nextLine();\n        }\n        \n        for(int i=0;i&lt;n-1;i++)\n        {\n            for(int j=0;j&lt;n-i-1;j++)\n            {\n                if(name[j].compareTo(name[j+1])&gt;0)\n                {\n                   String temp=name[j];\n                   name[j]=name[j+1];\n                   name[j+1]=temp; \n                   int temp2=phone[j];\n                   phone[j]=phone[j+1];\n                   phone[j+1]=temp2;\n                }\n            }\n        }//bubble sort\n        \n        \n      \n        \n        \n        while(in.hasNext())\n        {\n            String s=in.nextLine().trim();           \n            //System.out.println(s);\n            boolean b=true;\n            int lp=0,up=n,mid=0;\n            \n            while(lp&lt;up)\n            {   mid=(lp+up)/2;\n            \n                if(s.compareTo(name[mid])==0)\n                {\n                    System.out.println(s+&quot;=&quot;+phone[mid]);\n                    b=false;\n                    break;\n                    \n                    \n                }\n                else if(s.compareTo(name[mid])&lt;0)\n                {\n                    up=mid-1;\n                    \n                }\n                else\n                {\n                    lp=mid+1;\n                }\n            }\n\n            if(b)\n            {\n                System.out.println(&quot;Not found&quot;);\n            }\n            \n        \n        }//binary search\n\n\n    }//main ends\n}//class ends\n\n</code></pre>\n<p>The above code was written as a sort of telephone directory which accepts names and a corresponding 8 digit phone number. It first accepts the number of elements or entries in the directory followed by the elements(the names and corresponding phone number). The data is then sorted using the bubble sort algorithm.</p>\n<p>The program then takes string queries which are names until the end of file is reached. If a query is  found to be an exact match with an element in the String array then it prints the string along with the phone number.If there is no match it prints &quot;Not found&quot;.</p>\n<p><strong>Eg:</strong></p>\n<p>Input:</p>\n<pre><code> 4\n Anon1\n 12345678\n Anon2\n 12348765\n Anon3\n 87654321 \n Anon4 \n 87651234\n Anon3\n Anon1\n Anon5\n</code></pre>\n<p>Expected Output:</p>\n<pre><code>Anon3=87654321\nAnon1=12345678\nNot found\n</code></pre>\n<p>However the result I am getting differs from the expected result as follows.\nOutput:</p>\n<pre><code>Anon3=87654321\nNot found\nNot found\n</code></pre>\n<p>The first element I enter (in this case Anon1) does not turn up any matches. What is wrong with the code?</p>\n"},{"tags":["java","sorting","bubble-sort"],"comments":[{"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"score":0,"creation_date":1521109508,"post_id":49296081,"comment_id":85595724,"body_markdown":"if u do this in reverse, after the first iteration the smallest value should be at [0].","body":"if u do this in reverse, after the first iteration the smallest value should be at [0]."}],"answers":[{"tags":[],"owner":{"account_id":12554187,"reputation":3338,"user_id":9134576,"display_name":"letsintegreat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539760596,"creation_date":1521113821,"answer_id":49298435,"question_id":49296081,"body_markdown":"Yes, your code will work.\r\n\r\nBut in order to increase the efficiency of your program in terms of speed, you should change the condition in the second `for` loop. As you have written \r\n\r\n    for (int j = array.length - 1; j &gt; 0; j--) {\r\n        ...\r\n    }\r\n\r\nHere, in the Second Pass, when the value of `j` is 1 then, it will unnecessarily check this condition \r\n\r\n    array[j - 1] &gt; array[j]\r\n\r\nBecause, After the first pass, `array[0]` is already the smallest. So, you don&#39;t need to check that again.\r\n\r\nAnd in the third pass, there will be two unnecessary conditions and so on and so on. \r\n\r\nTherefore, I recommend you to use `j &gt; i` as the condition of second `for` Loop. Then your whole line will be \r\n\r\n    for (int j = array.length - 1; j &gt; i; j--) {\r\n        ...\r\n    }","title":"Is it right, if first pass of Bubble Sort put smallest bubble in 0th position?","body":"<p>Yes, your code will work.</p>\n\n<p>But in order to increase the efficiency of your program in terms of speed, you should change the condition in the second <code>for</code> loop. As you have written </p>\n\n<pre><code>for (int j = array.length - 1; j &gt; 0; j--) {\n    ...\n}\n</code></pre>\n\n<p>Here, in the Second Pass, when the value of <code>j</code> is 1 then, it will unnecessarily check this condition </p>\n\n<pre><code>array[j - 1] &gt; array[j]\n</code></pre>\n\n<p>Because, After the first pass, <code>array[0]</code> is already the smallest. So, you don't need to check that again.</p>\n\n<p>And in the third pass, there will be two unnecessary conditions and so on and so on. </p>\n\n<p>Therefore, I recommend you to use <code>j &gt; i</code> as the condition of second <code>for</code> Loop. Then your whole line will be </p>\n\n<pre><code>for (int j = array.length - 1; j &gt; i; j--) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14896114,"reputation":11,"user_id":10756367,"display_name":"Raghav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657221106,"creation_date":1657221106,"answer_id":72903094,"question_id":49296081,"body_markdown":"The idea is finally to sort the list.\r\n\r\nBelow is the Python code for filling the lowest number first and then going to the highest number\r\n\r\n    def selection_sort(input_list):\r\n        for init in range(0,len(input_list)):\r\n            pos_of_min=init        \r\n            for nxt in range(pos_of_min+1,len(input_list)):\r\n                if input_list[pos_of_min]&gt;input_list[nxt]:\r\n                    pos_of_min=nxt\r\n            input_list[init]=input_list[pos_of_min]\r\n            input_list[pos_of_min]=input_list[init]\r\n        return input_list\r\n    \r\n    \r\n    arr_unsorted=[25,67,23,21,90,89,45,63]\r\n    sorted_result=selection_sort(arr_unsorted)\r\n    print(sorted_result)","title":"Is it right, if first pass of Bubble Sort put smallest bubble in 0th position?","body":"<p>The idea is finally to sort the list.</p>\n<p>Below is the Python code for filling the lowest number first and then going to the highest number</p>\n<pre><code>def selection_sort(input_list):\n    for init in range(0,len(input_list)):\n        pos_of_min=init        \n        for nxt in range(pos_of_min+1,len(input_list)):\n            if input_list[pos_of_min]&gt;input_list[nxt]:\n                pos_of_min=nxt\n        input_list[init]=input_list[pos_of_min]\n        input_list[pos_of_min]=input_list[init]\n    return input_list\n\n\narr_unsorted=[25,67,23,21,90,89,45,63]\nsorted_result=selection_sort(arr_unsorted)\nprint(sorted_result)\n</code></pre>\n"}],"owner":{"account_id":2767646,"reputation":4657,"user_id":2382964,"accept_rate":67,"display_name":"Tushar Pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1657221106,"creation_date":1521107221,"question_id":49296081,"body_markdown":"From GeeksforGeeks I found this defination : \r\n\r\n&lt;blockquote&gt;\r\n&lt;p&gt;Bubble Sort is the simplest sorting algorithm that works by repeatedly swapping the adjacent elements if they are in wrong order.&lt;/p&gt;\r\n\r\n&lt;p&gt;Example:&lt;/p&gt;\r\n&lt;pre&gt;\r\nFirst Pass:\r\n( 5 1 4 2 8 ) –&gt; ( 1 5 4 2 8 ), Here, algorithm compares the first two elements, and swaps since 5 &gt; 1.\r\n( 1 5 4 2 8 ) –&gt;  ( 1 4 5 2 8 ), Swap since 5 &gt; 4\r\n( 1 4 5 2 8 ) –&gt;  ( 1 4 2 5 8 ), Swap since 5 &gt; 2\r\n( 1 4 2 5 8 ) –&gt; ( 1 4 2 5 8 ), Now, since these elements are already in order (8 &gt; 5), algorithm does not swap them.\r\n\r\nSecond Pass:\r\n( 1 4 2 5 8 ) –&gt; ( 1 4 2 5 8 )\r\n( 1 4 2 5 8 ) –&gt; ( 1 2 4 5 8 ), Swap since 4 &gt; 2\r\n( 1 2 4 5 8 ) –&gt; ( 1 2 4 5 8 )\r\n( 1 2 4 5 8 ) –&gt;  ( 1 2 4 5 8 )\r\n&lt;/pre&gt;\r\n&lt;p&gt;Now, the array is already sorted, but our algorithm does not know if it is completed. The algorithm needs one whole pass without any swap to know it is sorted.&lt;/p&gt;\r\n&lt;/blockquote&gt;\r\n\r\nWhat if I do this in reverse order like from n-1 to 0? Is it right because I am putting my array&#39;s smallest bubble into the first position on the first pass.\r\n\r\nI have written my code like this:\r\n\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        for (int j = array.length - 1; j &gt; 0; j--) {\r\n            if (array[j - 1] &gt; array[j]) {\r\n                int temp = array[j - 1];\r\n                array[j - 1] = array[j];\r\n                array[j] = temp;\r\n            }\r\n        }\r\n    }\r\n","title":"Is it right, if first pass of Bubble Sort put smallest bubble in 0th position?","body":"<p>From GeeksforGeeks I found this defination : </p>\n\n<blockquote>\n<p>Bubble Sort is the simplest sorting algorithm that works by repeatedly swapping the adjacent elements if they are in wrong order.</p>\n\n<p>Example:</p>\n<pre>\nFirst Pass:\n( 5 1 4 2 8 ) –> ( 1 5 4 2 8 ), Here, algorithm compares the first two elements, and swaps since 5 > 1.\n( 1 5 4 2 8 ) –>  ( 1 4 5 2 8 ), Swap since 5 > 4\n( 1 4 5 2 8 ) –>  ( 1 4 2 5 8 ), Swap since 5 > 2\n( 1 4 2 5 8 ) –> ( 1 4 2 5 8 ), Now, since these elements are already in order (8 > 5), algorithm does not swap them.\n\nSecond Pass:\n( 1 4 2 5 8 ) –> ( 1 4 2 5 8 )\n( 1 4 2 5 8 ) –> ( 1 2 4 5 8 ), Swap since 4 > 2\n( 1 2 4 5 8 ) –> ( 1 2 4 5 8 )\n( 1 2 4 5 8 ) –>  ( 1 2 4 5 8 )\n</pre>\n<p>Now, the array is already sorted, but our algorithm does not know if it is completed. The algorithm needs one whole pass without any swap to know it is sorted.</p>\n</blockquote>\n\n<p>What if I do this in reverse order like from n-1 to 0? Is it right because I am putting my array's smallest bubble into the first position on the first pass.</p>\n\n<p>I have written my code like this:</p>\n\n<pre><code>for (int i = 0; i &lt; array.length; i++) {\n    for (int j = array.length - 1; j &gt; 0; j--) {\n        if (array[j - 1] &gt; array[j]) {\n            int temp = array[j - 1];\n            array[j - 1] = array[j];\n            array[j] = temp;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":113335,"reputation":4378,"user_id":298539,"accept_rate":54,"display_name":"png"},"score":0,"creation_date":1615312164,"post_id":59448845,"comment_id":117650329,"body_markdown":"I had already added the Java 8 options in build.gradle and still had the issue. What worked for me is to move .addConverterFactory( ) before calling baseUri()","body":"I had already added the Java 8 options in build.gradle and still had the issue. What worked for me is to move .addConverterFactory( ) before calling baseUri()"}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":357,"is_accepted":true,"score":357,"last_activity_date":1618782484,"creation_date":1577058809,"answer_id":59448917,"question_id":59448845,"body_markdown":"Try to switch to Java 8 compatibility mode, for proper de-sugaring of some library:\r\n\r\n    android {\r\n    \r\n        ...\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n\r\n        kotlinOptions {\r\n            jvmTarget = &quot;1.8&quot;\r\n        }\r\n    }\r\n\r\nBesides, Google JSON API might rather need the `GsonConverterFactory`.","title":"No static method metafactory","body":"<p>Try to switch to Java 8 compatibility mode, for proper de-sugaring of some library:</p>\n<pre><code>android {\n\n    ...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = &quot;1.8&quot;\n    }\n}\n</code></pre>\n<p>Besides, Google JSON API might rather need the <code>GsonConverterFactory</code>.</p>\n"},{"tags":[],"owner":{"account_id":18821344,"reputation":99,"user_id":13727277,"display_name":"Brijesh Kumbhare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1597650025,"creation_date":1597641375,"answer_id":63444925,"question_id":59448845,"body_markdown":"Try to refactor the Retrofit dependencies.\r\n\r\nWrite this:\r\n\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.4.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.2.0&#39;","title":"No static method metafactory","body":"<p>Try to refactor the Retrofit dependencies.</p>\n<p>Write this:</p>\n<pre><code>implementation 'com.squareup.retrofit2:retrofit:2.4.0'\nimplementation 'com.squareup.retrofit2:converter-gson:2.2.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9686627,"reputation":6334,"user_id":7200133,"display_name":"Gk Mohammad Emon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1617035586,"creation_date":1613214513,"answer_id":66184404,"question_id":59448845,"body_markdown":"In my case, it was not for retrofit. I was using a local library module *(named [Android XML to PDF generator][1])* that was using `Java version 1.8` *(for using Rx Java)*, but my app level `Java version` was less than `1.8`.\r\n\r\nSo I simply added in the following lines in my app level **[build.gradle][2]** -\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\nThen it worked for me!\r\n\r\n  [1]: https://github.com/Gkemon/Android-XML-to-PDF-Generator\r\n  [2]: https://github.com/Gkemon/Android-XML-to-PDF-Generator/blob/master/sample/build.gradle\r\n\r\n\r\n\r\n","title":"No static method metafactory","body":"<p>In my case, it was not for retrofit. I was using a local library module <em>(named <a href=\"https://github.com/Gkemon/Android-XML-to-PDF-Generator\" rel=\"noreferrer\">Android XML to PDF generator</a>)</em> that was using <code>Java version 1.8</code> <em>(for using Rx Java)</em>, but my app level <code>Java version</code> was less than <code>1.8</code>.</p>\n<p>So I simply added in the following lines in my app level <strong><a href=\"https://github.com/Gkemon/Android-XML-to-PDF-Generator/blob/master/sample/build.gradle\" rel=\"noreferrer\">build.gradle</a></strong> -</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p>Then it worked for me!</p>\n"},{"tags":[],"owner":{"display_name":"user15551948"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628962048,"creation_date":1628962048,"answer_id":68785569,"question_id":59448845,"body_markdown":"I just changed my dependencies to **below** and cleaned project. I was using latest version of retrofit library before but failed with same error. It worked for me.\r\n\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.3.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.3.0&#39;","title":"No static method metafactory","body":"<p>I just changed my dependencies to <strong>below</strong> and cleaned project. I was using latest version of retrofit library before but failed with same error. It worked for me.</p>\n<pre><code>implementation 'com.squareup.retrofit2:retrofit:2.3.0'\nimplementation 'com.squareup.retrofit2:converter-gson:2.3.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1634229098,"creation_date":1634229098,"answer_id":69574261,"question_id":59448845,"body_markdown":"You can resolve this error by setting `compileOptions` in `build.gradle`(app) file.\r\n\r\n    android {\r\n        ...\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }","title":"No static method metafactory","body":"<p>You can resolve this error by setting <code>compileOptions</code> in <code>build.gradle</code>(app) file.</p>\n<pre><code>android {\n    ...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15580189,"reputation":1500,"user_id":11240214,"display_name":"Stradtdog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63848,"favorite_count":0,"down_vote_count":0,"up_vote_count":118,"accepted_answer_id":59448917,"answer_count":5,"score":118,"last_activity_date":1657221038,"creation_date":1577058016,"question_id":59448845,"body_markdown":"I have an issue with my app that when I log in, the app crashes and I get the error:\r\n\r\n```\r\njava.lang.NoSuchMethodError: No static method metafactory(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite; in class Ljava/lang/invoke/LambdaMetafactory; or its super classes (declaration of &#39;java.lang.invoke.LambdaMetafactory&#39; appears in /apex/com.android.runtime/javalib/core-oj.jar)\r\n  at okhttp3.internal.Util.&lt;clinit&gt;(Util.java:87)\r\n  at okhttp3.internal.Util.skipLeadingAsciiWhitespace(Util.java:321)\r\n  at okhttp3.HttpUrl$Builder.parse(HttpUrl.java:1313)\r\n  at okhttp3.HttpUrl.get(HttpUrl.java:917)\r\n  at retrofit2.Retrofit$Builder.baseUrl(Retrofit.java:492)\r\n  at com.example.usub.Remote.RetrofitClient.getClient(RetrofitClient.java:14)\r\n  at com.example.usub.Common.Common.getGoogleAPI(Common.java:10)\r\n  at com.example.usub.Welcome.onCreate(Welcome.java:208)\r\n  at android.app.Activity.performCreate(Activity.java:7825)\r\n  at android.app.Activity.performCreate(Activity.java:7814)\r\n  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1306)\r\n  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\r\n  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n  at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n  at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n  at android.os.Handler.dispatchMessage(Handler.java:107)\r\n  at android.os.Looper.loop(Looper.java:214)\r\n  at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n  at java.lang.reflect.Method.invoke(Native Method)\r\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n```\r\n\r\nI have tried to mess with the gradle and change variables. The issue seems to stem from this package:\r\n\r\n    import retrofit2.Retrofit;\r\n    import retrofit2.converter.scalars.ScalarsConverterFactory;\r\n\r\n    public class RetrofitClient {\r\n        private static Retrofit retrofit = null;\r\n\r\n        public static Retrofit getClient(String baseURL)\r\n        {\r\n            if(retrofit == null)\r\n            {\r\n                retrofit = new Retrofit.Builder()\r\n                             .baseUrl(baseURL)\r\n                             .addConverterFactory(ScalarsConverterFactory.create())\r\n                             .build();\r\n            }\r\n            return retrofit;\r\n        }\r\n    }\r\n\r\nIt then gives to another reference to:\r\n\r\n    import com.example.usub.Remote.IGoogleAPI;\r\n    import com.example.usub.Remote.RetrofitClient;\r\n\r\n    public class Common {\r\n        public static  final String baseURL = &quot;https://maps.googleapis.com&quot;;\r\n\r\n        public static IGoogleAPI getGoogleAPI()\r\n        {\r\n            return RetrofitClient.getClient(baseURL).create(IGoogleAPI.class);\r\n        }\r\n    }\r\n\r\nHere is my gradle:\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n    defaultConfig {\r\n        applicationId &quot;com.example.usub&quot;\r\n        minSdkVersion 26\r\n        targetSdkVersion 29\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0-alpha01&#39;\r\n    implementation &#39;com.firebase:geofire-android:2.1.2&#39;\r\n    implementation &#39;com.github.kmenager:material-animated-switch:1.2.2&#39;\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.7.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-scalars:2.7.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:19.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:19.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n    implementation &#39;com.github.d-max:spots-dialog:0.7@aar&#39;\r\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\r\n    implementation &#39;uk.co.chrisjenx:calligraphy:2.3.0&#39;\r\n    implementation &#39;com.rengwuxian.materialedittext:library:2.1.4&#39;\r\n    implementation &#39;com.google.android.gms:play-services-maps:17.0.0&#39;\r\n    //implementation &#39;com.google.android.gms:play-services:17.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:17.2.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-location:17.0.0&#39;\r\n}\r\n\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n```\r\n\r\nHow can I find the method to fix the error?\r\n\r\n\r\n","title":"No static method metafactory","body":"<p>I have an issue with my app that when I log in, the app crashes and I get the error:</p>\n<pre><code>java.lang.NoSuchMethodError: No static method metafactory(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite; in class Ljava/lang/invoke/LambdaMetafactory; or its super classes (declaration of 'java.lang.invoke.LambdaMetafactory' appears in /apex/com.android.runtime/javalib/core-oj.jar)\n  at okhttp3.internal.Util.&lt;clinit&gt;(Util.java:87)\n  at okhttp3.internal.Util.skipLeadingAsciiWhitespace(Util.java:321)\n  at okhttp3.HttpUrl$Builder.parse(HttpUrl.java:1313)\n  at okhttp3.HttpUrl.get(HttpUrl.java:917)\n  at retrofit2.Retrofit$Builder.baseUrl(Retrofit.java:492)\n  at com.example.usub.Remote.RetrofitClient.getClient(RetrofitClient.java:14)\n  at com.example.usub.Common.Common.getGoogleAPI(Common.java:10)\n  at com.example.usub.Welcome.onCreate(Welcome.java:208)\n  at android.app.Activity.performCreate(Activity.java:7825)\n  at android.app.Activity.performCreate(Activity.java:7814)\n  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1306)\n  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\n  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n  at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n  at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n  at android.os.Handler.dispatchMessage(Handler.java:107)\n  at android.os.Looper.loop(Looper.java:214)\n  at android.app.ActivityThread.main(ActivityThread.java:7356)\n  at java.lang.reflect.Method.invoke(Native Method)\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n<p>I have tried to mess with the gradle and change variables. The issue seems to stem from this package:</p>\n<pre><code>import retrofit2.Retrofit;\nimport retrofit2.converter.scalars.ScalarsConverterFactory;\n\npublic class RetrofitClient {\n    private static Retrofit retrofit = null;\n\n    public static Retrofit getClient(String baseURL)\n    {\n        if(retrofit == null)\n        {\n            retrofit = new Retrofit.Builder()\n                         .baseUrl(baseURL)\n                         .addConverterFactory(ScalarsConverterFactory.create())\n                         .build();\n        }\n        return retrofit;\n    }\n}\n</code></pre>\n<p>It then gives to another reference to:</p>\n<pre><code>import com.example.usub.Remote.IGoogleAPI;\nimport com.example.usub.Remote.RetrofitClient;\n\npublic class Common {\n    public static  final String baseURL = &quot;https://maps.googleapis.com&quot;;\n\n    public static IGoogleAPI getGoogleAPI()\n    {\n        return RetrofitClient.getClient(baseURL).create(IGoogleAPI.class);\n    }\n}\n</code></pre>\n<p>Here is my gradle:</p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 29\n    defaultConfig {\n        applicationId &quot;com.example.usub&quot;\n        minSdkVersion 26\n        targetSdkVersion 29\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.2.0-alpha01'\n    implementation 'com.firebase:geofire-android:2.1.2'\n    implementation 'com.github.kmenager:material-animated-switch:1.2.2'\n    implementation 'com.squareup.retrofit2:retrofit:2.7.0'\n    implementation 'com.squareup.retrofit2:converter-scalars:2.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.firebase:firebase-database:19.2.0'\n    implementation 'com.google.firebase:firebase-auth:19.2.0'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'com.github.d-max:spots-dialog:0.7@aar'\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\n    implementation 'uk.co.chrisjenx:calligraphy:2.3.0'\n    implementation 'com.rengwuxian.materialedittext:library:2.1.4'\n    implementation 'com.google.android.gms:play-services-maps:17.0.0'\n    //implementation 'com.google.android.gms:play-services:17.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    implementation 'com.google.firebase:firebase-analytics:17.2.1'\n    implementation 'com.google.android.gms:play-services-location:17.0.0'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n<p>How can I find the method to fix the error?</p>\n"},{"tags":["java","spring-boot","multipartform-data","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657220666,"creation_date":1657220666,"answer_id":72903024,"question_id":72903023,"body_markdown":"The main stuff I was missing was putting the Http headers per specific multipart form&#39;s parts. They should be identical to what has been sent to the gateway service.\r\n\r\n       public ResponseEntity upload(@ApiParam(name = &quot;file&quot;, value = &quot;Файл&quot;, required = true) MultipartFile file)\r\n                throws BaseException {\r\n            if (Objects.isNull(file)){\r\n                throw new CheckFieldException(&quot;file&quot;, MultipartFile.class);\r\n            }\r\n    \r\n            if (megabyte * maxFileSize - file.getSize() &lt; 0){\r\n                return ResponseEntity.accepted().body(new DocumentResponseDTO(false, &quot;File size exceeds &quot; + maxFileSize + &quot;MB&quot;));\r\n            }\r\n    \r\n            DiscoveryConfig.CashTracking config = discoveryConfig.getCashTracking();\r\n            UriComponents uriStatementUpload = UriComponentsBuilder.newInstance().scheme(config.getScheme())\r\n                    .host(config.getHost()).port(config.getPort()).path(config.getExcelNominalOperationsPath()).build(true);\r\n            try {\r\n                HttpHeaders headers = new HttpHeaders();\r\n                headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    \r\n                MultipartBodyBuilder multipartBodyBuilder = new MultipartBodyBuilder();\r\n                //here is the really needed stuff with 2 headers\r\n                Resource resource = new ByteArrayResource(file.getBytes());\r\n                multipartBodyBuilder.part(&quot;file&quot;, resource)\r\n                        .header(&quot;Content-Type&quot;,file.getContentType())\r\n                        .header(&quot;Content-Disposition&quot;,&quot;form-data; name=\\&quot;file\\&quot;; filename=\\&quot;&quot;+file.getOriginalFilename()+&quot;\\&quot;&quot;);\r\n    \r\n                // multipart/form-data request body\r\n                MultiValueMap&lt;String, HttpEntity&lt;?&gt;&gt; body = multipartBodyBuilder.build();\r\n                HttpEntity&lt;MultiValueMap&lt;String, HttpEntity&lt;?&gt;&gt;&gt; requestEntity\r\n                        = new HttpEntity&lt;&gt;(body, headers);\r\n                ResponseEntity&lt;DocumentResponseDTO&gt; entity = restTemplate.postForEntity(uriStatementUpload.toUri(), requestEntity, DocumentResponseDTO.class);\r\n                return entity;\r\n            } catch (HttpClientErrorException e) {\r\n                return ResponseEntity.status(e.getStatusCode()).body(e.getResponseBodyAsString());\r\n            } catch (IOException e) {\r\n                return ResponseEntity.status(500).body(&quot;IOException while getting bytes stream from file&quot;);\r\n            }\r\n        }","title":"Why Multipart form &quot;restream&quot; from gateway microservice isn&#39;t working and attached file isn&#39;t resent?","body":"<p>The main stuff I was missing was putting the Http headers per specific multipart form's parts. They should be identical to what has been sent to the gateway service.</p>\n<pre><code>   public ResponseEntity upload(@ApiParam(name = &quot;file&quot;, value = &quot;Файл&quot;, required = true) MultipartFile file)\n            throws BaseException {\n        if (Objects.isNull(file)){\n            throw new CheckFieldException(&quot;file&quot;, MultipartFile.class);\n        }\n\n        if (megabyte * maxFileSize - file.getSize() &lt; 0){\n            return ResponseEntity.accepted().body(new DocumentResponseDTO(false, &quot;File size exceeds &quot; + maxFileSize + &quot;MB&quot;));\n        }\n\n        DiscoveryConfig.CashTracking config = discoveryConfig.getCashTracking();\n        UriComponents uriStatementUpload = UriComponentsBuilder.newInstance().scheme(config.getScheme())\n                .host(config.getHost()).port(config.getPort()).path(config.getExcelNominalOperationsPath()).build(true);\n        try {\n            HttpHeaders headers = new HttpHeaders();\n            headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n\n            MultipartBodyBuilder multipartBodyBuilder = new MultipartBodyBuilder();\n            //here is the really needed stuff with 2 headers\n            Resource resource = new ByteArrayResource(file.getBytes());\n            multipartBodyBuilder.part(&quot;file&quot;, resource)\n                    .header(&quot;Content-Type&quot;,file.getContentType())\n                    .header(&quot;Content-Disposition&quot;,&quot;form-data; name=\\&quot;file\\&quot;; filename=\\&quot;&quot;+file.getOriginalFilename()+&quot;\\&quot;&quot;);\n\n            // multipart/form-data request body\n            MultiValueMap&lt;String, HttpEntity&lt;?&gt;&gt; body = multipartBodyBuilder.build();\n            HttpEntity&lt;MultiValueMap&lt;String, HttpEntity&lt;?&gt;&gt;&gt; requestEntity\n                    = new HttpEntity&lt;&gt;(body, headers);\n            ResponseEntity&lt;DocumentResponseDTO&gt; entity = restTemplate.postForEntity(uriStatementUpload.toUri(), requestEntity, DocumentResponseDTO.class);\n            return entity;\n        } catch (HttpClientErrorException e) {\n            return ResponseEntity.status(e.getStatusCode()).body(e.getResponseBodyAsString());\n        } catch (IOException e) {\n            return ResponseEntity.status(500).body(&quot;IOException while getting bytes stream from file&quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72903024,"answer_count":1,"score":0,"last_activity_date":1657220666,"creation_date":1657220666,"question_id":72903023,"body_markdown":"I have a controller in gateway microservice that accepts the `MultipartFile` and resends to the service behind it \r\n\r\n       @PostMapping\r\n        public ResponseEntity upload(@ApiParam(name = &quot;file&quot;, value = &quot;File&quot;, required = true) MultipartFile file)\r\n                throws BaseException {\r\n            if (Objects.isNull(file)){\r\n                throw new CheckFieldException(&quot;file&quot;, MultipartFile.class);\r\n            }\r\n    \r\n            if (megabyte * maxFileSize - file.getSize() &lt; 0){\r\n                return ResponseEntity.accepted().body(new DocumentResponseDTO(false, &quot;File size exceeds &quot; + maxFileSize + &quot;MB&quot;));\r\n            }\r\n    \r\n            DiscoveryConfig.CashTracking config = discoveryConfig.getCashTracking();\r\n            UriComponents uriStatementUpload = UriComponentsBuilder.newInstance().scheme(config.getScheme())\r\n                    .host(config.getHost()).port(config.getPort()).path(config.getExcelNominalOperationsPath()).build(true);\r\n            try {\r\n                HttpEntity&lt;byte[]&gt; fileEntity = new HttpEntity(file.getBytes());\r\n                ResponseEntity&lt;DocumentResponseDTO&gt; entity = restTemplate.postForEntity(uriStatementUpload.toUri(), fileEntity, DocumentResponseDTO.class);\r\n                return entity;\r\n            } catch (HttpClientErrorException e) {\r\n                return ResponseEntity.status(e.getStatusCode()).body(e.getResponseBodyAsString());\r\n            } catch (IOException e) {\r\n                return ResponseEntity.status(500).body(&quot;IOException while getting bytes stream from file&quot;);\r\n            }\r\n        }\r\n\r\nand in CashTracking service there is also file upload like that:\r\n\r\n    @PostMapping(value = &quot;/upload&quot;)\r\n    public ResponseEntity uploadExcelNominalOperationsFile(@ApiParam(name = &quot;file&quot;, value = &quot;File&quot;, required = true) MultipartFile file) throws IOException {\r\n    \r\n        try (InputStream is = file.getInputStream()) {\r\n            log.info(&quot;Processing incoming Excel file with nominal operations&quot;);\r\n            Workbook workbook = new XSSFWorkbook(is);\r\n            log.info(&quot;Processing workbook&quot;);\r\n            Sheet sheet = workbook.getSheetAt(0);\r\n            log.info(&quot;Processing the first sheet&quot;);\r\n            List&lt;NominalOperationVO&gt; nominalOperationVOs = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; fileHeaders = new ArrayList&lt;&gt;();\r\n\r\nAnd when the file is actually uploaded to the gateway service, the service behind it starts processing the file upload, but the `MultipartFile file` is null. I have explicitly put it in the Entity I have sent to the service behind the gateway, the question, what I&#39;m doing wrong if it is null? If I do upload to that microservice directly, it process the request correctly.","title":"Why Multipart form &quot;restream&quot; from gateway microservice isn&#39;t working and attached file isn&#39;t resent?","body":"<p>I have a controller in gateway microservice that accepts the <code>MultipartFile</code> and resends to the service behind it</p>\n<pre><code>   @PostMapping\n    public ResponseEntity upload(@ApiParam(name = &quot;file&quot;, value = &quot;File&quot;, required = true) MultipartFile file)\n            throws BaseException {\n        if (Objects.isNull(file)){\n            throw new CheckFieldException(&quot;file&quot;, MultipartFile.class);\n        }\n\n        if (megabyte * maxFileSize - file.getSize() &lt; 0){\n            return ResponseEntity.accepted().body(new DocumentResponseDTO(false, &quot;File size exceeds &quot; + maxFileSize + &quot;MB&quot;));\n        }\n\n        DiscoveryConfig.CashTracking config = discoveryConfig.getCashTracking();\n        UriComponents uriStatementUpload = UriComponentsBuilder.newInstance().scheme(config.getScheme())\n                .host(config.getHost()).port(config.getPort()).path(config.getExcelNominalOperationsPath()).build(true);\n        try {\n            HttpEntity&lt;byte[]&gt; fileEntity = new HttpEntity(file.getBytes());\n            ResponseEntity&lt;DocumentResponseDTO&gt; entity = restTemplate.postForEntity(uriStatementUpload.toUri(), fileEntity, DocumentResponseDTO.class);\n            return entity;\n        } catch (HttpClientErrorException e) {\n            return ResponseEntity.status(e.getStatusCode()).body(e.getResponseBodyAsString());\n        } catch (IOException e) {\n            return ResponseEntity.status(500).body(&quot;IOException while getting bytes stream from file&quot;);\n        }\n    }\n</code></pre>\n<p>and in CashTracking service there is also file upload like that:</p>\n<pre><code>@PostMapping(value = &quot;/upload&quot;)\npublic ResponseEntity uploadExcelNominalOperationsFile(@ApiParam(name = &quot;file&quot;, value = &quot;File&quot;, required = true) MultipartFile file) throws IOException {\n\n    try (InputStream is = file.getInputStream()) {\n        log.info(&quot;Processing incoming Excel file with nominal operations&quot;);\n        Workbook workbook = new XSSFWorkbook(is);\n        log.info(&quot;Processing workbook&quot;);\n        Sheet sheet = workbook.getSheetAt(0);\n        log.info(&quot;Processing the first sheet&quot;);\n        List&lt;NominalOperationVO&gt; nominalOperationVOs = new ArrayList&lt;&gt;();\n        List&lt;String&gt; fileHeaders = new ArrayList&lt;&gt;();\n</code></pre>\n<p>And when the file is actually uploaded to the gateway service, the service behind it starts processing the file upload, but the <code>MultipartFile file</code> is null. I have explicitly put it in the Entity I have sent to the service behind the gateway, the question, what I'm doing wrong if it is null? If I do upload to that microservice directly, it process the request correctly.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657222177,"post_id":72902944,"comment_id":128766152,"body_markdown":"Always compare server time  and  you need a service getting remaining time... Somewhere call like main or splash if it&#39;s expired or what you want compare then show alert or notification","body":"Always compare server time  and  you need a service getting remaining time... Somewhere call like main or splash if it&#39;s expired or what you want compare then show alert or notification"},{"owner":{"account_id":19186393,"reputation":102,"user_id":14017100,"display_name":"ARCHER"},"score":1,"creation_date":1657222305,"post_id":72902944,"comment_id":128766199,"body_markdown":"There are many ways to achieve this try this answer\nhttps://stackoverflow.com/a/32275911/14017100","body":"There are many ways to achieve this try this answer <a href=\"https://stackoverflow.com/a/32275911/14017100\">stackoverflow.com/a/32275911/14017100</a>"}],"owner":{"account_id":22250524,"reputation":181,"user_id":16483521,"display_name":"ServletException"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657220318,"creation_date":1657220318,"question_id":72902944,"body_markdown":"I have an android app where a user can add projects etc, I&#39;d like to implement a feature where a user can select at which intervals they want to be reminded (would like to have a push notification to be sent when the time is reached).\r\n\r\nI am not using Firebase in my project just to make it clear.\r\n\r\nFor example when a user creates a project they can choose to be reminded 1 week,1 day, 1 hours etc before the projects due date and the app would constantly check for this condition despite the app being open or closed.\r\n\r\nAt the moment I have set up the difference between the due date and the current date using LocalDateTime to check the difference in minutes.\r\n\r\n\r\nHere is the method I&#39;m using to get this, but now I&#39;d like to automatically notify the user when a project reaches this specific time. I&#39;m unsure on what to use to check for this, any suggestions would be appreciated\r\n\r\n\r\n```java\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    public boolean isProjectExpired(LocalDateTime dateDue) {\r\n        LocalDateTime current = LocalDateTime.now();\r\n        long minutes = ChronoUnit.MINUTES.between(current, dateDue);\r\n\r\n        // Here, notify the user when 1 hour is left till the project due date\r\n        if(minutes == 60) {\r\n            System.out.println(&quot;PROJECT EXPIRES IN 1 HOUR: &quot; + getTitle());\r\n        }\r\n\r\n        // send push notification based on time remaining\r\n        // Remind 2 weeks (336 hours) (20160 minutes) before due date\r\n        // Remind 1 week (168 hours) (10080 minutes) before due date\r\n        // Remind 1 day (24 hours) (1440 minutes) before due date\r\n        // Remind 1 hour (60 minutes) before due date\r\n        // Remind 30 minutes before due date\r\n        return current.isAfter(getDateDue());\r\n    }\r\n\r\n```","title":"Android notify user when specific time alert is reached","body":"<p>I have an android app where a user can add projects etc, I'd like to implement a feature where a user can select at which intervals they want to be reminded (would like to have a push notification to be sent when the time is reached).</p>\n<p>I am not using Firebase in my project just to make it clear.</p>\n<p>For example when a user creates a project they can choose to be reminded 1 week,1 day, 1 hours etc before the projects due date and the app would constantly check for this condition despite the app being open or closed.</p>\n<p>At the moment I have set up the difference between the due date and the current date using LocalDateTime to check the difference in minutes.</p>\n<p>Here is the method I'm using to get this, but now I'd like to automatically notify the user when a project reaches this specific time. I'm unsure on what to use to check for this, any suggestions would be appreciated</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @RequiresApi(api = Build.VERSION_CODES.O)\n    public boolean isProjectExpired(LocalDateTime dateDue) {\n        LocalDateTime current = LocalDateTime.now();\n        long minutes = ChronoUnit.MINUTES.between(current, dateDue);\n\n        // Here, notify the user when 1 hour is left till the project due date\n        if(minutes == 60) {\n            System.out.println(&quot;PROJECT EXPIRES IN 1 HOUR: &quot; + getTitle());\n        }\n\n        // send push notification based on time remaining\n        // Remind 2 weeks (336 hours) (20160 minutes) before due date\n        // Remind 1 week (168 hours) (10080 minutes) before due date\n        // Remind 1 day (24 hours) (1440 minutes) before due date\n        // Remind 1 hour (60 minutes) before due date\n        // Remind 30 minutes before due date\n        return current.isAfter(getDateDue());\n    }\n\n</code></pre>\n"},{"tags":["java","vert.x","resteasy"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1657223330,"post_id":72902870,"comment_id":128766507,"body_markdown":"It probably doesn&#39;t read the annotation. Looking at [the docs](https://docs.jboss.org/resteasy/docs/3.1.0.Final/userguide/html/RESTEasy_Embedded_Container.html#d4e1586), there&#39;s `setRootResourcePath()` method. That sounds like it would work.","body":"It probably doesn&#39;t read the annotation. Looking at <a href=\"https://docs.jboss.org/resteasy/docs/3.1.0.Final/userguide/html/RESTEasy_Embedded_Container.html#d4e1586\" rel=\"nofollow noreferrer\">the docs</a>, there&#39;s <code>setRootResourcePath()</code> method. That sounds like it would work."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":1,"creation_date":1657238865,"post_id":72902870,"comment_id":128769922,"body_markdown":"Just for completeness this was asked here as well https://github.com/resteasy/resteasy/discussions/3140. I don&#39;t think there is a way without configuring the path for Vert.x or using the `VertxJaxrsServer` directly.","body":"Just for completeness this was asked here as well <a href=\"https://github.com/resteasy/resteasy/discussions/3140\" rel=\"nofollow noreferrer\">github.com/resteasy/resteasy/discussions/3140</a>. I don&#39;t think there is a way without configuring the path for Vert.x or using the <code>VertxJaxrsServer</code> directly."}],"owner":{"account_id":10076731,"reputation":59,"user_id":7448575,"display_name":"girdharshubham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657219917,"creation_date":1657219917,"question_id":72902870,"body_markdown":"I&#39;m trying to put together a vert.x application with resteasy. While the application gets loaded and the server starts up. I expected `/v1/health` to work but it just throws a `404`\r\n\r\n\r\n**Main.java**\r\n``` java\r\npublic class Main extends AbstractVerticle {\r\n    private static VertxResteasyDeployment deployment;\r\n\r\n    public static void main(String[] args) {\r\n        Vertx vertx = Vertx.vertx();\r\n\r\n        deployment = new VertxResteasyDeployment();\r\n        deployment.setApplicationClass(&quot;starter.rx.endpoint.V1&quot;);\r\n        deployment.start();\r\n        vertx.deployVerticle(&quot;starter.rx.Main&quot;);\r\n    }\r\n\r\n    @Override\r\n    public Completable rxStart() {\r\n        VertxRequestHandler handler = new VertxRequestHandler(vertx.getDelegate(), deployment);\r\n\r\n        return vertx.createHttpServer()\r\n                .requestHandler(x -&gt; handler.handle(x.getDelegate()))\r\n                .rxListen(80)\r\n                .ignoreElement();\r\n    }\r\n}\r\n```\r\n\r\n**V1.java**\r\n```java\r\n@ApplicationPath(&quot;v1&quot;)\r\npublic class V1 extends Application {\r\n    private final Set&lt;Object&gt; singletons = new HashSet&lt;&gt;();\r\n\r\n    public V1() {\r\n        singletons.add(new Management());\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;Object&gt; getSingletons() {\r\n        return singletons;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Management.java**\r\n```java\r\n@Path(&quot;&quot;)\r\npublic class Management {\r\n    @GET\r\n    @Path(&quot;health&quot;)\r\n    public CompletionStage&lt;String&gt; health() {\r\n        return Flowable.just(&quot;healthy&quot;).singleStage(&quot;&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Logs**\r\n```\r\n22:48:47.658 [main] INFO  o.jboss.resteasy.resteasy_jaxrs.i18n -\r\n                RESTEASY002225: Deploying jakarta.ws.rs.core.Application: class starter.rx.endpoint.V1\r\n22:48:47.662 [main] INFO  o.jboss.resteasy.resteasy_jaxrs.i18n -\r\n                RESTEASY002220: Adding singleton resource starter.rx.endpoint.Management from Application class starter.rx.endpoint.V1\r\n```\r\n\r\n**Output**\r\n```shell\r\n$ curl http://localhost:80/health\r\nhealthy\r\n\r\n$ curl -i http://localhost:80/v1/health\r\nHTTP/1.1 404 Not Found\r\ntransfer-encoding: chunked\r\n```\r\n\r\nThese are the libs that I&#39;m using\r\n```\r\n      &quot;io.vertx&quot; % &quot;vertx-core&quot; % &quot;4.3.1&quot;,\r\n      &quot;org.jboss.resteasy&quot; % &quot;resteasy-vertx&quot; % &quot;6.0.1.Final&quot;,\r\n      &quot;io.vertx&quot; % &quot;vertx-rx-java3&quot; % &quot;4.3.1&quot;,\r\n```\r\n","title":"@ApplicationPath annotation isn&#39;t getting picked up #3140","body":"<p>I'm trying to put together a vert.x application with resteasy. While the application gets loaded and the server starts up. I expected <code>/v1/health</code> to work but it just throws a <code>404</code></p>\n<p><strong>Main.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main extends AbstractVerticle {\n    private static VertxResteasyDeployment deployment;\n\n    public static void main(String[] args) {\n        Vertx vertx = Vertx.vertx();\n\n        deployment = new VertxResteasyDeployment();\n        deployment.setApplicationClass(&quot;starter.rx.endpoint.V1&quot;);\n        deployment.start();\n        vertx.deployVerticle(&quot;starter.rx.Main&quot;);\n    }\n\n    @Override\n    public Completable rxStart() {\n        VertxRequestHandler handler = new VertxRequestHandler(vertx.getDelegate(), deployment);\n\n        return vertx.createHttpServer()\n                .requestHandler(x -&gt; handler.handle(x.getDelegate()))\n                .rxListen(80)\n                .ignoreElement();\n    }\n}\n</code></pre>\n<p><strong>V1.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationPath(&quot;v1&quot;)\npublic class V1 extends Application {\n    private final Set&lt;Object&gt; singletons = new HashSet&lt;&gt;();\n\n    public V1() {\n        singletons.add(new Management());\n    }\n\n    @Override\n    public Set&lt;Object&gt; getSingletons() {\n        return singletons;\n    }\n}\n\n</code></pre>\n<p><strong>Management.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;&quot;)\npublic class Management {\n    @GET\n    @Path(&quot;health&quot;)\n    public CompletionStage&lt;String&gt; health() {\n        return Flowable.just(&quot;healthy&quot;).singleStage(&quot;&quot;);\n    }\n}\n\n</code></pre>\n<p><strong>Logs</strong></p>\n<pre><code>22:48:47.658 [main] INFO  o.jboss.resteasy.resteasy_jaxrs.i18n -\n                RESTEASY002225: Deploying jakarta.ws.rs.core.Application: class starter.rx.endpoint.V1\n22:48:47.662 [main] INFO  o.jboss.resteasy.resteasy_jaxrs.i18n -\n                RESTEASY002220: Adding singleton resource starter.rx.endpoint.Management from Application class starter.rx.endpoint.V1\n</code></pre>\n<p><strong>Output</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ curl http://localhost:80/health\nhealthy\n\n$ curl -i http://localhost:80/v1/health\nHTTP/1.1 404 Not Found\ntransfer-encoding: chunked\n</code></pre>\n<p>These are the libs that I'm using</p>\n<pre><code>      &quot;io.vertx&quot; % &quot;vertx-core&quot; % &quot;4.3.1&quot;,\n      &quot;org.jboss.resteasy&quot; % &quot;resteasy-vertx&quot; % &quot;6.0.1.Final&quot;,\n      &quot;io.vertx&quot; % &quot;vertx-rx-java3&quot; % &quot;4.3.1&quot;,\n</code></pre>\n"},{"tags":["java","set"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1657215980,"post_id":72901423,"comment_id":128764221,"body_markdown":"Your question is unclear. For example, assuming that all vectors can be compared to all others, that means your endresult is __just a single vector__ (after all, only one can be the greatest and all others therefore have another element that is greater and should be removed!). Is that what you actually wanted? If it is not what you wanted, describe how 2 vectors can be unrelational (neither is greater than the other), what does that look like.","body":"Your question is unclear. For example, assuming that all vectors can be compared to all others, that means your endresult is <b>just a single vector</b> (after all, only one can be the greatest and all others therefore have another element that is greater and should be removed!). Is that what you actually wanted? If it is not what you wanted, describe how 2 vectors can be unrelational (neither is greater than the other), what does that look like."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1657216062,"post_id":72901423,"comment_id":128764240,"body_markdown":"If truly [A] all vectors are either 100% identical or one is &#39;greater&#39;, and [B] you want to find the greatest, this can be done in O(n*m), n being the size of your list of vectors and m being the average size of any given vector. That&#39;s considerably better than the O(n^3*m) that your code is now (you forgot about the &#39;m&#39; factor, and `lst.remove(j)` is contributing another (relatively fast) `O(n)` to it all, unfortunately), so your judgement that your current take is really slow is indeed correct and can&#39;t be fixed with tricks due to algorithmic complexity.","body":"If truly [A] all vectors are either 100% identical or one is &#39;greater&#39;, and [B] you want to find the greatest, this can be done in O(n*m), n being the size of your list of vectors and m being the average size of any given vector. That&#39;s considerably better than the O(n^3*m) that your code is now (you forgot about the &#39;m&#39; factor, and <code>lst.remove(j)</code> is contributing another (relatively fast) <code>O(n)</code> to it all, unfortunately), so your judgement that your current take is really slow is indeed correct and can&#39;t be fixed with tricks due to algorithmic complexity."},{"owner":{"account_id":10858068,"reputation":165,"user_id":7983747,"accept_rate":80,"display_name":"user9985"},"score":0,"creation_date":1657218017,"post_id":72901423,"comment_id":128764865,"body_markdown":"@rzwitserloot. I updated the complexity, thanks for the comment!\n\nAs for a single vector, no you will not. I perhaps did not explain it well below, see the update. [1, 1] is greater than [1, 0], but [0, 1] is *not* greater than [1, 0] (not would [0, 2] be greater than [1, 0]).","body":"@rzwitserloot. I updated the complexity, thanks for the comment!  As for a single vector, no you will not. I perhaps did not explain it well below, see the update. [1, 1] is greater than [1, 0], but [0, 1] is <i>not</i> greater than [1, 0] (not would [0, 2] be greater than [1, 0])."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1657218127,"post_id":72901423,"comment_id":128764903,"body_markdown":"Can two differently composed vectors be considered equal.  E.g. `[1,-1]` and `[1,1]`  The sums of squares would be the same if that is part of your criteria.  It might help if you shared the details of your Comparator.","body":"Can two differently composed vectors be considered equal.  E.g. <code>[1,-1]</code> and <code>[1,1]</code>  The sums of squares would be the same if that is part of your criteria.  It might help if you shared the details of your Comparator."},{"owner":{"account_id":10858068,"reputation":165,"user_id":7983747,"accept_rate":80,"display_name":"user9985"},"score":0,"creation_date":1657218388,"post_id":72901423,"comment_id":128765000,"body_markdown":"@WJS each entry is non-negative. There are more criteria for comparing them. But does the inner workings of `isGreaterThan` make a difference for this?","body":"@WJS each entry is non-negative. There are more criteria for comparing them. But does the inner workings of <code>isGreaterThan</code> make a difference for this?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1657218894,"post_id":72901423,"comment_id":128765126,"body_markdown":"First, to start you put them in a set for some reason.  Why would you do that? \n And what is your `equals` method to allow the `Set` to do its thing and remove duplicates?  Also, please look at your code.  It is full of syntax errors and would not be able to compile.  Just paste your existing code into the question.","body":"First, to start you put them in a set for some reason.  Why would you do that?   And what is your <code>equals</code> method to allow the <code>Set</code> to do its thing and remove duplicates?  Also, please look at your code.  It is full of syntax errors and would not be able to compile.  Just paste your existing code into the question."},{"owner":{"account_id":10858068,"reputation":165,"user_id":7983747,"accept_rate":80,"display_name":"user9985"},"score":0,"creation_date":1657219603,"post_id":72901423,"comment_id":128765332,"body_markdown":"@WJS. Sorry about the syntax, it&#39;s been fixed. The actual code is essentially identical minus the change of function names to make more sense outside of the context of the whole program.\n\nThe `Set` is needed since the items being stored are procedurally generated to generate all possible permutations of several pieces of input. Storing in a List would impose severe penalties on deduplication.\n\nThe `equals` evaluates one component at a time. I.e. v1[0] == v2[0], v1[1]==v2[0]. (shown using array index syntax)","body":"@WJS. Sorry about the syntax, it&#39;s been fixed. The actual code is essentially identical minus the change of function names to make more sense outside of the context of the whole program.  The <code>Set</code> is needed since the items being stored are procedurally generated to generate all possible permutations of several pieces of input. Storing in a List would impose severe penalties on deduplication.  The <code>equals</code> evaluates one component at a time. I.e. v1[0] == v2[0], v1[1]==v2[0]. (shown using array index syntax)"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1657220079,"post_id":72901423,"comment_id":128765469,"body_markdown":"Okay.  But assuming that you are comparing all values to each other using the same criteria, wouldn&#39;t you end up with `one` greatest value or a `list of n equal` values that are the greatest?  An actual example of before and after with explanation would really help.","body":"Okay.  But assuming that you are comparing all values to each other using the same criteria, wouldn&#39;t you end up with <code>one</code> greatest value or a <code>list of n equal</code> values that are the greatest?  An actual example of before and after with explanation would really help."},{"owner":{"account_id":10858068,"reputation":165,"user_id":7983747,"accept_rate":80,"display_name":"user9985"},"score":0,"creation_date":1657220231,"post_id":72901423,"comment_id":128765526,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/246251/discussion-between-user9985-and-wjs).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/246251/discussion-between-user9985-and-wjs\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":5872724,"reputation":171,"user_id":4624559,"display_name":"Lucas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657212349,"creation_date":1657212349,"answer_id":72901549,"question_id":72901423,"body_markdown":"What about sorting the vectors? Then you just iterate over them, and at some point you know that everything that comes next will be smaller.\r\n\r\nThen you can achieve nlogn complexity.","title":"Removing values from set based on a function","body":"<p>What about sorting the vectors? Then you just iterate over them, and at some point you know that everything that comes next will be smaller.</p>\n<p>Then you can achieve nlogn complexity.</p>\n"}],"owner":{"account_id":10858068,"reputation":165,"user_id":7983747,"accept_rate":80,"display_name":"user9985"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72901549,"answer_count":1,"score":1,"last_activity_date":1657219229,"creation_date":1657211745,"question_id":72901423,"body_markdown":"I have a `LinkedHashSet` of &quot;vectors&quot;.\r\n\r\nSome of the vectors in the set may be &quot;greater&quot; than others. (vectors are 8-dimensional and each entry is non-negative)\r\nOversimplified: if I have `[1, 0, 0, 0, 0, 0, 0, 0]` and `[1, 1, 0, 0, 0, 0, 0 ,0]` in the set, then `[1, 1, 0, 0, 0, 0, 0, 0]` is greater than `[1, 0, 0, 0, 0, 0, 0, 0, 0, 0]` and so I wish to remove `[1, 0, 0, 0, 0, 0, 0, 0]`.\r\n\r\nThe actual comparison is not directly based on numerical values since not all entries are compared using the same criteria, see examples below.\r\nI have a method on my &quot;vector&quot; objects such that if I call `v1.isGreaterThan(v2)` it will return true for when `v1` is greater than `v2` (for the example above `[1, 1, 0, 0, 0, 0, 0, 0].isGreaterThan([1, 0, 0, 0, 0, 0, 0, 0]) == true`).\r\n\r\nThe current implementation of doing this check is horribly slow `O(n^3*m)` (see comment below):\r\n```Java\r\nList&lt;V&gt; lst = new ArrayList&lt;&gt;(linkedHashSet);\r\n\r\nfor (int i = lst.size()-1; i &gt;=0; i--) {\r\n    V vI = lst.get(i);\r\n    for (int j = 0; j &lt;i; j++) {\r\n        V vJ = lst.get(j);\r\n        if (vI.isGreaterThan(vJ)) {\r\n            vI.setValueTo(vJ);\r\n            lst.remove(j);\r\n            linkedHashSet.remove(vJ);\r\n            break;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n`linkedHashSet.size()` gets to be in the 10,000s or even 100,000s, so I desperately need to speed that up.\r\n\r\nWhat can I do?\r\n\r\nEDIT: Changed to show more dimensions.\r\n\r\n----------\r\n# EDIT: Further Examples\r\n`[2, 0, 0, 0, 0, 0, 0, 0].isGreaterThan([1, 0, 0, 0, 0, 0, 0, 0]) == true`\r\n\r\n`[1, 0, 0, 0, 0, 0, 0, 0].isGreaterThan([0, 1, 0, 0, 0, 0, 0, 0]) == false` &lt;- 1st index is greater but second is not.\r\n\r\n`[2, 0, 0, 0, 0, 0, 0, 0].isGreaterThan([0, 1, 0, 0, 0, 0, 0, 0]) == false` &lt;- still false\r\n\r\nSome of the other entries are compared differently. But all of this is handled by `.isGreaterThan()`.","title":"Removing values from set based on a function","body":"<p>I have a <code>LinkedHashSet</code> of &quot;vectors&quot;.</p>\n<p>Some of the vectors in the set may be &quot;greater&quot; than others. (vectors are 8-dimensional and each entry is non-negative)\nOversimplified: if I have <code>[1, 0, 0, 0, 0, 0, 0, 0]</code> and <code>[1, 1, 0, 0, 0, 0, 0 ,0]</code> in the set, then <code>[1, 1, 0, 0, 0, 0, 0, 0]</code> is greater than <code>[1, 0, 0, 0, 0, 0, 0, 0, 0, 0]</code> and so I wish to remove <code>[1, 0, 0, 0, 0, 0, 0, 0]</code>.</p>\n<p>The actual comparison is not directly based on numerical values since not all entries are compared using the same criteria, see examples below.\nI have a method on my &quot;vector&quot; objects such that if I call <code>v1.isGreaterThan(v2)</code> it will return true for when <code>v1</code> is greater than <code>v2</code> (for the example above <code>[1, 1, 0, 0, 0, 0, 0, 0].isGreaterThan([1, 0, 0, 0, 0, 0, 0, 0]) == true</code>).</p>\n<p>The current implementation of doing this check is horribly slow <code>O(n^3*m)</code> (see comment below):</p>\n<pre><code>List&lt;V&gt; lst = new ArrayList&lt;&gt;(linkedHashSet);\n\nfor (int i = lst.size()-1; i &gt;=0; i--) {\n    V vI = lst.get(i);\n    for (int j = 0; j &lt;i; j++) {\n        V vJ = lst.get(j);\n        if (vI.isGreaterThan(vJ)) {\n            vI.setValueTo(vJ);\n            lst.remove(j);\n            linkedHashSet.remove(vJ);\n            break;\n        }\n    }\n}\n</code></pre>\n<p><code>linkedHashSet.size()</code> gets to be in the 10,000s or even 100,000s, so I desperately need to speed that up.</p>\n<p>What can I do?</p>\n<p>EDIT: Changed to show more dimensions.</p>\n<hr />\n<h1>EDIT: Further Examples</h1>\n<p><code>[2, 0, 0, 0, 0, 0, 0, 0].isGreaterThan([1, 0, 0, 0, 0, 0, 0, 0]) == true</code></p>\n<p><code>[1, 0, 0, 0, 0, 0, 0, 0].isGreaterThan([0, 1, 0, 0, 0, 0, 0, 0]) == false</code> &lt;- 1st index is greater but second is not.</p>\n<p><code>[2, 0, 0, 0, 0, 0, 0, 0].isGreaterThan([0, 1, 0, 0, 0, 0, 0, 0]) == false</code> &lt;- still false</p>\n<p>Some of the other entries are compared differently. But all of this is handled by <code>.isGreaterThan()</code>.</p>\n"},{"tags":["java","rx-java"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":1,"creation_date":1657173164,"post_id":72890480,"comment_id":128748120,"body_markdown":"Depends on how do you detect a value is missing and if you need the not missing values after.","body":"Depends on how do you detect a value is missing and if you need the not missing values after."},{"owner":{"account_id":8714395,"reputation":61,"user_id":6519537,"display_name":"Andrey Choi"},"score":0,"creation_date":1657210736,"post_id":72890480,"comment_id":128762389,"body_markdown":"Right now I am tracking if the value is missing with a boolean outside of the lambda expressions while inside of the convertType function I flip the flag. I do need the missing values after. The results object should emit all of the converted values it receives until after it has finished, at which point it checks if it needs to throw the exception.","body":"Right now I am tracking if the value is missing with a boolean outside of the lambda expressions while inside of the convertType function I flip the flag. I do need the missing values after. The results object should emit all of the converted values it receives until after it has finished, at which point it checks if it needs to throw the exception."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1657219075,"post_id":72890480,"comment_id":128765169,"body_markdown":"@AndreyChoi Please take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"@AndreyChoi Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/72890480/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."}],"answers":[{"tags":[],"owner":{"account_id":8714395,"reputation":61,"user_id":6519537,"display_name":"Andrey Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657215764,"creation_date":1657215764,"answer_id":72902171,"question_id":72890480,"body_markdown":"I ended up solving this by tracking the state with an AtomicBoolean and then using the doOnComplete function for Flowables to throw an Exception.\r\n\r\ni.e. \r\n\r\n    AtomicBoolean foundValue = new AtomicBoolean(false);\r\n    Flowable&lt;InitialType&gt; messages = ....;\r\n    Flowable&lt;EndType&gt; results = messages.map(value -&gt; {\r\n                                              if (typeSoughtAfter) {\r\n                                                  foundValue.set(true);\r\n                                              }\r\n                                              convertType(value);\r\n                                            }).doOnComplete(() -&gt; {\r\n                                              if (foundValue.get()) {\r\n                                                  throw new Exception(&quot;&quot;Value found);\r\n                                              }\r\n                                            });","title":"Throwing an exception after emitting to a Flowable","body":"<p>I ended up solving this by tracking the state with an AtomicBoolean and then using the doOnComplete function for Flowables to throw an Exception.</p>\n<p>i.e.</p>\n<pre><code>AtomicBoolean foundValue = new AtomicBoolean(false);\nFlowable&lt;InitialType&gt; messages = ....;\nFlowable&lt;EndType&gt; results = messages.map(value -&gt; {\n                                          if (typeSoughtAfter) {\n                                              foundValue.set(true);\n                                          }\n                                          convertType(value);\n                                        }).doOnComplete(() -&gt; {\n                                          if (foundValue.get()) {\n                                              throw new Exception(&quot;&quot;Value found);\n                                          }\n                                        });\n</code></pre>\n"}],"owner":{"account_id":8714395,"reputation":61,"user_id":6519537,"display_name":"Andrey Choi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657219002,"creation_date":1657146243,"question_id":72890480,"body_markdown":"I am trying to map the values from `Flowable&lt;T&gt;` into `Flowable&lt;T2&gt;` but if a certain value is missing in `Flowable&lt;T&gt;` (or if the converted value is missing from `Flowable&lt;T2&gt;`) it should throw an exception. As an example:\r\n\r\n    Flowable&lt;InitialType&gt; messages = ....;\r\n    Flowable&lt;EndType&gt; results = messages.map(value -&gt; convertType(value))\r\n                                        .HereItShouldThrow(() -&gt; \r\n                                               if(missingValue) { \r\n                                                    throw new Exception();\r\n                                         });\r\n                                            \r\nWhat is the best way to do this? Use `concatWith` on the mapped values with some kind of lambda function that tracks the state with a boolean? Is there some function on `Flowable` that better fits this?","title":"Throwing an exception after emitting to a Flowable","body":"<p>I am trying to map the values from <code>Flowable&lt;T&gt;</code> into <code>Flowable&lt;T2&gt;</code> but if a certain value is missing in <code>Flowable&lt;T&gt;</code> (or if the converted value is missing from <code>Flowable&lt;T2&gt;</code>) it should throw an exception. As an example:</p>\n<pre><code>Flowable&lt;InitialType&gt; messages = ....;\nFlowable&lt;EndType&gt; results = messages.map(value -&gt; convertType(value))\n                                    .HereItShouldThrow(() -&gt; \n                                           if(missingValue) { \n                                                throw new Exception();\n                                     });\n                                        \n</code></pre>\n<p>What is the best way to do this? Use <code>concatWith</code> on the mapped values with some kind of lambda function that tracks the state with a boolean? Is there some function on <code>Flowable</code> that better fits this?</p>\n"},{"tags":["java","spring","spring-boot","keycloak"],"comments":[{"owner":{"account_id":1107434,"reputation":4521,"user_id":1098564,"accept_rate":75,"display_name":"sdoxsee"},"score":0,"creation_date":1509928611,"post_id":47121643,"comment_id":81206338,"body_markdown":"Curious. Why two realms?","body":"Curious. Why two realms?"},{"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"score":0,"creation_date":1509936004,"post_id":47121643,"comment_id":81207982,"body_markdown":"Two realms because the applications are for two different companies but there are some users who have access to both systems. Is this a wrong design?","body":"Two realms because the applications are for two different companies but there are some users who have access to both systems. Is this a wrong design?"},{"owner":{"account_id":1107434,"reputation":4521,"user_id":1098564,"accept_rate":75,"display_name":"sdoxsee"},"score":0,"creation_date":1509964026,"post_id":47121643,"comment_id":81218935,"body_markdown":"Yes. Like Boomerang said. You&#39;ll want the two realms since there are two companies and two separate user stores (even if some will be in both)...unless they really are like the same company and access to each company&#39;s apps and could be controlled via roles and permissions? (But most likely sounds like you want 2 realms since they are separate companies) for example, I had two realms for a benefits company and a payroll company since they are independent and have separate credentials but can SSO if they sign up for both services","body":"Yes. Like Boomerang said. You&#39;ll want the two realms since there are two companies and two separate user stores (even if some will be in both)...unless they really are like the same company and access to each company&#39;s apps and could be controlled via roles and permissions? (But most likely sounds like you want 2 realms since they are separate companies) for example, I had two realms for a benefits company and a payroll company since they are independent and have separate credentials but can SSO if they sign up for both services"},{"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"score":0,"creation_date":1509968779,"post_id":47121643,"comment_id":81221689,"body_markdown":"It is actually two different companies but some users have access to both apps with roles. But the users don&#39;t want to have different logins for each application.","body":"It is actually two different companies but some users have access to both apps with roles. But the users don&#39;t want to have different logins for each application."},{"owner":{"account_id":1107434,"reputation":4521,"user_id":1098564,"accept_rate":75,"display_name":"sdoxsee"},"score":0,"creation_date":1509970590,"post_id":47121643,"comment_id":81222788,"body_markdown":"Yup. 2 realms then. The users need their own account for each company...cause what if they left one of the companies. SSO provides the means of letting them in with either credentials with distinct accounts for each user. Is it just authentication you care about or data synchronization and sharing as well?","body":"Yup. 2 realms then. The users need their own account for each company...cause what if they left one of the companies. SSO provides the means of letting them in with either credentials with distinct accounts for each user. Is it just authentication you care about or data synchronization and sharing as well?"},{"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"score":0,"creation_date":1509974261,"post_id":47121643,"comment_id":81224861,"body_markdown":"I want to authenticate and manage their roles from the same realm. When a user leaves their roles for that particular app will be revoked. My problem here is I don&#39;t want the roles of one app to be visible to the other app. But if the apps are in the same realm then their roles also will be visible to each other.","body":"I want to authenticate and manage their roles from the same realm. When a user leaves their roles for that particular app will be revoked. My problem here is I don&#39;t want the roles of one app to be visible to the other app. But if the apps are in the same realm then their roles also will be visible to each other."},{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1515682528,"post_id":47121643,"comment_id":83400816,"body_markdown":"Another reason why we would like to do it is to have different themes for different clients. Since themes are realm-specific we are required to have several realms.\n\nNeeding an external LDAP (or other user storage spi) is a lot of effort just for different themes. :-(","body":"Another reason why we would like to do it is to have different themes for different clients. Since themes are realm-specific we are required to have several realms.  Needing an external LDAP (or other user storage spi) is a lot of effort just for different themes. :-("},{"owner":{"account_id":8437381,"reputation":338,"user_id":6331113,"display_name":"Thierry D."},"score":0,"creation_date":1545648890,"post_id":47121643,"comment_id":94669223,"body_markdown":"Maybe you can define one of the realm as Identity provider for the other. Or create a third one with both of them as IDP.","body":"Maybe you can define one of the realm as Identity provider for the other. Or create a third one with both of them as IDP."}],"answers":[{"tags":[],"owner":{"account_id":3804065,"reputation":3440,"user_id":3157154,"display_name":"Boomer"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1509948474,"creation_date":1509948474,"answer_id":47130733,"question_id":47121643,"body_markdown":"No that&#39;s not possible. Users are always realm specific. The only way would be to keep the users in an external store and integrate this external store via federation (_UserStorageSpi_) into both realms. But then you&#39;ll have to do all user management on the external store, as it is the primary source of your user data.","title":"Keycloak - Is it possible share a common set of users between realms?","body":"<p>No that's not possible. Users are always realm specific. The only way would be to keep the users in an external store and integrate this external store via federation (<em>UserStorageSpi</em>) into both realms. But then you'll have to do all user management on the external store, as it is the primary source of your user data.</p>\n"},{"tags":[],"owner":{"account_id":13011085,"reputation":959,"user_id":9404093,"display_name":"Charly"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1657218905,"creation_date":1554391165,"answer_id":55519574,"question_id":47121643,"body_markdown":"Agreed with [accepted answer][1] that it&#39;s not possible.\r\n\r\nYou could treat realms as &#39;user pools&#39; - a user should belong to one or another (identity) unless they are truly treated as two separate identities.\r\n\r\nThen you could create a third realm that&#39;s used for Client connections, so the app only has to integrate with a single auth server. This third realm could then federate to the other two realms via Keycloak OpenID Connect.\r\n\r\nUsing this method, you could also provide groups/roles/permissions depending on where they were federated. Clients integrated with this realm would then be accessible by everyone in either realm - may require further RBAC enhancements to determine true access.\r\n\r\nEDIT:\r\nAlso note that you can skip the &#39;hub&#39; realm and federate directly to the desired user-pool realm via `KC_IDP_HINT`. For example, your app could be loaded via different subdomains - the app can decide the `KC_IDP_HINT` by which subdomain was used.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/47130733/9404093","title":"Keycloak - Is it possible share a common set of users between realms?","body":"<p>Agreed with <a href=\"https://stackoverflow.com/a/47130733/9404093\">accepted answer</a> that it's not possible.</p>\n<p>You could treat realms as 'user pools' - a user should belong to one or another (identity) unless they are truly treated as two separate identities.</p>\n<p>Then you could create a third realm that's used for Client connections, so the app only has to integrate with a single auth server. This third realm could then federate to the other two realms via Keycloak OpenID Connect.</p>\n<p>Using this method, you could also provide groups/roles/permissions depending on where they were federated. Clients integrated with this realm would then be accessible by everyone in either realm - may require further RBAC enhancements to determine true access.</p>\n<p>EDIT:\nAlso note that you can skip the 'hub' realm and federate directly to the desired user-pool realm via <code>KC_IDP_HINT</code>. For example, your app could be loaded via different subdomains - the app can decide the <code>KC_IDP_HINT</code> by which subdomain was used.</p>\n"}],"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24423,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":47130733,"answer_count":2,"score":21,"last_activity_date":1657218905,"creation_date":1509885409,"question_id":47121643,"body_markdown":"I am trying  to implement keycloak as an SSO for my company. I have created two realms, realm A and realm B. I want to use same set of users for both realms ie I need give access to users for both realms. Is it possible to do this in Keycloak?","title":"Keycloak - Is it possible share a common set of users between realms?","body":"<p>I am trying  to implement keycloak as an SSO for my company. I have created two realms, realm A and realm B. I want to use same set of users for both realms ie I need give access to users for both realms. Is it possible to do this in Keycloak?</p>\n"},{"tags":["java","jvm","jshell"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1656726738,"post_id":72738837,"comment_id":128649139,"body_markdown":"You want to know the meaning of &quot;/&quot; or &quot;/0x00000008000a9440&quot;?","body":"You want to know the meaning of &quot;/&quot; or &quot;/0x00000008000a9440&quot;?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":4,"creation_date":1656731350,"post_id":72738837,"comment_id":128649620,"body_markdown":"It&#39;s just how [hidden classes](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getName%28%29) are named.","body":"It&#39;s just how <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getName%28%29\" rel=\"nofollow noreferrer\">hidden classes</a> are named."},{"owner":{"account_id":1276558,"reputation":1700,"user_id":1231693,"accept_rate":69,"display_name":"mellow-yellow"},"score":0,"creation_date":1656773101,"post_id":72738837,"comment_id":128655777,"body_markdown":"Following your link, and some sublinks, I found the defineHiddenClass method, in MethodHandles.Lookup that says: &quot;Class.getName() returns the string GN + &quot;/&quot; + &lt;suffix&gt;, even though this is not a valid binary class or interface name.&quot; Is that what you mean?","body":"Following your link, and some sublinks, I found the defineHiddenClass method, in MethodHandles.Lookup that says: &quot;Class.getName() returns the string GN + &quot;/&quot; + &lt;suffix&gt;, even though this is not a valid binary class or interface name.&quot; Is that what you mean?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1656773542,"post_id":72738837,"comment_id":128655864,"body_markdown":"Note you don&#39;t need to follow any further links. The `Class#getName()` documentation linked by Johannes directly says: &quot;_If the class or interface is hidden, then the result is a string of the form: N + &#39;/&#39; + &lt;suffix&gt; where N is the binary name indicated by the class file passed to Lookup::defineHiddenClass, and &lt;suffix&gt; is an unqualified name_&quot;.","body":"Note you don&#39;t need to follow any further links. The <code>Class#getName()</code> documentation linked by Johannes directly says: &quot;<i>If the class or interface is hidden, then the result is a string of the form: N + &#39;/&#39; + &lt;suffix&gt; where N is the binary name indicated by the class file passed to Lookup::defineHiddenClass, and &lt;suffix&gt; is an unqualified name</i>&quot;."}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1657133521,"creation_date":1657129791,"answer_id":72887915,"question_id":72738837,"body_markdown":"# Summary\r\n`$Lambda$15/0x00000008000a9440` is the name of the created hidden class.\r\n\r\nAs it will be shown below, `0x00000008000a9440` is called a suffix.\r\n\r\nThe name of the class can be retrieved by calling the `java.lang.Class.getName()` method.\r\nTherefore:\r\n\r\n* For example, the same class names can be retrieved by a Java program (not through JShell).\r\n* The question does not seem to be about JShell, but about the Java language and the Java Virtual Machine.\r\n\r\n## Example program to show name of hidden class\r\n### `Program` class\r\n```java\r\npackage info.brunov.stackoverflow.question72804142;\r\n\r\nimport java.util.function.Supplier;\r\n\r\npublic final class Program {\r\n    public static void main(final String args[]) {\r\n        printRuntimeInformation();\r\n\r\n        final Supplier&lt;String&gt; supplier1 = () -&gt; &quot;&quot;;\r\n        final Supplier&lt;String&gt; supplier2 = () -&gt; &quot;&quot;;\r\n        final Supplier&lt;String&gt; supplier3 = () -&gt; &quot;&quot;;\r\n        System.out.println(\r\n            String.format(&quot;Supplier 1: %s&quot;, supplier1.getClass().getName())\r\n        );\r\n        System.out.println(\r\n            String.format(&quot;Supplier 2: %s&quot;, supplier2.getClass().getName())\r\n        );\r\n        System.out.println(\r\n            String.format(&quot;Supplier 3: %s&quot;, supplier3.getClass().getName())\r\n        );\r\n    }\r\n\r\n    private static void printRuntimeInformation() {\r\n        System.out.println(\r\n            String.format(\r\n                &quot;Java Virtual Machine specification name: %s&quot;,\r\n                System.getProperty(&quot;java.vm.specification.name&quot;)\r\n            )\r\n        );\r\n        System.out.println(\r\n            String.format(\r\n                &quot;Java Virtual Machine specification version: %s&quot;,\r\n                System.getProperty(&quot;java.vm.specification.version&quot;)\r\n            )\r\n        );\r\n        System.out.println(\r\n            String.format(\r\n                &quot;Java Virtual Machine specification vendor: %s&quot;,\r\n                System.getProperty(&quot;java.vm.specification.vendor&quot;)\r\n            )\r\n        );\r\n        System.out.println(\r\n            String.format(\r\n                &quot;Java Virtual Machine implementation name: %s&quot;,\r\n                System.getProperty(&quot;java.vm.name&quot;)\r\n            )\r\n        );\r\n        System.out.println(\r\n            String.format(\r\n                &quot;Java Virtual Machine implementation version: %s&quot;,\r\n                System.getProperty(&quot;java.vm.version&quot;)\r\n            )\r\n        );\r\n        System.out.println(\r\n            String.format(\r\n                &quot;Java Virtual Machine implementation vendor: %s&quot;,\r\n                System.getProperty(&quot;java.vm.vendor&quot;)\r\n            )\r\n        );\r\n    }\r\n}\r\n```\r\n\r\n### Program output\r\n```\r\nJava Virtual Machine specification name: Java Virtual Machine Specification\r\nJava Virtual Machine specification version: 18\r\nJava Virtual Machine specification vendor: Oracle Corporation\r\nJava Virtual Machine implementation name: OpenJDK 64-Bit Server VM\r\nJava Virtual Machine implementation version: 18.0.1-ea+10-Debian-1\r\nJava Virtual Machine implementation vendor: Debian\r\nSupplier 1: info.brunov.stackoverflow.question72804142.Program$$Lambda$18/0x0000000800c031f0\r\nSupplier 2: info.brunov.stackoverflow.question72804142.Program$$Lambda$19/0x0000000800c033f8\r\nSupplier 3: info.brunov.stackoverflow.question72804142.Program$$Lambda$20/0x0000000800c03600\r\n```\r\n\r\n# Documentation references\r\n## JEP 371: Hidden Classes\r\nThe hidden classes have been introduced since JDK 15.\r\nFor additional details, please, refer to the JEP: [JEP 371: Hidden Classes](https://openjdk.org/jeps/371).\r\n\r\nHere is an excerpt from the JEP on the hidden class names:\r\n\r\n&gt; The major difference in how a hidden class is created lies in the name it is given. **A hidden class is not anonymous.** It has a name that is available via `Class::getName` and may be shown in diagnostics (such as the output of `java -verbose:class`), in JVM TI class loading events, in JFR events, and in stack traces. However, the name has a sufficiently unusual form that it effectively makes the class invisible to all other classes. The name is the concatenation of:\r\n&gt; \r\n&gt; 1. The binary name in internal form (JVMS 4.2.1) specified by `this_class` in the `ClassFile` structure, say `A/B/C`;\r\n&gt; 2. The `&#39;.&#39;` character; and\r\n&gt; 3. An unqualified name (JVMS 4.2.2) that is chosen by the JVM implementation.\r\n&gt; \r\n&gt; For example, if `this_class` specifies `com/example/Foo` (the internal form of the binary name `com.example.Foo`), then a hidden class derived from the `ClassFile` structure may be named `com/example/Foo.1234`. This string is neither a binary name nor the internal form of a binary name.\r\n&gt; \r\n&gt; Given a hidden class whose name is `A/B/C.x`, the result of `Class::getName` is the concatenation of:\r\n&gt; \r\n&gt; 1. The binary name `A.B.C` (obtained by taking `A/B/C` and replacing each `&#39;/&#39;` with `&#39;.&#39;`);\r\n&gt; 2. The &#39;/&#39; character; and\r\n&gt; 3. The unqualified name `x`.\r\n&gt; \r\n&gt; For example, if a hidden class is named `com/example/Foo.1234`, then the result of `Class::getName` is `com.example.Foo/1234`. Again, this string is neither a binary name nor the internal form of a binary name.\r\n&gt; \r\n&gt; The namespace of hidden classes is disjoint from the namespace of normal classes. Given a `ClassFile` structure where `this_class` specifies `com/example/Foo/1234`, invoking `cl.defineClass(&quot;com.example.Foo.1234&quot;, bytes, ...)` merely results in a normal class named `com.example.Foo.1234`, distinct from the hidden class named `com.example.Foo/1234`. It is impossible to create a normal class named `com.example.Foo/1234` because `cl.defineClass(&quot;com.example.Foo/1234&quot;, bytes, ...)` will reject the string argument as being not a binary name.\r\n\r\n## Javadoc: `java.lang.Class#getName()` method \r\nLet&#39;s refer to the method documentation: [Class (Java SE 15 &amp; JDK 15)](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Class.html#getName()).\r\n\r\nAn excerpt from the documentation:\r\n\r\n&gt; public&#160;[String](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html &quot;class in java.lang&quot;)&#160;getName()\r\n&gt; \r\n&gt; Returns the name of the entity (class, interface, array class, primitive type, or void) represented by this `Class` object.\r\n&gt; \r\n&gt; If this `Class` object represents a class or interface, not an array class, then:\r\n&gt; \r\n&gt; * If the class or interface is not [hidden](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Class.html#isHidden()), then the [binary name](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/ClassLoader.html#binary-name) of the class or interface is returned.\r\n&gt; * If the class or interface is hidden, then the result is a string of the form: `N + &#39;/&#39; + &lt;suffix&gt;` where `N` is the [binary name](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/ClassLoader.html#binary-name) indicated by the `class` file passed to [`Lookup::defineHiddenClass`](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte%5B%5D,boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)), and `&lt;suffix&gt;` is an unqualified name.\r\n\r\n# Implementation details: OpenJDK Java Virtual Machine: Hidden class name\r\n## Introduction\r\nLet&#39;s consider the source code of OpenJDK 18.\r\n\r\nLet&#39;s refer to the tag: [openjdk/jdk18 at jdk-18+37](https://github.com/openjdk/jdk18/tree/jdk-18%2B37).\r\n\r\nPlease, note that:\r\n\r\n* The below execution paths are theoretical: I am using the mentioned source code tag.\r\n* The below call stacks are real: I am using OpenJDK `18.0.1-ea+10-Debian-1`.\r\n\r\n## Hidden class name mangling\r\nHidden class creation (the `java.lang.invoke.MethodHandles.Lookup.defineHiddenClass()` method) includes the mangling of its name.\r\n\r\nLet&#39;s consider the following call stack:\r\n\r\n```\r\n&quot;main@1&quot; prio=5 tid=0x1 nid=NA runnable\r\n  java.lang.Thread.State: RUNNABLE\r\n\t  at java.lang.System$2.defineClass(System.java:2346)\r\n\t  at java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2432)\r\n\t  at java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClassAsLookup(MethodHandles.java:2413)\r\n\t  at java.lang.invoke.MethodHandles$Lookup.defineHiddenClass(MethodHandles.java:2119)\r\n\t  at java.lang.invoke.InnerClassLambdaMetafactory.generateInnerClass(InnerClassLambdaMetafactory.java:385)\r\n\t  at java.lang.invoke.InnerClassLambdaMetafactory.spinInnerClass(InnerClassLambdaMetafactory.java:293)\r\n\t  at java.lang.invoke.InnerClassLambdaMetafactory.buildCallSite(InnerClassLambdaMetafactory.java:228)\r\n\t  at java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:341)\r\n\t  at java.lang.invoke.DirectMethodHandle$Holder.invokeStatic(DirectMethodHandle$Holder:-1)\r\n\t  at java.lang.invoke.Invokers$Holder.invokeExact_MT(Invokers$Holder:-1)\r\n\t  at java.lang.invoke.BootstrapMethodInvoker.invoke(BootstrapMethodInvoker.java:134)\r\n\t  at java.lang.invoke.CallSite.makeSite(CallSite.java:315)\r\n\t  at java.lang.invoke.MethodHandleNatives.linkCallSiteImpl(MethodHandleNatives.java:279)\r\n\t  at java.lang.invoke.MethodHandleNatives.linkCallSite(MethodHandleNatives.java:269)\r\n\t  at info.brunov.stackoverflow.question72804142.Program.main(Program.java:9)\r\n```\r\n\r\nThen let&#39;s consider the following execution path as **the continuation of the call stack**:\r\n\r\n```\r\nClass&lt;?&gt; java.lang.ClassLoader#defineClass0(ClassLoader loader, Class&lt;?&gt; lookup, String name, byte[] b, int off, int len, ProtectionDomain pd, boolean initialize, int flags, Object classData)\r\n\r\n// Native calls below.\r\njclass Unsafe_DefineClass0(JNIEnv *env, jobject unsafe, jstring name, jbyteArray data, int offset, int length, jobject loader, jobject pd)\r\njclass Unsafe_DefineClass_impl(JNIEnv *env, jstring name, jbyteArray data, int offset, int length, jobject loader, jobject pd)\r\nJNIEXPORT jclass JNICALL\r\njclass JVM_DefineClass(JNIEnv *env, const char *name, jobject loader, const jbyte *buf, jsize len, jobject pd)\r\njclass jvm_define_class_common(const char *name, jobject loader, const jbyte *buf, jsize len, jobject pd, const char *source, TRAPS)\r\nInstanceKlass* SystemDictionary::resolve_from_stream(ClassFileStream* st, Symbol* class_name, Handle class_loader, const ClassLoadInfo&amp; cl_info, TRAPS)\r\nInstanceKlass* SystemDictionary::resolve_hidden_class_from_stream(ClassFileStream* st, Symbol* class_name, Handle class_loader, const ClassLoadInfo&amp; cl_info, TRAPS)\r\nInstanceKlass* KlassFactory::create_from_stream(ClassFileStream* stream, Symbol* name, ClassLoaderData* loader_data, const ClassLoadInfo&amp; cl_info, TRAPS)\r\nInstanceKlass* ClassFileParser::create_instance_klass(bool changed_by_loadhook, const ClassInstanceInfo&amp; cl_inst_info, TRAPS)\r\nvoid ClassFileParser::mangle_hidden_class_name(InstanceKlass* const ik)\r\n```\r\n\r\nLet&#39;s refer to the piece of source code: [jdk18/classFileParser.cpp at jdk-18+37 &#183; openjdk/jdk18](https://github.com/openjdk/jdk18/blob/jdk-18+37/src/hotspot/share/classfile/classFileParser.cpp#L5920-L5938):\r\n\r\n```\r\nvoid ClassFileParser::mangle_hidden_class_name(InstanceKlass* const ik) {\r\n  ResourceMark rm;\r\n  // Construct hidden name from _class_name, &quot;+&quot;, and &amp;ik. Note that we can&#39;t\r\n  // use a &#39;/&#39; because that confuses finding the class&#39;s package.  Also, can&#39;t\r\n  // use an illegal char such as &#39;;&#39; because that causes serialization issues\r\n  // and issues with hidden classes that create their own hidden classes.\r\n  char addr_buf[20];\r\n  if (DumpSharedSpaces) {\r\n    // We want stable names for the archived hidden classes (only for static\r\n    // archive for now). Spaces under default_SharedBaseAddress() will be\r\n    // occupied by the archive at run time, so we know that no dynamically\r\n    // loaded InstanceKlass will be placed under there.\r\n    static volatile size_t counter = 0;\r\n    Atomic::cmpxchg(&amp;counter, (size_t)0, Arguments::default_SharedBaseAddress()); // initialize it\r\n    size_t new_id = Atomic::add(&amp;counter, (size_t)1);\r\n    jio_snprintf(addr_buf, 20, SIZE_FORMAT_HEX, new_id);\r\n  } else {\r\n    jio_snprintf(addr_buf, 20, INTPTR_FORMAT, p2i(ik));\r\n  }\r\n```\r\n\r\nPlease, note that the `+` character is used as the separator. \r\n\r\n## Get hidden class name\r\nThe `java.lang.Class#getName()` method includes the character replacement: `+` is replaced with `/`.\r\n\r\nLet&#39;s consider the following execution path:\r\n\r\n```\r\nString java.lang.Class.getName()\r\nString java.lang.Class.initClassName()\r\n\r\n// Native calls below.\r\nJNIEXPORT jstring JNICALL JVM_InitClassName(JNIEnv *env, jclass cls)\r\noop java_lang_Class::name(Handle java_class, TRAPS)\r\nconst char* java_lang_Class::as_external_name(oop java_class)\r\nconst char* Klass::external_name() const\r\nstatic char* convert_hidden_name_to_java(Symbol* name)\r\n```\r\n\r\nLet&#39;s refer to the piece of source code: [jdk18/klass.cpp at jdk-18+37 &#183; openjdk/jdk18](https://github.com/openjdk/jdk18/blob/jdk-18%2B37/src/hotspot/share/oops/klass.cpp#L665-L666):\r\n\r\n```\r\n// Replace the last &#39;+&#39; char with &#39;/&#39;.\r\nstatic char* convert_hidden_name_to_java(Symbol* name) {\r\n```\r\n","title":"In Java, what does the / (i.e., forward slash) mean in object references like $Lambda$15/0x00000008000a9440@32e6e9c3)?","body":"<h1>Summary</h1>\n<p><code>$Lambda$15/0x00000008000a9440</code> is the name of the created hidden class.</p>\n<p>As it will be shown below, <code>0x00000008000a9440</code> is called a suffix.</p>\n<p>The name of the class can be retrieved by calling the <code>java.lang.Class.getName()</code> method.\nTherefore:</p>\n<ul>\n<li>For example, the same class names can be retrieved by a Java program (not through JShell).</li>\n<li>The question does not seem to be about JShell, but about the Java language and the Java Virtual Machine.</li>\n</ul>\n<h2>Example program to show name of hidden class</h2>\n<h3><code>Program</code> class</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package info.brunov.stackoverflow.question72804142;\n\nimport java.util.function.Supplier;\n\npublic final class Program {\n    public static void main(final String args[]) {\n        printRuntimeInformation();\n\n        final Supplier&lt;String&gt; supplier1 = () -&gt; &quot;&quot;;\n        final Supplier&lt;String&gt; supplier2 = () -&gt; &quot;&quot;;\n        final Supplier&lt;String&gt; supplier3 = () -&gt; &quot;&quot;;\n        System.out.println(\n            String.format(&quot;Supplier 1: %s&quot;, supplier1.getClass().getName())\n        );\n        System.out.println(\n            String.format(&quot;Supplier 2: %s&quot;, supplier2.getClass().getName())\n        );\n        System.out.println(\n            String.format(&quot;Supplier 3: %s&quot;, supplier3.getClass().getName())\n        );\n    }\n\n    private static void printRuntimeInformation() {\n        System.out.println(\n            String.format(\n                &quot;Java Virtual Machine specification name: %s&quot;,\n                System.getProperty(&quot;java.vm.specification.name&quot;)\n            )\n        );\n        System.out.println(\n            String.format(\n                &quot;Java Virtual Machine specification version: %s&quot;,\n                System.getProperty(&quot;java.vm.specification.version&quot;)\n            )\n        );\n        System.out.println(\n            String.format(\n                &quot;Java Virtual Machine specification vendor: %s&quot;,\n                System.getProperty(&quot;java.vm.specification.vendor&quot;)\n            )\n        );\n        System.out.println(\n            String.format(\n                &quot;Java Virtual Machine implementation name: %s&quot;,\n                System.getProperty(&quot;java.vm.name&quot;)\n            )\n        );\n        System.out.println(\n            String.format(\n                &quot;Java Virtual Machine implementation version: %s&quot;,\n                System.getProperty(&quot;java.vm.version&quot;)\n            )\n        );\n        System.out.println(\n            String.format(\n                &quot;Java Virtual Machine implementation vendor: %s&quot;,\n                System.getProperty(&quot;java.vm.vendor&quot;)\n            )\n        );\n    }\n}\n</code></pre>\n<h3>Program output</h3>\n<pre><code>Java Virtual Machine specification name: Java Virtual Machine Specification\nJava Virtual Machine specification version: 18\nJava Virtual Machine specification vendor: Oracle Corporation\nJava Virtual Machine implementation name: OpenJDK 64-Bit Server VM\nJava Virtual Machine implementation version: 18.0.1-ea+10-Debian-1\nJava Virtual Machine implementation vendor: Debian\nSupplier 1: info.brunov.stackoverflow.question72804142.Program$$Lambda$18/0x0000000800c031f0\nSupplier 2: info.brunov.stackoverflow.question72804142.Program$$Lambda$19/0x0000000800c033f8\nSupplier 3: info.brunov.stackoverflow.question72804142.Program$$Lambda$20/0x0000000800c03600\n</code></pre>\n<h1>Documentation references</h1>\n<h2>JEP 371: Hidden Classes</h2>\n<p>The hidden classes have been introduced since JDK 15.\nFor additional details, please, refer to the JEP: <a href=\"https://openjdk.org/jeps/371\" rel=\"noreferrer\">JEP 371: Hidden Classes</a>.</p>\n<p>Here is an excerpt from the JEP on the hidden class names:</p>\n<blockquote>\n<p>The major difference in how a hidden class is created lies in the name it is given. <strong>A hidden class is not anonymous.</strong> It has a name that is available via <code>Class::getName</code> and may be shown in diagnostics (such as the output of <code>java -verbose:class</code>), in JVM TI class loading events, in JFR events, and in stack traces. However, the name has a sufficiently unusual form that it effectively makes the class invisible to all other classes. The name is the concatenation of:</p>\n<ol>\n<li>The binary name in internal form (JVMS 4.2.1) specified by <code>this_class</code> in the <code>ClassFile</code> structure, say <code>A/B/C</code>;</li>\n<li>The <code>'.'</code> character; and</li>\n<li>An unqualified name (JVMS 4.2.2) that is chosen by the JVM implementation.</li>\n</ol>\n<p>For example, if <code>this_class</code> specifies <code>com/example/Foo</code> (the internal form of the binary name <code>com.example.Foo</code>), then a hidden class derived from the <code>ClassFile</code> structure may be named <code>com/example/Foo.1234</code>. This string is neither a binary name nor the internal form of a binary name.</p>\n<p>Given a hidden class whose name is <code>A/B/C.x</code>, the result of <code>Class::getName</code> is the concatenation of:</p>\n<ol>\n<li>The binary name <code>A.B.C</code> (obtained by taking <code>A/B/C</code> and replacing each <code>'/'</code> with <code>'.'</code>);</li>\n<li>The '/' character; and</li>\n<li>The unqualified name <code>x</code>.</li>\n</ol>\n<p>For example, if a hidden class is named <code>com/example/Foo.1234</code>, then the result of <code>Class::getName</code> is <code>com.example.Foo/1234</code>. Again, this string is neither a binary name nor the internal form of a binary name.</p>\n<p>The namespace of hidden classes is disjoint from the namespace of normal classes. Given a <code>ClassFile</code> structure where <code>this_class</code> specifies <code>com/example/Foo/1234</code>, invoking <code>cl.defineClass(&quot;com.example.Foo.1234&quot;, bytes, ...)</code> merely results in a normal class named <code>com.example.Foo.1234</code>, distinct from the hidden class named <code>com.example.Foo/1234</code>. It is impossible to create a normal class named <code>com.example.Foo/1234</code> because <code>cl.defineClass(&quot;com.example.Foo/1234&quot;, bytes, ...)</code> will reject the string argument as being not a binary name.</p>\n</blockquote>\n<h2>Javadoc: <code>java.lang.Class#getName()</code> method</h2>\n<p>Let's refer to the method documentation: <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Class.html#getName()\" rel=\"noreferrer\">Class (Java SE 15 &amp; JDK 15)</a>.</p>\n<p>An excerpt from the documentation:</p>\n<blockquote>\n<p>public <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html\" rel=\"noreferrer\" title=\"class in java.lang\">String</a> getName()</p>\n<p>Returns the name of the entity (class, interface, array class, primitive type, or void) represented by this <code>Class</code> object.</p>\n<p>If this <code>Class</code> object represents a class or interface, not an array class, then:</p>\n<ul>\n<li>If the class or interface is not <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Class.html#isHidden()\" rel=\"noreferrer\">hidden</a>, then the <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/ClassLoader.html#binary-name\" rel=\"noreferrer\">binary name</a> of the class or interface is returned.</li>\n<li>If the class or interface is hidden, then the result is a string of the form: <code>N + '/' + &lt;suffix&gt;</code> where <code>N</code> is the <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/ClassLoader.html#binary-name\" rel=\"noreferrer\">binary name</a> indicated by the <code>class</code> file passed to <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte%5B%5D,boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)\" rel=\"noreferrer\"><code>Lookup::defineHiddenClass</code></a>, and <code>&lt;suffix&gt;</code> is an unqualified name.</li>\n</ul>\n</blockquote>\n<h1>Implementation details: OpenJDK Java Virtual Machine: Hidden class name</h1>\n<h2>Introduction</h2>\n<p>Let's consider the source code of OpenJDK 18.</p>\n<p>Let's refer to the tag: <a href=\"https://github.com/openjdk/jdk18/tree/jdk-18%2B37\" rel=\"noreferrer\">openjdk/jdk18 at jdk-18+37</a>.</p>\n<p>Please, note that:</p>\n<ul>\n<li>The below execution paths are theoretical: I am using the mentioned source code tag.</li>\n<li>The below call stacks are real: I am using OpenJDK <code>18.0.1-ea+10-Debian-1</code>.</li>\n</ul>\n<h2>Hidden class name mangling</h2>\n<p>Hidden class creation (the <code>java.lang.invoke.MethodHandles.Lookup.defineHiddenClass()</code> method) includes the mangling of its name.</p>\n<p>Let's consider the following call stack:</p>\n<pre><code>&quot;main@1&quot; prio=5 tid=0x1 nid=NA runnable\n  java.lang.Thread.State: RUNNABLE\n      at java.lang.System$2.defineClass(System.java:2346)\n      at java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2432)\n      at java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClassAsLookup(MethodHandles.java:2413)\n      at java.lang.invoke.MethodHandles$Lookup.defineHiddenClass(MethodHandles.java:2119)\n      at java.lang.invoke.InnerClassLambdaMetafactory.generateInnerClass(InnerClassLambdaMetafactory.java:385)\n      at java.lang.invoke.InnerClassLambdaMetafactory.spinInnerClass(InnerClassLambdaMetafactory.java:293)\n      at java.lang.invoke.InnerClassLambdaMetafactory.buildCallSite(InnerClassLambdaMetafactory.java:228)\n      at java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:341)\n      at java.lang.invoke.DirectMethodHandle$Holder.invokeStatic(DirectMethodHandle$Holder:-1)\n      at java.lang.invoke.Invokers$Holder.invokeExact_MT(Invokers$Holder:-1)\n      at java.lang.invoke.BootstrapMethodInvoker.invoke(BootstrapMethodInvoker.java:134)\n      at java.lang.invoke.CallSite.makeSite(CallSite.java:315)\n      at java.lang.invoke.MethodHandleNatives.linkCallSiteImpl(MethodHandleNatives.java:279)\n      at java.lang.invoke.MethodHandleNatives.linkCallSite(MethodHandleNatives.java:269)\n      at info.brunov.stackoverflow.question72804142.Program.main(Program.java:9)\n</code></pre>\n<p>Then let's consider the following execution path as <strong>the continuation of the call stack</strong>:</p>\n<pre><code>Class&lt;?&gt; java.lang.ClassLoader#defineClass0(ClassLoader loader, Class&lt;?&gt; lookup, String name, byte[] b, int off, int len, ProtectionDomain pd, boolean initialize, int flags, Object classData)\n\n// Native calls below.\njclass Unsafe_DefineClass0(JNIEnv *env, jobject unsafe, jstring name, jbyteArray data, int offset, int length, jobject loader, jobject pd)\njclass Unsafe_DefineClass_impl(JNIEnv *env, jstring name, jbyteArray data, int offset, int length, jobject loader, jobject pd)\nJNIEXPORT jclass JNICALL\njclass JVM_DefineClass(JNIEnv *env, const char *name, jobject loader, const jbyte *buf, jsize len, jobject pd)\njclass jvm_define_class_common(const char *name, jobject loader, const jbyte *buf, jsize len, jobject pd, const char *source, TRAPS)\nInstanceKlass* SystemDictionary::resolve_from_stream(ClassFileStream* st, Symbol* class_name, Handle class_loader, const ClassLoadInfo&amp; cl_info, TRAPS)\nInstanceKlass* SystemDictionary::resolve_hidden_class_from_stream(ClassFileStream* st, Symbol* class_name, Handle class_loader, const ClassLoadInfo&amp; cl_info, TRAPS)\nInstanceKlass* KlassFactory::create_from_stream(ClassFileStream* stream, Symbol* name, ClassLoaderData* loader_data, const ClassLoadInfo&amp; cl_info, TRAPS)\nInstanceKlass* ClassFileParser::create_instance_klass(bool changed_by_loadhook, const ClassInstanceInfo&amp; cl_inst_info, TRAPS)\nvoid ClassFileParser::mangle_hidden_class_name(InstanceKlass* const ik)\n</code></pre>\n<p>Let's refer to the piece of source code: <a href=\"https://github.com/openjdk/jdk18/blob/jdk-18+37/src/hotspot/share/classfile/classFileParser.cpp#L5920-L5938\" rel=\"noreferrer\">jdk18/classFileParser.cpp at jdk-18+37 · openjdk/jdk18</a>:</p>\n<pre><code>void ClassFileParser::mangle_hidden_class_name(InstanceKlass* const ik) {\n  ResourceMark rm;\n  // Construct hidden name from _class_name, &quot;+&quot;, and &amp;ik. Note that we can't\n  // use a '/' because that confuses finding the class's package.  Also, can't\n  // use an illegal char such as ';' because that causes serialization issues\n  // and issues with hidden classes that create their own hidden classes.\n  char addr_buf[20];\n  if (DumpSharedSpaces) {\n    // We want stable names for the archived hidden classes (only for static\n    // archive for now). Spaces under default_SharedBaseAddress() will be\n    // occupied by the archive at run time, so we know that no dynamically\n    // loaded InstanceKlass will be placed under there.\n    static volatile size_t counter = 0;\n    Atomic::cmpxchg(&amp;counter, (size_t)0, Arguments::default_SharedBaseAddress()); // initialize it\n    size_t new_id = Atomic::add(&amp;counter, (size_t)1);\n    jio_snprintf(addr_buf, 20, SIZE_FORMAT_HEX, new_id);\n  } else {\n    jio_snprintf(addr_buf, 20, INTPTR_FORMAT, p2i(ik));\n  }\n</code></pre>\n<p>Please, note that the <code>+</code> character is used as the separator.</p>\n<h2>Get hidden class name</h2>\n<p>The <code>java.lang.Class#getName()</code> method includes the character replacement: <code>+</code> is replaced with <code>/</code>.</p>\n<p>Let's consider the following execution path:</p>\n<pre><code>String java.lang.Class.getName()\nString java.lang.Class.initClassName()\n\n// Native calls below.\nJNIEXPORT jstring JNICALL JVM_InitClassName(JNIEnv *env, jclass cls)\noop java_lang_Class::name(Handle java_class, TRAPS)\nconst char* java_lang_Class::as_external_name(oop java_class)\nconst char* Klass::external_name() const\nstatic char* convert_hidden_name_to_java(Symbol* name)\n</code></pre>\n<p>Let's refer to the piece of source code: <a href=\"https://github.com/openjdk/jdk18/blob/jdk-18%2B37/src/hotspot/share/oops/klass.cpp#L665-L666\" rel=\"noreferrer\">jdk18/klass.cpp at jdk-18+37 · openjdk/jdk18</a>:</p>\n<pre><code>// Replace the last '+' char with '/'.\nstatic char* convert_hidden_name_to_java(Symbol* name) {\n</code></pre>\n"}],"owner":{"account_id":1276558,"reputation":1700,"user_id":1231693,"accept_rate":69,"display_name":"mellow-yellow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":72887915,"answer_count":1,"score":10,"last_activity_date":1657218354,"creation_date":1656042906,"question_id":72738837,"body_markdown":"In JShell, if I do this:\r\n\r\n```java\r\ninterface Foo { String foo(); }\r\n(Foo) () -&gt; &quot;hi&quot;\r\n```\r\n\r\nI get\r\n```java\r\n|  created interface Foo\r\n$2 ==&gt; $Lambda$15/0x00000008000a9440@32e6e9c3\r\n```\r\n\r\nFrom the research below, I know the following:\r\n\r\n$Lambda = [an in-memory reference, as opposed to one persisted to disk by an anonymous inner class (AIC), to the generated bytecode][1]\r\n\r\n$15 = [an object reference to the AIC][2]\r\n\r\n@32e6e9c3 = [the sequential number of the object created--at least, in IntelliJ][3]\r\n\r\nBut what does the `/` (slash) indicate, as in `/0x00000008000a9440`?\r\n\r\n\r\n  [1]: https://blogs.oracle.com/javamagazine/post/behind-the-scenes-how-do-lambda-expressions-really-work-in-java\r\n\r\n  [2]: https://stackoverflow.com/questions/11388840/java-compiled-classes-contain-dollar-signs/11388863#11388863\r\n\r\n  [3]: https://stackoverflow.com/questions/50624284/while-debugging-java-codes-what-does-mean-in-statements-like-instance789-or/50625530#50625530","title":"In Java, what does the / (i.e., forward slash) mean in object references like $Lambda$15/0x00000008000a9440@32e6e9c3)?","body":"<p>In JShell, if I do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Foo { String foo(); }\n(Foo) () -&gt; &quot;hi&quot;\n</code></pre>\n<p>I get</p>\n<pre class=\"lang-java prettyprint-override\"><code>|  created interface Foo\n$2 ==&gt; $Lambda$15/0x00000008000a9440@32e6e9c3\n</code></pre>\n<p>From the research below, I know the following:</p>\n<p>$Lambda = <a href=\"https://blogs.oracle.com/javamagazine/post/behind-the-scenes-how-do-lambda-expressions-really-work-in-java\" rel=\"noreferrer\">an in-memory reference, as opposed to one persisted to disk by an anonymous inner class (AIC), to the generated bytecode</a></p>\n<p>$15 = <a href=\"https://stackoverflow.com/questions/11388840/java-compiled-classes-contain-dollar-signs/11388863#11388863\">an object reference to the AIC</a></p>\n<p>@32e6e9c3 = <a href=\"https://stackoverflow.com/questions/50624284/while-debugging-java-codes-what-does-mean-in-statements-like-instance789-or/50625530#50625530\">the sequential number of the object created--at least, in IntelliJ</a></p>\n<p>But what does the <code>/</code> (slash) indicate, as in <code>/0x00000008000a9440</code>?</p>\n"},{"tags":["java","html","regex","regexp-replace"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1657214989,"post_id":72902041,"comment_id":128763923,"body_markdown":"Mandatory link https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454. More info [Why it&#39;s not possible to use regex to parse HTML/XML: a formal explanation in layman&#39;s terms](https://stackoverflow.com/q/6751105)","body":"Mandatory link <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>. More info <a href=\"https://stackoverflow.com/q/6751105\">Why it&#39;s not possible to use regex to parse HTML/XML: a formal explanation in layman&#39;s terms</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1657215189,"post_id":72902041,"comment_id":128763983,"body_markdown":"You can try `replaceAll(&quot;&lt;^&gt;*&gt;&quot;, &quot;&quot;)`, but you still will have to deal with [character entities](https://html.spec.whatwg.org/multipage/syntax.html#character-references).  [Regular expressions are not suitable for parsing HTML.](https://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg)","body":"You can try <code>replaceAll(&quot;&lt;^&gt;*&gt;&quot;, &quot;&quot;)</code>, but you still will have to deal with <a href=\"https://html.spec.whatwg.org/multipage/syntax.html#character-references\" rel=\"nofollow noreferrer\">character entities</a>.  <a href=\"https://stackoverflow.com/questions/701166/can-you-provide-some-examples-of-why-it-is-hard-to-parse-xml-and-html-with-a-reg\">Regular expressions are not suitable for parsing HTML.</a>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1657220580,"post_id":72902041,"comment_id":128765653,"body_markdown":"`html.replaceAll(&quot;&lt;.+?&gt;&quot;, &quot;&quot;);`","body":"<code>html.replaceAll(&quot;&lt;.+?&gt;&quot;, &quot;&quot;);</code>"},{"owner":{"account_id":7921096,"reputation":4183,"user_id":6036546,"display_name":"Besworks"},"score":0,"creation_date":1657222047,"post_id":72902041,"comment_id":128766117,"body_markdown":"Is there any particular reason this has to be done using Java? With access to the DOM you could simply do something like this: `[...document.querySelectorAll(&#39;tr.list.odd td&#39;)].map(td =&gt; td.textContent).join(&#39;\\n&#39;);` which will return the exact output that you&#39;re looking for.","body":"Is there any particular reason this has to be done using Java? With access to the DOM you could simply do something like this: <code>[...document.querySelectorAll(&#39;tr.list.odd td&#39;)].map(td =&gt; td.textContent).join(&#39;\\n&#39;);</code> which will return the exact output that you&#39;re looking for."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1657216299,"creation_date":1657216299,"answer_id":72902251,"question_id":72902041,"body_markdown":"Use a proper HTML-parser like [Jsoup][1], instead of string manipilation or regex. Jsoup provides a very convenient API for extracting and manipulating HTML data and is intuitive to work with. Using Jsoup your code could look like:\r\n\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.select.Elements;\r\n    \r\n    public class Example2 {\r\n        public static void main(String[] args) {\r\n            String html =\r\n                      &quot;&lt;html&gt;\\n&quot;\r\n                    + &quot;&lt;head&gt;&lt;/head&gt;&quot;\r\n                    + &quot;&lt;body&gt;&quot;\r\n                    + &quot;  &lt;table&gt;&quot;\r\n                    + &quot;     &lt;tr class=&#39;list odd&#39;&gt;\\n&quot;\r\n                    + &quot;        &lt;td class=\\&quot;list\\&quot; align=\\&quot;center\\&quot;&gt;Do&lt;/td&gt;\\n&quot;\r\n                    + &quot;        &lt;td class=\\&quot;list\\&quot; align=\\&quot;center\\&quot;&gt;7.7.&lt;/td&gt;&lt;td class=\\&quot;list\\&quot; align=\\&quot;center\\&quot;&gt;3 - 4&lt;/td&gt;\\n&quot;\r\n                    + &quot;        &lt;td class=\\&quot;list\\&quot; align=\\&quot;center\\&quot;&gt;---&lt;/td&gt;\\n&quot;\r\n                    + &quot;        &lt;td class=\\&quot;list\\&quot; align=\\&quot;center\\&quot;&gt;&lt;s&gt;Q1e14&lt;/s&gt;&lt;/td&gt;\\n&quot;\r\n                    + &quot;        &lt;td class=\\&quot;list\\&quot; align=\\&quot;center\\&quot;&gt;Arbeitsauftrag:&lt;/td&gt;\\n&quot;\r\n                    + &quot;        &lt;td class=\\&quot;list\\&quot; align=\\&quot;center\\&quot;&gt;entf&#228;llt&lt;/td&gt;&lt;/tr&gt;\\n&quot;\r\n                    + &quot;   &lt;/table&gt;&quot;\r\n                    + &quot;&lt;/body&gt;\\n&quot;\r\n                    + &quot;&lt;/html&gt;&quot;;\r\n    \r\n            Document doc = Jsoup.parse(html);\r\n    \r\n            Elements tds = doc.select(&quot;td&quot;);\r\n            tds.forEach(td -&gt; System.out.println(td.text()));\r\n        }\r\n    }\r\n\r\noutput:\r\n\r\n    Do\r\n    7.7.\r\n    3 - 4\r\n    ---\r\n    Q1e14\r\n    Arbeitsauftrag:\r\n    entf&#228;llt\r\n\r\nMaven repo:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n        &lt;version&gt;1.15.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n  [1]: https://jsoup.org/","title":"How can I use a regex to remove HTML tags from a String?","body":"<p>Use a proper HTML-parser like <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">Jsoup</a>, instead of string manipilation or regex. Jsoup provides a very convenient API for extracting and manipulating HTML data and is intuitive to work with. Using Jsoup your code could look like:</p>\n<pre><code>import org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.select.Elements;\n\npublic class Example2 {\n    public static void main(String[] args) {\n        String html =\n                  &quot;&lt;html&gt;\\n&quot;\n                + &quot;&lt;head&gt;&lt;/head&gt;&quot;\n                + &quot;&lt;body&gt;&quot;\n                + &quot;  &lt;table&gt;&quot;\n                + &quot;     &lt;tr class='list odd'&gt;\\n&quot;\n                + &quot;        &lt;td class=\\&quot;list\\&quot; align=\\&quot;center\\&quot;&gt;Do&lt;/td&gt;\\n&quot;\n                + &quot;        &lt;td class=\\&quot;list\\&quot; align=\\&quot;center\\&quot;&gt;7.7.&lt;/td&gt;&lt;td class=\\&quot;list\\&quot; align=\\&quot;center\\&quot;&gt;3 - 4&lt;/td&gt;\\n&quot;\n                + &quot;        &lt;td class=\\&quot;list\\&quot; align=\\&quot;center\\&quot;&gt;---&lt;/td&gt;\\n&quot;\n                + &quot;        &lt;td class=\\&quot;list\\&quot; align=\\&quot;center\\&quot;&gt;&lt;s&gt;Q1e14&lt;/s&gt;&lt;/td&gt;\\n&quot;\n                + &quot;        &lt;td class=\\&quot;list\\&quot; align=\\&quot;center\\&quot;&gt;Arbeitsauftrag:&lt;/td&gt;\\n&quot;\n                + &quot;        &lt;td class=\\&quot;list\\&quot; align=\\&quot;center\\&quot;&gt;entfällt&lt;/td&gt;&lt;/tr&gt;\\n&quot;\n                + &quot;   &lt;/table&gt;&quot;\n                + &quot;&lt;/body&gt;\\n&quot;\n                + &quot;&lt;/html&gt;&quot;;\n\n        Document doc = Jsoup.parse(html);\n\n        Elements tds = doc.select(&quot;td&quot;);\n        tds.forEach(td -&gt; System.out.println(td.text()));\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Do\n7.7.\n3 - 4\n---\nQ1e14\nArbeitsauftrag:\nentfällt\n</code></pre>\n<p>Maven repo:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n    &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n    &lt;version&gt;1.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":22247857,"reputation":25,"user_id":16481274,"display_name":"RoverKnight"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72902251,"answer_count":1,"score":-1,"last_activity_date":1657217790,"creation_date":1657214887,"question_id":72902041,"body_markdown":"I&#39;m trying to use String.replaceAll(String regex, String replacement) to filter information out of an HTML document, i.e. HTML code. My aim is to remove all &lt;&gt;-brackets and the contents within them. To do this, I want to simply use an empty String (&quot;&quot;) as the replacement String. For example, this:\r\n```\r\n&lt;tr class=&#39;list odd&#39;&gt;\r\n&lt;td class=&quot;list&quot; align=&quot;center&quot;&gt;Do&lt;/td&gt;\r\n&lt;td class=&quot;list&quot; align=&quot;center&quot;&gt;7.7.&lt;/td&gt;&lt;td class=&quot;list&quot; align=&quot;center&quot;&gt;3 - 4&lt;/td&gt;\r\n&lt;td class=&quot;list&quot; align=&quot;center&quot;&gt;---&lt;/td&gt;\r\n&lt;td class=&quot;list&quot; align=&quot;center&quot;&gt;&lt;s&gt;Q1e14&lt;/s&gt;&lt;/td&gt;\r\n&lt;td class=&quot;list&quot; align=&quot;center&quot;&gt;Arbeitsauftrag:&lt;/td&gt;\r\n&lt;td class=&quot;list&quot; align=&quot;center&quot;&gt;entf&#228;llt&lt;/td&gt;&lt;/tr&gt;\r\n```\r\nShould turn into this: \r\n```\r\nDo\r\n7.7.\r\n3 - 4\r\n---\r\nQ1e14\r\nArbeitsauftrag\r\nentf&#228;llt\r\n```\r\nI&#39;m completely new to regex and after watching some tutorials I came up with these regexes:\r\n```\r\n\\u003C([a-zA-Z0-9]|\\s|\\S)+\r\n[\\u003C]([a-zA-Z0-9]|\\s|\\W)+\\u003E\r\n```\r\nI built them using this website: https://regexr.com However, while they at least kind of seem to work there, they both result in a StackOverflowError in my code.\r\n\r\n(Note that my IDE, IntelliJ, automatically makes each backslash into two backslashes. I think this is just adjusting the JavaScript regex to Java, but I could be wrong.)\r\n\r\nTL;DR: How can I replace HTML tags with &lt;&gt;-brackets and their contents with an empty String using replaceAll (or something else if there is an alternative)?","title":"How can I use a regex to remove HTML tags from a String?","body":"<p>I'm trying to use String.replaceAll(String regex, String replacement) to filter information out of an HTML document, i.e. HTML code. My aim is to remove all &lt;&gt;-brackets and the contents within them. To do this, I want to simply use an empty String (&quot;&quot;) as the replacement String. For example, this:</p>\n<pre><code>&lt;tr class='list odd'&gt;\n&lt;td class=&quot;list&quot; align=&quot;center&quot;&gt;Do&lt;/td&gt;\n&lt;td class=&quot;list&quot; align=&quot;center&quot;&gt;7.7.&lt;/td&gt;&lt;td class=&quot;list&quot; align=&quot;center&quot;&gt;3 - 4&lt;/td&gt;\n&lt;td class=&quot;list&quot; align=&quot;center&quot;&gt;---&lt;/td&gt;\n&lt;td class=&quot;list&quot; align=&quot;center&quot;&gt;&lt;s&gt;Q1e14&lt;/s&gt;&lt;/td&gt;\n&lt;td class=&quot;list&quot; align=&quot;center&quot;&gt;Arbeitsauftrag:&lt;/td&gt;\n&lt;td class=&quot;list&quot; align=&quot;center&quot;&gt;entfällt&lt;/td&gt;&lt;/tr&gt;\n</code></pre>\n<p>Should turn into this:</p>\n<pre><code>Do\n7.7.\n3 - 4\n---\nQ1e14\nArbeitsauftrag\nentfällt\n</code></pre>\n<p>I'm completely new to regex and after watching some tutorials I came up with these regexes:</p>\n<pre><code>\\u003C([a-zA-Z0-9]|\\s|\\S)+\n[\\u003C]([a-zA-Z0-9]|\\s|\\W)+\\u003E\n</code></pre>\n<p>I built them using this website: <a href=\"https://regexr.com\" rel=\"nofollow noreferrer\">https://regexr.com</a> However, while they at least kind of seem to work there, they both result in a StackOverflowError in my code.</p>\n<p>(Note that my IDE, IntelliJ, automatically makes each backslash into two backslashes. I think this is just adjusting the JavaScript regex to Java, but I could be wrong.)</p>\n<p>TL;DR: How can I replace HTML tags with &lt;&gt;-brackets and their contents with an empty String using replaceAll (or something else if there is an alternative)?</p>\n"},{"tags":["java","spring","maven","multi-module","hexagonal-architecture"],"answers":[{"tags":[],"owner":{"account_id":2327783,"reputation":88,"user_id":2041844,"display_name":"harishpatarla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657217324,"creation_date":1657217324,"answer_id":72902436,"question_id":71818744,"body_markdown":"Below blog talks all about it. jib-maven-plugin is the easiest option to dockerize your app\r\n\r\nhttps://www.baeldung.com/jib-dockerizing","title":"How can I dockerize multi module Spring app?","body":"<p>Below blog talks all about it. jib-maven-plugin is the easiest option to dockerize your app</p>\n<p><a href=\"https://www.baeldung.com/jib-dockerizing\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jib-dockerizing</a></p>\n"}],"owner":{"account_id":18053900,"reputation":1,"user_id":14826252,"display_name":"Hehor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657217324,"creation_date":1649609754,"question_id":71818744,"body_markdown":"I&#39;m trying to dockerize my multi module application (i&#39;m using hexagonal architecture with Port and Adapters pattern). \r\nHere is the structure of my application: \r\n[App structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pt6Gm.png\r\nMy root pom looks in this way: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Example project&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;domain&lt;/module&gt;\r\n        &lt;module&gt;infrastructure&lt;/module&gt;\r\n        &lt;module&gt;application&lt;/module&gt;\r\n        &lt;module&gt;fwm-launcher&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.5&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n&lt;/project&gt;","title":"How can I dockerize multi module Spring app?","body":"<p>I'm trying to dockerize my multi module application (i'm using hexagonal architecture with Port and Adapters pattern).\nHere is the structure of my application:\n<a href=\"https://i.stack.imgur.com/pt6Gm.png\" rel=\"nofollow noreferrer\">App structure</a></p>\n<p>My root pom looks in this way:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0</p>\n<pre><code>&lt;groupId&gt;org.example&lt;/groupId&gt;\n&lt;artifactId&gt;Example project&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;modules&gt;\n    &lt;module&gt;domain&lt;/module&gt;\n    &lt;module&gt;infrastructure&lt;/module&gt;\n    &lt;module&gt;application&lt;/module&gt;\n    &lt;module&gt;fwm-launcher&lt;/module&gt;\n&lt;/modules&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.5&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n"},{"tags":["java","spring-cloud","spring-cloud-stream","spring-cloud-stream-binder-kafka","spring-messaging"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1657216502,"creation_date":1657211276,"answer_id":72901322,"question_id":72900966,"body_markdown":"You can either set `sync` on the producer binding and the send will wait internally on the future completion, or you can configure a `recordMetadataChannel` to get the results of the send asynchronously.\r\n\r\nhttps://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream-binder-kafka.html#kafka-producer-properties\r\n\r\n&gt;**recordMetadataChannel**\r\n\r\n&gt;The bean name of a `MessageChannel` to which successful send results should be sent; the bean must exist in the application context. The message sent to the channel is the sent message (after conversion, if any) with an additional header `KafkaHeaders.RECORD_METADATA`. The header contains a `RecordMetadata` object provided by the Kafka client; it includes the partition and offset where the record was written in the topic.\r\n\r\n    ResultMetadata meta = \r\n        sendResultMsg.getHeaders().get(KafkaHeaders.RECORD_METADATA, RecordMetadata.class)\r\n\r\n&gt;Failed sends go the producer error channel (if configured); see Error Channels.\r\n\r\nhttps://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream-binder-kafka.html#kafka-error-channels\r\n\r\n__EDIT__\r\n\r\nHere&#39;s an example:\r\n\r\n```properties\r\nspring.cloud.stream.bindings.output-out-0.destination=dest1\r\nspring.cloud.stream.bindings.output-out-0.producer.error-channel-enabled=true\r\nspring.cloud.stream.kafka.bindings.output-out-0.producer.record-metadata-channel=meta\r\nspring.cloud.stream.kafka.bindings.output-out-0.producer.configuration.[max.block.ms]=5000\r\nspring.cloud.stream.kafka.bindings.output-out-0.producer.configuration.[request.timeout.ms]=5000\r\nspring.cloud.stream.kafka.bindings.output-out-0.producer.configuration.[retries]=0\r\n```\r\n```java\r\n@SpringBootApplication\r\npublic class So72900966Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So72900966Application.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tApplicationRunner runner(StreamBridge bridge) {\r\n\t\treturn args -&gt; {\r\n\t\t\tbridge.send(&quot;output-out-0&quot;, &quot;foo&quot;);\r\n\t\t\tSystem.out.println(&quot;Delete topic dest1 from broker; then hit Enter&quot;);\r\n\t\t\tSystem.in.read();\r\n\t\t\tbridge.send(&quot;output-out-0&quot;, &quot;foo&quot;);\r\n\t\t\tThread.sleep(2_000);\r\n\t\t};\r\n\t}\r\n\r\n}\r\n\r\n@Component\r\nclass ResultHandler {\r\n\r\n\t@ServiceActivator(inputChannel = &quot;meta&quot;)\r\n\tvoid meta(Message&lt;?&gt; result) {\r\n\t\tSystem.out.println(result.getHeaders().get(KafkaHeaders.RECORD_METADATA, RecordMetadata.class));\r\n\t}\r\n\r\n\t@ServiceActivator(inputChannel = &quot;errorChannel&quot;)\r\n\tvoid errors(Message&lt;?&gt; error) {\r\n\t\tSystem.out.println(error);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAfter the first result is received:\r\n\r\n    kafka-topics.sh --bootstrap-server localhost:9092 --delete --topic dest1\r\n\r\nThen hit enter.\r\n\r\nResult:\r\n\r\n```\r\nDelete topic dest1 from broker; then hit Enter\r\ndest1-0@0\r\n...\r\nErrorMessage [payload=org.springframework.integration.kafka.support.KafkaSendFailureException: ...\r\n2022-07-07 13:36:19.185 ERROR 11735 --- [ad | producer-1] o.s.k.support.LoggingProducerListener    : Exception thrown when sending a message with key=&#39;null&#39; and payload=&#39;byte[3]&#39; to topic dest1:\r\n\r\norg.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host this topic-partition.\r\n\r\n```","title":"Producer callback in Spring Cloud Stream using StreamBridge","body":"<p>You can either set <code>sync</code> on the producer binding and the send will wait internally on the future completion, or you can configure a <code>recordMetadataChannel</code> to get the results of the send asynchronously.</p>\n<p><a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream-binder-kafka.html#kafka-producer-properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream-binder-kafka.html#kafka-producer-properties</a></p>\n<blockquote>\n<p><strong>recordMetadataChannel</strong></p>\n</blockquote>\n<blockquote>\n<p>The bean name of a <code>MessageChannel</code> to which successful send results should be sent; the bean must exist in the application context. The message sent to the channel is the sent message (after conversion, if any) with an additional header <code>KafkaHeaders.RECORD_METADATA</code>. The header contains a <code>RecordMetadata</code> object provided by the Kafka client; it includes the partition and offset where the record was written in the topic.</p>\n</blockquote>\n<pre><code>ResultMetadata meta = \n    sendResultMsg.getHeaders().get(KafkaHeaders.RECORD_METADATA, RecordMetadata.class)\n</code></pre>\n<blockquote>\n<p>Failed sends go the producer error channel (if configured); see Error Channels.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream-binder-kafka.html#kafka-error-channels\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream-binder-kafka.html#kafka-error-channels</a></p>\n<p><strong>EDIT</strong></p>\n<p>Here's an example:</p>\n<pre><code>spring.cloud.stream.bindings.output-out-0.destination=dest1\nspring.cloud.stream.bindings.output-out-0.producer.error-channel-enabled=true\nspring.cloud.stream.kafka.bindings.output-out-0.producer.record-metadata-channel=meta\nspring.cloud.stream.kafka.bindings.output-out-0.producer.configuration.[max.block.ms]=5000\nspring.cloud.stream.kafka.bindings.output-out-0.producer.configuration.[request.timeout.ms]=5000\nspring.cloud.stream.kafka.bindings.output-out-0.producer.configuration.[retries]=0\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class So72900966Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So72900966Application.class, args);\n    }\n\n    @Bean\n    ApplicationRunner runner(StreamBridge bridge) {\n        return args -&gt; {\n            bridge.send(&quot;output-out-0&quot;, &quot;foo&quot;);\n            System.out.println(&quot;Delete topic dest1 from broker; then hit Enter&quot;);\n            System.in.read();\n            bridge.send(&quot;output-out-0&quot;, &quot;foo&quot;);\n            Thread.sleep(2_000);\n        };\n    }\n\n}\n\n@Component\nclass ResultHandler {\n\n    @ServiceActivator(inputChannel = &quot;meta&quot;)\n    void meta(Message&lt;?&gt; result) {\n        System.out.println(result.getHeaders().get(KafkaHeaders.RECORD_METADATA, RecordMetadata.class));\n    }\n\n    @ServiceActivator(inputChannel = &quot;errorChannel&quot;)\n    void errors(Message&lt;?&gt; error) {\n        System.out.println(error);\n    }\n\n}\n</code></pre>\n<p>After the first result is received:</p>\n<pre><code>kafka-topics.sh --bootstrap-server localhost:9092 --delete --topic dest1\n</code></pre>\n<p>Then hit enter.</p>\n<p>Result:</p>\n<pre><code>Delete topic dest1 from broker; then hit Enter\ndest1-0@0\n...\nErrorMessage [payload=org.springframework.integration.kafka.support.KafkaSendFailureException: ...\n2022-07-07 13:36:19.185 ERROR 11735 --- [ad | producer-1] o.s.k.support.LoggingProducerListener    : Exception thrown when sending a message with key='null' and payload='byte[3]' to topic dest1:\n\norg.apache.kafka.common.errors.UnknownTopicOrPartitionException: This server does not host this topic-partition.\n\n</code></pre>\n"}],"owner":{"account_id":16640195,"reputation":85,"user_id":12025930,"display_name":"victor hugo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1938,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72901322,"answer_count":1,"score":2,"last_activity_date":1657216502,"creation_date":1657209690,"question_id":72900966,"body_markdown":"I&#39;m wondering a way to perform a callback using `StreamBridge`, I want to do something similar to `KafkaTemplate.send` that returns a `ListenableFuture`.\r\n\r\nIs it possible with spring cloud stream to publish some events using kafka binder and use a callback like onSuccess and onFailure?\r\n\r\nexample: `producer.send(record, new callback { ... })`\r\n","title":"Producer callback in Spring Cloud Stream using StreamBridge","body":"<p>I'm wondering a way to perform a callback using <code>StreamBridge</code>, I want to do something similar to <code>KafkaTemplate.send</code> that returns a <code>ListenableFuture</code>.</p>\n<p>Is it possible with spring cloud stream to publish some events using kafka binder and use a callback like onSuccess and onFailure?</p>\n<p>example: <code>producer.send(record, new callback { ... })</code></p>\n"},{"tags":["java","regex","validation"],"comments":[{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":4,"creation_date":1657216495,"post_id":72902268,"comment_id":128764385,"body_markdown":"`Pattern.compile(phoneNumber)` takes *the pattern* to compile. Not the string to match.","body":"<code>Pattern.compile(phoneNumber)</code> takes <i>the pattern</i> to compile. Not the string to match."}],"answers":[{"tags":[],"owner":{"account_id":77251,"reputation":17324,"user_id":220627,"accept_rate":79,"display_name":"Adrian Smith"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657216490,"creation_date":1657216490,"answer_id":72902290,"question_id":72902268,"body_markdown":"The pattern and string you want to match against are the wrong way around. You need:\r\n\r\n    return Pattern.compile(&quot;^[0-9]{9}$&quot;).matcher(phoneNumber).matches();\r\n","title":"Pattern matcher returns false","body":"<p>The pattern and string you want to match against are the wrong way around. You need:</p>\n<pre><code>return Pattern.compile(&quot;^[0-9]{9}$&quot;).matcher(phoneNumber).matches();\n</code></pre>\n"}],"owner":{"account_id":23897722,"reputation":221,"user_id":17896393,"display_name":"Lulex97"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657216490,"creation_date":1657216382,"question_id":72902268,"body_markdown":"I have problem with pattern and matcher.\r\nI have simple student request model where I want to valid phone number (only numbers with 9 digits are allowed):\r\n\r\n    public class StudentRequestBodyModel {\r\n          @NotNull\r\n          private String name;\r\n          @NotNull\r\n          private String surname;\r\n          private Date dateOfBirth;\r\n          @PhoneNumber\r\n          private String phoneNumber;\r\n          private String studentCardID;\r\n    }\r\n\r\nand @PhoneValid interface:\r\n\r\n    @Target(ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Constraint(validatedBy = PhoneNumberValidator.class)\r\n    public @interface PhoneNumber {\r\n        String message() default &quot;Incorrect phone number. Only 9 digits allowed&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }\r\n\r\nPhoneNumberValidator:\r\n\r\n    public class PhoneNumberValidator implements ConstraintValidator&lt;PhoneNumber, String&gt; {\r\n\r\n    @Override\r\n    public boolean isValid(String phoneNumber, ConstraintValidatorContext context) {\r\n        return Pattern.compile(phoneNumber).matcher(&quot;^[0-9]{9}$&quot;).matches();\r\n    }\r\n}\r\n\r\nWhen I check that regex on regexr.com it works, matches only number with 9 digits but when I send it by postman, for example &quot;123456789&quot; I am getting error.","title":"Pattern matcher returns false","body":"<p>I have problem with pattern and matcher.\nI have simple student request model where I want to valid phone number (only numbers with 9 digits are allowed):</p>\n<pre><code>public class StudentRequestBodyModel {\n      @NotNull\n      private String name;\n      @NotNull\n      private String surname;\n      private Date dateOfBirth;\n      @PhoneNumber\n      private String phoneNumber;\n      private String studentCardID;\n}\n</code></pre>\n<p>and @PhoneValid interface:</p>\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = PhoneNumberValidator.class)\npublic @interface PhoneNumber {\n    String message() default &quot;Incorrect phone number. Only 9 digits allowed&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>PhoneNumberValidator:</p>\n<pre><code>public class PhoneNumberValidator implements ConstraintValidator&lt;PhoneNumber, String&gt; {\n\n@Override\npublic boolean isValid(String phoneNumber, ConstraintValidatorContext context) {\n    return Pattern.compile(phoneNumber).matcher(&quot;^[0-9]{9}$&quot;).matches();\n}\n</code></pre>\n<p>}</p>\n<p>When I check that regex on regexr.com it works, matches only number with 9 digits but when I send it by postman, for example &quot;123456789&quot; I am getting error.</p>\n"},{"tags":["java","spring-boot","cucumber","cucumber-spring"],"answers":[{"tags":[],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657214346,"creation_date":1657214346,"answer_id":72901940,"question_id":72901939,"body_markdown":"After some investigations in debug mode, I finally understood. I believe it&#39;s a change brought in the 7.4.1 cucumber version, as it&#39;s not happening in previous versions. I&#39;ve reported it here : https://github.com/cucumber/cucumber-jvm/issues/2584 \r\n\r\nBasically, my glue code is throwing an exception when it gets instantiated. But the exception is not caught by Cucumber, and instead a quite unrelated error message gets logged. \r\n\r\nI understood this when I realized I was not entering the code defined for the steps in my glue code class. Then, I realized I was entering the glue code constructor, but an exception was thrown from there.  And this exception gets swallowed silently by Cucumber, which drove me in the wrong direction for longer than expected.","title":"CucumberBackendException: No test instance","body":"<p>After some investigations in debug mode, I finally understood. I believe it's a change brought in the 7.4.1 cucumber version, as it's not happening in previous versions. I've reported it here : <a href=\"https://github.com/cucumber/cucumber-jvm/issues/2584\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/issues/2584</a></p>\n<p>Basically, my glue code is throwing an exception when it gets instantiated. But the exception is not caught by Cucumber, and instead a quite unrelated error message gets logged.</p>\n<p>I understood this when I realized I was not entering the code defined for the steps in my glue code class. Then, I realized I was entering the glue code constructor, but an exception was thrown from there.  And this exception gets swallowed silently by Cucumber, which drove me in the wrong direction for longer than expected.</p>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72901940,"answer_count":1,"score":1,"last_activity_date":1657216064,"creation_date":1657214346,"question_id":72901939,"body_markdown":"I have a Spring Boot 2.7.1 (but same happens with 2.6.4) project using Cucumber BOM 7.4.1.\r\n\r\n        testImplementation(platform(&quot;io.cucumber:cucumber-bom:7.4.1&quot;))\r\n        testImplementation group: &#39;io.cucumber&#39;, name: &#39;cucumber-java8&#39;\r\n        testImplementation group: &#39;io.cucumber&#39;, name: &#39;cucumber-spring&#39;\r\n        testImplementation group: &#39;io.cucumber&#39;, name: &#39;cucumber-junit-platform-engine&#39;\r\n\r\n\r\nMy entry point is : \r\n\r\n\r\n    @Suite\r\n    @IncludeEngines(&quot;cucumber&quot;)\r\n    @SelectClasspathResource(&quot;features&quot;)\r\n    @ConfigurationParameters({\r\n        @ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;my.project.cucumber&quot;),\r\n        @ConfigurationParameter(key = FILTER_TAGS_PROPERTY_NAME, value = &quot;@Dwh&quot;),\r\n        @ConfigurationParameter(key = JUNIT_PLATFORM_NAMING_STRATEGY_PROPERTY_NAME, value = &quot;long&quot;),\r\n        @ConfigurationParameter(key = PLUGIN_PUBLISH_QUIET_PROPERTY_NAME, value = &quot;true&quot;),\r\n        @ConfigurationParameter(key = PLUGIN_PROPERTY_NAME, value = &quot;json:build/cucumber/cucumber.json&quot;)\r\n    })\r\n    public class RunCucumberDwhTest {\r\n    \r\n    }\r\n\r\nMy glue code : \r\n\r\n\r\n    @SpringBootTest(classes = DwhE2EApplication.class, webEnvironment = RANDOM_PORT)\r\n    @ContextConfiguration(classes = DwhE2EApplication.class)\r\n    @CucumberContextConfiguration\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class DwhStepDef implements En {\r\n\r\n      ....\r\n    }\r\n\r\n\r\n\r\nWhen running the Cucumber tests, I get this error : \r\n\r\n&gt; io.cucumber.core.backend.CucumberBackendException: No test instance\r\n&gt; \tat\r\n&gt; app//io.cucumber.spring.TestContextAdaptor.notifyTestContextManagerAboutAfterTestMethod(TestContextAdaptor.java:129)\r\n&gt; \tat\r\n&gt; app//io.cucumber.spring.TestContextAdaptor.stop(TestContextAdaptor.java:109)\r\n&gt; \tat app//io.cucumber.spring.SpringFactory.stop(SpringFactory.java:159)\r\n&gt; \tat\r\n&gt; app//io.cucumber.core.runner.Runner.disposeBackendWorlds(Runner.java:156)\r\n&gt; \tat app//io.cucumber.core.runner.Runner.runPickle(Runner.java:78) \tat\r\n&gt; app//io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.lambda$runTestCase$4(CucumberEngineExecutionContext.java:112)\r\n&gt; \tat\r\n&gt; app//io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:129)\r\n&gt; \tat\r\n&gt; app//io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\r\n&gt; \tat\r\n&gt; app//io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:129)\r\n&gt; \tat\r\n&gt; app//io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runTestCase(CucumberEngineExecutionContext.java:109)\r\n&gt; \tat\r\n&gt; app//io.cucumber.junit.platform.engine.PickleDescriptor.execute(PickleDescriptor.java:100)\r\n&gt; \tat\r\n&gt; app//io.cucumber.junit.platform.engine.PickleDescriptor.execute(PickleDescriptor.java:29)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n&gt; \tat java.base@17.0.1/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n&gt; \tat java.base@17.0.1/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:59)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:130)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\r\n&gt; \tat\r\n&gt; java.base@17.0.1/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n&gt; \tat\r\n&gt; java.base@17.0.1/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n&gt; \tat\r\n&gt; java.base@17.0.1/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n&gt; \tat\r\n&gt; java.base@17.0.1/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845)\r\n&gt; \tat\r\n&gt; java.base@17.0.1/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n&gt; \tat\r\n&gt; java.base@17.0.1/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n&gt; \tat\r\n&gt; java.base@17.0.1/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n&gt; \tat\r\n&gt; java.base@17.0.1/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n&gt; \tat\r\n&gt; java.base@17.0.1/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n&gt; \tat\r\n&gt; java.base@17.0.1/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n&gt; \tat\r\n&gt; app//org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n&gt; \tat\r\n&gt; java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n&gt; \tat\r\n&gt; java.base@17.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base@17.0.1/java.lang.reflect.Method.invoke(Method.java:568)\r\n&gt; \tat\r\n&gt; org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n&gt; \tat\r\n&gt; org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n&gt; \tat\r\n&gt; org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n&gt; \tat\r\n&gt; org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n&gt; \tat jdk.proxy2/jdk.proxy2.$Proxy5.stop(Unknown Source) \tat\r\n&gt; org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n&gt; \tat\r\n&gt; org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n&gt; \tat\r\n&gt; org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n&gt; \tat\r\n&gt; org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n&gt; \tat\r\n&gt; org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n&gt; \tat\r\n&gt; app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n&gt; \tat\r\n&gt; app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n&gt; Caused by: java.lang.IllegalStateException: No test instance \tat\r\n&gt; org.springframework.util.Assert.state(Assert.java:76) \tat\r\n&gt; org.springframework.test.context.support.DefaultTestContext.getTestInstance(DefaultTestContext.java:160)\r\n&gt; \tat\r\n&gt; io.cucumber.spring.TestContextAdaptor.notifyTestContextManagerAboutAfterTestMethod(TestContextAdaptor.java:125)\r\n&gt; \t... 89 more\r\n\r\n\r\nI can see in the logs that my Spring Context gets loaded, the in-memory DB gets bootstrapped... it fails after. \r\n\r\nIn debug mode, I see that the Given/When/Then steps are captured, so my feature file is found for sure.\r\n\r\n\r\nActually, it seems to fail when Cucumber performs some cleanup after a step executes : \r\n\r\nat some point in `io.cucumber.spring.TestContextAdaptor` , we have this method that gets called : \r\n\r\n    private void notifyTestContextManagerAboutAfterTestMethod() {\r\n        try {\r\n            Object delegateTestInstance = delegate.getTestContext().getTestInstance();\r\n            Method dummyMethod = TestContextAdaptor.class.getMethod(&quot;cucumberDoesNotHaveASingleTestMethod&quot;);\r\n            delegate.afterTestMethod(delegateTestInstance, dummyMethod, null);\r\n        } catch (Exception e) {\r\n            throw new CucumberBackendException(e.getMessage(), e);\r\n        }\r\n    }\r\n\r\n it&#39;s the  `delegate.getTestContext().getTestInstance()` that throws the exception, as the `testInstance` is null. \r\n\r\n\r\nany idea why this happens ? \r\n\r\n","title":"CucumberBackendException: No test instance","body":"<p>I have a Spring Boot 2.7.1 (but same happens with 2.6.4) project using Cucumber BOM 7.4.1.</p>\n<pre><code>    testImplementation(platform(&quot;io.cucumber:cucumber-bom:7.4.1&quot;))\n    testImplementation group: 'io.cucumber', name: 'cucumber-java8'\n    testImplementation group: 'io.cucumber', name: 'cucumber-spring'\n    testImplementation group: 'io.cucumber', name: 'cucumber-junit-platform-engine'\n</code></pre>\n<p>My entry point is :</p>\n<pre><code>@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;features&quot;)\n@ConfigurationParameters({\n    @ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;my.project.cucumber&quot;),\n    @ConfigurationParameter(key = FILTER_TAGS_PROPERTY_NAME, value = &quot;@Dwh&quot;),\n    @ConfigurationParameter(key = JUNIT_PLATFORM_NAMING_STRATEGY_PROPERTY_NAME, value = &quot;long&quot;),\n    @ConfigurationParameter(key = PLUGIN_PUBLISH_QUIET_PROPERTY_NAME, value = &quot;true&quot;),\n    @ConfigurationParameter(key = PLUGIN_PROPERTY_NAME, value = &quot;json:build/cucumber/cucumber.json&quot;)\n})\npublic class RunCucumberDwhTest {\n\n}\n</code></pre>\n<p>My glue code :</p>\n<pre><code>@SpringBootTest(classes = DwhE2EApplication.class, webEnvironment = RANDOM_PORT)\n@ContextConfiguration(classes = DwhE2EApplication.class)\n@CucumberContextConfiguration\n@ActiveProfiles(&quot;test&quot;)\npublic class DwhStepDef implements En {\n\n  ....\n}\n</code></pre>\n<p>When running the Cucumber tests, I get this error :</p>\n<blockquote>\n<p>io.cucumber.core.backend.CucumberBackendException: No test instance\nat\napp//io.cucumber.spring.TestContextAdaptor.notifyTestContextManagerAboutAfterTestMethod(TestContextAdaptor.java:129)\nat\napp//io.cucumber.spring.TestContextAdaptor.stop(TestContextAdaptor.java:109)\nat app//io.cucumber.spring.SpringFactory.stop(SpringFactory.java:159)\nat\napp//io.cucumber.core.runner.Runner.disposeBackendWorlds(Runner.java:156)\nat app//io.cucumber.core.runner.Runner.runPickle(Runner.java:78)    at\napp//io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.lambda$runTestCase$4(CucumberEngineExecutionContext.java:112)\nat\napp//io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:129)\nat\napp//io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)\nat\napp//io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:129)\nat\napp//io.cucumber.junit.platform.engine.CucumberEngineExecutionContext.runTestCase(CucumberEngineExecutionContext.java:109)\nat\napp//io.cucumber.junit.platform.engine.PickleDescriptor.execute(PickleDescriptor.java:100)\nat\napp//io.cucumber.junit.platform.engine.PickleDescriptor.execute(PickleDescriptor.java:29)\nat\napp//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\nat\napp//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat\napp//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat\napp//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat\napp//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat\napp//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat\napp//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat\napp//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base@17.0.1/java.util.ArrayList.forEach(ArrayList.java:1511)\nat\napp//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat\napp//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat\napp//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat\napp//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat\napp//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat\napp//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat\napp//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat\napp//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat\napp//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base@17.0.1/java.util.ArrayList.forEach(ArrayList.java:1511)\nat\napp//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat\napp//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat\napp//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat\napp//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat\napp//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat\napp//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat\napp//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat\napp//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat\napp//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat\napp//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\nat\napp//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat\napp//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\nat\napp//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\nat\napp//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat\napp//org.junit.platform.suite.engine.SuiteLauncher.execute(SuiteLauncher.java:59)\nat\napp//org.junit.platform.suite.engine.SuiteTestDescriptor.execute(SuiteTestDescriptor.java:130)\nat\napp//org.junit.platform.suite.engine.SuiteTestEngine.lambda$execute$0(SuiteTestEngine.java:73)\nat\njava.base@17.0.1/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\nat\njava.base@17.0.1/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\nat\njava.base@17.0.1/java.util.Iterator.forEachRemaining(Iterator.java:133)\nat\njava.base@17.0.1/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845)\nat\njava.base@17.0.1/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\nat\njava.base@17.0.1/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\nat\njava.base@17.0.1/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\nat\njava.base@17.0.1/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\nat\njava.base@17.0.1/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat\njava.base@17.0.1/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\nat\napp//org.junit.platform.suite.engine.SuiteTestEngine.execute(SuiteTestEngine.java:73)\nat\napp//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\nat\napp//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat\napp//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat\napp//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat\napp//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat\napp//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\nat\napp//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\nat\napp//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\nat\napp//org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\nat\norg.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\nat\norg.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\nat\norg.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\nat\norg.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\nat\njava.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base@17.0.1/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat\njava.base@17.0.1/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base@17.0.1/java.lang.reflect.Method.invoke(Method.java:568)\nat\norg.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\nat\norg.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\nat\norg.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\nat\norg.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\nat jdk.proxy2/jdk.proxy2.$Proxy5.stop(Unknown Source)   at\norg.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\nat\norg.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\nat\norg.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\nat\norg.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\nat\norg.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\nat\norg.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\nat\norg.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\nat\napp//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\nat\napp//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: java.lang.IllegalStateException: No test instance  at\norg.springframework.util.Assert.state(Assert.java:76)     at\norg.springframework.test.context.support.DefaultTestContext.getTestInstance(DefaultTestContext.java:160)\nat\nio.cucumber.spring.TestContextAdaptor.notifyTestContextManagerAboutAfterTestMethod(TestContextAdaptor.java:125)\n... 89 more</p>\n</blockquote>\n<p>I can see in the logs that my Spring Context gets loaded, the in-memory DB gets bootstrapped... it fails after.</p>\n<p>In debug mode, I see that the Given/When/Then steps are captured, so my feature file is found for sure.</p>\n<p>Actually, it seems to fail when Cucumber performs some cleanup after a step executes :</p>\n<p>at some point in <code>io.cucumber.spring.TestContextAdaptor</code> , we have this method that gets called :</p>\n<pre><code>private void notifyTestContextManagerAboutAfterTestMethod() {\n    try {\n        Object delegateTestInstance = delegate.getTestContext().getTestInstance();\n        Method dummyMethod = TestContextAdaptor.class.getMethod(&quot;cucumberDoesNotHaveASingleTestMethod&quot;);\n        delegate.afterTestMethod(delegateTestInstance, dummyMethod, null);\n    } catch (Exception e) {\n        throw new CucumberBackendException(e.getMessage(), e);\n    }\n}\n</code></pre>\n<p>it's the  <code>delegate.getTestContext().getTestInstance()</code> that throws the exception, as the <code>testInstance</code> is null.</p>\n<p>any idea why this happens ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1657201695,"post_id":72898919,"comment_id":128758606,"body_markdown":"Did you mean `javac main.java`?","body":"Did you mean <code>javac main.java</code>?"},{"owner":{"account_id":14418827,"reputation":379,"user_id":10415492,"display_name":"Omaro_IB"},"score":0,"creation_date":1657201820,"post_id":72898919,"comment_id":128758656,"body_markdown":"@MCEmperor yes, just edited now","body":"@MCEmperor yes, just edited now"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1657201848,"post_id":72898919,"comment_id":128758668,"body_markdown":"Also, make sure to place your files in the correct directory (`./filetest`).","body":"Also, make sure to place your files in the correct directory (<code>.&#47;filetest</code>)."},{"owner":{"account_id":14418827,"reputation":379,"user_id":10415492,"display_name":"Omaro_IB"},"score":0,"creation_date":1657201967,"post_id":72898919,"comment_id":128758724,"body_markdown":"@MCEmperor Just moved the files, the error still pops up","body":"@MCEmperor Just moved the files, the error still pops up"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1657202176,"post_id":72898919,"comment_id":128758831,"body_markdown":"Since you&#39;re using packages, you&#39;ll need an actual directory structure that is associated with them (i.e. a `filetest` folder). The command will need to be run in the correct directory context as well. I would strongly recommend an IDE for getting started with development, and there are quite a few ways of doing things in Java that are different from a Python project&#39;s workflow.","body":"Since you&#39;re using packages, you&#39;ll need an actual directory structure that is associated with them (i.e. a <code>filetest</code> folder). The command will need to be run in the correct directory context as well. I would strongly recommend an IDE for getting started with development, and there are quite a few ways of doing things in Java that are different from a Python project&#39;s workflow."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1657205042,"post_id":72898919,"comment_id":128760181,"body_markdown":"You should be in the parent folder of filetest.  Then javac filetest/*.java","body":"You should be in the parent folder of filetest.  Then javac filetest/*.java"}],"answers":[{"tags":[],"owner":{"account_id":10546640,"reputation":162,"user_id":19453080,"display_name":"liketaurus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657215225,"creation_date":1657205267,"answer_id":72899919,"question_id":72898919,"body_markdown":"Why do you add *main* method to ReadSelectWord class? \r\nAlso your ReadSelectWord class has only static methods so you don&#39;t have to create an instance of it:)\r\n\r\nYou can try to rewrite your code in that way:\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.Scanner;\r\n    \r\n    public class ReadSelectWord\r\n      {\r\n        final private String filename;\r\n        \r\n        public ReadSelectWord(String filename)\r\n        {\r\n          this.filename=filename;\r\n        }\r\n        public void ReadWord() \r\n        {\r\n          String selectedWord;\r\n          try \r\n            {\r\n              selectedWord = ReadFile();\r\n            }\r\n          catch (FileNotFoundException ex)\r\n            {\r\n              selectedWord = &quot;File not found!&quot;;\r\n            } \r\n          catch (Exception ex)\r\n            {\r\n              selectedWord = &quot;Unknown Error!&quot;;\r\n            }\r\n          System.out.println(selectedWord);\r\n        }\r\n        private String ReadFile() throws FileNotFoundException\r\n        {\r\n          ...   \r\n         \r\n          return ...;\r\n        }\r\n        \r\n      }\r\n\r\nThe main class:\r\n\r\n    class Main {\r\n      public static void main(String[] args){\r\n        ReadSelectWord obj = new ReadSelectWord(&quot;text.txt&quot;); \r\n        obj.ReadWord();\r\n      }\r\n    }\r\n\r\nYou can play with my simple working live example on [ReplIt][1] \r\n\r\n\r\n  [1]: https://replit.com/@Babich/StackOverflowQuestion#Main.java","title":"Java Error: Using custom class outside of file returns cannot find symbol error","body":"<p>Why do you add <em>main</em> method to ReadSelectWord class?\nAlso your ReadSelectWord class has only static methods so you don't have to create an instance of it:)</p>\n<p>You can try to rewrite your code in that way:</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n\npublic class ReadSelectWord\n  {\n    final private String filename;\n    \n    public ReadSelectWord(String filename)\n    {\n      this.filename=filename;\n    }\n    public void ReadWord() \n    {\n      String selectedWord;\n      try \n        {\n          selectedWord = ReadFile();\n        }\n      catch (FileNotFoundException ex)\n        {\n          selectedWord = &quot;File not found!&quot;;\n        } \n      catch (Exception ex)\n        {\n          selectedWord = &quot;Unknown Error!&quot;;\n        }\n      System.out.println(selectedWord);\n    }\n    private String ReadFile() throws FileNotFoundException\n    {\n      ...   \n     \n      return ...;\n    }\n    \n  }\n</code></pre>\n<p>The main class:</p>\n<pre><code>class Main {\n  public static void main(String[] args){\n    ReadSelectWord obj = new ReadSelectWord(&quot;text.txt&quot;); \n    obj.ReadWord();\n  }\n}\n</code></pre>\n<p>You can play with my simple working live example on <a href=\"https://replit.com/@Babich/StackOverflowQuestion#Main.java\" rel=\"nofollow noreferrer\">ReplIt</a></p>\n"}],"owner":{"account_id":14418827,"reputation":379,"user_id":10415492,"display_name":"Omaro_IB"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72899919,"answer_count":1,"score":0,"last_activity_date":1657215225,"creation_date":1657201386,"question_id":72898919,"body_markdown":"I am used to writing in Python and I find that Java&#39;s strict object oriented style is difficult to work with.\r\n\r\nI have a simple file setup as follows:\r\n```\r\n./filetest\r\n└── main.java\r\n└── ReadSelectWord.java\r\n```\r\n\r\nI am trying to use the public `ReadSelectWord` class (defined inside `ReadSelectWord.java`) in my `main.java` file.\r\n\r\nHere&#39;s what I have:\r\n\r\n\r\n----------\r\n## ReadSelectWord.java\r\n```java\r\npackage filetest;\r\n\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.io.LineNumberReader;\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\t\r\npublic class ReadSelectWord {\r\n\r\n\tpublic static void main (String[] args) throws IOException {\r\n\t\tString selectedWord = ReadFile();\r\n\t\tSystem.out.println(selectedWord); // Prints the selected word to the console for testing purposes.\r\n\t\t\r\n\t}\r\n\t\r\n\t// The following code reads the word list file and selects a random word from the list of words.\r\n\tpublic static String ReadFile() throws IOException {\r\n\t\t...\r\n\t}\r\n}\r\n```\r\n\r\n## main.java ##\r\n```java\r\npackage filetest;\r\n\r\npublic class main {\r\n\t\tpublic static void main (String[] args) {\r\n\t\t\tReadSelectWord obj = new ReadSelectWord();\r\n\t\t}\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\nI try executing it with my terminal using `javac ReadSelectWord.java` and then `javac main.java` however, compiling `main.java` returns two `cannot find symbol` errors:\r\n```\r\nmain.java:5: error: cannot find symbol\r\n                        ReadSelectWord x = new ReadSelectWord();\r\n                        ^\r\n  symbol:   class ReadSelectWord\r\n  location: class main\r\nmain.java:5: error: cannot find symbol\r\n                        ReadSelectWord x = new ReadSelectWord();\r\n                                               ^\r\n  symbol:   class ReadSelectWord\r\n  location: class main\r\n2 errors\r\n```\r\n\r\n ","title":"Java Error: Using custom class outside of file returns cannot find symbol error","body":"<p>I am used to writing in Python and I find that Java's strict object oriented style is difficult to work with.</p>\n<p>I have a simple file setup as follows:</p>\n<pre><code>./filetest\n└── main.java\n└── ReadSelectWord.java\n</code></pre>\n<p>I am trying to use the public <code>ReadSelectWord</code> class (defined inside <code>ReadSelectWord.java</code>) in my <code>main.java</code> file.</p>\n<p>Here's what I have:</p>\n<hr />\n<h2>ReadSelectWord.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package filetest;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.io.LineNumberReader;\nimport java.util.Random;\nimport java.util.Scanner;\n    \npublic class ReadSelectWord {\n\n    public static void main (String[] args) throws IOException {\n        String selectedWord = ReadFile();\n        System.out.println(selectedWord); // Prints the selected word to the console for testing purposes.\n        \n    }\n    \n    // The following code reads the word list file and selects a random word from the list of words.\n    public static String ReadFile() throws IOException {\n        ...\n    }\n}\n</code></pre>\n<h2>main.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package filetest;\n\npublic class main {\n        public static void main (String[] args) {\n            ReadSelectWord obj = new ReadSelectWord();\n        }\n}\n</code></pre>\n<hr />\n<p>I try executing it with my terminal using <code>javac ReadSelectWord.java</code> and then <code>javac main.java</code> however, compiling <code>main.java</code> returns two <code>cannot find symbol</code> errors:</p>\n<pre><code>main.java:5: error: cannot find symbol\n                        ReadSelectWord x = new ReadSelectWord();\n                        ^\n  symbol:   class ReadSelectWord\n  location: class main\nmain.java:5: error: cannot find symbol\n                        ReadSelectWord x = new ReadSelectWord();\n                                               ^\n  symbol:   class ReadSelectWord\n  location: class main\n2 errors\n</code></pre>\n"},{"tags":["java","openxava"],"answers":[{"tags":[],"owner":{"account_id":16626245,"reputation":31,"user_id":12015287,"display_name":"Chungyen Tsai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657199151,"creation_date":1657199151,"answer_id":72898356,"question_id":72898278,"body_markdown":"On OpenXava toolbar, you must go to\r\n\r\n[Run &gt; Run Configurations &gt; on the right side, tab Arguments &gt; VM Arguments][1]\r\n\r\nthen put\r\n\r\n    -Dfile.encoding=UTF-8\r\n\r\nMany times the language you use is different from the encoding that windows has, that&#39;s why it appears ?????\r\n\r\nFor example, Windows with traditional Chinese, the encoding is MS950 and Simplified Chinese is MS936.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u4sGm.png","title":"Problem showing chinese in the browser with OpenXava","body":"<p>On OpenXava toolbar, you must go to</p>\n<p><a href=\"https://i.stack.imgur.com/u4sGm.png\" rel=\"nofollow noreferrer\">Run &gt; Run Configurations &gt; on the right side, tab Arguments &gt; VM Arguments</a></p>\n<p>then put</p>\n<pre><code>-Dfile.encoding=UTF-8\n</code></pre>\n<p>Many times the language you use is different from the encoding that windows has, that's why it appears ?????</p>\n<p>For example, Windows with traditional Chinese, the encoding is MS950 and Simplified Chinese is MS936.</p>\n"}],"owner":{"account_id":16626245,"reputation":31,"user_id":12015287,"display_name":"Chungyen Tsai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1657205228,"answer_count":1,"score":0,"last_activity_date":1657214794,"creation_date":1657198784,"question_id":72898278,"body_markdown":"I&#39;m using Windows 10, OpenXava 6.6.3\r\n\r\nI was trying to create some products but when i save product name in Chinese simplified, my browser shows ????? in some characters.\r\n\r\n[the screenshot][1]\r\n\r\nI tried to set Hibernate to read and save in utf-8 but no result.\r\nOriginal Hibernate cfg.xml\r\n\r\n    &lt;hibernate-configuration&gt;\r\n    \r\n    \t&lt;session-factory&gt;\r\n    \r\n    \t\t&lt;property name=&quot;hibernate.connection.datasource&quot;&gt;java://comp/env/jdbc/InvoicingDS&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.jdbc.use_get_generated_keys&quot;&gt;false&lt;/property&gt;\t\t\r\n    \t\t&lt;property name=&quot;hibernate.show_sql&quot;&gt;false&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.default_schema&quot;&gt;Invoicing&lt;/property&gt;\t\r\n    \t\t\t\r\n    \t\t&lt;!-- GalleryImage is needed only if you uses IMAGES_GALLERY/GALERIA_IMAGENES stereotype --&gt;\r\n    \t\t&lt;mapping resource=&quot;GalleryImage.hbm.xml&quot;/&gt;\r\n    \t\t\r\n    \t&lt;/session-factory&gt;\r\n    \t\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\nAlso tried in several browsers too, restart OpenXava, but the problem persists.\r\n\r\nProduct Class\r\n\r\n    package com.yourcompany.invoicing.model;\r\n    \r\n    import java.math.*;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    import org.openxava.annotations.*;\r\n    \r\n    import lombok.*;\r\n    \r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public class Product {\r\n    \r\n    \t@Id\r\n    \t@Column(length = 9)\r\n    \tint number;\r\n    \r\n    \t@Column(length = 50)\r\n    \t@Required\r\n    \tString description;\r\n    \r\n    \t@ManyToOne( \r\n    \t\t\tfetch = FetchType.LAZY, \r\n    \t\t\toptional = true) \r\n    \t@DescriptionsList \r\n    \tCategory category; \r\n    \r\n    \t@Stereotype(&quot;MONEY&quot;) \r\n    \tBigDecimal price; \r\n    \r\n    \t@Stereotype(&quot;IMAGES_GALLERY&quot;) \r\n    \t@Column(length = 32) \r\n    \tString photos;\r\n    \r\n    \t@Stereotype(&quot;MEMO&quot;) \r\n    \tString remarks;\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/AoVtH.png","title":"Problem showing chinese in the browser with OpenXava","body":"<p>I'm using Windows 10, OpenXava 6.6.3</p>\n<p>I was trying to create some products but when i save product name in Chinese simplified, my browser shows ????? in some characters.</p>\n<p><a href=\"https://i.stack.imgur.com/AoVtH.png\" rel=\"nofollow noreferrer\">the screenshot</a></p>\n<p>I tried to set Hibernate to read and save in utf-8 but no result.\nOriginal Hibernate cfg.xml</p>\n<pre><code>&lt;hibernate-configuration&gt;\n\n    &lt;session-factory&gt;\n\n        &lt;property name=&quot;hibernate.connection.datasource&quot;&gt;java://comp/env/jdbc/InvoicingDS&lt;/property&gt;\n        &lt;property name=&quot;hibernate.jdbc.use_get_generated_keys&quot;&gt;false&lt;/property&gt;     \n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;false&lt;/property&gt;\n        &lt;property name=&quot;hibernate.default_schema&quot;&gt;Invoicing&lt;/property&gt;  \n            \n        &lt;!-- GalleryImage is needed only if you uses IMAGES_GALLERY/GALERIA_IMAGENES stereotype --&gt;\n        &lt;mapping resource=&quot;GalleryImage.hbm.xml&quot;/&gt;\n        \n    &lt;/session-factory&gt;\n    \n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>Also tried in several browsers too, restart OpenXava, but the problem persists.</p>\n<p>Product Class</p>\n<pre><code>package com.yourcompany.invoicing.model;\n\nimport java.math.*;\n\nimport javax.persistence.*;\n\nimport org.openxava.annotations.*;\n\nimport lombok.*;\n\n@Entity\n@Getter\n@Setter\npublic class Product {\n\n    @Id\n    @Column(length = 9)\n    int number;\n\n    @Column(length = 50)\n    @Required\n    String description;\n\n    @ManyToOne( \n            fetch = FetchType.LAZY, \n            optional = true) \n    @DescriptionsList \n    Category category; \n\n    @Stereotype(&quot;MONEY&quot;) \n    BigDecimal price; \n\n    @Stereotype(&quot;IMAGES_GALLERY&quot;) \n    @Column(length = 32) \n    String photos;\n\n    @Stereotype(&quot;MEMO&quot;) \n    String remarks;\n\n}\n</code></pre>\n"},{"tags":["java","maven","jersey","jetty","embedded-jetty"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1649526375,"post_id":71807561,"comment_id":126900179,"body_markdown":"You didn&#39;t put a port. Not sure if that&#39;s the cause.","body":"You didn&#39;t put a port. Not sure if that&#39;s the cause."}],"answers":[{"tags":[],"owner":{"account_id":2865890,"reputation":1,"user_id":2460228,"display_name":"Christian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657214695,"creation_date":1657214695,"answer_id":72902007,"question_id":71807561,"body_markdown":"I found the solution to my problem. However, i do not know why it behaves like this.\r\n\r\nI had to use the `Path` annotation instead of the `ApplicationPath` annotation on the `LoginserverRestApi` class and additionally construct a `ResourceConfig` with `LoginserverRestApi.class` as parameter and pass that Object to the `JettyHttpContainerFactory.createServer` static method. Following are the two files which differ from the initial post:\r\n\r\n```java\r\n// LoginserverRestApi.java\r\npackage de.l2d;\r\n\r\nimport org.glassfish.jersey.server.ResourceConfig;\r\n\r\nimport jakarta.ws.rs.GET;\r\nimport jakarta.ws.rs.Path;\r\n\r\n@Path(&quot;/login&quot;)\r\npublic class LoginserverRestApi extends ResourceConfig {\r\n\r\n    @GET @Path(&quot;/status&quot;)\r\n    public String status() {\r\n        // TODO Return real server statistics.\r\n        return &quot;{\\&quot;status\\&quot;:\\&quot;ok\\&quot;}&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\n// RestApiServer.java\r\npackage de.l2d;\r\n\r\nimport java.net.URI;\r\n\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.glassfish.jersey.jetty.JettyHttpContainerFactory;\r\nimport org.glassfish.jersey.server.ResourceConfig;\r\n\r\nimport jakarta.ws.rs.core.UriBuilder;\r\n\r\npublic class RestApiServer {\r\n    private Server server;\r\n\r\n    private RestApiServer() {\r\n        URI baseUri = UriBuilder.fromUri(&quot;http://localhost/&quot;).build();\r\n        ResourceConfig config = new ResourceConfig(LoginserverRestApi.class);\r\n        server = JettyHttpContainerFactory.createServer(baseUri, config, false);\r\n    }\r\n    \r\n    public void start() throws Exception {\r\n        server.start();\r\n    }\r\n    \r\n    public void stop() throws Exception {\r\n        server.stop();\r\n    }\r\n\r\n    private static final class SingletonHolder {\r\n        protected static RestApiServer instance = new RestApiServer();\r\n    }\r\n    public static RestApiServer getInstance() {\r\n        return SingletonHolder.instance;\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Embedded Jersey 3 with Jetty into existing Application","body":"<p>I found the solution to my problem. However, i do not know why it behaves like this.</p>\n<p>I had to use the <code>Path</code> annotation instead of the <code>ApplicationPath</code> annotation on the <code>LoginserverRestApi</code> class and additionally construct a <code>ResourceConfig</code> with <code>LoginserverRestApi.class</code> as parameter and pass that Object to the <code>JettyHttpContainerFactory.createServer</code> static method. Following are the two files which differ from the initial post:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// LoginserverRestApi.java\npackage de.l2d;\n\nimport org.glassfish.jersey.server.ResourceConfig;\n\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\n\n@Path(&quot;/login&quot;)\npublic class LoginserverRestApi extends ResourceConfig {\n\n    @GET @Path(&quot;/status&quot;)\n    public String status() {\n        // TODO Return real server statistics.\n        return &quot;{\\&quot;status\\&quot;:\\&quot;ok\\&quot;}&quot;;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// RestApiServer.java\npackage de.l2d;\n\nimport java.net.URI;\n\nimport org.eclipse.jetty.server.Server;\nimport org.glassfish.jersey.jetty.JettyHttpContainerFactory;\nimport org.glassfish.jersey.server.ResourceConfig;\n\nimport jakarta.ws.rs.core.UriBuilder;\n\npublic class RestApiServer {\n    private Server server;\n\n    private RestApiServer() {\n        URI baseUri = UriBuilder.fromUri(&quot;http://localhost/&quot;).build();\n        ResourceConfig config = new ResourceConfig(LoginserverRestApi.class);\n        server = JettyHttpContainerFactory.createServer(baseUri, config, false);\n    }\n    \n    public void start() throws Exception {\n        server.start();\n    }\n    \n    public void stop() throws Exception {\n        server.stop();\n    }\n\n    private static final class SingletonHolder {\n        protected static RestApiServer instance = new RestApiServer();\n    }\n    public static RestApiServer getInstance() {\n        return SingletonHolder.instance;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2865890,"reputation":1,"user_id":2460228,"display_name":"Christian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72902007,"answer_count":1,"score":0,"last_activity_date":1657214695,"creation_date":1649502901,"question_id":71807561,"body_markdown":"i am trying to embed a HTTP-Server into an existing java Application. My goal is to create a small rest API as an interface to send commands to the server application it runs in.\r\n\r\nI planned using Jakarta and Jersey 3 with Jetty as embeded HTTP-Server. My starting point was the following topic which was for Jersey 2 but i tried my luck: https://stackoverflow.com/questions/34527213/embed-jersey-in-java-application\r\n\r\nMy problem is that i get ```404 Not Found``` back when i try to call http://localhost/login/status in my browser. The page is blank. When i switch to using Grizzly2 as embedded HTTP-Server and type the url in the browser, the result is the same. The only difference in Grizzly2 i could spot is when i only call http://localhost/ i get an error page additionally to the ```404 Not Found``` response back. As soon as i add /login to the url, i get the ```404 Not Found``` response without an error page. What could be the reason the server does not pick up my resources?\r\n\r\nI am using the Eclipse IDE. First i created a clean Maven project, added the following dependencies and created my test code:\r\n```\r\norg.glassfish.jersey.core -&gt; jersey-server\r\norg.glassfish.jersey.containers -&gt; jersey-container-jetty-http\r\n```\r\n\r\nOn my first startup i got some missing class errors, searched for the dependencies they are in and added them to the pom. Following is my current test code.\r\n\r\n```xml\r\n&lt;!-- pom.xml --&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;test-ee&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test-ee-embed&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.4&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-jetty-http&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n```java\r\n// LoginserverRestApi.java\r\npackage de.l2d;\r\n\r\nimport org.glassfish.jersey.server.ResourceConfig;\r\n\r\nimport jakarta.ws.rs.ApplicationPath;\r\nimport jakarta.ws.rs.GET;\r\nimport jakarta.ws.rs.Path;\r\n\r\n@ApplicationPath(&quot;/login&quot;)\r\npublic class LoginserverRestApi extends ResourceConfig {\r\n\r\n    @GET @Path(&quot;/status&quot;)\r\n    public String status() {\r\n        // TODO Return real server statistics.\r\n        return &quot;{\\&quot;status\\&quot;:\\&quot;ok\\&quot;}&quot;;\r\n    }\r\n\r\n}\r\n```\r\n```java\r\n// RestApiServer.java\r\npackage de.l2d;\r\n\r\nimport java.net.URI;\r\n\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.glassfish.jersey.jetty.JettyHttpContainerFactory;\r\n\r\nimport jakarta.ws.rs.core.UriBuilder;\r\n\r\npublic class RestApiServer {\r\n    private Server server;\r\n\r\n    private RestApiServer() {\r\n        URI baseUri = UriBuilder.fromUri(&quot;http://localhost/&quot;).build();\r\n        server = JettyHttpContainerFactory.createServer(baseUri, new LoginserverRestApi(), false);\r\n    }\r\n    \r\n    public void start() throws Exception {\r\n        server.start();\r\n    }\r\n    \r\n    public void stop() throws Exception {\r\n        server.stop();\r\n    }\r\n\r\n    private static final class SingletonHolder {\r\n        protected static RestApiServer instance = new RestApiServer();\r\n    }\r\n    public static RestApiServer getInstance() {\r\n        return SingletonHolder.instance;\r\n    }\r\n}\r\n```\r\n```java\r\n// Main.java\r\npackage de.l2d;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        RestApiServer.getInstance().start();\r\n        Thread.currentThread().join();\r\n        RestApiServer.getInstance().stop();\r\n    }\r\n}\r\n```","title":"Embedded Jersey 3 with Jetty into existing Application","body":"<p>i am trying to embed a HTTP-Server into an existing java Application. My goal is to create a small rest API as an interface to send commands to the server application it runs in.</p>\n<p>I planned using Jakarta and Jersey 3 with Jetty as embeded HTTP-Server. My starting point was the following topic which was for Jersey 2 but i tried my luck: <a href=\"https://stackoverflow.com/questions/34527213/embed-jersey-in-java-application\">Embed jersey in java application</a></p>\n<p>My problem is that i get <code>404 Not Found</code> back when i try to call http://localhost/login/status in my browser. The page is blank. When i switch to using Grizzly2 as embedded HTTP-Server and type the url in the browser, the result is the same. The only difference in Grizzly2 i could spot is when i only call http://localhost/ i get an error page additionally to the <code>404 Not Found</code> response back. As soon as i add /login to the url, i get the <code>404 Not Found</code> response without an error page. What could be the reason the server does not pick up my resources?</p>\n<p>I am using the Eclipse IDE. First i created a clean Maven project, added the following dependencies and created my test code:</p>\n<pre><code>org.glassfish.jersey.core -&gt; jersey-server\norg.glassfish.jersey.containers -&gt; jersey-container-jetty-http\n</code></pre>\n<p>On my first startup i got some missing class errors, searched for the dependencies they are in and added them to the pom. Following is my current test code.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- pom.xml --&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;test-ee&lt;/groupId&gt;\n    &lt;artifactId&gt;test-ee-embed&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n                &lt;version&gt;3.0.4&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb-bom&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-jetty-http&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// LoginserverRestApi.java\npackage de.l2d;\n\nimport org.glassfish.jersey.server.ResourceConfig;\n\nimport jakarta.ws.rs.ApplicationPath;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\n\n@ApplicationPath(&quot;/login&quot;)\npublic class LoginserverRestApi extends ResourceConfig {\n\n    @GET @Path(&quot;/status&quot;)\n    public String status() {\n        // TODO Return real server statistics.\n        return &quot;{\\&quot;status\\&quot;:\\&quot;ok\\&quot;}&quot;;\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// RestApiServer.java\npackage de.l2d;\n\nimport java.net.URI;\n\nimport org.eclipse.jetty.server.Server;\nimport org.glassfish.jersey.jetty.JettyHttpContainerFactory;\n\nimport jakarta.ws.rs.core.UriBuilder;\n\npublic class RestApiServer {\n    private Server server;\n\n    private RestApiServer() {\n        URI baseUri = UriBuilder.fromUri(&quot;http://localhost/&quot;).build();\n        server = JettyHttpContainerFactory.createServer(baseUri, new LoginserverRestApi(), false);\n    }\n    \n    public void start() throws Exception {\n        server.start();\n    }\n    \n    public void stop() throws Exception {\n        server.stop();\n    }\n\n    private static final class SingletonHolder {\n        protected static RestApiServer instance = new RestApiServer();\n    }\n    public static RestApiServer getInstance() {\n        return SingletonHolder.instance;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Main.java\npackage de.l2d;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        RestApiServer.getInstance().start();\n        Thread.currentThread().join();\n        RestApiServer.getInstance().stop();\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","websocket","monaco-editor"],"owner":{"account_id":22864174,"reputation":11,"user_id":17007789,"display_name":"Devesh Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657214563,"creation_date":1657214563,"question_id":72901982,"body_markdown":"I am working on an web ide project. The front end is monaco editor and in backend lsp4j with custom language parser lib. I want to integrate monaco editor with lsp4j. ","title":"How to Integrate monaco editor with lsp4j?","body":"<p>I am working on an web ide project. The front end is monaco editor and in backend lsp4j with custom language parser lib. I want to integrate monaco editor with lsp4j.</p>\n"},{"tags":["java","spring-boot","java-17"],"answers":[{"tags":[],"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657214551,"creation_date":1657214551,"answer_id":72901980,"question_id":72901748,"body_markdown":"This is not the correct approach for creating a singleton, because [double checked locking is broken][1]. You&#39;re using Spring, so a) your JobExecutor will be a singleton anyway, and b) will only be created if it is needed. You might as well, therefore, create your executor instance in the constructor and get rid of those static methods.\r\n\r\nEven better, you could create schedulers as named beans, and then inject them into classes where you want them:\r\n\r\n```java\r\n@Configuration\r\npublic class ExecutorConfiguration {\r\n    @Bean\r\n    public ScheduledExecutorService jobExecutor(@Value(&quot;${scheduler.jobs}&quot;) jobs) {\r\n        return Executors.newScheduledThreadPool(jobs);\r\n    }\r\n}\r\n```\r\nThis says that whenever another component needs a `ScheduledExecutorService`, Spring should call this `jobExecutor()` method;  Spring will automatically populate the `jobs` parameter from the `scheduler.jobs` property because of the `@Value`.\r\n\r\nYou can then inject your executor wherever you need it, for example with constructor injection (handily you&#39;re already using Lombok, so the amount of boilerplate is minimised):\r\n```java\r\n@Service\r\n@AllArgsConstructor\r\npublic class MyThingThatNeedsAScheduler {\r\n    private final ScheduledExecutorService jobExecutor;\r\n\r\n    // methods here...\r\n}\r\n```\r\nYou can also use setter or member injection, if you want.\r\n\r\n  [1]: https://stackoverflow.com/questions/1625118/java-double-checked-locking","title":"Right way of implementing a controllable scheduler","body":"<p>This is not the correct approach for creating a singleton, because <a href=\"https://stackoverflow.com/questions/1625118/java-double-checked-locking\">double checked locking is broken</a>. You're using Spring, so a) your JobExecutor will be a singleton anyway, and b) will only be created if it is needed. You might as well, therefore, create your executor instance in the constructor and get rid of those static methods.</p>\n<p>Even better, you could create schedulers as named beans, and then inject them into classes where you want them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ExecutorConfiguration {\n    @Bean\n    public ScheduledExecutorService jobExecutor(@Value(&quot;${scheduler.jobs}&quot;) jobs) {\n        return Executors.newScheduledThreadPool(jobs);\n    }\n}\n</code></pre>\n<p>This says that whenever another component needs a <code>ScheduledExecutorService</code>, Spring should call this <code>jobExecutor()</code> method;  Spring will automatically populate the <code>jobs</code> parameter from the <code>scheduler.jobs</code> property because of the <code>@Value</code>.</p>\n<p>You can then inject your executor wherever you need it, for example with constructor injection (handily you're already using Lombok, so the amount of boilerplate is minimised):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@AllArgsConstructor\npublic class MyThingThatNeedsAScheduler {\n    private final ScheduledExecutorService jobExecutor;\n\n    // methods here...\n}\n</code></pre>\n<p>You can also use setter or member injection, if you want.</p>\n"}],"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72901980,"answer_count":1,"score":0,"last_activity_date":1657214551,"creation_date":1657213333,"question_id":72901748,"body_markdown":"For my design I need a controllable schedular. Spring boot offers an `@Scheduled` annotation but that is more simplified and I do not have granular control.\r\n\r\nSo I wanted to implement my own scheduler manually.\r\n\r\nThis is the class I created:\r\n\r\n    @Slf4j\r\n    @Service\r\n    public class JobExecutor {\r\n    \r\n        private static ScheduledExecutorService jobExecutor;\r\n    \r\n        private static Environment env;\r\n        \r\n        @Autowired\r\n        private JobExecutor(Environment env) {\r\n            JobExecutor.env = env;\r\n        }\r\n    \r\n        public static ScheduledExecutorService INSTANCE() {\r\n            if (null == jobExecutor) {\r\n                synchronized (JobExecutor.class) {\r\n                    if (null == jobExecutor) {\r\n                        jobExecutor = Executors.newScheduledThreadPool(\r\n                                Integer.parseInt(Objects.requireNonNull(env.getProperty(&quot;scheduler.jobs&quot;))));\r\n                    }\r\n                }\r\n            }\r\n            return jobExecutor;\r\n        }\r\n    }\r\n\r\nWith this approach I could simply call the static method to get a single instance.\r\n\r\n`Is this correct approach for a schedular?` I need to start and stop and shutdown the jobs. I tried guava `AbstractScheduledService` but that does not seem to be working.\r\n","title":"Right way of implementing a controllable scheduler","body":"<p>For my design I need a controllable schedular. Spring boot offers an <code>@Scheduled</code> annotation but that is more simplified and I do not have granular control.</p>\n<p>So I wanted to implement my own scheduler manually.</p>\n<p>This is the class I created:</p>\n<pre><code>@Slf4j\n@Service\npublic class JobExecutor {\n\n    private static ScheduledExecutorService jobExecutor;\n\n    private static Environment env;\n    \n    @Autowired\n    private JobExecutor(Environment env) {\n        JobExecutor.env = env;\n    }\n\n    public static ScheduledExecutorService INSTANCE() {\n        if (null == jobExecutor) {\n            synchronized (JobExecutor.class) {\n                if (null == jobExecutor) {\n                    jobExecutor = Executors.newScheduledThreadPool(\n                            Integer.parseInt(Objects.requireNonNull(env.getProperty(&quot;scheduler.jobs&quot;))));\n                }\n            }\n        }\n        return jobExecutor;\n    }\n}\n</code></pre>\n<p>With this approach I could simply call the static method to get a single instance.</p>\n<p><code>Is this correct approach for a schedular?</code> I need to start and stop and shutdown the jobs. I tried guava <code>AbstractScheduledService</code> but that does not seem to be working.</p>\n"},{"tags":["java","loops","foreach","boolean-expression","adjacency-matrix"],"comments":[{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":2,"creation_date":1657210210,"post_id":72901061,"comment_id":128762203,"body_markdown":"https://www.programiz.com/java-programming/enhanced-for-loop programiz has their own guide on this syntax, is there a specific part that&#39;s unclear?","body":"<a href=\"https://www.programiz.com/java-programming/enhanced-for-loop\" rel=\"nofollow noreferrer\">programiz.com/java-programming/enhanced-for-loop</a> programiz has their own guide on this syntax, is there a specific part that&#39;s unclear?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1657210256,"post_id":72901061,"comment_id":128762218,"body_markdown":"I do not understand what is unclear. Do you not understand how `for` loops work in general, do you not know the ternary operator, do you not understand `+ &quot; &quot;`?","body":"I do not understand what is unclear. Do you not understand how <code>for</code> loops work in general, do you not know the ternary operator, do you not understand <code>+ &quot; &quot;</code>?"},{"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"score":0,"creation_date":1657211505,"post_id":72901061,"comment_id":128762704,"body_markdown":"`j ? 1 : 0` is a conditional operator. It pretty much says if `j` is true use an 1 else use an 0. This numbers are then &#39;casted&#39; to an string with an space by using `+ &quot; &quot;`.","body":"<code>j ? 1 : 0</code> is a conditional operator. It pretty much says if <code>j</code> is true use an 1 else use an 0. This numbers are then &#39;casted&#39; to an string with an space by using <code>+ &quot; &quot;</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657212738,"post_id":72901061,"comment_id":128763182,"body_markdown":"See the last section of the page on [The for Statement](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html).","body":"See the last section of the page on <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">The for Statement</a>."}],"answers":[{"tags":[],"owner":{"account_id":20062067,"reputation":78,"user_id":14708584,"display_name":"atliqui17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657214349,"creation_date":1657214349,"answer_id":72901941,"question_id":72901061,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nTake a Example\r\n```\r\nadjMatrix = [\r\n            [true , false , true],\r\n            [false , false , true],\r\n            [true , true , false]\r\n            ]\r\n```\r\n\r\n**Step 1: Iterating through each row of matrix**\r\n\r\nWHEN i = 0\r\n```\r\nfor (boolean j : [true , false , true]) {\r\n        s.append((j ? 1 : 0) + &quot; &quot;);\r\n```\r\n\r\n**Step 2: Iterating through each boolean element of a row**\r\n\r\nValue of j in each iteration will be:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n**Step 3 AND 4: Appending in S(variable)**\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ebgBn.png\r\n  [2]: https://i.stack.imgur.com/SNTcK.png\r\n  [3]: https://i.stack.imgur.com/wq1vk.png","title":"I am trying to understand a code on adjacency matrix written in Java language ,I am not able to understand the enhanced for loop part","body":"<p><a href=\"https://i.stack.imgur.com/ebgBn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ebgBn.png\" alt=\"enter image description here\" /></a></p>\n<p>Take a Example</p>\n<pre><code>adjMatrix = [\n            [true , false , true],\n            [false , false , true],\n            [true , true , false]\n            ]\n</code></pre>\n<p><strong>Step 1: Iterating through each row of matrix</strong></p>\n<p>WHEN i = 0</p>\n<pre><code>for (boolean j : [true , false , true]) {\n        s.append((j ? 1 : 0) + &quot; &quot;);\n</code></pre>\n<p><strong>Step 2: Iterating through each boolean element of a row</strong></p>\n<p>Value of j in each iteration will be:</p>\n<p><a href=\"https://i.stack.imgur.com/SNTcK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SNTcK.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step 3 AND 4: Appending in S(variable)</strong>\n<a href=\"https://i.stack.imgur.com/wq1vk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wq1vk.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":9479529,"reputation":1,"user_id":7047921,"display_name":"subham_1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1657248149,"accepted_answer_id":72901941,"answer_count":1,"score":-4,"last_activity_date":1657214349,"creation_date":1657210079,"question_id":72901061,"body_markdown":"     // Add edges\r\n      public void addEdge(int i, int j) {\r\n        adjMatrix[i][j] = true;\r\n        adjMatrix[j][i] = true;\r\n      }\r\n    \r\n      // Remove edges\r\n      public void removeEdge(int i, int j) {\r\n        adjMatrix[i][j] = false;\r\n        adjMatrix[j][i] = false;\r\n      }\r\n    \r\n      // Print the matrix\r\n      public String toString() {\r\n        StringBuilder s = new StringBuilder();\r\n        for (int i = 0; i &lt; numVertices; i++) {\r\n          s.append(i + &quot;: &quot;);\r\n          for (boolean j : adjMatrix[i]) {\r\n            s.append((j ? 1 : 0) + &quot; &quot;);\r\n          }\r\n          s.append(&quot;\\n&quot;);\r\n        }\r\n        return s.toString();\r\n      }\r\n    \r\n     \r\n\r\nExplain the following line in the code:\r\n\r\n     for (boolean j : adjMatrix[i]) {\r\n            s.append((j ? 1 : 0) + &quot; &quot;);\r\n\r\nthe enhanced for loop using boolean operator is not clear.\r\nHow to understand it and how does it work?\r\nThe above code is taken by programiz.com.\r\nThe above code is related to adjacency matrix.","title":"I am trying to understand a code on adjacency matrix written in Java language ,I am not able to understand the enhanced for loop part","body":"<pre><code> // Add edges\n  public void addEdge(int i, int j) {\n    adjMatrix[i][j] = true;\n    adjMatrix[j][i] = true;\n  }\n\n  // Remove edges\n  public void removeEdge(int i, int j) {\n    adjMatrix[i][j] = false;\n    adjMatrix[j][i] = false;\n  }\n\n  // Print the matrix\n  public String toString() {\n    StringBuilder s = new StringBuilder();\n    for (int i = 0; i &lt; numVertices; i++) {\n      s.append(i + &quot;: &quot;);\n      for (boolean j : adjMatrix[i]) {\n        s.append((j ? 1 : 0) + &quot; &quot;);\n      }\n      s.append(&quot;\\n&quot;);\n    }\n    return s.toString();\n  }\n\n \n</code></pre>\n<p>Explain the following line in the code:</p>\n<pre><code> for (boolean j : adjMatrix[i]) {\n        s.append((j ? 1 : 0) + &quot; &quot;);\n</code></pre>\n<p>the enhanced for loop using boolean operator is not clear.\nHow to understand it and how does it work?\nThe above code is taken by programiz.com.\nThe above code is related to adjacency matrix.</p>\n"},{"tags":["java","jsp","jstl"],"answers":[{"tags":[],"owner":{"account_id":18088193,"reputation":595,"user_id":13148560,"display_name":"Japhei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657213721,"creation_date":1657210393,"answer_id":72901125,"question_id":72900863,"body_markdown":"You can use for lops the same way as in plain java like this:\r\n\r\n    &lt;table&gt;\r\n\t&lt;%\r\n\tint[][] arr = { {0,1,2}, {3,4,5}, {6,7,8}};\r\n\tfor (int rowIndex = 0; rowIndex &lt; arr.length; rowIndex++) {\r\n\t\t%&gt;&lt;tr&gt;&lt;%\r\n\t\tfor (int numIndex = 0; numIndex &lt; arr[rowIndex].length; numIndex++) {\r\n\t\t\t%&gt;&lt;td&gt;&lt;%= arr[rowIndex][numIndex] %&gt;&lt;/td&gt;&lt;%\t\r\n\t\t}\r\n\t\t%&gt;&lt;/tr&gt;&lt;%\r\n\t}\r\n\t%&gt;\r\n\t&lt;/table&gt;\r\nYou just have to make sure that every element of your code is inside a `&lt;% ... %&gt;` statement.\r\n\r\nThe outhput of this code looks like this:\r\n[![example][1]][1]\r\n\r\n----------\r\nIn JSF it could look like this:\r\n\r\n    &lt;c:forEach items=&quot;${combinations}&quot; var=&quot;rows&quot;&gt;\r\n\t    &lt;tr&gt;\r\n\t        &lt;c:forEach items=&quot;${rows}&quot; var=&quot;face&quot;&gt;\r\n\t            &lt;td&gt;${face}&lt;/td&gt;\r\n\t        &lt;/c:forEach&gt;\r\n\t    &lt;/tr&gt;\r\n    &lt;/c:forEach&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/E4KFv.png","title":"jsp 2D array in table","body":"<p>You can use for lops the same way as in plain java like this:</p>\n<pre><code>&lt;table&gt;\n&lt;%\nint[][] arr = { {0,1,2}, {3,4,5}, {6,7,8}};\nfor (int rowIndex = 0; rowIndex &lt; arr.length; rowIndex++) {\n    %&gt;&lt;tr&gt;&lt;%\n    for (int numIndex = 0; numIndex &lt; arr[rowIndex].length; numIndex++) {\n        %&gt;&lt;td&gt;&lt;%= arr[rowIndex][numIndex] %&gt;&lt;/td&gt;&lt;% \n    }\n    %&gt;&lt;/tr&gt;&lt;%\n}\n%&gt;\n&lt;/table&gt;\n</code></pre>\n<p>You just have to make sure that every element of your code is inside a <code>&lt;% ... %&gt;</code> statement.</p>\n<p>The outhput of this code looks like this:\n<a href=\"https://i.stack.imgur.com/E4KFv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E4KFv.png\" alt=\"example\" /></a></p>\n<hr />\n<p>In JSF it could look like this:</p>\n<pre><code>&lt;c:forEach items=&quot;${combinations}&quot; var=&quot;rows&quot;&gt;\n    &lt;tr&gt;\n        &lt;c:forEach items=&quot;${rows}&quot; var=&quot;face&quot;&gt;\n            &lt;td&gt;${face}&lt;/td&gt;\n        &lt;/c:forEach&gt;\n    &lt;/tr&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n"}],"owner":{"account_id":5434943,"reputation":187,"user_id":4324702,"accept_rate":40,"display_name":"surm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72901125,"answer_count":1,"score":0,"last_activity_date":1657213721,"creation_date":1657209215,"question_id":72900863,"body_markdown":"I have a 2D array in java, trying to print it in table form in jsp.\r\nBelow code is working -\r\n\r\n\t\t\t\t\t\t\t\t\t&lt;table&gt;\r\n\t\t\t\t\t\t\t\t\t    &lt;c:forEach items=&quot;${combinations}&quot; var=&quot;face&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t        &lt;tr&gt;\r\n\t\t\t\t\t\t\t\t\t            &lt;td&gt;${face[0]}&lt;/td&gt;\r\n\t\t\t\t\t\t\t\t\t            &lt;td&gt;${face[1]}&lt;/td&gt;\r\n\t\t\t\t\t\t\t\t\t            &lt;td&gt;${face[2]}&lt;/td&gt;\r\n\t\t\t\t\t\t\t\t\t        &lt;/tr&gt;\r\n\t\t\t\t\t\t\t\t\t    &lt;/c:forEach&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/table&gt;\r\n\r\nBut instead of hard coding index, I need to make it dynamic based on size of array.\r\nPlease help with this.","title":"jsp 2D array in table","body":"<p>I have a 2D array in java, trying to print it in table form in jsp.\nBelow code is working -</p>\n<pre><code>                                &lt;table&gt;\n                                    &lt;c:forEach items=&quot;${combinations}&quot; var=&quot;face&quot;&gt;\n                                        &lt;tr&gt;\n                                            &lt;td&gt;${face[0]}&lt;/td&gt;\n                                            &lt;td&gt;${face[1]}&lt;/td&gt;\n                                            &lt;td&gt;${face[2]}&lt;/td&gt;\n                                        &lt;/tr&gt;\n                                    &lt;/c:forEach&gt;\n                                &lt;/table&gt;\n</code></pre>\n<p>But instead of hard coding index, I need to make it dynamic based on size of array.\nPlease help with this.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8789,"page":1203,"page_size":100}
