{"items":[{"tags":["java","json","salesforce-marketing-cloud","unirest-java"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685285554,"post_id":76352063,"comment_id":134637410,"body_markdown":"This looks like a typo: `eventDefinitionId` - not `eventDefinationId`.","body":"This looks like a typo: <code>eventDefinitionId</code> - not <code>eventDefinationId</code>."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1685285666,"post_id":76352063,"comment_id":134637425,"body_markdown":"If that does not solve your issue, try to be more specific regarding the error you are getting - not &quot;_all possible type of errors_&quot;. Also, please [provide text as text](https://meta.stackoverflow.com/a/285557/12567365) - not as screenshots of text. You can [edit] your question as needed.","body":"If that does not solve your issue, try to be more specific regarding the error you are getting - not &quot;<i>all possible type of errors</i>&quot;. Also, please <a href=\"https://meta.stackoverflow.com/a/285557/12567365\">provide text as text</a> - not as screenshots of text. You can <a href=\"https://stackoverflow.com/posts/76352063/edit\">edit</a> your question as needed."},{"owner":{"account_id":12234871,"reputation":86,"user_id":8929627,"display_name":"Chandrashekhar Dautpure"},"score":0,"creation_date":1685286056,"post_id":76352063,"comment_id":134637464,"body_markdown":"Thanks andrew , i have added the error message i get . Its null pointer error. The image contain client specfic info , thus i am not attaching the it as text and just a screenshot of message . my applogies for that. any clue what i am doing wrong or is the whole approach itself wrong?","body":"Thanks andrew , i have added the error message i get . Its null pointer error. The image contain client specfic info , thus i am not attaching the it as text and just a screenshot of message . my applogies for that. any clue what i am doing wrong or is the whole approach itself wrong?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685286229,"post_id":76352063,"comment_id":134637479,"body_markdown":"Which line of code is `ProcessJourney.java:105`? You can see that, but we cannot.","body":"Which line of code is <code>ProcessJourney.java:105</code>? You can see that, but we cannot."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685286250,"post_id":76352063,"comment_id":134637482,"body_markdown":"See also [Reading value of nested key in JSON with Java (Jackson)](https://stackoverflow.com/q/29858248/12567365).","body":"See also <a href=\"https://stackoverflow.com/q/29858248/12567365\">Reading value of nested key in JSON with Java (Jackson)</a>."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685286359,"post_id":76352063,"comment_id":134637490,"body_markdown":"And also [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/q/218384/12567365)","body":"And also <a href=\"https://stackoverflow.com/q/218384/12567365\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":12234871,"reputation":86,"user_id":8929627,"display_name":"Chandrashekhar Dautpure"},"score":1,"creation_date":1685286461,"post_id":76352063,"comment_id":134637504,"body_markdown":"@andrewJames, that would be String eventDefinitionId = actualObj.get(&quot;eventDefinitionId&quot;).textValue();","body":"@andrewJames, that would be String eventDefinitionId = actualObj.get(&quot;eventDefinitionId&quot;).textValue();"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685286583,"post_id":76352063,"comment_id":134637513,"body_markdown":"You can [edit] the question to include this new, relevant information there (instead of in a comment). But the links to those other questions should allow you to solve this error, I believe.","body":"You can <a href=\"https://stackoverflow.com/posts/76352063/edit\">edit</a> the question to include this new, relevant information there (instead of in a comment). But the links to those other questions should allow you to solve this error, I believe."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685287802,"post_id":76352063,"comment_id":134637644,"body_markdown":"mask confidential information but code should be provided as text always.","body":"mask confidential information but code should be provided as text always."}],"answers":[{"tags":[],"owner":{"account_id":12234871,"reputation":86,"user_id":8929627,"display_name":"Chandrashekhar Dautpure"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685373832,"creation_date":1685373832,"answer_id":76358524,"question_id":76352063,"body_markdown":"Thanks all for comments. After trying and checking different sites , i was able to come up with solution or code to resolve the problem\r\n\r\nThe approach is, i get response as Json and the i start extracting JSON objects and arrays from it. As seen below . Thanks all\r\n\r\n    //*Enrich Journey Event Info *//\r\n        Statement stmt_eventId = conn.createStatement();\r\n        ResultSet rs_event = stmt_eventId.executeQuery(&quot;SELECT JourneyNames FROM journeynameedited&quot;);\r\n        //ResultSet rs_event = stmt_eventId.executeQuery(&quot;SELECT JourneyName,definitionid FROM journeydetails&quot;);\r\n        while(rs_event.next()){\r\n            String JourneyName_For_EventId = rs_event.getString(&quot;JourneyNames&quot;).strip().replaceAll(&quot;\\\\p{C}&quot;, &quot;&quot;);\r\n            System.out.println(JourneyName_For_EventId);\r\n            String JourneyDefinationId = &quot;&quot;;\r\n            //String JourneyDefinationId = rs_event.getString(&quot;definitionid&quot;);\r\n            String JourneyName_For_EventId_html = JourneyName_For_EventId.replaceAll(&quot; &quot;, &quot;%20&quot;);\r\n            String Event_URL = &quot;https://xxxxxxxxxx.rest.marketingcloudapis.com/interaction/v1/interactions?name=&quot;+JourneyName_For_EventId_html+&quot;&amp;extras=all&quot;;\r\n            \r\n            Unirest.setTimeouts(0, 0);\r\n            HttpResponse&lt;JsonNode&gt; response_event = Unirest.get(Event_URL)\r\n                                                    .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                                                    .header(&quot;Authorization&quot;, Token_Auth)\r\n                                                    .asJson();\r\n            JSONObject Response_Obj_Event = response_event.getBody().getObject();\r\n            if(Response_Obj_Event.has(&quot;items&quot;))\r\n            {\r\n                JSONArray Event_Items = Response_Obj_Event.getJSONArray(&quot;items&quot;);\r\n                for(int ii=0;ii&lt;Event_Items.length();ii++)\r\n                {\r\n                    JSONObject Event_Object = Event_Items.getJSONObject(ii);\r\n                    if((Event_Object.has(&quot;triggers&quot;)) &amp;&amp; ((Event_Object.getJSONArray(&quot;triggers&quot;)!= null) &amp;&amp; (Event_Object.getJSONArray(&quot;triggers&quot;).length()&gt;0 )))\r\n                    {\r\n                        JSONArray Event_Trigger_Array = Event_Object.getJSONArray(&quot;triggers&quot;);\r\n                        if((Event_Trigger_Array.getJSONObject(0).has(&quot;metaData&quot;)) &amp;&amp; (Event_Trigger_Array.getJSONObject(0).getJSONObject(&quot;metaData&quot;)!= null))\r\n                        {\r\n                            if(Event_Trigger_Array.getJSONObject(0).getJSONObject(&quot;metaData&quot;).has(&quot;eventDefinitionId&quot;))\r\n                            {\r\n                                String eventDefinitionId = Event_Trigger_Array.getJSONObject(0).getJSONObject(&quot;metaData&quot;).getString(&quot;eventDefinitionId&quot;);\r\n                                String queryString = &quot;INSERT INTO journeyeventinfo (JourneyName,DefinationId,EventId) VALUES (\\&quot;&quot;+JourneyName_For_EventId+&quot;\\&quot;,\\&quot;&quot;+JourneyDefinationId+&quot;\\&quot;,\\&quot;&quot;+eventDefinitionId+&quot;\\&quot;);&quot;;\r\n                                populatejourneyEventTable(conn,queryString);\r\n                            }                            \r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }","title":"Parsing response from Unirest and extracting tag value","body":"<p>Thanks all for comments. After trying and checking different sites , i was able to come up with solution or code to resolve the problem</p>\n<p>The approach is, i get response as Json and the i start extracting JSON objects and arrays from it. As seen below . Thanks all</p>\n<pre><code>//*Enrich Journey Event Info *//\n    Statement stmt_eventId = conn.createStatement();\n    ResultSet rs_event = stmt_eventId.executeQuery(&quot;SELECT JourneyNames FROM journeynameedited&quot;);\n    //ResultSet rs_event = stmt_eventId.executeQuery(&quot;SELECT JourneyName,definitionid FROM journeydetails&quot;);\n    while(rs_event.next()){\n        String JourneyName_For_EventId = rs_event.getString(&quot;JourneyNames&quot;).strip().replaceAll(&quot;\\\\p{C}&quot;, &quot;&quot;);\n        System.out.println(JourneyName_For_EventId);\n        String JourneyDefinationId = &quot;&quot;;\n        //String JourneyDefinationId = rs_event.getString(&quot;definitionid&quot;);\n        String JourneyName_For_EventId_html = JourneyName_For_EventId.replaceAll(&quot; &quot;, &quot;%20&quot;);\n        String Event_URL = &quot;https://xxxxxxxxxx.rest.marketingcloudapis.com/interaction/v1/interactions?name=&quot;+JourneyName_For_EventId_html+&quot;&amp;extras=all&quot;;\n        \n        Unirest.setTimeouts(0, 0);\n        HttpResponse&lt;JsonNode&gt; response_event = Unirest.get(Event_URL)\n                                                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                                                .header(&quot;Authorization&quot;, Token_Auth)\n                                                .asJson();\n        JSONObject Response_Obj_Event = response_event.getBody().getObject();\n        if(Response_Obj_Event.has(&quot;items&quot;))\n        {\n            JSONArray Event_Items = Response_Obj_Event.getJSONArray(&quot;items&quot;);\n            for(int ii=0;ii&lt;Event_Items.length();ii++)\n            {\n                JSONObject Event_Object = Event_Items.getJSONObject(ii);\n                if((Event_Object.has(&quot;triggers&quot;)) &amp;&amp; ((Event_Object.getJSONArray(&quot;triggers&quot;)!= null) &amp;&amp; (Event_Object.getJSONArray(&quot;triggers&quot;).length()&gt;0 )))\n                {\n                    JSONArray Event_Trigger_Array = Event_Object.getJSONArray(&quot;triggers&quot;);\n                    if((Event_Trigger_Array.getJSONObject(0).has(&quot;metaData&quot;)) &amp;&amp; (Event_Trigger_Array.getJSONObject(0).getJSONObject(&quot;metaData&quot;)!= null))\n                    {\n                        if(Event_Trigger_Array.getJSONObject(0).getJSONObject(&quot;metaData&quot;).has(&quot;eventDefinitionId&quot;))\n                        {\n                            String eventDefinitionId = Event_Trigger_Array.getJSONObject(0).getJSONObject(&quot;metaData&quot;).getString(&quot;eventDefinitionId&quot;);\n                            String queryString = &quot;INSERT INTO journeyeventinfo (JourneyName,DefinationId,EventId) VALUES (\\&quot;&quot;+JourneyName_For_EventId+&quot;\\&quot;,\\&quot;&quot;+JourneyDefinationId+&quot;\\&quot;,\\&quot;&quot;+eventDefinitionId+&quot;\\&quot;);&quot;;\n                            populatejourneyEventTable(conn,queryString);\n                        }                            \n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":12234871,"reputation":86,"user_id":8929627,"display_name":"Chandrashekhar Dautpure"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685375521,"creation_date":1685285446,"question_id":76352063,"body_markdown":"I am calling a rest end point in Java using Unirest. The response is a JSON message which is complex and contains multiple levels inside.\r\n\r\nI need to extract the value of a specific tag &quot;eventDefinationId&quot; from the response message. However, that is failing or not working. I cannot handle the JSON parsing from the response to extract the tag value\r\n\r\nBelow is the code I am using\r\n\r\n```java\r\n//*Enrich Journey Event Info *//\r\nStatement stmt_eventId = conn.createStatement();\r\nResultSet rs_event = stmt_eventId.executeQuery(&quot;SELECT JourneyName,definitionid FROM journeydetails&quot;);\r\nwhile(rs_event.next()){\r\n    String JourneyName_For_EventId = rs_event.getString(&quot;JourneyName&quot;);\r\n    JourneyName_For_EventId = JourneyName_For_EventId.replaceAll(&quot; &quot;, &quot;%20&quot;);\r\n    String Event_URL = &quot;https://xxxxxxx.rest.marketingcloudapis.com/interaction/v1/interactions?name=&quot;+JourneyName_For_EventId+&quot;&amp;extras=all&quot;;\r\n    Unirest.setTimeouts(0, 0);\r\n    HttpResponse&lt;String&gt; response_event = Unirest.get(Event_URL)\r\n                                            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                                            .header(&quot;Authorization&quot;, Token_Auth)\r\n                                            .asString();\r\n    String jsonString = response_event.getBody();\r\n    ObjectMapper mapper = new ObjectMapper();  \r\n    com.fasterxml.jackson.databind.JsonNode actualObj = mapper.readTree(jsonString);\r\n    String eventDefinationId = actualObj.get(&quot;eventDefinitionId&quot;).textValue();\r\n    System.out.println(eventDefinationId);\r\n}\r\n```\r\n\r\nBelow is an example of a successful call using Postman. The image is the same API call, but using Postman instead of code. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/3Pfnl.png)](https://i.stack.imgur.com/3Pfnl.png)\r\n\r\nAs you see eventDefinationId is way below(inside metadata section) .\r\n\r\nI want to extract it. I am getting all possible type of errors. Also this tag sometime may not be present. in that case it shouldn&#39;t error, but skip and go to next value from result set.\r\n\r\nWhen I run the above program, I get null pointer exception\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat sfmc_process.ProcessJourney.UpdateJourneyDetailsTables(ProcessJourney.java:105)\r\n\tat sfmc_main.AppLauncher.main(AppLauncher.java:29)\r\nCommand execution failed.\r\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n\r\nLine 105 which is error is : String eventDefinitionId = actualObj.get(&quot;eventDefinitionId&quot;).textValue();\r\n\r\nBelow is the image of the code which I am using. I want to extract the eventDefinitionId from message only. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ghQdu.png","title":"Parsing response from Unirest and extracting tag value","body":"<p>I am calling a rest end point in Java using Unirest. The response is a JSON message which is complex and contains multiple levels inside.</p>\n<p>I need to extract the value of a specific tag &quot;eventDefinationId&quot; from the response message. However, that is failing or not working. I cannot handle the JSON parsing from the response to extract the tag value</p>\n<p>Below is the code I am using</p>\n<pre class=\"lang-java prettyprint-override\"><code>//*Enrich Journey Event Info *//\nStatement stmt_eventId = conn.createStatement();\nResultSet rs_event = stmt_eventId.executeQuery(&quot;SELECT JourneyName,definitionid FROM journeydetails&quot;);\nwhile(rs_event.next()){\n    String JourneyName_For_EventId = rs_event.getString(&quot;JourneyName&quot;);\n    JourneyName_For_EventId = JourneyName_For_EventId.replaceAll(&quot; &quot;, &quot;%20&quot;);\n    String Event_URL = &quot;https://xxxxxxx.rest.marketingcloudapis.com/interaction/v1/interactions?name=&quot;+JourneyName_For_EventId+&quot;&amp;extras=all&quot;;\n    Unirest.setTimeouts(0, 0);\n    HttpResponse&lt;String&gt; response_event = Unirest.get(Event_URL)\n                                            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                                            .header(&quot;Authorization&quot;, Token_Auth)\n                                            .asString();\n    String jsonString = response_event.getBody();\n    ObjectMapper mapper = new ObjectMapper();  \n    com.fasterxml.jackson.databind.JsonNode actualObj = mapper.readTree(jsonString);\n    String eventDefinationId = actualObj.get(&quot;eventDefinitionId&quot;).textValue();\n    System.out.println(eventDefinationId);\n}\n</code></pre>\n<p>Below is an example of a successful call using Postman. The image is the same API call, but using Postman instead of code.</p>\n<p><a href=\"https://i.stack.imgur.com/3Pfnl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Pfnl.png\" alt=\"enter image description here\" /></a></p>\n<p>As you see eventDefinationId is way below(inside metadata section) .</p>\n<p>I want to extract it. I am getting all possible type of errors. Also this tag sometime may not be present. in that case it shouldn't error, but skip and go to next value from result set.</p>\n<p>When I run the above program, I get null pointer exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\nat sfmc_process.ProcessJourney.UpdateJourneyDetailsTables(ProcessJourney.java:105)\nat sfmc_main.AppLauncher.main(AppLauncher.java:29)\n</code></pre>\n<p>Command execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\nat org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)</p>\n<p>Line 105 which is error is : String eventDefinitionId = actualObj.get(&quot;eventDefinitionId&quot;).textValue();</p>\n<p>Below is the image of the code which I am using. I want to extract the eventDefinitionId from message only.</p>\n<p><a href=\"https://i.stack.imgur.com/ghQdu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ghQdu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sorting","nullpointerexception","comparator"],"answers":[{"tags":[],"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685373945,"creation_date":1685373945,"answer_id":76358537,"question_id":76356942,"body_markdown":"You are using the `comparing` comparator on the null values by using `comparing.thenComparing(...)` and then only you use the `Comparators.nulls...(..)`. You just need the `Comparator.nulls...(..)` like this :\r\n\r\n    private List&lt;MobileSearch&gt; sortAscAndDesc(final MobilesPostResponse mobilesPostResponse,\r\n            final String[] split,\r\n            final Comparator&lt;MobileSearch&gt; comparing) {\r\n\r\n        final var direction = getDirection(split);\r\n\r\n        final var modifiableList = new ArrayList&lt;MobileSearch&gt;(mobilesPostResponse.getMobiles());\r\n\r\n        final var comparator = direction.equals(Constants.ASC)\r\n                ? Comparator.nullsLast(comparing)\r\n                : Comparator.nullsFirst(comparing.reversed());\r\n\r\n        modifiableList.sort(comparator);\r\n        return modifiableList;\r\n    }","title":"Java Comparator.nullsLast and Comparator.nullsFirst not working as expected","body":"<p>You are using the <code>comparing</code> comparator on the null values by using <code>comparing.thenComparing(...)</code> and then only you use the <code>Comparators.nulls...(..)</code>. You just need the <code>Comparator.nulls...(..)</code> like this :</p>\n<pre><code>private List&lt;MobileSearch&gt; sortAscAndDesc(final MobilesPostResponse mobilesPostResponse,\n        final String[] split,\n        final Comparator&lt;MobileSearch&gt; comparing) {\n\n    final var direction = getDirection(split);\n\n    final var modifiableList = new ArrayList&lt;MobileSearch&gt;(mobilesPostResponse.getMobiles());\n\n    final var comparator = direction.equals(Constants.ASC)\n            ? Comparator.nullsLast(comparing)\n            : Comparator.nullsFirst(comparing.reversed());\n\n    modifiableList.sort(comparator);\n    return modifiableList;\n}\n</code></pre>\n"}],"owner":{"account_id":14528548,"reputation":79,"user_id":10494078,"display_name":"Miltos Dimitriadis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76358537,"answer_count":1,"score":1,"last_activity_date":1685375490,"creation_date":1685359715,"question_id":76356942,"body_markdown":"I have the following method, which throws NPE in `sort()` when I am trying to sort by a field which is null in the list : \r\n\r\n    private List&lt;MobileSearch&gt; sortAscAndDesc(final MobilesPostResponse mobilesPostResponse,\r\n    \t\t\tfinal String[] split,\r\n    \t\t\tfinal Comparator&lt;MobileSearch&gt; comparing) {\r\n    \r\n    \tfinal var direction = getDirection(split);\r\n    \r\n        final var modifiableList = new ArrayList&lt;MobileSearch&gt;(mobilesPostResponse.getMobiles());\r\n    \r\n    \tfinal var comparator = direction.equals(Constants.ASC)\r\n    \t\t\t? comparing.thenComparing(Comparator.nullsLast(comparing))\r\n    \t\t\t: comparing.thenComparing(Comparator.nullsFirst(comparing.reversed()));\r\n    \r\n    \tmodifiableList.sort(comparator);\r\n    \treturn modifiableList;\r\n    }\r\n\r\nA comparator is passed as a parameter which is using several keyExtractors. \r\nYou can see below some method calls : \r\n\r\n    final var sortedList = sortAscAndDesc(mobilesPostResponse, split, Comparator.comparing(MobileSearch::getMsisdn));\r\n\r\n    final var sortedList = sortAscAndDesc(mobilesPostResponse, split, Comparator.comparing(MobileSearch::getAssignedProfile));\r\n\r\nAll I want is to avoid getting NPE when applying the `modifiableList.sort()` in EVERY case, but with my piece of code I can not achieve it. Any ideas?","title":"Java Comparator.nullsLast and Comparator.nullsFirst not working as expected","body":"<p>I have the following method, which throws NPE in <code>sort()</code> when I am trying to sort by a field which is null in the list :</p>\n<pre><code>private List&lt;MobileSearch&gt; sortAscAndDesc(final MobilesPostResponse mobilesPostResponse,\n            final String[] split,\n            final Comparator&lt;MobileSearch&gt; comparing) {\n\n    final var direction = getDirection(split);\n\n    final var modifiableList = new ArrayList&lt;MobileSearch&gt;(mobilesPostResponse.getMobiles());\n\n    final var comparator = direction.equals(Constants.ASC)\n            ? comparing.thenComparing(Comparator.nullsLast(comparing))\n            : comparing.thenComparing(Comparator.nullsFirst(comparing.reversed()));\n\n    modifiableList.sort(comparator);\n    return modifiableList;\n}\n</code></pre>\n<p>A comparator is passed as a parameter which is using several keyExtractors.\nYou can see below some method calls :</p>\n<pre><code>final var sortedList = sortAscAndDesc(mobilesPostResponse, split, Comparator.comparing(MobileSearch::getMsisdn));\n\nfinal var sortedList = sortAscAndDesc(mobilesPostResponse, split, Comparator.comparing(MobileSearch::getAssignedProfile));\n</code></pre>\n<p>All I want is to avoid getting NPE when applying the <code>modifiableList.sort()</code> in EVERY case, but with my piece of code I can not achieve it. Any ideas?</p>\n"},{"tags":["java","stack","log4j2","threadcontext"],"comments":[{"owner":{"account_id":3873085,"reputation":215,"user_id":3207875,"accept_rate":40,"display_name":"user3207875"},"score":0,"creation_date":1484051387,"post_id":41568900,"comment_id":70341700,"body_markdown":"I want the logger without braces as below.\n\n\n        \n`[01/10/17 12:17:37:116 IST] main               Example2                            WARN  (Example2.java:52) 10 is the number`","body":"I want the logger without braces as below.            <code>[01&#47;10&#47;17 12:17:37:116 IST] main               Example2                            WARN  (Example2.java:52) 10 is the number</code>"}],"answers":[{"comments":[{"owner":{"account_id":3873085,"reputation":215,"user_id":3207875,"accept_rate":40,"display_name":"user3207875"},"score":1,"creation_date":1484111192,"post_id":41573823,"comment_id":70370631,"body_markdown":"This will not work. Its taking `%notEmpty{[%x]}` as **%n** and takes the logger to next line.","body":"This will not work. Its taking <code>%notEmpty{[%x]}</code> as <b>%n</b> and takes the logger to next line."},{"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"score":0,"creation_date":1484117138,"post_id":41573823,"comment_id":70372863,"body_markdown":"What version are you using? This feature is fairly recent. Have you tried `varsNotEmpty`?","body":"What version are you using? This feature is fairly recent. Have you tried <code>varsNotEmpty</code>?"},{"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"score":0,"creation_date":1484117584,"post_id":41573823,"comment_id":70373038,"body_markdown":"Version 2.7? Or something older?","body":"Version 2.7? Or something older?"},{"owner":{"account_id":3873085,"reputation":215,"user_id":3207875,"accept_rate":40,"display_name":"user3207875"},"score":0,"creation_date":1484117687,"post_id":41573823,"comment_id":70373087,"body_markdown":"Now the ouput logger is `[01/11/17 12:22:59:693 IST] main               Example2                            DEBUG (Example2.java:56) 10 is the number \t \notEmpty`","body":"Now the ouput logger is <code>[01&#47;11&#47;17 12:22:59:693 IST] main               Example2                            DEBUG (Example2.java:56) 10 is the number \t  otEmpty</code>"},{"owner":{"account_id":3873085,"reputation":215,"user_id":3207875,"accept_rate":40,"display_name":"user3207875"},"score":0,"creation_date":1484117712,"post_id":41573823,"comment_id":70373099,"body_markdown":"Can&#39;t migrate to v2.7 as can&#39;t go beyond Java 6. Hence I am using log4j v2.3","body":"Can&#39;t migrate to v2.7 as can&#39;t go beyond Java 6. Hence I am using log4j v2.3"},{"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"score":0,"creation_date":1484117830,"post_id":41573823,"comment_id":70373147,"body_markdown":"Ouch. %notEmpty doesn&#39;t exist in 2.3. You can backport as a custom plugin. Just take the source &amp; compile in your project.","body":"Ouch. %notEmpty doesn&#39;t exist in 2.3. You can backport as a custom plugin. Just take the source &amp; compile in your project."}],"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484066394,"creation_date":1484066394,"answer_id":41573823,"question_id":41568900,"body_markdown":"You can use [PatternLayout][1]&#39;s `notEmpty{pattern}` pattern converter:\n\nThis outputs the result of evaluating the pattern if and only if all variables in the pattern are not empty.\n\nFor example:\n\n    %notEmpty{[%x]}\n\nAliases: variablesNotEmpty{pattern}, \nvarsNotEmpty{pattern}, \nnotEmpty{pattern}\t\n\n  [1]: https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout","title":"Empty Threadcontext braces scenario handling in log4j2","body":"<p>You can use <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout\" rel=\"nofollow noreferrer\">PatternLayout</a>'s <code>notEmpty{pattern}</code> pattern converter:</p>\n\n<p>This outputs the result of evaluating the pattern if and only if all variables in the pattern are not empty.</p>\n\n<p>For example:</p>\n\n<pre><code>%notEmpty{[%x]}\n</code></pre>\n\n<p>Aliases: variablesNotEmpty{pattern}, \nvarsNotEmpty{pattern}, \nnotEmpty{pattern}   </p>\n"},{"tags":[],"owner":{"account_id":28703763,"reputation":11,"user_id":21980481,"display_name":"Vaishnavi Rathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685375255,"creation_date":1685375255,"answer_id":76358695,"question_id":41568900,"body_markdown":"You can use %equals{pattern}{test}{substitution} from https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout\r\n\r\nFor example -\r\n\r\n%equals{%x}{[]}{}\r\n\r\nThis will replace [] with empty string.\r\nWorked for me.\r\n","title":"Empty Threadcontext braces scenario handling in log4j2","body":"<p>You can use %equals{pattern}{test}{substitution} from <a href=\"https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout</a></p>\n<p>For example -</p>\n<p>%equals{%x}{[]}{}</p>\n<p>This will replace [] with empty string.\nWorked for me.</p>\n"}],"owner":{"account_id":3873085,"reputation":215,"user_id":3207875,"accept_rate":40,"display_name":"user3207875"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1659,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1685375255,"creation_date":1484051310,"question_id":41568900,"body_markdown":"I am trying to migrate to log4j2. \r\nIn RollingFile Appender I am adding as below:\r\n\r\n    &lt;PatternLayout&gt;\r\n    \t&lt;pattern&gt;[%d{MM/dd/yy HH:mm:ss:SSS z}] %-18.18t %-35.35c{1} %-5p (%F:%L) %m \\t %x %n&lt;/pattern&gt;\r\n    &lt;/PatternLayout&gt;\r\n\r\nWe know that %x is for printing stack elements to end of the every logger statement.\r\n\r\nNow if my stack is empty initially, it is giving me the empty braces as below.\r\n\r\n    [01/10/17 12:17:37:116 IST] main               Example2                            WARN  (Example2.java:52) 10 is the number \t [] \r\n\r\n[01/10/17 12:17:37:116 IST] main               Example2                            WARN  (Example2.java:52) 10 is the number \t [] \r\n\r\n\r\nSo how do I handle this empty stack scenario ?","title":"Empty Threadcontext braces scenario handling in log4j2","body":"<p>I am trying to migrate to log4j2. \nIn RollingFile Appender I am adding as below:</p>\n\n<pre><code>&lt;PatternLayout&gt;\n    &lt;pattern&gt;[%d{MM/dd/yy HH:mm:ss:SSS z}] %-18.18t %-35.35c{1} %-5p (%F:%L) %m \\t %x %n&lt;/pattern&gt;\n&lt;/PatternLayout&gt;\n</code></pre>\n\n<p>We know that %x is for printing stack elements to end of the every logger statement.</p>\n\n<p>Now if my stack is empty initially, it is giving me the empty braces as below.</p>\n\n<pre><code>[01/10/17 12:17:37:116 IST] main               Example2                            WARN  (Example2.java:52) 10 is the number     [] \n</code></pre>\n\n<p>[01/10/17 12:17:37:116 IST] main               Example2                            WARN  (Example2.java:52) 10 is the number     [] </p>\n\n<p>So how do I handle this empty stack scenario ?</p>\n"},{"tags":["java","gradle","build"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685374252,"post_id":76358545,"comment_id":134648030,"body_markdown":"You seem to be using Java 8 (class version 52), while you&#39;re trying to use classes compiled with Java 11 (class version 55).","body":"You seem to be using Java 8 (class version 52), while you&#39;re trying to use classes compiled with Java 11 (class version 55)."},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685376227,"post_id":76358545,"comment_id":134648343,"body_markdown":"My question isn&#39;t duplicate. Where have gradle in the duplicate? It normally works, but with gradle it doesn&#39;t work.","body":"My question isn&#39;t duplicate. Where have gradle in the duplicate? It normally works, but with gradle it doesn&#39;t work."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685376526,"post_id":76358545,"comment_id":134648396,"body_markdown":"See the output of `gradle --version`: `JVM:          **1.8.0_362** (Private Build 25.362-b09)`. In other words, when you run Gradle, it is running Java 8, probably because your `JAVA_HOME` is configured to point to Java 8 and not to your Java 17 install. Make sure it points to Java 17 (or at least to a Java 11 or higher). In other words, the duplicate applies for your problem.","body":"See the output of <code>gradle --version</code>: <code>JVM:          **1.8.0_362** (Private Build 25.362-b09)</code>. In other words, when you run Gradle, it is running Java 8, probably because your <code>JAVA_HOME</code> is configured to point to Java 8 and not to your Java 17 install. Make sure it points to Java 17 (or at least to a Java 11 or higher). In other words, the duplicate applies for your problem."},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685376655,"post_id":76358545,"comment_id":134648416,"body_markdown":"@MarkRotteveel You&#39;re right `$ echo $JAVA_HOME\n/usr/lib/jvm/java-8-openjdk-i386/` How can I find out, where is `Java 17` (Ubuntu 18.04)","body":"@MarkRotteveel You&#39;re right <code>$ echo $JAVA_HOME &#47;usr&#47;lib&#47;jvm&#47;java-8-openjdk-i386&#47;</code> How can I find out, where is <code>Java 17</code> (Ubuntu 18.04)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685376724,"post_id":76358545,"comment_id":134648426,"body_markdown":"Using `which java` should report the location of the executable used when you run `java` (and then use the parent directory of the bin-directory).","body":"Using <code>which java</code> should report the location of the executable used when you run <code>java</code> (and then use the parent directory of the bin-directory)."},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685376865,"post_id":76358545,"comment_id":134648442,"body_markdown":"I set JAVA_HOME to /usr/bin/java but `$ gradle clean\n\nERROR: JAVA_HOME is set to an invalid directory: /usr/bin/java\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n`","body":"I set JAVA_HOME to /usr/bin/java but <code>$ gradle clean  ERROR: JAVA_HOME is set to an invalid directory: &#47;usr&#47;bin&#47;java  Please set the JAVA_HOME variable in your environment to match the location of your Java installation. </code>"},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685377107,"post_id":76358545,"comment_id":134648483,"body_markdown":"`$ file /usr/bin/java\n/usr/bin/java: symbolic link to /etc/alternatives/java\n`","body":"<code>$ file &#47;usr&#47;bin&#47;java &#47;usr&#47;bin&#47;java: symbolic link to &#47;etc&#47;alternatives&#47;java </code>"},{"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"score":0,"creation_date":1685377562,"post_id":76358545,"comment_id":134648543,"body_markdown":"Finally, [this](https://askubuntu.com/a/1259182/13394) solved it. Thank you.","body":"Finally, <a href=\"https://askubuntu.com/a/1259182/13394\">this</a> solved it. Thank you."}],"owner":{"account_id":329709,"reputation":3234,"user_id":653379,"accept_rate":90,"display_name":"xralf"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685375302,"answer_count":0,"score":0,"last_activity_date":1685374629,"creation_date":1685373985,"question_id":76358545,"body_markdown":"When I run commands:\r\n\r\n    javac -cp tika/tika-2.8.0/tika-app-2.8.0.jar:opennlp/apache-opennlp-2.2.0/lib/* App.java\r\n    java -cp .:tika/tika-2.8.0/tika-app-2.8.0.jar:opennlp/apache-opennlp-2.2.0/lib/* App\r\n\r\nIt works perfect.\r\n\r\nI wanted to automatize the build process with `gradle`.\r\n\r\nSo I created this directory tree:\r\n\r\n    $ tree -L 2 my-app/\r\n    my-app/\r\n    ├── build\r\n    │&#160;&#160; ├── classes\r\n    │&#160;&#160; ├── generated\r\n    │&#160;&#160; └── tmp\r\n    ├── build.gradle\r\n    ├── opennlp\r\n    │&#160;&#160; ├── apache-opennlp-2.2.0\r\n    │&#160;&#160; └── apache-opennlp-2.2.0-bin.zip\r\n    ├── src\r\n    │&#160;&#160; └── main\r\n    └── tika\r\n        ├── tika-2.8.0\r\n        └── tika-2.8.0-src.zip\r\n\r\n    $ tree src\r\n    src\r\n    └── main\r\n        └── java\r\n            └── App.java\r\n\r\nmy `build.gradle` is here:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation files(&#39;tika/tika-2.8.0/tika-app-2.8.0.jar&#39;)\r\n        implementation files(&#39;opennlp/apache-opennlp-2.2.0/lib/opennlp-tools-2.2.0.jar&#39;)\r\n    }\r\n    \r\n    task runApp(type: JavaExec) {\r\n        main = &#39;App&#39;\r\n        classpath = sourceSets.main.runtimeClasspath\r\n    }\r\n\r\n\r\n\r\nThe output of gradle build is here:\r\n\r\n    $ gradle build\r\n    \r\n    &gt; Task :compileJava\r\n    /home/me/tmp/my-app/src/main/java/App.java:7: error: cannot access opennlp.tools.sentdetect.SentenceDetectorME\r\n    import opennlp.tools.sentdetect.SentenceDetectorME;\r\n                                   ^\r\n      bad class file: /home/me/tmp/my-app/opennlp/apache-opennlp-2.2.0/lib/opennlp-tools-2.2.0.jar(opennlp/tools/sentdetect/SentenceDetectorME.class)\r\n        class file has wrong version 55.0, should be 52.0\r\n        Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n    \r\n    &gt; Task :compileJava FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n    \r\n    You can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n    \r\n    See https://docs.gradle.org/7.4.2/userguide/command_line_interface.html#sec:command_line_warnings\r\n    \r\n    BUILD FAILED in 4s\r\n    1 actionable task: 1 executed\r\n\r\n    $ java --version\r\n    openjdk 17.0.7 2023-04-18\r\n    OpenJDK Runtime Environment (build 17.0.7+7-Ubuntu-0ubuntu118.04)\r\n    OpenJDK Server VM (build 17.0.7+7-Ubuntu-0ubuntu118.04, mixed mode, sharing)\r\n\r\n    $ javac --version\r\n    javac 17.0.7\r\n\r\n    $ gradle --version\r\n    \r\n    ------------------------------------------------------------\r\n    Gradle 7.4.2\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2022-03-31 15:25:29 UTC\r\n    Revision:     540473b8118064efcc264694cbcaa4b677f61041\r\n    \r\n    Kotlin:       1.5.31\r\n    Groovy:       3.0.9\r\n    Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n    JVM:          1.8.0_362 (Private Build 25.362-b09)\r\n    OS:           Linux 4.15.0-211-generic i386\r\n\r\nHow can I fix it?\r\n\r\n","title":"opennlp: bad class file, wrong version","body":"<p>When I run commands:</p>\n<pre><code>javac -cp tika/tika-2.8.0/tika-app-2.8.0.jar:opennlp/apache-opennlp-2.2.0/lib/* App.java\njava -cp .:tika/tika-2.8.0/tika-app-2.8.0.jar:opennlp/apache-opennlp-2.2.0/lib/* App\n</code></pre>\n<p>It works perfect.</p>\n<p>I wanted to automatize the build process with <code>gradle</code>.</p>\n<p>So I created this directory tree:</p>\n<pre><code>$ tree -L 2 my-app/\nmy-app/\n├── build\n│   ├── classes\n│   ├── generated\n│   └── tmp\n├── build.gradle\n├── opennlp\n│   ├── apache-opennlp-2.2.0\n│   └── apache-opennlp-2.2.0-bin.zip\n├── src\n│   └── main\n└── tika\n    ├── tika-2.8.0\n    └── tika-2.8.0-src.zip\n\n$ tree src\nsrc\n└── main\n    └── java\n        └── App.java\n</code></pre>\n<p>my <code>build.gradle</code> is here:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation files('tika/tika-2.8.0/tika-app-2.8.0.jar')\n    implementation files('opennlp/apache-opennlp-2.2.0/lib/opennlp-tools-2.2.0.jar')\n}\n\ntask runApp(type: JavaExec) {\n    main = 'App'\n    classpath = sourceSets.main.runtimeClasspath\n}\n</code></pre>\n<p>The output of gradle build is here:</p>\n<pre><code>$ gradle build\n\n&gt; Task :compileJava\n/home/me/tmp/my-app/src/main/java/App.java:7: error: cannot access opennlp.tools.sentdetect.SentenceDetectorME\nimport opennlp.tools.sentdetect.SentenceDetectorME;\n                               ^\n  bad class file: /home/me/tmp/my-app/opennlp/apache-opennlp-2.2.0/lib/opennlp-tools-2.2.0.jar(opennlp/tools/sentdetect/SentenceDetectorME.class)\n    class file has wrong version 55.0, should be 52.0\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\n\n&gt; Task :compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.4.2/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 4s\n1 actionable task: 1 executed\n\n$ java --version\nopenjdk 17.0.7 2023-04-18\nOpenJDK Runtime Environment (build 17.0.7+7-Ubuntu-0ubuntu118.04)\nOpenJDK Server VM (build 17.0.7+7-Ubuntu-0ubuntu118.04, mixed mode, sharing)\n\n$ javac --version\njavac 17.0.7\n\n$ gradle --version\n\n------------------------------------------------------------\nGradle 7.4.2\n------------------------------------------------------------\n\nBuild time:   2022-03-31 15:25:29 UTC\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          1.8.0_362 (Private Build 25.362-b09)\nOS:           Linux 4.15.0-211-generic i386\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","spring","heroku","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1456845434,"post_id":35726500,"comment_id":59128007,"body_markdown":"You cannot read it as a file, you will have to read it as in `InputStream`. A `File` has to be an actual resource on the system (when using it to read or write). Which is also what the error is telling you.","body":"You cannot read it as a file, you will have to read it as in <code>InputStream</code>. A <code>File</code> has to be an actual resource on the system (when using it to read or write). Which is also what the error is telling you."},{"owner":{"account_id":390209,"reputation":9903,"user_id":750117,"accept_rate":58,"display_name":"jfcorugedo"},"score":2,"creation_date":1456931119,"post_id":35726500,"comment_id":59174997,"body_markdown":"Yes, you&#39;re right. I ended up using `ResourceUtils.getURL().openStream()`","body":"Yes, you&#39;re right. I ended up using <code>ResourceUtils.getURL().openStream()</code>"},{"owner":{"account_id":1907716,"reputation":3402,"user_id":1722236,"accept_rate":89,"display_name":"Olivier Tonglet"},"score":0,"creation_date":1606918418,"post_id":35726500,"comment_id":115108362,"body_markdown":"You may want to use Guava&#39;s Resources.toString(Resources.getResource(pathToMyFile), Charset.forName(&quot;UTF-8&quot;)) to read a file from your application jar.","body":"You may want to use Guava&#39;s Resources.toString(Resources.getResource(pathToMyFile), Charset.forName(&quot;UTF-8&quot;)) to read a file from your application jar."}],"answers":[{"comments":[{"owner":{"account_id":390209,"reputation":9903,"user_id":750117,"accept_rate":58,"display_name":"jfcorugedo"},"score":4,"creation_date":1456931055,"post_id":35727761,"comment_id":59174943,"body_markdown":"Yes, you&#39;re right. I ended up using `ResourceUtils.getURL().openStream()`","body":"Yes, you&#39;re right. I ended up using <code>ResourceUtils.getURL().openStream()</code>"}],"tags":[],"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1569309520,"creation_date":1456848483,"answer_id":35727761,"question_id":35726500,"body_markdown":"I suspect that when you are running locally, it is picking up the file on the classpath from an exploded JAR file (i.e. as a regular file on the filesystem).\r\n\r\nOn Heroku, it is in the JAR file, which means it is not a regular file, and must be read as an input stream, which might look like this:\r\n\r\n    ClassLoader cl = this.getClass().getClassLoader();\r\n    InputStream inputStream = cl.getResourceAsStream(pathToMyFile);\r\n    \r\nThen you might use a [BufferedReader](http://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html) to read the lines. But maybe `ResourceUtils` has a better method.\r\n\r\nYou can probably reproduce the problem locally by running the same command that&#39;s in your `Profile`.","title":"Using ResourceUtils.getFile to read a file from classpath in Heroku environment","body":"<p>I suspect that when you are running locally, it is picking up the file on the classpath from an exploded JAR file (i.e. as a regular file on the filesystem).</p>\n\n<p>On Heroku, it is in the JAR file, which means it is not a regular file, and must be read as an input stream, which might look like this:</p>\n\n<pre><code>ClassLoader cl = this.getClass().getClassLoader();\nInputStream inputStream = cl.getResourceAsStream(pathToMyFile);\n</code></pre>\n\n<p>Then you might use a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html\" rel=\"noreferrer\">BufferedReader</a> to read the lines. But maybe <code>ResourceUtils</code> has a better method.</p>\n\n<p>You can probably reproduce the problem locally by running the same command that's in your <code>Profile</code>.</p>\n"},{"tags":[],"owner":{"account_id":13790539,"reputation":701,"user_id":9953131,"display_name":"Sumit Rane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685374469,"creation_date":1685374469,"answer_id":76358600,"question_id":35726500,"body_markdown":"`ResourceUtils.getFile(pathToMyFile)` is not suitable for reading files from the classpath. It is primarily used for retrieving files from the file system.\r\n\r\nYou can modify your code and get `openStream` using `ResourceUtils` class and then convert that stream into String to read whole content of file  at once.\r\n\r\n    InputStream inputStream = ResourceUtils.getURL(pathToMyFile).openStream();\r\n    String wholeContentOfFile = StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8);\r\n    inputStream.close();\r\n\r\n","title":"Using ResourceUtils.getFile to read a file from classpath in Heroku environment","body":"<p><code>ResourceUtils.getFile(pathToMyFile)</code> is not suitable for reading files from the classpath. It is primarily used for retrieving files from the file system.</p>\n<p>You can modify your code and get <code>openStream</code> using <code>ResourceUtils</code> class and then convert that stream into String to read whole content of file  at once.</p>\n<pre><code>InputStream inputStream = ResourceUtils.getURL(pathToMyFile).openStream();\nString wholeContentOfFile = StreamUtils.copyToString(inputStream, StandardCharsets.UTF_8);\ninputStream.close();\n</code></pre>\n"}],"owner":{"account_id":390209,"reputation":9903,"user_id":750117,"accept_rate":58,"display_name":"jfcorugedo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24464,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":35727761,"answer_count":2,"score":9,"last_activity_date":1685374469,"creation_date":1456845089,"question_id":35726500,"body_markdown":"I&#39;m running a Spring Boot application in Heroku, using Maven to manage the build lifecycle.\r\n\r\nDuring the initialisation phase of my application, I want to read a file packaged into my JAR file.\r\n\r\nTo manage to get the content of the file I&#39;m using the Spring utility class `ResourceUtils`, and I&#39;m expressing the path of the file using the special prefix `classpath:`.\r\n\r\nThe code I&#39;m using looks like this:\r\n\r\n    String pathToMyFile = &quot;classpath:com/myapp/myFile.test&quot;\r\n    List&lt;String&gt; fileLines = Files.readLines(ResourceUtils.getFile(pathToMyFile), IOConstants.DEFAULT_CHARSET_TYPE);\r\n\r\nThis code works as expected when I execute the application in my local machine.\r\n\r\nBut when I push my application to Heroku I&#39;m getting the following error:\r\n\r\n    Caused by: java.io.FileNotFoundException: class path resource [com/myapp/myFile.test] \r\n    cannot be resolved to absolute file path because it does not reside in the \r\n    file system: jar:file:/app/target/myapp.jar!/com/myapp/myFile.test \r\n\r\nI&#39;ve run a `heroku run bash` and I&#39;ve checked that the file is just where it should be (inside the jar).\r\n\r\nMoreover, according to the error trace, Spring locates the file, because it transform the path from `classpath:com/myapp/myFile.test` to `jar:file:/app/target/myapp.jar!/com/myapp/myFile.test`\r\n\r\n","title":"Using ResourceUtils.getFile to read a file from classpath in Heroku environment","body":"<p>I'm running a Spring Boot application in Heroku, using Maven to manage the build lifecycle.</p>\n\n<p>During the initialisation phase of my application, I want to read a file packaged into my JAR file.</p>\n\n<p>To manage to get the content of the file I'm using the Spring utility class <code>ResourceUtils</code>, and I'm expressing the path of the file using the special prefix <code>classpath:</code>.</p>\n\n<p>The code I'm using looks like this:</p>\n\n<pre><code>String pathToMyFile = \"classpath:com/myapp/myFile.test\"\nList&lt;String&gt; fileLines = Files.readLines(ResourceUtils.getFile(pathToMyFile), IOConstants.DEFAULT_CHARSET_TYPE);\n</code></pre>\n\n<p>This code works as expected when I execute the application in my local machine.</p>\n\n<p>But when I push my application to Heroku I'm getting the following error:</p>\n\n<pre><code>Caused by: java.io.FileNotFoundException: class path resource [com/myapp/myFile.test] \ncannot be resolved to absolute file path because it does not reside in the \nfile system: jar:file:/app/target/myapp.jar!/com/myapp/myFile.test \n</code></pre>\n\n<p>I've run a <code>heroku run bash</code> and I've checked that the file is just where it should be (inside the jar).</p>\n\n<p>Moreover, according to the error trace, Spring locates the file, because it transform the path from <code>classpath:com/myapp/myFile.test</code> to <code>jar:file:/app/target/myapp.jar!/com/myapp/myFile.test</code></p>\n"},{"tags":["java","android","udp","video-streaming","libvlc"],"comments":[{"owner":{"account_id":5064211,"reputation":1914,"user_id":4064749,"display_name":"mfkl"},"score":0,"creation_date":1685506325,"post_id":76358574,"comment_id":134667993,"body_markdown":"share some logs, we&#39;re as blind as you here","body":"share some logs, we&#39;re as blind as you here"}],"owner":{"account_id":15695487,"reputation":131,"user_id":11325201,"display_name":"Ethan K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685374290,"creation_date":1685374290,"question_id":76358574,"body_markdown":"I am trying to achieve a playback of a `UDP` stream that streams packets of `MPEG Transport Stream.`\r\n\r\nRight now I was able to continuously read packets and append them to a `.ts file`.\r\nI decided to split the data into separate `.ts files` - each file has a a maximum duration of 3 seconds.\r\nEvery time I finish writing to a file - I update the UI to read the most recent file and play it.\r\n\r\nI am using the `LibVLC` library to play the `.ts files.`\r\n\r\nRight now I am able to play the corresponding videos - but apart from the 3 second delay - There are a lot of dropped frames which cause a very negative user experience.\r\n\r\nI believe that that it may be caused due to corrupt packets.\r\n\r\nI&#39;d love to hear any insights.\r\n\r\nI am using `Android 12`, \r\n`LibVLC` version: org.videolan.android:libvlc-all:3.3.0-eap10\r\nAnd `UDP` packets as well as `FileOutputStream` to write the packets.\r\n  ","title":"Android - Displaying a UDP video stream - handling corrupt packets","body":"<p>I am trying to achieve a playback of a <code>UDP</code> stream that streams packets of <code>MPEG Transport Stream.</code></p>\n<p>Right now I was able to continuously read packets and append them to a <code>.ts file</code>.\nI decided to split the data into separate <code>.ts files</code> - each file has a a maximum duration of 3 seconds.\nEvery time I finish writing to a file - I update the UI to read the most recent file and play it.</p>\n<p>I am using the <code>LibVLC</code> library to play the <code>.ts files.</code></p>\n<p>Right now I am able to play the corresponding videos - but apart from the 3 second delay - There are a lot of dropped frames which cause a very negative user experience.</p>\n<p>I believe that that it may be caused due to corrupt packets.</p>\n<p>I'd love to hear any insights.</p>\n<p>I am using <code>Android 12</code>,\n<code>LibVLC</code> version: org.videolan.android:libvlc-all:3.3.0-eap10\nAnd <code>UDP</code> packets as well as <code>FileOutputStream</code> to write the packets.</p>\n"},{"tags":["java","postgresql","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1685372470,"post_id":76358353,"comment_id":134647712,"body_markdown":"If you&#39;re running the application in a container, `localhost` is the application container, not another container or the outer host.  Also see for example [Docker Compose + Spring Boot + Postgres connection](https://stackoverflow.com/questions/44790923/docker-compose-spring-boot-postgres-connection) or other questions around connecting to databases in Docker.","body":"If you&#39;re running the application in a container, <code>localhost</code> is the application container, not another container or the outer host.  Also see for example <a href=\"https://stackoverflow.com/questions/44790923/docker-compose-spring-boot-postgres-connection\">Docker Compose + Spring Boot + Postgres connection</a> or other questions around connecting to databases in Docker."},{"owner":{"account_id":27670924,"reputation":1,"user_id":21121735,"display_name":"Amr Nashaat"},"score":0,"creation_date":1685372559,"post_id":76358353,"comment_id":134647729,"body_markdown":"Yeah. I&#39;ve already changed the application.yaml from referring to localhost to db.","body":"Yeah. I&#39;ve already changed the application.yaml from referring to localhost to db."}],"answers":[{"comments":[{"owner":{"account_id":27670924,"reputation":1,"user_id":21121735,"display_name":"Amr Nashaat"},"score":0,"creation_date":1685372795,"post_id":76358427,"comment_id":134647763,"body_markdown":"Yes good sir, I have changed it to point at db instead of localhost. Now Im having a `Caused by: java.net.UnknownHostException: db`","body":"Yes good sir, I have changed it to point at db instead of localhost. Now Im having a <code>Caused by: java.net.UnknownHostException: db</code>"}],"tags":[],"owner":{"account_id":1437483,"reputation":1908,"user_id":1358551,"display_name":"charybr"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685373161,"creation_date":1685372755,"answer_id":76358427,"question_id":76358353,"body_markdown":"In application.yaml, jdbc url cannot be localhost:5332 because spring application is running on one container and postgres db is on another container. Instead of localhost, it should point hostname of postgres container.\r\n\r\nFor example, create a container_name for postgres, create a environment variable and use that in jdbc url. \r\nRefer \r\n\r\nhttps://github.com/wkrzywiec/kanban-board/blob/master/kanban-app/src/main/resources/application.properties\r\n\r\nhttps://github.com/wkrzywiec/kanban-board/blob/master/docker-compose.yml","title":"Connection refused to PostgreSQL Docker container in Spring Boot application using a Dockerfile","body":"<p>In application.yaml, jdbc url cannot be localhost:5332 because spring application is running on one container and postgres db is on another container. Instead of localhost, it should point hostname of postgres container.</p>\n<p>For example, create a container_name for postgres, create a environment variable and use that in jdbc url.\nRefer</p>\n<p><a href=\"https://github.com/wkrzywiec/kanban-board/blob/master/kanban-app/src/main/resources/application.properties\" rel=\"nofollow noreferrer\">https://github.com/wkrzywiec/kanban-board/blob/master/kanban-app/src/main/resources/application.properties</a></p>\n<p><a href=\"https://github.com/wkrzywiec/kanban-board/blob/master/docker-compose.yml\" rel=\"nofollow noreferrer\">https://github.com/wkrzywiec/kanban-board/blob/master/docker-compose.yml</a></p>\n"},{"comments":[{"owner":{"account_id":27670924,"reputation":1,"user_id":21121735,"display_name":"Amr Nashaat"},"score":0,"creation_date":1685381149,"post_id":76358484,"comment_id":134649086,"body_markdown":"Hey pedro. First of all, thank you so much for your thorough reply. I&#39;ll try your solution in a bit, but Im currently struggling with another error probably becaseu Im using a MacBook M1. `failed to solve: rpc error: code = Unknown desc = failed to solve with frontend dockerfile.v0: failed to create LLB definition: rpc error: code = Unknown desc = error getting credentials - err: exit status 1, out:`","body":"Hey pedro. First of all, thank you so much for your thorough reply. I&#39;ll try your solution in a bit, but Im currently struggling with another error probably becaseu Im using a MacBook M1. <code>failed to solve: rpc error: code = Unknown desc = failed to solve with frontend dockerfile.v0: failed to create LLB definition: rpc error: code = Unknown desc = error getting credentials - err: exit status 1, out:</code>"}],"tags":[],"owner":{"account_id":3393686,"reputation":962,"user_id":2847913,"display_name":"Pedro Augusto Freitas de Souza"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685373436,"creation_date":1685373436,"answer_id":76358484,"question_id":76358353,"body_markdown":"Your application is trying to connect to a PostgreSQL server running on localhost, but when your application is running inside a Docker container, localhost refers to the container itself, not your machine.\r\n\r\nIn your Docker Compose file, you&#39;ve correctly set up a PostgreSQL server as a service and named it db. So you should configure your Spring Boot application to connect to this server by using the service name db as the hostname, instead of localhost.\r\n\r\nHowever, when you&#39;re running your application inside a Docker container, you aren&#39;t actually using Docker Compose, which is why your application isn&#39;t able to connect to the database.\r\n\r\nYou need to modify your docker-compose.yaml file to include the application as a service, alongside the database service, and use Docker Compose to run both services. Here is an example of what that might look like:\r\n\r\n    version: &#39;3&#39;\r\n    \r\n    services:\r\n      app:\r\n        container_name: irrigation-app\r\n        build:\r\n          context: .\r\n          dockerfile: Dockerfile\r\n        depends_on:\r\n          - db\r\n        ports:\r\n          - &quot;8080:8080&quot;\r\n    \r\n      db:\r\n        container_name: postgres\r\n        image: postgres\r\n        environment:\r\n          POSTGRES_USER: redacted\r\n          POSTGRES_PASSWORD: redacted\r\n          PGDATA: /data/postgres\r\n        volumes:\r\n          - db:/data/postgres\r\n        ports:\r\n          - &quot;5332:5432&quot;\r\n        networks:\r\n          - db\r\n        restart: unless-stopped\r\n    \r\n    networks:\r\n      db:\r\n        driver: bridge\r\n    \r\n    volumes:\r\n      db:\r\n\r\nYou should also modify your application.yaml file to connect to the db host instead of localhost:\r\n\r\n    spring:\r\n      datasource:\r\n        url: jdbc:postgresql://db:5432/irrigation\r\n\r\nNow, you should be able to start your application and database with the docker-compose up command, and your application should be able to connect to the database.\r\n\r\nNote: Docker Compose sets up a default network for all services defined in a docker-compose.yaml file and service-to-service communication can be done via service names as hostnames. Hence db is used as the hostname in the JDBC connection string.\r\n\r\nAlso, keep in mind that Docker Compose starts services in dependency order, which in your case means it starts the database before the application. However, it does not wait for a service to be &quot;ready&quot; (such as a database fully starting up and being ready to accept connections) before starting the next one. To handle this, your application should be able to tolerate the database connection not being immediately available, and should retry the connection if the initial connection attempt fails. This could be handled by Spring Boot&#39;s spring.datasource.initialization-mode property set to always (it is embedded by default).\r\n\r\nLast but not least, I removed EXPOSE 5332 and EXPOSE 5432 from your Dockerfile as your app container doesn&#39;t need to expose these ports, and updated the PostgreSQL port in application.yaml to 5432 because inside the network created by Docker Compose, the PostgreSQL container will be listening on its original port (5432), not the mapped one (5332).\r\n\r\n","title":"Connection refused to PostgreSQL Docker container in Spring Boot application using a Dockerfile","body":"<p>Your application is trying to connect to a PostgreSQL server running on localhost, but when your application is running inside a Docker container, localhost refers to the container itself, not your machine.</p>\n<p>In your Docker Compose file, you've correctly set up a PostgreSQL server as a service and named it db. So you should configure your Spring Boot application to connect to this server by using the service name db as the hostname, instead of localhost.</p>\n<p>However, when you're running your application inside a Docker container, you aren't actually using Docker Compose, which is why your application isn't able to connect to the database.</p>\n<p>You need to modify your docker-compose.yaml file to include the application as a service, alongside the database service, and use Docker Compose to run both services. Here is an example of what that might look like:</p>\n<pre><code>version: '3'\n\nservices:\n  app:\n    container_name: irrigation-app\n    build:\n      context: .\n      dockerfile: Dockerfile\n    depends_on:\n      - db\n    ports:\n      - &quot;8080:8080&quot;\n\n  db:\n    container_name: postgres\n    image: postgres\n    environment:\n      POSTGRES_USER: redacted\n      POSTGRES_PASSWORD: redacted\n      PGDATA: /data/postgres\n    volumes:\n      - db:/data/postgres\n    ports:\n      - &quot;5332:5432&quot;\n    networks:\n      - db\n    restart: unless-stopped\n\nnetworks:\n  db:\n    driver: bridge\n\nvolumes:\n  db:\n</code></pre>\n<p>You should also modify your application.yaml file to connect to the db host instead of localhost:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:postgresql://db:5432/irrigation\n</code></pre>\n<p>Now, you should be able to start your application and database with the docker-compose up command, and your application should be able to connect to the database.</p>\n<p>Note: Docker Compose sets up a default network for all services defined in a docker-compose.yaml file and service-to-service communication can be done via service names as hostnames. Hence db is used as the hostname in the JDBC connection string.</p>\n<p>Also, keep in mind that Docker Compose starts services in dependency order, which in your case means it starts the database before the application. However, it does not wait for a service to be &quot;ready&quot; (such as a database fully starting up and being ready to accept connections) before starting the next one. To handle this, your application should be able to tolerate the database connection not being immediately available, and should retry the connection if the initial connection attempt fails. This could be handled by Spring Boot's spring.datasource.initialization-mode property set to always (it is embedded by default).</p>\n<p>Last but not least, I removed EXPOSE 5332 and EXPOSE 5432 from your Dockerfile as your app container doesn't need to expose these ports, and updated the PostgreSQL port in application.yaml to 5432 because inside the network created by Docker Compose, the PostgreSQL container will be listening on its original port (5432), not the mapped one (5332).</p>\n"}],"owner":{"account_id":27670924,"reputation":1,"user_id":21121735,"display_name":"Amr Nashaat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":733,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1685373436,"creation_date":1685372179,"question_id":76358353,"body_markdown":"I&#39;m currently creating a backend API using Java 20, and Springboot. Im kind of a beginner. So Ill explain the structure Im following. Before thinking about dockerizing the application, I ussed a docker-compose file to run a PostgreSQL Database.\r\n\r\ndocker-compose.yaml\r\n```\r\n\r\nservices:\r\n  db:\r\n    container_name: postgres\r\n    image: postgres\r\n    environment:\r\n      POSTGRES_USER: redacted\r\n      POSTGRES_PASSWORD: redacted\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - db:/data/postgres\r\n    ports:\r\n      - &quot;5332:5432&quot;\r\n    networks:\r\n      - db\r\n    restart: unless-stopped\r\n\r\nnetworks:\r\n  db:\r\n    driver: bridge\r\n\r\nvolumes:\r\n  db:\r\n```\r\n\r\nAnd here is my application.yaml file as well\r\n```\r\nserver:\r\n  port: 8080\r\n\r\nspring:\r\n  datasource:\r\n    url: jdbc:postgresql://db:5332/irrigation\r\n    username: redacted\r\n    password: redacted\r\n    data: classpath:data.sql\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: create-drop\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.PostgreSQLDialect\r\n        format-sql: true\r\n    show-sql: false\r\n  main:\r\n    web-application-type: servlet\r\n```\r\nInitially, i ran docker-compose up -d to start up the postgre container on my machine (Im using a MacBook M1 Pro). Its working perfectly on my local machine.\r\nAnd here is the structure of my project (if It helps in anyways)\r\n\r\n```\r\n.\r\n├── Dockerfile\r\n├── HELP.md\r\n├── docker-compose.yaml\r\n├── mvnw\r\n├── mvnw.cmd\r\n├── pom.xml\r\n├── src\r\n│&#160;&#160; └── main\r\n│&#160;&#160;     ├── java\r\n│&#160;&#160;     │&#160;&#160; └── com\r\n│&#160;&#160;     │&#160;&#160;     └── amr\r\n│&#160;&#160;     │&#160;&#160;         └── irrigation\r\n│&#160;&#160;     │&#160;&#160;             ├── Main.java\r\n│&#160;&#160;     │&#160;&#160;             ├── Plot.java\r\n│&#160;&#160;     │&#160;&#160;             ├── TimeSlot.java\r\n│&#160;&#160;     │&#160;&#160;             ├── controllers\r\n│&#160;&#160;     │&#160;&#160;             │&#160;&#160; ├── PlotController.java\r\n│&#160;&#160;     │&#160;&#160;             │&#160;&#160; └── TimeslotController.java\r\n│&#160;&#160;     │&#160;&#160;             └── repositories\r\n│&#160;&#160;     │&#160;&#160;                 ├── PlotRepository.java\r\n│&#160;&#160;     │&#160;&#160;                 └── TimeslotRepository.java\r\n│&#160;&#160;     └── resources\r\n│&#160;&#160;         ├── application.yaml\r\n│&#160;&#160;         ├── data.sql\r\n│&#160;&#160;         └── import.sql\r\n└── target\r\n    ├── classes\r\n    │&#160;&#160; ├── application.yaml\r\n    │&#160;&#160; ├── com\r\n    │&#160;&#160; │&#160;&#160; └── amr\r\n    │&#160;&#160; │&#160;&#160;     └── irrigation\r\n    │&#160;&#160; │&#160;&#160;         ├── Main.class\r\n    │&#160;&#160; │&#160;&#160;         ├── Plot.class\r\n    │&#160;&#160; │&#160;&#160;         ├── TimeSlot.class\r\n    │&#160;&#160; │&#160;&#160;         ├── controllers\r\n    │&#160;&#160; │&#160;&#160;         │&#160;&#160; ├── PlotController.class\r\n    │&#160;&#160; │&#160;&#160;         │&#160;&#160; └── TimeslotController.class\r\n    │&#160;&#160; │&#160;&#160;         └── repositories\r\n    │&#160;&#160; │&#160;&#160;             ├── PlotRepository.class\r\n    │&#160;&#160; │&#160;&#160;             └── TimeslotRepository.class\r\n    │&#160;&#160; ├── data.sql\r\n    │&#160;&#160; └── import.sql\r\n    ├── generated-sources\r\n    │&#160;&#160; └── annotations\r\n    ├── irrigatiosvc-0.0.1-SNAPSHOT.jar\r\n    ├── irrigatiosvc-0.0.1-SNAPSHOT.jar.original\r\n    ├── maven-archiver\r\n    │&#160;&#160; └── pom.properties\r\n    └── maven-status\r\n        └── maven-compiler-plugin\r\n            └── compile\r\n                └── default-compile\r\n                    ├── createdFiles.lst\r\n                    └── inputFiles.lst\r\n```\r\n\r\nThe application runs perfectly. I&#39;ve also used the ./mvnw command to build a jar file for my application and I ran it. It works as planned.\r\n\r\n**What I actually want to do**\r\nIs to have my application as a microservice that runs on its own. To be able to run calls on my APIs using postman on localhost:8080, and to have the database running on port 5332. I also want the container to be self-sufficient, or in other words, have all the dependencies it needs to run on any machine.\r\nEDIT: I also want to run a command that created a database called irrigation. As this is the second thing I did manually. The tables, as I assume would happend, supposedly will be created automatically using the import.sql file I have.\r\n\r\n**What the problem is**\r\n```\r\nHere is my docker file\r\n\r\nFROM eclipse-temurin:20.0.1_9-jdk-alpine\r\nWORKDIR /app\r\nCOPY .mvn/ .mvn\r\nCOPY mvnw pom.xml ./\r\nRUN ./mvnw dependency:go-offline\r\nEXPOSE 8080\r\nEXPOSE 5332\r\nEXPOSE 5432\r\nCOPY src ./src\r\n\r\nRUN apk add docker-compose\r\n##CMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;]\r\n\r\nCMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;]\r\n```\r\n\r\nThis builds successfully. However, I get faced with an error\r\n\r\n`Caused by: org.postgresql.util.PSQLException: Connection to localhost:5332 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.`\r\n\r\nCOMPLETE LOG FILE: https://pastebin.com/shhtci33 \r\nPS: Im not sure if I should paste the log file here or just link it one pastebin. Please correct me if Im wrong.\r\n\r\nI have tried for countless hours, and searched a lot. I still dont know what the problem is. I tried running the docker-compose up -d on the dockerfile initially, however, It just returned docker-compose now found. I&#39;d be very glad if someone with more experience can spot where the error is, and potentially explain to me briefly how to solve it. Thank you for reading my question! :)\r\n\r\n\r\n","title":"Connection refused to PostgreSQL Docker container in Spring Boot application using a Dockerfile","body":"<p>I'm currently creating a backend API using Java 20, and Springboot. Im kind of a beginner. So Ill explain the structure Im following. Before thinking about dockerizing the application, I ussed a docker-compose file to run a PostgreSQL Database.</p>\n<p>docker-compose.yaml</p>\n<pre><code>\nservices:\n  db:\n    container_name: postgres\n    image: postgres\n    environment:\n      POSTGRES_USER: redacted\n      POSTGRES_PASSWORD: redacted\n      PGDATA: /data/postgres\n    volumes:\n      - db:/data/postgres\n    ports:\n      - &quot;5332:5432&quot;\n    networks:\n      - db\n    restart: unless-stopped\n\nnetworks:\n  db:\n    driver: bridge\n\nvolumes:\n  db:\n</code></pre>\n<p>And here is my application.yaml file as well</p>\n<pre><code>server:\n  port: 8080\n\nspring:\n  datasource:\n    url: jdbc:postgresql://db:5332/irrigation\n    username: redacted\n    password: redacted\n    data: classpath:data.sql\n  jpa:\n    hibernate:\n      ddl-auto: create-drop\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n        format-sql: true\n    show-sql: false\n  main:\n    web-application-type: servlet\n</code></pre>\n<p>Initially, i ran docker-compose up -d to start up the postgre container on my machine (Im using a MacBook M1 Pro). Its working perfectly on my local machine.\nAnd here is the structure of my project (if It helps in anyways)</p>\n<pre><code>.\n├── Dockerfile\n├── HELP.md\n├── docker-compose.yaml\n├── mvnw\n├── mvnw.cmd\n├── pom.xml\n├── src\n│   └── main\n│       ├── java\n│       │   └── com\n│       │       └── amr\n│       │           └── irrigation\n│       │               ├── Main.java\n│       │               ├── Plot.java\n│       │               ├── TimeSlot.java\n│       │               ├── controllers\n│       │               │   ├── PlotController.java\n│       │               │   └── TimeslotController.java\n│       │               └── repositories\n│       │                   ├── PlotRepository.java\n│       │                   └── TimeslotRepository.java\n│       └── resources\n│           ├── application.yaml\n│           ├── data.sql\n│           └── import.sql\n└── target\n    ├── classes\n    │   ├── application.yaml\n    │   ├── com\n    │   │   └── amr\n    │   │       └── irrigation\n    │   │           ├── Main.class\n    │   │           ├── Plot.class\n    │   │           ├── TimeSlot.class\n    │   │           ├── controllers\n    │   │           │   ├── PlotController.class\n    │   │           │   └── TimeslotController.class\n    │   │           └── repositories\n    │   │               ├── PlotRepository.class\n    │   │               └── TimeslotRepository.class\n    │   ├── data.sql\n    │   └── import.sql\n    ├── generated-sources\n    │   └── annotations\n    ├── irrigatiosvc-0.0.1-SNAPSHOT.jar\n    ├── irrigatiosvc-0.0.1-SNAPSHOT.jar.original\n    ├── maven-archiver\n    │   └── pom.properties\n    └── maven-status\n        └── maven-compiler-plugin\n            └── compile\n                └── default-compile\n                    ├── createdFiles.lst\n                    └── inputFiles.lst\n</code></pre>\n<p>The application runs perfectly. I've also used the ./mvnw command to build a jar file for my application and I ran it. It works as planned.</p>\n<p><strong>What I actually want to do</strong>\nIs to have my application as a microservice that runs on its own. To be able to run calls on my APIs using postman on localhost:8080, and to have the database running on port 5332. I also want the container to be self-sufficient, or in other words, have all the dependencies it needs to run on any machine.\nEDIT: I also want to run a command that created a database called irrigation. As this is the second thing I did manually. The tables, as I assume would happend, supposedly will be created automatically using the import.sql file I have.</p>\n<p><strong>What the problem is</strong></p>\n<pre><code>Here is my docker file\n\nFROM eclipse-temurin:20.0.1_9-jdk-alpine\nWORKDIR /app\nCOPY .mvn/ .mvn\nCOPY mvnw pom.xml ./\nRUN ./mvnw dependency:go-offline\nEXPOSE 8080\nEXPOSE 5332\nEXPOSE 5432\nCOPY src ./src\n\nRUN apk add docker-compose\n##CMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;]\n\nCMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;]\n</code></pre>\n<p>This builds successfully. However, I get faced with an error</p>\n<p><code>Caused by: org.postgresql.util.PSQLException: Connection to localhost:5332 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.</code></p>\n<p>COMPLETE LOG FILE: <a href=\"https://pastebin.com/shhtci33\" rel=\"nofollow noreferrer\">https://pastebin.com/shhtci33</a>\nPS: Im not sure if I should paste the log file here or just link it one pastebin. Please correct me if Im wrong.</p>\n<p>I have tried for countless hours, and searched a lot. I still dont know what the problem is. I tried running the docker-compose up -d on the dockerfile initially, however, It just returned docker-compose now found. I'd be very glad if someone with more experience can spot where the error is, and potentially explain to me briefly how to solve it. Thank you for reading my question! :)</p>\n"},{"tags":["java","getter-setter"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1685292770,"post_id":76352483,"comment_id":134638187,"body_markdown":"As per this [live demo](https://ideone.com/rYORy6), your code works. Use an IDE (I recommend IntelliJ) which will help you keep everything compiled.","body":"As per this <a href=\"https://ideone.com/rYORy6\" rel=\"nofollow noreferrer\">live demo</a>, your code works. Use an IDE (I recommend IntelliJ) which will help you keep everything compiled."}],"answers":[{"comments":[{"owner":{"account_id":21813050,"reputation":9,"user_id":16110278,"display_name":"Anurag Shirvatkar"},"score":0,"creation_date":1685373408,"post_id":76352519,"comment_id":134647899,"body_markdown":"I got solution, I changed name of class. I guess it doesn&#39;t allow duplicate class in same folder.","body":"I got solution, I changed name of class. I guess it doesn&#39;t allow duplicate class in same folder."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685291872,"creation_date":1685291872,"answer_id":76352519,"question_id":76352483,"body_markdown":"That error is not possible unless you have done the following:\r\n\r\n* You have compiled your code the way it was _before_ you added those getters/setters.\r\n* You then added them and (re)compiled everything. However, to a new location. Or, you have recompiled only your main class, with the changed (but not yet recompiled!) Employee source file on the sourcepath.\r\n* You are now running the class file created by compiling `main` __after__ your update, with the Employee class file created by compiling `Employee` __before__ it.\r\n\r\nSolution: Recompile everything.\r\n\r\n`NoSuchMethodError` can only occur if a method does exist when you compile your code but no longer exists at runtime - i.e. when you are mixing compilation output from different runs together (or, if it&#39;s not within your own code, you have compiled against version X of some library but at runtime version Y is on the classpath, or both X and Y are on the classpath resulting in an arbitrary one being used at runtime).\r\n\r\n","title":"Java: NoSuchMethodError when using getters and setters to access private variables from another class","body":"<p>That error is not possible unless you have done the following:</p>\n<ul>\n<li>You have compiled your code the way it was <em>before</em> you added those getters/setters.</li>\n<li>You then added them and (re)compiled everything. However, to a new location. Or, you have recompiled only your main class, with the changed (but not yet recompiled!) Employee source file on the sourcepath.</li>\n<li>You are now running the class file created by compiling <code>main</code> <strong>after</strong> your update, with the Employee class file created by compiling <code>Employee</code> <strong>before</strong> it.</li>\n</ul>\n<p>Solution: Recompile everything.</p>\n<p><code>NoSuchMethodError</code> can only occur if a method does exist when you compile your code but no longer exists at runtime - i.e. when you are mixing compilation output from different runs together (or, if it's not within your own code, you have compiled against version X of some library but at runtime version Y is on the classpath, or both X and Y are on the classpath resulting in an arbitrary one being used at runtime).</p>\n"}],"owner":{"account_id":21813050,"reputation":9,"user_id":16110278,"display_name":"Anurag Shirvatkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1685393122,"answer_count":1,"score":0,"last_activity_date":1685373201,"creation_date":1685291372,"question_id":76352483,"body_markdown":"-I am understanding working of getters and setters in java. I am trying to access private variables(id, name) of other class through -methods like getName(),setName(). but my main method is not able to detect these methods and gives\r\n\r\n&gt;error: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;void Employee.setName(java.lang.String)&#39;\r\n&gt;    at getterssetters_41.main(getterssetters_41.java:5)\r\n\r\nThis is my main class:\r\n\r\n```\r\npublic  class getterssetters_41 {\r\n    public static void main(String args[]) {\r\n        Employee emp1 = new Employee();\r\n        String anurag=&quot;Anurag&quot;;\r\n        emp1.setName(anurag);\r\n        System.out.println(emp1.getName());\r\n        emp1.setId(1);\r\n        System.out.println(emp1.getId());\r\n   }\r\n}\r\n```\r\n\r\n\r\n&gt;//This is class which have variables and methods I want to access\r\n\r\n```\r\nclass Employee {\r\n    private int id;\r\n    private  String name;\r\n    public String getName(){\r\n        return this.name;\r\n    }\r\n    public void setName(String n){\r\n        name = n;\r\n    }\r\n    public void setId(int i){\r\n        id = i;\r\n    }    public int getId(){\r\n        return this.id;\r\n    }\r\n}\r\n```\r\n\r\n&#39;\r\n\r\n","title":"Java: NoSuchMethodError when using getters and setters to access private variables from another class","body":"<p>-I am understanding working of getters and setters in java. I am trying to access private variables(id, name) of other class through -methods like getName(),setName(). but my main method is not able to detect these methods and gives</p>\n<blockquote>\n<p>error: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'void Employee.setName(java.lang.String)'\nat getterssetters_41.main(getterssetters_41.java:5)</p>\n</blockquote>\n<p>This is my main class:</p>\n<pre><code>public  class getterssetters_41 {\n    public static void main(String args[]) {\n        Employee emp1 = new Employee();\n        String anurag=&quot;Anurag&quot;;\n        emp1.setName(anurag);\n        System.out.println(emp1.getName());\n        emp1.setId(1);\n        System.out.println(emp1.getId());\n   }\n}\n</code></pre>\n<blockquote>\n<p>//This is class which have variables and methods I want to access</p>\n</blockquote>\n<pre><code>class Employee {\n    private int id;\n    private  String name;\n    public String getName(){\n        return this.name;\n    }\n    public void setName(String n){\n        name = n;\n    }\n    public void setId(int i){\n        id = i;\n    }    public int getId(){\n        return this.id;\n    }\n}\n</code></pre>\n<p>'</p>\n"},{"tags":["java","caching","microservices","grpc","hazelcast"],"comments":[{"owner":{"account_id":7820761,"reputation":324,"user_id":5913975,"display_name":"Sanjay Naik"},"score":0,"creation_date":1685428712,"post_id":76357800,"comment_id":134654147,"body_markdown":"@noctarius  can u guys please have a look at this?","body":"@noctarius  can u guys please have a look at this?"},{"owner":{"account_id":7820761,"reputation":324,"user_id":5913975,"display_name":"Sanjay Naik"},"score":0,"creation_date":1685428723,"post_id":76357800,"comment_id":134654149,"body_markdown":"@pveentjer can u guys please have a look at this?","body":"@pveentjer can u guys please have a look at this?"},{"owner":{"account_id":7820761,"reputation":324,"user_id":5913975,"display_name":"Sanjay Naik"},"score":0,"creation_date":1685428736,"post_id":76357800,"comment_id":134654151,"body_markdown":"@Neil Stevenson can u guys please have a look at this?","body":"@Neil Stevenson can u guys please have a look at this?"}],"owner":{"account_id":7820761,"reputation":324,"user_id":5913975,"display_name":"Sanjay Naik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685372664,"creation_date":1685366898,"question_id":76357800,"body_markdown":"I have 2 micro-service applications which connect with gRPC .I have implemented Hazelcast caching and have connected both applications to Hazelcast cache over TCP/IP.I have exposed same functionality in gRPC server using REST api as well as accessing the same from gRPC Client using gRPC call.Caching works properly when REST api of application which also acts as gRPC Server is hit.However Caching does not work when call is made by applications which also acts as gRPC Client using gRPC call.\r\n\r\nPlease help with this","title":"@Cacheable does not work when call is made from gRPC Client","body":"<p>I have 2 micro-service applications which connect with gRPC .I have implemented Hazelcast caching and have connected both applications to Hazelcast cache over TCP/IP.I have exposed same functionality in gRPC server using REST api as well as accessing the same from gRPC Client using gRPC call.Caching works properly when REST api of application which also acts as gRPC Server is hit.However Caching does not work when call is made by applications which also acts as gRPC Client using gRPC call.</p>\n<p>Please help with this</p>\n"},{"tags":["java","docx4j","aspose.words"],"answers":[{"tags":[],"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685372162,"creation_date":1685372162,"answer_id":76358351,"question_id":76357099,"body_markdown":"Embedded objects in Aspose.Words Document Object Model are represented by Shape nodes with [Shape.getOleFormat()][1] property set. You can check whether `OleFormat` property is not null to identify embedded OLE objects. \r\nYou can learn more about working with OLE objects from this article:\r\nhttps://docs.aspose.com/words/java/working-with-ole-objects/\r\n\r\n\r\n  [1]: https://reference.aspose.com/words/java/com.aspose.words/shape/#getOleFormat","title":"How to get the data of an embedded document inside a word document in Java","body":"<p>Embedded objects in Aspose.Words Document Object Model are represented by Shape nodes with <a href=\"https://reference.aspose.com/words/java/com.aspose.words/shape/#getOleFormat\" rel=\"nofollow noreferrer\">Shape.getOleFormat()</a> property set. You can check whether <code>OleFormat</code> property is not null to identify embedded OLE objects.\nYou can learn more about working with OLE objects from this article:\n<a href=\"https://docs.aspose.com/words/java/working-with-ole-objects/\" rel=\"nofollow noreferrer\">https://docs.aspose.com/words/java/working-with-ole-objects/</a></p>\n"}],"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1685372162,"creation_date":1685360887,"question_id":76357099,"body_markdown":"I am using Aspose library node collection to read a Word document node by node, but embedded documents are being identified as node of type shape. How can i get the data inside those documents. Is there any way to achieve this using Aspose words or any other library.","title":"How to get the data of an embedded document inside a word document in Java","body":"<p>I am using Aspose library node collection to read a Word document node by node, but embedded documents are being identified as node of type shape. How can i get the data inside those documents. Is there any way to achieve this using Aspose words or any other library.</p>\n"},{"tags":["java","spring","concurrency","java.util.concurrent"],"owner":{"account_id":7301358,"reputation":158,"user_id":7341580,"accept_rate":60,"display_name":"wp42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685371900,"creation_date":1685370851,"question_id":76358199,"body_markdown":"In a Spring application the goal is to have multiple threads running, 1 of each &quot;type&quot; at a time.\r\nWhen running  together type1, type2, type3, type3, only the first 3 are running (concurrently), but the last one seems to stay blocked and doesn&#39;t run.\r\n\r\n    class MyClass{\r\n    \t\r\n    \tprivate ReentrantLock lock = new ReentrantLock();\r\n    \tprivate Condition shouldRun = lock.newCondition();\r\n    \tprivate Set&lt;String&gt; currentRunningTypes = Sets.newHashSet();\r\n    \r\n    \t@Async\r\n    \tpublic void process(String type){\r\n    \t\ttry{\r\n    \t\t\tlog.info(&quot;Starting type {}&quot;, type);\r\n    \t\t\tlock.lock();\r\n    \t\t\twhile(currentRunningTypes.contains(type)) {\r\n    \t\t\t\tlog.info(&quot;waiting for type {}&quot;, type);\r\n    \t\t\t\tshouldRun.await();\r\n    \t\t\t}\r\n    \t\t\tcurrentRunningTypes.add(type);\r\n    \t\t\tlock.unlock();\r\n    \r\n    \t\t\tdoSomething(type);\r\n    \r\n    \t\t} finally {\r\n    \t\t\tlog.info(&quot;Type ended {}&quot;, type);\r\n    \t\t\tif(lock.isLocked) {\r\n    \t\t\t\tlock.unlock;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tprivate void doSomething(String type) {\r\n    \t\t//... process\r\n    \t\tcurrentRunningTypes.remove(type)\r\n    \t\tshouldRun.signalAll();\r\n    \t}\r\n    \r\n    }\r\n\r\nThe output:\r\n\r\n    Starting type type1\r\n    Starting type type2\r\n    Starting type type3\r\n    Starting type type4\r\n    waiting for type type4\r\n    Type ended type1\r\n    Type ended type2\r\n    Type ended type3\r\n\r\nThe expected output:\r\n\r\n    Starting type type1\r\n    Starting type type2\r\n    Starting type type3\r\n    Starting type type4\r\n    waiting for type type4\r\n    Type ended type1\r\n    Type ended type2\r\n    Type ended type3\r\n    Type ended type4\r\n\r\n\r\nWhy isn&#39;t the thread starting?","title":"How to manage threads with locks and custom condition with Spring?","body":"<p>In a Spring application the goal is to have multiple threads running, 1 of each &quot;type&quot; at a time.\nWhen running  together type1, type2, type3, type3, only the first 3 are running (concurrently), but the last one seems to stay blocked and doesn't run.</p>\n<pre><code>class MyClass{\n    \n    private ReentrantLock lock = new ReentrantLock();\n    private Condition shouldRun = lock.newCondition();\n    private Set&lt;String&gt; currentRunningTypes = Sets.newHashSet();\n\n    @Async\n    public void process(String type){\n        try{\n            log.info(&quot;Starting type {}&quot;, type);\n            lock.lock();\n            while(currentRunningTypes.contains(type)) {\n                log.info(&quot;waiting for type {}&quot;, type);\n                shouldRun.await();\n            }\n            currentRunningTypes.add(type);\n            lock.unlock();\n\n            doSomething(type);\n\n        } finally {\n            log.info(&quot;Type ended {}&quot;, type);\n            if(lock.isLocked) {\n                lock.unlock;\n            }\n        }\n\n    }\n\n    private void doSomething(String type) {\n        //... process\n        currentRunningTypes.remove(type)\n        shouldRun.signalAll();\n    }\n\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>Starting type type1\nStarting type type2\nStarting type type3\nStarting type type4\nwaiting for type type4\nType ended type1\nType ended type2\nType ended type3\n</code></pre>\n<p>The expected output:</p>\n<pre><code>Starting type type1\nStarting type type2\nStarting type type3\nStarting type type4\nwaiting for type type4\nType ended type1\nType ended type2\nType ended type3\nType ended type4\n</code></pre>\n<p>Why isn't the thread starting?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":6,"creation_date":1685359502,"post_id":76356919,"comment_id":134645225,"body_markdown":"Why did you make them static?","body":"Why did you make them static?"},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1685359566,"post_id":76356919,"comment_id":134645240,"body_markdown":"Because it is a record and we can only declare a static fields","body":"Because it is a record and we can only declare a static fields"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1685359663,"post_id":76356919,"comment_id":134645253,"body_markdown":"You can declare them in the constructor brackets,  just after the record name. But I don&#39;t think `Result` should be a record...","body":"You can declare them in the constructor brackets,  just after the record name. But I don&#39;t think <code>Result</code> should be a record..."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1685360177,"post_id":76356919,"comment_id":134645340,"body_markdown":"Why did you make it a record? (without components))","body":"Why did you make it a record? (without components))"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1685362493,"post_id":76356919,"comment_id":134645740,"body_markdown":"And what exactly is your question? That&#39;s just a code dump","body":"And what exactly is your question? That&#39;s just a code dump"}],"answers":[{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1685371271,"post_id":76357221,"comment_id":134647431,"body_markdown":"Good. Maybe just `if (state == ResultState.Faulted)` instead and delete `isFaulted()` and `isSuccess()` methods.","body":"Good. Maybe just <code>if (state == ResultState.Faulted)</code> instead and delete <code>isFaulted()</code> and <code>isSuccess()</code> methods."}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685371613,"creation_date":1685361938,"answer_id":76357221,"question_id":76356919,"body_markdown":"Since `T` is a generic type that can differ from one instance to another, you cannot use it for a static field. It doesn&#39;t have to do with records, it&#39;s just how java works. For instance, if you write this class, you&#39;ll get the same complication error:\r\n```java\r\nclass MyClass&lt;T&gt; {\r\n    public static T staticField; // ... cannot be referenced from a static context\r\n}\r\n```\r\nAs a result, if you replace the generic type `T` with `Object`, your code example will work:\r\n```\r\nstatic record Result&lt;T&gt;() {\r\n\tprivate static ResultState state;\r\n\tprivate static Exception exception;\r\n\tprivate static Object value;\r\n   \r\n    // ...\r\n}\r\n``` \r\nHowever, this looks wrong because each computation will override the previous (static) result. In my opinion, the correct way would be declare the *state, value* and *exception* fields inside the record itself, like this:\r\n\r\n```java\r\nstatic record Result&lt;T&gt;(\r\n\tResultState state,\r\n\tT value,\r\n\tException exception\r\n) {\r\n\r\n\tpublic Result(T value) {\r\n\t\tthis(ResultState.Success, value, null);\r\n\t}\r\n\r\n\tpublic Result(Exception e) {\r\n\t\tthis(ResultState.Success, null, e);\r\n\t}\r\n\r\n\tpublic void match(Consumer&lt;T&gt; succ, Consumer&lt;Exception&gt; fail) {\r\n\t\tif (state == ResultState.Faulted)\r\n\t\t\tfail.accept(exception);\r\n\t\telse\r\n\t\t\tsucc.accept(value);\r\n\t}\r\n}\r\n```","title":"Java records Generics : non-static type variable T cannot be referenced from a static context","body":"<p>Since <code>T</code> is a generic type that can differ from one instance to another, you cannot use it for a static field. It doesn't have to do with records, it's just how java works. For instance, if you write this class, you'll get the same complication error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClass&lt;T&gt; {\n    public static T staticField; // ... cannot be referenced from a static context\n}\n</code></pre>\n<p>As a result, if you replace the generic type <code>T</code> with <code>Object</code>, your code example will work:</p>\n<pre><code>static record Result&lt;T&gt;() {\n    private static ResultState state;\n    private static Exception exception;\n    private static Object value;\n   \n    // ...\n}\n</code></pre>\n<p>However, this looks wrong because each computation will override the previous (static) result. In my opinion, the correct way would be declare the <em>state, value</em> and <em>exception</em> fields inside the record itself, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static record Result&lt;T&gt;(\n    ResultState state,\n    T value,\n    Exception exception\n) {\n\n    public Result(T value) {\n        this(ResultState.Success, value, null);\n    }\n\n    public Result(Exception e) {\n        this(ResultState.Success, null, e);\n    }\n\n    public void match(Consumer&lt;T&gt; succ, Consumer&lt;Exception&gt; fail) {\n        if (state == ResultState.Faulted)\n            fail.accept(exception);\n        else\n            succ.accept(value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685371613,"creation_date":1685359469,"question_id":76356919,"body_markdown":"     public record Result&lt;T&gt;() {\r\n        private static ResultState state;\r\n        private static Exception exception;\r\n        private static T value;\r\n    \r\n        public Result(T value) {\r\n            state = ResultState.Success;\r\n            value = value;\r\n            exception = null;\r\n        }\r\n    \r\n        public Result(Exception e) {\r\n            state = ResultState.Faulted;\r\n            exception = e;\r\n            value = null;\r\n        }\r\n    \r\n        public static Supplier&lt;Boolean&gt; isFaulted = () -&gt; state == ResultState.Faulted;\r\n    \r\n        public static Supplier&lt;Boolean&gt; isSuccess = () -&gt; state == ResultState.Success;\r\n    \r\n        public void match(Consumer&lt;T&gt; succ, Consumer&lt;Exception&gt; fail) {\r\n            if (isFaulted.get())\r\n                fail.accept(exception);\r\n            else\r\n                succ.accept(value);\r\n        }\r\n    }\r\n\r\n**Exception**\r\n\r\n    error: non-static type variable T cannot be referenced from a static context\r\n        private static T value;\r\n                   ^","title":"Java records Generics : non-static type variable T cannot be referenced from a static context","body":"<pre><code> public record Result&lt;T&gt;() {\n    private static ResultState state;\n    private static Exception exception;\n    private static T value;\n\n    public Result(T value) {\n        state = ResultState.Success;\n        value = value;\n        exception = null;\n    }\n\n    public Result(Exception e) {\n        state = ResultState.Faulted;\n        exception = e;\n        value = null;\n    }\n\n    public static Supplier&lt;Boolean&gt; isFaulted = () -&gt; state == ResultState.Faulted;\n\n    public static Supplier&lt;Boolean&gt; isSuccess = () -&gt; state == ResultState.Success;\n\n    public void match(Consumer&lt;T&gt; succ, Consumer&lt;Exception&gt; fail) {\n        if (isFaulted.get())\n            fail.accept(exception);\n        else\n            succ.accept(value);\n    }\n}\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code>error: non-static type variable T cannot be referenced from a static context\n    private static T value;\n               ^\n</code></pre>\n"},{"tags":["java","windows","registry"],"comments":[{"owner":{"account_id":680,"reputation":960785,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"score":0,"creation_date":1329947792,"post_id":9403685,"comment_id":11883308,"body_markdown":"possible duplicate of [read/write to Windows Registry using Java](http://stackoverflow.com/questions/62289/read-write-to-windows-registry-using-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/62289/read-write-to-windows-registry-using-java\">read/write to Windows Registry using Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":1161155,"reputation":4421,"user_id":1140620,"display_name":"Sergey Benner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329948235,"creation_date":1329947867,"answer_id":9403735,"question_id":9403685,"body_markdown":"I&#39;ve used jRegistryKey.dll jRegistryKey.jar \r\nHere you go \r\nftp://ftp.heanet.ie/mirrors/sourceforge/j/project/jr/jregistrykey/manual/original/jreg_key.pdf\r\n\r\ne.g. code:\r\n\r\n    import ca.beq.util.win32.registry.RegistryKey;\r\n    import ca.beq.util.win32.registry.RegistryValue;\r\n    import ca.beq.util.win32.registry.RootKey;\r\n    \r\nenumeration from example ---\r\n\r\n    RegistryKey r = new RegistryKey(RootKey.HKEY_CURRENT_USER, &quot;Software&quot;);\r\n    if(r.hasSubkeys()) {\r\n       Iterator i = r.subkeys();\r\n       while(i.hasNext()) {\r\n          RegistryKey x = (RegistryKey)i.next();\r\n          System.out.println(x.toString());\r\n       } // while\r\n    } // if\r\n\r\n---------------\r\n    \r\n             RegistryKey r = new RegistryKey(RootKey.HKEY_LOCAL_MACHINE, &quot;Software\\\\app\\\\update\\\\Date&quot;);\r\n              if (r.hasValue(&quot;LastSuccessfulUpdate&quot;)) {\r\n                RegistryValue v = r.getValue(&quot;LastSuccessfulUpdate&quot;);\r\n                updateDate = v.getStringValue();\r\n                Date now = new Date(Long.parseLong(updateDate.trim() + &quot;000&quot;));\r\n................\r\n        }\r\n","title":"Reading subfolders within the registry (JAVA)","body":"<p>I've used jRegistryKey.dll jRegistryKey.jar \nHere you go \n<a href=\"ftp://ftp.heanet.ie/mirrors/sourceforge/j/project/jr/jregistrykey/manual/original/jreg_key.pdf\" rel=\"nofollow\">ftp://ftp.heanet.ie/mirrors/sourceforge/j/project/jr/jregistrykey/manual/original/jreg_key.pdf</a></p>\n\n<p>e.g. code:</p>\n\n<pre><code>import ca.beq.util.win32.registry.RegistryKey;\nimport ca.beq.util.win32.registry.RegistryValue;\nimport ca.beq.util.win32.registry.RootKey;\n</code></pre>\n\n<p>enumeration from example ---</p>\n\n<pre><code>RegistryKey r = new RegistryKey(RootKey.HKEY_CURRENT_USER, \"Software\");\nif(r.hasSubkeys()) {\n   Iterator i = r.subkeys();\n   while(i.hasNext()) {\n      RegistryKey x = (RegistryKey)i.next();\n      System.out.println(x.toString());\n   } // while\n} // if\n</code></pre>\n\n<hr>\n\n<pre><code>         RegistryKey r = new RegistryKey(RootKey.HKEY_LOCAL_MACHINE, \"Software\\\\app\\\\update\\\\Date\");\n          if (r.hasValue(\"LastSuccessfulUpdate\")) {\n            RegistryValue v = r.getValue(\"LastSuccessfulUpdate\");\n            updateDate = v.getStringValue();\n            Date now = new Date(Long.parseLong(updateDate.trim() + \"000\"));\n</code></pre>\n\n<p>................\n        }</p>\n"}],"owner":{"account_id":1270546,"reputation":1,"user_id":1226938,"display_name":"user1226938"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685370977,"creation_date":1329947627,"question_id":9403685,"body_markdown":"I&#39;m busy creating a program that will read parts of the registry to find out what USB devices have been connected to a windows system etc... I&#39;ve managed to create a piece of software what will display the values, however each person&#39;s registry will hold different information.\r\n\r\nI&#39;ve tried looking everywhere to find help/guidence with code to be able to scan a registry folder and display the subfolders within it. I know there is plenty of code for reading ordinary file locations however none will work with attempting to read the registry.\r\n\r\nThe folder location I am trying to read is:\r\n\r\n**&quot;\\&quot;HKLM\\\\SYSTEM\\\\CurrentControlSet\\\\Enum\\\\USBSTOR\\\\**\r\n\r\nI&#39;ve managed to create a program which will read the values from the above location however I have to manualy specify each subfolder into the code.\r\n\r\n\r\nI hope i&#39;ve explained what i need, sorry if it&#39;s confusing\r\n\r\nThanks in advance\r\n\r\n","title":"Reading subfolders within the registry (JAVA)","body":"<p>I'm busy creating a program that will read parts of the registry to find out what USB devices have been connected to a windows system etc... I've managed to create a piece of software what will display the values, however each person's registry will hold different information.</p>\n\n<p>I've tried looking everywhere to find help/guidence with code to be able to scan a registry folder and display the subfolders within it. I know there is plenty of code for reading ordinary file locations however none will work with attempting to read the registry.</p>\n\n<p>The folder location I am trying to read is:</p>\n\n<p><strong>\"\\\"HKLM\\SYSTEM\\CurrentControlSet\\Enum\\USBSTOR\\</strong></p>\n\n<p>I've managed to create a program which will read the values from the above location however I have to manualy specify each subfolder into the code.</p>\n\n<p>I hope i've explained what i need, sorry if it's confusing</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","kotlin","gradle","jdbc","clickhouse"],"owner":{"account_id":24946535,"reputation":11,"user_id":18811799,"display_name":"chumbo79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685370803,"creation_date":1685370803,"question_id":76358197,"body_markdown":"I&#39;m currently working on a Kotlin/Java/Gradle project where I&#39;m interfacing with ClickHouse using their JDBC driver. I&#39;m writing a function that generates a ClickHouse file based on a given list of columns with associated data types.\r\n\r\nMy primary issue is with the mapping of regular data types to the supported ClickHouse data types via the JDBC driver. I currently have a mapping as follows:\r\n\r\n```\r\nval dataTypes = mapOf(\r\n    &quot;int&quot; to &quot;Int32&quot;,\r\n    &quot;float&quot; to &quot;Decimal32(2)&quot;,\r\n    &quot;float64&quot; to &quot;Decimal64(2)&quot;,\r\n    &quot;boolean&quot; to &quot;Bool&quot;,\r\n    &quot;string&quot; to &quot;String&quot;,\r\n    &quot;date&quot; to &quot;Date&quot;,\r\n    &quot;datetime&quot; to &quot;DateTime&quot;\r\n)\r\n```\r\n\r\nThis mapping does not cover all the data types that the ClickHouse JDBC driver supports, and I&#39;m struggling to create a comprehensive and accurate mapping between the regular data types and these supported data types. The supported data types are:\r\n\r\n- Array(*)\r\n- Bool\r\n- Date*\r\n- DateTime*\r\n- Decimal*\r\n- Enum*\r\n- Geo Types (Point, Ring, Polygon, and MultiPolygon)\r\n- Int*, UInt* (UInt64 is mapped to long)\r\n- IPv*\r\n- Map(*)\r\n- Nested(*)\r\n- Object(&#39;JSON&#39;)\r\n- SimpleAggregateFunction\r\n- *String\r\n- Tuple(*)\r\n- UUID\r\n\r\nSpecifically, I&#39;m facing issues when dealing with float, decimal, and date and datetime data types. I&#39;m not sure about the best practices to handle these types in ClickHouse and I&#39;d appreciate any guidance on how to map these types properly.\r\n\r\nIn addition, I&#39;m looking for advice on handling specific edge cases, such as how to handle the UUID generation for &#39;increment&#39; generator columns, and the proper casting of the different ClickHouse data types when inserting the values into the table.\r\n\r\nHere is the function I&#39;m working on for reference:\r\n\r\n```\r\noverride fun getGeneratedFileClickhouse(file: File, rows: Int, columns: List&lt;ColumnSettings&gt;, tableName: String): InputStreamResource {\r\n\r\n        val dummyTable = getGeneratedList(rows, columns)\r\n        val tableName = tableName\r\n        val columnNames = columns.joinToString(&quot;, &quot;) { it.name }\r\n        val dataTypes = mapOf(\r\n            &quot;int&quot; to &quot;Int32&quot;,\r\n            &quot;float&quot; to &quot;Decimal32(2)&quot;,\r\n            &quot;float64&quot; to &quot;Decimal64(2)&quot;,\r\n            &quot;boolean&quot; to &quot;Bool&quot;,\r\n            &quot;string&quot; to &quot;String&quot;,\r\n            &quot;date&quot; to &quot;Date&quot;,\r\n            &quot;datetime&quot; to &quot;DateTime&quot;\r\n        )\r\n\r\n\r\n\r\n        try {\r\n            val writer = FileWriter(file)\r\n\r\n            // Generate the CREATE TABLE statement\r\n            writer.write(&quot;CREATE TABLE $tableName (\\n&quot;)\r\n            var primaryKey = &quot;&quot;\r\n            for (column in columns) {\r\n                val dataType = dataTypes[column.dataType]\r\n                writer.write(&quot;  ${column.name} $dataType&quot;)\r\n                if (column.generator == &quot;increment&quot;) {\r\n                    if (column.dataType != &quot;int&quot;) {\r\n                        throw IllegalArgumentException(&quot;The &#39;increment&#39; generator can only be applied to &#39;int&#39; columns. Column &#39;${column.name}&#39; has dataType &#39;${column.dataType}&#39;.&quot;)\r\n                    }\r\n                    writer.write(&quot; DEFAULT generateUUIDv4()&quot;)\r\n                    primaryKey = column.name\r\n                }\r\n                writer.write(&quot;,\\n&quot;)\r\n            }\r\n\r\n\r\n            if (primaryKey.isNotEmpty()) {\r\n                writer.write(&quot;  PRIMARY KEY ($primaryKey)\\n&quot;)\r\n                writer.write(&quot;) ENGINE = MergeTree ORDER BY $primaryKey;\\n\\n&quot;)\r\n            } else {\r\n                writer.write(&quot;) ENGINE = MergeTree();\\n\\n&quot;)  // no ORDER BY\r\n            }\r\n\r\n            // Generate the INSERT INTO statements\r\n            for ((indexRow, row) in dummyTable.withIndex()) {\r\n\r\n                // Head line with column names\r\n                if (indexRow == 0) continue\r\n\r\n                writer.write(&quot;INSERT INTO $tableName ($columnNames) VALUES (&quot;)\r\n                for ((index, column) in columns.withIndex()) {\r\n                    val value = when (dataTypes[column.dataType]) {\r\n                        &quot;Int32&quot; -&gt; row.fields[index].toInt()\r\n                        &quot;Decimal32(2)&quot;, &quot;Decimal64(2)&quot; -&gt; row.fields[index].toDouble()\r\n                        &quot;Bool&quot; -&gt; if (row.fields[index] == &quot;true&quot;) &quot;1&quot; else &quot;0&quot;\r\n                        &quot;String&quot; -&gt; &quot;&#39;${row.fields[index]}&#39;&quot;\r\n                        &quot;Date&quot; -&gt; &quot;toDate(&#39;${row.fields[index]}&#39;)&quot;\r\n                        &quot;DateTime&quot; -&gt; &quot;toDateTime(&#39;${row.fields[index]}&#39;)&quot;\r\n                        else -&gt; error(&quot;Unknown data type: ${column.dataType}&quot;)\r\n                    }\r\n\r\n\r\n                    writer.write(&quot;$value&quot;)\r\n                    if (index &lt; columns.count() - 1) writer.write(&quot;, &quot;)\r\n                }\r\n                writer.write(&quot;);\\n&quot;)\r\n            }\r\n\r\n            writer.close()\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        }\r\n\r\n        val inputStream = FileInputStream(file)\r\n\r\n        return InputStreamResource(inputStream)\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI tried to map my standard data types to the ClickHouse JDBC supported data types using a Kotlin Map.\r\nI&#39;ve been testing this using a function that generates a ClickHouse file.\r\nI&#39;ve attempted to handle the generation of UUID for &#39;increment&#39; generator columns in this function.\r\n\r\nI expected that my existing mapping would cover all cases, but it doesn&#39;t accommodate all the data types supported by ClickHouse JDBC.\r\nWhen handling the &#39;increment&#39; generator columns, I anticipated that the UUID would be generated for each new increment.\r\n","title":"Mapping Regular Data Types to ClickHouse JDBC Supported Data Types in Kotlin","body":"<p>I'm currently working on a Kotlin/Java/Gradle project where I'm interfacing with ClickHouse using their JDBC driver. I'm writing a function that generates a ClickHouse file based on a given list of columns with associated data types.</p>\n<p>My primary issue is with the mapping of regular data types to the supported ClickHouse data types via the JDBC driver. I currently have a mapping as follows:</p>\n<pre><code>val dataTypes = mapOf(\n    &quot;int&quot; to &quot;Int32&quot;,\n    &quot;float&quot; to &quot;Decimal32(2)&quot;,\n    &quot;float64&quot; to &quot;Decimal64(2)&quot;,\n    &quot;boolean&quot; to &quot;Bool&quot;,\n    &quot;string&quot; to &quot;String&quot;,\n    &quot;date&quot; to &quot;Date&quot;,\n    &quot;datetime&quot; to &quot;DateTime&quot;\n)\n</code></pre>\n<p>This mapping does not cover all the data types that the ClickHouse JDBC driver supports, and I'm struggling to create a comprehensive and accurate mapping between the regular data types and these supported data types. The supported data types are:</p>\n<ul>\n<li>Array(*)</li>\n<li>Bool</li>\n<li>Date*</li>\n<li>DateTime*</li>\n<li>Decimal*</li>\n<li>Enum*</li>\n<li>Geo Types (Point, Ring, Polygon, and MultiPolygon)</li>\n<li>Int*, UInt* (UInt64 is mapped to long)</li>\n<li>IPv*</li>\n<li>Map(*)</li>\n<li>Nested(*)</li>\n<li>Object('JSON')</li>\n<li>SimpleAggregateFunction</li>\n<li>*String</li>\n<li>Tuple(*)</li>\n<li>UUID</li>\n</ul>\n<p>Specifically, I'm facing issues when dealing with float, decimal, and date and datetime data types. I'm not sure about the best practices to handle these types in ClickHouse and I'd appreciate any guidance on how to map these types properly.</p>\n<p>In addition, I'm looking for advice on handling specific edge cases, such as how to handle the UUID generation for 'increment' generator columns, and the proper casting of the different ClickHouse data types when inserting the values into the table.</p>\n<p>Here is the function I'm working on for reference:</p>\n<pre><code>override fun getGeneratedFileClickhouse(file: File, rows: Int, columns: List&lt;ColumnSettings&gt;, tableName: String): InputStreamResource {\n\n        val dummyTable = getGeneratedList(rows, columns)\n        val tableName = tableName\n        val columnNames = columns.joinToString(&quot;, &quot;) { it.name }\n        val dataTypes = mapOf(\n            &quot;int&quot; to &quot;Int32&quot;,\n            &quot;float&quot; to &quot;Decimal32(2)&quot;,\n            &quot;float64&quot; to &quot;Decimal64(2)&quot;,\n            &quot;boolean&quot; to &quot;Bool&quot;,\n            &quot;string&quot; to &quot;String&quot;,\n            &quot;date&quot; to &quot;Date&quot;,\n            &quot;datetime&quot; to &quot;DateTime&quot;\n        )\n\n\n\n        try {\n            val writer = FileWriter(file)\n\n            // Generate the CREATE TABLE statement\n            writer.write(&quot;CREATE TABLE $tableName (\\n&quot;)\n            var primaryKey = &quot;&quot;\n            for (column in columns) {\n                val dataType = dataTypes[column.dataType]\n                writer.write(&quot;  ${column.name} $dataType&quot;)\n                if (column.generator == &quot;increment&quot;) {\n                    if (column.dataType != &quot;int&quot;) {\n                        throw IllegalArgumentException(&quot;The 'increment' generator can only be applied to 'int' columns. Column '${column.name}' has dataType '${column.dataType}'.&quot;)\n                    }\n                    writer.write(&quot; DEFAULT generateUUIDv4()&quot;)\n                    primaryKey = column.name\n                }\n                writer.write(&quot;,\\n&quot;)\n            }\n\n\n            if (primaryKey.isNotEmpty()) {\n                writer.write(&quot;  PRIMARY KEY ($primaryKey)\\n&quot;)\n                writer.write(&quot;) ENGINE = MergeTree ORDER BY $primaryKey;\\n\\n&quot;)\n            } else {\n                writer.write(&quot;) ENGINE = MergeTree();\\n\\n&quot;)  // no ORDER BY\n            }\n\n            // Generate the INSERT INTO statements\n            for ((indexRow, row) in dummyTable.withIndex()) {\n\n                // Head line with column names\n                if (indexRow == 0) continue\n\n                writer.write(&quot;INSERT INTO $tableName ($columnNames) VALUES (&quot;)\n                for ((index, column) in columns.withIndex()) {\n                    val value = when (dataTypes[column.dataType]) {\n                        &quot;Int32&quot; -&gt; row.fields[index].toInt()\n                        &quot;Decimal32(2)&quot;, &quot;Decimal64(2)&quot; -&gt; row.fields[index].toDouble()\n                        &quot;Bool&quot; -&gt; if (row.fields[index] == &quot;true&quot;) &quot;1&quot; else &quot;0&quot;\n                        &quot;String&quot; -&gt; &quot;'${row.fields[index]}'&quot;\n                        &quot;Date&quot; -&gt; &quot;toDate('${row.fields[index]}')&quot;\n                        &quot;DateTime&quot; -&gt; &quot;toDateTime('${row.fields[index]}')&quot;\n                        else -&gt; error(&quot;Unknown data type: ${column.dataType}&quot;)\n                    }\n\n\n                    writer.write(&quot;$value&quot;)\n                    if (index &lt; columns.count() - 1) writer.write(&quot;, &quot;)\n                }\n                writer.write(&quot;);\\n&quot;)\n            }\n\n            writer.close()\n        } catch (e: IOException) {\n            e.printStackTrace()\n        }\n\n        val inputStream = FileInputStream(file)\n\n        return InputStreamResource(inputStream)\n    }\n}\n\n</code></pre>\n<p>I tried to map my standard data types to the ClickHouse JDBC supported data types using a Kotlin Map.\nI've been testing this using a function that generates a ClickHouse file.\nI've attempted to handle the generation of UUID for 'increment' generator columns in this function.</p>\n<p>I expected that my existing mapping would cover all cases, but it doesn't accommodate all the data types supported by ClickHouse JDBC.\nWhen handling the 'increment' generator columns, I anticipated that the UUID would be generated for each new increment.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3585451,"reputation":6335,"user_id":2992754,"display_name":"juanlumn"},"score":0,"creation_date":1685368378,"post_id":76357755,"comment_id":134646928,"body_markdown":"What is your project structure? shouldn&#39;t be `ModelAndView modelAndView = new ModelAndView(&quot;public/change-password&quot;)` ? and `return &quot;public/change-password&quot;;`?","body":"What is your project structure? shouldn&#39;t be <code>ModelAndView modelAndView = new ModelAndView(&quot;public&#47;change-password&quot;)</code> ? and <code>return &quot;public&#47;change-password&quot;;</code>?"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1685368547,"post_id":76357755,"comment_id":134646955,"body_markdown":"sorry forgot to post the structure of the JSPs - structure is WEB-INF/jsp/public/change-password/change-password","body":"sorry forgot to post the structure of the JSPs - structure is WEB-INF/jsp/public/change-password/change-password"},{"owner":{"account_id":3585451,"reputation":6335,"user_id":2992754,"display_name":"juanlumn"},"score":0,"creation_date":1685368728,"post_id":76357755,"comment_id":134646987,"body_markdown":"So maybe here should be `&lt;property name=&quot;changePasswordUrl&quot; value=&quot;/public/change-password/change-password&quot; /&gt;` ?","body":"So maybe here should be <code>&lt;property name=&quot;changePasswordUrl&quot; value=&quot;&#47;public&#47;change-password&#47;change-password&quot; &#47;&gt;</code> ?"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1685370242,"post_id":76357755,"comment_id":134647233,"body_markdown":"@juanlumn yep tried this and it didn&#39;t work","body":"@juanlumn yep tried this and it didn&#39;t work"},{"owner":{"account_id":3585451,"reputation":6335,"user_id":2992754,"display_name":"juanlumn"},"score":0,"creation_date":1685370429,"post_id":76357755,"comment_id":134647262,"body_markdown":"Can you also share the change-password.jsp file or double check that it&#39;s properly named?","body":"Can you also share the change-password.jsp file or double check that it&#39;s properly named?"},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1685370551,"post_id":76357755,"comment_id":134647280,"body_markdown":"sure - added now","body":"sure - added now"},{"owner":{"account_id":3585451,"reputation":6335,"user_id":2992754,"display_name":"juanlumn"},"score":1,"creation_date":1685371153,"post_id":76357755,"comment_id":134647402,"body_markdown":"Does this answer your question? [HTTP status - 404 Resource not found exception in JSP](https://stackoverflow.com/questions/22829269/http-status-404-resource-not-found-exception-in-jsp)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22829269/http-status-404-resource-not-found-exception-in-jsp\">HTTP status - 404 Resource not found exception in JSP</a>"}],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1685370548,"creation_date":1685366477,"question_id":76357755,"body_markdown":"I am upgrading a legacy spring app tech stack and in the process of upgrading to spring 5.\r\n\r\nI have made the necessary upgrades but left the controllers etc.. as they are mapped and I dont think anything is needed updated based off the documentation i have looked at (unless someone can tell me otherwise and why)\r\n\r\nThe error occurs when trying to login - user is brought to the change password screen and a 404 is thrown. \r\n\r\n**Message JSP file [/WEB-INF/jsp/public/change-password.jsp] not found**\r\n\r\nchange-password.jsp\r\n```\r\n&lt;jsp:include flush=&quot;true&quot; page=&quot;/WEB-INF/jsp/layout.jsp&quot;&gt;\r\n\t&lt;jsp:param name=&quot;title&quot; value=&quot;change.password.title.text&quot; /&gt;\r\n\t&lt;jsp:param name=&quot;main&quot; value=&quot;/WEB-INF/jsp/public/change-password/change-password.main.jsp&quot; /&gt;\r\n\t&lt;jsp:param name=&quot;menu&quot; value=&quot;common/menu.jsp&quot; /&gt;\r\n\t&lt;jsp:param name=&quot;footer&quot; value=&quot;common/footer.jsp&quot; /&gt;\t\r\n&lt;/jsp:include&gt;\r\n```\r\n\r\nchange-password.main.jsp\r\n```\r\n&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\r\n&lt;%@ taglib prefix=&quot;spring&quot; uri=&quot;http://www.springframework.org/tags&quot;%&gt;\r\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot;%&gt;\r\n&lt;%@ taglib prefix=&quot;name&quot; uri=&quot;http://www.name.com/tags&quot;%&gt;\r\n\r\n&lt;h1&gt;\r\n\t&lt;spring:message code=&quot;change.password.header.text&quot; /&gt;\r\n&lt;/h1&gt;\r\n&lt;h2&gt;\r\n\t&lt;spring:message code=&quot;change.password.help.text1&quot; /&gt;\r\n\t&lt;br&gt;&lt;/br&gt;\r\n\t&lt;spring:message code=&quot;change.password.help.text2&quot; /&gt;\r\n&lt;/h2&gt;\r\n\r\n&lt;name:form modelAttribute=&quot;changePasswordFormObject&quot; action=&quot;public/change-password/save&quot;&gt;\r\n\r\n\t&lt;table&gt;\t\t\t\t\t\r\n\t\t&lt;tr&gt;\r\n\t\t\t&lt;td&gt;\r\n\t\t\t\t&lt;spring:message code=&quot;change.password.currentPassword.text&quot; /&gt;\r\n\t\t\t&lt;/td&gt;\r\n\t\t\t&lt;td&gt;\r\n\t\t\t\t&lt;form:password path=&quot;currentPassword&quot; showPassword=&quot;true&quot; id=&quot;currentPassword&quot;/&gt;\r\n\t\t\t&lt;/td&gt;\r\n\t\t\t&lt;td&gt;\r\n\t\t\t\t&lt;form:errors path=&quot;currentPassword&quot; cssClass=&quot;error&quot; /&gt;\r\n\t\t\t&lt;/td&gt;\r\n\t\t&lt;/tr&gt;\r\n\t\t&lt;tr&gt;\r\n\t\t\t&lt;td&gt;\r\n\t\t\t\t&lt;spring:message code=&quot;change.password.newPassword.text&quot; /&gt;\r\n\t\t\t&lt;/td&gt;\r\n\t\t\t&lt;td&gt;\r\n\t\t\t\t&lt;form:password path=&quot;newPassword&quot; showPassword=&quot;true&quot; /&gt;\r\n\t\t\t&lt;/td&gt;\r\n\t\t\t&lt;td&gt;\r\n\t\t\t\t&lt;form:errors path=&quot;newPassword&quot; cssClass=&quot;error&quot; /&gt;\r\n\t\t\t&lt;/td&gt;\r\n\t\t&lt;/tr&gt;\r\n\t\t&lt;tr&gt;\r\n\t\t\t&lt;td&gt;\r\n\t\t\t\t&lt;spring:message code=&quot;change.password.confirmPassword.text&quot; /&gt;\r\n\t\t\t&lt;/td&gt;\r\n\t\t\t&lt;td&gt;\r\n\t\t\t\t&lt;form:password path=&quot;confirmPassword&quot; showPassword=&quot;true&quot; /&gt;\r\n\t\t\t&lt;/td&gt;\r\n\t\t\t&lt;td&gt;\r\n\t\t\t\t&lt;form:errors path=&quot;confirmPassword&quot; cssClass=&quot;error&quot; /&gt;\r\n\t\t\t&lt;/td&gt;\r\n\t\t&lt;/tr&gt;\t\r\n\t&lt;/table&gt;\r\n\r\n\t&lt;p&gt;\t\t\r\n\t\t&lt;amor:dojoSubmitButton name=&quot;changePasswordButton&quot; id=&quot;changePasswordButton&quot;&gt;\r\n\t\t\t&lt;spring:message code=&quot;change.password.button.save.text&quot; /&gt;\t\t\t\t\r\n\t\t&lt;/amor:dojoSubmitButton&gt;\r\n\t&lt;/p&gt;\r\n\t\r\n&lt;/name:form&gt;\r\n```\r\n\r\nChange password controller\r\n```\r\n@PublicController\r\n@RequestMapping(&quot;/change-password&quot;)\r\n@SessionAttributes(&quot;changePasswordFormObject&quot;)\r\npublic class PublicChangePasswordController {\r\n\r\n    private SecurityService securityService;\r\n\r\n    @Autowired\r\n    public PublicChangePasswordController(SecurityService securityService) {\r\n        super();\r\n        this.securityService = securityService;\r\n    }\r\n\r\n    @InitBinder\r\n    public void initBinder(WebDataBinder binder) {\r\n        binder.setValidator(new ChangePasswordFormObjectValidator(securityService));\r\n    }\r\n\r\n    @RequestMapping()\r\n    public ModelAndView display(WebRequest webRequest) {\r\n\r\n        String username = (String) webRequest.getAttribute(DefaultAuthenticationFailureHandler.PASSWORD_CHANGE_USERNAME, RequestAttributes.SCOPE_SESSION);\r\n\r\n        if (!StringUtils.hasText(username)) {\r\n            // Redirect if no username is found on the session - user must have accessed it directly\r\n            return new ModelAndView(&quot;redirect:/&quot;);\r\n        }\r\n\r\n        ChangePasswordFormObject formObject = new ChangePasswordFormObject();\r\n        formObject.setUsername(username);\r\n\r\n        ModelAndView modelAndView = new ModelAndView(&quot;change-password/change-password&quot;);\r\n        modelAndView.addObject(&quot;changePasswordFormObject&quot;, formObject);\r\n\r\n        return modelAndView;\r\n    }\r\n\r\n    @RequestMapping(&quot;/save&quot;)\r\n    public String changePassword(@ModelAttribute(&quot;changePasswordFormObject&quot;) @Valid ChangePasswordFormObject formObject, BindingResult bindingResult,\r\n            WebRequest webRequest, SessionStatus sessionStatus) throws Exception {\r\n\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;change-password/change-password&quot;;\r\n        }\r\n\r\n        ChangePasswordDetailsDto changePasswordDetailsDto = new ChangePasswordDetailsDto();\r\n        changePasswordDetailsDto.setUsername(formObject.getUsername());\r\n        changePasswordDetailsDto.setNewPassword(formObject.getNewPassword());\r\n\r\n        securityService.changePassword(changePasswordDetailsDto);\r\n\r\n        webRequest.removeAttribute(DefaultAuthenticationFailureHandler.PASSWORD_CHANGE_USERNAME, RequestAttributes.SCOPE_SESSION);\r\n        sessionStatus.setComplete();\r\n\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n}\r\n```\r\ndefault public controller\r\n``` \r\n@PublicController\r\n@RequestMapping(&quot;/*&quot;)\r\npublic class DefaultPublicController {\r\n\r\n    private String servletContext = &quot;public/&quot;;\r\n\r\n    @RequestMapping\r\n    public String handle(HttpServletRequest request) {\r\n        return request.getRequestURI().substring(request.getRequestURI().lastIndexOf(servletContext) + servletContext.length());\r\n    }\r\n}\r\n ```\r\nThis is snippet from my app security config of the login failure handler to show the mapping URL\r\n``` \r\n  \t&lt;bean id=&quot;authenticationFailureHandler&quot; class=&quot;com.app.application.util.spring.security.DefaultAuthenticationFailureHandler&quot;&gt;\r\n  \t\t&lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\r\n  \t\t&lt;property name=&quot;defaultFailureUrl&quot; value=&quot;/public/login?failed=true&quot; /&gt;\r\n  \t\t&lt;property name=&quot;changePasswordUrl&quot; value=&quot;/public/change-password&quot; /&gt;\r\n  \t\t&lt;property name=&quot;suspendedUrl&quot; value=&quot;/public/suspended&quot; /&gt;\r\n  \t\t&lt;property name=&quot;deletedUrl&quot; value=&quot;/public/deleted&quot; /&gt;\r\n  \t&lt;/bean&gt;\r\n ```\r\npublic servlet \r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txsi:schemaLocation=&quot;\r\n\t   http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n       http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;\r\n&gt;\r\n\r\n    &lt;mvc:annotation-driven /&gt;\r\n    &lt;context:component-scan base-package=&quot;com.name&quot;&gt;\r\n        &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;com.app.web.mvc.PublicController&quot; /&gt;\r\n    &lt;/context:component-scan&gt;\r\n    &lt;context:annotation-config&gt;&lt;/context:annotation-config&gt;\r\n\t\r\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;/&gt;\r\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/public/&quot;/&gt;\r\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;/beans&gt;\r\n ```","title":"Spring MVC 404 page not found but mapping is correct","body":"<p>I am upgrading a legacy spring app tech stack and in the process of upgrading to spring 5.</p>\n<p>I have made the necessary upgrades but left the controllers etc.. as they are mapped and I dont think anything is needed updated based off the documentation i have looked at (unless someone can tell me otherwise and why)</p>\n<p>The error occurs when trying to login - user is brought to the change password screen and a 404 is thrown.</p>\n<p><strong>Message JSP file [/WEB-INF/jsp/public/change-password.jsp] not found</strong></p>\n<p>change-password.jsp</p>\n<pre><code>&lt;jsp:include flush=&quot;true&quot; page=&quot;/WEB-INF/jsp/layout.jsp&quot;&gt;\n    &lt;jsp:param name=&quot;title&quot; value=&quot;change.password.title.text&quot; /&gt;\n    &lt;jsp:param name=&quot;main&quot; value=&quot;/WEB-INF/jsp/public/change-password/change-password.main.jsp&quot; /&gt;\n    &lt;jsp:param name=&quot;menu&quot; value=&quot;common/menu.jsp&quot; /&gt;\n    &lt;jsp:param name=&quot;footer&quot; value=&quot;common/footer.jsp&quot; /&gt;   \n&lt;/jsp:include&gt;\n</code></pre>\n<p>change-password.main.jsp</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\n&lt;%@ taglib prefix=&quot;spring&quot; uri=&quot;http://www.springframework.org/tags&quot;%&gt;\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot;%&gt;\n&lt;%@ taglib prefix=&quot;name&quot; uri=&quot;http://www.name.com/tags&quot;%&gt;\n\n&lt;h1&gt;\n    &lt;spring:message code=&quot;change.password.header.text&quot; /&gt;\n&lt;/h1&gt;\n&lt;h2&gt;\n    &lt;spring:message code=&quot;change.password.help.text1&quot; /&gt;\n    &lt;br&gt;&lt;/br&gt;\n    &lt;spring:message code=&quot;change.password.help.text2&quot; /&gt;\n&lt;/h2&gt;\n\n&lt;name:form modelAttribute=&quot;changePasswordFormObject&quot; action=&quot;public/change-password/save&quot;&gt;\n\n    &lt;table&gt;                 \n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;spring:message code=&quot;change.password.currentPassword.text&quot; /&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;form:password path=&quot;currentPassword&quot; showPassword=&quot;true&quot; id=&quot;currentPassword&quot;/&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;form:errors path=&quot;currentPassword&quot; cssClass=&quot;error&quot; /&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;spring:message code=&quot;change.password.newPassword.text&quot; /&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;form:password path=&quot;newPassword&quot; showPassword=&quot;true&quot; /&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;form:errors path=&quot;newPassword&quot; cssClass=&quot;error&quot; /&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;spring:message code=&quot;change.password.confirmPassword.text&quot; /&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;form:password path=&quot;confirmPassword&quot; showPassword=&quot;true&quot; /&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;form:errors path=&quot;confirmPassword&quot; cssClass=&quot;error&quot; /&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;   \n    &lt;/table&gt;\n\n    &lt;p&gt;     \n        &lt;amor:dojoSubmitButton name=&quot;changePasswordButton&quot; id=&quot;changePasswordButton&quot;&gt;\n            &lt;spring:message code=&quot;change.password.button.save.text&quot; /&gt;              \n        &lt;/amor:dojoSubmitButton&gt;\n    &lt;/p&gt;\n    \n&lt;/name:form&gt;\n</code></pre>\n<p>Change password controller</p>\n<pre><code>@PublicController\n@RequestMapping(&quot;/change-password&quot;)\n@SessionAttributes(&quot;changePasswordFormObject&quot;)\npublic class PublicChangePasswordController {\n\n    private SecurityService securityService;\n\n    @Autowired\n    public PublicChangePasswordController(SecurityService securityService) {\n        super();\n        this.securityService = securityService;\n    }\n\n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        binder.setValidator(new ChangePasswordFormObjectValidator(securityService));\n    }\n\n    @RequestMapping()\n    public ModelAndView display(WebRequest webRequest) {\n\n        String username = (String) webRequest.getAttribute(DefaultAuthenticationFailureHandler.PASSWORD_CHANGE_USERNAME, RequestAttributes.SCOPE_SESSION);\n\n        if (!StringUtils.hasText(username)) {\n            // Redirect if no username is found on the session - user must have accessed it directly\n            return new ModelAndView(&quot;redirect:/&quot;);\n        }\n\n        ChangePasswordFormObject formObject = new ChangePasswordFormObject();\n        formObject.setUsername(username);\n\n        ModelAndView modelAndView = new ModelAndView(&quot;change-password/change-password&quot;);\n        modelAndView.addObject(&quot;changePasswordFormObject&quot;, formObject);\n\n        return modelAndView;\n    }\n\n    @RequestMapping(&quot;/save&quot;)\n    public String changePassword(@ModelAttribute(&quot;changePasswordFormObject&quot;) @Valid ChangePasswordFormObject formObject, BindingResult bindingResult,\n            WebRequest webRequest, SessionStatus sessionStatus) throws Exception {\n\n        if (bindingResult.hasErrors()) {\n            return &quot;change-password/change-password&quot;;\n        }\n\n        ChangePasswordDetailsDto changePasswordDetailsDto = new ChangePasswordDetailsDto();\n        changePasswordDetailsDto.setUsername(formObject.getUsername());\n        changePasswordDetailsDto.setNewPassword(formObject.getNewPassword());\n\n        securityService.changePassword(changePasswordDetailsDto);\n\n        webRequest.removeAttribute(DefaultAuthenticationFailureHandler.PASSWORD_CHANGE_USERNAME, RequestAttributes.SCOPE_SESSION);\n        sessionStatus.setComplete();\n\n        return &quot;redirect:/&quot;;\n    }\n}\n</code></pre>\n<p>default public controller</p>\n<pre><code>@PublicController\n@RequestMapping(&quot;/*&quot;)\npublic class DefaultPublicController {\n\n    private String servletContext = &quot;public/&quot;;\n\n    @RequestMapping\n    public String handle(HttpServletRequest request) {\n        return request.getRequestURI().substring(request.getRequestURI().lastIndexOf(servletContext) + servletContext.length());\n    }\n}\n</code></pre>\n<p>This is snippet from my app security config of the login failure handler to show the mapping URL</p>\n<pre><code>    &lt;bean id=&quot;authenticationFailureHandler&quot; class=&quot;com.app.application.util.spring.security.DefaultAuthenticationFailureHandler&quot;&gt;\n        &lt;constructor-arg ref=&quot;daoFactory&quot; /&gt;\n        &lt;property name=&quot;defaultFailureUrl&quot; value=&quot;/public/login?failed=true&quot; /&gt;\n        &lt;property name=&quot;changePasswordUrl&quot; value=&quot;/public/change-password&quot; /&gt;\n        &lt;property name=&quot;suspendedUrl&quot; value=&quot;/public/suspended&quot; /&gt;\n        &lt;property name=&quot;deletedUrl&quot; value=&quot;/public/deleted&quot; /&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>public servlet</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xsi:schemaLocation=&quot;\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n       http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;\n&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n    &lt;context:component-scan base-package=&quot;com.name&quot;&gt;\n        &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;com.app.web.mvc.PublicController&quot; /&gt;\n    &lt;/context:component-scan&gt;\n    &lt;context:annotation-config&gt;&lt;/context:annotation-config&gt;\n    \n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;/&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/public/&quot;/&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;\n    &lt;/bean&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","javafx","gstreamer","rtsp","vlcj"],"answers":[{"tags":[],"owner":{"account_id":11774863,"reputation":897,"user_id":8616724,"display_name":"EHM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685370357,"creation_date":1550121108,"answer_id":54683582,"question_id":54571023,"body_markdown":"This might be a late answer but I saw the question while I had the same question so check this site out I think it got all the things I have to say https://github.com/mhrimaz/AwesomeJavaFX/blob/master/README.md#frameworks","title":"RTSP support library for Javafx","body":"<p>This might be a late answer but I saw the question while I had the same question so check this site out I think it got all the things I have to say <a href=\"https://github.com/mhrimaz/AwesomeJavaFX/blob/master/README.md#frameworks\" rel=\"nofollow noreferrer\">https://github.com/mhrimaz/AwesomeJavaFX/blob/master/README.md#frameworks</a></p>\n"}],"owner":{"account_id":2058626,"reputation":2358,"user_id":1835764,"display_name":"Nirmal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":949,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1685370357,"creation_date":1549534596,"question_id":54571023,"body_markdown":"I am new to this Javafx. I need to know rtsp supported library for Javafx I knew few of the media library GStreamer and VLCJ.  I don&#39;t know which will support this features in Javafx. I have read many portals which I cant get an answer. many of them posted you cant run RTSP in Javafx. please guide me which library is best for RTSP that will support for Javafx.\r\n\r\n     File f = new File(&quot;Video.mp4&quot;);\r\n        new NativeDiscovery().discover();\r\n        EmbeddedMediaPlayerComponent playerComponent = new EmbeddedMediaPlayerComponent();\r\n        /*I dont know where to add the playerComponent as we do in swing*/\r\n        MediaPlayer mp=playerComponent.getMediaPlayer();       \r\n        StackPane root = new StackPane();\r\n        Scene scene = new Scene(root, 700, 700);        \r\n        primaryStage.setTitle(&quot;Hello World!&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n\r\nThis is the normal video player in Javafx. ","title":"RTSP support library for Javafx","body":"<p>I am new to this Javafx. I need to know rtsp supported library for Javafx I knew few of the media library GStreamer and VLCJ.  I don't know which will support this features in Javafx. I have read many portals which I cant get an answer. many of them posted you cant run RTSP in Javafx. please guide me which library is best for RTSP that will support for Javafx.</p>\n\n<pre><code> File f = new File(\"Video.mp4\");\n    new NativeDiscovery().discover();\n    EmbeddedMediaPlayerComponent playerComponent = new EmbeddedMediaPlayerComponent();\n    /*I dont know where to add the playerComponent as we do in swing*/\n    MediaPlayer mp=playerComponent.getMediaPlayer();       \n    StackPane root = new StackPane();\n    Scene scene = new Scene(root, 700, 700);        \n    primaryStage.setTitle(\"Hello World!\");\n    primaryStage.setScene(scene);\n    primaryStage.show();\n</code></pre>\n\n<p>This is the normal video player in Javafx. </p>\n"},{"tags":["java","cassandra","cassandra-3.0"],"comments":[{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":0,"creation_date":1685105430,"post_id":76338653,"comment_id":134618893,"body_markdown":"There is an issue https://issues.apache.org/jira/browse/CASSANDRA-11916 similar with your question. Maybe it can help you.","body":"There is an issue <a href=\"https://issues.apache.org/jira/browse/CASSANDRA-11916\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/CASSANDRA-11916</a> similar with your question. Maybe it can help you."},{"owner":{"account_id":6779004,"reputation":119,"user_id":5219978,"display_name":"Purushottam Baghel"},"score":0,"creation_date":1685362459,"post_id":76338653,"comment_id":134645735,"body_markdown":"the linked issues seem to be resolved in the 3.0.7 version. I am using 3.11.1","body":"the linked issues seem to be resolved in the 3.0.7 version. I am using 3.11.1"},{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":0,"creation_date":1685364145,"post_id":76338653,"comment_id":134646069,"body_markdown":"Maybe you can open an issue in Cassadras&#39;s jira too: https://issues.apache.org/jira/login.jsp?os_destination=%2Fbrowse%2FCASSANDRA-11916","body":"Maybe you can open an issue in Cassadras&#39;s jira too: <a href=\"https://issues.apache.org/jira/login.jsp?os_destination=%2Fbrowse%2FCASSANDRA-11916\" rel=\"nofollow noreferrer\">issues.apache.org/jira/&hellip;</a>"},{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":0,"creation_date":1685365017,"post_id":76338653,"comment_id":134646225,"body_markdown":"Does this link help you ? https://stackoverflow.com/questions/64672052/leak-detected-was-not-released-before-the-reference-was-garbage-collected","body":"Does this link help you ? <a href=\"https://stackoverflow.com/questions/64672052/leak-detected-was-not-released-before-the-reference-was-garbage-collected\" title=\"leak detected was not released before the reference was garbage collected\">stackoverflow.com/questions/64672052/&hellip;</a>"},{"owner":{"account_id":6779004,"reputation":119,"user_id":5219978,"display_name":"Purushottam Baghel"},"score":0,"creation_date":1685511787,"post_id":76338653,"comment_id":134668501,"body_markdown":"@LucianaOliveira The above jira is for the development of Apache Cassandra, and as such makes for a poor vehicle for support. So we shouldn&#39;t create a support ticket there.\n\nps: I learned this after creating this jira. https://issues.apache.org/jira/browse/CASSANDRA-18556","body":"@LucianaOliveira The above jira is for the development of Apache Cassandra, and as such makes for a poor vehicle for support. So we shouldn&#39;t create a support ticket there.  ps: I learned this after creating this jira. <a href=\"https://issues.apache.org/jira/browse/CASSANDRA-18556\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/CASSANDRA-18556</a>"},{"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"score":0,"creation_date":1685553462,"post_id":76338653,"comment_id":134677722,"body_markdown":"Sorry, was you. Try to configurate the garbage collector.","body":"Sorry, was you. Try to configurate the garbage collector."}],"answers":[{"comments":[{"owner":{"account_id":6779004,"reputation":119,"user_id":5219978,"display_name":"Purushottam Baghel"},"score":0,"creation_date":1685362342,"post_id":76349087,"comment_id":134645716,"body_markdown":"I cannot understand why I am only seeing these errors in 2 out of 36 running nodes. All of them are on the same version and have the same config.","body":"I cannot understand why I am only seeing these errors in 2 out of 36 running nodes. All of them are on the same version and have the same config."},{"owner":{"account_id":38661,"reputation":26799,"user_id":111124,"accept_rate":83,"display_name":"Andrew"},"score":0,"creation_date":1685450795,"post_id":76349087,"comment_id":134658989,"body_markdown":"The index summary would be based primarily on the number of partition keys the node holds, although normally with RF=3 you would expect 3 nodes to show this first. Check nodetool cfstats for the partition counts, the nodes they appear on will be the ones with the highest count (for the specific table this is happening on)","body":"The index summary would be based primarily on the number of partition keys the node holds, although normally with RF=3 you would expect 3 nodes to show this first. Check nodetool cfstats for the partition counts, the nodes they appear on will be the ones with the highest count (for the specific table this is happening on)"}],"tags":[],"owner":{"account_id":38661,"reputation":26799,"user_id":111124,"accept_rate":83,"display_name":"Andrew"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685222341,"creation_date":1685222341,"answer_id":76349087,"question_id":76338653,"body_markdown":"There are a few things going on there, and the memory warning is probably the one that concerns me the least.\r\n\r\n    WARN  [CompactionExecutor:164909] 2023-05-04 00:31:54,573 IndexSummaryBuilder.java:115\r\n    - min_index_interval of 128 is too low for 4298508892 expected keys of avg size 64; \r\n    using interval of 145 instead\r\n\r\nThis warning on the index summaries is actually indicating a serious issue, although it is not seen too commonly due to the volume of data needed to trigger it, and in some scenarios the warning does not trigger - even though it has broken the index summaries.\r\n\r\nWhen the index summary breaks for the table, read response times will suffer and it can be forced to start scanning sstables because the summary no longer operates. This is relatively easy to fix.\r\n\r\n    ALTER TABLE your_ks.your_table WITH min_index_interval = 256;\r\n\r\nWhich table is a bit harder, since it does not indicate which, but the partition key count which shows over 4.2bn keys should make it relatively easy to identify.\r\n\r\nThe compaction issue itself, due to the old release that you are on, along with broken summaries, its difficult to ascertain cause / effect on that one and I would recommend fixing the index summaries, patch level and then check for re-occurrences of the issue.\r\n\r\nYou need to also start adding to your operational backlog a number of tasks:\r\n* 3.11.1 is significantly out of date, please upgrade to 3.11.15\r\n* Java 1.8.131 is very old - please update that to a newer release.\r\n* Start planning for an upgrade to Cassandra 4, 3.11 will no longer be community supported when Cassandra 5 is released. (https://cassandra.apache.org/_/blog/Apache-Cassandra-3.0.x-and-3.11.x-End-of-Life-Announcement.html )\r\n","title":"Leak detected issue in cassandra 3.11.1","body":"<p>There are a few things going on there, and the memory warning is probably the one that concerns me the least.</p>\n<pre><code>WARN  [CompactionExecutor:164909] 2023-05-04 00:31:54,573 IndexSummaryBuilder.java:115\n- min_index_interval of 128 is too low for 4298508892 expected keys of avg size 64; \nusing interval of 145 instead\n</code></pre>\n<p>This warning on the index summaries is actually indicating a serious issue, although it is not seen too commonly due to the volume of data needed to trigger it, and in some scenarios the warning does not trigger - even though it has broken the index summaries.</p>\n<p>When the index summary breaks for the table, read response times will suffer and it can be forced to start scanning sstables because the summary no longer operates. This is relatively easy to fix.</p>\n<pre><code>ALTER TABLE your_ks.your_table WITH min_index_interval = 256;\n</code></pre>\n<p>Which table is a bit harder, since it does not indicate which, but the partition key count which shows over 4.2bn keys should make it relatively easy to identify.</p>\n<p>The compaction issue itself, due to the old release that you are on, along with broken summaries, its difficult to ascertain cause / effect on that one and I would recommend fixing the index summaries, patch level and then check for re-occurrences of the issue.</p>\n<p>You need to also start adding to your operational backlog a number of tasks:</p>\n<ul>\n<li>3.11.1 is significantly out of date, please upgrade to 3.11.15</li>\n<li>Java 1.8.131 is very old - please update that to a newer release.</li>\n<li>Start planning for an upgrade to Cassandra 4, 3.11 will no longer be community supported when Cassandra 5 is released. (<a href=\"https://cassandra.apache.org/_/blog/Apache-Cassandra-3.0.x-and-3.11.x-End-of-Life-Announcement.html\" rel=\"nofollow noreferrer\">https://cassandra.apache.org/_/blog/Apache-Cassandra-3.0.x-and-3.11.x-End-of-Life-Announcement.html</a> )</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20701840,"reputation":871,"user_id":15200705,"display_name":"Luciana Oliveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685369954,"creation_date":1685369103,"answer_id":76358031,"question_id":76338653,"body_markdown":"It&#39;s a new issue for me, but you can try to configurate the `Garbage Collector`. \r\n\r\nI seperaded some important links to this process:\r\n\r\n***Configurate:***\r\n\r\nhttps://docs.datastax.com/en/dse/6.8/dse-admin/datastax_enterprise/operations/opsTuningGcAbout.html\r\n\r\n***Tunning:***\r\n\r\nhttps://docs.datastax.com/en/cassandra-oss/3.0/cassandra/operations/opsTuneJVM.html\r\n\r\nhttps://thelastpickle.com/blog/2018/04/11/gc-tuning.html\r\n\r\n***Logs:***\r\n\r\nhttps://cassandra.apache.org/doc/3.11/cassandra/troubleshooting/reading_logs.html\r\n\r\n***Monitoring:***\r\n\r\nhttps://medium.com/@mlowicki/monitoring-cassandra-garbage-collector-83c8a515e403","title":"Leak detected issue in cassandra 3.11.1","body":"<p>It's a new issue for me, but you can try to configurate the <code>Garbage Collector</code>.</p>\n<p>I seperaded some important links to this process:</p>\n<p><em><strong>Configurate:</strong></em></p>\n<p><a href=\"https://docs.datastax.com/en/dse/6.8/dse-admin/datastax_enterprise/operations/opsTuningGcAbout.html\" rel=\"nofollow noreferrer\">https://docs.datastax.com/en/dse/6.8/dse-admin/datastax_enterprise/operations/opsTuningGcAbout.html</a></p>\n<p><em><strong>Tunning:</strong></em></p>\n<p><a href=\"https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/operations/opsTuneJVM.html\" rel=\"nofollow noreferrer\">https://docs.datastax.com/en/cassandra-oss/3.0/cassandra/operations/opsTuneJVM.html</a></p>\n<p><a href=\"https://thelastpickle.com/blog/2018/04/11/gc-tuning.html\" rel=\"nofollow noreferrer\">https://thelastpickle.com/blog/2018/04/11/gc-tuning.html</a></p>\n<p><em><strong>Logs:</strong></em></p>\n<p><a href=\"https://cassandra.apache.org/doc/3.11/cassandra/troubleshooting/reading_logs.html\" rel=\"nofollow noreferrer\">https://cassandra.apache.org/doc/3.11/cassandra/troubleshooting/reading_logs.html</a></p>\n<p><em><strong>Monitoring:</strong></em></p>\n<p><a href=\"https://medium.com/@mlowicki/monitoring-cassandra-garbage-collector-83c8a515e403\" rel=\"nofollow noreferrer\">https://medium.com/@mlowicki/monitoring-cassandra-garbage-collector-83c8a515e403</a></p>\n"}],"owner":{"account_id":6779004,"reputation":119,"user_id":5219978,"display_name":"Purushottam Baghel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685369954,"creation_date":1685086874,"question_id":76338653,"body_markdown":"We are running 36 nodes cassandra cluster. Suddenly, we started seeing this error in 2 Cassandra node logs. We are also seeing fluctuation in storage available graphs for these nodes. I am unable to understand the root cause of it. Any help is appreciated.\r\n\r\n```\r\nERROR [CompactionExecutor:164360] 2023-05-04 00:30:58,094 CassandraDaemon.java:228 - Exception in thread Thread[CompactionExecutor:164360,1,main]\r\njava.lang.IllegalArgumentException: null\r\n\tat java.nio.Buffer.position(Buffer.java:244) ~[na:1.8.0_131]\r\n\tat org.apache.cassandra.io.util.SafeMemoryWriter.reallocate(SafeMemoryWriter.java:59) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.io.util.SafeMemoryWriter.setCapacity(SafeMemoryWriter.java:68) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.io.sstable.IndexSummaryBuilder.prepareToCommit(IndexSummaryBuilder.java:250) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.io.sstable.format.big.BigTableWriter$IndexWriter.doPrepare(BigTableWriter.java:524) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.utils.concurrent.Transactional$AbstractTransactional.prepareToCommit(Transactional.java:173) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.io.sstable.format.big.BigTableWriter$TransactionalProxy.doPrepare(BigTableWriter.java:364) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.utils.concurrent.Transactional$AbstractTransactional.prepareToCommit(Transactional.java:173) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.io.sstable.format.SSTableWriter.prepareToCommit(SSTableWriter.java:281) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.io.sstable.SSTableRewriter.doPrepare(SSTableRewriter.java:379) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.utils.concurrent.Transactional$AbstractTransactional.prepareToCommit(Transactional.java:173) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.db.compaction.writers.CompactionAwareWriter.doPrepare(CompactionAwareWriter.java:111) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.utils.concurrent.Transactional$AbstractTransactional.prepareToCommit(Transactional.java:173) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.utils.concurrent.Transactional$AbstractTransactional.finish(Transactional.java:184) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.db.compaction.writers.CompactionAwareWriter.finish(CompactionAwareWriter.java:121) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.db.compaction.CompactionTask.runMayThrow(CompactionTask.java:220) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:28) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.db.compaction.CompactionTask.executeInternal(CompactionTask.java:85) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.db.compaction.AbstractCompactionTask.execute(AbstractCompactionTask.java:61) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat org.apache.cassandra.db.compaction.CompactionManager$BackgroundCompactionCandidate.run(CompactionManager.java:268) ~[apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_131]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_131]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_131]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]\r\n\tat org.apache.cassandra.concurrent.NamedThreadFactory.lambda$threadLocalDeallocator$0(NamedThreadFactory.java:81) [apache-cassandra-3.11.1.jar:3.11.1]\r\n\tat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_131]\r\nWARN  [CompactionExecutor:164909] 2023-05-04 00:31:54,573 IndexSummaryBuilder.java:115 - min_index_interval of 128 is too low for 4298508892 expected keys of avg size 64; using interval of 145 instead\r\nERROR [Reference-Reaper:1] 2023-05-04 00:32:02,326 Ref.java:224 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@4f374614) to class org.apache.cassandra.io.util.SafeMemory$MemoryTidy@1106289026:Memory@[7fa6ab9ec010..7fa72ad798d0) was not released before the reference was garbage collected```","title":"Leak detected issue in cassandra 3.11.1","body":"<p>We are running 36 nodes cassandra cluster. Suddenly, we started seeing this error in 2 Cassandra node logs. We are also seeing fluctuation in storage available graphs for these nodes. I am unable to understand the root cause of it. Any help is appreciated.</p>\n<pre><code>ERROR [CompactionExecutor:164360] 2023-05-04 00:30:58,094 CassandraDaemon.java:228 - Exception in thread Thread[CompactionExecutor:164360,1,main]\njava.lang.IllegalArgumentException: null\n    at java.nio.Buffer.position(Buffer.java:244) ~[na:1.8.0_131]\n    at org.apache.cassandra.io.util.SafeMemoryWriter.reallocate(SafeMemoryWriter.java:59) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.io.util.SafeMemoryWriter.setCapacity(SafeMemoryWriter.java:68) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.io.sstable.IndexSummaryBuilder.prepareToCommit(IndexSummaryBuilder.java:250) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.io.sstable.format.big.BigTableWriter$IndexWriter.doPrepare(BigTableWriter.java:524) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.utils.concurrent.Transactional$AbstractTransactional.prepareToCommit(Transactional.java:173) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.io.sstable.format.big.BigTableWriter$TransactionalProxy.doPrepare(BigTableWriter.java:364) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.utils.concurrent.Transactional$AbstractTransactional.prepareToCommit(Transactional.java:173) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.io.sstable.format.SSTableWriter.prepareToCommit(SSTableWriter.java:281) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.io.sstable.SSTableRewriter.doPrepare(SSTableRewriter.java:379) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.utils.concurrent.Transactional$AbstractTransactional.prepareToCommit(Transactional.java:173) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.db.compaction.writers.CompactionAwareWriter.doPrepare(CompactionAwareWriter.java:111) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.utils.concurrent.Transactional$AbstractTransactional.prepareToCommit(Transactional.java:173) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.utils.concurrent.Transactional$AbstractTransactional.finish(Transactional.java:184) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.db.compaction.writers.CompactionAwareWriter.finish(CompactionAwareWriter.java:121) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.db.compaction.CompactionTask.runMayThrow(CompactionTask.java:220) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.utils.WrappedRunnable.run(WrappedRunnable.java:28) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.db.compaction.CompactionTask.executeInternal(CompactionTask.java:85) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.db.compaction.AbstractCompactionTask.execute(AbstractCompactionTask.java:61) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at org.apache.cassandra.db.compaction.CompactionManager$BackgroundCompactionCandidate.run(CompactionManager.java:268) ~[apache-cassandra-3.11.1.jar:3.11.1]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_131]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_131]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_131]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_131]\n    at org.apache.cassandra.concurrent.NamedThreadFactory.lambda$threadLocalDeallocator$0(NamedThreadFactory.java:81) [apache-cassandra-3.11.1.jar:3.11.1]\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_131]\nWARN  [CompactionExecutor:164909] 2023-05-04 00:31:54,573 IndexSummaryBuilder.java:115 - min_index_interval of 128 is too low for 4298508892 expected keys of avg size 64; using interval of 145 instead\nERROR [Reference-Reaper:1] 2023-05-04 00:32:02,326 Ref.java:224 - LEAK DETECTED: a reference (org.apache.cassandra.utils.concurrent.Ref$State@4f374614) to class org.apache.cassandra.io.util.SafeMemory$MemoryTidy@1106289026:Memory@[7fa6ab9ec010..7fa72ad798d0) was not released before the reference was garbage collected```\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","openapi"],"answers":[{"tags":[],"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685369709,"creation_date":1685369709,"answer_id":76358088,"question_id":76356979,"body_markdown":"Swagger UI does not have an option to sort enums.\r\n\r\nOne possible solution is to fork the [Swagger UI](https://github.com/swagger-api/swagger-ui/) repository, modify the code responsible for displaying enums (at least [here](https://github.com/swagger-api/swagger-ui/blob/main/src/core/components/layout-utils.jsx#L192-L203) and [here](https://github.com/swagger-api/swagger-ui/blob/main/src/core/components/parameter-row.jsx#L295-L298), possibly elsewhere), rebuild it, and use your custom fork in your app.","title":"How to sort the @PathVariable enum value on Swagger-ui SpringDoc open ui","body":"<p>Swagger UI does not have an option to sort enums.</p>\n<p>One possible solution is to fork the <a href=\"https://github.com/swagger-api/swagger-ui/\" rel=\"nofollow noreferrer\">Swagger UI</a> repository, modify the code responsible for displaying enums (at least <a href=\"https://github.com/swagger-api/swagger-ui/blob/main/src/core/components/layout-utils.jsx#L192-L203\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/swagger-api/swagger-ui/blob/main/src/core/components/parameter-row.jsx#L295-L298\" rel=\"nofollow noreferrer\">here</a>, possibly elsewhere), rebuild it, and use your custom fork in your app.</p>\n"}],"owner":{"account_id":28700672,"reputation":1,"user_id":21977906,"display_name":"beatarjn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685369709,"creation_date":1685360036,"question_id":76356979,"body_markdown":"I have a GET method in Controller that takes as one of a parameters (@PathVariable) an Enum. This Enum has several values and when it is being generated by Swagger/OpenApi, in the Swagger UI when testing/try out the endpoint, list of possible parameter values coming from Enum, is displayed. However it is being displayed in the order in which values are typed in Enum. I would like to order the list alphabetically, to be displayed in Swagger UI.\r\nI cannot simply sort the Enum as it is coming from external library.\r\n\r\n\r\n```\r\n@GetMapping(&quot;/{id}/status/{enumStatus}/validate&quot;)\r\npublic ResponseEntity&lt;RootElement&gt; getMethod(@PathVariable(&quot;id&quot;) final String id, @PathVariable(&quot;status&quot;) final StatusEnum enumStatus) {\r\n\t\treturn myRestService.validate(id, enumStatus);\r\n\t}\r\n\r\n\tprivate enum StatusEnum {\r\n\t\tB_STATUS, A_STATUS, NO_STATUS, CC_STATUS\r\n\t}\r\n```\r\n\r\n\r\nI was hoping for something similar but I was not able to get specific PathVariable:\r\nhttps://stackoverflow.com/questions/60810048/how-do-i-write-a-custom-sorter-to-sort-my-springdoc-swagger-tags-by-name-in-the\r\n\r\nI don&#39;t know if this sorting is possible at all..","title":"How to sort the @PathVariable enum value on Swagger-ui SpringDoc open ui","body":"<p>I have a GET method in Controller that takes as one of a parameters (@PathVariable) an Enum. This Enum has several values and when it is being generated by Swagger/OpenApi, in the Swagger UI when testing/try out the endpoint, list of possible parameter values coming from Enum, is displayed. However it is being displayed in the order in which values are typed in Enum. I would like to order the list alphabetically, to be displayed in Swagger UI.\nI cannot simply sort the Enum as it is coming from external library.</p>\n<pre><code>@GetMapping(&quot;/{id}/status/{enumStatus}/validate&quot;)\npublic ResponseEntity&lt;RootElement&gt; getMethod(@PathVariable(&quot;id&quot;) final String id, @PathVariable(&quot;status&quot;) final StatusEnum enumStatus) {\n        return myRestService.validate(id, enumStatus);\n    }\n\n    private enum StatusEnum {\n        B_STATUS, A_STATUS, NO_STATUS, CC_STATUS\n    }\n</code></pre>\n<p>I was hoping for something similar but I was not able to get specific PathVariable:\n<a href=\"https://stackoverflow.com/questions/60810048/how-do-i-write-a-custom-sorter-to-sort-my-springdoc-swagger-tags-by-name-in-the\">How do I write a custom sorter to sort my springdoc swagger tags by name in the UI?</a></p>\n<p>I don't know if this sorting is possible at all..</p>\n"},{"tags":["java","spring","spring-security","jwt"],"comments":[{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1685366569,"post_id":76357178,"comment_id":134646544,"body_markdown":"Can you show your test class? Did you injectMocks to jwtService? did you use real object?","body":"Can you show your test class? Did you injectMocks to jwtService? did you use real object?"},{"owner":{"account_id":25473671,"reputation":13,"user_id":19271377,"display_name":"temez"},"score":0,"creation_date":1685369681,"post_id":76357178,"comment_id":134647148,"body_markdown":"@Feelfree sure, updated code. I have just implemented `JWTService.java`, using another library and it worked.","body":"@Feelfree sure, updated code. I have just implemented <code>JWTService.java</code>, using another library and it worked."},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1685371800,"post_id":76357178,"comment_id":134647564,"body_markdown":"So if it worked the question is closed?","body":"So if it worked the question is closed?"}],"owner":{"account_id":25473671,"reputation":13,"user_id":19271377,"display_name":"temez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685369598,"creation_date":1685361644,"question_id":76357178,"body_markdown":"When I create JWT token string and try to extract login (subject), `getLogin()` method returns `null`. `getLogin()` method just wraps `Claims.getSubject()`.\r\n\r\nJWTService.java\r\n```\r\n@Service\r\npublic class JWTService {\r\n\r\n    private static final SecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS256);\r\n\r\n    @Value(&quot;${jwt.token-validity}&quot;)\r\n    private Integer tokenValidity;\r\n\r\n    @Nullable\r\n    public String getLogin(@NotNull String token) {\r\n        return extractClaim(token, Claims::getSubject);\r\n    }\r\n\r\n    private Claims getClaims(@NotNull String token) {\r\n        return Jwts\r\n                .parserBuilder()\r\n                .setSigningKey(key)\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n\r\n    private &lt;T&gt; T extractClaim(@NotNull String token, @NotNull Function&lt;Claims, T&gt; claimsResolver) {\r\n        return claimsResolver.apply(getClaims(token));\r\n    }\r\n\r\n    public String generateToken(@NotNull String login) {\r\n        return generateToken(login, new HashMap&lt;&gt;());\r\n    }\r\n\r\n    public String generateToken(@NotNull String login, @NotNull HashMap&lt;String, Object&gt; extraClaims) {\r\n        return Jwts.builder()\r\n                .setSubject(login)\r\n                .setClaims(extraClaims)\r\n                .setIssuedAt(new Date())\r\n                .setExpiration(new Date(System.currentTimeMillis() + tokenValidity * 1000))\r\n                .signWith(key)\r\n                .compact();\r\n    }\r\n}\r\n```\r\n\r\n\r\nJWTServiceTest.java\r\n```\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\npublic class JWTServiceTest {\r\n\r\n    @Autowired\r\n    JWTService jwtService;\r\n\r\n    @Test\r\n    public void whenGivenTestLoginAndJwtGenerated_ThenExtractTestUsername(){\r\n        String jwt = jwtService.generateToken(&quot;test&quot;);\r\n        assertEquals(&quot;test&quot;, jwtService.getLogin(jwt));\r\n    }\r\n}\r\n```\r\n\r\n```\r\nexpected: &lt;test&gt; but was: &lt;null&gt;\r\nExpected :test\r\nActual   :null\r\n```\r\n\r\nI tried to search same topics here, but don&#39;t found a solution.","title":"getSubject() method rerturn null when trying to extract from JWT claims","body":"<p>When I create JWT token string and try to extract login (subject), <code>getLogin()</code> method returns <code>null</code>. <code>getLogin()</code> method just wraps <code>Claims.getSubject()</code>.</p>\n<p>JWTService.java</p>\n<pre><code>@Service\npublic class JWTService {\n\n    private static final SecretKey key = Keys.secretKeyFor(SignatureAlgorithm.HS256);\n\n    @Value(&quot;${jwt.token-validity}&quot;)\n    private Integer tokenValidity;\n\n    @Nullable\n    public String getLogin(@NotNull String token) {\n        return extractClaim(token, Claims::getSubject);\n    }\n\n    private Claims getClaims(@NotNull String token) {\n        return Jwts\n                .parserBuilder()\n                .setSigningKey(key)\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n\n    private &lt;T&gt; T extractClaim(@NotNull String token, @NotNull Function&lt;Claims, T&gt; claimsResolver) {\n        return claimsResolver.apply(getClaims(token));\n    }\n\n    public String generateToken(@NotNull String login) {\n        return generateToken(login, new HashMap&lt;&gt;());\n    }\n\n    public String generateToken(@NotNull String login, @NotNull HashMap&lt;String, Object&gt; extraClaims) {\n        return Jwts.builder()\n                .setSubject(login)\n                .setClaims(extraClaims)\n                .setIssuedAt(new Date())\n                .setExpiration(new Date(System.currentTimeMillis() + tokenValidity * 1000))\n                .signWith(key)\n                .compact();\n    }\n}\n</code></pre>\n<p>JWTServiceTest.java</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class JWTServiceTest {\n\n    @Autowired\n    JWTService jwtService;\n\n    @Test\n    public void whenGivenTestLoginAndJwtGenerated_ThenExtractTestUsername(){\n        String jwt = jwtService.generateToken(&quot;test&quot;);\n        assertEquals(&quot;test&quot;, jwtService.getLogin(jwt));\n    }\n}\n</code></pre>\n<pre><code>expected: &lt;test&gt; but was: &lt;null&gt;\nExpected :test\nActual   :null\n</code></pre>\n<p>I tried to search same topics here, but don't found a solution.</p>\n"},{"tags":["java","algorithm","graph","grid","traveling-salesman"],"comments":[{"owner":{"account_id":510150,"reputation":12330,"user_id":1191425,"accept_rate":100,"display_name":"Li-aung Yip"},"score":0,"creation_date":1330420061,"post_id":9478961,"comment_id":11996554,"body_markdown":"Are you sure you are applying Concorde correctly? It&#39;s supposed to be an *exact* solver for the symmetric TSP problem...","body":"Are you sure you are applying Concorde correctly? It&#39;s supposed to be an <i>exact</i> solver for the symmetric TSP problem..."},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":0,"creation_date":1330420143,"post_id":9478961,"comment_id":11996579,"body_markdown":"@Li-aungYip: Concorde is actually giving the optimal TSP solution. The problem is that OP is expecting a solution that isn&#39;t a valid TSP tour. See my answer for details.","body":"@Li-aungYip: Concorde is actually giving the optimal TSP solution. The problem is that OP is expecting a solution that isn&#39;t a valid TSP tour. See my answer for details."},{"owner":{"account_id":510150,"reputation":12330,"user_id":1191425,"accept_rate":100,"display_name":"Li-aung Yip"},"score":0,"creation_date":1330420370,"post_id":9478961,"comment_id":11996639,"body_markdown":"I see. In fact, given that graph, I don&#39;t think there is *any* other closed cycle that visits all nodes. (key word: closed. 2-1-0-3-4 has weight 4 and visits all nodes, but it&#39;s not closed.)","body":"I see. In fact, given that graph, I don&#39;t think there is <i>any</i> other closed cycle that visits all nodes. (key word: closed. 2-1-0-3-4 has weight 4 and visits all nodes, but it&#39;s not closed.)"}],"answers":[{"comments":[{"owner":{"account_id":421489,"reputation":1576,"user_id":799764,"accept_rate":75,"display_name":"Dino"},"score":0,"creation_date":1330420471,"post_id":9478983,"comment_id":11996664,"body_markdown":"Thanks for pointing that out! So I guess I should first compute the distance matrix between all vertices in my graph and then solve TSP. That should give me the length of an optimal tour in my grid. Correct?","body":"Thanks for pointing that out! So I guess I should first compute the distance matrix between all vertices in my graph and then solve TSP. That should give me the length of an optimal tour in my grid. Correct?"},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":0,"creation_date":1330420708,"post_id":9478983,"comment_id":11996744,"body_markdown":"@Duh: Frankly, I don&#39;t see how that would help transform your problem into the TSP. In any case, I think a useful first step is to figure out what it is exactly that you&#39;re seeking (the shortest cycle that visits each vertex *at least* once?)","body":"@Duh: Frankly, I don&#39;t see how that would help transform your problem into the TSP. In any case, I think a useful first step is to figure out what it is exactly that you&#39;re seeking (the shortest cycle that visits each vertex <i>at least</i> once?)"},{"owner":{"account_id":421489,"reputation":1576,"user_id":799764,"accept_rate":75,"display_name":"Dino"},"score":0,"creation_date":1330420959,"post_id":9478983,"comment_id":11996827,"body_markdown":"Yes, that is exactly what I am looking for. And in this case, moving the problem to the complete graph with accurate distances solved the problem:\n- It is easy to show that the lengths of the optimal solutions are equal\n- Is is easy to build a tour in my sense from the optimal TSP tour in the complete graph","body":"Yes, that is exactly what I am looking for. And in this case, moving the problem to the complete graph with accurate distances solved the problem: - It is easy to show that the lengths of the optimal solutions are equal - Is is easy to build a tour in my sense from the optimal TSP tour in the complete graph"}],"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1330419607,"creation_date":1330419607,"answer_id":9478983,"question_id":9478961,"body_markdown":"Your difficulty is not the triangle inequality. The difficulty has to do with the fact that the solution you&#39;re expecting is not a valid [TSP][1] tour.\r\n\r\nThe TSP seeks a [Hamiltonian cycle][2]; that is, a cycle that visits each vertex exactly once. Your solution, `(0, 1, 2, 1, 4, 3)`, visits vertex 1 twice.\r\n\r\nIf that&#39;s the solution you&#39;re seeking, then the the problem you&#39;re trying to solve is not the Travelling Salesman Problem.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Travelling_salesman_problem\r\n  [2]: http://mathworld.wolfram.com/HamiltonianCycle.html","title":"TSP solver without triangle inequality","body":"<p>Your difficulty is not the triangle inequality. The difficulty has to do with the fact that the solution you're expecting is not a valid <a href=\"http://en.wikipedia.org/wiki/Travelling_salesman_problem\">TSP</a> tour.</p>\n\n<p>The TSP seeks a <a href=\"http://mathworld.wolfram.com/HamiltonianCycle.html\">Hamiltonian cycle</a>; that is, a cycle that visits each vertex exactly once. Your solution, <code>(0, 1, 2, 1, 4, 3)</code>, visits vertex 1 twice.</p>\n\n<p>If that's the solution you're seeking, then the the problem you're trying to solve is not the Travelling Salesman Problem.</p>\n"},{"tags":[],"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685369473,"creation_date":1685369473,"answer_id":76358063,"question_id":9478961,"body_markdown":"Seems like you want to forbid the edge `(2, 4)`. If you take then the typical TSP algorithms, when they end up in node `2` (the only way they could come from was `1`), then there is no way to another node that they haven&#39;t visited so far.\r\n\r\nWhat you can do is define the distances between each node as the distance of the shortest paths between them, thus for example the distance edge `(2, 4)` = distance path `(2, 1, 4)`. Finally you take the solution from the solver `(0, 1, 2, 4, 3)` and replace every non-existent edge like `(2, 4)` with its shortest path `(2, 1, 4)` and you&#39;ll end up with your desired solution.","title":"TSP solver without triangle inequality","body":"<p>Seems like you want to forbid the edge <code>(2, 4)</code>. If you take then the typical TSP algorithms, when they end up in node <code>2</code> (the only way they could come from was <code>1</code>), then there is no way to another node that they haven't visited so far.</p>\n<p>What you can do is define the distances between each node as the distance of the shortest paths between them, thus for example the distance edge <code>(2, 4)</code> = distance path <code>(2, 1, 4)</code>. Finally you take the solution from the solver <code>(0, 1, 2, 4, 3)</code> and replace every non-existent edge like <code>(2, 4)</code> with its shortest path <code>(2, 1, 4)</code> and you'll end up with your desired solution.</p>\n"}],"owner":{"account_id":421489,"reputation":1576,"user_id":799764,"accept_rate":75,"display_name":"Dino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1846,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9478983,"answer_count":2,"score":1,"last_activity_date":1685369473,"creation_date":1330419481,"question_id":9478961,"body_markdown":"I am interested in solving the TSP for (small) grid graphs. Any sort of library will do for me, but this seems to be harder than expected. I tried a couple of solvers I found out there (including concorde), but they all seem to have problems when the triangle inequality does not hold.\r\n\r\nFor instance, I would like the solver to output the tour (0, 1, 2, 1, 4, 3) for the graph (with unit edge weights) below:\r\n\r\n    0-1-2\r\n    | |\r\n    3-4\r\n\r\nIn this particular case, I told concorde that the edge (2, 4) had weight 1000 and concorde promptly produced the tour (0, 1, 2, 4, 3) of cost 1004. This is clearly not what I am looking for.\r\n\r\nIdeally, there would be some simple (possibly brute force) implementation in Java, but anything which works will actually do. Can anyone point me to some code or do I really have to go an implement this myself?\r\n\r\nEdit: also, it is important that I get an exact solution, not some approximation.\r\n\r\nEdit2: indeed, this does not seem to be TSP. What I am trying to find is a shortest closed walk which visits all vertices.\r\n","title":"TSP solver without triangle inequality","body":"<p>I am interested in solving the TSP for (small) grid graphs. Any sort of library will do for me, but this seems to be harder than expected. I tried a couple of solvers I found out there (including concorde), but they all seem to have problems when the triangle inequality does not hold.</p>\n\n<p>For instance, I would like the solver to output the tour (0, 1, 2, 1, 4, 3) for the graph (with unit edge weights) below:</p>\n\n<pre><code>0-1-2\n| |\n3-4\n</code></pre>\n\n<p>In this particular case, I told concorde that the edge (2, 4) had weight 1000 and concorde promptly produced the tour (0, 1, 2, 4, 3) of cost 1004. This is clearly not what I am looking for.</p>\n\n<p>Ideally, there would be some simple (possibly brute force) implementation in Java, but anything which works will actually do. Can anyone point me to some code or do I really have to go an implement this myself?</p>\n\n<p>Edit: also, it is important that I get an exact solution, not some approximation.</p>\n\n<p>Edit2: indeed, this does not seem to be TSP. What I am trying to find is a shortest closed walk which visits all vertices.</p>\n"},{"tags":["java","hadoop","hdfs","kerberos"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685363644,"post_id":76357188,"comment_id":134645954,"body_markdown":"How do you run the code? You may have to add a JVM flag to the process on the CLI, not use `System.setProperty`, which only runs on the driver node of mapreduce","body":"How do you run the code? You may have to add a JVM flag to the process on the CLI, not use <code>System.setProperty</code>, which only runs on the driver node of mapreduce"},{"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"score":0,"creation_date":1685363850,"post_id":76357188,"comment_id":134645991,"body_markdown":"I run it with java -jar.  I also tried to do it with &quot;-Djava.security.krb5.conf=/etc/krb5.conf&quot; argument.","body":"I run it with java -jar.  I also tried to do it with &quot;-Djava.security.krb5.conf=/etc/krb5.conf&quot; argument."},{"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"score":0,"creation_date":1685364338,"post_id":76357188,"comment_id":134646107,"body_markdown":"OneCricketeer, I updated my question with more error information:  &quot;error Message is Additional pre-authentication required&quot;","body":"OneCricketeer, I updated my question with more error information:  &quot;error Message is Additional pre-authentication required&quot;"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685364646,"post_id":76357188,"comment_id":134646172,"body_markdown":"Not sure. Haven&#39;t used Kerberos in years. You&#39;ve showed kinit is working, and klist shows the ticket, so there&#39;s some Java / file misconfiguration. For example, check user permissions on the keytab file?","body":"Not sure. Haven&#39;t used Kerberos in years. You&#39;ve showed kinit is working, and klist shows the ticket, so there&#39;s some Java / file misconfiguration. For example, check user permissions on the keytab file?"},{"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"score":0,"creation_date":1685367028,"post_id":76357188,"comment_id":134646660,"body_markdown":"I checked: the user has all permissions for keytab","body":"I checked: the user has all permissions for keytab"}],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685369241,"creation_date":1685361723,"question_id":76357188,"body_markdown":"I&#39;m trying to list files from Name Node.\r\nMy application is run at Data Node with following Hdfs configuration: \r\n\r\n      Configuration config = new Configuration();\r\n      System.setProperty(&quot;java.security.krb5.conf&quot;, &quot;/etc/krb5.conf&quot;);\r\n      config.addResource(new Path(&quot;/etc/hadoop/conf/core-site.xml&quot;));\r\n      config.addResource(new Path(&quot;/etc/hadoop/conf/hdfs-site.xml&quot;));\r\n      config.set(&quot;fs.hdfs.impl&quot;, &quot;org.apache.hadoop.hdfs.DistributedFileSystem&quot;);\r\n      config.set(&quot;fs.file.impl&quot;, &quot;org.apache.hadoop.fs.LocalFileSystem&quot;);\r\n      config.set(&quot;hadoop.security.authentication&quot;, &quot;kerberos&quot;);\r\n      UserGroupInformation.setConfiguration(config);\r\n      UserGroupInformation.loginUserFromKeytab(&quot;kt_user@QA.DF.SBRF.COM&quot;,\r\n        &quot;kt_user.keytab&quot;);\r\n      UserGroupInformation user = UserGroupInformation.getLoginUser();\r\n      System.out.println(&quot;SU &quot; + user.toString());\r\n\r\n      System.out.println(&quot;Current userName: &quot; + UserGroupInformation.getCurrentUser().getUserName());\r\n\r\n      hdfs = FileSystem.get(config);\r\n\r\nAdditionally I set the javax.security.auth.useSubjectCredsOnly system property value to false:\r\n    System.setProperty(&quot;javax.security.auth.useSubjectCredsOnly&quot;, &quot;false&quot;);\r\n\r\nThe FileSystem instance is created successfully.\r\n&quot;SU&quot; is kt_user@QA.DF.SBRF.COM (auth KERBEROS). &quot;Current userName:&quot; is kt_user@QA.DF.SBRF.COM  \r\n\r\nThe principal is correct. I check it by command &quot;klist&quot;.\r\n\r\nThe keytab-file is located at the same directory as jar (/home/user)\r\n\r\n\r\nBut when I run hdfs.listStatus(new Path(&quot;some real path&quot;)) is return: \r\n\r\n     org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[TOKEN, KERBEROS]\r\n\r\nWhat am I doing wrong?\r\n\r\nBy Kerberos Debug I found the the following Error-message:\r\n\r\n     error Message is Additional pre-authentication required\r\n\r\n\r\n   ","title":"Java HDFS listStatus: AccessControlException: Client cannot authenticate via:[TOKEN, KERBEROS]","body":"<p>I'm trying to list files from Name Node.\nMy application is run at Data Node with following Hdfs configuration:</p>\n<pre><code>  Configuration config = new Configuration();\n  System.setProperty(&quot;java.security.krb5.conf&quot;, &quot;/etc/krb5.conf&quot;);\n  config.addResource(new Path(&quot;/etc/hadoop/conf/core-site.xml&quot;));\n  config.addResource(new Path(&quot;/etc/hadoop/conf/hdfs-site.xml&quot;));\n  config.set(&quot;fs.hdfs.impl&quot;, &quot;org.apache.hadoop.hdfs.DistributedFileSystem&quot;);\n  config.set(&quot;fs.file.impl&quot;, &quot;org.apache.hadoop.fs.LocalFileSystem&quot;);\n  config.set(&quot;hadoop.security.authentication&quot;, &quot;kerberos&quot;);\n  UserGroupInformation.setConfiguration(config);\n  UserGroupInformation.loginUserFromKeytab(&quot;kt_user@QA.DF.SBRF.COM&quot;,\n    &quot;kt_user.keytab&quot;);\n  UserGroupInformation user = UserGroupInformation.getLoginUser();\n  System.out.println(&quot;SU &quot; + user.toString());\n\n  System.out.println(&quot;Current userName: &quot; + UserGroupInformation.getCurrentUser().getUserName());\n\n  hdfs = FileSystem.get(config);\n</code></pre>\n<p>Additionally I set the javax.security.auth.useSubjectCredsOnly system property value to false:\nSystem.setProperty(&quot;javax.security.auth.useSubjectCredsOnly&quot;, &quot;false&quot;);</p>\n<p>The FileSystem instance is created successfully.\n&quot;SU&quot; is kt_user@QA.DF.SBRF.COM (auth KERBEROS). &quot;Current userName:&quot; is kt_user@QA.DF.SBRF.COM</p>\n<p>The principal is correct. I check it by command &quot;klist&quot;.</p>\n<p>The keytab-file is located at the same directory as jar (/home/user)</p>\n<p>But when I run hdfs.listStatus(new Path(&quot;some real path&quot;)) is return:</p>\n<pre><code> org.apache.hadoop.security.AccessControlException: Client cannot authenticate via:[TOKEN, KERBEROS]\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>By Kerberos Debug I found the the following Error-message:</p>\n<pre><code> error Message is Additional pre-authentication required\n</code></pre>\n"},{"tags":["javascript","java","devops","jfrog-cli","jfrog-container-registry"],"comments":[{"owner":{"account_id":28115049,"reputation":150,"user_id":21493925,"display_name":"Petə&#237;ŕd The Linux Wizard"},"score":0,"creation_date":1685367306,"post_id":76357822,"comment_id":134646723,"body_markdown":"Java and JavaScript is different. How about change the tags?","body":"Java and JavaScript is different. How about change the tags?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1685367669,"post_id":76357822,"comment_id":134646793,"body_markdown":"https://stackoverflow.com/q/73533419/2970947","body":"<a href=\"https://stackoverflow.com/q/73533419/2970947\">stackoverflow.com/q/73533419/2970947</a>"},{"owner":{"account_id":1828145,"reputation":563,"user_id":1660336,"display_name":"Tatarao Vana"},"score":1,"creation_date":1685424240,"post_id":76357822,"comment_id":134653526,"body_markdown":"We can get build info using the get build info REST API call: jfrog.com/help/r/jfrog-rest-apis/build-info In case if you want to download build artifacts, you can follow the instructions provided in this article: jfrog.com/help/r/… Please do comment if you require any further details on this matter.","body":"We can get build info using the get build info REST API call: jfrog.com/help/r/jfrog-rest-apis/build-info In case if you want to download build artifacts, you can follow the instructions provided in this article: jfrog.com/help/r/… Please do comment if you require any further details on this matter."}],"owner":{"account_id":7838032,"reputation":2366,"user_id":5925291,"accept_rate":84,"display_name":"ArrchanaMohan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1685368959,"creation_date":1685367115,"question_id":76357822,"body_markdown":"I&#39;m very new to JFrog Artifact. People are using the Jfrog artifacts repository in one of my project to download the latest build for their testing activities. \r\n\r\nIs there any way to download the build through *curl or programmatically* *(Java (OR) JS)*. \r\n\r\nI haven&#39;t get any enough resource to perform hands on. I will start my direction based on this answers.","title":"How to download the builds from JFrog repository using Java","body":"<p>I'm very new to JFrog Artifact. People are using the Jfrog artifacts repository in one of my project to download the latest build for their testing activities.</p>\n<p>Is there any way to download the build through <em>curl or programmatically</em> <em>(Java (OR) JS)</em>.</p>\n<p>I haven't get any enough resource to perform hands on. I will start my direction based on this answers.</p>\n"},{"tags":["java","spring-webflux","spring-webclient","fire-and-forget"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685368738,"creation_date":1682348217,"answer_id":76093244,"question_id":76092862,"body_markdown":"You can use multiple hooks for an observable (such as a Mono or a Flux): in this case, you can use the doOnNext() before subscribing:\r\n\r\n    @Test\r\n    void test() {\r\n    \tFlux&lt;MyPojo&gt; myPojoFlux = Flux.just(\r\n    \t\t\tnew MyPojo(1),\r\n    \t\t\tnew MyPojo(2),\r\n    \t\t\tnew MyPojo(3),\r\n    \t\t\tnew MyPojo(4),\r\n    \t\t\tnew MyPojo(5)\r\n    \t);\r\n    \r\n    \tmyPojoFlux\r\n          .doOnNext(this::sendPostRequest)\r\n          .subscribe(this::doSomethingElse);\r\n    }\r\n    \r\n    private void doSomethingElse(MyPojo myPojo) {\r\n    \tSystem.out.println(myPojo);\r\n    }\r\n    \r\n    private void sendPostRequest(MyPojo oneMyPojo) {\r\n    \twebClient.get()\r\n    \t\t\t.uri(...)\r\n                .bodyValue(oneMyPojo)\r\n    \t\t\t.retrieve()\r\n    \t\t\t.bodyToMono(String.class)\r\n    \t\t\t.subscribe(resp -&gt; System.out.println(oneMyPojo + &quot; &quot; + resp));\r\n    }\r\n\r\nSince the client works asynchronously if you don&#39;t `block` , the `doSomethingElse` method will be called regardless of the response of `sendPostRequest`","title":"Spring Webclient Flux fire and forget while keeping the flux","body":"<p>You can use multiple hooks for an observable (such as a Mono or a Flux): in this case, you can use the doOnNext() before subscribing:</p>\n<pre><code>@Test\nvoid test() {\n    Flux&lt;MyPojo&gt; myPojoFlux = Flux.just(\n            new MyPojo(1),\n            new MyPojo(2),\n            new MyPojo(3),\n            new MyPojo(4),\n            new MyPojo(5)\n    );\n\n    myPojoFlux\n      .doOnNext(this::sendPostRequest)\n      .subscribe(this::doSomethingElse);\n}\n\nprivate void doSomethingElse(MyPojo myPojo) {\n    System.out.println(myPojo);\n}\n\nprivate void sendPostRequest(MyPojo oneMyPojo) {\n    webClient.get()\n            .uri(...)\n            .bodyValue(oneMyPojo)\n            .retrieve()\n            .bodyToMono(String.class)\n            .subscribe(resp -&gt; System.out.println(oneMyPojo + &quot; &quot; + resp));\n}\n</code></pre>\n<p>Since the client works asynchronously if you don't <code>block</code> , the <code>doSomethingElse</code> method will be called regardless of the response of <code>sendPostRequest</code></p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76093244,"answer_count":1,"score":0,"last_activity_date":1685368738,"creation_date":1682345804,"question_id":76092862,"body_markdown":"What I would like to achieve\r\n\r\n- For each element of a Flux of MyPojo ```Flux&lt;MyPojo&gt;```, send a http request with the json payload to a third party web service, **fire and forget** style, while being able to **return the Flux** for follow up processing.\r\n\r\nInformation\r\n\r\n- the third party web server, which I have no control over, takes 5 seconds constant time to process one request.\r\n\r\n- The third party server does not offer any bulk or list API, it is one by one\r\n\r\n- The third party server is known to be very reliable, I am allowed to hit it as hard as possible\r\n\r\n- I do not care that much about the response, especially, there is no value in waiting 5 seconds for a response I will do nothing with.\r\n\r\nWhat I have tried\r\n\r\n- Using this code: \r\n\r\n```\r\n    private Flux&lt;MyPojo&gt; sendMyPojoFireAndForget(Flux&lt;MyPojo&gt; myPojoFlux) {\r\n        return myPojoFlux.flatMap(oneMyPojo -&gt; webClient.post().uri(&quot;http://example.com/path&quot;).bodyValue(oneMyPojo).exchangeToMono(clientResponse -&gt; Mono.just(oneMyPojo)));\r\n    }\r\n```\r\n\r\nHowever, this is not fire and forget. With proper logs on my side and seeing some logs from the third party, it seems I am waiting for the response.\r\n\r\nI also tried \r\n\r\n```\r\nwebClient.post()\r\n            .uri(&quot;http://example.com/path&quot;)\r\n            .bodyValue(oneMyPojo)\r\n            .retrieve()\r\n            .bodyToMono(Void.class)\r\n            .subscribe();\r\n```\r\n\r\nBut this will make me &quot;lose&quot; the Flux of MyPojo and end up with a Flux of Void instead\r\n\r\nQuestion:\r\n\r\n- How to send each element of the Flux to this external webserver fire and forget style, while retaining the entire flux for downstream processing?","title":"Spring Webclient Flux fire and forget while keeping the flux","body":"<p>What I would like to achieve</p>\n<ul>\n<li>For each element of a Flux of MyPojo <code>Flux&lt;MyPojo&gt;</code>, send a http request with the json payload to a third party web service, <strong>fire and forget</strong> style, while being able to <strong>return the Flux</strong> for follow up processing.</li>\n</ul>\n<p>Information</p>\n<ul>\n<li><p>the third party web server, which I have no control over, takes 5 seconds constant time to process one request.</p>\n</li>\n<li><p>The third party server does not offer any bulk or list API, it is one by one</p>\n</li>\n<li><p>The third party server is known to be very reliable, I am allowed to hit it as hard as possible</p>\n</li>\n<li><p>I do not care that much about the response, especially, there is no value in waiting 5 seconds for a response I will do nothing with.</p>\n</li>\n</ul>\n<p>What I have tried</p>\n<ul>\n<li>Using this code:</li>\n</ul>\n<pre><code>    private Flux&lt;MyPojo&gt; sendMyPojoFireAndForget(Flux&lt;MyPojo&gt; myPojoFlux) {\n        return myPojoFlux.flatMap(oneMyPojo -&gt; webClient.post().uri(&quot;http://example.com/path&quot;).bodyValue(oneMyPojo).exchangeToMono(clientResponse -&gt; Mono.just(oneMyPojo)));\n    }\n</code></pre>\n<p>However, this is not fire and forget. With proper logs on my side and seeing some logs from the third party, it seems I am waiting for the response.</p>\n<p>I also tried</p>\n<pre><code>webClient.post()\n            .uri(&quot;http://example.com/path&quot;)\n            .bodyValue(oneMyPojo)\n            .retrieve()\n            .bodyToMono(Void.class)\n            .subscribe();\n</code></pre>\n<p>But this will make me &quot;lose&quot; the Flux of MyPojo and end up with a Flux of Void instead</p>\n<p>Question:</p>\n<ul>\n<li>How to send each element of the Flux to this external webserver fire and forget style, while retaining the entire flux for downstream processing?</li>\n</ul>\n"},{"tags":["java","xml","ms-word","docx4j"],"comments":[{"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1685917348,"post_id":76357964,"comment_id":134724033,"body_markdown":"You should add some diagnostics to debug your method.  Alternatively, there is https://github.com/plutext/docx4j/blob/VERSION_11_4_8/docx4j-core/src/main/java/org/docx4j/finders/SdtFinder.java  For an idea of how to use it, see https://github.com/plutext/docx4j/blob/VERSION_11_4_8/docx4j-samples-docx4j/src/main/java/org/docx4j/samples/TraverseFind.java","body":"You should add some diagnostics to debug your method.  Alternatively, there is <a href=\"https://github.com/plutext/docx4j/blob/VERSION_11_4_8/docx4j-core/src/main/java/org/docx4j/finders/SdtFinder.java\" rel=\"nofollow noreferrer\">github.com/plutext/docx4j/blob/VERSION_11_4_8/docx4j-core/sr&zwnj;&#8203;c/&hellip;</a>  For an idea of how to use it, see <a href=\"https://github.com/plutext/docx4j/blob/VERSION_11_4_8/docx4j-samples-docx4j/src/main/java/org/docx4j/samples/TraverseFind.java\" rel=\"nofollow noreferrer\">github.com/plutext/docx4j/blob/VERSION_11_4_8/&hellip;</a>"}],"owner":{"account_id":22892387,"reputation":21,"user_id":17032341,"display_name":"rikardh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685368504,"creation_date":1685368504,"question_id":76357964,"body_markdown":"I am using Docx4J and have trouble finding objects i my template. I want to find ojbects preferably by &quot;tags&quot; and then edit the content within the SDT. \r\n\r\nExample XML:\r\n\r\n```\r\n&lt;w:sdt&gt;\r\n\t&lt;w:sdtPr&gt;\r\n\t\t&lt;w:tag w:val=&quot;my_tag_key&quot;/&gt; &lt;-- My key I want to use to find\r\n\t\t&lt;w:id w:val=&quot;-2013140027&quot;/&gt;\r\n\t\t&lt;w:placeholder&gt;\r\n\t\t\t&lt;w:docPart w:val=&quot;B7EA0BE1A23B43B3862BD5F3F1C831D0&quot;/&gt;\r\n\t\t&lt;/w:placeholder&gt;\r\n\t\t&lt;w:text/&gt;\r\n\t&lt;/w:sdtPr&gt;\r\n\t&lt;w:sdtEndPr/&gt;\r\n\t&lt;w:sdtContent&gt; &lt;-- If no sdtContent exist I want to add new sdtContet with text\r\n\t\t&lt;w:p w14:paraId=&quot;3F25D545&quot; w14:textId=&quot;2589E674&quot; w:rsidR=&quot;006E5249&quot; w:rsidRPr=&quot;006E5249&quot; w:rsidRDefault=&quot;00DB5DAC&quot; w:rsidP=&quot;006E5249&quot;&gt;\r\n\t\t\t&lt;w:pPr&gt;\r\n\t\t\t\t&lt;w:pStyle w:val=&quot;Tabelltext&quot;/&gt;\r\n\t\t\t&lt;/w:pPr&gt;\r\n\t\t\t&lt;w:r&gt;\r\n\t\t\t\t&lt;w:t&gt;I want to edit this text&lt;/w:t&gt; &lt;-- If  text exist I want to edit this\r\n\t\t\t&lt;/w:r&gt;\r\n\t\t&lt;/w:p&gt;\r\n\t&lt;/w:sdtContent&gt;\r\n&lt;/w:sdt&gt;\r\n\r\n```\r\n\r\n\r\nI&#39;ve tried to find object different ways for example by this method:\r\n\r\n\r\n```\r\npublic static List&lt;Object&gt; getAllElementFromObject(Object obj, Class&lt;?&gt; toSearch) {\r\n        var result = new ArrayList&lt;Object&gt;();\r\n        if (obj instanceof JAXBElement) {\r\n            obj = ((JAXBElement&lt;?&gt;) obj).getValue();\r\n        }\r\n        if (obj.getClass().equals(toSearch)) {\r\n            result.add(obj);\r\n        } else if (obj instanceof ContentAccessor) {\r\n            List&lt;?&gt; children = ((ContentAccessor) obj).getContent();\r\n            for (Object child : children) {\r\n                result.addAll(getAllElementFromObject(child, toSearch));\r\n            }\r\n        } else if (obj instanceof SdtElement) {\r\n            List&lt;?&gt; children = getAllElementFromObject(((SdtElement) obj).getSdtContent(), toSearch);\r\n            for (Object child : children) {\r\n                result.addAll(getAllElementFromObject(child, toSearch));\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\nTried to find SdtBlock, SdtContent, SdtContentCell etc but it does not work. I feel there must be a smarter way.","title":"Find objects by Tag value with Docx4j","body":"<p>I am using Docx4J and have trouble finding objects i my template. I want to find ojbects preferably by &quot;tags&quot; and then edit the content within the SDT.</p>\n<p>Example XML:</p>\n<pre><code>&lt;w:sdt&gt;\n    &lt;w:sdtPr&gt;\n        &lt;w:tag w:val=&quot;my_tag_key&quot;/&gt; &lt;-- My key I want to use to find\n        &lt;w:id w:val=&quot;-2013140027&quot;/&gt;\n        &lt;w:placeholder&gt;\n            &lt;w:docPart w:val=&quot;B7EA0BE1A23B43B3862BD5F3F1C831D0&quot;/&gt;\n        &lt;/w:placeholder&gt;\n        &lt;w:text/&gt;\n    &lt;/w:sdtPr&gt;\n    &lt;w:sdtEndPr/&gt;\n    &lt;w:sdtContent&gt; &lt;-- If no sdtContent exist I want to add new sdtContet with text\n        &lt;w:p w14:paraId=&quot;3F25D545&quot; w14:textId=&quot;2589E674&quot; w:rsidR=&quot;006E5249&quot; w:rsidRPr=&quot;006E5249&quot; w:rsidRDefault=&quot;00DB5DAC&quot; w:rsidP=&quot;006E5249&quot;&gt;\n            &lt;w:pPr&gt;\n                &lt;w:pStyle w:val=&quot;Tabelltext&quot;/&gt;\n            &lt;/w:pPr&gt;\n            &lt;w:r&gt;\n                &lt;w:t&gt;I want to edit this text&lt;/w:t&gt; &lt;-- If  text exist I want to edit this\n            &lt;/w:r&gt;\n        &lt;/w:p&gt;\n    &lt;/w:sdtContent&gt;\n&lt;/w:sdt&gt;\n\n</code></pre>\n<p>I've tried to find object different ways for example by this method:</p>\n<pre><code>public static List&lt;Object&gt; getAllElementFromObject(Object obj, Class&lt;?&gt; toSearch) {\n        var result = new ArrayList&lt;Object&gt;();\n        if (obj instanceof JAXBElement) {\n            obj = ((JAXBElement&lt;?&gt;) obj).getValue();\n        }\n        if (obj.getClass().equals(toSearch)) {\n            result.add(obj);\n        } else if (obj instanceof ContentAccessor) {\n            List&lt;?&gt; children = ((ContentAccessor) obj).getContent();\n            for (Object child : children) {\n                result.addAll(getAllElementFromObject(child, toSearch));\n            }\n        } else if (obj instanceof SdtElement) {\n            List&lt;?&gt; children = getAllElementFromObject(((SdtElement) obj).getSdtContent(), toSearch);\n            for (Object child : children) {\n                result.addAll(getAllElementFromObject(child, toSearch));\n            }\n        }\n        return result;\n    }\n</code></pre>\n<p>Tried to find SdtBlock, SdtContent, SdtContentCell etc but it does not work. I feel there must be a smarter way.</p>\n"},{"tags":["java","selenium-webdriver","automated-tests","salesforce","alerts"],"comments":[{"owner":{"account_id":6458640,"reputation":1583,"user_id":5003199,"accept_rate":60,"display_name":"joshii_h"},"score":0,"creation_date":1685007804,"post_id":76330798,"comment_id":134601863,"body_markdown":"please tell me if this article is helping you: https://www.tutorialspoint.com/how-to-handle-alerts-in-selenium if not I am pretty sure handling of alert with selenium is documented well.","body":"please tell me if this article is helping you: <a href=\"https://www.tutorialspoint.com/how-to-handle-alerts-in-selenium\" rel=\"nofollow noreferrer\">tutorialspoint.com/how-to-handle-alerts-in-selenium</a> if not I am pretty sure handling of alert with selenium is documented well."},{"owner":{"account_id":28676297,"reputation":1,"user_id":21958404,"display_name":"JAYA CHANDRA N.B."},"score":0,"creation_date":1685012680,"post_id":76330798,"comment_id":134602839,"body_markdown":"No i tried those functions still not working","body":"No i tried those functions still not working"}],"answers":[{"comments":[{"owner":{"account_id":28676297,"reputation":1,"user_id":21958404,"display_name":"JAYA CHANDRA N.B."},"score":0,"creation_date":1685083691,"post_id":76335689,"comment_id":134614455,"body_markdown":"still getting the error org.openqa.selenium.NoAlertPresentException: no such alert","body":"still getting the error org.openqa.selenium.NoAlertPresentException: no such alert"}],"tags":[],"owner":{"account_id":8839395,"reputation":19,"user_id":6602314,"display_name":"Anup Sahoo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685043179,"creation_date":1685043179,"answer_id":76335689,"question_id":76330798,"body_markdown":"To click on the OK button on a reminder alert in Salesforce using Selenium, you need to first switch the driver to the Alert interface. Once the alert is displayed you can use the following code:\r\n\r\n\r\n\r\n    Alert alert = driver.switchTo().alert();\r\n    alert.accept();\r\n\r\n\r\nThis code snippet will select the alert box by using the switchTo() method, and then the accept() method is used to click on the OK button.\r\n\r\nYou can integrate this code into your Selenium script to handle the reminder alerts in Salesforce.","title":"Any idea on how to click on ok button on the reminder alert in salesforce using selenium?","body":"<p>To click on the OK button on a reminder alert in Salesforce using Selenium, you need to first switch the driver to the Alert interface. Once the alert is displayed you can use the following code:</p>\n<pre><code>Alert alert = driver.switchTo().alert();\nalert.accept();\n</code></pre>\n<p>This code snippet will select the alert box by using the switchTo() method, and then the accept() method is used to click on the OK button.</p>\n<p>You can integrate this code into your Selenium script to handle the reminder alerts in Salesforce.</p>\n"},{"comments":[{"owner":{"account_id":28676297,"reputation":1,"user_id":21958404,"display_name":"JAYA CHANDRA N.B."},"score":0,"creation_date":1685341607,"post_id":76342023,"comment_id":134642695,"body_markdown":"actually this is a salesforce application and these methods are not working","body":"actually this is a salesforce application and these methods are not working"},{"owner":{"account_id":28676297,"reputation":1,"user_id":21958404,"display_name":"JAYA CHANDRA N.B."},"score":0,"creation_date":1685342044,"post_id":76342023,"comment_id":134642746,"body_markdown":"getting this error org.openqa.selenium.TimeoutException: Expected condition failed: waiting for alert to be present (tried for 5 second(s) with 500 milliseconds interval)\nBuild info: version: &#39;4.9.1&#39;, revision: &#39;eb2032df7f&#39;","body":"getting this error org.openqa.selenium.TimeoutException: Expected condition failed: waiting for alert to be present (tried for 5 second(s) with 500 milliseconds interval) Build info: version: &#39;4.9.1&#39;, revision: &#39;eb2032df7f&#39;"}],"tags":[],"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685113353,"creation_date":1685113353,"answer_id":76342023,"question_id":76330798,"body_markdown":"For your problem, may be due to Selenium is too quick and tries to accept an alert that has not yet been opened by the browser.\r\n\r\nSo adding an explicit wait will be able to solve your problem.\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 5);\r\n    Alert alert = wait.until(ExpectedConditions.alertIsPresent());\r\n    driver.switchTo().alert();\r\n    alert.accept()","title":"Any idea on how to click on ok button on the reminder alert in salesforce using selenium?","body":"<p>For your problem, may be due to Selenium is too quick and tries to accept an alert that has not yet been opened by the browser.</p>\n<p>So adding an explicit wait will be able to solve your problem.</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 5);\nAlert alert = wait.until(ExpectedConditions.alertIsPresent());\ndriver.switchTo().alert();\nalert.accept()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28676297,"reputation":1,"user_id":21958404,"display_name":"JAYA CHANDRA N.B."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685366580,"creation_date":1685366580,"answer_id":76357767,"question_id":76330798,"body_markdown":"Actually i found a solution for the issue\r\n\r\nso alert.accept will not for work this type of salesforce alerts\r\n\r\nwe have to use xpath or css selector to find the element and then click on ok.\r\n","title":"Any idea on how to click on ok button on the reminder alert in salesforce using selenium?","body":"<p>Actually i found a solution for the issue</p>\n<p>so alert.accept will not for work this type of salesforce alerts</p>\n<p>we have to use xpath or css selector to find the element and then click on ok.</p>\n"}],"owner":{"account_id":28676297,"reputation":1,"user_id":21958404,"display_name":"JAYA CHANDRA N.B."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1685366580,"creation_date":1685007055,"question_id":76330798,"body_markdown":"I&#39;m trying to click on the ok button which is present on the alert/reminder but not able to handle alerts in the salesforce by usual methods.\r\n\r\nThis is the XPath:\r\n````\r\ndriver.findElement(By.xpath(&quot;//div[@class=&#39;active cMA_Product_Category_Details&#39;]//div[@role=&#39;alertdialog&#39;]//button[text()=&#39;OK&#39;]&quot;)).click;\r\n````\r\n\r\nAnd also tried\r\n````\r\ndriver.switchto.alert.accept;\r\n````\r\n\r\nAny idea how to handle this?\r\n\r\nPlease find the below attached screenshots for your reference.\r\nThis is a salesforce alert.\r\n\r\n[![alert image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LSXQq.png","title":"Any idea on how to click on ok button on the reminder alert in salesforce using selenium?","body":"<p>I'm trying to click on the ok button which is present on the alert/reminder but not able to handle alerts in the salesforce by usual methods.</p>\n<p>This is the XPath:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//div[@class='active cMA_Product_Category_Details']//div[@role='alertdialog']//button[text()='OK']&quot;)).click;\n</code></pre>\n<p>And also tried</p>\n<pre><code>driver.switchto.alert.accept;\n</code></pre>\n<p>Any idea how to handle this?</p>\n<p>Please find the below attached screenshots for your reference.\nThis is a salesforce alert.</p>\n<p><a href=\"https://i.stack.imgur.com/LSXQq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LSXQq.png\" alt=\"alert image\" /></a></p>\n"},{"tags":["java","caching","microservices","grpc","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":7820761,"reputation":324,"user_id":5913975,"display_name":"Sanjay Naik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685366522,"creation_date":1685366522,"answer_id":76357760,"question_id":76357270,"body_markdown":"Solved this issue by commenting hazelcast.yml in client application and instead declared hazellcast configs using beans\r\n\r\n```\r\nimport com.hazelcast.config.*;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class HazelcastConfiguration {\r\n\r\n    @Bean\r\n    public Config hazelCastConfig(){\r\n        NetworkConfig networkConfig = new NetworkConfig();\r\n        MulticastConfig multicastConfig = new MulticastConfig();\r\n        multicastConfig.setEnabled(false);\r\n        networkConfig.getJoin().setMulticastConfig(multicastConfig);\r\n        TcpIpConfig tcpIpConfig = new TcpIpConfig();\r\n        tcpIpConfig.setEnabled(true);\r\n        tcpIpConfig.addMember(&quot;127.0.0.1&quot;);\r\n        networkConfig.setPort(9702);\r\n        networkConfig.getJoin().setTcpIpConfig(tcpIpConfig);\r\n\r\n        return new Config()\r\n                .setClusterName(BanksDataConstants.BANKS_DATA)\r\n                .setNetworkConfig(networkConfig)\r\n                .addMapConfig(new MapConfig()\r\n                        .setName(BanksDataConstants.BANKS_DATA)\r\n                        .setBackupCount(0)\r\n                        .setMaxIdleSeconds(0)\r\n                                .setEvictionConfig(new EvictionConfig().setEvictionPolicy(EvictionPolicy.LRU))\r\n                                .setMergePolicyConfig(new MergePolicyConfig().setPolicy(MergePolicyConfig.DEFAULT_MERGE_POLICY))\r\n               \r\n                );\r\n\r\n\r\n    }\r\n}\r\n\r\n```","title":"Hazelcast unable to connect to other cluster members","body":"<p>Solved this issue by commenting hazelcast.yml in client application and instead declared hazellcast configs using beans</p>\n<pre><code>import com.hazelcast.config.*;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class HazelcastConfiguration {\n\n    @Bean\n    public Config hazelCastConfig(){\n        NetworkConfig networkConfig = new NetworkConfig();\n        MulticastConfig multicastConfig = new MulticastConfig();\n        multicastConfig.setEnabled(false);\n        networkConfig.getJoin().setMulticastConfig(multicastConfig);\n        TcpIpConfig tcpIpConfig = new TcpIpConfig();\n        tcpIpConfig.setEnabled(true);\n        tcpIpConfig.addMember(&quot;127.0.0.1&quot;);\n        networkConfig.setPort(9702);\n        networkConfig.getJoin().setTcpIpConfig(tcpIpConfig);\n\n        return new Config()\n                .setClusterName(BanksDataConstants.BANKS_DATA)\n                .setNetworkConfig(networkConfig)\n                .addMapConfig(new MapConfig()\n                        .setName(BanksDataConstants.BANKS_DATA)\n                        .setBackupCount(0)\n                        .setMaxIdleSeconds(0)\n                                .setEvictionConfig(new EvictionConfig().setEvictionPolicy(EvictionPolicy.LRU))\n                                .setMergePolicyConfig(new MergePolicyConfig().setPolicy(MergePolicyConfig.DEFAULT_MERGE_POLICY))\n               \n                );\n\n\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":7820761,"reputation":324,"user_id":5913975,"display_name":"Sanjay Naik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685366522,"creation_date":1685362372,"question_id":76357270,"body_markdown":"i have 2 micro-service applications which connect with gRPC .I want to enable Hazelcast caching on this.However hazelcast in my application which acts as gRPC server is unabale to connect with that application which acts as gRPC client\r\n\r\nhazelcast.yml of gRPC server application\r\n\r\n```\r\nhazelcast:\r\n    cluster-name: banks_data\r\n    network:\r\n      port:\r\n        auto-increment: true\r\n        port-count: 20\r\n        port: 9701\r\n      join:\r\n        multicast:\r\n          enabled: false\r\n        tcp-ip:\r\n          enabled: true\r\n          connection-timeout-seconds: 60000\r\n          member-list:\r\n            - 127.0.0.1:9701\r\n            - 127.0.0.1:9702\r\n\r\n```\r\nhazelcast.yml of applictaion which alos acts as gRPC Client\r\n```\r\nhazelcast:\r\n  cluster-name: banks_data\r\n  network:\r\n    public-address: 127.0.0.1:9702\r\n    port:\r\n      port: 9702\r\n    join:\r\n      multicast:\r\n        enabled: false\r\n      tcp-ip:\r\n        enabled: true\r\n```\r\n\r\nBelow is my error logs\r\n```\r\n023-05-29 17:04:07.631  INFO 24828 --- [           main] com.hazelcast.instance.AddressPicker     : [LOCAL] [banks_data] [4.0.2] Interfaces is disabled, trying to pick one address from TCP-IP config addresses: [127.0.0.1]\r\n2023-05-29 17:04:07.637  INFO 24828 --- [           main] com.hazelcast.instance.AddressPicker     : [LOCAL] [banks_data] [4.0.2] Picked [127.0.0.1]:9701, using socket ServerSocket[addr=/0:0:0:0:0:0:0:0,localport=9701], bind any local is true\r\n2023-05-29 17:04:07.658  INFO 24828 --- [           main] com.hazelcast.system                     : [127.0.0.1]:9701 [banks_data] [4.0.2] Hazelcast 4.0.2 (20200702 - 2de3027) starting at [127.0.0.1]:9701\r\n2023-05-29 17:04:07.658  INFO 24828 --- [           main] com.hazelcast.system                     : [127.0.0.1]:9701 [banks_data] [4.0.2] Copyright (c) 2008-2020, Hazelcast, Inc. All Rights Reserved.\r\n2023-05-29 17:04:07.831  INFO 24828 --- [           main] c.h.s.i.o.impl.BackpressureRegulator     : [127.0.0.1]:9701 [banks_data] [4.0.2] Backpressure is disabled\r\n2023-05-29 17:04:08.070  INFO 24828 --- [           main] com.hazelcast.instance.impl.Node         : [127.0.0.1]:9701 [banks_data] [4.0.2] Creating TcpIpJoiner\r\n2023-05-29 17:04:08.071  WARN 24828 --- [           main] com.hazelcast.cp.CPSubsystem             : [127.0.0.1]:9701 [banks_data] [4.0.2] CP Subsystem is not enabled. CP data structures will operate in UNSAFE mode! Please note that UNSAFE mode will not provide strong consistency guarantees.\r\n2023-05-29 17:04:08.353  INFO 24828 --- [           main] c.h.s.i.o.impl.OperationExecutorImpl     : [127.0.0.1]:9701 [banks_data] [4.0.2] Starting 12 partition threads and 7 generic threads (1 dedicated for priority tasks)\r\n2023-05-29 17:04:08.357  INFO 24828 --- [           main] c.h.internal.diagnostics.Diagnostics     : [127.0.0.1]:9701 [banks_data] [4.0.2] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.\r\n2023-05-29 17:04:08.363  INFO 24828 --- [           main] com.hazelcast.core.LifecycleService      : [127.0.0.1]:9701 [banks_data] [4.0.2] [127.0.0.1]:9701 is STARTING\r\n2023-05-29 17:04:08.417  INFO 24828 --- [cached.thread-3] c.h.internal.nio.tcp.TcpIpConnector      : [127.0.0.1]:9701 [banks_data] [4.0.2] Connecting to /127.0.0.1:9702, timeout: 10000, bind-any: true\r\n2023-05-29 17:04:08.418  INFO 24828 --- [cached.thread-3] c.h.internal.nio.tcp.TcpIpConnector      : [127.0.0.1]:9701 [banks_data] [4.0.2] Could not connect to: /127.0.0.1:9702. Reason: SocketException[Connection refused: no further information to address /127.0.0.1:9702]\r\n2023-05-29 17:04:08.419  INFO 24828 --- [cached.thread-3] c.h.internal.cluster.impl.TcpIpJoiner    : [127.0.0.1]:9701 [banks_data] [4.0.2] [127.0.0.1]:9702 is added to the blacklist.\r\n2023-05-29 17:04:09.415  INFO 24828 --- [           main] c.h.internal.cluster.ClusterService      : [127.0.0.1]:9701 [banks_data] [4.0.2] \r\n\r\nMembers {size:1, ver:1} [\r\n\tMember [127.0.0.1]:9701 - 88660304-9ec4-461a-a580-8a4d52cad7d0 this\r\n]\r\n\r\n2023-05-29 17:04:09.426  INFO 24828 --- [           main] com.hazelcast.core.LifecycleService      : [127.0.0.1]:9701 [banks_data] [4.0.2] [127.0.0.1]:9701 is STARTED\r\n2023-05-29 17:04:09.583  INFO 24828 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-05-29 17:04:09.812  INFO 24828 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-05-29 17:04:09.904  INFO 24828 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n```\r\n\r\nAny help will be appreciated.\r\n","title":"Hazelcast unable to connect to other cluster members","body":"<p>i have 2 micro-service applications which connect with gRPC .I want to enable Hazelcast caching on this.However hazelcast in my application which acts as gRPC server is unabale to connect with that application which acts as gRPC client</p>\n<p>hazelcast.yml of gRPC server application</p>\n<pre><code>hazelcast:\n    cluster-name: banks_data\n    network:\n      port:\n        auto-increment: true\n        port-count: 20\n        port: 9701\n      join:\n        multicast:\n          enabled: false\n        tcp-ip:\n          enabled: true\n          connection-timeout-seconds: 60000\n          member-list:\n            - 127.0.0.1:9701\n            - 127.0.0.1:9702\n\n</code></pre>\n<p>hazelcast.yml of applictaion which alos acts as gRPC Client</p>\n<pre><code>hazelcast:\n  cluster-name: banks_data\n  network:\n    public-address: 127.0.0.1:9702\n    port:\n      port: 9702\n    join:\n      multicast:\n        enabled: false\n      tcp-ip:\n        enabled: true\n</code></pre>\n<p>Below is my error logs</p>\n<pre><code>023-05-29 17:04:07.631  INFO 24828 --- [           main] com.hazelcast.instance.AddressPicker     : [LOCAL] [banks_data] [4.0.2] Interfaces is disabled, trying to pick one address from TCP-IP config addresses: [127.0.0.1]\n2023-05-29 17:04:07.637  INFO 24828 --- [           main] com.hazelcast.instance.AddressPicker     : [LOCAL] [banks_data] [4.0.2] Picked [127.0.0.1]:9701, using socket ServerSocket[addr=/0:0:0:0:0:0:0:0,localport=9701], bind any local is true\n2023-05-29 17:04:07.658  INFO 24828 --- [           main] com.hazelcast.system                     : [127.0.0.1]:9701 [banks_data] [4.0.2] Hazelcast 4.0.2 (20200702 - 2de3027) starting at [127.0.0.1]:9701\n2023-05-29 17:04:07.658  INFO 24828 --- [           main] com.hazelcast.system                     : [127.0.0.1]:9701 [banks_data] [4.0.2] Copyright (c) 2008-2020, Hazelcast, Inc. All Rights Reserved.\n2023-05-29 17:04:07.831  INFO 24828 --- [           main] c.h.s.i.o.impl.BackpressureRegulator     : [127.0.0.1]:9701 [banks_data] [4.0.2] Backpressure is disabled\n2023-05-29 17:04:08.070  INFO 24828 --- [           main] com.hazelcast.instance.impl.Node         : [127.0.0.1]:9701 [banks_data] [4.0.2] Creating TcpIpJoiner\n2023-05-29 17:04:08.071  WARN 24828 --- [           main] com.hazelcast.cp.CPSubsystem             : [127.0.0.1]:9701 [banks_data] [4.0.2] CP Subsystem is not enabled. CP data structures will operate in UNSAFE mode! Please note that UNSAFE mode will not provide strong consistency guarantees.\n2023-05-29 17:04:08.353  INFO 24828 --- [           main] c.h.s.i.o.impl.OperationExecutorImpl     : [127.0.0.1]:9701 [banks_data] [4.0.2] Starting 12 partition threads and 7 generic threads (1 dedicated for priority tasks)\n2023-05-29 17:04:08.357  INFO 24828 --- [           main] c.h.internal.diagnostics.Diagnostics     : [127.0.0.1]:9701 [banks_data] [4.0.2] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.\n2023-05-29 17:04:08.363  INFO 24828 --- [           main] com.hazelcast.core.LifecycleService      : [127.0.0.1]:9701 [banks_data] [4.0.2] [127.0.0.1]:9701 is STARTING\n2023-05-29 17:04:08.417  INFO 24828 --- [cached.thread-3] c.h.internal.nio.tcp.TcpIpConnector      : [127.0.0.1]:9701 [banks_data] [4.0.2] Connecting to /127.0.0.1:9702, timeout: 10000, bind-any: true\n2023-05-29 17:04:08.418  INFO 24828 --- [cached.thread-3] c.h.internal.nio.tcp.TcpIpConnector      : [127.0.0.1]:9701 [banks_data] [4.0.2] Could not connect to: /127.0.0.1:9702. Reason: SocketException[Connection refused: no further information to address /127.0.0.1:9702]\n2023-05-29 17:04:08.419  INFO 24828 --- [cached.thread-3] c.h.internal.cluster.impl.TcpIpJoiner    : [127.0.0.1]:9701 [banks_data] [4.0.2] [127.0.0.1]:9702 is added to the blacklist.\n2023-05-29 17:04:09.415  INFO 24828 --- [           main] c.h.internal.cluster.ClusterService      : [127.0.0.1]:9701 [banks_data] [4.0.2] \n\nMembers {size:1, ver:1} [\n    Member [127.0.0.1]:9701 - 88660304-9ec4-461a-a580-8a4d52cad7d0 this\n]\n\n2023-05-29 17:04:09.426  INFO 24828 --- [           main] com.hazelcast.core.LifecycleService      : [127.0.0.1]:9701 [banks_data] [4.0.2] [127.0.0.1]:9701 is STARTED\n2023-05-29 17:04:09.583  INFO 24828 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-05-29 17:04:09.812  INFO 24828 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-05-29 17:04:09.904  INFO 24828 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n</code></pre>\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","spring","spring-security","jobrunr"],"answers":[{"comments":[{"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"score":0,"creation_date":1685312915,"post_id":76349211,"comment_id":134640387,"body_markdown":"Thank you, your solution seems very interesting. However, I don&#39;t understand how you pass the `DelegatingSecurityContextRunnable` to jobrunr, since the `BackgroundJob.enqueue` method doesn&#39;t accept this type. I can&#39;t get my code to work.","body":"Thank you, your solution seems very interesting. However, I don&#39;t understand how you pass the <code>DelegatingSecurityContextRunnable</code> to jobrunr, since the <code>BackgroundJob.enqueue</code> method doesn&#39;t accept this type. I can&#39;t get my code to work."},{"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"score":0,"creation_date":1685313684,"post_id":76349211,"comment_id":134640439,"body_markdown":"I&#39;ve added the code to give you some context, thanks for your help.","body":"I&#39;ve added the code to give you some context, thanks for your help."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1685366455,"post_id":76349211,"comment_id":134646528,"body_markdown":"see my update. seem that you have pass the `JobLambda` or `IocJobLambda` to the `BackgroundJob.enqueue()`","body":"see my update. seem that you have pass the <code>JobLambda</code> or <code>IocJobLambda</code> to the <code>BackgroundJob.enqueue()</code>"},{"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"score":0,"creation_date":1685374997,"post_id":76349211,"comment_id":134648153,"body_markdown":"I have now the following error: `No qualifying bean of type &#39;org.springframework.security.concurrent.DelegatingSecurityContextRunnable&#39; available`","body":"I have now the following error: <code>No qualifying bean of type &#39;org.springframework.security.concurrent.DelegatingSecurityC&zwnj;&#8203;ontextRunnable&#39; available</code>"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1685375457,"post_id":76349211,"comment_id":134648228,"body_markdown":"another problem. better to ask another question","body":"another problem. better to ask another question"},{"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"score":0,"creation_date":1685375738,"post_id":76349211,"comment_id":134648261,"body_markdown":"I&#39;m not sure, because there&#39;s some context here, which seems to me to be linked to your solution. I&#39;ll look for it myself, thanks for your help.","body":"I&#39;m not sure, because there&#39;s some context here, which seems to me to be linked to your solution. I&#39;ll look for it myself, thanks for your help."},{"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"score":0,"creation_date":1685389299,"post_id":76349211,"comment_id":134650242,"body_markdown":"I finally created a new question. However, thinking about it, isn&#39;t `DelegatingSecurityContextRunnable` suitable in the case where I need to dispatch a job for each of my users? I need the role of the user for the current job, not the role of the person who dispatched the job.","body":"I finally created a new question. However, thinking about it, isn&#39;t <code>DelegatingSecurityContextRunnable</code> suitable in the case where I need to dispatch a job for each of my users? I need the role of the user for the current job, not the role of the person who dispatched the job."}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685366358,"creation_date":1685224618,"answer_id":76349211,"question_id":76348789,"body_markdown":"You can wrap the `Runnable` that is submitted to Jobrunr by [`DelegatingSecurityContextRunnable`][1]\r\n\r\nIt requires you to define the `SecurityContext` for running the `Runnable` and it will take care of setting up and cleaning `SecurityContext` before and after running the task.\r\n\r\nWhen configuring the `SecurityContext` , it is better to align with the existing used authentication mechanism to define an `Authentication` object that has enough permission to run the job. \r\n\r\nBelow is a getting started example : \r\n\r\n``` java\r\n\r\n//origin runnable task submitted to Jobrunr\r\nRunnable task = () -&gt; System.out.println(&quot;doing some task&quot;);\r\n\r\n//Configure the SecurityContext that has enough permission to execute the task\r\n\r\nSecurityContext securityContext = SecurityContextHolder.createEmptyContext();\r\nList&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\r\ngrantedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;));\r\n// Here it does not matter what values username and password are. Just ensure this user has the the Admin GrantedAuthority and his account is enabled\r\nUser user = new User(&quot;admin&quot;, &quot;password&quot;, true, true, true, true, grantedAuthorities);\r\nAuthentication authentication = new UsernamePasswordAuthenticationToken(user, user.getPassword(), user.getAuthorities());\r\nsecurityContext.setAuthentication(authentication);\r\n\r\n//wrap the task by DelegatingSecurityContextRunnable\r\nDelegatingSecurityContextRunnable securedRunnable = new DelegatingSecurityContextRunnable(task,securityContext);\r\n\r\n//Submit the secured task to Jobrunr\r\nBackgroundJob.enqueue(()-&gt;securedRunnable.run());\r\n\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/integrations/concurrency.html#_delegatingsecuritycontextrunnable","title":"Authorization checks with Spring &amp; Jobrunr","body":"<p>You can wrap the <code>Runnable</code> that is submitted to Jobrunr by <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/concurrency.html#_delegatingsecuritycontextrunnable\" rel=\"nofollow noreferrer\"><code>DelegatingSecurityContextRunnable</code></a></p>\n<p>It requires you to define the <code>SecurityContext</code> for running the <code>Runnable</code> and it will take care of setting up and cleaning <code>SecurityContext</code> before and after running the task.</p>\n<p>When configuring the <code>SecurityContext</code> , it is better to align with the existing used authentication mechanism to define an <code>Authentication</code> object that has enough permission to run the job.</p>\n<p>Below is a getting started example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n//origin runnable task submitted to Jobrunr\nRunnable task = () -&gt; System.out.println(&quot;doing some task&quot;);\n\n//Configure the SecurityContext that has enough permission to execute the task\n\nSecurityContext securityContext = SecurityContextHolder.createEmptyContext();\nList&lt;GrantedAuthority&gt; grantedAuthorities = new ArrayList&lt;&gt;();\ngrantedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;));\n// Here it does not matter what values username and password are. Just ensure this user has the the Admin GrantedAuthority and his account is enabled\nUser user = new User(&quot;admin&quot;, &quot;password&quot;, true, true, true, true, grantedAuthorities);\nAuthentication authentication = new UsernamePasswordAuthenticationToken(user, user.getPassword(), user.getAuthorities());\nsecurityContext.setAuthentication(authentication);\n\n//wrap the task by DelegatingSecurityContextRunnable\nDelegatingSecurityContextRunnable securedRunnable = new DelegatingSecurityContextRunnable(task,securityContext);\n\n//Submit the secured task to Jobrunr\nBackgroundJob.enqueue(()-&gt;securedRunnable.run());\n\n</code></pre>\n"}],"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1685366358,"creation_date":1685217421,"question_id":76348789,"body_markdown":"I&#39;m creating an app with 4 roles. I don&#39;t have permissions stored in my database, just the roles.\r\n\r\nAt the controller level, I restrict my routes only to certain roles, for example :\r\n```java\r\n@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n```\r\nAnd in my service&#39;s methods, I did a more thorough check as needed.\r\n\r\nHowever, the problem I have with having authorization conditions in my services is that it only works if the `SecurityContextHolder.getContext()` is not null.\r\n\r\nAnd I realized that this could be the case, for example, in one of my jobs with Jobrunr.\r\n\r\nSo I inject my service into my job and I want to call a method, but it crashes because it can&#39;t retrieve the authenticated user.\r\n\r\nIs there a way to manually authenticate a user in the job, is this a good way to do it?\r\n\r\n____________________\r\n**Update following @Ken Chan&#39;s reply - code not working :**\r\n\r\nJobrunr job :\r\n```java\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class InactiveUsersEmail implements JobRequest {\r\n    private Integer userId;\r\n\r\n    @Override\r\n    public Class&lt;InactiveUsersEmailHandler&gt; getJobRequestHandler() {\r\n        return InactiveUsersEmailHandler.class;\r\n    }\r\n}\r\n```\r\n\r\nRun it using `DelegatingSecurityContextRunnable`:\r\n```java\r\nStream&lt;DelegatingSecurityContextRunnable&gt; jobs = this.userService\r\n    .findAll()\r\n    .map(user -&gt; {\r\n        Runnable task = () -&gt; new InactiveUsersEmail(user.getId());\r\n        return new DelegatingSecurityContextRunnable(task, this.authorizationComponent.getSecurityContext());\r\n    });\r\n\r\n// here not working: \r\n// cannot resolve method &#39;enqueue(java.util.stream.Stream&lt;org.springframework.security.concurrent.DelegatingSecurityContextRunnable&gt;)&#39;\r\nBackgroundJobRequest.enqueue(jobs);\r\n```","title":"Authorization checks with Spring &amp; Jobrunr","body":"<p>I'm creating an app with 4 roles. I don't have permissions stored in my database, just the roles.</p>\n<p>At the controller level, I restrict my routes only to certain roles, for example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n</code></pre>\n<p>And in my service's methods, I did a more thorough check as needed.</p>\n<p>However, the problem I have with having authorization conditions in my services is that it only works if the <code>SecurityContextHolder.getContext()</code> is not null.</p>\n<p>And I realized that this could be the case, for example, in one of my jobs with Jobrunr.</p>\n<p>So I inject my service into my job and I want to call a method, but it crashes because it can't retrieve the authenticated user.</p>\n<p>Is there a way to manually authenticate a user in the job, is this a good way to do it?</p>\n<hr />\n<p><strong>Update following @Ken Chan's reply - code not working :</strong></p>\n<p>Jobrunr job :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class InactiveUsersEmail implements JobRequest {\n    private Integer userId;\n\n    @Override\n    public Class&lt;InactiveUsersEmailHandler&gt; getJobRequestHandler() {\n        return InactiveUsersEmailHandler.class;\n    }\n}\n</code></pre>\n<p>Run it using <code>DelegatingSecurityContextRunnable</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream&lt;DelegatingSecurityContextRunnable&gt; jobs = this.userService\n    .findAll()\n    .map(user -&gt; {\n        Runnable task = () -&gt; new InactiveUsersEmail(user.getId());\n        return new DelegatingSecurityContextRunnable(task, this.authorizationComponent.getSecurityContext());\n    });\n\n// here not working: \n// cannot resolve method 'enqueue(java.util.stream.Stream&lt;org.springframework.security.concurrent.DelegatingSecurityContextRunnable&gt;)'\nBackgroundJobRequest.enqueue(jobs);\n</code></pre>\n"},{"tags":["java","android","keyboard","android-softkeyboard"],"owner":{"account_id":3778291,"reputation":8944,"user_id":3138436,"accept_rate":69,"display_name":"AL-zami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685365342,"creation_date":1685365342,"question_id":76357618,"body_markdown":"I have made a custom soft-keyboard by extending `InputMethodService` in android. As `KeyboardView` is no longer supported, the layout of the keyboard is created using `LinearLayout`. The keyboard works as expected. It shows up when tapped into an input field and I can type text with it.\r\n\r\n`But the Problem is:` \r\n##### when I changed the device from `portrait to landscape` or `landscape-right to landscape-left and vice-versa` the android system refused to give focus or takes away focus from already focused input. As a result hides the keyboard.\r\n\r\n\r\nIt only happens with this `custom keybaord`. If I switched to other keyboards like `gboard` or `micorsoft swift keyboard` things works fine. So my question is, what might be causing this issue? \r\n\r\n`Sample code can be provided if required.`\r\n","title":"android decides to take away focus from input fields and hide custom softkeyboard in landscape mode","body":"<p>I have made a custom soft-keyboard by extending <code>InputMethodService</code> in android. As <code>KeyboardView</code> is no longer supported, the layout of the keyboard is created using <code>LinearLayout</code>. The keyboard works as expected. It shows up when tapped into an input field and I can type text with it.</p>\n<p><code>But the Problem is:</code></p>\n<h5>when I changed the device from <code>portrait to landscape</code> or <code>landscape-right to landscape-left and vice-versa</code> the android system refused to give focus or takes away focus from already focused input. As a result hides the keyboard.</h5>\n<p>It only happens with this <code>custom keybaord</code>. If I switched to other keyboards like <code>gboard</code> or <code>micorsoft swift keyboard</code> things works fine. So my question is, what might be causing this issue?</p>\n<p><code>Sample code can be provided if required.</code></p>\n"},{"tags":["java","android-studio","appium","apple-m1","android-sdk-manager"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685365379,"post_id":76357559,"comment_id":134646296,"body_markdown":"Did you reset your JAVA_HOME environment variable as well?","body":"Did you reset your JAVA_HOME environment variable as well?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685365459,"post_id":76357559,"comment_id":134646319,"body_markdown":"`class version 55.0` is Java 11. That&#39;s why it&#39;s not working with OpenJDK8","body":"<code>class version 55.0</code> is Java 11. That&#39;s why it&#39;s not working with OpenJDK8"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1685365466,"post_id":76357559,"comment_id":134646321,"body_markdown":"Version 55 needs Java 11 or higher https://en.wikipedia.org/wiki/Java_version_history","body":"Version 55 needs Java 11 or higher <a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_version_history</a>"}],"owner":{"account_id":28702586,"reputation":1,"user_id":21979481,"display_name":"QA Danya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685365423,"answer_count":0,"score":0,"last_activity_date":1685365153,"creation_date":1685364819,"question_id":76357559,"body_markdown":"I&#39;m trying to install Appium on my M1 Mac and have issue with running sdkmanager from terminal.\r\n\r\nI&#39;ve installed OpenJDK8, i&#39;ve installed latest Android Studio and cmdline-tools for it. Also i set paths for .zshrc\r\n\r\nIf i try to execute `sdkmanager` in terminal i&#39;ve got this. I can&#39;t figure out what i did wrong\r\n\r\n\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n\tat java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n\tat java.lang.Class.getMethod0(Class.java:3018)\r\n\tat java.lang.Class.getMethod(Class.java:1784)\r\n\tat sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:670)\r\n\tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:652)\r\n```\r\n\r\n\r\nI&#39;ve tried to completely remove Java from mac, and reinstalled Android Studio after installing OpenJDK8. That doesn&#39;t help","title":"Can&#39;t execute sdkmanager from terminal","body":"<p>I'm trying to install Appium on my M1 Mac and have issue with running sdkmanager from terminal.</p>\n<p>I've installed OpenJDK8, i've installed latest Android Studio and cmdline-tools for it. Also i set paths for .zshrc</p>\n<p>If i try to execute <code>sdkmanager</code> in terminal i've got this. I can't figure out what i did wrong</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n    at java.lang.Class.getMethod0(Class.java:3018)\n    at java.lang.Class.getMethod(Class.java:1784)\n    at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:670)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:652)\n</code></pre>\n<p>I've tried to completely remove Java from mac, and reinstalled Android Studio after installing OpenJDK8. That doesn't help</p>\n"},{"tags":["java","spring","intellij-idea","spring-initializr"],"comments":[{"owner":{"account_id":2417567,"reputation":886,"user_id":2111288,"accept_rate":33,"display_name":"SaviNuclear"},"score":0,"creation_date":1441793587,"post_id":32476228,"comment_id":52814282,"body_markdown":"Use this link:- https://wiki.openmrs.org/display/docs/Use+Maven+In+Intellij+IDEA","body":"Use this link:- <a href=\"https://wiki.openmrs.org/display/docs/Use+Maven+In+Intellij+IDEA\" rel=\"nofollow noreferrer\">wiki.openmrs.org/display/docs/Use+Maven+In+Intellij+IDEA</a>"}],"answers":[{"comments":[{"owner":{"account_id":221275,"reputation":1900,"user_id":479159,"display_name":"Andrei Damian-Fekete"},"score":2,"creation_date":1516448624,"post_id":32476526,"comment_id":83697946,"body_markdown":"Would be nice to mention this in the documentation ( https://www.jetbrains.com/help/idea/spring.html#spring-boot )","body":"Would be nice to mention this in the documentation ( <a href=\"https://www.jetbrains.com/help/idea/spring.html#spring-boot\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/spring.html#spring-boot</a> )"},{"owner":{"account_id":2939509,"reputation":7108,"user_id":2517730,"accept_rate":85,"display_name":"Yar"},"score":2,"creation_date":1528837224,"post_id":32476526,"comment_id":88656350,"body_markdown":"Btw you need to enable `Spring Boot` AND `Spring MVC`.","body":"Btw you need to enable <code>Spring Boot</code> AND <code>Spring MVC</code>."},{"owner":{"account_id":3579176,"reputation":4110,"user_id":2987780,"accept_rate":50,"display_name":"Indrajeet Gour"},"score":9,"creation_date":1550982506,"post_id":32476526,"comment_id":96469850,"body_markdown":"No, we can use Spring Assistant plugin in IDEA CE, to do the same.","body":"No, we can use Spring Assistant plugin in IDEA CE, to do the same."}],"tags":[],"owner":{"account_id":373981,"reputation":2077,"user_id":723934,"display_name":"Yann C&#233;bron"},"comment_count":3,"down_vote_count":0,"up_vote_count":73,"is_accepted":true,"score":73,"last_activity_date":1525939203,"creation_date":1441792849,"answer_id":32476526,"question_id":32476228,"body_markdown":"Please verify &quot;Spring Boot&quot; plugin is enabled.\r\n\r\nIn File &gt; Settings &gt; Plugins, you will probably find the Plugin unselected:\r\n\r\n[![Spring Boot Plugin still unselected][1]][1]\r\n\r\n(The above a screenshot of _Intellij IDEA 2018.1 Ultimate_)\r\n\r\n  [1]: https://i.stack.imgur.com/U8b65.png","title":"Intellij Spring Initializr not available","body":"<p>Please verify \"Spring Boot\" plugin is enabled.</p>\n\n<p>In File > Settings > Plugins, you will probably find the Plugin unselected:</p>\n\n<p><a href=\"https://i.stack.imgur.com/U8b65.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/U8b65.png\" alt=\"Spring Boot Plugin still unselected\"></a></p>\n\n<p>(The above a screenshot of <em>Intellij IDEA 2018.1 Ultimate</em>)</p>\n"},{"comments":[{"owner":{"account_id":4389073,"reputation":5930,"user_id":4279201,"accept_rate":99,"display_name":"shinzou"},"score":3,"creation_date":1536765369,"post_id":38392990,"comment_id":91544735,"body_markdown":"So how do you start a spring boot project?","body":"So how do you start a spring boot project?"},{"owner":{"account_id":949688,"reputation":2881,"user_id":976080,"accept_rate":100,"display_name":"Sid Holland"},"score":3,"creation_date":1548738170,"post_id":38392990,"comment_id":95638592,"body_markdown":"@shinzou I think the only way to do it is either command line or https://start.spring.io/ (see Chris&#39; answer).","body":"@shinzou I think the only way to do it is either command line or <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> (see Chris&#39; answer)."},{"owner":{"account_id":3579176,"reputation":4110,"user_id":2987780,"accept_rate":50,"display_name":"Indrajeet Gour"},"score":15,"creation_date":1550982532,"post_id":38392990,"comment_id":96469853,"body_markdown":"No, we can use Spring Assistant plugin in IDEA CE, to do the same.","body":"No, we can use Spring Assistant plugin in IDEA CE, to do the same."},{"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"score":0,"creation_date":1608569454,"post_id":38392990,"comment_id":115617885,"body_markdown":"have installed community. now downloaded ultimate. thanks","body":"have installed community. now downloaded ultimate. thanks"},{"owner":{"account_id":11379844,"reputation":454,"user_id":8342999,"display_name":"27px"},"score":0,"creation_date":1610513234,"post_id":38392990,"comment_id":116154492,"body_markdown":"Thanks for that, I did not knew it and was looking for the plugin for a while","body":"Thanks for that, I did not knew it and was looking for the plugin for a while"}],"tags":[],"owner":{"account_id":2010740,"reputation":2294,"user_id":1799224,"display_name":"Dark.Passenger"},"comment_count":5,"down_vote_count":0,"up_vote_count":176,"is_accepted":false,"score":176,"last_activity_date":1468576024,"creation_date":1468576024,"answer_id":38392990,"question_id":32476228,"body_markdown":"Although the asker here used IntelliJ Ultimate here, I&#39;d like to point out that the Spring Initializer is only available in the ultimate edition, not in the community edition. If you are using the community version, there is no way to enable the Spring plugin here.","title":"Intellij Spring Initializr not available","body":"<p>Although the asker here used IntelliJ Ultimate here, I'd like to point out that the Spring Initializer is only available in the ultimate edition, not in the community edition. If you are using the community version, there is no way to enable the Spring plugin here.</p>\n"},{"comments":[{"owner":{"account_id":957542,"reputation":899,"user_id":3203998,"display_name":"trevorsky"},"score":2,"creation_date":1538494089,"post_id":39455334,"comment_id":92157466,"body_markdown":"The missing step: Unzip the downloaded project somewhere, then import from the &quot;build.gradle&quot; file (presume this works fine with pom.xml as well)","body":"The missing step: Unzip the downloaded project somewhere, then import from the &quot;build.gradle&quot; file (presume this works fine with pom.xml as well)"},{"owner":{"account_id":3579176,"reputation":4110,"user_id":2987780,"accept_rate":50,"display_name":"Indrajeet Gour"},"score":3,"creation_date":1550982437,"post_id":39455334,"comment_id":96469842,"body_markdown":"No, just check we have Spring Assistant for IDEA CE now","body":"No, just check we have Spring Assistant for IDEA CE now"},{"owner":{"account_id":10176857,"reputation":1143,"user_id":7515189,"accept_rate":75,"display_name":"Murtaza Haji"},"score":0,"creation_date":1605392723,"post_id":39455334,"comment_id":114637536,"body_markdown":"There is no run configuration set to run the project generated from start.spring.io. Not able to find an example for that too. Could you point to helpful resource?","body":"There is no run configuration set to run the project generated from start.spring.io. Not able to find an example for that too. Could you point to helpful resource?"}],"tags":[],"owner":{"account_id":1516588,"reputation":1251,"user_id":1417461,"display_name":"Chris"},"comment_count":3,"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1473699858,"creation_date":1473699858,"answer_id":39455334,"question_id":32476228,"body_markdown":"If you only have IntelliJ IDEA CE then you can still create Spring Boot applications. First generate your project directory  using https://start.spring.io and then import into IntelliJ IDEA and off you go.","title":"Intellij Spring Initializr not available","body":"<p>If you only have IntelliJ IDEA CE then you can still create Spring Boot applications. First generate your project directory  using <a href=\"https://start.spring.io\">https://start.spring.io</a> and then import into IntelliJ IDEA and off you go.</p>\n"},{"comments":[{"owner":{"account_id":31617,"reputation":52351,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"score":3,"creation_date":1522419370,"post_id":49421602,"comment_id":86159481,"body_markdown":"Appears to be a reimplementation/clone.  Seems to get the job done.","body":"Appears to be a reimplementation/clone.  Seems to get the job done."},{"owner":{"account_id":3088423,"reputation":1306,"user_id":2615117,"display_name":"nocdib"},"score":0,"creation_date":1578672830,"post_id":49421602,"comment_id":105527394,"body_markdown":"Thanks. It helped me. I was starting to think that only the Ultimate Edition had Spring support and that I&#39;d have to only rely on the Spring Initializr website.","body":"Thanks. It helped me. I was starting to think that only the Ultimate Edition had Spring support and that I&#39;d have to only rely on the Spring Initializr website."},{"owner":{"account_id":9326848,"reputation":402,"user_id":6923823,"display_name":"Elton Sandr&#233;"},"score":2,"creation_date":1648851718,"post_id":49421602,"comment_id":126737342,"body_markdown":"Unfortunately, the plugin that served part of the idea/spring community, stopped maintaining. I took the liberty of creating a fork, we fixed bugs and added new features.\nthe same can be found directly in the search for Intellij or in the marketplace.\n[Spring Initializr and Assistant](https://plugins.jetbrains.com/plugin/18622-spring-initializr-and-assistant)","body":"Unfortunately, the plugin that served part of the idea/spring community, stopped maintaining. I took the liberty of creating a fork, we fixed bugs and added new features. the same can be found directly in the search for Intellij or in the marketplace. <a href=\"https://plugins.jetbrains.com/plugin/18622-spring-initializr-and-assistant\" rel=\"nofollow noreferrer\">Spring Initializr and Assistant</a>"}],"tags":[],"owner":{"account_id":5420893,"reputation":1355,"user_id":4314542,"accept_rate":100,"display_name":"Kuntal Shaw"},"comment_count":3,"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1589340605,"creation_date":1521698616,"answer_id":49421602,"question_id":32476228,"body_markdown":"I know this post is old, but this might help someone.\r\n\r\n**Spring Assistant** is a plugin available for IntelliJ IDEA CE which has a spring framework integration for creating Spring Boot Projects.\r\n\r\nhttps://plugins.jetbrains.com/plugin/10229-spring-assistant\r\n\r\nHere is how it looks in IDEA IntelliJ editor\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MADgf.png","title":"Intellij Spring Initializr not available","body":"<p>I know this post is old, but this might help someone.</p>\n\n<p><strong>Spring Assistant</strong> is a plugin available for IntelliJ IDEA CE which has a spring framework integration for creating Spring Boot Projects.</p>\n\n<p><a href=\"https://plugins.jetbrains.com/plugin/10229-spring-assistant\" rel=\"noreferrer\">https://plugins.jetbrains.com/plugin/10229-spring-assistant</a></p>\n\n<p>Here is how it looks in IDEA IntelliJ editor</p>\n\n<p><a href=\"https://i.stack.imgur.com/MADgf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MADgf.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8476172,"reputation":524,"user_id":6357366,"display_name":"Omid Rostami"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1537624385,"creation_date":1537624385,"answer_id":52457319,"question_id":32476228,"body_markdown":"In Intellij Go To\r\n\r\nFile &gt; Settings &gt; Plugins,\r\n\r\nSearch &quot;Spring&quot; And Check All plugin Started With Spring Then Restart intellij\r\n\r\n\r\n","title":"Intellij Spring Initializr not available","body":"<p>In Intellij Go To</p>\n\n<p>File > Settings > Plugins,</p>\n\n<p>Search \"Spring\" And Check All plugin Started With Spring Then Restart intellij</p>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572507031,"creation_date":1572507031,"answer_id":58638630,"question_id":32476228,"body_markdown":"Adding screenshot from latest 2019.2 IDEA Ultimate Edition:\r\n\r\n- Go to `File -&gt; Settings -&gt; Plugins`\r\n- search for `spring boot` under `Installed` plugins list\r\n- Press the `Enable` button \r\n- Restart IDE\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mGC4M.png","title":"Intellij Spring Initializr not available","body":"<p>Adding screenshot from latest 2019.2 IDEA Ultimate Edition:</p>\n\n<ul>\n<li>Go to <code>File -&gt; Settings -&gt; Plugins</code></li>\n<li>search for <code>spring boot</code> under <code>Installed</code> plugins list</li>\n<li>Press the <code>Enable</code> button </li>\n<li>Restart IDE</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/mGC4M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mGC4M.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":7159512,"reputation":151,"user_id":5470707,"display_name":"Chintan Mangukiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589117334,"creation_date":1576429013,"answer_id":59346075,"question_id":32476228,"body_markdown":"I am using IntelliJ IDEA 2019.3 CE and I don&#39;t see Spring or Spring Boot options in plugin. Spring Assistant plugin is available but it&#39;s not fully featured like native plugins. \r\n\r\n - For example application.properties auto completion will not work. There is no styling. All is grayed out. \r\n - In Facets, there is no option to choose Spring to mark it Spring Boot.\r\n\r\nI download spring boot project from start.spring.io and use it in IntelliJ IDEA 2019.3 CE with limited features. I think all nice to have features of Spring/Spring Boot are now only part of IntelliJ IDEA Ultimate edition. See [comparison][1].  \r\n\r\nSpring Assistant plugin can help to generate new app as a start without leaving IntelliJ IDEA CE which is good. \r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/features/editions_comparison_matrix.html","title":"Intellij Spring Initializr not available","body":"<p>I am using IntelliJ IDEA 2019.3 CE and I don't see Spring or Spring Boot options in plugin. Spring Assistant plugin is available but it's not fully featured like native plugins. </p>\n\n<ul>\n<li>For example application.properties auto completion will not work. There is no styling. All is grayed out. </li>\n<li>In Facets, there is no option to choose Spring to mark it Spring Boot.</li>\n</ul>\n\n<p>I download spring boot project from start.spring.io and use it in IntelliJ IDEA 2019.3 CE with limited features. I think all nice to have features of Spring/Spring Boot are now only part of IntelliJ IDEA Ultimate edition. See <a href=\"https://www.jetbrains.com/idea/features/editions_comparison_matrix.html\" rel=\"nofollow noreferrer\">comparison</a>.  </p>\n\n<p>Spring Assistant plugin can help to generate new app as a start without leaving IntelliJ IDEA CE which is good. </p>\n"},{"comments":[{"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"score":0,"creation_date":1678935017,"post_id":63173167,"comment_id":133630803,"body_markdown":"spring assistant will help to suggest annotations in code","body":"spring assistant will help to suggest annotations in code"}],"tags":[],"owner":{"account_id":13814341,"reputation":3543,"user_id":9971280,"display_name":"Niroshan Ratnayake"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1596112001,"creation_date":1596112001,"answer_id":63173167,"question_id":32476228,"body_markdown":"Though the user asked about the ultimate version its good to know that community version provides a plugin called  Spring Assistant plugin which guides to a spring boot project.\r\n\r\nFile-&gt; Settings -&gt; Spring Assistant \r\n&lt;br&gt; Then restart the IDE Then,&lt;br&gt;\r\nFile-&gt; New -&gt; Project -&gt; Spring Assistant","title":"Intellij Spring Initializr not available","body":"<p>Though the user asked about the ultimate version its good to know that community version provides a plugin called  Spring Assistant plugin which guides to a spring boot project.</p>\n<p>File-&gt; Settings -&gt; Spring Assistant\n<br> Then restart the IDE Then,<br>\nFile-&gt; New -&gt; Project -&gt; Spring Assistant</p>\n"},{"tags":[],"owner":{"account_id":2434272,"reputation":696,"user_id":2124562,"display_name":"tune5ths"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1597121029,"creation_date":1597121029,"answer_id":63351628,"question_id":32476228,"body_markdown":"I know this is a late entry, but I&#39;m hoping it might help somebody.  I have IntelliJ Ultimate and had all of the Spring plugins enabled after installing the application.  When I tried to create a Spring Boot project, Spring Initializer was not in my list of options just like the OP&#39;s problem.\r\n\r\nI didn&#39;t find a solution here so I went to `File -&gt; Settings -&gt; Plugins` and tried disabling my Spring Boot plugin and restarting.  Then I re-enabled Spring Boot and restarted and voila I now have the Spring Initializer available in the New Project Wizard.","title":"Intellij Spring Initializr not available","body":"<p>I know this is a late entry, but I'm hoping it might help somebody.  I have IntelliJ Ultimate and had all of the Spring plugins enabled after installing the application.  When I tried to create a Spring Boot project, Spring Initializer was not in my list of options just like the OP's problem.</p>\n<p>I didn't find a solution here so I went to <code>File -&gt; Settings -&gt; Plugins</code> and tried disabling my Spring Boot plugin and restarting.  Then I re-enabled Spring Boot and restarted and voila I now have the Spring Initializer available in the New Project Wizard.</p>\n"},{"tags":[],"owner":{"account_id":11697339,"reputation":1663,"user_id":8563654,"display_name":"Senthuran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606548222,"creation_date":1606548222,"answer_id":65047368,"question_id":32476228,"body_markdown":"In intellij idea navigate to the File-&gt; Settings. In the Plugins section search for **Spring Assistant**. Then install the Spring Assistant plugin.\r\n[![enter image description here][1]][1]\r\n\r\nThen restart the intellij idea and create the spring boot application.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e4a2C.png","title":"Intellij Spring Initializr not available","body":"<p>In intellij idea navigate to the File-&gt; Settings. In the Plugins section search for <strong>Spring Assistant</strong>. Then install the Spring Assistant plugin.\n<a href=\"https://i.stack.imgur.com/e4a2C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e4a2C.png\" alt=\"enter image description here\" /></a></p>\n<p>Then restart the intellij idea and create the spring boot application.</p>\n"},{"comments":[{"owner":{"account_id":14210828,"reputation":616,"user_id":10266115,"display_name":"Shashi"},"score":0,"creation_date":1643256716,"post_id":65051025,"comment_id":125293262,"body_markdown":"plugin banned in idea CE","body":"plugin banned in idea CE"},{"owner":{"account_id":9326848,"reputation":402,"user_id":6923823,"display_name":"Elton Sandr&#233;"},"score":1,"creation_date":1648565714,"post_id":65051025,"comment_id":126653826,"body_markdown":"Unfortunately, the plugin that served part of the idea/spring community, stopped maintaining. I took the liberty of creating a fork, we fixed bugs and added new features.\n\nthe same can be found directly in the search for Intellij or in the marketplace.\n[spring-initializr-and-assistant](https://plugins.jetbrains.com/plugin/18622-spring-initializr-and-assistant)","body":"Unfortunately, the plugin that served part of the idea/spring community, stopped maintaining. I took the liberty of creating a fork, we fixed bugs and added new features.  the same can be found directly in the search for Intellij or in the marketplace. <a href=\"https://plugins.jetbrains.com/plugin/18622-spring-initializr-and-assistant\" rel=\"nofollow noreferrer\">spring-initializr-and-assistant</a>"}],"tags":[],"owner":{"account_id":1776813,"reputation":735,"user_id":1620446,"display_name":"Abhilash Ranjan"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1606576047,"creation_date":1606576047,"answer_id":65051025,"question_id":32476228,"body_markdown":"Now Intilij Community edition is supporting the spring initilizer by plugin Spring Assistant.\r\nInstall Spring Assistant in plugin section. This plugin will help you to call spring initializer for project creation. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nto Install Spring Assistant  go to plugin and search Spring select &quot;Spring Assistant&quot;\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E0cSf.png\r\n  [2]: https://i.stack.imgur.com/HsJ5i.png","title":"Intellij Spring Initializr not available","body":"<p>Now Intilij Community edition is supporting the spring initilizer by plugin Spring Assistant.\nInstall Spring Assistant in plugin section. This plugin will help you to call spring initializer for project creation.</p>\n<p><a href=\"https://i.stack.imgur.com/E0cSf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/E0cSf.png\" alt=\"enter image description here\" /></a></p>\n<p>to Install Spring Assistant  go to plugin and search Spring select &quot;Spring Assistant&quot;\n<a href=\"https://i.stack.imgur.com/HsJ5i.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HsJ5i.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"score":0,"creation_date":1673113252,"post_id":66999021,"comment_id":132427016,"body_markdown":"This answer is of no use to anyone. Don&#39;t give generalized statements.","body":"This answer is of no use to anyone. Don&#39;t give generalized statements."},{"owner":{"account_id":8229310,"reputation":619,"user_id":6190527,"display_name":"Christophe"},"score":0,"creation_date":1678829960,"post_id":66999021,"comment_id":133609091,"body_markdown":"@Suresh I made this mistake myself, searching for a plugin in this page. The button I am mentioning is not visible at first sight and noone mentioned this before.","body":"@Suresh I made this mistake myself, searching for a plugin in this page. The button I am mentioning is not visible at first sight and noone mentioned this before."}],"tags":[],"owner":{"account_id":8229310,"reputation":619,"user_id":6190527,"display_name":"Christophe"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1617866112,"creation_date":1617866112,"answer_id":66999021,"question_id":32476228,"body_markdown":"If you don&#39;t see the spring plugins available in the list, make sure to click on marketplace at the top center. By default, you see the installed plugins only.","title":"Intellij Spring Initializr not available","body":"<p>If you don't see the spring plugins available in the list, make sure to click on marketplace at the top center. By default, you see the installed plugins only.</p>\n"},{"tags":[],"owner":{"account_id":19027141,"reputation":31,"user_id":15608517,"display_name":"Sundeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1618203342,"creation_date":1618202976,"answer_id":67052815,"question_id":32476228,"body_markdown":"Go to File -&gt; Setting -&gt; Plugins -&gt; \r\nhttps://i.stack.imgur.com/aGYpE.png\r\nHere Displaying MarketPlace And Installed, -&gt; click on installed search for spring assistant\r\nhttps://i.stack.imgur.com/FF4xd.png\r\nclick on checkbox and click on ok-&gt; intellij automatically ask restart the ide. Click on restart. After this spring assistant display while creating spring boot application\r\n","title":"Intellij Spring Initializr not available","body":"<p>Go to File -&gt; Setting -&gt; Plugins -&gt;\n<a href=\"https://i.stack.imgur.com/aGYpE.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/aGYpE.png</a>\nHere Displaying MarketPlace And Installed, -&gt; click on installed search for spring assistant\n<a href=\"https://i.stack.imgur.com/FF4xd.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/FF4xd.png</a>\nclick on checkbox and click on ok-&gt; intellij automatically ask restart the ide. Click on restart. After this spring assistant display while creating spring boot application</p>\n"},{"tags":[],"owner":{"account_id":21418348,"reputation":41,"user_id":15777207,"display_name":"Pankaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619533924,"creation_date":1619533924,"answer_id":67285141,"question_id":32476228,"body_markdown":"For Mac OS - Intellij -\r\nRefer below Navigation to add Plugins :\r\n\r\nIntelij IDEA&gt;&gt;Preference&gt;&gt;Plugins&gt;&gt;Search Spring &amp; install Spring tool &amp; Assistance\r\n\r\n","title":"Intellij Spring Initializr not available","body":"<p>For Mac OS - Intellij -\nRefer below Navigation to add Plugins :</p>\n<p>Intelij IDEA&gt;&gt;Preference&gt;&gt;Plugins&gt;&gt;Search Spring &amp; install Spring tool &amp; Assistance</p>\n"},{"comments":[{"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"score":0,"creation_date":1678935131,"post_id":71898025,"comment_id":133630817,"body_markdown":"any idea about 2022.3.2 release?","body":"any idea about 2022.3.2 release?"},{"owner":{"account_id":16256396,"reputation":94,"user_id":11738929,"display_name":"Shreyansh Jain"},"score":1,"creation_date":1679057638,"post_id":71898025,"comment_id":133657015,"body_markdown":"@Suresh I think its changed in the recent versions - currently requires you to buy license. Updated the answer.","body":"@Suresh I think its changed in the recent versions - currently requires you to buy license. Updated the answer."}],"tags":[],"owner":{"account_id":16256396,"reputation":94,"user_id":11738929,"display_name":"Shreyansh Jain"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679057753,"creation_date":1650149318,"answer_id":71898025,"question_id":32476228,"body_markdown":"As of **April 2022**, the name of plugin is **Spring Initializr and Assistant** (works for IntelliJ IDEA 2021.3.1 Community Edition).\r\n\r\n**UPDATE**: Starting 2022.4.3 , its been renamed to Spring Boot Helper and needs you to buy license (see the image attached).\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sQpS1.png","title":"Intellij Spring Initializr not available","body":"<p>As of <strong>April 2022</strong>, the name of plugin is <strong>Spring Initializr and Assistant</strong> (works for IntelliJ IDEA 2021.3.1 Community Edition).</p>\n<p><strong>UPDATE</strong>: Starting 2022.4.3 , its been renamed to Spring Boot Helper and needs you to buy license (see the image attached).\n<a href=\"https://i.stack.imgur.com/sQpS1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sQpS1.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":1,"creation_date":1662388189,"post_id":73610880,"comment_id":129988964,"body_markdown":"This gives an impression of &quot;buy and use this commercial thing&quot; and might not be perceived as a helpful answer.","body":"This gives an impression of &quot;buy and use this commercial thing&quot; and might not be perceived as a helpful answer."}],"tags":[],"owner":{"account_id":7660765,"reputation":31,"user_id":5806135,"display_name":"Usama Iqbal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662387956,"creation_date":1662387894,"answer_id":73610880,"question_id":32476228,"body_markdown":"Settings &gt; Plugin &gt; Spring Boot helper \r\n\r\nInstall this plugin and use it for 1 month trail.(This seems to be the \r\nworking option as I tried)\r\n\r\n[Plugin - Spring Boot Helper]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/65JuB.png","title":"Intellij Spring Initializr not available","body":"<p>Settings &gt; Plugin &gt; Spring Boot helper</p>\n<p>Install this plugin and use it for 1 month trail.(This seems to be the\nworking option as I tried)</p>\n<p>[Plugin - Spring Boot Helper]]<a href=\"https://i.stack.imgur.com/65JuB.png\" rel=\"nofollow noreferrer\">1</a></p>\n"},{"tags":[],"owner":{"account_id":26643209,"reputation":1,"user_id":20258513,"display_name":"Gatocapucha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673681502,"creation_date":1673681502,"answer_id":75116454,"question_id":32476228,"body_markdown":"January 2023, in the 2022.3.1 version of **Intelijj idea, spring assistant continues to work** (it has a certain bug in the interface). At least in what I&#39;m testing, it creates the project and correctly installs the dependencies that I indicate\r\n\r\nThis is the repository of the latest version they released on git:\r\n\r\nhttps://github.com/cheng6563/intellij-spring-assistant.git\r\n\r\nThis is the link to the page:\r\n\r\nhttps://github.com/cheng6563/intellij-spring-assistant\r\n\r\nThe version of this **Spring Assistant is v1.0.6**\r\n\r\nhttps://github.com/cheng6563/intellij-spring-assistant/releases\r\n\r\nI hope my comment works for someone (sorry for any grammatical errors or wrong words; I&#39;m using google translate to help people who need what I do)","title":"Intellij Spring Initializr not available","body":"<p>January 2023, in the 2022.3.1 version of <strong>Intelijj idea, spring assistant continues to work</strong> (it has a certain bug in the interface). At least in what I'm testing, it creates the project and correctly installs the dependencies that I indicate</p>\n<p>This is the repository of the latest version they released on git:</p>\n<p><a href=\"https://github.com/cheng6563/intellij-spring-assistant.git\" rel=\"nofollow noreferrer\">https://github.com/cheng6563/intellij-spring-assistant.git</a></p>\n<p>This is the link to the page:</p>\n<p><a href=\"https://github.com/cheng6563/intellij-spring-assistant\" rel=\"nofollow noreferrer\">https://github.com/cheng6563/intellij-spring-assistant</a></p>\n<p>The version of this <strong>Spring Assistant is v1.0.6</strong></p>\n<p><a href=\"https://github.com/cheng6563/intellij-spring-assistant/releases\" rel=\"nofollow noreferrer\">https://github.com/cheng6563/intellij-spring-assistant/releases</a></p>\n<p>I hope my comment works for someone (sorry for any grammatical errors or wrong words; I'm using google translate to help people who need what I do)</p>\n"}],"owner":{"account_id":532733,"reputation":14515,"user_id":1251350,"accept_rate":93,"display_name":"Faraj Farook"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166373,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"accepted_answer_id":32476526,"answer_count":17,"score":98,"last_activity_date":1685364987,"creation_date":1441791967,"question_id":32476228,"body_markdown":"I&#39;m using Intellij IDE to code spring Boot.\r\n\r\nSpring Initializr was not available for me in the `new project` option as in.\r\n\r\nhttp://blog.jetbrains.com/idea/2015/03/develop-spring-boot-applications-more-productively-with-intellij-idea-14-1/\r\n\r\nBelow you can find the screenshot of my IDE. Please let me know what am i missing here? \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/R81RO.png","title":"Intellij Spring Initializr not available","body":"<p>I'm using Intellij IDE to code spring Boot.</p>\n\n<p>Spring Initializr was not available for me in the <code>new project</code> option as in.</p>\n\n<p><a href=\"http://blog.jetbrains.com/idea/2015/03/develop-spring-boot-applications-more-productively-with-intellij-idea-14-1/\" rel=\"noreferrer\">http://blog.jetbrains.com/idea/2015/03/develop-spring-boot-applications-more-productively-with-intellij-idea-14-1/</a></p>\n\n<p>Below you can find the screenshot of my IDE. Please let me know what am i missing here? </p>\n\n<p><a href=\"https://i.stack.imgur.com/R81RO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/R81RO.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","mvvm","android-livedata","utility"],"answers":[{"tags":[],"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685364553,"creation_date":1685364553,"answer_id":76357530,"question_id":76357303,"body_markdown":"A practice I like to follow is to choose the most narrow scope for your utility code and expand it only when necessary. \r\n\r\nLet&#39;s say you want to introduce a function that returns the last 3 characters of a string - what would be the best place to put that function? If it&#39;s only used by a single class in your codebase - just make the function private in that class. If there are multiple classes in the same package that need this function - you can move it to a separate file in that package. If it&#39;s used everywhere (which is rare) - it can probably live in a file inside a &quot;utils&quot; package.\r\n\r\nI&#39;d suggest placing utils closer to where they&#39;re used: the custom Toast class will live in the &quot;views&quot; package, while the Network state checking class can live in the &quot;network&quot; package. Imagine at some point you wanted to split your codebase into separate Gradle modules that would depend on each other and have 3rd party dependencies: having networking utils in the &quot;views&quot; module would mean that module now needs a dependency on Retrofit, which isn&#39;t ideal. Hence a better place for it would be the &quot;network&quot; module, for which having a Retrofit dependency feels more natural.\r\n\r\n","title":"Utils classes are belongs to which layer in MVVM architecture?","body":"<p>A practice I like to follow is to choose the most narrow scope for your utility code and expand it only when necessary.</p>\n<p>Let's say you want to introduce a function that returns the last 3 characters of a string - what would be the best place to put that function? If it's only used by a single class in your codebase - just make the function private in that class. If there are multiple classes in the same package that need this function - you can move it to a separate file in that package. If it's used everywhere (which is rare) - it can probably live in a file inside a &quot;utils&quot; package.</p>\n<p>I'd suggest placing utils closer to where they're used: the custom Toast class will live in the &quot;views&quot; package, while the Network state checking class can live in the &quot;network&quot; package. Imagine at some point you wanted to split your codebase into separate Gradle modules that would depend on each other and have 3rd party dependencies: having networking utils in the &quot;views&quot; module would mean that module now needs a dependency on Retrofit, which isn't ideal. Hence a better place for it would be the &quot;network&quot; module, for which having a Retrofit dependency feels more natural.</p>\n"}],"owner":{"account_id":12870885,"reputation":21,"user_id":9309388,"display_name":"Asikur Rahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":1,"last_activity_date":1685364553,"creation_date":1685362563,"question_id":76357303,"body_markdown":"I&#39;m currently working on an Android project following the MVVM architecture pattern. While organizing my code, now I&#39;m confused about placement of utility classes. In which package i should place utils classes?\r\n\r\nI want to create some utility classes like Custom Toast class , Network state checking class by pinging the api website that im using in my project. and also creating static methods in these classes will be bad practice? and using these class directly in the activities will be bad practice for maintaining mvvm architecture? as im updating my activities data through viewmodel and livedata observer.\r\n\r\nas we know in MVVM, we have the model layer, view layer, and view model layer.In some article i saw some developer saying utils bilongs to model layer and somewhere i saw utils belongs to view layer. \r\n\r\nAdditionally, I&#39;m also interested in understanding how the placement of utility classes can impact the overall maintainability, scalability, and testability of the codebase. Are there any best practices or guidelines that can help in making this decision?\r\n\r\nAny guidance or experiences shared would be greatly appreciated. Thank you in advance for your help!\r\nMy packages: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/53rcO.jpg","title":"Utils classes are belongs to which layer in MVVM architecture?","body":"<p>I'm currently working on an Android project following the MVVM architecture pattern. While organizing my code, now I'm confused about placement of utility classes. In which package i should place utils classes?</p>\n<p>I want to create some utility classes like Custom Toast class , Network state checking class by pinging the api website that im using in my project. and also creating static methods in these classes will be bad practice? and using these class directly in the activities will be bad practice for maintaining mvvm architecture? as im updating my activities data through viewmodel and livedata observer.</p>\n<p>as we know in MVVM, we have the model layer, view layer, and view model layer.In some article i saw some developer saying utils bilongs to model layer and somewhere i saw utils belongs to view layer.</p>\n<p>Additionally, I'm also interested in understanding how the placement of utility classes can impact the overall maintainability, scalability, and testability of the codebase. Are there any best practices or guidelines that can help in making this decision?</p>\n<p>Any guidance or experiences shared would be greatly appreciated. Thank you in advance for your help!\nMy packages:</p>\n<p><a href=\"https://i.stack.imgur.com/53rcO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/53rcO.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1685364232,"post_id":76357452,"comment_id":134646091,"body_markdown":"Yep [Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) are the answers","body":"Yep <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings</a> are the answers"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1685364532,"creation_date":1685364182,"answer_id":76357487,"question_id":76357452,"body_markdown":"Use key bindings to change a state field, perhaps one that determines direction, and then a timer&#39;s ActionListener to query this state field and use it to select a direction to move.\r\n\r\nI recommend that you use [key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) (check the tutorial link), to show how to do this. \r\n\r\nSide note: best to not override paint but rather paintComponent, since this will give you double-buffering out of the box and should result in smoother animation.\r\n\r\n[For example](https://stackoverflow.com/a/40920732/522444)","title":"check if key has been clicked inside actionPerformed","body":"<p>Use key bindings to change a state field, perhaps one that determines direction, and then a timer's ActionListener to query this state field and use it to select a direction to move.</p>\n<p>I recommend that you use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings</a> (check the tutorial link), to show how to do this.</p>\n<p>Side note: best to not override paint but rather paintComponent, since this will give you double-buffering out of the box and should result in smoother animation.</p>\n<p><a href=\"https://stackoverflow.com/a/40920732/522444\">For example</a></p>\n"}],"owner":{"account_id":18750189,"reputation":57,"user_id":13671439,"display_name":"Tim Asher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1689264368,"accepted_answer_id":76357487,"answer_count":1,"score":-1,"last_activity_date":1685364532,"creation_date":1685363890,"question_id":76357452,"body_markdown":"how i can check for an keyboard input inside the actionPerformed method or chek for input from the keyboard and sent the result to the actionPerformed method?\r\n\r\ni have 3 files:\r\n\r\nmain that just call new JFrame:\r\n\r\n      public class Main {\r\n          public static void main(String[] args) {\r\n              new myJFrame();\r\n          }\r\n      }\r\n\r\nmyJframe:\r\n\r\n    public class myJFrame extends JFrame {\r\n    myJPanel panel;\r\n\r\n        myJFrame(){\r\n            panel = new myJPanel();\r\n            this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            this.add(panel);\r\n            this.pack();\r\n            this.setLocationRelativeTo(null);\r\n            this.setVisible(true);\r\n        }\r\n    }\r\n\r\nand myJPanel:\r\n\r\n   \r\n\r\n         \r\n        public class myJPanel extends JPanel implements ActionListener {\r\n            final int PANEL_WIDTH = 500;\r\n            final int PANEL_HEIGHT = 500;\r\n            final int SNAKE_WIDTH = 25;\r\n            final int SNAKE_HEIGHT = 25;\r\n            JPanel snakeBody;\r\n            Timer timer;\r\n            int xVelocity = 1;\r\n            int yVelocity = 1;\r\n            int xPosition = 250;\r\n            int yPosition = 250;\r\n        \r\n            myJPanel(){\r\n                snakeBody = new JPanel();\r\n                this.setPreferredSize(new Dimension(PANEL_WIDTH, PANEL_HEIGHT));\r\n                timer = new Timer(10, this);\r\n                timer.start();\r\n        \r\n            }\r\n        \r\n            public void paint(Graphics g){\r\n                super.paint(g); // paint background.\r\n                Graphics2D g2D = (Graphics2D) g;\r\n                g2D.fillRect(xPosition, yPosition, SNAKE_WIDTH, SNAKE_HEIGHT);\r\n        \r\n            }\r\n        \r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                repaint();\r\n            }\r\n    }\r\n\r\n","title":"check if key has been clicked inside actionPerformed","body":"<p>how i can check for an keyboard input inside the actionPerformed method or chek for input from the keyboard and sent the result to the actionPerformed method?</p>\n<p>i have 3 files:</p>\n<p>main that just call new JFrame:</p>\n<pre><code>  public class Main {\n      public static void main(String[] args) {\n          new myJFrame();\n      }\n  }\n</code></pre>\n<p>myJframe:</p>\n<pre><code>public class myJFrame extends JFrame {\nmyJPanel panel;\n\n    myJFrame(){\n        panel = new myJPanel();\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.add(panel);\n        this.pack();\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n    }\n}\n</code></pre>\n<p>and myJPanel:</p>\n<pre><code>    public class myJPanel extends JPanel implements ActionListener {\n        final int PANEL_WIDTH = 500;\n        final int PANEL_HEIGHT = 500;\n        final int SNAKE_WIDTH = 25;\n        final int SNAKE_HEIGHT = 25;\n        JPanel snakeBody;\n        Timer timer;\n        int xVelocity = 1;\n        int yVelocity = 1;\n        int xPosition = 250;\n        int yPosition = 250;\n    \n        myJPanel(){\n            snakeBody = new JPanel();\n            this.setPreferredSize(new Dimension(PANEL_WIDTH, PANEL_HEIGHT));\n            timer = new Timer(10, this);\n            timer.start();\n    \n        }\n    \n        public void paint(Graphics g){\n            super.paint(g); // paint background.\n            Graphics2D g2D = (Graphics2D) g;\n            g2D.fillRect(xPosition, yPosition, SNAKE_WIDTH, SNAKE_HEIGHT);\n    \n        }\n    \n        @Override\n        public void actionPerformed(ActionEvent e) {\n            repaint();\n        }\n}\n</code></pre>\n"},{"tags":["java","loops","iteration"],"comments":[{"owner":{"account_id":97652,"reputation":11676,"user_id":264775,"accept_rate":86,"display_name":"thegrinner"},"score":2,"creation_date":1395090052,"post_id":22465223,"comment_id":34171655,"body_markdown":"Some possibilities that come to mind: a map of pairs, an array of arrays, an object representing a pair, incrementing the count by two instead of one.","body":"Some possibilities that come to mind: a map of pairs, an array of arrays, an object representing a pair, incrementing the count by two instead of one."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1669910839,"creation_date":1395090004,"answer_id":22465283,"question_id":22465223,"body_markdown":"    for (int i=0 ; i&lt;a.length ; i+=2) {\r\n        String first = a[i];\r\n        String second = a[i+1];\r\n        ...\r\n    }\r\n\r\n**Note!** If the array is provided by a caller, then you might want to add some extra code to handle the case where `a.length` is not even.","title":"Iterating through an array 2 items at a time","body":"<pre><code>for (int i=0 ; i&lt;a.length ; i+=2) {\n    String first = a[i];\n    String second = a[i+1];\n    ...\n}\n</code></pre>\n<p><strong>Note!</strong> If the array is provided by a caller, then you might want to add some extra code to handle the case where <code>a.length</code> is not even.</p>\n"},{"tags":[],"owner":{"account_id":2986598,"reputation":5657,"user_id":2535242,"accept_rate":48,"display_name":"La-comadreja"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395090040,"creation_date":1395090040,"answer_id":22465299,"question_id":22465223,"body_markdown":"A few possibilities.\r\n\r\n1)\r\n\r\n    class PairString {\r\n        String a;\r\n        String b;\r\n    }\r\n    PairString[] stringPairs;\r\n\r\n2)\r\n\r\n    while (i &lt; array.length) {\r\n        String a = array[i];\r\n        String b = array[i + 1];\r\n        i += 2;\r\n    }","title":"Iterating through an array 2 items at a time","body":"<p>A few possibilities.</p>\n\n<p>1)</p>\n\n<pre><code>class PairString {\n    String a;\n    String b;\n}\nPairString[] stringPairs;\n</code></pre>\n\n<p>2)</p>\n\n<pre><code>while (i &lt; array.length) {\n    String a = array[i];\n    String b = array[i + 1];\n    i += 2;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1592276,"reputation":6902,"user_id":1475346,"accept_rate":100,"display_name":"Martin Seeler"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1395090072,"creation_date":1395090072,"answer_id":22465318,"question_id":22465223,"body_markdown":"What about using some math?\r\n\r\n    final String[] words = { &quot;Foo&quot;, &quot;Bar&quot;, &quot;Baz&quot;, &quot;42&quot; };\r\n    final int n = words.length / 2;\r\n    for (int i = 0; i &lt; n; i++) {\r\n        System.out.println(words[i * 2] + &quot;-&quot; + words[(i * 2) + 1]);\r\n    }","title":"Iterating through an array 2 items at a time","body":"<p>What about using some math?</p>\n\n<pre><code>final String[] words = { \"Foo\", \"Bar\", \"Baz\", \"42\" };\nfinal int n = words.length / 2;\nfor (int i = 0; i &lt; n; i++) {\n    System.out.println(words[i * 2] + \"-\" + words[(i * 2) + 1]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1395090082,"creation_date":1395090082,"answer_id":22465321,"question_id":22465223,"body_markdown":"So I assume you mean `a -&gt; b` and `c -&gt; d`. The classic way to deal with this is a loop that increments two at a time:\r\n\r\n    for(int i = 0; i &lt; myArray.length; i += 2) {\r\n        final String firstVal = myArray[i];\r\n        final String secondVal = myArray[i + 1];\r\n    }","title":"Iterating through an array 2 items at a time","body":"<p>So I assume you mean <code>a -&gt; b</code> and <code>c -&gt; d</code>. The classic way to deal with this is a loop that increments two at a time:</p>\n\n<pre><code>for(int i = 0; i &lt; myArray.length; i += 2) {\n    final String firstVal = myArray[i];\n    final String secondVal = myArray[i + 1];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2000736,"reputation":3013,"user_id":1791856,"accept_rate":88,"display_name":"Alex Moore-Niemi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555897997,"creation_date":1555897997,"answer_id":55788295,"question_id":22465223,"body_markdown":"I like the loop that increments two at a time as well, but just to add something a little different, you could also make use of `IntStream`:\r\n\r\n```\r\nfinal String[] words = { &quot;Foo&quot;, &quot;Bar&quot;, &quot;Baz&quot;, &quot;42&quot; };\r\nIntStream.range(1, words.length).forEach(i -&gt; System.out.println(words[i-1] + words[i]));\r\n```\r\n\r\nOutputs:\r\n\r\n```\r\nFooBar\r\nBarBaz\r\nBaz42\r\n```","title":"Iterating through an array 2 items at a time","body":"<p>I like the loop that increments two at a time as well, but just to add something a little different, you could also make use of <code>IntStream</code>:</p>\n\n<pre><code>final String[] words = { \"Foo\", \"Bar\", \"Baz\", \"42\" };\nIntStream.range(1, words.length).forEach(i -&gt; System.out.println(words[i-1] + words[i]));\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>FooBar\nBarBaz\nBaz42\n</code></pre>\n"}],"owner":{"account_id":4050481,"reputation":1635,"user_id":3330259,"accept_rate":26,"display_name":"SpaceShroomies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9207,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":22465283,"answer_count":5,"score":5,"last_activity_date":1685363885,"creation_date":1395089832,"question_id":22465223,"body_markdown":"I have a string array that looks something like `[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;]`. Each two consecutive items are pairs and I want to iterate through the array and be able to consider the two strings together. Currently I&#39;m thinking of having a loop and a count to work out where I am in the iteration but is there a simpler/better way?","title":"Iterating through an array 2 items at a time","body":"<p>I have a string array that looks something like <code>[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;]</code>. Each two consecutive items are pairs and I want to iterate through the array and be able to consider the two strings together. Currently I'm thinking of having a loop and a count to work out where I am in the iteration but is there a simpler/better way?</p>\n"},{"tags":["java","mysql","cryptography","aes"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685359029,"post_id":76356544,"comment_id":134645150,"body_markdown":"*But getting error as below* The cause of that error message seems perfectly clear: you passed an iterations value of 2","body":"<i>But getting error as below</i> The cause of that error message seems perfectly clear: you passed an iterations value of 2"},{"owner":{"account_id":12621614,"reputation":962,"user_id":9176914,"accept_rate":100,"display_name":"Muddassir Rahman"},"score":0,"creation_date":1685359514,"post_id":76356544,"comment_id":134645227,"body_markdown":"@g00se Yes coz same iteration count was passed in java code","body":"@g00se Yes coz same iteration count was passed in java code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685360835,"post_id":76356544,"comment_id":134645461,"body_markdown":"The message tells you exactly why you *can&#39;t* do that. What&#39;s more, since MySql is supporting AES, why are you doing it in Java at all?","body":"The message tells you exactly why you <i>can&#39;t</i> do that. What&#39;s more, since MySql is supporting AES, why are you doing it in Java at all?"},{"owner":{"account_id":12621614,"reputation":962,"user_id":9176914,"accept_rate":100,"display_name":"Muddassir Rahman"},"score":0,"creation_date":1685363855,"post_id":76356544,"comment_id":134645992,"body_markdown":"@g00se There are two different teams , one is encrypting the data and other will use this data for some report purpose. As a developer , we do not want to share our encryption/decryption logic with them. Due to which we just want to give them a wrapper mysql function which can decrypt the data for other team. As the other team mostly works on mysql, we have to give mysql function instead of any API","body":"@g00se There are two different teams , one is encrypting the data and other will use this data for some report purpose. As a developer , we do not want to share our encryption/decryption logic with them. Due to which we just want to give them a wrapper mysql function which can decrypt the data for other team. As the other team mostly works on mysql, we have to give mysql function instead of any API"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685364165,"post_id":76356544,"comment_id":134646076,"body_markdown":"Well, personally, I think that objective can&#39;t be met with symmetric encryption, which is problematic, not only for security reasons, but also for implementation reasons. Anyway, the simplest solution would seem to be to use a high enough iterations count in your Java to satisfy MySql","body":"Well, personally, I think that objective can&#39;t be met with symmetric encryption, which is problematic, not only for security reasons, but also for implementation reasons. Anyway, the simplest solution would seem to be to use a high enough iterations count in your Java to satisfy MySql"}],"owner":{"account_id":12621614,"reputation":962,"user_id":9176914,"accept_rate":100,"display_name":"Muddassir Rahman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685363706,"creation_date":1685355994,"question_id":76356544,"body_markdown":"How do I decrypt the AES encrypted value in MYSQL which is generated using JAVA code.\r\nI&#39;m doing password based encryption in Java, It usess AES as the underlying encryption algorithm and PBKDF2WithHmacSHA1 to derive a key from a salt and password combination using the following code.\t\r\n\t\r\n\t\r\n\tpublic String decryptAttr(String dbData, String key, String iv){\r\n        \r\n\t\ttry {\r\n            String password = hash256(key);\r\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n           \r\n\t\t   //strip off the salt and iv\r\n            ByteBuffer buffer = ByteBuffer.wrap(new Base64().decode(dbData));\r\n            byte[] saltBytes = new byte[saltLength];\r\n            buffer.get(saltBytes, 0, saltBytes.length);\r\n            \r\n\t\t\tbyte[] ivBytes1 = new byte[cipher.getBlockSize()];\r\n            buffer.get(ivBytes1, 0, ivBytes1.length);\r\n\t\t\t\r\n\t\t\t\r\n            byte[] encryptedTextBytes = new byte[buffer.capacity() - saltBytes.length - ivBytes1.length];\r\n            buffer.get(encryptedTextBytes);\r\n            \r\n\t\t\t// Deriving the key\r\n\t\t\tSecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n\t\t\tPBEKeySpec spec = new PBEKeySpec(hash256Password.toCharArray(), saltBytes, iterationCount, keyLength);\r\n\t\t\tSecretKey secretKey = factory.generateSecret(spec);\r\n\t\t\tSecretKeySpec secret = new SecretKeySpec(secretKey.getEncoded(), &quot;AES&quot;);\r\n\t\r\n            cipher.init(Cipher.DECRYPT_MODE, secret, new IvParameterSpec(ivBytes1));\r\n\t\t\t\r\n            byte[] decryptedTextBytes = null;\r\n            decryptedTextBytes = cipher.doFinal(encryptedTextBytes);\r\n\r\n            return new String(decryptedTextBytes);\r\n\r\n        } catch (Excpetion e) {\r\n            e.printStackTrace();\r\n        } \r\n        return null;\r\n    }\r\n\t\r\nI tried to decrypt the text using MySQL version 8.0.30 by substituting values in function `AES_DECRYPT(&#39;mytext&#39;,&#39;mykeystring&#39;, &#39;iv&#39;, &#39;pbkdf2_hmac&#39;,&#39;salt&#39;, &#39;iterationcount&#39;);`\r\n\r\n   SET session block_encryption_mode = &#39;aes-128-cbc&#39;;\r\n   SET @key_str = UNHEX(SHA2(&#39;4028c2ac696ba930016a2fc6765800e6&#39;,256));\r\n   \r\nEDIT : But getting error as iteration count less than 1000 not allowed. But if I pass `KDF` method as `PBKDF2WithHmacSHA1` it says invalid name.\r\n\r\n[![Error image][1]][1]\r\n\r\n`mysql&gt;  select AES_DECRYPT(SUBSTRING(HEX(FROM_BASE64(&#39;vzAXFDpaIRx0ctFWZ4hSl27c8vNApWgefBFVfj4wPYawFyrRkTPVJcjvKrheZR6UpwIArQ==&#39;)),73), @key_str, SUBSTRING(HEX(FROM_BASE64(&#39;vzAXFDpaIRx0ctFWZ4hSl27c8vNApWgefBFVfj4wPYawFyrRkTPVJcjvKrheZR6UpwIArQ==&#39;)),41,32), &#39;pbkdf2_hmac&#39;,SUBSTRING(HEX(FROM_BASE64(&#39;vzAXFDpaIRx0ctFWZ4hSl27c8vNApWgefBFVfj4wPYawFyrRkTPVJcjvKrheZR6UpwIArQ==&#39;)),1,40),2 );\r\nERROR 3236 (HY000): For KDF method pbkdf2_hmac iterations value less than 1000 or more than 65535 is not allowed due to security reasons. Please provide iterations &gt;= 1000 and iterations &lt; 65535\r\n`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LaOJP.png","title":"Decrypt AES encrypted value in mysql generated using JAVA","body":"<p>How do I decrypt the AES encrypted value in MYSQL which is generated using JAVA code.\nI'm doing password based encryption in Java, It usess AES as the underlying encryption algorithm and PBKDF2WithHmacSHA1 to derive a key from a salt and password combination using the following code.</p>\n<pre><code>public String decryptAttr(String dbData, String key, String iv){\n    \n    try {\n        String password = hash256(key);\n        Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n       \n       //strip off the salt and iv\n        ByteBuffer buffer = ByteBuffer.wrap(new Base64().decode(dbData));\n        byte[] saltBytes = new byte[saltLength];\n        buffer.get(saltBytes, 0, saltBytes.length);\n        \n        byte[] ivBytes1 = new byte[cipher.getBlockSize()];\n        buffer.get(ivBytes1, 0, ivBytes1.length);\n        \n        \n        byte[] encryptedTextBytes = new byte[buffer.capacity() - saltBytes.length - ivBytes1.length];\n        buffer.get(encryptedTextBytes);\n        \n        // Deriving the key\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\n        PBEKeySpec spec = new PBEKeySpec(hash256Password.toCharArray(), saltBytes, iterationCount, keyLength);\n        SecretKey secretKey = factory.generateSecret(spec);\n        SecretKeySpec secret = new SecretKeySpec(secretKey.getEncoded(), &quot;AES&quot;);\n\n        cipher.init(Cipher.DECRYPT_MODE, secret, new IvParameterSpec(ivBytes1));\n        \n        byte[] decryptedTextBytes = null;\n        decryptedTextBytes = cipher.doFinal(encryptedTextBytes);\n\n        return new String(decryptedTextBytes);\n\n    } catch (Excpetion e) {\n        e.printStackTrace();\n    } \n    return null;\n}\n</code></pre>\n<p>I tried to decrypt the text using MySQL version 8.0.30 by substituting values in function <code>AES_DECRYPT('mytext','mykeystring', 'iv', 'pbkdf2_hmac','salt', 'iterationcount');</code></p>\n<p>SET session block_encryption_mode = 'aes-128-cbc';\nSET @key_str = UNHEX(SHA2('4028c2ac696ba930016a2fc6765800e6',256));</p>\n<p>EDIT : But getting error as iteration count less than 1000 not allowed. But if I pass <code>KDF</code> method as <code>PBKDF2WithHmacSHA1</code> it says invalid name.</p>\n<p><a href=\"https://i.stack.imgur.com/LaOJP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LaOJP.png\" alt=\"Error image\" /></a></p>\n<p><code>mysql&gt;  select AES_DECRYPT(SUBSTRING(HEX(FROM_BASE64('vzAXFDpaIRx0ctFWZ4hSl27c8vNApWgefBFVfj4wPYawFyrRkTPVJcjvKrheZR6UpwIArQ==')),73), @key_str, SUBSTRING(HEX(FROM_BASE64('vzAXFDpaIRx0ctFWZ4hSl27c8vNApWgefBFVfj4wPYawFyrRkTPVJcjvKrheZR6UpwIArQ==')),41,32), 'pbkdf2_hmac',SUBSTRING(HEX(FROM_BASE64('vzAXFDpaIRx0ctFWZ4hSl27c8vNApWgefBFVfj4wPYawFyrRkTPVJcjvKrheZR6UpwIArQ==')),1,40),2 ); ERROR 3236 (HY000): For KDF method pbkdf2_hmac iterations value less than 1000 or more than 65535 is not allowed due to security reasons. Please provide iterations &gt;= 1000 and iterations &lt; 65535 </code></p>\n"},{"tags":["java","sql","mysql","jdbc","prepared-statement"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":1,"creation_date":1685358647,"post_id":76356740,"comment_id":134645099,"body_markdown":"Which dbms are you using? Which programming environment?","body":"Which dbms are you using? Which programming environment?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1685359424,"post_id":76356740,"comment_id":134645207,"body_markdown":"I believe that is one of the *features* of `statement.setObject(` - also one reason to use `PreparedStatement` to avoid SQL injection - it is not expected to add SQL statements or part of one as *values* to a `PreparedStatement`","body":"I believe that is one of the <i>features</i> of <code>statement.setObject(</code> - also one reason to use <code>PreparedStatement</code> to avoid SQL injection - it is not expected to add SQL statements or part of one as <i>values</i> to a <code>PreparedStatement</code>"},{"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"score":0,"creation_date":1685360701,"post_id":76356740,"comment_id":134645436,"body_markdown":"@jarlh Mysql with java","body":"@jarlh Mysql with java"},{"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"score":0,"creation_date":1685360776,"post_id":76356740,"comment_id":134645449,"body_markdown":"@user16320675 so what should i do to avoid it add the \\, i tried both setObject and setString","body":"@user16320675 so what should i do to avoid it add the \\, i tried both setObject and setString"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1685360917,"post_id":76356740,"comment_id":134645481,"body_markdown":"do not use any of these setter methods to add SQL statement (parts); use these only for values - change the SQL so that it can be controlled by values (if possible); or use simple string concatenation of replacement (considering the SQL injection problem)","body":"do not use any of these setter methods to add SQL statement (parts); use these only for values - change the SQL so that it can be controlled by values (if possible); or use simple string concatenation of replacement (considering the SQL injection problem)"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685362822,"post_id":76356740,"comment_id":134645806,"body_markdown":"@user16320675 that is a bad suggestion. PreparedStatement features help to avoid security vulnerabilities. Using string concatenation is opening a query to SQL injection vulnerabilities.","body":"@user16320675 that is a bad suggestion. PreparedStatement features help to avoid security vulnerabilities. Using string concatenation is opening a query to SQL injection vulnerabilities."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685364402,"post_id":76356740,"comment_id":134646123,"body_markdown":"You cannot use prepared statements to set subqueries on a parameter. You can only use it to set **values** on a parameter.","body":"You cannot use prepared statements to set subqueries on a parameter. You can only use it to set <b>values</b> on a parameter."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1685380819,"post_id":76356740,"comment_id":134649029,"body_markdown":"@aled - that is not correct, or better, only applies to user input (or similar) being concatenated to the statement - but not to statement components provided by source being concatenated (I believe I added something about considering SQL injection... even about it being a reason for using `PreparedStatement`...)","body":"@aled - that is not correct, or better, only applies to user input (or similar) being concatenated to the statement - but not to statement components provided by source being concatenated (I believe I added something about considering SQL injection... even about it being a reason for using <code>PreparedStatement</code>...)"}],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685363332,"creation_date":1685357829,"question_id":76356740,"body_markdown":"I&#39;m trying to make a query using the PreparedStatemant:\r\n\r\n    private static final String DEFAULT_GET_PROCS_DT_LOG = &quot;(SELECT concat(date_format(max(dt_start),&#39;%Y-%m-%d&#39;),&#39;%&#39;) FROM table)&quot;;\r\n    \r\n     PreparedStatement statement = s.getConnection().prepareStatement(GET_PROCS.replaceFirst(&quot;&lt;dtLOG&gt;&quot;,&quot;?&quot;));\r\n    statement.setObject(1,  DEFAULT_GET_PROCS_DT_LOG);\r\n    rs = statement.executeQuery();\r\n\r\nIn the debug I notice the query became like this:\r\n\r\n    ...WHERE condition like &#39;(SELECT concat(date_format(max(dt_start),\\&#39;%Y-%m-%d\\&#39;),\\&#39;%\\&#39;) FROM table)&#39;\r\n\r\ninstead to be:\r\n\r\n    ...WHERE condition like (SELECT concat(date_format(max(dt_start),&#39;%Y-%m-%d&#39;),&#39;%&#39;) FROM table)\r\n\r\nso I always get null in the result set, I tried to put the entire sql script in the prepareStatement (without ?) and it works, so the problem is when I use setString or setObject (I tried both).\r\n\r\nDoes anyone know the solution???","title":"PreparedStatement automatically adds the \\","body":"<p>I'm trying to make a query using the PreparedStatemant:</p>\n<pre><code>private static final String DEFAULT_GET_PROCS_DT_LOG = &quot;(SELECT concat(date_format(max(dt_start),'%Y-%m-%d'),'%') FROM table)&quot;;\n\n PreparedStatement statement = s.getConnection().prepareStatement(GET_PROCS.replaceFirst(&quot;&lt;dtLOG&gt;&quot;,&quot;?&quot;));\nstatement.setObject(1,  DEFAULT_GET_PROCS_DT_LOG);\nrs = statement.executeQuery();\n</code></pre>\n<p>In the debug I notice the query became like this:</p>\n<pre><code>...WHERE condition like '(SELECT concat(date_format(max(dt_start),\\'%Y-%m-%d\\'),\\'%\\') FROM table)'\n</code></pre>\n<p>instead to be:</p>\n<pre><code>...WHERE condition like (SELECT concat(date_format(max(dt_start),'%Y-%m-%d'),'%') FROM table)\n</code></pre>\n<p>so I always get null in the result set, I tried to put the entire sql script in the prepareStatement (without ?) and it works, so the problem is when I use setString or setObject (I tried both).</p>\n<p>Does anyone know the solution???</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1655657518,"post_id":72675099,"comment_id":128378731,"body_markdown":"I don&#39;t think there is. Using REUSE executor might help a little bit. If it has to be batch processing, you may have to use the raw JDBC API (this probably is the most efficient approach in terms of performance in your case).","body":"I don&#39;t think there is. Using REUSE executor might help a little bit. If it has to be batch processing, you may have to use the raw JDBC API (this probably is the most efficient approach in terms of performance in your case)."}],"answers":[{"tags":[],"owner":{"account_id":5159956,"reputation":43,"user_id":4131977,"display_name":"Gallyam Biktashev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685363261,"creation_date":1685363261,"answer_id":76357386,"question_id":72675099,"body_markdown":"## Behaviour explanation\r\n\r\nThe batching does not work because it can be performed only when the same query consequently executed. But in your code there are two queries executed one after another: `select` and then `insert`\r\n\r\nSo each `select` breaks batching, because MyBatis has no any knowledge about what you&#39;re trying to query. The best it can do is to flush all previous inserts, so the query can be executed over actual database state\r\n\r\n## Solution\r\n\r\nThere are only one way you can choose: select in a loop a batch of accounts and within a nested loop do an inserts\r\n\r\n```java\r\nAccountDao accountDao = applicationContext.getBean(&quot;accountDao&quot;, AccountDao.class);\r\nRegistrationDao registrationDao = applicationContext.getBean(&quot;registrationDao&quot;, RegistrationDao.class);\r\n\r\ntry (BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(path), &quot;UTF-8&quot;))) {\r\n\r\n    List&lt;Registration&gt; registrations = new CsvToBeanBuilder&lt;Registration&gt;(reader)\r\n        .withType(Registration.class)\r\n        .build()\r\n        .parse();\r\n    for (List&lt;Registration&gt; batch : Lists.partition(registrations, 500)) {\r\n        Map&lt;Integer, Account&gt; accounts = Maps.uniqueIndex(\r\n            accountDao.getAccount(batch.stream()\r\n                .map(Registration::getAccountId)\r\n                .toList()),\r\n            Account::getId\r\n        );\r\n        for (Registration registration : batch) {\r\n            Account account = accounts.get(reg.getAccountId());\r\n            reg.setName(account.getName());\r\n                ...\r\n            registrationDao.insertRegistration(reg);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Why there is no such mechanism as in a question\r\n\r\nIMO, it&#39;s very dangerous, because you as an original developer may definitely know, that it&#39;s safe, but another developer may not. He even may not to notice that configuration. And then add some code, that breaks your invariant. And it&#39;ll be difficult to realise where the bug is","title":"How to suppress auto statement flushing in MyBatis","body":"<h2>Behaviour explanation</h2>\n<p>The batching does not work because it can be performed only when the same query consequently executed. But in your code there are two queries executed one after another: <code>select</code> and then <code>insert</code></p>\n<p>So each <code>select</code> breaks batching, because MyBatis has no any knowledge about what you're trying to query. The best it can do is to flush all previous inserts, so the query can be executed over actual database state</p>\n<h2>Solution</h2>\n<p>There are only one way you can choose: select in a loop a batch of accounts and within a nested loop do an inserts</p>\n<pre class=\"lang-java prettyprint-override\"><code>AccountDao accountDao = applicationContext.getBean(&quot;accountDao&quot;, AccountDao.class);\nRegistrationDao registrationDao = applicationContext.getBean(&quot;registrationDao&quot;, RegistrationDao.class);\n\ntry (BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(path), &quot;UTF-8&quot;))) {\n\n    List&lt;Registration&gt; registrations = new CsvToBeanBuilder&lt;Registration&gt;(reader)\n        .withType(Registration.class)\n        .build()\n        .parse();\n    for (List&lt;Registration&gt; batch : Lists.partition(registrations, 500)) {\n        Map&lt;Integer, Account&gt; accounts = Maps.uniqueIndex(\n            accountDao.getAccount(batch.stream()\n                .map(Registration::getAccountId)\n                .toList()),\n            Account::getId\n        );\n        for (Registration registration : batch) {\n            Account account = accounts.get(reg.getAccountId());\n            reg.setName(account.getName());\n                ...\n            registrationDao.insertRegistration(reg);\n        }\n    }\n}\n</code></pre>\n<h2>Why there is no such mechanism as in a question</h2>\n<p>IMO, it's very dangerous, because you as an original developer may definitely know, that it's safe, but another developer may not. He even may not to notice that configuration. And then add some code, that breaks your invariant. And it'll be difficult to realise where the bug is</p>\n"}],"owner":{"account_id":4835964,"reputation":1710,"user_id":3902663,"accept_rate":78,"display_name":"SATO Yusuke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685363261,"creation_date":1655624526,"question_id":72675099,"body_markdown":"## Background\r\n\r\nI want to implement the following procedure with Spring and MyBatis:\r\n\r\n  1. Read a line from a CSV file\r\n  2. Query a table (table `ACCOUNT`) with values read from the CSV file.\r\n  3. Merge the values from the CSV file and table `ACCOUNT` into a record\r\n  4. Insert the merged record into another table (`REGISTRATION`)\r\n\r\nI want to use the batch executor (`&lt;setting name=&quot;defaultExecutorType&quot; value=&quot;BATCH&quot;/&gt;`) because this procedure inserts large number of records.\r\n\r\n## Problem\r\n\r\nI have implemented the procedure like this:\r\n\r\n```java\r\nAccountDao accountDao = applicationContext.getBean(&quot;accountDao&quot;, AccountDao.class);\r\nRegistrationDao registrationDao = applicationContext.getBean(&quot;registrationDao&quot;, RegistrationDao.class);\r\n\r\nList&lt;Registration&gt; list = null;\r\ntry (BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(path), &quot;UTF-8&quot;))) {\r\n\r\n    CsvToBeanBuilder&lt;Registration&gt; builder = new CsvToBeanBuilder&lt;Registration&gt;(reader);\r\n    builder.withType(Registration.class);\r\n\r\n    list = builder.build().parse();\r\n    for (Registration reg : list) {\r\n        Account account = accountDao.findAccount(reg.getAccountId());\r\n        reg.setName(account.getName());\r\n            ...\r\n        registrationDao.insertRegistration(reg);\r\n    }\r\n}\r\n```\r\n\r\nI have expected the `INSERT` SQL to be queued with JDBC `Statement#addBatch()`, and executed in a batch at the end of the transaction.\r\n\r\nBut in actually, MyBatis automatically flush every statement with `BatchExecutor#doFlushStatements()` when I query `ACCOUNT` table with `AccountDao#findAccount()`, so all `INSERT` SQL are executed separately.\r\n\r\nIn this situation, `ACCOUNT` has no relation to `REGISTRATION`, so you can safely queue the update statements and execute them in a batch.\r\n\r\n\r\n## Question\r\n\r\nIs there any way to suppress automated flushing of queued statements when the developer knows the queried tables have no relation to the updated tables?\r\n","title":"How to suppress auto statement flushing in MyBatis","body":"<h2>Background</h2>\n<p>I want to implement the following procedure with Spring and MyBatis:</p>\n<ol>\n<li>Read a line from a CSV file</li>\n<li>Query a table (table <code>ACCOUNT</code>) with values read from the CSV file.</li>\n<li>Merge the values from the CSV file and table <code>ACCOUNT</code> into a record</li>\n<li>Insert the merged record into another table (<code>REGISTRATION</code>)</li>\n</ol>\n<p>I want to use the batch executor (<code>&lt;setting name=&quot;defaultExecutorType&quot; value=&quot;BATCH&quot;/&gt;</code>) because this procedure inserts large number of records.</p>\n<h2>Problem</h2>\n<p>I have implemented the procedure like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AccountDao accountDao = applicationContext.getBean(&quot;accountDao&quot;, AccountDao.class);\nRegistrationDao registrationDao = applicationContext.getBean(&quot;registrationDao&quot;, RegistrationDao.class);\n\nList&lt;Registration&gt; list = null;\ntry (BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(path), &quot;UTF-8&quot;))) {\n\n    CsvToBeanBuilder&lt;Registration&gt; builder = new CsvToBeanBuilder&lt;Registration&gt;(reader);\n    builder.withType(Registration.class);\n\n    list = builder.build().parse();\n    for (Registration reg : list) {\n        Account account = accountDao.findAccount(reg.getAccountId());\n        reg.setName(account.getName());\n            ...\n        registrationDao.insertRegistration(reg);\n    }\n}\n</code></pre>\n<p>I have expected the <code>INSERT</code> SQL to be queued with JDBC <code>Statement#addBatch()</code>, and executed in a batch at the end of the transaction.</p>\n<p>But in actually, MyBatis automatically flush every statement with <code>BatchExecutor#doFlushStatements()</code> when I query <code>ACCOUNT</code> table with <code>AccountDao#findAccount()</code>, so all <code>INSERT</code> SQL are executed separately.</p>\n<p>In this situation, <code>ACCOUNT</code> has no relation to <code>REGISTRATION</code>, so you can safely queue the update statements and execute them in a batch.</p>\n<h2>Question</h2>\n<p>Is there any way to suppress automated flushing of queued statements when the developer knows the queried tables have no relation to the updated tables?</p>\n"},{"tags":["java","xml","csv","opencsv"],"comments":[{"owner":{"account_id":1883209,"reputation":20919,"user_id":1702943,"accept_rate":86,"display_name":"Rao"},"score":0,"creation_date":1500517010,"post_id":45203867,"comment_id":77374689,"body_markdown":"[This](https://www.javainterviewpoint.com/csvtobean-and-beantocsv-example-using-opencsv/) example should help you.","body":"<a href=\"https://www.javainterviewpoint.com/csvtobean-and-beantocsv-example-using-opencsv/\" rel=\"nofollow noreferrer\">This</a> example should help you."},{"owner":{"account_id":8860353,"reputation":883,"user_id":6616740,"accept_rate":0,"display_name":"Vikram Pathania"},"score":3,"creation_date":1500517397,"post_id":45203867,"comment_id":77374778,"body_markdown":"Hi Rao,This link is not working","body":"Hi Rao,This link is not working"},{"owner":{"account_id":1883209,"reputation":20919,"user_id":1702943,"accept_rate":86,"display_name":"Rao"},"score":0,"creation_date":1500569140,"post_id":45203867,"comment_id":77407661,"body_markdown":"check it properly. it is working.","body":"check it properly. it is working."},{"owner":{"account_id":3363434,"reputation":4100,"user_id":2824722,"accept_rate":61,"display_name":"Daniel Patrick"},"score":3,"creation_date":1588809282,"post_id":45203867,"comment_id":109046274,"body_markdown":"It&#39;s not working anymore...","body":"It&#39;s not working anymore..."}],"answers":[{"comments":[{"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"score":0,"creation_date":1516822670,"post_id":46185186,"comment_id":83851371,"body_markdown":"Actually ColumnPositionMappingStrategy&lt;T&gt; has setColumnMapping(String... columnMapping) method() to overcome this problem. You must call it before setType(). Anyway this is stupid because it is already defined by annotations. I inspected ColumnPositionMappingStrategy&lt;T&gt; class &amp; it extends  HeaderColumnNameMappingStrategy&lt;T&gt;! So, both types of annotations must work (at least this idea is programmed). If not this is a bug.","body":"Actually ColumnPositionMappingStrategy&lt;T&gt; has setColumnMapping(String... columnMapping) method() to overcome this problem. You must call it before setType(). Anyway this is stupid because it is already defined by annotations. I inspected ColumnPositionMappingStrategy&lt;T&gt; class &amp; it extends  HeaderColumnNameMappingStrategy&lt;T&gt;! So, both types of annotations must work (at least this idea is programmed). If not this is a bug."},{"owner":{"account_id":223810,"reputation":1772,"user_id":483257,"accept_rate":60,"display_name":"Bane"},"score":0,"creation_date":1521833936,"post_id":46185186,"comment_id":85917333,"body_markdown":"@SimonLogic I&#39;m afraid your suggestion did not work for me. :\\  Were you able to actually verify this, or did you just infer it from the documentation? If you happen to have a Github-example I&#39;d be interested in referring to it to see what I&#39;m missing. Thanks! :)","body":"@SimonLogic I&#39;m afraid your suggestion did not work for me. :\\  Were you able to actually verify this, or did you just infer it from the documentation? If you happen to have a Github-example I&#39;d be interested in referring to it to see what I&#39;m missing. Thanks! :)"},{"owner":{"account_id":223810,"reputation":1772,"user_id":483257,"accept_rate":60,"display_name":"Bane"},"score":1,"creation_date":1521834828,"post_id":46185186,"comment_id":85917717,"body_markdown":"@sebast26 I can confirm both of OP&#39;s solutions here worked for me. Thanks so much for the excellent detail! I&#39;m going with your dynamic-solution, appreciate it.","body":"@sebast26 I can confirm both of OP&#39;s solutions here worked for me. Thanks so much for the excellent detail! I&#39;m going with your dynamic-solution, appreciate it."},{"owner":{"account_id":107400,"reputation":558,"user_id":285608,"accept_rate":100,"display_name":"Daniel Rodr&#237;guez"},"score":1,"creation_date":1538403381,"post_id":46185186,"comment_id":92120917,"body_markdown":"Solution works perfectly, for updated version, see answer by Lalji Gajera","body":"Solution works perfectly, for updated version, see answer by Lalji Gajera"},{"owner":{"account_id":1400419,"reputation":1726,"user_id":1329308,"display_name":"Vadim Zin4uk"},"score":6,"creation_date":1553268140,"post_id":46185186,"comment_id":97334064,"body_markdown":"The first solution does not work for version 4.5. To make it work add super.generateHeader(bean); as a first line in overridden generateHeader(T bean)","body":"The first solution does not work for version 4.5. To make it work add super.generateHeader(bean); as a first line in overridden generateHeader(T bean)"},{"owner":{"account_id":4173994,"reputation":708,"user_id":3421066,"accept_rate":25,"display_name":"alext"},"score":0,"creation_date":1652908611,"post_id":46185186,"comment_id":127724477,"body_markdown":"First solution worked for me in 4.1 open csv! Thanks a lot","body":"First solution worked for me in 4.1 open csv! Thanks a lot"},{"owner":{"account_id":2752477,"reputation":723,"user_id":2371545,"display_name":"adelinor"},"score":0,"creation_date":1674812211,"post_id":46185186,"comment_id":132797110,"body_markdown":"Hi @sebast26 many thanks for this well written answer. Unfortunately OpenCSV have evolved their implementation. The second method requires a non trivial update to make it work with version 5.7.","body":"Hi @sebast26 many thanks for this well written answer. Unfortunately OpenCSV have evolved their implementation. The second method requires a non trivial update to make it work with version 5.7."}],"tags":[],"owner":{"account_id":57427,"reputation":1752,"user_id":1381662,"accept_rate":64,"display_name":"sebast26"},"comment_count":7,"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1505249727,"creation_date":1505249727,"answer_id":46185186,"question_id":45203867,"body_markdown":"I&#39;ve had similar problem. AFAIK there is no build-in functionality in OpenCSV that will allow to write bean to CSV with custom column names **and** ordering. \r\n\r\nThere are two main ```MappingStrategy```ies that are available in OpenCSV out of the box:\r\n\r\n - ```HeaderColumnNameMappingStrategy```: that allows to map CVS file columns to bean fields based on custom name; when writing bean to CSV this allows to change column header name but we have no control on column order\r\n - ```ColumnPositionMappingStrategy```: that allows to map CSV file columns to bean fields based on column ordering; when writing bean to CSV we can control column order but we get an empty header (implementation returns ```new String[0]``` as a header)\r\n\r\nThe only way I found to achieve both custom column names and ordering is to write your custom ```MappingStrategy```.\r\n\r\nFirst solution: fast and easy but hardcoded\r\n---\r\n\r\nCreate custom ```MappingStrategy```:\r\n\r\n    class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n        private static final String[] HEADER = new String[]{&quot;TradeID&quot;, &quot;GWML GUID&quot;, &quot;MXML GUID&quot;, &quot;GWML File&quot;, &quot;MxML File&quot;, &quot;MxML Counterparty&quot;, &quot;GWML Counterparty&quot;};\r\n\r\n        @Override\r\n        public String[] generateHeader() {\r\n            return HEADER;\r\n        }\r\n    }\r\n\r\nAnd use it in ```StatefulBeanToCsvBuilder```:\r\n\r\n    final CustomMappingStrategy&lt;MappingsBean&gt; mappingStrategy = new CustomMappingStrategy&lt;&gt;();\r\n    mappingStrategy.setType(MappingsBean.class);\r\n\r\n    final StatefulBeanToCsv&lt;MappingsBean&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;MappingsBean&gt;(writer)\r\n        .withMappingStrategy(mappingStrategy)\r\n        .build();\r\n    beanToCsv.write(makeFinalMappingBeanList());\r\n    writer.close()\r\n\r\nIn ```MappingsBean``` class we left ```CsvBindByPosition``` annotations - to control ordering (in this solution ```CsvBindByName``` annotations are not needed). Thanks to custom mapping strategy the header column names are included in resulting CSV file.\r\n\r\nThe downside of this solution is that when we change column ordering through ```CsvBindByPosition``` annotation we have to manually change also ```HEADER``` constant in our custom mapping strategy.\r\n\r\nSecond solution: more flexible\r\n---\r\n\r\nThe first solution works, but it was not good for me. Based on build-in implementations of ```MappingStrategy``` I came up with yet another implementation:\r\n\r\n    class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n        @Override\r\n        public String[] generateHeader() {\r\n            final int numColumns = findMaxFieldIndex();\r\n            if (!isAnnotationDriven() || numColumns == -1) {\r\n                return super.generateHeader();\r\n            }\r\n\r\n            header = new String[numColumns + 1];\r\n\r\n            BeanField beanField;\r\n            for (int i = 0; i &lt;= numColumns; i++) {\r\n                beanField = findField(i);\r\n                String columnHeaderName = extractHeaderName(beanField);\r\n                header[i] = columnHeaderName;\r\n            }\r\n            return header;\r\n        }\r\n\r\n        private String extractHeaderName(final BeanField beanField) {\r\n            if (beanField == null || beanField.getField() == null || beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class).length == 0) {\r\n                return StringUtils.EMPTY;\r\n            }\r\n\r\n            final CsvBindByName bindByNameAnnotation = beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class)[0];\r\n            return bindByNameAnnotation.column();\r\n        }\r\n    }\r\n\r\nYou can use this custom strategy in ```StatefulBeanToCsvBuilder``` exactly this same as in the first solution (remember to invoke ```mappingStrategy.setType(MappingsBean.class);```, otherwise this solution will not work).\r\n\r\nCurrently our ```MappingsBean``` has to contain both ```CsvBindByName``` and ```CsvBindByPosition``` annotations. The first to give header column name and the second to create ordering of columns in the output CSV header. Now if we change (using annotations) either column name or ordering in ```MappingsBean``` class - that change will be reflected in output CSV file.","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>I've had similar problem. AFAIK there is no build-in functionality in OpenCSV that will allow to write bean to CSV with custom column names <strong>and</strong> ordering. </p>\n\n<p>There are two main <code>MappingStrategy</code>ies that are available in OpenCSV out of the box:</p>\n\n<ul>\n<li><code>HeaderColumnNameMappingStrategy</code>: that allows to map CVS file columns to bean fields based on custom name; when writing bean to CSV this allows to change column header name but we have no control on column order</li>\n<li><code>ColumnPositionMappingStrategy</code>: that allows to map CSV file columns to bean fields based on column ordering; when writing bean to CSV we can control column order but we get an empty header (implementation returns <code>new String[0]</code> as a header)</li>\n</ul>\n\n<p>The only way I found to achieve both custom column names and ordering is to write your custom <code>MappingStrategy</code>.</p>\n\n<h2>First solution: fast and easy but hardcoded</h2>\n\n<p>Create custom <code>MappingStrategy</code>:</p>\n\n<pre><code>class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\n    private static final String[] HEADER = new String[]{\"TradeID\", \"GWML GUID\", \"MXML GUID\", \"GWML File\", \"MxML File\", \"MxML Counterparty\", \"GWML Counterparty\"};\n\n    @Override\n    public String[] generateHeader() {\n        return HEADER;\n    }\n}\n</code></pre>\n\n<p>And use it in <code>StatefulBeanToCsvBuilder</code>:</p>\n\n<pre><code>final CustomMappingStrategy&lt;MappingsBean&gt; mappingStrategy = new CustomMappingStrategy&lt;&gt;();\nmappingStrategy.setType(MappingsBean.class);\n\nfinal StatefulBeanToCsv&lt;MappingsBean&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;MappingsBean&gt;(writer)\n    .withMappingStrategy(mappingStrategy)\n    .build();\nbeanToCsv.write(makeFinalMappingBeanList());\nwriter.close()\n</code></pre>\n\n<p>In <code>MappingsBean</code> class we left <code>CsvBindByPosition</code> annotations - to control ordering (in this solution <code>CsvBindByName</code> annotations are not needed). Thanks to custom mapping strategy the header column names are included in resulting CSV file.</p>\n\n<p>The downside of this solution is that when we change column ordering through <code>CsvBindByPosition</code> annotation we have to manually change also <code>HEADER</code> constant in our custom mapping strategy.</p>\n\n<h2>Second solution: more flexible</h2>\n\n<p>The first solution works, but it was not good for me. Based on build-in implementations of <code>MappingStrategy</code> I came up with yet another implementation:</p>\n\n<pre><code>class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\n    @Override\n    public String[] generateHeader() {\n        final int numColumns = findMaxFieldIndex();\n        if (!isAnnotationDriven() || numColumns == -1) {\n            return super.generateHeader();\n        }\n\n        header = new String[numColumns + 1];\n\n        BeanField beanField;\n        for (int i = 0; i &lt;= numColumns; i++) {\n            beanField = findField(i);\n            String columnHeaderName = extractHeaderName(beanField);\n            header[i] = columnHeaderName;\n        }\n        return header;\n    }\n\n    private String extractHeaderName(final BeanField beanField) {\n        if (beanField == null || beanField.getField() == null || beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class).length == 0) {\n            return StringUtils.EMPTY;\n        }\n\n        final CsvBindByName bindByNameAnnotation = beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class)[0];\n        return bindByNameAnnotation.column();\n    }\n}\n</code></pre>\n\n<p>You can use this custom strategy in <code>StatefulBeanToCsvBuilder</code> exactly this same as in the first solution (remember to invoke <code>mappingStrategy.setType(MappingsBean.class);</code>, otherwise this solution will not work).</p>\n\n<p>Currently our <code>MappingsBean</code> has to contain both <code>CsvBindByName</code> and <code>CsvBindByPosition</code> annotations. The first to give header column name and the second to create ordering of columns in the output CSV header. Now if we change (using annotations) either column name or ordering in <code>MappingsBean</code> class - that change will be reflected in output CSV file.</p>\n"},{"tags":[],"owner":{"account_id":3527487,"reputation":534,"user_id":2948162,"display_name":"akasha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524565333,"creation_date":1524565333,"answer_id":49999242,"question_id":45203867,"body_markdown":"If you dont have getDeclaredAnnotationsByType method, but need the name of your original field name:\r\n\r\nbeanField.getField().getName()\r\n\r\n    public class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n\t@Override\r\n\tpublic String[] generateHeader() {\r\n\t\tfinal int numColumns = findMaxFieldIndex();\r\n\t\tif (!isAnnotationDriven() || numColumns == -1) {\r\n\t\t\treturn super.generateHeader();\r\n\t\t}\r\n\r\n\t\theader = new String[numColumns + 1];\r\n\r\n\t\tBeanField beanField;\r\n\t\tfor (int i = 0; i &lt;= numColumns; i++) {\r\n\t\t\tbeanField = findField(i);\r\n\t\t\tString columnHeaderName = extractHeaderName(beanField);\r\n\t\t\theader[i] = columnHeaderName;\r\n\t\t}\r\n\t\treturn header;\r\n\t}\r\n\r\n\tprivate String extractHeaderName(final BeanField beanField) {\r\n\t\tif (beanField == null || beanField.getField() == null || beanField.getField().getDeclaredAnnotations().length == 0) {\r\n\t\t\treturn StringUtils.EMPTY;\r\n\t\t}\r\n\t\treturn beanField.getField().getName();\r\n\t}\r\n}","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>If you dont have getDeclaredAnnotationsByType method, but need the name of your original field name:</p>\n\n<p>beanField.getField().getName()</p>\n\n<pre><code>public class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\n@Override\npublic String[] generateHeader() {\n    final int numColumns = findMaxFieldIndex();\n    if (!isAnnotationDriven() || numColumns == -1) {\n        return super.generateHeader();\n    }\n\n    header = new String[numColumns + 1];\n\n    BeanField beanField;\n    for (int i = 0; i &lt;= numColumns; i++) {\n        beanField = findField(i);\n        String columnHeaderName = extractHeaderName(beanField);\n        header[i] = columnHeaderName;\n    }\n    return header;\n}\n\nprivate String extractHeaderName(final BeanField beanField) {\n    if (beanField == null || beanField.getField() == null || beanField.getField().getDeclaredAnnotations().length == 0) {\n        return StringUtils.EMPTY;\n    }\n    return beanField.getField().getName();\n}\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":911817,"reputation":3889,"user_id":945477,"accept_rate":84,"display_name":"Lucas Arrefelt"},"score":1,"creation_date":1539096988,"post_id":51331894,"comment_id":92373261,"body_markdown":"Sebast26 answers did not work with 4.3, however this did. Thanks!","body":"Sebast26 answers did not work with 4.3, however this did. Thanks!"},{"owner":{"account_id":6408227,"reputation":2256,"user_id":4968749,"accept_rate":100,"display_name":"Hassam Abdelillah"},"score":2,"creation_date":1555419869,"post_id":51331894,"comment_id":98098422,"body_markdown":"Work better with newer version (using 4.5)","body":"Work better with newer version (using 4.5)"},{"owner":{"account_id":351069,"reputation":76,"user_id":687320,"display_name":"Sandeepa Nadahalli"},"score":1,"creation_date":1558509895,"post_id":51331894,"comment_id":99120189,"body_markdown":"This worked with opencsv version 4.5 for me, thanks.","body":"This worked with opencsv version 4.5 for me, thanks."},{"owner":{"account_id":2479898,"reputation":1010,"user_id":2159573,"accept_rate":33,"display_name":"Saurabhcdt"},"score":12,"creation_date":1575720150,"post_id":51331894,"comment_id":104665676,"body_markdown":"Not working with latest 5.0 version. there&#39;s no method findMaxFieldIndex() in ColumnPositionMappingStrategy &amp; BeanField is generalised as BeanField&lt;T, I&gt;","body":"Not working with latest 5.0 version. there&#39;s no method findMaxFieldIndex() in ColumnPositionMappingStrategy &amp; BeanField is generalised as BeanField&lt;T, I&gt;"},{"owner":{"account_id":1098776,"reputation":439,"user_id":1091740,"display_name":"gubs"},"score":1,"creation_date":1590946565,"post_id":51331894,"comment_id":109867304,"body_markdown":"Above mentioned code worked in opencsv-4.5 to get column name and position. Thanks","body":"Above mentioned code worked in opencsv-4.5 to get column name and position. Thanks"}],"tags":[],"owner":{"account_id":4770231,"reputation":471,"user_id":3855184,"display_name":"Lalji Gajera"},"comment_count":5,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1531829660,"creation_date":1531510987,"answer_id":51331894,"question_id":45203867,"body_markdown":"Corrected above answer to match with newer version.\r\n\r\n    package csvpojo;\r\n    \r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n    import com.opencsv.bean.BeanField;\r\n    import com.opencsv.bean.ColumnPositionMappingStrategy;\r\n    import com.opencsv.bean.CsvBindByName;\r\n    import com.opencsv.exceptions.CsvRequiredFieldEmptyException;\r\n    \r\n    class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n    \t@Override\r\n    \tpublic String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\r\n\r\n    super.setColumnMapping(new String[ FieldUtils.getAllFields(bean.getClass()).length]);\r\n    \t\tfinal int numColumns = findMaxFieldIndex();\r\n    \t\tif (!isAnnotationDriven() || numColumns == -1) {\r\n    \t\t\treturn super.generateHeader(bean);\r\n    \t\t}\r\n    \r\n    \t\tString[] header = new String[numColumns + 1];\r\n    \r\n    \t\tBeanField&lt;T&gt; beanField;\r\n    \t\tfor (int i = 0; i &lt;= numColumns; i++) {\r\n    \t\t\tbeanField = findField(i);\r\n    \t\t\tString columnHeaderName = extractHeaderName(beanField);\r\n    \t\t\theader[i] = columnHeaderName;\r\n    \t\t}\r\n    \t\treturn header;\r\n    \t}\r\n    \r\n    \tprivate String extractHeaderName(final BeanField&lt;T&gt; beanField) {\r\n    \t\tif (beanField == null || beanField.getField() == null\r\n    \t\t\t\t|| beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class).length == 0) {\r\n    \t\t\treturn StringUtils.EMPTY;\r\n    \t\t}\r\n    \r\n    \t\tfinal CsvBindByName bindByNameAnnotation = beanField.getField()\r\n    \t\t\t\t.getDeclaredAnnotationsByType(CsvBindByName.class)[0];\r\n    \t\treturn bindByNameAnnotation.column();\r\n    \t}\r\n    }\r\n\r\nThen call this to generate CSV. I have used Visitors as my POJO to populate, update wherever necessary.\r\n\r\n   \r\n\r\n \t\t    CustomMappingStrategy&lt;Visitors&gt; mappingStrategy = new CustomMappingStrategy&lt;&gt;();\r\n\t\t\tmappingStrategy.setType(Visitors.class);\r\n\t\t\t// writing sample\r\n\t\t\tList&lt;Visitors&gt; beans2 = new ArrayList&lt;Visitors&gt;();\r\n\r\n\t\t\tVisitors v = new Visitors();\r\n\t\t\tv.set_1_firstName(&quot; test1&quot;);\r\n\t\t\tv.set_2_lastName(&quot;lastname1&quot;);\r\n\t\t\tv.set_3_visitsToWebsite(&quot;876&quot;);\r\n\t\t\tbeans2.add(v);\r\n\r\n\t\t\tv = new Visitors();\r\n\t\t\tv.set_1_firstName(&quot; firstsample2&quot;);\r\n\t\t\tv.set_2_lastName(&quot;lastname2&quot;);\r\n\t\t\tv.set_3_visitsToWebsite(&quot;777&quot;);\r\n\t\t\tbeans2.add(v);\r\n\r\n\t\t\tWriter writer = new FileWriter(&quot;G://output.csv&quot;);\r\n\t\t\tStatefulBeanToCsv&lt;Visitors&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;Visitors&gt;(writer)\r\n\t\t\t\t\t.withMappingStrategy(mappingStrategy).withSeparator(&#39;,&#39;).withApplyQuotesToAll(false).build();\r\n\t\t\tbeanToCsv.write(beans2);\r\n\t\t\twriter.close();\r\n\r\nMy bean annotations looks like this\r\n   \r\n\r\n     @CsvBindByName (column = &quot;First Name&quot;, required = true)\r\n     @CsvBindByPosition(position=1)\r\n     private String firstName;\r\n\r\n\t\r\n     @CsvBindByName (column = &quot;Last Name&quot;, required = true)\r\n     @CsvBindByPosition(position=0)\r\n     private String lastName;\r\n\r\n\t","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>Corrected above answer to match with newer version.</p>\n\n<pre><code>package csvpojo;\n\nimport org.apache.commons.lang3.StringUtils;\n\nimport com.opencsv.bean.BeanField;\nimport com.opencsv.bean.ColumnPositionMappingStrategy;\nimport com.opencsv.bean.CsvBindByName;\nimport com.opencsv.exceptions.CsvRequiredFieldEmptyException;\n\nclass CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\n    @Override\n    public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\n\nsuper.setColumnMapping(new String[ FieldUtils.getAllFields(bean.getClass()).length]);\n        final int numColumns = findMaxFieldIndex();\n        if (!isAnnotationDriven() || numColumns == -1) {\n            return super.generateHeader(bean);\n        }\n\n        String[] header = new String[numColumns + 1];\n\n        BeanField&lt;T&gt; beanField;\n        for (int i = 0; i &lt;= numColumns; i++) {\n            beanField = findField(i);\n            String columnHeaderName = extractHeaderName(beanField);\n            header[i] = columnHeaderName;\n        }\n        return header;\n    }\n\n    private String extractHeaderName(final BeanField&lt;T&gt; beanField) {\n        if (beanField == null || beanField.getField() == null\n                || beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class).length == 0) {\n            return StringUtils.EMPTY;\n        }\n\n        final CsvBindByName bindByNameAnnotation = beanField.getField()\n                .getDeclaredAnnotationsByType(CsvBindByName.class)[0];\n        return bindByNameAnnotation.column();\n    }\n}\n</code></pre>\n\n<p>Then call this to generate CSV. I have used Visitors as my POJO to populate, update wherever necessary.</p>\n\n<pre><code>        CustomMappingStrategy&lt;Visitors&gt; mappingStrategy = new CustomMappingStrategy&lt;&gt;();\n        mappingStrategy.setType(Visitors.class);\n        // writing sample\n        List&lt;Visitors&gt; beans2 = new ArrayList&lt;Visitors&gt;();\n\n        Visitors v = new Visitors();\n        v.set_1_firstName(\" test1\");\n        v.set_2_lastName(\"lastname1\");\n        v.set_3_visitsToWebsite(\"876\");\n        beans2.add(v);\n\n        v = new Visitors();\n        v.set_1_firstName(\" firstsample2\");\n        v.set_2_lastName(\"lastname2\");\n        v.set_3_visitsToWebsite(\"777\");\n        beans2.add(v);\n\n        Writer writer = new FileWriter(\"G://output.csv\");\n        StatefulBeanToCsv&lt;Visitors&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;Visitors&gt;(writer)\n                .withMappingStrategy(mappingStrategy).withSeparator(',').withApplyQuotesToAll(false).build();\n        beanToCsv.write(beans2);\n        writer.close();\n</code></pre>\n\n<p>My bean annotations looks like this</p>\n\n<pre><code> @CsvBindByName (column = \"First Name\", required = true)\n @CsvBindByPosition(position=1)\n private String firstName;\n\n\n @CsvBindByName (column = \"Last Name\", required = true)\n @CsvBindByPosition(position=0)\n private String lastName;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9966468,"reputation":99,"user_id":7374033,"display_name":"Rodrigo Broggi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1534759077,"creation_date":1534759077,"answer_id":51928251,"question_id":45203867,"body_markdown":"thanks for this thread, it has been really useful for me... I&#39;ve enhanced a little bit the provided solution in order to accept also POJO where some fields are not annotated (not meant to be read/written):\r\n\r\n    public class ColumnAndNameMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n\r\n    @Override\r\n    public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\r\n\r\n        super.setColumnMapping(new String[ getAnnotatedFields(bean)]);\r\n        final int numColumns = getAnnotatedFields(bean);\r\n        final int totalFieldNum = findMaxFieldIndex();\r\n        if (!isAnnotationDriven() || numColumns == -1) {\r\n            return super.generateHeader(bean);\r\n        }\r\n\r\n        String[] header = new String[numColumns];\r\n\r\n        BeanField&lt;T&gt; beanField;\r\n        for (int i = 0; i &lt;= totalFieldNum; i++) {\r\n            beanField = findField(i);\r\n            if (isFieldAnnotated(beanField.getField())) {\r\n                String columnHeaderName = extractHeaderName(beanField);\r\n                header[i] = columnHeaderName;\r\n            }\r\n        }\r\n        return header;\r\n    }\r\n\r\n    private int getAnnotatedFields(T bean) {\r\n        return (int) Arrays.stream(FieldUtils.getAllFields(bean.getClass()))\r\n                .filter(this::isFieldAnnotated)\r\n                .count();\r\n    }\r\n\r\n    private boolean isFieldAnnotated(Field f) {\r\n        return f.isAnnotationPresent(CsvBindByName.class) || f.isAnnotationPresent(CsvCustomBindByName.class);\r\n    }\r\n\r\n    private String extractHeaderName(final BeanField beanField) {\r\n        if (beanField == null || beanField.getField() == null) {\r\n            return StringUtils.EMPTY;\r\n        }\r\n\r\n        Field field = beanField.getField();\r\n\r\n        if (field.getDeclaredAnnotationsByType(CsvBindByName.class).length != 0) {\r\n            final CsvBindByName bindByNameAnnotation = field.getDeclaredAnnotationsByType(CsvBindByName.class)[0];\r\n            return bindByNameAnnotation.column();\r\n        }\r\n\r\n        if (field.getDeclaredAnnotationsByType(CsvCustomBindByName.class).length != 0) {\r\n            final CsvCustomBindByName bindByNameAnnotation = field.getDeclaredAnnotationsByType(CsvCustomBindByName.class)[0];\r\n            return bindByNameAnnotation.column();\r\n        }\r\n\r\n        return StringUtils.EMPTY;\r\n    }\r\n}\r\n","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>thanks for this thread, it has been really useful for me... I've enhanced a little bit the provided solution in order to accept also POJO where some fields are not annotated (not meant to be read/written):</p>\n\n<pre><code>public class ColumnAndNameMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\n\n@Override\npublic String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\n\n    super.setColumnMapping(new String[ getAnnotatedFields(bean)]);\n    final int numColumns = getAnnotatedFields(bean);\n    final int totalFieldNum = findMaxFieldIndex();\n    if (!isAnnotationDriven() || numColumns == -1) {\n        return super.generateHeader(bean);\n    }\n\n    String[] header = new String[numColumns];\n\n    BeanField&lt;T&gt; beanField;\n    for (int i = 0; i &lt;= totalFieldNum; i++) {\n        beanField = findField(i);\n        if (isFieldAnnotated(beanField.getField())) {\n            String columnHeaderName = extractHeaderName(beanField);\n            header[i] = columnHeaderName;\n        }\n    }\n    return header;\n}\n\nprivate int getAnnotatedFields(T bean) {\n    return (int) Arrays.stream(FieldUtils.getAllFields(bean.getClass()))\n            .filter(this::isFieldAnnotated)\n            .count();\n}\n\nprivate boolean isFieldAnnotated(Field f) {\n    return f.isAnnotationPresent(CsvBindByName.class) || f.isAnnotationPresent(CsvCustomBindByName.class);\n}\n\nprivate String extractHeaderName(final BeanField beanField) {\n    if (beanField == null || beanField.getField() == null) {\n        return StringUtils.EMPTY;\n    }\n\n    Field field = beanField.getField();\n\n    if (field.getDeclaredAnnotationsByType(CsvBindByName.class).length != 0) {\n        final CsvBindByName bindByNameAnnotation = field.getDeclaredAnnotationsByType(CsvBindByName.class)[0];\n        return bindByNameAnnotation.column();\n    }\n\n    if (field.getDeclaredAnnotationsByType(CsvCustomBindByName.class).length != 0) {\n        final CsvCustomBindByName bindByNameAnnotation = field.getDeclaredAnnotationsByType(CsvCustomBindByName.class)[0];\n        return bindByNameAnnotation.column();\n    }\n\n    return StringUtils.EMPTY;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":13273765,"reputation":316,"user_id":9583820,"display_name":"Anton Kumpan"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1570546641,"creation_date":1541157671,"answer_id":53117647,"question_id":45203867,"body_markdown":"I wanted to achieve bi-directional import/export - to be able to import generated CSV back to POJO and visa versa. \r\n\r\nI was not able to use @CsvBindByPosition for this, because in this case - ColumnPositionMappingStrategy was selected automatically. Per documents: [this strategy requires that the file does NOT have a header][1].\r\n\r\n#What I&#39;ve used to achieve the goal:#\r\n\r\n    HeaderColumnNameMappingStrategy\r\n    mappingStrategy.setColumnOrderOnWrite(Comparator&lt;String&gt; writeOrder)\r\n\r\n**CsvUtils to read/write csv**\r\n\r\n    import com.opencsv.CSVWriter;\r\n    import com.opencsv.bean.*;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import java.io.*;\r\n    import java.util.List;\r\n    \r\n    public class CsvUtils {\r\n        private CsvUtils() {\r\n        }\r\n    \r\n        public static &lt;T&gt; String convertToCsv(List&lt;T&gt; entitiesList, MappingStrategy&lt;T&gt; mappingStrategy) throws Exception {\r\n            try (Writer writer = new StringWriter()) {\r\n                StatefulBeanToCsv&lt;T&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;T&gt;(writer)\r\n                        .withMappingStrategy(mappingStrategy)\r\n                        .withQuotechar(CSVWriter.NO_QUOTE_CHARACTER)\r\n                        .build();\r\n                beanToCsv.write(entitiesList);\r\n                return writer.toString();\r\n            }\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static &lt;T&gt; List&lt;T&gt; convertFromCsv(MultipartFile file, Class clazz) throws IOException {\r\n            try (Reader reader = new BufferedReader(new InputStreamReader(file.getInputStream()))) {\r\n                CsvToBean&lt;T&gt; csvToBean = new CsvToBeanBuilder&lt;T&gt;(reader).withType(clazz).build();\r\n                return csvToBean.parse();\r\n            }\r\n        }\r\n    }\r\n\r\n**POJO for import/export**\r\n\r\n    public class LocalBusinessTrainingPairDTO {\r\n        //this is used for CSV columns ordering on exporting LocalBusinessTrainingPairs\r\n        public static final String[] FIELDS_ORDER = {&quot;leftId&quot;, &quot;leftName&quot;, &quot;rightId&quot;, &quot;rightName&quot;};\r\n    \r\n        @CsvBindByName(column = &quot;leftId&quot;)\r\n        private int leftId;\r\n    \r\n        @CsvBindByName(column = &quot;leftName&quot;)\r\n        private String leftName;\r\n    \r\n        @CsvBindByName(column = &quot;rightId&quot;)\r\n        private int rightId;\r\n\r\n        @CsvBindByName(column = &quot;rightName&quot;)\r\n        private String rightName;\r\n        // getters/setters omitted, do not forget to add them\r\n    }\r\n\r\n**Custom comparator for predefined String ordering:**\r\n\r\n    public class OrderedComparatorIgnoringCase implements Comparator&lt;String&gt; {\r\n        private List&lt;String&gt; predefinedOrder;\r\n    \r\n        public OrderedComparatorIgnoringCase(String[] predefinedOrder) {\r\n            this.predefinedOrder = new ArrayList&lt;&gt;();\r\n            for (String item : predefinedOrder) {\r\n                this.predefinedOrder.add(item.toLowerCase());\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int compare(String o1, String o2) {\r\n            return predefinedOrder.indexOf(o1.toLowerCase()) - predefinedOrder.indexOf(o2.toLowerCase());\r\n        }\r\n    }\r\n\r\n**Ordered writing for POJO (answer to initial question)** \r\n\r\n    public static void main(String[] args) throws Exception {\r\n         List&lt;LocalBusinessTrainingPairDTO&gt; localBusinessTrainingPairsDTO = new ArrayList&lt;&gt;();\r\n         LocalBusinessTrainingPairDTO localBusinessTrainingPairDTO = new LocalBusinessTrainingPairDTO();\r\n         localBusinessTrainingPairDTO.setLeftId(1);\r\n         localBusinessTrainingPairDTO.setLeftName(&quot;leftName&quot;);\r\n         localBusinessTrainingPairDTO.setRightId(2);\r\n         localBusinessTrainingPairDTO.setRightName(&quot;rightName&quot;);\r\n\r\n         localBusinessTrainingPairsDTO.add(localBusinessTrainingPairDTO);\r\n\r\n         //Creating HeaderColumnNameMappingStrategy\r\n         HeaderColumnNameMappingStrategy&lt;LocalBusinessTrainingPairDTO&gt; mappingStrategy = new HeaderColumnNameMappingStrategy&lt;&gt;();\r\n         mappingStrategy.setType(LocalBusinessTrainingPairDTO.class);\r\n         //Setting predefined order using String comparator\r\n         mappingStrategy.setColumnOrderOnWrite(new OrderedComparatorIgnoringCase(LocalBusinessTrainingPairDTO.FIELDS_ORDER));\r\n         String csv = convertToCsv(localBusinessTrainingPairsDTO, mappingStrategy);\r\n         System.out.println(csv);\r\n    }\r\n\r\n**Read exported CSV back to POJO (addition to original answer)**\r\n\r\n**Important: CSV can be unordered, as we are still using binding by name:**\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        //omitted code from writing\r\n        String csv = convertToCsv(localBusinessTrainingPairsDTO, mappingStrategy);\r\n\r\n        //Exported CSV should be compatible for further import\r\n        File temp = File.createTempFile(&quot;tempTrainingPairs&quot;, &quot;.csv&quot;);\r\n        temp.deleteOnExit();\r\n        BufferedWriter bw = new BufferedWriter(new FileWriter(temp));\r\n        bw.write(csv);\r\n        bw.close();\r\n        MultipartFile multipartFile = new MockMultipartFile(&quot;tempTrainingPairs.csv&quot;, new FileInputStream(temp));\r\n\r\n        List&lt;LocalBusinessTrainingPairDTO&gt; localBusinessTrainingPairDTOList = convertFromCsv(multipartFile, LocalBusinessTrainingPairDTO.class);\r\n    }\r\n\r\n\r\n#To conclude:#\r\n\r\n 1. We can read CSV to POJO, regardless of column order - because we are\r\n    using @CsvBindByName \r\n 2. We can control columns order on write using\r\n    custom comparator\r\n\r\n  [1]: http://opencsv.sourceforge.net/jacoco/com.opencsv.bean/ColumnPositionMappingStrategy.java.html\r\n","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>I wanted to achieve bi-directional import/export - to be able to import generated CSV back to POJO and visa versa. </p>\n\n<p>I was not able to use @CsvBindByPosition for this, because in this case - ColumnPositionMappingStrategy was selected automatically. Per documents: <a href=\"http://opencsv.sourceforge.net/jacoco/com.opencsv.bean/ColumnPositionMappingStrategy.java.html\" rel=\"noreferrer\">this strategy requires that the file does NOT have a header</a>.</p>\n\n<h1>What I've used to achieve the goal:</h1>\n\n<pre><code>HeaderColumnNameMappingStrategy\nmappingStrategy.setColumnOrderOnWrite(Comparator&lt;String&gt; writeOrder)\n</code></pre>\n\n<p><strong>CsvUtils to read/write csv</strong></p>\n\n<pre><code>import com.opencsv.CSVWriter;\nimport com.opencsv.bean.*;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.io.*;\nimport java.util.List;\n\npublic class CsvUtils {\n    private CsvUtils() {\n    }\n\n    public static &lt;T&gt; String convertToCsv(List&lt;T&gt; entitiesList, MappingStrategy&lt;T&gt; mappingStrategy) throws Exception {\n        try (Writer writer = new StringWriter()) {\n            StatefulBeanToCsv&lt;T&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;T&gt;(writer)\n                    .withMappingStrategy(mappingStrategy)\n                    .withQuotechar(CSVWriter.NO_QUOTE_CHARACTER)\n                    .build();\n            beanToCsv.write(entitiesList);\n            return writer.toString();\n        }\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;T&gt; List&lt;T&gt; convertFromCsv(MultipartFile file, Class clazz) throws IOException {\n        try (Reader reader = new BufferedReader(new InputStreamReader(file.getInputStream()))) {\n            CsvToBean&lt;T&gt; csvToBean = new CsvToBeanBuilder&lt;T&gt;(reader).withType(clazz).build();\n            return csvToBean.parse();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>POJO for import/export</strong></p>\n\n<pre><code>public class LocalBusinessTrainingPairDTO {\n    //this is used for CSV columns ordering on exporting LocalBusinessTrainingPairs\n    public static final String[] FIELDS_ORDER = {\"leftId\", \"leftName\", \"rightId\", \"rightName\"};\n\n    @CsvBindByName(column = \"leftId\")\n    private int leftId;\n\n    @CsvBindByName(column = \"leftName\")\n    private String leftName;\n\n    @CsvBindByName(column = \"rightId\")\n    private int rightId;\n\n    @CsvBindByName(column = \"rightName\")\n    private String rightName;\n    // getters/setters omitted, do not forget to add them\n}\n</code></pre>\n\n<p><strong>Custom comparator for predefined String ordering:</strong></p>\n\n<pre><code>public class OrderedComparatorIgnoringCase implements Comparator&lt;String&gt; {\n    private List&lt;String&gt; predefinedOrder;\n\n    public OrderedComparatorIgnoringCase(String[] predefinedOrder) {\n        this.predefinedOrder = new ArrayList&lt;&gt;();\n        for (String item : predefinedOrder) {\n            this.predefinedOrder.add(item.toLowerCase());\n        }\n    }\n\n    @Override\n    public int compare(String o1, String o2) {\n        return predefinedOrder.indexOf(o1.toLowerCase()) - predefinedOrder.indexOf(o2.toLowerCase());\n    }\n}\n</code></pre>\n\n<p><strong>Ordered writing for POJO (answer to initial question)</strong> </p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n     List&lt;LocalBusinessTrainingPairDTO&gt; localBusinessTrainingPairsDTO = new ArrayList&lt;&gt;();\n     LocalBusinessTrainingPairDTO localBusinessTrainingPairDTO = new LocalBusinessTrainingPairDTO();\n     localBusinessTrainingPairDTO.setLeftId(1);\n     localBusinessTrainingPairDTO.setLeftName(\"leftName\");\n     localBusinessTrainingPairDTO.setRightId(2);\n     localBusinessTrainingPairDTO.setRightName(\"rightName\");\n\n     localBusinessTrainingPairsDTO.add(localBusinessTrainingPairDTO);\n\n     //Creating HeaderColumnNameMappingStrategy\n     HeaderColumnNameMappingStrategy&lt;LocalBusinessTrainingPairDTO&gt; mappingStrategy = new HeaderColumnNameMappingStrategy&lt;&gt;();\n     mappingStrategy.setType(LocalBusinessTrainingPairDTO.class);\n     //Setting predefined order using String comparator\n     mappingStrategy.setColumnOrderOnWrite(new OrderedComparatorIgnoringCase(LocalBusinessTrainingPairDTO.FIELDS_ORDER));\n     String csv = convertToCsv(localBusinessTrainingPairsDTO, mappingStrategy);\n     System.out.println(csv);\n}\n</code></pre>\n\n<p><strong>Read exported CSV back to POJO (addition to original answer)</strong></p>\n\n<p><strong>Important: CSV can be unordered, as we are still using binding by name:</strong></p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    //omitted code from writing\n    String csv = convertToCsv(localBusinessTrainingPairsDTO, mappingStrategy);\n\n    //Exported CSV should be compatible for further import\n    File temp = File.createTempFile(\"tempTrainingPairs\", \".csv\");\n    temp.deleteOnExit();\n    BufferedWriter bw = new BufferedWriter(new FileWriter(temp));\n    bw.write(csv);\n    bw.close();\n    MultipartFile multipartFile = new MockMultipartFile(\"tempTrainingPairs.csv\", new FileInputStream(temp));\n\n    List&lt;LocalBusinessTrainingPairDTO&gt; localBusinessTrainingPairDTOList = convertFromCsv(multipartFile, LocalBusinessTrainingPairDTO.class);\n}\n</code></pre>\n\n<h1>To conclude:</h1>\n\n<ol>\n<li>We can read CSV to POJO, regardless of column order - because we are\nusing @CsvBindByName </li>\n<li>We can control columns order on write using\ncustom comparator</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9873609,"reputation":51,"user_id":7312240,"display_name":"Kalya Elisha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541793397,"creation_date":1541787774,"answer_id":53231367,"question_id":45203867,"body_markdown":"Try something like below:\r\n\r\n    private static class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n\r\n        String[] header;\r\n\r\n        public CustomMappingStrategy(String[] cols) {\r\n            header = cols;\r\n        }\r\n\r\n        @Override\r\n        public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\r\n            return header;\r\n        }\r\n    }\r\n\r\n\r\nThen use it as follows:\r\n\r\n    String[] columns = new String[]{&quot;Name&quot;, &quot;Age&quot;, &quot;Company&quot;, &quot;Salary&quot;};\r\n            CustomMappingStrategy&lt;Employee&gt; mappingStrategy = new CustomMappingStrategy&lt;Employee&gt;(columns);\r\n\r\nWhere columns are columns of your bean and Employee is your bean\r\n","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>Try something like below:</p>\n\n<pre><code>private static class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\n\n    String[] header;\n\n    public CustomMappingStrategy(String[] cols) {\n        header = cols;\n    }\n\n    @Override\n    public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\n        return header;\n    }\n}\n</code></pre>\n\n<p>Then use it as follows:</p>\n\n<pre><code>String[] columns = new String[]{\"Name\", \"Age\", \"Company\", \"Salary\"};\n        CustomMappingStrategy&lt;Employee&gt; mappingStrategy = new CustomMappingStrategy&lt;Employee&gt;(columns);\n</code></pre>\n\n<p>Where columns are columns of your bean and Employee is your bean</p>\n"},{"tags":[],"owner":{"account_id":1450912,"reputation":3006,"user_id":4250037,"display_name":"wrb"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561132700,"creation_date":1561132700,"answer_id":56706855,"question_id":45203867,"body_markdown":"If you&#39;re only interested in sorting the CSV columns based on the order in which member variables appear in your model class (`CsvRow` row in this example), then you can use a `Comparator` implementation to solve this in a rather simple manner. Here&#39;s an example that does this in Kotlin:\r\n\r\n&lt;!-- language: lang-kotlin --&gt;\r\n\r\n    class ByMemberOrderCsvComparator : Comparator&lt;String&gt; {\r\n    \r\n        private val memberOrder by lazy {\r\n            FieldUtils.getAllFields(CsvRow::class.java)\r\n                    .map { it.getDeclaredAnnotation(CsvBindByName::class.java) }\r\n                    .map { it?.column ?: &quot;&quot; }\r\n                    .map { it.toUpperCase(Locale.US) } // OpenCSV UpperCases all headers, so we do this to match\r\n        }\r\n    \r\n        override fun compare(field1: String?, field2: String?): Int {\r\n            return memberOrder.indexOf(field1) - memberOrder.indexOf(field2)\r\n        }\r\n    \r\n    }\r\n\r\nThis `Comparator` does the following:\r\n\r\n1. Fetches each member variable field in our data class (`CsvRow`)\r\n2. Finds all the ones with the `@CsvBindByName` annotation (in the order you specified them in the `CsvRow` model)\r\n3. Upper cases each to match the default OpenCsv implementation\r\n\r\nNext, apply this `Comparator` to your `MappingStrategy`, so it&#39;ll sort based off the specified order:\r\n\r\n&lt;!-- language: lang-kotlin --&gt;\r\n\r\n    val mappingStrategy = HeaderColumnNameMappingStrategy&lt;OrderSummaryCsvRow&gt;()\r\n    mappingStrategy.setColumnOrderOnWrite(ByMemberOrderCsvComparator())\r\n    mappingStrategy.type = CsvRow::class.java\r\n    mappingStrategy.setErrorLocale(Locale.US)\r\n    \r\n    val csvWriter = StatefulBeanToCsvBuilder&lt;OrderSummaryCsvRow&gt;(writer)\r\n                        .withMappingStrategy(mappingStrategy)\r\n                        .build()\r\n\r\n----\r\n\r\nFor reference, here&#39;s an example `CsvRow` class (you&#39;ll want to replace this with your own model for your needs):\r\n\r\n&lt;!-- language: lang-kotlin --&gt;\r\n\r\n    data class CsvRow(\r\n        @CsvBindByName(column = &quot;Column 1&quot;)\r\n        val column1: String,\r\n    \r\n        @CsvBindByName(column = &quot;Column 2&quot;)\r\n        val column2: String,\r\n    \r\n        @CsvBindByName(column = &quot;Column 3&quot;)\r\n        val column3: String,\r\n    \r\n        // Other columns here ...\r\n    )\r\n\r\nWhich would produce a CSV as follows:\r\n\r\n```\r\n&quot;COLUMN 1&quot;,&quot;COLUMN 2&quot;,&quot;COLUMN 3&quot;,...\r\n&quot;value 1a&quot;,&quot;value 2a&quot;,&quot;value 3a&quot;,...\r\n&quot;value 1b&quot;,&quot;value 2b&quot;,&quot;value 3b&quot;,...\r\n```\r\n\r\nThe benefit of this approach is that it removes the need to hard-code any of your column names, which should greatly simplify things if you ever need to add/remove columns.","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>If you're only interested in sorting the CSV columns based on the order in which member variables appear in your model class (<code>CsvRow</code> row in this example), then you can use a <code>Comparator</code> implementation to solve this in a rather simple manner. Here's an example that does this in Kotlin:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ByMemberOrderCsvComparator : Comparator&lt;String&gt; {\n\n    private val memberOrder by lazy {\n        FieldUtils.getAllFields(CsvRow::class.java)\n                .map { it.getDeclaredAnnotation(CsvBindByName::class.java) }\n                .map { it?.column ?: \"\" }\n                .map { it.toUpperCase(Locale.US) } // OpenCSV UpperCases all headers, so we do this to match\n    }\n\n    override fun compare(field1: String?, field2: String?): Int {\n        return memberOrder.indexOf(field1) - memberOrder.indexOf(field2)\n    }\n\n}\n</code></pre>\n\n<p>This <code>Comparator</code> does the following:</p>\n\n<ol>\n<li>Fetches each member variable field in our data class (<code>CsvRow</code>)</li>\n<li>Finds all the ones with the <code>@CsvBindByName</code> annotation (in the order you specified them in the <code>CsvRow</code> model)</li>\n<li>Upper cases each to match the default OpenCsv implementation</li>\n</ol>\n\n<p>Next, apply this <code>Comparator</code> to your <code>MappingStrategy</code>, so it'll sort based off the specified order:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val mappingStrategy = HeaderColumnNameMappingStrategy&lt;OrderSummaryCsvRow&gt;()\nmappingStrategy.setColumnOrderOnWrite(ByMemberOrderCsvComparator())\nmappingStrategy.type = CsvRow::class.java\nmappingStrategy.setErrorLocale(Locale.US)\n\nval csvWriter = StatefulBeanToCsvBuilder&lt;OrderSummaryCsvRow&gt;(writer)\n                    .withMappingStrategy(mappingStrategy)\n                    .build()\n</code></pre>\n\n<hr>\n\n<p>For reference, here's an example <code>CsvRow</code> class (you'll want to replace this with your own model for your needs):</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class CsvRow(\n    @CsvBindByName(column = \"Column 1\")\n    val column1: String,\n\n    @CsvBindByName(column = \"Column 2\")\n    val column2: String,\n\n    @CsvBindByName(column = \"Column 3\")\n    val column3: String,\n\n    // Other columns here ...\n)\n</code></pre>\n\n<p>Which would produce a CSV as follows:</p>\n\n<pre><code>\"COLUMN 1\",\"COLUMN 2\",\"COLUMN 3\",...\n\"value 1a\",\"value 2a\",\"value 3a\",...\n\"value 1b\",\"value 2b\",\"value 3b\",...\n</code></pre>\n\n<p>The benefit of this approach is that it removes the need to hard-code any of your column names, which should greatly simplify things if you ever need to add/remove columns.</p>\n"},{"tags":[],"owner":{"account_id":1290399,"reputation":523,"user_id":5374740,"accept_rate":0,"display_name":"Lex Luthor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571281666,"creation_date":1571221545,"answer_id":58411115,"question_id":45203867,"body_markdown":"I&#39;ve improved on previous answers by removing all references to deprecated APIs while using the latest release of [opencsv][1] (4.6).\r\n\r\n## A Generic Kotlin Solution\r\n\r\n```kotlin\r\n/**\r\n * Custom OpenCSV [ColumnPositionMappingStrategy] that allows for a header line to be generated from a target CSV\r\n * bean model class using the following annotations when present:\r\n * * [CsvBindByName]\r\n * * [CsvCustomBindByName]\r\n */\r\nclass CustomMappingStrategy&lt;T&gt;(private val beanType: Class&lt;T&gt;) : ColumnPositionMappingStrategy&lt;T&gt;() {\r\n    init {\r\n        setType(beanType)\r\n        setColumnMapping(*getAnnotatedFields().map { it.extractHeaderName() }.toTypedArray())\r\n    }\r\n\r\n    override fun generateHeader(bean: T): Array&lt;String&gt; = columnMapping\r\n\r\n    private fun getAnnotatedFields() = beanType.declaredFields.filter { it.isAnnotatedByName() }.toList()\r\n\r\n    private fun Field.isAnnotatedByName() = isAnnotationPresent(CsvBindByName::class.java) || isAnnotationPresent(CsvCustomBindByName::class.java)\r\n\r\n    private fun Field.extractHeaderName() =\r\n        getAnnotation(CsvBindByName::class.java)?.column ?: getAnnotation(CsvCustomBindByName::class.java)?.column ?: EMPTY\r\n}\r\n```\r\n\r\nThen use it as follows:\r\n\r\n```kotlin\r\nprivate fun csvBuilder(writer: Writer) =\r\n    StatefulBeanToCsvBuilder&lt;MappingsBean&gt;(writer)\r\n        .withSeparator(ICSVWriter.DEFAULT_SEPARATOR)\r\n        .withMappingStrategy(CustomMappingStrategy(MappingsBean::class.java))\r\n        .withApplyQuotesToAll(false)\r\n        .build()\r\n\r\n// Kotlin try-with-resources construct\r\nPrintWriter(File(&quot;$reportOutputDir/$REPORT_FILENAME&quot;)).use { writer -&gt;\r\n    csvBuilder(writer).write(makeFinalMappingBeanList())\r\n}\r\n```\r\n\r\nand for completeness, here&#39;s the CSV bean as a Kotlin data class:\r\n\r\n```kotlin\r\ndata class MappingsBean(\r\n    @field:CsvBindByName(column = &quot;TradeID&quot;)\r\n    @field:CsvBindByPosition(position = 0, required = true)\r\n    private val tradeId: String,\r\n\r\n    @field:CsvBindByName(column = &quot;GWML GUID&quot;, required = true)\r\n    @field:CsvBindByPosition(position = 1)\r\n    private val gwmlGUID: String,\r\n\r\n    @field:CsvBindByName(column = &quot;MXML GUID&quot;, required = true)\r\n    @field:CsvBindByPosition(position = 2)\r\n    private val mxmlGUID: String,\r\n\r\n    @field:CsvBindByName(column = &quot;GWML File&quot;)\r\n    @field:CsvBindByPosition(position = 3)\r\n    private val gwmlFile: String? = null,\r\n\r\n    @field:CsvBindByName(column = &quot;MxML File&quot;)\r\n    @field:CsvBindByPosition(position = 4)\r\n    private val mxmlFile: String? = null,\r\n\r\n    @field:CsvBindByName(column = &quot;MxML Counterparty&quot;)\r\n    @field:CsvBindByPosition(position = 5)\r\n    private val mxmlCounterParty: String? = null,\r\n\r\n    @field:CsvBindByName(column = &quot;GWML Counterparty&quot;)\r\n    @field:CsvBindByPosition(position = 6)\r\n    private val gwmlCounterParty: String? = null\r\n)\r\n```\r\n\r\n  [1]: http://opencsv.sourceforge.net/","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>I've improved on previous answers by removing all references to deprecated APIs while using the latest release of <a href=\"http://opencsv.sourceforge.net/\" rel=\"nofollow noreferrer\">opencsv</a> (4.6).</p>\n\n<h2>A Generic Kotlin Solution</h2>\n\n<pre><code>/**\n * Custom OpenCSV [ColumnPositionMappingStrategy] that allows for a header line to be generated from a target CSV\n * bean model class using the following annotations when present:\n * * [CsvBindByName]\n * * [CsvCustomBindByName]\n */\nclass CustomMappingStrategy&lt;T&gt;(private val beanType: Class&lt;T&gt;) : ColumnPositionMappingStrategy&lt;T&gt;() {\n    init {\n        setType(beanType)\n        setColumnMapping(*getAnnotatedFields().map { it.extractHeaderName() }.toTypedArray())\n    }\n\n    override fun generateHeader(bean: T): Array&lt;String&gt; = columnMapping\n\n    private fun getAnnotatedFields() = beanType.declaredFields.filter { it.isAnnotatedByName() }.toList()\n\n    private fun Field.isAnnotatedByName() = isAnnotationPresent(CsvBindByName::class.java) || isAnnotationPresent(CsvCustomBindByName::class.java)\n\n    private fun Field.extractHeaderName() =\n        getAnnotation(CsvBindByName::class.java)?.column ?: getAnnotation(CsvCustomBindByName::class.java)?.column ?: EMPTY\n}\n</code></pre>\n\n<p>Then use it as follows:</p>\n\n<pre><code>private fun csvBuilder(writer: Writer) =\n    StatefulBeanToCsvBuilder&lt;MappingsBean&gt;(writer)\n        .withSeparator(ICSVWriter.DEFAULT_SEPARATOR)\n        .withMappingStrategy(CustomMappingStrategy(MappingsBean::class.java))\n        .withApplyQuotesToAll(false)\n        .build()\n\n// Kotlin try-with-resources construct\nPrintWriter(File(\"$reportOutputDir/$REPORT_FILENAME\")).use { writer -&gt;\n    csvBuilder(writer).write(makeFinalMappingBeanList())\n}\n</code></pre>\n\n<p>and for completeness, here's the CSV bean as a Kotlin data class:</p>\n\n<pre><code>data class MappingsBean(\n    @field:CsvBindByName(column = \"TradeID\")\n    @field:CsvBindByPosition(position = 0, required = true)\n    private val tradeId: String,\n\n    @field:CsvBindByName(column = \"GWML GUID\", required = true)\n    @field:CsvBindByPosition(position = 1)\n    private val gwmlGUID: String,\n\n    @field:CsvBindByName(column = \"MXML GUID\", required = true)\n    @field:CsvBindByPosition(position = 2)\n    private val mxmlGUID: String,\n\n    @field:CsvBindByName(column = \"GWML File\")\n    @field:CsvBindByPosition(position = 3)\n    private val gwmlFile: String? = null,\n\n    @field:CsvBindByName(column = \"MxML File\")\n    @field:CsvBindByPosition(position = 4)\n    private val mxmlFile: String? = null,\n\n    @field:CsvBindByName(column = \"MxML Counterparty\")\n    @field:CsvBindByPosition(position = 5)\n    private val mxmlCounterParty: String? = null,\n\n    @field:CsvBindByName(column = \"GWML Counterparty\")\n    @field:CsvBindByPosition(position = 6)\n    private val gwmlCounterParty: String? = null\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17007429,"reputation":11,"user_id":12303307,"display_name":"Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573034709,"creation_date":1573034709,"answer_id":58727563,"question_id":45203867,"body_markdown":"CustomMappingStrategy for generic class.\r\n ```\r\npublic class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n    @Override\r\n    public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\r\n\r\n    \tsuper.setColumnMapping(new String[ FieldUtils.getAllFields(bean.getClass()).length]);\r\n        final int numColumns = findMaxFieldIndex();\r\n        if (!isAnnotationDriven() || numColumns == -1) {\r\n            return super.generateHeader(bean);\r\n        }\r\n\r\n        String[] header = new String[numColumns + 1];\r\n\r\n        BeanField&lt;T&gt; beanField;\r\n        for (int i = 0; i &lt;= numColumns; i++) {\r\n            beanField = findField(i);\r\n            String columnHeaderName = extractHeaderName(beanField);\r\n            header[i] = columnHeaderName;\r\n        }\r\n        return header;\r\n    }\r\n\r\n    private String extractHeaderName(final BeanField&lt;T&gt; beanField) {\r\n        if (beanField == null || beanField.getField() == null\r\n                || beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class).length == 0) {\r\n            return StringUtils.EMPTY;\r\n        }\r\n\r\n        final CsvBindByName bindByNameAnnotation = beanField.getField()\r\n                .getDeclaredAnnotationsByType(CsvBindByName.class)[0];\r\n        return bindByNameAnnotation.column();\r\n    }\r\n}\r\n```\r\n\r\nPOJO Class\r\n```\r\n public class Customer{\r\n\r\n     @CsvBindByPosition(position=1)\r\n     @CsvBindByName(column=&quot;CUSTOMER&quot;, required = true)\r\n     private String customer;\r\n}\r\n```\r\nClient Class\r\n```\r\n List&lt;T&gt; data = getEmployeeRecord();\r\nCustomMappingStrategy custom = new CustomMappingStrategy();\r\ncustom.setType(Employee.class);\r\nStatefulBeanToCsv&lt;T&gt; writer = new StatefulBeanToCsvBuilder&lt;T&gt;(response.getWriter())\r\n\t\t\t\t.withQuotechar(CSVWriter.NO_QUOTE_CHARACTER)\r\n\t\t\t\t.withSeparator(&#39;|&#39;)\r\n\t\t\t\t.withOrderedResults(false)\r\n\t\t\t\t.withMappingStrategy(custom)\r\n\t\t\t\t.build();\r\n\t\twriter.write(reportData);\r\n```\r\n\r\n","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>CustomMappingStrategy for generic class.</p>\n\n<pre><code>public class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\n   @Override\n   public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\n\n       super.setColumnMapping(new String[ FieldUtils.getAllFields(bean.getClass()).length]);\n       final int numColumns = findMaxFieldIndex();\n       if (!isAnnotationDriven() || numColumns == -1) {\n           return super.generateHeader(bean);\n       }\n\n       String[] header = new String[numColumns + 1];\n\n       BeanField&lt;T&gt; beanField;\n       for (int i = 0; i &lt;= numColumns; i++) {\n           beanField = findField(i);\n           String columnHeaderName = extractHeaderName(beanField);\n           header[i] = columnHeaderName;\n       }\n       return header;\n   }\n\n   private String extractHeaderName(final BeanField&lt;T&gt; beanField) {\n       if (beanField == null || beanField.getField() == null\n               || beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class).length == 0) {\n           return StringUtils.EMPTY;\n       }\n\n       final CsvBindByName bindByNameAnnotation = beanField.getField()\n               .getDeclaredAnnotationsByType(CsvBindByName.class)[0];\n       return bindByNameAnnotation.column();\n   }\n}\n</code></pre>\n\n<p>POJO Class</p>\n\n<pre><code> public class Customer{\n\n     @CsvBindByPosition(position=1)\n     @CsvBindByName(column=\"CUSTOMER\", required = true)\n     private String customer;\n}\n</code></pre>\n\n<p>Client Class</p>\n\n<pre><code> List&lt;T&gt; data = getEmployeeRecord();\nCustomMappingStrategy custom = new CustomMappingStrategy();\ncustom.setType(Employee.class);\nStatefulBeanToCsv&lt;T&gt; writer = new StatefulBeanToCsvBuilder&lt;T&gt;(response.getWriter())\n                .withQuotechar(CSVWriter.NO_QUOTE_CHARACTER)\n                .withSeparator('|')\n                .withOrderedResults(false)\n                .withMappingStrategy(custom)\n                .build();\n        writer.write(reportData);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9753017,"reputation":429,"user_id":7230670,"display_name":"Vladyslav Vynnyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1578664631,"creation_date":1573046191,"answer_id":58731084,"question_id":45203867,"body_markdown":"It is a solution for version greater than 4.3:\r\n\r\n\r\n    public class MappingBean {\r\n         @CsvBindByName(column = &quot;column_a&quot;)\r\n         private String columnA;\r\n         @CsvBindByName(column = &quot;column_b&quot;)\r\n         private String columnB;\r\n         @CsvBindByName(column = &quot;column_c&quot;)\r\n         private String columnC;\r\n\r\n         // getters and setters\r\n    }\r\n\r\nAnd use it as example:\r\n\r\n    import org.apache.commons.collections4.comparators.FixedOrderComparator;\r\n...\r\n\r\n    var mappingStrategy = new HeaderColumnNameMappingStrategy&lt;MappingBean&gt;();\r\n    mappingStrategy.setType(MappingBean.class);        \r\n    mappingStrategy.setColumnOrderOnWrite(new FixedOrderComparator&lt;&gt;(&quot;COLUMN_C&quot;, &quot;COLUMN_B&quot;, &quot;COLUMN_A&quot;));\r\n\r\n    var sbc = new StatefulBeanToCsvBuilder&lt;MappingBean&gt;(writer)\r\n          .withMappingStrategy(mappingStrategy)\r\n          .build();\r\n\r\nResult:\r\n\r\ncolumn_c  |  column_b  |  column_a     ","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>It is a solution for version greater than 4.3:</p>\n\n<pre><code>public class MappingBean {\n     @CsvBindByName(column = \"column_a\")\n     private String columnA;\n     @CsvBindByName(column = \"column_b\")\n     private String columnB;\n     @CsvBindByName(column = \"column_c\")\n     private String columnC;\n\n     // getters and setters\n}\n</code></pre>\n\n<p>And use it as example:</p>\n\n<pre><code>import org.apache.commons.collections4.comparators.FixedOrderComparator;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>var mappingStrategy = new HeaderColumnNameMappingStrategy&lt;MappingBean&gt;();\nmappingStrategy.setType(MappingBean.class);        \nmappingStrategy.setColumnOrderOnWrite(new FixedOrderComparator&lt;&gt;(\"COLUMN_C\", \"COLUMN_B\", \"COLUMN_A\"));\n\nvar sbc = new StatefulBeanToCsvBuilder&lt;MappingBean&gt;(writer)\n      .withMappingStrategy(mappingStrategy)\n      .build();\n</code></pre>\n\n<p>Result:</p>\n\n<p>column_c  |  column_b  |  column_a     </p>\n"},{"tags":[],"owner":{"account_id":387081,"reputation":1374,"user_id":745224,"accept_rate":70,"display_name":"dirkvranckaert"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1573637471,"creation_date":1573637471,"answer_id":58833974,"question_id":45203867,"body_markdown":"In the latest version the solution of @Sebast26 does no longer work. However the basic is still very good. Here is a working solution with v5.0\r\n\r\n    import com.opencsv.bean.BeanField;\r\n    import com.opencsv.bean.ColumnPositionMappingStrategy;\r\n    import com.opencsv.bean.CsvBindByName;\r\n    import com.opencsv.exceptions.CsvRequiredFieldEmptyException;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n    class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n        @Override\r\n        public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\r\n            final int numColumns = getFieldMap().values().size();\r\n            super.generateHeader(bean);\r\n    \r\n            String[] header = new String[numColumns];\r\n    \r\n            BeanField beanField;\r\n            for (int i = 0; i &lt; numColumns; i++) {\r\n                beanField = findField(i);\r\n                String columnHeaderName = extractHeaderName(beanField);\r\n                header[i] = columnHeaderName;\r\n            }\r\n            return header;\r\n        }\r\n    \r\n        private String extractHeaderName(final BeanField beanField) {\r\n            if (beanField == null || beanField.getField() == null || beanField.getField().getDeclaredAnnotationsByType(\r\n                    CsvBindByName.class).length == 0) {\r\n                return StringUtils.EMPTY;\r\n            }\r\n    \r\n            final CsvBindByName bindByNameAnnotation = beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class)[0];\r\n            return bindByNameAnnotation.column();\r\n        }\r\n    }\r\n\r\nAnd the model looks like this:\r\n\r\n    @CsvBindByName(column = &quot;id&quot;)\r\n    @CsvBindByPosition(position = 0)\r\n    private Long id;\r\n    @CsvBindByName(column = &quot;name&quot;)\r\n    @CsvBindByPosition(position = 1)\r\n    private String name;\r\n\r\nAnd my generation helper looks something like this:\r\n\r\n    public static &lt;T extends AbstractCsv&gt; String createCsv(List&lt;T&gt; data, Class&lt;T&gt; beanClazz) {\r\n        CustomMappingStrategy&lt;T&gt; mappingStrategy = new CustomMappingStrategy&lt;T&gt;();\r\n        mappingStrategy.setType(beanClazz);\r\n\r\n        StringWriter writer = new StringWriter();\r\n        String csv = &quot;&quot;;\r\n        try {\r\n            StatefulBeanToCsv sbc = new StatefulBeanToCsvBuilder(writer)\r\n                    .withSeparator(&#39;;&#39;)\r\n                    .withMappingStrategy(mappingStrategy)\r\n                    .build();\r\n            sbc.write(data);\r\n            csv = writer.toString();\r\n        } catch (CsvRequiredFieldEmptyException e) {\r\n            // TODO add some logging...\r\n        } catch (CsvDataTypeMismatchException e) {\r\n            // TODO add some logging...\r\n        } finally {\r\n            try {\r\n                writer.close();\r\n            } catch (IOException e) {\r\n            }\r\n        }\r\n        return csv;\r\n    }","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>In the latest version the solution of @Sebast26 does no longer work. However the basic is still very good. Here is a working solution with v5.0</p>\n\n<pre><code>import com.opencsv.bean.BeanField;\nimport com.opencsv.bean.ColumnPositionMappingStrategy;\nimport com.opencsv.bean.CsvBindByName;\nimport com.opencsv.exceptions.CsvRequiredFieldEmptyException;\nimport org.apache.commons.lang3.StringUtils;\n\nclass CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\n    @Override\n    public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\n        final int numColumns = getFieldMap().values().size();\n        super.generateHeader(bean);\n\n        String[] header = new String[numColumns];\n\n        BeanField beanField;\n        for (int i = 0; i &lt; numColumns; i++) {\n            beanField = findField(i);\n            String columnHeaderName = extractHeaderName(beanField);\n            header[i] = columnHeaderName;\n        }\n        return header;\n    }\n\n    private String extractHeaderName(final BeanField beanField) {\n        if (beanField == null || beanField.getField() == null || beanField.getField().getDeclaredAnnotationsByType(\n                CsvBindByName.class).length == 0) {\n            return StringUtils.EMPTY;\n        }\n\n        final CsvBindByName bindByNameAnnotation = beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class)[0];\n        return bindByNameAnnotation.column();\n    }\n}\n</code></pre>\n\n<p>And the model looks like this:</p>\n\n<pre><code>@CsvBindByName(column = \"id\")\n@CsvBindByPosition(position = 0)\nprivate Long id;\n@CsvBindByName(column = \"name\")\n@CsvBindByPosition(position = 1)\nprivate String name;\n</code></pre>\n\n<p>And my generation helper looks something like this:</p>\n\n<pre><code>public static &lt;T extends AbstractCsv&gt; String createCsv(List&lt;T&gt; data, Class&lt;T&gt; beanClazz) {\n    CustomMappingStrategy&lt;T&gt; mappingStrategy = new CustomMappingStrategy&lt;T&gt;();\n    mappingStrategy.setType(beanClazz);\n\n    StringWriter writer = new StringWriter();\n    String csv = \"\";\n    try {\n        StatefulBeanToCsv sbc = new StatefulBeanToCsvBuilder(writer)\n                .withSeparator(';')\n                .withMappingStrategy(mappingStrategy)\n                .build();\n        sbc.write(data);\n        csv = writer.toString();\n    } catch (CsvRequiredFieldEmptyException e) {\n        // TODO add some logging...\n    } catch (CsvDataTypeMismatchException e) {\n        // TODO add some logging...\n    } finally {\n        try {\n            writer.close();\n        } catch (IOException e) {\n        }\n    }\n    return csv;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4941568,"reputation":389,"user_id":3978128,"display_name":"maimArt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574671189,"creation_date":1574671189,"answer_id":59027876,"question_id":45203867,"body_markdown":"I think the intended and most flexible way of handling the order of the header columns is to inject a comparator by HeaderColumnNameMappinStrategy.setColumnOrderOnWrite().\r\n\r\nFor me the most intuitive way was to write the CSV columns in the same order as they are specified in the CsvBean, but you can also adjust the Comparator to make use of your own annotations where you specify the order. Don&#180;t forget to rename the Comparator class then ;)\r\n\r\nIntegration:\r\n\r\n    HeaderColumnNameMappingStrategy&lt;MyCsvBean&gt; mappingStrategy = new HeaderColumnNameMappingStrategy&lt;&gt;();\r\n        mappingStrategy.setType(MyCsvBean.class);\r\n        mappingStrategy.setColumnOrderOnWrite(new ClassFieldOrderComparator(MyCsvBean.class));\r\n    \r\nComparator:\r\n\r\n    private class ClassFieldOrderComparator implements Comparator&lt;String&gt; {\r\n\r\n        List&lt;String&gt; fieldNamesInOrderWithinClass;\r\n\r\n        public ClassFieldOrderComparator(Class&lt;?&gt; clazz) {\r\n            fieldNamesInOrderWithinClass = Arrays.stream(clazz.getDeclaredFields())\r\n                    .filter(field -&gt; field.getAnnotation(CsvBindByName.class) != null)\r\n                  // Handle order by your custom annotation here\r\n                  //.sorted((field1, field2) -&gt; {\r\n                  //   int field1Order = field1.getAnnotation(YourCustomOrderAnnotation.class).getOrder();\r\n                  //   int field2Order = field2.getAnnotation(YourCustomOrderAnnotation.class).getOrder();\r\n                  //   return Integer.compare(field1Order, field2Order);\r\n                  //})\r\n                    .map(field -&gt; field.getName().toUpperCase())\r\n                    .collect(Collectors.toList());\r\n        }\r\n\r\n        @Override\r\n        public int compare(String o1, String o2) {\r\n            int fieldIndexo1 = fieldNamesInOrderWithinClass.indexOf(o1);\r\n            int fieldIndexo2 = fieldNamesInOrderWithinClass.indexOf(o2);\r\n            return Integer.compare(fieldIndexo1, fieldIndexo2);\r\n        }\r\n    }\r\n\r\n","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>I think the intended and most flexible way of handling the order of the header columns is to inject a comparator by HeaderColumnNameMappinStrategy.setColumnOrderOnWrite().</p>\n\n<p>For me the most intuitive way was to write the CSV columns in the same order as they are specified in the CsvBean, but you can also adjust the Comparator to make use of your own annotations where you specify the order. Don´t forget to rename the Comparator class then ;)</p>\n\n<p>Integration:</p>\n\n<pre><code>HeaderColumnNameMappingStrategy&lt;MyCsvBean&gt; mappingStrategy = new HeaderColumnNameMappingStrategy&lt;&gt;();\n    mappingStrategy.setType(MyCsvBean.class);\n    mappingStrategy.setColumnOrderOnWrite(new ClassFieldOrderComparator(MyCsvBean.class));\n</code></pre>\n\n<p>Comparator:</p>\n\n<pre><code>private class ClassFieldOrderComparator implements Comparator&lt;String&gt; {\n\n    List&lt;String&gt; fieldNamesInOrderWithinClass;\n\n    public ClassFieldOrderComparator(Class&lt;?&gt; clazz) {\n        fieldNamesInOrderWithinClass = Arrays.stream(clazz.getDeclaredFields())\n                .filter(field -&gt; field.getAnnotation(CsvBindByName.class) != null)\n              // Handle order by your custom annotation here\n              //.sorted((field1, field2) -&gt; {\n              //   int field1Order = field1.getAnnotation(YourCustomOrderAnnotation.class).getOrder();\n              //   int field2Order = field2.getAnnotation(YourCustomOrderAnnotation.class).getOrder();\n              //   return Integer.compare(field1Order, field2Order);\n              //})\n                .map(field -&gt; field.getName().toUpperCase())\n                .collect(Collectors.toList());\n    }\n\n    @Override\n    public int compare(String o1, String o2) {\n        int fieldIndexo1 = fieldNamesInOrderWithinClass.indexOf(o1);\n        int fieldIndexo2 = fieldNamesInOrderWithinClass.indexOf(o2);\n        return Integer.compare(fieldIndexo1, fieldIndexo2);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11674395,"reputation":1,"user_id":8548450,"display_name":"Shiv Guns"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578597185,"creation_date":1578597016,"answer_id":59670643,"question_id":45203867,"body_markdown":"Great thread, I don&#39;t have any annotations in my pojo and this is how I did based on all the previous answers. Hope it helps others.\r\n\r\nOpenCsv Version: 5.0\r\n                List&lt;FinVendor&gt; readVendors = getFromMethod();\r\n                String[] fields= {&quot;id&quot;,&quot;recordNumber&quot;,&quot;finVendorIdTb&quot;,&quot;finVenTechIdTb&quot;,&quot;finShortNameTb&quot;,&quot;finVenName1Tb&quot;,&quot;finVenName2Tb&quot;};\r\n\r\n                String[] csvHeader= {&quot;Id#&quot;,&quot;Shiv Record Number&quot;,&quot;Shiv Vendor Id&quot;,&quot;Shiva Tech Id#&quot;,&quot;finShortNameTb&quot;,&quot;finVenName1Tb&quot;,&quot;finVenName2Tb&quot;};\r\n\r\n                CustomMappingStrategy&lt;FinVendor&gt; mappingStrategy = new CustomMappingStrategy(csvHeader);//csvHeader as per custom header irrespective of pojo field name\r\n                mappingStrategy.setType(FinVendor.class);\r\n                mappingStrategy.setColumnMapping(fields);//pojo mapping fields\r\n\r\n\r\n                StatefulBeanToCsv&lt;FinVendor&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;FinVendor&gt;(writer).withQuotechar(CSVWriter.NO_QUOTE_CHARACTER).withMappingStrategy(mappingStrategy).build();\r\n                beanToCsv.write(readVendors);\r\n\r\n//custom mapping class as mentioned in the thread by many users \r\n                private static class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n\r\n                        String[] header;\r\n\r\n                        public CustomMappingStrategy(String[] cols) {\r\n\r\n                                header = cols;\r\n                        }\r\n\r\n                        @Override\r\n                        public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\r\n                            super.generateHeader(bean);\r\n                                return header;\r\n                        }\r\n                        }\r\nOutput:\r\n```\r\nId#     Shiv Record Number      Shiv Vendor Id   Fin Tech Id#      finShortNameTb  finVenName1Tb   finVenName2Tb   finVenDefaultLocTb\r\n1       VEN00053                678             33316025986        THE ssOHIO S_2  THE UNIVERSITY     CHK         Test\r\n2       VEN02277                1217            3044374205         Fe3 MECHA_1     FR3INC             EFT-1\r\n3       VEN03118                1310            30234484121        PE333PECTUS_1   PER332CTUS AR      EFT-1       Test\r\n```","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>Great thread, I don't have any annotations in my pojo and this is how I did based on all the previous answers. Hope it helps others.</p>\n\n<p>OpenCsv Version: 5.0\n                List readVendors = getFromMethod();\n                String[] fields= {\"id\",\"recordNumber\",\"finVendorIdTb\",\"finVenTechIdTb\",\"finShortNameTb\",\"finVenName1Tb\",\"finVenName2Tb\"};</p>\n\n<pre><code>            String[] csvHeader= {\"Id#\",\"Shiv Record Number\",\"Shiv Vendor Id\",\"Shiva Tech Id#\",\"finShortNameTb\",\"finVenName1Tb\",\"finVenName2Tb\"};\n\n            CustomMappingStrategy&lt;FinVendor&gt; mappingStrategy = new CustomMappingStrategy(csvHeader);//csvHeader as per custom header irrespective of pojo field name\n            mappingStrategy.setType(FinVendor.class);\n            mappingStrategy.setColumnMapping(fields);//pojo mapping fields\n\n\n            StatefulBeanToCsv&lt;FinVendor&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;FinVendor&gt;(writer).withQuotechar(CSVWriter.NO_QUOTE_CHARACTER).withMappingStrategy(mappingStrategy).build();\n            beanToCsv.write(readVendors);\n</code></pre>\n\n<p>//custom mapping class as mentioned in the thread by many users \n                private static class CustomMappingStrategy extends ColumnPositionMappingStrategy {</p>\n\n<pre><code>                    String[] header;\n\n                    public CustomMappingStrategy(String[] cols) {\n\n                            header = cols;\n                    }\n\n                    @Override\n                    public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\n                        super.generateHeader(bean);\n                            return header;\n                    }\n                    }\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Id#     Shiv Record Number      Shiv Vendor Id   Fin Tech Id#      finShortNameTb  finVenName1Tb   finVenName2Tb   finVenDefaultLocTb\n1       VEN00053                678             33316025986        THE ssOHIO S_2  THE UNIVERSITY     CHK         Test\n2       VEN02277                1217            3044374205         Fe3 MECHA_1     FR3INC             EFT-1\n3       VEN03118                1310            30234484121        PE333PECTUS_1   PER332CTUS AR      EFT-1       Test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6479082,"reputation":627,"user_id":5016747,"display_name":"Harshit"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1579287290,"creation_date":1579287290,"answer_id":59793328,"question_id":45203867,"body_markdown":"The following solution works with opencsv 5.0.\r\n\r\nFirst, you need to inherit `ColumnPositionMappingStrategy` class and override `generateHeader` method to create your custom header for utilizing both CsvBindByName and CsvBindByPosition annotations as shown below.\r\n\r\n    import com.opencsv.bean.BeanField;\r\n    import com.opencsv.bean.ColumnPositionMappingStrategy;\r\n    import com.opencsv.bean.CsvBindByName;\r\n    import com.opencsv.exceptions.CsvRequiredFieldEmptyException;\r\n    \r\n    /**\r\n     * @param &lt;T&gt;\r\n     */\r\n    class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n    \t/*\r\n    \t * (non-Javadoc)\r\n    \t * \r\n    \t * @see com.opencsv.bean.ColumnPositionMappingStrategy#generateHeader(java.lang.\r\n    \t * Object)\r\n    \t */\r\n    \t@Override\r\n    \tpublic String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\r\n    \t\tfinal int numColumns = getFieldMap().values().size();\r\n    \t\tif (numColumns == -1) {\r\n    \t\t\treturn super.generateHeader(bean);\r\n    \t\t}\r\n    \r\n    \t\tString[] header = new String[numColumns];\r\n    \t\tsuper.setColumnMapping(header);\r\n    \r\n    \t\tBeanField&lt;T, Integer&gt; beanField;\r\n    \t\tfor (int i = 0; i &lt; numColumns; i++) {\r\n    \t\t\tbeanField = findField(i);\r\n    \t\t\tString columnHeaderName = beanField.getField().getDeclaredAnnotation(CsvBindByName.class).column();\r\n    \t\t\theader[i] = columnHeaderName;\r\n    \t\t}\r\n    \t\treturn header;\r\n    \t}\r\n    }\r\n\r\nThe next step is to use this mapping strategy while writing a bean to CSV as below.\r\n\r\n    CustomMappingStrategy&lt;ScanReport&gt; strategy = new CustomMappingStrategy&lt;&gt;();\r\n    \t\t\tstrategy.setType(ScanReport.class);\r\n    \r\n    // Write a bean to csv file.\r\n    StatefulBeanToCsv&lt;ScanReport&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;ScanReport&gt;(writer)\r\n    \t\t\t\t\t.withMappingStrategy(strategy).build();\r\n    beanToCsv.write(beanList);","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>The following solution works with opencsv 5.0.</p>\n\n<p>First, you need to inherit <code>ColumnPositionMappingStrategy</code> class and override <code>generateHeader</code> method to create your custom header for utilizing both CsvBindByName and CsvBindByPosition annotations as shown below.</p>\n\n<pre><code>import com.opencsv.bean.BeanField;\nimport com.opencsv.bean.ColumnPositionMappingStrategy;\nimport com.opencsv.bean.CsvBindByName;\nimport com.opencsv.exceptions.CsvRequiredFieldEmptyException;\n\n/**\n * @param &lt;T&gt;\n */\nclass CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\n    /*\n     * (non-Javadoc)\n     * \n     * @see com.opencsv.bean.ColumnPositionMappingStrategy#generateHeader(java.lang.\n     * Object)\n     */\n    @Override\n    public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\n        final int numColumns = getFieldMap().values().size();\n        if (numColumns == -1) {\n            return super.generateHeader(bean);\n        }\n\n        String[] header = new String[numColumns];\n        super.setColumnMapping(header);\n\n        BeanField&lt;T, Integer&gt; beanField;\n        for (int i = 0; i &lt; numColumns; i++) {\n            beanField = findField(i);\n            String columnHeaderName = beanField.getField().getDeclaredAnnotation(CsvBindByName.class).column();\n            header[i] = columnHeaderName;\n        }\n        return header;\n    }\n}\n</code></pre>\n\n<p>The next step is to use this mapping strategy while writing a bean to CSV as below.</p>\n\n<pre><code>CustomMappingStrategy&lt;ScanReport&gt; strategy = new CustomMappingStrategy&lt;&gt;();\n            strategy.setType(ScanReport.class);\n\n// Write a bean to csv file.\nStatefulBeanToCsv&lt;ScanReport&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;ScanReport&gt;(writer)\n                    .withMappingStrategy(strategy).build();\nbeanToCsv.write(beanList);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4628365,"reputation":606,"user_id":3751522,"display_name":"VivekRatanSinha"},"score":3,"creation_date":1589994539,"post_id":61265148,"comment_id":109515827,"body_markdown":"This still works with OpenCSV 5.2. Most of the other solutions proposed do not even compile against 5.2, thanks to poor backward compatibility of OpenCSV.","body":"This still works with OpenCSV 5.2. Most of the other solutions proposed do not even compile against 5.2, thanks to poor backward compatibility of OpenCSV."},{"owner":{"account_id":16778453,"reputation":159,"user_id":12752884,"display_name":"nar-007"},"score":0,"creation_date":1594490588,"post_id":61265148,"comment_id":111147066,"body_markdown":"I tried this, but when I&#39;m reading from a csv, the element values I set inside csvbindbyname and customcsvbindbyname(with converter), are not being applied.","body":"I tried this, but when I&#39;m reading from a csv, the element values I set inside csvbindbyname and customcsvbindbyname(with converter), are not being applied."},{"owner":{"account_id":272180,"reputation":1562,"user_id":563133,"accept_rate":50,"display_name":"Vahid Pazirandeh"},"score":0,"creation_date":1620197952,"post_id":61265148,"comment_id":119126009,"body_markdown":"Works with opencsv 5.4. btw, is there a way to tell opencsv: &quot;Here&#39;s the order I want the first two columns, but the rest, put it in any order you want, but make sure you use them all&quot;. I just care about a few columns to be ordered first and don&#39;t want to remember to annotate all the other bean fields.","body":"Works with opencsv 5.4. btw, is there a way to tell opencsv: &quot;Here&#39;s the order I want the first two columns, but the rest, put it in any order you want, but make sure you use them all&quot;. I just care about a few columns to be ordered first and don&#39;t want to remember to annotate all the other bean fields."},{"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"score":0,"creation_date":1622395102,"post_id":61265148,"comment_id":119775650,"body_markdown":"@VahidPazirandeh In such a customized case, I would use &#39;opencsv&#39; just to parse the header row and the data rows for me. From then on, I would manually map individual columns to my object field. I am not sure if &#39;opencsv&#39; provides such a level of customization. And even if it does, I am sure it will make the code much more complicated than manually doing it.","body":"@VahidPazirandeh In such a customized case, I would use &#39;opencsv&#39; just to parse the header row and the data rows for me. From then on, I would manually map individual columns to my object field. I am not sure if &#39;opencsv&#39; provides such a level of customization. And even if it does, I am sure it will make the code much more complicated than manually doing it."}],"tags":[],"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1587105495,"creation_date":1587103722,"answer_id":61265148,"question_id":45203867,"body_markdown":"The following works for me to map a POJO to a CSV file with custom column positioning and custom column headers (**tested with opencsv-5.0**) :\r\n\r\n    public class CustomBeanToCSVMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n\t\r\n        @Override\r\n        public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\r\n    \t\r\n        \tString[] headersAsPerFieldName = getFieldMap().generateHeader(bean); // header name based on field name\r\n    \t \r\n            String[] header = new String[headersAsPerFieldName.length];\r\n\r\n            for (int i = 0; i &lt;= headersAsPerFieldName.length - 1; i++) {\r\n        \t\r\n            \tBeanField beanField = findField(i);\r\n        \t\r\n                String columnHeaderName = extractHeaderName(beanField); // header name based on @CsvBindByName annotation\r\n            \r\n                if (columnHeaderName.isEmpty()) // No @CsvBindByName is present\r\n                \tcolumnHeaderName = headersAsPerFieldName[i]; // defaults to header name based on field name\r\n            \r\n                header[i] = columnHeaderName;\r\n            }\r\n    \r\n            headerIndex.initializeHeaderIndex(header);\r\n        \r\n            return header;\r\n        }\r\n\r\n        private String extractHeaderName(final BeanField beanField) {\r\n            if (beanField == null || beanField.getField() == null || beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class).length == 0) {\r\n                return StringUtils.EMPTY;\r\n            }\r\n\r\n            final CsvBindByName bindByNameAnnotation = beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class)[0];\r\n            return bindByNameAnnotation.column();\r\n        }\r\n    }\r\n\r\n**Pojo**\r\n\r\n**Column Positioning in the generated CSV file:**\r\n\r\n- The column positioing in the generated CSV file will be as per the annotation `@CsvBindByPosition`\r\n\r\n**Header name in the generated CSV file:**\r\n\r\n - If the field has `@CsvBindByName`, the generated header will be as per the annonation\r\n - If the field doesn&#39;t have `@CsvBindByName`, then the generated header will be as per the field name\r\n\r\n\r\n        @Getter @Setter @ToString\r\n        public class Pojo {\r\n\r\n    \t    @CsvBindByName(column=&quot;Voucher Series&quot;) // header: &quot;Voucher Series&quot;\r\n    \t    @CsvBindByPosition(position=0)\r\n        \tprivate String voucherSeries;\r\n\r\n\t        @CsvBindByPosition(position=1) // header: &quot;salePurchaseType&quot;\r\n        \tprivate String salePurchaseType;\r\n        }\r\n\r\n\r\n**Using the above Custom Mapping Strategy:**\r\n\r\n    CustomBeanToCSVMappingStrategy&lt;Pojo&gt; mappingStrategy = new CustomBeanToCSVMappingStrategy&lt;&gt;();\r\n\t\t\t\tmappingStrategy.setType(Pojo.class);\r\n\t\t\t\t\r\n\tStatefulBeanToCsv&lt;Pojo&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;Pojo&gt;(writer)\r\n\t\t\t\t\t\t.withSeparator(CSVWriter.DEFAULT_SEPARATOR)\r\n\t\t\t\t\t\t.withMappingStrategy(mappingStrategy)\r\n\t\t\t\t\t\t.build();\r\n\t\t\t\t\r\n\tbeanToCsv.write(pojoList);","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>The following works for me to map a POJO to a CSV file with custom column positioning and custom column headers (<strong>tested with opencsv-5.0</strong>) :</p>\n\n<pre><code>public class CustomBeanToCSVMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\n\n    @Override\n    public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\n\n        String[] headersAsPerFieldName = getFieldMap().generateHeader(bean); // header name based on field name\n\n        String[] header = new String[headersAsPerFieldName.length];\n\n        for (int i = 0; i &lt;= headersAsPerFieldName.length - 1; i++) {\n\n            BeanField beanField = findField(i);\n\n            String columnHeaderName = extractHeaderName(beanField); // header name based on @CsvBindByName annotation\n\n            if (columnHeaderName.isEmpty()) // No @CsvBindByName is present\n                columnHeaderName = headersAsPerFieldName[i]; // defaults to header name based on field name\n\n            header[i] = columnHeaderName;\n        }\n\n        headerIndex.initializeHeaderIndex(header);\n\n        return header;\n    }\n\n    private String extractHeaderName(final BeanField beanField) {\n        if (beanField == null || beanField.getField() == null || beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class).length == 0) {\n            return StringUtils.EMPTY;\n        }\n\n        final CsvBindByName bindByNameAnnotation = beanField.getField().getDeclaredAnnotationsByType(CsvBindByName.class)[0];\n        return bindByNameAnnotation.column();\n    }\n}\n</code></pre>\n\n<p><strong>Pojo</strong></p>\n\n<p><strong>Column Positioning in the generated CSV file:</strong></p>\n\n<ul>\n<li>The column positioing in the generated CSV file will be as per the annotation <code>@CsvBindByPosition</code></li>\n</ul>\n\n<p><strong>Header name in the generated CSV file:</strong></p>\n\n<ul>\n<li>If the field has <code>@CsvBindByName</code>, the generated header will be as per the annonation</li>\n<li><p>If the field doesn't have <code>@CsvBindByName</code>, then the generated header will be as per the field name</p>\n\n<pre><code>@Getter @Setter @ToString\npublic class Pojo {\n\n    @CsvBindByName(column=\"Voucher Series\") // header: \"Voucher Series\"\n    @CsvBindByPosition(position=0)\n    private String voucherSeries;\n\n    @CsvBindByPosition(position=1) // header: \"salePurchaseType\"\n    private String salePurchaseType;\n}\n</code></pre></li>\n</ul>\n\n<p><strong>Using the above Custom Mapping Strategy:</strong></p>\n\n<pre><code>CustomBeanToCSVMappingStrategy&lt;Pojo&gt; mappingStrategy = new CustomBeanToCSVMappingStrategy&lt;&gt;();\n            mappingStrategy.setType(Pojo.class);\n\nStatefulBeanToCsv&lt;Pojo&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;Pojo&gt;(writer)\n                    .withSeparator(CSVWriter.DEFAULT_SEPARATOR)\n                    .withMappingStrategy(mappingStrategy)\n                    .build();\n\nbeanToCsv.write(pojoList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3572893,"reputation":53,"user_id":2982818,"display_name":"alcott80"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602413646,"creation_date":1602413646,"answer_id":64303208,"question_id":45203867,"body_markdown":"The sebast26&#39;s first solution worked for me but for opencsv version 5.2 it requires a little change in the CustomMappingStrategy class:\r\n\r\n    class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n    private static final String[] HEADER = new String[]{&quot;TradeID&quot;, &quot;GWML GUID&quot;, &quot;MXML GUID&quot;, &quot;GWML File&quot;, &quot;MxML File&quot;, &quot;MxML Counterparty&quot;, &quot;GWML Counterparty&quot;};\r\n\r\n    @Override\r\n    public String[] generateHeader() {\r\n        super.generateHeader(bean); // without this the file contains ONLY headers\r\n        return HEADER;\r\n    }\r\n}\r\n","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>The sebast26's first solution worked for me but for opencsv version 5.2 it requires a little change in the CustomMappingStrategy class:</p>\n<pre><code>class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\nprivate static final String[] HEADER = new String[]{&quot;TradeID&quot;, &quot;GWML GUID&quot;, &quot;MXML GUID&quot;, &quot;GWML File&quot;, &quot;MxML File&quot;, &quot;MxML Counterparty&quot;, &quot;GWML Counterparty&quot;};\n\n@Override\npublic String[] generateHeader() {\n    super.generateHeader(bean); // without this the file contains ONLY headers\n    return HEADER;\n}\n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":106265,"reputation":373,"user_id":283142,"accept_rate":15,"display_name":"Jason Nethercott"},"score":0,"creation_date":1607519729,"post_id":64394708,"comment_id":115297370,"body_markdown":"Brilliant!  This should go right into the source.  The only change I made was for your position to be zero based.","body":"Brilliant!  This should go right into the source.  The only change I made was for your position to be zero based."}],"tags":[],"owner":{"account_id":6937757,"reputation":81,"user_id":5325152,"display_name":"jherkel"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602873571,"creation_date":1602873571,"answer_id":64394708,"question_id":45203867,"body_markdown":"There is another version for 5.2 version because I have a problem with @CsvCustomBindByName annotation when I tried answers above.\r\n\r\nI defined custom annotation :\r\n```\r\n@Target(ElementType.FIELD)\r\n@Inherited\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface CsvPosition {\r\n\r\n  int position();\r\n}\r\n\r\n```\r\n\r\nand custom mapping strategy\r\n```\r\npublic class CustomMappingStrategy&lt;T&gt; extends HeaderColumnNameMappingStrategy&lt;T&gt; {\r\n\r\n  private final Field[] fields;\r\n\r\n  public CustomMappingStrategy(Class&lt;T&gt; clazz) {\r\n    fields = clazz.getDeclaredFields();\r\n    Arrays.sort(fields, (f1, f2) -&gt; {\r\n      CsvPosition position1 = f1.getAnnotation(CsvPosition.class);\r\n      CsvPosition position2 = f2.getAnnotation(CsvPosition.class);\r\n      return Integer.compare(position1.position(), position2.position());\r\n    });\r\n  }\r\n\r\n  @Override\r\n  public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\r\n    String[] header = new String[fields.length];\r\n    for (Field f : fields) {\r\n      CsvPosition position = f.getAnnotation(CsvPosition.class);\r\n      header[position.position() - 1] = getName(f);\r\n    }\r\n    headerIndex.initializeHeaderIndex(header);\r\n    return header;\r\n  }\r\n\r\n  private String getName(Field f) {\r\n    CsvBindByName csvBindByName = f.getAnnotation(CsvBindByName.class);\r\n    CsvCustomBindByName csvCustomBindByName = f.getAnnotation(CsvCustomBindByName.class);\r\n    return csvCustomBindByName != null\r\n      ? csvCustomBindByName.column() == null || csvCustomBindByName.column().isEmpty() ? f.getName() : csvCustomBindByName.column()\r\n      : csvBindByName.column() == null || csvBindByName.column().isEmpty() ? f.getName() : csvBindByName.column();\r\n  }\r\n\r\n}\r\n```\r\n\r\nMy POJO beans are annotated like this \r\n``` lang-java\r\npublic class Record {\r\n\r\n  @CsvBindByName(required = true)\r\n  @CsvPosition(position = 1)\r\n  Long id;\r\n  @CsvCustomBindByName(required = true, converter = BoolanCSVField.class)\r\n  @CsvPosition(position = 2)\r\n  Boolean deleted;\r\n  ...\r\n}\r\n```\r\n\r\nand final code for writer :\r\n```\r\nCustomMappingStrategy&lt;Record&gt; mappingStrategy = new CustomMappingStrategy&lt;&gt;(Record.class);\r\nmappingStrategy.setType(Record.class);\r\nStatefulBeanToCsv beanToCsv = new StatefulBeanToCsvBuilder(writer)\r\n.withApplyQuotesToAll(false)\r\n.withOrderedResults(true)\r\n.withMappingStrategy(mappingStrategy)\r\n.build();\r\n```\r\n\r\nI hope it will helpful for someone","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>There is another version for 5.2 version because I have a problem with @CsvCustomBindByName annotation when I tried answers above.</p>\n<p>I defined custom annotation :</p>\n<pre><code>@Target(ElementType.FIELD)\n@Inherited\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface CsvPosition {\n\n  int position();\n}\n\n</code></pre>\n<p>and custom mapping strategy</p>\n<pre><code>public class CustomMappingStrategy&lt;T&gt; extends HeaderColumnNameMappingStrategy&lt;T&gt; {\n\n  private final Field[] fields;\n\n  public CustomMappingStrategy(Class&lt;T&gt; clazz) {\n    fields = clazz.getDeclaredFields();\n    Arrays.sort(fields, (f1, f2) -&gt; {\n      CsvPosition position1 = f1.getAnnotation(CsvPosition.class);\n      CsvPosition position2 = f2.getAnnotation(CsvPosition.class);\n      return Integer.compare(position1.position(), position2.position());\n    });\n  }\n\n  @Override\n  public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\n    String[] header = new String[fields.length];\n    for (Field f : fields) {\n      CsvPosition position = f.getAnnotation(CsvPosition.class);\n      header[position.position() - 1] = getName(f);\n    }\n    headerIndex.initializeHeaderIndex(header);\n    return header;\n  }\n\n  private String getName(Field f) {\n    CsvBindByName csvBindByName = f.getAnnotation(CsvBindByName.class);\n    CsvCustomBindByName csvCustomBindByName = f.getAnnotation(CsvCustomBindByName.class);\n    return csvCustomBindByName != null\n      ? csvCustomBindByName.column() == null || csvCustomBindByName.column().isEmpty() ? f.getName() : csvCustomBindByName.column()\n      : csvBindByName.column() == null || csvBindByName.column().isEmpty() ? f.getName() : csvBindByName.column();\n  }\n\n}\n</code></pre>\n<p>My POJO beans are annotated like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Record {\n\n  @CsvBindByName(required = true)\n  @CsvPosition(position = 1)\n  Long id;\n  @CsvCustomBindByName(required = true, converter = BoolanCSVField.class)\n  @CsvPosition(position = 2)\n  Boolean deleted;\n  ...\n}\n</code></pre>\n<p>and final code for writer :</p>\n<pre><code>CustomMappingStrategy&lt;Record&gt; mappingStrategy = new CustomMappingStrategy&lt;&gt;(Record.class);\nmappingStrategy.setType(Record.class);\nStatefulBeanToCsv beanToCsv = new StatefulBeanToCsvBuilder(writer)\n.withApplyQuotesToAll(false)\n.withOrderedResults(true)\n.withMappingStrategy(mappingStrategy)\n.build();\n</code></pre>\n<p>I hope it will helpful for someone</p>\n"},{"tags":[],"owner":{"account_id":13717908,"reputation":262,"user_id":9898631,"display_name":"Aritra Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605781653,"creation_date":1605781653,"answer_id":64909758,"question_id":45203867,"body_markdown":"This can be done using a `HeaderColumnNameMappingStrategy` along with a custom `Comparator` as well.\r\nWhich is recommended by the official doc http://opencsv.sourceforge.net/#mapping_strategies\r\n\r\n```java\r\n    File reportFile = new File(reportOutputDir + &quot;/&quot; + REPORT_FILENAME);\r\n    Writer writer = new PrintWriter(reportFile);\r\n    \r\nfinal List&lt;String&gt; order = List.of(&quot;TradeID&quot;, &quot;GWML GUID&quot;, &quot;MXML GUID&quot;, &quot;GWML File&quot;, &quot;MxML File&quot;, &quot;MxML Counterparty&quot;, &quot;GWML Counterparty&quot;);\r\n    final FixedOrderComparator comparator = new FixedOrderComparator(order);\r\n    HeaderColumnNameMappingStrategy&lt;MappingsBean&gt; strategy = new HeaderColumnNameMappingStrategy&lt;&gt;();\r\n    strategy.setType(MappingsBean.class);\r\n    strategy.setColumnOrderOnWrite(comparator);\r\n\r\n    StatefulBeanToCsv&lt;MappingsBean&gt; beanToCsv = new\r\n      StatefulBeanToCsvBuilder(writer)\r\n      .withMappingStrategy(strategy)\r\n      .build();\r\n    beanToCsv.write(makeFinalMappingBeanList());\r\n    writer.close();\r\n```\r\n","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>This can be done using a <code>HeaderColumnNameMappingStrategy</code> along with a custom <code>Comparator</code> as well.\nWhich is recommended by the official doc <a href=\"http://opencsv.sourceforge.net/#mapping_strategies\" rel=\"nofollow noreferrer\">http://opencsv.sourceforge.net/#mapping_strategies</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>    File reportFile = new File(reportOutputDir + &quot;/&quot; + REPORT_FILENAME);\n    Writer writer = new PrintWriter(reportFile);\n    \nfinal List&lt;String&gt; order = List.of(&quot;TradeID&quot;, &quot;GWML GUID&quot;, &quot;MXML GUID&quot;, &quot;GWML File&quot;, &quot;MxML File&quot;, &quot;MxML Counterparty&quot;, &quot;GWML Counterparty&quot;);\n    final FixedOrderComparator comparator = new FixedOrderComparator(order);\n    HeaderColumnNameMappingStrategy&lt;MappingsBean&gt; strategy = new HeaderColumnNameMappingStrategy&lt;&gt;();\n    strategy.setType(MappingsBean.class);\n    strategy.setColumnOrderOnWrite(comparator);\n\n    StatefulBeanToCsv&lt;MappingsBean&gt; beanToCsv = new\n      StatefulBeanToCsvBuilder(writer)\n      .withMappingStrategy(strategy)\n      .build();\n    beanToCsv.write(makeFinalMappingBeanList());\n    writer.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9888075,"reputation":21,"user_id":7321990,"display_name":"Atish Choudhury"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606215638,"creation_date":1606215638,"answer_id":64985073,"question_id":45203867,"body_markdown":"Here is the code to add support for `@CsvBindByPosition` based ordering to default `HeaderColumnNameMappingStrategy`. Tested for latest version `5.2`\r\n\r\nApproach is to store 2 map. First `headerPositionMap` to store the position element so same can used to `setColumnOrderOnWrite` , second `columnMap` from which we can lookup actual column name rather than capitalized one  \r\n\r\n```java\r\npublic class HeaderColumnNameWithPositionMappingStrategy&lt;T&gt; extends HeaderColumnNameMappingStrategy&lt;T&gt; {\r\n\r\n    protected Map&lt;String, String&gt; columnMap;\r\n\r\n    @Override\r\n    public void setType(Class&lt;? extends T&gt; type) throws CsvBadConverterException {\r\n        super.setType(type);\r\n        columnMap = new HashMap&lt;&gt;(this.getFieldMap().values().size());\r\n        Map&lt;String, Integer&gt; headerPositionMap = new HashMap&lt;&gt;(this.getFieldMap().values().size());\r\n        for (Field field : type.getDeclaredFields()) {\r\n            if (field.isAnnotationPresent(CsvBindByPosition.class) &amp;&amp; field.isAnnotationPresent(CsvBindByName.class)) {\r\n                int position = field.getAnnotation(CsvBindByPosition.class).position();\r\n                String colName = &quot;&quot;.equals(field.getAnnotation(CsvBindByName.class).column()) ? field.getName() : field.getAnnotation(CsvBindByName.class).column();\r\n                headerPositionMap.put(colName.toUpperCase().trim(), position);\r\n                columnMap.put(colName.toUpperCase().trim(), colName);\r\n            }\r\n        }\r\n        super.setColumnOrderOnWrite((String o1, String o2) -&gt; {\r\n            if (!headerPositionMap.containsKey(o1) || !headerPositionMap.containsKey(o2)) {\r\n                return 0;\r\n            }\r\n            return headerPositionMap.get(o1) - headerPositionMap.get(o2);\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\r\n        String[] headersRaw = super.generateHeader(bean);\r\n        return Arrays.stream(headersRaw).map(h -&gt; columnMap.get(h)).toArray(String[]::new);\r\n    }\r\n}\r\n```","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>Here is the code to add support for <code>@CsvBindByPosition</code> based ordering to default <code>HeaderColumnNameMappingStrategy</code>. Tested for latest version <code>5.2</code></p>\n<p>Approach is to store 2 map. First <code>headerPositionMap</code> to store the position element so same can used to <code>setColumnOrderOnWrite</code> , second <code>columnMap</code> from which we can lookup actual column name rather than capitalized one</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HeaderColumnNameWithPositionMappingStrategy&lt;T&gt; extends HeaderColumnNameMappingStrategy&lt;T&gt; {\n\n    protected Map&lt;String, String&gt; columnMap;\n\n    @Override\n    public void setType(Class&lt;? extends T&gt; type) throws CsvBadConverterException {\n        super.setType(type);\n        columnMap = new HashMap&lt;&gt;(this.getFieldMap().values().size());\n        Map&lt;String, Integer&gt; headerPositionMap = new HashMap&lt;&gt;(this.getFieldMap().values().size());\n        for (Field field : type.getDeclaredFields()) {\n            if (field.isAnnotationPresent(CsvBindByPosition.class) &amp;&amp; field.isAnnotationPresent(CsvBindByName.class)) {\n                int position = field.getAnnotation(CsvBindByPosition.class).position();\n                String colName = &quot;&quot;.equals(field.getAnnotation(CsvBindByName.class).column()) ? field.getName() : field.getAnnotation(CsvBindByName.class).column();\n                headerPositionMap.put(colName.toUpperCase().trim(), position);\n                columnMap.put(colName.toUpperCase().trim(), colName);\n            }\n        }\n        super.setColumnOrderOnWrite((String o1, String o2) -&gt; {\n            if (!headerPositionMap.containsKey(o1) || !headerPositionMap.containsKey(o2)) {\n                return 0;\n            }\n            return headerPositionMap.get(o1) - headerPositionMap.get(o2);\n        });\n    }\n\n    @Override\n    public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\n        String[] headersRaw = super.generateHeader(bean);\n        return Arrays.stream(headersRaw).map(h -&gt; columnMap.get(h)).toArray(String[]::new);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16983571,"reputation":348,"user_id":12284870,"display_name":"Yonas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617177617,"creation_date":1617177617,"answer_id":66883888,"question_id":45203867,"body_markdown":"In case you need this to preserve column ordering from the original CSV: use a HeaderColumnNameMappingStrategy for reading, then use the same strategy for writing. &quot;Same&quot; in this case meaning not just the same class, but really the same object.\r\n\r\nFrom the javadoc of `StatefulBeanToCsvBuilder.withMappingStrategy`:\r\n\r\n&gt; It is perfectly legitimate to read a CSV source, take the mapping\r\nstrategy from the read operation, and pass it in to this method for a\r\nwrite operation. This conserves some processing time, but, more\r\nimportantly, **preserves header ordering**.\r\n\r\nThis way you will get a CSV including headers, with columns in the same order as the original CSV.\r\n\r\nWorked for me using OpenCSV 5.4.","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>In case you need this to preserve column ordering from the original CSV: use a HeaderColumnNameMappingStrategy for reading, then use the same strategy for writing. &quot;Same&quot; in this case meaning not just the same class, but really the same object.</p>\n<p>From the javadoc of <code>StatefulBeanToCsvBuilder.withMappingStrategy</code>:</p>\n<blockquote>\n<p>It is perfectly legitimate to read a CSV source, take the mapping\nstrategy from the read operation, and pass it in to this method for a\nwrite operation. This conserves some processing time, but, more\nimportantly, <strong>preserves header ordering</strong>.</p>\n</blockquote>\n<p>This way you will get a CSV including headers, with columns in the same order as the original CSV.</p>\n<p>Worked for me using OpenCSV 5.4.</p>\n"},{"tags":[],"owner":{"account_id":26207726,"reputation":1,"user_id":19887097,"display_name":"Danit Negbi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661947581,"creation_date":1661947581,"answer_id":73555663,"question_id":45203867,"body_markdown":"It took me time also but I found the solution.\r\n\r\nAdd these annotations to your POJO: @CsvBindByName, @CsvBindByPosition with the right name and position of each object.\r\n\r\nMy POJO:\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\n@Getter\r\n@Setter\r\npublic class CsvReport {\r\n    @CsvBindByName(column = &quot;Campaign&quot;)\r\n    @CsvBindByPosition(position = 0)\r\n    private String program;\r\n    @CsvBindByName(column = &quot;Report&quot;)\r\n    @CsvBindByPosition(position = 1)\r\n    private String report;\r\n    @CsvBindByName(column = &quot;Metric Label&quot;)\r\n    @CsvBindByPosition(position = 2)\r\n    private String metric;\r\n}\r\n```\r\n\r\nAnd add this code (my POJO called CsvReport):\r\n\r\n```\r\nColumnPositionMappingStrategy&lt;CsvReport&gt; mappingStrategy = new ColumnPositionMappingStrategyBuilder&lt;CsvReport&gt;().build();\r\nmappingStrategy.setType(CsvReport.class);\r\n//add your headers in the sort you want to be in the file:\r\nString[] columns = new String[] { &quot;Campaign&quot;, &quot;Report&quot;, &quot;Metric Label&quot;};\r\nmappingStrategy.setColumnMapping(columns);\r\n\r\n//Write your headers first in your chosen Writer:\r\nWriter responseWriter = response.getWriter();\r\nresponseWriter.append(String.join(&quot;,&quot;, columns)).append(&quot;\\n&quot;);\r\n\r\n// Configure the CSV writer builder\r\nStatefulBeanToCsv&lt;CsvReport&gt; writer = new StatefulBeanToCsvBuilder&lt;CsvReport&gt;(responseWriter)\r\n                    .withQuotechar(CSVWriter.NO_QUOTE_CHARACTER)\r\n                    .withSeparator(CSVWriter.DEFAULT_SEPARATOR)\r\n                    .withOrderedResults(true) //I needed to keep the order, if you don&#39;t put false.\r\n                    .withMappingStrategy(mappingStrategy)\r\n                    .build();\r\n\r\nString fileName = &quot;your file name&quot;;\r\nresponse.setHeader(HttpHeaders.CONTENT_DISPOSITION,String.format(&quot;attachment; filename=%s&quot;, fileName));\r\nwriter.write(csvReports);\r\n```\r\n\r\nThis will create a new CSV file with your printed headers and ordered fields.","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>It took me time also but I found the solution.</p>\n<p>Add these annotations to your POJO: @CsvBindByName, @CsvBindByPosition with the right name and position of each object.</p>\n<p>My POJO:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@Getter\n@Setter\npublic class CsvReport {\n    @CsvBindByName(column = &quot;Campaign&quot;)\n    @CsvBindByPosition(position = 0)\n    private String program;\n    @CsvBindByName(column = &quot;Report&quot;)\n    @CsvBindByPosition(position = 1)\n    private String report;\n    @CsvBindByName(column = &quot;Metric Label&quot;)\n    @CsvBindByPosition(position = 2)\n    private String metric;\n}\n</code></pre>\n<p>And add this code (my POJO called CsvReport):</p>\n<pre><code>ColumnPositionMappingStrategy&lt;CsvReport&gt; mappingStrategy = new ColumnPositionMappingStrategyBuilder&lt;CsvReport&gt;().build();\nmappingStrategy.setType(CsvReport.class);\n//add your headers in the sort you want to be in the file:\nString[] columns = new String[] { &quot;Campaign&quot;, &quot;Report&quot;, &quot;Metric Label&quot;};\nmappingStrategy.setColumnMapping(columns);\n\n//Write your headers first in your chosen Writer:\nWriter responseWriter = response.getWriter();\nresponseWriter.append(String.join(&quot;,&quot;, columns)).append(&quot;\\n&quot;);\n\n// Configure the CSV writer builder\nStatefulBeanToCsv&lt;CsvReport&gt; writer = new StatefulBeanToCsvBuilder&lt;CsvReport&gt;(responseWriter)\n                    .withQuotechar(CSVWriter.NO_QUOTE_CHARACTER)\n                    .withSeparator(CSVWriter.DEFAULT_SEPARATOR)\n                    .withOrderedResults(true) //I needed to keep the order, if you don't put false.\n                    .withMappingStrategy(mappingStrategy)\n                    .build();\n\nString fileName = &quot;your file name&quot;;\nresponse.setHeader(HttpHeaders.CONTENT_DISPOSITION,String.format(&quot;attachment; filename=%s&quot;, fileName));\nwriter.write(csvReports);\n</code></pre>\n<p>This will create a new CSV file with your printed headers and ordered fields.</p>\n"},{"tags":[],"owner":{"account_id":26542813,"reputation":21,"user_id":20173297,"display_name":"Soundarrajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685362823,"creation_date":1685362823,"answer_id":76357329,"question_id":45203867,"body_markdown":"Code Tested with below gradle dependency\r\n\r\n```\r\nimplementation &#39;com.opencsv:opencsv:5.7.1&#39;\r\n```\r\n\r\nTo generate the header simply you can write below code, there is no need of hardcode header value\r\n\r\n```\r\npublic class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\r\n  @Override\r\n  public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\r\n    return getFieldMap().generateHeader(bean);\r\n  }\r\n}\r\n```\r\n\r\n```\r\npublic class BeanToCSVWriter {\r\n    \r\n    public &lt;T&gt; String write(List&lt;T&gt; beans, Class&lt;T&gt; beanType, String[] headerColumns) {\r\n        ColumnPositionMappingStrategy&lt;T&gt; mappingStrategy = new CustomMappingStrategy&lt;&gt;();\r\n        mappingStrategy.setColumnMapping(headerColumns);\r\n        mappingStrategy.setType(beanType);\r\n        \r\n        Writer writer = new StringWriter();\r\n        \r\n        StatefulBeanToCsv&lt;T&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;T&gt;(writer)\r\n                .withMappingStrategy(mappingStrategy)\r\n                .build();\r\n        \r\n        try {\r\n            beanToCsv.write(beans);\r\n        } catch (CsvDataTypeMismatchException | CsvRequiredFieldEmptyException exception) {\r\n            throw new RuntimeException(exception);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHow to use the above code\r\n\r\n\r\n```\r\nBeanToCSVWriter beanToCSVWriter = new BeanToCSVWriter();\r\nString[] headerColumns = {id, name, age, permanentAddress};\r\n\r\nbeanToCSVWriter.write(beans, Bean.class, headerColumns)\r\n```\r\n\r\n","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>Code Tested with below gradle dependency</p>\n<pre><code>implementation 'com.opencsv:opencsv:5.7.1'\n</code></pre>\n<p>To generate the header simply you can write below code, there is no need of hardcode header value</p>\n<pre><code>public class CustomMappingStrategy&lt;T&gt; extends ColumnPositionMappingStrategy&lt;T&gt; {\n  @Override\n  public String[] generateHeader(T bean) throws CsvRequiredFieldEmptyException {\n    return getFieldMap().generateHeader(bean);\n  }\n}\n</code></pre>\n<pre><code>public class BeanToCSVWriter {\n    \n    public &lt;T&gt; String write(List&lt;T&gt; beans, Class&lt;T&gt; beanType, String[] headerColumns) {\n        ColumnPositionMappingStrategy&lt;T&gt; mappingStrategy = new CustomMappingStrategy&lt;&gt;();\n        mappingStrategy.setColumnMapping(headerColumns);\n        mappingStrategy.setType(beanType);\n        \n        Writer writer = new StringWriter();\n        \n        StatefulBeanToCsv&lt;T&gt; beanToCsv = new StatefulBeanToCsvBuilder&lt;T&gt;(writer)\n                .withMappingStrategy(mappingStrategy)\n                .build();\n        \n        try {\n            beanToCsv.write(beans);\n        } catch (CsvDataTypeMismatchException | CsvRequiredFieldEmptyException exception) {\n            throw new RuntimeException(exception);\n        }\n    }\n}\n</code></pre>\n<p>How to use the above code</p>\n<pre><code>BeanToCSVWriter beanToCSVWriter = new BeanToCSVWriter();\nString[] headerColumns = {id, name, age, permanentAddress};\n\nbeanToCSVWriter.write(beans, Bean.class, headerColumns)\n</code></pre>\n"}],"owner":{"account_id":8860353,"reputation":883,"user_id":6616740,"accept_rate":0,"display_name":"Vikram Pathania"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101284,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"answer_count":22,"score":72,"last_activity_date":1685362823,"creation_date":1500516113,"question_id":45203867,"body_markdown":"I have created a MappingsBean class where all the columns of the CSV file are specified. Next I parse XML files and create a list of mappingbeans. Then I write that data into CSV file as report.\r\n\r\nI am using following annotations:\r\n        \r\n    public class MappingsBean {\r\n\r\n        @CsvBindByName(column = &quot;TradeID&quot;)\r\n        @CsvBindByPosition(position = 0)\r\n        private String tradeId;\r\n\r\n        @CsvBindByName(column = &quot;GWML GUID&quot;, required = true)\r\n        @CsvBindByPosition(position = 1)\r\n        private String gwmlGUID;\r\n\r\n        @CsvBindByName(column = &quot;MXML GUID&quot;, required = true)\r\n        @CsvBindByPosition(position = 2)\r\n        private String mxmlGUID;\r\n\r\n        @CsvBindByName(column = &quot;GWML File&quot;)\r\n        @CsvBindByPosition(position = 3)\r\n        private String gwmlFile;\r\n\r\n        @CsvBindByName(column = &quot;MxML File&quot;)\r\n        @CsvBindByPosition(position = 4)\r\n        private String mxmlFile;\r\n\r\n        @CsvBindByName(column = &quot;MxML Counterparty&quot;)\r\n        @CsvBindByPosition(position = 5)\r\n        private String mxmlCounterParty;\r\n\r\n        @CsvBindByName(column = &quot;GWML Counterparty&quot;)\r\n        @CsvBindByPosition(position = 6)\r\n        private String gwmlCounterParty;\r\n    }\r\n\r\nAnd then I use ```StatefulBeanToCsv``` class to write into CSV file:\r\n\r\n    File reportFile = new File(reportOutputDir + &quot;/&quot; + REPORT_FILENAME);\r\n    Writer writer = new PrintWriter(reportFile);\r\n    StatefulBeanToCsv&lt;MappingsBean&gt; beanToCsv = new \r\n                                  StatefulBeanToCsvBuilder(writer).build();\r\n    beanToCsv.write(makeFinalMappingBeanList());\r\n    writer.close();\r\n     \r\nThe problem with this approach is that if I use ```@CsvBindByPosition(position = 0)``` to control \r\nposition then I am not able to generate column names. If I use ```@CsvBindByName(column = &quot;TradeID&quot;)``` then I am not able to set position of the columns.\r\n\r\nIs there a way where I can use both annotations, so that I can create CSV files with column headers and also control column position? \r\n\r\nRegards,\r\nVikram Pathania\r\n     ","title":"OpenCSV: How to create CSV file from POJO with custom column headers and custom column positions?","body":"<p>I have created a MappingsBean class where all the columns of the CSV file are specified. Next I parse XML files and create a list of mappingbeans. Then I write that data into CSV file as report.</p>\n\n<p>I am using following annotations:</p>\n\n<pre><code>public class MappingsBean {\n\n    @CsvBindByName(column = \"TradeID\")\n    @CsvBindByPosition(position = 0)\n    private String tradeId;\n\n    @CsvBindByName(column = \"GWML GUID\", required = true)\n    @CsvBindByPosition(position = 1)\n    private String gwmlGUID;\n\n    @CsvBindByName(column = \"MXML GUID\", required = true)\n    @CsvBindByPosition(position = 2)\n    private String mxmlGUID;\n\n    @CsvBindByName(column = \"GWML File\")\n    @CsvBindByPosition(position = 3)\n    private String gwmlFile;\n\n    @CsvBindByName(column = \"MxML File\")\n    @CsvBindByPosition(position = 4)\n    private String mxmlFile;\n\n    @CsvBindByName(column = \"MxML Counterparty\")\n    @CsvBindByPosition(position = 5)\n    private String mxmlCounterParty;\n\n    @CsvBindByName(column = \"GWML Counterparty\")\n    @CsvBindByPosition(position = 6)\n    private String gwmlCounterParty;\n}\n</code></pre>\n\n<p>And then I use <code>StatefulBeanToCsv</code> class to write into CSV file:</p>\n\n<pre><code>File reportFile = new File(reportOutputDir + \"/\" + REPORT_FILENAME);\nWriter writer = new PrintWriter(reportFile);\nStatefulBeanToCsv&lt;MappingsBean&gt; beanToCsv = new \n                              StatefulBeanToCsvBuilder(writer).build();\nbeanToCsv.write(makeFinalMappingBeanList());\nwriter.close();\n</code></pre>\n\n<p>The problem with this approach is that if I use <code>@CsvBindByPosition(position = 0)</code> to control \nposition then I am not able to generate column names. If I use <code>@CsvBindByName(column = \"TradeID\")</code> then I am not able to set position of the columns.</p>\n\n<p>Is there a way where I can use both annotations, so that I can create CSV files with column headers and also control column position? </p>\n\n<p>Regards,\nVikram Pathania</p>\n"},{"tags":["java","discord","bots","discord-jda"],"answers":[{"comments":[{"owner":{"account_id":28141580,"reputation":23,"user_id":21975700,"display_name":"Fahad Almarri"},"score":0,"creation_date":1685380679,"post_id":76357312,"comment_id":134649010,"body_markdown":"Can you explain what dose this line do `   gld.retrieveMemberById(userId).flatMap(member -&gt;\n              member.modifyNickname(&quot;User Voice kicker&quot;)\n      ).queue();`","body":"Can you explain what dose this line do `   gld.retrieveMemberById(userId).flatMap(member -&gt;               member.modifyNickname(&quot;User Voice kicker&quot;)       ).queue();`"},{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1685387856,"post_id":76357312,"comment_id":134650040,"body_markdown":"It retrieves the member and then updates the nickname","body":"It retrieves the member and then updates the nickname"},{"owner":{"account_id":28141580,"reputation":23,"user_id":21975700,"display_name":"Fahad Almarri"},"score":0,"creation_date":1685473065,"post_id":76357312,"comment_id":134664148,"body_markdown":"is there a way to make it always sync ? Because it only register&#39;s the voice kicker once. if the voice kicker kicks again it will not do anything. i have to turn the bot on and off again.","body":"is there a way to make it always sync ? Because it only register&#39;s the voice kicker once. if the voice kicker kicks again it will not do anything. i have to turn the bot on and off again."}],"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685362650,"creation_date":1685362650,"answer_id":76357312,"question_id":76352913,"body_markdown":"The event already provides you the created entry, you can just look at that one specifically.\r\n\r\n```java\r\npublic void onGuildAuditLogEntryCreate(GuildAuditLogEntryCreateEvent event) {\r\n  AuditLogEntry entry = event.getEntry();\r\n  if (entry.getType() != ActionType.MEMBER_VOICE_KICK) return; // guard case\r\n  String userId = entry.getUserId();\r\n  guild.retrieveMemberById(userId).flatMap(member -&gt;\r\n    member.modifyNickname(&quot;User Voice kicker&quot;)\r\n  ).queue();\r\n}\r\n```","title":"How do I trigger an event listener in Java Discord-JDA specifically for MEMBER_VOICE_KICK action?","body":"<p>The event already provides you the created entry, you can just look at that one specifically.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onGuildAuditLogEntryCreate(GuildAuditLogEntryCreateEvent event) {\n  AuditLogEntry entry = event.getEntry();\n  if (entry.getType() != ActionType.MEMBER_VOICE_KICK) return; // guard case\n  String userId = entry.getUserId();\n  guild.retrieveMemberById(userId).flatMap(member -&gt;\n    member.modifyNickname(&quot;User Voice kicker&quot;)\n  ).queue();\n}\n</code></pre>\n"}],"owner":{"account_id":28141580,"reputation":23,"user_id":21975700,"display_name":"Fahad Almarri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76357312,"answer_count":1,"score":1,"last_activity_date":1685362650,"creation_date":1685296976,"question_id":76352913,"body_markdown":"I have this event that has these problems.\r\n\r\n1) It gets triggered whenever a new audit log gets created.\r\n2) If a user enters voice-chat it gets triggered too\r\n\r\nthis the event listener\r\n\r\n```java\r\n   @Override\r\n    public void onGuildAuditLogEntryCreate(GuildAuditLogEntryCreateEvent event) {\r\n        JDA jda=event.getJDA();\r\n        Guild gld=jda.getGuilds().get(0);\r\n\r\n        AuditLogPaginationAction auditLogs = event.getGuild().retrieveAuditLogs();\r\n        auditLogs.type(ActionType.MEMBER_VOICE_KICK);\r\n        auditLogs.limit(1);\r\n        auditLogs.queue( (entrys) -&gt;\r\n        {\r\n\r\n            if (entrys.isEmpty()) return;\r\n            AuditLogEntry entry = entrys.get(0);\r\n            System.out.println(&quot;The User &quot;+ entry.getUser().getId());\r\n            Member member=gld.getMemberById(entry.getUser().getId());\r\n            gld.modifyNickname(member,&quot;User Voice kicker&quot;).queue();\r\n\r\n        });\r\n    }\r\n```\r\n\r\n**What i am aiming at:**\r\n\r\n- I want it to specifically be triggered whenever a MEMBER_VOICE_KICK action happens. Only That\r\n\r\n**What i tried:**\r\n\r\n- I tried using the `onGuildVoiceUpdate()` event.... i got the same problem.","title":"How do I trigger an event listener in Java Discord-JDA specifically for MEMBER_VOICE_KICK action?","body":"<p>I have this event that has these problems.</p>\n<ol>\n<li>It gets triggered whenever a new audit log gets created.</li>\n<li>If a user enters voice-chat it gets triggered too</li>\n</ol>\n<p>this the event listener</p>\n<pre class=\"lang-java prettyprint-override\"><code>   @Override\n    public void onGuildAuditLogEntryCreate(GuildAuditLogEntryCreateEvent event) {\n        JDA jda=event.getJDA();\n        Guild gld=jda.getGuilds().get(0);\n\n        AuditLogPaginationAction auditLogs = event.getGuild().retrieveAuditLogs();\n        auditLogs.type(ActionType.MEMBER_VOICE_KICK);\n        auditLogs.limit(1);\n        auditLogs.queue( (entrys) -&gt;\n        {\n\n            if (entrys.isEmpty()) return;\n            AuditLogEntry entry = entrys.get(0);\n            System.out.println(&quot;The User &quot;+ entry.getUser().getId());\n            Member member=gld.getMemberById(entry.getUser().getId());\n            gld.modifyNickname(member,&quot;User Voice kicker&quot;).queue();\n\n        });\n    }\n</code></pre>\n<p><strong>What i am aiming at:</strong></p>\n<ul>\n<li>I want it to specifically be triggered whenever a MEMBER_VOICE_KICK action happens. Only That</li>\n</ul>\n<p><strong>What i tried:</strong></p>\n<ul>\n<li>I tried using the <code>onGuildVoiceUpdate()</code> event.... i got the same problem.</li>\n</ul>\n"},{"tags":["java","spring-boot","github","oauth","github-api"],"answers":[{"tags":[],"owner":{"account_id":6826435,"reputation":39,"user_id":5252023,"display_name":"Pooya Afshari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685362166,"creation_date":1685362166,"answer_id":76357246,"question_id":76352533,"body_markdown":"Changed the code and this worked:\r\n\r\n```java\r\n    @GetMapping(value = &quot;/auth&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public String auth(@RequestParam(value = &quot;code&quot;) String code) throws Exception {\r\n        String accessTokenURL = String.format(\r\n                &quot;https://github.com/login/oauth/access_token?client_id=%s&amp;client_secret=%s&amp;code=%s&quot;,\r\n                clientId, clientSecret, code\r\n        );\r\n        HttpClient client = HttpClient.newHttpClient();\r\n        URI accessTokenURI = URI.create(accessTokenURL);\r\n        HttpRequest.Builder accessTokenBuilder = HttpRequest.newBuilder().uri(accessTokenURI);\r\n        HttpRequest accessTokenRequest = accessTokenBuilder.POST(HttpRequest.BodyPublishers.noBody())\r\n                .header(&quot;Accept&quot;, &quot;application/json&quot;).build();\r\n        HttpResponse&lt;String&gt; accessTokenResult = client.send(accessTokenRequest, HttpResponse.BodyHandlers.ofString());\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        HashMap&lt;String, Object&gt; resultBody = mapper.readValue(accessTokenResult.body(), HashMap.class);\r\n        String accessToken = (String) resultBody.get(&quot;access_token&quot;);\r\n        URI userDateURI = URI.create(&quot;https://api.github.com/user&quot;);\r\n        HttpRequest.Builder userDataBuilder = HttpRequest.newBuilder().uri(userDateURI);\r\n        HttpRequest req = userDataBuilder.GET().header(&quot;Authorization&quot;, String.format(&quot;token %s&quot;, accessToken)).build();\r\n        HttpResponse&lt;String&gt; userDataResult = client.send(req, HttpResponse.BodyHandlers.ofString());\r\n        HashMap&lt;String, Object&gt; userData = mapper.readValue(userDataResult.body(), HashMap.class);\r\n        return userDataResult.body();\r\n    }\r\n```","title":"How to fix &#39;Whitelabel Error Page&#39; when applying GitHub OAuth in a Spring application?","body":"<p>Changed the code and this worked:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @GetMapping(value = &quot;/auth&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public String auth(@RequestParam(value = &quot;code&quot;) String code) throws Exception {\n        String accessTokenURL = String.format(\n                &quot;https://github.com/login/oauth/access_token?client_id=%s&amp;client_secret=%s&amp;code=%s&quot;,\n                clientId, clientSecret, code\n        );\n        HttpClient client = HttpClient.newHttpClient();\n        URI accessTokenURI = URI.create(accessTokenURL);\n        HttpRequest.Builder accessTokenBuilder = HttpRequest.newBuilder().uri(accessTokenURI);\n        HttpRequest accessTokenRequest = accessTokenBuilder.POST(HttpRequest.BodyPublishers.noBody())\n                .header(&quot;Accept&quot;, &quot;application/json&quot;).build();\n        HttpResponse&lt;String&gt; accessTokenResult = client.send(accessTokenRequest, HttpResponse.BodyHandlers.ofString());\n        ObjectMapper mapper = new ObjectMapper();\n        HashMap&lt;String, Object&gt; resultBody = mapper.readValue(accessTokenResult.body(), HashMap.class);\n        String accessToken = (String) resultBody.get(&quot;access_token&quot;);\n        URI userDateURI = URI.create(&quot;https://api.github.com/user&quot;);\n        HttpRequest.Builder userDataBuilder = HttpRequest.newBuilder().uri(userDateURI);\n        HttpRequest req = userDataBuilder.GET().header(&quot;Authorization&quot;, String.format(&quot;token %s&quot;, accessToken)).build();\n        HttpResponse&lt;String&gt; userDataResult = client.send(req, HttpResponse.BodyHandlers.ofString());\n        HashMap&lt;String, Object&gt; userData = mapper.readValue(userDataResult.body(), HashMap.class);\n        return userDataResult.body();\n    }\n</code></pre>\n"}],"owner":{"account_id":6826435,"reputation":39,"user_id":5252023,"display_name":"Pooya Afshari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76357246,"answer_count":1,"score":0,"last_activity_date":1685362166,"creation_date":1685292034,"question_id":76352533,"body_markdown":"Getting `Whitelabel Error Page` when try to apply Github OAuth in my spring application\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nSun May 28 20:58:39 IRDT 2023\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nNo content to map due to end-of-input at [Source: (String)&quot;&quot;; line: 1, column: 0]\r\n\r\nHere is my java code which I try to get `userDataResult.body` printed or even returned but getting the error after log-in:\r\n\r\n```java\r\n@RestController\r\npublic class LoginController {\r\n    private String clientSecret = &quot;541a3c6bdca41a233d593ed263f628915317c434&quot;;\r\n    private String clientId = &quot;f3cc203f5df4b2e30d5c&quot;;\r\n\r\n    @GetMapping(&quot;/auth&quot;)\r\n    public ResponseEntity&lt;String&gt; auth(@RequestBody String code) {\r\n        String accessTokenString = String.format(\r\n                &quot;https://github.com/login/oauth/access_token?client_id=%s&amp;client_secret=%s&amp;code=%s&quot;, clientId,\r\n                clientSecret, code);\r\n\r\n        HttpClient client = HttpClient.newHttpClient();\r\n        URI accessTokenUri = URI.create(accessTokenString);\r\n        HttpRequest.Builder accessTokenBuilder = HttpRequest.newBuilder().uri(accessTokenUri);\r\n        HttpRequest accessTokenRequest = accessTokenBuilder.POST(HttpRequest.BodyPublishers.noBody())\r\n                .header(&quot;Accept&quot;, &quot;Application/json&quot;).build();\r\n\r\n        HttpResponse&lt;String&gt; accessTokenResult = null;\r\n        try {\r\n            accessTokenResult = client.send(accessTokenRequest, HttpResponse.BodyHandlers.ofString());\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        HashMap&lt;String, Object&gt; resultBody = new HashMap&lt;&gt;();\r\n        try {\r\n            resultBody = mapper.readValue(accessTokenResult.body(), HashMap.class);\r\n        } catch (JsonProcessingException e1) {\r\n            e1.printStackTrace();\r\n        }\r\n        String accessToken = (String) resultBody.get(&quot;access_token&quot;);\r\n\r\n        URI userDataUri = URI.create(&quot;https://api.github.com/user&quot;);\r\n        HttpRequest.Builder userDataBuilder = HttpRequest.newBuilder().uri(userDataUri);\r\n        HttpRequest req = userDataBuilder.GET().header(&quot;Authorization&quot;, String.format(&quot;token %s&quot;, accessToken)).build();\r\n        try {\r\n            HttpResponse&lt;String&gt; userDataResult = client.send(req, HttpResponse.BodyHandlers.ofString());\r\n            GithubUser user = mapper.readValue(userDataResult.body(), GithubUser.class);\r\n            System.out.println(userDataResult.body());\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        return null;\r\n    }\r\n```\r\n\r\nAlso wrote a html to check that out:\r\n\r\n    &lt;a href=&quot;https://github.com/login/oauth/authorize?client_id=f3cc203f5df4b2e30d5c&amp;scope=user&quot;&gt;&lt;h1&gt;Click to login using github&lt;/h1&gt;&lt;/a&gt;\r\n\r\n\r\nAlready tried checking if the token is empty and I don&#39;t know why it should be, also tried to print accessTokenResult.body()\r\n","title":"How to fix &#39;Whitelabel Error Page&#39; when applying GitHub OAuth in a Spring application?","body":"<p>Getting <code>Whitelabel Error Page</code> when try to apply Github OAuth in my spring application\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>Sun May 28 20:58:39 IRDT 2023\nThere was an unexpected error (type=Internal Server Error, status=500).\nNo content to map due to end-of-input at [Source: (String)&quot;&quot;; line: 1, column: 0]</p>\n<p>Here is my java code which I try to get <code>userDataResult.body</code> printed or even returned but getting the error after log-in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class LoginController {\n    private String clientSecret = &quot;541a3c6bdca41a233d593ed263f628915317c434&quot;;\n    private String clientId = &quot;f3cc203f5df4b2e30d5c&quot;;\n\n    @GetMapping(&quot;/auth&quot;)\n    public ResponseEntity&lt;String&gt; auth(@RequestBody String code) {\n        String accessTokenString = String.format(\n                &quot;https://github.com/login/oauth/access_token?client_id=%s&amp;client_secret=%s&amp;code=%s&quot;, clientId,\n                clientSecret, code);\n\n        HttpClient client = HttpClient.newHttpClient();\n        URI accessTokenUri = URI.create(accessTokenString);\n        HttpRequest.Builder accessTokenBuilder = HttpRequest.newBuilder().uri(accessTokenUri);\n        HttpRequest accessTokenRequest = accessTokenBuilder.POST(HttpRequest.BodyPublishers.noBody())\n                .header(&quot;Accept&quot;, &quot;Application/json&quot;).build();\n\n        HttpResponse&lt;String&gt; accessTokenResult = null;\n        try {\n            accessTokenResult = client.send(accessTokenRequest, HttpResponse.BodyHandlers.ofString());\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n        ObjectMapper mapper = new ObjectMapper();\n        HashMap&lt;String, Object&gt; resultBody = new HashMap&lt;&gt;();\n        try {\n            resultBody = mapper.readValue(accessTokenResult.body(), HashMap.class);\n        } catch (JsonProcessingException e1) {\n            e1.printStackTrace();\n        }\n        String accessToken = (String) resultBody.get(&quot;access_token&quot;);\n\n        URI userDataUri = URI.create(&quot;https://api.github.com/user&quot;);\n        HttpRequest.Builder userDataBuilder = HttpRequest.newBuilder().uri(userDataUri);\n        HttpRequest req = userDataBuilder.GET().header(&quot;Authorization&quot;, String.format(&quot;token %s&quot;, accessToken)).build();\n        try {\n            HttpResponse&lt;String&gt; userDataResult = client.send(req, HttpResponse.BodyHandlers.ofString());\n            GithubUser user = mapper.readValue(userDataResult.body(), GithubUser.class);\n            System.out.println(userDataResult.body());\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n\n        return null;\n    }\n</code></pre>\n<p>Also wrote a html to check that out:</p>\n<pre><code>&lt;a href=&quot;https://github.com/login/oauth/authorize?client_id=f3cc203f5df4b2e30d5c&amp;scope=user&quot;&gt;&lt;h1&gt;Click to login using github&lt;/h1&gt;&lt;/a&gt;\n</code></pre>\n<p>Already tried checking if the token is empty and I don't know why it should be, also tried to print accessTokenResult.body()</p>\n"},{"tags":["java","spring","spring-transactions"],"comments":[{"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"score":0,"creation_date":1355250369,"post_id":13825771,"comment_id":19026470,"body_markdown":"from where are you calling the `saveService` method?","body":"from where are you calling the <code>saveService</code> method?"},{"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"score":0,"creation_date":1355405968,"post_id":13825771,"comment_id":19084594,"body_markdown":"please check that temperature service implementation is not picked up by autoscanning in the servlet xml context configuration.","body":"please check that temperature service implementation is not picked up by autoscanning in the servlet xml context configuration."},{"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"score":0,"creation_date":1355423734,"post_id":13825771,"comment_id":19094050,"body_markdown":"Please add your servlet xml configuration to the question. P.S. Also it&#39;s a bad idea to decorate your interfaces with `@Transactional`, you should only put `@Transactional` on your implementation classes/methods.","body":"Please add your servlet xml configuration to the question. P.S. Also it&#39;s a bad idea to decorate your interfaces with <code>@Transactional</code>, you should only put <code>@Transactional</code> on your implementation classes/methods."}],"answers":[{"comments":[{"owner":{"account_id":2134199,"reputation":21,"user_id":1894372,"display_name":"user1894372"},"score":0,"creation_date":1355305866,"post_id":13825930,"comment_id":19044497,"body_markdown":"I have changed It, but this continues doing the same","body":"I have changed It, but this continues doing the same"}],"tags":[],"owner":{"account_id":1598249,"reputation":6617,"user_id":1479853,"accept_rate":72,"display_name":"someone"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355249075,"creation_date":1355249075,"answer_id":13825930,"question_id":13825771,"body_markdown":"\r\nChanged your `@Transactional (rollbackFor=Exception.class)`\r\n\r\nto\r\n\r\n    @Transactional (rollbackFor=Throwable.class)\r\n\r\nAnd check.","title":"Spring Transaction if the this duplicated key gives the exception, but it does not do the Rollback (Updated code to detect better the error)","body":"<p>Changed your <code>@Transactional (rollbackFor=Exception.class)</code></p>\n\n<p>to</p>\n\n<pre><code>@Transactional (rollbackFor=Throwable.class)\n</code></pre>\n\n<p>And check.</p>\n"},{"comments":[{"owner":{"account_id":2134199,"reputation":21,"user_id":1894372,"display_name":"user1894372"},"score":0,"creation_date":1355302489,"post_id":13826812,"comment_id":19043036,"body_markdown":"`@Controller\n\n    @Scope(&quot;session&quot;)\n\n    public class ComparaBean extends BaseBeanImp implements Serializable {\n\n    @Autowired\n\n    private TemperaturesService tempeService;\n\n\n    public String doSave() {\n\n        tempeService.saveService();\n\n    }\n\n    }`","body":"<code>@Controller      @Scope(&quot;session&quot;)      public class ComparaBean extends BaseBeanImp implements Serializable {      @Autowired      private TemperaturesService tempeService;       public String doSave() {          tempeService.saveService();      }      }</code>"},{"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"score":0,"creation_date":1355303284,"post_id":13826812,"comment_id":19043329,"body_markdown":"That looks fine, but given the code posted in the original question does not compile, there problem may yet be in something you&#39;ve left out :)","body":"That looks fine, but given the code posted in the original question does not compile, there problem may yet be in something you&#39;ve left out :)"},{"owner":{"account_id":2134199,"reputation":21,"user_id":1894372,"display_name":"user1894372"},"score":0,"creation_date":1355404367,"post_id":13826812,"comment_id":19083865,"body_markdown":"I changed the code posted in the original question for you detect the error. If you need more code let me know","body":"I changed the code posted in the original question for you detect the error. If you need more code let me know"}],"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355252838,"creation_date":1355252838,"answer_id":13826812,"question_id":13825771,"body_markdown":"You did not show the code that is actually running that calls `saveService()`.  Most likely the invocation is coming from a place that is already behind the Transactional Proxy, so Spring cannot &quot;see&quot; the annotation to start a transaction at that level.  Would be able to tell if you add the code.","title":"Spring Transaction if the this duplicated key gives the exception, but it does not do the Rollback (Updated code to detect better the error)","body":"<p>You did not show the code that is actually running that calls <code>saveService()</code>.  Most likely the invocation is coming from a place that is already behind the Transactional Proxy, so Spring cannot \"see\" the annotation to start a transaction at that level.  Would be able to tell if you add the code.</p>\n"},{"tags":[],"owner":{"account_id":1696543,"reputation":129,"user_id":1557828,"display_name":"naddame"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445879939,"creation_date":1445879939,"answer_id":33351747,"question_id":13825771,"body_markdown":"Apparently tempeDao.save initiate a new transaction every call. so the first call to the save method commit successfully but the second one fail with  duplicate entry exception and rollback.\r\n\r\ntry to add propagation= Propagation.MANDATORY to the DAO transactional methods.\r\n\r\n    @Transactional (propagation= Propagation.MANDATORY, rollbackFor=Throwable.class)\r\n\r\nThis force dao to use the same transaction of the service. then the rollback will be applied to all.\r\n\r\nI don&#39;t think you will have this problem with the latest version of spring,","title":"Spring Transaction if the this duplicated key gives the exception, but it does not do the Rollback (Updated code to detect better the error)","body":"<p>Apparently tempeDao.save initiate a new transaction every call. so the first call to the save method commit successfully but the second one fail with  duplicate entry exception and rollback.</p>\n\n<p>try to add propagation= Propagation.MANDATORY to the DAO transactional methods.</p>\n\n<pre><code>@Transactional (propagation= Propagation.MANDATORY, rollbackFor=Throwable.class)\n</code></pre>\n\n<p>This force dao to use the same transaction of the service. then the rollback will be applied to all.</p>\n\n<p>I don't think you will have this problem with the latest version of spring,</p>\n"},{"tags":[],"owner":{"account_id":14276174,"reputation":33,"user_id":10312214,"display_name":"陳寧寬"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682386570,"creation_date":1682386570,"answer_id":76097118,"question_id":13825771,"body_markdown":"in my case i happen this situation when i update an java pojo,\r\nyou can use merge method instead of using update method when you update something already in the java ","title":"Spring Transaction if the this duplicated key gives the exception, but it does not do the Rollback (Updated code to detect better the error)","body":"<p>in my case i happen this situation when i update an java pojo,\nyou can use merge method instead of using update method when you update something already in the java</p>\n"}],"owner":{"account_id":2134199,"reputation":21,"user_id":1894372,"display_name":"user1894372"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3745,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1685362007,"creation_date":1355248377,"question_id":13825771,"body_markdown":"In the Transaction if there is an exception for duplicate of key, that happens in the second persist, , the first one it persists and does not do the Rollback, and this one remains recorded in the database. **(Updated question with more code to detect better the error)**\r\n\r\n          public interface TemperaturesDao {\r\n            @Transactional (rollbackFor=Throwable.class)\r\n        // @Transactional (rollbackFor=Exception.class) // changed\r\n            void save(JavaTemperatures jT);\r\n        }\r\n    \r\n        @Repository\r\n        public class TemperaturesDaoImp implements TemperaturesDao{\r\n            @Autowired\r\n            private SessionFactory sf;\r\n            @Transactional (rollbackFor=Throwable.class)\r\n            // @Transactional (rollbackFor=Exception.class) // changed\r\n            public void save(JavaTemperatures jT) {\r\n                Session session = sf.getCurrentSession();\r\n                session.save(jT);\r\n            }\r\n        }\r\n    \r\n\r\n        public interface TemperaturesService {\r\n            @Transactional (rollbackFor=Throwable.class)\r\n        // @Transactional (rollbackFor=Exception.class) // changed\r\n            void saveService();\r\n        }\r\n    \r\n        @Service(&quot;temperaturesServiceImp&quot;)\r\n        public class TemperaturesServiceImp implements TemperaturesService{\r\n            @Autowired\r\n            TemperaturesDao tempeDao;\r\n    \r\n            @Transactional (rollbackFor=Throwable.class)\r\n        // @Transactional (rollbackFor=Exception.class) // changed\r\n            public void saveService() {\r\n                JavaTemperatures jT = new JavaTemperatures();\r\n                jT.setKey(&quot;key2&quot;);\r\n                tempeDao.save(jT); // This is registered in the database at the end of the veService\r\n    \r\n                jT = new JavaTemperatures();\r\n                jT.setKey(&quot;key1&quot;); // This key exists in the database\r\n                tempeDao.save(jT); // This record gives exception at the end of the saveService\r\n            }\r\n        }\r\n    \r\n    \r\n        public class BaseBeanImp implements Serializable{\r\n            ...\r\n        }\r\n    \r\n        @Controller\r\n        @Scope(&quot;session&quot;)\r\n        public class ComparaBean extends BaseBeanImp implements Serializable {\r\n            private static final long serialVersionUID = 1L;\r\n            @Autowired\r\n            private TemperaturesService tempeService;\r\n    \r\n            public String doSave() {\r\n                tempeService.saveService() ;\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        **index.xhtml**\r\n        &lt;h:commandButton value=&quot;Save&quot; action=&quot;#{comparaBean.doSave}&quot; /&gt;\r\n\r\n\r\n**applicationContext.xml**\r\n\r\n    &lt;beans xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.1.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd&quot; xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt; \r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot; &gt;\r\n    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; &gt; &lt;/property&gt;\r\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://redhada.org:3306/db&quot; &gt; &lt;/property&gt;\r\n    &lt;property name=&quot;username&quot; value=&quot;username&quot; &gt; &lt;/property&gt;\r\n    &lt;property name=&quot;password&quot; value=&quot;password&quot; &gt;&lt;/property&gt;\r\n    &lt;property name=&quot;testOnBorrow&quot; value=&quot;true&quot; &gt; &lt;/property&gt;\r\n    &lt;property name=&quot;validationQuery&quot; value=&quot;SELECT 1&quot; &gt;&lt;/property&gt;\r\n    &lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;1200000&quot; &gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot; &gt;\r\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; &gt; &lt;/property&gt;\r\n    &lt;property name=&quot;annotatedClasses&quot; &gt;\r\n        &lt;list&gt;\r\n        &lt;value&gt;com.redhada.model.JavaTemperatures&lt;/value&gt;\r\n        &lt;/list&gt;\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    &lt;props&gt;&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    &lt;context:annotation-config&gt;&lt;/context:annotation-config&gt;\r\n    &lt;context:component-scan base-package=&quot;com.redhada&quot;&gt;&lt;/context:component-scan&gt;\r\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\r\n    &lt;bean id=&quot;transactionManager&quot;\r\n     class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot; &gt;\r\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; &gt; &lt;/property&gt;\r\n   &lt;/bean&gt;\r\n\r\n**Console:**\r\n\r\n    263194 [http-8080-Processor23] WARN org.hibernate.util.JDBCExceptionReporter - SQL Error: 1062, SQLState: 23000\r\n    263194 [http-8080-Processor23] ERROR org.hibernate.util.JDBCExceptionReporter - Duplicate entry &#39;clave31&#39; for key 1\r\n    263195 [http-8080-Processor23] ERROR org.hibernate.event.def.AbstractFlushingEventListener - Could not synchronize database state with session org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update\r\n    ...\r\n    Caused by: java.sql.BatchUpdateException: Duplicate entry &#39;key1&#39; for key 1\r\n    ...\r\n    Caused by: com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException: Duplicate entry &#39;key1&#39; for key 1\r\n    ...\r\n\r\n**But it save the record**\r\n\r\n**Why does persist if the second tempeDao.save gives the exception?**\r\n\r\n**Why does not do the Rollback?**\r\n\r\n","title":"Spring Transaction if the this duplicated key gives the exception, but it does not do the Rollback (Updated code to detect better the error)","body":"<p>In the Transaction if there is an exception for duplicate of key, that happens in the second persist, , the first one it persists and does not do the Rollback, and this one remains recorded in the database. <strong>(Updated question with more code to detect better the error)</strong></p>\n\n<pre><code>      public interface TemperaturesDao {\n        @Transactional (rollbackFor=Throwable.class)\n    // @Transactional (rollbackFor=Exception.class) // changed\n        void save(JavaTemperatures jT);\n    }\n\n    @Repository\n    public class TemperaturesDaoImp implements TemperaturesDao{\n        @Autowired\n        private SessionFactory sf;\n        @Transactional (rollbackFor=Throwable.class)\n        // @Transactional (rollbackFor=Exception.class) // changed\n        public void save(JavaTemperatures jT) {\n            Session session = sf.getCurrentSession();\n            session.save(jT);\n        }\n    }\n\n\n    public interface TemperaturesService {\n        @Transactional (rollbackFor=Throwable.class)\n    // @Transactional (rollbackFor=Exception.class) // changed\n        void saveService();\n    }\n\n    @Service(\"temperaturesServiceImp\")\n    public class TemperaturesServiceImp implements TemperaturesService{\n        @Autowired\n        TemperaturesDao tempeDao;\n\n        @Transactional (rollbackFor=Throwable.class)\n    // @Transactional (rollbackFor=Exception.class) // changed\n        public void saveService() {\n            JavaTemperatures jT = new JavaTemperatures();\n            jT.setKey(\"key2\");\n            tempeDao.save(jT); // This is registered in the database at the end of the veService\n\n            jT = new JavaTemperatures();\n            jT.setKey(\"key1\"); // This key exists in the database\n            tempeDao.save(jT); // This record gives exception at the end of the saveService\n        }\n    }\n\n\n    public class BaseBeanImp implements Serializable{\n        ...\n    }\n\n    @Controller\n    @Scope(\"session\")\n    public class ComparaBean extends BaseBeanImp implements Serializable {\n        private static final long serialVersionUID = 1L;\n        @Autowired\n        private TemperaturesService tempeService;\n\n        public String doSave() {\n            tempeService.saveService() ;\n            return null;\n        }\n    }\n\n    **index.xhtml**\n    &lt;h:commandButton value=\"Save\" action=\"#{comparaBean.doSave}\" /&gt;\n</code></pre>\n\n<p><strong>applicationContext.xml</strong></p>\n\n<pre><code>&lt;beans xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.1.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.1.xsd\" xmlns=\"http://www.springframework.org/schema/beans\" xmlns:tx=\"http://www.springframework.org/schema/tx\" xmlns:context=\"http://www.springframework.org/schema/context\" xmlns:aop=\"http://www.springframework.org/schema/aop\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt; \n\n&lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\" &gt;\n&lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" &gt; &lt;/property&gt;\n&lt;property name=\"url\" value=\"jdbc:mysql://redhada.org:3306/db\" &gt; &lt;/property&gt;\n&lt;property name=\"username\" value=\"username\" &gt; &lt;/property&gt;\n&lt;property name=\"password\" value=\"password\" &gt;&lt;/property&gt;\n&lt;property name=\"testOnBorrow\" value=\"true\" &gt; &lt;/property&gt;\n&lt;property name=\"validationQuery\" value=\"SELECT 1\" &gt;&lt;/property&gt;\n&lt;property name=\"timeBetweenEvictionRunsMillis\" value=\"1200000\" &gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\" &gt;\n&lt;property name=\"dataSource\" ref=\"dataSource\" &gt; &lt;/property&gt;\n&lt;property name=\"annotatedClasses\" &gt;\n    &lt;list&gt;\n    &lt;value&gt;com.redhada.model.JavaTemperatures&lt;/value&gt;\n    &lt;/list&gt;\n&lt;/property&gt;\n&lt;property name=\"hibernateProperties\"&gt;\n&lt;props&gt;&lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;&lt;/property&gt;\n&lt;/bean&gt;\n&lt;context:annotation-config&gt;&lt;/context:annotation-config&gt;\n&lt;context:component-scan base-package=\"com.redhada\"&gt;&lt;/context:component-scan&gt;\n&lt;tx:annotation-driven transaction-manager=\"transactionManager\" /&gt;\n&lt;bean id=\"transactionManager\"\n class=\"org.springframework.orm.hibernate3.HibernateTransactionManager\" &gt;\n&lt;property name=\"sessionFactory\" ref=\"sessionFactory\" &gt; &lt;/property&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>Console:</strong></p>\n\n<pre><code>263194 [http-8080-Processor23] WARN org.hibernate.util.JDBCExceptionReporter - SQL Error: 1062, SQLState: 23000\n263194 [http-8080-Processor23] ERROR org.hibernate.util.JDBCExceptionReporter - Duplicate entry 'clave31' for key 1\n263195 [http-8080-Processor23] ERROR org.hibernate.event.def.AbstractFlushingEventListener - Could not synchronize database state with session org.hibernate.exception.ConstraintViolationException: Could not execute JDBC batch update\n...\nCaused by: java.sql.BatchUpdateException: Duplicate entry 'key1' for key 1\n...\nCaused by: com.mysql.jdbc.exceptions.MySQLIntegrityConstraintViolationException: Duplicate entry 'key1' for key 1\n...\n</code></pre>\n\n<p><strong>But it save the record</strong></p>\n\n<p><strong>Why does persist if the second tempeDao.save gives the exception?</strong></p>\n\n<p><strong>Why does not do the Rollback?</strong></p>\n"},{"tags":["java","jsp","cloudinary"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1685243545,"post_id":76347781,"comment_id":134633701,"body_markdown":"Please share your error message as the plain text format not image","body":"Please share your error message as the plain text format not image"},{"owner":{"account_id":28692479,"reputation":11,"user_id":21971434,"display_name":"Thaddeus Lee"},"score":0,"creation_date":1685245226,"post_id":76347781,"comment_id":134633823,"body_markdown":"Hi sorry heres there error message,\n\nType Exception Report\n\nMessage Unable to compile class for JSP:\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\norg.apache.jasper.JasperException: Unable to compile class for JSP: \n\nAn error occurred at line: [26] in the generated java file: [C:\\Users\\thadd\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\work\\Catalina\\localhost\\JAD-CA1\\org\\apache\\jsp\\test_jsp.java]\nOnly a type can be imported. com.cloudinary.utils.ObjectUtils resolves to a package","body":"Hi sorry heres there error message,  Type Exception Report  Message Unable to compile class for JSP:  Description The server encountered an unexpected condition that prevented it from fulfilling the request.  Exception  org.apache.jasper.JasperException: Unable to compile class for JSP:   An error occurred at line: [26] in the generated java file: [C:\\Users\\thadd\\eclipse-workspace\\.metadata\\.plugins\\org.ecl&zwnj;&#8203;ipse.wst.server.core&zwnj;&#8203;\\tmp0\\work\\Catalina\\&zwnj;&#8203;localhost\\JAD-CA1\\or&zwnj;&#8203;g\\apache\\jsp\\test_js&zwnj;&#8203;p.java] Only a type can be imported. com.cloudinary.utils.ObjectUtils resolves to a package"},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1685245697,"post_id":76347781,"comment_id":134633857,"body_markdown":"please update your question with the error message in the plain text format","body":"please update your question with the error message in the plain text format"}],"answers":[{"tags":[],"owner":{"account_id":24395548,"reputation":129,"user_id":18324974,"display_name":"Cake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685265747,"creation_date":1685265747,"answer_id":76350784,"question_id":76347781,"body_markdown":"Hi there please check if `&lt;%@ page import=&quot;com.cloudinary.utils.ObjectUtils&quot; %&gt;` has a typo. Also, check if adding &quot;;&quot; at the end solves it:\r\n\r\n    &lt;%@ page import=&quot;com.cloudinary.*&quot; %&gt;\r\n    &lt;%@ page import = &quot;cloudinary.cloudinary_test&quot; %&gt;\r\n    &lt;%@ page import=&quot;com.cloudinary.utils.ObjectUtils;&quot; %&gt;\r\n\r\nOnce you&#39;re done - stop the server and rebuild the project.","title":"Issues with cloudinary dependencies in Java","body":"<p>Hi there please check if <code>&lt;%@ page import=&quot;com.cloudinary.utils.ObjectUtils&quot; %&gt;</code> has a typo. Also, check if adding &quot;;&quot; at the end solves it:</p>\n<pre><code>&lt;%@ page import=&quot;com.cloudinary.*&quot; %&gt;\n&lt;%@ page import = &quot;cloudinary.cloudinary_test&quot; %&gt;\n&lt;%@ page import=&quot;com.cloudinary.utils.ObjectUtils;&quot; %&gt;\n</code></pre>\n<p>Once you're done - stop the server and rebuild the project.</p>\n"}],"owner":{"account_id":28692479,"reputation":11,"user_id":21971434,"display_name":"Thaddeus Lee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685361836,"creation_date":1685203363,"question_id":76347781,"body_markdown":"im trying to connect a java ee application to cloudinary to upload and display images using a java backend. However after importing the cloudinary files as external jars and importing the files in the java file I was met with a status 500 error &#39;Unable to compile class for JSP:&#39; which I think may be an issue with the dependencies \r\n\r\nI was expecting to get the image URL printed onto the jsp page that I connected to my Java file but I just got an error\r\n\r\nThe Java file\r\n\r\n```\r\npackage cloudinary;\r\n\r\nimport com.cloudinary.Cloudinary;\r\nimport com.cloudinary.utils.ObjectUtils;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Map;\r\n\r\npublic class cloudinary_test {\r\n    private static final String CLOUD_NAME = &quot;my_cloud_name&quot;;\r\n    private static final String API_KEY = &quot;my_api_key&quot;;\r\n    private static final String API_SECRET = &quot;my_api_secret&quot;;\r\n\r\n    public static String uploadImage(HttpServletRequest request) {\r\n        String imageURL = null;\r\n\r\n        // Configure Cloudinary\r\n        Cloudinary cloudinary = new Cloudinary(ObjectUtils.asMap(\r\n                &quot;cloud_name&quot;, CLOUD_NAME,\r\n                &quot;api_key&quot;, API_KEY,\r\n                &quot;api_secret&quot;, API_SECRET\r\n        ));\r\n\r\n        try {\r\n            // Uploading a file path to Cloudinary\r\n            File imageFile = new File(request.getServletContext().getRealPath(&quot;/img/book_logo.jpg&quot;));\r\n            Map uploadResult = cloudinary.uploader().upload(imageFile, ObjectUtils.asMap(&quot;folder&quot;, &quot;JAD_CA1&quot;));\r\n\r\n            // Retrieve the URL of the uploaded image\r\n            imageURL = uploadResult.get(&quot;url&quot;).toString();\r\n            System.out.println(&quot;Image URL: &quot; + imageURL);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return imageURL;\r\n    }\r\n}\r\n```\r\n\r\nThe test.jsp File\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n\tpageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@ page import=&quot;java.util.List&quot;%&gt;\r\n&lt;%@ page import=&quot;classes.BookClass&quot;%&gt;\r\n&lt;%@ include file = &quot;HomepageConnection.jsp&quot; %&gt;\r\n\r\n&lt;%@ page import=&quot;com.cloudinary.*&quot; %&gt;\r\n&lt;%@ page import=&quot;com.cloudinary.utils.ObjectUtils&quot; %&gt;\r\n&lt;%@ page import = &quot;cloudinary.cloudinary_test&quot; %&gt;\r\n\r\n&lt;%\r\n\tString imageURL = cloudinary_test.uploadImage(request);\r\n%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;work pls&lt;/h1&gt;\r\n\r\n    &lt;div&gt;\r\n        &lt;h2&gt;&lt;%= imageURL %&gt;&lt;/h2&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nThe error message when the JSP file is run  \r\n  \r\n`Type Exception Report Message Unable to compile class for JSP: Description The server encountered an unexpected condition that prevented it from fulfilling the request. Exception org.apache.jasper.JasperException: Unable to compile class for JSP: An error occurred at line: [26] in the generated java file: [C:\\Users\\thadd\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\work\\Catalina\\localhost\\JAD-CA1\\org\\apache\\jsp\\test_jsp.java] Only a type can be imported. com.cloudinary.utils.ObjectUtils resolves to a package`","title":"Issues with cloudinary dependencies in Java","body":"<p>im trying to connect a java ee application to cloudinary to upload and display images using a java backend. However after importing the cloudinary files as external jars and importing the files in the java file I was met with a status 500 error 'Unable to compile class for JSP:' which I think may be an issue with the dependencies</p>\n<p>I was expecting to get the image URL printed onto the jsp page that I connected to my Java file but I just got an error</p>\n<p>The Java file</p>\n<pre><code>package cloudinary;\n\nimport com.cloudinary.Cloudinary;\nimport com.cloudinary.utils.ObjectUtils;\nimport javax.servlet.http.HttpServletRequest;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Map;\n\npublic class cloudinary_test {\n    private static final String CLOUD_NAME = &quot;my_cloud_name&quot;;\n    private static final String API_KEY = &quot;my_api_key&quot;;\n    private static final String API_SECRET = &quot;my_api_secret&quot;;\n\n    public static String uploadImage(HttpServletRequest request) {\n        String imageURL = null;\n\n        // Configure Cloudinary\n        Cloudinary cloudinary = new Cloudinary(ObjectUtils.asMap(\n                &quot;cloud_name&quot;, CLOUD_NAME,\n                &quot;api_key&quot;, API_KEY,\n                &quot;api_secret&quot;, API_SECRET\n        ));\n\n        try {\n            // Uploading a file path to Cloudinary\n            File imageFile = new File(request.getServletContext().getRealPath(&quot;/img/book_logo.jpg&quot;));\n            Map uploadResult = cloudinary.uploader().upload(imageFile, ObjectUtils.asMap(&quot;folder&quot;, &quot;JAD_CA1&quot;));\n\n            // Retrieve the URL of the uploaded image\n            imageURL = uploadResult.get(&quot;url&quot;).toString();\n            System.out.println(&quot;Image URL: &quot; + imageURL);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return imageURL;\n    }\n}\n</code></pre>\n<p>The test.jsp File</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ page import=&quot;java.util.List&quot;%&gt;\n&lt;%@ page import=&quot;classes.BookClass&quot;%&gt;\n&lt;%@ include file = &quot;HomepageConnection.jsp&quot; %&gt;\n\n&lt;%@ page import=&quot;com.cloudinary.*&quot; %&gt;\n&lt;%@ page import=&quot;com.cloudinary.utils.ObjectUtils&quot; %&gt;\n&lt;%@ page import = &quot;cloudinary.cloudinary_test&quot; %&gt;\n\n&lt;%\n    String imageURL = cloudinary_test.uploadImage(request);\n%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;work pls&lt;/h1&gt;\n\n    &lt;div&gt;\n        &lt;h2&gt;&lt;%= imageURL %&gt;&lt;/h2&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The error message when the JSP file is run</p>\n<p><code>Type Exception Report Message Unable to compile class for JSP: Description The server encountered an unexpected condition that prevented it from fulfilling the request. Exception org.apache.jasper.JasperException: Unable to compile class for JSP: An error occurred at line: [26] in the generated java file: [C:\\Users\\thadd\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\work\\Catalina\\localhost\\JAD-CA1\\org\\apache\\jsp\\test_jsp.java] Only a type can be imported. com.cloudinary.utils.ObjectUtils resolves to a package</code></p>\n"},{"tags":["java","lombok","protobuf-java"],"comments":[{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":1,"creation_date":1613076452,"post_id":66162385,"comment_id":116972405,"body_markdown":"Sounds like job for mapping framework such as [Orika](https://orika-mapper.github.io/orika-docs/index.html)","body":"Sounds like job for mapping framework such as <a href=\"https://orika-mapper.github.io/orika-docs/index.html\" rel=\"nofollow noreferrer\">Orika</a>"},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1613122921,"post_id":66162385,"comment_id":116984258,"body_markdown":"Or [MapStruct](https://mapstruct.org/).","body":"Or <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a>."},{"owner":{"account_id":121967,"reputation":1817,"user_id":315454,"accept_rate":48,"display_name":"Alexander.Furer"},"score":0,"creation_date":1615808403,"post_id":66162385,"comment_id":117797111,"body_markdown":"We implemented our custom protoc compiler that does exactly this. Generates XXXPojo class for each XXX protobuf message","body":"We implemented our custom protoc compiler that does exactly this. Generates XXXPojo class for each XXX protobuf message"}],"answers":[{"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685361778,"creation_date":1685361778,"answer_id":76357197,"question_id":66162385,"body_markdown":"As suggested by @Jan Rieke in the comments, [MapStruct](https://mapstruct.org/) addresses this.","title":"Build GRPC proto pojo using lombok (or other) to clone java pojo?","body":"<p>As suggested by @Jan Rieke in the comments, <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a> addresses this.</p>\n"}],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76357197,"answer_count":1,"score":1,"last_activity_date":1685361778,"creation_date":1613075568,"question_id":66162385,"body_markdown":"I&#39;ve got a simple java pojo, implemented with Lombok.\r\n\r\nI&#39;ve also got a grpc method that responds with a very similar pojo, but it&#39;s implemented as a protobuf.\r\n\r\nIs there an easy way for me to create the protobuf pojo from the java pojo, or vice versa, using Lombok or something else?\r\n\r\nMy simple java pojo is this:\r\n\r\n```\r\n@Data\r\npublic class Ez{\r\n  @Column(name = &quot;created_by&quot;)\r\n  public String createdBy;\r\n\r\n  @Column(name = &quot;value&quot;)\r\n  public String value;\r\n\r\n  @Column(name = &quot;scope&quot;)\r\n  public String scope;\r\n}\r\n```\r\n\r\n***and the very similar protobuf object - they differ by one field currently.***\r\n\r\n```\r\n  private Ez() {\r\n    createdBy_ = &quot;&quot;;\r\n    value_ = &quot;&quot;;\r\n  }\r\n\r\netc.\r\n```\r\n\r\nOf course in my app, there&#39;s lots more properties on these objects, but for the sake of discussion, this is what I&#39;ve got. In reality, I&#39;ve got a list of these that I&#39;d like to convert into an iterable, to add to my response object all at once. If I find nothing else, I&#39;ll write a simple conversion method, but it seemed like a common task, possibly, so I thought I&#39;d ask.\r\n","title":"Build GRPC proto pojo using lombok (or other) to clone java pojo?","body":"<p>I've got a simple java pojo, implemented with Lombok.</p>\n<p>I've also got a grpc method that responds with a very similar pojo, but it's implemented as a protobuf.</p>\n<p>Is there an easy way for me to create the protobuf pojo from the java pojo, or vice versa, using Lombok or something else?</p>\n<p>My simple java pojo is this:</p>\n<pre><code>@Data\npublic class Ez{\n  @Column(name = &quot;created_by&quot;)\n  public String createdBy;\n\n  @Column(name = &quot;value&quot;)\n  public String value;\n\n  @Column(name = &quot;scope&quot;)\n  public String scope;\n}\n</code></pre>\n<p><em><strong>and the very similar protobuf object - they differ by one field currently.</strong></em></p>\n<pre><code>  private Ez() {\n    createdBy_ = &quot;&quot;;\n    value_ = &quot;&quot;;\n  }\n\netc.\n</code></pre>\n<p>Of course in my app, there's lots more properties on these objects, but for the sake of discussion, this is what I've got. In reality, I've got a list of these that I'd like to convert into an iterable, to add to my response object all at once. If I find nothing else, I'll write a simple conversion method, but it seemed like a common task, possibly, so I thought I'd ask.</p>\n"},{"tags":["java","spring","configuration","lombok"],"comments":[{"owner":{"account_id":1474041,"reputation":1667,"user_id":1384908,"accept_rate":67,"display_name":"pafau k."},"score":0,"creation_date":1685375140,"post_id":76357192,"comment_id":134648176,"body_markdown":"Isn&#39;t @Builder one of a Project Lombok magical annotations? How would Spring know and be responsible for stuff Lombok does? If it&#39;s documented anywhere, I&#39;d expect it to be on Lombok rather than Spring side","body":"Isn&#39;t @Builder one of a Project Lombok magical annotations? How would Spring know and be responsible for stuff Lombok does? If it&#39;s documented anywhere, I&#39;d expect it to be on Lombok rather than Spring side"},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1685378101,"post_id":76357192,"comment_id":134648618,"body_markdown":"What did you expect when you put @Builder at a configuration class of spring?","body":"What did you expect when you put @Builder at a configuration class of spring?"},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1685418580,"post_id":76357192,"comment_id":134652978,"body_markdown":"If Spring is finding matching class for filling this structure `Map&lt;String, ExportClientConfig&gt;` , and is finding matching data in application.yml and is unable to construct it due to lack of default constructor, then I was expecting it would fail at startup when building ApplicationContext","body":"If Spring is finding matching class for filling this structure <code>Map&lt;String, ExportClientConfig&gt;</code> , and is finding matching data in application.yml and is unable to construct it due to lack of default constructor, then I was expecting it would fail at startup when building ApplicationContext"},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1685418726,"post_id":76357192,"comment_id":134652993,"body_markdown":"If Lombok is magic then what is Spring? Spring is even more magic? I fail to see reason for any attitude against Lombok.","body":"If Lombok is magic then what is Spring? Spring is even more magic? I fail to see reason for any attitude against Lombok."},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1685419006,"post_id":76357192,"comment_id":134653021,"body_markdown":"But, based on your comment, it looks like this is the normal behavior for Spring. That&#39;s helpful - thank you!","body":"But, based on your comment, it looks like this is the normal behavior for Spring. That&#39;s helpful - thank you!"}],"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685361752,"creation_date":1685361752,"question_id":76357192,"body_markdown":"I am facing a situation where a previously working config load stopped working after the Lombok builder annotation was added to a Config class.\r\n\r\nWhat&#39;s more perplexing is that Spring doesn&#39;t even fail startup or even warn in logs about this.\r\n\r\nHere is an example: \r\n\r\n    @Configuration\r\n    @Data\r\n    @ConfigurationProperties(prefix = &quot;app.export&quot;)\r\n    public class ExportConfig {\r\n    \r\n        private String folderPath;\r\n        private Integer capacity;\r\n        private String filename;\r\n    \r\n        private Map&lt;String, ExportClientConfig&gt; clientConfigurations;\r\n    \r\n        public ExportClientConfig getClientConfiguration(String account){\r\n            return clientConfigurations.get(account);\r\n        }\r\n    }\r\n\r\nHere, the `Map&lt;String, ExportClientConfig&gt;` usually gets loaded with all values from the `application.yaml` \r\n\r\nHowever, once @Builder is enabled on the `ExportClientConfig` class, Spring quietly ignores the fact that its not able to construct ExportClientConfig during startup.\r\n\r\nRelevant section of the `application.yml`:\r\n\r\n    app:\r\n      export:\r\n        folderPath: /data/app/export\r\n        capacity: 50\r\n        filename: data.txt\r\n        clientConfigurations:\r\n          ACC1:\r\n            code: ACC1-ABC\r\n            center: 1001\r\n            payCode: SDLKFJS\r\n          ACC2:\r\n            code: ACC2-XYZ\r\n            center: 2001\r\n            payCode: DSFKHKSDJF\r\n\r\n\r\nIf the @Builder alone is reverted, everything works fine. Otherwise, the `clientConfigurations` map is empty. \r\n\r\nIs this behaviour documented anywhere? Is this expeted in Spring or, is it a bug?","title":"Spring quietly doesn&#39;t load config if Config classes have Builder and no default constructor. Why doesnt startup fail?","body":"<p>I am facing a situation where a previously working config load stopped working after the Lombok builder annotation was added to a Config class.</p>\n<p>What's more perplexing is that Spring doesn't even fail startup or even warn in logs about this.</p>\n<p>Here is an example:</p>\n<pre><code>@Configuration\n@Data\n@ConfigurationProperties(prefix = &quot;app.export&quot;)\npublic class ExportConfig {\n\n    private String folderPath;\n    private Integer capacity;\n    private String filename;\n\n    private Map&lt;String, ExportClientConfig&gt; clientConfigurations;\n\n    public ExportClientConfig getClientConfiguration(String account){\n        return clientConfigurations.get(account);\n    }\n}\n</code></pre>\n<p>Here, the <code>Map&lt;String, ExportClientConfig&gt;</code> usually gets loaded with all values from the <code>application.yaml</code></p>\n<p>However, once @Builder is enabled on the <code>ExportClientConfig</code> class, Spring quietly ignores the fact that its not able to construct ExportClientConfig during startup.</p>\n<p>Relevant section of the <code>application.yml</code>:</p>\n<pre><code>app:\n  export:\n    folderPath: /data/app/export\n    capacity: 50\n    filename: data.txt\n    clientConfigurations:\n      ACC1:\n        code: ACC1-ABC\n        center: 1001\n        payCode: SDLKFJS\n      ACC2:\n        code: ACC2-XYZ\n        center: 2001\n        payCode: DSFKHKSDJF\n</code></pre>\n<p>If the @Builder alone is reverted, everything works fine. Otherwise, the <code>clientConfigurations</code> map is empty.</p>\n<p>Is this behaviour documented anywhere? Is this expeted in Spring or, is it a bug?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684332306,"post_id":76272231,"comment_id":134503050,"body_markdown":"The solution is valid and used in many projects. Especially for test environments. But also for local development or build servers.","body":"The solution is valid and used in many projects. Especially for test environments. But also for local development or build servers."}],"answers":[{"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685361431,"creation_date":1685361431,"answer_id":76357158,"question_id":76272231,"body_markdown":"What I suggested seems to work fine for my use case, and is what we&#39;re using now in our code that we control. Note I added logging to the methods that are called as well that log something like the following, and watched the logs to see if this showed up, and it didn&#39;t (as I hoped)\r\n\r\n**&quot;DEV ONLY usage: If found in any non-prod or prod environment, please log as a bug&quot;**\r\n\r\n    @Component\r\n    @Primary\r\n    @Profile(&quot;dev&quot;)\r\n    public class MyLocalDevelopmentOnlyReplacment implements SuperClient {\r\n    ...\r\n    }","title":"Can I combine Spring @Profile and @Primary annotations to force bean choice when doing development?","body":"<p>What I suggested seems to work fine for my use case, and is what we're using now in our code that we control. Note I added logging to the methods that are called as well that log something like the following, and watched the logs to see if this showed up, and it didn't (as I hoped)</p>\n<p><strong>&quot;DEV ONLY usage: If found in any non-prod or prod environment, please log as a bug&quot;</strong></p>\n<pre><code>@Component\n@Primary\n@Profile(&quot;dev&quot;)\npublic class MyLocalDevelopmentOnlyReplacment implements SuperClient {\n...\n}\n</code></pre>\n"}],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76357158,"answer_count":1,"score":0,"last_activity_date":1685361431,"creation_date":1684327276,"question_id":76272231,"body_markdown":"I work on a team that uses lots of libraries that we have little control over.\r\n\r\nOne of them introduces a bean that I want to replace when running locally, using the &quot;dev&quot; profile. It implements the `SuperClient` interface.\r\n\r\nIt appears I can do this using the following, but is there a better way to do this?\r\nRemember the constraints are that I don&#39;t have control over the other bean that is typically injected, so I can&#39;t add `@Conditional` annotations to it.\r\nAnd I can&#39;t qualify every place it&#39;s injected, as I don&#39;t control much of that code either.\r\n\r\n    @Component\r\n    @Primary\r\n    @Profile(&quot;dev&quot;)\r\n    public class MyLocalDevelopmentOnlyReplacment implements SuperClient {\r\n    ...\r\n    }\r\n\r\nNote that I&#39;d like to commit this class to our repo. to simplify local development for the entire team.","title":"Can I combine Spring @Profile and @Primary annotations to force bean choice when doing development?","body":"<p>I work on a team that uses lots of libraries that we have little control over.</p>\n<p>One of them introduces a bean that I want to replace when running locally, using the &quot;dev&quot; profile. It implements the <code>SuperClient</code> interface.</p>\n<p>It appears I can do this using the following, but is there a better way to do this?\nRemember the constraints are that I don't have control over the other bean that is typically injected, so I can't add <code>@Conditional</code> annotations to it.\nAnd I can't qualify every place it's injected, as I don't control much of that code either.</p>\n<pre><code>@Component\n@Primary\n@Profile(&quot;dev&quot;)\npublic class MyLocalDevelopmentOnlyReplacment implements SuperClient {\n...\n}\n</code></pre>\n<p>Note that I'd like to commit this class to our repo. to simplify local development for the entire team.</p>\n"},{"tags":["java","operator-keyword","instanceof"],"comments":[{"owner":{"account_id":15398978,"reputation":316,"user_id":11109119,"display_name":"Guy_g23"},"score":0,"creation_date":1685360636,"post_id":76357051,"comment_id":134645415,"body_markdown":"is cls_Super really defined as a class? in the scope you provided it is a variable name.","body":"is cls_Super really defined as a class? in the scope you provided it is a variable name."}],"answers":[{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685361177,"creation_date":1685360859,"answer_id":76357095,"question_id":76357051,"body_markdown":"You can&#39;t use a Class variable with the `instanceof` keyword, only the literal type name (e.g. `obj instanceof ActualSuperClassName`). With an instance of type `Class` (i.e. `cls_Super`, in your example), you can perform the same test by using the [`Class.isInstance`](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#isInstance-java.lang.Object-) method, i.e.:\r\n\r\n    res = cls_Super.isInstance(this);","title":"Java: instanceof doesn&#39;t compile","body":"<p>You can't use a Class variable with the <code>instanceof</code> keyword, only the literal type name (e.g. <code>obj instanceof ActualSuperClassName</code>). With an instance of type <code>Class</code> (i.e. <code>cls_Super</code>, in your example), you can perform the same test by using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#isInstance-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>Class.isInstance</code></a> method, i.e.:</p>\n<pre><code>res = cls_Super.isInstance(this);\n</code></pre>\n"}],"owner":{"account_id":15706974,"reputation":1,"user_id":11333441,"display_name":"tswd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685361374,"answer_count":1,"score":0,"last_activity_date":1685361266,"creation_date":1685360547,"question_id":76357051,"body_markdown":"I&#39;m a newbie to Java and want to write a method checking if this object is of a sub class of given class &lt;p_SuperClassName&gt;.\r\nEclipse denies compilation of the following code giving the message that &quot;cls_Super can not be resolved to a type&quot;. I don&#39;t know why. Do you have a quick answer to this? Thx a lot in advance!\r\n\r\n    protected boolean isOfSubClassOf(String p_SuperClassName) {\r\n        boolean res = false;\r\n    \r\n        Class&lt;?&gt; cls_Super = null;\r\n        try {\r\n            cls_Super = Class.forName(p_SuperClassName);\r\n            res = (this instanceof cls_Super);\r\n        } catch (ClassNotFoundException cnfe) {\r\n            System.out.println(&quot;ClassNotFoundException: Did not find class &#39;&quot; + p_SuperClassName + &quot;&#39;.&quot;);\r\n            cnfe.printStackTrace();\r\n        }\r\n        return res;\r\n    }\r\n\r\n\r\nas described previously","title":"Java: instanceof doesn&#39;t compile","body":"<p>I'm a newbie to Java and want to write a method checking if this object is of a sub class of given class &lt;p_SuperClassName&gt;.\nEclipse denies compilation of the following code giving the message that &quot;cls_Super can not be resolved to a type&quot;. I don't know why. Do you have a quick answer to this? Thx a lot in advance!</p>\n<pre><code>protected boolean isOfSubClassOf(String p_SuperClassName) {\n    boolean res = false;\n\n    Class&lt;?&gt; cls_Super = null;\n    try {\n        cls_Super = Class.forName(p_SuperClassName);\n        res = (this instanceof cls_Super);\n    } catch (ClassNotFoundException cnfe) {\n        System.out.println(&quot;ClassNotFoundException: Did not find class '&quot; + p_SuperClassName + &quot;'.&quot;);\n        cnfe.printStackTrace();\n    }\n    return res;\n}\n</code></pre>\n<p>as described previously</p>\n"},{"tags":["java","spring-security","java-8","jwt","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":28700496,"reputation":1,"user_id":21977761,"display_name":"Tutorialflow.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685360833,"creation_date":1685343531,"answer_id":76355250,"question_id":73442352,"body_markdown":"The below code can be replaced by loading the bean from the applicationContext of Spring which will not throw this issue in SonarQube.\r\n\r\n     @Autowired\r\n     private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n    \r\n     @Autowired\r\n     private JwtRequestFilter jwtRequestFilter;\r\n\r\nYou can inject an applicationContext and load the classes and use the method directly in the places where you can use the jwtRequestFilter and jwtAuthenticationEntryPoint.\r\n\r\n\r\n```\r\n@Configuration\r\n @EnableWebSecurity\r\n @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n public class SecurityConfig {\r\n \r\n \r\n @Autowired private ApplicationContext applicationContext;\r\n    \r\n\t\r\n\tprivate JwtAuthenticationEntryPoint getAuthEntryPoint() {\r\n\t\treturn applicationContext.getBean(JwtAuthenticationEntryPoint.class);\r\n\t}\r\n\t\r\n\t\r\n\tprivate JwtRequestFilter getRequestFilter() {\r\n\t\treturn applicationContext.getBean(JwtRequestFilter);\r\n\t}\r\n \r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n       httpSecurity.csrf().disable()\r\n             .authorizeRequests()\r\n             .antMatchers(&quot;/authenticate&quot;).permitAll()\r\n             .antMatchers(&quot;/user/updatePassword&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n             .and()                        .exceptionHandling().authenticationEntryPoint(getAuthEntryPoint()).and().sessionManagement()\r\n             .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n\r\n       if (sslEnable) {\r\n         httpSecurity.requiresChannel().anyRequest().requiresSecure();\r\n       }\r\n \r\n      httpSecurity.addFilterBefore(getRequestFilter(), UsernamePasswordAuthenticationFilter.class);\r\n      ..\r\n\t  ..\r\n\t }\r\n }\r\n```\r\n\r\n\r\n","title":"Inject this field value directly into filter chain, the only method that uses it","body":"<p>The below code can be replaced by loading the bean from the applicationContext of Spring which will not throw this issue in SonarQube.</p>\n<pre><code> @Autowired\n private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n\n @Autowired\n private JwtRequestFilter jwtRequestFilter;\n</code></pre>\n<p>You can inject an applicationContext and load the classes and use the method directly in the places where you can use the jwtRequestFilter and jwtAuthenticationEntryPoint.</p>\n<pre><code>@Configuration\n @EnableWebSecurity\n @EnableGlobalMethodSecurity(prePostEnabled = true)\n public class SecurityConfig {\n \n \n @Autowired private ApplicationContext applicationContext;\n    \n    \n    private JwtAuthenticationEntryPoint getAuthEntryPoint() {\n        return applicationContext.getBean(JwtAuthenticationEntryPoint.class);\n    }\n    \n    \n    private JwtRequestFilter getRequestFilter() {\n        return applicationContext.getBean(JwtRequestFilter);\n    }\n \n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n       httpSecurity.csrf().disable()\n             .authorizeRequests()\n             .antMatchers(&quot;/authenticate&quot;).permitAll()\n             .antMatchers(&quot;/user/updatePassword&quot;).permitAll()\n            .anyRequest().authenticated()\n             .and()                        .exceptionHandling().authenticationEntryPoint(getAuthEntryPoint()).and().sessionManagement()\n             .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n\n       if (sslEnable) {\n         httpSecurity.requiresChannel().anyRequest().requiresSecure();\n       }\n \n      httpSecurity.addFilterBefore(getRequestFilter(), UsernamePasswordAuthenticationFilter.class);\n      ..\n      ..\n     }\n }\n</code></pre>\n"}],"owner":{"account_id":25955643,"reputation":47,"user_id":19673046,"display_name":"Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685360833,"creation_date":1661157822,"question_id":73442352,"body_markdown":"I am making code changes to not use deprecated WebSecurityConfigurerAdapter. Hence created a below class. When i run the application it seems to work fine. I had to verify two things here. \r\n1. Does anyone think any more changes are needed here?\r\n\r\n2. The other concern is when i make below changes, it gives me other sonar issue for two fields -\r\njwtAuthenticationEntryPoint\r\nand jwtRequestFilter. The issue states &quot; Inject this field value directly into filter chain, the only method that uses it&quot;. How can i fix this?\r\n\r\n        @Configuration\r\n        @EnableWebSecurity\r\n        @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n        public class SecurityConfig {\r\n    \r\n        @Value(&quot;${SSL.ENABLE}&quot;)\r\n        private boolean sslEnable;\r\n    \r\n        @Autowired\r\n        private PasswordEncoder encoder;\r\n    \r\n        @Autowired\r\n        private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\r\n    \r\n        @Autowired\r\n        private UserDetailsService jwtUserDetailsService;\r\n    \r\n        @Autowired\r\n        private JwtRequestFilter jwtRequestFilter;\r\n    \r\n        @Autowired\r\n        public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n            // configure AuthenticationManager so that it knows from where to load\r\n            // user for matching credentials\r\n            auth.userDetailsService(jwtUserDetailsService).passwordEncoder(encoder);\r\n        }\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(\r\n                AuthenticationConfiguration authConfig) throws Exception {\r\n            return authConfig.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n    \r\n            httpSecurity.csrf().disable()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/authenticate&quot;).permitAll()\r\n                    .antMatchers(&quot;/user/updatePassword&quot;).permitAll()\r\n                   .anyRequest().authenticated()\r\n                    .and()                        .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n    \r\n           \r\n            if (sslEnable) {\r\n                httpSecurity.requiresChannel().anyRequest().requiresSecure();\r\n            }\r\n    \r\n           \r\n            httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n            return httpSecurity.build();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\nI also read in some tutorial they also create a Bean of DaoAuthenticationProvider. something like below\r\nIs is really required?\r\n\r\n    \r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(jwtUserDetailsService);\r\n        authProvider.setPasswordEncoder(encoder);\r\n        return authProvider;\r\n    }","title":"Inject this field value directly into filter chain, the only method that uses it","body":"<p>I am making code changes to not use deprecated WebSecurityConfigurerAdapter. Hence created a below class. When i run the application it seems to work fine. I had to verify two things here.</p>\n<ol>\n<li><p>Does anyone think any more changes are needed here?</p>\n</li>\n<li><p>The other concern is when i make below changes, it gives me other sonar issue for two fields -\njwtAuthenticationEntryPoint\nand jwtRequestFilter. The issue states &quot; Inject this field value directly into filter chain, the only method that uses it&quot;. How can i fix this?</p>\n<pre><code> @Configuration\n @EnableWebSecurity\n @EnableGlobalMethodSecurity(prePostEnabled = true)\n public class SecurityConfig {\n\n @Value(&quot;${SSL.ENABLE}&quot;)\n private boolean sslEnable;\n\n @Autowired\n private PasswordEncoder encoder;\n\n @Autowired\n private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n\n @Autowired\n private UserDetailsService jwtUserDetailsService;\n\n @Autowired\n private JwtRequestFilter jwtRequestFilter;\n\n @Autowired\n public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n     // configure AuthenticationManager so that it knows from where to load\n     // user for matching credentials\n     auth.userDetailsService(jwtUserDetailsService).passwordEncoder(encoder);\n }\n\n @Bean\n public AuthenticationManager authenticationManager(\n         AuthenticationConfiguration authConfig) throws Exception {\n     return authConfig.getAuthenticationManager();\n }\n\n @Bean\n public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n\n     httpSecurity.csrf().disable()\n             .authorizeRequests()\n             .antMatchers(&quot;/authenticate&quot;).permitAll()\n             .antMatchers(&quot;/user/updatePassword&quot;).permitAll()\n            .anyRequest().authenticated()\n             .and()                        .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement()\n             .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n\n     if (sslEnable) {\n         httpSecurity.requiresChannel().anyRequest().requiresSecure();\n     }\n\n\n     httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n     return httpSecurity.build();\n }\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p>I also read in some tutorial they also create a Bean of DaoAuthenticationProvider. something like below\nIs is really required?</p>\n<pre><code>@Bean\npublic DaoAuthenticationProvider authenticationProvider() {\n    DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n    authProvider.setUserDetailsService(jwtUserDetailsService);\n    authProvider.setPasswordEncoder(encoder);\n    return authProvider;\n}\n</code></pre>\n"},{"tags":["java","fonts","itext","itext7"],"owner":{"account_id":26668639,"reputation":21,"user_id":20280354,"display_name":"Brokkoli3000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685360483,"creation_date":1685360483,"question_id":76357039,"body_markdown":"I am trying to generate a justified text in iText 7 and am using TextAlignment.JUSTIFIED so far. Unfortunately, this seems to stretch ALL characters, instead of the spaces between the words, as usual in text-editing programs like word etc. Does sb know, how I can create such a paragraph in iText 7 without needing to hack it together myself?","title":"Justified text in iText 7 by stretching spaces between words","body":"<p>I am trying to generate a justified text in iText 7 and am using TextAlignment.JUSTIFIED so far. Unfortunately, this seems to stretch ALL characters, instead of the spaces between the words, as usual in text-editing programs like word etc. Does sb know, how I can create such a paragraph in iText 7 without needing to hack it together myself?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-config"],"owner":{"account_id":7747001,"reputation":1,"user_id":5864379,"display_name":"Assaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685360359,"creation_date":1685351478,"question_id":76356032,"body_markdown":"I&#39;m trying to develop an `EnvironmentPostProcessor` to add a `PropertySource` to spring `Environment`. (following this [howto](https://docs.spring.io/spring-boot/docs/2.7.8/reference/html/howto.html#howto.application.customize-the-environment-or-application-context)).\r\n\r\nThis `PropertySource` relies on remote connection to some server (i.e. DB). I want the `server-url` to be provided using standard spring properties (application.properties, etc.).\r\n\r\nThis work as expected since at the time of `EnvironmentPostProcessor.postProcessEnvironment` invocation, the `Environment` has already been prepared with all the usual property sources that Spring Boot loads by default (including my `server-url` property).\r\n\r\nThe problem happens when I&#39;m trying to use this `EnvironmentPostProcessor` on integration tests. On such tests I&#39;m running a server using `TestContainers` and providing the `server-url` using `DynamicPropertySource`. It seems that `DynamicPropertySource` is handled **after** the `EnvironmentPostProcessor` thus I&#39;m not able to get the correct `server-url` (so my `EnvironmentPostProcessor` can&#39;t connect correctly to fetch properties).\r\n\r\nWhat it the recommended way to provide a custom `PropertySource` which relies on remote connection that should be configured externally (via tests too)?\r\n\r\nNote: I&#39;m aware of spring-cloud [PropertySourceLocator](https://cloud.spring.io/spring-cloud-commons/multi/multi__spring_cloud_context_application_context_services.html#customizing-bootstrap-property-sources) but would like to achieve the same without dependency on bootstrap context.\r\n\r\nMyEnvironmentPostProcessor (registered via META-INF/spring.factories):\r\n```java\r\npublic class MyEnvironmentPostProcessor implements EnvironmentPostProcessor {\r\n\r\n  @Autowired\r\n  private ApplicationContext applicationContext;\r\n\r\n  @Override\r\n  public void postProcessEnvironment(ConfigurableEnvironment environment,\r\n                                     SpringApplication application) {\r\n\r\n    String serverUrl = environment.getProperty(&quot;server-url&quot;);\r\n\r\n    // use serverUrl to connect and create a PropertySource\r\n    PropertySource remotePropertySource = ...\r\n\r\n    // adding the remotePropertySource to Environment\r\n    environment.getPropertySources().addFirst(remotePropertySource);\r\n  }\r\n}\r\n```\r\n\r\nTest code:\r\n```java\r\n@SpringBootTest\r\npublic class DemoApplicationTest {\r\n\r\n  // This will use TestContainers to spawn my remote server (etcd in this case)\r\n  @RegisterExtension\r\n  static EtcdClusterExtension cluster = EtcdClusterExtension.builder().build();\r\n\r\n  // Using dynamic property source to provide correct value of remote server, hopefully to be used\r\n  // by MyEnvironmentPostProcessor\r\n  @DynamicPropertySource\r\n  static void remoteServerProperties(DynamicPropertyRegistry registry) {\r\n    registry.add(&quot;server-url&quot;, cluster::clientEndpoints);\r\n  }\r\n}\r\n```","title":"Spring `DynamicPropertySource` property is not available to `EnvironmentPostProcessor` - &quot;chicken &amp; egg&quot;","body":"<p>I'm trying to develop an <code>EnvironmentPostProcessor</code> to add a <code>PropertySource</code> to spring <code>Environment</code>. (following this <a href=\"https://docs.spring.io/spring-boot/docs/2.7.8/reference/html/howto.html#howto.application.customize-the-environment-or-application-context\" rel=\"nofollow noreferrer\">howto</a>).</p>\n<p>This <code>PropertySource</code> relies on remote connection to some server (i.e. DB). I want the <code>server-url</code> to be provided using standard spring properties (application.properties, etc.).</p>\n<p>This work as expected since at the time of <code>EnvironmentPostProcessor.postProcessEnvironment</code> invocation, the <code>Environment</code> has already been prepared with all the usual property sources that Spring Boot loads by default (including my <code>server-url</code> property).</p>\n<p>The problem happens when I'm trying to use this <code>EnvironmentPostProcessor</code> on integration tests. On such tests I'm running a server using <code>TestContainers</code> and providing the <code>server-url</code> using <code>DynamicPropertySource</code>. It seems that <code>DynamicPropertySource</code> is handled <strong>after</strong> the <code>EnvironmentPostProcessor</code> thus I'm not able to get the correct <code>server-url</code> (so my <code>EnvironmentPostProcessor</code> can't connect correctly to fetch properties).</p>\n<p>What it the recommended way to provide a custom <code>PropertySource</code> which relies on remote connection that should be configured externally (via tests too)?</p>\n<p>Note: I'm aware of spring-cloud <a href=\"https://cloud.spring.io/spring-cloud-commons/multi/multi__spring_cloud_context_application_context_services.html#customizing-bootstrap-property-sources\" rel=\"nofollow noreferrer\">PropertySourceLocator</a> but would like to achieve the same without dependency on bootstrap context.</p>\n<p>MyEnvironmentPostProcessor (registered via META-INF/spring.factories):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyEnvironmentPostProcessor implements EnvironmentPostProcessor {\n\n  @Autowired\n  private ApplicationContext applicationContext;\n\n  @Override\n  public void postProcessEnvironment(ConfigurableEnvironment environment,\n                                     SpringApplication application) {\n\n    String serverUrl = environment.getProperty(&quot;server-url&quot;);\n\n    // use serverUrl to connect and create a PropertySource\n    PropertySource remotePropertySource = ...\n\n    // adding the remotePropertySource to Environment\n    environment.getPropertySources().addFirst(remotePropertySource);\n  }\n}\n</code></pre>\n<p>Test code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\npublic class DemoApplicationTest {\n\n  // This will use TestContainers to spawn my remote server (etcd in this case)\n  @RegisterExtension\n  static EtcdClusterExtension cluster = EtcdClusterExtension.builder().build();\n\n  // Using dynamic property source to provide correct value of remote server, hopefully to be used\n  // by MyEnvironmentPostProcessor\n  @DynamicPropertySource\n  static void remoteServerProperties(DynamicPropertyRegistry registry) {\n    registry.add(&quot;server-url&quot;, cluster::clientEndpoints);\n  }\n}\n</code></pre>\n"},{"tags":["java","thymeleaf"],"comments":[{"owner":{"account_id":20187307,"reputation":846,"user_id":14806310,"display_name":"Donato Amasa"},"score":0,"creation_date":1617839954,"post_id":66995619,"comment_id":118423137,"body_markdown":"Hi! Welcome to SO, this site requires posts to be in ENGLISH language. I think there is a dedicated SO site that caters to your language","body":"Hi! Welcome to SO, this site requires posts to be in ENGLISH language. I think there is a dedicated SO site that caters to your language"},{"owner":{"account_id":14256348,"reputation":21,"user_id":15578365,"display_name":"Newton Sandey"},"score":0,"creation_date":1617840300,"post_id":66995619,"comment_id":118423190,"body_markdown":"Oh my mystake, edited.","body":"Oh my mystake, edited."},{"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"score":0,"creation_date":1618314379,"post_id":66995619,"comment_id":118559155,"body_markdown":"hello, when are you getting that error? when trying to save a new doctor? I think the error is occurring because you are saving the doctor without selecting a specialty and the field specialty_id in doctor is of type int.","body":"hello, when are you getting that error? when trying to save a new doctor? I think the error is occurring because you are saving the doctor without selecting a specialty and the field specialty_id in doctor is of type int."}],"answers":[{"tags":[],"owner":{"account_id":28684959,"reputation":1,"user_id":21965409,"display_name":"Nagarajan k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685360358,"creation_date":1685360358,"answer_id":76357018,"question_id":66995619,"body_markdown":"\t&lt;select th:field=&quot;*{specialities}&quot;&gt;\r\n                      &lt;option value=&quot;&quot;&gt;Select...&lt;/option&gt;\r\n                      &lt;option th:each=&quot;speciality: ${specialties}&quot; th:value=&quot;${speciality.id}&quot; \r\n                      th:text=&quot;${speciality.name}&quot; /&gt;\r\n&lt;/select&gt;   \r\n you have to call the specialities  on th:field instead of th:field=&quot;*{speciality_id}&quot;\r\n\r\n\r\ni have mentioned the correct code on above","title":"Populating thymeleaf dropdown with data of another table and saving id","body":"<pre><code>&lt;select th:field=&quot;*{specialities}&quot;&gt;\n                  &lt;option value=&quot;&quot;&gt;Select...&lt;/option&gt;\n                  &lt;option th:each=&quot;speciality: ${specialties}&quot; th:value=&quot;${speciality.id}&quot; \n                  th:text=&quot;${speciality.name}&quot; /&gt;\n</code></pre>\n   \n you have to call the specialities  on th:field instead of th:field=\"*{speciality_id}\"\n<p>i have mentioned the correct code on above</p>\n"}],"owner":{"account_id":14256348,"reputation":21,"user_id":15578365,"display_name":"Newton Sandey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1685360358,"creation_date":1617839675,"question_id":66995619,"body_markdown":"\r\nI have two tables: **Specialty** and **Doctor**. I need to populate a dropdown on newDoctor form with Specialties (Strings), but save on Doctor table the speciality_id (FK on Doctor table that references id (PK in Speciality table).\r\n\r\n**ControllerDoctor:**\r\n\r\n    @RequestMapping(value = &quot;/newDoctor&quot;, method=RequestMethod.GET)\r\n    \tpublic String insert(Model model) throws SQLException\r\n    \t{\r\n    \t\tmodel.addAttribute(&quot;doctor&quot;, new Doctor());\r\n    \t\t\r\n    \t\tList&lt;Specialty&gt; specialties = SpecialtyDAO.getAll();\r\n    \t\tmodel.addAttribute(&quot;specialties&quot;, specialties);\r\n    \t\t\r\n    \t\treturn &quot;doctors/newDoctor&quot;;\r\n    \t}\r\n\r\n**New Doctor form:**\r\n\r\n    ...\r\n    &lt;select th:field=&quot;*{speciality_id}&quot;&gt;\r\n            \t\t\t  &lt;option value=&quot;&quot;&gt;Select...&lt;/option&gt;\r\n            \t\t\t  &lt;option th:each=&quot;speciality: ${specialties}&quot; th:value=&quot;${speciality.id}&quot; \r\n                          th:text=&quot;${speciality.name}&quot; /&gt;\r\n    &lt;/select&gt;   \r\n    ...\r\n\r\nTryed this way but got this error:\r\n*Failed to convert from type [java.lang.String] to type [int] for value &#39;null&#39;; nested exception is java.lang.IllegalArgumentException: A null value cannot be assigned to a primitive type*\r\n\r\nHow can I solve it?","title":"Populating thymeleaf dropdown with data of another table and saving id","body":"<p>I have two tables: <strong>Specialty</strong> and <strong>Doctor</strong>. I need to populate a dropdown on newDoctor form with Specialties (Strings), but save on Doctor table the speciality_id (FK on Doctor table that references id (PK in Speciality table).</p>\n<p><strong>ControllerDoctor:</strong></p>\n<pre><code>@RequestMapping(value = &quot;/newDoctor&quot;, method=RequestMethod.GET)\n    public String insert(Model model) throws SQLException\n    {\n        model.addAttribute(&quot;doctor&quot;, new Doctor());\n        \n        List&lt;Specialty&gt; specialties = SpecialtyDAO.getAll();\n        model.addAttribute(&quot;specialties&quot;, specialties);\n        \n        return &quot;doctors/newDoctor&quot;;\n    }\n</code></pre>\n<p><strong>New Doctor form:</strong></p>\n<pre><code>...\n&lt;select th:field=&quot;*{speciality_id}&quot;&gt;\n                      &lt;option value=&quot;&quot;&gt;Select...&lt;/option&gt;\n                      &lt;option th:each=&quot;speciality: ${specialties}&quot; th:value=&quot;${speciality.id}&quot; \n                      th:text=&quot;${speciality.name}&quot; /&gt;\n&lt;/select&gt;   \n...\n</code></pre>\n<p>Tryed this way but got this error:\n<em>Failed to convert from type [java.lang.String] to type [int] for value 'null'; nested exception is java.lang.IllegalArgumentException: A null value cannot be assigned to a primitive type</em></p>\n<p>How can I solve it?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685359067,"creation_date":1685359067,"answer_id":76356869,"question_id":76356741,"body_markdown":"In Java you have to create constructors explicitly:\r\n``` lang-java\r\npublic class SessionManager {\r\n   SharedPreferences preferencias;\r\n   public SessionManager(Context mContext) {\r\n      preferencias=mContext.getSharedPreferences(&quot;Preferencias&quot;, Context.MODE_PRIVATE);\r\n   }\r\n...\r\n}\r\n```","title":"Getting cannot resolve symbol &#39;mContext&#39; when I use context as a parameter in java class in android project","body":"<p>In Java you have to create constructors explicitly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SessionManager {\n   SharedPreferences preferencias;\n   public SessionManager(Context mContext) {\n      preferencias=mContext.getSharedPreferences(&quot;Preferencias&quot;, Context.MODE_PRIVATE);\n   }\n...\n}\n</code></pre>\n"}],"owner":{"account_id":28229349,"reputation":25,"user_id":21578797,"display_name":"Luis Daniels"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76356869,"answer_count":1,"score":0,"last_activity_date":1685359067,"creation_date":1685357837,"question_id":76356741,"body_markdown":"I have this java class in kotlin:\r\n\r\n    class SessionManager (context: Context) {\r\n        private var prefs: SharedPreferences = context.getSharedPreferences(context.getString(R.string.app_name), Context.MODE_PRIVATE)\r\n        \r\n        companion object {\r\n            const val USER_TOKEN = &quot;user_token&quot;\r\n        }\r\n    \r\n        /**\r\n         * Function to save auth token\r\n         */\r\n        fun saveAuthToken(token: String) {\r\n            val editor = prefs.edit()\r\n            editor.putString(USER_TOKEN, token)\r\n            editor.apply()\r\n        }\r\n    \r\n        /**\r\n         * Function to fetch auth token\r\n         */\r\n        fun fetchAuthToken(): String? {\r\n            return prefs.getString(USER_TOKEN, null)\r\n        }\r\n    }\r\n\r\nAnd I want to make it in java. I have done it like this, but I&#180;m getting an error with the context:\r\n\r\n    public class SessionManager(Context mContext){\r\n    \r\n    \r\n    \r\n        SharedPreferences preferencias=mContext.getSharedPreferences(&quot;Preferencias&quot;, Context.MODE_PRIVATE);\r\n    \r\n        public void saveAuthToken(String token){\r\n            SharedPreferences.Editor editor=preferencias.edit();\r\n            editor.putString(&quot;user_token&quot;,token);\r\n            editor.apply();\r\n        }\r\n    \r\n        public String fetchAuthToken() {\r\n            return preferencias.getString(&quot;user_token&quot;, null);\r\n        }\r\n    }\r\n\r\nI get  Cannot resolve symbol &#39;mContext&#39; and I don&#180;t know why. \r\nAny idea?\r\nThank you.\r\n","title":"Getting cannot resolve symbol &#39;mContext&#39; when I use context as a parameter in java class in android project","body":"<p>I have this java class in kotlin:</p>\n<pre><code>class SessionManager (context: Context) {\n    private var prefs: SharedPreferences = context.getSharedPreferences(context.getString(R.string.app_name), Context.MODE_PRIVATE)\n    \n    companion object {\n        const val USER_TOKEN = &quot;user_token&quot;\n    }\n\n    /**\n     * Function to save auth token\n     */\n    fun saveAuthToken(token: String) {\n        val editor = prefs.edit()\n        editor.putString(USER_TOKEN, token)\n        editor.apply()\n    }\n\n    /**\n     * Function to fetch auth token\n     */\n    fun fetchAuthToken(): String? {\n        return prefs.getString(USER_TOKEN, null)\n    }\n}\n</code></pre>\n<p>And I want to make it in java. I have done it like this, but I´m getting an error with the context:</p>\n<pre><code>public class SessionManager(Context mContext){\n\n\n\n    SharedPreferences preferencias=mContext.getSharedPreferences(&quot;Preferencias&quot;, Context.MODE_PRIVATE);\n\n    public void saveAuthToken(String token){\n        SharedPreferences.Editor editor=preferencias.edit();\n        editor.putString(&quot;user_token&quot;,token);\n        editor.apply();\n    }\n\n    public String fetchAuthToken() {\n        return preferencias.getString(&quot;user_token&quot;, null);\n    }\n}\n</code></pre>\n<p>I get  Cannot resolve symbol 'mContext' and I don´t know why.\nAny idea?\nThank you.</p>\n"},{"tags":["java","android","machine-learning","backend","render"],"owner":{"account_id":28701821,"reputation":1,"user_id":21978859,"display_name":"Omkar Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685358632,"creation_date":1685357476,"question_id":76356703,"body_markdown":"    org.json.JSONException: Value Hello of type java.lang.String cannot be converted to JSONObject\r\n\r\nI have created an android application in android studio and linked it to a ML model which I have deployed on render. When I am hitting request through postman I am getting the output, but when I am hitting request using app no output is coming.\r\nCan anyone help with it?\r\n\r\n\r\n\r\n    public class Prediction extends AppCompatActivity {\r\n    \r\n    \r\n        Button button5, button6;\r\n        FirebaseAuth auth;\r\n        FirebaseUser user;\r\n        private TextView output;\r\n        TextView user_details;\r\n        EditText age,gender,study_time,smoke,family_income,room_type;\r\n        String url = &quot;https://major-project-1jj5.onrender.com&quot;;\r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n           // supportRequestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            getSupportActionBar().hide();\r\n            setContentView(R.layout.activity_prediction);\r\n    \r\n            auth = FirebaseAuth.getInstance();\r\n    \r\n            button5 = (Button)findViewById(R.id.button5);\r\n            output = (TextView)findViewById(R.id.output);\r\n            age = (EditText)findViewById(R.id.age);\r\n            gender = (EditText)findViewById(R.id.gender);\r\n            study_time = (EditText)findViewById(R.id.study_time);\r\n            smoke = (EditText)findViewById(R.id.smoke);\r\n            family_income = (EditText)findViewById(R.id.family_income);\r\n            room_type = (EditText)findViewById(R.id.room_type);\r\n    \r\n            button6 = (Button)findViewById(R.id.button6);\r\n            user_details = (TextView)findViewById(R.id.user_details);\r\n            user = auth.getCurrentUser();\r\n    \r\n    \r\n            button5.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                    StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;() {\r\n                        @Override\r\n                        public void onResponse(String response) {\r\n    \r\n                            try {\r\n                                JSONObject jsonObject =new JSONObject(response);\r\n                                String data = jsonObject.getString(&quot;hostel_name&quot;);\r\n                                if(data.equals(&quot;1&quot;)){\r\n                                    output.setText(&quot;Boys Hostel - Room 1&quot;);\r\n                                }\r\n                                else if (data.equals(&quot;2&quot;)){\r\n                                    output.setText(&quot;Boys Hostel - Room 2&quot;);\r\n                                }\r\n                                else if (data.equals(&quot;3&quot;)){\r\n                                    output.setText(&quot;Boys Hostel - Room 3&quot;);\r\n                                }\r\n                                else if (data.equals(&quot;4&quot;)){\r\n                                    output.setText(&quot;Boys Hostel - Room 4&quot;);\r\n                                }\r\n                                else if (data.equals(&quot;5&quot;)){\r\n                                    output.setText(&quot;Girls Hostel - Room 1&quot;);\r\n                                }\r\n                                else if (data.equals(&quot;6&quot;)){\r\n                                    output.setText(&quot;Girls Hostel - Room 2&quot;);\r\n                                }\r\n                                else if (data.equals(&quot;7&quot;)){\r\n                                    output.setText(&quot;Girls Hostel - Room 3&quot;);\r\n                                }\r\n                                else if (data.equals(&quot;8&quot;)){\r\n                                    output.setText(&quot;Girls Hostel - Room 4&quot;);\r\n                                }\r\n                                else {\r\n                                    output.setText(&quot;Enter Correct Value&quot;);\r\n                                }\r\n    \r\n                            }catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n    \r\n                        }\r\n                    },\r\n                            new Response.ErrorListener() {\r\n                                @Override\r\n                                public void onErrorResponse(VolleyError error) {\r\n                                    Toast.makeText(Prediction.this, error.getMessage(), Toast.LENGTH_SHORT).show();\r\n    \r\n                                }\r\n                            } ){\r\n                        @Override\r\n                        protected Map&lt;String,String&gt; getParams(){\r\n                            Map&lt;String,String&gt; params = new HashMap&lt;String,String&gt;();\r\n                            params.put(&quot;age&quot;,age.getText().toString());\r\n                            params.put(&quot;gender&quot;,gender.getText().toString());\r\n                            params.put(&quot;study_time&quot;,study_time.getText().toString());\r\n                            params.put(&quot;smoke&quot;,smoke.getText().toString());\r\n                            params.put(&quot;room_type&quot;,room_type.getText().toString());\r\n                            params.put(&quot;family_income&quot;,family_income.getText().toString());\r\n                            return params;\r\n                        }\r\n    \r\n                    };\r\n                    RequestQueue queue = Volley.newRequestQueue(Prediction.this);\r\n                    queue.add(stringRequest);\r\n    \r\n                }\r\n            });\r\n    \r\n            if (user == null){\r\n                Intent intent = new Intent(getApplicationContext(), MainActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n            else {\r\n                user_details.setText(user.getEmail());\r\n            }\r\n            button6.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    FirebaseAuth.getInstance().signOut();\r\n                    Intent intent = new Intent(getApplicationContext(), MainActivity.class);\r\n                    startActivity(intent);\r\n                    finish();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nFirst I used POST method and error occured. Then I used GET method error was solved code is running but output is not there. I have checked the url on postman its working.\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/z025G.png)","title":"Getting a &#39;Type cannot be converted to JSONObject&#39; error in my Android app when accessing a Render deployed ML model","body":"<pre><code>org.json.JSONException: Value Hello of type java.lang.String cannot be converted to JSONObject\n</code></pre>\n<p>I have created an android application in android studio and linked it to a ML model which I have deployed on render. When I am hitting request through postman I am getting the output, but when I am hitting request using app no output is coming.\nCan anyone help with it?</p>\n<pre><code>public class Prediction extends AppCompatActivity {\n\n\n    Button button5, button6;\n    FirebaseAuth auth;\n    FirebaseUser user;\n    private TextView output;\n    TextView user_details;\n    EditText age,gender,study_time,smoke,family_income,room_type;\n    String url = &quot;https://major-project-1jj5.onrender.com&quot;;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n       // supportRequestWindowFeature(Window.FEATURE_NO_TITLE);\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        getSupportActionBar().hide();\n        setContentView(R.layout.activity_prediction);\n\n        auth = FirebaseAuth.getInstance();\n\n        button5 = (Button)findViewById(R.id.button5);\n        output = (TextView)findViewById(R.id.output);\n        age = (EditText)findViewById(R.id.age);\n        gender = (EditText)findViewById(R.id.gender);\n        study_time = (EditText)findViewById(R.id.study_time);\n        smoke = (EditText)findViewById(R.id.smoke);\n        family_income = (EditText)findViewById(R.id.family_income);\n        room_type = (EditText)findViewById(R.id.room_type);\n\n        button6 = (Button)findViewById(R.id.button6);\n        user_details = (TextView)findViewById(R.id.user_details);\n        user = auth.getCurrentUser();\n\n\n        button5.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                StringRequest stringRequest = new StringRequest(Request.Method.GET, url, new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n\n                        try {\n                            JSONObject jsonObject =new JSONObject(response);\n                            String data = jsonObject.getString(&quot;hostel_name&quot;);\n                            if(data.equals(&quot;1&quot;)){\n                                output.setText(&quot;Boys Hostel - Room 1&quot;);\n                            }\n                            else if (data.equals(&quot;2&quot;)){\n                                output.setText(&quot;Boys Hostel - Room 2&quot;);\n                            }\n                            else if (data.equals(&quot;3&quot;)){\n                                output.setText(&quot;Boys Hostel - Room 3&quot;);\n                            }\n                            else if (data.equals(&quot;4&quot;)){\n                                output.setText(&quot;Boys Hostel - Room 4&quot;);\n                            }\n                            else if (data.equals(&quot;5&quot;)){\n                                output.setText(&quot;Girls Hostel - Room 1&quot;);\n                            }\n                            else if (data.equals(&quot;6&quot;)){\n                                output.setText(&quot;Girls Hostel - Room 2&quot;);\n                            }\n                            else if (data.equals(&quot;7&quot;)){\n                                output.setText(&quot;Girls Hostel - Room 3&quot;);\n                            }\n                            else if (data.equals(&quot;8&quot;)){\n                                output.setText(&quot;Girls Hostel - Room 4&quot;);\n                            }\n                            else {\n                                output.setText(&quot;Enter Correct Value&quot;);\n                            }\n\n                        }catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n\n                    }\n                },\n                        new Response.ErrorListener() {\n                            @Override\n                            public void onErrorResponse(VolleyError error) {\n                                Toast.makeText(Prediction.this, error.getMessage(), Toast.LENGTH_SHORT).show();\n\n                            }\n                        } ){\n                    @Override\n                    protected Map&lt;String,String&gt; getParams(){\n                        Map&lt;String,String&gt; params = new HashMap&lt;String,String&gt;();\n                        params.put(&quot;age&quot;,age.getText().toString());\n                        params.put(&quot;gender&quot;,gender.getText().toString());\n                        params.put(&quot;study_time&quot;,study_time.getText().toString());\n                        params.put(&quot;smoke&quot;,smoke.getText().toString());\n                        params.put(&quot;room_type&quot;,room_type.getText().toString());\n                        params.put(&quot;family_income&quot;,family_income.getText().toString());\n                        return params;\n                    }\n\n                };\n                RequestQueue queue = Volley.newRequestQueue(Prediction.this);\n                queue.add(stringRequest);\n\n            }\n        });\n\n        if (user == null){\n            Intent intent = new Intent(getApplicationContext(), MainActivity.class);\n            startActivity(intent);\n            finish();\n        }\n        else {\n            user_details.setText(user.getEmail());\n        }\n        button6.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                FirebaseAuth.getInstance().signOut();\n                Intent intent = new Intent(getApplicationContext(), MainActivity.class);\n                startActivity(intent);\n                finish();\n            }\n        });\n    }\n}\n</code></pre>\n<p>First I used POST method and error occured. Then I used GET method error was solved code is running but output is not there. I have checked the url on postman its working.</p>\n<p><a href=\"https://i.stack.imgur.com/z025G.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","counter"],"comments":[{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":4,"creation_date":1547765518,"post_id":54245366,"comment_id":95315366,"body_markdown":"I think you&#39;re over complicating it. Simply keep track of your current level (starting at sea level). If you drop below sea level and come back up, that&#39;s a valley. Nothing else matters.","body":"I think you&#39;re over complicating it. Simply keep track of your current level (starting at sea level). If you drop below sea level and come back up, that&#39;s a valley. Nothing else matters."},{"owner":{"account_id":6994498,"reputation":8622,"user_id":5362583,"accept_rate":0,"display_name":"Alok"},"score":0,"creation_date":1547766193,"post_id":54245366,"comment_id":95315592,"body_markdown":"I tried, but still couldn&#39;t get the result. I have put up a check too `if (s.charAt(i) == &#39;U&#39;){level++ if(level==0) valeys++;}, else if(s.charAt(i) == &#39;D&#39;){level--; if(level==0) valleys++;}`. But got the wrong result","body":"I tried, but still couldn&#39;t get the result. I have put up a check too <code>if (s.charAt(i) == &#39;U&#39;){level++ if(level==0) valeys++;}, else if(s.charAt(i) == &#39;D&#39;){level--; if(level==0) valleys++;}</code>. But got the wrong result"},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1547767238,"post_id":54245366,"comment_id":95315887,"body_markdown":"That looks better, but is still not quite right. Check out my answer.","body":"That looks better, but is still not quite right. Check out my answer."}],"answers":[{"comments":[{"owner":{"account_id":6994498,"reputation":8622,"user_id":5362583,"accept_rate":0,"display_name":"Alok"},"score":0,"creation_date":1547767337,"post_id":54245687,"comment_id":95315922,"body_markdown":"Thanks for the edit, but question remains same for the next one  that is : And why can&#39;t we check the level in both the cases, since the `level=0` can come in any one of the cases","body":"Thanks for the edit, but question remains same for the next one  that is : And why can&#39;t we check the level in both the cases, since the <code>level=0</code> can come in any one of the cases"},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":0,"creation_date":1547767444,"post_id":54245687,"comment_id":95315953,"body_markdown":"I was checking `level == -1` _before_ I incremented the level. I&#39;ve switched to incrementing first and checking `level == 0` for clarity.","body":"I was checking <code>level == -1</code> <i>before</i> I incremented the level. I&#39;ve switched to incrementing first and checking <code>level == 0</code> for clarity."},{"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"score":1,"creation_date":1547767543,"post_id":54245687,"comment_id":95315981,"body_markdown":"There&#39;s no need to check anything when moving down as it&#39;s only a valley if you come out of it. If you finish below sea-level this is not a valley (from my reading of the rules).","body":"There&#39;s no need to check anything when moving down as it&#39;s only a valley if you come out of it. If you finish below sea-level this is not a valley (from my reading of the rules)."},{"owner":{"account_id":11450035,"reputation":371,"user_id":8392670,"display_name":"Mohamed Amine MAAROUFI"},"score":0,"creation_date":1603359964,"post_id":54245687,"comment_id":114014952,"body_markdown":"this solution failed in the case of path = &quot;dudu&quot;, check my solution","body":"this solution failed in the case of path = &quot;dudu&quot;, check my solution"}],"tags":[],"owner":{"account_id":45865,"reputation":11735,"user_id":135351,"accept_rate":80,"display_name":"dave"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1547767617,"creation_date":1547767180,"answer_id":54245687,"question_id":54245366,"body_markdown":"The key to this problem is understanding what constitutes a valley. From my reading, you only count a valley when you come out of it. The rule states a valley ends with &quot;... a step up to sea level&quot;.\r\n\r\nSo we keep track of our level and only if we move from just below sea level to sea level, do we count a valley. Here&#39;s my quick attempt:\r\n\r\n    private int countValleys(String s)\r\n    {\r\n        int level = 0; // 0 is sea-level\r\n        int valleys = 0;\r\n\r\n        for (char c : s.toCharArray())\r\n        {\r\n            if (c == &#39;U&#39;) {\r\n                level++;\r\n                if (level == 0)\r\n                {\r\n                    valleys++;\r\n                }\r\n            }\r\n            else {\r\n                level--;\r\n            }\r\n        }\r\n        return valleys;\r\n    }\r\n\r\nI ran the following test cases (from your question) and they all passed:\r\n\r\n    @Test\r\n    public void testValleyCounting()\r\n    {\r\n        Assert.assertEquals(1, countValleys(&quot;UDDDUDUU&quot;));\r\n        Assert.assertEquals(2, countValleys(&quot;DDUUDDUDUUUD&quot;));\r\n        Assert.assertEquals(2, countValleys(&quot;DUDDDUUDUU&quot;));\r\n        Assert.assertEquals(2, countValleys(&quot;DUDUUUUUUUUDUDDUUDUUDDDUUDDDDDUUDUUUUDDDUUUUUUUDDUDUDUUUDDDDUUDDDUDDDDUUDDUDDUUUDUUUDUUDUDUDDDDDDDDD&quot;));\r\n    }\r\n\r\nPlease try on all the test cases you have and let me know if any fail.","title":"Counting Valleys","body":"<p>The key to this problem is understanding what constitutes a valley. From my reading, you only count a valley when you come out of it. The rule states a valley ends with \"... a step up to sea level\".</p>\n\n<p>So we keep track of our level and only if we move from just below sea level to sea level, do we count a valley. Here's my quick attempt:</p>\n\n<pre><code>private int countValleys(String s)\n{\n    int level = 0; // 0 is sea-level\n    int valleys = 0;\n\n    for (char c : s.toCharArray())\n    {\n        if (c == 'U') {\n            level++;\n            if (level == 0)\n            {\n                valleys++;\n            }\n        }\n        else {\n            level--;\n        }\n    }\n    return valleys;\n}\n</code></pre>\n\n<p>I ran the following test cases (from your question) and they all passed:</p>\n\n<pre><code>@Test\npublic void testValleyCounting()\n{\n    Assert.assertEquals(1, countValleys(\"UDDDUDUU\"));\n    Assert.assertEquals(2, countValleys(\"DDUUDDUDUUUD\"));\n    Assert.assertEquals(2, countValleys(\"DUDDDUUDUU\"));\n    Assert.assertEquals(2, countValleys(\"DUDUUUUUUUUDUDDUUDUUDDDUUDDDDDUUDUUUUDDDUUUUUUUDDUDUDUUUDDDDUUDDDUDDDDUUDDUDDUUUDUUUDUUDUDUDDDDDDDDD\"));\n}\n</code></pre>\n\n<p>Please try on all the test cases you have and let me know if any fail.</p>\n"},{"tags":[],"owner":{"account_id":1752540,"reputation":406,"user_id":1601309,"accept_rate":0,"display_name":"Kanahaiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550477378,"creation_date":1550477378,"answer_id":54742849,"question_id":54245366,"body_markdown":"The key is while going up you have to check for sea level and ignore the downtrend for fast processing.\r\n\r\nHere is my simple and precise solution -\r\n\r\n    static int countingValleys(int n, String s) {\r\n    \r\n    \t\tint valleyCounter = 0, altitude = 0;\r\n    \r\n    \t\tfor (int i = 0; i &lt; n; i++) {\r\n    \t\t\tchar ch = s.charAt(i);\r\n    \t\t\tif (ch == &#39;U&#39;) {\r\n    \t\t\t\taltitude++;\r\n    \t\t\t\tif (altitude == 0) {\r\n    \t\t\t\t\tvalleyCounter++;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t} else {\r\n    \r\n    \t\t\t\taltitude--;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn valleyCounter;\r\n    \t}\r\n\r\nIf still not clear and need more explanation you can [click][1] here.\r\n\r\n\r\n  [1]: https://youtu.be/MMmFELo0QjM","title":"Counting Valleys","body":"<p>The key is while going up you have to check for sea level and ignore the downtrend for fast processing.</p>\n\n<p>Here is my simple and precise solution -</p>\n\n<pre><code>static int countingValleys(int n, String s) {\n\n        int valleyCounter = 0, altitude = 0;\n\n        for (int i = 0; i &lt; n; i++) {\n            char ch = s.charAt(i);\n            if (ch == 'U') {\n                altitude++;\n                if (altitude == 0) {\n                    valleyCounter++;\n                }\n\n            } else {\n\n                altitude--;\n            }\n        }\n        return valleyCounter;\n    }\n</code></pre>\n\n<p>If still not clear and need more explanation you can <a href=\"https://youtu.be/MMmFELo0QjM\" rel=\"nofollow noreferrer\">click</a> here.</p>\n"},{"tags":[],"owner":{"account_id":12847964,"reputation":53,"user_id":9293747,"display_name":"Ajit A Ankalle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601831863,"creation_date":1601831863,"answer_id":64197622,"question_id":54245366,"body_markdown":"    /* Counting Valleys */\r\n        public static int countingValleys(int steps, String path) {\r\n            int current_position = 0, vally = 0;\r\n            if(steps &gt;= 2 &amp;&amp; steps &lt;= 1000000) {\r\n                int previous_position = 0;\r\n                for(char ch: path.toCharArray()) {\r\n                    previous_position = current_position;\r\n                    if(ch == &#39;U&#39;) {\r\n                        current_position++;\r\n                    } else if(ch == &#39;D&#39;) {\r\n                        current_position--;\r\n                    }\r\n                    if(current_position == 0 &amp; previous_position &lt; 0 ) {\r\n                        vally ++;\r\n                    }\r\n                }\r\n            }\r\n            return vally;\r\n        }","title":"Counting Valleys","body":"<pre><code>/* Counting Valleys */\n    public static int countingValleys(int steps, String path) {\n        int current_position = 0, vally = 0;\n        if(steps &gt;= 2 &amp;&amp; steps &lt;= 1000000) {\n            int previous_position = 0;\n            for(char ch: path.toCharArray()) {\n                previous_position = current_position;\n                if(ch == 'U') {\n                    current_position++;\n                } else if(ch == 'D') {\n                    current_position--;\n                }\n                if(current_position == 0 &amp; previous_position &lt; 0 ) {\n                    vally ++;\n                }\n            }\n        }\n        return vally;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11450035,"reputation":371,"user_id":8392670,"display_name":"Mohamed Amine MAAROUFI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603359710,"creation_date":1603359710,"answer_id":64479532,"question_id":54245366,"body_markdown":"C++ optimised solution\r\n\r\n       int countingValleys(int steps, string path) {\r\n\r\n         int seaLevel = 0, countValley = 0;\r\n         bool isU = false;\r\n         for (char c : path)\r\n         {\r\n            if(c == &#39;U&#39; || c == &#39;u&#39;)\r\n            {\r\n               isU = true;\r\n               ++seaLevel;\r\n            }            \r\n            else\r\n            {\r\n               isU = false;\r\n               --seaLevel;\r\n            }\r\n\r\n            if(seaLevel == 0 &amp;&amp; isU)\r\n            {           \r\n               ++countValley;\r\n            }\r\n            \r\n         }\r\n\r\n         return countValley;\r\n      }","title":"Counting Valleys","body":"<p>C++ optimised solution</p>\n<pre><code>   int countingValleys(int steps, string path) {\n\n     int seaLevel = 0, countValley = 0;\n     bool isU = false;\n     for (char c : path)\n     {\n        if(c == 'U' || c == 'u')\n        {\n           isU = true;\n           ++seaLevel;\n        }            \n        else\n        {\n           isU = false;\n           --seaLevel;\n        }\n\n        if(seaLevel == 0 &amp;&amp; isU)\n        {           \n           ++countValley;\n        }\n        \n     }\n\n     return countValley;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19925789,"reputation":1,"user_id":14600519,"display_name":"Rahul Tej "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604845306,"creation_date":1604845306,"answer_id":64739157,"question_id":54245366,"body_markdown":"This code worked properly for a few test cases but failed some. I&#39;m kinda stuck right now coz the failed test cases are locked in HackerRank. Python 3. I&#39;m new to stackoverflow.\r\n\r\n        def countingValleys(steps,path):\r\n         v=0\r\n         level=0\r\n         i=[]\r\n         for k in range(0,steps-1):\r\n            if path[k]==&#39;D&#39;:\r\n                level-=1 \r\n            else:\r\n                level+=1 \r\n            if level==0:\r\n                i.append(k+1) \r\n            else:\r\n                continue\r\n         for j in i:\r\n            if path[j-1]==&#39;D&#39; or path[j]==&#39;D&#39; or path[j+1]==&#39;D&#39;: \r\n                v+=1\r\n    \r\n         return v        \r\n        s=int(input())\r\n        p=str(input())\r\n        print(countingValleys(s,p))","title":"Counting Valleys","body":"<p>This code worked properly for a few test cases but failed some. I'm kinda stuck right now coz the failed test cases are locked in HackerRank. Python 3. I'm new to stackoverflow.</p>\n<pre><code>    def countingValleys(steps,path):\n     v=0\n     level=0\n     i=[]\n     for k in range(0,steps-1):\n        if path[k]=='D':\n            level-=1 \n        else:\n            level+=1 \n        if level==0:\n            i.append(k+1) \n        else:\n            continue\n     for j in i:\n        if path[j-1]=='D' or path[j]=='D' or path[j+1]=='D': \n            v+=1\n\n     return v        \n    s=int(input())\n    p=str(input())\n    print(countingValleys(s,p))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14571816,"reputation":11,"user_id":10524914,"display_name":"hamza zgolli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611902357,"creation_date":1611869944,"answer_id":65945605,"question_id":54245366,"body_markdown":"This problem is about to search how many times did the hiker climb to sea level following his path. try this solution it works for me.\r\n\r\n    public static int countingValleys(int steps, String path) {\r\n        int s = 0;\r\n        int v = 0;\r\n        for (int i = 0; i &lt; path.length(); i++) {\r\n            if (path.charAt(i) == &#39;D&#39;) {\r\n                s--;\r\n            } else if ((path.charAt(i) == &#39;U&#39;) &amp;&amp; (s + 1 == 0)) {\r\n                s++;\r\n                v++;\r\n            } else {\r\n                s++;\r\n            }\r\n        }\r\n        return v;\r\n    }\r\n","title":"Counting Valleys","body":"<p>This problem is about to search how many times did the hiker climb to sea level following his path. try this solution it works for me.</p>\n<pre><code>public static int countingValleys(int steps, String path) {\n    int s = 0;\n    int v = 0;\n    for (int i = 0; i &lt; path.length(); i++) {\n        if (path.charAt(i) == 'D') {\n            s--;\n        } else if ((path.charAt(i) == 'U') &amp;&amp; (s + 1 == 0)) {\n            s++;\n            v++;\n        } else {\n            s++;\n        }\n    }\n    return v;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8216496,"reputation":61,"user_id":6182645,"display_name":"adropintheocean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629387181,"creation_date":1629387181,"answer_id":68850679,"question_id":54245366,"body_markdown":"I first tried solving this one using a stack, however using a basic integer keeping the altitude is much simpler.\r\n\r\n    public static int countingValleys(int steps, String path) {\r\n        int numberOfValleys = 0;\r\n        int altitude = 0;\r\n        boolean isValleyComplete = false;\r\n        \r\n        for (int i=0; i&lt;steps; i++) {\r\n            char processedStep = path.charAt(i);\r\n            \r\n            if (isValleyComplete &amp;&amp; processedStep == &#39;D&#39;) {\r\n                numberOfValleys++;\r\n                isValleyComplete = false;\r\n            }\r\n                \r\n            if (processedStep == &#39;D&#39;) {\r\n                altitude--;\r\n            }\r\n            \r\n            if(processedStep == &#39;U&#39;) {\r\n                altitude++;\r\n            }\r\n            \r\n            if (altitude == 0 &amp;&amp; processedStep == &#39;U&#39;) {\r\n                isValleyComplete = true;\r\n                \r\n                if (i == path.length()-1) {\r\n                    numberOfValleys++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return numberOfValleys;\r\n    }\r\n}\r\n","title":"Counting Valleys","body":"<p>I first tried solving this one using a stack, however using a basic integer keeping the altitude is much simpler.</p>\n<pre><code>public static int countingValleys(int steps, String path) {\n    int numberOfValleys = 0;\n    int altitude = 0;\n    boolean isValleyComplete = false;\n    \n    for (int i=0; i&lt;steps; i++) {\n        char processedStep = path.charAt(i);\n        \n        if (isValleyComplete &amp;&amp; processedStep == 'D') {\n            numberOfValleys++;\n            isValleyComplete = false;\n        }\n            \n        if (processedStep == 'D') {\n            altitude--;\n        }\n        \n        if(processedStep == 'U') {\n            altitude++;\n        }\n        \n        if (altitude == 0 &amp;&amp; processedStep == 'U') {\n            isValleyComplete = true;\n            \n            if (i == path.length()-1) {\n                numberOfValleys++;\n            }\n        }\n    }\n\n    return numberOfValleys;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":16553234,"reputation":627,"user_id":11960977,"display_name":"Gnopor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639941395,"creation_date":1639941395,"answer_id":70414580,"question_id":54245366,"body_markdown":"TypeScript/JavaScript solution:\r\n\r\n    function countingValleys(steps: number, path: string): number {\r\n      let valleysCount = 0;\r\n      let firstStep = &quot;&quot;;\r\n      let stepFromSeaLevel = 0;\r\n\r\n      for (let step of path.split(&quot;&quot;)) {\r\n        firstStep = firstStep || step;\r\n        stepFromSeaLevel += step === &quot;U&quot; ? 1 : -1;\r\n\r\n        if (stepFromSeaLevel === 0) {\r\n          valleysCount = valleysCount + (firstStep === &quot;D&quot; ? 1 : 0);\r\n          firstStep = &quot;&quot;;\r\n        }\r\n       }\r\n\r\n      return valleysCount;\r\n    }","title":"Counting Valleys","body":"<p>TypeScript/JavaScript solution:</p>\n<pre><code>function countingValleys(steps: number, path: string): number {\n  let valleysCount = 0;\n  let firstStep = &quot;&quot;;\n  let stepFromSeaLevel = 0;\n\n  for (let step of path.split(&quot;&quot;)) {\n    firstStep = firstStep || step;\n    stepFromSeaLevel += step === &quot;U&quot; ? 1 : -1;\n\n    if (stepFromSeaLevel === 0) {\n      valleysCount = valleysCount + (firstStep === &quot;D&quot; ? 1 : 0);\n      firstStep = &quot;&quot;;\n    }\n   }\n\n  return valleysCount;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10262039,"reputation":31,"user_id":7805483,"display_name":"Ajit Kumar"},"score":0,"creation_date":1657440751,"post_id":72927040,"comment_id":128807069,"body_markdown":"We have to check and count only when we are at sea level and the next character is &#39;D&#39;.","body":"We have to check and count only when we are at sea level and the next character is &#39;D&#39;."}],"tags":[],"owner":{"account_id":10262039,"reputation":31,"user_id":7805483,"display_name":"Ajit Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657440604,"creation_date":1657440604,"answer_id":72927040,"question_id":54245366,"body_markdown":"    public static int countingValleys(int steps, String path) {\r\n    // Write your code here\r\n    int count=0;\r\n    int valleys=0;\r\n    for(int i=0;i&lt;path.length();i++){\r\n\r\n        if(count==0 &amp; path.charAt(i)==&#39;D&#39;)\r\n            valleys+=1;\r\n\r\n        if(path.charAt(i)==&#39;U&#39;)\r\n            count+=1;\r\n\r\n        else\r\n            count-=1;\r\n    }\r\n\r\n    return valleys;\r\n    }","title":"Counting Valleys","body":"<pre><code>public static int countingValleys(int steps, String path) {\n// Write your code here\nint count=0;\nint valleys=0;\nfor(int i=0;i&lt;path.length();i++){\n\n    if(count==0 &amp; path.charAt(i)=='D')\n        valleys+=1;\n\n    if(path.charAt(i)=='U')\n        count+=1;\n\n    else\n        count-=1;\n}\n\nreturn valleys;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1437254,"reputation":559,"user_id":8555541,"display_name":"Swapnil Khante"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658253618,"creation_date":1658253618,"answer_id":73041572,"question_id":54245366,"body_markdown":"Below Solution passes all test cases from Hackerrank. The trick is to always check if you are inside a valley and whenever you come out of it increase the count.\r\n\r\n```\r\n public static int countingValleys(int steps, String path) {\r\n      int step = 0;\r\n      int count = 0;\r\n      boolean isInsideValley = false;\r\n      for (int i = 0; i &lt; path.length(); i++) {\r\n        if (path.charAt(i) == &#39;U&#39;) {\r\n          step++;\r\n        } else if (path.charAt(i) == &#39;D&#39;) {\r\n          step--;\r\n        }\r\n        if (step == -1 &amp;&amp; !isInsideValley) {\r\n          isInsideValley = true;\r\n        } else if (step == 0 &amp;&amp; isInsideValley) {\r\n          count++;\r\n          isInsideValley = false;\r\n        }\r\n      }\r\n      return count;\r\n  }\r\n```","title":"Counting Valleys","body":"<p>Below Solution passes all test cases from Hackerrank. The trick is to always check if you are inside a valley and whenever you come out of it increase the count.</p>\n<pre><code> public static int countingValleys(int steps, String path) {\n      int step = 0;\n      int count = 0;\n      boolean isInsideValley = false;\n      for (int i = 0; i &lt; path.length(); i++) {\n        if (path.charAt(i) == 'U') {\n          step++;\n        } else if (path.charAt(i) == 'D') {\n          step--;\n        }\n        if (step == -1 &amp;&amp; !isInsideValley) {\n          isInsideValley = true;\n        } else if (step == 0 &amp;&amp; isInsideValley) {\n          count++;\n          isInsideValley = false;\n        }\n      }\n      return count;\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1685358725,"post_id":76356797,"comment_id":134645116,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76356797/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27553598,"reputation":1,"user_id":21028213,"display_name":"Nitisha Kaushik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685358349,"creation_date":1685358349,"answer_id":76356797,"question_id":54245366,"body_markdown":"    function countingValleys(steps, path) {\r\n     let status = 0\r\n     let valleyClimbed = 0;\r\n     let prevStatus = 0\r\n        for (let i = 0; i &lt; steps; i++) {\r\n        if (path.charAt(i) === &#39;U&#39;) {\r\n        status++;\r\n        prevStatus = status - 1;\r\n        }else{\r\n        status--;\r\n        prevStatus = status + 1;\r\n        }\r\n        if (status == 0 &amp;&amp; prevStatus &lt; 0) {\r\n        valleyClimbed++;\r\n        }\r\n        }\r\n        return valleyClimbed;\r\n        }","title":"Counting Valleys","body":"<pre><code>function countingValleys(steps, path) {\n let status = 0\n let valleyClimbed = 0;\n let prevStatus = 0\n    for (let i = 0; i &lt; steps; i++) {\n    if (path.charAt(i) === 'U') {\n    status++;\n    prevStatus = status - 1;\n    }else{\n    status--;\n    prevStatus = status + 1;\n    }\n    if (status == 0 &amp;&amp; prevStatus &lt; 0) {\n    valleyClimbed++;\n    }\n    }\n    return valleyClimbed;\n    }\n</code></pre>\n"}],"owner":{"account_id":6994498,"reputation":8622,"user_id":5362583,"accept_rate":0,"display_name":"Alok"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7874,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":54245687,"answer_count":11,"score":5,"last_activity_date":1685358349,"creation_date":1547765118,"question_id":54245366,"body_markdown":"I&#39;m solving a question of Hackkerank, and I&#39;m kinda stuck at this question. Since form end I have tried enough and somehow found the algorithm, but unfortunately it is not working out for most of the inputs. It is working for some test cases. Link is : [Counting Valleys][1]\r\n\r\n**Problem Statement**\r\n\r\nHere we have to count the number of valleys does XYZ person visits. \r\n\r\n - A valley is a sequence of consecutive steps below sea level, starting with a step down from sea level and ending with a step up to sea level.\r\n\r\nFor One step up it **U**, and one step down it is **D**. We will be given the number of steps does XYZ person travelled plus the ups and down in the form of string, i.e, **UUDDUDUDDUU** like that.\r\n\r\n**Sample Input**\r\n\r\n    8\r\n    UDDDUDUU\r\n\r\n**Sample Output**\r\n\r\n    1\r\n\r\n**Explanation**\r\n\r\nIf we represent `_` as sea level, a step up as `/`, and a step down as `\\`, Gary&#39;s hike can be drawn as:\r\n\r\n    _/\\      _\r\n       \\    /\r\n        \\/\\/\r\n\r\nHe enters and leaves one valley.\r\n\r\n\r\n**Algorithm**\r\n\r\nAccording to my theory : \r\n\r\nThe valley starts from going down : \r\n\r\n - Traverse and check the two pairs from the string\r\n - Check whether the obtained string is equals **DD**\r\n - Again start a loop from the pos starting from **DD**, and find where the **UU** is falling or not\r\n - Increase the count, break;\r\n - Return count\r\n\r\nBut this algo fail for most of the test cases \r\n\r\n**Code**\r\n\r\n    static int countingValleys(int n, String s) {\r\n        int valleyVisits = 0, i=0;\r\n        String str = &quot;&quot;, strOne = &quot;&quot;;\r\n\r\n        /*Here we make pairs of two, in order to get the valley&#39;s visits. Since this visit starts from DD and ends at UU. So first we get the two strings and match with DD */\r\n        while(i&lt;n){\r\n          //Gives the two strings from i to i+2\r\n          str = s.substring(i, i+2);\r\n          i = i+2; //not to start from next, but to the even pair\r\n\r\n          //Checking if the pair starts from DD\r\n          if(str.equals(&quot;DD&quot;)){\r\n            int j = i;\r\n            /* Rerunning the loop to get the end of the valley trip that is UU from this point */\r\n            while(j &lt; n){\r\n              // Getting new strings starting after DD\r\n              strOne = s.substring(j, j+2);\r\n              j = j+2;\r\n              \r\n              //Similar operation, but the getting the end from DD and then breaks\r\n              if(strOne.equals(&quot;UU&quot;)){\r\n                valleyVisits++;\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        return valleyVisits;\r\n    }\r\n\r\n**Passed Test Cases 1**\r\n\r\n    8\r\n    UDDDUDUU\r\n\r\n    Expected Output : 1\r\n\r\n**Passed Test Case 2**\r\n\r\n    12\r\n    DDUUDDUDUUUD\r\n\r\n    Expected Output : 2\r\n\r\n**Failed Test Case 1**\r\n\r\n    10\r\n    DUDDDUUDUU\r\n\r\n    Expected Output : 2\r\n\r\n**Failed Test Case 2**\r\n\r\n    100\r\n    DUDUUUUUUUUDUDDUUDUUDDDUUDDDDDUUDUUUUDDDUUUUUUUDDUDUDUUUDDDDUUDDDUDDDDUUDDUDDUUUDUUUDUUDUDUDDDDDDDDD\r\n\r\n    Expected Output : 2\r\n\r\nI&#39;m there almost, but I don&#39;t know why my logic fails in here. Thanks in advance for any help. :)\r\n\r\n  [1]: https://www.hackerrank.com/challenges/counting-valleys/problem","title":"Counting Valleys","body":"<p>I'm solving a question of Hackkerank, and I'm kinda stuck at this question. Since form end I have tried enough and somehow found the algorithm, but unfortunately it is not working out for most of the inputs. It is working for some test cases. Link is : <a href=\"https://www.hackerrank.com/challenges/counting-valleys/problem\" rel=\"noreferrer\">Counting Valleys</a></p>\n\n<p><strong>Problem Statement</strong></p>\n\n<p>Here we have to count the number of valleys does XYZ person visits. </p>\n\n<ul>\n<li>A valley is a sequence of consecutive steps below sea level, starting with a step down from sea level and ending with a step up to sea level.</li>\n</ul>\n\n<p>For One step up it <strong>U</strong>, and one step down it is <strong>D</strong>. We will be given the number of steps does XYZ person travelled plus the ups and down in the form of string, i.e, <strong>UUDDUDUDDUU</strong> like that.</p>\n\n<p><strong>Sample Input</strong></p>\n\n<pre><code>8\nUDDDUDUU\n</code></pre>\n\n<p><strong>Sample Output</strong></p>\n\n<pre><code>1\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p>If we represent <code>_</code> as sea level, a step up as <code>/</code>, and a step down as <code>\\</code>, Gary's hike can be drawn as:</p>\n\n<pre><code>_/\\      _\n   \\    /\n    \\/\\/\n</code></pre>\n\n<p>He enters and leaves one valley.</p>\n\n<p><strong>Algorithm</strong></p>\n\n<p>According to my theory : </p>\n\n<p>The valley starts from going down : </p>\n\n<ul>\n<li>Traverse and check the two pairs from the string</li>\n<li>Check whether the obtained string is equals <strong>DD</strong></li>\n<li>Again start a loop from the pos starting from <strong>DD</strong>, and find where the <strong>UU</strong> is falling or not</li>\n<li>Increase the count, break;</li>\n<li>Return count</li>\n</ul>\n\n<p>But this algo fail for most of the test cases </p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>static int countingValleys(int n, String s) {\n    int valleyVisits = 0, i=0;\n    String str = \"\", strOne = \"\";\n\n    /*Here we make pairs of two, in order to get the valley's visits. Since this visit starts from DD and ends at UU. So first we get the two strings and match with DD */\n    while(i&lt;n){\n      //Gives the two strings from i to i+2\n      str = s.substring(i, i+2);\n      i = i+2; //not to start from next, but to the even pair\n\n      //Checking if the pair starts from DD\n      if(str.equals(\"DD\")){\n        int j = i;\n        /* Rerunning the loop to get the end of the valley trip that is UU from this point */\n        while(j &lt; n){\n          // Getting new strings starting after DD\n          strOne = s.substring(j, j+2);\n          j = j+2;\n\n          //Similar operation, but the getting the end from DD and then breaks\n          if(strOne.equals(\"UU\")){\n            valleyVisits++;\n            break;\n          }\n        }\n      }\n    }\n\n    return valleyVisits;\n}\n</code></pre>\n\n<p><strong>Passed Test Cases 1</strong></p>\n\n<pre><code>8\nUDDDUDUU\n\nExpected Output : 1\n</code></pre>\n\n<p><strong>Passed Test Case 2</strong></p>\n\n<pre><code>12\nDDUUDDUDUUUD\n\nExpected Output : 2\n</code></pre>\n\n<p><strong>Failed Test Case 1</strong></p>\n\n<pre><code>10\nDUDDDUUDUU\n\nExpected Output : 2\n</code></pre>\n\n<p><strong>Failed Test Case 2</strong></p>\n\n<pre><code>100\nDUDUUUUUUUUDUDDUUDUUDDDUUDDDDDUUDUUUUDDDUUUUUUUDDUDUDUUUDDDDUUDDDUDDDDUUDDUDDUUUDUUUDUUDUDUDDDDDDDDD\n\nExpected Output : 2\n</code></pre>\n\n<p>I'm there almost, but I don't know why my logic fails in here. Thanks in advance for any help. :)</p>\n"},{"tags":["java","android-studio","kotlin","jar"],"owner":{"account_id":24900932,"reputation":3,"user_id":18771614,"display_name":"Karthick G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685357897,"creation_date":1685355952,"question_id":76356534,"body_markdown":"&gt; # I imported my existing project as a module in my new project. My existing project have many library (Jar)files and i can&#39;t use the jar in my new project\r\n\r\n**This my new App build gradle**\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;org.jetbrains.kotlin.android&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.clientdemo&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.clientdemo&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation project(path: &#39;:Bp_A75&#39;)\r\n    [enter image description here](https://i.stack.imgur.com/RSojV.png)\r\n}\r\n```\r\n\r\n**This is my existing project App Build gradle**\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 31\r\n    buildToolsVersion &quot;30.0.3&quot;\r\n\r\n    lintOptions {\r\n        abortOnError false\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.myapplication.myapp&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 31\r\n        versionCode 3\r\n        versionName &quot;1.0.2&quot;\r\n        multiDexEnabled true\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n        }\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n\r\n//    defaultConfig{\r\n//        ndk{\r\n//            abiFilter &#39;armeabi&#39;\r\n//        }\r\n//    }\r\n\r\n    sourceSets {\r\n        main  {\r\n            // Here is the path to your source code\r\n            java {\r\n                srcDir &#39;src&#39;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation files(&#39;libs/RUBY.jar&#39;)\r\n    implementation files(&#39;libs/AppSdkAidl_buildBy_20220217.jar&#39;)\r\n    implementation files(&#39;libs/tataSdkClient-noemv_20220114.jar&#39;)\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &#39;android.arch.lifecycle:extensions:1.1.1&#39;\r\n    implementation &#39;com.intuit.sdp:sdp-android:1.0.6&#39;\r\n\r\n  \r\n```\r\n\r\nI want to use my module jar file in my new project app\r\n\r\n\r\n\r\n\r\n[I also added my Existing module name in settings.gradle](https://i.stack.imgur.com/7kNnt.png)\r\n","title":"I can&#39;t import my module jar file in my new Project","body":"<blockquote>\n<h1>I imported my existing project as a module in my new project. My existing project have many library (Jar)files and i can't use the jar in my new project</h1>\n</blockquote>\n<p><strong>This my new App build gradle</strong></p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n}\n\nandroid {\n    namespace 'com.example.clientdemo'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.clientdemo&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation project(path: ':Bp_A75')\n    [enter image description here](https://i.stack.imgur.com/RSojV.png)\n}\n</code></pre>\n<p><strong>This is my existing project App Build gradle</strong></p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion &quot;30.0.3&quot;\n\n    lintOptions {\n        abortOnError false\n    }\n\n    defaultConfig {\n        applicationId &quot;com.myapplication.myapp&quot;\n        minSdkVersion 19\n        targetSdkVersion 31\n        versionCode 3\n        versionName &quot;1.0.2&quot;\n        multiDexEnabled true\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n\n//    defaultConfig{\n//        ndk{\n//            abiFilter 'armeabi'\n//        }\n//    }\n\n    sourceSets {\n        main  {\n            // Here is the path to your source code\n            java {\n                srcDir 'src'\n            }\n        }\n    }\n}\n\ndependencies {\n\n    implementation files('libs/RUBY.jar')\n    implementation files('libs/AppSdkAidl_buildBy_20220217.jar')\n    implementation files('libs/tataSdkClient-noemv_20220114.jar')\n\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation 'android.arch.lifecycle:extensions:1.1.1'\n    implementation 'com.intuit.sdp:sdp-android:1.0.6'\n\n  \n</code></pre>\n<p>I want to use my module jar file in my new project app</p>\n<p><a href=\"https://i.stack.imgur.com/7kNnt.png\" rel=\"nofollow noreferrer\">I also added my Existing module name in settings.gradle</a></p>\n"},{"tags":["java","xml"],"answers":[{"comments":[{"owner":{"account_id":1454335,"reputation":4701,"user_id":1370384,"accept_rate":85,"display_name":"user"},"score":0,"creation_date":1539020926,"post_id":6534233,"comment_id":92341414,"body_markdown":"The dzone link posted above by @ObenSonne looks taken down (returns a 410 for me), so thanks for posting the code here!","body":"The dzone link posted above by @ObenSonne looks taken down (returns a 410 for me), so thanks for posting the code here!"},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1586465600,"post_id":6534233,"comment_id":108146228,"body_markdown":"Can you elaborate what you&#39;re doing? I have the same question but this answer doesn&#39;t work: (following OP example) my resulting String always contains the `&lt;human&gt;` start and end tags and I need it without.","body":"Can you elaborate what you&#39;re doing? I have the same question but this answer doesn&#39;t work: (following OP example) my resulting String always contains the <code>&lt;human&gt;</code> start and end tags and I need it without."},{"owner":{"account_id":7898041,"reputation":415,"user_id":5966013,"display_name":"Prem P."},"score":0,"creation_date":1595006688,"post_id":6534233,"comment_id":111336007,"body_markdown":"Worked for me. I was not able to print DOM Nodes as their tags appear in the xml. This function allowed me to do just that.","body":"Worked for me. I was not able to print DOM Nodes as their tags appear in the xml. This function allowed me to do just that."}],"tags":[],"owner":{"account_id":430893,"reputation":2072,"user_id":814580,"display_name":"Rupok"},"comment_count":3,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1309438017,"creation_date":1309434487,"answer_id":6534233,"question_id":6534182,"body_markdown":"    private String nodeToString(Node node) {\r\n      StringWriter sw = new StringWriter();\r\n      try {\r\n        Transformer t = TransformerFactory.newInstance().newTransformer();\r\n        t.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n        t.transform(new DOMSource(node), new StreamResult(sw));\r\n      } catch (TransformerException te) {\r\n        System.out.println(&quot;nodeToString Transformer Exception&quot;);\r\n      }\r\n      return sw.toString();\r\n    }\r\n\r\n","title":"java - Getting all content of a xml node as string","body":"<pre><code>private String nodeToString(Node node) {\n  StringWriter sw = new StringWriter();\n  try {\n    Transformer t = TransformerFactory.newInstance().newTransformer();\n    t.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"yes\");\n    t.transform(new DOMSource(node), new StreamResult(sw));\n  } catch (TransformerException te) {\n    System.out.println(\"nodeToString Transformer Exception\");\n  }\n  return sw.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2544458,"reputation":244,"user_id":2209562,"display_name":"user2209562"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685357823,"creation_date":1685357823,"answer_id":76356737,"question_id":6534182,"body_markdown":"Besides Transformer it&#39;s also possible to use [LSSerializer][1]. For large nodes this serializer is faster.\r\n\r\nExample:\r\n\r\n    \tpublic static String convertNodeToString(Node node) {\r\n\r\n\t\t    DOMImplementationLS lsImpl = (DOMImplementationLS)node.getOwnerDocument().getImplementation().getFeature(&quot;LS&quot;, &quot;3.0&quot;);\r\n\t\t    LSSerializer lsSerializer = lsImpl.createLSSerializer();\r\n\r\n\t\t    DOMConfiguration config = lsSerializer.getDomConfig();\r\n\t\t    config.setParameter(&quot;xml-declaration&quot;, Boolean.FALSE);\r\n\r\n\t\t    return lsSerializer.writeToString(node);\r\n\r\n\t   }\r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/org/w3c/dom/ls/LSSerializer.html","title":"java - Getting all content of a xml node as string","body":"<p>Besides Transformer it's also possible to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.xml/org/w3c/dom/ls/LSSerializer.html\" rel=\"nofollow noreferrer\">LSSerializer</a>. For large nodes this serializer is faster.</p>\n<p>Example:</p>\n<pre><code>    public static String convertNodeToString(Node node) {\n\n        DOMImplementationLS lsImpl = (DOMImplementationLS)node.getOwnerDocument().getImplementation().getFeature(&quot;LS&quot;, &quot;3.0&quot;);\n        LSSerializer lsSerializer = lsImpl.createLSSerializer();\n\n        DOMConfiguration config = lsSerializer.getDomConfig();\n        config.setParameter(&quot;xml-declaration&quot;, Boolean.FALSE);\n\n        return lsSerializer.writeToString(node);\n\n   }\n</code></pre>\n"}],"owner":{"account_id":180464,"reputation":1885,"user_id":413798,"accept_rate":74,"display_name":"Barun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18787,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":6534233,"answer_count":2,"score":14,"last_activity_date":1685357823,"creation_date":1309434214,"question_id":6534182,"body_markdown":"I am using this code to parsing xml\r\n\r\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n        DocumentBuilder db = dbf.newDocumentBuilder();\r\n        InputSource is = new InputSource();\r\n        is.setCharacterStream(new StringReader(data));\r\n        Document doc = db.parse(is);\r\n\r\nNow I want to get all content from a xml node.\r\nLike from this xml\r\n\r\n    &lt;?xml version=&#39;1.0&#39;?&gt;\r\n    &lt;type&gt;\r\n      &lt;human&gt;                     \r\n        &lt;Name&gt;John Smith&lt;/Name&gt;              \r\n        &lt;Address&gt;1/3A South Garden&lt;/Address&gt;    \r\n      &lt;/human&gt;\r\n    &lt;/type&gt;\r\n    \r\nSo if want to get all content of `&lt;human&gt;` as text.\r\n\r\n&gt;     &lt;Name&gt;John Smith&lt;/Name&gt;\r\n&gt;     &lt;Address&gt;1/3A South Garden&lt;/Address&gt;\r\n\r\nHow can I get it ?","title":"java - Getting all content of a xml node as string","body":"<p>I am using this code to parsing xml</p>\n\n<pre><code>    DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    DocumentBuilder db = dbf.newDocumentBuilder();\n    InputSource is = new InputSource();\n    is.setCharacterStream(new StringReader(data));\n    Document doc = db.parse(is);\n</code></pre>\n\n<p>Now I want to get all content from a xml node.\nLike from this xml</p>\n\n<pre><code>&lt;?xml version='1.0'?&gt;\n&lt;type&gt;\n  &lt;human&gt;                     \n    &lt;Name&gt;John Smith&lt;/Name&gt;              \n    &lt;Address&gt;1/3A South Garden&lt;/Address&gt;    \n  &lt;/human&gt;\n&lt;/type&gt;\n</code></pre>\n\n<p>So if want to get all content of <code>&lt;human&gt;</code> as text.</p>\n\n<blockquote>\n<pre><code>&lt;Name&gt;John Smith&lt;/Name&gt;\n&lt;Address&gt;1/3A South Garden&lt;/Address&gt;\n</code></pre>\n</blockquote>\n\n<p>How can I get it ?</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685159314,"post_id":76345051,"comment_id":134626257,"body_markdown":"You&#39;re swallowing exceptions. At least log them.","body":"You&#39;re swallowing exceptions. At least log them."},{"owner":{"account_id":28682652,"reputation":47,"user_id":21963506,"display_name":"Farhood Naqizadeh"},"score":0,"creation_date":1685171136,"post_id":76345051,"comment_id":134626986,"body_markdown":"yep , I have logger System but in this case just use default print work well.","body":"yep , I have logger System but in this case just use default print work well."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685171467,"post_id":76345051,"comment_id":134627009,"body_markdown":"But you aren&#39;t. In two places.","body":"But you aren&#39;t. In two places."},{"owner":{"account_id":28682652,"reputation":47,"user_id":21963506,"display_name":"Farhood Naqizadeh"},"score":0,"creation_date":1685172113,"post_id":76345051,"comment_id":134627061,"body_markdown":"ops , I get what you talking about","body":"ops , I get what you talking about"},{"owner":{"account_id":28682652,"reputation":47,"user_id":21963506,"display_name":"Farhood Naqizadeh"},"score":0,"creation_date":1685172195,"post_id":76345051,"comment_id":134627068,"body_markdown":"thanks , but no error or printStackTrace at print","body":"thanks , but no error or printStackTrace at print"}],"owner":{"account_id":28682652,"reputation":47,"user_id":21963506,"display_name":"Farhood Naqizadeh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685357649,"creation_date":1685152533,"question_id":76345051,"body_markdown":"I have Question That need internal knowledge about what jpa do in proxy desing pattern , let&#39;s take a look into What I need to do and what I do.\r\n\r\nI have Class Named Exam in Exam we can find List of Question and The Questions Have The List of Answers . I create exam with questions and answers. save it with persist/merge . that I just save Exam object and all Questions and answers saved. but if calling exam into jsf from repository and update questions(add / remove / update) Just remove work well (clear the key from table related with fk)\r\nBut! but if add it maybe work or not!\r\nand if update nothing happened! No update.\r\nupdate I mention work like this -&gt; exam.getQuestions.remove(question).add(newQuestion) that newQuestion and question id is same.\r\nafter that I call Repo and update Exam (not update  Question , Exam with all data in it)\r\n\r\nWhat my mistake is and what can I resolve it? is that buggy or something in proxy JPA?\r\nor just my code buggy? :)\r\n\r\nThe Classes I have in short Version :\r\n\r\n```\r\n@XmlRootElement(name = &quot;exams&quot;)\r\n@Table(name = &quot;table_exams&quot;)\r\n@Entity\r\npublic class Exam extends StorageInformation {\r\n    @Column\r\n    public String name, predicateExamTiming;\r\n    @Column\r\n    public ExamStatus examStatus;\r\n    @OneToMany(fetch = FetchType.EAGER)\r\n    public List&lt;Question&gt; questions = new ArrayList&lt;Question&gt;();\r\n.....\r\n@XmlRootElement(name = &quot;questions&quot;)\r\n@Table(name = &quot;table_questions&quot;)\r\n@Entity\r\npublic class Question extends StorageInformation {\r\n    @Column(name = &quot;ind&quot;)\r\n    public int index;\r\n    @Column\r\n    public String text;\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n    public List&lt;Answer&gt; answers;\r\n........\r\n@XmlRootElement(name = &quot;answers&quot;)\r\n@Table(name = &quot;table_answers&quot;)\r\n@Entity\r\npublic class Answer extends StorageInformation {\r\n    @Column\r\n    public String text;\r\n    @Column(name = &quot;ind&quot;)\r\n    public int index;\r\n....................\r\n@MappedSuperclass\r\npublic class StorageInformation implements Serializable {\r\n    private static final long serialVersionUID = 3L;\r\n    @Column(name = &quot;created_at&quot;, updatable = false)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date createDate = new Date();\r\n    @Column(name = &quot;update_at&quot;)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date updateDate = new Date();\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    private UUID id = UUID.randomUUID();\r\n-------------------------------\r\n\r\n```\r\nAll above is Entity , In the Blow I show you the Repository and Jsf Bean:\r\n\r\n```\r\npackage ir.mehritco.megnatis.cattell.ctl.beans;\r\n\r\nimport cattell.beans.android.Answer;\r\nimport cattell.beans.android.Exam;\r\nimport cattell.beans.android.Question;\r\nimport cattell.beans.server.NotificationType;\r\nimport ir.mehritco.megnatis.cattell.ctl.master.ResponsiveView;\r\nimport ir.mehritco.megnatis.cattell.repo.MasterRepository;\r\nimport jakarta.annotation.ManagedBean;\r\nimport jakarta.annotation.PostConstruct;\r\nimport jakarta.faces.context.FacesContext;\r\nimport jakarta.faces.view.ViewScoped;\r\nimport jakarta.inject.Named;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@ViewScoped\r\n@ManagedBean\r\n@Named\r\npublic class ExamBean implements ResponsiveView, Serializable {\r\n    Exam exam;\r\n    MasterRepository repo = new MasterRepository();\r\n\r\n    @PostConstruct\r\n    private void init() {\r\n        System.err.println(&quot;Get exam from repo&quot;);\r\n        exam = repo.getMainExam();\r\n    }\r\n\r\n    public Exam getExam() {\r\n        return exam;\r\n    }\r\n\r\n    public void setExam(Exam exam) {\r\n        this.exam = exam;\r\n    }\r\n\r\n    public void updateExam() {\r\n        boolean updated = repo.updateMainExam(exam);\r\n        FacesContext facesContext = FacesContext.getCurrentInstance();\r\n        response.setTitle(&quot;بروز رسانی آزمون&quot;);\r\n        if (updated) {\r\n            response.setText(&quot;بروز رسانی با موفقیت صورت پذیرفت&quot;);\r\n            response.setNotificationType(NotificationType.INFO);\r\n        } else {\r\n            response.setText(&quot;شکست در بروز رسانی&quot;);\r\n            response.setNotificationType(NotificationType.ALERT);\r\n        }\r\n\r\n        facesContext.getPartialViewContext().getEvalScripts().add(\r\n                &quot;&quot;&quot;\r\n                        notifier(&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;);\r\n                        &quot;&quot;&quot;.formatted(response.getNotificationTypeAsString(), response.getTitle()\r\n                        , response.getText(), response.getTimeNotificationExecuted()));\r\n    }\r\n\r\n    public void addQuestion() {\r\n        Question question = new Question();\r\n        exam.getQuestions().add(question);\r\n    }\r\n\r\n    public List&lt;Answer&gt; getAnswers(Question question) {\r\n        if (exam != null) {\r\n            if (exam.getQuestions() != null) {\r\n                for (Question q : exam.getQuestions()) {\r\n                    if (question.getId() == q.getId()) {\r\n                        return q.getAnswers();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return new ArrayList&lt;Answer&gt;();\r\n    }\r\n\r\n    private Question findQuestion(Question question) {\r\n        if (exam != null) {\r\n            if (exam.getQuestions() != null) {\r\n                for (Question q : exam.getQuestions()) {\r\n                    if (question.getId() == q.getId()) {\r\n                        System.err.println(&quot;we find the question id : &quot; + q.getId());\r\n                        return q;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public void updateQuestion(Question question) {\r\n        Question find = findQuestion(question);\r\n        if (find != null) {\r\n            exam.getQuestions().remove(find);\r\n            exam.getQuestions().add(question);\r\n            System.err.println(&quot;we update Question : &quot; + question.getId());\r\n            updateExam();\r\n        }\r\n    }\r\n\r\n    public void removeQuestion(Question question) {\r\n        try {\r\n            exam.getQuestions().remove(question);\r\n            updateExam();\r\n        } catch (Exception e) {\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\nAnd Repo :\r\n\r\n```\r\npublic class MasterRepository {\r\n\r\n    private HibernateConnection hibernateService = HibernateConnection.getInstance();\r\n\r\n    public Exam getMainExam() {\r\n        Exam exam = new Exam();\r\n        //For main Exam!\r\n        exam.setId(UUID.fromString(&quot;5ff225ee-e786-4f20-b139-7bf837c4319f&quot;));\r\n        EntityManager entityManager = hibernateService.getEntityManagerFactory().createEntityManager();\r\n        CriteriaBuilder criteriaBuilder = hibernateService.getEntityManagerFactory().getCriteriaBuilder();\r\n        CriteriaQuery&lt;Exam&gt; criteriaQuery = criteriaBuilder.createQuery(Exam.class);\r\n        Root&lt;Exam&gt; root = criteriaQuery.from(Exam.class);\r\n        CriteriaQuery&lt;Exam&gt; all = criteriaQuery.select(root);\r\n        all.where(criteriaBuilder.equal(root.get(&quot;id&quot;), exam.getId()));\r\n        TypedQuery&lt;Exam&gt; allQuery = entityManager.createQuery(all);\r\n        List&lt;Exam&gt; list = allQuery.getResultList();\r\n        return (list != null &amp;&amp; list.size() &gt; 0 ? list.get(0) : exam);\r\n    }\r\n\r\n    public boolean updateMainExam(Exam exam) {\r\n        boolean res = false;\r\n        EntityManager entityManager = hibernateService.getEntityManagerFactory().createEntityManager();\r\n        EntityTransaction transaction = entityManager.getTransaction();\r\n        transaction.begin();\r\n        try {\r\n            exam.setUpdateDate(new Date());\r\n            entityManager.merge((Exam) exam);\r\n            transaction.commit();\r\n            res = true;\r\n        } catch (Exception e) {\r\n            res = false;\r\n            e.getMessage();\r\n            transaction.rollback();\r\n        }\r\n        return res;\r\n\r\n    }\r\n\r\n.....\r\n\r\n```\r\n\r\n\r\nI get result of update Exam and return true witch mean exam is updated but nothing happend in Database and The update state for exam that show last updated time no change!\r\n\r\n\r\n--------------------------\r\nAfter a while fix issue by return exam from database and store in ExamBean! but I&#39;m I wrong ?exam in exam bean class equal with exam in database! after change exam bean the marge call and nothing change just question under the exam , so if I changed with my data it should be same, right?","title":"How can I update OneToMany objects in JPA using the proxy design pattern?","body":"<p>I have Question That need internal knowledge about what jpa do in proxy desing pattern , let's take a look into What I need to do and what I do.</p>\n<p>I have Class Named Exam in Exam we can find List of Question and The Questions Have The List of Answers . I create exam with questions and answers. save it with persist/merge . that I just save Exam object and all Questions and answers saved. but if calling exam into jsf from repository and update questions(add / remove / update) Just remove work well (clear the key from table related with fk)\nBut! but if add it maybe work or not!\nand if update nothing happened! No update.\nupdate I mention work like this -&gt; exam.getQuestions.remove(question).add(newQuestion) that newQuestion and question id is same.\nafter that I call Repo and update Exam (not update  Question , Exam with all data in it)</p>\n<p>What my mistake is and what can I resolve it? is that buggy or something in proxy JPA?\nor just my code buggy? :)</p>\n<p>The Classes I have in short Version :</p>\n<pre><code>@XmlRootElement(name = &quot;exams&quot;)\n@Table(name = &quot;table_exams&quot;)\n@Entity\npublic class Exam extends StorageInformation {\n    @Column\n    public String name, predicateExamTiming;\n    @Column\n    public ExamStatus examStatus;\n    @OneToMany(fetch = FetchType.EAGER)\n    public List&lt;Question&gt; questions = new ArrayList&lt;Question&gt;();\n.....\n@XmlRootElement(name = &quot;questions&quot;)\n@Table(name = &quot;table_questions&quot;)\n@Entity\npublic class Question extends StorageInformation {\n    @Column(name = &quot;ind&quot;)\n    public int index;\n    @Column\n    public String text;\n    @OneToMany(fetch = FetchType.LAZY)\n    public List&lt;Answer&gt; answers;\n........\n@XmlRootElement(name = &quot;answers&quot;)\n@Table(name = &quot;table_answers&quot;)\n@Entity\npublic class Answer extends StorageInformation {\n    @Column\n    public String text;\n    @Column(name = &quot;ind&quot;)\n    public int index;\n....................\n@MappedSuperclass\npublic class StorageInformation implements Serializable {\n    private static final long serialVersionUID = 3L;\n    @Column(name = &quot;created_at&quot;, updatable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date createDate = new Date();\n    @Column(name = &quot;update_at&quot;)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date updateDate = new Date();\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    private UUID id = UUID.randomUUID();\n-------------------------------\n\n</code></pre>\n<p>All above is Entity , In the Blow I show you the Repository and Jsf Bean:</p>\n<pre><code>package ir.mehritco.megnatis.cattell.ctl.beans;\n\nimport cattell.beans.android.Answer;\nimport cattell.beans.android.Exam;\nimport cattell.beans.android.Question;\nimport cattell.beans.server.NotificationType;\nimport ir.mehritco.megnatis.cattell.ctl.master.ResponsiveView;\nimport ir.mehritco.megnatis.cattell.repo.MasterRepository;\nimport jakarta.annotation.ManagedBean;\nimport jakarta.annotation.PostConstruct;\nimport jakarta.faces.context.FacesContext;\nimport jakarta.faces.view.ViewScoped;\nimport jakarta.inject.Named;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@ViewScoped\n@ManagedBean\n@Named\npublic class ExamBean implements ResponsiveView, Serializable {\n    Exam exam;\n    MasterRepository repo = new MasterRepository();\n\n    @PostConstruct\n    private void init() {\n        System.err.println(&quot;Get exam from repo&quot;);\n        exam = repo.getMainExam();\n    }\n\n    public Exam getExam() {\n        return exam;\n    }\n\n    public void setExam(Exam exam) {\n        this.exam = exam;\n    }\n\n    public void updateExam() {\n        boolean updated = repo.updateMainExam(exam);\n        FacesContext facesContext = FacesContext.getCurrentInstance();\n        response.setTitle(&quot;بروز رسانی آزمون&quot;);\n        if (updated) {\n            response.setText(&quot;بروز رسانی با موفقیت صورت پذیرفت&quot;);\n            response.setNotificationType(NotificationType.INFO);\n        } else {\n            response.setText(&quot;شکست در بروز رسانی&quot;);\n            response.setNotificationType(NotificationType.ALERT);\n        }\n\n        facesContext.getPartialViewContext().getEvalScripts().add(\n                &quot;&quot;&quot;\n                        notifier('%s','%s','%s','%s');\n                        &quot;&quot;&quot;.formatted(response.getNotificationTypeAsString(), response.getTitle()\n                        , response.getText(), response.getTimeNotificationExecuted()));\n    }\n\n    public void addQuestion() {\n        Question question = new Question();\n        exam.getQuestions().add(question);\n    }\n\n    public List&lt;Answer&gt; getAnswers(Question question) {\n        if (exam != null) {\n            if (exam.getQuestions() != null) {\n                for (Question q : exam.getQuestions()) {\n                    if (question.getId() == q.getId()) {\n                        return q.getAnswers();\n                    }\n                }\n            }\n        }\n        return new ArrayList&lt;Answer&gt;();\n    }\n\n    private Question findQuestion(Question question) {\n        if (exam != null) {\n            if (exam.getQuestions() != null) {\n                for (Question q : exam.getQuestions()) {\n                    if (question.getId() == q.getId()) {\n                        System.err.println(&quot;we find the question id : &quot; + q.getId());\n                        return q;\n                    }\n                }\n            }\n        }\n        return null;\n    }\n\n    public void updateQuestion(Question question) {\n        Question find = findQuestion(question);\n        if (find != null) {\n            exam.getQuestions().remove(find);\n            exam.getQuestions().add(question);\n            System.err.println(&quot;we update Question : &quot; + question.getId());\n            updateExam();\n        }\n    }\n\n    public void removeQuestion(Question question) {\n        try {\n            exam.getQuestions().remove(question);\n            updateExam();\n        } catch (Exception e) {\n\n        }\n    }\n}\n\n\n\n</code></pre>\n<p>And Repo :</p>\n<pre><code>public class MasterRepository {\n\n    private HibernateConnection hibernateService = HibernateConnection.getInstance();\n\n    public Exam getMainExam() {\n        Exam exam = new Exam();\n        //For main Exam!\n        exam.setId(UUID.fromString(&quot;5ff225ee-e786-4f20-b139-7bf837c4319f&quot;));\n        EntityManager entityManager = hibernateService.getEntityManagerFactory().createEntityManager();\n        CriteriaBuilder criteriaBuilder = hibernateService.getEntityManagerFactory().getCriteriaBuilder();\n        CriteriaQuery&lt;Exam&gt; criteriaQuery = criteriaBuilder.createQuery(Exam.class);\n        Root&lt;Exam&gt; root = criteriaQuery.from(Exam.class);\n        CriteriaQuery&lt;Exam&gt; all = criteriaQuery.select(root);\n        all.where(criteriaBuilder.equal(root.get(&quot;id&quot;), exam.getId()));\n        TypedQuery&lt;Exam&gt; allQuery = entityManager.createQuery(all);\n        List&lt;Exam&gt; list = allQuery.getResultList();\n        return (list != null &amp;&amp; list.size() &gt; 0 ? list.get(0) : exam);\n    }\n\n    public boolean updateMainExam(Exam exam) {\n        boolean res = false;\n        EntityManager entityManager = hibernateService.getEntityManagerFactory().createEntityManager();\n        EntityTransaction transaction = entityManager.getTransaction();\n        transaction.begin();\n        try {\n            exam.setUpdateDate(new Date());\n            entityManager.merge((Exam) exam);\n            transaction.commit();\n            res = true;\n        } catch (Exception e) {\n            res = false;\n            e.getMessage();\n            transaction.rollback();\n        }\n        return res;\n\n    }\n\n.....\n\n</code></pre>\n<p>I get result of update Exam and return true witch mean exam is updated but nothing happend in Database and The update state for exam that show last updated time no change!</p>\n<hr />\n<p>After a while fix issue by return exam from database and store in ExamBean! but I'm I wrong ?exam in exam bean class equal with exam in database! after change exam bean the marge call and nothing change just question under the exam , so if I changed with my data it should be same, right?</p>\n"},{"tags":["java","types","reflection"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685356902,"creation_date":1685355935,"answer_id":76356531,"question_id":76356356,"body_markdown":"You can use `Map` to hold mappings between field class and supplier of value for this class.\r\n```\r\npublic class RandomStuff {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    //...\r\n    Map&lt;Class&lt;?&gt;, Supplier&lt;?&gt;&gt; map = new HashMap&lt;&gt;();\r\n    map.put(String.class, () -&gt; &quot;some string&quot;);\r\n    map.put(int.class, () -&gt; 29);\r\n    Arrays.stream(fields).forEach(field -&gt; {\r\n      field.setAccessible(true);\r\n      Class&lt;?&gt; clazz = field.getType();\r\n      try {\r\n        Supplier&lt;?&gt; valueSupplier = map.get(clazz);\r\n        if (valueSupplier == null) {\r\n          // handle no supplier for type\r\n        }\r\n        field.set(dto, valueSupplier.get());\r\n      } catch (IllegalAccessException e) {\r\n        throw new RuntimeException(e);\r\n      }\r\n    });\r\n  }\r\n}\r\n```","title":"Can I perform type conversion using the type found through Java reflection?","body":"<p>You can use <code>Map</code> to hold mappings between field class and supplier of value for this class.</p>\n<pre><code>public class RandomStuff {\n\n  public static void main(String[] args) throws Exception {\n    //...\n    Map&lt;Class&lt;?&gt;, Supplier&lt;?&gt;&gt; map = new HashMap&lt;&gt;();\n    map.put(String.class, () -&gt; &quot;some string&quot;);\n    map.put(int.class, () -&gt; 29);\n    Arrays.stream(fields).forEach(field -&gt; {\n      field.setAccessible(true);\n      Class&lt;?&gt; clazz = field.getType();\n      try {\n        Supplier&lt;?&gt; valueSupplier = map.get(clazz);\n        if (valueSupplier == null) {\n          // handle no supplier for type\n        }\n        field.set(dto, valueSupplier.get());\n      } catch (IllegalAccessException e) {\n        throw new RuntimeException(e);\n      }\n    });\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9572859,"reputation":58,"user_id":7110005,"display_name":"Arvind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685356785,"creation_date":1685356060,"answer_id":76356547,"question_id":76356356,"body_markdown":"Yes, you can perform type conversion using the type found through Java reflection. Once you have obtained the Class object representing the desired type through reflection, you can use various methods available in Java to perform type conversion or casting.\r\n\r\nThe code you provided attempts to set the value of each field in the Dto object to the string value &quot;1&quot; using Java reflection. However, it will result in an error because you are trying to perform a type cast from String to T, where T represents the type of the field obtained through reflection.\r\n\r\nThe problem is that the type T obtained from field.getType() is a Type object and not a concrete class type that can be used for casting. The Type interface does not provide a direct way to cast objects.\r\n\r\nYou can try changing the code as such any give it a try. \r\n````\r\n        Class&lt;?&gt; fieldType = field.getType();\r\n        if (fieldType.isAssignableFrom(String.class)) {\r\n            try {\r\n                field.set(dto, &quot;1&quot;);\r\n            } catch (IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n````\r\n\r\nThis snippet, we obtain the fieldType as a Class&lt;?&gt; object instead of Type. Then, we check if the fieldType is assignable from String.class. If it is, we proceed to set the value of the field to &quot;1&quot; using field.set(dto, &quot;1&quot;).\r\n\r\nWe do the type check for String since you are trying to set the field value as &quot;1&quot;.","title":"Can I perform type conversion using the type found through Java reflection?","body":"<p>Yes, you can perform type conversion using the type found through Java reflection. Once you have obtained the Class object representing the desired type through reflection, you can use various methods available in Java to perform type conversion or casting.</p>\n<p>The code you provided attempts to set the value of each field in the Dto object to the string value &quot;1&quot; using Java reflection. However, it will result in an error because you are trying to perform a type cast from String to T, where T represents the type of the field obtained through reflection.</p>\n<p>The problem is that the type T obtained from field.getType() is a Type object and not a concrete class type that can be used for casting. The Type interface does not provide a direct way to cast objects.</p>\n<p>You can try changing the code as such any give it a try.</p>\n<pre><code>        Class&lt;?&gt; fieldType = field.getType();\n        if (fieldType.isAssignableFrom(String.class)) {\n            try {\n                field.set(dto, &quot;1&quot;);\n            } catch (IllegalAccessException e) {\n                e.printStackTrace();\n            }\n        }\n</code></pre>\n<p>This snippet, we obtain the fieldType as a Class&lt;?&gt; object instead of Type. Then, we check if the fieldType is assignable from String.class. If it is, we proceed to set the value of the field to &quot;1&quot; using field.set(dto, &quot;1&quot;).</p>\n<p>We do the type check for String since you are trying to set the field value as &quot;1&quot;.</p>\n"}],"owner":{"account_id":28701450,"reputation":3,"user_id":21978553,"display_name":"Henry C."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76356531,"answer_count":2,"score":0,"last_activity_date":1685356902,"creation_date":1685354231,"question_id":76356356,"body_markdown":"Can I perform type conversion using the type found through Java reflection?\r\n\r\n```\r\npublic class Dto {\r\n    private String name;\r\n    private int age;\r\n\r\n    public Dto(){}\r\n}\r\n```\r\n\r\nIt has two fields of different types.\r\n\r\n```\r\n    @Test\r\n    public void reflectionsTest3() throws NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\r\n        Class&lt;Dto&gt; dtoClass = Dto.class;\r\n        Dto dto = dtoClass.getDeclaredConstructor().newInstance();\r\n        Field[] fields = dtoClass.getDeclaredFields();\r\n        Arrays.stream(fields).forEach(field -&gt; {\r\n            field.setAccessible(true); \r\n            Type T = field.getType();\r\n            field.set(dto,(T) &quot;1&quot;);\r\n        });\r\n    }\r\n```\r\n\r\nit make error  \r\nI want to detect the type and give it a value that matches the type.  \r\nHow can I use types?","title":"Can I perform type conversion using the type found through Java reflection?","body":"<p>Can I perform type conversion using the type found through Java reflection?</p>\n<pre><code>public class Dto {\n    private String name;\n    private int age;\n\n    public Dto(){}\n}\n</code></pre>\n<p>It has two fields of different types.</p>\n<pre><code>    @Test\n    public void reflectionsTest3() throws NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException {\n        Class&lt;Dto&gt; dtoClass = Dto.class;\n        Dto dto = dtoClass.getDeclaredConstructor().newInstance();\n        Field[] fields = dtoClass.getDeclaredFields();\n        Arrays.stream(fields).forEach(field -&gt; {\n            field.setAccessible(true); \n            Type T = field.getType();\n            field.set(dto,(T) &quot;1&quot;);\n        });\n    }\n</code></pre>\n<p>it make error<br />\nI want to detect the type and give it a value that matches the type.<br />\nHow can I use types?</p>\n"},{"tags":["java","mysql","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1672953459,"post_id":75023822,"comment_id":132395499,"body_markdown":"That error is completely to be expected if you are reading a .xlsx file. You are attempting to read it as if it were a text file, but it is not: it is a binary file. If you want to read the contents of this file, you will need to find a Java library that can read .xlsx files. CSV files however are text files, so I would expect a different error for those. Edit your question to include the error you get for a .csv file, and include the error in your question as text, not as an image.","body":"That error is completely to be expected if you are reading a .xlsx file. You are attempting to read it as if it were a text file, but it is not: it is a binary file. If you want to read the contents of this file, you will need to find a Java library that can read .xlsx files. CSV files however are text files, so I would expect a different error for those. Edit your question to include the error you get for a .csv file, and include the error in your question as text, not as an image."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1673027257,"post_id":75023822,"comment_id":132412590,"body_markdown":"I have updated the question. I have problem specific to .csv files.","body":"I have updated the question. I have problem specific to .csv files."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1673112388,"post_id":75023822,"comment_id":132426822,"body_markdown":"@coder001 - Can you please share the content of records2.csv file?","body":"@coder001 - Can you please share the content of records2.csv file?"},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1673932977,"post_id":75023822,"comment_id":132601546,"body_markdown":"I have added a sample image please check.","body":"I have added a sample image please check."}],"answers":[{"tags":[],"owner":{"account_id":27714767,"reputation":29,"user_id":21156730,"display_name":"Velmurugan K"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1685356812,"creation_date":1685356744,"answer_id":76356626,"question_id":75023822,"body_markdown":"Here are a few possible reasons and solutions for the error:\r\n\r\nImplement your own RowMapper for User class.\r\n\r\nIncorrect delimiter: Ensure that the DelimitedLineTokenizer is using the correct delimiter that matches the CSV file. By default, it uses a comma (,). If your CSV file uses a different delimiter, you can set it using delimitedLineTokenizer.setDelimiter(&quot;&lt;your delimiter&gt;&quot;).\r\n\r\nMismatch between the number of fields in the line and the names/included fields configuration: Check that the number of fields in the CSV line matches the number of names and included fields configured in the DelimitedLineTokenizer. In your case, you have five fields, so ensure that the CSV line has the correct number of values separated by the delimiter.\r\n\r\nIncorrect field type or conversion: Ensure that the field types in the User class match the data types of the corresponding CSV fields. If there is a type mismatch or a conversion issue, it can cause a parsing error. Review the User class and confirm that the field types align with the CSV data.","title":"Error parsing from .csv to mysql using Spring boot batch","body":"<p>Here are a few possible reasons and solutions for the error:</p>\n<p>Implement your own RowMapper for User class.</p>\n<p>Incorrect delimiter: Ensure that the DelimitedLineTokenizer is using the correct delimiter that matches the CSV file. By default, it uses a comma (,). If your CSV file uses a different delimiter, you can set it using delimitedLineTokenizer.setDelimiter(&quot;&quot;).</p>\n<p>Mismatch between the number of fields in the line and the names/included fields configuration: Check that the number of fields in the CSV line matches the number of names and included fields configured in the DelimitedLineTokenizer. In your case, you have five fields, so ensure that the CSV line has the correct number of values separated by the delimiter.</p>\n<p>Incorrect field type or conversion: Ensure that the field types in the User class match the data types of the corresponding CSV fields. If there is a type mismatch or a conversion issue, it can cause a parsing error. Review the User class and confirm that the field types align with the CSV data.</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685356812,"creation_date":1672949339,"question_id":75023822,"body_markdown":"I am trying to dump data from a **.csv file to a mysql database using Spring Boot Batch.** My config code is-\r\n```\r\n@Configuration //this is important- enables batch processing in the project\r\n@EnableBatchProcessing\r\npublic class BatchConfig {\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Autowired\r\n    private JobBuilderFactory jobBuilderFactory;\r\n\r\n    @Autowired\r\n    private StepBuilderFactory stepBuilderFactory;\r\n\r\n    @Bean\r\n    public FlatFileItemReader&lt;User&gt; reader(){\r\n        FlatFileItemReader&lt;User&gt; reader=new FlatFileItemReader&lt;&gt;();\r\n        reader.setResource(new ClassPathResource(&quot;records2.csv&quot;));\r\n        reader.setLineMapper(getLineMapper()); //how to map the line which is read.\r\n        reader.setLinesToSkip(1); // skip lines when error occurs\r\n        return reader;\r\n    }\r\n    private LineMapper&lt;User&gt; getLineMapper() {\r\n        DefaultLineMapper&lt;User&gt; lineMapper=new DefaultLineMapper&lt;&gt;();\r\n        DelimitedLineTokenizer delimitedLineTokenizer=new DelimitedLineTokenizer();\r\n\r\n        delimitedLineTokenizer.setNames(new String[]{&quot;Roll Number&quot;,&quot;Name of Student&quot;,&quot;Personal Email ID&quot;,&quot;College Email ID&quot;,&quot;MOBILE NO&quot;});\r\n        delimitedLineTokenizer.setIncludedFields(new int[]{1,2,3,4,5});\r\n\r\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper=new BeanWrapperFieldSetMapper&lt;&gt;();\r\n        fieldSetMapper.setTargetType(User.class);\r\n        lineMapper.setLineTokenizer(delimitedLineTokenizer);\r\n        lineMapper.setFieldSetMapper(fieldSetMapper);\r\n\r\n        return lineMapper;\r\n    }\r\n    @Bean\r\n    public UserItemProcessor processor(){\r\n        return new UserItemProcessor();\r\n    }\r\n    @Bean\r\n    public JdbcBatchItemWriter&lt;User&gt; writer(){\r\n        JdbcBatchItemWriter&lt;User&gt; writer= new JdbcBatchItemWriter&lt;&gt;();\r\n        writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\r\n        writer.setSql(&quot;insert into user(rollNo,name,personalEmail,officialEmail,mobileNo) values (:rollNo,:name,:personalEmail,:officalEmail,:mobileNo)&quot;);\r\n        writer.setDataSource(dataSource);\r\n        return writer;\r\n    }\r\n\r\n\r\n\r\n    @Bean \r\n    public Job importUserJob(){\r\n\r\n        return jobBuilderFactory.get(&quot;USER_IMPORT_JOB&quot;)\r\n        .incrementer(new RunIdIncrementer())\r\n        .flow(step1())\r\n        .end()\r\n        .build();\r\n    }\r\n\r\n    @Bean\r\n    public Step step1(){\r\n        return stepBuilderFactory.get(&quot;Step 1&quot;)\r\n        .&lt;User,User&gt;chunk(5)\r\n        .reader(reader())\r\n        .writer(writer())\r\n        .build();\r\n    }\r\n}\r\n```\r\nWhen I run the code I am getting the following error in parsing-\r\n```\r\norg.springframework.batch.item.file.FlatFileParseException: Parsing error at line: 2 in resource=[class path resource [records2.csv]], input=[1,User 1,abc20nov@gmail.com,abc@college.com,9171046141]\r\n        at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:189) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\r\n        at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.read(AbstractItemCountingItemStreamItemReader.java:93) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\r\n        at org.springframework.batch.core.step.item.SimpleChunkProvider.doRead(SimpleChunkProvider.java:99) ~[spring-batch-core-4.3.7.jar:4.3.7]\r\n```\r\n\r\nAs I can understand that  data code not be parsed but cannot understand the reason for it. The contents of the records2.csv are-\r\n[![enter image description here][1]][1]\r\nCan somebody explain why this error occurs?\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1ETY6.png","title":"Error parsing from .csv to mysql using Spring boot batch","body":"<p>I am trying to dump data from a <strong>.csv file to a mysql database using Spring Boot Batch.</strong> My config code is-</p>\n<pre><code>@Configuration //this is important- enables batch processing in the project\n@EnableBatchProcessing\npublic class BatchConfig {\n    @Autowired\n    private DataSource dataSource;\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n\n    @Bean\n    public FlatFileItemReader&lt;User&gt; reader(){\n        FlatFileItemReader&lt;User&gt; reader=new FlatFileItemReader&lt;&gt;();\n        reader.setResource(new ClassPathResource(&quot;records2.csv&quot;));\n        reader.setLineMapper(getLineMapper()); //how to map the line which is read.\n        reader.setLinesToSkip(1); // skip lines when error occurs\n        return reader;\n    }\n    private LineMapper&lt;User&gt; getLineMapper() {\n        DefaultLineMapper&lt;User&gt; lineMapper=new DefaultLineMapper&lt;&gt;();\n        DelimitedLineTokenizer delimitedLineTokenizer=new DelimitedLineTokenizer();\n\n        delimitedLineTokenizer.setNames(new String[]{&quot;Roll Number&quot;,&quot;Name of Student&quot;,&quot;Personal Email ID&quot;,&quot;College Email ID&quot;,&quot;MOBILE NO&quot;});\n        delimitedLineTokenizer.setIncludedFields(new int[]{1,2,3,4,5});\n\n        BeanWrapperFieldSetMapper&lt;User&gt; fieldSetMapper=new BeanWrapperFieldSetMapper&lt;&gt;();\n        fieldSetMapper.setTargetType(User.class);\n        lineMapper.setLineTokenizer(delimitedLineTokenizer);\n        lineMapper.setFieldSetMapper(fieldSetMapper);\n\n        return lineMapper;\n    }\n    @Bean\n    public UserItemProcessor processor(){\n        return new UserItemProcessor();\n    }\n    @Bean\n    public JdbcBatchItemWriter&lt;User&gt; writer(){\n        JdbcBatchItemWriter&lt;User&gt; writer= new JdbcBatchItemWriter&lt;&gt;();\n        writer.setItemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;User&gt;());\n        writer.setSql(&quot;insert into user(rollNo,name,personalEmail,officialEmail,mobileNo) values (:rollNo,:name,:personalEmail,:officalEmail,:mobileNo)&quot;);\n        writer.setDataSource(dataSource);\n        return writer;\n    }\n\n\n\n    @Bean \n    public Job importUserJob(){\n\n        return jobBuilderFactory.get(&quot;USER_IMPORT_JOB&quot;)\n        .incrementer(new RunIdIncrementer())\n        .flow(step1())\n        .end()\n        .build();\n    }\n\n    @Bean\n    public Step step1(){\n        return stepBuilderFactory.get(&quot;Step 1&quot;)\n        .&lt;User,User&gt;chunk(5)\n        .reader(reader())\n        .writer(writer())\n        .build();\n    }\n}\n</code></pre>\n<p>When I run the code I am getting the following error in parsing-</p>\n<pre><code>org.springframework.batch.item.file.FlatFileParseException: Parsing error at line: 2 in resource=[class path resource [records2.csv]], input=[1,User 1,abc20nov@gmail.com,abc@college.com,9171046141]\n        at org.springframework.batch.item.file.FlatFileItemReader.doRead(FlatFileItemReader.java:189) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\n        at org.springframework.batch.item.support.AbstractItemCountingItemStreamItemReader.read(AbstractItemCountingItemStreamItemReader.java:93) ~[spring-batch-infrastructure-4.3.7.jar:4.3.7]\n        at org.springframework.batch.core.step.item.SimpleChunkProvider.doRead(SimpleChunkProvider.java:99) ~[spring-batch-core-4.3.7.jar:4.3.7]\n</code></pre>\n<p>As I can understand that  data code not be parsed but cannot understand the reason for it. The contents of the records2.csv are-\n<a href=\"https://i.stack.imgur.com/1ETY6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ETY6.png\" alt=\"enter image description here\" /></a>\nCan somebody explain why this error occurs?</p>\n"},{"tags":["java","scala","apache-spark"],"answers":[{"comments":[{"owner":{"account_id":9183346,"reputation":2964,"user_id":6826479,"display_name":"James"},"score":1,"creation_date":1533721484,"post_id":51742876,"comment_id":90446896,"body_markdown":"Thank you guys, I&#39;ll give it a try","body":"Thank you guys, I&#39;ll give it a try"}],"tags":[],"owner":{"account_id":4528798,"reputation":10533,"user_id":3679900,"accept_rate":48,"display_name":"y2k-shubham"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533719691,"creation_date":1533719691,"answer_id":51742876,"question_id":51739822,"body_markdown":"Give this a try\r\n\r\n(haven&#39;t tried but should work with slight modification)\r\n\r\n    import java.sql.ResultSet\r\n    import org.apache.spark.sql.DataFrame\r\n    \r\n    // assuming ResultSet comprises rows of (String, Int)\r\n    def resultSetToDataFrame(resultSet: ResultSet): DataFrame = {\r\n      val resultSetAsList: List[(String, Int)] = new Iterator[(String, Int)] {\r\n        override def hasNext: Boolean = resultSet.next()\r\n    \r\n        override def next(): (String, Int) = {\r\n          // can also use column-label instead of column-index\r\n          (resultSet.getString(0), resultSet.getInt(1))\r\n        }\r\n      }.toStream.toList\r\n    \r\n      import org.apache.spark.implicits._\r\n      val listAsDataFrame: DataFrame = resultSetAsList.toDF(&quot;column_name_1&quot;, &quot;column_name_2&quot;)\r\n\r\n      listAsDataFrame\r\n    }\r\n\r\nReferences:\r\n\r\n - [`SQL` `ResultSet` to `Scala` `List`][1]\r\n - [Creating `Spark` `DataFrame` manually][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48334600/\r\n  [2]: https://medium.com/@mrpowers/manually-creating-spark-dataframes-b14dae906393","title":"Convert Resultset to Dataframe","body":"<p>Give this a try</p>\n\n<p>(haven't tried but should work with slight modification)</p>\n\n<pre><code>import java.sql.ResultSet\nimport org.apache.spark.sql.DataFrame\n\n// assuming ResultSet comprises rows of (String, Int)\ndef resultSetToDataFrame(resultSet: ResultSet): DataFrame = {\n  val resultSetAsList: List[(String, Int)] = new Iterator[(String, Int)] {\n    override def hasNext: Boolean = resultSet.next()\n\n    override def next(): (String, Int) = {\n      // can also use column-label instead of column-index\n      (resultSet.getString(0), resultSet.getInt(1))\n    }\n  }.toStream.toList\n\n  import org.apache.spark.implicits._\n  val listAsDataFrame: DataFrame = resultSetAsList.toDF(\"column_name_1\", \"column_name_2\")\n\n  listAsDataFrame\n}\n</code></pre>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48334600/\"><code>SQL</code> <code>ResultSet</code> to <code>Scala</code> <code>List</code></a></li>\n<li><a href=\"https://medium.com/@mrpowers/manually-creating-spark-dataframes-b14dae906393\" rel=\"nofollow noreferrer\">Creating <code>Spark</code> <code>DataFrame</code> manually</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":9183346,"reputation":2964,"user_id":6826479,"display_name":"James"},"score":0,"creation_date":1533722898,"post_id":51743125,"comment_id":90447835,"body_markdown":"I am on it... I&#39;m gonna try both solutions to select the best answer for my case, but thanks again dude for your support","body":"I am on it... I&#39;m gonna try both solutions to select the best answer for my case, but thanks again dude for your support"},{"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"score":0,"creation_date":1533723204,"post_id":51743125,"comment_id":90448002,"body_markdown":"Fine, but mine actually works and they may well be complimentary. I think I actually answered. I only mention it as I find a number of people don&#39;t get the conduct code here","body":"Fine, but mine actually works and they may well be complimentary. I think I actually answered. I only mention it as I find a number of people don&#39;t get the conduct code here"}],"tags":[],"owner":{"account_id":8324450,"reputation":17075,"user_id":6933993,"accept_rate":97,"display_name":"thebluephantom"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1533720430,"creation_date":1533720430,"answer_id":51743125,"question_id":51739822,"body_markdown":"A working example against public source mySQL\r\n\r\n    import java.util.Properties\r\n    import org.apache.spark.rdd.JdbcRDD\r\n    import java.sql.{Connection, DriverManager, ResultSet}\r\n    import org.apache.spark.implicits.\r\n\r\n    val url = &quot;jdbc:mysql://mysql-rfam-public.ebi.ac.uk:4497/Rfam&quot;\r\n    val username = &quot;rfamro&quot;\r\n    val password = &quot;&quot;\r\n    val myRDD = new JdbcRDD( sc, () =&gt; DriverManager.getConnection(url, username, password), &quot;select rfam_id, noise_cutoff from family limit ?, ?&quot;, 1, 100, 10,                  \r\n                        r =&gt; r.getString(&quot;rfam_id&quot;) + &quot;, &quot; + r.getString(&quot;noise_cutoff&quot;))\r\n    val DF = myRDD.toDF\r\n    DF.show\r\n\r\nreturns:\r\n\r\n    +-------------------+\r\n    |              value|\r\n    +-------------------+\r\n    |    5_8S_rRNA, 41.9|\r\n    |           U1, 39.9|\r\n    |           U2, 45.9|\r\n    |         tRNA, 28.9|\r\n    |        Vault, 33.9|\r\n    |          U12, 52.9|\r\n    ....\r\n    ....","title":"Convert Resultset to Dataframe","body":"<p>A working example against public source mySQL</p>\n\n<pre><code>import java.util.Properties\nimport org.apache.spark.rdd.JdbcRDD\nimport java.sql.{Connection, DriverManager, ResultSet}\nimport org.apache.spark.implicits.\n\nval url = \"jdbc:mysql://mysql-rfam-public.ebi.ac.uk:4497/Rfam\"\nval username = \"rfamro\"\nval password = \"\"\nval myRDD = new JdbcRDD( sc, () =&gt; DriverManager.getConnection(url, username, password), \"select rfam_id, noise_cutoff from family limit ?, ?\", 1, 100, 10,                  \n                    r =&gt; r.getString(\"rfam_id\") + \", \" + r.getString(\"noise_cutoff\"))\nval DF = myRDD.toDF\nDF.show\n</code></pre>\n\n<p>returns:</p>\n\n<pre><code>+-------------------+\n|              value|\n+-------------------+\n|    5_8S_rRNA, 41.9|\n|           U1, 39.9|\n|           U2, 45.9|\n|         tRNA, 28.9|\n|        Vault, 33.9|\n|          U12, 52.9|\n....\n....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10205535,"reputation":27,"user_id":7534380,"display_name":"Keshore Durairaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685356785,"creation_date":1685356785,"answer_id":76356633,"question_id":51739822,"body_markdown":"```\r\ndef parallelizeResultSet(spark: SparkSession, rs: ResultSet): DataFrame = {\r\n\r\n  def parseResultSet(rs: ResultSet): Row = {\r\n    val columns = Seq.range(1, rs.getMetaData.getColumnCount + 1).map(i =&gt; rs.getMetaData.getColumnName(i))\r\n    val resultSetRecord = columns.map(c =&gt; rs.getString(c))\r\n    Row(resultSetRecord:_*)\r\n  }\r\n\r\n  def resultSetToIter(rs: ResultSet)(f: ResultSet =&gt; Row): Iterator[Row] = new Iterator[Row] {\r\n    def hasNext: Boolean = rs.next()\r\n    def next(): Row = f(rs)\r\n  }\r\n\r\n  val rdd = spark.sparkContext.parallelize(resultSetToIter(rs)(parseResultSet).toSeq)\r\n  val schema = StructType(Seq.range(1, rs.getMetaData.getColumnCount + 1).map(i =&gt; {StructField(rs.getMetaData.getColumnName(i), StringType, true)}))\r\n  spark.createDataFrame(rdd, schema)\r\n}\r\n\r\nparallelizeResultSet(spark,rs)\r\n\r\n```","title":"Convert Resultset to Dataframe","body":"<pre><code>def parallelizeResultSet(spark: SparkSession, rs: ResultSet): DataFrame = {\n\n  def parseResultSet(rs: ResultSet): Row = {\n    val columns = Seq.range(1, rs.getMetaData.getColumnCount + 1).map(i =&gt; rs.getMetaData.getColumnName(i))\n    val resultSetRecord = columns.map(c =&gt; rs.getString(c))\n    Row(resultSetRecord:_*)\n  }\n\n  def resultSetToIter(rs: ResultSet)(f: ResultSet =&gt; Row): Iterator[Row] = new Iterator[Row] {\n    def hasNext: Boolean = rs.next()\n    def next(): Row = f(rs)\n  }\n\n  val rdd = spark.sparkContext.parallelize(resultSetToIter(rs)(parseResultSet).toSeq)\n  val schema = StructType(Seq.range(1, rs.getMetaData.getColumnCount + 1).map(i =&gt; {StructField(rs.getMetaData.getColumnName(i), StringType, true)}))\n  spark.createDataFrame(rdd, schema)\n}\n\nparallelizeResultSet(spark,rs)\n\n</code></pre>\n"}],"owner":{"account_id":9183346,"reputation":2964,"user_id":6826479,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10289,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":51743125,"answer_count":3,"score":1,"last_activity_date":1685356785,"creation_date":1533709347,"question_id":51739822,"body_markdown":"I would love if someone of you guys can guide me to convert a scala (or java) Resultset to spark Dataframe.\r\n\r\nI cannot use this notation:\r\n\r\n    val jdbcDF = spark.read\r\n      .format(&quot;jdbc&quot;)\r\n      .option(&quot;url&quot;, &quot;jdbc:mysql://XXX-XX-XXX-XX-XX.compute-1.amazonaws.com:3306/&quot;)\r\n      .option(&quot;dbtable&quot;, &quot;pg_partner&quot;)\r\n      .option(&quot;user&quot;, &quot;XXX&quot;)\r\n      .option(&quot;password&quot;, &quot;XXX&quot;)\r\n      .load()\r\n\r\nSo before referring me to [this similar question][1], please take it into account.\r\n\r\nThe reason why I cannot use that notation is that I need to use a jdbc configuration which is not present in current version of spark that I am using (2.2.0), because I want to use a &quot;queryTimeout&quot; option which has been recently added to the spark version 2.4, so I need to use it in the ResultSet.\r\n\r\nAny help will be appreciated.\r\n\r\nThank you in advance!\r\n\r\n  [1]: https://stackoverflow.com/questions/41117750/scala-resultset-to-spark-dataframe","title":"Convert Resultset to Dataframe","body":"<p>I would love if someone of you guys can guide me to convert a scala (or java) Resultset to spark Dataframe.</p>\n\n<p>I cannot use this notation:</p>\n\n<pre><code>val jdbcDF = spark.read\n  .format(\"jdbc\")\n  .option(\"url\", \"jdbc:mysql://XXX-XX-XXX-XX-XX.compute-1.amazonaws.com:3306/\")\n  .option(\"dbtable\", \"pg_partner\")\n  .option(\"user\", \"XXX\")\n  .option(\"password\", \"XXX\")\n  .load()\n</code></pre>\n\n<p>So before referring me to <a href=\"https://stackoverflow.com/questions/41117750/scala-resultset-to-spark-dataframe\">this similar question</a>, please take it into account.</p>\n\n<p>The reason why I cannot use that notation is that I need to use a jdbc configuration which is not present in current version of spark that I am using (2.2.0), because I want to use a \"queryTimeout\" option which has been recently added to the spark version 2.4, so I need to use it in the ResultSet.</p>\n\n<p>Any help will be appreciated.</p>\n\n<p>Thank you in advance!</p>\n"},{"tags":["java","spring","mockito"],"owner":{"account_id":10770868,"reputation":33,"user_id":7924371,"display_name":"vulcan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685356379,"creation_date":1685356379,"question_id":76356586,"body_markdown":"I am upgrading a project from Java 11 to Java 17 and in the process upgraded Wiremock to com.github.tomakehurst:wiremock:3.0.0-beta-8 and spring boot to group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-webflux&#39;, version: &#39;3.0.6.\r\n\r\nI am getting a LinkageError. \r\n\r\nWhen I run the test cases (supported by WireMock) they fail with this error.\r\n```\r\n\r\n\r\n Caused by: java.lang.LinkageError: ClassCastException: attempting to castjar:file:/Users/UserName/.gradle/caches/modules-2/files-2.1/javax.ws.rs/javax.ws.rs-api/2.1.1/d3466bc9321fe84f268a1adb3b90373fc14b0eb5/javax.ws.rs-api-2.1.1.jar!/javax/ws/rs/client/ClientBuilder.class to jar:file:/Users/UserName/.gradle/caches/modules-2/files-2.1/javax.ws.rs/javax.ws.rs-api/2.1.1/d3466bc9321fe84f268a1adb3b90373fc14b0eb5/javax.ws.rs-api-2.1.1.jar!/javax/ws/rs/client/ClientBuilder.class\r\n\tat javax.ws.rs.client.ClientBuilder.newBuilder(ClientBuilder.java:81)\r\n\tat javax.ws.rs.client.ClientBuilder.newClient(ClientBuilder.java:109)\r\n\tat com.appdynamics.eum.rest.client.JaxRsClient$Builder.build(JaxRsClient.java:128)\r\n```\r\n\r\nI have tried clearing the gradle cache and various things suggested here on Stackoverflow by people facing similar issues but not able to resolve it (https://stackoverflow.com/questions/67419289/java-lang-linkageerror-classcastexception-attempting-to-castjar).","title":"How to fix LinkageError when running Wiremock tests with javax.ws.rs dependency after upgrading to Java 17?","body":"<p>I am upgrading a project from Java 11 to Java 17 and in the process upgraded Wiremock to com.github.tomakehurst:wiremock:3.0.0-beta-8 and spring boot to group: 'org.springframework.boot', name: 'spring-boot-starter-webflux', version: '3.0.6.</p>\n<p>I am getting a LinkageError.</p>\n<p>When I run the test cases (supported by WireMock) they fail with this error.</p>\n<pre><code>\n\n Caused by: java.lang.LinkageError: ClassCastException: attempting to castjar:file:/Users/UserName/.gradle/caches/modules-2/files-2.1/javax.ws.rs/javax.ws.rs-api/2.1.1/d3466bc9321fe84f268a1adb3b90373fc14b0eb5/javax.ws.rs-api-2.1.1.jar!/javax/ws/rs/client/ClientBuilder.class to jar:file:/Users/UserName/.gradle/caches/modules-2/files-2.1/javax.ws.rs/javax.ws.rs-api/2.1.1/d3466bc9321fe84f268a1adb3b90373fc14b0eb5/javax.ws.rs-api-2.1.1.jar!/javax/ws/rs/client/ClientBuilder.class\n    at javax.ws.rs.client.ClientBuilder.newBuilder(ClientBuilder.java:81)\n    at javax.ws.rs.client.ClientBuilder.newClient(ClientBuilder.java:109)\n    at com.appdynamics.eum.rest.client.JaxRsClient$Builder.build(JaxRsClient.java:128)\n</code></pre>\n<p>I have tried clearing the gradle cache and various things suggested here on Stackoverflow by people facing similar issues but not able to resolve it (<a href=\"https://stackoverflow.com/questions/67419289/java-lang-linkageerror-classcastexception-attempting-to-castjar\">java.lang.LinkageError: ClassCastException: attempting to castjar</a>).</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1685358720,"post_id":76356516,"comment_id":134645114,"body_markdown":"Does this answer your question? [Spring boot: Unable to start embedded Tomcat servlet container](https://stackoverflow.com/questions/43579432/spring-boot-unable-to-start-embedded-tomcat-servlet-container)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43579432/spring-boot-unable-to-start-embedded-tomcat-servlet-container\">Spring boot: Unable to start embedded Tomcat servlet container</a>"},{"owner":{"account_id":11204140,"reputation":387,"user_id":8220268,"display_name":"Abhilash Ramteke"},"score":0,"creation_date":1685360951,"post_id":76356516,"comment_id":134645485,"body_markdown":"No, it didn&#39;t solve the problem. Port number is not the issue","body":"No, it didn&#39;t solve the problem. Port number is not the issue"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1685427515,"post_id":76356516,"comment_id":134653934,"body_markdown":"And did you check for others answer as [this one](https://stackoverflow.com/a/43585142/10952503) which propose something different","body":"And did you check for others answer as <a href=\"https://stackoverflow.com/a/43585142/10952503\">this one</a> which propose something different"},{"owner":{"account_id":11204140,"reputation":387,"user_id":8220268,"display_name":"Abhilash Ramteke"},"score":0,"creation_date":1685531813,"post_id":76356516,"comment_id":134672378,"body_markdown":"@Elikill58 this also didn&#39;t work","body":"@Elikill58 this also didn&#39;t work"}],"owner":{"account_id":11204140,"reputation":387,"user_id":8220268,"display_name":"Abhilash Ramteke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685355861,"creation_date":1685355861,"question_id":76356516,"body_markdown":"I am getting the following error when I upgraded spring boot starter parent version from 2.0.4.RELEASE to 2.6.9\r\n\r\nDuring startup, it is giving error related to &#39;errorChannel&#39; subscriber.\r\n\r\n        Starting ProtocolHandler [&quot;https-jsse-nio-8000&quot;]\r\n    Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\r\n    Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the &#39;errorChannel&#39; channel\r\n    Channel &#39;abc.errorChannel&#39; has 0 subscriber(s).\r\n    stopped bean &#39;_org.springframework.integration.errorLogger&#39;\r\n    Exception thrown from ApplicationListener handling ContextClosedEvent\r\n    org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name &#39;registrationListener&#39;: Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.ApplicationListenerMethodAdapter.getTargetBean(ApplicationListenerMethodAdapter.java:371) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:336) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:427) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1058) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[?:1.8.0_341]\r\n    \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[?:1.8.0_341]\r\n    \tat java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1652) ~[?:1.8.0_341]\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[?:1.8.0_341]\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[?:1.8.0_341]\r\n    \tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[?:1.8.0_341]\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[?:1.8.0_341]\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_341]\r\n    \tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) ~[?:1.8.0_341]\r\n    \tat org.springframework.cloud.stream.binder.DefaultBinderFactory.destroy(DefaultBinderFactory.java:121) ~[spring-cloud-stream-3.1.3.jar:3.1.3]\r\n    \tat org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156) ~[spring-beans-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:596) ~[spring-context-5.3.21.jar:5.3.21]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.9.jar:2.6.9]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.9.jar:2.6.9]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.9.jar:2.6.9]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.9.jar:2.6.9]\r\n    \tat com.dt.cms.DTCmsApplication.main(DTCmsApplication.java:52) ~[classes/:?]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_341]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_341]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_341]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_341]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.9.jar:2.6.9]\r\n    Shutting down Quartz Scheduler\r\n    Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.\r\n    Scheduler quartzScheduler_$_NON_CLUSTERED paused.\r\n    Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.\r\n    Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    HikariPool-1 - Shutdown initiated...\r\n    HikariPool-1 - Shutdown completed.\r\n    Pausing ProtocolHandler [&quot;https-jsse-nio-8000&quot;]\r\n    Stopping service [Tomcat]\r\n    The web application [ROOT] appears to have started a thread named [redisson-netty-2-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n     sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n     sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n     sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n     io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)\r\n     io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:817)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n     io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n     io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     java.lang.Thread.run(Thread.java:750)\r\n    The web application [ROOT] appears to have started a thread named [redisson-netty-2-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n     sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n     sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n     sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n     io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)\r\n     io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:817)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n     io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n     io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     java.lang.Thread.run(Thread.java:750)\r\n    The web application [ROOT] appears to have started a thread named [redisson-netty-2-3] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n     sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n     sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n     sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\r\n     io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\r\n     io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n     io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n     io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     java.lang.Thread.run(Thread.java:750)\r\n    The web application [ROOT] appears to have started a thread named [redisson-netty-2-4] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n     sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n     sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n     sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\r\n     io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\r\n     io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n     io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n     io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     java.lang.Thread.run(Thread.java:750)\r\n    The web application [ROOT] appears to have started a thread named [redisson-timer-4-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     java.lang.Thread.sleep(Native Method)\r\n     io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)\r\n     io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)\r\n     io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     java.lang.Thread.run(Thread.java:750)\r\n    The web application [ROOT] appears to have started a thread named [redisson-netty-2-5] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n     sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n     sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n     sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\r\n     io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\r\n     io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n     io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n     io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     java.lang.Thread.run(Thread.java:750)\r\n    The web application [ROOT] appears to have started a thread named [redisson-netty-2-6] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n     sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n     sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n     sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\r\n     io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\r\n     io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n     io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n     io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     java.lang.Thread.run(Thread.java:750)\r\n    The web application [ROOT] appears to have started a thread named [redisson-netty-2-7] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n     sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n     sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n     sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\r\n     io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\r\n     io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n     io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n     io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     java.lang.Thread.run(Thread.java:750)\r\n    The web application [ROOT] appears to have started a thread named [redisson-netty-2-8] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n     sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n     sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n     sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\r\n     io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\r\n     io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n     io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n     io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     java.lang.Thread.run(Thread.java:750)\r\n    The web application [ROOT] appears to have started a thread named [redisson-netty-2-9] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n     sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n     sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n     sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\r\n     io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\r\n     io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n     io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n     io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     java.lang.Thread.run(Thread.java:750)\r\n    The web application [ROOT] appears to have started a thread named [redisson-netty-2-10] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n     sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n     sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n     sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\r\n     io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\r\n     io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n     io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n     io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     java.lang.Thread.run(Thread.java:750)\r\n    The web application [ROOT] appears to have started a thread named [redisson-netty-2-11] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n     sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n     sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n     sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\r\n     io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\r\n     io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n     io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n     io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     java.lang.Thread.run(Thread.java:750)\r\n    The web application [ROOT] appears to have started a thread named [redisson-netty-2-12] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n     sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n     sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n     sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\r\n     io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\r\n     io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n     io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n     io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     java.lang.Thread.run(Thread.java:750)\r\n    The web application [ROOT] appears to have started a thread named [redisson-netty-2-13] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n     sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n     sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n     sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\r\n     io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\r\n     io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n     io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n     io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     java.lang.Thread.run(Thread.java:750)\r\n    The web application [ROOT] appears to have started a thread named [redisson-netty-2-14] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n     sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n     sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n     sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n     sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\r\n     io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\r\n     io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n     io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n     io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n     java.lang.Thread.run(Thread.java:750)\r\n\r\n\r\n\r\ncan someone tell what I am missing? \r\n\r\nSpring boot starter parent version : 2.6.9\r\n\r\nSpring boot admin version : 2.6.9\r\n\r\nSpring cloud version : 2020.0.3\r\n\r\nJAVA version : 8","title":"Exception faced while starting up spring application after upgrading spring-boot version","body":"<p>I am getting the following error when I upgraded spring boot starter parent version from 2.0.4.RELEASE to 2.6.9</p>\n<p>During startup, it is giving error related to 'errorChannel' subscriber.</p>\n<pre><code>    Starting ProtocolHandler [&quot;https-jsse-nio-8000&quot;]\nException encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat server\nRemoving {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel\nChannel 'abc.errorChannel' has 0 subscriber(s).\nstopped bean '_org.springframework.integration.errorLogger'\nException thrown from ApplicationListener handling ContextClosedEvent\norg.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'registrationListener': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:220) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.getTargetBean(ApplicationListenerMethodAdapter.java:371) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:336) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:427) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1058) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1021) ~[spring-context-5.3.21.jar:5.3.21]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[?:1.8.0_341]\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193) ~[?:1.8.0_341]\n    at java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1652) ~[?:1.8.0_341]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[?:1.8.0_341]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[?:1.8.0_341]\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[?:1.8.0_341]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[?:1.8.0_341]\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_341]\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418) ~[?:1.8.0_341]\n    at org.springframework.cloud.stream.binder.DefaultBinderFactory.destroy(DefaultBinderFactory.java:121) ~[spring-cloud-stream-3.1.3.jar:3.1.3]\n    at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:213) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1163) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1156) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1106) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:596) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.9.jar:2.6.9]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.9.jar:2.6.9]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.9.jar:2.6.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.9.jar:2.6.9]\n    at com.dt.cms.DTCmsApplication.main(DTCmsApplication.java:52) ~[classes/:?]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_341]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_341]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_341]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_341]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.9.jar:2.6.9]\nShutting down Quartz Scheduler\nScheduler quartzScheduler_$_NON_CLUSTERED shutting down.\nScheduler quartzScheduler_$_NON_CLUSTERED paused.\nScheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.\nClosing JPA EntityManagerFactory for persistence unit 'default'\nHikariPool-1 - Shutdown initiated...\nHikariPool-1 - Shutdown completed.\nPausing ProtocolHandler [&quot;https-jsse-nio-8000&quot;]\nStopping service [Tomcat]\nThe web application [ROOT] appears to have started a thread named [redisson-netty-2-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\n sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\n sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\n sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)\n io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:817)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\n io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:750)\nThe web application [ROOT] appears to have started a thread named [redisson-netty-2-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\n sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\n sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\n sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)\n io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:817)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\n io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:750)\nThe web application [ROOT] appears to have started a thread named [redisson-netty-2-3] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\n sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\n sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\n sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\n io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\n io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\n io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:750)\nThe web application [ROOT] appears to have started a thread named [redisson-netty-2-4] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\n sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\n sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\n sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\n io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\n io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\n io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:750)\nThe web application [ROOT] appears to have started a thread named [redisson-timer-4-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n java.lang.Thread.sleep(Native Method)\n io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)\n io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)\n io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:750)\nThe web application [ROOT] appears to have started a thread named [redisson-netty-2-5] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\n sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\n sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\n sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\n io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\n io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\n io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:750)\nThe web application [ROOT] appears to have started a thread named [redisson-netty-2-6] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\n sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\n sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\n sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\n io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\n io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\n io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:750)\nThe web application [ROOT] appears to have started a thread named [redisson-netty-2-7] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\n sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\n sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\n sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\n io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\n io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\n io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:750)\nThe web application [ROOT] appears to have started a thread named [redisson-netty-2-8] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\n sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\n sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\n sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\n io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\n io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\n io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:750)\nThe web application [ROOT] appears to have started a thread named [redisson-netty-2-9] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\n sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\n sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\n sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\n io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\n io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\n io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:750)\nThe web application [ROOT] appears to have started a thread named [redisson-netty-2-10] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\n sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\n sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\n sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\n io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\n io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\n io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:750)\nThe web application [ROOT] appears to have started a thread named [redisson-netty-2-11] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\n sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\n sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\n sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\n io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\n io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\n io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:750)\nThe web application [ROOT] appears to have started a thread named [redisson-netty-2-12] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\n sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\n sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\n sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\n io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\n io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\n io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:750)\nThe web application [ROOT] appears to have started a thread named [redisson-netty-2-13] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\n sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\n sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\n sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\n io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\n io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\n io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:750)\nThe web application [ROOT] appears to have started a thread named [redisson-netty-2-14] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\n sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\n sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\n sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\n sun.nio.ch.SelectorImpl.select(SelectorImpl.java:101)\n io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:68)\n io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:813)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:460)\n io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p>can someone tell what I am missing?</p>\n<p>Spring boot starter parent version : 2.6.9</p>\n<p>Spring boot admin version : 2.6.9</p>\n<p>Spring cloud version : 2020.0.3</p>\n<p>JAVA version : 8</p>\n"},{"tags":["java","android","xml","character-encoding"],"comments":[{"owner":{"account_id":19310131,"reputation":3,"user_id":14116082,"display_name":"Eitch"},"score":0,"creation_date":1685353453,"post_id":76356250,"comment_id":134644306,"body_markdown":"I tried the &amp;#***; codes for both the characters in Strings.xml file and in hardcoded text but still have the same issue.","body":"I tried the &amp;#***; codes for both the characters in Strings.xml file and in hardcoded text but still have the same issue."},{"owner":{"account_id":944448,"reputation":1094,"user_id":971972,"display_name":"Remc4"},"score":0,"creation_date":1685354205,"post_id":76356250,"comment_id":134644419,"body_markdown":"Have you tried wrapping the text in strings.xml in CDATA like this? `&lt;![CDATA[&#181;]]&gt;`","body":"Have you tried wrapping the text in strings.xml in CDATA like this? <code>&lt;![CDATA[&#181;]]&gt;</code>"},{"owner":{"account_id":19310131,"reputation":3,"user_id":14116082,"display_name":"Eitch"},"score":0,"creation_date":1685355168,"post_id":76356250,"comment_id":134644583,"body_markdown":"However, I think the issue comes from the font I am using (nexa font), it does not support those special characters, but at least I can display my text, thanks !!","body":"However, I think the issue comes from the font I am using (nexa font), it does not support those special characters, but at least I can display my text, thanks !!"}],"answers":[{"tags":[],"owner":{"account_id":944448,"reputation":1094,"user_id":971972,"display_name":"Remc4"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685355326,"creation_date":1685355326,"answer_id":76356464,"question_id":76356250,"body_markdown":"Some special characters aren&#39;t properly supported in XML texts. You can wrap them in a `CDATA` block:\r\n\r\n```xml\r\n&lt;string name=&quot;hint&quot;&gt;&lt;![CDATA[&#181;]]&gt;&lt;/string&gt;\r\n```\r\n\r\nThere is an easy was to do this in Android Studio. Put your cursor inside the text, press `Alt+Enter` and select this option:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/pEU5i.png","title":"TextView characters in XML are not showing properly in preview and real device","body":"<p>Some special characters aren't properly supported in XML texts. You can wrap them in a <code>CDATA</code> block:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;string name=&quot;hint&quot;&gt;&lt;![CDATA[µ]]&gt;&lt;/string&gt;\n</code></pre>\n<p>There is an easy was to do this in Android Studio. Put your cursor inside the text, press <code>Alt+Enter</code> and select this option:</p>\n<p><a href=\"https://i.stack.imgur.com/pEU5i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pEU5i.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19310131,"reputation":3,"user_id":14116082,"display_name":"Eitch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76356464,"answer_count":1,"score":0,"last_activity_date":1685355326,"creation_date":1685353373,"question_id":76356250,"body_markdown":"I&#39;m starting the Android app development and I&#39;m trying to code my first app in Android, however I am encountering a problem with Strings in TextView.\r\nThe problem is that I am trying to use some special characters for my app (like &quot;&#181;&quot; sign) and &quot;/&quot; but the xml does not recognize those signs and replace them with &quot;DEMO CASE&quot; either in preview or during runtime on a real device.\r\n\r\n\r\n\r\n```\r\n&lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/ti_layout_aceta&quot;\r\n        style=&quot;@style/ThemeOverlay.Material3.TextInputEditText.OutlinedBox&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginTop=&quot;32dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        app:endIconMode=&quot;clear_text&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@id/gl_vertical&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/cv_a_header&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/et_unit1_aceta&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:hint=&quot;@string/hint&quot;\r\n            android:inputType=&quot;numberDecimal&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n```\r\n\r\n[Result in xml preview](https://i.stack.imgur.com/VvVo4.png)\r\n\r\n\r\n\r\n\r\nI tried those codes &amp;#8260; &amp;#x2044; for &quot;/&quot; and &amp;#181; &amp;#xB5; for &quot;&#181;&quot; but still have the same problem.","title":"TextView characters in XML are not showing properly in preview and real device","body":"<p>I'm starting the Android app development and I'm trying to code my first app in Android, however I am encountering a problem with Strings in TextView.\nThe problem is that I am trying to use some special characters for my app (like &quot;µ&quot; sign) and &quot;/&quot; but the xml does not recognize those signs and replace them with &quot;DEMO CASE&quot; either in preview or during runtime on a real device.</p>\n<pre><code>&lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/ti_layout_aceta&quot;\n        style=&quot;@style/ThemeOverlay.Material3.TextInputEditText.OutlinedBox&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;32dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        app:endIconMode=&quot;clear_text&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@id/gl_vertical&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/cv_a_header&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/et_unit1_aceta&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:hint=&quot;@string/hint&quot;\n            android:inputType=&quot;numberDecimal&quot; /&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VvVo4.png\" rel=\"nofollow noreferrer\">Result in xml preview</a></p>\n<p>I tried those codes ⁄ ⁄ for &quot;/&quot; and µ µ for &quot;µ&quot; but still have the same problem.</p>\n"},{"tags":["java","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":40043,"reputation":18749,"user_id":115835,"display_name":"Hardy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443443540,"creation_date":1443443540,"answer_id":32823077,"question_id":32765534,"body_markdown":"No, there is no way to this in Bean Validation nor Hibernate Validator. A constraint validator (per default) does not have any context information about about the current path. ","title":"Context based Java Bean Validation messages for one property","body":"<p>No, there is no way to this in Bean Validation nor Hibernate Validator. A constraint validator (per default) does not have any context information about about the current path. </p>\n"},{"tags":[],"owner":{"account_id":17250244,"reputation":226,"user_id":12490561,"display_name":"Emmanuel B."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685354995,"creation_date":1685354995,"answer_id":76356431,"question_id":32765534,"body_markdown":"I think it can be solved using the following trick\r\n\r\n    public class IdHolder {\r\n    \r\n        @NotNull(message = &quot;{messages.group1}&quot;, groups=Group1.Info)\r\n        @NotNull(message = &quot;{messages.group2}&quot;, groups=Group2.Info)\r\n        private Long id;\r\n    \r\n        // ...\r\n    }\r\n    \r\n    public class Transport {\r\n    \r\n        @Valid\r\n        @ConvertGroup(from= Default.class , to = Group1.class)\r\n        private IdHolder fromLocation;\r\n    \r\n        @Valid\r\n        @ConvertGroup(from= Default.class , to = Group2.class)\r\n        private IdHolder toLocation;\r\n    \r\n        // ...\r\n    }   \r\n\r\n\r\nAnd adding GroupSequence if there are confict in the messages.\r\n\r\nIf you are using Spring, it seems the @validated does somehow the same, job, but I haven&#39;t tried.\r\n\r\nBest\r\nEmmanuel","title":"Context based Java Bean Validation messages for one property","body":"<p>I think it can be solved using the following trick</p>\n<pre><code>public class IdHolder {\n\n    @NotNull(message = &quot;{messages.group1}&quot;, groups=Group1.Info)\n    @NotNull(message = &quot;{messages.group2}&quot;, groups=Group2.Info)\n    private Long id;\n\n    // ...\n}\n\npublic class Transport {\n\n    @Valid\n    @ConvertGroup(from= Default.class , to = Group1.class)\n    private IdHolder fromLocation;\n\n    @Valid\n    @ConvertGroup(from= Default.class , to = Group2.class)\n    private IdHolder toLocation;\n\n    // ...\n}   \n</code></pre>\n<p>And adding GroupSequence if there are confict in the messages.</p>\n<p>If you are using Spring, it seems the @validated does somehow the same, job, but I haven't tried.</p>\n<p>Best\nEmmanuel</p>\n"}],"owner":{"account_id":2180634,"reputation":1244,"user_id":3288576,"display_name":"Adam from WALCZAK.IT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685354995,"creation_date":1443109229,"question_id":32765534,"body_markdown":"Let&#39;s say I have a simple DTOs like this:\r\n\r\n    public class IdHolder {\r\n        \r\n        @NotNull\r\n        private Long id;\r\n        \r\n        // ...\r\n    }\r\n    \r\n    public class Transport {\r\n    \r\n        @Valid @NotNull(message = &quot;{messages.fromLocationRequired}&quot;)\r\n        private IdHolder fromLocation;\r\n        \r\n        @Valid @NotNull(message = &quot;{messages.toLocationRequired}&quot;)\r\n        private IdHolder toLocation;\r\n        \r\n        // ...\r\n    }\r\n\r\nI get nice messages for the following conditions:\r\n\r\n - fromLocation=null results in &quot;you must enter your senders location&quot;\r\n - toLocation=null results in &quot;you must enter your receivers location&quot;\r\n\r\nbut I would also want to get those messages if the objects are not null but their corresponding id is null.\r\n\r\nSo is there any elegant way in Java Bean Validation to configure the following conditions:\r\n\r\n - fromLocation.id=null results in &quot;you must enter your senders location&quot;\r\n - toLocation.id=null results in &quot;you must enter your receivers location&quot;\r\n\r\n?","title":"Context based Java Bean Validation messages for one property","body":"<p>Let's say I have a simple DTOs like this:</p>\n\n<pre><code>public class IdHolder {\n\n    @NotNull\n    private Long id;\n\n    // ...\n}\n\npublic class Transport {\n\n    @Valid @NotNull(message = \"{messages.fromLocationRequired}\")\n    private IdHolder fromLocation;\n\n    @Valid @NotNull(message = \"{messages.toLocationRequired}\")\n    private IdHolder toLocation;\n\n    // ...\n}\n</code></pre>\n\n<p>I get nice messages for the following conditions:</p>\n\n<ul>\n<li>fromLocation=null results in \"you must enter your senders location\"</li>\n<li>toLocation=null results in \"you must enter your receivers location\"</li>\n</ul>\n\n<p>but I would also want to get those messages if the objects are not null but their corresponding id is null.</p>\n\n<p>So is there any elegant way in Java Bean Validation to configure the following conditions:</p>\n\n<ul>\n<li>fromLocation.id=null results in \"you must enter your senders location\"</li>\n<li>toLocation.id=null results in \"you must enter your receivers location\"</li>\n</ul>\n\n<p>?</p>\n"},{"tags":["java","ssl","encryption","jsse"],"answers":[{"comments":[{"owner":{"account_id":3018737,"reputation":85,"user_id":2560250,"display_name":"oshu"},"score":1,"creation_date":1388453681,"post_id":20849587,"comment_id":31277039,"body_markdown":"I&#39;ve already tried to call setEnabledCipherSuites() with my preference order, but it didn&#39;t work. There might be no way to specify it. :( Thank you!","body":"I&#39;ve already tried to call setEnabledCipherSuites() with my preference order, but it didn&#39;t work. There might be no way to specify it. :( Thank you!"}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1388456721,"creation_date":1388447881,"answer_id":20849587,"question_id":20836930,"body_markdown":"You could try calling `setEnabledCipherSuites()` with an array in the desired order, but there&#39;s nothing in the JSSE documentation that suggest it will use that order as the desired order, and there&#39;s nothing in the TLS RFC 2246 that says the server is obliged to obey any particular ordering when choosing among the cipher suites suggested by the client.\r\n\r\n**EDIT** You might be better off putting an Apache HTTPD reverse proxy in front of your server and terminating the SSL there. Apache HTTPD uses OpenSSL, which lets you do exactly what you are looking for. It&#39;s also better for situations where some Webapps needs client certificates and others don&#39;t, assuming you are writing Webapps of course.","title":"How to specify server-preferred order of SSL cipher suites for Java?","body":"<p>You could try calling <code>setEnabledCipherSuites()</code> with an array in the desired order, but there's nothing in the JSSE documentation that suggest it will use that order as the desired order, and there's nothing in the TLS RFC 2246 that says the server is obliged to obey any particular ordering when choosing among the cipher suites suggested by the client.</p>\n\n<p><strong>EDIT</strong> You might be better off putting an Apache HTTPD reverse proxy in front of your server and terminating the SSL there. Apache HTTPD uses OpenSSL, which lets you do exactly what you are looking for. It's also better for situations where some Webapps needs client certificates and others don't, assuming you are writing Webapps of course.</p>\n"},{"tags":[],"owner":{"account_id":44775,"reputation":687,"user_id":131578,"accept_rate":75,"display_name":"Daniel Flower"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551800008,"creation_date":1551800008,"answer_id":55006346,"question_id":20836930,"body_markdown":"Since Java 1.8, there is a [setUseCipherSuitesOrder](https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/SSLParameters.html#setUseCipherSuitesOrder-boolean-) method on the SSLParameters class.\r\n\r\nThe way that is set depends on the server you are using. If you have access to the SSLEngine you can get the parameters, change the value, and then set the parameters back on the engine.","title":"How to specify server-preferred order of SSL cipher suites for Java?","body":"<p>Since Java 1.8, there is a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/SSLParameters.html#setUseCipherSuitesOrder-boolean-\" rel=\"nofollow noreferrer\">setUseCipherSuitesOrder</a> method on the SSLParameters class.</p>\n\n<p>The way that is set depends on the server you are using. If you have access to the SSLEngine you can get the parameters, change the value, and then set the parameters back on the engine.</p>\n"},{"tags":[],"owner":{"account_id":5015453,"reputation":53,"user_id":4030426,"display_name":"prasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685354902,"creation_date":1685354902,"answer_id":76356424,"question_id":20836930,"body_markdown":"Server prefered order is default: https://bugs.openjdk.org/browse/JDK-8168261","title":"How to specify server-preferred order of SSL cipher suites for Java?","body":"<p>Server prefered order is default: <a href=\"https://bugs.openjdk.org/browse/JDK-8168261\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8168261</a></p>\n"}],"owner":{"account_id":3018737,"reputation":85,"user_id":2560250,"display_name":"oshu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4980,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":20849587,"answer_count":3,"score":5,"last_activity_date":1685354902,"creation_date":1388396507,"question_id":20836930,"body_markdown":"I&#39;m using Java 1.6 and netty 3.8 for HTTP/HTTPS server.\r\nI&#39;ve done SSL test by ssllab.com(https://www.ssllabs.com/ssltest/analyze.html), and I got a result for cipher suites like below.\r\n\r\n&gt; Cipher Suites (sorted by strength; **the server has no preference**)\r\n\r\nBut, a result for google.com is something different.\r\nhttps://www.ssllabs.com/ssltest/analyze.html?d=www.google.com&amp;s=74.125.227.148\r\n\r\n&gt; Cipher Suites (**SSL 3+ suites in server-preferred order**, then SSL 2 suites where used)\r\n\r\nHow can I set server-side preference order for cipher suites?\r\nDoes JSSE have any property or API about that?\r\n\r\nThanks in advance.\r\n\r\n\r\n","title":"How to specify server-preferred order of SSL cipher suites for Java?","body":"<p>I'm using Java 1.6 and netty 3.8 for HTTP/HTTPS server.\nI've done SSL test by ssllab.com(<a href=\"https://www.ssllabs.com/ssltest/analyze.html\" rel=\"noreferrer\">https://www.ssllabs.com/ssltest/analyze.html</a>), and I got a result for cipher suites like below.</p>\n\n<blockquote>\n  <p>Cipher Suites (sorted by strength; <strong>the server has no preference</strong>)</p>\n</blockquote>\n\n<p>But, a result for google.com is something different.\n<a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=www.google.com&amp;s=74.125.227.148\" rel=\"noreferrer\">https://www.ssllabs.com/ssltest/analyze.html?d=www.google.com&amp;s=74.125.227.148</a></p>\n\n<blockquote>\n  <p>Cipher Suites (<strong>SSL 3+ suites in server-preferred order</strong>, then SSL 2 suites where used)</p>\n</blockquote>\n\n<p>How can I set server-side preference order for cipher suites?\nDoes JSSE have any property or API about that?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","mysql"],"answers":[{"comments":[{"owner":{"account_id":12458416,"reputation":1488,"user_id":9070798,"display_name":"Patrick"},"score":1,"creation_date":1685334006,"post_id":76351482,"comment_id":134641958,"body_markdown":"This may be the start of a good answer, but could you provide a little more details.","body":"This may be the start of a good answer, but could you provide a little more details."},{"owner":{"account_id":12458416,"reputation":1488,"user_id":9070798,"display_name":"Patrick"},"score":1,"creation_date":1685334019,"post_id":76351482,"comment_id":134641959,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76351482/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":14040452,"reputation":1,"user_id":10142001,"display_name":"wonderful Morty"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685354531,"creation_date":1685276847,"answer_id":76351482,"question_id":5762252,"body_markdown":"You can upload audio files to Java servlet. Java servlet accept audio files and store audio files in your local computer. then you can get the relative path of audio files, you save this path to a database, anytime you can get audio files by finding the record of database.\r\n","title":"Storing audio files in MySQL using Java","body":"<p>You can upload audio files to Java servlet. Java servlet accept audio files and store audio files in your local computer. then you can get the relative path of audio files, you save this path to a database, anytime you can get audio files by finding the record of database.</p>\n"}],"owner":{"account_id":262963,"reputation":8173,"user_id":548218,"accept_rate":79,"display_name":"jennifer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685354531,"creation_date":1303534314,"question_id":5762252,"body_markdown":"How to store audio files to a MySQL database from a Java servlet?\r\n","title":"Storing audio files in MySQL using Java","body":"<p>How to store audio files to a MySQL database from a Java servlet?</p>\n"},{"tags":["java","android","firebase-realtime-database","mvvm"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1685348596,"post_id":76353846,"comment_id":134643591,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted more than **500** (five hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way, you increase your chances of being helped. Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted more than <b>500</b> (five hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way, you increase your chances of being helped. Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."},{"owner":{"account_id":21324424,"reputation":1,"user_id":15697045,"display_name":"Ddamulira Francis"},"score":0,"creation_date":1685354027,"post_id":76353846,"comment_id":134644395,"body_markdown":"@AlexMamo noted Bro, let me work on that","body":"@AlexMamo noted Bro, let me work on that"}],"owner":{"account_id":21324424,"reputation":1,"user_id":15697045,"display_name":"Ddamulira Francis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685354441,"creation_date":1685313502,"question_id":76353846,"body_markdown":"I am fairly new to programming and I am using java. my problem is I am trying to fetch live data from firebase database using MVVM Architecture, following an online tutorial but nothing is being displayed/fetched in my fragment. No error shown whatsoever in the entire project, I don&#39;t know where I went wrong.\r\n\r\nhere is my code:\r\n\r\n\r\n\r\n\r\n\r\n\r\nRepository code:\r\n\r\n```\r\npackage com.example.echat.Repository;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\n\r\n\r\nimport com.example.echat.Utils.Util;\r\nimport com.example.echat.UserModel;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\n public class ProfileRepository {\r\n\r\n    private DatabaseReference databaseReference;\r\n    private Util util = new Util();\r\n    private MutableLiveData&lt;UserModel&gt; liveData;\r\n    private static ProfileRepository profileRepository;\r\n\r\n    public static ProfileRepository getInstance(){\r\n        return profileRepository = new ProfileRepository();\r\n    }\r\n\r\n\r\n    public LiveData&lt;UserModel&gt;getUser(){\r\n        if (liveData==null) {\r\n            liveData=new MutableLiveData&lt;&gt;();\r\n            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\r\n            databaseReference.child(util.getUID()).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    if (snapshot.exists()) {\r\n                        UserModel userModel = snapshot.getValue(UserModel.class);\r\n                        liveData.setValue(userModel);\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                }\r\n            });\r\n        }\r\n        return liveData;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nUtil code:\r\n```\r\npackage com.example.echat.Utils;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\n\r\npublic class Util {\r\n    private FirebaseAuth firebaseAuth;\r\n\r\n    public String getUID(){\r\n        firebaseAuth=FirebaseAuth.getInstance();\r\n        return firebaseAuth.getUid();\r\n    }\r\n}\r\n```\r\n\r\nViewModel:\r\n\r\n```\r\npackage com.example.echat.ViewModel;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.example.echat.Repository.ProfileRepository;\r\nimport com.example.echat.UserModel;\r\n\r\npublic class ProfileViewModel extends ViewModel {\r\n\r\n    private MutableLiveData&lt;UserModel&gt; userModelMutableLiveData = new MutableLiveData&lt;&gt;();\r\n    ProfileRepository profileRepository = ProfileRepository.getInstance();\r\n\r\n    public LiveData&lt;UserModel&gt; getUser(){\r\n        return profileRepository.getUser();\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nProfile Fragment:\r\n\r\n```\r\npackage com.example.echat.Fragments;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.Observer;\r\nimport androidx.lifecycle.ViewModelProvider;\r\n\r\nimport com.example.echat.UserModel;\r\nimport com.example.echat.ViewModel.ProfileViewModel;\r\nimport com.example.echat.databinding.FragmentProfileBinding;\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n * Use the {@link ProfileFragment#newInstance} factory method to\r\n * create an instance of this fragment.\r\n */\r\npublic class ProfileFragment extends Fragment {\r\n    private FragmentProfileBinding binding;\r\n    private ProfileViewModel profileViewModel;\r\n\r\n\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    public ProfileFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    /**\r\n     * Use this factory method to create a new instance of\r\n     * this fragment using the provided parameters.\r\n     *\r\n     * @param param1 Parameter 1.\r\n     * @param param2 Parameter 2.\r\n     * @return A new instance of fragment ProfileFragment.\r\n     */\r\n    // TODO: Rename and change types and number of parameters\r\n    public static ProfileFragment newInstance(String param1, String param2) {\r\n        ProfileFragment fragment = new ProfileFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        binding=FragmentProfileBinding.inflate(inflater,container,false);\r\n        View view = binding.getRoot();\r\n\r\n        profileViewModel= ViewModelProvider.AndroidViewModelFactory.getInstance(getActivity().getApplication()).create(ProfileViewModel.class);\r\n\r\n        Observer&lt;UserModel&gt; observer = userModel -&gt; {\r\n            binding.setUserModel(userModel);\r\n\r\n            String name = userModel.getName();\r\n            if (name.contains(&quot; &quot;)) {\r\n                String[] split = name.split(&quot; &quot;);\r\n                binding.txtProfileFName.setText(split[0]);\r\n                binding.txtProfileLName.setText(split[1]);\r\n            } else {\r\n                binding.txtProfileFName.setText(name);\r\n                binding.txtProfileLName.setText(&quot;&quot;);\r\n            }\r\n\r\n        };\r\n        profileViewModel.getUser().observe(getViewLifecycleOwner(),observer);\r\n        return view;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nUserModel:\r\n\r\n```\r\npackage com.example.echat;\r\n\r\nimport android.widget.ImageView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.databinding.BindingAdapter;\r\n\r\nimport com.bumptech.glide.Glide;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class UserModel {\r\n\r\n    String name, status, image, number, uID, online, typing, token;\r\n\r\n    public UserModel() {\r\n    }\r\n\r\n    public UserModel(String name, String status, String image, String number, String uID, String online, String typing, String token) {\r\n        this.name = name;\r\n        this.status = status;\r\n        this.image = image;\r\n        this.number = number;\r\n        this.uID = uID;\r\n        this.online = online;\r\n        this.typing = typing;\r\n        this.token = token;\r\n    }\r\n\r\n    public String getToken() {\r\n        return token;\r\n    }\r\n\r\n    public void setToken(String token) {\r\n        this.token = token;\r\n    }\r\n\r\n    public String getTyping() {\r\n        return typing;\r\n    }\r\n\r\n    public void setTyping(String typing) {\r\n        this.typing = typing;\r\n    }\r\n\r\n    public String getOnline() {\r\n        return online;\r\n    }\r\n\r\n    public void setOnline(String online) {\r\n        this.online = online;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public String getNumber() {\r\n        return number;\r\n    }\r\n\r\n    public void setNumber(String number) {\r\n        this.number = number;\r\n    }\r\n\r\n    public String getuID() {\r\n        return uID;\r\n    }\r\n\r\n    public void setuID(String uID) {\r\n        this.uID = uID;\r\n    }\r\n\r\n    @BindingAdapter(&quot;imageUrl&quot;)\r\n    public static void loadImage(@NonNull CircleImageView view, @NonNull String image) {\r\n        Glide.with(view.getContext()).load(image).into(view);\r\n    }\r\n\r\n\r\n}\r\n```","title":"live data failed to be retrieved in my fragment from Firebase database using MVVM","body":"<p>I am fairly new to programming and I am using java. my problem is I am trying to fetch live data from firebase database using MVVM Architecture, following an online tutorial but nothing is being displayed/fetched in my fragment. No error shown whatsoever in the entire project, I don't know where I went wrong.</p>\n<p>here is my code:</p>\n<p>Repository code:</p>\n<pre><code>package com.example.echat.Repository;\n\nimport androidx.annotation.NonNull;\nimport androidx.lifecycle.LiveData;\nimport androidx.lifecycle.MutableLiveData;\n\n\nimport com.example.echat.Utils.Util;\nimport com.example.echat.UserModel;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\n public class ProfileRepository {\n\n    private DatabaseReference databaseReference;\n    private Util util = new Util();\n    private MutableLiveData&lt;UserModel&gt; liveData;\n    private static ProfileRepository profileRepository;\n\n    public static ProfileRepository getInstance(){\n        return profileRepository = new ProfileRepository();\n    }\n\n\n    public LiveData&lt;UserModel&gt;getUser(){\n        if (liveData==null) {\n            liveData=new MutableLiveData&lt;&gt;();\n            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);\n            databaseReference.child(util.getUID()).addListenerForSingleValueEvent(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                    if (snapshot.exists()) {\n                        UserModel userModel = snapshot.getValue(UserModel.class);\n                        liveData.setValue(userModel);\n                    }\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n        }\n        return liveData;\n    }\n}\n</code></pre>\n<p>Util code:</p>\n<pre><code>package com.example.echat.Utils;\n\nimport com.google.firebase.auth.FirebaseAuth;\n\npublic class Util {\n    private FirebaseAuth firebaseAuth;\n\n    public String getUID(){\n        firebaseAuth=FirebaseAuth.getInstance();\n        return firebaseAuth.getUid();\n    }\n}\n</code></pre>\n<p>ViewModel:</p>\n<pre><code>package com.example.echat.ViewModel;\n\nimport androidx.lifecycle.LiveData;\nimport androidx.lifecycle.MutableLiveData;\nimport androidx.lifecycle.ViewModel;\n\nimport com.example.echat.Repository.ProfileRepository;\nimport com.example.echat.UserModel;\n\npublic class ProfileViewModel extends ViewModel {\n\n    private MutableLiveData&lt;UserModel&gt; userModelMutableLiveData = new MutableLiveData&lt;&gt;();\n    ProfileRepository profileRepository = ProfileRepository.getInstance();\n\n    public LiveData&lt;UserModel&gt; getUser(){\n        return profileRepository.getUser();\n\n    }\n}\n</code></pre>\n<p>Profile Fragment:</p>\n<pre><code>package com.example.echat.Fragments;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.fragment.app.Fragment;\nimport androidx.lifecycle.Observer;\nimport androidx.lifecycle.ViewModelProvider;\n\nimport com.example.echat.UserModel;\nimport com.example.echat.ViewModel.ProfileViewModel;\nimport com.example.echat.databinding.FragmentProfileBinding;\n\n/**\n * A simple {@link Fragment} subclass.\n * Use the {@link ProfileFragment#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class ProfileFragment extends Fragment {\n    private FragmentProfileBinding binding;\n    private ProfileViewModel profileViewModel;\n\n\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    public ProfileFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment ProfileFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static ProfileFragment newInstance(String param1, String param2) {\n        ProfileFragment fragment = new ProfileFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding=FragmentProfileBinding.inflate(inflater,container,false);\n        View view = binding.getRoot();\n\n        profileViewModel= ViewModelProvider.AndroidViewModelFactory.getInstance(getActivity().getApplication()).create(ProfileViewModel.class);\n\n        Observer&lt;UserModel&gt; observer = userModel -&gt; {\n            binding.setUserModel(userModel);\n\n            String name = userModel.getName();\n            if (name.contains(&quot; &quot;)) {\n                String[] split = name.split(&quot; &quot;);\n                binding.txtProfileFName.setText(split[0]);\n                binding.txtProfileLName.setText(split[1]);\n            } else {\n                binding.txtProfileFName.setText(name);\n                binding.txtProfileLName.setText(&quot;&quot;);\n            }\n\n        };\n        profileViewModel.getUser().observe(getViewLifecycleOwner(),observer);\n        return view;\n    }\n}\n</code></pre>\n<p>UserModel:</p>\n<pre><code>package com.example.echat;\n\nimport android.widget.ImageView;\n\nimport androidx.annotation.NonNull;\nimport androidx.databinding.BindingAdapter;\n\nimport com.bumptech.glide.Glide;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\npublic class UserModel {\n\n    String name, status, image, number, uID, online, typing, token;\n\n    public UserModel() {\n    }\n\n    public UserModel(String name, String status, String image, String number, String uID, String online, String typing, String token) {\n        this.name = name;\n        this.status = status;\n        this.image = image;\n        this.number = number;\n        this.uID = uID;\n        this.online = online;\n        this.typing = typing;\n        this.token = token;\n    }\n\n    public String getToken() {\n        return token;\n    }\n\n    public void setToken(String token) {\n        this.token = token;\n    }\n\n    public String getTyping() {\n        return typing;\n    }\n\n    public void setTyping(String typing) {\n        this.typing = typing;\n    }\n\n    public String getOnline() {\n        return online;\n    }\n\n    public void setOnline(String online) {\n        this.online = online;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n\n    public String getNumber() {\n        return number;\n    }\n\n    public void setNumber(String number) {\n        this.number = number;\n    }\n\n    public String getuID() {\n        return uID;\n    }\n\n    public void setuID(String uID) {\n        this.uID = uID;\n    }\n\n    @BindingAdapter(&quot;imageUrl&quot;)\n    public static void loadImage(@NonNull CircleImageView view, @NonNull String image) {\n        Glide.with(view.getContext()).load(image).into(view);\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","spring-batch"],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1684381292,"post_id":76277553,"comment_id":134510981,"body_markdown":"@myeongsasoo in other words you have less parameters than you have table columns because you forgot to precede `pg` with `:`. Refer to [Getting SQL error SQL State S1009](https://stackoverflow.com/questions/44164234/getting-sql-error-sql-state-s1009). Note that in that question they are using question marks rather than actual parameter names (as you do) but the problem is still the same, i.e. there are less parameters than there are columns of the database table in the INSERT statement.","body":"@myeongsasoo in other words you have less parameters than you have table columns because you forgot to precede <code>pg</code> with <code>:</code>. Refer to <a href=\"https://stackoverflow.com/questions/44164234/getting-sql-error-sql-state-s1009\">Getting SQL error SQL State S1009</a>. Note that in that question they are using question marks rather than actual parameter names (as you do) but the problem is still the same, i.e. there are less parameters than there are columns of the database table in the INSERT statement."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1684402806,"post_id":76277553,"comment_id":134513920,"body_markdown":"Precisely there are 14 columns listed in query but 16 values. 15 values are named parameters. 1 (pg) is probably just missing &#39;:&#39; Anyway - the numbers don&#39;t match and causes the error S1009.","body":"Precisely there are 14 columns listed in query but 16 values. 15 values are named parameters. 1 (pg) is probably just missing &#39;:&#39; Anyway - the numbers don&#39;t match and causes the error S1009."}],"tags":[],"owner":{"account_id":28624770,"reputation":11,"user_id":21917010,"display_name":"Dishith Poojary"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684405530,"creation_date":1684380729,"answer_id":76277553,"question_id":76277389,"body_markdown":"One thing I can notice right away is that you have used `pg` in the values instead of `:pg` which would get replaced during the query formation. ","title":"JdbcBatchItemWriter Error Parameter index out of range","body":"<p>One thing I can notice right away is that you have used <code>pg</code> in the values instead of <code>:pg</code> which would get replaced during the query formation.</p>\n"},{"tags":[],"owner":{"account_id":27714767,"reputation":29,"user_id":21156730,"display_name":"Velmurugan K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685353907,"creation_date":1685353907,"answer_id":76356318,"question_id":76277389,"body_markdown":"* Try after adding &#39;:&#39; before pg\r\n* Check CalculationOriginalAccountBooksItemPreparedStatementSetter with all columns are mapped according to the query.\r\n* Still it&#39;s not working means try by add NamedJdbcTemplate in writer","title":"JdbcBatchItemWriter Error Parameter index out of range","body":"<ul>\n<li>Try after adding ':' before pg</li>\n<li>Check CalculationOriginalAccountBooksItemPreparedStatementSetter with all columns are mapped according to the query.</li>\n<li>Still it's not working means try by add NamedJdbcTemplate in writer</li>\n</ul>\n"}],"owner":{"account_id":28525423,"reputation":3,"user_id":21833566,"display_name":"myeongsasoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685353907,"creation_date":1684377666,"question_id":76277389,"body_markdown":"There&#39;s an error on using Spring batch JdbcBatchItemWriter.\r\n\r\ninsert into books(order_id, order_no, paid_payment_id)  values (:orderId, :orderNo, :paidPaymentId)\r\n\r\n\r\n\r\n[enter image description here][1]\r\n\r\n```\r\n  private JdbcBatchItemWriter&lt;BooksEntity&gt; booksWriter() {\r\n    return new JdbcBatchItemWriterBuilder&lt;BooksEntity&gt;()\r\n        .itemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;())\r\n        .dataSource(dataSource)\r\n        .sql(\r\n            &quot;insert into books(order_id, order_no, paid_at, paid_payment_id, pay_method, pay_no, pg, service_type, status, transaction_amount, transaction_at, vat_amount, canceled_at, created_at) &quot;\r\n                + &quot; values (:expectedCalculationAmount, :feeAmount, :orderId, :orderNo, :paidAt, :paidPaymentId, :payMethod, :payNo, pg, :serviceType, :status, :transactionAmount, :transactionAt, :vatAmount, :canceledAt, :createdAt)&quot;)\r\nCalculationOriginalAccountBooksItemPreparedStatementSetter())\r\n        .build();\r\n\r\n  }\r\n```\r\n\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:mysql://localhost:3306/book?useSSL=false&amp;useUnicode=true&amp;serverTimezone=Asia/Seoul\r\n    password: root\r\n    username: root\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n  jpa:\r\n    open-in-view: false\r\n    hibernate:\r\n      ddl-auto: update\r\n```\r\n\r\nS1009 Error I don&#39;t know what that means.\r\nPlease help me.\r\n\r\n  [1]: https://i.stack.imgur.com/tfosv.png\r\n\r\n","title":"JdbcBatchItemWriter Error Parameter index out of range","body":"<p>There's an error on using Spring batch JdbcBatchItemWriter.</p>\n<p>insert into books(order_id, order_no, paid_payment_id)  values (:orderId, :orderNo, :paidPaymentId)</p>\n<p><a href=\"https://i.stack.imgur.com/tfosv.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>  private JdbcBatchItemWriter&lt;BooksEntity&gt; booksWriter() {\n    return new JdbcBatchItemWriterBuilder&lt;BooksEntity&gt;()\n        .itemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;())\n        .dataSource(dataSource)\n        .sql(\n            &quot;insert into books(order_id, order_no, paid_at, paid_payment_id, pay_method, pay_no, pg, service_type, status, transaction_amount, transaction_at, vat_amount, canceled_at, created_at) &quot;\n                + &quot; values (:expectedCalculationAmount, :feeAmount, :orderId, :orderNo, :paidAt, :paidPaymentId, :payMethod, :payNo, pg, :serviceType, :status, :transactionAmount, :transactionAt, :vatAmount, :canceledAt, :createdAt)&quot;)\nCalculationOriginalAccountBooksItemPreparedStatementSetter())\n        .build();\n\n  }\n</code></pre>\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/book?useSSL=false&amp;useUnicode=true&amp;serverTimezone=Asia/Seoul\n    password: root\n    username: root\n    driver-class-name: com.mysql.cj.jdbc.Driver\n  jpa:\n    open-in-view: false\n    hibernate:\n      ddl-auto: update\n</code></pre>\n<p>S1009 Error I don't know what that means.\nPlease help me.</p>\n"},{"tags":["java","eclipse","program-entry-point"],"comments":[{"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"score":0,"creation_date":1685352835,"post_id":76356192,"comment_id":134644221,"body_markdown":"I really cannot understand this error the main method is already present still it is throwing this error . Please tell me how to fix this  error","body":"I really cannot understand this error the main method is already present still it is throwing this error . Please tell me how to fix this  error"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1685353265,"post_id":76356192,"comment_id":134644285,"body_markdown":"Try and clean your build before running again.","body":"Try and clean your build before running again."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1685353647,"post_id":76356192,"comment_id":134644335,"body_markdown":"is that the only error? see this exclamation mark [here](https://i.stack.imgur.com/2xSbs.png) - it often indicates some (project) configuration error - check the `Problems` view if there is some error there (I also wonder the `.classpath` entry under Dependencies)","body":"is that the only error? see this exclamation mark <a href=\"https://i.stack.imgur.com/2xSbs.png\" rel=\"nofollow noreferrer\">here</a> - it often indicates some (project) configuration error - check the <code>Problems</code> view if there is some error there (I also wonder the <code>.classpath</code> entry under Dependencies)"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1685354496,"post_id":76356192,"comment_id":134644465,"body_markdown":"To troubleshoot this, it via the cli but first compile it `javac src/jDBCLearnProject/Main.java` and then run it via `java src/jDBCLearnProject/Main.java`","body":"To troubleshoot this, it via the cli but first compile it <code>javac src&#47;jDBCLearnProject&#47;Main.java</code> and then run it via <code>java src&#47;jDBCLearnProject&#47;Main.java</code>"}],"owner":{"account_id":28557723,"reputation":423,"user_id":21861720,"display_name":"Ronit Pandey"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685353150,"creation_date":1685352774,"question_id":76356192,"body_markdown":"I am trying to run this class but I am getting an error that main method is not found although I have defined the `public static void main (String [] args){}`\r\n\r\nThis is my class file :\r\n```\r\npackage jDBCLearn;\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n\r\n    try {\r\n      Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306&quot;, &quot;root&quot;, &quot;Ronitpandey123&quot;);\r\n      System.out.println(&quot;Connection Succesful&quot;);\r\n    } catch (SQLException e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\nThis is the project explorer: \r\n\r\n[![Image of project explorer][1]][1]\r\n\r\nThis is the error log :\r\n\r\n    Error: Main method not found in class jDBCLearn.Main, please define the main method as:\r\n       public static void main(String[] args)\r\n    or a JavaFX application class must extend javafx.application.Application\r\n\r\n\r\nThis is the run configuration:\r\n\r\n[![Image of run configuration][2]][2]\r\n\r\nThis is the dependencies folder:\r\n\r\n[![Dependency folder image][3]][3]\r\n\r\nThis is the source folder:\r\n\r\n[![image of source folder][4]][4]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dKcfo.png\r\n  [2]: https://i.stack.imgur.com/mJtAe.png\r\n  [3]: https://i.stack.imgur.com/W9FjX.png\r\n  [4]: https://i.stack.imgur.com/rQOFL.png\r\n","title":"main method not found in class Main","body":"<p>I am trying to run this class but I am getting an error that main method is not found although I have defined the <code>public static void main (String [] args){}</code></p>\n<p>This is my class file :</p>\n<pre><code>package jDBCLearn;\n\npublic class Main {\n  public static void main(String[] args) {\n\n    try {\n      Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306&quot;, &quot;root&quot;, &quot;Ronitpandey123&quot;);\n      System.out.println(&quot;Connection Succesful&quot;);\n    } catch (SQLException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>This is the project explorer:</p>\n<p><a href=\"https://i.stack.imgur.com/dKcfo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dKcfo.png\" alt=\"Image of project explorer\" /></a></p>\n<p>This is the error log :</p>\n<pre><code>Error: Main method not found in class jDBCLearn.Main, please define the main method as:\n   public static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application\n</code></pre>\n<p>This is the run configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/mJtAe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mJtAe.png\" alt=\"Image of run configuration\" /></a></p>\n<p>This is the dependencies folder:</p>\n<p><a href=\"https://i.stack.imgur.com/W9FjX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W9FjX.png\" alt=\"Dependency folder image\" /></a></p>\n<p>This is the source folder:</p>\n<p><a href=\"https://i.stack.imgur.com/rQOFL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rQOFL.png\" alt=\"image of source folder\" /></a></p>\n"},{"tags":["java","spring","spring-boot","maven","build"],"comments":[{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":0,"creation_date":1682756555,"post_id":76132503,"comment_id":134268285,"body_markdown":"Can you share the relevant parts of your `pom.xml`?","body":"Can you share the relevant parts of your <code>pom.xml</code>?"}],"answers":[{"tags":[],"owner":{"account_id":19411782,"reputation":11,"user_id":14196085,"display_name":"Stanislav Danylenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685353064,"creation_date":1685353025,"answer_id":76356219,"question_id":76132503,"body_markdown":"I had the same issue with gradle plugin:\r\n\r\n    id &#39;org.springframework.experimental.aot&#39; version &#39;0.12.1&#39;\r\n    \r\nAdded from next repository: \r\n\r\n    maven { url &#39;https://repo.spring.io/release&#39; }\r\nAccording to info from: https://spring.io/blog/2022/12/14/notice-of-permissions-changes-to-repo-spring-io-january-2023\r\n\r\nI have updated url to:\r\n\r\n    maven { url &#39;https://repo.spring.io/milestone&#39; }\r\nAnd now my build is OK.","title":"spring-aot-maven-plugin-0.11.3.pom, status: 401 Unauthorized","body":"<p>I had the same issue with gradle plugin:</p>\n<pre><code>id 'org.springframework.experimental.aot' version '0.12.1'\n</code></pre>\n<p>Added from next repository:</p>\n<pre><code>maven { url 'https://repo.spring.io/release' }\n</code></pre>\n<p>According to info from: <a href=\"https://spring.io/blog/2022/12/14/notice-of-permissions-changes-to-repo-spring-io-january-2023\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/12/14/notice-of-permissions-changes-to-repo-spring-io-january-2023</a></p>\n<p>I have updated url to:</p>\n<pre><code>maven { url 'https://repo.spring.io/milestone' }\n</code></pre>\n<p>And now my build is OK.</p>\n"}],"owner":{"account_id":28448678,"reputation":1,"user_id":21767052,"display_name":"Felipe Estima da Silveira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685353064,"creation_date":1682708212,"question_id":76132503,"body_markdown":"I have a Java application that compiles normally every day. Today it started to fail. No changes were made to the code.\r\n\r\nError message:\r\n```\r\nPlugin org.springframework.experimental:spring-aot-maven-plugin:0.11.3 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.springframework.experimental:spring-aot-maven-plugin:jar:0.11.3: Could not transfer artifact org.springframework.experimental:spring-aot-maven-plugin:pom:0.11.3 from/to spring-releases (https://repo.spring.io/release): authentication failed for https://repo.spring.io/release/org/springframework/experimental/spring-aot-maven-plugin/0.11.3/spring-aot-maven-plugin-0.11.3.pom, status: 401 Unauthorized \r\n```\r\n\r\n\r\n[Error](https://i.stack.imgur.com/uTQFO.png)\r\n\r\nWhat I can do to build without fail?","title":"spring-aot-maven-plugin-0.11.3.pom, status: 401 Unauthorized","body":"<p>I have a Java application that compiles normally every day. Today it started to fail. No changes were made to the code.</p>\n<p>Error message:</p>\n<pre><code>Plugin org.springframework.experimental:spring-aot-maven-plugin:0.11.3 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.springframework.experimental:spring-aot-maven-plugin:jar:0.11.3: Could not transfer artifact org.springframework.experimental:spring-aot-maven-plugin:pom:0.11.3 from/to spring-releases (https://repo.spring.io/release): authentication failed for https://repo.spring.io/release/org/springframework/experimental/spring-aot-maven-plugin/0.11.3/spring-aot-maven-plugin-0.11.3.pom, status: 401 Unauthorized \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uTQFO.png\" rel=\"nofollow noreferrer\">Error</a></p>\n<p>What I can do to build without fail?</p>\n"},{"tags":["java","autocloseable"],"comments":[{"owner":{"account_id":1562546,"reputation":24865,"user_id":1452094,"display_name":"Kiskae"},"score":2,"creation_date":1554122319,"post_id":55455284,"comment_id":97623925,"body_markdown":"The question would be why you want to return the `autoclosable`?, since it would already be closed at the return statement.","body":"The question would be why you want to return the <code>autoclosable</code>?, since it would already be closed at the return statement."},{"owner":{"account_id":3048687,"reputation":125,"user_id":2583744,"display_name":"a.khakh"},"score":0,"creation_date":1554123644,"post_id":55455284,"comment_id":97624703,"body_markdown":"@Kiskae why it would be closed at the return statement in the example code above?","body":"@Kiskae why it would be closed at the return statement in the example code above?"}],"answers":[{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1554474729,"creation_date":1554123055,"answer_id":55455561,"question_id":55455284,"body_markdown":"There are a number of approached.\r\n\r\n - Use the [Execute Around idiom][1]. Reformulate the interface to ease client implementation and remove the problem.\r\n - Ignore the problem. Sounds silly, but that&#39;s generally what happens when wrapping with I/O stream decorators.\r\n - Wrap inside a proxy `AutoCloseable` and put that in your try-with-resource.\r\n - Write out the equivalent of try-with-resource use try-catch and try-finally. (I wouldn&#39;t - nasty.)\r\n - Write a modified try-with-resource as a library feature. This code would become the client of the Execute Around.\r\n - Write the exception handling old school style with try-catch and try-finally.\r\n\r\n**Edit:** I thought I&#39;d revisit the answer adding some example code for fun.\r\n\r\n  [1]: https://stackoverflow.com/q/341971/4725\r\n\r\n**Execute Around idiom**\r\n\r\nThe simple and best solution. Unfortunately the Java library does not use it much (`AccessController.doPrivileged` is a big exception) and conventions are not well established. As ever Java&#39;s checked exceptions without supporting features make things tricky. We can&#39;t use `java.util.function` and have to invent our own functional interfaces.\r\n\r\n    // Like Consumer, but with an exception.\r\n    interface Use&lt;R, EXC extends Exception&gt; {\r\n        void use(R resource) throws EXC;\r\n    }\r\n\r\n    public static void withThing(String name, Use&lt;InputStream,IOException&gt; use) throws IOException {\r\n         try (InputStream in = new FileInputStream(name)) {\r\n             use.use(in);\r\n         }\r\n    }\r\n\r\nNice and simple. No need to worry about client code messing up the resource handling as it doesn&#39;t do it. Nice.\r\n\r\n**A modified try-with-resource as a library feature implemented as a proxy `AutoCloseable` in a try-with-resource**\r\n\r\nIt&#39;s going to get ugly. We need to pass acquisition, release and the initialisation as lambdas. Creating the resource directly within this method opens up a small window where an unexpected exception would lead to a leak.\r\n\r\n    public static InputStream newThing(String name) throws IOException {\r\n        return returnResource(\r\n            () -&gt; new FileInputStream(name),\r\n            InputStream::close,\r\n            in -&gt; {\r\n                int ignore = in.read(); // some work\r\n            }\r\n        );\r\n    }\r\n\r\nThe general implementation of `returnResource` is going to look like this hack below. A hack because try-with-resource doesn&#39;t support this sort of thing and Java library doesn&#39;t support checked exceptions well. Note limited to one exception (you can use an unchecked exception for no checked exceptions).\r\n\r\n    interface Acquire&lt;R, EXC extends Exception&gt; {\r\n        R acquire() throws EXC;\r\n    }\r\n    // Effectively the same as Use, but different.\r\n    interface Release&lt;R, EXC extends Exception&gt; {\r\n        void release(R resource) throws EXC;\r\n    }\r\n\r\n    public static &lt;R, EXC extends Exception&gt; R returnResource(\r\n        Acquire&lt;R, EXC&gt; acquire, Release&lt;R, EXC&gt; release, Use&lt;R, EXC&gt; initialize\r\n    ) throws EXC {\r\n        try (var adapter = new AutoCloseable() { // anonymous classes still define type\r\n            private R resource = acquire.acquire();\r\n            R get() {\r\n\t            return resource;\r\n            }\r\n     \t    void success() {\r\n                resource = null;;\r\n            }\r\n            public void close() throws EXC {\r\n               if (resource != null) {\r\n                   release.release(resource);\r\n               }\r\n            }\r\n        }) {\r\n            R resource = adapter.get();\r\n            initialize.use(resource);\r\n            adapter.success();\r\n            return resource;\r\n        }\r\n    }\r\n\r\nThis is perhaps cleaner if we separate out the argument we are constructing the resource with from the construction of the resource.\r\n\r\n    public static InputStream newThing(String name) throws IOException {\r\n        return returnResource(\r\n            name,\r\n            FileInputStream::new,\r\n            InputStream::close,\r\n            in -&gt; {\r\n                int ignore = in.read(); // some work\r\n            }\r\n        );\r\n    }\r\n\r\n    // Like Function, but with a more descriptive name for a functional interface.\r\n    interface AcquireFrom&lt;T, R, EXC extends Exception&gt; {\r\n        R acquire(T t) throws EXC;\r\n    }\r\n\r\n    public static &lt;T, R, EXC extends Exception&gt; R returnResource(\r\n        T t, AcquireFrom&lt;T, R, EXC&gt; acquire, Release&lt;R, EXC&gt; release, Use&lt;R, EXC&gt; initialize\r\n     ) throws EXC {\r\n\t     return returnResource(() -&gt; acquire.acquire(t), release, initialize);\r\n     }\r\n\r\nSo in summary, the following things are a pain:\r\n\r\n - Transferring resource ownership. Keep it local.\r\n - `java.util.function` doesn&#39;t support checked exceptions.\r\n - The Java library not supporting Execute Around.\r\n - `AutoCloseable::close` declaring that it throws `Exception` instead of the being a type parameter of the type. \r\n - Checked exceptions without sum types.\r\n - The Java language syntax in general.","title":"Exception-safely return Autoclosable object","body":"<p>There are a number of approached.</p>\n\n<ul>\n<li>Use the <a href=\"https://stackoverflow.com/q/341971/4725\">Execute Around idiom</a>. Reformulate the interface to ease client implementation and remove the problem.</li>\n<li>Ignore the problem. Sounds silly, but that's generally what happens when wrapping with I/O stream decorators.</li>\n<li>Wrap inside a proxy <code>AutoCloseable</code> and put that in your try-with-resource.</li>\n<li>Write out the equivalent of try-with-resource use try-catch and try-finally. (I wouldn't - nasty.)</li>\n<li>Write a modified try-with-resource as a library feature. This code would become the client of the Execute Around.</li>\n<li>Write the exception handling old school style with try-catch and try-finally.</li>\n</ul>\n\n<p><strong>Edit:</strong> I thought I'd revisit the answer adding some example code for fun.</p>\n\n<p><strong>Execute Around idiom</strong></p>\n\n<p>The simple and best solution. Unfortunately the Java library does not use it much (<code>AccessController.doPrivileged</code> is a big exception) and conventions are not well established. As ever Java's checked exceptions without supporting features make things tricky. We can't use <code>java.util.function</code> and have to invent our own functional interfaces.</p>\n\n<pre><code>// Like Consumer, but with an exception.\ninterface Use&lt;R, EXC extends Exception&gt; {\n    void use(R resource) throws EXC;\n}\n\npublic static void withThing(String name, Use&lt;InputStream,IOException&gt; use) throws IOException {\n     try (InputStream in = new FileInputStream(name)) {\n         use.use(in);\n     }\n}\n</code></pre>\n\n<p>Nice and simple. No need to worry about client code messing up the resource handling as it doesn't do it. Nice.</p>\n\n<p><strong>A modified try-with-resource as a library feature implemented as a proxy <code>AutoCloseable</code> in a try-with-resource</strong></p>\n\n<p>It's going to get ugly. We need to pass acquisition, release and the initialisation as lambdas. Creating the resource directly within this method opens up a small window where an unexpected exception would lead to a leak.</p>\n\n<pre><code>public static InputStream newThing(String name) throws IOException {\n    return returnResource(\n        () -&gt; new FileInputStream(name),\n        InputStream::close,\n        in -&gt; {\n            int ignore = in.read(); // some work\n        }\n    );\n}\n</code></pre>\n\n<p>The general implementation of <code>returnResource</code> is going to look like this hack below. A hack because try-with-resource doesn't support this sort of thing and Java library doesn't support checked exceptions well. Note limited to one exception (you can use an unchecked exception for no checked exceptions).</p>\n\n<pre><code>interface Acquire&lt;R, EXC extends Exception&gt; {\n    R acquire() throws EXC;\n}\n// Effectively the same as Use, but different.\ninterface Release&lt;R, EXC extends Exception&gt; {\n    void release(R resource) throws EXC;\n}\n\npublic static &lt;R, EXC extends Exception&gt; R returnResource(\n    Acquire&lt;R, EXC&gt; acquire, Release&lt;R, EXC&gt; release, Use&lt;R, EXC&gt; initialize\n) throws EXC {\n    try (var adapter = new AutoCloseable() { // anonymous classes still define type\n        private R resource = acquire.acquire();\n        R get() {\n            return resource;\n        }\n        void success() {\n            resource = null;;\n        }\n        public void close() throws EXC {\n           if (resource != null) {\n               release.release(resource);\n           }\n        }\n    }) {\n        R resource = adapter.get();\n        initialize.use(resource);\n        adapter.success();\n        return resource;\n    }\n}\n</code></pre>\n\n<p>This is perhaps cleaner if we separate out the argument we are constructing the resource with from the construction of the resource.</p>\n\n<pre><code>public static InputStream newThing(String name) throws IOException {\n    return returnResource(\n        name,\n        FileInputStream::new,\n        InputStream::close,\n        in -&gt; {\n            int ignore = in.read(); // some work\n        }\n    );\n}\n\n// Like Function, but with a more descriptive name for a functional interface.\ninterface AcquireFrom&lt;T, R, EXC extends Exception&gt; {\n    R acquire(T t) throws EXC;\n}\n\npublic static &lt;T, R, EXC extends Exception&gt; R returnResource(\n    T t, AcquireFrom&lt;T, R, EXC&gt; acquire, Release&lt;R, EXC&gt; release, Use&lt;R, EXC&gt; initialize\n ) throws EXC {\n     return returnResource(() -&gt; acquire.acquire(t), release, initialize);\n }\n</code></pre>\n\n<p>So in summary, the following things are a pain:</p>\n\n<ul>\n<li>Transferring resource ownership. Keep it local.</li>\n<li><code>java.util.function</code> doesn't support checked exceptions.</li>\n<li>The Java library not supporting Execute Around.</li>\n<li><code>AutoCloseable::close</code> declaring that it throws <code>Exception</code> instead of the being a type parameter of the type. </li>\n<li>Checked exceptions without sum types.</li>\n<li>The Java language syntax in general.</li>\n</ul>\n"}],"owner":{"account_id":3048687,"reputation":125,"user_id":2583744,"display_name":"a.khakh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1433,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55455561,"answer_count":1,"score":4,"last_activity_date":1685352943,"creation_date":1554122157,"question_id":55455284,"body_markdown":"When you want to use some `AutoClosable` object you should use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html). Ok. But what if I want to write a method, that returns an `AutoClosable`? After you&#39;ve created or received an AutoCloseable object, you should close it in case of exception, like this:\r\n```java\r\n    public static AutoCloseable methodReturningAutocloseable() {\r\n        AutoCloseable autoCloseable = ... // create some AutoClosable\r\n        try {\r\n            ... // some work\r\n        }\r\n        catch (Throwable exception) {\r\n            autoCloseable.close();\r\n            throw exception;\r\n        }\r\n        return autoCloseable;\r\n    }\r\n```\r\nIf you don&#39;t write `try/catch` block you would leak the resource, that autoCloseable object holds, in case of exception in `// some work` line.\r\nBut this `try/catch` is not enough, because `autoCloseable.close()` can throw exception too (by design). So, the above code transforms to\r\n```java\r\n    public static AutoCloseable methodReturningAutocloseable() {\r\n        AutoCloseable autoCloseable = ... // create some autoclosable\r\n        try {\r\n            ... // some work\r\n        }\r\n        catch (Throwable exception) {\r\n            try {\r\n                autoCloseable.close();\r\n            }\r\n            catch (Throwable exceptionInClose) {\r\n                exception.addSuppressed(exceptionInClose);\r\n                throw exception;\r\n            }\r\n            throw exception;\r\n        }\r\n        return autoCloseable;\r\n    }\r\n```\r\nThat&#39;s a lot of boilerplate. Is there a better way to do it in java?","title":"Exception-safely return Autoclosable object","body":"<p>When you want to use some <code>AutoClosable</code> object you should use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>. Ok. But what if I want to write a method, that returns an <code>AutoClosable</code>? After you've created or received an AutoCloseable object, you should close it in case of exception, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static AutoCloseable methodReturningAutocloseable() {\n        AutoCloseable autoCloseable = ... // create some AutoClosable\n        try {\n            ... // some work\n        }\n        catch (Throwable exception) {\n            autoCloseable.close();\n            throw exception;\n        }\n        return autoCloseable;\n    }\n</code></pre>\n<p>If you don't write <code>try/catch</code> block you would leak the resource, that autoCloseable object holds, in case of exception in <code>// some work</code> line.\nBut this <code>try/catch</code> is not enough, because <code>autoCloseable.close()</code> can throw exception too (by design). So, the above code transforms to</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static AutoCloseable methodReturningAutocloseable() {\n        AutoCloseable autoCloseable = ... // create some autoclosable\n        try {\n            ... // some work\n        }\n        catch (Throwable exception) {\n            try {\n                autoCloseable.close();\n            }\n            catch (Throwable exceptionInClose) {\n                exception.addSuppressed(exceptionInClose);\n                throw exception;\n            }\n            throw exception;\n        }\n        return autoCloseable;\n    }\n</code></pre>\n<p>That's a lot of boilerplate. Is there a better way to do it in java?</p>\n"},{"tags":["java","azure","logging","azure-pipelines"],"answers":[{"tags":[],"owner":{"account_id":119395,"reputation":4442,"user_id":311063,"accept_rate":87,"display_name":"Miro J."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683013330,"creation_date":1683013330,"answer_id":76152704,"question_id":74341414,"body_markdown":"Colors on the pipeline are done a bit differently than the standard console. There is no DEBUG, INFO, WARN, ERROR, and CRITICAL because there is no filtering of the level to display. \r\n\r\nMicrosoft created several prefixes to the actual text you post. They add colors or sections and groups to the console. Basically, you need something like this:\r\n\r\n    ##[group]Beginning of a group\r\n    ##[warning]Warning message\r\n    ##[error]Error message\r\n    ##[section]Start of a section\r\n    ##[debug]Debug text\r\n    ##[command]Command-line being run\r\n    ##[endgroup]\r\n\r\nThis is directly from [this article][1].\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/devops/pipelines/scripts/logging-commands","title":"How to add colour to the Azure pipeline console?","body":"<p>Colors on the pipeline are done a bit differently than the standard console. There is no DEBUG, INFO, WARN, ERROR, and CRITICAL because there is no filtering of the level to display.</p>\n<p>Microsoft created several prefixes to the actual text you post. They add colors or sections and groups to the console. Basically, you need something like this:</p>\n<pre><code>##[group]Beginning of a group\n##[warning]Warning message\n##[error]Error message\n##[section]Start of a section\n##[debug]Debug text\n##[command]Command-line being run\n##[endgroup]\n</code></pre>\n<p>This is directly from <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/scripts/logging-commands\" rel=\"nofollow noreferrer\">this article</a>.</p>\n"}],"owner":{"account_id":25361452,"reputation":13,"user_id":19176630,"display_name":"downunder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76152704,"answer_count":1,"score":1,"last_activity_date":1685352656,"creation_date":1667788601,"question_id":74341414,"body_markdown":"I&#39;m able to add colour to my local Intellij console using the XML file below but I&#39;m not adding any colour to the console output in my Azure pipeline. \r\n\r\nI&#39;m following this tutorial:  (https://learn.microsoft.com/en-us/azure/developer/java/sdk/logging-logback). \r\n\r\nThe Azure console is using the default colours but picking up the layout specified in the XML. \r\n\r\n\r\nIs there something I need to set in Azure for the colours to work? \r\n\r\n\r\n**XML** \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration level=&quot;${LOG_LEVEL}&quot;&gt;\r\n\r\n    &lt;!-- disable startup logging for logback --&gt;\r\n    &lt;statusListener class=&quot;ch.qos.logback.core.status.NopStatusListener&quot;/&gt;\r\n\r\n    &lt;property name=&quot;USER_HOME&quot; value=&quot;logs&quot;/&gt;\r\n\r\n    &lt;appender name=&quot;STDOUT_INFO&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\r\n            &lt;level&gt;INFO&lt;/level&gt;\r\n            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\r\n            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\r\n        &lt;/filter&gt;\r\n            &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n                &lt;Pattern&gt;%blue([%d{ISO8601}]) %highlight(%green(%-5level)) %blue([%logger{100}]:) %green(%msg%n%throwable)\r\n                &lt;/Pattern&gt;\r\n            &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;!--    &lt;logger name=&quot;app&quot; level=&quot;DEBUG&quot; additivity=&quot;true&quot;&gt;--&gt;\r\n    &lt;!--    &lt;/logger&gt;--&gt;\r\n\r\n    &lt;root additivity=&quot;false&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT_INFO&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n\r\n\r\n**Dependencies**\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```   \r\n\r\n\r\nUpdate: \r\n\r\nI ended up using the solution below. \r\n\r\n \r\n\r\n    &lt;appender name=&quot;STDOUT_WARN&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\r\n                &lt;level&gt;WARN&lt;/level&gt;\r\n                &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\r\n                &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\r\n            &lt;/filter&gt;\r\n            &lt;if condition=&#39;property(&quot;LOG_ENV&quot;).equals(&quot;LOCAL&quot;)&#39;&gt;\r\n                &lt;then&gt;\r\n                    &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n                        &lt;Pattern&gt;%blue([%d{ISO8601, Europe/Paris}]) [%t] %blue([%logger{100}]:) %yellow(%msg%n%throwable)\r\n                        &lt;/Pattern&gt;\r\n                    &lt;/encoder&gt;\r\n                &lt;/then&gt;\r\n                &lt;else&gt;\r\n                    &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n                        &lt;Pattern&gt;##[WARNING][%d{ISO8601, Europe/Paris}] [%t] [%logger{100}]: %msg%n%throwable&lt;/Pattern&gt;\r\n                    &lt;/encoder&gt;\r\n                &lt;/else&gt;\r\n            &lt;/if&gt;\r\n        &lt;/appender&gt;","title":"How to add colour to the Azure pipeline console?","body":"<p>I'm able to add colour to my local Intellij console using the XML file below but I'm not adding any colour to the console output in my Azure pipeline.</p>\n<p>I'm following this tutorial:  (<a href=\"https://learn.microsoft.com/en-us/azure/developer/java/sdk/logging-logback\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/developer/java/sdk/logging-logback</a>).</p>\n<p>The Azure console is using the default colours but picking up the layout specified in the XML.</p>\n<p>Is there something I need to set in Azure for the colours to work?</p>\n<p><strong>XML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration level=&quot;${LOG_LEVEL}&quot;&gt;\n\n    &lt;!-- disable startup logging for logback --&gt;\n    &lt;statusListener class=&quot;ch.qos.logback.core.status.NopStatusListener&quot;/&gt;\n\n    &lt;property name=&quot;USER_HOME&quot; value=&quot;logs&quot;/&gt;\n\n    &lt;appender name=&quot;STDOUT_INFO&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\n            &lt;level&gt;INFO&lt;/level&gt;\n            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\n            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\n        &lt;/filter&gt;\n            &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n                &lt;Pattern&gt;%blue([%d{ISO8601}]) %highlight(%green(%-5level)) %blue([%logger{100}]:) %green(%msg%n%throwable)\n                &lt;/Pattern&gt;\n            &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;!--    &lt;logger name=&quot;app&quot; level=&quot;DEBUG&quot; additivity=&quot;true&quot;&gt;--&gt;\n    &lt;!--    &lt;/logger&gt;--&gt;\n\n    &lt;root additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;STDOUT_INFO&quot;/&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p><strong>Dependencies</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;version&gt;1.4.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n    &lt;version&gt;1.4.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Update:</p>\n<p>I ended up using the solution below.</p>\n<pre><code>&lt;appender name=&quot;STDOUT_WARN&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt;\n            &lt;level&gt;WARN&lt;/level&gt;\n            &lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;\n            &lt;onMismatch&gt;DENY&lt;/onMismatch&gt;\n        &lt;/filter&gt;\n        &lt;if condition='property(&quot;LOG_ENV&quot;).equals(&quot;LOCAL&quot;)'&gt;\n            &lt;then&gt;\n                &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n                    &lt;Pattern&gt;%blue([%d{ISO8601, Europe/Paris}]) [%t] %blue([%logger{100}]:) %yellow(%msg%n%throwable)\n                    &lt;/Pattern&gt;\n                &lt;/encoder&gt;\n            &lt;/then&gt;\n            &lt;else&gt;\n                &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n                    &lt;Pattern&gt;##[WARNING][%d{ISO8601, Europe/Paris}] [%t] [%logger{100}]: %msg%n%throwable&lt;/Pattern&gt;\n                &lt;/encoder&gt;\n            &lt;/else&gt;\n        &lt;/if&gt;\n    &lt;/appender&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","swagger-ui"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1685362956,"post_id":76356098,"comment_id":134645834,"body_markdown":"What kind of warning? You&#39;ll probably need to write a [plugin](https://github.com/swagger-api/swagger-ui/blob/master/docs/customization/plugin-api.md) for Swagger UI and somehow include this plugin into the Swagger UI instance included in your app. Check out the [sample](https://github.com/swagger-api/swagger-ui/issues/5027#issuecomment-438745785) [plugins](https://stackoverflow.com/a/52815260/113116) to get an idea of how to get started.","body":"What kind of warning? You&#39;ll probably need to write a <a href=\"https://github.com/swagger-api/swagger-ui/blob/master/docs/customization/plugin-api.md\" rel=\"nofollow noreferrer\">plugin</a> for Swagger UI and somehow include this plugin into the Swagger UI instance included in your app. Check out the <a href=\"https://github.com/swagger-api/swagger-ui/issues/5027#issuecomment-438745785\" rel=\"nofollow noreferrer\">sample</a> <a href=\"https://stackoverflow.com/a/52815260/113116\">plugins</a> to get an idea of how to get started."}],"owner":{"account_id":12241772,"reputation":129,"user_id":8934639,"display_name":"Chedva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685352565,"creation_date":1685351998,"question_id":76356098,"body_markdown":"I have a Spring Boot application with Spring `@RestController` and a Swagger dependency. Is it possible to add a warning before executing a certain request in the Swagger UI?\r\n\r\nI want the warning message to be popped-up when a user clicks on the `execute` button of a certain request.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zmyse.png","title":"How to add custom warning before executing a request in Swagger UI","body":"<p>I have a Spring Boot application with Spring <code>@RestController</code> and a Swagger dependency. Is it possible to add a warning before executing a certain request in the Swagger UI?</p>\n<p>I want the warning message to be popped-up when a user clicks on the <code>execute</code> button of a certain request.</p>\n<p><a href=\"https://i.stack.imgur.com/zmyse.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zmyse.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","web-services","apache-axis"],"comments":[{"owner":{"account_id":2111594,"reputation":438,"user_id":1876773,"accept_rate":41,"display_name":"Kacu"},"score":0,"creation_date":1459373451,"post_id":36319901,"comment_id":60263519,"body_markdown":"Maybe you could add some extra info about what do you do and what do you want to do (some code snippet, when/where this error occours, etc.)","body":"Maybe you could add some extra info about what do you do and what do you want to do (some code snippet, when/where this error occours, etc.)"},{"owner":{"account_id":4093120,"reputation":245,"user_id":3360630,"accept_rate":46,"display_name":"dodger"},"score":0,"creation_date":1459374121,"post_id":36319901,"comment_id":60263846,"body_markdown":"Hi I am trying to run a sample web service application. I have created the server and I am exposing the service using my client to run a simple method to add 2 nos. But instead it is throwing this error. I have used this link to create my application. https://www.youtube.com/watch?v=lgY0pLadraE . I am able to the most part except the last part wherein I have to run as a Java Application.","body":"Hi I am trying to run a sample web service application. I have created the server and I am exposing the service using my client to run a simple method to add 2 nos. But instead it is throwing this error. I have used this link to create my application. <a href=\"https://www.youtube.com/watch?v=lgY0pLadraE\" rel=\"nofollow noreferrer\">youtube.com/watch?v=lgY0pLadraE</a> . I am able to the most part except the last part wherein I have to run as a Java Application."},{"owner":{"account_id":2111594,"reputation":438,"user_id":1876773,"accept_rate":41,"display_name":"Kacu"},"score":0,"creation_date":1459375651,"post_id":36319901,"comment_id":60264525,"body_markdown":"There is a problem with your AddOperatorStub.add(). Do you pass two integers or an object into this method?","body":"There is a problem with your AddOperatorStub.add(). Do you pass two integers or an object into this method?"},{"owner":{"account_id":4093120,"reputation":245,"user_id":3360630,"accept_rate":46,"display_name":"dodger"},"score":0,"creation_date":1459524802,"post_id":36319901,"comment_id":60340028,"body_markdown":"Yeah I did. I finally figured out that in Axis2.xml we need to add  &lt;messageReceiver mep=&quot;http://www.w3.org/ns/wsdl/in-only&quot;                   class=&quot;org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver&quot; /&gt;\n           &lt;messageReceiver mep=&quot;http://www.w3.org/ns/wsdl/in-out&quot;\nclass=&quot;org.apache.axis2.rpc.receivers.RPCMessageReceiver&quot; /&gt;","body":"Yeah I did. I finally figured out that in Axis2.xml we need to add  &lt;messageReceiver mep=&quot;<a href=\"http://www.w3.org/ns/wsdl/in-only\" rel=\"nofollow noreferrer\">w3.org/ns/wsdl/in-only</a>&quot;                   class=&quot;org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiv&zwnj;&#8203;er&quot; /&gt;            &lt;messageReceiver mep=&quot;<a href=\"http://www.w3.org/ns/wsdl/in-out\" rel=\"nofollow noreferrer\">w3.org/ns/wsdl/in-out</a>&quot; class=&quot;org.apache.axis2.rpc.receivers.RPCMessageReceiver&quot; /&gt;"},{"owner":{"account_id":4093120,"reputation":245,"user_id":3360630,"accept_rate":46,"display_name":"dodger"},"score":0,"creation_date":1459524998,"post_id":36319901,"comment_id":60340175,"body_markdown":"This snippet to make it work. I am not sure why this is important instead of default &lt;messageReceiver mep=&quot;http://www.w3.org/ns/wsdl/in-only&quot;\n                         class=&quot;org.apache.axis2.receivers.RawXMLINOnlyMessageReceiver&quot;/&gt;\n        &lt;messageReceiver mep=&quot;http://www.w3.org/ns/wsdl/in-out&quot;\n                         class=&quot;org.apache.axis2.receivers.RawXMLINOutMessageReceiver&quot;/&gt;.","body":"This snippet to make it work. I am not sure why this is important instead of default &lt;messageReceiver mep=&quot;<a href=\"http://www.w3.org/ns/wsdl/in-only\" rel=\"nofollow noreferrer\">w3.org/ns/wsdl/in-only</a>&quot;                          class=&quot;org.apache.axis2.receivers.RawXMLINOnlyMessageReceive&zwnj;&#8203;r&quot;/&gt;         &lt;messageReceiver mep=&quot;<a href=\"http://www.w3.org/ns/wsdl/in-out\" rel=\"nofollow noreferrer\">w3.org/ns/wsdl/in-out</a>&quot;                          class=&quot;org.apache.axis2.receivers.RawXMLINOutMessageReceiver&zwnj;&#8203;&quot;/&gt;."}],"answers":[{"comments":[{"owner":{"account_id":8112139,"reputation":375,"user_id":6111876,"display_name":"PGP"},"score":0,"creation_date":1531131270,"post_id":36360420,"comment_id":89464817,"body_markdown":"I concur... in my case the default message receivers were commented out and ONLY 1 proprietary in-out receiver was defined in the services.XML.  Doing the above (adding default and proprietary message receivers) solved my problem.","body":"I concur... in my case the default message receivers were commented out and ONLY 1 proprietary in-out receiver was defined in the services.XML.  Doing the above (adding default and proprietary message receivers) solved my problem."}],"tags":[],"owner":{"account_id":4093120,"reputation":245,"user_id":3360630,"accept_rate":46,"display_name":"dodger"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1459525599,"creation_date":1459525296,"answer_id":36360420,"question_id":36319901,"body_markdown":"\t\r\nYeah I did. I finally figured out that in Axis2.xml we need to add \r\n\r\n`&lt;messageReceiver mep=&quot;w3.org/ns/wsdl/in-only&quot;; class=&quot;org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver&quot; /&gt; &lt;messageReceiver mep=&quot;w3.org/ns/wsdl/in-out&quot;; class=&quot;org.apache.axis2.rpc.receivers.RPCMessageReceiver&quot; /&gt;`\r\n\r\nThis snippet to make it work. I am not sure why this is important instead of default \r\n\r\n`&lt;messageReceiver mep=&quot;w3.org/ns/wsdl/in-only&quot;; class=&quot;org.apache.axis2.receivers.RawXMLINOnlyMessageReceiver&quot;/&gt; &lt;messageReceiver mep=&quot;w3.org/ns/wsdl/in-out&quot;; class=&quot;org.apache.axis2.receivers.RawXMLINOutMessageReceiver&quot;/&gt;`. \r\n\r\n\r\n\r\nThanks everyone for your prompt replies. Really helped me a lot to figure out what had to be done.","title":"The ServiceClass object does not implement the required method in the following form: OMElement add(OMElement e)","body":"<p>Yeah I did. I finally figured out that in Axis2.xml we need to add </p>\n\n<p><code>&lt;messageReceiver mep=\"w3.org/ns/wsdl/in-only\"; class=\"org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver\" /&gt; &lt;messageReceiver mep=\"w3.org/ns/wsdl/in-out\"; class=\"org.apache.axis2.rpc.receivers.RPCMessageReceiver\" /&gt;</code></p>\n\n<p>This snippet to make it work. I am not sure why this is important instead of default </p>\n\n<p><code>&lt;messageReceiver mep=\"w3.org/ns/wsdl/in-only\"; class=\"org.apache.axis2.receivers.RawXMLINOnlyMessageReceiver\"/&gt; &lt;messageReceiver mep=\"w3.org/ns/wsdl/in-out\"; class=\"org.apache.axis2.receivers.RawXMLINOutMessageReceiver\"/&gt;</code>. </p>\n\n<p>Thanks everyone for your prompt replies. Really helped me a lot to figure out what had to be done.</p>\n"},{"comments":[{"owner":{"account_id":4093120,"reputation":245,"user_id":3360630,"accept_rate":46,"display_name":"dodger"},"score":1,"creation_date":1466094864,"post_id":37864180,"comment_id":63186591,"body_markdown":"so is it the problem with the wsdl version ? I haven&#39;t been able to figure out the real issue here","body":"so is it the problem with the wsdl version ? I haven&#39;t been able to figure out the real issue here"},{"owner":{"account_id":173785,"reputation":930,"user_id":402723,"display_name":"Raul Lapeira Herrero"},"score":0,"creation_date":1636379871,"post_id":37864180,"comment_id":123533617,"body_markdown":"As other answer states you also need to add all the messageReceivers in the axis2.xml file","body":"As other answer states you also need to add all the messageReceivers in the axis2.xml file"}],"tags":[],"owner":{"account_id":1230564,"reputation":2043,"user_id":1195268,"accept_rate":50,"display_name":"vinsinraw"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1474753391,"creation_date":1466093028,"answer_id":37864180,"question_id":36319901,"body_markdown":"I had the same issue \r\n\r\nI solved it by updating WSDL Version as follows\r\n\r\nhttp://www.w3.org/**2004/08**/wsdl/in-only  --&gt; http://www.w3.org/**ns**/wsdl/in-only\r\n\r\n&amp;\r\n\r\nhttp://www.w3.org/**2004/08**/wsdl/in-out  --&gt; http://www.w3.org/**ns**/wsdl/in-out\r\n\r\n**Example services.xml**\r\n\r\n*Earlier*\r\n\r\n    &lt;service name=&quot;Axis2HelloWorld&quot; &gt;\r\n    \t&lt;Description&gt;\r\n    \t\tPlease Type your service description here\r\n    \t&lt;/Description&gt;\r\n    \t&lt;messageReceivers&gt;\r\n    \t\t&lt;messageReceiver mep=&quot;http://www.w3.org/2004/08/wsdl/in-only&quot; class=&quot;org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver&quot; /&gt;\r\n    \t\t&lt;messageReceiver  mep=&quot;http://www.w3.org/2004/08/wsdl/in-out&quot;  class=&quot;org.apache.axis2.rpc.receivers.RPCMessageReceiver&quot;/&gt;\r\n    \t&lt;/messageReceivers&gt;\r\n    \t&lt;parameter name=&quot;ServiceClass&quot; locked=&quot;false&quot;&gt;com.ciber.webservices.Axis2HelloWorld&lt;/parameter&gt;\r\n    &lt;/service&gt;\r\n\r\n\r\n*New*\r\n\r\n    &lt;service name=&quot;Axis2HelloWorld&quot; &gt;\r\n    \t&lt;Description&gt;\r\n    \t\tPlease Type your service description here\r\n    \t&lt;/Description&gt;\r\n    \t&lt;messageReceivers&gt;\r\n    \t\t&lt;messageReceiver mep=&quot;http://www.w3.org/ns/wsdl/in-only&quot; class=&quot;org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver&quot; /&gt;\r\n    \t\t&lt;messageReceiver  mep=&quot;http://www.w3.org/ns/wsdl/in-out&quot;  class=&quot;org.apache.axis2.rpc.receivers.RPCMessageReceiver&quot;/&gt;\r\n    \t&lt;/messageReceivers&gt;\r\n    \t&lt;parameter name=&quot;ServiceClass&quot; locked=&quot;false&quot;&gt;com.ciber.webservices.Axis2HelloWorld&lt;/parameter&gt;\r\n    &lt;/service&gt;","title":"The ServiceClass object does not implement the required method in the following form: OMElement add(OMElement e)","body":"<p>I had the same issue </p>\n\n<p>I solved it by updating WSDL Version as follows</p>\n\n<p><a href=\"http://www.w3.org/\" rel=\"noreferrer\">http://www.w3.org/</a><strong>2004/08</strong>/wsdl/in-only  --> <a href=\"http://www.w3.org/\" rel=\"noreferrer\">http://www.w3.org/</a><strong>ns</strong>/wsdl/in-only</p>\n\n<p>&amp;</p>\n\n<p><a href=\"http://www.w3.org/\" rel=\"noreferrer\">http://www.w3.org/</a><strong>2004/08</strong>/wsdl/in-out  --> <a href=\"http://www.w3.org/\" rel=\"noreferrer\">http://www.w3.org/</a><strong>ns</strong>/wsdl/in-out</p>\n\n<p><strong>Example services.xml</strong></p>\n\n<p><em>Earlier</em></p>\n\n<pre><code>&lt;service name=\"Axis2HelloWorld\" &gt;\n    &lt;Description&gt;\n        Please Type your service description here\n    &lt;/Description&gt;\n    &lt;messageReceivers&gt;\n        &lt;messageReceiver mep=\"http://www.w3.org/2004/08/wsdl/in-only\" class=\"org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver\" /&gt;\n        &lt;messageReceiver  mep=\"http://www.w3.org/2004/08/wsdl/in-out\"  class=\"org.apache.axis2.rpc.receivers.RPCMessageReceiver\"/&gt;\n    &lt;/messageReceivers&gt;\n    &lt;parameter name=\"ServiceClass\" locked=\"false\"&gt;com.ciber.webservices.Axis2HelloWorld&lt;/parameter&gt;\n&lt;/service&gt;\n</code></pre>\n\n<p><em>New</em></p>\n\n<pre><code>&lt;service name=\"Axis2HelloWorld\" &gt;\n    &lt;Description&gt;\n        Please Type your service description here\n    &lt;/Description&gt;\n    &lt;messageReceivers&gt;\n        &lt;messageReceiver mep=\"http://www.w3.org/ns/wsdl/in-only\" class=\"org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver\" /&gt;\n        &lt;messageReceiver  mep=\"http://www.w3.org/ns/wsdl/in-out\"  class=\"org.apache.axis2.rpc.receivers.RPCMessageReceiver\"/&gt;\n    &lt;/messageReceivers&gt;\n    &lt;parameter name=\"ServiceClass\" locked=\"false\"&gt;com.ciber.webservices.Axis2HelloWorld&lt;/parameter&gt;\n&lt;/service&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5137285,"reputation":5936,"user_id":4115625,"display_name":"Danh"},"score":0,"creation_date":1483068212,"post_id":41390001,"comment_id":69982607,"body_markdown":"It&#39;s the same with other answer","body":"It&#39;s the same with other answer"}],"tags":[],"owner":{"account_id":7172802,"reputation":101,"user_id":5479772,"display_name":"Rocker"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1483066406,"creation_date":1483066406,"answer_id":41390001,"question_id":36319901,"body_markdown":"Faced the same issue. Made the below change to the WEB-INF-&gt;services-&gt;MyService -&gt; META-INF -&gt; services.xml\r\n\r\n**From:**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;messageReceivers&gt;\r\n    \t\t&lt;messageReceiver mep=&quot;http://www.w3.org/2004/08/wsdl/in-only&quot; class=&quot;org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver&quot; /&gt;\r\n    \t\t&lt;messageReceiver  mep=&quot;http://www.w3.org/2004/08/wsdl/in-out&quot;  class=&quot;org.apache.axis2.rpc.receivers.RPCMessageReceiver&quot;/&gt;\r\n    &lt;/messageReceivers&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**To:**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;messageReceivers&gt;\r\n    \t\t&lt;messageReceiver mep=&quot;http://www.w3.org/ns/wsdl/in-only&quot; class=&quot;org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver&quot; /&gt;\r\n    \t\t&lt;messageReceiver  mep=&quot;http://www.w3.org/ns/wsdl/in-out&quot;  class=&quot;org.apache.axis2.rpc.receivers.RPCMessageReceiver&quot;/&gt;\r\n    &lt;/messageReceivers&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"The ServiceClass object does not implement the required method in the following form: OMElement add(OMElement e)","body":"<p>Faced the same issue. Made the below change to the WEB-INF->services->MyService -> META-INF -> services.xml</p>\n\n<p><strong>From:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;messageReceivers&gt;\r\n\t\t&lt;messageReceiver mep=\"http://www.w3.org/2004/08/wsdl/in-only\" class=\"org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver\" /&gt;\r\n\t\t&lt;messageReceiver  mep=\"http://www.w3.org/2004/08/wsdl/in-out\"  class=\"org.apache.axis2.rpc.receivers.RPCMessageReceiver\"/&gt;\r\n&lt;/messageReceivers&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>To:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;messageReceivers&gt;\r\n\t\t&lt;messageReceiver mep=\"http://www.w3.org/ns/wsdl/in-only\" class=\"org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver\" /&gt;\r\n\t\t&lt;messageReceiver  mep=\"http://www.w3.org/ns/wsdl/in-out\"  class=\"org.apache.axis2.rpc.receivers.RPCMessageReceiver\"/&gt;\r\n&lt;/messageReceivers&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":319016,"reputation":441,"user_id":636542,"display_name":"DejanR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685352287,"creation_date":1685352287,"answer_id":76356131,"question_id":36319901,"body_markdown":"Setting of message receivers did not work for me any more with &#39;Axis 1.8.2&#39;, so  solution was also to set the namespaces:\r\n\r\n    &lt;service name=&quot;MyService&quot; targetNamespace=&quot;http://service&quot;&gt;\r\n    \r\n    \t&lt;schema schemaNamespace=&quot;http://service&quot;/&gt;\r\n\r\n\t    &lt;messageReceivers&gt;\r\n \t       &lt;messageReceiver mep=&quot;http://www.w3.org/ns/wsdl/in-only&quot; class=&quot;org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver&quot; /&gt;\r\n           &lt;messageReceiver  mep=&quot;http://www.w3.org/ns/wsdl/in-out&quot;  class=&quot;org.apache.axis2.rpc.receivers.RPCMessageReceiver&quot;/&gt;\r\n\t    &lt;/messageReceivers&gt;","title":"The ServiceClass object does not implement the required method in the following form: OMElement add(OMElement e)","body":"<p>Setting of message receivers did not work for me any more with 'Axis 1.8.2', so  solution was also to set the namespaces:</p>\n<pre><code>&lt;service name=&quot;MyService&quot; targetNamespace=&quot;http://service&quot;&gt;\n\n    &lt;schema schemaNamespace=&quot;http://service&quot;/&gt;\n\n    &lt;messageReceivers&gt;\n       &lt;messageReceiver mep=&quot;http://www.w3.org/ns/wsdl/in-only&quot; class=&quot;org.apache.axis2.rpc.receivers.RPCInOnlyMessageReceiver&quot; /&gt;\n       &lt;messageReceiver  mep=&quot;http://www.w3.org/ns/wsdl/in-out&quot;  class=&quot;org.apache.axis2.rpc.receivers.RPCMessageReceiver&quot;/&gt;\n    &lt;/messageReceivers&gt;\n</code></pre>\n"}],"owner":{"account_id":4093120,"reputation":245,"user_id":3360630,"accept_rate":46,"display_name":"dodger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16294,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36360420,"answer_count":4,"score":3,"last_activity_date":1685352287,"creation_date":1459372534,"question_id":36319901,"body_markdown":"I am unable to figure out where the error is occurring. I checked my `Axis2.xml` and I have installed the latest Axis2 API. I am currently using Apache Tomcat 8 and JDK 1.8 for development.\r\n\r\n    Exception in thread &quot;main&quot; org.apache.axis2.AxisFault: The ServiceClass object does not implement the required method in the following form: OMElement add(OMElement e)\r\n    \tat org.apache.axis2.util.Utils.getInboundFaultFromMessageContext(Utils.java:508)\r\n    \tat org.apache.axis2.description.OutInAxisOperationClient.handleResponse(OutInAxisOperation.java:368)\r\n    \tat org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:414)\r\n    \tat org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:225)\r\n    \tat org.apache.axis2.client.OperationClient.execute(OperationClient.java:150)\r\n    \tat com.test.axis2.AddOperatorStub.add(AddOperatorStub.java:181)\r\n    \tat com.test.axis2.client.AddClientApp.main(AddClientApp.java:29)","title":"The ServiceClass object does not implement the required method in the following form: OMElement add(OMElement e)","body":"<p>I am unable to figure out where the error is occurring. I checked my <code>Axis2.xml</code> and I have installed the latest Axis2 API. I am currently using Apache Tomcat 8 and JDK 1.8 for development.</p>\n\n<pre><code>Exception in thread \"main\" org.apache.axis2.AxisFault: The ServiceClass object does not implement the required method in the following form: OMElement add(OMElement e)\n    at org.apache.axis2.util.Utils.getInboundFaultFromMessageContext(Utils.java:508)\n    at org.apache.axis2.description.OutInAxisOperationClient.handleResponse(OutInAxisOperation.java:368)\n    at org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:414)\n    at org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:225)\n    at org.apache.axis2.client.OperationClient.execute(OperationClient.java:150)\n    at com.test.axis2.AddOperatorStub.add(AddOperatorStub.java:181)\n    at com.test.axis2.client.AddClientApp.main(AddClientApp.java:29)\n</code></pre>\n"},{"tags":["java","neo4j","neo4j-java-api"],"comments":[{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1685264808,"post_id":76350626,"comment_id":134635251,"body_markdown":"any error message ? Try to run an updated version of `https://github.com/neo4j/neo4j-documentation/blob/dev/cypher/cypher-docs/src/main/java/org/neo4j/cypher/example/JavaQuery.java` with your own code.","body":"any error message ? Try to run an updated version of <code>https:&#47;&#47;github.com&#47;neo4j&#47;neo4j-documentation&#47;blob&#47;dev&#47;cypher&zwnj;&#8203;&#47;cypher-docs&#47;src&#47;mai&zwnj;&#8203;n&#47;java&#47;org&#47;neo4j&#47;cyp&zwnj;&#8203;her&#47;example&#47;JavaQuer&zwnj;&#8203;y.java</code> with your own code."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1685279172,"post_id":76350626,"comment_id":134636671,"body_markdown":"1. same as SQL applies to Cypher: https://neo4j.com/developer/kb/protecting-against-cypher-injection/ 2... you can do this, but you have to `WHERE relation.blah = $paramBlah AND relation.foo = $pararmFoo AND relation.bar = $paramBar`..then you &quot;bind&quot; a `Map.of(&quot;paramBlah&quot;, x, &quot;paramFoo&quot;, y, &quot;paramBar&quot;, z)` ... to your query","body":"1. same as SQL applies to Cypher: <a href=\"https://neo4j.com/developer/kb/protecting-against-cypher-injection/\" rel=\"nofollow noreferrer\">neo4j.com/developer/kb/protecting-against-cypher-injection</a> 2... you can do this, but you have to <code>WHERE relation.blah = $paramBlah AND relation.foo = $pararmFoo AND relation.bar = $paramBar</code>..then you &quot;bind&quot; a <code>Map.of(&quot;paramBlah&quot;, x, &quot;paramFoo&quot;, y, &quot;paramBar&quot;, z)</code> ... to your query"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1685279718,"post_id":76350626,"comment_id":134636748,"body_markdown":"but actually with [bind parameters](https://neo4j.com/docs/cypher-manual/current/syntax/parameters/), we cannot (dynamically) set: 1. attribute names 2. Node types 3. Relation types  ..if we want these dynamic, we have to pre-process the query (with regard of (malicious)&quot;injection&quot;)","body":"but actually with <a href=\"https://neo4j.com/docs/cypher-manual/current/syntax/parameters/\" rel=\"nofollow noreferrer\">bind parameters</a>, we cannot (dynamically) set: 1. attribute names 2. Node types 3. Relation types  ..if we want these dynamic, we have to pre-process the query (with regard of (malicious)&quot;injection&quot;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1685280720,"post_id":76350626,"comment_id":134636868,"body_markdown":"but maybe the actual (tiny) problem is, that you think `relation.year = &quot;3&quot;` but indeed it is `relation.year = 3` (string vs number)","body":"but maybe the actual (tiny) problem is, that you think <code>relation.year = &quot;3&quot;</code> but indeed it is <code>relation.year = 3</code> (string vs number)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1685281040,"post_id":76350626,"comment_id":134636907,"body_markdown":"So actually: `properties.put(&quot;year&quot;, 3);` and not `&quot;3&quot;` !?;)","body":"So actually: <code>properties.put(&quot;year&quot;, 3);</code> and not <code>&quot;3&quot;</code> !?;)"},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1685297288,"post_id":76350626,"comment_id":134638777,"body_markdown":"Yes @xerx593, there I think it is too his tiny problem ;)","body":"Yes @xerx593, there I think it is too his tiny problem ;)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1685297929,"post_id":76350626,"comment_id":134638851,"body_markdown":"so `3` fixed it !? :)","body":"so <code>3</code> fixed it !? :)"},{"owner":{"account_id":23780557,"reputation":73,"user_id":17793299,"display_name":"Arthur_Morgan"},"score":0,"creation_date":1685325877,"post_id":76350626,"comment_id":134641329,"body_markdown":"@xerx593 I used &quot;3&quot; when I wrote. But I&#39;ll still try 3, thanks a lot","body":"@xerx593 I used &quot;3&quot; when I wrote. But I&#39;ll still try 3, thanks a lot"}],"answers":[{"comments":[{"owner":{"account_id":23780557,"reputation":73,"user_id":17793299,"display_name":"Arthur_Morgan"},"score":0,"creation_date":1685266403,"post_id":76350750,"comment_id":134635395,"body_markdown":"1. I have seen the document you mentioned, the difference is that the example given in the document directly uses the specific variable name, and my writing method is to use the entire parameter map\n\n 2. The @Test code I provided is completely executable, no error, but it cannot achieve my purpose","body":"1. I have seen the document you mentioned, the difference is that the example given in the document directly uses the specific variable name, and my writing method is to use the entire parameter map   2. The @Test code I provided is completely executable, no error, but it cannot achieve my purpose"}],"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685265236,"creation_date":1685265236,"answer_id":76350750,"question_id":76350626,"body_markdown":"You can check the [official Neo4J java documentation][1] with many examples.\r\nEspecially these one :\r\n\r\n    Map&lt;String,Object&gt; params = new HashMap&lt;&gt;();\r\n    params.put( &quot;name&quot;, &quot;Johan&quot; );\r\n\r\n    String query =\r\n    &quot;MATCH (n:Person)&quot; + &quot;\\n&quot; +\r\n    &quot;WHERE n.name = $name&quot; + &quot;\\n&quot; +\r\n    &quot;RETURN n&quot;;\r\n\r\n    Result result = transaction.execute( query, params );\r\n\r\nAnd make your minimum use case lighter removing any useless code.\r\n\r\n  [1]: https://neo4j.com/docs/java-reference/current/java-embedded/query-parameters/","title":"How to delete relationships with properties by passing parameters?","body":"<p>You can check the <a href=\"https://neo4j.com/docs/java-reference/current/java-embedded/query-parameters/\" rel=\"nofollow noreferrer\">official Neo4J java documentation</a> with many examples.\nEspecially these one :</p>\n<pre><code>Map&lt;String,Object&gt; params = new HashMap&lt;&gt;();\nparams.put( &quot;name&quot;, &quot;Johan&quot; );\n\nString query =\n&quot;MATCH (n:Person)&quot; + &quot;\\n&quot; +\n&quot;WHERE n.name = $name&quot; + &quot;\\n&quot; +\n&quot;RETURN n&quot;;\n\nResult result = transaction.execute( query, params );\n</code></pre>\n<p>And make your minimum use case lighter removing any useless code.</p>\n"},{"comments":[{"owner":{"account_id":23780557,"reputation":73,"user_id":17793299,"display_name":"Arthur_Morgan"},"score":0,"creation_date":1685357659,"post_id":76356108,"comment_id":134644974,"body_markdown":"Your answer is a workaround ，very appreciate it .","body":"Your answer is a workaround ，very appreciate it ."},{"owner":{"account_id":376992,"reputation":41434,"user_id":728812,"display_name":"Michael Hunger"},"score":1,"creation_date":1685361902,"post_id":76356108,"comment_id":134645635,"body_markdown":"It&#39;s not a workaround, it&#39;s the correct solution. If you want to select relationships by properties you have to spell them out in dot notation or use `properties(rel) = $propertiesMap` (which is not as efficient)","body":"It&#39;s not a workaround, it&#39;s the correct solution. If you want to select relationships by properties you have to spell them out in dot notation or use <code>properties(rel) = $propertiesMap</code> (which is not as efficient)"}],"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685352084,"creation_date":1685352084,"answer_id":76356108,"question_id":76350626,"body_markdown":"The query generated by your code, is logically incorrect:\r\n\r\n    MATCH (subject:Teacher{teacher_id: &#39;teacher_001&#39;})  \r\n    MATCH (object:Student{student_id:&#39;student_001&#39;})  \r\n    MATCH (subject)-[relation:educate]-&gt;(object)  WHERE relation = $relation_prop \r\n    DELETE relation\r\n\r\nIn this query, you are comparing the whole `Neo4j Relationship` object, to a query object, which is like this:\r\n\r\n    {\r\n      relation_prop: {\r\n         year: &quot;3&quot;\r\n      }\r\n    }\r\n\r\nThis won&#39;t work because of two reasons:\r\n\r\n1. `relation_prop` is not a valid `relation` property.\r\n2. There are a lot of other internal properties, part of a relationship.\r\n\r\nIn the query you ran on `Neo4j Browser`, you are only checking the value of the `year` property. To fix it you can try this:\r\n\r\n    @Test\r\n    public void testDeleteEdgeWithProperties_001() {\r\n        Driver driver = GraphDatabase.driver(&quot;neo4j://localhost:7687&quot;, AuthTokens.basic(&quot;neo4j&quot;, &quot;neo4j123&quot;));\r\n        Session session = driver.session();\r\n        Transaction transaction = session.beginTransaction();\r\n    \r\n        String relationModelType = &quot;educate&quot;;\r\n        String subjectModelType = &quot;Teacher&quot;;\r\n        String subjectKey = &quot;teacher_id&quot;;\r\n        String subjectId = &quot;teacher_001&quot;;\r\n        String objectModelType = &quot;Student&quot;;\r\n        String objectKey =&quot;student_id&quot;;\r\n        String objectId = &quot;student_001&quot;;\r\n    \r\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(&quot;year&quot;,&quot;3&quot;);\r\n    \r\n        // 删除\r\n        String conditionDeleteCypher = &quot; WHERE relation.year = $year&quot;;\r\n        String cypher =  &quot; MATCH (subject:&quot; + subjectModelType + &quot;{&quot; + subjectKey + &quot;: &#39;&quot; + subjectId + &quot;&#39;}) &quot; +\r\n                &quot; MATCH (object:&quot; + objectModelType + &quot;{&quot; + objectKey + &quot;:&#39;&quot; + objectId + &quot;&#39;}) &quot; +\r\n                &quot; MATCH (subject)-[relation:&quot; + relationModelType +&quot;]-&gt;(object) &quot; +\r\n                conditionDeleteCypher +\r\n                &quot; DELETE relation&quot;;\r\n    \r\n        System.out.println(cypher);\r\n        transaction.run(cypher, properties);\r\n        transaction.commit();\r\n        transaction.close();\r\n    }","title":"How to delete relationships with properties by passing parameters?","body":"<p>The query generated by your code, is logically incorrect:</p>\n<pre><code>MATCH (subject:Teacher{teacher_id: 'teacher_001'})  \nMATCH (object:Student{student_id:'student_001'})  \nMATCH (subject)-[relation:educate]-&gt;(object)  WHERE relation = $relation_prop \nDELETE relation\n</code></pre>\n<p>In this query, you are comparing the whole <code>Neo4j Relationship</code> object, to a query object, which is like this:</p>\n<pre><code>{\n  relation_prop: {\n     year: &quot;3&quot;\n  }\n}\n</code></pre>\n<p>This won't work because of two reasons:</p>\n<ol>\n<li><code>relation_prop</code> is not a valid <code>relation</code> property.</li>\n<li>There are a lot of other internal properties, part of a relationship.</li>\n</ol>\n<p>In the query you ran on <code>Neo4j Browser</code>, you are only checking the value of the <code>year</code> property. To fix it you can try this:</p>\n<pre><code>@Test\npublic void testDeleteEdgeWithProperties_001() {\n    Driver driver = GraphDatabase.driver(&quot;neo4j://localhost:7687&quot;, AuthTokens.basic(&quot;neo4j&quot;, &quot;neo4j123&quot;));\n    Session session = driver.session();\n    Transaction transaction = session.beginTransaction();\n\n    String relationModelType = &quot;educate&quot;;\n    String subjectModelType = &quot;Teacher&quot;;\n    String subjectKey = &quot;teacher_id&quot;;\n    String subjectId = &quot;teacher_001&quot;;\n    String objectModelType = &quot;Student&quot;;\n    String objectKey =&quot;student_id&quot;;\n    String objectId = &quot;student_001&quot;;\n\n    Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n    properties.put(&quot;year&quot;,&quot;3&quot;);\n\n    // 删除\n    String conditionDeleteCypher = &quot; WHERE relation.year = $year&quot;;\n    String cypher =  &quot; MATCH (subject:&quot; + subjectModelType + &quot;{&quot; + subjectKey + &quot;: '&quot; + subjectId + &quot;'}) &quot; +\n            &quot; MATCH (object:&quot; + objectModelType + &quot;{&quot; + objectKey + &quot;:'&quot; + objectId + &quot;'}) &quot; +\n            &quot; MATCH (subject)-[relation:&quot; + relationModelType +&quot;]-&gt;(object) &quot; +\n            conditionDeleteCypher +\n            &quot; DELETE relation&quot;;\n\n    System.out.println(cypher);\n    transaction.run(cypher, properties);\n    transaction.commit();\n    transaction.close();\n}\n</code></pre>\n"}],"owner":{"account_id":23780557,"reputation":73,"user_id":17793299,"display_name":"Arthur_Morgan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76356108,"answer_count":2,"score":0,"last_activity_date":1685352084,"creation_date":1685263259,"question_id":76350626,"body_markdown":"env:\r\n\r\n1. Neo4j-4.4.x\r\n2. neo4j-jdbc-driver  4.0.9\r\n\r\nImage that I execute the following cypher to get a ‘teacher’ node and a ‘student’ node, the relationship between them is ‘educate’, and the relationship has a year attribute.\r\n\r\ncypher:\r\n```\r\nmerge (subject:Teacher{teacher_id: &#39;teacher_001&#39;})  \r\nmerge (object:Student{student_id:&#39;student_001&#39;})  \r\nmerge (subject)-[relation:educate]-&gt;(object) set relation.year=&#39;3&#39;  return subject,relation,object\r\n```\r\n\r\nfigure-1:  \r\n[![enter image description here](https://i.stack.imgur.com/96ud6.png)](https://i.stack.imgur.com/96ud6.png)\r\n\r\n\r\nWhy does my following approach with the help of parameters maps not work?\r\n\r\n```\r\n@Test\r\npublic void testDeleteEdgeWithProperties_001() {\r\n    Driver driver = GraphDatabase.driver(&quot;neo4j://localhost:7687&quot;, AuthTokens.basic(&quot;neo4j&quot;, &quot;neo4j123&quot;));\r\n    Session session = driver.session();\r\n    Transaction transaction = session.beginTransaction();\r\n\r\n    String relationModelType = &quot;educate&quot;;\r\n    String subjectModelType = &quot;Teacher&quot;;\r\n    String subjectKey = &quot;teacher_id&quot;;\r\n    String subjectId = &quot;teacher_001&quot;;\r\n    String objectModelType = &quot;Student&quot;;\r\n    String objectKey =&quot;student_id&quot;;\r\n    String objectId = &quot;student_001&quot;;\r\n\r\n    Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\r\n    properties.put(&quot;year&quot;,&quot;3&quot;);\r\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    params.put(&quot;relation_prop&quot;, properties == null ? new HashMap&lt;&gt;() : properties);\r\n\r\n    // 删除\r\n    String conditionDeleteCypher = &quot; WHERE relation = $relation_prop&quot;;\r\n    String cypher =  &quot; MATCH (subject:&quot; + subjectModelType + &quot;{&quot; + subjectKey + &quot;: &#39;&quot; + subjectId + &quot;&#39;}) &quot; +\r\n            &quot; MATCH (object:&quot; + objectModelType + &quot;{&quot; + objectKey + &quot;:&#39;&quot; + objectId + &quot;&#39;}) &quot; +\r\n            &quot; MATCH (subject)-[relation:&quot; + relationModelType +&quot;]-&gt;(object) &quot; +\r\n            conditionDeleteCypher +\r\n            &quot; DELETE relation&quot;;\r\n\r\n    System.out.println(cypher);\r\n    transaction.run(cypher, params);\r\n    transaction.commit();\r\n    transaction.close();\r\n}\r\n```\r\n\r\nThe cypher printed by the above method is as follows：\r\n\r\n``` \r\nMATCH (subject:Teacher{teacher_id: &#39;teacher_001&#39;})  MATCH (object:Student{student_id:&#39;student_001&#39;})  MATCH (subject)-[relation:educate]-&gt;(object)  WHERE relation = $relation_prop DELETE relation\r\n```\r\n\r\nHowever, the above cypher can be executed successfully in the neo4j browser (see figure-2 below). What&#39;s wrong with me? Appreciate any helpful responses\r\n\r\nfigure-2:  \r\n[![enter image description here](https://i.stack.imgur.com/0214w.png)](https://i.stack.imgur.com/0214w.png)\r\n\r\n\r\nI tried several ways to set the parameter, but none of them worked.\r\n\r\n```\r\nString conditionDeleteCypher = &quot; WHERE relation = $relation_prop&quot;;\r\n```\r\n\r\n```\r\nString conditionDeleteCypher = &quot; WHERE relation =+ $relation_prop&quot;;\r\n```\r\n\r\n```\r\nString conditionDeleteCypher = &quot; WHERE relation += $relation_prop&quot;;\r\n```\r\n\r\nThe @Test code I provided is completely executable, no error message. \r\nAfter execution, the neo4j browser can still find the target relationship, indicating that the method was executed but did not take effect.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/khWdP.png","title":"How to delete relationships with properties by passing parameters?","body":"<p>env:</p>\n<ol>\n<li>Neo4j-4.4.x</li>\n<li>neo4j-jdbc-driver  4.0.9</li>\n</ol>\n<p>Image that I execute the following cypher to get a ‘teacher’ node and a ‘student’ node, the relationship between them is ‘educate’, and the relationship has a year attribute.</p>\n<p>cypher:</p>\n<pre><code>merge (subject:Teacher{teacher_id: 'teacher_001'})  \nmerge (object:Student{student_id:'student_001'})  \nmerge (subject)-[relation:educate]-&gt;(object) set relation.year='3'  return subject,relation,object\n</code></pre>\n<p>figure-1:<br />\n<a href=\"https://i.stack.imgur.com/96ud6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/96ud6.png\" alt=\"enter image description here\" /></a></p>\n<p>Why does my following approach with the help of parameters maps not work?</p>\n<pre><code>@Test\npublic void testDeleteEdgeWithProperties_001() {\n    Driver driver = GraphDatabase.driver(&quot;neo4j://localhost:7687&quot;, AuthTokens.basic(&quot;neo4j&quot;, &quot;neo4j123&quot;));\n    Session session = driver.session();\n    Transaction transaction = session.beginTransaction();\n\n    String relationModelType = &quot;educate&quot;;\n    String subjectModelType = &quot;Teacher&quot;;\n    String subjectKey = &quot;teacher_id&quot;;\n    String subjectId = &quot;teacher_001&quot;;\n    String objectModelType = &quot;Student&quot;;\n    String objectKey =&quot;student_id&quot;;\n    String objectId = &quot;student_001&quot;;\n\n    Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;();\n    properties.put(&quot;year&quot;,&quot;3&quot;);\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n    params.put(&quot;relation_prop&quot;, properties == null ? new HashMap&lt;&gt;() : properties);\n\n    // 删除\n    String conditionDeleteCypher = &quot; WHERE relation = $relation_prop&quot;;\n    String cypher =  &quot; MATCH (subject:&quot; + subjectModelType + &quot;{&quot; + subjectKey + &quot;: '&quot; + subjectId + &quot;'}) &quot; +\n            &quot; MATCH (object:&quot; + objectModelType + &quot;{&quot; + objectKey + &quot;:'&quot; + objectId + &quot;'}) &quot; +\n            &quot; MATCH (subject)-[relation:&quot; + relationModelType +&quot;]-&gt;(object) &quot; +\n            conditionDeleteCypher +\n            &quot; DELETE relation&quot;;\n\n    System.out.println(cypher);\n    transaction.run(cypher, params);\n    transaction.commit();\n    transaction.close();\n}\n</code></pre>\n<p>The cypher printed by the above method is as follows：</p>\n<pre><code>MATCH (subject:Teacher{teacher_id: 'teacher_001'})  MATCH (object:Student{student_id:'student_001'})  MATCH (subject)-[relation:educate]-&gt;(object)  WHERE relation = $relation_prop DELETE relation\n</code></pre>\n<p>However, the above cypher can be executed successfully in the neo4j browser (see figure-2 below). What's wrong with me? Appreciate any helpful responses</p>\n<p>figure-2:<br />\n<a href=\"https://i.stack.imgur.com/0214w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0214w.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried several ways to set the parameter, but none of them worked.</p>\n<pre><code>String conditionDeleteCypher = &quot; WHERE relation = $relation_prop&quot;;\n</code></pre>\n<pre><code>String conditionDeleteCypher = &quot; WHERE relation =+ $relation_prop&quot;;\n</code></pre>\n<pre><code>String conditionDeleteCypher = &quot; WHERE relation += $relation_prop&quot;;\n</code></pre>\n<p>The @Test code I provided is completely executable, no error message.\nAfter execution, the neo4j browser can still find the target relationship, indicating that the method was executed but did not take effect.</p>\n<p><a href=\"https://i.stack.imgur.com/khWdP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/khWdP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","reactjs","angular"],"comments":[{"owner":{"account_id":10658485,"reputation":882,"user_id":7847252,"display_name":"Skgland"},"score":0,"creation_date":1685054781,"post_id":76323042,"comment_id":134611714,"body_markdown":"Please use code blocks and format your code for better readability. As is this is rather unreadable.","body":"Please use code blocks and format your code for better readability. As is this is rather unreadable."}],"owner":{"account_id":28669994,"reputation":1,"user_id":21953241,"display_name":"Kalpana Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685351538,"creation_date":1684927702,"question_id":76323042,"body_markdown":"How to correct this condition when I use in where condition\r\n\r\n    AND 1=(CASE WHEN @ClientId&gt;0 AND PartyID=@ClientId THEN 1\r\n    \t\tELSE \r\n    \t\t\tCASE \r\n    \t\t\t\tWHEN @ClientType=0 THEN 0 \r\n    \t\t\t\tWHEN @ClientType=1 AND CountryID=121 THEN 1 \r\n    \t\t\t\tWHEN @ClientType=2 AND NOT CountryID=121 THEN 1 \t\t\t\t\r\n    \t\t\t\tWHEN @CountryId&gt;0 AND P.CountryID=@CountryId THEN 1 \r\n    \t\t\t\tWHEN @ClientGroup&gt;0 AND P.GroupID=@ClientGroup THEN 1 \r\n    \t\t\tELSE 0 \r\n    \t\t\tEND\r\n    \t\t\tEND \r\n\r\nthis condition convert into case statement\r\n\r\n    If Not cmbClient.SelectedIndex = -1 Then\r\n          QSTr1 = QSTr1 &amp; &quot; and PartyID=&quot; &amp; Math.Abs(cmbClient.SelectedValue)\r\n        Else\r\n          If cmbClientType.SelectedIndex = 1 Then\r\n            QSTr1 = QSTr1 &amp; &quot; and CountryID=121&quot;\r\n          ElseIf cmbClientType.SelectedIndex = 2 Then\r\n            QSTr1 = QSTr1 &amp; &quot; and not CountryID=121&quot;\r\n          End If\r\n          If Not cmbCountry.SelectedIndex = -1 Then QSTr1 = QSTr1 &amp; &quot; and P.CountryID=&quot; &amp; cmbCountry.SelectedValue\r\n          If Not cmbClientGroup.SelectedIndex = -1 Then QSTr1 = QSTr1 &amp; &quot; and P.GroupID=&quot; &amp; cmbClientGroup.SelectedValue\r\n        End If\r\n\r\nPlease help me to correct this condition using case statement\r\n","title":"dynamic query convert into normal query","body":"<p>How to correct this condition when I use in where condition</p>\n<pre><code>AND 1=(CASE WHEN @ClientId&gt;0 AND PartyID=@ClientId THEN 1\n        ELSE \n            CASE \n                WHEN @ClientType=0 THEN 0 \n                WHEN @ClientType=1 AND CountryID=121 THEN 1 \n                WHEN @ClientType=2 AND NOT CountryID=121 THEN 1                 \n                WHEN @CountryId&gt;0 AND P.CountryID=@CountryId THEN 1 \n                WHEN @ClientGroup&gt;0 AND P.GroupID=@ClientGroup THEN 1 \n            ELSE 0 \n            END\n            END \n</code></pre>\n<p>this condition convert into case statement</p>\n<pre><code>If Not cmbClient.SelectedIndex = -1 Then\n      QSTr1 = QSTr1 &amp; &quot; and PartyID=&quot; &amp; Math.Abs(cmbClient.SelectedValue)\n    Else\n      If cmbClientType.SelectedIndex = 1 Then\n        QSTr1 = QSTr1 &amp; &quot; and CountryID=121&quot;\n      ElseIf cmbClientType.SelectedIndex = 2 Then\n        QSTr1 = QSTr1 &amp; &quot; and not CountryID=121&quot;\n      End If\n      If Not cmbCountry.SelectedIndex = -1 Then QSTr1 = QSTr1 &amp; &quot; and P.CountryID=&quot; &amp; cmbCountry.SelectedValue\n      If Not cmbClientGroup.SelectedIndex = -1 Then QSTr1 = QSTr1 &amp; &quot; and P.GroupID=&quot; &amp; cmbClientGroup.SelectedValue\n    End If\n</code></pre>\n<p>Please help me to correct this condition using case statement</p>\n"},{"tags":["java","enums","mapping"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1587985280,"post_id":61457354,"comment_id":108715265,"body_markdown":"What map are you expecting from those enums?","body":"What map are you expecting from those enums?"},{"owner":{"account_id":12934558,"reputation":157,"user_id":9352400,"display_name":"treekt"},"score":0,"creation_date":1587985323,"post_id":61457354,"comment_id":108715300,"body_markdown":"I want to achieve two-way mapping","body":"I want to achieve two-way mapping"},{"owner":{"account_id":12934558,"reputation":157,"user_id":9352400,"display_name":"treekt"},"score":0,"creation_date":1587985385,"post_id":61457354,"comment_id":108715345,"body_markdown":"If ScndEnum to FirstEnum from type C then null","body":"If ScndEnum to FirstEnum from type C then null"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":3,"creation_date":1587985487,"post_id":61457354,"comment_id":108715383,"body_markdown":"`assert ScndEnum.A == ScndEnum.valueOf(FirstEnum.A.name())`","body":"<code>assert ScndEnum.A == ScndEnum.valueOf(FirstEnum.A.name())</code>"},{"owner":{"account_id":12934558,"reputation":157,"user_id":9352400,"display_name":"treekt"},"score":0,"creation_date":1587985890,"post_id":61457354,"comment_id":108715571,"body_markdown":"I meant if that enums were in the objects. Is exists quick solution? I made map with keys as id and value as enum value and initialize it in static block, then i get instance of selected enum by id.","body":"I meant if that enums were in the objects. Is exists quick solution? I made map with keys as id and value as enum value and initialize it in static block, then i get instance of selected enum by id."}],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1587985996,"creation_date":1587985996,"answer_id":61457598,"question_id":61457354,"body_markdown":"You can&#39;t map directly from one enum type to another, but you can use the value of `name()` and map it using `valueOf()`. Both of these methods come with all enum classes:\r\n\r\n    ScndEnum aToA = ScndEnum.valueOf(FirstEnum.A.name());\r\n\r\nAnd if you want to make that generic:\r\n\r\n\tprivate static &lt;E extends Enum&lt;E&gt;, F extends Enum&lt;F&gt;&gt; \r\n\t\tF mapEnum(E enum1, Class&lt;F&gt; enum2Class) {\r\n\r\n\t\treturn Enum.valueOf(enum2Class, enum1.name());\r\n\t}\r\n\r\nWhich you can call using something like\r\n\r\n    ScndEnum b = mapEnum(FirstEnum.B, ScndEnum.class)","title":"How to map enum to enum with the same keys","body":"<p>You can't map directly from one enum type to another, but you can use the value of <code>name()</code> and map it using <code>valueOf()</code>. Both of these methods come with all enum classes:</p>\n\n<pre><code>ScndEnum aToA = ScndEnum.valueOf(FirstEnum.A.name());\n</code></pre>\n\n<p>And if you want to make that generic:</p>\n\n<pre><code>private static &lt;E extends Enum&lt;E&gt;, F extends Enum&lt;F&gt;&gt; \n    F mapEnum(E enum1, Class&lt;F&gt; enum2Class) {\n\n    return Enum.valueOf(enum2Class, enum1.name());\n}\n</code></pre>\n\n<p>Which you can call using something like</p>\n\n<pre><code>ScndEnum b = mapEnum(FirstEnum.B, ScndEnum.class)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12934558,"reputation":157,"user_id":9352400,"display_name":"treekt"},"score":0,"creation_date":1588205117,"post_id":61491706,"comment_id":108813948,"body_markdown":"I understand everything of above, however my question was caused by a strange use case in my company","body":"I understand everything of above, however my question was caused by a strange use case in my company"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588173029,"creation_date":1588116744,"answer_id":61491706,"question_id":61457354,"body_markdown":"# tl;dr\r\n\r\nSharing objects between enums does not really make sense, given the definition of enums in Java. \r\n\r\nPerhaps the solution for you is a collection of enums, such as [`Map`][1] ([key-value pairs][2]) where the key type is of one enum class and the value type is of another enum class.\r\n\r\n    Map&lt; Animal , Food &gt; feeding = \r\n        Map.of\r\n        (\r\n            DOG , MEAT ,\r\n            CAT , MEAT ,\r\n            BIRD , SEED ,\r\n            BAT , FRUIT\r\n        )\r\n    ;\r\n\r\n# An enum is a data type\r\n\r\nAn enum in Java is a class for which instances are named at compile-time, are automatically instantiated at run-time, and cannot be re-assigned. See [tutorial by Oracle][3].\r\n\r\nExamples:\r\n\r\n    enum Animal { DOG , CAT , BIRD , BAT ; }\r\n\r\n    enum Flavor { VANILLA , CHOCOLATE , LAVENDER , LEMON ; }\r\n\r\nEach name within the enum will be assigned an object, an instance of that enum’s class. In the examples above, `DOG` constant holds an `Animal` object, while `LEMON` constant holds a `Flavor` object.\r\n\r\nUsing an enum in Java makes sense when you have a specific collection of instances that are known at compile-time and are unchanged at runtime. This means you cannot call `new Animal()` in our example above. Four new `Animal` objects were automatically instantiated and assigned to each of the variable names when the class first loaded. No more `Animal` objects can be instantiated nor discarded after that enum class loads. \r\n\r\n## No sharing between enums\r\n\r\nSo your question does not really make sense, given the definition of an enum. Objects of one enum are not shared with another enum.\r\n\r\n# Collections\r\n\r\nPerhaps what you are looking for is a *collection* of enum objects. \r\n\r\n## `Set`\r\n\r\nFor example, here we use the implementation of [`Set`][4] that is highly optimized for holding enum objects: [`EnumSet`][5]. \r\n\r\n    Set&lt; Animal &gt; furryPets = EnumSet.of( DOG , CAT ) ;\r\n    Set&lt; Animal &gt; flyingAnimals = EnumSet.of( BIRD , BAT ) ;\r\n    Set&lt; Animal &gt; featheredFlyingAnimals = flyingAnimals.clone().remove( BAT ) ;\r\n\r\n## `Map`\r\n\r\nYou mentioned wanting a two-way mapping. So perhaps what you want is a [`Map`][1] to track one enum as a key and another enum as a value. The `EnumMap` class is highly-optimized for when your key is an enum.\r\n\r\nAs an example, let&#39;s add another enum.\r\n\r\n    enum Food { MEAT , SEED , FRUIT ; }\r\n\r\nMap an animal to its type of food.\r\n\r\n    Map&lt; Animal , Food &gt; feeding = new EnumMap&lt;&gt;( Animal.class ) ;\r\n    feeding.put( DOG , MEAT ) ;\r\n    feeding.put( CAT , MEAT ) ;\r\n    feeding.put( BIRD , SEED ) ;\r\n    feeding.put( BAT , FRUIT ) ;\r\n\r\nRetrieve the type of food to feed to bats.\r\n\r\n    Food foodForBats = feeding.get( BAT ) ;\r\n\r\n# Member variable\r\n\r\nAn enum in Java is a special kind of class, but still a class. So an enum can have member fields, constructors, and accessor methods, just like regular Java classes.\r\n\r\nSo we could associate an `Animal` with its `Food` this way, by using member fields, constructors, and accessor methods.\r\n\r\n    enum Animal \r\n    {\r\n        DOG( Food.MEAT ) , \r\n        CAT( Food.MEAT ) , \r\n        BIRD( Food.SEED ) , \r\n        BAT( Food.FRUIT ) ;\r\n        \r\n        // Member fields.\r\n        private Food food ;\r\n\r\n        // Constructor.\r\n        private Animal( Food foodArg ) \r\n        {\r\n            this.food = foodArg ;\r\n        }\r\n \r\n        // Accessor &quot;getter&quot; method.\r\n        public Food getFood() { return this.food ; }\r\n\r\n    }\r\n\r\nAs mentioned above, when the `Animal` class loads, its constructor is called four times, once per named constant. The specified `Food` object is passed to that constructor automatically, on your behalf. You can think of that line `DOG( Food.MEAT ) , ` as being an abbreviation of `public static final Animal DOG = new Animal( Food.MEAT) ;`. \r\n\r\nUsage.\r\n\r\n    Food foodForBats = Animal.BAT.getFood() ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\r\n  [2]: https://en.wikipedia.org/wiki/Attribute%E2%80%93value_pair\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html\r\n  [5]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumSet.html","title":"How to map enum to enum with the same keys","body":"<h1>tl;dr</h1>\n\n<p>Sharing objects between enums does not really make sense, given the definition of enums in Java. </p>\n\n<p>Perhaps the solution for you is a collection of enums, such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a> (<a href=\"https://en.wikipedia.org/wiki/Attribute%E2%80%93value_pair\" rel=\"nofollow noreferrer\">key-value pairs</a>) where the key type is of one enum class and the value type is of another enum class.</p>\n\n<pre><code>Map&lt; Animal , Food &gt; feeding = \n    Map.of\n    (\n        DOG , MEAT ,\n        CAT , MEAT ,\n        BIRD , SEED ,\n        BAT , FRUIT\n    )\n;\n</code></pre>\n\n<h1>An enum is a data type</h1>\n\n<p>An enum in Java is a class for which instances are named at compile-time, are automatically instantiated at run-time, and cannot be re-assigned. See <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">tutorial by Oracle</a>.</p>\n\n<p>Examples:</p>\n\n<pre><code>enum Animal { DOG , CAT , BIRD , BAT ; }\n\nenum Flavor { VANILLA , CHOCOLATE , LAVENDER , LEMON ; }\n</code></pre>\n\n<p>Each name within the enum will be assigned an object, an instance of that enum’s class. In the examples above, <code>DOG</code> constant holds an <code>Animal</code> object, while <code>LEMON</code> constant holds a <code>Flavor</code> object.</p>\n\n<p>Using an enum in Java makes sense when you have a specific collection of instances that are known at compile-time and are unchanged at runtime. This means you cannot call <code>new Animal()</code> in our example above. Four new <code>Animal</code> objects were automatically instantiated and assigned to each of the variable names when the class first loaded. No more <code>Animal</code> objects can be instantiated nor discarded after that enum class loads. </p>\n\n<h2>No sharing between enums</h2>\n\n<p>So your question does not really make sense, given the definition of an enum. Objects of one enum are not shared with another enum.</p>\n\n<h1>Collections</h1>\n\n<p>Perhaps what you are looking for is a <em>collection</em> of enum objects. </p>\n\n<h2><code>Set</code></h2>\n\n<p>For example, here we use the implementation of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> that is highly optimized for holding enum objects: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/EnumSet.html\" rel=\"nofollow noreferrer\"><code>EnumSet</code></a>. </p>\n\n<pre><code>Set&lt; Animal &gt; furryPets = EnumSet.of( DOG , CAT ) ;\nSet&lt; Animal &gt; flyingAnimals = EnumSet.of( BIRD , BAT ) ;\nSet&lt; Animal &gt; featheredFlyingAnimals = flyingAnimals.clone().remove( BAT ) ;\n</code></pre>\n\n<h2><code>Map</code></h2>\n\n<p>You mentioned wanting a two-way mapping. So perhaps what you want is a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\"><code>Map</code></a> to track one enum as a key and another enum as a value. The <code>EnumMap</code> class is highly-optimized for when your key is an enum.</p>\n\n<p>As an example, let's add another enum.</p>\n\n<pre><code>enum Food { MEAT , SEED , FRUIT ; }\n</code></pre>\n\n<p>Map an animal to its type of food.</p>\n\n<pre><code>Map&lt; Animal , Food &gt; feeding = new EnumMap&lt;&gt;( Animal.class ) ;\nfeeding.put( DOG , MEAT ) ;\nfeeding.put( CAT , MEAT ) ;\nfeeding.put( BIRD , SEED ) ;\nfeeding.put( BAT , FRUIT ) ;\n</code></pre>\n\n<p>Retrieve the type of food to feed to bats.</p>\n\n<pre><code>Food foodForBats = feeding.get( BAT ) ;\n</code></pre>\n\n<h1>Member variable</h1>\n\n<p>An enum in Java is a special kind of class, but still a class. So an enum can have member fields, constructors, and accessor methods, just like regular Java classes.</p>\n\n<p>So we could associate an <code>Animal</code> with its <code>Food</code> this way, by using member fields, constructors, and accessor methods.</p>\n\n<pre><code>enum Animal \n{\n    DOG( Food.MEAT ) , \n    CAT( Food.MEAT ) , \n    BIRD( Food.SEED ) , \n    BAT( Food.FRUIT ) ;\n\n    // Member fields.\n    private Food food ;\n\n    // Constructor.\n    private Animal( Food foodArg ) \n    {\n        this.food = foodArg ;\n    }\n\n    // Accessor \"getter\" method.\n    public Food getFood() { return this.food ; }\n\n}\n</code></pre>\n\n<p>As mentioned above, when the <code>Animal</code> class loads, its constructor is called four times, once per named constant. The specified <code>Food</code> object is passed to that constructor automatically, on your behalf. You can think of that line <code>DOG( Food.MEAT ) ,</code> as being an abbreviation of <code>public static final Animal DOG = new Animal( Food.MEAT) ;</code>. </p>\n\n<p>Usage.</p>\n\n<pre><code>Food foodForBats = Animal.BAT.getFood() ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4440595,"reputation":3869,"user_id":3615207,"accept_rate":73,"display_name":"stinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685351525,"creation_date":1685351525,"answer_id":76356037,"question_id":61457354,"body_markdown":"You can use Mapstruct library. It will automatically generate all needed code for you. You just need to wrote:\r\n\r\n    @Mapper\r\n    public interface MyMapper {\r\n      FirstEnum map(SecondEnum e); \r\n    }\r\n\r\nAnd if values of both match, they will work by default (if not, you can create custom mapping).","title":"How to map enum to enum with the same keys","body":"<p>You can use Mapstruct library. It will automatically generate all needed code for you. You just need to wrote:</p>\n<pre><code>@Mapper\npublic interface MyMapper {\n  FirstEnum map(SecondEnum e); \n}\n</code></pre>\n<p>And if values of both match, they will work by default (if not, you can create custom mapping).</p>\n"}],"owner":{"account_id":12934558,"reputation":157,"user_id":9352400,"display_name":"treekt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6458,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":61457598,"answer_count":3,"score":4,"last_activity_date":1685351525,"creation_date":1587985213,"question_id":61457354,"body_markdown":"How to map enum to enum with the same keys in Java.\r\nFor example..\r\n ```\r\npublic enum FirstEnum {\r\n  A, B\r\n} \r\n\r\npublic enum ScndEnum {\r\n  A, B, C\r\n} \r\n```\r\n\r\nI couldnt find good solution","title":"How to map enum to enum with the same keys","body":"<p>How to map enum to enum with the same keys in Java.\nFor example..</p>\n\n<pre><code>public enum FirstEnum {\n A, B\n} \n\npublic enum ScndEnum {\n A, B, C\n} \n</code></pre>\n\n<p>I couldnt find good solution</p>\n"},{"tags":["java","google-drive-api"],"owner":{"account_id":2278670,"reputation":3,"user_id":2004344,"display_name":"Mathieu Dumont"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685350944,"creation_date":1685350944,"question_id":76355978,"body_markdown":"I need to write a JAVA program that reads content in a Google Drive to import it in another application. I&#39;m trying to access a drive shared with a service account I created and when trying to request the shared drive by its id, I&#39;ve got a 404 not found error.\r\n\r\nHere are the steps I did :\r\n\r\n- I added the &quot;Google Drive API&quot; service to the project in GCP.\r\n- I created the service account I want to use.\r\n- I created a key.\r\nThe key is like that :\r\n\r\n```\r\n{\r\n  &quot;type&quot;: &quot;service_account&quot;,\r\n  &quot;project_id&quot;: &quot;xxxxxx&quot;,\r\n  &quot;private_key_id&quot;: &quot;xxxxxx&quot;,\r\n  &quot;private_key&quot;: &quot;-----BEGIN PRIVATE KEY-----xxxxxx&quot;,\r\n  &quot;client_email&quot;: &quot;api-drive-access@xxxxxx.iam.gserviceaccount.com&quot;,\r\n  &quot;client_id&quot;: &quot;xxxxxxx&quot;,\r\n  &quot;auth_uri&quot;: &quot;https://accounts.google.com/o/oauth2/auth&quot;,\r\n  &quot;token_uri&quot;: &quot;https://oauth2.googleapis.com/token&quot;,\r\n  &quot;auth_provider_x509_cert_url&quot;: &quot;https://www.googleapis.com/oauth2/v1/certs&quot;,\r\n  &quot;client_x509_cert_url&quot;: &quot;https://www.googleapis.com/robot/v1/metadata/x509/api-drive-access%40xxxxxx.iam.gserviceaccount.com&quot;,\r\n  &quot;universe_domain&quot;: &quot;googleapis.com&quot;\r\n}\r\n```\r\n\r\n- I created a Windows system environment variable named GOOGLE_APPLICATION_CREDENTIALS and pointing on the key json file.\r\n- I shared the drive I want to access to the service account email\r\n- I wrote this code :\r\n\r\n\r\n```\r\nfinal GoogleCredentials credentials = GoogleCredentials\r\n\t\t\t\t.getApplicationDefault()\r\n\t\t\t\t.createScoped(Arrays.asList(DriveScopes.DRIVE_FILE));\r\n\t\tfinal HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\r\n\r\n\t\t// Build a new authorized API client service.\r\n\t\tfinal Drive service = new Drive.Builder(new NetHttpTransport(), GsonFactory.getDefaultInstance(),\r\n\t\t\t\trequestInitializer).setApplicationName(&quot;Drive samples&quot;).build();\r\n\r\n\t\tfinal List&lt;File&gt; files = new ArrayList&lt;File&gt;();\r\n\r\n\t\tfinal OutputStream outputStream = new ByteArrayOutputStream();\r\n\t\tString pageToken = null;\r\n\t\tdo {\r\n\t\t\tfinal FileList result = service\r\n\t\t\t\t\t.files()\r\n\t\t\t\t\t.list()\r\n\t\t\t\t\t.setCorpora(&quot;drive&quot;)\r\n\t\t\t\t\t.setQ(&quot;mimeType=&#39;image/jpeg&#39;&quot;)\r\n\t\t\t\t\t.setDriveId(&quot;xxxxxxx&quot;)\r\n\t\t\t\t\t.setSpaces(&quot;drive&quot;)\r\n\t\t\t\t\t.setFields(&quot;nextPageToken, items(id, title)&quot;)\r\n\t\t\t\t\t.setPageToken(pageToken)\r\n\t\t\t\t\t.setSupportsAllDrives(Boolean.TRUE)\r\n\t\t\t\t\t.setIncludeItemsFromAllDrives(Boolean.TRUE)\r\n\t\t\t\t\t.execute();\r\n\t\t\tfor (final File file : result.getFiles()) {\r\n\t\t\t\tSystem.out.printf(&quot;Found file: %s (%s)\\n&quot;, file.getName(), file.getId());\r\n\t\t\t}\r\n\r\n\t\t\tfiles.addAll(result.getFiles());\r\n\r\n\t\t\tpageToken = result.getNextPageToken();\r\n\t\t} while (pageToken != null);\r\n```\r\n\r\nThe service.execute() method returns a 404 not found error.\r\n\r\nDo someone see something wrong in my call or my conf that explains this error ?\r\n\r\nThanks,\r\n\r\nMathieu","title":"Java Google Drive API shared drive access","body":"<p>I need to write a JAVA program that reads content in a Google Drive to import it in another application. I'm trying to access a drive shared with a service account I created and when trying to request the shared drive by its id, I've got a 404 not found error.</p>\n<p>Here are the steps I did :</p>\n<ul>\n<li>I added the &quot;Google Drive API&quot; service to the project in GCP.</li>\n<li>I created the service account I want to use.</li>\n<li>I created a key.\nThe key is like that :</li>\n</ul>\n<pre><code>{\n  &quot;type&quot;: &quot;service_account&quot;,\n  &quot;project_id&quot;: &quot;xxxxxx&quot;,\n  &quot;private_key_id&quot;: &quot;xxxxxx&quot;,\n  &quot;private_key&quot;: &quot;-----BEGIN PRIVATE KEY-----xxxxxx&quot;,\n  &quot;client_email&quot;: &quot;api-drive-access@xxxxxx.iam.gserviceaccount.com&quot;,\n  &quot;client_id&quot;: &quot;xxxxxxx&quot;,\n  &quot;auth_uri&quot;: &quot;https://accounts.google.com/o/oauth2/auth&quot;,\n  &quot;token_uri&quot;: &quot;https://oauth2.googleapis.com/token&quot;,\n  &quot;auth_provider_x509_cert_url&quot;: &quot;https://www.googleapis.com/oauth2/v1/certs&quot;,\n  &quot;client_x509_cert_url&quot;: &quot;https://www.googleapis.com/robot/v1/metadata/x509/api-drive-access%40xxxxxx.iam.gserviceaccount.com&quot;,\n  &quot;universe_domain&quot;: &quot;googleapis.com&quot;\n}\n</code></pre>\n<ul>\n<li>I created a Windows system environment variable named GOOGLE_APPLICATION_CREDENTIALS and pointing on the key json file.</li>\n<li>I shared the drive I want to access to the service account email</li>\n<li>I wrote this code :</li>\n</ul>\n<pre><code>final GoogleCredentials credentials = GoogleCredentials\n                .getApplicationDefault()\n                .createScoped(Arrays.asList(DriveScopes.DRIVE_FILE));\n        final HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\n\n        // Build a new authorized API client service.\n        final Drive service = new Drive.Builder(new NetHttpTransport(), GsonFactory.getDefaultInstance(),\n                requestInitializer).setApplicationName(&quot;Drive samples&quot;).build();\n\n        final List&lt;File&gt; files = new ArrayList&lt;File&gt;();\n\n        final OutputStream outputStream = new ByteArrayOutputStream();\n        String pageToken = null;\n        do {\n            final FileList result = service\n                    .files()\n                    .list()\n                    .setCorpora(&quot;drive&quot;)\n                    .setQ(&quot;mimeType='image/jpeg'&quot;)\n                    .setDriveId(&quot;xxxxxxx&quot;)\n                    .setSpaces(&quot;drive&quot;)\n                    .setFields(&quot;nextPageToken, items(id, title)&quot;)\n                    .setPageToken(pageToken)\n                    .setSupportsAllDrives(Boolean.TRUE)\n                    .setIncludeItemsFromAllDrives(Boolean.TRUE)\n                    .execute();\n            for (final File file : result.getFiles()) {\n                System.out.printf(&quot;Found file: %s (%s)\\n&quot;, file.getName(), file.getId());\n            }\n\n            files.addAll(result.getFiles());\n\n            pageToken = result.getNextPageToken();\n        } while (pageToken != null);\n</code></pre>\n<p>The service.execute() method returns a 404 not found error.</p>\n<p>Do someone see something wrong in my call or my conf that explains this error ?</p>\n<p>Thanks,</p>\n<p>Mathieu</p>\n"},{"tags":["java","package"],"answers":[{"tags":[],"owner":{"account_id":13858,"reputation":39079,"user_id":28053,"accept_rate":100,"display_name":"Paul Sonier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246904941,"creation_date":1246904941,"answer_id":1088531,"question_id":1088509,"body_markdown":"From the [Wikipedia][1] page on the topic:\r\n\r\n&quot;A Java package is a mechanism for organizing Java classes into namespaces similar to the modules of Modula. Java packages can be stored in compressed files called JAR files, allowing classes to download faster as a group rather than one at a time. Programmers also typically use packages to organize classes belonging to the same category or providing similar functionality.&quot;\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_package","title":"What is the purpose of defining a package in a Java file?","body":"<p>From the <a href=\"http://en.wikipedia.org/wiki/Java_package\" rel=\"nofollow noreferrer\">Wikipedia</a> page on the topic:</p>\n\n<p>\"A Java package is a mechanism for organizing Java classes into namespaces similar to the modules of Modula. Java packages can be stored in compressed files called JAR files, allowing classes to download faster as a group rather than one at a time. Programmers also typically use packages to organize classes belonging to the same category or providing similar functionality.\"</p>\n"},{"tags":[],"owner":{"account_id":24436,"reputation":73314,"user_id":62130,"accept_rate":39,"display_name":"Esko Luontola"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1246904969,"creation_date":1246904969,"answer_id":1088536,"question_id":1088509,"body_markdown":"It allows the program to be composed from multiple different programs/components/libraries, so that their class names will not conflict and the components are easier to organize. See http://java.sun.com/docs/books/tutorial/java/package/index.html\r\n\r\nIn Java it&#39;s customary to name packages as reverse domain names. For example, if your company&#39;s domain is &quot;initech.com&quot; and you are making a program called &quot;Gizmo&quot;, the package names are typically prefixed &quot;com.initech.gizmo&quot;, with subpackages for different components of the program.","title":"What is the purpose of defining a package in a Java file?","body":"<p>It allows the program to be composed from multiple different programs/components/libraries, so that their class names will not conflict and the components are easier to organize. See <a href=\"http://java.sun.com/docs/books/tutorial/java/package/index.html\" rel=\"nofollow noreferrer\">http://java.sun.com/docs/books/tutorial/java/package/index.html</a></p>\n\n<p>In Java it's customary to name packages as reverse domain names. For example, if your company's domain is \"initech.com\" and you are making a program called \"Gizmo\", the package names are typically prefixed \"com.initech.gizmo\", with subpackages for different components of the program.</p>\n"},{"comments":[{"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"score":0,"creation_date":1648129373,"post_id":1088540,"comment_id":126549864,"body_markdown":"sounds a lot like this concept called &#39;folders&#39;","body":"sounds a lot like this concept called &#39;folders&#39;"}],"tags":[],"owner":{"account_id":1762,"reputation":31842,"user_id":2405,"accept_rate":100,"display_name":"William Brendel"},"comment_count":1,"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1246905395,"creation_date":1246905020,"answer_id":1088540,"question_id":1088509,"body_markdown":"Let&#39;s start with the definition of a &quot;Java package&quot;, as described in the [Wikipedia article](http://en.wikipedia.org/wiki/Java_package):\r\n\r\n&gt; A Java package is a mechanism for\r\n&gt; organizing Java classes into\r\n&gt; namespaces similar to the modules of\r\n&gt; Modula. Java packages can be stored in\r\n&gt; compressed files called JAR files,\r\n&gt; allowing classes to download faster as\r\n&gt; a group rather than one at a time.\r\n&gt; Programmers also typically use\r\n&gt; packages to organize classes belonging\r\n&gt; to the same category or providing\r\n&gt; similar functionality.\r\n\r\nSo based on that, **packages in Java are simply a mechanism used to organize classes and prevent class name collisions**. You can name them anything you wish, but Sun has published some [naming conventions](http://java.sun.com/docs/codeconv/html/CodeConventions.doc8.html#367) that you *should* use when naming packages:\r\n\r\n&gt; **Packages**\r\n&gt; \r\n&gt; The prefix of a unique package name is\r\n&gt; always written in all-lowercase ASCII\r\n&gt; letters and should be one of the\r\n&gt; top-level domain names, currently com,\r\n&gt; edu, gov, mil, net, org, or one of the\r\n&gt; English two-letter codes identifying\r\n&gt; countries as specified in ISO Standard\r\n&gt; 3166, 1981.\r\n&gt; \r\n&gt; Subsequent components of the package\r\n&gt; name vary according to an\r\n&gt; organization&#39;s own internal naming\r\n&gt; conventions. Such conventions might\r\n&gt; specify that certain directory name\r\n&gt; components be division, department,\r\n&gt; project, machine, or login names. \t\r\n&gt;\r\n&gt; **Examples:**\r\n&gt; \r\n&gt; * com.sun.eng \r\n&gt;\r\n&gt; * com.apple.quicktime.v2\r\n&gt;\r\n&gt; * edu.cmu.cs.bovik.cheese","title":"What is the purpose of defining a package in a Java file?","body":"<p>Let's start with the definition of a \"Java package\", as described in the <a href=\"http://en.wikipedia.org/wiki/Java_package\" rel=\"noreferrer\">Wikipedia article</a>:</p>\n\n<blockquote>\n  <p>A Java package is a mechanism for\n  organizing Java classes into\n  namespaces similar to the modules of\n  Modula. Java packages can be stored in\n  compressed files called JAR files,\n  allowing classes to download faster as\n  a group rather than one at a time.\n  Programmers also typically use\n  packages to organize classes belonging\n  to the same category or providing\n  similar functionality.</p>\n</blockquote>\n\n<p>So based on that, <strong>packages in Java are simply a mechanism used to organize classes and prevent class name collisions</strong>. You can name them anything you wish, but Sun has published some <a href=\"http://java.sun.com/docs/codeconv/html/CodeConventions.doc8.html#367\" rel=\"noreferrer\">naming conventions</a> that you <em>should</em> use when naming packages:</p>\n\n<blockquote>\n  <p><strong>Packages</strong></p>\n  \n  <p>The prefix of a unique package name is\n  always written in all-lowercase ASCII\n  letters and should be one of the\n  top-level domain names, currently com,\n  edu, gov, mil, net, org, or one of the\n  English two-letter codes identifying\n  countries as specified in ISO Standard\n  3166, 1981.</p>\n  \n  <p>Subsequent components of the package\n  name vary according to an\n  organization's own internal naming\n  conventions. Such conventions might\n  specify that certain directory name\n  components be division, department,\n  project, machine, or login names.     </p>\n  \n  <p><strong>Examples:</strong></p>\n  \n  <ul>\n  <li><p>com.sun.eng </p></li>\n  <li><p>com.apple.quicktime.v2</p></li>\n  <li><p>edu.cmu.cs.bovik.cheese</p></li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":44552,"reputation":4670,"user_id":130832,"display_name":"Mercer Traieste"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1246905067,"creation_date":1246905067,"answer_id":1088545,"question_id":1088509,"body_markdown":"Packages are important for giving flexibility of classes separation. They can be used for:\r\n\r\n - separating projects\r\n - separating modules\r\n - separating application layers (business, web, dao)\r\n - further finer grained code separation\r\n\r\nFor example\r\n\r\ncom.mycompany.thisproject.thismodule.web\r\n\r\nCould indicate the web layer of some module.","title":"What is the purpose of defining a package in a Java file?","body":"<p>Packages are important for giving flexibility of classes separation. They can be used for:</p>\n\n<ul>\n<li>separating projects</li>\n<li>separating modules</li>\n<li>separating application layers (business, web, dao)</li>\n<li>further finer grained code separation</li>\n</ul>\n\n<p>For example</p>\n\n<p>com.mycompany.thisproject.thismodule.web</p>\n\n<p>Could indicate the web layer of some module.</p>\n"},{"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1246909523,"post_id":1088547,"comment_id":902535,"body_markdown":"&quot;...you can use packages to ensure uniqueness....&quot; exactly right.  The highfaluting term is &#39;partitioning the global namespace&#39;.  Your citation of java.util.Date and java.sql.Date is spot on.","body":"&quot;...you can use packages to ensure uniqueness....&quot; exactly right.  The highfaluting term is &#39;partitioning the global namespace&#39;.  Your citation of java.util.Date and java.sql.Date is spot on."}],"tags":[],"owner":{"account_id":20857,"reputation":40723,"user_id":50214,"accept_rate":97,"display_name":"geowa4"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1246905080,"creation_date":1246905080,"answer_id":1088547,"question_id":1088509,"body_markdown":"I a large application, you are bound to have two files named exactly the same (java.util.Date and java.sql.Date), especially when you start bringing in third party jars. So basically, you can use packages to ensure uniqueness.\r\n\r\nMost importantly, in my opinion, packaging breaks down projects into meaningful segments. So my SQL package has sql-related code, and my logger package handles logging.","title":"What is the purpose of defining a package in a Java file?","body":"<p>I a large application, you are bound to have two files named exactly the same (java.util.Date and java.sql.Date), especially when you start bringing in third party jars. So basically, you can use packages to ensure uniqueness.</p>\n\n<p>Most importantly, in my opinion, packaging breaks down projects into meaningful segments. So my SQL package has sql-related code, and my logger package handles logging.</p>\n"},{"comments":[{"owner":{"account_id":45842,"reputation":13608,"user_id":135294,"display_name":"cjstehno"},"score":0,"creation_date":1251748739,"post_id":1088551,"comment_id":1196101,"body_markdown":"Also, I would add that &quot;choosing to adopt&quot; is not really an option, &quot;must adopt&quot; is more the reality. Generally leaving classes in the &quot;default&quot; package is frowned upon.","body":"Also, I would add that &quot;choosing to adopt&quot; is not really an option, &quot;must adopt&quot; is more the reality. Generally leaving classes in the &quot;default&quot; package is frowned upon."}],"tags":[],"owner":{"account_id":876803,"reputation":86,"user_id":128950,"display_name":"Yohnny"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246905112,"creation_date":1246905112,"answer_id":1088551,"question_id":1088509,"body_markdown":"&gt; also, if i choose to adopt this, how\r\n&gt; should i group them?\r\n\r\nThis depends largely on the design pattern(s) you will employ in your project. For the most part (particularly, if you&#39;re quite new) you&#39;ll want to group them by functionality or some other logical similarity.","title":"What is the purpose of defining a package in a Java file?","body":"<blockquote>\n  <p>also, if i choose to adopt this, how\n  should i group them?</p>\n</blockquote>\n\n<p>This depends largely on the design pattern(s) you will employ in your project. For the most part (particularly, if you're quite new) you'll want to group them by functionality or some other logical similarity.</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246909182,"creation_date":1246905411,"answer_id":1088578,"question_id":1088509,"body_markdown":"Java is very exact in its implementation.  It doesn&#39;t really leave room for fudging.\r\n\r\nIf everyone were to use the same package, they would have to find some &quot;World Wide&quot; way to ensure that no two class names ever collided.\r\n\r\nThis lets every single class ever written fit into its own &quot;Place&quot; that you don&#39;t have to look at if you don&#39;t want to.\r\n\r\nYou may have different &quot;Point&quot; objects defined in 4 different places on your system, but your class will only use the one you expect (because you import that one).\r\n\r\nThe way they ensure that everyone has their own space is to use your reverse domain, so mine is &quot;tv.kress.bill&quot;.  I own that domain--Actually I share it with my brother &quot;tv.kress.doug&quot; and even though we share the same domain, we can&#39;t have a collision.\r\n\r\nIf a hundred divisions in your company each develop in Java, they can do so without collision and knowing exactly how to divide it.\r\n\r\nSystems that don&#39;t do this kind of division seem really flaky to me now.  I might use them to hack together a script for something personal, but I&#39;d feel uncomfortable developing anything big without some strict packaging going on.","title":"What is the purpose of defining a package in a Java file?","body":"<p>Java is very exact in its implementation.  It doesn't really leave room for fudging.</p>\n\n<p>If everyone were to use the same package, they would have to find some \"World Wide\" way to ensure that no two class names ever collided.</p>\n\n<p>This lets every single class ever written fit into its own \"Place\" that you don't have to look at if you don't want to.</p>\n\n<p>You may have different \"Point\" objects defined in 4 different places on your system, but your class will only use the one you expect (because you import that one).</p>\n\n<p>The way they ensure that everyone has their own space is to use your reverse domain, so mine is \"tv.kress.bill\".  I own that domain--Actually I share it with my brother \"tv.kress.doug\" and even though we share the same domain, we can't have a collision.</p>\n\n<p>If a hundred divisions in your company each develop in Java, they can do so without collision and knowing exactly how to divide it.</p>\n\n<p>Systems that don't do this kind of division seem really flaky to me now.  I might use them to hack together a script for something personal, but I'd feel uncomfortable developing anything big without some strict packaging going on.</p>\n"},{"tags":[],"owner":{},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246906990,"creation_date":1246906990,"answer_id":1088701,"question_id":1088509,"body_markdown":"Other people have provided very Java-specific answers which are fine, but here&#39;s an analogy: why do you organize files into directories on your hard drive? Why not just have a flat file system with everything in one directory?\r\n\r\nThe answer, of course, is that packages provide organization. The part of the program that interfaces with the database is different than the part of the program that displays a UI to the user, so they&#39;ll be in different packages.\r\n\r\nLike directories, it also provides a way to solve name conflicts. You can have a temp.txt in a couple different directories in the same way that you could have two classes that appear in different packages. This becomes important (1) when you start combining code with other people out there on the internet or (2) even realize how Java&#39;s classloading works.","title":"What is the purpose of defining a package in a Java file?","body":"<p>Other people have provided very Java-specific answers which are fine, but here's an analogy: why do you organize files into directories on your hard drive? Why not just have a flat file system with everything in one directory?</p>\n\n<p>The answer, of course, is that packages provide organization. The part of the program that interfaces with the database is different than the part of the program that displays a UI to the user, so they'll be in different packages.</p>\n\n<p>Like directories, it also provides a way to solve name conflicts. You can have a temp.txt in a couple different directories in the same way that you could have two classes that appear in different packages. This becomes important (1) when you start combining code with other people out there on the internet or (2) even realize how Java's classloading works.</p>\n"},{"tags":[],"owner":{"account_id":44676,"reputation":2026,"user_id":131242,"accept_rate":89,"display_name":"Tamar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1246908932,"creation_date":1246907331,"answer_id":1088728,"question_id":1088509,"body_markdown":"Another important thing about packages is the [protected][1] member for access control. \r\n\r\nProtected is somewhere between public (everyone can access) and private (only class internal can access). Things marked as protected can be accessed from within the same package or from subclasses. This means that for limited access you don&#39;t have to put everything in the same class.\r\n\r\n\r\n  [1]: http://www.j2ee.me/docs/books/tutorial/java/javaOO/accesscontrol.html","title":"What is the purpose of defining a package in a Java file?","body":"<p>Another important thing about packages is the <a href=\"http://www.j2ee.me/docs/books/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">protected</a> member for access control. </p>\n\n<p>Protected is somewhere between public (everyone can access) and private (only class internal can access). Things marked as protected can be accessed from within the same package or from subclasses. This means that for limited access you don't have to put everything in the same class.</p>\n"},{"tags":[],"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1246910426,"creation_date":1246910426,"answer_id":1088938,"question_id":1088509,"body_markdown":"In addition to the namespacing mentioned in other answers, you can limit access to methods and fields based on the scope declared on that member.\r\nMembers with the *public* scope are freely accessible, to limit access you normally define them as *private* (i.e. hidden outside the class).\r\nYou can also use the *protected* scope to limit access to the type and its children.\r\nThere is also the *default* scope (a member with no qualifier has the default scope) which allows child types and types in the same package access to the member. This can be an effective way of sharing fields and methods without making them too widely available, and can help with testing.\r\n\r\nFor example the method below would be visible to all other members of the same package.\r\n\r\n    public class Foo {\r\n        int doSomething() {\r\n            return 1;\r\n        }\r\n    }\r\n\r\nTo test the method you could define another type in the same package (but probably a different source location), that type would be able to access the method.\r\n\r\n    public class FooTest {\r\n        @Test\r\n        int testDoSomething() {\r\n            Foo foo = new Foo();\r\n            assertEquals(1, foo.doSomething());\r\n        }\r\n    }\r\n","title":"What is the purpose of defining a package in a Java file?","body":"<p>In addition to the namespacing mentioned in other answers, you can limit access to methods and fields based on the scope declared on that member.\nMembers with the <em>public</em> scope are freely accessible, to limit access you normally define them as <em>private</em> (i.e. hidden outside the class).\nYou can also use the <em>protected</em> scope to limit access to the type and its children.\nThere is also the <em>default</em> scope (a member with no qualifier has the default scope) which allows child types and types in the same package access to the member. This can be an effective way of sharing fields and methods without making them too widely available, and can help with testing.</p>\n\n<p>For example the method below would be visible to all other members of the same package.</p>\n\n<pre><code>public class Foo {\n    int doSomething() {\n        return 1;\n    }\n}\n</code></pre>\n\n<p>To test the method you could define another type in the same package (but probably a different source location), that type would be able to access the method.</p>\n\n<pre><code>public class FooTest {\n    @Test\n    int testDoSomething() {\n        Foo foo = new Foo();\n        assertEquals(1, foo.doSomething());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2726521,"reputation":21,"user_id":2351422,"display_name":"newmanicspree"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685350938,"creation_date":1497669751,"answer_id":44600445,"question_id":1088509,"body_markdown":"Ultimately, there are 3 core reasons we want to use packages in Java.\r\n\r\n\r\n1) **Easier Maintenance**\r\n\r\nOrganizing `classes` into `packages` follows the separation of concerns principle by encapsulation and allows for better cohesion in the overall system design. Moving further, packaging-by-feature allows teams of developers to find relevant classes and interfaces for making changes, supporting vertical-slicing techniques for scaled approaches used in agile methodology. For more information, see blog post: [Package your classes by Feature and not by Layers][1] and [Coding: Packaging by vertical slice][2].\r\n\r\n\r\n2) **Provide Package security**\r\n\r\nPackages allow external access to only `public` access modifiers on methods in contained classes. Using the `protected` or no modifier will only be accessible to classes within the same package. For more information, see post: \r\nhttps://stackoverflow.com/questions/21133124/which-java-access-modifier-allows-a-member-to-be-accessed-only-by-the-subclasses\r\n\r\n\r\n\r\n3) **Avoid similar naming**\r\n\r\nSimilar to the namespaces of .NET, class names are contained within the scope of their containing package. This means that two mutually exclusive packages can contain classes with the same name. This is because the packages themselves have different names and therefore, the fully qualified names are different. For more information, see tutorial [Naming a Package: The Java Tutorials][3].\r\n\r\n\r\n  [1]: https://www.javacodegeeks.com/2013/04/package-your-classes-by-feature-and-not-by-layers.html\r\n\r\n  [2]: https://www.markhneedham.com/blog/2012/02/20/coding-packaging-by-vertical-slice/\r\n\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/package/namingpkgs.html &quot;Naming Packages&quot;","title":"What is the purpose of defining a package in a Java file?","body":"<p>Ultimately, there are 3 core reasons we want to use packages in Java.</p>\n<ol>\n<li><strong>Easier Maintenance</strong></li>\n</ol>\n<p>Organizing <code>classes</code> into <code>packages</code> follows the separation of concerns principle by encapsulation and allows for better cohesion in the overall system design. Moving further, packaging-by-feature allows teams of developers to find relevant classes and interfaces for making changes, supporting vertical-slicing techniques for scaled approaches used in agile methodology. For more information, see blog post: <a href=\"https://www.javacodegeeks.com/2013/04/package-your-classes-by-feature-and-not-by-layers.html\" rel=\"nofollow noreferrer\">Package your classes by Feature and not by Layers</a> and <a href=\"https://www.markhneedham.com/blog/2012/02/20/coding-packaging-by-vertical-slice/\" rel=\"nofollow noreferrer\">Coding: Packaging by vertical slice</a>.</p>\n<ol start=\"2\">\n<li><strong>Provide Package security</strong></li>\n</ol>\n<p>Packages allow external access to only <code>public</code> access modifiers on methods in contained classes. Using the <code>protected</code> or no modifier will only be accessible to classes within the same package. For more information, see post:\n<a href=\"https://stackoverflow.com/questions/21133124/which-java-access-modifier-allows-a-member-to-be-accessed-only-by-the-subclasses\">Which Java access modifier allows a member to be accessed only by the subclasses in other package?</a></p>\n<ol start=\"3\">\n<li><strong>Avoid similar naming</strong></li>\n</ol>\n<p>Similar to the namespaces of .NET, class names are contained within the scope of their containing package. This means that two mutually exclusive packages can contain classes with the same name. This is because the packages themselves have different names and therefore, the fully qualified names are different. For more information, see tutorial <a href=\"https://docs.oracle.com/javase/tutorial/java/package/namingpkgs.html\" rel=\"nofollow noreferrer\" title=\"Naming Packages\">Naming a Package: The Java Tutorials</a>.</p>\n"}],"owner":{"account_id":39986,"reputation":12801,"user_id":115622,"accept_rate":87,"display_name":"derrdji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53011,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"closed_date":1590391097,"accepted_answer_id":1088540,"answer_count":11,"score":51,"last_activity_date":1685350938,"creation_date":1246904660,"question_id":1088509,"body_markdown":"I am a newbie and just learned that if I define say\r\n\r\n    package my.first.group.here;\r\n    ...\r\n\r\nthen the Java files that are in this package will be placed under `my/first/group/here` directory.\r\n\r\nWhat is the main purpose of putting some Java files in a package? Also, if I choose to adopt this, how should I group them?\r\n\r\nThank you\r\n\r\n\r\n----------\r\nEDIT: For anyone who might have the same question again, I just found [this tutorial on packages][1] from Sun. \r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/java/package/index.html","title":"What is the purpose of defining a package in a Java file?","body":"<p>I am a newbie and just learned that if I define say</p>\n\n<pre><code>package my.first.group.here;\n...\n</code></pre>\n\n<p>then the Java files that are in this package will be placed under <code>my/first/group/here</code> directory.</p>\n\n<p>What is the main purpose of putting some Java files in a package? Also, if I choose to adopt this, how should I group them?</p>\n\n<p>Thank you</p>\n\n<hr>\n\n<p>EDIT: For anyone who might have the same question again, I just found <a href=\"http://java.sun.com/docs/books/tutorial/java/package/index.html\" rel=\"noreferrer\">this tutorial on packages</a> from Sun. </p>\n"},{"tags":["java","eclipse","tomcat","jersey"],"comments":[{"owner":{"account_id":1018642,"reputation":1775,"user_id":1029621,"accept_rate":60,"display_name":"Eugen Halca"},"score":0,"creation_date":1381327537,"post_id":19274241,"comment_id":28536520,"body_markdown":"`com/google/common/base/Function` not found, you need to add a jar to your lib folder, and seems to me it is [Google guava](https://code.google.com/p/guava-libraries/)","body":"<code>com&#47;google&#47;common&#47;base&#47;Function</code> not found, you need to add a jar to your lib folder, and seems to me it is <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Google guava</a>"},{"owner":{"account_id":2442940,"reputation":2631,"user_id":2130951,"accept_rate":73,"display_name":"user2130951"},"score":1,"creation_date":1381331366,"post_id":19274241,"comment_id":28539185,"body_markdown":"Correct, unfortunately not enough to get Jersey to work. Too many problems so I will switch to Restlet.","body":"Correct, unfortunately not enough to get Jersey to work. Too many problems so I will switch to Restlet."}],"answers":[{"comments":[{"owner":{"account_id":263142,"reputation":9391,"user_id":548526,"accept_rate":70,"display_name":"Siddharth"},"score":0,"creation_date":1436446280,"post_id":23683612,"comment_id":50623275,"body_markdown":"hope you dont mind, i made your answer more complete","body":"hope you dont mind, i made your answer more complete"}],"tags":[],"owner":{"account_id":1884296,"reputation":1461,"user_id":1703830,"display_name":"Akalanka"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1436446266,"creation_date":1400170479,"answer_id":23683612,"question_id":19274241,"body_markdown":"When moving from Jersey 1.x to 2.x\r\n\r\nPlease check below jar files. It is disgusting to use this number of jar files to implement REST services. May be restlet or easy rest is better than jersey.\r\n\r\nhk2-api-2.2.0.jar&lt;br&gt;\r\nhk2-locator-2.2.0.jar&lt;br&gt;\r\nhk2-utils-2.2.0.jar&lt;br&gt;\r\njavassist-3.18.1-GA.jar&lt;br&gt;\r\njavax.annotation-api-1.2.jar&lt;br&gt;\r\njavax.inject-2.2.0.jar&lt;br&gt;\r\njavax.ws.rs-api-2.0.jar&lt;br&gt;\r\njersey-client.jar&lt;br&gt;\r\njersey-common.jar&lt;br&gt;\r\njersey-container-servlet.jar&lt;br&gt;\r\njersey-container-servlet-core.jar&lt;br&gt;\r\njersey-guava-2.8.jar jersey-server.jar&lt;br&gt;\r\nvalidation-api-1.1.0.Final.jar\r\n\r\nAlso dont forget to change your web.xml to look like this\r\n\r\n    &lt;display-name&gt;com.vogella.jersey.first&lt;/display-name&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;Jersey 2.x REST Service&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n    \t\t&lt;!-- --&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;my.package.name.replace.this&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;Jersey 2.x REST Service&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/path/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n\r\nHope someone may find this useful. BTW i use jersey 2.8 version.","title":"Error deploying servlet (Jersey)","body":"<p>When moving from Jersey 1.x to 2.x</p>\n\n<p>Please check below jar files. It is disgusting to use this number of jar files to implement REST services. May be restlet or easy rest is better than jersey.</p>\n\n<p>hk2-api-2.2.0.jar<br>\nhk2-locator-2.2.0.jar<br>\nhk2-utils-2.2.0.jar<br>\njavassist-3.18.1-GA.jar<br>\njavax.annotation-api-1.2.jar<br>\njavax.inject-2.2.0.jar<br>\njavax.ws.rs-api-2.0.jar<br>\njersey-client.jar<br>\njersey-common.jar<br>\njersey-container-servlet.jar<br>\njersey-container-servlet-core.jar<br>\njersey-guava-2.8.jar jersey-server.jar<br>\nvalidation-api-1.1.0.Final.jar</p>\n\n<p>Also dont forget to change your web.xml to look like this</p>\n\n<pre><code>&lt;display-name&gt;com.vogella.jersey.first&lt;/display-name&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Jersey 2.x REST Service&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;!-- --&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n            &lt;param-value&gt;my.package.name.replace.this&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Jersey 2.x REST Service&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/path/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>Hope someone may find this useful. BTW i use jersey 2.8 version.</p>\n"}],"owner":{"account_id":2442940,"reputation":2631,"user_id":2130951,"accept_rate":73,"display_name":"user2130951"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23683612,"answer_count":1,"score":1,"last_activity_date":1685350737,"creation_date":1381327216,"question_id":19274241,"body_markdown":"I am having problems deploying a jersey tutorial on a tomcat7 eclipse server. Can anyone point me in the right direction? The tomcat server will start correctly if I don&#39;t try to use the jersey example.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n     &lt;display-name&gt;de.vogella.jersey.first&lt;/display-name&gt;\r\n    &lt;servlet&gt;\r\n    &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\r\n      &lt;param-value&gt;de.vogella.jersey.first&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n      &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n      &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;/web-app\r\n\r\n\r\n    Oct 09, 2013 3:52:02 PM org.apache.catalina.core.AprLifecycleListener init\r\n    INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib\r\n        Oct 09, 2013 3:52:02 PM org.apache.tomcat.util.digester.SetPropertiesRule begin\r\n        WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property &#39;source&#39; to &#39;org.eclipse.jst.jee.server:de.vogella.jersey.first&#39; did not find a matching property.\r\n        O\r\n    \r\n    ct 09, 2013 3:52:02 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    Oct 09, 2013 3:52:02 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Oct 09, 2013 3:52:02 PM org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 448 ms\r\n    Oct 09, 2013 3:52:02 PM org.apache.catalina.core.StandardService startInternal\r\n    INFO: Starting service Catalina\r\n    Oct 09, 2013 3:52:02 PM org.apache.catalina.core.StandardEngine startInternal\r\n    INFO: Starting Servlet Engine: Apache Tomcat/7.0.42\r\n    Oct 09, 2013 3:52:02 PM org.apache.catalina.core.ContainerBase startInternal\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/de.vogella.jersey.first]]\r\n    \tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    \tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:724)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/de.vogella.jersey.first]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n    \t... 6 more\r\n    Caused by: java.lang.NoClassDefFoundError: com/google/common/base/Function\r\n    \tat org.glassfish.jersey.internal.ServiceFinder.&lt;clinit&gt;(ServiceFinder.java:165)\r\n    \tat org.glassfish.jersey.servlet.internal.ServletContainerProviderFactory.getAllServletContainerProviders(ServletContainerProviderFactory.java:66)\r\n    \tat org.glassfish.jersey.servlet.init.JerseyServletContainerInitializer.onStartup(JerseyServletContainerInitializer.java:132)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5423)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 6 more\r\n    Caused by: java.lang.ClassNotFoundException: com.google.common.base.Function\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\r\n    \t... 11 more\r\n    \r\n    Oct 09, 2013 3:52:02 PM org.apache.catalina.core.ContainerBase startInternal\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n    \tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    \tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:691)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:491)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:724)\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 6 more\r\n    \r\n    Oct 09, 2013 3:52:02 PM org.apache.catalina.startup.Catalina start\r\n    SEVERE: The required Server component failed to start so Tomcat is unable to start.\r\n    org.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:691)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:491)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 7 more\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 9 more\r\n    Caused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 11 more\r\n    \r\n    Oct 09, 2013 3:52:02 PM org.apache.coyote.AbstractProtocol pause\r\n    INFO: Pausing ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    Oct 09, 2013 3:52:02 PM org.apache.coyote.AbstractProtocol pause\r\n    INFO: Pausing ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Oct 09, 2013 3:52:02 PM org.apache.catalina.core.StandardService stopInternal\r\n    INFO: Stopping service Catalina\r\n    Oct 09, 2013 3:52:02 PM org.apache.coyote.AbstractProtocol destroy\r\n    INFO: Destroying ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    Oct 09, 2013 3:52:02 PM org.apache.coyote.AbstractProtocol destroy\r\n    INFO: Destroying ProtocolHandler [&quot;ajp-bio-8009&quot;]","title":"Error deploying servlet (Jersey)","body":"<p>I am having problems deploying a jersey tutorial on a tomcat7 eclipse server. Can anyone point me in the right direction? The tomcat server will start correctly if I don't try to use the jersey example.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" id=\"WebApp_ID\" version=\"2.5\"&gt;\n &lt;display-name&gt;de.vogella.jersey.first&lt;/display-name&gt;\n&lt;servlet&gt;\n&lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n&lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n&lt;init-param&gt;\n  &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n  &lt;param-value&gt;de.vogella.jersey.first&lt;/param-value&gt;\n&lt;/init-param&gt;\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;/web-app\n\n\nOct 09, 2013 3:52:02 PM org.apache.catalina.core.AprLifecycleListener init\nINFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: /usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib\n    Oct 09, 2013 3:52:02 PM org.apache.tomcat.util.digester.SetPropertiesRule begin\n    WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.jee.server:de.vogella.jersey.first' did not find a matching property.\n    O\n\nct 09, 2013 3:52:02 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"http-bio-8080\"]\nOct 09, 2013 3:52:02 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [\"ajp-bio-8009\"]\nOct 09, 2013 3:52:02 PM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 448 ms\nOct 09, 2013 3:52:02 PM org.apache.catalina.core.StandardService startInternal\nINFO: Starting service Catalina\nOct 09, 2013 3:52:02 PM org.apache.catalina.core.StandardEngine startInternal\nINFO: Starting Servlet Engine: Apache Tomcat/7.0.42\nOct 09, 2013 3:52:02 PM org.apache.catalina.core.ContainerBase startInternal\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/de.vogella.jersey.first]]\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:724)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/de.vogella.jersey.first]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    ... 6 more\nCaused by: java.lang.NoClassDefFoundError: com/google/common/base/Function\n    at org.glassfish.jersey.internal.ServiceFinder.&lt;clinit&gt;(ServiceFinder.java:165)\n    at org.glassfish.jersey.servlet.internal.ServletContainerProviderFactory.getAllServletContainerProviders(ServletContainerProviderFactory.java:66)\n    at org.glassfish.jersey.servlet.init.JerseyServletContainerInitializer.onStartup(JerseyServletContainerInitializer.java:132)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5423)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more\nCaused by: java.lang.ClassNotFoundException: com.google.common.base.Function\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1714)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1559)\n    ... 11 more\n\nOct 09, 2013 3:52:02 PM org.apache.catalina.core.ContainerBase startInternal\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:192)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:691)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:491)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:724)\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 6 more\n\nOct 09, 2013 3:52:02 PM org.apache.catalina.startup.Catalina start\nSEVERE: The required Server component failed to start so Tomcat is unable to start.\norg.apache.catalina.LifecycleException: Failed to start component [StandardServer[8005]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:691)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:491)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:456)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardService[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:732)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 7 more\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:443)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 9 more\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1131)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:302)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 11 more\n\nOct 09, 2013 3:52:02 PM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [\"http-bio-8080\"]\nOct 09, 2013 3:52:02 PM org.apache.coyote.AbstractProtocol pause\nINFO: Pausing ProtocolHandler [\"ajp-bio-8009\"]\nOct 09, 2013 3:52:02 PM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service Catalina\nOct 09, 2013 3:52:02 PM org.apache.coyote.AbstractProtocol destroy\nINFO: Destroying ProtocolHandler [\"http-bio-8080\"]\nOct 09, 2013 3:52:02 PM org.apache.coyote.AbstractProtocol destroy\nINFO: Destroying ProtocolHandler [\"ajp-bio-8009\"]\n</code></pre>\n"},{"tags":["java","soap","wsdl","xjc"],"owner":{"account_id":11603559,"reputation":85,"user_id":8704821,"display_name":"piller97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685350547,"creation_date":1685350547,"question_id":76355923,"body_markdown":"I need to generate java classes from wsdl and add custom annotation to them with value SoapAction. This value should be taken from wsdl.\r\nI tried to make a custom plugin. I made class extended from `com.sun.tools.xjc.Plugin` class. But I don&#39;t understand, how to get values from wsdl?","title":"How to Generate Java Classes from WSDL and Add Custom Annotations with SOAPAction Value?","body":"<p>I need to generate java classes from wsdl and add custom annotation to them with value SoapAction. This value should be taken from wsdl.\nI tried to make a custom plugin. I made class extended from <code>com.sun.tools.xjc.Plugin</code> class. But I don't understand, how to get values from wsdl?</p>\n"},{"tags":["java","data-structures","set","initializing"],"answers":[{"tags":[],"owner":{"account_id":20524248,"reputation":105,"user_id":15063087,"display_name":"k4rnaj1k"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685218308,"creation_date":1685218308,"answer_id":76348854,"question_id":76348567,"body_markdown":"I&#39;m guessing you were supposed to create a DoublyLinkedList with Set functionality for your task.\r\nHere is a visualization of it:\r\nhttp://bridgesuncc.github.io/tutorials/DoublyLinkedList.html\r\n\r\nLinked List is storing a reference to the first(head) element of the list instead of storing all the references in an array(the way ArrayList does it).\r\nI&#39;m guessing this `head` element is used as a constructor parameter later in the code, something like:\r\n```java\r\nLinkedSet&lt;E&gt; result = new LinkedSet&lt;&gt;(head);\r\n```\r\n While `currNode` is used to store reference to the current element and get&#39;s updated in the cycle.","title":"What is the purpose of initializing a dummy node in a ListSet intersect function?","body":"<p>I'm guessing you were supposed to create a DoublyLinkedList with Set functionality for your task.\nHere is a visualization of it:\n<a href=\"http://bridgesuncc.github.io/tutorials/DoublyLinkedList.html\" rel=\"nofollow noreferrer\">http://bridgesuncc.github.io/tutorials/DoublyLinkedList.html</a></p>\n<p>Linked List is storing a reference to the first(head) element of the list instead of storing all the references in an array(the way ArrayList does it).\nI'm guessing this <code>head</code> element is used as a constructor parameter later in the code, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinkedSet&lt;E&gt; result = new LinkedSet&lt;&gt;(head);\n</code></pre>\n<p>While <code>currNode</code> is used to store reference to the current element and get's updated in the cycle.</p>\n"},{"comments":[{"owner":{"account_id":28693271,"reputation":1,"user_id":21972043,"display_name":"Tobias Chisi"},"score":0,"creation_date":1685363899,"post_id":76350446,"comment_id":134646001,"body_markdown":"Thank you I found this very helpful, but I still don&#39;t understand how the head node is linked too the rest of the curNodes","body":"Thank you I found this very helpful, but I still don&#39;t understand how the head node is linked too the rest of the curNodes"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1685389201,"post_id":76350446,"comment_id":134650227,"body_markdown":"OK, but that is a different question. In your code `curNode` initially references the same node as `head`, and so the upcoming assignment to `curNode.next` (in the first iteration of the loop) is setting the `next` property of the dummy node. And so it continues in the next iteration where the `next` property of that `head.next` node is set, ...etc. The invariant of the loop is that `curNode` is the tail of the merged list, and `head` is the predecessor of the actual head of that list.","body":"OK, but that is a different question. In your code <code>curNode</code> initially references the same node as <code>head</code>, and so the upcoming assignment to <code>curNode.next</code> (in the first iteration of the loop) is setting the <code>next</code> property of the dummy node. And so it continues in the next iteration where the <code>next</code> property of that <code>head.next</code> node is set, ...etc. The invariant of the loop is that <code>curNode</code> is the tail of the merged list, and <code>head</code> is the predecessor of the actual head of that list."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685259788,"creation_date":1685259788,"answer_id":76350446,"question_id":76348567,"body_markdown":"When adding a new node, you normally need to distinguish between the case where the list is empty (and the new node becomes the head) and the case where it is not empty (and the head remains what it was). By using a dummy node, you actually never have that empty-list case (since there is that one node), and so that distinction does not have to be made in the rest of the code. Only at the very end you throw away that dummy node and return the first node that follows it, which really is the head of the new list.\r\n\r\nTo compare, here is how the code would look if you would not use a dummy node (comments indicate where there are changes):\r\n\r\n```\r\n    Iterator&lt;E&gt; iteratorSet = set.iterator();\r\n    Iterator&lt;E&gt; thisIterator = this.iterator();\r\n    \r\n    SetNode&lt;E&gt; head = null; // No dummy node\r\n    SetNode&lt;E&gt; curNode; // No need to initialise\r\n\r\n    Optional&lt;E&gt; optionalSet = getOptional(iteratorSet);\r\n    Optional&lt;E&gt; optionalThis = getOptional(thisIterator);\r\n\r\n    while (optionalSet.isPresent() &amp;&amp; optionalThis.isPresent()) {\r\n        SetNode&lt;E&gt; nextNode;\r\n        int compare = optionalThis.get().compareTo(optionalSet.get());\r\n        if(compare == 0) {\r\n            nextNode = new SetNode&lt;&gt;(optionalThis.get());\r\n            if (head == null) {  // Now we need to deal with this scenario\r\n                head = nextNode; // This only happens once\r\n            } else {\r\n                curNode.next = nextNode;\r\n            }\r\n            curNode = nextNode;\r\n            optionalThis = getOptional(thisIterator);\r\n            optionalSet = getOptional(iteratorSet);\r\n        }\r\n        else if(compare &lt; 0)\r\n            optionalThis = getOptional(thisIterator);\r\n        else\r\n            optionalSet = getOptional(iteratorSet);\r\n    }\r\n    // After the loop, there&#39;s now no need to drop a first dummy node.\r\n    this.head = head;\r\n```\r\n\r\nIt is a matter of taste which version you would prefer to use. Each has its own advantages/disadvantages, including:\r\n\r\n* The dummy version needs the extra memory for the dummy node, but it is a constant amount, so some would consider this is not significant.\r\n\r\n* The dummy version has less logic in the loop: one less comparison to make. This is the main reason some would go for this, as the loop is potentially executed many times and any saving you can make there has a bigger impact.\r\n","title":"What is the purpose of initializing a dummy node in a ListSet intersect function?","body":"<p>When adding a new node, you normally need to distinguish between the case where the list is empty (and the new node becomes the head) and the case where it is not empty (and the head remains what it was). By using a dummy node, you actually never have that empty-list case (since there is that one node), and so that distinction does not have to be made in the rest of the code. Only at the very end you throw away that dummy node and return the first node that follows it, which really is the head of the new list.</p>\n<p>To compare, here is how the code would look if you would not use a dummy node (comments indicate where there are changes):</p>\n<pre><code>    Iterator&lt;E&gt; iteratorSet = set.iterator();\n    Iterator&lt;E&gt; thisIterator = this.iterator();\n    \n    SetNode&lt;E&gt; head = null; // No dummy node\n    SetNode&lt;E&gt; curNode; // No need to initialise\n\n    Optional&lt;E&gt; optionalSet = getOptional(iteratorSet);\n    Optional&lt;E&gt; optionalThis = getOptional(thisIterator);\n\n    while (optionalSet.isPresent() &amp;&amp; optionalThis.isPresent()) {\n        SetNode&lt;E&gt; nextNode;\n        int compare = optionalThis.get().compareTo(optionalSet.get());\n        if(compare == 0) {\n            nextNode = new SetNode&lt;&gt;(optionalThis.get());\n            if (head == null) {  // Now we need to deal with this scenario\n                head = nextNode; // This only happens once\n            } else {\n                curNode.next = nextNode;\n            }\n            curNode = nextNode;\n            optionalThis = getOptional(thisIterator);\n            optionalSet = getOptional(iteratorSet);\n        }\n        else if(compare &lt; 0)\n            optionalThis = getOptional(thisIterator);\n        else\n            optionalSet = getOptional(iteratorSet);\n    }\n    // After the loop, there's now no need to drop a first dummy node.\n    this.head = head;\n</code></pre>\n<p>It is a matter of taste which version you would prefer to use. Each has its own advantages/disadvantages, including:</p>\n<ul>\n<li><p>The dummy version needs the extra memory for the dummy node, but it is a constant amount, so some would consider this is not significant.</p>\n</li>\n<li><p>The dummy version has less logic in the loop: one less comparison to make. This is the main reason some would go for this, as the loop is potentially executed many times and any saving you can make there has a bigger impact.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":28693271,"reputation":1,"user_id":21972043,"display_name":"Tobias Chisi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685350521,"creation_date":1685214345,"question_id":76348567,"body_markdown":"```java\r\n@Override\r\npublic void intersect(Set&lt;E&gt; set) {\r\n\r\n    Iterator&lt;E&gt; iteratorSet = set.iterator();\r\n    Iterator&lt;E&gt; thisIterator = this.iterator();\r\n\r\n        \r\n    SetNode&lt;E&gt; head = new SetNode&lt;&gt;(null,null);\r\n    SetNode&lt;E&gt; curNode = head;\r\n\r\n    Optional&lt;E&gt; optionalSet = getOptional(iteratorSet);\r\n    Optional&lt;E&gt; optionalThis = getOptional(thisIterator);\r\n\r\n    while (optionalSet.isPresent() &amp;&amp; optionalThis.isPresent()) {\r\n        SetNode&lt;E&gt; nextNode;\r\n        int compare = optionalThis.get().compareTo(optionalSet.get());\r\n        if(compare == 0) {\r\n            nextNode = new SetNode&lt;&gt;(optionalThis.get());\r\n            curNode.next = nextNode;\r\n            curNode = nextNode;\r\n            optionalThis = getOptional(thisIterator);\r\n            optionalSet = getOptional(iteratorSet);\r\n        }\r\n        else if(compare &lt; 0)\r\n            optionalThis = getOptional(thisIterator);\r\n\r\n        else\r\n            optionalSet = getOptional(iteratorSet);\r\n\r\n    }\r\n    this.head = head.next;\r\n\r\n}\r\n```\r\n\r\n\r\nIn my university I was supposed to create a ListSet class that has a intersect function, that takes in the intersect of two set that are sorted. I don&#39;t understand why we need to do \r\n\r\n```\r\n    SetNode&lt;E&gt; head = new SetNode&lt;&gt;(null,null);\r\n    SetNode&lt;E&gt; curNode = head;\r\n```","title":"What is the purpose of initializing a dummy node in a ListSet intersect function?","body":"<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void intersect(Set&lt;E&gt; set) {\n\n    Iterator&lt;E&gt; iteratorSet = set.iterator();\n    Iterator&lt;E&gt; thisIterator = this.iterator();\n\n        \n    SetNode&lt;E&gt; head = new SetNode&lt;&gt;(null,null);\n    SetNode&lt;E&gt; curNode = head;\n\n    Optional&lt;E&gt; optionalSet = getOptional(iteratorSet);\n    Optional&lt;E&gt; optionalThis = getOptional(thisIterator);\n\n    while (optionalSet.isPresent() &amp;&amp; optionalThis.isPresent()) {\n        SetNode&lt;E&gt; nextNode;\n        int compare = optionalThis.get().compareTo(optionalSet.get());\n        if(compare == 0) {\n            nextNode = new SetNode&lt;&gt;(optionalThis.get());\n            curNode.next = nextNode;\n            curNode = nextNode;\n            optionalThis = getOptional(thisIterator);\n            optionalSet = getOptional(iteratorSet);\n        }\n        else if(compare &lt; 0)\n            optionalThis = getOptional(thisIterator);\n\n        else\n            optionalSet = getOptional(iteratorSet);\n\n    }\n    this.head = head.next;\n\n}\n</code></pre>\n<p>In my university I was supposed to create a ListSet class that has a intersect function, that takes in the intersect of two set that are sorted. I don't understand why we need to do</p>\n<pre><code>    SetNode&lt;E&gt; head = new SetNode&lt;&gt;(null,null);\n    SetNode&lt;E&gt; curNode = head;\n</code></pre>\n"},{"tags":["java","spring","maven","apache-kafka","symbol-not-found"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685244552,"post_id":76349698,"comment_id":134633775,"body_markdown":"is `Kafka` a class from a library? which library? what was the import you used? how you are adding the lib you mentioned in the `pom.xml`?","body":"is <code>Kafka</code> a class from a library? which library? what was the import you used? how you are adding the lib you mentioned in the <code>pom.xml</code>?"},{"owner":{"account_id":28694436,"reputation":1,"user_id":21972950,"display_name":"yue chen"},"score":0,"creation_date":1685246621,"post_id":76349698,"comment_id":134633901,"body_markdown":"&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;kafka_2.12&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;","body":"&lt;dependency&gt;     &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;     &lt;artifactId&gt;kafka_2.12&lt;/artifactId&gt;     &lt;version&gt;1.1.1&lt;/version&gt; &lt;/dependency&gt;"},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685247247,"post_id":76349698,"comment_id":134633927,"body_markdown":"are you trying to start a Kafka Server from your code? or you want to create an instance of a kafka client?","body":"are you trying to start a Kafka Server from your code? or you want to create an instance of a kafka client?"},{"owner":{"account_id":28694436,"reputation":1,"user_id":21972950,"display_name":"yue chen"},"score":0,"creation_date":1685248601,"post_id":76349698,"comment_id":134633998,"body_markdown":"I want to create a Kafka client instance.","body":"I want to create a Kafka client instance."},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685250033,"post_id":76349698,"comment_id":134634053,"body_markdown":"that&#39;s the problem. you are not importing the right dependency","body":"that&#39;s the problem. you are not importing the right dependency"},{"owner":{"account_id":28694436,"reputation":1,"user_id":21972950,"display_name":"yue chen"},"score":0,"creation_date":1685252199,"post_id":76349698,"comment_id":134634170,"body_markdown":"How to import the correct dependencies for Kafka?","body":"How to import the correct dependencies for Kafka?"}],"answers":[{"tags":[],"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685250014,"creation_date":1685250014,"answer_id":76349993,"question_id":76349698,"body_markdown":"There are many docs about how to use [kafka-client](https://mvnrepository.com/artifact/org.apache.kafka/kafka-clients). Not sure if you are following some tutorial. Here you have a couple of them\r\n\r\n- [Confluent - kafka client](https://docs.confluent.io/kafka-clients/java/current/overview.html#java-installation): this one will explain how to use it in just a java project without any framework\r\n\r\n- [Spring - kafka client](https://docs.spring.io/spring-kafka/docs/current/reference/html/#introduction): here you have a tutorial that shows how to use kafka client together with spring\r\n\r\n- [Baeldung - spring with kafka client](https://www.baeldung.com/spring-kafka): an article from **Baeldung**. Great blog with many tutorials for different things","title":"Symbol not found when creating a Kafka client instance using a custom constructor","body":"<p>There are many docs about how to use <a href=\"https://mvnrepository.com/artifact/org.apache.kafka/kafka-clients\" rel=\"nofollow noreferrer\">kafka-client</a>. Not sure if you are following some tutorial. Here you have a couple of them</p>\n<ul>\n<li><p><a href=\"https://docs.confluent.io/kafka-clients/java/current/overview.html#java-installation\" rel=\"nofollow noreferrer\">Confluent - kafka client</a>: this one will explain how to use it in just a java project without any framework</p>\n</li>\n<li><p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#introduction\" rel=\"nofollow noreferrer\">Spring - kafka client</a>: here you have a tutorial that shows how to use kafka client together with spring</p>\n</li>\n<li><p><a href=\"https://www.baeldung.com/spring-kafka\" rel=\"nofollow noreferrer\">Baeldung - spring with kafka client</a>: an article from <strong>Baeldung</strong>. Great blog with many tutorials for different things</p>\n</li>\n</ul>\n"}],"owner":{"account_id":28694436,"reputation":1,"user_id":21972950,"display_name":"yue chen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685350098,"creation_date":1685240053,"question_id":76349698,"body_markdown":"I&#39;m trying to create a Bean named &quot;Kafka&quot; with a custom constructor that takes `PropertiesFileUtils.KAFKA_HOST` and `PropertiesFileUtils.KAFKA_PORT` as parameters. However, during the compilation process, I encountered the following error:\r\n\r\n\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.6.1:compile (default-compile) on project businessServer: Compilation failure\r\n[ERROR] /C:/Users/cheny/Desktop/NewsRecommender-Main/backend/businessServer/src/main/java/com/tqz/business/utils/Configure.java:[25,44] cannot find symbol\r\n[ERROR]   symbol:   constructor Kafka(java.lang.String,java.lang.Integer)\r\n[ERROR]   location: class kafka.Kafka\r\n[ERROR] \r\n[ERROR] -&gt; [Help 1]\r\n\r\n```\r\nHere&#39;s the code snippet:\r\n\r\n```java\r\n@Bean(name = &quot;Kafka&quot;)\r\npublic Kafka getKafkaClient() {\r\n    return new Kafka(PropertiesFileUtils.KAFKA_HOST, PropertiesFileUtils.KAFKA_PORT);\r\n}\r\n```\r\n\r\nI have confirmed that the values of `PropertiesFileUtils.KAFKA_HOST` and `PropertiesFileUtils.KAFKA_PORT` are correct. I have checked the relevant dependencies and made sure that the correct Kafka class is imported into the project. However, I&#39;m still unable to resolve this issue.\r\n\r\nI&#39;m using the following environment and tools:\r\n\r\n- Java 8\r\n- Maven 3.5\r\n\r\npom.xml\r\n\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;!--  other dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kafka_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--  other dependencies --&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nI have tried the following solutions without success:\r\n\r\n- Ensuring that the Kafka dependencies are correctly added to the Maven project.\r\n- Cleaning and rebuilding the project.\r\n- Verifying that the types and order of constructor parameters match the definition of the Kafka class.\r\n\r\nI&#39;m looking for a solution to fix this error and successfully create the Kafka instance. Any help would be greatly appreciated!\r\n","title":"Symbol not found when creating a Kafka client instance using a custom constructor","body":"<p>I'm trying to create a Bean named &quot;Kafka&quot; with a custom constructor that takes <code>PropertiesFileUtils.KAFKA_HOST</code> and <code>PropertiesFileUtils.KAFKA_PORT</code> as parameters. However, during the compilation process, I encountered the following error:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.6.1:compile (default-compile) on project businessServer: Compilation failure\n[ERROR] /C:/Users/cheny/Desktop/NewsRecommender-Main/backend/businessServer/src/main/java/com/tqz/business/utils/Configure.java:[25,44] cannot find symbol\n[ERROR]   symbol:   constructor Kafka(java.lang.String,java.lang.Integer)\n[ERROR]   location: class kafka.Kafka\n[ERROR] \n[ERROR] -&gt; [Help 1]\n\n</code></pre>\n<p>Here's the code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = &quot;Kafka&quot;)\npublic Kafka getKafkaClient() {\n    return new Kafka(PropertiesFileUtils.KAFKA_HOST, PropertiesFileUtils.KAFKA_PORT);\n}\n</code></pre>\n<p>I have confirmed that the values of <code>PropertiesFileUtils.KAFKA_HOST</code> and <code>PropertiesFileUtils.KAFKA_PORT</code> are correct. I have checked the relevant dependencies and made sure that the correct Kafka class is imported into the project. However, I'm still unable to resolve this issue.</p>\n<p>I'm using the following environment and tools:</p>\n<ul>\n<li>Java 8</li>\n<li>Maven 3.5</li>\n</ul>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;!--  other dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka_2.12&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--  other dependencies --&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I have tried the following solutions without success:</p>\n<ul>\n<li>Ensuring that the Kafka dependencies are correctly added to the Maven project.</li>\n<li>Cleaning and rebuilding the project.</li>\n<li>Verifying that the types and order of constructor parameters match the definition of the Kafka class.</li>\n</ul>\n<p>I'm looking for a solution to fix this error and successfully create the Kafka instance. Any help would be greatly appreciated!</p>\n"},{"tags":["java","performance","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667801942,"post_id":74341464,"comment_id":131245327,"body_markdown":"I can quite easily get around 50K/second, single threaded, with messages about 1K long (serilized via Avro and with a fairly complicated process for creating them). Your code looks as though it sends 5000 messages every 15 seconds?","body":"I can quite easily get around 50K/second, single threaded, with messages about 1K long (serilized via Avro and with a fairly complicated process for creating them). Your code looks as though it sends 5000 messages every 15 seconds?"},{"owner":{"account_id":16941472,"reputation":11,"user_id":12253240,"display_name":"Kevin Nielsen"},"score":0,"creation_date":1667804039,"post_id":74341464,"comment_id":131245797,"body_markdown":"Yes originally 1 million but I temporarily lowered it for quicker profiling; 1 million took forever; is there anything special with your message acknowledgement, number of producer or consumers, logging settings etc that helped lower it ?","body":"Yes originally 1 million but I temporarily lowered it for quicker profiling; 1 million took forever; is there anything special with your message acknowledgement, number of producer or consumers, logging settings etc that helped lower it ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667804648,"post_id":74341464,"comment_id":131245947,"body_markdown":"You have a lot of overhead in your for loop. Move the `message` outside of the loop, and you also do a new String each time (which takes time as well). I would suggest try multiple threads using an Stream makes this quite easy `IntStream.rangeClosed(0, 100000).parallel().mapToObject(i -&gt; message + i).forEach(msg -&gt; kafkaTemplate.send(TOPIC, msg));`. Also doing both sending/receiving on the same machine will also limit the through put due to sharing resources (cpu, disc) and that will be noticable.","body":"You have a lot of overhead in your for loop. Move the <code>message</code> outside of the loop, and you also do a new String each time (which takes time as well). I would suggest try multiple threads using an Stream makes this quite easy <code>IntStream.rangeClosed(0, 100000).parallel().mapToObject(i -&gt; message + i).forEach(msg -&gt; kafkaTemplate.send(TOPIC, msg));</code>. Also doing both sending/receiving on the same machine will also limit the through put due to sharing resources (cpu, disc) and that will be noticable."},{"owner":{"account_id":16941472,"reputation":11,"user_id":12253240,"display_name":"Kevin Nielsen"},"score":0,"creation_date":1667863007,"post_id":74341464,"comment_id":131265025,"body_markdown":"so figured out the stream was not the issue at all since the operations are so fast however; this &quot;same machine will also limit the through put due to sharing resources (cpu, disc) and that will be noticable.&quot; lead me into the correct direction. I switched to my m2 mac and am getting 200k+ per second . I now want to understand if this is because of same pc or if this is due to mac vs windows hardware","body":"so figured out the stream was not the issue at all since the operations are so fast however; this &quot;same machine will also limit the through put due to sharing resources (cpu, disc) and that will be noticable.&quot; lead me into the correct direction. I switched to my m2 mac and am getting 200k+ per second . I now want to understand if this is because of same pc or if this is due to mac vs windows hardware"}],"answers":[{"comments":[{"owner":{"account_id":16941472,"reputation":11,"user_id":12253240,"display_name":"Kevin Nielsen"},"score":0,"creation_date":1667841696,"post_id":74344129,"comment_id":131258980,"body_markdown":"I followed your advice and tried to use the producer on another cpu  with the following config \n\n./kafka-producer-perf-test.sh \\\n  --topic test-topic \\\n  --num-records 1000000 \\\n  --record-size 10 \\\n  --throughput -1 \\\n  --producer-props acks=0 \\\n  bootstrap.servers=192.168.1.1:9097 \\\n  buffer.memory=67108864 \\\n  batch.size=500000 \\\n  linger.ms=1000\n\nIt is able to achieve 418k (10byte records) a second, the cpu is a m2 MAC, is there there further optimization to increase the throughput further?","body":"I followed your advice and tried to use the producer on another cpu  with the following config   ./kafka-producer-perf-test.sh \\   --topic test-topic \\   --num-records 1000000 \\   --record-size 10 \\   --throughput -1 \\   --producer-props acks=0 \\   bootstrap.servers=192.168.1.1:9097 \\   buffer.memory=67108864 \\   batch.size=500000 \\   linger.ms=1000  It is able to achieve 418k (10byte records) a second, the cpu is a m2 MAC, is there there further optimization to increase the throughput further?"}],"tags":[],"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685349611,"creation_date":1667811996,"answer_id":74344129,"question_id":74341464,"body_markdown":"Key properties during KafkaProducers throughput tuning are:\r\n\r\n**Producer configs:**\r\n- **[linger.ms][1]**\r\n- **[batch.size][2]**\r\n- **[compression.type][3]**\r\n- **[acks][4]** and **[enable.idempotence][5]**\r\n\r\n**Topic config:**\r\n- **[min.insync.replicas][6]**\r\n\r\nSo after studying the linked documentation you will see two groups of properties coupled:\r\n\r\n**1. Effective batching and compression on Kafka producer**   \r\n\r\nKafka producer has built in mechanism of batching and compression. The mechanism gets the best results when the producer groups and then compresses many messages into a single batch, so simply setting a high value for batch size and enabling compression sounds very good, and actually it is, but to see what the last piece of puzzle is we need to go through the internal Kafka producer implementation. Kafka producer spawns a separate thread responsible for getting batches from the internal queue and sends them to the Kafka broker, we can name this [Sender thread][6]. In the default configuration the Sender gets batches from the queue whenever it is possible - no matter how large the batch size is, so you can set the batch size to 1024MB and still messages will not be grouped and compressed as much as expected. In order to solve this issue, and group and compress many records into single a batch, Kafka comes with [linger.ms][1] property, the property tells Sender thread to wait a while until it sends a batch to the Kafka server. In your specific case, theoretically the most effective way is to send one million messages in a single batch, but of course it depends on the size of the messages.\r\n\r\n**2. High throughput, but possibly inconsistent replication and acknowledgments**\r\n\r\nKafka producer has 3 different policies stating how long the producer needs to wait until it considers the batch as sent to server correctly. The most consistent policy waits until the message is saved by the leader server and required by the topics configuration number of the replication servers ([min.in.sync.replicas][6]). As opposed to, the lowest one, which prefers availability over consistency (as [CAP][7] theorem said), it is not waiting until any confirmation comes from the server, it works in push mode, you can compare it to sending data via [UDP][8] protocol. So in your case you need to use the second one. In order to get this, you need to disable indempotence feature of the Kafka producer, by setting `enable.idempotence=false` and `ack=0` on the producer. The last part is to set `min.insync.replicas=1` during topic creation, this property is coupled with `acks` property on producer side, and tells producer how many copies of data cluster needs to persist before it sends acknowledgment to the producer, it looks like it is not crucial in your case, because your producer with set `acks=0` will not wait for any acknowledgments, but `min.insync.replicas=1` is also interpreted by the cluster during leader election process - the process will not start for a single topic, until there are no available Kafka servers in a number higher or equal to `min.insync.replicas`, so to see the whole picture I had to mention it. The last parameter connected with our education is topic property [unclean.leader.election.enabled][9], but it is more connected with availability than performance, but still imho it is good to know about that.\r\n\r\n**How to test Kafka Producer&#39;s performance?**\r\n\r\nIn order to check, how mentioned properties work together (both producer and topic properties), Kafka distribution comes with a neat script named [kafka-producer-perf-test][10]. This script will help you check if the configuration fits your needs. Below you can find [gists with very usefull commands][11] .\r\n\r\n\r\n  [1]: https://kafka.apache.org/documentation/#producerconfigs_linger.ms\r\n  [2]: https://kafka.apache.org/documentation/#producerconfigs_batch.size\r\n  [3]: https://kafka.apache.org/documentation/#brokerconfigs_compression.type\r\n  [4]: https://kafka.apache.org/documentation/#producerconfigs_acks\r\n  [5]: https://kafka.apache.org/documentation/#producerconfigs_enable.idempotence\r\n  [6]: https://kafka.apache.org/documentation/#brokerconfigs_min.insync.replicas\r\n  [7]: https://en.wikipedia.org/wiki/CAP_theorem\r\n  [8]: https://en.wikipedia.org/wiki/User_Datagram_Protocol\r\n  [9]: https://kafka.apache.org/documentation/#brokerconfigs_unclean.leader.election.enable\r\n  [10]: https://github.com/apache/kafka/blob/trunk/bin/kafka-producer-perf-test.sh\r\n  [11]: https://gist.github.com/ueokande/b96eadd798fff852551b80962862bfb3","title":"1 million kafka producer records a second?","body":"<p>Key properties during KafkaProducers throughput tuning are:</p>\n<p><strong>Producer configs:</strong></p>\n<ul>\n<li><strong><a href=\"https://kafka.apache.org/documentation/#producerconfigs_linger.ms\" rel=\"nofollow noreferrer\">linger.ms</a></strong></li>\n<li><strong><a href=\"https://kafka.apache.org/documentation/#producerconfigs_batch.size\" rel=\"nofollow noreferrer\">batch.size</a></strong></li>\n<li><strong><a href=\"https://kafka.apache.org/documentation/#brokerconfigs_compression.type\" rel=\"nofollow noreferrer\">compression.type</a></strong></li>\n<li><strong><a href=\"https://kafka.apache.org/documentation/#producerconfigs_acks\" rel=\"nofollow noreferrer\">acks</a></strong> and <strong><a href=\"https://kafka.apache.org/documentation/#producerconfigs_enable.idempotence\" rel=\"nofollow noreferrer\">enable.idempotence</a></strong></li>\n</ul>\n<p><strong>Topic config:</strong></p>\n<ul>\n<li><strong><a href=\"https://kafka.apache.org/documentation/#brokerconfigs_min.insync.replicas\" rel=\"nofollow noreferrer\">min.insync.replicas</a></strong></li>\n</ul>\n<p>So after studying the linked documentation you will see two groups of properties coupled:</p>\n<p><strong>1. Effective batching and compression on Kafka producer</strong></p>\n<p>Kafka producer has built in mechanism of batching and compression. The mechanism gets the best results when the producer groups and then compresses many messages into a single batch, so simply setting a high value for batch size and enabling compression sounds very good, and actually it is, but to see what the last piece of puzzle is we need to go through the internal Kafka producer implementation. Kafka producer spawns a separate thread responsible for getting batches from the internal queue and sends them to the Kafka broker, we can name this <a href=\"https://kafka.apache.org/documentation/#brokerconfigs_min.insync.replicas\" rel=\"nofollow noreferrer\">Sender thread</a>. In the default configuration the Sender gets batches from the queue whenever it is possible - no matter how large the batch size is, so you can set the batch size to 1024MB and still messages will not be grouped and compressed as much as expected. In order to solve this issue, and group and compress many records into single a batch, Kafka comes with <a href=\"https://kafka.apache.org/documentation/#producerconfigs_linger.ms\" rel=\"nofollow noreferrer\">linger.ms</a> property, the property tells Sender thread to wait a while until it sends a batch to the Kafka server. In your specific case, theoretically the most effective way is to send one million messages in a single batch, but of course it depends on the size of the messages.</p>\n<p><strong>2. High throughput, but possibly inconsistent replication and acknowledgments</strong></p>\n<p>Kafka producer has 3 different policies stating how long the producer needs to wait until it considers the batch as sent to server correctly. The most consistent policy waits until the message is saved by the leader server and required by the topics configuration number of the replication servers (<a href=\"https://kafka.apache.org/documentation/#brokerconfigs_min.insync.replicas\" rel=\"nofollow noreferrer\">min.in.sync.replicas</a>). As opposed to, the lowest one, which prefers availability over consistency (as <a href=\"https://en.wikipedia.org/wiki/CAP_theorem\" rel=\"nofollow noreferrer\">CAP</a> theorem said), it is not waiting until any confirmation comes from the server, it works in push mode, you can compare it to sending data via <a href=\"https://en.wikipedia.org/wiki/User_Datagram_Protocol\" rel=\"nofollow noreferrer\">UDP</a> protocol. So in your case you need to use the second one. In order to get this, you need to disable indempotence feature of the Kafka producer, by setting <code>enable.idempotence=false</code> and <code>ack=0</code> on the producer. The last part is to set <code>min.insync.replicas=1</code> during topic creation, this property is coupled with <code>acks</code> property on producer side, and tells producer how many copies of data cluster needs to persist before it sends acknowledgment to the producer, it looks like it is not crucial in your case, because your producer with set <code>acks=0</code> will not wait for any acknowledgments, but <code>min.insync.replicas=1</code> is also interpreted by the cluster during leader election process - the process will not start for a single topic, until there are no available Kafka servers in a number higher or equal to <code>min.insync.replicas</code>, so to see the whole picture I had to mention it. The last parameter connected with our education is topic property <a href=\"https://kafka.apache.org/documentation/#brokerconfigs_unclean.leader.election.enable\" rel=\"nofollow noreferrer\">unclean.leader.election.enabled</a>, but it is more connected with availability than performance, but still imho it is good to know about that.</p>\n<p><strong>How to test Kafka Producer's performance?</strong></p>\n<p>In order to check, how mentioned properties work together (both producer and topic properties), Kafka distribution comes with a neat script named <a href=\"https://github.com/apache/kafka/blob/trunk/bin/kafka-producer-perf-test.sh\" rel=\"nofollow noreferrer\">kafka-producer-perf-test</a>. This script will help you check if the configuration fits your needs. Below you can find <a href=\"https://gist.github.com/ueokande/b96eadd798fff852551b80962862bfb3\" rel=\"nofollow noreferrer\">gists with very usefull commands</a> .</p>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667902489,"creation_date":1667902489,"answer_id":74359023,"question_id":74341464,"body_markdown":"Spring Boot configures the producer acknowledgements by default to &#39;all&#39;.\r\n\r\nSee https://docs.confluent.io/platform/current/installation/configuration/producer-configs.html#producerconfigs_acks\r\n\r\n&gt; - For the highest throughput set the value to 0.\r\n&gt; - For no data loss, set the ack-value to all (or -1). \r\n&gt; - For high, but not maximum durability and for high but not maximum throughput - set the ack-value to 1. Ack-value 1 can be seen as an intermediate between both of the above.\r\n\r\nI think this can be the major bottleneck for your kind of tests.\r\n\r\nYou can override it via a Spring property (or in YAML):\r\n\r\n    spring.kafka.producer.acks=0\r\n\r\nOTOH, this could result in 1M records sent, but 99% of the messages get lost, so it depends what you want to achieve :-)","title":"1 million kafka producer records a second?","body":"<p>Spring Boot configures the producer acknowledgements by default to 'all'.</p>\n<p>See <a href=\"https://docs.confluent.io/platform/current/installation/configuration/producer-configs.html#producerconfigs_acks\" rel=\"nofollow noreferrer\">https://docs.confluent.io/platform/current/installation/configuration/producer-configs.html#producerconfigs_acks</a></p>\n<blockquote>\n<ul>\n<li>For the highest throughput set the value to 0.</li>\n<li>For no data loss, set the ack-value to all (or -1).</li>\n<li>For high, but not maximum durability and for high but not maximum throughput - set the ack-value to 1. Ack-value 1 can be seen as an intermediate between both of the above.</li>\n</ul>\n</blockquote>\n<p>I think this can be the major bottleneck for your kind of tests.</p>\n<p>You can override it via a Spring property (or in YAML):</p>\n<pre><code>spring.kafka.producer.acks=0\n</code></pre>\n<p>OTOH, this could result in 1M records sent, but 99% of the messages get lost, so it depends what you want to achieve :-)</p>\n"}],"owner":{"account_id":16941472,"reputation":11,"user_id":12253240,"display_name":"Kevin Nielsen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2452,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685349611,"creation_date":1667789154,"question_id":74341464,"body_markdown":"Is it possible to produce a million records a second via kafka? How many servers should it take? Currently i am sending 7000 messages a second from a kafka producer and struggling to exceed this\r\n\r\nI&#39;ve noticed several sources say kafka can send millions of messages a second\r\n\r\nI&#39;ve created a job that uses @Autowired kafkaTemplate and makes a while loop that sends a short text string &quot;asdf&quot; I&#39;ve set up linger to 1000ms and seeing messages group in sets of 7000. The producer , consumer broker, zookeeper are on the same machine and the broker and zookeeper and a very simple docker image with default configuration \r\n\r\n\r\nI am maxing out around 7000 requests a second \r\n\r\napplication.props    \r\n```\r\nspring.kafka.bootstrap-servers=PLAINTEXT://localhost:9092,PLAINTEXT://localhost:9093\r\nhost.name=localhost\r\n```\r\n\r\nJob to make calls    \r\n```\r\n@Async\r\n@Scheduled(fixedDelay = 15000)\r\npublic void scheduleTaskUsingCronExpression() {\r\n   generateCalls();\r\n}\r\n\r\nprivate void generateCalls() {\r\n    try{\r\n\r\n        int i = 0;\r\n        System.out.println(&quot;start&quot;);\r\n        long startTime = System.currentTimeMillis();\r\n        while(i &lt;= 1000000){\r\n            \r\n            String message = &quot;Test Message sadg sad-&quot;;\r\n            kafkaTemplate.send(TOPIC, message + i);\r\n            i++;\r\n        }\r\n        long endTime = System.currentTimeMillis();\r\n        System.out.println((endTime - startTime));\r\n        System.out.println(&quot;done&quot;);\r\n    }\r\n    catch(Exception e){\r\n        e.printStackTrace();\r\n    }\r\n    System.out.println(&quot;RUNNING&quot;);\r\n}\r\n```\r\n\r\nKakfa partition config    \r\n```\r\n@Bean\r\npublic KafkaAdmin kafkaAdmin() {\r\n    //String bootstrapAddress = &quot;localhost:29092&quot;;\r\n    String bootstrapAddress = &quot;localhost:9092&quot;;\r\n\r\n    Map&lt;String, Object&gt; configs = new HashMap&lt;&gt;();\r\n    configs.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n    return new KafkaAdmin(configs);\r\n}\r\n\r\n@Bean\r\npublic NewTopic testTopic() {\r\n    return new NewTopic(&quot;test-topic&quot;, 6, (short) 1);\r\n}\r\n```\r\n\r\nKafka consumer consuming messge \r\n\r\n```\r\n@KafkaListener(topics = &quot;test-topic&quot;, groupId = &quot;one&quot;, concurrency = &quot;6&quot; )\r\npublic void listenGroupFoo(String message) {\r\n    if(message.indexOf(&quot;-0&quot;) != -1){\r\n        startTime = new Date().getTime();\r\n        System.out.println(&quot;Starting Message in group foo: &quot; + message);\r\n    }\r\n    else if(message.indexOf(&quot;-100000&quot;) != -1){\r\n        endTime = new Date().getTime();\r\n        System.out.println(&quot;Received Message in group foo: &quot; + message);\r\n        System.out.println(endTime - startTime);\r\n    }\r\n}\r\n```\r\n\r\nFor hardware I have a 10900k with 64gb ram \r\n5ghz clock speed\r\n970 Evo single nvme disk\r\n10 core 20 thread\r\n\r\nAll requests are from the same machine to the same machine \r\n\r\nIs there a better way to organize / optimize the code to make a massive number of requests?\r\nTheories:\r\n1. Multiple Threads?\r\n2. Changing configurations of servers such as tomcat configs (receiving or sending side)? \r\n3. Not use the kafkaTemplate that is autowired or creating multiple?\r\n4. Modify Hardware to have multiple disks? \r\n6. Not use a job for the producer?\r\n7. Anything else anyone can think of to help?\r\n","title":"1 million kafka producer records a second?","body":"<p>Is it possible to produce a million records a second via kafka? How many servers should it take? Currently i am sending 7000 messages a second from a kafka producer and struggling to exceed this</p>\n<p>I've noticed several sources say kafka can send millions of messages a second</p>\n<p>I've created a job that uses @Autowired kafkaTemplate and makes a while loop that sends a short text string &quot;asdf&quot; I've set up linger to 1000ms and seeing messages group in sets of 7000. The producer , consumer broker, zookeeper are on the same machine and the broker and zookeeper and a very simple docker image with default configuration</p>\n<p>I am maxing out around 7000 requests a second</p>\n<p>application.props</p>\n<pre><code>spring.kafka.bootstrap-servers=PLAINTEXT://localhost:9092,PLAINTEXT://localhost:9093\nhost.name=localhost\n</code></pre>\n<p>Job to make calls</p>\n<pre><code>@Async\n@Scheduled(fixedDelay = 15000)\npublic void scheduleTaskUsingCronExpression() {\n   generateCalls();\n}\n\nprivate void generateCalls() {\n    try{\n\n        int i = 0;\n        System.out.println(&quot;start&quot;);\n        long startTime = System.currentTimeMillis();\n        while(i &lt;= 1000000){\n            \n            String message = &quot;Test Message sadg sad-&quot;;\n            kafkaTemplate.send(TOPIC, message + i);\n            i++;\n        }\n        long endTime = System.currentTimeMillis();\n        System.out.println((endTime - startTime));\n        System.out.println(&quot;done&quot;);\n    }\n    catch(Exception e){\n        e.printStackTrace();\n    }\n    System.out.println(&quot;RUNNING&quot;);\n}\n</code></pre>\n<p>Kakfa partition config</p>\n<pre><code>@Bean\npublic KafkaAdmin kafkaAdmin() {\n    //String bootstrapAddress = &quot;localhost:29092&quot;;\n    String bootstrapAddress = &quot;localhost:9092&quot;;\n\n    Map&lt;String, Object&gt; configs = new HashMap&lt;&gt;();\n    configs.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    return new KafkaAdmin(configs);\n}\n\n@Bean\npublic NewTopic testTopic() {\n    return new NewTopic(&quot;test-topic&quot;, 6, (short) 1);\n}\n</code></pre>\n<p>Kafka consumer consuming messge</p>\n<pre><code>@KafkaListener(topics = &quot;test-topic&quot;, groupId = &quot;one&quot;, concurrency = &quot;6&quot; )\npublic void listenGroupFoo(String message) {\n    if(message.indexOf(&quot;-0&quot;) != -1){\n        startTime = new Date().getTime();\n        System.out.println(&quot;Starting Message in group foo: &quot; + message);\n    }\n    else if(message.indexOf(&quot;-100000&quot;) != -1){\n        endTime = new Date().getTime();\n        System.out.println(&quot;Received Message in group foo: &quot; + message);\n        System.out.println(endTime - startTime);\n    }\n}\n</code></pre>\n<p>For hardware I have a 10900k with 64gb ram\n5ghz clock speed\n970 Evo single nvme disk\n10 core 20 thread</p>\n<p>All requests are from the same machine to the same machine</p>\n<p>Is there a better way to organize / optimize the code to make a massive number of requests?\nTheories:</p>\n<ol>\n<li>Multiple Threads?</li>\n<li>Changing configurations of servers such as tomcat configs (receiving or sending side)?</li>\n<li>Not use the kafkaTemplate that is autowired or creating multiple?</li>\n<li>Modify Hardware to have multiple disks?</li>\n<li>Not use a job for the producer?</li>\n<li>Anything else anyone can think of to help?</li>\n</ol>\n"},{"tags":["java","arraylist","nullpointerexception"],"comments":[{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":1,"creation_date":1685345841,"post_id":76355438,"comment_id":134643236,"body_markdown":"Show the code that produced the exception.","body":"Show the code that produced the exception."},{"owner":{"account_id":7774964,"reputation":91,"user_id":5883358,"display_name":"Andreea Frincu"},"score":0,"creation_date":1685350051,"post_id":76355438,"comment_id":134643810,"body_markdown":"You need to share the entire stacktrace in order to see what is the problem.","body":"You need to share the entire stacktrace in order to see what is the problem."}],"answers":[{"tags":[],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685349185,"creation_date":1685349185,"answer_id":76355793,"question_id":76355438,"body_markdown":"Because in the last step i+1 goes out of bound, I think.","title":"Exception in thread main java.lang.NullPointerException at Runner.takeInput(Runner.java:24) at Runner.main(Runner.java:55)","body":"<p>Because in the last step i+1 goes out of bound, I think.</p>\n"}],"owner":{"account_id":27132207,"reputation":7,"user_id":20674260,"display_name":"UTKARSH JOSHI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1685355575,"answer_count":1,"score":0,"last_activity_date":1685349185,"creation_date":1685345572,"question_id":76355438,"body_markdown":"**There was this problem named &quot;Duplicate in the array&quot; where we need to find a number which is occurring two times in an array where number of elements are N and all elements between 1 and N-1 are present in the array. There always be an element which is occur twice.**\r\n\r\n\r\n**I used a simple approach by sorting the given array and then comparing each element with its next element, if they matches then return the element, else increment the pointer.\r\n\r\nwrote this code in java**\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.*;\r\n\r\npublic class Solution {\r\n\r\n\tpublic static int findDuplicate(ArrayList&lt;Integer&gt; arr) {\r\n\r\n\t\t//    Write your code here.\r\n\t\tCollections.sort(arr);\r\n\t\tint i=0;\r\n\r\n\t\t\tfor(i=0;i&lt;arr.size()-1;i++){\r\n\r\n              if((arr.get(i))== (arr.get(i+1)))\r\n\t\t\t  return arr.get(i);\r\n          \r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t\r\n\r\n\t}\r\n}\r\n```\r\n\r\n\r\nThe error or Exception i am getting is this:\r\n\r\n```\r\nException in thread  main  java.lang.NullPointerException\r\n\tat Runner.takeInput(Runner.java:24)\r\n\tat Runner.main(Runner.java:55)\r\n```","title":"Exception in thread main java.lang.NullPointerException at Runner.takeInput(Runner.java:24) at Runner.main(Runner.java:55)","body":"<p><strong>There was this problem named &quot;Duplicate in the array&quot; where we need to find a number which is occurring two times in an array where number of elements are N and all elements between 1 and N-1 are present in the array. There always be an element which is occur twice.</strong></p>\n<p>**I used a simple approach by sorting the given array and then comparing each element with its next element, if they matches then return the element, else increment the pointer.</p>\n<p>wrote this code in java**</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.*;\n\npublic class Solution {\n\n    public static int findDuplicate(ArrayList&lt;Integer&gt; arr) {\n\n        //    Write your code here.\n        Collections.sort(arr);\n        int i=0;\n\n            for(i=0;i&lt;arr.size()-1;i++){\n\n              if((arr.get(i))== (arr.get(i+1)))\n              return arr.get(i);\n          \n            }\n            return 0;\n        \n\n    }\n}\n</code></pre>\n<p>The error or Exception i am getting is this:</p>\n<pre><code>Exception in thread  main  java.lang.NullPointerException\n    at Runner.takeInput(Runner.java:24)\n    at Runner.main(Runner.java:55)\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","bearer-token","java-17"],"comments":[{"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"score":0,"creation_date":1685353210,"post_id":76355707,"comment_id":134644272,"body_markdown":"It&#39;s not clear what is an exactly a problem. Does you service return anything or it throw error? Are you sure that your job was executed at all?","body":"It&#39;s not clear what is an exactly a problem. Does you service return anything or it throw error? Are you sure that your job was executed at all?"},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1685358681,"post_id":76355707,"comment_id":134645105,"body_markdown":"It executed a 500 Internel server error. Upon debugging,  it says that the getAccessToken is null, meaning it couldn&#39;t get the token from the login api of the other microservice (Auth Service) i&#39;m connecting to. However if I test the same username and pass via the api (of the Auth service it allows me to get in the service including the other one called RAVA, which means that there is no issues on the credentials part). Now, I am so lost. &#128542;","body":"It executed a 500 Internel server error. Upon debugging,  it says that the getAccessToken is null, meaning it couldn&#39;t get the token from the login api of the other microservice (Auth Service) i&#39;m connecting to. However if I test the same username and pass via the api (of the Auth service it allows me to get in the service including the other one called RAVA, which means that there is no issues on the credentials part). Now, I am so lost. 😞"},{"owner":{"account_id":10662643,"reputation":689,"user_id":7899567,"display_name":"Anton Tokmakov"},"score":0,"creation_date":1685360877,"post_id":76355707,"comment_id":134645471,"body_markdown":"You need to check logs of your Auth Service, to check does request reach service and what did cause issue to produce 500 error?","body":"You need to check logs of your Auth Service, to check does request reach service and what did cause issue to produce 500 error?"},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1685363379,"post_id":76355707,"comment_id":134645905,"body_markdown":"I haven&#39;t tried checking the logs on my auth service as I was so occupied checking/debugging my service. This is such a great advise to point out. I will check on this tomorrow and will give you an update. Thank you so much kind soul!","body":"I haven&#39;t tried checking the logs on my auth service as I was so occupied checking/debugging my service. This is such a great advise to point out. I will check on this tomorrow and will give you an update. Thank you so much kind soul!"},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1685439711,"post_id":76355707,"comment_id":134656475,"body_markdown":"Hi This is resolved. In the issue above I failed to call the generateAuthToken() method under my getAccesToken() method the reason why it results to null. Thanks.","body":"Hi This is resolved. In the issue above I failed to call the generateAuthToken() method under my getAccesToken() method the reason why it results to null. Thanks."}],"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685348298,"creation_date":1685348298,"question_id":76355707,"body_markdown":"I would like to hear your insights regarding my dilemma that made me stuck for days.\r\n\r\nHere&#39;s the issue:\r\n\r\nI have an adapter class called &quot;RiderAvailClientAdapter&quot; which implements my connection to another microservice called RAVA.\r\n\r\nThe problem is I can&#39;t connect to the said service since it has a security token.\r\n\r\nNow I created an implementation that would solve the issue.\r\nSolution is that I implemented a generateAuthToken method in my &quot;AuthClientAdapter&quot; that will handle the generation of token coming from another microservice called AUTH (Which the service that handles all of the security)\r\n\r\nIssue:\r\nIt can&#39;t generate the said token from my client api but my username and password as request body are being read within the app. I tested the same username and password in postman for the api I wanted to connect to and it worked. In short, it works in POSTMAN but NOT within my app.\r\n\r\nFF are the codes\r\n\r\n    @Component\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class RiderAvailClientAdapter implements RiderAvailabilityRESTClientPort {\r\n                \r\n     private final RiderAvailClientProxy riderAvailClientProxy;\r\n                \r\n     private final AuthClientAdapter authClientAdapter;\r\n                \r\n     @Override\r\n     public RiderAvailabilityStatusDto getRiderStatus(String riderNumber) {\r\n     String accessToken = authClientAdapter.getAccessToken();\r\n     return riderAvailClientProxy.getRiderStatus(riderNumber, &quot;Bearer &quot; + accessToken);\r\n      }\r\n    }\r\n\r\n\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    @Slf4j\r\n    public class AuthClientAdapter implements AuthClientPort {\r\n    \r\n       private final AuthClientProxy authClientProxy;\r\n    \r\n       private final AuthServiceConfiguration authServiceConfiguration;\r\n    \r\n       private String accessToken;\r\n    \r\n    \r\n        /**\r\n         * 240000 = 4 min: will generate new token after each 4min.\r\n         */\r\n        @Scheduled(fixedRate = 240000)\r\n        public void generateAuthToken() {\r\n            log.info(&quot;Generating access token...&quot;);\r\n            LoginRequestDto loginRequest = new LoginRequestDto();\r\n            loginRequest.setUsername(authServiceConfiguration.getUsername());\r\n            loginRequest.setPassword(authServiceConfiguration.getPassword());\r\n            try {\r\n                LoginResponseDto loginResponseDTO = authClientProxy.login(loginRequest);\r\n                accessToken = loginResponseDTO.getAccessToken();\r\n                log.info(&quot;access token generated successfully...&quot;);\r\n            } catch (InvalidRequestException e) {\r\n                log.error(&quot;Error while generating access token : &quot;, e);\r\n            }\r\n        }\r\n    \r\n        public String getAccessToken() {\r\n            return accessToken;\r\n        }\r\n    }\r\n\r\n","title":"Generate Access Token from Another Microservice","body":"<p>I would like to hear your insights regarding my dilemma that made me stuck for days.</p>\n<p>Here's the issue:</p>\n<p>I have an adapter class called &quot;RiderAvailClientAdapter&quot; which implements my connection to another microservice called RAVA.</p>\n<p>The problem is I can't connect to the said service since it has a security token.</p>\n<p>Now I created an implementation that would solve the issue.\nSolution is that I implemented a generateAuthToken method in my &quot;AuthClientAdapter&quot; that will handle the generation of token coming from another microservice called AUTH (Which the service that handles all of the security)</p>\n<p>Issue:\nIt can't generate the said token from my client api but my username and password as request body are being read within the app. I tested the same username and password in postman for the api I wanted to connect to and it worked. In short, it works in POSTMAN but NOT within my app.</p>\n<p>FF are the codes</p>\n<pre><code>@Component\n@Slf4j\n@RequiredArgsConstructor\npublic class RiderAvailClientAdapter implements RiderAvailabilityRESTClientPort {\n            \n private final RiderAvailClientProxy riderAvailClientProxy;\n            \n private final AuthClientAdapter authClientAdapter;\n            \n @Override\n public RiderAvailabilityStatusDto getRiderStatus(String riderNumber) {\n String accessToken = authClientAdapter.getAccessToken();\n return riderAvailClientProxy.getRiderStatus(riderNumber, &quot;Bearer &quot; + accessToken);\n  }\n}\n\n\n\n@Component\n@RequiredArgsConstructor\n@Slf4j\npublic class AuthClientAdapter implements AuthClientPort {\n\n   private final AuthClientProxy authClientProxy;\n\n   private final AuthServiceConfiguration authServiceConfiguration;\n\n   private String accessToken;\n\n\n    /**\n     * 240000 = 4 min: will generate new token after each 4min.\n     */\n    @Scheduled(fixedRate = 240000)\n    public void generateAuthToken() {\n        log.info(&quot;Generating access token...&quot;);\n        LoginRequestDto loginRequest = new LoginRequestDto();\n        loginRequest.setUsername(authServiceConfiguration.getUsername());\n        loginRequest.setPassword(authServiceConfiguration.getPassword());\n        try {\n            LoginResponseDto loginResponseDTO = authClientProxy.login(loginRequest);\n            accessToken = loginResponseDTO.getAccessToken();\n            log.info(&quot;access token generated successfully...&quot;);\n        } catch (InvalidRequestException e) {\n            log.error(&quot;Error while generating access token : &quot;, e);\n        }\n    }\n\n    public String getAccessToken() {\n        return accessToken;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","ios","react-native","objective-c++"],"answers":[{"tags":[],"owner":{"account_id":11802070,"reputation":666,"user_id":8635522,"display_name":"K Kafara"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1658144602,"creation_date":1658133511,"answer_id":73019490,"question_id":72981626,"body_markdown":"# iOS\r\n\r\nAssuming native spec you posted is correct (I&#39;m not really familiar with TypeScript + Codegen duo) when you run `pod install` command in your `ios/` directory codegen should generate `EventEmitters` cpp file (+ header) in `React-Codegen` pod (you can see below how to find it in XCode)\r\n\r\n[link to the screenshot with Pods structure][1]\r\n\r\nYou can then use these classes in your `Objective-C++` code to emit the events:\r\n\r\n```objective-c++\r\nif (_eventEmitter != nullptr) {\r\n    std::dynamic_pointer_cast&lt;const facebook::react::$$NAME OF YOUR EVENT EMITTER TYPE$$&gt;(_eventEmitter)\r\n        -&gt;onEvent(facebook::react::$$NAME OF YOUR EVENT EMITTER TYPE::OnEvent{.value = $$VALUE$$});\r\n}\r\n```\r\n\r\nSee links below to see how it is done in [`react-native-screens`](https://github.com/software-mansion/react-native-screens)\r\n\r\n1. [Native component spec in `Flow`](https://github.com/software-mansion/react-native-screens/blob/main/src/fabric/ScreenNativeComponent.js)\r\n2. [Event emission in Obj-C++ code](https://github.com/software-mansion/react-native-screens/blob/cc5de7ba28e90ecce9bbb3464ef0a625eaae032f/ios/RNSScreen.mm#L316-L334)\r\n3. [Event exposure in screen manager](https://github.com/software-mansion/react-native-screens/blob/cc5de7ba28e90ecce9bbb3464ef0a625eaae032f/ios/RNSScreen.mm#L1175) - I&#39;m not quite sure if this line is necessary, haven&#39;t tested it out yet.\r\n\r\n# Android\r\n\r\n1. To trigger codegen just run native build. \r\n2. Define native event class as [done here](https://github.com/software-mansion/react-native-screens/blob/main/android/src/main/java/com/swmansion/rnscreens/events/ScreenAppearEvent.kt)\r\n3. Take a look here for [how to dispatch event](https://github.com/software-mansion/react-native-screens/blob/ce84df60227a02e1e505e1a494ea1ca829788d58/android/src/main/java/com/swmansion/rnscreens/ScreenFragment.kt#L198-L215)\r\n4. [Export your event types](https://github.com/software-mansion/react-native-screens/blob/ce84df60227a02e1e505e1a494ea1ca829788d58/android/src/main/java/com/swmansion/rnscreens/ScreenViewManager.kt#L164-L181)\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x52mg.png","title":"How to do event handling for android and iOS in react native&#39;s new architecture for fabric components?","body":"<h1>iOS</h1>\n<p>Assuming native spec you posted is correct (I'm not really familiar with TypeScript + Codegen duo) when you run <code>pod install</code> command in your <code>ios/</code> directory codegen should generate <code>EventEmitters</code> cpp file (+ header) in <code>React-Codegen</code> pod (you can see below how to find it in XCode)</p>\n<p><a href=\"https://i.stack.imgur.com/x52mg.png\" rel=\"nofollow noreferrer\">link to the screenshot with Pods structure</a></p>\n<p>You can then use these classes in your <code>Objective-C++</code> code to emit the events:</p>\n<pre class=\"lang-c prettyprint-override\"><code>if (_eventEmitter != nullptr) {\n    std::dynamic_pointer_cast&lt;const facebook::react::$$NAME OF YOUR EVENT EMITTER TYPE$$&gt;(_eventEmitter)\n        -&gt;onEvent(facebook::react::$$NAME OF YOUR EVENT EMITTER TYPE::OnEvent{.value = $$VALUE$$});\n}\n</code></pre>\n<p>See links below to see how it is done in <a href=\"https://github.com/software-mansion/react-native-screens\" rel=\"nofollow noreferrer\"><code>react-native-screens</code></a></p>\n<ol>\n<li><a href=\"https://github.com/software-mansion/react-native-screens/blob/main/src/fabric/ScreenNativeComponent.js\" rel=\"nofollow noreferrer\">Native component spec in <code>Flow</code></a></li>\n<li><a href=\"https://github.com/software-mansion/react-native-screens/blob/cc5de7ba28e90ecce9bbb3464ef0a625eaae032f/ios/RNSScreen.mm#L316-L334\" rel=\"nofollow noreferrer\">Event emission in Obj-C++ code</a></li>\n<li><a href=\"https://github.com/software-mansion/react-native-screens/blob/cc5de7ba28e90ecce9bbb3464ef0a625eaae032f/ios/RNSScreen.mm#L1175\" rel=\"nofollow noreferrer\">Event exposure in screen manager</a> - I'm not quite sure if this line is necessary, haven't tested it out yet.</li>\n</ol>\n<h1>Android</h1>\n<ol>\n<li>To trigger codegen just run native build.</li>\n<li>Define native event class as <a href=\"https://github.com/software-mansion/react-native-screens/blob/main/android/src/main/java/com/swmansion/rnscreens/events/ScreenAppearEvent.kt\" rel=\"nofollow noreferrer\">done here</a></li>\n<li>Take a look here for <a href=\"https://github.com/software-mansion/react-native-screens/blob/ce84df60227a02e1e505e1a494ea1ca829788d58/android/src/main/java/com/swmansion/rnscreens/ScreenFragment.kt#L198-L215\" rel=\"nofollow noreferrer\">how to dispatch event</a></li>\n<li><a href=\"https://github.com/software-mansion/react-native-screens/blob/ce84df60227a02e1e505e1a494ea1ca829788d58/android/src/main/java/com/swmansion/rnscreens/ScreenViewManager.kt#L164-L181\" rel=\"nofollow noreferrer\">Export your event types</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5291588,"reputation":669,"user_id":4224000,"display_name":"Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685347752,"creation_date":1685347752,"answer_id":76355655,"question_id":72981626,"body_markdown":"Indeed the documentation is so terse right now, not even sure if I&#39;m using the new architecture or not, but its working.\r\n\r\nHere are the steps for Android in Java flavour.\r\n\r\nStep 1 - Define the Specs\r\n\r\n    type CustomEvent = Readonly&lt;{\r\n      status: string;\r\n    }&gt;;\r\n    \r\n    export interface NativeProps extends ViewProps {\r\n      onStatusChange?: DirectEventHandler&lt;CustomEvent&gt;;\r\n    }\r\n\r\nStep 2 - Define Event Class\r\n\r\n    public class CustomEvent extends Event&lt;CustomEvent&gt; {\r\n    \r\n        public static final String EVENT_NAME = &quot;topCustomEvent&quot;;\r\n        private String status;\r\n    \r\n        CustomEvent(int viewId, String _status) {\r\n            super(viewId);\r\n            this.status = _status;\r\n        }\r\n    \r\n        @Override\r\n        public String getEventName() {\r\n            return EVENT_NAME;\r\n        }\r\n    \r\n        @Override\r\n        public void dispatch(RCTEventEmitter rctEventEmitter) {\r\n            super.dispatch(rctEventEmitter);\r\n        }\r\n    \r\n        @Override\r\n        protected WritableMap getEventData() {\r\n            WritableMap event = Arguments.createMap();\r\n            event.putString(&quot;status&quot;, this.status);\r\n            return event;\r\n        }\r\n    }\r\n\r\nStep 3 - Export/Register Event Type in ViewManager class by overriding its  **getExportedCustomDirectEventTypeConstants** method.\r\n\r\n    @Override\r\n    public @Nullable\r\n    Map getExportedCustomDirectEventTypeConstants() {\r\n      Map&lt;String, Object&gt; export = super.getExportedCustomDirectEventTypeConstants();\r\n      if (export == null) {\r\n        export = MapBuilder.newHashMap();\r\n      }\r\n      export.put(CustomEvent.EVENT_NAME, MapBuilder.of(&quot;registrationName&quot;, &quot;onStatusChange&quot;));\r\n      return export;\r\n    }\r\n\r\nStep 4- Create dispatchEvent method, call it wherever need to pass event to JS.\r\n\r\n    private void dispatchEvent(String status) {\r\n        EventDispatcher mEventDispatcher = UIManagerHelper.getEventDispatcherForReactTag((ReactContext)this.ctx, getId());\r\n        mEventDispatcher.dispatchEvent(new CustomEvent(getId(), status));\r\n    }\r\n\r\nStep 5 - Setup callback in JS where events are to be processed.\r\n\r\n    onStatusChange={(event) =&gt; {console.log(&#39;ontatusChange: &#39;+event.nativeEvent.status);}}\r\n\r\nStep 6 - Build App, codgen should occur as explained [here][1].\r\n\r\n\r\n  [1]: https://reactnative.dev/docs/the-new-architecture/pillars-codegen\r\n","title":"How to do event handling for android and iOS in react native&#39;s new architecture for fabric components?","body":"<p>Indeed the documentation is so terse right now, not even sure if I'm using the new architecture or not, but its working.</p>\n<p>Here are the steps for Android in Java flavour.</p>\n<p>Step 1 - Define the Specs</p>\n<pre><code>type CustomEvent = Readonly&lt;{\n  status: string;\n}&gt;;\n\nexport interface NativeProps extends ViewProps {\n  onStatusChange?: DirectEventHandler&lt;CustomEvent&gt;;\n}\n</code></pre>\n<p>Step 2 - Define Event Class</p>\n<pre><code>public class CustomEvent extends Event&lt;CustomEvent&gt; {\n\n    public static final String EVENT_NAME = &quot;topCustomEvent&quot;;\n    private String status;\n\n    CustomEvent(int viewId, String _status) {\n        super(viewId);\n        this.status = _status;\n    }\n\n    @Override\n    public String getEventName() {\n        return EVENT_NAME;\n    }\n\n    @Override\n    public void dispatch(RCTEventEmitter rctEventEmitter) {\n        super.dispatch(rctEventEmitter);\n    }\n\n    @Override\n    protected WritableMap getEventData() {\n        WritableMap event = Arguments.createMap();\n        event.putString(&quot;status&quot;, this.status);\n        return event;\n    }\n}\n</code></pre>\n<p>Step 3 - Export/Register Event Type in ViewManager class by overriding its  <strong>getExportedCustomDirectEventTypeConstants</strong> method.</p>\n<pre><code>@Override\npublic @Nullable\nMap getExportedCustomDirectEventTypeConstants() {\n  Map&lt;String, Object&gt; export = super.getExportedCustomDirectEventTypeConstants();\n  if (export == null) {\n    export = MapBuilder.newHashMap();\n  }\n  export.put(CustomEvent.EVENT_NAME, MapBuilder.of(&quot;registrationName&quot;, &quot;onStatusChange&quot;));\n  return export;\n}\n</code></pre>\n<p>Step 4- Create dispatchEvent method, call it wherever need to pass event to JS.</p>\n<pre><code>private void dispatchEvent(String status) {\n    EventDispatcher mEventDispatcher = UIManagerHelper.getEventDispatcherForReactTag((ReactContext)this.ctx, getId());\n    mEventDispatcher.dispatchEvent(new CustomEvent(getId(), status));\n}\n</code></pre>\n<p>Step 5 - Setup callback in JS where events are to be processed.</p>\n<pre><code>onStatusChange={(event) =&gt; {console.log('ontatusChange: '+event.nativeEvent.status);}}\n</code></pre>\n<p>Step 6 - Build App, codgen should occur as explained <a href=\"https://reactnative.dev/docs/the-new-architecture/pillars-codegen\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1233,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73019490,"answer_count":2,"score":4,"last_activity_date":1685347752,"creation_date":1657806591,"question_id":72981626,"body_markdown":"I am trying to create a `Fabric` component. I have got it working for the most part. The only issue I am facing is I am not able to get click listener to work for a `fabric` component.\r\n\r\nI created a spec file\r\n\r\n    import type {HostComponent, ViewProps} from &#39;react-native&#39;;\r\n    import type {DirectEventHandler} from &#39;react-native/Libraries/Types/CodegenTypes&#39;;\r\n    import codegenNativeComponent from &#39;react-native/Libraries/Utilities/codegenNativeComponent&#39;;\r\n    \r\n    type Event = Readonly&lt;{\r\n      value: string;\r\n    }&gt;;\r\n    \r\n    interface NativeProps extends ViewProps {\r\n      text: string;\r\n       onClickHandler?: BubblingEventHandler&lt;Event&gt;; ////Event name should start with on\r\n    }\r\n    \r\n    export default codegenNativeComponent&lt;NativeProps&gt;(\r\n      &#39;MyButtonView&#39;,\r\n    ) as HostComponent&lt;NativeProps&gt;;\r\n\r\n\r\nFor `android` my `fabric` component looks like as follows\r\n\r\n    public class MyButtonView extends androidx.appcompat.widget.AppCompatButton {\r\n    \r\n        public MyButtonView(Context context) {\r\n            super(context);\r\n            configureViews();\r\n        }\r\n    \r\n        private void configureViews(){\r\n            setBackgroundColor(Color.YELLOW);\r\n            setOnClickListener(view -&gt; {\r\n                onReceiveNativeEvent();\r\n            });\r\n        }\r\n    \r\n        public void onReceiveNativeEvent() {\r\n            WritableMap event = Arguments.createMap();\r\n            event.putString(&quot;message&quot;, &quot;MyMessage&quot;);\r\n            ReactContext reactContext = (ReactContext)getContext();\r\n            reactContext.getJSModule(RCTModernEventEmitter.class)\r\n                    .receiveEvent(getId(),getId(),&quot;onClickHandler&quot;,true,0,event,1);\r\n    \r\n        }\r\n    }\r\n\r\nNot sure what to pass `first param as int`, `canCoalesceEvent`, `customCoalesceKey` and `category` in `receiveEvent`\r\n\r\nIn `ViewManager` I did add following code as well\r\n\r\n \r\n\r\n    @Nullable\r\n    @Override\r\n    public Map&lt;String, Object&gt; getExportedCustomDirectEventTypeConstants() {\r\n        Log.i(&quot;here55&quot;,&quot;999999&quot;);\r\n        return MapBuilder.of(&quot;onClickHandler&quot;,\r\n                MapBuilder.of(&quot;registrationName&quot;, &quot;onClickHandler&quot;)\r\n        );\r\n    }\r\n\r\n\r\nFor `android` I am not getting the `callback` from `native` `android` to `js` side\r\n\r\nI am following https://reactnative.dev/docs/native-components-android but it was for the old architecture and I think is not applicable for `fabric` components\r\n\r\nSame for `iOS` https://reactnative.dev/docs/native-components-ios, the doc is not very helpful for the new architecture\r\n\r\n\r\nFor `iOS`, I created the `header` and `objective-c++` file  \r\n\r\n\r\nTypically if we want to add property we do this\r\n\r\n    RCT_EXPORT_VIEW_PROPERTY(text, NSString)\r\n\r\nNot sure how to do it for event handler\r\n\r\n","title":"How to do event handling for android and iOS in react native&#39;s new architecture for fabric components?","body":"<p>I am trying to create a <code>Fabric</code> component. I have got it working for the most part. The only issue I am facing is I am not able to get click listener to work for a <code>fabric</code> component.</p>\n<p>I created a spec file</p>\n<pre><code>import type {HostComponent, ViewProps} from 'react-native';\nimport type {DirectEventHandler} from 'react-native/Libraries/Types/CodegenTypes';\nimport codegenNativeComponent from 'react-native/Libraries/Utilities/codegenNativeComponent';\n\ntype Event = Readonly&lt;{\n  value: string;\n}&gt;;\n\ninterface NativeProps extends ViewProps {\n  text: string;\n   onClickHandler?: BubblingEventHandler&lt;Event&gt;; ////Event name should start with on\n}\n\nexport default codegenNativeComponent&lt;NativeProps&gt;(\n  'MyButtonView',\n) as HostComponent&lt;NativeProps&gt;;\n</code></pre>\n<p>For <code>android</code> my <code>fabric</code> component looks like as follows</p>\n<pre><code>public class MyButtonView extends androidx.appcompat.widget.AppCompatButton {\n\n    public MyButtonView(Context context) {\n        super(context);\n        configureViews();\n    }\n\n    private void configureViews(){\n        setBackgroundColor(Color.YELLOW);\n        setOnClickListener(view -&gt; {\n            onReceiveNativeEvent();\n        });\n    }\n\n    public void onReceiveNativeEvent() {\n        WritableMap event = Arguments.createMap();\n        event.putString(&quot;message&quot;, &quot;MyMessage&quot;);\n        ReactContext reactContext = (ReactContext)getContext();\n        reactContext.getJSModule(RCTModernEventEmitter.class)\n                .receiveEvent(getId(),getId(),&quot;onClickHandler&quot;,true,0,event,1);\n\n    }\n}\n</code></pre>\n<p>Not sure what to pass <code>first param as int</code>, <code>canCoalesceEvent</code>, <code>customCoalesceKey</code> and <code>category</code> in <code>receiveEvent</code></p>\n<p>In <code>ViewManager</code> I did add following code as well</p>\n<pre><code>@Nullable\n@Override\npublic Map&lt;String, Object&gt; getExportedCustomDirectEventTypeConstants() {\n    Log.i(&quot;here55&quot;,&quot;999999&quot;);\n    return MapBuilder.of(&quot;onClickHandler&quot;,\n            MapBuilder.of(&quot;registrationName&quot;, &quot;onClickHandler&quot;)\n    );\n}\n</code></pre>\n<p>For <code>android</code> I am not getting the <code>callback</code> from <code>native</code> <code>android</code> to <code>js</code> side</p>\n<p>I am following <a href=\"https://reactnative.dev/docs/native-components-android\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/native-components-android</a> but it was for the old architecture and I think is not applicable for <code>fabric</code> components</p>\n<p>Same for <code>iOS</code> <a href=\"https://reactnative.dev/docs/native-components-ios\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/native-components-ios</a>, the doc is not very helpful for the new architecture</p>\n<p>For <code>iOS</code>, I created the <code>header</code> and <code>objective-c++</code> file</p>\n<p>Typically if we want to add property we do this</p>\n<pre><code>RCT_EXPORT_VIEW_PROPERTY(text, NSString)\n</code></pre>\n<p>Not sure how to do it for event handler</p>\n"},{"tags":["java","amazon-web-services","httpclient"],"answers":[{"tags":[],"owner":{"account_id":17360033,"reputation":69,"user_id":12576544,"display_name":"Khang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685347332,"creation_date":1685347332,"answer_id":76355610,"question_id":76279796,"body_markdown":"Finally I find the reason\r\n\r\nMethod `request.setEndpoint` auto add a slash to the end of endpoint\r\n\r\nExp\r\n\r\n`https://domain/path/execute`\r\n=&gt; `https://domain/path/execute/`\r\n\r\nI fix it by use method `request.setResourcePath`\r\n\r\n```\r\nrequest.setEndpoint(&quot;https://domain&quot;);\r\nrequest.setResourcePath(&quot;/path/...);\r\n```","title":"AmazonHttpClient return status code 404 when endpoint exists","body":"<p>Finally I find the reason</p>\n<p>Method <code>request.setEndpoint</code> auto add a slash to the end of endpoint</p>\n<p>Exp</p>\n<p><code>https://domain/path/execute</code>\n=&gt; <code>https://domain/path/execute/</code></p>\n<p>I fix it by use method <code>request.setResourcePath</code></p>\n<pre><code>request.setEndpoint(&quot;https://domain&quot;);\nrequest.setResourcePath(&quot;/path/...);\n</code></pre>\n"}],"owner":{"account_id":17360033,"reputation":69,"user_id":12576544,"display_name":"Khang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76355610,"answer_count":1,"score":0,"last_activity_date":1685347332,"creation_date":1684404950,"question_id":76279796,"body_markdown":"I&#39;m using `aws-java-sdk-1.12.457.jar`\r\n\r\nI get the status code `404` when executing `AmazonHttpClient`, but when I use Postman I get the status code `403`\r\n\r\nThis is my code\r\n\r\n```java\r\nAWSCredentialsProvider credentialsProvider = new InstanceProfileCredentialsProvider(false);\r\n\r\n// Create AWSSecurityTokenService credentials\r\nAWSSecurityTokenService stsClient = AWSSecurityTokenServiceClientBuilder.standard()\r\n        .withCredentials(credentialsProvider)\r\n        .withRegion(REGION).build();\r\n\r\n// Create credentials\r\nAssumeRoleRequest roleRequest = new AssumeRoleRequest().withRoleArn(this.roleArn)\r\n        .withRoleSessionName(this.roleSessionName);\r\nAssumeRoleResult roleResponse = stsClient.assumeRole(roleRequest);\r\nCredentials sessionCredentials = roleResponse.getCredentials();\r\nBasicSessionCredentials credentials = new BasicSessionCredentials(\r\n        sessionCredentials.getAccessKeyId(),\r\n        sessionCredentials.getSecretAccessKey(),\r\n        sessionCredentials.getSessionToken());\r\n\r\n// Create request\r\nDefaultRequest&lt;Void&gt; request = new DefaultRequest&lt;Void&gt;(SERVICE_NAME);\r\nURI endpoint = new URI(&quot;https://domain/path/...&quot;);\r\nrequest.setEndpoint(endpoint);\r\nrequest.setHttpMethod(HttpMethodName.POST);\r\nrequest.addHeader(&quot;content-type&quot;, &quot;application/json&quot;);\r\nrequest.setParameters(this.buildRequestParameter());\r\n\r\n// sign AWS4Signer for request\r\nAWS4Signer signer = new AWS4Signer();\r\nsigner.setServiceName(SERVICE_NAME);\r\nsigner.setRegionName(REGION);\r\nsigner.sign(request, credentials);\r\n\r\n// Send request\r\nClientConfiguration clientConfiguration = new ClientConfiguration();\r\nclientConfiguration.setConnectionTimeout(10000);\r\nAmazonHttpClient httpClient = AmazonHttpClient.builder().clientConfiguration(clientConfiguration).build();\r\n\r\nRequestExecutionBuilder requestExecutionBuilder = httpClient.requestExecutionBuilder();\r\nrequestExecutionBuilder = requestExecutionBuilder.request(request);\r\nrequestExecutionBuilder.errorResponseHandler(new ErrorResponseHandler());\r\nResponse&lt;Void&gt; response = requestExecutionBuilder.execute();\r\n\r\nreturn this.buildResponse(response);\r\n```\r\n\r\nI think even if aws authorization failed, I should get status `403` not `404`.","title":"AmazonHttpClient return status code 404 when endpoint exists","body":"<p>I'm using <code>aws-java-sdk-1.12.457.jar</code></p>\n<p>I get the status code <code>404</code> when executing <code>AmazonHttpClient</code>, but when I use Postman I get the status code <code>403</code></p>\n<p>This is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>AWSCredentialsProvider credentialsProvider = new InstanceProfileCredentialsProvider(false);\n\n// Create AWSSecurityTokenService credentials\nAWSSecurityTokenService stsClient = AWSSecurityTokenServiceClientBuilder.standard()\n        .withCredentials(credentialsProvider)\n        .withRegion(REGION).build();\n\n// Create credentials\nAssumeRoleRequest roleRequest = new AssumeRoleRequest().withRoleArn(this.roleArn)\n        .withRoleSessionName(this.roleSessionName);\nAssumeRoleResult roleResponse = stsClient.assumeRole(roleRequest);\nCredentials sessionCredentials = roleResponse.getCredentials();\nBasicSessionCredentials credentials = new BasicSessionCredentials(\n        sessionCredentials.getAccessKeyId(),\n        sessionCredentials.getSecretAccessKey(),\n        sessionCredentials.getSessionToken());\n\n// Create request\nDefaultRequest&lt;Void&gt; request = new DefaultRequest&lt;Void&gt;(SERVICE_NAME);\nURI endpoint = new URI(&quot;https://domain/path/...&quot;);\nrequest.setEndpoint(endpoint);\nrequest.setHttpMethod(HttpMethodName.POST);\nrequest.addHeader(&quot;content-type&quot;, &quot;application/json&quot;);\nrequest.setParameters(this.buildRequestParameter());\n\n// sign AWS4Signer for request\nAWS4Signer signer = new AWS4Signer();\nsigner.setServiceName(SERVICE_NAME);\nsigner.setRegionName(REGION);\nsigner.sign(request, credentials);\n\n// Send request\nClientConfiguration clientConfiguration = new ClientConfiguration();\nclientConfiguration.setConnectionTimeout(10000);\nAmazonHttpClient httpClient = AmazonHttpClient.builder().clientConfiguration(clientConfiguration).build();\n\nRequestExecutionBuilder requestExecutionBuilder = httpClient.requestExecutionBuilder();\nrequestExecutionBuilder = requestExecutionBuilder.request(request);\nrequestExecutionBuilder.errorResponseHandler(new ErrorResponseHandler());\nResponse&lt;Void&gt; response = requestExecutionBuilder.execute();\n\nreturn this.buildResponse(response);\n</code></pre>\n<p>I think even if aws authorization failed, I should get status <code>403</code> not <code>404</code>.</p>\n"},{"tags":["java","eclipse","import","autosuggest"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1685381521,"post_id":76355575,"comment_id":134649153,"body_markdown":"Is this reproducible in the [latest integration build](https://download.eclipse.org/eclipse/downloads/)? If yes, make sure it has reported [here](https://github.com/eclipse-jdt/eclipse.jdt.core/issues) with a complete minimal reproducible example, best with a pull request with the fix. Please use Stack Overflow only for real questions, not as a bug tracker.","body":"Is this reproducible in the <a href=\"https://download.eclipse.org/eclipse/downloads/\" rel=\"nofollow noreferrer\">latest integration build</a>? If yes, make sure it has reported <a href=\"https://github.com/eclipse-jdt/eclipse.jdt.core/issues\" rel=\"nofollow noreferrer\">here</a> with a complete minimal reproducible example, best with a pull request with the fix. Please use Stack Overflow only for real questions, not as a bug tracker."}],"owner":{"account_id":2610280,"reputation":715,"user_id":2260506,"accept_rate":15,"display_name":"Ulrich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685346963,"creation_date":1685346963,"question_id":76355575,"body_markdown":"This is my Eclipse level:\r\nVersion: 2023-03 (4.27.0)\r\nBuild id: 20230309-1520\r\n\r\nSince I update to this from:\r\nVersion: 2020-09 (4.17.0)\r\nBuild id: 20200910-1200\r\n\r\nI miss often suggestions for quick fixes.\r\n\r\nFor example:\r\n\r\n    private List&lt;WayPoint&gt; getUpdatedAndCondensedList(final List&lt;WayPoint&gt; tour) {\r\n    \t\tList&lt;WayPoint&gt; tourBulletin = new ArrayList&lt;&gt;();\r\n    \t\treturn null;\r\n    \t}\r\nThe Imports vor &quot;List&quot; and &quot;ArrayList&quot; are missing.\r\nIf right clicking to &quot;List&quot; in the signature line of the method, I&#39;m suggestet to add import of &quot;java.util.List&quot;. But if I do the same in the next, the instantiation line, this suggestion is missing. But it is not this easy, that the suggestion is always missing within the method. At least, I could not figure out, a consistent behaviour.\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Imx4k.png\r\n  [2]: https://i.stack.imgur.com/k5uvY.png","title":"Eclipse often does not suggest","body":"<p>This is my Eclipse level:\nVersion: 2023-03 (4.27.0)\nBuild id: 20230309-1520</p>\n<p>Since I update to this from:\nVersion: 2020-09 (4.17.0)\nBuild id: 20200910-1200</p>\n<p>I miss often suggestions for quick fixes.</p>\n<p>For example:</p>\n<pre><code>private List&lt;WayPoint&gt; getUpdatedAndCondensedList(final List&lt;WayPoint&gt; tour) {\n        List&lt;WayPoint&gt; tourBulletin = new ArrayList&lt;&gt;();\n        return null;\n    }\n</code></pre>\n<p>The Imports vor &quot;List&quot; and &quot;ArrayList&quot; are missing.\nIf right clicking to &quot;List&quot; in the signature line of the method, I'm suggestet to add import of &quot;java.util.List&quot;. But if I do the same in the next, the instantiation line, this suggestion is missing. But it is not this easy, that the suggestion is always missing within the method. At least, I could not figure out, a consistent behaviour.\n<a href=\"https://i.stack.imgur.com/Imx4k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Imx4k.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/k5uvY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k5uvY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","kotlin","gradle","spring-initializr"],"answers":[{"comments":[{"owner":{"account_id":21284254,"reputation":1133,"user_id":16682019,"display_name":"Julius Babies"},"score":0,"creation_date":1680103268,"post_id":75879126,"comment_id":133841386,"body_markdown":"I use IntelliJ IDEA. the SDK is set to 17.0.6","body":"I use IntelliJ IDEA. the SDK is set to 17.0.6"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1680103396,"post_id":75879126,"comment_id":133841439,"body_markdown":"And your Compiler? File &gt; Settings &gt; Build &gt; Compiler &gt; Java Compiler?","body":"And your Compiler? File &gt; Settings &gt; Build &gt; Compiler &gt; Java Compiler?"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1680103434,"post_id":75879126,"comment_id":133841452,"body_markdown":"Also File &gt; Project Settings &gt; SDK and Language level should be 17","body":"Also File &gt; Project Settings &gt; SDK and Language level should be 17"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1680103472,"post_id":75879126,"comment_id":133841463,"body_markdown":"Also File &gt; Project Settings &gt; Modules &gt; Dependencies tab should have 17 on top","body":"Also File &gt; Project Settings &gt; Modules &gt; Dependencies tab should have 17 on top"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1680103487,"post_id":75879126,"comment_id":133841466,"body_markdown":"Also File &gt; Project Settings &gt; Modules &gt; Sources tab should have 17 on top","body":"Also File &gt; Project Settings &gt; Modules &gt; Sources tab should have 17 on top"},{"owner":{"account_id":21284254,"reputation":1133,"user_id":16682019,"display_name":"Julius Babies"},"score":0,"creation_date":1680103529,"post_id":75879126,"comment_id":133841478,"body_markdown":"All are set to 17","body":"All are set to 17"},{"owner":{"account_id":21284254,"reputation":1133,"user_id":16682019,"display_name":"Julius Babies"},"score":0,"creation_date":1680103731,"post_id":75879126,"comment_id":133841544,"body_markdown":"Rebuilding wasn&#39;t possible due to this error. However, I came up with a solution myself: Gradle was trying to use openjdk-20 which isn&#39;t available. Nevertheless thank you for your help :)","body":"Rebuilding wasn&#39;t possible due to this error. However, I came up with a solution myself: Gradle was trying to use openjdk-20 which isn&#39;t available. Nevertheless thank you for your help :)"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1680103823,"post_id":75879126,"comment_id":133841573,"body_markdown":"So it was not 17 everywhere as you said. That&#39;s the reason why I do not like IntelliJ, 10 damn places to set JDK, like WHY!?","body":"So it was not 17 everywhere as you said. That&#39;s the reason why I do not like IntelliJ, 10 damn places to set JDK, like WHY!?"},{"owner":{"account_id":21284254,"reputation":1133,"user_id":16682019,"display_name":"Julius Babies"},"score":0,"creation_date":1680103897,"post_id":75879126,"comment_id":133841598,"body_markdown":"I didn&#39;t know about this setting, I just looked around if I can specify something in my grade environment and found that by accident.\nAlso, could you please remove your duplicate comments? StackOverflow somehow managed to post your comment three times.","body":"I didn&#39;t know about this setting, I just looked around if I can specify something in my grade environment and found that by accident. Also, could you please remove your duplicate comments? StackOverflow somehow managed to post your comment three times."},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":1,"creation_date":1680103994,"post_id":75879126,"comment_id":133841628,"body_markdown":"Glad we got it fix, great job man.","body":"Glad we got it fix, great job man."}],"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680103972,"creation_date":1680102864,"answer_id":75879126,"question_id":75878942,"body_markdown":"I assume that you are using some kind of IDE, Eclipse or IntelliJ, or whatever. How IDE works is that it is an isolated ecosystem with already predefined JDK/JRE.\r\n\r\nI know for a fact when you install a new Eclipse and if you \r\n\r\n1. Right-click on your project\r\n\r\n2. Properties\r\n\r\n3. Java Build Path\r\n\r\n4. Libraries Tab\r\n\r\n5. Click on JRE System Library\r\n\r\n6. Click on Edit\r\n\r\n7. Installed JRE\r\n\r\nIn that window, Eclipse will have one of the latest JDKs set as a default, which has nothing to do with the JDK that you have installed on your system.\r\nSo for example, if you downloaded the latest Eclipse it will have the latest JDK set there that is part of Eclipse, and that is the value that needs to be deleted, and you explicitly set JDK that you want to use, that is 17 in your example.\r\nThe same goes for the IDE compiler version, you also need to check if it has the correct value, which is 17 in your example.\r\n\r\nEclipse has Installed JRE and Java Compiler, IntelliJ has SDKs and Java Compiler.\r\n\r\nAs of IntelliJ places for JDK\r\n\r\n1. File &gt; Settings &gt; Build &gt; Compiler &gt; Java Compiler\r\n\r\n2. File &gt; Project Settings &gt; SDK and Language level should be 17\r\n \r\n3. File &gt; Project Settings &gt; Modules &gt; Dependencies tab should have 17 on top  \r\n\r\n4. File &gt; Project Settings &gt; Modules &gt; Sources tab should have 17 on top – \r\n\r\n\r\nAlso please keep in mind that you also need to make sure that you have JDK17 in your pom/gradle file as well.","title":"Spring initializr project results in Unsupported class file major version 64","body":"<p>I assume that you are using some kind of IDE, Eclipse or IntelliJ, or whatever. How IDE works is that it is an isolated ecosystem with already predefined JDK/JRE.</p>\n<p>I know for a fact when you install a new Eclipse and if you</p>\n<ol>\n<li><p>Right-click on your project</p>\n</li>\n<li><p>Properties</p>\n</li>\n<li><p>Java Build Path</p>\n</li>\n<li><p>Libraries Tab</p>\n</li>\n<li><p>Click on JRE System Library</p>\n</li>\n<li><p>Click on Edit</p>\n</li>\n<li><p>Installed JRE</p>\n</li>\n</ol>\n<p>In that window, Eclipse will have one of the latest JDKs set as a default, which has nothing to do with the JDK that you have installed on your system.\nSo for example, if you downloaded the latest Eclipse it will have the latest JDK set there that is part of Eclipse, and that is the value that needs to be deleted, and you explicitly set JDK that you want to use, that is 17 in your example.\nThe same goes for the IDE compiler version, you also need to check if it has the correct value, which is 17 in your example.</p>\n<p>Eclipse has Installed JRE and Java Compiler, IntelliJ has SDKs and Java Compiler.</p>\n<p>As of IntelliJ places for JDK</p>\n<ol>\n<li><p>File &gt; Settings &gt; Build &gt; Compiler &gt; Java Compiler</p>\n</li>\n<li><p>File &gt; Project Settings &gt; SDK and Language level should be 17</p>\n</li>\n<li><p>File &gt; Project Settings &gt; Modules &gt; Dependencies tab should have 17 on top</p>\n</li>\n<li><p>File &gt; Project Settings &gt; Modules &gt; Sources tab should have 17 on top –</p>\n</li>\n</ol>\n<p>Also please keep in mind that you also need to make sure that you have JDK17 in your pom/gradle file as well.</p>\n"},{"tags":[],"owner":{"account_id":21284254,"reputation":1133,"user_id":16682019,"display_name":"Julius Babies"},"comment_count":0,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1680103669,"creation_date":1680103669,"answer_id":75879255,"question_id":75878942,"body_markdown":"I&#39;ve found the problem:\r\nMy Gradle settings were trying to use Java 20.\r\nI solved it by clicking on Gradle -&gt; the little cogwheel -&gt; Gradle Settings and setting Gradle JVM to 17.","title":"Spring initializr project results in Unsupported class file major version 64","body":"<p>I've found the problem:\nMy Gradle settings were trying to use Java 20.\nI solved it by clicking on Gradle -&gt; the little cogwheel -&gt; Gradle Settings and setting Gradle JVM to 17.</p>\n"},{"comments":[{"owner":{"account_id":6495816,"reputation":709,"user_id":5028469,"display_name":"Kassian Sun"},"score":1,"creation_date":1684075516,"post_id":76192076,"comment_id":134460458,"body_markdown":"`gradlew` failed for me, I think it&#39;s because the `gradlew` was broken anyway, so you can&#39;t run it for the first run. Replace `gradlew` with `gradle` (installed with my homebrew) solved this issue.","body":"<code>gradlew</code> failed for me, I think it&#39;s because the <code>gradlew</code> was broken anyway, so you can&#39;t run it for the first run. Replace <code>gradlew</code> with <code>gradle</code> (installed with my homebrew) solved this issue."},{"owner":{"account_id":23582896,"reputation":121,"user_id":17621695,"display_name":"RaymondNoodle"},"score":0,"creation_date":1686102604,"post_id":76192076,"comment_id":134752015,"body_markdown":"Oh yes, I apologize. I am using IntelliJ.","body":"Oh yes, I apologize. I am using IntelliJ."},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1688434087,"post_id":76192076,"comment_id":135070593,"body_markdown":"was helpful in my case","body":"was helpful in my case"}],"tags":[],"owner":{"account_id":23582896,"reputation":121,"user_id":17621695,"display_name":"RaymondNoodle"},"comment_count":3,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1683430156,"creation_date":1683430156,"answer_id":76192076,"question_id":75878942,"body_markdown":"I know that I am a bit late to this thread. However, I just ran into this issue, and I found that updating `gradle-wrapper.jar` solves this. I did so by running `./gradlew wrapper --gradle-version=8.1.1 --distribution-type=bin` in my project directory.\r\n\r\nSource: https://gradle.org/install/#helpful-information","title":"Spring initializr project results in Unsupported class file major version 64","body":"<p>I know that I am a bit late to this thread. However, I just ran into this issue, and I found that updating <code>gradle-wrapper.jar</code> solves this. I did so by running <code>./gradlew wrapper --gradle-version=8.1.1 --distribution-type=bin</code> in my project directory.</p>\n<p>Source: <a href=\"https://gradle.org/install/#helpful-information\" rel=\"noreferrer\">https://gradle.org/install/#helpful-information</a></p>\n"},{"tags":[],"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1685345431,"creation_date":1685345431,"answer_id":76355424,"question_id":75878942,"body_markdown":"The gradle wrapper version needs to be updated.\r\nThe command I tried is as below\r\n\r\n    gradle wrapper --gradle-version 8.1.1\r\n\r\n\r\nReference: https://docs.gradle.org/current/userguide/upgrading_version_7.html","title":"Spring initializr project results in Unsupported class file major version 64","body":"<p>The gradle wrapper version needs to be updated.\nThe command I tried is as below</p>\n<pre><code>gradle wrapper --gradle-version 8.1.1\n</code></pre>\n<p>Reference: <a href=\"https://docs.gradle.org/current/userguide/upgrading_version_7.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/upgrading_version_7.html</a></p>\n"}],"owner":{"account_id":21284254,"reputation":1133,"user_id":16682019,"display_name":"Julius Babies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26633,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":75879255,"answer_count":4,"score":19,"last_activity_date":1685345431,"creation_date":1680101972,"question_id":75878942,"body_markdown":"When I create a new project using the [Spring initializr](https://start.spring.io/) Gradle won&#39;t build the project. I use IntelliJ IDEA.\r\n\r\nThe error message is \r\n```\r\n* Exception is:\r\norg.gradle.cache.CacheOpenException: Could not open init generic class cache for initialization script &#39;/tmp/ijmapper.gradle&#39; (/home/julius/.gradle/caches/7.6.1/scripts/dnnmnny7cynyzgkf00s30jlld).\r\n\tat org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:91)\r\n\t... 166+ more\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 64\r\n```\r\nI looked it up using [this table](https://javaalmanac.io/bytecode/versions/), it&#39;s java 20. The issue is, that I didn&#39;t select Java-20, I chose Java-17. On top of that, I&#39;m not able to install Java-20 on my Linux machine yet.","title":"Spring initializr project results in Unsupported class file major version 64","body":"<p>When I create a new project using the <a href=\"https://start.spring.io/\" rel=\"noreferrer\">Spring initializr</a> Gradle won't build the project. I use IntelliJ IDEA.</p>\n<p>The error message is</p>\n<pre><code>* Exception is:\norg.gradle.cache.CacheOpenException: Could not open init generic class cache for initialization script '/tmp/ijmapper.gradle' (/home/julius/.gradle/caches/7.6.1/scripts/dnnmnny7cynyzgkf00s30jlld).\n    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.open(DefaultPersistentDirectoryStore.java:91)\n    ... 166+ more\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 64\n</code></pre>\n<p>I looked it up using <a href=\"https://javaalmanac.io/bytecode/versions/\" rel=\"noreferrer\">this table</a>, it's java 20. The issue is, that I didn't select Java-20, I chose Java-17. On top of that, I'm not able to install Java-20 on my Linux machine yet.</p>\n"},{"tags":["java","spring","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":1330083,"reputation":619,"user_id":1274184,"accept_rate":47,"display_name":"Alex Smoke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685345391,"creation_date":1685345391,"answer_id":76355419,"question_id":76052947,"body_markdown":"Need to disable opentelemetry by using another constructor:\r\nRemoteWebDriver driver = new RemoteWebDriver(testGridUrl, capabilities, false);","title":"Spring Selenium error creating RemoteWebDriver (io.opentelemetry)","body":"<p>Need to disable opentelemetry by using another constructor:\nRemoteWebDriver driver = new RemoteWebDriver(testGridUrl, capabilities, false);</p>\n"}],"owner":{"account_id":1330083,"reputation":619,"user_id":1274184,"accept_rate":47,"display_name":"Alex Smoke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76355419,"answer_count":1,"score":0,"last_activity_date":1685345391,"creation_date":1681896887,"question_id":76052947,"body_markdown":"I&#39;m using Spring Selenium framework and when trying to instantiate RemoteWebDriver, i&#39;m getting the same error even with the simplest code. \r\n\r\n&gt; org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;preconditionSteps&#39;: Unsatisfied dependency expressed through field &#39;driver&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;remoteChromeDriver&#39; defined in class path resource [com/osmolka/fw/config/RemoteWebDriverConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.openqa.selenium.WebDriver]: Factory method &#39;remoteChromeDriver&#39; threw exception; nested exception is java.util.ServiceConfigurationError: io.opentelemetry.sdk.autoconfigure.spi.traces.SdkTracerProviderConfigurer: org.openqa.selenium.remote.tracing.opentelemetry.SeleniumSpanExporter not a subtype\r\n\r\n\r\nI need to run tests on AWS, so used this:\r\n\r\n    @ThreadScopeBean\r\n    @ConditionalOnMissingBean\r\n    public WebDriver remoteChromeDriver() {\r\n        String myProjectARN = &quot;&lt;project-arn&gt;&quot;;\r\n        DeviceFarmClient client  = DeviceFarmClient.builder().region(Region.US_WEST_2).build();\r\n        CreateTestGridUrlRequest request = CreateTestGridUrlRequest.builder()\r\n                .expiresInSeconds(300)\r\n                .projectArn(myProjectARN)\r\n                .build();\r\n        CreateTestGridUrlResponse response = client.createTestGridUrl(request);\r\n        URL testGridUrl = null;\r\n        try {\r\n            testGridUrl = new URL(response.url());\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\n        DesiredCapabilities capabilities = new DesiredCapabilities();\r\n        capabilities.setCapability(&quot;browserName&quot;, &quot;chrome&quot;);\r\n        capabilities.setCapability(&quot;browserVersion&quot;, &quot;latest&quot;);\r\n        capabilities.setCapability(&quot;platform&quot;, &quot;windows&quot;);\r\n\r\n        RemoteWebDriver driver = new RemoteWebDriver(testGridUrl, capabilities);\r\n\r\n        return driver;\r\n    }\r\n\r\nAbsolute same peace of code with same env. variables works on a project created from scratch, but without Spring. but actually does not matter what code to write as long as it compiles. Same error appears even for something like that:\r\n\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.setCapability(&quot;browserVersion&quot;, &quot;103&quot;);\r\n    chromeOptions.setCapability(&quot;platformName&quot;, &quot;Windows 10&quot;);\r\n    WebDriver driver = new RemoteWebDriver(new URL(&quot;http://www.google.com&quot;), chromeOptions);\r\n\r\nSo this eeror thrown every time when calling new RemoteWebDriver. Struggling with this for few days already...","title":"Spring Selenium error creating RemoteWebDriver (io.opentelemetry)","body":"<p>I'm using Spring Selenium framework and when trying to instantiate RemoteWebDriver, i'm getting the same error even with the simplest code.</p>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'preconditionSteps': Unsatisfied dependency expressed through field 'driver'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'remoteChromeDriver' defined in class path resource [com/osmolka/fw/config/RemoteWebDriverConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.openqa.selenium.WebDriver]: Factory method 'remoteChromeDriver' threw exception; nested exception is java.util.ServiceConfigurationError: io.opentelemetry.sdk.autoconfigure.spi.traces.SdkTracerProviderConfigurer: org.openqa.selenium.remote.tracing.opentelemetry.SeleniumSpanExporter not a subtype</p>\n</blockquote>\n<p>I need to run tests on AWS, so used this:</p>\n<pre><code>@ThreadScopeBean\n@ConditionalOnMissingBean\npublic WebDriver remoteChromeDriver() {\n    String myProjectARN = &quot;&lt;project-arn&gt;&quot;;\n    DeviceFarmClient client  = DeviceFarmClient.builder().region(Region.US_WEST_2).build();\n    CreateTestGridUrlRequest request = CreateTestGridUrlRequest.builder()\n            .expiresInSeconds(300)\n            .projectArn(myProjectARN)\n            .build();\n    CreateTestGridUrlResponse response = client.createTestGridUrl(request);\n    URL testGridUrl = null;\n    try {\n        testGridUrl = new URL(response.url());\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n\n    DesiredCapabilities capabilities = new DesiredCapabilities();\n    capabilities.setCapability(&quot;browserName&quot;, &quot;chrome&quot;);\n    capabilities.setCapability(&quot;browserVersion&quot;, &quot;latest&quot;);\n    capabilities.setCapability(&quot;platform&quot;, &quot;windows&quot;);\n\n    RemoteWebDriver driver = new RemoteWebDriver(testGridUrl, capabilities);\n\n    return driver;\n}\n</code></pre>\n<p>Absolute same peace of code with same env. variables works on a project created from scratch, but without Spring. but actually does not matter what code to write as long as it compiles. Same error appears even for something like that:</p>\n<pre><code>ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.setCapability(&quot;browserVersion&quot;, &quot;103&quot;);\nchromeOptions.setCapability(&quot;platformName&quot;, &quot;Windows 10&quot;);\nWebDriver driver = new RemoteWebDriver(new URL(&quot;http://www.google.com&quot;), chromeOptions);\n</code></pre>\n<p>So this eeror thrown every time when calling new RemoteWebDriver. Struggling with this for few days already...</p>\n"},{"tags":["java","selenium-webdriver","internet-explorer","microsoft-edge"],"answers":[{"comments":[{"owner":{"account_id":28689952,"reputation":1,"user_id":21969389,"display_name":"Ankita Hatwar"},"score":0,"creation_date":1685386360,"post_id":76355364,"comment_id":134649829,"body_markdown":"Hi @Yu Zhou, first of all thank you for answering the question. however, its not working at my end .I have same code as per your suggestion with few changes in java however, its giving me same result as before.  it seems margin and border of the screenshot is coming black and only middle layout of the page is getting captured. I have tried dimesnions as well but no luck.","body":"Hi @Yu Zhou, first of all thank you for answering the question. however, its not working at my end .I have same code as per your suggestion with few changes in java however, its giving me same result as before.  it seems margin and border of the screenshot is coming black and only middle layout of the page is getting captured. I have tried dimesnions as well but no luck."},{"owner":{"account_id":15924350,"reputation":11775,"user_id":11490347,"display_name":"Yu Zhou"},"score":0,"creation_date":1685435846,"post_id":76355364,"comment_id":134655656,"body_markdown":"Which version of Selenium, IE WebDriver and Edge browser do you use?","body":"Which version of Selenium, IE WebDriver and Edge browser do you use?"}],"tags":[],"owner":{"account_id":15924350,"reputation":11775,"user_id":11490347,"display_name":"Yu Zhou"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685344749,"creation_date":1685344749,"answer_id":76355364,"question_id":76345642,"body_markdown":"You can try the following code. I test it and it can capture the whole webpage. Please note to change the path to your owns:\r\n\r\n\r\n    InternetExplorerDriverService internetExplorerDriverService = InternetExplorerDriverService.CreateDefaultService(&quot;E:\\\\webdriver&quot;);\r\n\r\n    InternetExplorerOptions internetExplorerOptions = new InternetExplorerOptions();\r\n    internetExplorerOptions.AttachToEdgeChrome = true;\r\n    internetExplorerOptions.EdgeExecutablePath = @&quot;C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe&quot;;\r\n\r\n    InternetExplorerDriver webDriver = new InternetExplorerDriver(internetExplorerDriverService, internetExplorerOptions, new TimeSpan(0, 0, 5));\r\n    webDriver.Navigate().GoToUrl(&quot;https://www.bing.com&quot;);\r\n    webDriver.Manage().Window.Maximize();\r\n    Thread.Sleep(6000);\r\n    ((ITakesScreenshot)webDriver).GetScreenshot().SaveAsFile(@&quot;E:\\images\\test.png&quot;);\r\n\r\n    webDriver.Quit();","title":"Selenium WebDriver is only capturing half of the screen on Edge browser in IE mode, how can I capture the whole webpage?","body":"<p>You can try the following code. I test it and it can capture the whole webpage. Please note to change the path to your owns:</p>\n<pre><code>InternetExplorerDriverService internetExplorerDriverService = InternetExplorerDriverService.CreateDefaultService(&quot;E:\\\\webdriver&quot;);\n\nInternetExplorerOptions internetExplorerOptions = new InternetExplorerOptions();\ninternetExplorerOptions.AttachToEdgeChrome = true;\ninternetExplorerOptions.EdgeExecutablePath = @&quot;C:\\Program Files (x86)\\Microsoft\\Edge\\Application\\msedge.exe&quot;;\n\nInternetExplorerDriver webDriver = new InternetExplorerDriver(internetExplorerDriverService, internetExplorerOptions, new TimeSpan(0, 0, 5));\nwebDriver.Navigate().GoToUrl(&quot;https://www.bing.com&quot;);\nwebDriver.Manage().Window.Maximize();\nThread.Sleep(6000);\n((ITakesScreenshot)webDriver).GetScreenshot().SaveAsFile(@&quot;E:\\images\\test.png&quot;);\n\nwebDriver.Quit();\n</code></pre>\n"}],"owner":{"account_id":28689952,"reputation":1,"user_id":21969389,"display_name":"Ankita Hatwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685344749,"creation_date":1685169315,"question_id":76345642,"body_markdown":"I am running automation to open website in edge browser in IE mode as IE is decommissioned. \r\nHowever, \r\nOn **edge browser in IE mode**, selenium is taking **screenshot of the half of the screen**. Not the entire page is getting captured. I have used getScreenshotAs method to capture screesnhot ,however, half screen is getting captured. In addition, I have tried Ashot library too but same result.\r\n\r\n\r\n\r\n\r\nI am opening a website in edge browser in IE mode , however, selenium is capturing only half of the screen but not the entire page. I am using below piece of code. This resulted is only half of the screenshot but not the entire page. I have used Ashot library too but same result.\r\n\r\n```\r\nclass Steps {\r\n   \r\n\tpublic static WebDriver driver=null;\r\n\tpublic static void Login() throws IOException, InterruptedException {\r\n\t\tSystem.setProperty(&quot;webdriver.ie.driver, &quot;, &quot;C:\\\\IEDRIVER-64\\\\IEDriverServer.exe&quot;);\r\n\t\tInternetExplorerOptions ieOptions = new InternetExplorerOptions();\r\n        ieOptions.attachToEdgeChrome();\r\n        ieOptions.withEdgeExecutablePath(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\r\n        ieOptions.ignoreZoomSettings();\r\n        ieOptions.setCapability(&quot;ignoreProtectedModeSettings&quot;, true);\r\n        ieOptions.setCapability(&quot;requireWindowFocus&quot;, true);\r\n        ieOptions.withInitialBrowserUrl(&quot;http://www.bing.com&quot;);\r\n        ieOptions.setCapability(&quot;takeFullPageScreenshot&quot;, true);\r\n        ieOptions.takeFullPageScreenshot();\r\n\r\n driver = new InternetExplorerDriver(ieOptions);\r\n  driver.manage().window().maximize();\r\n  driver.get(&quot;http://www.bing.com&quot;);\r\n}\r\n\r\n\tpublic static void CaptureScreesnhot() throws IOException {\r\n\t\tDate d= new Date();\r\n        String filename= d.toString().replace(&quot;:&quot;,&quot;_&quot;).replace(&quot; &quot;,&quot;_&quot;) + &quot;.png&quot;;\r\n        File screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n        FileUtils.copyFile(screenshot, new File(&quot;file path&quot;+filename));\r\n\t}      \r\n```\r\n\r\n\r\nbelow is the screenshot look like screenshot using selenium\r\n\r\n[![screenshot using selenium][1]][1]\r\n\r\nActual screen, Please visit bing.com\r\n\r\nExpected result to get screenshot of whole screen.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aJuzU.jpg","title":"Selenium WebDriver is only capturing half of the screen on Edge browser in IE mode, how can I capture the whole webpage?","body":"<p>I am running automation to open website in edge browser in IE mode as IE is decommissioned.\nHowever,\nOn <strong>edge browser in IE mode</strong>, selenium is taking <strong>screenshot of the half of the screen</strong>. Not the entire page is getting captured. I have used getScreenshotAs method to capture screesnhot ,however, half screen is getting captured. In addition, I have tried Ashot library too but same result.</p>\n<p>I am opening a website in edge browser in IE mode , however, selenium is capturing only half of the screen but not the entire page. I am using below piece of code. This resulted is only half of the screenshot but not the entire page. I have used Ashot library too but same result.</p>\n<pre><code>class Steps {\n   \n    public static WebDriver driver=null;\n    public static void Login() throws IOException, InterruptedException {\n        System.setProperty(&quot;webdriver.ie.driver, &quot;, &quot;C:\\\\IEDRIVER-64\\\\IEDriverServer.exe&quot;);\n        InternetExplorerOptions ieOptions = new InternetExplorerOptions();\n        ieOptions.attachToEdgeChrome();\n        ieOptions.withEdgeExecutablePath(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\n        ieOptions.ignoreZoomSettings();\n        ieOptions.setCapability(&quot;ignoreProtectedModeSettings&quot;, true);\n        ieOptions.setCapability(&quot;requireWindowFocus&quot;, true);\n        ieOptions.withInitialBrowserUrl(&quot;http://www.bing.com&quot;);\n        ieOptions.setCapability(&quot;takeFullPageScreenshot&quot;, true);\n        ieOptions.takeFullPageScreenshot();\n\n driver = new InternetExplorerDriver(ieOptions);\n  driver.manage().window().maximize();\n  driver.get(&quot;http://www.bing.com&quot;);\n}\n\n    public static void CaptureScreesnhot() throws IOException {\n        Date d= new Date();\n        String filename= d.toString().replace(&quot;:&quot;,&quot;_&quot;).replace(&quot; &quot;,&quot;_&quot;) + &quot;.png&quot;;\n        File screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n        FileUtils.copyFile(screenshot, new File(&quot;file path&quot;+filename));\n    }      \n</code></pre>\n<p>below is the screenshot look like screenshot using selenium</p>\n<p><a href=\"https://i.stack.imgur.com/aJuzU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aJuzU.jpg\" alt=\"screenshot using selenium\" /></a></p>\n<p>Actual screen, Please visit bing.com</p>\n<p>Expected result to get screenshot of whole screen.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":69926,"reputation":12519,"user_id":203204,"accept_rate":72,"display_name":"Anthony"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1300646365,"creation_date":1300646365,"answer_id":5370565,"question_id":5370482,"body_markdown":"A: This is explained in the hibernate reference. One difference was performance and the other one is that load throws an unrecoverable Exception when no Object is found for the ID.\r\n\r\nMore details [here][1]\r\n\r\n\r\n  [1]: https://forum.hibernate.org/viewtopic.php?p=2387456","title":"What&#39;s the advantage of load() vs get() in Hibernate?","body":"<p>A: This is explained in the hibernate reference. One difference was performance and the other one is that load throws an unrecoverable Exception when no Object is found for the ID.</p>\n\n<p>More details <a href=\"https://forum.hibernate.org/viewtopic.php?p=2387456\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":87077,"reputation":25974,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1300646867,"creation_date":1300646867,"answer_id":5370608,"question_id":5370482,"body_markdown":"load will return a proxy object.\r\n\r\n\r\nget will return a actual object, and returns null if it wont find any object.","title":"What&#39;s the advantage of load() vs get() in Hibernate?","body":"<p>load will return a proxy object.</p>\n\n<p>get will return a actual object, and returns null if it wont find any object.</p>\n"},{"comments":[{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":9,"creation_date":1402355468,"post_id":5370735,"comment_id":37231687,"body_markdown":"Thanks for your answer. So, I understand that `load()` returns an `Author` object whose id fields have values, but every non-id field (like author name, author country etc.) is `NULL`. Is that correct ? Also, when your transaction is not yet committed, and you try to access a null field, hibernate will issue a query to fetch and set only the requested field ? Or will it fetch and set all the null fields ? Please tell me. Thanks.","body":"Thanks for your answer. So, I understand that <code>load()</code> returns an <code>Author</code> object whose id fields have values, but every non-id field (like author name, author country etc.) is <code>NULL</code>. Is that correct ? Also, when your transaction is not yet committed, and you try to access a null field, hibernate will issue a query to fetch and set only the requested field ? Or will it fetch and set all the null fields ? Please tell me. Thanks."},{"owner":{"account_id":1666626,"reputation":1602,"user_id":1533884,"accept_rate":100,"display_name":"Roy Ling"},"score":7,"creation_date":1409813061,"post_id":5370735,"comment_id":40095952,"body_markdown":"@BoratSagdiyev accessing null field of a proxy returned by `load()` will trigger DB accessing to fetch all fields (not only the requested field), see this - http://stackoverflow.com/questions/8044963/hibernate-3-6-session-get-vs-session-load","body":"@BoratSagdiyev accessing null field of a proxy returned by <code>load()</code> will trigger DB accessing to fetch all fields (not only the requested field), see this - <a href=\"http://stackoverflow.com/questions/8044963/hibernate-3-6-session-get-vs-session-load\" title=\"hibernate 3 6 session get vs session load\">stackoverflow.com/questions/8044963/&hellip;</a>"},{"owner":{"account_id":51513,"reputation":1175,"user_id":153940,"accept_rate":58,"display_name":"Kumar Manish"},"score":3,"creation_date":1491852115,"post_id":5370735,"comment_id":73726820,"body_markdown":"Exactly the answer I was looking for!","body":"Exactly the answer I was looking for!"}],"tags":[],"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"comment_count":3,"down_vote_count":0,"up_vote_count":85,"is_accepted":false,"score":85,"last_activity_date":1300700583,"creation_date":1300647982,"answer_id":5370735,"question_id":5370482,"body_markdown":"Explanation of semantics of these methods doesn&#39;t explain the practical difference between them. Practical rule is the following:\r\n\r\n * Use `get()` when you want to load an object\r\n\r\n * Use `load()` when you need to obtain a reference to the object without issuing extra SQL queries, for example, to create a relationship with another object:\r\n\r\n        public void savePost(long authorId, String text) {\r\n            Post p = new Post();\r\n            p.setText(text);\r\n\r\n            // No SELECT query here. \r\n            // Existence of Author is ensured by foreign key constraint on Post.\r\n            p.setAuthor(s.load(Author.class, authorId));\r\n\r\n            s.save(p);\r\n        }","title":"What&#39;s the advantage of load() vs get() in Hibernate?","body":"<p>Explanation of semantics of these methods doesn't explain the practical difference between them. Practical rule is the following:</p>\n\n<ul>\n<li><p>Use <code>get()</code> when you want to load an object</p></li>\n<li><p>Use <code>load()</code> when you need to obtain a reference to the object without issuing extra SQL queries, for example, to create a relationship with another object:</p>\n\n<pre><code>public void savePost(long authorId, String text) {\n    Post p = new Post();\n    p.setText(text);\n\n    // No SELECT query here. \n    // Existence of Author is ensured by foreign key constraint on Post.\n    p.setAuthor(s.load(Author.class, authorId));\n\n    s.save(p);\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":106317,"reputation":937,"user_id":283256,"display_name":"Dmitry Sobolev"},"comment_count":0,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1436411788,"creation_date":1319140428,"answer_id":7841462,"question_id":5370482,"body_markdown":"From the &quot;Java Persistence with Hibernate&quot; book, page 405:\r\n&gt; The one difference between get() and load() is how they indicate that\r\n&gt; the instance could not be found. **If no row with the given identifier**\r\n&gt; value exists in the database, **get() returns null**. The **load() method\r\n&gt; throws an ObjectNotFoundException**. It’s your choice what\r\n&gt; error-handling you prefer.\r\n&gt; \r\n&gt; More important, t**he load() method may\r\n&gt; return a proxy**, a placeholder, **without hitting the database**. A\r\n&gt; consequence of this is that you may get an ObjectNotFoundException\r\n&gt; later, as soon as you try to access the returned placeholder and force\r\n&gt; its initialization (this is also called lazy loading; we discuss load\r\n&gt; optimization in later chapters.) The load() method always tries to\r\n&gt; return a proxy, and only returns an initialized object instance if\r\n&gt; it’s already managed by the current persistence context. In the\r\n&gt; example shown earlier, no database hit occurs at all! The **get() method\r\n&gt; on the other hand never returns a proxy, it always hits the database**.\r\n&gt;\r\n&gt; You may ask why this option is useful—after all, you retrieve an\r\n&gt; object to access it. It’s common to obtain a persistent instance to\r\n&gt; assign it as a reference to another instance. For example, imagine\r\n&gt; that you need the item only for a single purpose: to set an\r\n&gt; association with a Comment: aComment.setForAuction(item). If this is\r\n&gt; all you plan to do with the item, a proxy will do fine; there is no\r\n&gt; need to hit the database. In other words, when the Comment is saved,\r\n&gt; you need the foreign key value of an item inserted into the COMMENT\r\n&gt; table. The proxy of an Item provides just that: an identifier value\r\n&gt; wrapped in a placeholder that looks like the real thing.","title":"What&#39;s the advantage of load() vs get() in Hibernate?","body":"<p>From the \"Java Persistence with Hibernate\" book, page 405:</p>\n\n<blockquote>\n  <p>The one difference between get() and load() is how they indicate that\n  the instance could not be found. <strong>If no row with the given identifier</strong>\n  value exists in the database, <strong>get() returns null</strong>. The <strong>load() method\n  throws an ObjectNotFoundException</strong>. It’s your choice what\n  error-handling you prefer.</p>\n  \n  <p>More important, t<strong>he load() method may\n  return a proxy</strong>, a placeholder, <strong>without hitting the database</strong>. A\n  consequence of this is that you may get an ObjectNotFoundException\n  later, as soon as you try to access the returned placeholder and force\n  its initialization (this is also called lazy loading; we discuss load\n  optimization in later chapters.) The load() method always tries to\n  return a proxy, and only returns an initialized object instance if\n  it’s already managed by the current persistence context. In the\n  example shown earlier, no database hit occurs at all! The <strong>get() method\n  on the other hand never returns a proxy, it always hits the database</strong>.</p>\n  \n  <p>You may ask why this option is useful—after all, you retrieve an\n  object to access it. It’s common to obtain a persistent instance to\n  assign it as a reference to another instance. For example, imagine\n  that you need the item only for a single purpose: to set an\n  association with a Comment: aComment.setForAuction(item). If this is\n  all you plan to do with the item, a proxy will do fine; there is no\n  need to hit the database. In other words, when the Comment is saved,\n  you need the foreign key value of an item inserted into the COMMENT\n  table. The proxy of an Item provides just that: an identifier value\n  wrapped in a placeholder that looks like the real thing.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1138237,"reputation":6479,"user_id":1122841,"accept_rate":57,"display_name":"Kaushik Lele"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1328595738,"creation_date":1328595738,"answer_id":9171865,"question_id":5370482,"body_markdown":"When Load is called it returns a Proxy object. Actual select query is still not fired. When we use any of the mapped property for the first time the actual query is fired. If row does not exist in DB it will throw exception. e.g.\r\n \r\n    Software sw = ( Software )session.load(Software.class, 12);\r\nHere sw is of proxy type. And select query is not yet called. \r\nin Eclipse debugger you may see it like\r\n\r\n    sw Software$$EnhancerByCGLIB$$baf24ae0  (id=17)\t\r\n       CGLIB$BOUND         true\t\r\n       CGLIB$CALLBACK_0\tCGLIBLazyInitializer  (id=23)\t\r\n       CGLIB$CALLBACK_1\tnull\t\r\n       CGLIB$CONSTRUCTED\ttrue\t\r\n       id                  null\t\r\n       prop1               null\t\r\n       softwareprop        null\t\r\n\r\n\r\nwhen I use\r\n\r\n     sw.getProp1()\r\nthe select query is fired. And now proxy now knows values for all the mapped properties. \r\n\r\nWhere as when get is called, select query is fired immediately. The returned object is not proxy but of actual class. e.g.\r\n\r\n    Software sw = ( Software )session.get(Software.class, 12);\r\nHere sw is of type Software itself. If row exists then all mapped properties are populated with the values in DB. If row does not exist then sw will be null.\r\n\r\n    sw\tSoftware  (id=17)\t\r\n\tid\tInteger  (id=20)\t\r\n\tprop1\t&quot;prodjlt1&quot; (id=23)\t\r\n\tsoftwareprop\t&quot;softwrjlt1&quot; (id=27)\t\r\n\r\nSo as always said, use load only if you are sure that record does exist in DB. In that case it is harmless to work with the proxy and will be helpful delaying DB query till the mapped property is actually needed. \r\n","title":"What&#39;s the advantage of load() vs get() in Hibernate?","body":"<p>When Load is called it returns a Proxy object. Actual select query is still not fired. When we use any of the mapped property for the first time the actual query is fired. If row does not exist in DB it will throw exception. e.g.</p>\n\n<pre><code>Software sw = ( Software )session.load(Software.class, 12);\n</code></pre>\n\n<p>Here sw is of proxy type. And select query is not yet called. \nin Eclipse debugger you may see it like</p>\n\n<pre><code>sw Software$$EnhancerByCGLIB$$baf24ae0  (id=17) \n   CGLIB$BOUND         true \n   CGLIB$CALLBACK_0 CGLIBLazyInitializer  (id=23)   \n   CGLIB$CALLBACK_1 null    \n   CGLIB$CONSTRUCTED    true    \n   id                  null \n   prop1               null \n   softwareprop        null \n</code></pre>\n\n<p>when I use</p>\n\n<pre><code> sw.getProp1()\n</code></pre>\n\n<p>the select query is fired. And now proxy now knows values for all the mapped properties. </p>\n\n<p>Where as when get is called, select query is fired immediately. The returned object is not proxy but of actual class. e.g.</p>\n\n<pre><code>Software sw = ( Software )session.get(Software.class, 12);\n</code></pre>\n\n<p>Here sw is of type Software itself. If row exists then all mapped properties are populated with the values in DB. If row does not exist then sw will be null.</p>\n\n<pre><code>sw  Software  (id=17)   \nid  Integer  (id=20)    \nprop1   \"prodjlt1\" (id=23)  \nsoftwareprop    \"softwrjlt1\" (id=27)    \n</code></pre>\n\n<p>So as always said, use load only if you are sure that record does exist in DB. In that case it is harmless to work with the proxy and will be helpful delaying DB query till the mapped property is actually needed. </p>\n"},{"tags":[],"owner":{"account_id":82939,"reputation":8206,"user_id":232867,"accept_rate":44,"display_name":"Satya"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1388538194,"creation_date":1388538194,"answer_id":20864703,"question_id":5370482,"body_markdown":" - Use get() when you want to load an object\r\n - Use load() when you need to obtain a reference to the object without\r\n   issuing extra SQL queries, for example, to create a relationship with\r\n   another object:\r\n\r\n*Ex:  if you are trying to load /get Empoyee object  where empid=20. But assume record is not available in DB.*\r\n\r\n     Employee employee1 = session.load(Employee.class,20);  //Step-1\r\n     system.out.println(employee1.getEmployeeId();       //Step-2  --o/p=20\r\n     system.out.println(employee1.getEmployeeName();       //Step-3 --&gt;O/P:ObjectNotFoundException\r\n\r\n  If you use load in step-1 hibernate wont fire any select query to fetch employee record from DB at this moment.At this pint hibernate gives a dummy object ( Proxy ). This dummy object doesnt contain anything. it is new Employee(20).    you can verify this in step-2 \r\nit will print 20. but in step-3 we are trying to find employee information. so at this time hibernate fires a sql query to fetch Empoyee objct. If it is not found in DB.throws ObjectNotFoundException.\r\n  \r\n    Employee employee2 = session.get(Employee.class,20);  //Step-4\r\nfor session.get() hibernate fires a sql query to fetch the data from db. so in our case id=20 not exists in DB. so it will return null.\r\n","title":"What&#39;s the advantage of load() vs get() in Hibernate?","body":"<ul>\n<li>Use get() when you want to load an object</li>\n<li>Use load() when you need to obtain a reference to the object without\nissuing extra SQL queries, for example, to create a relationship with\nanother object:</li>\n</ul>\n\n<p><em>Ex:  if you are trying to load /get Empoyee object  where empid=20. But assume record is not available in DB.</em></p>\n\n<pre><code> Employee employee1 = session.load(Employee.class,20);  //Step-1\n system.out.println(employee1.getEmployeeId();       //Step-2  --o/p=20\n system.out.println(employee1.getEmployeeName();       //Step-3 --&gt;O/P:ObjectNotFoundException\n</code></pre>\n\n<p>If you use load in step-1 hibernate wont fire any select query to fetch employee record from DB at this moment.At this pint hibernate gives a dummy object ( Proxy ). This dummy object doesnt contain anything. it is new Employee(20).    you can verify this in step-2 \nit will print 20. but in step-3 we are trying to find employee information. so at this time hibernate fires a sql query to fetch Empoyee objct. If it is not found in DB.throws ObjectNotFoundException.</p>\n\n<pre><code>Employee employee2 = session.get(Employee.class,20);  //Step-4\n</code></pre>\n\n<p>for session.get() hibernate fires a sql query to fetch the data from db. so in our case id=20 not exists in DB. so it will return null.</p>\n"},{"comments":[{"owner":{"account_id":5448686,"reputation":6798,"user_id":4573839,"accept_rate":89,"display_name":"yu yang Jian"},"score":0,"creation_date":1684046176,"post_id":32964515,"comment_id":134457323,"body_markdown":"6.0 load​(Class, id) is deprecated. docs use getReference(Class, Object) https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/Session.html#load(java.lang.Class,java.lang.Object)","body":"6.0 load​(Class, id) is deprecated. docs use getReference(Class, Object) <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/Session.html#load(java.lang.Class,java.lang.Object)\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/&hellip;</a>"}],"tags":[],"owner":{"account_id":1875874,"reputation":71921,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"comment_count":1,"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1685344300,"creation_date":1444117869,"answer_id":32964515,"question_id":5370482,"body_markdown":"###### Whats the advantage of load() vs get() in Hibernate? \r\n\r\n\r\n\r\n\r\n|                                               load()                                               |                                     get()                                     |\r\n|----------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------|\r\n| Only use  `load()` method if you are sure that the object exists. It is used for **lazy** loading of entities.                                | If you are not sure that the object exist, then use one of  `get()` methods.It is used for immediate loading of entities. |\r\n| `load()` method will throw an exception if the unique id is not found in the database.               | `get()` method will return `null` if the unique id is not found in the database.  |\r\n| `load()` just returns a proxy by default and database won&#39;t be hit until the proxy is first invoked. | `get()` will hit the database immediately.                                      |\r\n\r\n \r\n[source][2]  \r\n\r\n\r\n**Proxy** means, hibernate will prepare some fake object with given identifier value in the memory without hitting a database.  \r\n[![enter image description here][3]][3]\r\n \r\n\r\n**For Example:**   \r\nIf we call `session.load(Student.class,new Integer(107));`   \r\n\r\nhibernate will create one fake Student object [row] in the memory with id 107, but remaining properties of Student class will not even be initialized.\r\n\r\n[Source][4]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/8jVve.jpg\r\n  [2]: http://www.developersbook.com/hibernate/interview-questions/hibernate-interview-questions-faqs-2.php\r\n  [3]: https://i.stack.imgur.com/5HteU.jpg\r\n  [4]: http://www.java4s.com/hibernate/difference-between-hibernate-get-and-load-methods/","title":"What&#39;s the advantage of load() vs get() in Hibernate?","body":"<h6>Whats the advantage of load() vs get() in Hibernate?</h6>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>load()</th>\n<th>get()</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Only use  <code>load()</code> method if you are sure that the object exists. It is used for <strong>lazy</strong> loading of entities.</td>\n<td>If you are not sure that the object exist, then use one of  <code>get()</code> methods.It is used for immediate loading of entities.</td>\n</tr>\n<tr>\n<td><code>load()</code> method will throw an exception if the unique id is not found in the database.</td>\n<td><code>get()</code> method will return <code>null</code> if the unique id is not found in the database.</td>\n</tr>\n<tr>\n<td><code>load()</code> just returns a proxy by default and database won't be hit until the proxy is first invoked.</td>\n<td><code>get()</code> will hit the database immediately.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><a href=\"http://www.developersbook.com/hibernate/interview-questions/hibernate-interview-questions-faqs-2.php\" rel=\"nofollow noreferrer\">source</a></p>\n<p><strong>Proxy</strong> means, hibernate will prepare some fake object with given identifier value in the memory without hitting a database.<br />\n<a href=\"https://i.stack.imgur.com/5HteU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5HteU.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>For Example:</strong><br />\nIf we call <code>session.load(Student.class,new Integer(107));</code></p>\n<p>hibernate will create one fake Student object [row] in the memory with id 107, but remaining properties of Student class will not even be initialized.</p>\n<p><a href=\"http://www.java4s.com/hibernate/difference-between-hibernate-get-and-load-methods/\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":8974122,"reputation":1683,"user_id":6691610,"display_name":"David Pham"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1481644749,"creation_date":1481644749,"answer_id":41125360,"question_id":5370482,"body_markdown":"The performance issues is also major difference between get and load method.\r\n\r\nThe get() method fetches data as soon as it’s executed while the load() method returns a proxy object and fetches only data when object properties is required.\r\nSo that the load() method gets better performance because it support lazy loading.\r\nWhe should use the load() method only when we know data exists because it throws exception when data is not found.\r\nIn case we want to make sure data exists we should use the get() method.\r\n\r\nIn short, you should understand the differential in between, and decide which method is best fix in your application. \r\n\r\nI found this differences on the tutorial [Difference between get and load method in Hibernate][1]\r\n\r\n\r\n  [1]: http://javabycode.com/java-frameworks/hibernate-4-tutorial/difference-between-get-and-load-method-in-hibernate.html","title":"What&#39;s the advantage of load() vs get() in Hibernate?","body":"<p>The performance issues is also major difference between get and load method.</p>\n\n<p>The get() method fetches data as soon as it’s executed while the load() method returns a proxy object and fetches only data when object properties is required.\nSo that the load() method gets better performance because it support lazy loading.\nWhe should use the load() method only when we know data exists because it throws exception when data is not found.\nIn case we want to make sure data exists we should use the get() method.</p>\n\n<p>In short, you should understand the differential in between, and decide which method is best fix in your application. </p>\n\n<p>I found this differences on the tutorial <a href=\"http://javabycode.com/java-frameworks/hibernate-4-tutorial/difference-between-get-and-load-method-in-hibernate.html\" rel=\"noreferrer\">Difference between get and load method in Hibernate</a></p>\n"},{"tags":[],"owner":{"account_id":13744603,"reputation":11,"user_id":9918713,"display_name":"Govind Sudumbrekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528564133,"creation_date":1528564133,"answer_id":50776678,"question_id":5370482,"body_markdown":"**session.load()**:\r\nIt will always return a proxy object with the given identity value, even the identity value is not exists in database. However, when you try to initialize a proxy by retrieve it’s properties from database, it will hit the database with select statement. If no row is found, a ObjectNotFoundException will throw.\r\n\r\n**session.get()**:\r\nIt will always return null , if the identity value is not found in database.\r\n\r\n\r\n\r\n","title":"What&#39;s the advantage of load() vs get() in Hibernate?","body":"<p><strong>session.load()</strong>:\nIt will always return a proxy object with the given identity value, even the identity value is not exists in database. However, when you try to initialize a proxy by retrieve it’s properties from database, it will hit the database with select statement. If no row is found, a ObjectNotFoundException will throw.</p>\n\n<p><strong>session.get()</strong>:\nIt will always return null , if the identity value is not found in database.</p>\n"},{"tags":[],"owner":{"account_id":13506638,"reputation":1925,"user_id":9744452,"display_name":"Vikki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531723443,"creation_date":1531723443,"answer_id":51355973,"question_id":5370482,"body_markdown":"Get() returns the object by fetching it from database or from hibernate cache whereas load() just returns the reference of an object that might not actually exists, it loads the data from database or cache only when you access other properties of the object.\r\n\r\nWith load(), we are able to print the id but as soon as we try to access other fields, it fires database query and throws org.hibernate.ObjectNotFoundException if there is no record found with the given identifier. It’s hibernate specific Runtime Exception, so we don’t need to catch it explicitly.","title":"What&#39;s the advantage of load() vs get() in Hibernate?","body":"<p>Get() returns the object by fetching it from database or from hibernate cache whereas load() just returns the reference of an object that might not actually exists, it loads the data from database or cache only when you access other properties of the object.</p>\n\n<p>With load(), we are able to print the id but as soon as we try to access other fields, it fires database query and throws org.hibernate.ObjectNotFoundException if there is no record found with the given identifier. It’s hibernate specific Runtime Exception, so we don’t need to catch it explicitly.</p>\n"},{"tags":[],"owner":{"account_id":4483439,"reputation":1,"user_id":3646844,"display_name":"Bharat Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683113873,"creation_date":1683113361,"answer_id":76163293,"question_id":5370482,"body_markdown":"Both load() and get() methods are used to retrieve an object from the database in Hibernate. However, there are some key differences between the two methods:\r\n\r\n**Object Initialization**: The load() method returns a proxy object that is lazily initialized, meaning that it doesn&#39;t actually fetch data from the database until the object is first accessed. On the other hand, the get() method fetches the data from the database immediately and returns the fully initialized object.\r\n\r\n**Exception Handling**: If the load() method is called for a non-existent object, Hibernate will throw an ObjectNotFoundException when the proxy is accessed. In contrast, if the get() method is called for a non-existent object, it will return null.\r\n\r\n**Database Hit**: If you call load() method, it hits the database immediately only if you access some other property or method of the returned object. But if you call get() method, it hits the database immediately and returns the complete object, which can be accessed by any of its properties or methods.\r\n\r\n**Performance**: The load() method can improve performance because it doesn&#39;t hit the database immediately, and therefore can reduce the number of queries sent to the database. This can be useful in cases where you need to retrieve a large number of objects. However, if you are certain that the object you are retrieving exists in the database, the get() method can be faster because it fetches the data immediately and avoids the overhead of proxy creation and initialization.\r\n\r\nIn summary, the main advantage of load() is its lazy initialization, which can help to reduce database hits and improve performance in certain situations. However, it is important to be aware of the potential for ObjectNotFoundException errors when using load(). On the other hand, the get() method is more straightforward and can be faster in cases where you need to fetch the object immediately and don&#39;t want to deal with proxy initialization or exceptions.\r\n\r\nYou can find more about hibernate [here][1].\r\n\r\n\r\n  [1]: https://medium.com/@bharatshah1992/say-goodbye-to-tedious-sql-queries-why-every-developer-should-start-using-hibernate-4c57d74a874e","title":"What&#39;s the advantage of load() vs get() in Hibernate?","body":"<p>Both load() and get() methods are used to retrieve an object from the database in Hibernate. However, there are some key differences between the two methods:</p>\n<p><strong>Object Initialization</strong>: The load() method returns a proxy object that is lazily initialized, meaning that it doesn't actually fetch data from the database until the object is first accessed. On the other hand, the get() method fetches the data from the database immediately and returns the fully initialized object.</p>\n<p><strong>Exception Handling</strong>: If the load() method is called for a non-existent object, Hibernate will throw an ObjectNotFoundException when the proxy is accessed. In contrast, if the get() method is called for a non-existent object, it will return null.</p>\n<p><strong>Database Hit</strong>: If you call load() method, it hits the database immediately only if you access some other property or method of the returned object. But if you call get() method, it hits the database immediately and returns the complete object, which can be accessed by any of its properties or methods.</p>\n<p><strong>Performance</strong>: The load() method can improve performance because it doesn't hit the database immediately, and therefore can reduce the number of queries sent to the database. This can be useful in cases where you need to retrieve a large number of objects. However, if you are certain that the object you are retrieving exists in the database, the get() method can be faster because it fetches the data immediately and avoids the overhead of proxy creation and initialization.</p>\n<p>In summary, the main advantage of load() is its lazy initialization, which can help to reduce database hits and improve performance in certain situations. However, it is important to be aware of the potential for ObjectNotFoundException errors when using load(). On the other hand, the get() method is more straightforward and can be faster in cases where you need to fetch the object immediately and don't want to deal with proxy initialization or exceptions.</p>\n<p>You can find more about hibernate <a href=\"https://medium.com/@bharatshah1992/say-goodbye-to-tedious-sql-queries-why-every-developer-should-start-using-hibernate-4c57d74a874e\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":69926,"reputation":12519,"user_id":203204,"accept_rate":72,"display_name":"Anthony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78776,"favorite_count":0,"down_vote_count":1,"up_vote_count":79,"accepted_answer_id":32964515,"answer_count":11,"score":78,"last_activity_date":1685344300,"creation_date":1300645570,"question_id":5370482,"body_markdown":"Can anyone tell me what&#39;s the advantage of `load()` vs `get()` in Hibernate?","title":"What&#39;s the advantage of load() vs get() in Hibernate?","body":"<p>Can anyone tell me what's the advantage of <code>load()</code> vs <code>get()</code> in Hibernate?</p>\n"},{"tags":["java","properties","pom.xml"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685345298,"post_id":76355308,"comment_id":134643162,"body_markdown":"Hello, it is not clear where do you want to read the property defined in pom.xml. Is it in Java code?","body":"Hello, it is not clear where do you want to read the property defined in pom.xml. Is it in Java code?"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1685346333,"post_id":76355308,"comment_id":134643301,"body_markdown":"This is java, I want to read property in any class.","body":"This is java, I want to read property in any class."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1685346671,"post_id":76355308,"comment_id":134643343,"body_markdown":"Assuming you want Maven to replace `${browser}` with `chrome` during the processing of resources, then check out https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html","body":"Assuming you want Maven to replace <code>${browser}</code> with <code>chrome</code> during the processing of resources, then check out <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-resources-plugin/examples/&hellip;</a>"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1685349289,"post_id":76355308,"comment_id":134643694,"body_markdown":"the link does not say precisely how to configure pom.xml file","body":"the link does not say precisely how to configure pom.xml file"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685359619,"post_id":76355308,"comment_id":134645246,"body_markdown":"Yes, it does. It shows an example step by step.","body":"Yes, it does. It shows an example step by step."}],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1685344105,"creation_date":1685344105,"question_id":76355308,"body_markdown":"What should I do to read variable ${variable} from .properties file? So far I have functionality that reads &quot;url=https://www.google.com/&quot; with a use of \r\n`properties.getProperty(&quot;url&quot;))` and it works. \r\n\r\nBut what should I do to read variable that comes from pom.xml ?\r\n\r\nSo in .properties file I have \r\n\r\n    url=https://www.google.com/\r\n    browser=${browser}\r\n\r\nHow should I configure pom file to get value from there ?\r\n\r\nI want to locate the following code in the pom.xml file \r\n\r\n    &lt;browser&gt;chrome&lt;/browser&gt;\r\n\r\nAny dependencies are needed or other things ?\r\n\r\nThank you","title":"Java - how to read .properties files with ${variable} that comes from pom.xml file?","body":"<p>What should I do to read variable ${variable} from .properties file? So far I have functionality that reads &quot;url=https://www.google.com/&quot; with a use of\n<code>properties.getProperty(&quot;url&quot;))</code> and it works.</p>\n<p>But what should I do to read variable that comes from pom.xml ?</p>\n<p>So in .properties file I have</p>\n<pre><code>url=https://www.google.com/\nbrowser=${browser}\n</code></pre>\n<p>How should I configure pom file to get value from there ?</p>\n<p>I want to locate the following code in the pom.xml file</p>\n<pre><code>&lt;browser&gt;chrome&lt;/browser&gt;\n</code></pre>\n<p>Any dependencies are needed or other things ?</p>\n<p>Thank you</p>\n"},{"tags":["java","linux","audio","raspberry-pi"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1685231838,"post_id":76347919,"comment_id":134633138,"body_markdown":"What MediaPlayer class are you talking about?  Do you mean javafx.scene.media.MediaPlayer?","body":"What MediaPlayer class are you talking about?  Do you mean javafx.scene.media.MediaPlayer?"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1685343843,"post_id":76347919,"comment_id":134642971,"body_markdown":"@VGR excuse me, I used javax.sound.sampled.AudioSystem and javax.sound.sampled.Clip classes","body":"@VGR excuse me, I used javax.sound.sampled.AudioSystem and javax.sound.sampled.Clip classes"}],"answers":[{"comments":[{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1685611278,"post_id":76351821,"comment_id":134685361,"body_markdown":"thanks, I can get list of all devices. I have 6 devices on my PC and 4 devices on my RPi. But when I try to call the next code:  Clip shotClip = AudioSystem.getClip(infos[1]) the game falls. The console output is: java.lang.IllegalArgumentException: Line unsupported: interface Clip supporting format PCM_SIGNED unknown sample rate, 16 bit, stereo, 4 bytes/frame, big-endian","body":"thanks, I can get list of all devices. I have 6 devices on my PC and 4 devices on my RPi. But when I try to call the next code:  Clip shotClip = AudioSystem.getClip(infos[1]) the game falls. The console output is: java.lang.IllegalArgumentException: Line unsupported: interface Clip supporting format PCM_SIGNED unknown sample rate, 16 bit, stereo, 4 bytes/frame, big-endian"},{"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"score":0,"creation_date":1685657953,"post_id":76351821,"comment_id":134695512,"body_markdown":"Is it this? https://stackoverflow.com/questions/5808560/error-playing-sound-java-no-line-matching-interface-clip-supporting-format","body":"Is it this? <a href=\"https://stackoverflow.com/questions/5808560/error-playing-sound-java-no-line-matching-interface-clip-supporting-format\" title=\"error playing sound java no line matching interface clip supporting format\">stackoverflow.com/questions/5808560/&hellip;</a>"}],"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685282313,"creation_date":1685281898,"answer_id":76351821,"question_id":76347919,"body_markdown":"```AudioSystem.getMixerInfo()```\r\n and check playback here\r\nhttps://stackoverflow.com/questions/22438353/java-select-audio-device-and-play-mp3\r\nThere are also java bindings here for JACK audio https://github.com/jaudiolibs/jnajack","title":"How to get the array of all sound devices on the computer and select one to play the sound from a Java application?","body":"<p><code>AudioSystem.getMixerInfo()</code>\nand check playback here\n<a href=\"https://stackoverflow.com/questions/22438353/java-select-audio-device-and-play-mp3\">Java select audio device and play .mp3</a>\nThere are also java bindings here for JACK audio <a href=\"https://github.com/jaudiolibs/jnajack\" rel=\"nofollow noreferrer\">https://github.com/jaudiolibs/jnajack</a></p>\n"}],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685343882,"creation_date":1685205691,"question_id":76347919,"body_markdown":"I have a Linux single board computer and want to select the audio output device from a java code to play the music (Raspberry Pi 4B can play audio through 3,5 mm jack, HDMI1 and HDMI2. Is it possible to get the array of all this devices to play the sound and select one of them from Java? To play audio I use either LibGDX sound API or javax.sound.sampled.Clip class. Both play the sound through the 3,5 mm jack and ignore the default sound output in the OS.","title":"How to get the array of all sound devices on the computer and select one to play the sound from a Java application?","body":"<p>I have a Linux single board computer and want to select the audio output device from a java code to play the music (Raspberry Pi 4B can play audio through 3,5 mm jack, HDMI1 and HDMI2. Is it possible to get the array of all this devices to play the sound and select one of them from Java? To play audio I use either LibGDX sound API or javax.sound.sampled.Clip class. Both play the sound through the 3,5 mm jack and ignore the default sound output in the OS.</p>\n"},{"tags":["java","properties"],"answers":[{"comments":[{"owner":{"account_id":367389,"reputation":168,"user_id":713556,"display_name":"Monsieur Max"},"score":0,"creation_date":1456305076,"post_id":6184414,"comment_id":58880363,"body_markdown":"I had to do what you suggested.\n\nSubclass Properties to be able to have a consistent sort and no timestamp.\nNot the best thing to do, copy pasting source code of private method is nasty. But it&#39;s the only way i found.","body":"I had to do what you suggested.  Subclass Properties to be able to have a consistent sort and no timestamp. Not the best thing to do, copy pasting source code of private method is nasty. But it&#39;s the only way i found."},{"owner":{"account_id":6071036,"reputation":940,"user_id":4739861,"accept_rate":32,"display_name":"Gilad Baruchian"},"score":0,"creation_date":1522847994,"post_id":6184414,"comment_id":86312461,"body_markdown":"Worked, had to copy multiple private methods for it.\nHope they will someday add a flag or something.","body":"Worked, had to copy multiple private methods for it. Hope they will someday add a flag or something."},{"owner":{"account_id":2665688,"reputation":447,"user_id":2304197,"display_name":"syme"},"score":0,"creation_date":1552241772,"post_id":6184414,"comment_id":96926349,"body_markdown":"Instead skipping the first line, by using a regex (matching a timestamp comment) to find (and skip) the first match in the first lines of comments, it&#39;s easy to keep the real comments.","body":"Instead skipping the first line, by using a regex (matching a timestamp comment) to find (and skip) the first match in the first lines of comments, it&#39;s easy to keep the real comments."}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1306827715,"creation_date":1306827715,"answer_id":6184414,"question_id":6184335,"body_markdown":"Guess not. This timestamp is printed in [private method on `Properties`][1] and there is no property to control that behaviour.\r\n\r\nOnly idea that comes to my mind: subclass `Properties`, overwrite `store` and copy/paste the content of the `store0` method so that the date comment will not be printed.\r\n\r\n*Or* - provide a custom `BufferedWriter` that prints all *but* the first line (which will fail if you add real comments, because custom comments are printed before the timestamp...)\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Properties.java#Properties.store0%28java.io.BufferedWriter,java.lang.String,boolean%29","title":"Properties.store() - suppress timestamp comment","body":"<p>Guess not. This timestamp is printed in <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Properties.java#Properties.store0%28java.io.BufferedWriter,java.lang.String,boolean%29\">private method on <code>Properties</code></a> and there is no property to control that behaviour.</p>\n\n<p>Only idea that comes to my mind: subclass <code>Properties</code>, overwrite <code>store</code> and copy/paste the content of the <code>store0</code> method so that the date comment will not be printed.</p>\n\n<p><em>Or</em> - provide a custom <code>BufferedWriter</code> that prints all <em>but</em> the first line (which will fail if you add real comments, because custom comments are printed before the timestamp...)</p>\n"},{"tags":[],"owner":{"display_name":"user7094"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306827780,"creation_date":1306827780,"answer_id":6184423,"question_id":6184335,"body_markdown":"Can you not just flag up in your application somewhere when a meaningful configuration change takes place and only write the file if that is set?\r\n\r\nYou might want to look into [Commons Configuration][1] which has a bit more flexibility when it comes to writing and reading things like properties files. In particular, it has methods which attempt to write the exact same properties file (including spacing, comments etc) as the existing properties file.\r\n\r\n\r\n  [1]: http://commons.apache.org/configuration/","title":"Properties.store() - suppress timestamp comment","body":"<p>Can you not just flag up in your application somewhere when a meaningful configuration change takes place and only write the file if that is set?</p>\n\n<p>You might want to look into <a href=\"http://commons.apache.org/configuration/\" rel=\"nofollow\">Commons Configuration</a> which has a bit more flexibility when it comes to writing and reading things like properties files. In particular, it has methods which attempt to write the exact same properties file (including spacing, comments etc) as the existing properties file.</p>\n"},{"comments":[{"owner":{"account_id":103731,"reputation":53285,"user_id":277683,"accept_rate":68,"display_name":"Konrad Garus"},"score":1,"creation_date":1306828233,"post_id":6184425,"comment_id":7192928,"body_markdown":"Doesn&#39;t the fact that `String.hashCode()` is well-defined and stable imply that order of entries in hash table is consistent?","body":"Doesn&#39;t the fact that <code>String.hashCode()</code> is well-defined and stable imply that order of entries in hash table is consistent?"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1306828324,"post_id":6184425,"comment_id":7192942,"body_markdown":"+1 - unsorted: good catch. Had this problem before and really dumped the Properties to &quot;a collection of lines&quot; (a list), sorted them alphabetically and dumped the collection to a file.","body":"+1 - unsorted: good catch. Had this problem before and really dumped the Properties to &quot;a collection of lines&quot; (a list), sorted them alphabetically and dumped the collection to a file."},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":1,"creation_date":1306828442,"post_id":6184425,"comment_id":7192967,"body_markdown":"@Konrad - same set of properties (keys) will always be printed in the same order, but if you add one key, the properties file could be shuffled... at least there&#39;s no guarantee that the other keys keep their ordering","body":"@Konrad - same set of properties (keys) will always be printed in the same order, but if you add one key, the properties file could be shuffled... at least there&#39;s no guarantee that the other keys keep their ordering"}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1306827787,"creation_date":1306827787,"answer_id":6184425,"question_id":6184335,"body_markdown":"Given the source code or Properties, no, it&#39;s not possible. BTW, since Properties is in fact a hash table and since its keys are thus not sorted, you can&#39;t rely on the properties to be always in the same order anyway.\r\n\r\nI would use a custom algorithm to store the properties if I had this requirement. Use the source code of Properties as a starter.","title":"Properties.store() - suppress timestamp comment","body":"<p>Given the source code or Properties, no, it's not possible. BTW, since Properties is in fact a hash table and since its keys are thus not sorted, you can't rely on the properties to be always in the same order anyway.</p>\n\n<p>I would use a custom algorithm to store the properties if I had this requirement. Use the source code of Properties as a starter.</p>\n"},{"comments":[{"owner":{"account_id":2055641,"reputation":504,"user_id":1833472,"display_name":"dpolivaev"},"score":0,"creation_date":1694889577,"post_id":39043903,"comment_id":135951879,"body_markdown":"I had to overwrite entrySet() instead of keys() to get it work\n\n\n    @Override\n    public Set&lt;Entry&lt;Object, Object&gt;&gt; entrySet() {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        TreeSet&lt;java.util.Map.Entry&lt;Object, Object&gt;&gt; treeSet = new TreeSet&lt;Entry&lt;Object, Object&gt;&gt;(\n                Comparator.comparing(e -&gt; ((Comparable&lt;Object&gt;)e.getKey())));\n        treeSet.addAll(super.entrySet());\n        return treeSet;\n    }","body":"I had to overwrite entrySet() instead of keys() to get it work       @Override     public Set&lt;Entry&lt;Object, Object&gt;&gt; entrySet() {         @SuppressWarnings(&quot;unchecked&quot;)         TreeSet&lt;java.util.Map.Entry&lt;Object, Object&gt;&gt; treeSet = new TreeSet&lt;Entry&lt;Object, Object&gt;&gt;(                 Comparator.comparing(e -&gt; ((Comparable&lt;Object&gt;)e.getKey())));         treeSet.addAll(super.entrySet());         return treeSet;     }"}],"tags":[],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1471624481,"creation_date":1471624481,"answer_id":39043903,"question_id":6184335,"body_markdown":"Based on https://stackoverflow.com/a/6184414/242042 here is the implementation I have written that strips out the first line and sorts the keys.\r\n\r\n    public class CleanProperties extends Properties {\r\n    \tprivate static class StripFirstLineStream extends FilterOutputStream {\r\n    \r\n    \t\tprivate boolean firstlineseen = false;\r\n    \r\n    \t\tpublic StripFirstLineStream(final OutputStream out) {\r\n    \t\t\tsuper(out);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void write(final int b) throws IOException {\r\n    \t\t\tif (firstlineseen) {\r\n    \t\t\t\tsuper.write(b);\r\n    \t\t\t} else if (b == &#39;\\n&#39;) {\r\n    \t\t\t\tfirstlineseen = true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tprivate static final long serialVersionUID = 7567765340218227372L;\r\n    \r\n    \t@Override\r\n    \tpublic synchronized Enumeration&lt;Object&gt; keys() {\r\n    \t\treturn Collections.enumeration(new TreeSet&lt;&gt;(super.keySet()));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void store(final OutputStream out, final String comments) throws IOException {\r\n    \t\tsuper.store(new StripFirstLineStream(out), null);\r\n    \t}\r\n    }\r\n\r\nCleaning looks like this\r\n\r\n\t\tfinal Properties props = new CleanProperties();\r\n\t\ttry (final Reader inStream = Files.newBufferedReader(file, Charset.forName(&quot;ISO-8859-1&quot;))) {\r\n\t\t\tprops.load(inStream);\r\n\t\t} catch (final MalformedInputException mie) {\r\n\t\t\tthrow new IOException(&quot;Malformed on &quot; + file, mie);\r\n\t\t}\r\n\t\tif (props.isEmpty()) {\r\n\t\t\tFiles.delete(file);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry (final OutputStream os = Files.newOutputStream(file)) {\r\n\t\t\tprops.store(os, &quot;&quot;);\r\n\t\t}","title":"Properties.store() - suppress timestamp comment","body":"<p>Based on <a href=\"https://stackoverflow.com/a/6184414/242042\">https://stackoverflow.com/a/6184414/242042</a> here is the implementation I have written that strips out the first line and sorts the keys.</p>\n\n<pre><code>public class CleanProperties extends Properties {\n    private static class StripFirstLineStream extends FilterOutputStream {\n\n        private boolean firstlineseen = false;\n\n        public StripFirstLineStream(final OutputStream out) {\n            super(out);\n        }\n\n        @Override\n        public void write(final int b) throws IOException {\n            if (firstlineseen) {\n                super.write(b);\n            } else if (b == '\\n') {\n                firstlineseen = true;\n            }\n        }\n\n    }\n\n    private static final long serialVersionUID = 7567765340218227372L;\n\n    @Override\n    public synchronized Enumeration&lt;Object&gt; keys() {\n        return Collections.enumeration(new TreeSet&lt;&gt;(super.keySet()));\n    }\n\n    @Override\n    public void store(final OutputStream out, final String comments) throws IOException {\n        super.store(new StripFirstLineStream(out), null);\n    }\n}\n</code></pre>\n\n<p>Cleaning looks like this</p>\n\n<pre><code>    final Properties props = new CleanProperties();\n    try (final Reader inStream = Files.newBufferedReader(file, Charset.forName(\"ISO-8859-1\"))) {\n        props.load(inStream);\n    } catch (final MalformedInputException mie) {\n        throw new IOException(\"Malformed on \" + file, mie);\n    }\n    if (props.isEmpty()) {\n        Files.delete(file);\n        return;\n    }\n\n    try (final OutputStream os = Files.newOutputStream(file)) {\n        props.store(os, \"\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13646971,"reputation":11,"user_id":9845755,"display_name":"Sathis Kumaran M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527603155,"creation_date":1527598819,"answer_id":50585088,"question_id":6184335,"body_markdown":"**if you try to modify in the give xxx.conf file it will be useful.**\r\n\r\nThe write method used to skip the First line (#Thu May 26 09:43:52 CEST 2011) in the store method. The write method run till the end of the first line. after it will run normally. \r\n\r\n\r\n    public class CleanProperties extends Properties {\r\n        private static class StripFirstLineStream extends FilterOutputStream {\r\n    \r\n            private boolean firstlineseen = false;\r\n    \r\n            public StripFirstLineStream(final OutputStream out) {\r\n                super(out);\r\n            }\r\n    \r\n            @Override\r\n            public void write(final int b) throws IOException {\r\n                if (firstlineseen) {\r\n                    super.write(b);\r\n                } else if (b == &#39;\\n&#39;) {\r\n\t\t\t\t\t// Used to go to next line if did use this line\r\n\t\t\t\t\t// you will get the continues output from the give file\r\n                \tsuper.write(&#39;\\n&#39;);\r\n\t\t\t\t\t\r\n                    firstlineseen = true;\r\n                }\r\n            }\r\n    \r\n        }\r\n        \r\n        \r\n        private static final long serialVersionUID = 7567765340218227372L;\r\n    \r\n        @Override\r\n        public synchronized Enumeration&lt;java.lang.Object&gt; keys() {\r\n            return Collections.enumeration(new TreeSet&lt;&gt;(super.keySet()));\r\n        }\r\n    \r\n        @Override\r\n        public void store(final OutputStream out, final String comments)\r\n\t\t\tthrows IOException {\r\n            super.store(new StripFirstLineStream(out), null);\r\n        }\r\n    }","title":"Properties.store() - suppress timestamp comment","body":"<p><strong>if you try to modify in the give xxx.conf file it will be useful.</strong></p>\n\n<p>The write method used to skip the First line (#Thu May 26 09:43:52 CEST 2011) in the store method. The write method run till the end of the first line. after it will run normally. </p>\n\n<pre><code>public class CleanProperties extends Properties {\n    private static class StripFirstLineStream extends FilterOutputStream {\n\n        private boolean firstlineseen = false;\n\n        public StripFirstLineStream(final OutputStream out) {\n            super(out);\n        }\n\n        @Override\n        public void write(final int b) throws IOException {\n            if (firstlineseen) {\n                super.write(b);\n            } else if (b == '\\n') {\n                // Used to go to next line if did use this line\n                // you will get the continues output from the give file\n                super.write('\\n');\n\n                firstlineseen = true;\n            }\n        }\n\n    }\n\n\n    private static final long serialVersionUID = 7567765340218227372L;\n\n    @Override\n    public synchronized Enumeration&lt;java.lang.Object&gt; keys() {\n        return Collections.enumeration(new TreeSet&lt;&gt;(super.keySet()));\n    }\n\n    @Override\n    public void store(final OutputStream out, final String comments)\n        throws IOException {\n        super.store(new StripFirstLineStream(out), null);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2164426,"reputation":61,"user_id":1917821,"display_name":"Logan Waggoner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581400312,"creation_date":1581400312,"answer_id":60162749,"question_id":6184335,"body_markdown":"You can handle this question by following this Stack Overflow post to retain order:\r\n\r\nWrite in a standard order:\r\nhttps://stackoverflow.com/questions/17011108/how-can-i-write-java-properties-in-a-defined-order\r\n\r\nThen write the properties to a string and remove the comments as needed. Finally write to a file.\r\n\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    properties.store(baos,null);\r\n\r\n    String propertiesData = baos.toString(StandardCharsets.UTF_8.name());\r\n\r\n    propertiesData = propertiesData.replaceAll(&quot;^#.*(\\r|\\n)+&quot;,&quot;&quot;); // remove all comments\r\n\r\n    FileUtils.writeStringToFile(fileTarget,propertiesData,StandardCharsets.UTF_8);\r\n\r\n    // you may want to validate the file is readable by reloading and doing tests to validate the expected number of keys matches\r\n    InputStream is = new FileInputStream(fileTarget);\r\n    Properties testResult = new Properties();\r\n    testResult.load(is);","title":"Properties.store() - suppress timestamp comment","body":"<p>You can handle this question by following this Stack Overflow post to retain order:</p>\n\n<p>Write in a standard order:\n<a href=\"https://stackoverflow.com/questions/17011108/how-can-i-write-java-properties-in-a-defined-order\">How can I write Java properties in a defined order?</a></p>\n\n<p>Then write the properties to a string and remove the comments as needed. Finally write to a file.</p>\n\n<pre><code>ByteArrayOutputStream baos = new ByteArrayOutputStream();\nproperties.store(baos,null);\n\nString propertiesData = baos.toString(StandardCharsets.UTF_8.name());\n\npropertiesData = propertiesData.replaceAll(\"^#.*(\\r|\\n)+\",\"\"); // remove all comments\n\nFileUtils.writeStringToFile(fileTarget,propertiesData,StandardCharsets.UTF_8);\n\n// you may want to validate the file is readable by reloading and doing tests to validate the expected number of keys matches\nInputStream is = new FileInputStream(fileTarget);\nProperties testResult = new Properties();\ntestResult.load(is);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":411142,"reputation":34094,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685343497,"creation_date":1685343497,"answer_id":76355248,"question_id":6184335,"body_markdown":"I was able to use java streams as follows:\r\n\r\n&gt;\t\t\tList&lt;String&gt; lines = com.google.common.io.Files.readLines(propertiesFile, Charset.defaultCharset());\r\n&gt;\t\t\tlines.remove(0);\r\n&gt;\t\t\ttry (BufferedWriter writer = new BufferedWriter(new FileWriter(propertiesFile))) {\r\n&gt;\t\t\t\tlines.stream().forEach(p -&gt; {\r\n&gt;\t\t\t\t\ttry {\r\n&gt;\t\t\t\t\t\twriter.write(p + &quot;\\n&quot;);\r\n&gt;\t\t\t\t\t} catch (IOException e) {\r\n&gt;\t\t\t\t\t\tLOG.error(e.getMessage(), e);\r\n&gt;\t\t\t\t\t}\r\n&gt;\t\t\t\t});\r\n&gt;\t\t\t}\r\n\r\nAs a bonus, it&#39;s written in a sorted manner.","title":"Properties.store() - suppress timestamp comment","body":"<p>I was able to use java streams as follows:</p>\n<blockquote>\n<pre><code>      List&lt;String&gt; lines = com.google.common.io.Files.readLines(propertiesFile, Charset.defaultCharset());\n      lines.remove(0);\n      try (BufferedWriter writer = new BufferedWriter(new FileWriter(propertiesFile))) {\n          lines.stream().forEach(p -&gt; {\n              try {\n                  writer.write(p + &quot;\\n&quot;);\n              } catch (IOException e) {\n                  LOG.error(e.getMessage(), e);\n              }\n          });\n      }\n</code></pre>\n</blockquote>\n<p>As a bonus, it's written in a sorted manner.</p>\n"}],"owner":{"account_id":103731,"reputation":53285,"user_id":277683,"accept_rate":68,"display_name":"Konrad Garus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13678,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":6184425,"answer_count":7,"score":36,"last_activity_date":1685343497,"creation_date":1306827250,"question_id":6184335,"body_markdown":"Is it possible to force `Properties` not to add the date comment in front? I mean something like the first line here:\r\n\r\n    #Thu May 26 09:43:52 CEST 2011\r\n    main=pkg.ClientMain\r\n    args=myargs\r\n\r\nI would like to get rid of it altogether. I need my config files to be diff-identical unless there is a *meaningful* change.","title":"Properties.store() - suppress timestamp comment","body":"<p>Is it possible to force <code>Properties</code> not to add the date comment in front? I mean something like the first line here:</p>\n\n<pre><code>#Thu May 26 09:43:52 CEST 2011\nmain=pkg.ClientMain\nargs=myargs\n</code></pre>\n\n<p>I would like to get rid of it altogether. I need my config files to be diff-identical unless there is a <em>meaningful</em> change.</p>\n"},{"tags":["java","spring","spring-security"],"answers":[{"tags":[],"owner":{"account_id":27113079,"reputation":11,"user_id":20657915,"display_name":"olly.exe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685299779,"creation_date":1685299779,"answer_id":76353104,"question_id":76302321,"body_markdown":"You have to create valid mapping to selected path, i assume you are using thymeleaf as template engine, in order to work, in your REST controller create a mapping for example: \r\n\r\n    @GetMapping(value = &quot;/admin/login&quot;)\r\n        public String login(){\r\n            return &quot;login&quot;;\r\n        }\r\n\r\n&quot;YourHtmlLoginFileName&quot; is the name of the file in your /resources/templates whithout extension.","title":"Spring security login can&#39;t find view and get Resource not found HTTP 404","body":"<p>You have to create valid mapping to selected path, i assume you are using thymeleaf as template engine, in order to work, in your REST controller create a mapping for example:</p>\n<pre><code>@GetMapping(value = &quot;/admin/login&quot;)\n    public String login(){\n        return &quot;login&quot;;\n    }\n</code></pre>\n<p>&quot;YourHtmlLoginFileName&quot; is the name of the file in your /resources/templates whithout extension.</p>\n"},{"tags":[],"owner":{"account_id":7743874,"reputation":338,"user_id":5862485,"display_name":"Sharofiddin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685343141,"creation_date":1685343141,"answer_id":76355218,"question_id":76302321,"body_markdown":"Check your `contextPath` key in your configuration file (e.g. application.properties or application.yml). If you have this param, you have to add `/{contextPath.value}` before your requets.","title":"Spring security login can&#39;t find view and get Resource not found HTTP 404","body":"<p>Check your <code>contextPath</code> key in your configuration file (e.g. application.properties or application.yml). If you have this param, you have to add <code>/{contextPath.value}</code> before your requets.</p>\n"}],"owner":{"account_id":1523386,"reputation":1816,"user_id":1422434,"accept_rate":59,"display_name":"Genaut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1685343141,"creation_date":1684711728,"question_id":76302321,"body_markdown":"I am working on a little **Spring boot** project. I have setted up a spring security config to enable **h2console**, *public endpoints*..\r\n\r\nI can access to this public endpoints. Anyway when I try access to /admin/login I a get an **404 HTTP** error and this message in the console log:\r\n\r\n    2023-05-23T18:01:07.248+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m GET &quot;/admin/login&quot;, parameters={}\r\n    [2m2023-05-23T18:01:07.248+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.w.s.handler.SimpleUrlHandlerMapping [0;39m [2m:[0;39m Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n    [2m2023-05-23T18:01:07.249+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.w.s.r.ResourceHttpRequestHandler    [0;39m [2m:[0;39m Resource not found\r\n    [2m2023-05-23T18:01:07.249+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed 404 NOT_FOUND\r\n    [2m2023-05-23T18:01:07.250+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36ms.w.s.m.m.a.RequestMappingHandlerMapping[0;39m [2m:[0;39m Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n    [2m2023-05-23T18:01:07.250+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36ms.w.s.m.m.a.RequestMappingHandlerMapping[0;39m [2m:[0;39m Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n    [2m2023-05-23T18:01:07.250+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36ms.w.s.m.m.a.RequestMappingHandlerMapping[0;39m [2m:[0;39m Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n    [2m2023-05-23T18:01:07.250+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36ms.w.s.m.m.a.RequestMappingHandlerMapping[0;39m [2m:[0;39m Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n    [2m2023-05-23T18:01:07.250+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\r\n    [2m2023-05-23T18:01:07.250+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36ms.w.s.m.m.a.RequestMappingHandlerMapping[0;39m [2m:[0;39m Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n    [2m2023-05-23T18:01:07.251+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.w.s.m.m.a.HttpEntityMethodProcessor [0;39m [2m:[0;39m Using &#39;application/json&#39;, given [image/gif, image/jpeg, image/pjpeg, application/x-ms-application, application/xaml+xml, application/x-ms-xbap, */*] and supported [application/json, application/*+json]\r\n    [2m2023-05-23T18:01:07.251+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.w.s.m.m.a.HttpEntityMethodProcessor [0;39m [2m:[0;39m Writing [{timestamp=Tue May 23 18:01:07 CEST 2023, status=404, error=Not Found, message=No message available, (truncated)...]\r\n    [2m2023-05-23T18:01:07.251+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Exiting from &quot;ERROR&quot; dispatch, status 404\r\n\r\n\r\nThis is my **spring security http config**:\r\n\r\n    @Bean\r\n    \tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n    \t\t\t.csrf((csrf) -&gt; csrf.disable())\r\n    \t\t\t\r\n    \t\t\t.authorizeHttpRequests((authorize) -&gt;\r\n    \t\t\t\tauthorize\r\n    \t\t\t\t\r\n    \t\t\t\t\t.requestMatchers(\r\n    \t\t\t\t\t\tPathRequest.toH2Console()\r\n    \t\t\t\t\t).permitAll()\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t.requestMatchers(\r\n    \t\t\t\t\t\t&quot;/api/auth/login&quot;,\r\n    \t\t\t\t\t\t&quot;/api/auth/logout&quot;,\r\n    \t\t\t\t\t\t&quot;/admin/login&quot;,\r\n    \t\t\t\t\t\t&quot;/error&quot;\r\n    \t\t\t\t\t).permitAll()\r\n    \t\t\t\t\r\n    \t\t\t).formLogin((formLogin) -&gt;\r\n    \t\t\t\tformLogin\r\n    \t\t\t\t\t.usernameParameter(&quot;username&quot;)\r\n    \t\t\t\t\t.passwordParameter(&quot;password&quot;)\r\n    \t\t\t\t\t.loginPage(&quot;/admin/login&quot;)\r\n    \t\t\t\t\t.failureUrl(&quot;/admin/login?failed&quot;)\r\n    \t\t\t\t\t.loginProcessingUrl(&quot;/admin/login/process&quot;)\r\n    \t\t\t\t\t.permitAll()\r\n    \t\t\t\t\t\r\n    \t\t\t).logout((logout) -&gt;\r\n    \t\t\t\tlogout\r\n    \t\t\t\t\t.deleteCookies(&quot;JSESSIONID&quot;)\r\n    \t\t\t\t\t.invalidateHttpSession(true)\r\n    \t\t\t\t\t.logoutUrl(&quot;/api/auth/logout&quot;)\r\n    \t\t\t\t\t.logoutSuccessUrl(&quot;/logout-success&quot;)\r\n    \t\t\t\t\t\r\n    \t\t\t).headers((headers) -&gt;\r\n    \t\t\t\theaders\r\n    \t\t\t\t\t.frameOptions(frameOptions -&gt; frameOptions.sameOrigin())\r\n    \t\t\t)\r\n    \t\t;\r\n    \t\treturn http.build();\r\n    }\r\n\r\nI tested putting my &quot;**admin/login.html**&quot; in &quot;**/resources, /resources/static and /resources/templates**&quot; (like console log show) but continue not working in any of this directories.\r\n","title":"Spring security login can&#39;t find view and get Resource not found HTTP 404","body":"<p>I am working on a little <strong>Spring boot</strong> project. I have setted up a spring security config to enable <strong>h2console</strong>, <em>public endpoints</em>..</p>\n<p>I can access to this public endpoints. Anyway when I try access to /admin/login I a get an <strong>404 HTTP</strong> error and this message in the console log:</p>\n<pre><code>2023-05-23T18:01:07.248+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m GET &quot;/admin/login&quot;, parameters={}\n[2m2023-05-23T18:01:07.248+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.w.s.handler.SimpleUrlHandlerMapping [0;39m [2m:[0;39m Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n[2m2023-05-23T18:01:07.249+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.w.s.r.ResourceHttpRequestHandler    [0;39m [2m:[0;39m Resource not found\n[2m2023-05-23T18:01:07.249+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed 404 NOT_FOUND\n[2m2023-05-23T18:01:07.250+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36ms.w.s.m.m.a.RequestMappingHandlerMapping[0;39m [2m:[0;39m Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n[2m2023-05-23T18:01:07.250+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36ms.w.s.m.m.a.RequestMappingHandlerMapping[0;39m [2m:[0;39m Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n[2m2023-05-23T18:01:07.250+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36ms.w.s.m.m.a.RequestMappingHandlerMapping[0;39m [2m:[0;39m Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n[2m2023-05-23T18:01:07.250+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36ms.w.s.m.m.a.RequestMappingHandlerMapping[0;39m [2m:[0;39m Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n[2m2023-05-23T18:01:07.250+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\n[2m2023-05-23T18:01:07.250+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36ms.w.s.m.m.a.RequestMappingHandlerMapping[0;39m [2m:[0;39m Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n[2m2023-05-23T18:01:07.251+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.w.s.m.m.a.HttpEntityMethodProcessor [0;39m [2m:[0;39m Using 'application/json', given [image/gif, image/jpeg, image/pjpeg, application/x-ms-application, application/xaml+xml, application/x-ms-xbap, */*] and supported [application/json, application/*+json]\n[2m2023-05-23T18:01:07.251+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.w.s.m.m.a.HttpEntityMethodProcessor [0;39m [2m:[0;39m Writing [{timestamp=Tue May 23 18:01:07 CEST 2023, status=404, error=Not Found, message=No message available, (truncated)...]\n[2m2023-05-23T18:01:07.251+02:00[0;39m [32mDEBUG[0;39m [35m21672[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Exiting from &quot;ERROR&quot; dispatch, status 404\n</code></pre>\n<p>This is my <strong>spring security http config</strong>:</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .csrf((csrf) -&gt; csrf.disable())\n            \n            .authorizeHttpRequests((authorize) -&gt;\n                authorize\n                \n                    .requestMatchers(\n                        PathRequest.toH2Console()\n                    ).permitAll()\n                        \n                    .requestMatchers(\n                        &quot;/api/auth/login&quot;,\n                        &quot;/api/auth/logout&quot;,\n                        &quot;/admin/login&quot;,\n                        &quot;/error&quot;\n                    ).permitAll()\n                \n            ).formLogin((formLogin) -&gt;\n                formLogin\n                    .usernameParameter(&quot;username&quot;)\n                    .passwordParameter(&quot;password&quot;)\n                    .loginPage(&quot;/admin/login&quot;)\n                    .failureUrl(&quot;/admin/login?failed&quot;)\n                    .loginProcessingUrl(&quot;/admin/login/process&quot;)\n                    .permitAll()\n                    \n            ).logout((logout) -&gt;\n                logout\n                    .deleteCookies(&quot;JSESSIONID&quot;)\n                    .invalidateHttpSession(true)\n                    .logoutUrl(&quot;/api/auth/logout&quot;)\n                    .logoutSuccessUrl(&quot;/logout-success&quot;)\n                    \n            ).headers((headers) -&gt;\n                headers\n                    .frameOptions(frameOptions -&gt; frameOptions.sameOrigin())\n            )\n        ;\n        return http.build();\n}\n</code></pre>\n<p>I tested putting my &quot;<strong>admin/login.html</strong>&quot; in &quot;<strong>/resources, /resources/static and /resources/templates</strong>&quot; (like console log show) but continue not working in any of this directories.</p>\n"},{"tags":["java","mysql","excel"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685353783,"post_id":76355153,"comment_id":134644348,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1685357051,"post_id":76355153,"comment_id":134644882,"body_markdown":"Tips: Create a separate application model using one or more plain Java getter/setter classes.  When and only when you successfully attach to your database, read information from the database, and write information to the database do you even consider coding the GUI.","body":"Tips: Create a separate application model using one or more plain Java getter/setter classes.  When and only when you successfully attach to your database, read information from the database, and write information to the database do you even consider coding the GUI."}],"owner":{"account_id":28700433,"reputation":1,"user_id":21977708,"display_name":"Shadowhfz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685342339,"creation_date":1685342339,"question_id":76355153,"body_markdown":"Jtable and mysql auto incremental\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;javax.swing.table.DefaultTableModel.getValueAt(int, int)&quot; is null\r\n\r\nHai, im new to java and mysql. i want to make a database system where i can upload my data to jtable and then i can import it to mysql. but i just got a problem where Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;javax.swing.table.DefaultTableModel.getValueAt(int, int)&quot; is null. can i know any tips for doing this kind of system. thank you","title":"Jtable and mysql auto incremental","body":"<p>Jtable and mysql auto incremental\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;javax.swing.table.DefaultTableModel.getValueAt(int, int)&quot; is null</p>\n<p>Hai, im new to java and mysql. i want to make a database system where i can upload my data to jtable and then i can import it to mysql. but i just got a problem where Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;javax.swing.table.DefaultTableModel.getValueAt(int, int)&quot; is null. can i know any tips for doing this kind of system. thank you</p>\n"},{"tags":["java","node.js","rsa","padding","badpaddingexception"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1685387672,"post_id":76355081,"comment_id":134650012,"body_markdown":"You might as well show example plaintext input and ciphertext output from the NodeJS `encryptFromKey` function.","body":"You might as well show example plaintext input and ciphertext output from the NodeJS <code>encryptFromKey</code> function."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1685389852,"post_id":76355081,"comment_id":134650307,"body_markdown":"I&#39;m not sure this is a [mre] at this point. Since the private key is actually PKCS#1 formatted rather than PKCS#8 formatted this would normally throw an exception in `KeyFactory.generatePrivate`. If, however, one adds the Bouncycastle provider to the provider list then `KeyFactory.generatePrivate` will work as apparently the Bouncycastle provider is more tolerant in what it accepts in a PKCS8EncodedKeySpec.","body":"I&#39;m not sure this is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> at this point. Since the private key is actually PKCS#1 formatted rather than PKCS#8 formatted this would normally throw an exception in <code>KeyFactory.generatePrivate</code>. If, however, one adds the Bouncycastle provider to the provider list then <code>KeyFactory.generatePrivate</code> will work as apparently the Bouncycastle provider is more tolerant in what it accepts in a PKCS8EncodedKeySpec."},{"owner":{"account_id":13982924,"reputation":1,"user_id":10098690,"display_name":"vivek"},"score":1,"creation_date":1685950138,"post_id":76355081,"comment_id":134726831,"body_markdown":"@PresidentJamesK.Polk The Java code is example code shared by another team. This is the code they are using for decryption and cannot be changed. On the other hand I can modify anything in NodeJS and publicEncrypt can only accepts the key in the above format.","body":"@PresidentJamesK.Polk The Java code is example code shared by another team. This is the code they are using for decryption and cannot be changed. On the other hand I can modify anything in NodeJS and publicEncrypt can only accepts the key in the above format."}],"owner":{"account_id":13982924,"reputation":1,"user_id":10098690,"display_name":"vivek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685341615,"creation_date":1685341435,"question_id":76355081,"body_markdown":"RSA encryption with NodeJS and Decryption in Java throwing BadPaddingException.\r\n\r\nI issue is I cannot touch Java code as it is legacy code written by another team. \r\n\r\nThe Java code is another server code which is throwing BadPaddingException: \r\n\r\nMy NodeJS code is : \r\n\r\n```\r\nencryptFromKey(toEncrypt: string) {\r\n    const absolutePath = path.resolve(&#39;./src/keys/pub_key.key&#39;);\r\n    var publicKey = fs.readFileSync(absolutePath);\r\n    const buffer = Buffer.from(toEncrypt);\r\n    const keyObject = {\r\n      key: publicKey,\r\n      padding: constants.RSA_PKCS1_PADDING,\r\n    };\r\n    const encrypted = publicEncrypt(keyObject, buffer);\r\n    return encrypted.toString(&#39;base64&#39;);\r\n  }\r\n\r\n\r\n```\r\n\r\nThe java decryption code is : \r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\nString aesKeyEnc = &quot;Encrypted Data&quot;;\r\n        System.out.println(&quot;aesKeyEnc -- &quot; + aesKeyEnc);\r\n\r\n        byte[] aesKey = rsaDecrypt(Base64.decodeBase64(aesKeyEnc), getPrivateKey());\r\n        System.out.println(&quot;AES Key -- &quot; + aesKey.length);\r\n\r\n}\r\n    public static PrivateKey getPrivateKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n        PrivateKey privateKey = null;\r\n\r\n        String priKey2 = &quot;MIIEoQIBAAKCAQBT/jDz6mAMBtqgZDfzZZjtWowkMkgj1CCRAJuqGN9a5eFanrFP\\n&quot;+\r\n                &quot;9NQA6s3Ankp2g4sBavB5JaOR4/kJSJ54naaxqe2LctsXH6y/xZ3Y1XDDt+6oeU94\\n&quot;+\r\n                &quot;EghoPAryAc9SNx1WFMeq0ihRu9wi+SeswUPS82l4L/5YoYsn52Cm17vnALhnOE08\\n&quot;+\r\n                &quot;5aFEf3dUN+ol1Yw41mvvx8IZR+H4FAUQlUgZVCKsorHbC3bOYjO7mBN6QVtTly8z\\n&quot;+\r\n                &quot;/PV3DgTYkKN4zWgsif/S3bDPhoxocswtYHi8azUk56VgGwLNsuBZQ7YkWqE9WwQq\\n&quot;+\r\n                &quot;JQynBg1PFkTao0bIHGVzq0lo0I1c3IVrk9tbAgMBAAECggEAS14hIQ3jZ4dS8G9d\\n&quot;+\r\n                &quot;QVueEQWaEPTJhNTY8CRCiixNZ6w1PfJ+GsgO4E/RlpCzMosw1XHXHG4oy0Vsduch\\n&quot;+\r\n                &quot;xAt6w5s+W04RyDsU8PPrguFrkUPftG8+XviXcKjIDYaQOS7ZdR+qVt7DbSwMCZnW\\n&quot;+\r\n                &quot;/w5gxM7EiiNOsMssKf9V3ABjTJFw3PqQ0ogTa3FylWIq5D8cJGIZS3thHedSYBuK\\n&quot;+\r\n                &quot;CkNlJKsyMNpmFxSU1hFJdulFBfzBOjFcBe8zRDH9jWQ16yNHiUkkBVHfaCECL8lV\\n&quot;+\r\n                &quot;p5gd4+mP4Y3DBUT42nwFB2z+qQAaZbA+HazbO7+Zp4R2d5XQ5hnS/5rfFI4o8BVx\\n&quot;+\r\n                &quot;7siGyQKBgQClOwhVQ7t/ln4PiZjio3RbpjqOWLMYTgQH6u2f1A2LL027wlEA9CRh\\n&quot;+\r\n                &quot;mUq+rcsdREPFaDWAlrIktdHd28YvFdLCYw+qRaxPWPtXodJuDJn1uT4bJa21vG+r\\n&quot;+\r\n                &quot;TN5I0iimjTDNQAyXpgX3Ces00jTODg7ALjjeD+0LnFmXqZf41RkgBQKBgQCCImq4\\n&quot;+\r\n                &quot;eg0HzUiys9Znzh309R8JzsOjch4qKXAGdXxkROobTu2gyeGTjXGxYUiW1/4M7Hr6\\n&quot;+\r\n                &quot;TFxJ1WpXUdPmWAMwpwKtAXsjeSC2PdvkSTWMHWgfmnoUDc0JBFm+/fze9M+bFcXl\\n&quot;+\r\n                &quot;BJ2aQPcbuQvNtyOqlu8kkLMOE6kdjqxDv6nL3wKBgC+QiNuSvf0Co5NxdtN3Xl2r\\n&quot;+\r\n                &quot;wpuLqTLL8pkc5f7mmmeA3I26aHsvzPFToZK2kQwBxMilMRGtT+cFeD63r5uKWrue\\n&quot;+\r\n                &quot;rLnFiM7mvKQDb4JCmmeERf6moBT7A+J6JFsuNImNh4jucTGOl5UAA/eWs6DFpzVn\\n&quot;+\r\n                &quot;mPND/mcjQR9JsPfu0GbJAoGABidQepay5QqNBH5ChjgV7I5mwFT5pVHxITdCZ9vI\\n&quot;+\r\n                &quot;XQlxNIdf7zl8pDiNBsE96HwgNEY+bnWL66Xe2HAzH/JLfFJ5aurmAsBojpWQP1RC\\n&quot;+\r\n                &quot;5vRBBzWLzkT0zBdbkw95lKVo58F40SKNvUyTIsl2SGz/j8KBXm5FOUYuugoUFUQL\\n&quot;+\r\n                &quot;6GsCgYASQ+Fib0IqHYoZWffb+UfZfbDiyTY//fsorQUIK55PlrrcZoNMhkLpYZrG\\n&quot;+\r\n                &quot;W39ET1fAW8jKiTWaExvdNeR+RUBirlsheTrufM5filSs0UJi9srxE2atY4eSJHhg\\n&quot;+\r\n                &quot;cIIbKMYFDQCPbS8uQuvIvmLXPYuKMyXhgPDehSTcVzDvJQlWJQ==\\n&quot;;\r\n\r\n\r\n\r\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(Base64.decodeBase64(priKey.getBytes()));\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        privateKey = keyFactory.generatePrivate(keySpec);\r\n        return privateKey;\r\n    }\r\n\r\n    private static byte[] rsaDecrypt(byte[] data, Key key) throws NoSuchPaddingException, NoSuchAlgorithmException,\r\n            InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1PADDING&quot;);\r\n        cipher.init(Cipher.DECRYPT_MODE, key);\r\n        return cipher.doFinal(data);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe public key in pub_key.key is : \r\n\r\n```\r\n-----BEGIN PUBLIC KEY-----\r\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQBT/jDz6mAMBtqgZDfzZZjt\r\nWowkMkgj1CCRAJuqGN9a5eFanrFP9NQA6s3Ankp2g4sBavB5JaOR4/kJSJ54naax\r\nqe2LctsXH6y/xZ3Y1XDDt+6oeU94EghoPAryAc9SNx1WFMeq0ihRu9wi+SeswUPS\r\n82l4L/5YoYsn52Cm17vnALhnOE085aFEf3dUN+ol1Yw41mvvx8IZR+H4FAUQlUgZ\r\nVCKsorHbC3bOYjO7mBN6QVtTly8z/PV3DgTYkKN4zWgsif/S3bDPhoxocswtYHi8\r\nazUk56VgGwLNsuBZQ7YkWqE9WwQqJQynBg1PFkTao0bIHGVzq0lo0I1c3IVrk9tb\r\nAgMBAAE=\r\n-----END PUBLIC KEY-----\r\n\r\n```\r\n\r\nThe private key is : \r\n\r\n```\r\n-----BEGIN RSA PRIVATE KEY-----\r\nMIIEoQIBAAKCAQBT/jDz6mAMBtqgZDfzZZjtWowkMkgj1CCRAJuqGN9a5eFanrFP\r\n9NQA6s3Ankp2g4sBavB5JaOR4/kJSJ54naaxqe2LctsXH6y/xZ3Y1XDDt+6oeU94\r\nEghoPAryAc9SNx1WFMeq0ihRu9wi+SeswUPS82l4L/5YoYsn52Cm17vnALhnOE08\r\n5aFEf3dUN+ol1Yw41mvvx8IZR+H4FAUQlUgZVCKsorHbC3bOYjO7mBN6QVtTly8z\r\n/PV3DgTYkKN4zWgsif/S3bDPhoxocswtYHi8azUk56VgGwLNsuBZQ7YkWqE9WwQq\r\nJQynBg1PFkTao0bIHGVzq0lo0I1c3IVrk9tbAgMBAAECggEAS14hIQ3jZ4dS8G9d\r\nQVueEQWaEPTJhNTY8CRCiixNZ6w1PfJ+GsgO4E/RlpCzMosw1XHXHG4oy0Vsduch\r\nxAt6w5s+W04RyDsU8PPrguFrkUPftG8+XviXcKjIDYaQOS7ZdR+qVt7DbSwMCZnW\r\n/w5gxM7EiiNOsMssKf9V3ABjTJFw3PqQ0ogTa3FylWIq5D8cJGIZS3thHedSYBuK\r\nCkNlJKsyMNpmFxSU1hFJdulFBfzBOjFcBe8zRDH9jWQ16yNHiUkkBVHfaCECL8lV\r\np5gd4+mP4Y3DBUT42nwFB2z+qQAaZbA+HazbO7+Zp4R2d5XQ5hnS/5rfFI4o8BVx\r\n7siGyQKBgQClOwhVQ7t/ln4PiZjio3RbpjqOWLMYTgQH6u2f1A2LL027wlEA9CRh\r\nmUq+rcsdREPFaDWAlrIktdHd28YvFdLCYw+qRaxPWPtXodJuDJn1uT4bJa21vG+r\r\nTN5I0iimjTDNQAyXpgX3Ces00jTODg7ALjjeD+0LnFmXqZf41RkgBQKBgQCCImq4\r\neg0HzUiys9Znzh309R8JzsOjch4qKXAGdXxkROobTu2gyeGTjXGxYUiW1/4M7Hr6\r\nTFxJ1WpXUdPmWAMwpwKtAXsjeSC2PdvkSTWMHWgfmnoUDc0JBFm+/fze9M+bFcXl\r\nBJ2aQPcbuQvNtyOqlu8kkLMOE6kdjqxDv6nL3wKBgC+QiNuSvf0Co5NxdtN3Xl2r\r\nwpuLqTLL8pkc5f7mmmeA3I26aHsvzPFToZK2kQwBxMilMRGtT+cFeD63r5uKWrue\r\nrLnFiM7mvKQDb4JCmmeERf6moBT7A+J6JFsuNImNh4jucTGOl5UAA/eWs6DFpzVn\r\nmPND/mcjQR9JsPfu0GbJAoGABidQepay5QqNBH5ChjgV7I5mwFT5pVHxITdCZ9vI\r\nXQlxNIdf7zl8pDiNBsE96HwgNEY+bnWL66Xe2HAzH/JLfFJ5aurmAsBojpWQP1RC\r\n5vRBBzWLzkT0zBdbkw95lKVo58F40SKNvUyTIsl2SGz/j8KBXm5FOUYuugoUFUQL\r\n6GsCgYASQ+Fib0IqHYoZWffb+UfZfbDiyTY//fsorQUIK55PlrrcZoNMhkLpYZrG\r\nW39ET1fAW8jKiTWaExvdNeR+RUBirlsheTrufM5filSs0UJi9srxE2atY4eSJHhg\r\ncIIbKMYFDQCPbS8uQuvIvmLXPYuKMyXhgPDehSTcVzDvJQlWJQ==\r\n-----END RSA PRIVATE KEY-----\r\n```\r\n\r\n \r\n\r\nHow can I fix this bad padding exception. I am not sure if this is encoding issue.","title":"RSA decryption in Java is throwing BadPaddingException when encrypted in NodeJS (RSA/ECB/PKCS1PADDING)","body":"<p>RSA encryption with NodeJS and Decryption in Java throwing BadPaddingException.</p>\n<p>I issue is I cannot touch Java code as it is legacy code written by another team.</p>\n<p>The Java code is another server code which is throwing BadPaddingException:</p>\n<p>My NodeJS code is :</p>\n<pre><code>encryptFromKey(toEncrypt: string) {\n    const absolutePath = path.resolve('./src/keys/pub_key.key');\n    var publicKey = fs.readFileSync(absolutePath);\n    const buffer = Buffer.from(toEncrypt);\n    const keyObject = {\n      key: publicKey,\n      padding: constants.RSA_PKCS1_PADDING,\n    };\n    const encrypted = publicEncrypt(keyObject, buffer);\n    return encrypted.toString('base64');\n  }\n\n\n</code></pre>\n<p>The java decryption code is :</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws Exception {\nString aesKeyEnc = &quot;Encrypted Data&quot;;\n        System.out.println(&quot;aesKeyEnc -- &quot; + aesKeyEnc);\n\n        byte[] aesKey = rsaDecrypt(Base64.decodeBase64(aesKeyEnc), getPrivateKey());\n        System.out.println(&quot;AES Key -- &quot; + aesKey.length);\n\n}\n    public static PrivateKey getPrivateKey() throws NoSuchAlgorithmException, InvalidKeySpecException {\n        PrivateKey privateKey = null;\n\n        String priKey2 = &quot;MIIEoQIBAAKCAQBT/jDz6mAMBtqgZDfzZZjtWowkMkgj1CCRAJuqGN9a5eFanrFP\\n&quot;+\n                &quot;9NQA6s3Ankp2g4sBavB5JaOR4/kJSJ54naaxqe2LctsXH6y/xZ3Y1XDDt+6oeU94\\n&quot;+\n                &quot;EghoPAryAc9SNx1WFMeq0ihRu9wi+SeswUPS82l4L/5YoYsn52Cm17vnALhnOE08\\n&quot;+\n                &quot;5aFEf3dUN+ol1Yw41mvvx8IZR+H4FAUQlUgZVCKsorHbC3bOYjO7mBN6QVtTly8z\\n&quot;+\n                &quot;/PV3DgTYkKN4zWgsif/S3bDPhoxocswtYHi8azUk56VgGwLNsuBZQ7YkWqE9WwQq\\n&quot;+\n                &quot;JQynBg1PFkTao0bIHGVzq0lo0I1c3IVrk9tbAgMBAAECggEAS14hIQ3jZ4dS8G9d\\n&quot;+\n                &quot;QVueEQWaEPTJhNTY8CRCiixNZ6w1PfJ+GsgO4E/RlpCzMosw1XHXHG4oy0Vsduch\\n&quot;+\n                &quot;xAt6w5s+W04RyDsU8PPrguFrkUPftG8+XviXcKjIDYaQOS7ZdR+qVt7DbSwMCZnW\\n&quot;+\n                &quot;/w5gxM7EiiNOsMssKf9V3ABjTJFw3PqQ0ogTa3FylWIq5D8cJGIZS3thHedSYBuK\\n&quot;+\n                &quot;CkNlJKsyMNpmFxSU1hFJdulFBfzBOjFcBe8zRDH9jWQ16yNHiUkkBVHfaCECL8lV\\n&quot;+\n                &quot;p5gd4+mP4Y3DBUT42nwFB2z+qQAaZbA+HazbO7+Zp4R2d5XQ5hnS/5rfFI4o8BVx\\n&quot;+\n                &quot;7siGyQKBgQClOwhVQ7t/ln4PiZjio3RbpjqOWLMYTgQH6u2f1A2LL027wlEA9CRh\\n&quot;+\n                &quot;mUq+rcsdREPFaDWAlrIktdHd28YvFdLCYw+qRaxPWPtXodJuDJn1uT4bJa21vG+r\\n&quot;+\n                &quot;TN5I0iimjTDNQAyXpgX3Ces00jTODg7ALjjeD+0LnFmXqZf41RkgBQKBgQCCImq4\\n&quot;+\n                &quot;eg0HzUiys9Znzh309R8JzsOjch4qKXAGdXxkROobTu2gyeGTjXGxYUiW1/4M7Hr6\\n&quot;+\n                &quot;TFxJ1WpXUdPmWAMwpwKtAXsjeSC2PdvkSTWMHWgfmnoUDc0JBFm+/fze9M+bFcXl\\n&quot;+\n                &quot;BJ2aQPcbuQvNtyOqlu8kkLMOE6kdjqxDv6nL3wKBgC+QiNuSvf0Co5NxdtN3Xl2r\\n&quot;+\n                &quot;wpuLqTLL8pkc5f7mmmeA3I26aHsvzPFToZK2kQwBxMilMRGtT+cFeD63r5uKWrue\\n&quot;+\n                &quot;rLnFiM7mvKQDb4JCmmeERf6moBT7A+J6JFsuNImNh4jucTGOl5UAA/eWs6DFpzVn\\n&quot;+\n                &quot;mPND/mcjQR9JsPfu0GbJAoGABidQepay5QqNBH5ChjgV7I5mwFT5pVHxITdCZ9vI\\n&quot;+\n                &quot;XQlxNIdf7zl8pDiNBsE96HwgNEY+bnWL66Xe2HAzH/JLfFJ5aurmAsBojpWQP1RC\\n&quot;+\n                &quot;5vRBBzWLzkT0zBdbkw95lKVo58F40SKNvUyTIsl2SGz/j8KBXm5FOUYuugoUFUQL\\n&quot;+\n                &quot;6GsCgYASQ+Fib0IqHYoZWffb+UfZfbDiyTY//fsorQUIK55PlrrcZoNMhkLpYZrG\\n&quot;+\n                &quot;W39ET1fAW8jKiTWaExvdNeR+RUBirlsheTrufM5filSs0UJi9srxE2atY4eSJHhg\\n&quot;+\n                &quot;cIIbKMYFDQCPbS8uQuvIvmLXPYuKMyXhgPDehSTcVzDvJQlWJQ==\\n&quot;;\n\n\n\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(Base64.decodeBase64(priKey.getBytes()));\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        privateKey = keyFactory.generatePrivate(keySpec);\n        return privateKey;\n    }\n\n    private static byte[] rsaDecrypt(byte[] data, Key key) throws NoSuchPaddingException, NoSuchAlgorithmException,\n            InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1PADDING&quot;);\n        cipher.init(Cipher.DECRYPT_MODE, key);\n        return cipher.doFinal(data);\n    }\n}\n</code></pre>\n<p>The public key in pub_key.key is :</p>\n<pre><code>-----BEGIN PUBLIC KEY-----\nMIIBITANBgkqhkiG9w0BAQEFAAOCAQ4AMIIBCQKCAQBT/jDz6mAMBtqgZDfzZZjt\nWowkMkgj1CCRAJuqGN9a5eFanrFP9NQA6s3Ankp2g4sBavB5JaOR4/kJSJ54naax\nqe2LctsXH6y/xZ3Y1XDDt+6oeU94EghoPAryAc9SNx1WFMeq0ihRu9wi+SeswUPS\n82l4L/5YoYsn52Cm17vnALhnOE085aFEf3dUN+ol1Yw41mvvx8IZR+H4FAUQlUgZ\nVCKsorHbC3bOYjO7mBN6QVtTly8z/PV3DgTYkKN4zWgsif/S3bDPhoxocswtYHi8\nazUk56VgGwLNsuBZQ7YkWqE9WwQqJQynBg1PFkTao0bIHGVzq0lo0I1c3IVrk9tb\nAgMBAAE=\n-----END PUBLIC KEY-----\n\n</code></pre>\n<p>The private key is :</p>\n<pre><code>-----BEGIN RSA PRIVATE KEY-----\nMIIEoQIBAAKCAQBT/jDz6mAMBtqgZDfzZZjtWowkMkgj1CCRAJuqGN9a5eFanrFP\n9NQA6s3Ankp2g4sBavB5JaOR4/kJSJ54naaxqe2LctsXH6y/xZ3Y1XDDt+6oeU94\nEghoPAryAc9SNx1WFMeq0ihRu9wi+SeswUPS82l4L/5YoYsn52Cm17vnALhnOE08\n5aFEf3dUN+ol1Yw41mvvx8IZR+H4FAUQlUgZVCKsorHbC3bOYjO7mBN6QVtTly8z\n/PV3DgTYkKN4zWgsif/S3bDPhoxocswtYHi8azUk56VgGwLNsuBZQ7YkWqE9WwQq\nJQynBg1PFkTao0bIHGVzq0lo0I1c3IVrk9tbAgMBAAECggEAS14hIQ3jZ4dS8G9d\nQVueEQWaEPTJhNTY8CRCiixNZ6w1PfJ+GsgO4E/RlpCzMosw1XHXHG4oy0Vsduch\nxAt6w5s+W04RyDsU8PPrguFrkUPftG8+XviXcKjIDYaQOS7ZdR+qVt7DbSwMCZnW\n/w5gxM7EiiNOsMssKf9V3ABjTJFw3PqQ0ogTa3FylWIq5D8cJGIZS3thHedSYBuK\nCkNlJKsyMNpmFxSU1hFJdulFBfzBOjFcBe8zRDH9jWQ16yNHiUkkBVHfaCECL8lV\np5gd4+mP4Y3DBUT42nwFB2z+qQAaZbA+HazbO7+Zp4R2d5XQ5hnS/5rfFI4o8BVx\n7siGyQKBgQClOwhVQ7t/ln4PiZjio3RbpjqOWLMYTgQH6u2f1A2LL027wlEA9CRh\nmUq+rcsdREPFaDWAlrIktdHd28YvFdLCYw+qRaxPWPtXodJuDJn1uT4bJa21vG+r\nTN5I0iimjTDNQAyXpgX3Ces00jTODg7ALjjeD+0LnFmXqZf41RkgBQKBgQCCImq4\neg0HzUiys9Znzh309R8JzsOjch4qKXAGdXxkROobTu2gyeGTjXGxYUiW1/4M7Hr6\nTFxJ1WpXUdPmWAMwpwKtAXsjeSC2PdvkSTWMHWgfmnoUDc0JBFm+/fze9M+bFcXl\nBJ2aQPcbuQvNtyOqlu8kkLMOE6kdjqxDv6nL3wKBgC+QiNuSvf0Co5NxdtN3Xl2r\nwpuLqTLL8pkc5f7mmmeA3I26aHsvzPFToZK2kQwBxMilMRGtT+cFeD63r5uKWrue\nrLnFiM7mvKQDb4JCmmeERf6moBT7A+J6JFsuNImNh4jucTGOl5UAA/eWs6DFpzVn\nmPND/mcjQR9JsPfu0GbJAoGABidQepay5QqNBH5ChjgV7I5mwFT5pVHxITdCZ9vI\nXQlxNIdf7zl8pDiNBsE96HwgNEY+bnWL66Xe2HAzH/JLfFJ5aurmAsBojpWQP1RC\n5vRBBzWLzkT0zBdbkw95lKVo58F40SKNvUyTIsl2SGz/j8KBXm5FOUYuugoUFUQL\n6GsCgYASQ+Fib0IqHYoZWffb+UfZfbDiyTY//fsorQUIK55PlrrcZoNMhkLpYZrG\nW39ET1fAW8jKiTWaExvdNeR+RUBirlsheTrufM5filSs0UJi9srxE2atY4eSJHhg\ncIIbKMYFDQCPbS8uQuvIvmLXPYuKMyXhgPDehSTcVzDvJQlWJQ==\n-----END RSA PRIVATE KEY-----\n</code></pre>\n<p>How can I fix this bad padding exception. I am not sure if this is encoding issue.</p>\n"},{"tags":["java","checkbox","combobox","dropdown","swt"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1685086911,"post_id":76337614,"comment_id":134614999,"body_markdown":"don&#39;t add details to the question in a comment, instead edit the question (as gregg did for you Here)","body":"don&#39;t add details to the question in a comment, instead edit the question (as gregg did for you Here)"}],"answers":[{"comments":[{"owner":{"account_id":28682989,"reputation":7,"user_id":21963792,"display_name":"vmaya003"},"score":0,"creation_date":1685088820,"post_id":76338325,"comment_id":134615374,"body_markdown":"This will display the lists in dropdown right? I want them to be displayed with checkboxes","body":"This will display the lists in dropdown right? I want them to be displayed with checkboxes"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1685090332,"post_id":76338325,"comment_id":134615722,"body_markdown":"Combo does not support check boxes. You would have to use a Table with SWT.CHECK and that doesn&#39;t support drop-down","body":"Combo does not support check boxes. You would have to use a Table with SWT.CHECK and that doesn&#39;t support drop-down"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1685341246,"post_id":76338325,"comment_id":134642646,"body_markdown":"I have revised the Table example to update the contents","body":"I have revised the Table example to update the contents"},{"owner":{"account_id":28682989,"reputation":7,"user_id":21963792,"display_name":"vmaya003"},"score":0,"creation_date":1685674974,"post_id":76338325,"comment_id":134697153,"body_markdown":"How can we retrieve the selected/checked items ?","body":"How can we retrieve the selected/checked items ?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1685685308,"post_id":76338325,"comment_id":134698153,"body_markdown":"`TableItem.getChecked` to see if an item is checked. `Table.getItems` to get all the items.","body":"<code>TableItem.getChecked</code> to see if an item is checked. <code>Table.getItems</code> to get all the items."}],"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685341206,"creation_date":1685084219,"answer_id":76338325,"question_id":76337614,"body_markdown":"Use `getSelectionIndex` to get the selection index in the first Combo.\r\n\r\nSomething like:\r\n\r\n    Label item = new Label(shell, SWT.NONE);\r\n    item.setText(&quot;Item&quot;);\r\n\r\n    Combo comboitem = new Combo(shell, SWT.NONE | SWT.READ_ONLY);\r\n    comboitem.setItems(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n\r\n    Label list = new Label(shell, SWT.NONE);\r\n    list.setText(&quot;List&quot;);\r\n    Combo combolist = new Combo(shell, SWT.NONE | SWT.READ_ONLY);\r\n\r\n    comboitem.addSelectionListener(new SelectionAdapter()\r\n    {\r\n      @Override\r\n      public void widgetSelected(final SelectionEvent e) {\r\n\r\n        switch (comboitem.getSelectionIndex())\r\n        {\r\n          case 0 -&gt; combolist.setItems(&quot;AA&quot;, &quot;AB&quot;, &quot;AC&quot;);\r\n          case 1 -&gt; combolist.setItems(&quot;BA&quot;, &quot;BB&quot;, &quot;BC&quot;, &quot;BD&quot;);\r\n          case 2 -&gt; combolist.setItems(&quot;CA&quot;, &quot;CB&quot;, &quot;CC&quot;, &quot;CD&quot;);\r\n        }\r\n\r\n        combolist.select(0);\r\n      }});\r\n\r\nNote that you also need to call `select(0)` to make the first item of the list visible in the combo.\r\n\r\nI have used the enhanced `switch` syntax here which needs a modern version of Java - it will need small changes for older versions of Java.\r\n\r\nAlternatively this uses a checkbox Table and resets the items:\r\n\r\n    final Combo comboitem = new Combo(shell, SWT.NONE | SWT.READ_ONLY);\r\n    comboitem.setItems(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n\r\n    final Table table = new Table(shell, SWT.CHECK | SWT.BORDER);\r\n\r\n    // Assumes parent Composite is using GridLayout. Adjust as required\r\n    final GridData data = new GridData(SWT.BEGINNING, SWT.TOP, false, false);\r\n    data.heightHint = 100;\r\n    data.widthHint = 100;\r\n    table.setLayoutData(data);\r\n\r\n    comboitem.addSelectionListener(new SelectionAdapter()\r\n    {\r\n      @Override\r\n      public void widgetSelected(final SelectionEvent e) {\r\n\r\n        switch (comboitem.getSelectionIndex())\r\n        {\r\n          case 0 -&gt; createItems(table, &quot;AA&quot;, &quot;AB&quot;, &quot;AC&quot;);\r\n          case 1 -&gt; createItems(table, &quot;BA&quot;, &quot;BB&quot;, &quot;BC&quot;, &quot;BD&quot;);\r\n          case 2 -&gt; createItems(table, &quot;CA&quot;, &quot;CB&quot;, &quot;CC&quot;, &quot;CD&quot;);\r\n        }\r\n     }});\r\n\r\n```\r\n  private static void createItems(final Table table, final String... items)\r\n  {\r\n    table.removeAll();\r\n\r\n    for (final String item : items) {\r\n      final TableItem tableItem = new TableItem(table, SWT.NONE);\r\n      tableItem.setText(item);\r\n    }\r\n  }\r\n```","title":"Can we get the items in combo to be displayed in a checkbox in Java SWT?","body":"<p>Use <code>getSelectionIndex</code> to get the selection index in the first Combo.</p>\n<p>Something like:</p>\n<pre><code>Label item = new Label(shell, SWT.NONE);\nitem.setText(&quot;Item&quot;);\n\nCombo comboitem = new Combo(shell, SWT.NONE | SWT.READ_ONLY);\ncomboitem.setItems(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n\nLabel list = new Label(shell, SWT.NONE);\nlist.setText(&quot;List&quot;);\nCombo combolist = new Combo(shell, SWT.NONE | SWT.READ_ONLY);\n\ncomboitem.addSelectionListener(new SelectionAdapter()\n{\n  @Override\n  public void widgetSelected(final SelectionEvent e) {\n\n    switch (comboitem.getSelectionIndex())\n    {\n      case 0 -&gt; combolist.setItems(&quot;AA&quot;, &quot;AB&quot;, &quot;AC&quot;);\n      case 1 -&gt; combolist.setItems(&quot;BA&quot;, &quot;BB&quot;, &quot;BC&quot;, &quot;BD&quot;);\n      case 2 -&gt; combolist.setItems(&quot;CA&quot;, &quot;CB&quot;, &quot;CC&quot;, &quot;CD&quot;);\n    }\n\n    combolist.select(0);\n  }});\n</code></pre>\n<p>Note that you also need to call <code>select(0)</code> to make the first item of the list visible in the combo.</p>\n<p>I have used the enhanced <code>switch</code> syntax here which needs a modern version of Java - it will need small changes for older versions of Java.</p>\n<p>Alternatively this uses a checkbox Table and resets the items:</p>\n<pre><code>final Combo comboitem = new Combo(shell, SWT.NONE | SWT.READ_ONLY);\ncomboitem.setItems(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n\nfinal Table table = new Table(shell, SWT.CHECK | SWT.BORDER);\n\n// Assumes parent Composite is using GridLayout. Adjust as required\nfinal GridData data = new GridData(SWT.BEGINNING, SWT.TOP, false, false);\ndata.heightHint = 100;\ndata.widthHint = 100;\ntable.setLayoutData(data);\n\ncomboitem.addSelectionListener(new SelectionAdapter()\n{\n  @Override\n  public void widgetSelected(final SelectionEvent e) {\n\n    switch (comboitem.getSelectionIndex())\n    {\n      case 0 -&gt; createItems(table, &quot;AA&quot;, &quot;AB&quot;, &quot;AC&quot;);\n      case 1 -&gt; createItems(table, &quot;BA&quot;, &quot;BB&quot;, &quot;BC&quot;, &quot;BD&quot;);\n      case 2 -&gt; createItems(table, &quot;CA&quot;, &quot;CB&quot;, &quot;CC&quot;, &quot;CD&quot;);\n    }\n }});\n</code></pre>\n<pre><code>  private static void createItems(final Table table, final String... items)\n  {\n    table.removeAll();\n\n    for (final String item : items) {\n      final TableItem tableItem = new TableItem(table, SWT.NONE);\n      tableItem.setText(item);\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":28682989,"reputation":7,"user_id":21963792,"display_name":"vmaya003"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685341206,"creation_date":1685074150,"question_id":76337614,"body_markdown":"How can we generate list of items in checkbox dynamically when we select an item1 in dropdown -- JAVA SWT?\r\n```none\r\nitem1 - A , B, C in drop down \r\nlist1 when A is selected -- AA, AB, AC\r\nlist2 when B is selected ---  BA, BB, BC, BD\r\nlist3 when C is selected --- CA, CB, CC, CD\r\n```\r\nLists should be in checkbox\r\nI tried Combo. \r\nworks when tried to display the list in dropdown but not for checkbox  \r\n```java\r\nLabel item = new Label(shell, SWT.NONE);\r\nitem.setText(&quot;Item&quot;);\r\n\r\ncomboitem = new Combo(shell, SWT.NONE | SWT.READ_ONLY); \r\ncomboitem.setItems(sysConfig.items); \r\ncomboitem.addSelectionListener(new SelectionAdapter() { \t\t\t\r\n   @Override\r\n   public void widgetSelected(SelectionEvent e) {  \r\n      combolist.setItems(sysConfig.getModuleByCategory(cmbCategory.getText())); \r\n});\r\n\r\nLabel list = new Label(shell, SWT.NONE); \r\ncombolist = new Combo(shell, SWT.NONE | SWT.READ_ONLY);\r\n```\r\n","title":"Can we get the items in combo to be displayed in a checkbox in Java SWT?","body":"<p>How can we generate list of items in checkbox dynamically when we select an item1 in dropdown -- JAVA SWT?</p>\n<pre class=\"lang-none prettyprint-override\"><code>item1 - A , B, C in drop down \nlist1 when A is selected -- AA, AB, AC\nlist2 when B is selected ---  BA, BB, BC, BD\nlist3 when C is selected --- CA, CB, CC, CD\n</code></pre>\n<p>Lists should be in checkbox\nI tried Combo.\nworks when tried to display the list in dropdown but not for checkbox</p>\n<pre class=\"lang-java prettyprint-override\"><code>Label item = new Label(shell, SWT.NONE);\nitem.setText(&quot;Item&quot;);\n\ncomboitem = new Combo(shell, SWT.NONE | SWT.READ_ONLY); \ncomboitem.setItems(sysConfig.items); \ncomboitem.addSelectionListener(new SelectionAdapter() {             \n   @Override\n   public void widgetSelected(SelectionEvent e) {  \n      combolist.setItems(sysConfig.getModuleByCategory(cmbCategory.getText())); \n});\n\nLabel list = new Label(shell, SWT.NONE); \ncombolist = new Combo(shell, SWT.NONE | SWT.READ_ONLY);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1423102208,"post_id":28335005,"comment_id":45016429,"body_markdown":"You create it like you would any other object; but, you will need to parse the String value to a java.util.Date and use this to sees an instance of java.sql.Date","body":"You create it like you would any other object; but, you will need to parse the String value to a java.util.Date and use this to sees an instance of java.sql.Date"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1423102331,"creation_date":1423102331,"answer_id":28335046,"question_id":28335005,"body_markdown":"One possible approach is to use a [`SimpleDateFormat`](http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html) and the [`java.sql.Date(long)` constructor](https://docs.oracle.com/javase/7/docs/api/java/sql/Date.html#Date%28long%29) like\r\n\r\n\tDateFormat df = new SimpleDateFormat(&quot;MM-dd-yyyy&quot;);\r\n\tjava.sql.Date sqlDate = new java.sql.Date(df.parse(&quot;02-04-2015&quot;).getTime());\r\n","title":"How do I initialize a java.sql.Date variable?","body":"<p>One possible approach is to use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\"><code>SimpleDateFormat</code></a> and the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/Date.html#Date%28long%29\" rel=\"nofollow\"><code>java.sql.Date(long)</code> constructor</a> like</p>\n\n<pre><code>DateFormat df = new SimpleDateFormat(\"MM-dd-yyyy\");\njava.sql.Date sqlDate = new java.sql.Date(df.parse(\"02-04-2015\").getTime());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15929856,"reputation":199,"user_id":11494528,"display_name":"jazz64"},"score":1,"creation_date":1685138543,"post_id":63943124,"comment_id":134624830,"body_markdown":"Attention: The deprecated constructor is not working as expected, to set the year to 2020 you have to give 120 (year value minus 1900). Use the date formatter for better readability and support of clean code.","body":"Attention: The deprecated constructor is not working as expected, to set the year to 2020 you have to give 120 (year value minus 1900). Use the date formatter for better readability and support of clean code."},{"owner":{"account_id":5811267,"reputation":998,"user_id":4582240,"display_name":"soMuchToLearnAndShare"},"score":0,"creation_date":1685340518,"post_id":63943124,"comment_id":134642556,"body_markdown":"I have now updated my “answer”","body":"I have now updated my “answer”"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1685340919,"post_id":63943124,"comment_id":134642602,"body_markdown":"Deleting the Answer would be a better idea (IMO).  (What is the point of suggesting an alternative that is deprecated and then giving an incorrect example?)","body":"Deleting the Answer would be a better idea (IMO).  (What is the point of suggesting an alternative that is deprecated and then giving an incorrect example?)"}],"tags":[],"owner":{"account_id":5811267,"reputation":998,"user_id":4582240,"display_name":"soMuchToLearnAndShare"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685340489,"creation_date":1600363032,"answer_id":63943124,"question_id":28335005,"body_markdown":"you could also try \r\n```\r\njava.sql.Date sqlDate = new java.sql.Date(2020,12,12);\r\n```\r\nI do not know why this is deprecated, but it is very intuitive for me.\r\nbasically year, month, day integer.\r\n\r\nUpdate: 10 months ago, my further reading told me never use this old API. See here: \r\nhttps://www.linkedin.com/posts/min-shi-schurr-3859468_how-to-effectively-use-dates-and-timestamps-activity-6873395326397558784-2ehr?utm_source=share&amp;utm_medium=member_ios","title":"How do I initialize a java.sql.Date variable?","body":"<p>you could also try</p>\n<pre><code>java.sql.Date sqlDate = new java.sql.Date(2020,12,12);\n</code></pre>\n<p>I do not know why this is deprecated, but it is very intuitive for me.\nbasically year, month, day integer.</p>\n<p>Update: 10 months ago, my further reading told me never use this old API. See here:\n<a href=\"https://www.linkedin.com/posts/min-shi-schurr-3859468_how-to-effectively-use-dates-and-timestamps-activity-6873395326397558784-2ehr?utm_source=share&amp;utm_medium=member_ios\" rel=\"nofollow noreferrer\">https://www.linkedin.com/posts/min-shi-schurr-3859468_how-to-effectively-use-dates-and-timestamps-activity-6873395326397558784-2ehr?utm_source=share&amp;utm_medium=member_ios</a></p>\n"}],"owner":{"account_id":286187,"reputation":1223,"user_id":585315,"accept_rate":68,"display_name":"UndefinedReference"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7588,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":28335046,"answer_count":2,"score":3,"last_activity_date":1685341019,"creation_date":1423102071,"question_id":28335005,"body_markdown":"I&#39;m trying to initialize a variable called startDate using java.sql.Date.\r\n\r\nI&#39;ve tried...\r\n\r\n    java.sql.date startDate = &quot;02/04/2015&quot;\r\n\r\nBut it thinks it&#39;s a string.\r\n\r\n    java.sql.date startDate = 02/04/2015\r\n\r\nBut it thinks it&#39;s an int.\r\n\r\n    java.sql.date startDate = 02-04-2015\r\n\r\nBut it displays the error &quot;invalid character constant&quot;.\r\n\r\nHow do I properly initialize this variable?\r\n\r\n\r\n","title":"How do I initialize a java.sql.Date variable?","body":"<p>I'm trying to initialize a variable called startDate using java.sql.Date.</p>\n<p>I've tried...</p>\n<pre><code>java.sql.date startDate = &quot;02/04/2015&quot;\n</code></pre>\n<p>But it thinks it's a string.</p>\n<pre><code>java.sql.date startDate = 02/04/2015\n</code></pre>\n<p>But it thinks it's an int.</p>\n<pre><code>java.sql.date startDate = 02-04-2015\n</code></pre>\n<p>But it displays the error &quot;invalid character constant&quot;.</p>\n<p>How do I properly initialize this variable?</p>\n"},{"tags":["java","android","android-studio","gradle","android-gradle-plugin"],"owner":{"account_id":19489700,"reputation":15,"user_id":14258137,"display_name":"Fros Vonex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685340232,"creation_date":1685340232,"question_id":76354991,"body_markdown":"**I got error &quot;Design Editor is unavailable until next sync&quot;. Once i execute &quot;Sync Project with gradle files&quot; then error change to &quot;Failed to initialize editor&quot;.**\r\n\r\nAndroid Studio - Flamingo 2022.2.1 Patch 1.\r\n\r\nPlatform - Zorin 16.2\r\n\r\nSource - Snap store\r\n\r\nAGP version - 8.0.1\r\n\r\nGradle Version - 8.0\r\n\r\nDependencies -\r\n\r\n```\r\n  implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.4.1&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.1&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.5.2&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.5.2&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n```\r\n\r\nJava Version : openjdk version &quot;11.0.19&quot; 2023-04-18\r\n\r\n\r\n\r\nI Tried\r\n\r\n1.Revalidate cache\r\n\r\n2.Downgrading AGP Version and gradle version\r\n\r\n3.Restart\r\n\r\n4.Tried all solutions from [here](https://stackoverflow.com/questions/63750128/android-studio-failed-to-initialize-editor)","title":"Android Studio Error : Failed to initialize editor","body":"<p><strong>I got error &quot;Design Editor is unavailable until next sync&quot;. Once i execute &quot;Sync Project with gradle files&quot; then error change to &quot;Failed to initialize editor&quot;.</strong></p>\n<p>Android Studio - Flamingo 2022.2.1 Patch 1.</p>\n<p>Platform - Zorin 16.2</p>\n<p>Source - Snap store</p>\n<p>AGP version - 8.0.1</p>\n<p>Gradle Version - 8.0</p>\n<p>Dependencies -</p>\n<pre><code>  implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.4.1'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.4.1'\n    implementation 'androidx.navigation:navigation-fragment:2.5.2'\n    implementation 'androidx.navigation:navigation-ui:2.5.2'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n</code></pre>\n<p>Java Version : openjdk version &quot;11.0.19&quot; 2023-04-18</p>\n<p>I Tried</p>\n<p>1.Revalidate cache</p>\n<p>2.Downgrading AGP Version and gradle version</p>\n<p>3.Restart</p>\n<p>4.Tried all solutions from <a href=\"https://stackoverflow.com/questions/63750128/android-studio-failed-to-initialize-editor\">here</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9820,"page":405,"page_size":100}
