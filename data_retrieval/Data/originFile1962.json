{"items":[{"tags":["java","arrays","eclipse","java.util.scanner"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1633627100,"post_id":69484876,"comment_id":122816612,"body_markdown":"You might want to look at the source of `java.util.ArrayList` - particularly the `remove()` method.","body":"You might want to look at the source of <code>java.util.ArrayList</code> - particularly the <code>remove()</code> method."},{"owner":{"display_name":"user16854661"},"score":0,"creation_date":1633627245,"post_id":69484876,"comment_id":122816656,"body_markdown":"I&#39;m not allowed to use an Array List the project is about Partially Filled Arrays.","body":"I&#39;m not allowed to use an Array List the project is about Partially Filled Arrays."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1633629234,"post_id":69484876,"comment_id":122817334,"body_markdown":"Yes, but you can read the source code to see how things are done.","body":"Yes, but you can read the source code to see how things are done."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633648744,"creation_date":1633626276,"answer_id":69485174,"question_id":69484876,"body_markdown":"With the line `bag[i] = bag[--capacity];` you are basically getting the last item in your array and place it in the location of the deleted one.\r\n\r\nGiven that you are using `int[]` (instead of `Integer[]`) we can&#39;t assign an index of the array as `null`. The best we can do is assigning it `-1` or create a new array.\r\n\r\nI decided to create a new array from scratch. The following will do the trick.\r\n\r\n```java\r\npublic class IntBag2 {\r\n    private static final int INITIAL_SIZE = 20;\r\n    private static int[] bag;\r\n    private int capacity;\r\n\r\n    public IntBag2() {\r\n        bag = new int[INITIAL_SIZE];\r\n    }\r\n\r\n    public IntBag2(int capacity) {\r\n        bag = new int[capacity];\r\n    }\r\n\r\n    public boolean add(int item) {\r\n        if (capacity == bag.length)\r\n            return false;\r\n\r\n        bag[capacity++] = item;\r\n\r\n        return true;\r\n    }\r\n\r\n    public boolean delete(int item) {\r\n        int[] newBag = new int[capacity];\r\n        int newCapacity = capacity;\r\n        boolean deleted = false;\r\n        for (int i = 0, j = 0; i &lt; capacity; i++) {\r\n            if (bag[i] == item &amp;&amp; !deleted) {\r\n                deleted = true;\r\n                newCapacity = capacity - 1;\r\n            } else {\r\n                newBag[j++] = bag[i];\r\n            }\r\n        }\r\n\r\n        bag = newBag;\r\n        capacity = newCapacity;\r\n        return deleted;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        String result = &quot;Bag: &quot;;\r\n        for (int i = 0; i &lt; capacity; i++)\r\n            result += bag[i] + &quot; &quot;;\r\n        return result;\r\n    }\r\n}\r\n```","title":"How to delete an item in the array and keeping the order the same?","body":"<p>With the line <code>bag[i] = bag[--capacity];</code> you are basically getting the last item in your array and place it in the location of the deleted one.</p>\n<p>Given that you are using <code>int[]</code> (instead of <code>Integer[]</code>) we can't assign an index of the array as <code>null</code>. The best we can do is assigning it <code>-1</code> or create a new array.</p>\n<p>I decided to create a new array from scratch. The following will do the trick.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class IntBag2 {\n    private static final int INITIAL_SIZE = 20;\n    private static int[] bag;\n    private int capacity;\n\n    public IntBag2() {\n        bag = new int[INITIAL_SIZE];\n    }\n\n    public IntBag2(int capacity) {\n        bag = new int[capacity];\n    }\n\n    public boolean add(int item) {\n        if (capacity == bag.length)\n            return false;\n\n        bag[capacity++] = item;\n\n        return true;\n    }\n\n    public boolean delete(int item) {\n        int[] newBag = new int[capacity];\n        int newCapacity = capacity;\n        boolean deleted = false;\n        for (int i = 0, j = 0; i &lt; capacity; i++) {\n            if (bag[i] == item &amp;&amp; !deleted) {\n                deleted = true;\n                newCapacity = capacity - 1;\n            } else {\n                newBag[j++] = bag[i];\n            }\n        }\n\n        bag = newBag;\n        capacity = newCapacity;\n        return deleted;\n    }\n\n    @Override\n    public String toString() {\n        String result = &quot;Bag: &quot;;\n        for (int i = 0; i &lt; capacity; i++)\n            result += bag[i] + &quot; &quot;;\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633684141,"creation_date":1633644013,"answer_id":69488319,"question_id":69484876,"body_markdown":"A simpler implementation of `delete` is possible allowing to &quot;delete&quot; _all_ entries in the array equal to the given `item` and shift the remaining ones to the front efficiently:\r\n```java\r\npublic boolean delete(int item) {\r\n    System.out.println(&quot;deleting &quot; + item); // for debug purposes\r\n    int oldCapacity = capacity;\r\n    for (int i = 0, j = 0; i &lt; oldCapacity; i++) {\r\n        if (bag[i] != item) {\r\n            bag[j++] = bag[i];\r\n        } else {\r\n            capacity--;\r\n        }\r\n    }\r\n    System.out.println(&quot;new capacity = &quot; + capacity); // for debug\r\n\r\n    // or use Arrays.fill(bag, capacity, oldCapacity, -1); instead of the loop\r\n    for (int i = capacity; i &lt; oldCapacity; i++) {\r\n        bag[i] = -1; // mark free entries with -1 in the tail\r\n    }\r\n\r\n    return oldCapacity == capacity;\r\n}\r\n```\r\nAlso, method `toString` should use `StringBuilder` if multiple concatenation are used in loop, or for brevity the following method `print` using utility methods from `Arrays` may be implemented:\r\n```java\r\npublic void print() {\r\n    System.out.println(Arrays.toString(Arrays.copyOf(bag, capacity)));\r\n}\r\n```\r\nTest:\r\n```java\r\nIntBag ibag = new IntBag(10);\r\nibag.add(1);\r\nibag.add(3);\r\nibag.add(3);\r\nibag.add(2);\r\nibag.add(1);\r\nibag.print();\r\nibag.delete(2);\r\nibag.print();\r\nibag.delete(1);\r\nibag.print();\r\n```\r\nOutput:\r\n```\r\n[1, 3, 3, 2, 1]\r\ndeleting 2\r\nnew capacity = 4\r\n[1, 3, 3, 1]\r\ndeleting 1\r\nnew capacity = 2\r\n[3, 3]\r\n```\r\n----\r\n**Update**\r\n\r\n&quot;Deletion&quot; of only the first entry without creation of new array may be implemented as follows:\r\n* skip all elements until `item` is detected or end of `bag` is reached\r\n* if `item` found, shift the remaining elements by 1, write -1 to the last element, return `true`\r\n* return `false` otherwise\r\n```java\r\npublic boolean deleteFirst(int item) {\r\n    System.out.println(&quot;deleting first &quot; + item);\r\n    int id = 0;\r\n    while (id &lt; capacity &amp;&amp; bag[id] != item) id++;\r\n    if (id &lt; capacity &amp;&amp; bag[id] == item) {\r\n        while (++id &lt; capacity) {\r\n            bag[id - 1] = bag[id];\r\n        }\r\n        bag[--capacity] = -1;\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n```\r\nTest:\r\n```java\r\nIntBag ibag = new IntBag(10);\r\nibag.add(1); ibag.add(3); ibag.add(1); ibag.add(2); ibag.add(1);\r\nibag.print();\r\nibag.deleteFirst(1); ibag.print();\r\nibag.deleteFirst(1); ibag.print();\r\nibag.deleteFirst(1); ibag.print();\r\n```\r\nOutput:\r\n```\r\n[1, 3, 1, 2, 1]\r\ndeleting first 1\r\n[3, 1, 2, 1]\r\ndeleting first 1\r\n[3, 2, 1]\r\ndeleting first 1\r\n[3, 2]\r\n```","title":"How to delete an item in the array and keeping the order the same?","body":"<p>A simpler implementation of <code>delete</code> is possible allowing to &quot;delete&quot; <em>all</em> entries in the array equal to the given <code>item</code> and shift the remaining ones to the front efficiently:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean delete(int item) {\n    System.out.println(&quot;deleting &quot; + item); // for debug purposes\n    int oldCapacity = capacity;\n    for (int i = 0, j = 0; i &lt; oldCapacity; i++) {\n        if (bag[i] != item) {\n            bag[j++] = bag[i];\n        } else {\n            capacity--;\n        }\n    }\n    System.out.println(&quot;new capacity = &quot; + capacity); // for debug\n\n    // or use Arrays.fill(bag, capacity, oldCapacity, -1); instead of the loop\n    for (int i = capacity; i &lt; oldCapacity; i++) {\n        bag[i] = -1; // mark free entries with -1 in the tail\n    }\n\n    return oldCapacity == capacity;\n}\n</code></pre>\n<p>Also, method <code>toString</code> should use <code>StringBuilder</code> if multiple concatenation are used in loop, or for brevity the following method <code>print</code> using utility methods from <code>Arrays</code> may be implemented:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void print() {\n    System.out.println(Arrays.toString(Arrays.copyOf(bag, capacity)));\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntBag ibag = new IntBag(10);\nibag.add(1);\nibag.add(3);\nibag.add(3);\nibag.add(2);\nibag.add(1);\nibag.print();\nibag.delete(2);\nibag.print();\nibag.delete(1);\nibag.print();\n</code></pre>\n<p>Output:</p>\n<pre><code>[1, 3, 3, 2, 1]\ndeleting 2\nnew capacity = 4\n[1, 3, 3, 1]\ndeleting 1\nnew capacity = 2\n[3, 3]\n</code></pre>\n<hr />\n<p><strong>Update</strong></p>\n<p>&quot;Deletion&quot; of only the first entry without creation of new array may be implemented as follows:</p>\n<ul>\n<li>skip all elements until <code>item</code> is detected or end of <code>bag</code> is reached</li>\n<li>if <code>item</code> found, shift the remaining elements by 1, write -1 to the last element, return <code>true</code></li>\n<li>return <code>false</code> otherwise</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean deleteFirst(int item) {\n    System.out.println(&quot;deleting first &quot; + item);\n    int id = 0;\n    while (id &lt; capacity &amp;&amp; bag[id] != item) id++;\n    if (id &lt; capacity &amp;&amp; bag[id] == item) {\n        while (++id &lt; capacity) {\n            bag[id - 1] = bag[id];\n        }\n        bag[--capacity] = -1;\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntBag ibag = new IntBag(10);\nibag.add(1); ibag.add(3); ibag.add(1); ibag.add(2); ibag.add(1);\nibag.print();\nibag.deleteFirst(1); ibag.print();\nibag.deleteFirst(1); ibag.print();\nibag.deleteFirst(1); ibag.print();\n</code></pre>\n<p>Output:</p>\n<pre><code>[1, 3, 1, 2, 1]\ndeleting first 1\n[3, 1, 2, 1]\ndeleting first 1\n[3, 2, 1]\ndeleting first 1\n[3, 2]\n</code></pre>\n"}],"owner":{"display_name":"user16854661"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69488319,"answer_count":2,"score":1,"last_activity_date":1633684141,"creation_date":1633624942,"question_id":69484876,"body_markdown":"I&#39;m working on this project that allows me to add and delete elements In the array. When I delete elements in the array there would be a zero in that space and the code should shift the values after the deleted value to take its place. For Example: In the Array {1, 2, 3, 4, 5}. I choose to delete 3. My output should be {1, 2, 4, 5}. Instead my output is {1, 2, 5, 4}. Could someone help me figure out why it would do that? And how to rectify it?\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Arrays;\r\n\r\npublic class IntBag2 {\r\n\tprivate static final int INITIAL_SIZE = 20;\r\n\tprivate static int[] bag;\r\n\tprivate int capacity;\r\n\r\n\tpublic IntBag2() {\r\n\t\tbag = new int[INITIAL_SIZE];\r\n\t}\r\n\r\n\tpublic IntBag2(int capacity) {\r\n\t\tbag = new int[capacity];\r\n\t}\r\n\r\n\tpublic boolean add(int item) {\r\n\t\tif (capacity == bag.length)\r\n\t\t\treturn false;\r\n\r\n\t\tbag[capacity++] = item;\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic boolean delete(int item) {\r\n\t\tfor (int i = 0; i &lt; capacity; i++) {\r\n\t\t\tif (bag[i] == item) {\r\n\t\t\t\tbag[i] = bag[--capacity];\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\tString result = &quot;Bag: &quot;;\r\n\t\tfor (int i = 0; i &lt; capacity; i++)\r\n\t\t\tresult += bag[i] + &quot; &quot;;\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tIntBag2 intBag = new IntBag2();\r\n\t\tboolean done = false;\r\n\r\n\t\twhile (!done) {\r\n\t\t\tSystem.out.println(&quot;1. Add an Item to the Array&quot;);\r\n\t\t\tSystem.out.println(&quot;2. Delete an item in the Array&quot;);\r\n\t\t\tSystem.out.println(&quot;3. toString&quot;);\r\n\t\t\tswitch (input.nextInt()) {\r\n\t\t\tcase 1:\r\n\t\t\t\tSystem.out.println(&quot;Add an Item to the Array&quot;);\r\n\t\t\t\tSystem.out.println(intBag.add(input.nextInt()));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tSystem.out.println(&quot;Delete Item of Array&quot;);\r\n\t\t\t\tSystem.out.println(intBag.delete(input.nextInt()));\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tSystem.out.println(&quot;toString&quot;);\r\n\t\t\t\tSystem.out.println(intBag.toString());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tinput.close();\r\n\t}\r\n\r\n}\r\n","title":"How to delete an item in the array and keeping the order the same?","body":"<p>I'm working on this project that allows me to add and delete elements In the array. When I delete elements in the array there would be a zero in that space and the code should shift the values after the deleted value to take its place. For Example: In the Array {1, 2, 3, 4, 5}. I choose to delete 3. My output should be {1, 2, 4, 5}. Instead my output is {1, 2, 5, 4}. Could someone help me figure out why it would do that? And how to rectify it?</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\n\npublic class IntBag2 {\n    private static final int INITIAL_SIZE = 20;\n    private static int[] bag;\n    private int capacity;\n\n    public IntBag2() {\n        bag = new int[INITIAL_SIZE];\n    }\n\n    public IntBag2(int capacity) {\n        bag = new int[capacity];\n    }\n\n    public boolean add(int item) {\n        if (capacity == bag.length)\n            return false;\n\n        bag[capacity++] = item;\n\n        return true;\n    }\n\n    public boolean delete(int item) {\n        for (int i = 0; i &lt; capacity; i++) {\n            if (bag[i] == item) {\n                bag[i] = bag[--capacity];\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    @Override\n    public String toString() {\n        String result = &quot;Bag: &quot;;\n        for (int i = 0; i &lt; capacity; i++)\n            result += bag[i] + &quot; &quot;;\n        return result;\n    }\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        IntBag2 intBag = new IntBag2();\n        boolean done = false;\n\n        while (!done) {\n            System.out.println(&quot;1. Add an Item to the Array&quot;);\n            System.out.println(&quot;2. Delete an item in the Array&quot;);\n            System.out.println(&quot;3. toString&quot;);\n            switch (input.nextInt()) {\n            case 1:\n                System.out.println(&quot;Add an Item to the Array&quot;);\n                System.out.println(intBag.add(input.nextInt()));\n                break;\n            case 2:\n                System.out.println(&quot;Delete Item of Array&quot;);\n                System.out.println(intBag.delete(input.nextInt()));\n                break;\n            case 3:\n                System.out.println(&quot;toString&quot;);\n                System.out.println(intBag.toString());\n                break;\n            }\n        }\n        input.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","string","algorithm"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1633677596,"post_id":69491242,"comment_id":122828227,"body_markdown":"Please add a failing test-case the expected output, the actual output and debug-information.","body":"Please add a failing test-case the expected output, the actual output and debug-information."}],"answers":[{"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633683546,"creation_date":1633683546,"answer_id":69493201,"question_id":69491242,"body_markdown":"Here is a solution that uses a stack of StringBuilders and a current StringBuilder.\r\n\r\nWhen a `(` is read, the current StringBuilder is pushed onto the stack and a new StringBuilder is created.\r\n\r\nWhen a `)` is read, the multiplier `mul` is extracted, and the value of the current StringBuilder is appended `mul` times to the StringBuilder popped from the stack.\r\n\r\nOtherwhise, append the char to the current StringBuilder.\r\n\r\n``` lang-java\r\nimport java.util.Stack;\r\n\r\npublic class Expand\r\n{\r\n\tpublic static String expand(String pattern)\r\n\t{\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tStack&lt;StringBuilder&gt; stack = new Stack&lt;StringBuilder&gt;();\r\n\t\tint len = pattern.length();\r\n\t\tint i = 0;\r\n\t\twhile(i&lt;len)\r\n\t\t{\r\n\t\t\tchar c = pattern.charAt(i);\r\n\t\t\tif(c==&#39;(&#39;)\r\n\t\t\t{\r\n\t\t\t\tstack.push(sb);\r\n\t\t\t\tsb = new StringBuilder();\r\n\t\t\t}\r\n\t\t\telse if(c==&#39;)&#39;)\r\n\t\t\t{\r\n\t\t\t\tString s = sb.toString();\r\n\t\t\t\tint k = pattern.indexOf(&#39;}&#39;, i);\r\n\t\t\t\tint mul = Integer.parseInt(pattern.substring(i+2, k));\r\n\t\t\t\tsb = stack.pop();\r\n\t\t\t\tfor(int j=0;j&lt;mul;j++)\r\n\t\t\t\t\tsb.append(s);\r\n\t\t\t\ti = k;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tsb.append(c);\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tSystem.out.println(expand(&quot;(ab(d){3}){2}&quot;));\r\n\t}\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n``` lang-none\r\nabdddabddd\r\n```\r\n","title":"Expand string broken up into repeated, nested components","body":"<p>Here is a solution that uses a stack of StringBuilders and a current StringBuilder.</p>\n<p>When a <code>(</code> is read, the current StringBuilder is pushed onto the stack and a new StringBuilder is created.</p>\n<p>When a <code>)</code> is read, the multiplier <code>mul</code> is extracted, and the value of the current StringBuilder is appended <code>mul</code> times to the StringBuilder popped from the stack.</p>\n<p>Otherwhise, append the char to the current StringBuilder.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Stack;\n\npublic class Expand\n{\n    public static String expand(String pattern)\n    {\n        StringBuilder sb = new StringBuilder();\n        Stack&lt;StringBuilder&gt; stack = new Stack&lt;StringBuilder&gt;();\n        int len = pattern.length();\n        int i = 0;\n        while(i&lt;len)\n        {\n            char c = pattern.charAt(i);\n            if(c=='(')\n            {\n                stack.push(sb);\n                sb = new StringBuilder();\n            }\n            else if(c==')')\n            {\n                String s = sb.toString();\n                int k = pattern.indexOf('}', i);\n                int mul = Integer.parseInt(pattern.substring(i+2, k));\n                sb = stack.pop();\n                for(int j=0;j&lt;mul;j++)\n                    sb.append(s);\n                i = k;\n            }\n            else\n                sb.append(c);\n            i++;\n        }\n        return sb.toString();\n    }\n\n    public static void main(String[] args) \n    {\n        System.out.println(expand(&quot;(ab(d){3}){2}&quot;));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>abdddabddd\n</code></pre>\n"}],"owner":{"account_id":17675249,"reputation":155,"user_id":12830338,"display_name":"anon comp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1633687452,"accepted_answer_id":69493201,"answer_count":1,"score":-1,"last_activity_date":1633684039,"creation_date":1633673444,"question_id":69491242,"body_markdown":"I&#39;m working on a problem, where given a string with substrings in paranthesis followed by values in curly brackets, the string expands by repeating the substring that number of times. So if you had (ab(d){3}){2} you&#39;d get abdddabddd. \r\n\r\nI feel like Im on the right track but that 1. this is pretty inefficient and 2. the tests seem to not return. Would love some help! \r\n\r\n    public class ExpandedString {\r\n        public static String expandedString(String inputStr) {\r\n            while (inputStr.contains(&quot;(&quot;)) {\r\n                for (int i = 0; i &lt; inputStr.length(); i++) {\r\n                    //check if there&#39;s something to repeat\r\n                    if (inputStr.charAt(i) == &#39;{&#39;) {\r\n                        int temp = i;\r\n                        //find what you need to repeat\r\n                        while (inputStr.charAt(temp) != &#39;(&#39;) {\r\n                            temp--;\r\n                        }\r\n                        String inputStr2 = inputStr.substring(i);\r\n                        int numTimes = i + inputStr.indexOf(&quot;}&quot;);\r\n                        //replace (blah) with blah times repeated numTimes\r\n                        StringBuilder repeated = new StringBuilder(); \r\n                        for(int j = 0; j&lt;numTimes;j++) {\r\n                        \trepeated.append(inputStr.substring(temp + 1, i - 1));\r\n                        }\r\n                        inputStr.replace(inputStr.substring(temp, i), repeated.toString());\r\n                        //start again\r\n                        i = 0;\r\n                    }\r\n                }\r\n            }\r\n            return inputStr;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n    \r\n            // input for inputStr\r\n            String inputStr = in .nextLine();\r\n    \r\n            String result = expandedString(inputStr);\r\n            System.out.print(result);\r\n    \r\n        }\r\n    }","title":"Expand string broken up into repeated, nested components","body":"<p>I'm working on a problem, where given a string with substrings in paranthesis followed by values in curly brackets, the string expands by repeating the substring that number of times. So if you had (ab(d){3}){2} you'd get abdddabddd.</p>\n<p>I feel like Im on the right track but that 1. this is pretty inefficient and 2. the tests seem to not return. Would love some help!</p>\n<pre><code>public class ExpandedString {\n    public static String expandedString(String inputStr) {\n        while (inputStr.contains(&quot;(&quot;)) {\n            for (int i = 0; i &lt; inputStr.length(); i++) {\n                //check if there's something to repeat\n                if (inputStr.charAt(i) == '{') {\n                    int temp = i;\n                    //find what you need to repeat\n                    while (inputStr.charAt(temp) != '(') {\n                        temp--;\n                    }\n                    String inputStr2 = inputStr.substring(i);\n                    int numTimes = i + inputStr.indexOf(&quot;}&quot;);\n                    //replace (blah) with blah times repeated numTimes\n                    StringBuilder repeated = new StringBuilder(); \n                    for(int j = 0; j&lt;numTimes;j++) {\n                        repeated.append(inputStr.substring(temp + 1, i - 1));\n                    }\n                    inputStr.replace(inputStr.substring(temp, i), repeated.toString());\n                    //start again\n                    i = 0;\n                }\n            }\n        }\n        return inputStr;\n    }\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n\n        // input for inputStr\n        String inputStr = in .nextLine();\n\n        String result = expandedString(inputStr);\n        System.out.print(result);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","ibm-midrange","jtopen"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1634011106,"post_id":69493165,"comment_id":122905245,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":3766501,"reputation":9,"user_id":3129894,"display_name":"ALFelix"},"score":0,"creation_date":1634109662,"post_id":69493165,"comment_id":122934619,"body_markdown":"I dont have any code... I cant figure out how to do this... In a normal situation i use putty or a command line to create the connection and tinnels and the just execute an ACS 5250 session... I want to do the same with Java but the application does not seam to be able to use the connection and tunnels i created... In this case i cant find any info on how to do this... Sorry... Thanks....","body":"I dont have any code... I cant figure out how to do this... In a normal situation i use putty or a command line to create the connection and tinnels and the just execute an ACS 5250 session... I want to do the same with Java but the application does not seam to be able to use the connection and tunnels i created... In this case i cant find any info on how to do this... Sorry... Thanks...."}],"owner":{"account_id":3766501,"reputation":9,"user_id":3129894,"display_name":"ALFelix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1633683346,"creation_date":1633683346,"question_id":69493165,"body_markdown":"I work with several IBM i systems. One of them needs me to set an SSH connection before opening an 5250 session. I use the command: ssh -i Keys_rsa L 50023:localhost:23 USER@HOST and after open a 5250 session pointing to IP 127.0.0.1 and it works... But i have a java program that gets some data from the server that cant connect. I need an example of connecting and setting ports. I use JTOpen/JT400 **AS400** object but i think i need to move to a **SecureAS400** object... Can anyone help?","title":"How to connect with SecureAS400 using SSL/SSH working example","body":"<p>I work with several IBM i systems. One of them needs me to set an SSH connection before opening an 5250 session. I use the command: ssh -i Keys_rsa L 50023:localhost:23 USER@HOST and after open a 5250 session pointing to IP 127.0.0.1 and it works... But i have a java program that gets some data from the server that cant connect. I need an example of connecting and setting ports. I use JTOpen/JT400 <strong>AS400</strong> object but i think i need to move to a <strong>SecureAS400</strong> object... Can anyone help?</p>\n"},{"tags":["java","android","text-to-speech"],"answers":[{"tags":[],"owner":{"account_id":19386688,"reputation":23,"user_id":14176266,"display_name":"user14176266"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633683341,"creation_date":1633683341,"answer_id":69493163,"question_id":69490780,"body_markdown":"I think tts.speak() act faster than tts.onInitListener  \r\nSo I add handler.postDelay. Now It&#39;s working !! ","title":"TTS engine : speak failed: TTS engine connection not fully set up","body":"<p>I think tts.speak() act faster than tts.onInitListener<br />\nSo I add handler.postDelay. Now It's working !!</p>\n"}],"owner":{"account_id":19386688,"reputation":23,"user_id":14176266,"display_name":"user14176266"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633683341,"creation_date":1633669843,"question_id":69490780,"body_markdown":"I&#39;m trying to use android google tts . And it worked really fine when it was first page to start but when I changed it to second page. The tts is not working and I don&#39;t know how \r\nI&#39;ve already done\r\n```\r\n&lt;queries&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.intent.action.TTS_SERVICE&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n``` \r\nadding this in the manifest and all the other permission\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n```\r\n\r\nThis is my OnInitListener \r\n```\r\n    private TextToSpeech.OnInitListener ttsInitListener = new TextToSpeech.OnInitListener() //시작할떄 사용되는 listnenr\r\n    {\r\n        @Override\r\n        public void onInit(int status)\r\n        {\r\n            if (status == TextToSpeech.SUCCESS) {\r\n                _tts.setOnUtteranceProgressListener(completedListener);\r\n            }\r\n            else{\r\n                return;\r\n            }\r\n\r\n\r\n        }\r\n    };\r\n```\r\n\r\nI don&#39;t know what&#39;s wrong with my code!!! TT\r\n\r\n++ add)\r\nIs it because of the AsyncTask?\r\nI change MainActivity to other activity \r\nThat&#39;s why tts is not bound? ","title":"TTS engine : speak failed: TTS engine connection not fully set up","body":"<p>I'm trying to use android google tts . And it worked really fine when it was first page to start but when I changed it to second page. The tts is not working and I don't know how\nI've already done</p>\n<pre><code>&lt;queries&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.intent.action.TTS_SERVICE&quot; /&gt;\n        &lt;/intent&gt;\n    &lt;/queries&gt;\n</code></pre>\n<p>adding this in the manifest and all the other permission</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>This is my OnInitListener</p>\n<pre><code>    private TextToSpeech.OnInitListener ttsInitListener = new TextToSpeech.OnInitListener() //시작할떄 사용되는 listnenr\n    {\n        @Override\n        public void onInit(int status)\n        {\n            if (status == TextToSpeech.SUCCESS) {\n                _tts.setOnUtteranceProgressListener(completedListener);\n            }\n            else{\n                return;\n            }\n\n\n        }\n    };\n</code></pre>\n<p>I don't know what's wrong with my code!!! TT</p>\n<p>++ add)\nIs it because of the AsyncTask?\nI change MainActivity to other activity\nThat's why tts is not bound?</p>\n"},{"tags":["java","multithreading","completable-future"],"comments":[{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":0,"creation_date":1633620004,"post_id":69483474,"comment_id":122813691,"body_markdown":"Related: https://stackoverflow.com/questions/63399831, https://stackoverflow.com/questions/34211080","body":"Related: <a href=\"https://stackoverflow.com/questions/63399831\">stackoverflow.com/questions/63399831</a>, <a href=\"https://stackoverflow.com/questions/34211080\">stackoverflow.com/questions/34211080</a>"}],"answers":[{"tags":[],"owner":{"account_id":13404321,"reputation":438,"user_id":9672799,"display_name":"Geoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633622954,"creation_date":1633622954,"answer_id":69484451,"question_id":69483474,"body_markdown":"You can create a varargs method with your try/catch that loops through each CompletableFuture and invokes completeExceptionally().\r\n\r\n```\r\nstatic void completeFutures(CompletableFuture&lt;?&gt;... completableFutures) throws ExecutionException {\r\n\t\ttry {\r\n\t\t\tCompletableFuture.allOf(completableFutures).get(1, TimeUnit.MILLISECONDS);\r\n\t\t} catch (final InterruptedException e) {\r\n\t\t\tThread.currentThread().interrupt();\r\n\t\t} catch (final TimeoutException e) {\r\n\t\t\tfor (CompletableFuture&lt;?&gt; cf : completableFutures) {\r\n\t\t\t\tcf.completeExceptionally(e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```","title":"How to safely cancel all pending futures after timing out on allOf()","body":"<p>You can create a varargs method with your try/catch that loops through each CompletableFuture and invokes completeExceptionally().</p>\n<pre><code>static void completeFutures(CompletableFuture&lt;?&gt;... completableFutures) throws ExecutionException {\n        try {\n            CompletableFuture.allOf(completableFutures).get(1, TimeUnit.MILLISECONDS);\n        } catch (final InterruptedException e) {\n            Thread.currentThread().interrupt();\n        } catch (final TimeoutException e) {\n            for (CompletableFuture&lt;?&gt; cf : completableFutures) {\n                cf.completeExceptionally(e);\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69484451,"answer_count":1,"score":0,"last_activity_date":1633682893,"creation_date":1633619136,"question_id":69483474,"body_markdown":"I am trying to refactor code that sequentially waits on multiple futures to complete, to instead jointly wait for completion.\r\n\r\nSo I try to wait on multiple futures with a single timeout by using\r\n\r\n```\r\n// Example outcomes\r\nfinal CompletableFuture&lt;String&gt; completedFuture\r\n    = CompletableFuture.completedFuture(&quot;hello&quot;);\r\nfinal CompletableFuture&lt;String&gt; failedFuture\r\n    = new CompletableFuture&lt;&gt;();\r\nfailedFuture.completeExceptionally(new RuntimeException(&quot;Test Stub Exception&quot;));\r\nfinal CompletableFuture&lt;String&gt; incompleteFuture\r\n    = new CompletableFuture&lt;&gt;();\r\n\r\nfinal AtomicBoolean timeoutHandled = new AtomicBoolean(false);\r\nfinal CompletableFuture&lt;String&gt; checkedFuture\r\n    = incompleteFuture.whenComplete(\r\n         (x, e) -&gt; timeoutHandled.set(e instanceof TimeoutException));\r\n\r\n// this example timeouts after 1ms\r\ntry {\r\n    CompletableFuture\r\n        .allOf(completedFuture, checkedFuture, failedFuture)\r\n        .get(1, TimeUnit.MILLISECONDS);\r\n} catch (final InterruptedException e) {\r\n    Thread.currentThread().interrupt();\r\n} catch (final TimeoutException e) {\r\n    // probably do something here?\r\n}\r\n\r\n// but the incomplete future is still pending\r\nassertTrue(checkedFuture.isCompletedExceptionally());\r\n// this still fails even if checkedFuture.completeExceptionally(e) is called\r\nassertTrue(timeoutHandled.get());\r\n```\r\n\r\nHowever the assert above fails because while the collective future timed out, the individual future did not time out yet. I would like to cancel such individual futures the same way as if they had run into timeouts individually, because they might have individual whenComplete() handlers handling TimeoutExceptions:\r\n```\r\nExpecting\r\n  &lt;CompletableFuture[Incomplete]&gt;\r\nto be completed exceptionally.\r\n```\r\n\r\nIs there a useful/safe pattern by which I can loop over all exceptions and invoke completeExceptionally() to simulate a timeout in each of the futures, and make sure all &quot;exception handlers&quot; have been invoked before moving on?\r\n","title":"How to safely cancel all pending futures after timing out on allOf()","body":"<p>I am trying to refactor code that sequentially waits on multiple futures to complete, to instead jointly wait for completion.</p>\n<p>So I try to wait on multiple futures with a single timeout by using</p>\n<pre><code>// Example outcomes\nfinal CompletableFuture&lt;String&gt; completedFuture\n    = CompletableFuture.completedFuture(&quot;hello&quot;);\nfinal CompletableFuture&lt;String&gt; failedFuture\n    = new CompletableFuture&lt;&gt;();\nfailedFuture.completeExceptionally(new RuntimeException(&quot;Test Stub Exception&quot;));\nfinal CompletableFuture&lt;String&gt; incompleteFuture\n    = new CompletableFuture&lt;&gt;();\n\nfinal AtomicBoolean timeoutHandled = new AtomicBoolean(false);\nfinal CompletableFuture&lt;String&gt; checkedFuture\n    = incompleteFuture.whenComplete(\n         (x, e) -&gt; timeoutHandled.set(e instanceof TimeoutException));\n\n// this example timeouts after 1ms\ntry {\n    CompletableFuture\n        .allOf(completedFuture, checkedFuture, failedFuture)\n        .get(1, TimeUnit.MILLISECONDS);\n} catch (final InterruptedException e) {\n    Thread.currentThread().interrupt();\n} catch (final TimeoutException e) {\n    // probably do something here?\n}\n\n// but the incomplete future is still pending\nassertTrue(checkedFuture.isCompletedExceptionally());\n// this still fails even if checkedFuture.completeExceptionally(e) is called\nassertTrue(timeoutHandled.get());\n</code></pre>\n<p>However the assert above fails because while the collective future timed out, the individual future did not time out yet. I would like to cancel such individual futures the same way as if they had run into timeouts individually, because they might have individual whenComplete() handlers handling TimeoutExceptions:</p>\n<pre><code>Expecting\n  &lt;CompletableFuture[Incomplete]&gt;\nto be completed exceptionally.\n</code></pre>\n<p>Is there a useful/safe pattern by which I can loop over all exceptions and invoke completeExceptionally() to simulate a timeout in each of the futures, and make sure all &quot;exception handlers&quot; have been invoked before moving on?</p>\n"},{"tags":["java","arrays","json","jsonparser"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1633650765,"post_id":69488861,"comment_id":122823244,"body_markdown":"You’re using Gson? Can you switch to Jackson?","body":"You’re using Gson? Can you switch to Jackson?"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1633650898,"post_id":69488861,"comment_id":122823272,"body_markdown":"In fact, please edit your question to provide a [mcve].","body":"In fact, please edit your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633682758,"creation_date":1633649940,"answer_id":69488911,"question_id":69488861,"body_markdown":"The correct way to fix this is to change the service that returns such a JSON. It makes no sense to either return a `List` or a single object for the attribute `family`. This is complexifying what should be simple.\r\nWhy not returning always a `List`, that may happen to include a single object? \r\n\r\nIf this is not possible, then you will need all sorts of Jackson deserialization features to make this work. And why? Simply because the service that you are consuming is badly designed. ","title":"Check whether json attribute is a list or an object in java","body":"<p>The correct way to fix this is to change the service that returns such a JSON. It makes no sense to either return a <code>List</code> or a single object for the attribute <code>family</code>. This is complexifying what should be simple.\nWhy not returning always a <code>List</code>, that may happen to include a single object?</p>\n<p>If this is not possible, then you will need all sorts of Jackson deserialization features to make this work. And why? Simply because the service that you are consuming is badly designed.</p>\n"},{"tags":[],"owner":{"account_id":2380555,"reputation":63040,"user_id":2082673,"display_name":"dave"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633651224,"creation_date":1633650852,"answer_id":69489000,"question_id":69488861,"body_markdown":"Assuming you are using Jackson, you can use [ACCEPT_SINGLE_VALUE_AS_ARRAY](http://fasterxml.github.io/jackson-databind/javadoc/2.10/com/fasterxml/jackson/databind/DeserializationFeature.html#ACCEPT_SINGLE_VALUE_AS_ARRAY)\r\n\r\n    final ObjectMapper mapper = new ObjectMapper()\r\n        .enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\r\n\r\nIf using GSON, something like\r\n\r\n    JSONObject response=new JSONObject(res);\r\n    if(res.get(&quot;family&quot;) instanceOf JSONObject) {\r\n        // code for JSONObject\r\n    } else if(res.get(&quot;family&quot;) instanceOf JSONArray) {\r\n        // code for JSONOArray\r\n    }","title":"Check whether json attribute is a list or an object in java","body":"<p>Assuming you are using Jackson, you can use <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.10/com/fasterxml/jackson/databind/DeserializationFeature.html#ACCEPT_SINGLE_VALUE_AS_ARRAY\" rel=\"nofollow noreferrer\">ACCEPT_SINGLE_VALUE_AS_ARRAY</a></p>\n<pre><code>final ObjectMapper mapper = new ObjectMapper()\n    .enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\n</code></pre>\n<p>If using GSON, something like</p>\n<pre><code>JSONObject response=new JSONObject(res);\nif(res.get(&quot;family&quot;) instanceOf JSONObject) {\n    // code for JSONObject\n} else if(res.get(&quot;family&quot;) instanceOf JSONArray) {\n    // code for JSONOArray\n}\n</code></pre>\n"}],"owner":{"account_id":15960002,"reputation":11,"user_id":13622063,"display_name":"Romeu Carvalho Antunes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1123,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1633682758,"creation_date":1633649493,"question_id":69488861,"body_markdown":"I want to convert JSON returned from a service into a java object class. However, I get two types in the same JSON attribute and with that I get the following error `Expected begin array but it was begin object`. How to test before parsing JSON for my java class? Example of a JSON below:\r\n\r\n```json\r\n{\r\n  &quot;name&quot;: &quot;ROMEU&quot;,\r\n  &quot;age&quot;: &quot;24&quot;,\r\n  &quot;phone&quot;: &quot;xx xxxx xxxx&quot;,\r\n  &quot;family&quot;: [\r\n    {\r\n      &quot;kinship&quot;: &quot;brother&quot;,\r\n      &quot;age&quot;: &quot;20&quot;\r\n    },\r\n    {\r\n      &quot;kinship&quot;: &quot;sister&quot;,\r\n      &quot;age&quot;: &quot;25&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n```json\r\n{\r\n  &quot;name&quot;: &quot;ROMEU&quot;,\r\n  &quot;age&quot;: &quot;24&quot;,\r\n  &quot;phone&quot;: &quot;xx xxxx xxxx&quot;,\r\n  &quot;family&quot;: {\r\n    &quot;kinship&quot;: &quot;mother&quot;,\r\n    &quot;age&quot;: &quot;20&quot;\r\n  }\r\n} \r\n```","title":"Check whether json attribute is a list or an object in java","body":"<p>I want to convert JSON returned from a service into a java object class. However, I get two types in the same JSON attribute and with that I get the following error <code>Expected begin array but it was begin object</code>. How to test before parsing JSON for my java class? Example of a JSON below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;ROMEU&quot;,\n  &quot;age&quot;: &quot;24&quot;,\n  &quot;phone&quot;: &quot;xx xxxx xxxx&quot;,\n  &quot;family&quot;: [\n    {\n      &quot;kinship&quot;: &quot;brother&quot;,\n      &quot;age&quot;: &quot;20&quot;\n    },\n    {\n      &quot;kinship&quot;: &quot;sister&quot;,\n      &quot;age&quot;: &quot;25&quot;\n    }\n  ]\n}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;ROMEU&quot;,\n  &quot;age&quot;: &quot;24&quot;,\n  &quot;phone&quot;: &quot;xx xxxx xxxx&quot;,\n  &quot;family&quot;: {\n    &quot;kinship&quot;: &quot;mother&quot;,\n    &quot;age&quot;: &quot;20&quot;\n  }\n} \n</code></pre>\n"},{"tags":["java","spring","spring-test","spring-profiles"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1633681672,"post_id":69492601,"comment_id":122829659,"body_markdown":"and you dont want to use application.properties for different profiles?","body":"and you dont want to use application.properties for different profiles?"},{"owner":{"account_id":8954819,"reputation":1401,"user_id":8005819,"display_name":"Вячеслав Чернышов"},"score":0,"creation_date":1633681866,"post_id":69492601,"comment_id":122829729,"body_markdown":"how to do it? what do you mean?","body":"how to do it? what do you mean?"}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633682593,"creation_date":1633682143,"answer_id":69492887,"question_id":69492601,"body_markdown":"You can probably use ActiveProfilesResolver\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfilesResolver.html\r\n\r\nSee example below:\r\n\r\n    public class MyActiveProfilesResolver  implements ActiveProfilesResolver{\r\n      @Override\r\n      public String[] resolve(Class&lt;?&gt; testClass) {\r\n          String os = System.getProperty(&quot;os.name&quot;);\r\n          String profile = (os.toLowerCase().startsWith(&quot;windows&quot;)) ? &quot;windows&quot; : &quot;other&quot;;\r\n          return new String[]{profile};\r\n      }\r\n    }\r\n    \r\n    \r\n    @ActiveProfiles(resolver = MyActiveProfilesResolver.class)\r\n    public class MyServiceTests {\r\n    \r\n    }","title":"Spring Test @ActiveProfiles alternative?","body":"<p>You can probably use ActiveProfilesResolver</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfilesResolver.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfilesResolver.html</a></p>\n<p>See example below:</p>\n<pre><code>public class MyActiveProfilesResolver  implements ActiveProfilesResolver{\n  @Override\n  public String[] resolve(Class&lt;?&gt; testClass) {\n      String os = System.getProperty(&quot;os.name&quot;);\n      String profile = (os.toLowerCase().startsWith(&quot;windows&quot;)) ? &quot;windows&quot; : &quot;other&quot;;\n      return new String[]{profile};\n  }\n}\n\n\n@ActiveProfiles(resolver = MyActiveProfilesResolver.class)\npublic class MyServiceTests {\n\n}\n</code></pre>\n"}],"owner":{"account_id":8954819,"reputation":1401,"user_id":8005819,"display_name":"Вячеслав Чернышов"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69492887,"answer_count":1,"score":1,"last_activity_date":1633682593,"creation_date":1633680890,"question_id":69492601,"body_markdown":"I want to set active profiles for tests with outside variables - for example, VM options. Have I any variations to do it?\r\n\r\nVariant 1: set `@ActiveProfiles` with variable, like `@ActiveProfile(&quot;${testProfile:test}&quot;)` - not working or I don&#39;t know how.\r\n\r\nVariant 2: with any context settings, something like `WebContextInitializer` (not working for tests).\r\n\r\nHave any ideas?\r\n","title":"Spring Test @ActiveProfiles alternative?","body":"<p>I want to set active profiles for tests with outside variables - for example, VM options. Have I any variations to do it?</p>\n<p>Variant 1: set <code>@ActiveProfiles</code> with variable, like <code>@ActiveProfile(&quot;${testProfile:test}&quot;)</code> - not working or I don't know how.</p>\n<p>Variant 2: with any context settings, something like <code>WebContextInitializer</code> (not working for tests).</p>\n<p>Have any ideas?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1633687578,"post_id":69492635,"comment_id":122831853,"body_markdown":"I bet they have different package names? Have you checked that?","body":"I bet they have different package names? Have you checked that?"},{"owner":{"account_id":9697518,"reputation":1221,"user_id":7193486,"accept_rate":17,"display_name":"thomas"},"score":0,"creation_date":1633697365,"post_id":69492635,"comment_id":122835544,"body_markdown":"they have the same package names","body":"they have the same package names"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1633698219,"post_id":69492635,"comment_id":122835883,"body_markdown":"Can you tell where they are coming from because they not in central... self created ?   Apart from that if they have the same package name there is really something wrong!!","body":"Can you tell where they are coming from because they not in central... self created ?   Apart from that if they have the same package name there is really something wrong!!"},{"owner":{"account_id":1098758,"reputation":1662,"user_id":1091731,"display_name":"Illya Kysil"},"score":0,"creation_date":1633732266,"post_id":69492635,"comment_id":122847340,"body_markdown":"Please add the output of the `mvn dependency:tree`","body":"Please add the output of the <code>mvn dependency:tree</code>"}],"owner":{"account_id":9697518,"reputation":1221,"user_id":7193486,"accept_rate":17,"display_name":"thomas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633682482,"creation_date":1633681033,"question_id":69492635,"body_markdown":"In my J2EE (jdk1.8) application I am using :\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.01&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI am using also an API (Javadocx)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.javadocx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javadocx&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\n which makes a call to DocumentBuilder.parse() method :\r\n\r\n     DocumentBuilder dBuilder = dFactory.newDocumentBuilder();\r\n     baseDocument = dBuilder.parse(baseTemplateDocumentTStream);\r\n\r\n\r\n\r\nThe problem is that, when packaged with maven, the application uses DocumentBuilder from Jdk 1.8, not the one from xml-apis.1.4.01  \r\nSo how can I make my app to use DocumentBuilder from xml-apis instead of Jdk 1.8?","title":"J2EE application uses wrong class from library","body":"<p>In my J2EE (jdk1.8) application I am using :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n    &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n    &lt;version&gt;1.4.01&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am using also an API (Javadocx)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.javadocx&lt;/groupId&gt;\n    &lt;artifactId&gt;javadocx&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>which makes a call to DocumentBuilder.parse() method :</p>\n<pre><code> DocumentBuilder dBuilder = dFactory.newDocumentBuilder();\n baseDocument = dBuilder.parse(baseTemplateDocumentTStream);\n</code></pre>\n<p>The problem is that, when packaged with maven, the application uses DocumentBuilder from Jdk 1.8, not the one from xml-apis.1.4.01<br />\nSo how can I make my app to use DocumentBuilder from xml-apis instead of Jdk 1.8?</p>\n"},{"tags":["java","selenium","selenium-webdriver","automation"],"comments":[{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1633674360,"post_id":69491312,"comment_id":122827219,"body_markdown":"please add the new tab screenshot","body":"please add the new tab screenshot"},{"owner":{"account_id":22972500,"reputation":11,"user_id":17100633,"display_name":"ananya"},"score":0,"creation_date":1633674820,"post_id":69491312,"comment_id":122827365,"body_markdown":"added my new tab image","body":"added my new tab image"}],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633677584,"creation_date":1633675085,"answer_id":69491535,"question_id":69491312,"body_markdown":"Actually login window is opening in another tab so you need to switch focus to another window. following code is working for me.\r\n\r\n    Set&lt;String&gt; windowslist = driver.getWindowHandles();\r\n    String lastwindow = null;\r\n    for(String eachWindow : windowslist){\r\n         lastwindow = eachWindow;\r\n    }\r\n    driver.switchTo().window(lastwindow);\r\n\r\n\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(emailBox));\r\n    driver.findElement(emailBox).sendKeys(&quot;jayanthbala1993@gmail.com&quot;);\r\n\r\n","title":"Login ajio.com by Google/Facebook account using selenium web driver in java","body":"<p>Actually login window is opening in another tab so you need to switch focus to another window. following code is working for me.</p>\n<pre><code>Set&lt;String&gt; windowslist = driver.getWindowHandles();\nString lastwindow = null;\nfor(String eachWindow : windowslist){\n     lastwindow = eachWindow;\n}\ndriver.switchTo().window(lastwindow);\n\n\nwait.until(ExpectedConditions.visibilityOfElementLocated(emailBox));\ndriver.findElement(emailBox).sendKeys(&quot;jayanthbala1993@gmail.com&quot;);\n</code></pre>\n"}],"owner":{"account_id":22972500,"reputation":11,"user_id":17100633,"display_name":"ananya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69491535,"answer_count":1,"score":-1,"last_activity_date":1633682150,"creation_date":1633673813,"question_id":69491312,"body_markdown":"I am new to selenium  ad I can&#39;t able to login ajio [\r\ncoding][1] using google or my facebook account i even tries windows handling concept but it is having single window id but new tab appears and i tries using some key concepts like(\\t) &amp;(t) also but still i cannot pass my mail id in google account tab not only that no others buttons working on that new page pls clear my doubt.. suggest idea to make it work [new tab(which is not allowed to automate)][2][Exception][3]\r\n\r\n    \r\n\r\nNote: I&#39;m using java with selenium 3.141.59 &amp; Chrome version 93.0.4577.82 \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SiNCf.png\r\n  [2]: https://i.stack.imgur.com/HRvBs.png\r\n  [3]: https://i.stack.imgur.com/eo6qY.png","title":"Login ajio.com by Google/Facebook account using selenium web driver in java","body":"<p>I am new to selenium  ad I can't able to login ajio <a href=\"https://i.stack.imgur.com/SiNCf.png\" rel=\"nofollow noreferrer\">\ncoding</a> using google or my facebook account i even tries windows handling concept but it is having single window id but new tab appears and i tries using some key concepts like(\\t) &amp;(t) also but still i cannot pass my mail id in google account tab not only that no others buttons working on that new page pls clear my doubt.. suggest idea to make it work <a href=\"https://i.stack.imgur.com/HRvBs.png\" rel=\"nofollow noreferrer\">new tab(which is not allowed to automate)</a><a href=\"https://i.stack.imgur.com/eo6qY.png\" rel=\"nofollow noreferrer\">Exception</a></p>\n<p>Note: I'm using java with selenium 3.141.59 &amp; Chrome version 93.0.4577.82</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18533,"reputation":3393,"user_id":42540,"accept_rate":78,"display_name":"Santosh Gokak"},"score":1,"creation_date":1353011896,"post_id":13405775,"comment_id":18315620,"body_markdown":"Have a look at http://docs.oracle.com/javase/7/docs/technotes/guides/intl/enhancements.7.html","body":"Have a look at <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/intl/enhancements.7.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/intl/&hellip;</a>"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1353012546,"post_id":13405775,"comment_id":18315915,"body_markdown":"Some more context would be helpful. How exactly are you compiling? `javac`? Or Eclipse? Which character exactly was troublesome? The `&#211;`? Which error exactly? How about the other diacritic and &quot;special&quot; characters like `&#196;` and so on? What character encoding are the source files saved in? This problem can hardly have influence in processing files, as long as you explicitly mention the character encoding everywhere instead of relying on platform default one, e.g. by using `InputStreamReader` and `OutputStreamWriter` instead of `FileReader` and `FileWriter`.","body":"Some more context would be helpful. How exactly are you compiling? <code>javac</code>? Or Eclipse? Which character exactly was troublesome? The <code>&#211;</code>? Which error exactly? How about the other diacritic and &quot;special&quot; characters like <code>&#196;</code> and so on? What character encoding are the source files saved in? This problem can hardly have influence in processing files, as long as you explicitly mention the character encoding everywhere instead of relying on platform default one, e.g. by using <code>InputStreamReader</code> and <code>OutputStreamWriter</code> instead of <code>FileReader</code> and <code>FileWriter</code>."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1353012726,"post_id":13405775,"comment_id":18315984,"body_markdown":"Remove that character and forget.","body":"Remove that character and forget."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":3,"creation_date":1353012897,"post_id":13405775,"comment_id":18316054,"body_markdown":"@RomanC: Please stop italicizing API/library/framework/product names in suggested edits.","body":"@RomanC: Please stop italicizing API/library/framework/product names in suggested edits."},{"owner":{"account_id":70202,"reputation":12758,"user_id":203802,"accept_rate":89,"display_name":"BestPractices"},"score":0,"creation_date":1353012946,"post_id":13405775,"comment_id":18316073,"body_markdown":"compiling using javac and ant (note, in case it helps, this is Oracle&#39;s 1.7)","body":"compiling using javac and ant (note, in case it helps, this is Oracle&#39;s 1.7)"},{"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"score":0,"creation_date":1353014488,"post_id":13405775,"comment_id":18316733,"body_markdown":"@BalusC Did you mean to remove BestPractices&#39; edit?","body":"@BalusC Did you mean to remove BestPractices&#39; edit?"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1353014945,"post_id":13405775,"comment_id":18316920,"body_markdown":"@AHungerArtist: no, the suggested edit of RomanC which was rejected twice, but then silently approved by BestPractices because he wanted to edit his own question. See also the edit history.","body":"@AHungerArtist: no, the suggested edit of RomanC which was rejected twice, but then silently approved by BestPractices because he wanted to edit his own question. See also the edit history."},{"owner":{"account_id":152128,"reputation":9392,"user_id":366447,"accept_rate":80,"display_name":"AHungerArtist"},"score":0,"creation_date":1353015466,"post_id":13405775,"comment_id":18317145,"body_markdown":"@BalusC Ah, I see the information he added was moved elsewhere. That was my only concern.","body":"@BalusC Ah, I see the information he added was moved elsewhere. That was my only concern."},{"owner":{"account_id":70202,"reputation":12758,"user_id":203802,"accept_rate":89,"display_name":"BestPractices"},"score":0,"creation_date":1353070846,"post_id":13405775,"comment_id":18334105,"body_markdown":"Can someone please clarify-- is there a difference between how Java handles character encoding in source code versus character encoding of data it might process e.g. in a running java application?","body":"Can someone please clarify-- is there a difference between how Java handles character encoding in source code versus character encoding of data it might process e.g. in a running java application?"}],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1353012725,"creation_date":1353012725,"answer_id":13405998,"question_id":13405775,"body_markdown":"The error occurs because you&#39;ve told the Java compiler that your source is UTF-8 encoded, but it still contains some ISO-8859-1 extended characters.  I recently had to fix similar errors in a codebase that was migrated from 1.5 to 1.6.  I believe that Java 7 is much stricter about UTF-8 encoding than previous versions and will issue errors where previously the incorrect encodings were silently accepted.\r\n\r\nYou will need to make sure that your source code is &quot;Unicode-clean&quot;, that is, you must replace any extended ISO-8859-1 characters with their Unicode equivalents.","title":"Does Java 1.7 use a different character encoding?","body":"<p>The error occurs because you've told the Java compiler that your source is UTF-8 encoded, but it still contains some ISO-8859-1 extended characters.  I recently had to fix similar errors in a codebase that was migrated from 1.5 to 1.6.  I believe that Java 7 is much stricter about UTF-8 encoding than previous versions and will issue errors where previously the incorrect encodings were silently accepted.</p>\n\n<p>You will need to make sure that your source code is \"Unicode-clean\", that is, you must replace any extended ISO-8859-1 characters with their Unicode equivalents.</p>\n"},{"tags":[],"owner":{"account_id":2590799,"reputation":1,"user_id":2245553,"display_name":"user2245553"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365090145,"creation_date":1365088827,"answer_id":15815287,"question_id":13405775,"body_markdown":"I ran into this problem on Windows and discovered that the default encoding for 1.7 was `CP-1252`. I was able to get clean compiles by setting to following environment variable...\r\n\r\n    JAVA_TOOL_OPTIONS = -Dfile.encoding=UTF8","title":"Does Java 1.7 use a different character encoding?","body":"<p>I ran into this problem on Windows and discovered that the default encoding for 1.7 was <code>CP-1252</code>. I was able to get clean compiles by setting to following environment variable...</p>\n\n<pre><code>JAVA_TOOL_OPTIONS = -Dfile.encoding=UTF8\n</code></pre>\n"}],"owner":{"account_id":70202,"reputation":12758,"user_id":203802,"accept_rate":89,"display_name":"BestPractices"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3502,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1633681811,"creation_date":1353011816,"question_id":13405775,"body_markdown":"We are migrating our application from Java 1.6 to Java 1.7. We recompiled the code using Java 1.7 and received an error while compiling which was due to a character (an `&#211;`). \r\n\r\nWas there a change in Java 1.7 related to characters? Our application does a lot of processing of incoming files to then load them into a database and I want to ensure that when we upgrade to Java 1.7 that the reading of a file from java and the writing to the database of that content wont result in some odd character conversions. \r\n\r\nDo I need to be concerned at all when upgrading to 1.7? If so, how to I get the same encoding that we had in Java 1.6?","title":"Does Java 1.7 use a different character encoding?","body":"<p>We are migrating our application from Java 1.6 to Java 1.7. We recompiled the code using Java 1.7 and received an error while compiling which was due to a character (an <code>Ó</code>). </p>\n\n<p>Was there a change in Java 1.7 related to characters? Our application does a lot of processing of incoming files to then load them into a database and I want to ensure that when we upgrade to Java 1.7 that the reading of a file from java and the writing to the database of that content wont result in some odd character conversions. </p>\n\n<p>Do I need to be concerned at all when upgrading to 1.7? If so, how to I get the same encoding that we had in Java 1.6?</p>\n"},{"tags":["java","windows","java-17","microsoft-openjdk"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1633686578,"post_id":69492709,"comment_id":122831480,"body_markdown":"It is also possible to use `\\u2660` etc in source code, to prevent these encoding issues","body":"It is also possible to use <code>\\u2660</code> etc in source code, to prevent these encoding issues"}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1633681367,"creation_date":1633681367,"answer_id":69492715,"question_id":69492709,"body_markdown":"While upgrading to the Java 17 version using the OpenJDK built by Microsoft, I also ran into problems because the Java source files were now encoded using the default Windows encoding, instead of UTF-8.\r\n\r\nTo fix the problem, set the `file.encoding` property to `UTF-8`.\r\n\r\nThe easiest way to do it is to set the `MAVEN_OPTS` environment variable:\r\n\r\n    MAVEN_OPTS=-Dfile.encoding=UTF-8\r\n\r\nAnother option is to pass it to the Maven Surefire plugin:\r\n\r\n````\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n````\r\n\r\nAnd, if you want to start a Java program, then pass the `-Dfile.encoding=UTF8` property.","title":"Java encoding issues after upgrading to Java 17 using the Microsoft OpenJDK","body":"<p>While upgrading to the Java 17 version using the OpenJDK built by Microsoft, I also ran into problems because the Java source files were now encoded using the default Windows encoding, instead of UTF-8.</p>\n<p>To fix the problem, set the <code>file.encoding</code> property to <code>UTF-8</code>.</p>\n<p>The easiest way to do it is to set the <code>MAVEN_OPTS</code> environment variable:</p>\n<pre><code>MAVEN_OPTS=-Dfile.encoding=UTF-8\n</code></pre>\n<p>Another option is to pass it to the Maven Surefire plugin:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;-Dfile.encoding=UTF-8&lt;/argLine&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>And, if you want to start a Java program, then pass the <code>-Dfile.encoding=UTF8</code> property.</p>\n"}],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3651,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69492715,"answer_count":1,"score":3,"last_activity_date":1633681546,"creation_date":1633681348,"question_id":69492709,"body_markdown":"After I upgraded to Java 17 using the [Microsoft OpenJDK](https://learn.microsoft.com/en-us/java/openjdk/download), all the tests that use non-ASCII characters are failing due to encoding failure issues.\r\n\r\nFor instance, one of my tests uses the following Unicode characters (e.g., U+2660 to U+2663):\r\n\r\n    entityManager.persist(\r\n    \tnew Suit()\r\n    \t.setName(&quot;Club&quot;)\r\n    \t.setSymbol(&quot;♣&quot;)\r\n    );\r\n    \r\n    entityManager.persist(\r\n    \tnew Suit()\r\n    \t.setName(&quot;Diamond&quot;)\r\n    \t.setSymbol(&quot;♦&quot;)\r\n    );\r\n    \r\n    entityManager.persist(\r\n    \tnew Suit()\r\n    \t.setName(&quot;Heart&quot;)\r\n    \t.setSymbol(&quot;♥&quot;)\r\n    );\r\n    \r\n    entityManager.persist(\r\n    \tnew Suit()\r\n    \t.setName(&quot;Spade&quot;)\r\n    \t.setSymbol(&quot;♠&quot;)\r\n    );\r\n\r\nHow to fix it?","title":"Java encoding issues after upgrading to Java 17 using the Microsoft OpenJDK","body":"<p>After I upgraded to Java 17 using the <a href=\"https://learn.microsoft.com/en-us/java/openjdk/download\" rel=\"nofollow noreferrer\">Microsoft OpenJDK</a>, all the tests that use non-ASCII characters are failing due to encoding failure issues.</p>\n<p>For instance, one of my tests uses the following Unicode characters (e.g., U+2660 to U+2663):</p>\n<pre><code>entityManager.persist(\n    new Suit()\n    .setName(&quot;Club&quot;)\n    .setSymbol(&quot;♣&quot;)\n);\n\nentityManager.persist(\n    new Suit()\n    .setName(&quot;Diamond&quot;)\n    .setSymbol(&quot;♦&quot;)\n);\n\nentityManager.persist(\n    new Suit()\n    .setName(&quot;Heart&quot;)\n    .setSymbol(&quot;♥&quot;)\n);\n\nentityManager.persist(\n    new Suit()\n    .setName(&quot;Spade&quot;)\n    .setSymbol(&quot;♠&quot;)\n);\n</code></pre>\n<p>How to fix it?</p>\n"},{"tags":["java","android","android-layout","listview","android-fragments"],"comments":[{"owner":{"account_id":230367,"reputation":86964,"user_id":493939,"display_name":"user"},"score":4,"creation_date":1396108128,"post_id":22733147,"comment_id":34647501,"body_markdown":"You&#39;re adding the fragment directly to the main activity container which has the id `android.R.id.content` which hold the `DrawerLayout`. You should be adding the fragment to a content `FrameLayout` **inside** the drawer widget.","body":"You&#39;re adding the fragment directly to the main activity container which has the id <code>android.R.id.content</code> which hold the <code>DrawerLayout</code>. You should be adding the fragment to a content <code>FrameLayout</code> <b>inside</b> the drawer widget."}],"answers":[{"tags":[],"owner":{"account_id":1677533,"reputation":468,"user_id":1542693,"accept_rate":15,"display_name":"Mohamed Hatem Abdu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420713871,"creation_date":1420713871,"answer_id":27838199,"question_id":22733147,"body_markdown":"I don&#39;t what produces this issue , but to solve it u have to add the fragment to the content of your FrameLayout which has the id = `content_frame`. \r\n\r\nSo edit this line \r\n    \r\n    fragmentTransaction.replace(android.R.id.content,\r\n            new AlarmListFragment());\r\nto be \r\n       \r\n     fragmentTransaction.replace(R.id.content_frame,\r\n            new AlarmListFragment());","title":"Android Drawer Layout is Displaying under fragment content","body":"<p>I don't what produces this issue , but to solve it u have to add the fragment to the content of your FrameLayout which has the id = <code>content_frame</code>. </p>\n\n<p>So edit this line </p>\n\n<pre><code>fragmentTransaction.replace(android.R.id.content,\n        new AlarmListFragment());\n</code></pre>\n\n<p>to be </p>\n\n<pre><code> fragmentTransaction.replace(R.id.content_frame,\n        new AlarmListFragment());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3955549,"reputation":239,"user_id":3264180,"display_name":"Ronnie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453129187,"creation_date":1453129187,"answer_id":34857749,"question_id":22733147,"body_markdown":"You can move the drawer layout below your Fragment container in your XML. this will render the DrawerLayout in the forward view of the app. just be sure not to cover the fragment container with the parent container of the drawer so that your fragment will be accessible when you need it. \r\n\r\n   \r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/my_parent_container&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot; \r\n        tools:context=&quot;.MainActivity&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/fragment_wrapper&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;&lt;/FrameLayout&gt;\r\n\r\n    &lt;android.support.v4.widget.DrawerLayout\r\n            android:id=&quot;@+id/my_drawer&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            xmlns=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n            &lt;RelativeLayout\r\n                 android:id=@+id/drawer_pane&quot;\r\n                 android:layout_width=&quot;250dp&quot;\r\n                 android:layout_height=&quot;match_parent&quot;\r\n                 android:layout_gravity=&quot;end&quot; /&gt;\r\n            &lt;ListView xmlns=&quot;http://schemas.android.com/apk/res/android&quot;\r\n                    android:layout_width=&quot;280dp&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:choiceMode=&quot;singleChoice&quot;\r\n                    android:id=&quot;@+id/menu_list&quot;\r\n    &lt;/android.support.v4.widget.DrawerLayout&gt;\r\n    &lt;/RelativeLayout&gt;","title":"Android Drawer Layout is Displaying under fragment content","body":"<p>You can move the drawer layout below your Fragment container in your XML. this will render the DrawerLayout in the forward view of the app. just be sure not to cover the fragment container with the parent container of the drawer so that your fragment will be accessible when you need it. </p>\n\n<pre><code>&lt;RelativeLayout\n    android:id=\"@+id/my_parent_container\"\n    android:layout_height=\"match_parent\"\n    android:layout_width=\"match_parent\" \n    tools:context=\".MainActivity\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n&lt;FrameLayout\n    android:id=\"@+id/fragment_wrapper\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;&lt;/FrameLayout&gt;\n\n&lt;android.support.v4.widget.DrawerLayout\n        android:id=\"@+id/my_drawer\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        xmlns=\"http://schemas.android.com/apk/res/android\"&gt;\n\n        &lt;RelativeLayout\n             android:id=@+id/drawer_pane\"\n             android:layout_width=\"250dp\"\n             android:layout_height=\"match_parent\"\n             android:layout_gravity=\"end\" /&gt;\n        &lt;ListView xmlns=\"http://schemas.android.com/apk/res/android\"\n                android:layout_width=\"280dp\"\n                android:layout_height=\"match_parent\"\n                android:choiceMode=\"singleChoice\"\n                android:id=\"@+id/menu_list\"\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":3690377,"reputation":1634,"user_id":3073079,"accept_rate":81,"display_name":"9er"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2451,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1633681458,"creation_date":1396107718,"question_id":22733147,"body_markdown":"I am adding a drawer layout to my Activity which uses fragments.  I&#39;ve implemented this just as described [here][1] per the android documentation.  And the drawer layout Adapter and View all work in that they show up, but the drawer extends &quot;under&quot; the fragment content.  Here is a picture of what is happening:  ![enter image description here][2]\r\n\r\n\r\n  [1]: http://developer.android.com/training/implementing-navigation/nav-drawer.html\r\n  [2]: http://i.stack.imgur.com/BgnyF.png\r\n\r\nDoes anyone know why this might be?  My code for the activity&#39;s xml, and the activity add fragment is below:\r\n\r\n```java\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n\tsuper.onCreate(savedInstanceState);\r\n\tsetContentView(R.layout.activity_alarm_list); // for drawer navigation\r\n\tFragmentManager fragmentManager = getFragmentManager();\r\n\tFragmentTransaction fragmentTransaction = fragmentManager\r\n\t\t\t.beginTransaction();\r\n\tfragmentTransaction.replace(android.R.id.content,\r\n\t\t\tnew AlarmListFragment());\r\n\tfragmentTransaction.commit();\r\n\tsetUpDrawer(fragmentManager);\r\n}\r\n\r\n\tprivate void setUpDrawer(FragmentManager fm) {\r\n\tString[] drawerItems = getResources().getStringArray(\r\n\t\t\tR.array.drawer_array);\r\n\tDrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n\tListView drawerList = (ListView) findViewById(R.id.left_drawer);\r\n\r\n\t// Set the adapter for the list view\r\n\tdrawerList.setAdapter(new ArrayAdapter&lt;String&gt;(this,\r\n\t\t\tR.layout.item_nav_drawer, drawerItems));\r\n\t// Set the list&#39;s click listener\r\n\tdrawerList.setOnItemClickListener(new\r\n            DrawerItemClickListener(drawer,drawerList,drawerItems,fm));\r\n}\r\n```\r\n\r\n### Layout:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;android.support.v4.widget.DrawerLayout \r\n       xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\nandroid:id=&quot;@+id/drawer_layout&quot;\r\nandroid:layout_width=&quot;match_parent&quot;\r\nandroid:layout_height=&quot;match_parent&quot; &gt;\r\n\r\n&lt;FrameLayout\r\n    android:id=&quot;@+id/content_frame&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot; &gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/alarm_list&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot; &gt;\r\n    &lt;/ListView&gt;\r\n&lt;/FrameLayout&gt;\r\n\r\n&lt;ListView\r\n    android:id=&quot;@+id/left_drawer&quot;\r\n    android:layout_width=&quot;240dp&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_gravity=&quot;start&quot;\r\n    android:background=&quot;#111&quot;\r\n    android:choiceMode=&quot;singleChoice&quot;\r\n    android:divider=&quot;@android:color/transparent&quot;\r\n    android:dividerHeight=&quot;0dp&quot; /&gt;\r\n\r\n&lt;/android.support.v4.widget.DrawerLayout&gt;\r\n```\r\n\r\nDo I have to set a z-index somewhere?  I can provide any further info needed I&#39;d just really like to figure this out!\r\n\r\n","title":"Android Drawer Layout is Displaying under fragment content","body":"<p>I am adding a drawer layout to my Activity which uses fragments.  I've implemented this just as described <a href=\"http://developer.android.com/training/implementing-navigation/nav-drawer.html\" rel=\"nofollow noreferrer\">here</a> per the android documentation.  And the drawer layout Adapter and View all work in that they show up, but the drawer extends &quot;under&quot; the fragment content.  Here is a picture of what is happening:  <img src=\"https://i.stack.imgur.com/BgnyF.png\" alt=\"enter image description here\" /></p>\n<p>Does anyone know why this might be?  My code for the activity's xml, and the activity add fragment is below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_alarm_list); // for drawer navigation\n    FragmentManager fragmentManager = getFragmentManager();\n    FragmentTransaction fragmentTransaction = fragmentManager\n            .beginTransaction();\n    fragmentTransaction.replace(android.R.id.content,\n            new AlarmListFragment());\n    fragmentTransaction.commit();\n    setUpDrawer(fragmentManager);\n}\n\n    private void setUpDrawer(FragmentManager fm) {\n    String[] drawerItems = getResources().getStringArray(\n            R.array.drawer_array);\n    DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n    ListView drawerList = (ListView) findViewById(R.id.left_drawer);\n\n    // Set the adapter for the list view\n    drawerList.setAdapter(new ArrayAdapter&lt;String&gt;(this,\n            R.layout.item_nav_drawer, drawerItems));\n    // Set the list's click listener\n    drawerList.setOnItemClickListener(new\n            DrawerItemClickListener(drawer,drawerList,drawerItems,fm));\n}\n</code></pre>\n<h3>Layout:</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.v4.widget.DrawerLayout \n       xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:id=&quot;@+id/drawer_layout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot; &gt;\n\n&lt;FrameLayout\n    android:id=&quot;@+id/content_frame&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot; &gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/alarm_list&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; &gt;\n    &lt;/ListView&gt;\n&lt;/FrameLayout&gt;\n\n&lt;ListView\n    android:id=&quot;@+id/left_drawer&quot;\n    android:layout_width=&quot;240dp&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_gravity=&quot;start&quot;\n    android:background=&quot;#111&quot;\n    android:choiceMode=&quot;singleChoice&quot;\n    android:divider=&quot;@android:color/transparent&quot;\n    android:dividerHeight=&quot;0dp&quot; /&gt;\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n<p>Do I have to set a z-index somewhere?  I can provide any further info needed I'd just really like to figure this out!</p>\n"},{"tags":["java","android","asynchronous","sdk","splash-screen"],"answers":[{"tags":[],"owner":{"account_id":744888,"reputation":47860,"user_id":721079,"accept_rate":78,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372971849,"creation_date":1372971849,"answer_id":17478076,"question_id":17478038,"body_markdown":"Yes, otherwise your splash image will never show until the code completes. Because Android has the single UI thread. If you do anything else in that UI thread then no UI changes are possible until your other code finishes.","title":"Android splash screen and async","body":"<p>Yes, otherwise your splash image will never show until the code completes. Because Android has the single UI thread. If you do anything else in that UI thread then no UI changes are possible until your other code finishes.</p>\n"}],"owner":{"account_id":1030625,"reputation":701,"user_id":1038987,"accept_rate":62,"display_name":"scrayne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1633681212,"creation_date":1372971624,"question_id":17478038,"body_markdown":"When creating a splash screen for an Android app, does the code that runs while the splash screen is visible need to be asynchronous?  If so, why?  Thanks.","title":"Android splash screen and async","body":"<p>When creating a splash screen for an Android app, does the code that runs while the splash screen is visible need to be asynchronous?  If so, why?  Thanks.</p>\n"},{"tags":["java","selenium-webdriver","phantomjs","ghostdriver"],"comments":[{"owner":{"account_id":5325382,"reputation":2501,"user_id":4720017,"display_name":"LittlePanda"},"score":0,"creation_date":1434809743,"post_id":30805635,"comment_id":49942876,"body_markdown":"I think the option is `--webdriver-logfile`. Please try.","body":"I think the option is <code>--webdriver-logfile</code>. Please try."}],"answers":[{"tags":[],"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448651440,"creation_date":1448651440,"answer_id":33963543,"question_id":30805635,"body_markdown":"I have been looking for same for some time.\r\n\r\nAccording to [this issue][1] on GitHub, it is difficult, effectively not possible. There is a workaround mentioned, but you need to provide some of the Ghostdriver source: the `main.js` and all files it imports.\r\n\r\nAccording to [this pull][2] on GitHub, there is a command line argument `--webdriver-logfile`, and you can see this in the actual log. However, looking through the [PhatomJSDriver source][3], accessing the CLI arguments has the same problem: you need the Ghostdriver source.\r\n\r\nThere is a comment on the [PhantomJS main page][4] from the maintainer, that he unfortunately no longer has time to work on this.\r\n\r\n\r\n  [1]: https://github.com/detro/ghostdriver/issues/239\r\n  [2]: https://github.com/detro/ghostdriver/pull/438\r\n  [3]: https://github.com/detro/ghostdriver/blob/master/binding/java/src/main/java/org/openqa/selenium/phantomjs/PhantomJSDriverService.java#L84\r\n  [4]: https://github.com/detro/ghostdriver#help-needed","title":"Change path for the logfile of PhantomJS in java","body":"<p>I have been looking for same for some time.</p>\n\n<p>According to <a href=\"https://github.com/detro/ghostdriver/issues/239\" rel=\"nofollow\">this issue</a> on GitHub, it is difficult, effectively not possible. There is a workaround mentioned, but you need to provide some of the Ghostdriver source: the <code>main.js</code> and all files it imports.</p>\n\n<p>According to <a href=\"https://github.com/detro/ghostdriver/pull/438\" rel=\"nofollow\">this pull</a> on GitHub, there is a command line argument <code>--webdriver-logfile</code>, and you can see this in the actual log. However, looking through the <a href=\"https://github.com/detro/ghostdriver/blob/master/binding/java/src/main/java/org/openqa/selenium/phantomjs/PhantomJSDriverService.java#L84\" rel=\"nofollow\">PhatomJSDriver source</a>, accessing the CLI arguments has the same problem: you need the Ghostdriver source.</p>\n\n<p>There is a comment on the <a href=\"https://github.com/detro/ghostdriver#help-needed\" rel=\"nofollow\">PhantomJS main page</a> from the maintainer, that he unfortunately no longer has time to work on this.</p>\n"},{"tags":[],"owner":{"account_id":2203190,"reputation":109,"user_id":1947058,"display_name":"Siul"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633681203,"creation_date":1458598395,"answer_id":36142634,"question_id":30805635,"body_markdown":"I struggled a lot to get this working after looking at the code in [PhantomJSDriverService.createDefaultService(...)][1] I was able to figure it out.\r\n\r\nSo here is how I did it, is a little bit hacky but it worked for me...hope this helps:\r\n\r\n    DesiredCapabilities capabilities = new DesiredCapabilities();\r\n    File logfile = new File(&quot;ABSOLUTE_PATH_TO_YOUR_LOG_FILE&quot;);\r\n    String[] phantomArgs = { &quot;--webdriver-loglevel=DEBUG&quot; };\r\n    PhantomJSDriverService driverService = new PhantomJSDriverService.Builder()\r\n                  .usingPhantomJSExecutable(f)\r\n                  .usingAnyFreePort()\r\n                  .withProxy(proxy)\r\n                  .usingCommandLineArguments(phantomArgs)\r\n                  .withLogFile(logfile)\r\n                  .build();\r\n    PhantomJSDriver driver = new PhantomJSDriver(driverService, capabilities);\r\n\r\n\r\n  [1]: https://github.com/detro/ghostdriver/blob/master/binding/java/src/main/java/org/openqa/selenium/phantomjs/PhantomJSDriverService.java#L173","title":"Change path for the logfile of PhantomJS in java","body":"<p>I struggled a lot to get this working after looking at the code in <a href=\"https://github.com/detro/ghostdriver/blob/master/binding/java/src/main/java/org/openqa/selenium/phantomjs/PhantomJSDriverService.java#L173\" rel=\"nofollow noreferrer\">PhantomJSDriverService.createDefaultService(...)</a> I was able to figure it out.</p>\n<p>So here is how I did it, is a little bit hacky but it worked for me...hope this helps:</p>\n<pre><code>DesiredCapabilities capabilities = new DesiredCapabilities();\nFile logfile = new File(&quot;ABSOLUTE_PATH_TO_YOUR_LOG_FILE&quot;);\nString[] phantomArgs = { &quot;--webdriver-loglevel=DEBUG&quot; };\nPhantomJSDriverService driverService = new PhantomJSDriverService.Builder()\n              .usingPhantomJSExecutable(f)\n              .usingAnyFreePort()\n              .withProxy(proxy)\n              .usingCommandLineArguments(phantomArgs)\n              .withLogFile(logfile)\n              .build();\nPhantomJSDriver driver = new PhantomJSDriver(driverService, capabilities);\n</code></pre>\n"}],"owner":{"account_id":5143983,"reputation":6483,"user_id":4120466,"accept_rate":79,"display_name":"DevOps85"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3409,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1633681203,"creation_date":1434119538,"question_id":30805635,"body_markdown":"I cannot figure out how I can change path for logfile for PhantomJS.\r\nI try with:\r\n\r\n\tDesiredCapabilities caps = new DesiredCapabilities();\r\n\tcaps.setJavascriptEnabled(true);\r\n\tcaps.setCapability(&quot;takesScreenshot&quot;, false);\r\n\tcaps.setCapability(\r\n\t\t    PhantomJSDriverService.PHANTOMJS_GHOSTDRIVER_CLI_ARGS,\r\n\t\t        new String[] { &quot;--logfile=/home/ant/Document/phantomjsdriver.log&quot; });\r\n\tcaps.setCapability(\r\n\t\t\tPhantomJSDriverService.PHANTOMJS_EXECUTABLE_PATH_PROPERTY,\r\n\t\t\tpath);\r\n\r\nAnd also with:\r\n\r\n\tArrayList&lt;String&gt; cliArgsCap = new ArrayList&lt;String&gt;();\r\n\tcliArgsCap.add(&quot;--logfile=/home/ant/Document/phantomjsdriver.log&quot;);\r\n\r\n\tDesiredCapabilities caps = new DesiredCapabilities();\r\n\tcaps.setJavascriptEnabled(true);\r\n\tcaps.setCapability(&quot;takesScreenshot&quot;, false);\r\n\tcaps.setCapability(PhantomJSDriverService.PHANTOMJS_CLI_ARGS,cliArgsCap);\r\n\r\nBut for now it doesn&#39;t work.","title":"Change path for the logfile of PhantomJS in java","body":"<p>I cannot figure out how I can change path for logfile for PhantomJS.\nI try with:</p>\n\n<pre><code>DesiredCapabilities caps = new DesiredCapabilities();\ncaps.setJavascriptEnabled(true);\ncaps.setCapability(\"takesScreenshot\", false);\ncaps.setCapability(\n        PhantomJSDriverService.PHANTOMJS_GHOSTDRIVER_CLI_ARGS,\n            new String[] { \"--logfile=/home/ant/Document/phantomjsdriver.log\" });\ncaps.setCapability(\n        PhantomJSDriverService.PHANTOMJS_EXECUTABLE_PATH_PROPERTY,\n        path);\n</code></pre>\n\n<p>And also with:</p>\n\n<pre><code>ArrayList&lt;String&gt; cliArgsCap = new ArrayList&lt;String&gt;();\ncliArgsCap.add(\"--logfile=/home/ant/Document/phantomjsdriver.log\");\n\nDesiredCapabilities caps = new DesiredCapabilities();\ncaps.setJavascriptEnabled(true);\ncaps.setCapability(\"takesScreenshot\", false);\ncaps.setCapability(PhantomJSDriverService.PHANTOMJS_CLI_ARGS,cliArgsCap);\n</code></pre>\n\n<p>But for now it doesn't work.</p>\n"},{"tags":["java","eclipse","java-17","java-sealed-type"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1633675029,"post_id":69491202,"comment_id":122827436,"body_markdown":"Assuming you understand that you should not use raw types (the reason for your first warnings), the first thing you need to determine is the correct type argument in `extends Parent&lt;...&gt;`, and in that process answer the question why `Parent` is generic at all. That has nothing to do with sealed classes. With that solved, you can then try to answer the sealed class question about what type parameter to set in `permits ChildA&lt;...&gt;`. This is a good question, but I don&#39;t see anything that would be more meaningful than `... permits ChildA&lt;?&gt;, ChildB&lt;?&gt;`. Found nothing in the JLS.","body":"Assuming you understand that you should not use raw types (the reason for your first warnings), the first thing you need to determine is the correct type argument in <code>extends Parent&lt;...&gt;</code>, and in that process answer the question why <code>Parent</code> is generic at all. That has nothing to do with sealed classes. With that solved, you can then try to answer the sealed class question about what type parameter to set in <code>permits ChildA&lt;...&gt;</code>. This is a good question, but I don&#39;t see anything that would be more meaningful than <code>... permits ChildA&lt;?&gt;, ChildB&lt;?&gt;</code>. Found nothing in the JLS."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1633681095,"post_id":69491202,"comment_id":122829446,"body_markdown":"@ernest_k I deduced the intention from the grammar. Since it doesn’t allow parameterized types after `permits` in the first place, the JLS authors might not have felt a need to discuss raw types vs parameterized types.","body":"@ernest_k I deduced the intention from the grammar. Since it doesn’t allow parameterized types after <code>permits</code> in the first place, the JLS authors might not have felt a need to discuss raw types vs parameterized types."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1639143365,"post_id":69491202,"comment_id":124279682,"body_markdown":"The Eclipse bug report for this is [here](https://bugs.eclipse.org/bugs/show_bug.cgi?id=576378)","body":"The Eclipse bug report for this is <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=576378\" rel=\"nofollow noreferrer\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1633681006,"creation_date":1633681006,"answer_id":69492633,"question_id":69491202,"body_markdown":"The warning “*Parent is a raw type*” is entirely unrelated to sealed classes, as using `extends Parent` when `Parent&lt;T&gt;` is a generic class will cause such a warning since Generics exist.\r\n\r\nYou most probably want to use\r\n\r\n```java\r\npublic non-sealed class ChildA&lt;T extends FileTypeA&gt; extends Parent&lt;T&gt; {}\r\n\r\npublic non-sealed class ChildB&lt;T extends FileTypeB&gt; extends Parent&lt;T&gt; {}\r\n```\r\n\r\nThe other issue seems to be an Eclipse bug, as I can only reproduce the warning there. When I change the declaration to `permits ChildA&lt;?&gt;, ChildB&lt;?&gt;`, the warning disappears, but you should *not* do this.\r\n\r\nThe [Java Language Specification] defines the `permits` clause as\r\n\r\n```none\r\nClassPermits:\r\n\tpermits TypeName {, TypeName}\r\n```\r\n\r\nwhereas `TypeName` [is linked to]\r\n\r\n```none\r\nTypeName:\r\n\tTypeIdentifier\r\n\tPackageOrTypeName . TypeIdentifier\r\n\r\nPackageOrTypeName:\r\n\tIdentifier\r\n\tPackageOrTypeName . Identifier\r\n```\r\n\r\nThis clearly leads to a sequence of dot separated identifiers without any type parameters. Consistently, `javac` rejects a construct like `permits ChildA&lt;?&gt;, ChildB&lt;?&gt;`.\r\n\r\nIn other words, Eclipse should not generate a warning here and even more importantly, not accept parameterized types in a `permit` clause. Your best option is to wait for a fix of Eclipse’s Java&#160;17 support. You could add a `@SuppressWarnings(&quot;rawtypes&quot;)` to the entire `Parent` class to make the warning go away, but since that would affect the entire class, I do not recommend it.\r\n\r\n[Java Language Specification]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.6\r\n[is linked to]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-TypeName","title":"How to use sealed classes with generics?","body":"<p>The warning “<em>Parent is a raw type</em>” is entirely unrelated to sealed classes, as using <code>extends Parent</code> when <code>Parent&lt;T&gt;</code> is a generic class will cause such a warning since Generics exist.</p>\n<p>You most probably want to use</p>\n<pre class=\"lang-java prettyprint-override\"><code>public non-sealed class ChildA&lt;T extends FileTypeA&gt; extends Parent&lt;T&gt; {}\n\npublic non-sealed class ChildB&lt;T extends FileTypeB&gt; extends Parent&lt;T&gt; {}\n</code></pre>\n<p>The other issue seems to be an Eclipse bug, as I can only reproduce the warning there. When I change the declaration to <code>permits ChildA&lt;?&gt;, ChildB&lt;?&gt;</code>, the warning disappears, but you should <em>not</em> do this.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.6\" rel=\"noreferrer\">Java Language Specification</a> defines the <code>permits</code> clause as</p>\n<pre class=\"lang-none prettyprint-override\"><code>ClassPermits:\n    permits TypeName {, TypeName}\n</code></pre>\n<p>whereas <code>TypeName</code> <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-6.html#jls-TypeName\" rel=\"noreferrer\">is linked to</a></p>\n<pre class=\"lang-none prettyprint-override\"><code>TypeName:\n    TypeIdentifier\n    PackageOrTypeName . TypeIdentifier\n\nPackageOrTypeName:\n    Identifier\n    PackageOrTypeName . Identifier\n</code></pre>\n<p>This clearly leads to a sequence of dot separated identifiers without any type parameters. Consistently, <code>javac</code> rejects a construct like <code>permits ChildA&lt;?&gt;, ChildB&lt;?&gt;</code>.</p>\n<p>In other words, Eclipse should not generate a warning here and even more importantly, not accept parameterized types in a <code>permit</code> clause. Your best option is to wait for a fix of Eclipse’s Java 17 support. You could add a <code>@SuppressWarnings(&quot;rawtypes&quot;)</code> to the entire <code>Parent</code> class to make the warning go away, but since that would affect the entire class, I do not recommend it.</p>\n"}],"owner":{"account_id":2008573,"reputation":5307,"user_id":1797689,"accept_rate":67,"display_name":"khateeb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1143,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":69492633,"answer_count":1,"score":9,"last_activity_date":1633681134,"creation_date":1633673179,"question_id":69491202,"body_markdown":"I have a parent abstract class and child classes which take generics.\r\n\r\n    public abstract sealed class Parent&lt;T&gt; permits ChildA, ChildB {}\r\n    \r\n    public non-sealed class ChildA&lt;T extends FileTypeA&gt; extends Parent{}\r\n    \r\n    public non-sealed class ChildB&lt;T extends FileTypeB&gt; extends Parent{}\r\n\r\nIn the parent class, I am getting warnings:\r\n\r\n    ChildA is a raw type. References to generic type ChildA&lt;T&gt; \r\n           should be parameterized\r\n\r\n    ChildB is a raw type. References to generic type ChildB&lt;T&gt; \r\n           should be parameterized\r\n\r\nIn the child classes, I am getting warnings:\r\n\r\n    Parent is a raw type. References to generic type Parent&lt;T&gt; \r\n           should be parameterized\r\n\r\nMaking them parameterized like this:\r\n\r\n    public abstract sealed class Parent&lt;T&gt; \r\n        permits ChildA&lt;T extends FileTypeA&gt;, ChildB&lt;T extends FileTypeB&gt; {}\r\n\r\nOr even \r\n\r\n    public abstract sealed class Parent&lt;T&gt; \r\n        permits ChildA&lt;T&gt;, ChildB&lt;T&gt; {}\r\n\r\nGives the error:\r\n\r\n    Bound mismatch: The type T is not a valid substitute for the \r\n        bounded parameter &lt;T extends FileTypeA&gt; of the type ChildA&lt;T&gt;\r\n\r\nHow to remove these warnings and errors?","title":"How to use sealed classes with generics?","body":"<p>I have a parent abstract class and child classes which take generics.</p>\n<pre><code>public abstract sealed class Parent&lt;T&gt; permits ChildA, ChildB {}\n\npublic non-sealed class ChildA&lt;T extends FileTypeA&gt; extends Parent{}\n\npublic non-sealed class ChildB&lt;T extends FileTypeB&gt; extends Parent{}\n</code></pre>\n<p>In the parent class, I am getting warnings:</p>\n<pre><code>ChildA is a raw type. References to generic type ChildA&lt;T&gt; \n       should be parameterized\n\nChildB is a raw type. References to generic type ChildB&lt;T&gt; \n       should be parameterized\n</code></pre>\n<p>In the child classes, I am getting warnings:</p>\n<pre><code>Parent is a raw type. References to generic type Parent&lt;T&gt; \n       should be parameterized\n</code></pre>\n<p>Making them parameterized like this:</p>\n<pre><code>public abstract sealed class Parent&lt;T&gt; \n    permits ChildA&lt;T extends FileTypeA&gt;, ChildB&lt;T extends FileTypeB&gt; {}\n</code></pre>\n<p>Or even</p>\n<pre><code>public abstract sealed class Parent&lt;T&gt; \n    permits ChildA&lt;T&gt;, ChildB&lt;T&gt; {}\n</code></pre>\n<p>Gives the error:</p>\n<pre><code>Bound mismatch: The type T is not a valid substitute for the \n    bounded parameter &lt;T extends FileTypeA&gt; of the type ChildA&lt;T&gt;\n</code></pre>\n<p>How to remove these warnings and errors?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":12983941,"reputation":1062,"user_id":9385418,"display_name":"Umesh Yadav"},"score":0,"creation_date":1633681333,"post_id":69492551,"comment_id":122829550,"body_markdown":"This is BottomSheet. You can go through here \n[1]https://material.io/components/sheets-bottom#anatomy\n[2]https://www.androidhive.info/2017/12/android-working-with-bottom-sheet/","body":"This is BottomSheet. You can go through here  [1]<a href=\"https://material.io/components/sheets-bottom#anatomy\" rel=\"nofollow noreferrer\">material.io/components/sheets-bottom#anatomy</a> [2]<a href=\"https://www.androidhive.info/2017/12/android-working-with-bottom-sheet/\" rel=\"nofollow noreferrer\">androidhive.info/2017/12/android-working-with-bottom-shee&zwnj;&#8203;t</a>"},{"owner":{"account_id":17935306,"reputation":29,"user_id":13031763,"display_name":"Terre"},"score":0,"creation_date":1633684041,"post_id":69492551,"comment_id":122830497,"body_markdown":"Thank you so much i real appreciate it :)","body":"Thank you so much i real appreciate it :)"}],"answers":[{"tags":[],"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633681099,"creation_date":1633681099,"answer_id":69492651,"question_id":69492551,"body_markdown":"A [BottomSheetDialogFragment](https://developer.android.com/reference/com/google/android/material/bottomsheet/BottomSheetDialogFragment) is very close to this. It&#39;s a card that animates up from the bottom of the screen and can be opened or closed with a swipe gesture.","title":"What is the name of this view and how do i implement it in my android app","body":"<p>A <a href=\"https://developer.android.com/reference/com/google/android/material/bottomsheet/BottomSheetDialogFragment\" rel=\"nofollow noreferrer\">BottomSheetDialogFragment</a> is very close to this. It's a card that animates up from the bottom of the screen and can be opened or closed with a swipe gesture.</p>\n"}],"owner":{"account_id":17935306,"reputation":29,"user_id":13031763,"display_name":"Terre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1633681203,"answer_count":1,"score":-2,"last_activity_date":1633681099,"creation_date":1633680606,"question_id":69492551,"body_markdown":"Hi coders what is the name of the view like the one on the picture below i tried to surf the web searching for words like android bottom drawer etc i couldnt find anything helpful \r\nPlease help me i need to inflate a layout into a view like that one [![This view like the one found in whatsapp call][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CRWmx.jpg","title":"What is the name of this view and how do i implement it in my android app","body":"<p>Hi coders what is the name of the view like the one on the picture below i tried to surf the web searching for words like android bottom drawer etc i couldnt find anything helpful\nPlease help me i need to inflate a layout into a view like that one <a href=\"https://i.stack.imgur.com/CRWmx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CRWmx.jpg\" alt=\"This view like the one found in whatsapp call\" /></a></p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1633680402,"post_id":69492495,"comment_id":122829207,"body_markdown":"where do you state the call should throw an Exception?","body":"where do you state the call should throw an Exception?"},{"owner":{"account_id":13192155,"reputation":43,"user_id":9528166,"display_name":"Rishabh"},"score":0,"creation_date":1633681101,"post_id":69492495,"comment_id":122829449,"body_markdown":"@Stultuske I am actually adding throws on test Method, I have edited the code here.","body":"@Stultuske I am actually adding throws on test Method, I have edited the code here."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1633681550,"post_id":69492495,"comment_id":122829608,"body_markdown":"I don&#39;t get what you mean. Just adding &quot;throws Exception&quot; to a method signature doesn&#39;t mean it will throw an Exception, it means that the implementation might throw one. You&#39;re mocking it in such a way that it doesn&#39;t throw an exception","body":"I don&#39;t get what you mean. Just adding &quot;throws Exception&quot; to a method signature doesn&#39;t mean it will throw an Exception, it means that the implementation might throw one. You&#39;re mocking it in such a way that it doesn&#39;t throw an exception"}],"answers":[{"tags":[],"owner":{"account_id":5000313,"reputation":48,"user_id":4019552,"display_name":"Nicolas Garcia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633680582,"creation_date":1633680582,"answer_id":69492548,"question_id":69492495,"body_markdown":"You&#39;re verifying that `rclass#something` is called. But that&#39;s not happening because you forgot to trigger it with `serviceclass#doMethod`","title":"Mockito Verify : Wanted but not invoked error","body":"<p>You're verifying that <code>rclass#something</code> is called. But that's not happening because you forgot to trigger it with <code>serviceclass#doMethod</code></p>\n"}],"owner":{"account_id":13192155,"reputation":43,"user_id":9528166,"display_name":"Rishabh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69492548,"answer_count":1,"score":0,"last_activity_date":1633681061,"creation_date":1633680272,"question_id":69492495,"body_markdown":"I am actually trying to do below:\r\n    My service class\r\n\r\n   \r\n\r\n     @Service   \r\n        public class serviceclass{\r\n        \r\n        @Autowired  \r\n        MessageReplyingSender rclass;\r\n        \r\n        public void doMethod(){\r\n        Object o = rlcass.something(&quot;hey&quot;,&quot;hey&quot;,null,1000);\r\n        }\r\n        }\r\n        \r\n        public interface MessageReplyingSender {\r\n        \r\n        \tpublic &lt;T&gt; Object something(String sendertopic,T message,Map&lt;String, Object&gt; headers, long replyTimeout)\r\n        \t\t\tthrows Exception;\r\n        }\r\n        \r\n        \r\n        \r\n        Test Class:  \r\n        @RunWith(MockitoJUnitRunner.class)  \r\n        public class testclass{  \r\n        @InjectMocks  \r\n        \tprivate serviceclass sclass;\r\n        \t\r\n        \t@Mock\r\n        \tMessageReplyingSender rclass;\r\n        \r\n           public void test throws Exception{\r\n        Mockito.verify(rclass).something(Mockito.anyString(), Mockito.anyString(), Mockito.any(), Mockito.anyLong());\r\n    \r\n    Mockito.when(rclass.something(Mockito.anyString(), Mockito.anyString(), Mockito.any(), Mockito.anyLong())).thenReturn(&quot;gh&quot;);\r\n    sclass.doMethod();\r\n    \t\t\r\n        \t\t\r\n        }\r\n        }\r\n\r\nThis gives me wanted by not invoked,actually there were Zero interactions with this mock. Any idea what am i doing wrong??","title":"Mockito Verify : Wanted but not invoked error","body":"<p>I am actually trying to do below:\nMy service class</p>\n<pre><code> @Service   \n    public class serviceclass{\n    \n    @Autowired  \n    MessageReplyingSender rclass;\n    \n    public void doMethod(){\n    Object o = rlcass.something(&quot;hey&quot;,&quot;hey&quot;,null,1000);\n    }\n    }\n    \n    public interface MessageReplyingSender {\n    \n        public &lt;T&gt; Object something(String sendertopic,T message,Map&lt;String, Object&gt; headers, long replyTimeout)\n                throws Exception;\n    }\n    \n    \n    \n    Test Class:  \n    @RunWith(MockitoJUnitRunner.class)  \n    public class testclass{  \n    @InjectMocks  \n        private serviceclass sclass;\n        \n        @Mock\n        MessageReplyingSender rclass;\n    \n       public void test throws Exception{\n    Mockito.verify(rclass).something(Mockito.anyString(), Mockito.anyString(), Mockito.any(), Mockito.anyLong());\n\nMockito.when(rclass.something(Mockito.anyString(), Mockito.anyString(), Mockito.any(), Mockito.anyLong())).thenReturn(&quot;gh&quot;);\nsclass.doMethod();\n        \n            \n    }\n    }\n</code></pre>\n<p>This gives me wanted by not invoked,actually there were Zero interactions with this mock. Any idea what am i doing wrong??</p>\n"},{"tags":["java","amazon-web-services","spring-boot","docker","amazon-ecr"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":3,"creation_date":1631932015,"post_id":69231118,"comment_id":122363785,"body_markdown":"you can alway try locally first, via `java -jar ...`, before pushing it anywhere","body":"you can alway try locally first, via <code>java -jar ...</code>, before pushing it anywhere"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1631977576,"post_id":69231118,"comment_id":122371684,"body_markdown":"This isn&#39;t an Amazon ECR issue, it&#39;s an issue with the way you are building the Docker image before pushing it to ECR. As mentioned above, try running the docker image locally first.","body":"This isn&#39;t an Amazon ECR issue, it&#39;s an issue with the way you are building the Docker image before pushing it to ECR. As mentioned above, try running the docker image locally first."}],"answers":[{"tags":[],"owner":{"account_id":18048730,"reputation":19,"user_id":13118990,"display_name":"Prakash Adhikari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633681009,"creation_date":1633654571,"answer_id":69489318,"question_id":69231118,"body_markdown":"I did wrong with the docker file below:\r\n\r\n    FROM openjdk:11\r\n    ARG JAR_FILE=target/truckee-app.jar  ** this was missing\r\n    COPY ${JAR_FILE} app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]","title":"Docker Image Issue in ECR (Error: Invalid or corrupt jarfile /app.jar)","body":"<p>I did wrong with the docker file below:</p>\n<pre><code>FROM openjdk:11\nARG JAR_FILE=target/truckee-app.jar  ** this was missing\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n"}],"owner":{"account_id":18048730,"reputation":19,"user_id":13118990,"display_name":"Prakash Adhikari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2874,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69489318,"answer_count":1,"score":-1,"last_activity_date":1633681009,"creation_date":1631931954,"question_id":69231118,"body_markdown":"    FROM openjdk:11\r\n    \r\n    VOLUME /tmp\r\n    \r\n    ARG JAR_FILE\r\n    \r\n    COPY ${JAR_FILE} app.jar\r\n    \r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\n\r\n\r\nThis is my Docker file for spring boot app and I am pushing it to the ECR directly from Github actions. I can see the image pushed to the ECR while running the task with the image this is the error  I get in task log.\r\n\r\nIs there something missing in docker file.\r\n\r\n    (Error: Invalid or corrupt jarfile /app.jar)","title":"Docker Image Issue in ECR (Error: Invalid or corrupt jarfile /app.jar)","body":"<pre><code>FROM openjdk:11\n\nVOLUME /tmp\n\nARG JAR_FILE\n\nCOPY ${JAR_FILE} app.jar\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>This is my Docker file for spring boot app and I am pushing it to the ECR directly from Github actions. I can see the image pushed to the ECR while running the task with the image this is the error  I get in task log.</p>\n<p>Is there something missing in docker file.</p>\n<pre><code>(Error: Invalid or corrupt jarfile /app.jar)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1633668858,"post_id":69490627,"comment_id":122826026,"body_markdown":"map.getOrDefault(&quot;2&quot;, 0.0)","body":"map.getOrDefault(&quot;2&quot;, 0.0)"}],"answers":[{"tags":[],"owner":{"account_id":10642195,"reputation":5360,"user_id":7836833,"display_name":"deepakchethan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1633669779,"creation_date":1633668938,"answer_id":69490684,"question_id":69490627,"body_markdown":"You can refactor it to use [getOrDefault](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#getOrDefault-java.lang.Object-V-) method from `Map` as follows:\r\n```\r\n   Map&lt;String, Double&gt; fee = new HashMap&lt;&gt;();\r\n   fee.put(&quot;2&quot;, fee.getOrDefault(&quot;2&quot;, 0.0) + 12.00);\r\n```\r\n\r\nAnother way of doing it could be using `Optionals`:\r\n```\r\n    Map&lt;String, Double&gt; fee = new HashMap&lt;&gt;();\r\n    fee.put(&quot;2&quot;, Optional.ofNullable(fee.get(&quot;2&quot;)).orElse(0.0) + 12.00);\r\n```","title":"How to check if hashmap contains the key before getting it in the shortest way?","body":"<p>You can refactor it to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#getOrDefault-java.lang.Object-V-\" rel=\"nofollow noreferrer\">getOrDefault</a> method from <code>Map</code> as follows:</p>\n<pre><code>   Map&lt;String, Double&gt; fee = new HashMap&lt;&gt;();\n   fee.put(&quot;2&quot;, fee.getOrDefault(&quot;2&quot;, 0.0) + 12.00);\n</code></pre>\n<p>Another way of doing it could be using <code>Optionals</code>:</p>\n<pre><code>    Map&lt;String, Double&gt; fee = new HashMap&lt;&gt;();\n    fee.put(&quot;2&quot;, Optional.ofNullable(fee.get(&quot;2&quot;)).orElse(0.0) + 12.00);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633680818,"creation_date":1633680818,"answer_id":69492584,"question_id":69490627,"body_markdown":"The most concise way to do this is:\r\n\r\n```\r\nmap.merge(key, 12.0, Double::sum);\r\n```\r\n\r\nAs described in the [Javadoc](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)), this default implementation is equivalent to:\r\n\r\n```\r\n V oldValue = map.get(key);\r\n V newValue = (oldValue == null) ? value :\r\n              remappingFunction.apply(oldValue, value);\r\n if (newValue == null)\r\n     map.remove(key);\r\n else\r\n     map.put(key, newValue);\r\n```\r\n\r\nwhere `remappingFunction` is `Double::sum` in this case.","title":"How to check if hashmap contains the key before getting it in the shortest way?","body":"<p>The most concise way to do this is:</p>\n<pre><code>map.merge(key, 12.0, Double::sum);\n</code></pre>\n<p>As described in the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\">Javadoc</a>, this default implementation is equivalent to:</p>\n<pre><code> V oldValue = map.get(key);\n V newValue = (oldValue == null) ? value :\n              remappingFunction.apply(oldValue, value);\n if (newValue == null)\n     map.remove(key);\n else\n     map.put(key, newValue);\n</code></pre>\n<p>where <code>remappingFunction</code> is <code>Double::sum</code> in this case.</p>\n"}],"owner":{"account_id":1486909,"reputation":8289,"user_id":1394953,"accept_rate":69,"display_name":"Alvin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69490684,"answer_count":2,"score":0,"last_activity_date":1633680858,"creation_date":1633668489,"question_id":69490627,"body_markdown":"Is there any shorter way to find if the key already exists before getting it?\r\n\r\n        Map&lt;String, Double&gt; map = new HashMap&lt;&gt;();\r\n        if (map.containsKey(&quot;2&quot;)) {\r\n            fee.put(&quot;2&quot;, fee.get(&quot;2&quot;) + 12.00);\r\n        } else {\r\n            fee.put(&quot;2&quot;, 12.00);\r\n        }\r\n\r\nI want to add up the value.","title":"How to check if hashmap contains the key before getting it in the shortest way?","body":"<p>Is there any shorter way to find if the key already exists before getting it?</p>\n<pre><code>    Map&lt;String, Double&gt; map = new HashMap&lt;&gt;();\n    if (map.containsKey(&quot;2&quot;)) {\n        fee.put(&quot;2&quot;, fee.get(&quot;2&quot;) + 12.00);\n    } else {\n        fee.put(&quot;2&quot;, 12.00);\n    }\n</code></pre>\n<p>I want to add up the value.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data","spring-boot-jpa"],"comments":[{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":0,"creation_date":1633632820,"post_id":69486315,"comment_id":122818584,"body_markdown":"How it comes all 3 `pidXXX` columns are part of the composite key but one of them does not participate in foreign key? Are all of these *really* should be part of id? Try make `pid3` and `cid3` standalone properties, not part of embeddable.","body":"How it comes all 3 <code>pidXXX</code> columns are part of the composite key but one of them does not participate in foreign key? Are all of these <i>really</i> should be part of id? Try make <code>pid3</code> and <code>cid3</code> standalone properties, not part of embeddable."},{"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"score":0,"creation_date":1633634351,"post_id":69486315,"comment_id":122819115,"body_markdown":"Thats correct pid3 is part of composite key and not a foreign key for child table. You mean I should not make pid3 and cid3 as part of composite Id columns ?","body":"Thats correct pid3 is part of composite key and not a foreign key for child table. You mean I should not make pid3 and cid3 as part of composite Id columns ?"},{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":0,"creation_date":1633639235,"post_id":69486315,"comment_id":122820803,"body_markdown":"I mean - if a `Parent` entity is identified by 3 columns, how it&#39;s possible that 2 columns from `Child` would be enough to define its relation? The problem is nothing to deal with JPA, Hibernate or Spring, it&#39;s a relational model flaw. It&#39;s either a join column is missing for a relation, or there is surplus one for primary id. And this is basically what Hibernate is saying - *&quot;Hey, your composite id for relation is incomplete!&quot;*","body":"I mean - if a <code>Parent</code> entity is identified by 3 columns, how it&#39;s possible that 2 columns from <code>Child</code> would be enough to define its relation? The problem is nothing to deal with JPA, Hibernate or Spring, it&#39;s a relational model flaw. It&#39;s either a join column is missing for a relation, or there is surplus one for primary id. And this is basically what Hibernate is saying - <i>&quot;Hey, your composite id for relation is incomplete!&quot;</i>"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1633680675,"post_id":69486315,"comment_id":122829305,"body_markdown":"Note that we prefer a technical style of writing here. We gently discourage greetings, hope-you-can-helps, thanks, advance thanks, notes of appreciation, regards, kind regards, signatures, please-can-you-helps, chatty material and abbreviated txtspk, pleading, how long you&#39;ve been stuck, voting advice, meta commentary, etc. Just explain your problem, and show what you&#39;ve tried, what you expected, and what actually happened.","body":"Note that we prefer a technical style of writing here. We gently discourage greetings, hope-you-can-helps, thanks, advance thanks, notes of appreciation, regards, kind regards, signatures, please-can-you-helps, chatty material and abbreviated txtspk, pleading, how long you&#39;ve been stuck, voting advice, meta commentary, etc. Just explain your problem, and show what you&#39;ve tried, what you expected, and what actually happened."}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633680660,"creation_date":1633632227,"question_id":69486315,"body_markdown":"I have entity classes like this structure:\r\n\r\n    Class Parent {\r\n      @EmbededId\r\n      private ParentId id;\r\n    \r\n      @OneToMany(fetch=FetchType.LAZY, cascade=CascadeType.ALL, mappedBy=&quot;parentDetails&quot;)\r\n      private List&lt;Child&gt; childDetails;\r\n      ...\r\n    }\r\n    \r\n    @Embeddable\r\n    Class ParentId {\r\n      private Integer pid1;\r\n      private Integer pid2;\r\n      private Integer pid3;\r\n      ...\r\n    }\r\n    \r\n    Class Child {\r\n      @EmbededId\r\n      private ChildId id;\r\n    \r\n      @ManyToOne(fetch=FetchType.LAZY, cascade=CascadeType.ALL)\r\n        @JoinColumns({\r\n          @JoinColumn(name=&quot;C_ID1&quot; referencedColumnName=&quot;P_ID1&quot;)\r\n          @JoinColumn(name=&quot;C_ID2&quot; referencedColumnName=&quot;P_ID2&quot;)\r\n        )}\r\n      private Parent parentDetails;\r\n      ...\r\n    }\r\n    \r\n    @Embeddable\r\n    Class ChildId {\r\n      private Integer cid1;\r\n      private Integer cid2;\r\n      private date cid3;  // its a totally different field\r\n      ...\r\n    }\r\n\r\nI don&#39;t have any relationship with pid3 and cid3 as they are different. If I go with above design I am getting below error:\r\n\r\n&gt; org.hibernate.AnnotationException: referencedColumnNames(P_ID1, P_ID2) of Child.parentDetails referencing Parent not mapped to a single property\r\n\r\nIf I comment pid3 then it works. So does that mean that I can&#39;t refer part of composite key as join columns? Is there any solution for it? I can&#39;t make changes to tables as they are legacy.\r\n","title":"Spring Boot JPA join columns with a partial composite key","body":"<p>I have entity classes like this structure:</p>\n<pre><code>Class Parent {\n  @EmbededId\n  private ParentId id;\n\n  @OneToMany(fetch=FetchType.LAZY, cascade=CascadeType.ALL, mappedBy=&quot;parentDetails&quot;)\n  private List&lt;Child&gt; childDetails;\n  ...\n}\n\n@Embeddable\nClass ParentId {\n  private Integer pid1;\n  private Integer pid2;\n  private Integer pid3;\n  ...\n}\n\nClass Child {\n  @EmbededId\n  private ChildId id;\n\n  @ManyToOne(fetch=FetchType.LAZY, cascade=CascadeType.ALL)\n    @JoinColumns({\n      @JoinColumn(name=&quot;C_ID1&quot; referencedColumnName=&quot;P_ID1&quot;)\n      @JoinColumn(name=&quot;C_ID2&quot; referencedColumnName=&quot;P_ID2&quot;)\n    )}\n  private Parent parentDetails;\n  ...\n}\n\n@Embeddable\nClass ChildId {\n  private Integer cid1;\n  private Integer cid2;\n  private date cid3;  // its a totally different field\n  ...\n}\n</code></pre>\n<p>I don't have any relationship with pid3 and cid3 as they are different. If I go with above design I am getting below error:</p>\n<blockquote>\n<p>org.hibernate.AnnotationException: referencedColumnNames(P_ID1, P_ID2) of Child.parentDetails referencing Parent not mapped to a single property</p>\n</blockquote>\n<p>If I comment pid3 then it works. So does that mean that I can't refer part of composite key as join columns? Is there any solution for it? I can't make changes to tables as they are legacy.</p>\n"},{"tags":["java","recursion","binary-tree"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493542934,"creation_date":1493542934,"answer_id":43704693,"question_id":43704674,"body_markdown":"In\r\n\r\n    preOrderTraverse(node.left,depth + 1, sb);\r\n    preOrderTraverse(node.right,depth + 1,sb);\r\n\r\nboth recursive call get the same value for the 2nd argument, since `depth + 1` doesn&#39;t change the value of the local variable `depth`.\r\n\r\nIn \r\n\r\n    preOrderTraverse(node.left,++depth, sb);           \r\n    preOrderTraverse(node.right,++depth,sb);\r\n\r\nThe second recursive call is passed a value larger by 1 than the value passed to the first call, since `++depth` increments the value of the local variable `depth`.\r\n\r\nThe former seems to be the correct way.","title":"Difference between ++i and i = 1 in a recursive function","body":"<p>In</p>\n\n<pre><code>preOrderTraverse(node.left,depth + 1, sb);\npreOrderTraverse(node.right,depth + 1,sb);\n</code></pre>\n\n<p>both recursive call get the same value for the 2nd argument, since <code>depth + 1</code> doesn't change the value of the local variable <code>depth</code>.</p>\n\n<p>In </p>\n\n<pre><code>preOrderTraverse(node.left,++depth, sb);           \npreOrderTraverse(node.right,++depth,sb);\n</code></pre>\n\n<p>The second recursive call is passed a value larger by 1 than the value passed to the first call, since <code>++depth</code> increments the value of the local variable <code>depth</code>.</p>\n\n<p>The former seems to be the correct way.</p>\n"},{"tags":[],"owner":{"account_id":4132363,"reputation":410,"user_id":3389895,"display_name":"gringer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1550569397,"creation_date":1493543125,"answer_id":43704717,"question_id":43704674,"body_markdown":"`++depth` returns the value after *incrementing the value*. If you have two commands that increment a value, then that value will change between the two commands.\r\n\r\n    preOrderTraverse(node.left,  ++depth, sb);           \r\n    preOrderTraverse(node.right, ++depth, sb);\r\n\r\nis roughly equivalent* to this:\r\n\r\n    depth = depth + 1;\r\n    preOrderTraverse(node.left,  depth, sb);\r\n    depth = depth + 1;           \r\n    preOrderTraverse(node.right, depth, sb);\r\n\r\n\\* it&#39;s not exactly equivalent at least because the operation is evaluated just after `node.left` and before the evaluation of `sb` (assuming the Java interpreter follows a left-to-right rule for function argument evaluation).","title":"Difference between ++i and i = 1 in a recursive function","body":"<p><code>++depth</code> returns the value after <em>incrementing the value</em>. If you have two commands that increment a value, then that value will change between the two commands.</p>\n\n<pre><code>preOrderTraverse(node.left,  ++depth, sb);           \npreOrderTraverse(node.right, ++depth, sb);\n</code></pre>\n\n<p>is roughly equivalent* to this:</p>\n\n<pre><code>depth = depth + 1;\npreOrderTraverse(node.left,  depth, sb);\ndepth = depth + 1;           \npreOrderTraverse(node.right, depth, sb);\n</code></pre>\n\n<p>* it's not exactly equivalent at least because the operation is evaluated just after <code>node.left</code> and before the evaluation of <code>sb</code> (assuming the Java interpreter follows a left-to-right rule for function argument evaluation).</p>\n"},{"tags":[],"owner":{"account_id":22159947,"reputation":1,"user_id":16407085,"display_name":"20je0209 Ashutosh Shivhare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633680217,"creation_date":1633680217,"answer_id":69492484,"question_id":43704674,"body_markdown":"what actually is happening is that the value changes(++depth) and doesn&#39;t get back to the value before after returning but in depth +1 value doesnt change after returning it has it previous value\r\n","title":"Difference between ++i and i = 1 in a recursive function","body":"<p>what actually is happening is that the value changes(++depth) and doesn't get back to the value before after returning but in depth +1 value doesnt change after returning it has it previous value</p>\n"}],"owner":{"account_id":1215703,"reputation":1107,"user_id":1183348,"accept_rate":47,"display_name":"Thunfische"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":660,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":43704717,"answer_count":3,"score":3,"last_activity_date":1633680217,"creation_date":1493542791,"question_id":43704674,"body_markdown":"I was trying to write a toString method with preordertraverse. Here are two functions. In preOrderTraverse there are two different outputs when I write ++depth and depth + 1.\r\n\r\n    public String toString()\r\n    {\r\n        StringBuilder sb = new StringBuilder();\r\n        preOrderTraverse(root, 1, sb);\r\n        return sb.toString();\r\n    }\r\n    private void preOrderTraverse(Node&lt;E&gt; node, int depth, StringBuilder sb)\r\n    {\r\n        for(int i = 1; i &lt; depth; ++i)\r\n            sb.append(&quot;      &quot;);\r\n        if(node == null)\r\n            sb.append(&quot;null\\n&quot;);\r\n        else\r\n        {\r\n            sb.append(node.toString());\r\n            sb.append(&quot;\\n&quot;);\r\n            preOrderTraverse(node.left,depth + 1, sb);\r\n            preOrderTraverse(node.right,depth + 1,sb);\r\n        }\r\n    }\r\n\r\nThis gives me this\r\n\r\n      50\r\n            30\r\n                  null\r\n                  null\r\n            70\r\n                  null\r\n                  null\r\n\r\n\r\nIf I write this\r\n\r\n    preOrderTraverse(node.left,++depth, sb);           \r\n    preOrderTraverse(node.right,++depth,sb);\r\n\r\nI get this one\r\n\r\n      50\r\n           30\r\n                null\r\n                     null\r\n                70\r\n                     null\r\n                          null\r\n\r\n Why is that happening?","title":"Difference between ++i and i = 1 in a recursive function","body":"<p>I was trying to write a toString method with preordertraverse. Here are two functions. In preOrderTraverse there are two different outputs when I write ++depth and depth + 1.</p>\n\n<pre><code>public String toString()\n{\n    StringBuilder sb = new StringBuilder();\n    preOrderTraverse(root, 1, sb);\n    return sb.toString();\n}\nprivate void preOrderTraverse(Node&lt;E&gt; node, int depth, StringBuilder sb)\n{\n    for(int i = 1; i &lt; depth; ++i)\n        sb.append(\"      \");\n    if(node == null)\n        sb.append(\"null\\n\");\n    else\n    {\n        sb.append(node.toString());\n        sb.append(\"\\n\");\n        preOrderTraverse(node.left,depth + 1, sb);\n        preOrderTraverse(node.right,depth + 1,sb);\n    }\n}\n</code></pre>\n\n<p>This gives me this</p>\n\n<pre><code>  50\n        30\n              null\n              null\n        70\n              null\n              null\n</code></pre>\n\n<p>If I write this</p>\n\n<pre><code>preOrderTraverse(node.left,++depth, sb);           \npreOrderTraverse(node.right,++depth,sb);\n</code></pre>\n\n<p>I get this one</p>\n\n<pre><code>  50\n       30\n            null\n                 null\n            70\n                 null\n                      null\n</code></pre>\n\n<p>Why is that happening?</p>\n"},{"tags":["java","spring-boot","apache-camel","swagger","swagger-ui"],"comments":[{"owner":{"account_id":333191,"reputation":921,"user_id":658913,"accept_rate":25,"display_name":"CR Sardar"},"score":0,"creation_date":1615592886,"post_id":66608670,"comment_id":117748408,"body_markdown":"Search a lot on internet, but could find much information on combination of &quot;Swagger UI with Camel 3 (servlet) + SpringBoot 2&quot;, all working example using old version of Camel and SpringBoot","body":"Search a lot on internet, but could find much information on combination of &quot;Swagger UI with Camel 3 (servlet) + SpringBoot 2&quot;, all working example using old version of Camel and SpringBoot"}],"answers":[{"tags":[],"owner":{"account_id":11026225,"reputation":41,"user_id":8099064,"display_name":"ironside"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633678658,"creation_date":1633530683,"answer_id":69467685,"question_id":66608670,"body_markdown":"To enable Swagger-UI for default Camel configuration, SpringBoot 2.2.7, Camel 3.11.2 and Swagger 2.9.2:\r\n\r\nAdd to your pom.xml\r\n\r\n        &lt;!-- swagger --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAdd Configuration file to enable swagger-ui:\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig {\r\n    \r\n        @Bean\r\n        public Docket api() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.any())\r\n                    .paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    \r\n    }\r\n\r\nAdd in **application.properties**:\r\n\r\n    springfox.documentation.swagger.v2.path=/camel/api-doc\r\n\r\nRouter configuration:\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n        String contextPath = env.getProperty(&quot;camel.servlet.mapping.context-path&quot;, &quot;/camel&quot;);\r\n\r\n        //Common Rest config\r\n        restConfiguration()\r\n                .component(&quot;servlet&quot;)\r\n                .bindingMode(RestBindingMode.json)\r\n                .contextPath(contextPath)\r\n                .enableCORS(true)\r\n\r\n        //Enable swagger endpoint.\r\n                .dataFormatProperty(&quot;prettyPrint&quot;, &quot;true&quot;)\r\n                // add swagger api-doc out of the box\r\n                .apiContextPath(&quot;/api-doc&quot;)\r\n                    .apiProperty(&quot;api.title&quot;, &quot;API Title&quot;)\r\n                    .apiProperty(&quot;api.version&quot;, &quot;v1&quot;)\r\n                    // and enable CORS\r\n                    .apiProperty(&quot;cors&quot;, &quot;true&quot;);\r\n\r\n    }\r\n\r\n\r\nSwagger-UI will be active on address http://localhost:8080/swagger-ui.html","title":"Swagger UI with Apache Camel 3 (servlet) + SpringBoot 2","body":"<p>To enable Swagger-UI for default Camel configuration, SpringBoot 2.2.7, Camel 3.11.2 and Swagger 2.9.2:</p>\n<p>Add to your pom.xml</p>\n<pre><code>    &lt;!-- swagger --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Add Configuration file to enable swagger-ui:</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n}\n</code></pre>\n<p>Add in <strong>application.properties</strong>:</p>\n<pre><code>springfox.documentation.swagger.v2.path=/camel/api-doc\n</code></pre>\n<p>Router configuration:</p>\n<pre><code>@Override\npublic void configure() throws Exception {\n    String contextPath = env.getProperty(&quot;camel.servlet.mapping.context-path&quot;, &quot;/camel&quot;);\n\n    //Common Rest config\n    restConfiguration()\n            .component(&quot;servlet&quot;)\n            .bindingMode(RestBindingMode.json)\n            .contextPath(contextPath)\n            .enableCORS(true)\n\n    //Enable swagger endpoint.\n            .dataFormatProperty(&quot;prettyPrint&quot;, &quot;true&quot;)\n            // add swagger api-doc out of the box\n            .apiContextPath(&quot;/api-doc&quot;)\n                .apiProperty(&quot;api.title&quot;, &quot;API Title&quot;)\n                .apiProperty(&quot;api.version&quot;, &quot;v1&quot;)\n                // and enable CORS\n                .apiProperty(&quot;cors&quot;, &quot;true&quot;);\n\n}\n</code></pre>\n<p>Swagger-UI will be active on address http://localhost:8080/swagger-ui.html</p>\n"}],"owner":{"account_id":333191,"reputation":921,"user_id":658913,"accept_rate":25,"display_name":"CR Sardar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3803,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1633678658,"creation_date":1615592863,"question_id":66608670,"body_markdown":"New to Camel + SpringBoot + Swagger.\r\nCreated some REST APIs using Camel 3.8.0 and SpringBoot 2.4.2 (using Camel&#39;s Servlet on Default TomCat of SpringBoot).\r\n\r\nHere is pom.xml\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.2&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.crsardar.java.apache.camel&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hands-on-camel-springboot&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n\r\n        &lt;camelVersion&gt;3.8.0&lt;/camelVersion&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- SpringBoot --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Camel --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-spring-boot-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;${camelVersion}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;${camelVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${camelVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${camelVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-rest-swagger-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${camelVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n            &lt;artifactId&gt;camel-swagger-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${camelVersion}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\r\n            &lt;version&gt;0.40&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- Others --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.18&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\nConfiguration and REST end points - \r\n\r\n    package com.crsardar.java.apache.camel;\r\n    \r\n    import com.crsardar.java.dao.Order;\r\n    import org.apache.camel.builder.RouteBuilder;\r\n    import org.apache.camel.model.rest.RestBindingMode;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class CamelController extends RouteBuilder {\r\n    \r\n        @Override\r\n        public void configure() throws Exception {\r\n    \r\n            restConfiguration()\r\n                    .component(&quot;servlet&quot;)\r\n                    .port(8080)\r\n                    .host(&quot;127.0.0.1&quot;)\r\n                    .apiContextPath(&quot;api-docs&quot;)\r\n                    .apiContextIdPattern(&quot;#name#&quot;)\r\n                    .apiProperty(&quot;api.title&quot;, &quot;Test REST API&quot;)\r\n                    .apiProperty(&quot;api.version&quot;, &quot;v1&quot;)\r\n                    .apiProperty(&quot;cors&quot;, &quot;true&quot;)\r\n                    .bindingMode(RestBindingMode.json);\r\n    \r\n            rest().post(&quot;/order&quot;)\r\n                    .produces(MediaType.APPLICATION_JSON_VALUE)\r\n                    .type(Order.class)\r\n                    .outType(Order.class)\r\n                    .to(&quot;bean:orderService?method=addOrder(${body})&quot;);\r\n    \r\n            rest().get(&quot;/order&quot;)\r\n                    .produces(MediaType.APPLICATION_JSON_VALUE)\r\n                    .to(&quot;bean:orderService?method=getOrders()&quot;);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nI am trying to document it and give an option to test it using Swagger UI.\r\n\r\nIf I run the application and hit `http://127.0.0.1:8080/api-docs` I am getting Swagger&#39;s API documentation.\r\n\r\n**But, I can not try it using Swagger UI, How can I make Swagger UI working on it?**\r\n\r\nI do not know - Whether Swagger-UI is working on this app or not? If working, what will be the URL for Swagger-UI?\r\n\r\nComplete code is here https://github.com/crsardar/hands-on-java/tree/master/hands-on-camel-springboot","title":"Swagger UI with Apache Camel 3 (servlet) + SpringBoot 2","body":"<p>New to Camel + SpringBoot + Swagger.\nCreated some REST APIs using Camel 3.8.0 and SpringBoot 2.4.2 (using Camel's Servlet on Default TomCat of SpringBoot).</p>\n<p>Here is pom.xml</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.2&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n\n&lt;groupId&gt;com.crsardar.java.apache.camel&lt;/groupId&gt;\n&lt;artifactId&gt;hands-on-camel-springboot&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n\n    &lt;camelVersion&gt;3.8.0&lt;/camelVersion&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- SpringBoot --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Camel --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-spring-boot-bom&lt;/artifactId&gt;\n        &lt;version&gt;${camelVersion}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-jackson&lt;/artifactId&gt;\n        &lt;version&gt;${camelVersion}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-servlet-starter&lt;/artifactId&gt;\n        &lt;version&gt;${camelVersion}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;${camelVersion}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-rest-swagger-starter&lt;/artifactId&gt;\n        &lt;version&gt;${camelVersion}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n        &lt;artifactId&gt;camel-swagger-java&lt;/artifactId&gt;\n        &lt;version&gt;${camelVersion}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.2.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\n        &lt;version&gt;0.40&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Others --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.18&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Configuration and REST end points -</p>\n<pre><code>package com.crsardar.java.apache.camel;\n\nimport com.crsardar.java.dao.Order;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.model.rest.RestBindingMode;\nimport org.springframework.http.MediaType;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CamelController extends RouteBuilder {\n\n    @Override\n    public void configure() throws Exception {\n\n        restConfiguration()\n                .component(&quot;servlet&quot;)\n                .port(8080)\n                .host(&quot;127.0.0.1&quot;)\n                .apiContextPath(&quot;api-docs&quot;)\n                .apiContextIdPattern(&quot;#name#&quot;)\n                .apiProperty(&quot;api.title&quot;, &quot;Test REST API&quot;)\n                .apiProperty(&quot;api.version&quot;, &quot;v1&quot;)\n                .apiProperty(&quot;cors&quot;, &quot;true&quot;)\n                .bindingMode(RestBindingMode.json);\n\n        rest().post(&quot;/order&quot;)\n                .produces(MediaType.APPLICATION_JSON_VALUE)\n                .type(Order.class)\n                .outType(Order.class)\n                .to(&quot;bean:orderService?method=addOrder(${body})&quot;);\n\n        rest().get(&quot;/order&quot;)\n                .produces(MediaType.APPLICATION_JSON_VALUE)\n                .to(&quot;bean:orderService?method=getOrders()&quot;);\n\n    }\n}\n</code></pre>\n<p>I am trying to document it and give an option to test it using Swagger UI.</p>\n<p>If I run the application and hit <code>http://127.0.0.1:8080/api-docs</code> I am getting Swagger's API documentation.</p>\n<p><strong>But, I can not try it using Swagger UI, How can I make Swagger UI working on it?</strong></p>\n<p>I do not know - Whether Swagger-UI is working on this app or not? If working, what will be the URL for Swagger-UI?</p>\n<p>Complete code is here <a href=\"https://github.com/crsardar/hands-on-java/tree/master/hands-on-camel-springboot\" rel=\"nofollow noreferrer\">https://github.com/crsardar/hands-on-java/tree/master/hands-on-camel-springboot</a></p>\n"},{"tags":["java","android","android-actionbar","toolbar","android-toolbar"],"comments":[{"owner":{"account_id":1312380,"reputation":104,"user_id":1260126,"display_name":"Yash Dhingra"},"score":0,"creation_date":1633678158,"post_id":69491895,"comment_id":122828423,"body_markdown":"In the second code snippet, by &quot;RecyclerView xml file&quot; do you mean &quot;@layout/fragment_word_recyclerview&quot;?","body":"In the second code snippet, by &quot;RecyclerView xml file&quot; do you mean &quot;@layout/fragment_word_recyclerview&quot;?"},{"owner":{"account_id":22528301,"reputation":47,"user_id":16720759,"display_name":"Premjit"},"score":0,"creation_date":1633678256,"post_id":69491895,"comment_id":122828464,"body_markdown":"Yes, recyclerview&#39;s xml file name is fragment_word_recyclerview.","body":"Yes, recyclerview&#39;s xml file name is fragment_word_recyclerview."}],"answers":[{"tags":[],"owner":{"account_id":1312380,"reputation":104,"user_id":1260126,"display_name":"Yash Dhingra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633678520,"creation_date":1633678520,"answer_id":69492169,"question_id":69491895,"body_markdown":"In the &quot;Crud Sql xml&quot;, towards the end - you have:\r\n\r\n`&lt;include layout=&quot;@layout/fragment_word_recyclerview&quot; /&gt;`\r\n\r\nYou may want to remove this line.\r\n\r\nIf you see the second code snippet, this layout has toolbar and a recyclerview. If you include this layout in &quot;Crud Sql xml&quot;, you will see the toolbar on top. The recyclerview may not be visible because you may not have added any content into it.","title":"Why Toolbar is Overriding another activity&#39;s fragment?","body":"<p>In the &quot;Crud Sql xml&quot;, towards the end - you have:</p>\n<p><code>&lt;include layout=&quot;@layout/fragment_word_recyclerview&quot; /&gt;</code></p>\n<p>You may want to remove this line.</p>\n<p>If you see the second code snippet, this layout has toolbar and a recyclerview. If you include this layout in &quot;Crud Sql xml&quot;, you will see the toolbar on top. The recyclerview may not be visible because you may not have added any content into it.</p>\n"}],"owner":{"account_id":22528301,"reputation":47,"user_id":16720759,"display_name":"Premjit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69492169,"answer_count":1,"score":0,"last_activity_date":1633678520,"creation_date":1633677094,"question_id":69491895,"body_markdown":"[Im not added toolbar in this fragment but it is overriding from Recyclerview&#39;s xml file ][1]\r\n\r\n\r\n[Im added toolbar in this specific recyclerview&#39;s xml file ][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LNA3O.jpg\r\n  [2]: https://i.stack.imgur.com/lsl8Y.jpg\r\n\r\n\r\n**Manifest file**\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;manifest\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.sanskrit.mysearcher&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:resizeableActivity=&quot;false&quot;&gt;\r\n\r\n        \r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                \r\n             &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt; \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt; \r\n            &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            \r\n        &lt;activity android:name=&quot;.DisplayContactActivity&quot;&gt;\r\n\r\n        &lt;/activity&gt;           \r\n            \r\n        &lt;activity android:name=&quot;.SqlQrudActivity&quot;&gt;\r\n            \r\n        &lt;/activity&gt;\r\n        \r\n        &lt;activity android:name=&quot;.ShowcaseWordsActivity&quot;\r\n            \r\n            \r\n            &gt;\r\n            \r\n        \r\n        &lt;/activity&gt;\r\n        \r\n      \r\n        \r\n        \r\n      &lt;meta-data\r\n          android:name=&quot;android.max_aspect&quot;\r\n          android:value=&quot;4.0&quot;/&gt;\r\n\r\n    &lt;/application&gt;\r\n\t\r\n&lt;/manifest&gt;\r\n\r\n```\r\n**Recyclerview xml file**\r\n\r\n```\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    \r\n    &gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:id=&quot;@+id/toolbar&quot;\r\n        \r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;?attr/colorPrimary&quot;\r\n        app:title=&quot;Search Your Words&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/rvPrograms&quot;\r\n        &gt;\r\n    \r\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n    \r\n        \r\n    \r\n    \r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rvPrograms&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        \r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot; /&gt;\r\n    \r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n ```\r\n\r\n**Crud Sql xml file where toolbar is not added by me but showing automatically after app installation**\r\n\r\n\r\n```\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:padding=&quot;10dp&quot;\r\n    android:background=&quot;@color/white&quot;&gt;\r\n\r\n\r\n    &lt;TextView\r\n\r\n\r\n        android:id=&quot;@+id/insertID&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        \r\n        android:text=&quot;Insert Id&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/updateID&quot;\r\n\r\n\r\n    /&gt;\r\n\r\n    &lt;EditText\r\n        \r\n\r\n        android:id=&quot;@+id/updateID&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        \r\n        android:textSize=&quot;17sp&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:background=&quot;@drawable/custom_input&quot;\r\n        android:inputType=&quot;number&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/insertID&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/insertText&quot;\r\n    /&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    &lt;TextView\r\n\r\n\r\n        android:id=&quot;@+id/insertText&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;5dp&quot;\r\n        android:text=&quot;Insert Name&quot;\r\n        android:textSize=&quot;22sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/updateID&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/editName&quot;\r\n\r\n\r\n    /&gt;\r\n\r\n    &lt;EditText\r\n\r\n        android:id=&quot;@+id/editName&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;10dp&quot; \r\n        android:textSize=&quot;18sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:background=&quot;@drawable/custom_input&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/insertText&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/insertDescription&quot;\r\n    /&gt;\r\n\r\n\r\n\r\n    &lt;TextView\r\n\r\n\r\n        android:id=&quot;@+id/insertDescription&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;10dp&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:text=&quot;Description&quot;\r\n        android:textSize=&quot;22sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editName&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/editDescription&quot;\r\n\r\n\r\n    /&gt;\r\n\r\n    &lt;EditText\r\n\r\n        android:id=&quot;@+id/editDescription&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:hint=&quot;Add Description&quot;\r\n        android:textSize=&quot;18sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        android:background=&quot;@drawable/custom_input&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/insertDescription&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    /&gt;\r\n\r\n    &lt;include layout=&quot;@layout/fragment_word_recyclerview&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n**Styles.xml file**\r\n```\r\n&lt;resources&gt;\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n        \r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;DetailTheme&quot;&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n      \r\n        &lt;!--\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;       \r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n        \r\n    &lt;/style&gt;\r\n   --&gt;\r\n    &lt;/style&gt;\r\n    \r\n        \r\n        \r\n        \r\n    &lt;style name=&quot;DetailTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n       \r\n\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n        \r\n        \r\n        \r\n    &lt;/style&gt;\r\n    \r\n    \r\n    \r\n&lt;/resources&gt;\r\n\r\n```\r\n\r\n**Fragment class where only toolbar initialised by me**\r\n\r\n``` \r\n @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        View view = inflater.inflate(R.layout.fragment_word_recyclerview,container,false);\r\n    \r\n        \r\n        Toolbar toolbar = ((Toolbar) view.findViewById(R.id.toolbar));\r\n        AppCompatActivity activity = (AppCompatActivity) getActivity();\r\n        activity.setSupportActionBar(toolbar);\r\n        \r\n        setHasOptionsMenu(true);\r\n\r\nreturn view;\r\n```","title":"Why Toolbar is Overriding another activity&#39;s fragment?","body":"<p><a href=\"https://i.stack.imgur.com/LNA3O.jpg\" rel=\"nofollow noreferrer\">Im not added toolbar in this fragment but it is overriding from Recyclerview's xml file </a></p>\n<p><a href=\"https://i.stack.imgur.com/lsl8Y.jpg\" rel=\"nofollow noreferrer\">Im added toolbar in this specific recyclerview's xml file </a></p>\n<p><strong>Manifest file</strong></p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;manifest\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.sanskrit.mysearcher&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        android:resizeableActivity=&quot;false&quot;&gt;\n\n        \n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n                \n             &lt;intent-filter&gt;\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt; \n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt; \n            &lt;/intent-filter&gt;\n            &lt;/activity&gt;\n            \n        &lt;activity android:name=&quot;.DisplayContactActivity&quot;&gt;\n\n        &lt;/activity&gt;           \n            \n        &lt;activity android:name=&quot;.SqlQrudActivity&quot;&gt;\n            \n        &lt;/activity&gt;\n        \n        &lt;activity android:name=&quot;.ShowcaseWordsActivity&quot;\n            \n            \n            &gt;\n            \n        \n        &lt;/activity&gt;\n        \n      \n        \n        \n      &lt;meta-data\n          android:name=&quot;android.max_aspect&quot;\n          android:value=&quot;4.0&quot;/&gt;\n\n    &lt;/application&gt;\n    \n&lt;/manifest&gt;\n\n</code></pre>\n<p><strong>Recyclerview xml file</strong></p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    \n    &gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:id=&quot;@+id/toolbar&quot;\n        \n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;?attr/colorPrimary&quot;\n        app:title=&quot;Search Your Words&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/rvPrograms&quot;\n        &gt;\n    \n    &lt;/androidx.appcompat.widget.Toolbar&gt;\n    \n        \n    \n    \n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/rvPrograms&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        \n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot; /&gt;\n    \n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p><strong>Crud Sql xml file where toolbar is not added by me but showing automatically after app installation</strong></p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:padding=&quot;10dp&quot;\n    android:background=&quot;@color/white&quot;&gt;\n\n\n    &lt;TextView\n\n\n        android:id=&quot;@+id/insertID&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        \n        android:text=&quot;Insert Id&quot;\n        android:textSize=&quot;18sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n\n        app:layout_constraintBottom_toTopOf=&quot;@+id/updateID&quot;\n\n\n    /&gt;\n\n    &lt;EditText\n        \n\n        android:id=&quot;@+id/updateID&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        \n        android:textSize=&quot;17sp&quot;\n        android:padding=&quot;10dp&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:background=&quot;@drawable/custom_input&quot;\n        android:inputType=&quot;number&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/insertID&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/insertText&quot;\n    /&gt;\n\n\n\n\n\n\n\n    &lt;TextView\n\n\n        android:id=&quot;@+id/insertText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;5dp&quot;\n        android:text=&quot;Insert Name&quot;\n        android:textSize=&quot;22sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/updateID&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/editName&quot;\n\n\n    /&gt;\n\n    &lt;EditText\n\n        android:id=&quot;@+id/editName&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot; \n        android:textSize=&quot;18sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:padding=&quot;10dp&quot;\n        android:background=&quot;@drawable/custom_input&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/insertText&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/insertDescription&quot;\n    /&gt;\n\n\n\n    &lt;TextView\n\n\n        android:id=&quot;@+id/insertDescription&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:text=&quot;Description&quot;\n        android:textSize=&quot;22sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editName&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/editDescription&quot;\n\n\n    /&gt;\n\n    &lt;EditText\n\n        android:id=&quot;@+id/editDescription&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:hint=&quot;Add Description&quot;\n        android:textSize=&quot;18sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:gravity=&quot;center&quot;\n        android:padding=&quot;10dp&quot;\n        android:background=&quot;@drawable/custom_input&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/insertDescription&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    /&gt;\n\n    &lt;include layout=&quot;@layout/fragment_word_recyclerview&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>Styles.xml file</strong></p>\n<pre><code>&lt;resources&gt;\n\n    &lt;!-- Base application theme. --&gt;\n        \n    &lt;style name=&quot;AppTheme&quot; parent=&quot;DetailTheme&quot;&gt;\n        &lt;!-- Customize your theme here. --&gt;\n      \n        &lt;!--\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;       \n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\n        \n    &lt;/style&gt;\n   --&gt;\n    &lt;/style&gt;\n    \n        \n        \n        \n    &lt;style name=&quot;DetailTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n       \n\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\n        \n        \n        \n    &lt;/style&gt;\n    \n    \n    \n&lt;/resources&gt;\n\n</code></pre>\n<p><strong>Fragment class where only toolbar initialised by me</strong></p>\n<pre><code> @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n        View view = inflater.inflate(R.layout.fragment_word_recyclerview,container,false);\n    \n        \n        Toolbar toolbar = ((Toolbar) view.findViewById(R.id.toolbar));\n        AppCompatActivity activity = (AppCompatActivity) getActivity();\n        activity.setSupportActionBar(toolbar);\n        \n        setHasOptionsMenu(true);\n\nreturn view;\n</code></pre>\n"},{"tags":["java","filter","jax-rs","query-string"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1476022003,"post_id":39944398,"comment_id":67169221,"body_markdown":"You can write a request wrapper and modify your parameters.","body":"You can write a request wrapper and modify your parameters."},{"owner":{"account_id":267360,"reputation":470,"user_id":3239047,"accept_rate":86,"display_name":"CodeFactory.DEV"},"score":0,"creation_date":1476091016,"post_id":39944398,"comment_id":67189600,"body_markdown":"@RomanC can you expound on that? just curious, im open to any ideas. including not using filters/interceptors. something that works cleanly","body":"@RomanC can you expound on that? just curious, im open to any ideas. including not using filters/interceptors. something that works cleanly"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1476098564,"post_id":39944398,"comment_id":67193646,"body_markdown":"So you don&#39;t know how to write request wrapper?","body":"So you don&#39;t know how to write request wrapper?"}],"answers":[{"tags":[],"owner":{"account_id":5247450,"reputation":246,"user_id":4192663,"display_name":"chathura rupasinghe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476028086,"creation_date":1476028086,"answer_id":39945461,"question_id":39944398,"body_markdown":"if you want only to set a value when its null than use  @DefaultValue(&quot;default value you want&quot;)\r\n\r\n  \r\n\r\n      public FancountAndChannel computeFanCount(\r\n                @QueryParam(&quot;artist&quot;) String artistId,\r\n                @OptimizableDate @DefaultValue(&quot;default value you want&quot;)   @QueryParam(&quot;date&quot;) Integer date, //override this using filters\r\n                @QueryParam(&quot;channel&quot;) String channel) {\r\n    \r\n    }\r\n\r\n","title":"Override JAXRS @QueryParameter value using Post-matched Request Filter","body":"<p>if you want only to set a value when its null than use  @DefaultValue(\"default value you want\")</p>\n\n<pre><code>  public FancountAndChannel computeFanCount(\n            @QueryParam(\"artist\") String artistId,\n            @OptimizableDate @DefaultValue(\"default value you want\")   @QueryParam(\"date\") Integer date, //override this using filters\n            @QueryParam(\"channel\") String channel) {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2373536,"reputation":172,"user_id":2077554,"display_name":"Hemanth Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633678506,"creation_date":1633539195,"answer_id":69469744,"question_id":39944398,"body_markdown":"One workaround I found is \r\n\r\n    public class DelegationFilter implements ContainerRequestFilter {\r\n\r\n\t@Context\r\n\tprivate HttpServletRequest request;\r\n\r\n\t@Override\r\n\tpublic void filter(ContainerRequestContext containerRequestContext) throws IOException {\r\n\r\n        final Map&lt;String, String[]&gt; parameterMap = request.getParameterMap();\r\n        parameterMap.put(fieldName, new String[] { String.valueOf(optimizedDate) });\r\n\t\t\r\n\t   }\r\n    }\r\n\r\n\r\nThis worked in liberty server. I hope it would work for you too. \r\n\r\n**Please note that this one updates the parametermap and not parameters. I dint find a way to update the parameters**","title":"Override JAXRS @QueryParameter value using Post-matched Request Filter","body":"<p>One workaround I found is</p>\n<pre><code>public class DelegationFilter implements ContainerRequestFilter {\n\n@Context\nprivate HttpServletRequest request;\n\n@Override\npublic void filter(ContainerRequestContext containerRequestContext) throws IOException {\n\n    final Map&lt;String, String[]&gt; parameterMap = request.getParameterMap();\n    parameterMap.put(fieldName, new String[] { String.valueOf(optimizedDate) });\n    \n   }\n}\n</code></pre>\n<p>This worked in liberty server. I hope it would work for you too.</p>\n<p><strong>Please note that this one updates the parametermap and not parameters. I dint find a way to update the parameters</strong></p>\n"}],"owner":{"account_id":267360,"reputation":470,"user_id":3239047,"accept_rate":86,"display_name":"CodeFactory.DEV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1633678506,"creation_date":1476021340,"question_id":39944398,"body_markdown":"I have a method wherein I need to override the values of the query parameter based on certain computations:\r\n\r\n    @GET\r\n\t@Path(&quot;/channel&quot;)\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\t@OptimizedDate\r\n\tpublic FancountAndChannel computeFanCount(\r\n\t\t\t@QueryParam(&quot;artist&quot;) String artistId,\r\n\t\t\t@OptimizableDate @QueryParam(&quot;date&quot;) Integer date, //override this using filters\r\n\t\t\t@QueryParam(&quot;channel&quot;) String channel) {\r\n\t\t\r\n\t\t//do stuffs here\r\n\t}\r\n\r\nMy filter looks like this:\r\n\r\n    @OptimizedDate\r\n    public class OptimizedDateFilter implements ContainerRequestFilter {\r\n\r\n    @Override\r\n\tpublic void filter(ContainerRequestContext context) throws IOException {\r\n        if (//certain condition) {\r\n            //im hoping this method would change the &quot;date&quot; value\r\n            Integer optimizedDate = //compute date here\r\n            updateDateParameter(context, &quot;date&quot;, optimizedDate );\r\n        }\r\n    }\t\r\n    \r\n    private void updateDateParameter(ContainerRequestContext context, String fieldName, Integer optimizedDate) {\r\n\t\t\r\n\t\t//TODO: wont work, only for post-matching filters\r\n\t\tURI oldUri = context.getUriInfo().getRequestUri();\r\n\t\tURI newUri = null;\r\n\t\ttry {\r\n\t\t\tnewUri = new URIBuilder(oldUri).setParameter(fieldName, String.valueOf(optimizedDate)).build();\r\n\t\t} catch (URISyntaxException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tLOGGER.debug(&quot;oldUri={}\\nnewUri={}&quot;, oldUri, newUri);\r\n\t\tcontext.setRequestUri(newUri);\r\n\t\t\r\n\t\t//TODO: wont work: query parameters are immutable\r\n\t\t//context.getUriInfo().getQueryParameters().putSingle(fieldName, String.valueOf(optimizedDate));\r\n\t\t//context.getUriInfo().getQueryParameters().add(fieldName, Arrays.asList(String.valueOf(optimizedDate)));\r\n\t}\r\n\r\nI want to override the value, or set it (when its null). However, most of the methods I have tried are using immutable objects. \r\n\r\nIs there any better way of doing this using filters? I may have to apply the same logic across a lot of methods, copy-pasting is not my style. \r\n\r\n**Summary of Requirements:**\r\n\r\n 1. Value is to be computed and decided at runtime\r\n 2. Logic is to be applied across a variety of JAXRS endpoints ONLY\r\n","title":"Override JAXRS @QueryParameter value using Post-matched Request Filter","body":"<p>I have a method wherein I need to override the values of the query parameter based on certain computations:</p>\n\n<pre><code>@GET\n@Path(\"/channel\")\n@Produces(MediaType.APPLICATION_JSON)\n@OptimizedDate\npublic FancountAndChannel computeFanCount(\n        @QueryParam(\"artist\") String artistId,\n        @OptimizableDate @QueryParam(\"date\") Integer date, //override this using filters\n        @QueryParam(\"channel\") String channel) {\n\n    //do stuffs here\n}\n</code></pre>\n\n<p>My filter looks like this:</p>\n\n<pre><code>@OptimizedDate\npublic class OptimizedDateFilter implements ContainerRequestFilter {\n\n@Override\npublic void filter(ContainerRequestContext context) throws IOException {\n    if (//certain condition) {\n        //im hoping this method would change the \"date\" value\n        Integer optimizedDate = //compute date here\n        updateDateParameter(context, \"date\", optimizedDate );\n    }\n}   \n\nprivate void updateDateParameter(ContainerRequestContext context, String fieldName, Integer optimizedDate) {\n\n    //TODO: wont work, only for post-matching filters\n    URI oldUri = context.getUriInfo().getRequestUri();\n    URI newUri = null;\n    try {\n        newUri = new URIBuilder(oldUri).setParameter(fieldName, String.valueOf(optimizedDate)).build();\n    } catch (URISyntaxException e) {\n        e.printStackTrace();\n    }\n    LOGGER.debug(\"oldUri={}\\nnewUri={}\", oldUri, newUri);\n    context.setRequestUri(newUri);\n\n    //TODO: wont work: query parameters are immutable\n    //context.getUriInfo().getQueryParameters().putSingle(fieldName, String.valueOf(optimizedDate));\n    //context.getUriInfo().getQueryParameters().add(fieldName, Arrays.asList(String.valueOf(optimizedDate)));\n}\n</code></pre>\n\n<p>I want to override the value, or set it (when its null). However, most of the methods I have tried are using immutable objects. </p>\n\n<p>Is there any better way of doing this using filters? I may have to apply the same logic across a lot of methods, copy-pasting is not my style. </p>\n\n<p><strong>Summary of Requirements:</strong></p>\n\n<ol>\n<li>Value is to be computed and decided at runtime</li>\n<li>Logic is to be applied across a variety of JAXRS endpoints ONLY</li>\n</ol>\n"},{"tags":["java","api","http","http-post","http-put"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":2,"creation_date":1633678193,"post_id":69492055,"comment_id":122828436,"body_markdown":"PUT and POST are meant for different things. Generally speaking if you want to create a NEW record in your service, then you use a POST.\n\nHowever, if you have an existing record and you want to (UPDATE IT), meaning you need to retrieve it from the DB, Update, Save, then that is a PUT.   You can still use POST but the affect on the RAM/CPU is the same(if you use PUT/POST on this action)\n\nI suggest you read https://www.rfc-editor.org/rfc/rfc2616#section-9.5 to get general information","body":"PUT and POST are meant for different things. Generally speaking if you want to create a NEW record in your service, then you use a POST.  However, if you have an existing record and you want to (UPDATE IT), meaning you need to retrieve it from the DB, Update, Save, then that is a PUT.   You can still use POST but the affect on the RAM/CPU is the same(if you use PUT/POST on this action)  I suggest you read <a href=\"https://www.rfc-editor.org/rfc/rfc2616#section-9.5\" rel=\"nofollow noreferrer\">rfc-editor.org/rfc/rfc2616#section-9.5</a> to get general information"},{"owner":{"account_id":29144164,"reputation":12197,"user_id":12361700,"display_name":"Alberto"},"score":1,"creation_date":1633678202,"post_id":69492055,"comment_id":122828441,"body_markdown":"PUT and POST are just headers since PUT it&#39;s pretty much not available in any web server, they are there just to &quot;differentiate&quot; the request, but won&#39;t make any difference in performance","body":"PUT and POST are just headers since PUT it&#39;s pretty much not available in any web server, they are there just to &quot;differentiate&quot; the request, but won&#39;t make any difference in performance"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1633678900,"post_id":69492055,"comment_id":122828650,"body_markdown":"Does this answer your question? [What is the difference between POST and PUT in HTTP?](https://stackoverflow.com/questions/630453/what-is-the-difference-between-post-and-put-in-http)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/630453/what-is-the-difference-between-post-and-put-in-http\">What is the difference between POST and PUT in HTTP?</a>"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1633680646,"post_id":69492055,"comment_id":122829292,"body_markdown":"As others have already explained, the meaning of PUT and POST is different. Efficiency is not a criterion you should use to choose between them (aside from the fact that there is no inherent efficiency difference). Also, for fetching data, you should use GET and not PUT or POST.","body":"As others have already explained, the meaning of PUT and POST is different. Efficiency is not a criterion you should use to choose between them (aside from the fact that there is no inherent efficiency difference). Also, for fetching data, you should use GET and not PUT or POST."}],"answers":[{"tags":[],"owner":{"account_id":14803792,"reputation":1246,"user_id":10691359,"display_name":"Pilpo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633678293,"creation_date":1633678293,"answer_id":69492127,"question_id":69492055,"body_markdown":"There are no performance benefits between POST, PUT, DELETE. It&#39;s more a question of what your backend will do. Create a new entity? You might want to use POST. Update it? Use PUT. A more detailed answer between the two can be found [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/630475/10691359","title":"Which is more Efficient ? PUT or POST?","body":"<p>There are no performance benefits between POST, PUT, DELETE. It's more a question of what your backend will do. Create a new entity? You might want to use POST. Update it? Use PUT. A more detailed answer between the two can be found <a href=\"https://stackoverflow.com/a/630475/10691359\">here</a>.</p>\n"}],"owner":{"account_id":14027078,"reputation":99,"user_id":10131853,"display_name":"Abhijith.M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1633686792,"answer_count":1,"score":-3,"last_activity_date":1633678293,"creation_date":1633677928,"question_id":69492055,"body_markdown":"I have a service A, Service B, and Service C. A database is attached to service B. My requirement is to send data from service A every second. Service B processes the received data and store it in the database. Service C fetched processed data from the database ( by interacting with Service B ) every 5 seconds. \r\n\r\nMy question is, In the interaction between A to B, Would POST request be more efficient than PUT request considering performance constraints ( RAM and CPU usage ). Note that the request from A to B is using the same URI. Additionally, while fetching data from the database ( which is also using a single URI ) will the PUT method give me additional performance efficiency over the POST method?","title":"Which is more Efficient ? PUT or POST?","body":"<p>I have a service A, Service B, and Service C. A database is attached to service B. My requirement is to send data from service A every second. Service B processes the received data and store it in the database. Service C fetched processed data from the database ( by interacting with Service B ) every 5 seconds.</p>\n<p>My question is, In the interaction between A to B, Would POST request be more efficient than PUT request considering performance constraints ( RAM and CPU usage ). Note that the request from A to B is using the same URI. Additionally, while fetching data from the database ( which is also using a single URI ) will the PUT method give me additional performance efficiency over the POST method?</p>\n"},{"tags":["java","netbeans","append","insert-image"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1588444408,"post_id":61564435,"comment_id":108900685,"body_markdown":"JTextArea is purely for text. You may want to look at JTextPane","body":"JTextArea is purely for text. You may want to look at JTextPane"},{"owner":{"account_id":18471206,"reputation":1,"user_id":13456056,"display_name":"mikepayne"},"score":0,"creation_date":1588456553,"post_id":61564435,"comment_id":108904970,"body_markdown":"@ControlAltDel I tried to add a JTextPane for test and used panename.insertIcon ( new ImageIcon ( &quot;/path/to/image.png&quot; ) ); but it didn&#39;t work. I&#39;m not sure why","body":"@ControlAltDel I tried to add a JTextPane for test and used panename.insertIcon ( new ImageIcon ( &quot;/path/to/image.png&quot; ) ); but it didn&#39;t work. I&#39;m not sure why"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1588527599,"post_id":61564435,"comment_id":108926213,"body_markdown":"I meant that you should use a JTextPane for inserting images, not to try to insert a JTextPane into a JTextArea","body":"I meant that you should use a JTextPane for inserting images, not to try to insert a JTextPane into a JTextArea"},{"owner":{"account_id":18471206,"reputation":1,"user_id":13456056,"display_name":"mikepayne"},"score":0,"creation_date":1588623787,"post_id":61564435,"comment_id":108965523,"body_markdown":"@ControlAltDel yes. I created a JTextPane (separated from the JTextArea) and used the line &quot;panename.insertIcon ( new ImageIcon ( &quot;/path/to/image.png&quot; ) );&quot; . Where panename is the name of the var of the JTextPane. From what I found online that&#39;s the line that should add the image. I also found a way to do it with html, but that doesn&#39;t find with the rest of the code I have","body":"@ControlAltDel yes. I created a JTextPane (separated from the JTextArea) and used the line &quot;panename.insertIcon ( new ImageIcon ( &quot;/path/to/image.png&quot; ) );&quot; . Where panename is the name of the var of the JTextPane. From what I found online that&#39;s the line that should add the image. I also found a way to do it with html, but that doesn&#39;t find with the rest of the code I have"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1588625176,"post_id":61564435,"comment_id":108966151,"body_markdown":"I can&#39;t speak to the rest of your code, as you haven&#39;t posted it or commented extensively about it. Your original question was &quot;How do I append an image into a JTextArea?&quot; You have learned (a) that is isn&#39;t supported through JTextArea, and (b) How to do it in JTextpane. In my opinion, you should post the testing you did that you mentioned in your last comment, mark this question answered (with you answer), then try moving your solution to use JTextPane instead of JTextArea and post another question here if you have another problem","body":"I can&#39;t speak to the rest of your code, as you haven&#39;t posted it or commented extensively about it. Your original question was &quot;How do I append an image into a JTextArea?&quot; You have learned (a) that is isn&#39;t supported through JTextArea, and (b) How to do it in JTextpane. In my opinion, you should post the testing you did that you mentioned in your last comment, mark this question answered (with you answer), then try moving your solution to use JTextPane instead of JTextArea and post another question here if you have another problem"}],"owner":{"account_id":18471206,"reputation":1,"user_id":13456056,"display_name":"mikepayne"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633677877,"creation_date":1588444329,"question_id":61564435,"body_markdown":"TLDR: Insert an image in a JTextArea that will be generated afterwards.\r\n\r\nI&#39;m new on using Java, doing my first real project. I am trying to make an application that creates documents based on input variables that represent the keywords in a &quot;template&quot;. Basically I created on the left of the GUI a few JTextFields that I print out in the JTextArea with append and then I generate the document.\r\n\r\nWhat I am trying to do atm is to insert an image in that append, image that will be in the generated document.\r\n\r\nThe code so far for what I specified below.\r\n\r\nJTextArea append, where I would like to insert the image:\r\n\r\n    private void ADDActionPerformed(java.awt.event.ActionEvent evt) {\r\n        txtReceipt.append(\r\n            &quot;\\t\\t CONTRACT DETAILS \\n\\n&quot; +\r\n            &quot;LEASE NUMBER:\\t\\t\\t&quot; + txtContract.getText() +\r\n            &quot;insert text template here&quot;\r\n        );\r\n    }\r\n\r\nBetween the lines of text I would like to add the image. The txtContract variable is a JTextField and the txtReceipt is the JTextArea.\r\n\r\nGenerate button:\r\n\r\n    private void GENERATEActionPerformed(java.awt.event.ActionEvent evt) {\r\n        try {\r\n            txtReceipt.print();\r\n        } catch (PrinterException ex) {\r\n            Logger.getLogger(GeneratorContracte.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n\r\nI found another threads on this subject but they were adding images in an already created document or generating a doc. The problem is that I didn&#39;t figure out what line of the codes does print the image. Also, I don&#39;t know if JTextArea supports images.\r\n\r\nI am using NetBeans if that matters.\r\nSorry for the wall of text, but I tried to specify the issue without posting the whole code. I believe this way makes it easier to find a solution.\r\n\r\nThanks for your time guys!\r\n","title":"Java append an image into JTextArea","body":"<p>TLDR: Insert an image in a JTextArea that will be generated afterwards.</p>\n\n<p>I'm new on using Java, doing my first real project. I am trying to make an application that creates documents based on input variables that represent the keywords in a \"template\". Basically I created on the left of the GUI a few JTextFields that I print out in the JTextArea with append and then I generate the document.</p>\n\n<p>What I am trying to do atm is to insert an image in that append, image that will be in the generated document.</p>\n\n<p>The code so far for what I specified below.</p>\n\n<p>JTextArea append, where I would like to insert the image:</p>\n\n<pre><code>private void ADDActionPerformed(java.awt.event.ActionEvent evt) {\n    txtReceipt.append(\n        \"\\t\\t CONTRACT DETAILS \\n\\n\" +\n        \"LEASE NUMBER:\\t\\t\\t\" + txtContract.getText() +\n        \"insert text template here\"\n    );\n}\n</code></pre>\n\n<p>Between the lines of text I would like to add the image. The txtContract variable is a JTextField and the txtReceipt is the JTextArea.</p>\n\n<p>Generate button:</p>\n\n<pre><code>private void GENERATEActionPerformed(java.awt.event.ActionEvent evt) {\n    try {\n        txtReceipt.print();\n    } catch (PrinterException ex) {\n        Logger.getLogger(GeneratorContracte.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n</code></pre>\n\n<p>I found another threads on this subject but they were adding images in an already created document or generating a doc. The problem is that I didn't figure out what line of the codes does print the image. Also, I don't know if JTextArea supports images.</p>\n\n<p>I am using NetBeans if that matters.\nSorry for the wall of text, but I tried to specify the issue without posting the whole code. I believe this way makes it easier to find a solution.</p>\n\n<p>Thanks for your time guys!</p>\n"},{"tags":["java","string","trim"],"answers":[{"tags":[],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1409939679,"creation_date":1409939679,"answer_id":25691416,"question_id":25691415,"body_markdown":"You can use Apache [StringUtils.stripStart][1] to trim leading characters, or [StringUtils.stripEnd][2] to trim trailing characters.\r\n\r\nFor example:\r\n\r\n    System.out.println(StringUtils.stripStart(&quot;//test/me&quot;, &quot;/&quot;));\r\n\r\nwill output:\r\n\r\n&gt; test/me\r\n\r\nNote that if for some reason you can&#39;t use the whole StringUtils library, you could just rip out the relevant parts, [as detailed here][3]:\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#stripStart(java.lang.String,%20java.lang.String)\r\n  [2]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#stripEnd(java.lang.String,%20java.lang.String)\r\n  [3]: https://stackoverflow.com/a/22533050/26510","title":"Trim leading or trailing characters from a string?","body":"<p>You can use Apache <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#stripStart(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\">StringUtils.stripStart</a> to trim leading characters, or <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#stripEnd(java.lang.String,%20java.lang.String)\" rel=\"noreferrer\">StringUtils.stripEnd</a> to trim trailing characters.</p>\n\n<p>For example:</p>\n\n<pre><code>System.out.println(StringUtils.stripStart(\"//test/me\", \"/\"));\n</code></pre>\n\n<p>will output:</p>\n\n<blockquote>\n  <p>test/me</p>\n</blockquote>\n\n<p>Note that if for some reason you can't use the whole StringUtils library, you could just rip out the relevant parts, <a href=\"https://stackoverflow.com/a/22533050/26510\">as detailed here</a>:</p>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":107,"is_accepted":true,"score":107,"last_activity_date":1409941358,"creation_date":1409940519,"answer_id":25691614,"question_id":25691415,"body_markdown":"You could use \r\n\r\nLeading:\r\n\r\n    System.out.println(&quot;//test/me&quot;.replaceAll(&quot;^/+&quot;, &quot;&quot;));\r\n\r\nTrailing:\r\n\r\n    System.out.println(&quot;//test/me//&quot;.replaceAll(&quot;/+$&quot;, &quot;&quot;));","title":"Trim leading or trailing characters from a string?","body":"<p>You could use </p>\n\n<p>Leading:</p>\n\n<pre><code>System.out.println(\"//test/me\".replaceAll(\"^/+\", \"\"));\n</code></pre>\n\n<p>Trailing:</p>\n\n<pre><code>System.out.println(\"//test/me//\".replaceAll(\"/+$\", \"\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8086591,"reputation":1869,"user_id":6093953,"display_name":"Andrushenko Alexander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511648069,"creation_date":1510757015,"answer_id":47310313,"question_id":25691415,"body_markdown":"My version of trimming leading and/or trailing String s from String str. Both arguments may be null. When str does not has leading and/or trailing s, it is not changed.\r\n\r\n    String trim(String str, String s) {\r\n        String res = s == null ? str : str == null ? null : s.length() &gt;= str.length() ? str : str.replaceFirst(s, &quot;&quot;);\r\n        if ((res != null) &amp;&amp; (s != null) &amp;&amp; (res.length() &gt;= s.length())) {\r\n            return res.substring(res.length() - s.length(), res.length()).equals(s) ? res.substring(0, res.length() - s.length()) : res;\r\n        }\r\n        return res;\r\n    }","title":"Trim leading or trailing characters from a string?","body":"<p>My version of trimming leading and/or trailing String s from String str. Both arguments may be null. When str does not has leading and/or trailing s, it is not changed.</p>\n\n<pre><code>String trim(String str, String s) {\n    String res = s == null ? str : str == null ? null : s.length() &gt;= str.length() ? str : str.replaceFirst(s, \"\");\n    if ((res != null) &amp;&amp; (s != null) &amp;&amp; (res.length() &gt;= s.length())) {\n        return res.substring(res.length() - s.length(), res.length()).equals(s) ? res.substring(0, res.length() - s.length()) : res;\n    }\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5145261,"reputation":1519,"user_id":4121440,"accept_rate":89,"display_name":"Oleg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1512221973,"creation_date":1512221973,"answer_id":47608492,"question_id":25691415,"body_markdown":"You could use a simple iteration if you want to remove the leading characters from a string :\r\n\r\n    String removeLeadingChar(String s, char c) {\r\n        int i;\r\n        for(i = 0; i &lt; s.length() &amp;&amp; s.charAt(i) == c; ++i);\r\n        return s.substring(i);\r\n    }\r\n\r\nsame logic applies if you want to remove any trailing `char`.","title":"Trim leading or trailing characters from a string?","body":"<p>You could use a simple iteration if you want to remove the leading characters from a string :</p>\n\n<pre><code>String removeLeadingChar(String s, char c) {\n    int i;\n    for(i = 0; i &lt; s.length() &amp;&amp; s.charAt(i) == c; ++i);\n    return s.substring(i);\n}\n</code></pre>\n\n<p>same logic applies if you want to remove any trailing <code>char</code>.</p>\n"},{"tags":[],"owner":{"account_id":5958144,"reputation":21190,"user_id":4684058,"accept_rate":100,"display_name":"Minhas Kamal"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1515067493,"creation_date":1515067493,"answer_id":48094919,"question_id":25691415,"body_markdown":"# Trim with Character, String, or Regex\r\n\r\n&lt;sub&gt;If run-time is not a big issue for you, then this code will prove really helpful.&lt;/sub&gt;\r\n\r\n    public class StringTrimmer {\r\n        public static String trim(String string, char ch){\r\n        \treturn trim(string, ch, ch);\r\n        }\r\n        \r\n        public static String trim(String string, char leadingChar, char trailingChar){\r\n        \treturn string.replaceAll(&quot;^[&quot;+leadingChar+&quot;]+|[&quot;+trailingChar+&quot;]+$&quot;, &quot;&quot;);\r\n        }\r\n        \r\n        public static String trim(String string, String regex){\r\n        \treturn trim(string, regex, regex);\r\n        }\r\n        \r\n        public static String trim(String string, String leadingRegex, String trailingRegex){\r\n        \treturn string.replaceAll(&quot;^(&quot;+leadingRegex+&quot;)+|(&quot;+trailingRegex+&quot;)+$&quot;, &quot;&quot;);\r\n        }\r\n        \r\n        // test\r\n        public static void main(String[] args) {\r\n        \tSystem.out.println(trim(&quot;110100&quot;, &#39;1&#39;, &#39;0&#39;)); // outputs: 01\r\n        \tSystem.out.println(trim(&quot;**Aa0*#**&quot;, &#39;*&#39;)); // outputs: Aa0*#\r\n        \tSystem.out.println(trim(&quot;123##22222&quot;, &quot;12&quot;, &quot;22&quot;)); // outputs: 3##2\r\n        \tSystem.out.println(trim(&quot;101101##10101&quot;, &quot;101&quot;)); // outputs: ##10\r\n        \tSystem.out.println(trim(&quot;123##abcde&quot;, &quot;\\\\d&quot;, &quot;[c-e]&quot;)); // outputs: ##ab\r\n        }\r\n    }\r\n\r\n","title":"Trim leading or trailing characters from a string?","body":"<h1>Trim with Character, String, or Regex</h1>\n\n<p><sub>If run-time is not a big issue for you, then this code will prove really helpful.</sub></p>\n\n<pre><code>public class StringTrimmer {\n    public static String trim(String string, char ch){\n        return trim(string, ch, ch);\n    }\n\n    public static String trim(String string, char leadingChar, char trailingChar){\n        return string.replaceAll(\"^[\"+leadingChar+\"]+|[\"+trailingChar+\"]+$\", \"\");\n    }\n\n    public static String trim(String string, String regex){\n        return trim(string, regex, regex);\n    }\n\n    public static String trim(String string, String leadingRegex, String trailingRegex){\n        return string.replaceAll(\"^(\"+leadingRegex+\")+|(\"+trailingRegex+\")+$\", \"\");\n    }\n\n    // test\n    public static void main(String[] args) {\n        System.out.println(trim(\"110100\", '1', '0')); // outputs: 01\n        System.out.println(trim(\"**Aa0*#**\", '*')); // outputs: Aa0*#\n        System.out.println(trim(\"123##22222\", \"12\", \"22\")); // outputs: 3##2\n        System.out.println(trim(\"101101##10101\", \"101\")); // outputs: ##10\n        System.out.println(trim(\"123##abcde\", \"\\\\d\", \"[c-e]\")); // outputs: ##ab\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12061146,"reputation":910,"user_id":8820133,"display_name":"Gabe Gates"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1532981988,"creation_date":1532981988,"answer_id":51601734,"question_id":25691415,"body_markdown":"For those using Spring:\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#trimTrailingCharacter-java.lang.String-char-\r\n\r\n\r\n\r\n    import org.springframework.util.StringUtils;\t\r\n        \r\n\tpublic void setFileName(String fileName) {\r\n\t\t// If the extension does not exist trim the trailing period\r\n\t\tthis.fileName = StringUtils.trimTrailingCharacter(fileName,&#39;.&#39;);\r\n\t}","title":"Trim leading or trailing characters from a string?","body":"<p>For those using Spring:</p>\n\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#trimTrailingCharacter-java.lang.String-char-\" rel=\"noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#trimTrailingCharacter-java.lang.String-char-</a></p>\n\n<pre><code>import org.springframework.util.StringUtils;    \n\npublic void setFileName(String fileName) {\n    // If the extension does not exist trim the trailing period\n    this.fileName = StringUtils.trimTrailingCharacter(fileName,'.');\n}\n</code></pre>\n"}],"owner":{"account_id":13259,"reputation":67754,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105372,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"accepted_answer_id":25691614,"answer_count":6,"score":67,"last_activity_date":1633677818,"creation_date":1409939679,"question_id":25691415,"body_markdown":"How can I trim the leading or trailing characters from a string in java? \r\n\r\nFor example, the slash character &quot;/&quot; - I&#39;m not interested in spaces, and am looking to trim either leading or trailing characters at different times.\r\n\r\n","title":"Trim leading or trailing characters from a string?","body":"<p>How can I trim the leading or trailing characters from a string in java? </p>\n\n<p>For example, the slash character \"/\" - I'm not interested in spaces, and am looking to trim either leading or trailing characters at different times.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1633639867,"post_id":69487639,"comment_id":122821000,"body_markdown":"The important part of the exception is this: `No property title found for type Order!`","body":"The important part of the exception is this: <code>No property title found for type Order!</code>"},{"owner":{"account_id":22973478,"reputation":51,"user_id":17101472,"display_name":"p1e0"},"score":0,"creation_date":1633708073,"post_id":69487639,"comment_id":122840073,"body_markdown":"Thanks for the comment, I was not attentive and did not notice this oversight, thank you Federico klez Culloca and Alberto Sinigaglia, I managed to solve this problem, thanks to you  again","body":"Thanks for the comment, I was not attentive and did not notice this oversight, thank you Federico klez Culloca and Alberto Sinigaglia, I managed to solve this problem, thanks to you  again"}],"answers":[{"tags":[],"owner":{"account_id":29144164,"reputation":12197,"user_id":12361700,"display_name":"Alberto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633639895,"creation_date":1633639895,"answer_id":69487730,"question_id":69487639,"body_markdown":"If you check the error, you can see that it comes from there:\r\n\r\n    List&lt;Order&gt; findByTitleContainingOrContentContaining(String item);\r\n\r\nand if you read more closely to the error, you will see:\r\n&gt; No property title found for type Order!;\r\n\r\ninside here:\r\n&gt; Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.test.project.OrderRepository.findByTitleContainingOrContentContaining(java.lang.String)! Reason: Failed to create query for method public abstract java.util.List com.test.project.OrderRepository.findByTitleContainingOrContentContaining(java.lang.String)! No property title found for type Order!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.test.project.OrderRepository.findByTitleContainingOrContentContaining(java.lang.String)! No property title found for type Order!\r\n\r\nInfact, if you check your model, there is no `title` property\r\n","title":"Error creating bean with name &#39;orderController&#39;","body":"<p>If you check the error, you can see that it comes from there:</p>\n<pre><code>List&lt;Order&gt; findByTitleContainingOrContentContaining(String item);\n</code></pre>\n<p>and if you read more closely to the error, you will see:</p>\n<blockquote>\n<p>No property title found for type Order!;</p>\n</blockquote>\n<p>inside here:</p>\n<blockquote>\n<p>Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List com.test.project.OrderRepository.findByTitleContainingOrContentContaining(java.lang.String)! Reason: Failed to create query for method public abstract java.util.List com.test.project.OrderRepository.findByTitleContainingOrContentContaining(java.lang.String)! No property title found for type Order!; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List com.test.project.OrderRepository.findByTitleContainingOrContentContaining(java.lang.String)! No property title found for type Order!</p>\n</blockquote>\n<p>Infact, if you check your model, there is no <code>title</code> property</p>\n"}],"owner":{"account_id":22973478,"reputation":51,"user_id":17101472,"display_name":"p1e0"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69487730,"answer_count":1,"score":0,"last_activity_date":1633677724,"creation_date":1633639343,"question_id":69487639,"body_markdown":"I am studying `Spring Boot` and I want to create a `Rest Controller`, and using a sql database, but there is a problem when I start the project :\r\n\r\n**Error:**\r\n**(the error text is great I will leave the** [**link**][1]**)**\r\n\r\n\r\n  [1]: https://docs.google.com/document/d/1EIiymH5N9r5DYEXbwgMqeZXjrBX65jY_WC-cBlIGtlI/edit?usp=sharing\r\n\r\n**And code:**\r\n\r\n*OrderController.java*\r\n\r\n    package ***;\r\n    \r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Optional;\r\n    \r\n    @RestController\r\n    public class OrderController {\r\n    \r\n        @Autowired\r\n        private  OrderRepository orderRep;\r\n    \r\n        @GetMapping(&quot;/&quot;)\r\n        public List&lt;Order&gt; index(){\r\n            return (List&lt;Order&gt;) orderRep.findAll();\r\n        }\r\n    \r\n        @GetMapping(&quot;/{id}&quot;)\r\n        public Order show(@PathVariable int id){\r\n            Optional&lt;Order&gt; orderId= orderRep.findById(id);\r\n            Order order = orderId.get();\r\n            return order;\r\n        }\r\n    \r\n        @PostMapping(&quot;/search&quot;)\r\n        public List&lt;Order&gt; search(@RequestBody Map&lt;String, String&gt; body){\r\n            String searchItem = body.get(&quot;item&quot;);\r\n            return orderRep.findByTitleContainingOrContentContaining(searchItem);\r\n        }\r\n    \r\n        @PostMapping(&quot;/&quot;)\r\n        public Order create(@RequestBody Map&lt;String, String&gt; body){\r\n            String item = body.get(&quot;item&quot;);\r\n            int price = Integer.parseInt(body.get(&quot;price&quot;));\r\n            int quantity = Integer.parseInt(body.get(&quot;quantity&quot;));\r\n    \r\n            return orderRep.save(new Order(item, price,quantity));\r\n        }\r\n    \r\n        @PutMapping(&quot;/{id}&quot;)\r\n        public Order update(@PathVariable String id, @RequestBody Map&lt;String, String&gt; body){\r\n            int orderId = Integer.parseInt(id);\r\n            // getting blog\r\n            Optional&lt;Order&gt; order = orderRep.findById(orderId);\r\n            order.get().setItem(body.get(&quot;item&quot;));\r\n            order.get().setPrice(Integer.parseInt(body.get(&quot;price&quot;)));\r\n            order.get().setQuantity(Integer.parseInt(&quot;quantity&quot;));\r\n            return orderRep.save(order.get());\r\n    \r\n    \r\n        }\r\n    \r\n        @DeleteMapping(&quot;/{id}&quot;)\r\n        public boolean delete(@PathVariable int id){\r\n            //int orderId = Integer.parseInt(id);\r\n            orderRep.deleteById(id);\r\n            return true;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n*Order.java*\r\n\r\n    package ***;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;orders&quot;)\r\n    public class Order {\r\n    \r\n        //Fields\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n        @Column(name = &quot;item&quot;)\r\n        private String item;\r\n        @Column(name = &quot;price&quot;)\r\n        private int price;\r\n        @Column(name = &quot;quantity&quot;)\r\n        private int quantity;\r\n    \r\n    \r\n        //Constructors\r\n        public Order() {  }\r\n    \r\n        public Order(String item, int price, int quantity) {\r\n            this.setItem(item);\r\n            this.setPrice(price);\r\n            this.setQuantity(quantity);\r\n        }\r\n    \r\n        public Order(int id, String item, int price, int quantity) {\r\n            this.setId(id);\r\n            this.setItem(item);\r\n            this.setPrice(price);\r\n            this.setQuantity(quantity);\r\n        }\r\n    \r\n    \r\n        //Object to string data\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Order{&quot; +\r\n                    &quot;id=&quot; + getId() +\r\n                    &quot;, item=&#39;&quot; + getItem() + &#39;\\&#39;&#39; +\r\n                    &quot;, price=&#39;&quot; + getPrice() + &#39;\\&#39;&#39; +\r\n                    &quot;, price=&#39;&quot; + getQuantity() + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    \r\n    \r\n        //Getters &amp; Setters\r\n        public int getId() {\r\n            return id;\r\n        }\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n        public String getItem() {\r\n            return item;\r\n        }\r\n        public void setItem(String item) {\r\n            this.item = item;\r\n        }\r\n        public int getPrice() {\r\n            return price;\r\n        }\r\n        public void setPrice(int price) {\r\n            this.price = price;\r\n        }\r\n        public int getQuantity() {\r\n            return quantity;\r\n        }\r\n        public void setQuantity(int quantity) {\r\n            this.quantity = quantity;\r\n        }\r\n    \r\n    }\r\n\r\n*OrderRepository.java*\r\n\r\n    package ***;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public interface OrderRepository extends CrudRepository&lt;Order, Integer&gt; {\r\n    \r\n        // custom query to search to blog post by title or content\r\n        List&lt;Order&gt; findByTitleContainingOrContentContaining(String item);\r\n    \r\n    }\r\n*application.properties*\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/testvoy?useUnicode=true&amp;serverTimezone=UTC&amp;useSSL=true&amp;verifyServerCertificate=false\r\n    spring.datasource.username=root\r\n    spring.datasource.password=\r\n    spring.datasource.driver-class-name =com.mysql.jdbc.Driver\r\n    #spring.jpa.show-sql: true\r\n\r\n*pom.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.5&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n        &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;project&lt;/name&gt;\r\n        &lt;description&gt;project&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.5.8&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;generate-docs&lt;/id&gt;\r\n                            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;process-asciidoc&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;backend&gt;html&lt;/backend&gt;\r\n                                &lt;doctype&gt;book&lt;/doctype&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-restdocs-asciidoctor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${spring-restdocs.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n**I would be grateful for any help, thanks in advance**\r\n\r\n","title":"Error creating bean with name &#39;orderController&#39;","body":"<p>I am studying <code>Spring Boot</code> and I want to create a <code>Rest Controller</code>, and using a sql database, but there is a problem when I start the project :</p>\n<p><strong>Error:</strong>\n<strong>(the error text is great I will leave the</strong> <a href=\"https://docs.google.com/document/d/1EIiymH5N9r5DYEXbwgMqeZXjrBX65jY_WC-cBlIGtlI/edit?usp=sharing\" rel=\"nofollow noreferrer\"><strong>link</strong></a><strong>)</strong></p>\n<p><strong>And code:</strong></p>\n<p><em>OrderController.java</em></p>\n<pre><code>package ***;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Optional;\n\n@RestController\npublic class OrderController {\n\n    @Autowired\n    private  OrderRepository orderRep;\n\n    @GetMapping(&quot;/&quot;)\n    public List&lt;Order&gt; index(){\n        return (List&lt;Order&gt;) orderRep.findAll();\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public Order show(@PathVariable int id){\n        Optional&lt;Order&gt; orderId= orderRep.findById(id);\n        Order order = orderId.get();\n        return order;\n    }\n\n    @PostMapping(&quot;/search&quot;)\n    public List&lt;Order&gt; search(@RequestBody Map&lt;String, String&gt; body){\n        String searchItem = body.get(&quot;item&quot;);\n        return orderRep.findByTitleContainingOrContentContaining(searchItem);\n    }\n\n    @PostMapping(&quot;/&quot;)\n    public Order create(@RequestBody Map&lt;String, String&gt; body){\n        String item = body.get(&quot;item&quot;);\n        int price = Integer.parseInt(body.get(&quot;price&quot;));\n        int quantity = Integer.parseInt(body.get(&quot;quantity&quot;));\n\n        return orderRep.save(new Order(item, price,quantity));\n    }\n\n    @PutMapping(&quot;/{id}&quot;)\n    public Order update(@PathVariable String id, @RequestBody Map&lt;String, String&gt; body){\n        int orderId = Integer.parseInt(id);\n        // getting blog\n        Optional&lt;Order&gt; order = orderRep.findById(orderId);\n        order.get().setItem(body.get(&quot;item&quot;));\n        order.get().setPrice(Integer.parseInt(body.get(&quot;price&quot;)));\n        order.get().setQuantity(Integer.parseInt(&quot;quantity&quot;));\n        return orderRep.save(order.get());\n\n\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public boolean delete(@PathVariable int id){\n        //int orderId = Integer.parseInt(id);\n        orderRep.deleteById(id);\n        return true;\n    }\n\n\n}\n</code></pre>\n<p><em>Order.java</em></p>\n<pre><code>package ***;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;orders&quot;)\npublic class Order {\n\n    //Fields\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    @Column(name = &quot;item&quot;)\n    private String item;\n    @Column(name = &quot;price&quot;)\n    private int price;\n    @Column(name = &quot;quantity&quot;)\n    private int quantity;\n\n\n    //Constructors\n    public Order() {  }\n\n    public Order(String item, int price, int quantity) {\n        this.setItem(item);\n        this.setPrice(price);\n        this.setQuantity(quantity);\n    }\n\n    public Order(int id, String item, int price, int quantity) {\n        this.setId(id);\n        this.setItem(item);\n        this.setPrice(price);\n        this.setQuantity(quantity);\n    }\n\n\n    //Object to string data\n    @Override\n    public String toString() {\n        return &quot;Order{&quot; +\n                &quot;id=&quot; + getId() +\n                &quot;, item='&quot; + getItem() + '\\'' +\n                &quot;, price='&quot; + getPrice() + '\\'' +\n                &quot;, price='&quot; + getQuantity() + '\\'' +\n                '}';\n    }\n\n\n    //Getters &amp; Setters\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getItem() {\n        return item;\n    }\n    public void setItem(String item) {\n        this.item = item;\n    }\n    public int getPrice() {\n        return price;\n    }\n    public void setPrice(int price) {\n        this.price = price;\n    }\n    public int getQuantity() {\n        return quantity;\n    }\n    public void setQuantity(int quantity) {\n        this.quantity = quantity;\n    }\n\n}\n</code></pre>\n<p><em>OrderRepository.java</em></p>\n<pre><code>package ***;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface OrderRepository extends CrudRepository&lt;Order, Integer&gt; {\n\n    // custom query to search to blog post by title or content\n    List&lt;Order&gt; findByTitleContainingOrContentContaining(String item);\n\n}\n</code></pre>\n<p><em>application.properties</em></p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/testvoy?useUnicode=true&amp;serverTimezone=UTC&amp;useSSL=true&amp;verifyServerCertificate=false\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name =com.mysql.jdbc.Driver\n#spring.jpa.show-sql: true\n</code></pre>\n<p><em>pom.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;project&lt;/name&gt;\n    &lt;description&gt;project&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\n                &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.5.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-docs&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process-asciidoc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;backend&gt;html&lt;/backend&gt;\n                            &lt;doctype&gt;book&lt;/doctype&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-restdocs-asciidoctor&lt;/artifactId&gt;\n                        &lt;version&gt;${spring-restdocs.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>I would be grateful for any help, thanks in advance</strong></p>\n"},{"tags":["java","spring-security","primefaces"],"comments":[{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":0,"creation_date":1633601461,"post_id":69410544,"comment_id":122805694,"body_markdown":"You care likely calling an endpoint that requires and authenticated user. Which endpoint do you call when the user presses the button to register? If you are in a browser, you can look at the network tab to see which requests are made.","body":"You care likely calling an endpoint that requires and authenticated user. Which endpoint do you call when the user presses the button to register? If you are in a browser, you can look at the network tab to see which requests are made."},{"owner":{"account_id":5063274,"reputation":51,"user_id":5204599,"display_name":"Omid"},"score":0,"creation_date":1633639210,"post_id":69410544,"comment_id":122820795,"body_markdown":"I think that my state is loss on ajax update.","body":"I think that my state is loss on ajax update."}],"answers":[{"tags":[],"owner":{"account_id":17076275,"reputation":596,"user_id":12355831,"display_name":"stefan-dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633677518,"creation_date":1633615326,"answer_id":69482563,"question_id":69410544,"body_markdown":"**Spring Security** prevents [CSRF attacks][1] by requiring a randomly generated token as an HTTP parameter, but this breaks JSF commandButtons. However as JSF 2.2 already contains an explicit protection against CSRF attacks you can safely disable the Spring Security CSRF protection.\r\n&gt; As of Spring Security 4.0, CSRF protection is enabled by default with\r\n&gt; XML configuration. If you would like to disable CSRF protection, the\r\n&gt; corresponding XML configuration can be seen below.\r\n&gt; \r\n&gt;     &lt;http&gt;\r\n&gt;         &lt;!-- ... --&gt;\r\n&gt;         &lt;csrf disabled=&quot;true&quot;/&gt;\r\n&gt;     &lt;/http&gt;\r\n\r\nFor more see: [Spring Security Configure CSRF Protection][2]\r\n\r\n**EDIT**\r\n\r\nYou can&#39;t signUp, login or logout using AJAX request, so you will have to use `ajax=false` on your `btnSavePersonal` commandButton, but this will break validators, messages and this method `applicantSignUpBean.signUpPersonal` will not be called, and you will have to move your business logic to `Spring Beans`.\r\n\r\nCheck this: [PrimeFaces Spring Security Example][3]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Cross-site_request_forgery\r\n  [2]: http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#csrf-configure\r\n  [3]: https://codenotfound.com/jsf-primefaces-spring-security-example.html","title":"Spring Security 302 redirection after primefaces commandbutton ajax failure on register page","body":"<p><strong>Spring Security</strong> prevents <a href=\"https://en.wikipedia.org/wiki/Cross-site_request_forgery\" rel=\"nofollow noreferrer\">CSRF attacks</a> by requiring a randomly generated token as an HTTP parameter, but this breaks JSF commandButtons. However as JSF 2.2 already contains an explicit protection against CSRF attacks you can safely disable the Spring Security CSRF protection.</p>\n<blockquote>\n<p>As of Spring Security 4.0, CSRF protection is enabled by default with\nXML configuration. If you would like to disable CSRF protection, the\ncorresponding XML configuration can be seen below.</p>\n<pre><code>&lt;http&gt;\n    &lt;!-- ... --&gt;\n    &lt;csrf disabled=&quot;true&quot;/&gt;\n&lt;/http&gt;\n</code></pre>\n</blockquote>\n<p>For more see: <a href=\"http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#csrf-configure\" rel=\"nofollow noreferrer\">Spring Security Configure CSRF Protection</a></p>\n<p><strong>EDIT</strong></p>\n<p>You can't signUp, login or logout using AJAX request, so you will have to use <code>ajax=false</code> on your <code>btnSavePersonal</code> commandButton, but this will break validators, messages and this method <code>applicantSignUpBean.signUpPersonal</code> will not be called, and you will have to move your business logic to <code>Spring Beans</code>.</p>\n<p>Check this: <a href=\"https://codenotfound.com/jsf-primefaces-spring-security-example.html\" rel=\"nofollow noreferrer\">PrimeFaces Spring Security Example</a></p>\n"}],"owner":{"account_id":5063274,"reputation":51,"user_id":5204599,"display_name":"Omid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1633677518,"creation_date":1633113097,"question_id":69410544,"body_markdown":"I have a problem with Spring Security and ajax request of primefaces commandbutton. \r\nAfter clicking commandbutton in my signup page and fail response, for next clicking, error 302 occured and return login page!\r\nI use primefaces 8.0 and spring security 5.  \r\n\r\nhere is my security config:\r\n\r\n    &lt;http auto-config=&quot;true&quot; use-expressions=&quot;true&quot;&gt;\r\n        &lt;access-denied-handler error-page=&quot;/accessDenied.xhtml&quot;/&gt;\r\n        &lt;form-login login-page=&quot;/login.xhtml&quot;\r\n                    login-processing-url=&quot;/login&quot;\r\n                    password-parameter=&quot;password&quot;\r\n                    username-parameter=&quot;username&quot;\r\n                    authentication-failure-url=&quot;/login.xhtml?error=true&quot;/&gt;\r\n        &lt;logout invalidate-session=&quot;true&quot;\r\n                logout-success-url=&quot;/&quot;\r\n                logout-url=&quot;/logout&quot;/&gt;\r\n        &lt;intercept-url pattern=&quot;/login.xhtml&quot; access=&quot;permitAll&quot;/&gt;\r\n        &lt;!-- RESOURCES --&gt;\r\n        &lt;intercept-url pattern=&quot;/skins/**&quot; access=&quot;permitAll&quot;/&gt;\r\n        &lt;intercept-url pattern=&quot;/css/**&quot; access=&quot;permitAll&quot;/&gt;\r\n        &lt;intercept-url pattern=&quot;/adf/**&quot; access=&quot;permitAll&quot;/&gt;\r\n        &lt;intercept-url pattern=&quot;/images/**&quot; access=&quot;permitAll&quot;/&gt;\r\n        &lt;intercept-url pattern=&quot;/js/**&quot; access=&quot;permitAll&quot;/&gt;\r\n        &lt;intercept-url pattern=&quot;/javax.faces.resource/**&quot; access=&quot;permitAll&quot;/&gt;\r\n        &lt;intercept-url pattern=&quot;/signup.xhtml&quot; access=&quot;permitAll&quot;/&gt;\r\n        &lt;intercept-url pattern=&quot;/**&quot; access=&quot;isAuthenticated()&quot;/&gt;\r\n        &lt;csrf/&gt;\r\n    &lt;/http&gt;\r\n\r\nmy signup.xhtml page :\r\n\r\n&lt;h:body class=&quot;blue-grey-theme&quot;&gt;\r\n\r\n    &lt;h:form id=&quot;form&quot; prependId=&quot;false&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot;/&gt;\r\n\r\n                &lt;p:growl id=&quot;smsGrowl&quot; life=&quot;7000&quot; globalOnly=&quot;true&quot;/&gt;\r\n\r\n                &lt;p:tabView id=&quot;applicantTab&quot; widgetVar=&quot;tabView&quot; effect=&quot;fade&quot;\r\n                           activeIndex=&quot;#{applicantSignUpBean.applicantSignUpModel.tabViewActiveIndex}&quot;\r\n                           style=&quot;margin-bottom:10px; text-align: right; width: 98%; min-width: 400px&quot;&gt;\r\n\r\n                    &lt;p:tab id=&quot;PersonalTab&quot; title=&quot;#{bundle.personal_applicant}&quot;&gt;\r\n                        &lt;h:panelGrid id=&quot;personalGrid&quot; columns=&quot;4&quot; cellpadding=&quot;5&quot; style=&quot;width: 99%;&quot;\r\n                                     styleClass=&quot;ui-grid&quot;&gt;\r\n\r\n                            &lt;app:outputLabel rendered=&quot;true&quot; value=&quot;#{bundle.firstName}&quot; required=&quot;true&quot; for=&quot;fName&quot;/&gt;\r\n                            &lt;app:input id=&quot;fName&quot; required=&quot;true&quot; requiredMessage=&quot;#{bundle.firstname_required}&quot;\r\n                                       value=&quot;#{mySignUpBean.mySignUpModel.firstName}&quot;\r\n                                       style=&quot;width:250px&quot;/&gt;\r\n\r\n                            &lt;app:outputLabel rendered=&quot;true&quot; value=&quot;#{bundle.lastName}&quot; required=&quot;true&quot; for=&quot;lName&quot;/&gt;\r\n                            &lt;app:input id=&quot;lName&quot;\r\n                                       value=&quot;#{mySignUpBean.mySignUpModel.lastName}&quot;\r\n                                       required=&quot;true&quot; requiredMessage=&quot;#{bundle.lastname_required}&quot;\r\n                                       style=&quot;width:250px&quot;/&gt;\r\n\r\n                        \r\n\t\t\t\t\t\t&lt;!-- ...... --&gt;\r\n\r\n                        &lt;/h:panelGrid&gt;\r\n\r\n                        &lt;br/&gt;\r\n                        &lt;p:outputPanel style=&quot;text-align: center; &quot;&gt;\r\n                            &lt;p:commandButton id=&quot;btnSavePersonal&quot;\r\n                                             actionListener=&quot;#{applicantSignUpBean.signUpPersonal}&quot;\r\n                                             icon=&quot;fa fa-save&quot; value=&quot;#{bundle.registration}&quot;\r\n                                             process=&quot;:form:applicantTab:PersonalGrid  @this&quot;\r\n                                             update=&quot;:form:applicantTab:PersonalGrid&quot;\r\n                                             style=&quot;margin: 20px; width: 150px;&quot; styleClass=&quot;button_save&quot;&gt;\r\n\r\n                            &lt;/p:commandButton&gt;\r\n                            &lt;p:tooltip for=&quot;btnSavePersonal&quot; value=&quot;#{bundle.save}&quot;/&gt;\r\n\r\n                        &lt;/p:outputPanel&gt;\r\n\r\n\r\n                    \r\n                    &lt;/p:tab&gt;\r\n                &lt;/p:tabView&gt;\r\n\r\n    &lt;/h:form&gt;\r\n\r\n\r\nI tried several things but without success...\r\n\r\nthanks for your help\r\n\r\n\r\n","title":"Spring Security 302 redirection after primefaces commandbutton ajax failure on register page","body":"<p>I have a problem with Spring Security and ajax request of primefaces commandbutton.\nAfter clicking commandbutton in my signup page and fail response, for next clicking, error 302 occured and return login page!\nI use primefaces 8.0 and spring security 5.</p>\n<p>here is my security config:</p>\n<pre><code>&lt;http auto-config=&quot;true&quot; use-expressions=&quot;true&quot;&gt;\n    &lt;access-denied-handler error-page=&quot;/accessDenied.xhtml&quot;/&gt;\n    &lt;form-login login-page=&quot;/login.xhtml&quot;\n                login-processing-url=&quot;/login&quot;\n                password-parameter=&quot;password&quot;\n                username-parameter=&quot;username&quot;\n                authentication-failure-url=&quot;/login.xhtml?error=true&quot;/&gt;\n    &lt;logout invalidate-session=&quot;true&quot;\n            logout-success-url=&quot;/&quot;\n            logout-url=&quot;/logout&quot;/&gt;\n    &lt;intercept-url pattern=&quot;/login.xhtml&quot; access=&quot;permitAll&quot;/&gt;\n    &lt;!-- RESOURCES --&gt;\n    &lt;intercept-url pattern=&quot;/skins/**&quot; access=&quot;permitAll&quot;/&gt;\n    &lt;intercept-url pattern=&quot;/css/**&quot; access=&quot;permitAll&quot;/&gt;\n    &lt;intercept-url pattern=&quot;/adf/**&quot; access=&quot;permitAll&quot;/&gt;\n    &lt;intercept-url pattern=&quot;/images/**&quot; access=&quot;permitAll&quot;/&gt;\n    &lt;intercept-url pattern=&quot;/js/**&quot; access=&quot;permitAll&quot;/&gt;\n    &lt;intercept-url pattern=&quot;/javax.faces.resource/**&quot; access=&quot;permitAll&quot;/&gt;\n    &lt;intercept-url pattern=&quot;/signup.xhtml&quot; access=&quot;permitAll&quot;/&gt;\n    &lt;intercept-url pattern=&quot;/**&quot; access=&quot;isAuthenticated()&quot;/&gt;\n    &lt;csrf/&gt;\n&lt;/http&gt;\n</code></pre>\n<p>my signup.xhtml page :</p>\n<p>&lt;h:body class=&quot;blue-grey-theme&quot;&gt;</p>\n<pre><code>&lt;h:form id=&quot;form&quot; prependId=&quot;false&quot;&gt;\n    &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot;/&gt;\n\n            &lt;p:growl id=&quot;smsGrowl&quot; life=&quot;7000&quot; globalOnly=&quot;true&quot;/&gt;\n\n            &lt;p:tabView id=&quot;applicantTab&quot; widgetVar=&quot;tabView&quot; effect=&quot;fade&quot;\n                       activeIndex=&quot;#{applicantSignUpBean.applicantSignUpModel.tabViewActiveIndex}&quot;\n                       style=&quot;margin-bottom:10px; text-align: right; width: 98%; min-width: 400px&quot;&gt;\n\n                &lt;p:tab id=&quot;PersonalTab&quot; title=&quot;#{bundle.personal_applicant}&quot;&gt;\n                    &lt;h:panelGrid id=&quot;personalGrid&quot; columns=&quot;4&quot; cellpadding=&quot;5&quot; style=&quot;width: 99%;&quot;\n                                 styleClass=&quot;ui-grid&quot;&gt;\n\n                        &lt;app:outputLabel rendered=&quot;true&quot; value=&quot;#{bundle.firstName}&quot; required=&quot;true&quot; for=&quot;fName&quot;/&gt;\n                        &lt;app:input id=&quot;fName&quot; required=&quot;true&quot; requiredMessage=&quot;#{bundle.firstname_required}&quot;\n                                   value=&quot;#{mySignUpBean.mySignUpModel.firstName}&quot;\n                                   style=&quot;width:250px&quot;/&gt;\n\n                        &lt;app:outputLabel rendered=&quot;true&quot; value=&quot;#{bundle.lastName}&quot; required=&quot;true&quot; for=&quot;lName&quot;/&gt;\n                        &lt;app:input id=&quot;lName&quot;\n                                   value=&quot;#{mySignUpBean.mySignUpModel.lastName}&quot;\n                                   required=&quot;true&quot; requiredMessage=&quot;#{bundle.lastname_required}&quot;\n                                   style=&quot;width:250px&quot;/&gt;\n\n                    \n                    &lt;!-- ...... --&gt;\n\n                    &lt;/h:panelGrid&gt;\n\n                    &lt;br/&gt;\n                    &lt;p:outputPanel style=&quot;text-align: center; &quot;&gt;\n                        &lt;p:commandButton id=&quot;btnSavePersonal&quot;\n                                         actionListener=&quot;#{applicantSignUpBean.signUpPersonal}&quot;\n                                         icon=&quot;fa fa-save&quot; value=&quot;#{bundle.registration}&quot;\n                                         process=&quot;:form:applicantTab:PersonalGrid  @this&quot;\n                                         update=&quot;:form:applicantTab:PersonalGrid&quot;\n                                         style=&quot;margin: 20px; width: 150px;&quot; styleClass=&quot;button_save&quot;&gt;\n\n                        &lt;/p:commandButton&gt;\n                        &lt;p:tooltip for=&quot;btnSavePersonal&quot; value=&quot;#{bundle.save}&quot;/&gt;\n\n                    &lt;/p:outputPanel&gt;\n\n\n                \n                &lt;/p:tab&gt;\n            &lt;/p:tabView&gt;\n\n&lt;/h:form&gt;\n</code></pre>\n<p>I tried several things but without success...</p>\n<p>thanks for your help</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":2,"creation_date":1632947475,"post_id":69382951,"comment_id":122634419,"body_markdown":"Why do you need that? What are you trying to do?","body":"Why do you need that? What are you trying to do?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1632948051,"post_id":69382951,"comment_id":122634601,"body_markdown":"`javap` by default lists only _public_ methods (and fields if any); to get all use `-private` (or `-p`). It doesn&#39;t actually work on a jar; it works on a loaded class, from anywhere the classloader loads from, and although in java 9 up standard libarary classes like `java.util.ArrayList` are no longer in a jar, `javap` still works on them. However, this only tells you what methods (and fields) _exist_; it doesn&#39;t tell you how many times they are used or if they are used at all. Note one method name can be and is used in many classes.","body":"<code>javap</code> by default lists only <i>public</i> methods (and fields if any); to get all use <code>-private</code> (or <code>-p</code>). It doesn&#39;t actually work on a jar; it works on a loaded class, from anywhere the classloader loads from, and although in java 9 up standard libarary classes like <code>java.util.ArrayList</code> are no longer in a jar, <code>javap</code> still works on them. However, this only tells you what methods (and fields) <i>exist</i>; it doesn&#39;t tell you how many times they are used or if they are used at all. Note one method name can be and is used in many classes."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1632948171,"post_id":69382951,"comment_id":122634640,"body_markdown":"Does this answer your question? [Java : parse java source code, extract methods](https://stackoverflow.com/questions/2206065/java-parse-java-source-code-extract-methods)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2206065/java-parse-java-source-code-extract-methods\">Java : parse java source code, extract methods</a>"},{"owner":{"account_id":14217570,"reputation":139,"user_id":10271001,"display_name":"Lucas Pace"},"score":0,"creation_date":1632951223,"post_id":69382951,"comment_id":122635534,"body_markdown":"@Progman actually it is a next step of my work. I will parse a java file to find the methods but before i need to know where the functions come from","body":"@Progman actually it is a next step of my work. I will parse a java file to find the methods but before i need to know where the functions come from"},{"owner":{"account_id":14217570,"reputation":139,"user_id":10271001,"display_name":"Lucas Pace"},"score":0,"creation_date":1632951423,"post_id":69382951,"comment_id":122635570,"body_markdown":"@user16320675 i&#39;m analyzing a &quot;external&quot; java file, the file doenst belong to my project. To use that i need to import all libraries of &quot;external&quot; java file and run that code. I understand correctly? I will try if this is viable","body":"@user16320675 i&#39;m analyzing a &quot;external&quot; java file, the file doenst belong to my project. To use that i need to import all libraries of &quot;external&quot; java file and run that code. I understand correctly? I will try if this is viable"}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633030757,"creation_date":1632948951,"answer_id":69383261,"question_id":69382951,"body_markdown":"The compiler doesn&#39;t put the imports into the object file. It throws them away. Import is just a shorthand to the compiler.(Imports are a compile-time feature ).\r\n\r\n**first step :**\r\n\r\nuse Qdox  https://github.com/paul-hammant/qdox   to get all the imports in a class :\r\n\r\n    String fileFullPath = &quot;Your\\\\java\\\\ file \\\\full\\\\path&quot;;\r\n    JavaDocBuilder builder = new JavaDocBuilder();\r\n    builder.addSource(new FileReader( fileFullPath  ));\r\n\r\n    JavaSource src = builder.getSources()[0];\r\n    String[] imports = src.getImports();\r\n\r\n    for ( String imp : imports )\r\n    {\r\n        System.out.println(imp);\r\n    }\r\n\r\n**second step :** \r\ninspire from that code , loop through your imports (String array) and apply the same code and you will get the methods . \r\n      \r\n        \r\n     import java.lang.reflect.Method;\r\n     import java.util.ArrayList;\r\n     import java.util.Arrays;\r\n     import java.util.List;\r\n\r\n      public class Tes {\r\n\t  public static void main(String[] args) {\r\n\t\tClass c;\r\n\t\ttry {\r\n\t\t\tc = Class.forName(&quot;java.util.ArrayList&quot;);\r\n            Arrays.stream(getAccessibleMethods(c)).\r\n                                  forEach(System.out::println);\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static Method[] getAccessibleMethods(Class clazz) {\r\n\t\tList&lt;Method&gt; result = new ArrayList&lt;Method&gt;();\r\n\t\twhile (clazz != null) {\r\n\t\t\tfor (Method method : clazz.getDeclaredMethods()) {\r\n\t\t\t\tresult.add(method);\r\n\t\t\t}\r\n\t\t\tclazz = clazz.getSuperclass();\r\n\t\t}\r\n\t\treturn result.toArray(new Method[result.size()]);\r\n\t}\r\n    }\r\n\r\n\r\n**Output :**\r\n\r\n      public void java.util.ArrayList.add(int,java.lang.Object)\r\n      public boolean java.util.ArrayList.add(java.lang.Object)\r\n      public boolean java.util.ArrayList.remove(java.lang.Object)\r\n      public java.lang.Object java.util.ArrayList.remove(int)\r\n      public java.lang.Object java.util.ArrayList.get(int)\r\n      public java.lang.Object java.util.ArrayList.clone()\r\n      public int java.util.ArrayList.indexOf(java.lang.Object)\r\n      public void java.util.ArrayList.clear()\r\n      .\r\n      .\r\n      .\r\n\r\n\r\n\r\n\r\n**All the code - one class :**\r\n\r\n\r\n      import java.io.FileNotFoundException;\r\n      import java.io.FileReader;\r\n      import java.lang.reflect.Method;\r\n      import java.util.ArrayList;\r\n      import java.util.Arrays;\r\n      import java.util.List;\r\n\r\n      import com.thoughtworks.qdox.JavaDocBuilder;\r\n      import com.thoughtworks.qdox.model.JavaSource;\r\n\r\n      public class Tester {\r\n      public static void main(String[] args) {\r\n\t  // put your .java file path\r\n      // CyclicB is a class within another project in my pc\r\n        String fileFullPath =\r\n          &quot;C:\\\\Users\\\\OUSSEMA\\\\Desktop\\\\dev\\\\OCP_Preparation\\\\src\\\\w\\\\CyclicB.java&quot;;\r\n\tJavaDocBuilder builder = new JavaDocBuilder();\r\n\ttry {\r\n\t\tbuilder.addSource(new FileReader( fileFullPath  ));\r\n\t} catch (FileNotFoundException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n\tJavaSource src = builder.getSources()[0];\r\n\tString[] imports = src.getImports();\r\n\r\n\tfor ( String imp : imports )\r\n\t{\r\n\t\tClass c;\r\n\t    try {\r\n\t        c = Class.forName(imp);\r\n\t        Arrays.stream(getAccessibleMethods(c)).\r\n\t                              forEach(System.out::println);\r\n\t    } catch (ClassNotFoundException e) {\r\n\t        e.printStackTrace();\r\n\t    }\r\n\t }\r\n     }\r\n      public static Method[] getAccessibleMethods(Class clazz) {\r\n      List&lt;Method&gt; result = new ArrayList&lt;Method&gt;();\r\n      while (clazz != null) {\r\n        for (Method method : clazz.getDeclaredMethods()) {\r\n            result.add(method);\r\n        }\r\n        clazz = clazz.getSuperclass();\r\n      }\r\n    return result.toArray(new Method[result.size()]);\r\n    }\r\n    }\r\n\r\n**Output all the methods within the classes imported in the file CyclicB.java :**\r\n\r\n\r\n      private void java.lang.Throwable.printStackTrace(java.lang.Throwable$PrintStreamOrWriter)\r\n      public void java.lang.Throwable.printStackTrace(java.io.PrintStream)\r\n      public void java.lang.Throwable.printStackTrace()\r\n      public void java.lang.Throwable.printStackTrace(java.io.PrintWriter)\r\n      public synchronized java.lang.Throwable java.lang.Throwable.fillInStackTrace()\r\n      .\r\n      .\r\n      .","title":"How can I list all methods of all imported classes in a file using Java?","body":"<p>The compiler doesn't put the imports into the object file. It throws them away. Import is just a shorthand to the compiler.(Imports are a compile-time feature ).</p>\n<p><strong>first step :</strong></p>\n<p>use Qdox  <a href=\"https://github.com/paul-hammant/qdox\" rel=\"noreferrer\">https://github.com/paul-hammant/qdox</a>   to get all the imports in a class :</p>\n<pre><code>String fileFullPath = &quot;Your\\\\java\\\\ file \\\\full\\\\path&quot;;\nJavaDocBuilder builder = new JavaDocBuilder();\nbuilder.addSource(new FileReader( fileFullPath  ));\n\nJavaSource src = builder.getSources()[0];\nString[] imports = src.getImports();\n\nfor ( String imp : imports )\n{\n    System.out.println(imp);\n}\n</code></pre>\n<p><strong>second step :</strong>\ninspire from that code , loop through your imports (String array) and apply the same code and you will get the methods .</p>\n<pre><code> import java.lang.reflect.Method;\n import java.util.ArrayList;\n import java.util.Arrays;\n import java.util.List;\n\n  public class Tes {\n  public static void main(String[] args) {\n    Class c;\n    try {\n        c = Class.forName(&quot;java.util.ArrayList&quot;);\n        Arrays.stream(getAccessibleMethods(c)).\n                              forEach(System.out::println);\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n}\n\npublic static Method[] getAccessibleMethods(Class clazz) {\n    List&lt;Method&gt; result = new ArrayList&lt;Method&gt;();\n    while (clazz != null) {\n        for (Method method : clazz.getDeclaredMethods()) {\n            result.add(method);\n        }\n        clazz = clazz.getSuperclass();\n    }\n    return result.toArray(new Method[result.size()]);\n}\n}\n</code></pre>\n<p><strong>Output :</strong></p>\n<pre><code>  public void java.util.ArrayList.add(int,java.lang.Object)\n  public boolean java.util.ArrayList.add(java.lang.Object)\n  public boolean java.util.ArrayList.remove(java.lang.Object)\n  public java.lang.Object java.util.ArrayList.remove(int)\n  public java.lang.Object java.util.ArrayList.get(int)\n  public java.lang.Object java.util.ArrayList.clone()\n  public int java.util.ArrayList.indexOf(java.lang.Object)\n  public void java.util.ArrayList.clear()\n  .\n  .\n  .\n</code></pre>\n<p><strong>All the code - one class :</strong></p>\n<pre><code>  import java.io.FileNotFoundException;\n  import java.io.FileReader;\n  import java.lang.reflect.Method;\n  import java.util.ArrayList;\n  import java.util.Arrays;\n  import java.util.List;\n\n  import com.thoughtworks.qdox.JavaDocBuilder;\n  import com.thoughtworks.qdox.model.JavaSource;\n\n  public class Tester {\n  public static void main(String[] args) {\n  // put your .java file path\n  // CyclicB is a class within another project in my pc\n    String fileFullPath =\n      &quot;C:\\\\Users\\\\OUSSEMA\\\\Desktop\\\\dev\\\\OCP_Preparation\\\\src\\\\w\\\\CyclicB.java&quot;;\nJavaDocBuilder builder = new JavaDocBuilder();\ntry {\n    builder.addSource(new FileReader( fileFullPath  ));\n} catch (FileNotFoundException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n\nJavaSource src = builder.getSources()[0];\nString[] imports = src.getImports();\n\nfor ( String imp : imports )\n{\n    Class c;\n    try {\n        c = Class.forName(imp);\n        Arrays.stream(getAccessibleMethods(c)).\n                              forEach(System.out::println);\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n }\n }\n  public static Method[] getAccessibleMethods(Class clazz) {\n  List&lt;Method&gt; result = new ArrayList&lt;Method&gt;();\n  while (clazz != null) {\n    for (Method method : clazz.getDeclaredMethods()) {\n        result.add(method);\n    }\n    clazz = clazz.getSuperclass();\n  }\nreturn result.toArray(new Method[result.size()]);\n}\n}\n</code></pre>\n<p><strong>Output all the methods within the classes imported in the file CyclicB.java :</strong></p>\n<pre><code>  private void java.lang.Throwable.printStackTrace(java.lang.Throwable$PrintStreamOrWriter)\n  public void java.lang.Throwable.printStackTrace(java.io.PrintStream)\n  public void java.lang.Throwable.printStackTrace()\n  public void java.lang.Throwable.printStackTrace(java.io.PrintWriter)\n  public synchronized java.lang.Throwable java.lang.Throwable.fillInStackTrace()\n  .\n  .\n  .\n</code></pre>\n"},{"tags":[],"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Meškauskas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633676928,"creation_date":1633676928,"answer_id":69491866,"question_id":69382951,"body_markdown":"You may look into [OpenJDK][1] project that has a Java compiler. Learn to build the modified versions. Investigate the syntax analysis layer of this compiler and find where the method calls are handled. Put the logging into these locations and now you only need to build your java file with the modified compiler to get the information about the calls.\r\n\r\nThe build is complex, but you will likely only need a careful editing in a few files. It is not exactly very low hanging fruit but I think it should be possible to discover these files and make changes in them, and still may be a simpler/cleaner approach than to implement the own Java syntax parser (also doable with [JavaCC][2]).\r\n\r\nIf you also need to track calls from the external libraries, build them with the modified compiler as well and you will have the needed records. \r\n\r\n[GNU Classpath][3] is another open source project where you can do the similar thing, and it may be easier to build. However, unlike OpenJDK, GNU Classpath java system library is not complete.\r\n\r\nThis approach may not discover some methods called during reflection. But it would discover that reflection framework methods have been called. If it is a security - related project, the simplest would be to agree that reflection is not allowed. It is uncommon to use reflection in a normal Java application that is not a framework.\r\n\r\n\r\n  [1]: https://openjdk.java.net/\r\n  [2]: https://javacc.github.io/javacc/\r\n  [3]: https://www.gnu.org/software/classpath/","title":"How can I list all methods of all imported classes in a file using Java?","body":"<p>You may look into <a href=\"https://openjdk.java.net/\" rel=\"nofollow noreferrer\">OpenJDK</a> project that has a Java compiler. Learn to build the modified versions. Investigate the syntax analysis layer of this compiler and find where the method calls are handled. Put the logging into these locations and now you only need to build your java file with the modified compiler to get the information about the calls.</p>\n<p>The build is complex, but you will likely only need a careful editing in a few files. It is not exactly very low hanging fruit but I think it should be possible to discover these files and make changes in them, and still may be a simpler/cleaner approach than to implement the own Java syntax parser (also doable with <a href=\"https://javacc.github.io/javacc/\" rel=\"nofollow noreferrer\">JavaCC</a>).</p>\n<p>If you also need to track calls from the external libraries, build them with the modified compiler as well and you will have the needed records.</p>\n<p><a href=\"https://www.gnu.org/software/classpath/\" rel=\"nofollow noreferrer\">GNU Classpath</a> is another open source project where you can do the similar thing, and it may be easier to build. However, unlike OpenJDK, GNU Classpath java system library is not complete.</p>\n<p>This approach may not discover some methods called during reflection. But it would discover that reflection framework methods have been called. If it is a security - related project, the simplest would be to agree that reflection is not allowed. It is uncommon to use reflection in a normal Java application that is not a framework.</p>\n"}],"owner":{"account_id":14217570,"reputation":139,"user_id":10271001,"display_name":"Lucas Pace"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1316,"favorite_count":0,"down_vote_count":2,"up_vote_count":9,"accepted_answer_id":69383261,"answer_count":2,"score":7,"last_activity_date":1633676928,"creation_date":1632947144,"question_id":69382951,"body_markdown":"My objective is to look at some lines of codes of an external file and count the number of functions of a class are called then.\r\n\r\nFor example, if I have the following code:\r\n\r\n    import java.io.BufferedReader;\r\n    import whatever.MyClass;\r\n    import java.util.ArrayList;\r\n    ...\r\n    ...\r\n    public void example(){\r\n        InputStreamReader isr = new InputStreamReader (whatever);\r\n        MyClass object = new MyClass();\r\n        someArrayList.add(whatever2)\r\n        someArrayList.add(whatever3)\r\n    }\r\n\r\n\r\nIn this case, `BufferedReader` and `MyClass` functions were called once, and `ArrayList` functions were called twice.\r\n\r\nMy solution for that is get a list of all methods inside the used classes and try to match with some string of my code. \r\nFor classes created in my project, I can do the following: \r\n\r\n    jar -tf jarPath\r\n\r\nwhich returns me the list of classes inside a JAR . And doing:\r\n\r\n    javap -cp jarPath className\r\n\r\nI can get a list of all methods inside a JAR whit a specific class name. However, what can I do to get a external methods names, like `add(...)` of an &quot;external&quot; `class java.util.ArrayList`? \r\nI can&#39;t access the `.jar` file of `java.util.ArrayList` correct? Anyone have another suggestion to reach the objective?","title":"How can I list all methods of all imported classes in a file using Java?","body":"<p>My objective is to look at some lines of codes of an external file and count the number of functions of a class are called then.</p>\n<p>For example, if I have the following code:</p>\n<pre><code>import java.io.BufferedReader;\nimport whatever.MyClass;\nimport java.util.ArrayList;\n...\n...\npublic void example(){\n    InputStreamReader isr = new InputStreamReader (whatever);\n    MyClass object = new MyClass();\n    someArrayList.add(whatever2)\n    someArrayList.add(whatever3)\n}\n</code></pre>\n<p>In this case, <code>BufferedReader</code> and <code>MyClass</code> functions were called once, and <code>ArrayList</code> functions were called twice.</p>\n<p>My solution for that is get a list of all methods inside the used classes and try to match with some string of my code.\nFor classes created in my project, I can do the following:</p>\n<pre><code>jar -tf jarPath\n</code></pre>\n<p>which returns me the list of classes inside a JAR . And doing:</p>\n<pre><code>javap -cp jarPath className\n</code></pre>\n<p>I can get a list of all methods inside a JAR whit a specific class name. However, what can I do to get a external methods names, like <code>add(...)</code> of an &quot;external&quot; <code>class java.util.ArrayList</code>?\nI can't access the <code>.jar</code> file of <code>java.util.ArrayList</code> correct? Anyone have another suggestion to reach the objective?</p>\n"},{"tags":["java","while-loop","server","client"],"comments":[{"owner":{"account_id":15760184,"reputation":225,"user_id":11372097,"display_name":"Antonio Miranda"},"score":0,"creation_date":1633676557,"post_id":69491708,"comment_id":122827861,"body_markdown":"is it homework ?","body":"is it homework ?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1633676690,"post_id":69491708,"comment_id":122827898,"body_markdown":"@AntonioMiranda is that relevant?","body":"@AntonioMiranda is that relevant?"},{"owner":{"account_id":15760184,"reputation":225,"user_id":11372097,"display_name":"Antonio Miranda"},"score":0,"creation_date":1633677087,"post_id":69491708,"comment_id":122828036,"body_markdown":"Well.. today exist better techs to develop Server-Clients. Answering the question, you can use your &#39;fin&#39; variable in the second while statement to break it. In other way , you can use &quot; continue;&quot; statement to break any loop.","body":"Well.. today exist better techs to develop Server-Clients. Answering the question, you can use your &#39;fin&#39; variable in the second while statement to break it. In other way , you can use &quot; continue;&quot; statement to break any loop."},{"owner":{"account_id":21797092,"reputation":1,"user_id":16096524,"display_name":"Ryan Thibault"},"score":0,"creation_date":1633678764,"post_id":69491708,"comment_id":122828612,"body_markdown":"Thanks, for the help !! It&#39;s working but when i have multiple client playing this game, when a client found the secretNumber, the game stop for every client and they don&#39;t receive the message &quot;Le jeu est termin&#233;&quot; (&#39;&#39;The game is over&#39;&#39;)","body":"Thanks, for the help !! It&#39;s working but when i have multiple client playing this game, when a client found the secretNumber, the game stop for every client and they don&#39;t receive the message &quot;Le jeu est termin&#233;&quot; (&#39;&#39;The game is over&#39;&#39;)"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1633679856,"post_id":69491708,"comment_id":122829013,"body_markdown":"@RyanThibault you should spawn a new server thread every time a client connects, but that&#39;s for another question (following a bit of research on your own, of course ;-) )","body":"@RyanThibault you should spawn a new server thread every time a client connects, but that&#39;s for another question (following a bit of research on your own, of course ;-) )"}],"owner":{"account_id":21797092,"reputation":1,"user_id":16096524,"display_name":"Ryan Thibault"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633676877,"creation_date":1633676058,"question_id":69491708,"body_markdown":"I&#39;m currently working on developing a Client-Server multi-thread where the server ask a question &quot;Guess my secretNumber&quot; and the Client have to find it. \r\n\r\nWhat&#39;s working : messages between client &amp; server\r\n\r\nWhat&#39;s not working : when the client find the secretNumber, I want to get out of the while because currently, when my client found the secretNumber, the server send him &quot;Congratulations, you found it&quot; but the client still receives message to send a secretNumber. \r\n\r\nCan you help me? I&#39;m pretty sure that my issue come from the client&#39;s while. \r\n\r\nBelow my code : \r\n\r\nServer\r\n\r\n    while(true) {\r\n\t\t\tString req;\r\n\t\t\tfin = false;\r\n\t\t\twhile ((req=br.readLine())!=null) {\r\n\t\t\t\tSystem.out.println(nom+&quot; a envoy&#233; &quot;+req);\r\n\t\t\t\tint nb=Integer.parseInt(req);\r\n\t\t\t\tSystem.out.println(&quot;Nombre secret &quot; + nombreSecret);\r\n\t\t\t\tif (fin==false) {\r\n\t\t\t\t\tif(nb&lt;nombreSecret) {\r\n\t\t\t\t\t\tpw.println(&quot;Le nombre secret est plus grand&quot;);\r\n\t\t\t\t\t\t//String petit = br.readLine();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(nb&gt;nombreSecret) {\r\n\t\t\t\t\t\tpw.println(&quot;Le nombre secret est plus petit&quot;);\r\n\t\t\t\t\t\t//String grand = br.readLine();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tgagnant=nom;\r\n\t\t\t\t\t\tpw.println(&quot;BRAVO &quot; + nom + &quot; !!!! Le nombre secret &#233;tait &quot; + nombreSecret + &quot; ... Vous &#234;tes le vainqueur&quot;);\r\n\t\t\t\t\t\tfin=true;\r\n\t\t\t\t\t\t//String vainqueur = br.readLine();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tpw.println(&quot;Le jeu est termin&#233; ! Le gagnant est : &quot;+nom);\r\n\t\t\t\t\t//String finish = br.readLine();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tString rep=&quot;Size = &quot;+req.length();\r\n\t\t\t\tpw.println(rep);\r\n\t\t}\r\n\t\t\r\n    }\r\n\r\n\r\n\r\nClient \r\n\r\n    while(true) {\t\r\n\t\r\n\t\tSystem.out.println(&quot;Votre nombre : &quot;);\r\n\t\tString req=scanner.nextLine();\r\n\t\tpw.println(req);\r\n\t\t\r\n\t\tString message3 = br.readLine();\r\n\t\tSystem.out.println(message3);\r\n\t\t\r\n\t\tString message4 = br.readLine();\r\n\t\tSystem.out.println(message4);\t\r\n\t}","title":"Java Client-Server : &quot;While loop&quot; problem","body":"<p>I'm currently working on developing a Client-Server multi-thread where the server ask a question &quot;Guess my secretNumber&quot; and the Client have to find it.</p>\n<p>What's working : messages between client &amp; server</p>\n<p>What's not working : when the client find the secretNumber, I want to get out of the while because currently, when my client found the secretNumber, the server send him &quot;Congratulations, you found it&quot; but the client still receives message to send a secretNumber.</p>\n<p>Can you help me? I'm pretty sure that my issue come from the client's while.</p>\n<p>Below my code :</p>\n<p>Server</p>\n<pre><code>while(true) {\n        String req;\n        fin = false;\n        while ((req=br.readLine())!=null) {\n            System.out.println(nom+&quot; a envoyé &quot;+req);\n            int nb=Integer.parseInt(req);\n            System.out.println(&quot;Nombre secret &quot; + nombreSecret);\n            if (fin==false) {\n                if(nb&lt;nombreSecret) {\n                    pw.println(&quot;Le nombre secret est plus grand&quot;);\n                    //String petit = br.readLine();\n                }\n                else if(nb&gt;nombreSecret) {\n                    pw.println(&quot;Le nombre secret est plus petit&quot;);\n                    //String grand = br.readLine();\n                }\n                else {\n                    gagnant=nom;\n                    pw.println(&quot;BRAVO &quot; + nom + &quot; !!!! Le nombre secret était &quot; + nombreSecret + &quot; ... Vous êtes le vainqueur&quot;);\n                    fin=true;\n                    //String vainqueur = br.readLine();\n                }\n            }\n            else {\n                pw.println(&quot;Le jeu est terminé ! Le gagnant est : &quot;+nom);\n                //String finish = br.readLine();\n            }\n            \n            String rep=&quot;Size = &quot;+req.length();\n            pw.println(rep);\n    }\n    \n}\n</code></pre>\n<p>Client</p>\n<pre><code>while(true) {   \n\n    System.out.println(&quot;Votre nombre : &quot;);\n    String req=scanner.nextLine();\n    pw.println(req);\n    \n    String message3 = br.readLine();\n    System.out.println(message3);\n    \n    String message4 = br.readLine();\n    System.out.println(message4);   \n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1079993,"reputation":145,"user_id":1077222,"display_name":"Enrique Castaneda"},"score":0,"creation_date":1632985216,"post_id":69387540,"comment_id":122641803,"body_markdown":"you are looping til length -1 with strict less than","body":"you are looping til length -1 with strict less than"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1632985225,"post_id":69387540,"comment_id":122641808,"body_markdown":"`for(int i = 0; i &lt; taList.length-1; i++ )` think what it means stopping *before* (as implied by `&lt;`) reaching `length - 1`","body":"<code>for(int i = 0; i &lt; taList.length-1; i++ )</code> think what it means stopping <i>before</i> (as implied by <code>&lt;</code>) reaching <code>length - 1</code>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1632985725,"post_id":69387540,"comment_id":122641991,"body_markdown":"As an aside, `firstName.isEmpty() == true` is redundant and (when using variables instead of method calls) error prone (you may write `=` instead of `==` by mistake, it would compile and you would spend ridiculous amounts of time looking for a hard to see bug). The idiomatic way is simply using `firstName.isEmpty()` itself as a condition.","body":"As an aside, <code>firstName.isEmpty() == true</code> is redundant and (when using variables instead of method calls) error prone (you may write <code>=</code> instead of <code>==</code> by mistake, it would compile and you would spend ridiculous amounts of time looking for a hard to see bug). The idiomatic way is simply using <code>firstName.isEmpty()</code> itself as a condition."}],"answers":[{"tags":[],"owner":{"account_id":13220025,"reputation":569,"user_id":9547104,"display_name":"Timor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632985288,"creation_date":1632985250,"answer_id":69387580,"question_id":69387540,"body_markdown":"    for(int i = 0; i &lt; taList.length-1; i++ )\r\n\r\nmeans if `i` is equal to `taList.length-1`, don&#39;t enter to the block.\r\n\r\nHence, consider changing it to:\r\n\r\n    for(int i = 0; i &lt; taList.length; i++ )\r\n\r\n","title":"My array is not reaching the last element of my array","body":"<pre><code>for(int i = 0; i &lt; taList.length-1; i++ )\n</code></pre>\n<p>means if <code>i</code> is equal to <code>taList.length-1</code>, don't enter to the block.</p>\n<p>Hence, consider changing it to:</p>\n<pre><code>for(int i = 0; i &lt; taList.length; i++ )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19170114,"reputation":53,"user_id":14004028,"display_name":"Samin Sadman Shad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632985468,"creation_date":1632985423,"answer_id":69387613,"question_id":69387540,"body_markdown":"The iteration final condition should be `i &lt; taList.length` instead of `i &lt; taList.length -1`\r\n","title":"My array is not reaching the last element of my array","body":"<p>The iteration final condition should be <code>i &lt; taList.length</code> instead of <code>i &lt; taList.length -1</code></p>\n"}],"owner":{"account_id":22902294,"reputation":1,"user_id":17040820,"display_name":"12rage"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633003485,"answer_count":2,"score":0,"last_activity_date":1633676194,"creation_date":1632985044,"question_id":69387540,"body_markdown":"    public int numProjectsGraded(String fname, String lname) {\r\n         \r\n          if(fName == null || lName == null || \r\n                 )\r\n              \r\n              return -1;\r\n          \r\n          String name = fName + &quot; &quot; + lName;\r\n         \r\n          for(int i = 0; i &lt; tList.length-1; i++ ) {\r\n           \r\n              if(tList[i].tName().compareTo(name) == 0) {\r\n                  \r\n                  return tList[i].getProjects(); \r\n              }\r\n       }\r\n          return -1;\r\n      }\r\n\r\nThe array is not reaching the last element for some reason. What’s wrong with it?","title":"My array is not reaching the last element of my array","body":"<pre><code>public int numProjectsGraded(String fname, String lname) {\n     \n      if(fName == null || lName == null || \n             )\n          \n          return -1;\n      \n      String name = fName + &quot; &quot; + lName;\n     \n      for(int i = 0; i &lt; tList.length-1; i++ ) {\n       \n          if(tList[i].tName().compareTo(name) == 0) {\n              \n              return tList[i].getProjects(); \n          }\n   }\n      return -1;\n  }\n</code></pre>\n<p>The array is not reaching the last element for some reason. What’s wrong with it?</p>\n"},{"tags":["java","spring","jpa"],"answers":[{"tags":[],"owner":{"account_id":5028064,"reputation":330,"user_id":4039231,"display_name":"Vallabh Vaidya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633676175,"creation_date":1633514269,"answer_id":69463540,"question_id":69452717,"body_markdown":"I am not aware about how to directly store employee ID in details table when an employee is saved but what I would do is \r\n 1. Create an employee form, handle it through employee controller like below\r\n````\r\n    @GetMapping(&quot;/add&quot;)\r\n\tpublic String handleEmployeeForm(Model model) {\r\n\t\tmodel.addAttribute(&quot;employee&quot;, new Employee());\r\n\t\treturn &quot;formEmployee&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/add&quot;)\r\n\tpublic String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee, Errors errors) {\r\n\t\tif(errors.hasErrors()) {\r\n\t\t\treturn &quot;formEmployee&quot;;\r\n\t\t}\r\n\t\tthis.employeeService.save(employee);\r\n\t\treturn &quot;redirect:/employee/list&quot;;\r\n\t}\r\n\r\n    @GetMapping(&quot;/list&quot;)\r\n\tpublic String listEmployees(Model model) {\r\n\t\tmodel.addAttribute(&quot;employees&quot;, this.employeeService.findAll());\r\n\t\treturn &quot;listEmployee&quot;;\r\n\t}\r\n\r\n````\r\n 2. Provide a link to add employee Details for an employee. I did this through a page which lists all employees(check /employee/list API of EmployeeController).\r\n````\r\n&lt;a th:href=&quot;@{/employeeDetails/add/{employeeId}(employeeId=${employee.id})}&quot; \r\n\tth:each=&quot;employee : ${employees}&quot;&gt;&lt;span th:text=&quot;${employee.employeeEmail}&quot;&gt;&lt;/span&gt;&lt;/a&gt;\r\n````\r\n\r\n 3.  Create an employee details form, store employee id as hidden field in the form, handle it through employee details controller like below.\r\n````\r\n&lt;input type=&quot;hidden&quot;\r\n\t\t\t\t\tclass=&quot;form-control&quot; th:field=&quot;*{employee.id}&quot;/&gt;\r\n````\r\nEmployee Details Controller\r\n````\r\n    @GetMapping(&quot;/add/{employeeID}&quot;)\r\n\tpublic String handleEmployeeDetailsForm(@PathVariable long employeeID, Model model) {\r\n        //create dummy employee \r\n\t\tEmployee employee = new Employee();\r\n        //set id received from request to this employee object\r\n\t\temployee.setId(employeeID);\r\n\t\t\r\n        EmployeeDetails employeeDetails = new EmployeeDetails();\r\n        //set dummy employee object    \r\n\t\temployeeDetails.setEmployee(employee);\r\n\t\tmodel.addAttribute(&quot;employeeDetails&quot;, employeeDetails);\r\n\t\treturn &quot;formEmployeeDetails&quot;;\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/add&quot;)\r\n\tpublic String saveEmployeeDetails(@ModelAttribute EmployeeDetails employeeDetails, Errors errors) {\r\n\t\tif(errors.hasErrors()) {\r\n\t\t\treturn &quot;formEmployeeDetails&quot;;\r\n\t\t}\r\n\r\n        //fetch actual employee object from database\r\n  \t\tEmployee employee = this.employeeService.findById(employeeDetails.getEmployee().getId());\r\n\r\n        //set to employee details object\r\n\t\temployeeDetails.setEmployee(employee);\r\n\r\n        //save employee details object\r\n\t\tthis.employeeDetailsService.save(employeeDetails);\r\n\t\treturn &quot;redirect:/listEmployeeDetails&quot;;\r\n\t}\r\n````\r\n\r\n&lt;b&gt;Edit 1&lt;/b&gt; &lt;br/&gt;\r\nAnother way of achieving your expected outcome is by modifying employee and employee details classes like below &lt;br/&gt;\r\nEmployee\r\n````\r\n@OneToOne(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL)\r\n@PrimaryKeyJoinColumn\r\nprivate EmployeeDetail employeeDetail;\r\n````\r\n&lt;br/&gt;\r\n@PrimaryKeyJoinColumn annotation tells that primary key of Employee will be used as foreign key in EmployeeDetails.\r\n&lt;br/&gt;\r\n\r\n````\r\nEmployeeDetail\r\n@OneToOne\r\n@MapsId\r\nprivate Employee employee;\r\n````\r\nYou will be saving EmployeeDetails here as its owning side (we defined mappedBy in Employee) and it will contain foreign key reference to Employee.&lt;br/&gt; \r\n\r\nEmployeeDetailsController\r\n````\r\n@GetMapping(&quot;/add&quot;)\r\n\tpublic String handleEmployeeForm(Model model) {\r\n\t\tEmployeeDetails employeeDetails = new EmplyeeDetails();\r\n\t\temployeeDetails .setEmployee(new Employee());\r\n\t\tmodel.addAttribute(&quot;employeeDetails&quot;, employeeDetails );\r\n\t\treturn &quot;formEmployee&quot;;\r\n\t}\r\n\r\n@PostMapping(&quot;/add&quot;)\r\n\tpublic String saveEmployee(@ModelAttribute(&quot;employeeDetails&quot;) EmployeeDetails employeeDetails) {\r\n\t\tthis.employeeDetailsService.save(employeeDetails);\r\n\t\treturn &quot;redirect:/employee/add&quot;;\r\n\t}\r\n````\r\n\r\n \r\n","title":"Spring Data JPA Implementation one to one relationship","body":"<p>I am not aware about how to directly store employee ID in details table when an employee is saved but what I would do is</p>\n<ol>\n<li>Create an employee form, handle it through employee controller like below</li>\n</ol>\n<pre><code>    @GetMapping(&quot;/add&quot;)\n    public String handleEmployeeForm(Model model) {\n        model.addAttribute(&quot;employee&quot;, new Employee());\n        return &quot;formEmployee&quot;;\n    }\n    \n    @PostMapping(&quot;/add&quot;)\n    public String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee, Errors errors) {\n        if(errors.hasErrors()) {\n            return &quot;formEmployee&quot;;\n        }\n        this.employeeService.save(employee);\n        return &quot;redirect:/employee/list&quot;;\n    }\n\n    @GetMapping(&quot;/list&quot;)\n    public String listEmployees(Model model) {\n        model.addAttribute(&quot;employees&quot;, this.employeeService.findAll());\n        return &quot;listEmployee&quot;;\n    }\n\n</code></pre>\n<ol start=\"2\">\n<li>Provide a link to add employee Details for an employee. I did this through a page which lists all employees(check /employee/list API of EmployeeController).</li>\n</ol>\n<pre><code>&lt;a th:href=&quot;@{/employeeDetails/add/{employeeId}(employeeId=${employee.id})}&quot; \n    th:each=&quot;employee : ${employees}&quot;&gt;&lt;span th:text=&quot;${employee.employeeEmail}&quot;&gt;&lt;/span&gt;&lt;/a&gt;\n</code></pre>\n<ol start=\"3\">\n<li>Create an employee details form, store employee id as hidden field in the form, handle it through employee details controller like below.</li>\n</ol>\n<pre><code>&lt;input type=&quot;hidden&quot;\n                    class=&quot;form-control&quot; th:field=&quot;*{employee.id}&quot;/&gt;\n</code></pre>\n<p>Employee Details Controller</p>\n<pre><code>    @GetMapping(&quot;/add/{employeeID}&quot;)\n    public String handleEmployeeDetailsForm(@PathVariable long employeeID, Model model) {\n        //create dummy employee \n        Employee employee = new Employee();\n        //set id received from request to this employee object\n        employee.setId(employeeID);\n        \n        EmployeeDetails employeeDetails = new EmployeeDetails();\n        //set dummy employee object    \n        employeeDetails.setEmployee(employee);\n        model.addAttribute(&quot;employeeDetails&quot;, employeeDetails);\n        return &quot;formEmployeeDetails&quot;;\n    }\n    \n    @PostMapping(&quot;/add&quot;)\n    public String saveEmployeeDetails(@ModelAttribute EmployeeDetails employeeDetails, Errors errors) {\n        if(errors.hasErrors()) {\n            return &quot;formEmployeeDetails&quot;;\n        }\n\n        //fetch actual employee object from database\n        Employee employee = this.employeeService.findById(employeeDetails.getEmployee().getId());\n\n        //set to employee details object\n        employeeDetails.setEmployee(employee);\n\n        //save employee details object\n        this.employeeDetailsService.save(employeeDetails);\n        return &quot;redirect:/listEmployeeDetails&quot;;\n    }\n</code></pre>\n<p><b>Edit 1</b> <br/>\nAnother way of achieving your expected outcome is by modifying employee and employee details classes like below <br/>\nEmployee</p>\n<pre><code>@OneToOne(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL)\n@PrimaryKeyJoinColumn\nprivate EmployeeDetail employeeDetail;\n</code></pre>\n<br/>\n@PrimaryKeyJoinColumn annotation tells that primary key of Employee will be used as foreign key in EmployeeDetails.\n<br/>\n<pre><code>EmployeeDetail\n@OneToOne\n@MapsId\nprivate Employee employee;\n</code></pre>\n<p>You will be saving EmployeeDetails here as its owning side (we defined mappedBy in Employee) and it will contain foreign key reference to Employee.<br/></p>\n<p>EmployeeDetailsController</p>\n<pre><code>@GetMapping(&quot;/add&quot;)\n    public String handleEmployeeForm(Model model) {\n        EmployeeDetails employeeDetails = new EmplyeeDetails();\n        employeeDetails .setEmployee(new Employee());\n        model.addAttribute(&quot;employeeDetails&quot;, employeeDetails );\n        return &quot;formEmployee&quot;;\n    }\n\n@PostMapping(&quot;/add&quot;)\n    public String saveEmployee(@ModelAttribute(&quot;employeeDetails&quot;) EmployeeDetails employeeDetails) {\n        this.employeeDetailsService.save(employeeDetails);\n        return &quot;redirect:/employee/add&quot;;\n    }\n</code></pre>\n"}],"owner":{"account_id":14580058,"reputation":11,"user_id":10530847,"display_name":"Stefan Jankovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633676175,"creation_date":1633445607,"question_id":69452717,"body_markdown":"I&#39;m trying to implement Spring Data JPA one to one relationship and I have problems. I have a table of employees and a table of employees details. In the employee table I have a column employeeId and in table EmployeeDetail I have column employeeId. So when I add an employee foreign key to the table the employee details are automatically increased.\r\n\r\nThis is me entites:\r\n\r\n`Employee:`\r\n\r\n    @OneToOne(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL)\r\n    private EmployeeDetail employeeDetail;\r\n\r\n`EmployeeDetail:`\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;employeeId&quot;)\r\n    private Employee employee;\r\n\r\n------------------------------------------------------------------------\r\n\r\nThis is my class `EmployeeServiceImpl` and method to save Employee and EmployeeDetail is also involved.\r\n\r\n    public Employee saveEmployee(Employee employee) {\r\n\r\n        EmployeeDetail employeeDetail = employee.getEmployeeDetail();\r\n        employeeDetail.setEmployee(employee);\r\n        employee = employeeRepository.save(employee);\r\n        return employee;\r\n\r\n    }\r\n\r\nIn EmployeeController I have this two methods to show form for add new employee and to store new employee:\r\n\r\n     @GetMapping(&quot;/showFormForAdd&quot;)\r\n    public String showFormForAdd(Model theModel) {\r\n\r\n        // create model attribute to bind form data\r\n        Employee theEmployee = new Employee();\r\n\r\n        theModel.addAttribute(&quot;employee&quot;, theEmployee);\r\n\r\n        return &quot;addNewEmployeeForm&quot;;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/addNewEmployee&quot;,method = RequestMethod.POST)\r\n    @ResponseBody\r\n    public Employee addNewEmployee(@ModelAttribute(&quot;employee&quot;) @RequestBody Employee employee) {\r\n        Employee employeeResponse = employeeService.saveEmployee(employee);\r\n        return employeeResponse;\r\n    }\r\n\r\nAnd this is just part of `.jsp` form for add new employee:\r\n\r\n     &lt;form:form action=&quot;addNewEmployee&quot; modelAttribute=&quot;employee&quot; method=&quot;POST&quot;&gt;\r\n\r\nAs you can see, my model atribute is `employee` but its not recognized in my `.jsp` file in form. \r\n\r\nIn what way I can fix it? So when I create new employee his ID is automatic stored in EmployeeDetail? Or how I can add data to my related table(EmployeeDetail)?","title":"Spring Data JPA Implementation one to one relationship","body":"<p>I'm trying to implement Spring Data JPA one to one relationship and I have problems. I have a table of employees and a table of employees details. In the employee table I have a column employeeId and in table EmployeeDetail I have column employeeId. So when I add an employee foreign key to the table the employee details are automatically increased.</p>\n<p>This is me entites:</p>\n<p><code>Employee:</code></p>\n<pre><code>@OneToOne(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL)\nprivate EmployeeDetail employeeDetail;\n</code></pre>\n<p><code>EmployeeDetail:</code></p>\n<pre><code>@OneToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;employeeId&quot;)\nprivate Employee employee;\n</code></pre>\n<hr />\n<p>This is my class <code>EmployeeServiceImpl</code> and method to save Employee and EmployeeDetail is also involved.</p>\n<pre><code>public Employee saveEmployee(Employee employee) {\n\n    EmployeeDetail employeeDetail = employee.getEmployeeDetail();\n    employeeDetail.setEmployee(employee);\n    employee = employeeRepository.save(employee);\n    return employee;\n\n}\n</code></pre>\n<p>In EmployeeController I have this two methods to show form for add new employee and to store new employee:</p>\n<pre><code> @GetMapping(&quot;/showFormForAdd&quot;)\npublic String showFormForAdd(Model theModel) {\n\n    // create model attribute to bind form data\n    Employee theEmployee = new Employee();\n\n    theModel.addAttribute(&quot;employee&quot;, theEmployee);\n\n    return &quot;addNewEmployeeForm&quot;;\n}\n\n@RequestMapping(value = &quot;/addNewEmployee&quot;,method = RequestMethod.POST)\n@ResponseBody\npublic Employee addNewEmployee(@ModelAttribute(&quot;employee&quot;) @RequestBody Employee employee) {\n    Employee employeeResponse = employeeService.saveEmployee(employee);\n    return employeeResponse;\n}\n</code></pre>\n<p>And this is just part of <code>.jsp</code> form for add new employee:</p>\n<pre><code> &lt;form:form action=&quot;addNewEmployee&quot; modelAttribute=&quot;employee&quot; method=&quot;POST&quot;&gt;\n</code></pre>\n<p>As you can see, my model atribute is <code>employee</code> but its not recognized in my <code>.jsp</code> file in form.</p>\n<p>In what way I can fix it? So when I create new employee his ID is automatic stored in EmployeeDetail? Or how I can add data to my related table(EmployeeDetail)?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1633676455,"post_id":69491661,"comment_id":122827829,"body_markdown":"If you call SecondActivity from FirstActivity, you cannot access FirstActivity&#39;s instance and call methods from there (except static). Even if you ise fragments instead of activities, there may be errors. Please, redesign your architecture.","body":"If you call SecondActivity from FirstActivity, you cannot access FirstActivity&#39;s instance and call methods from there (except static). Even if you ise fragments instead of activities, there may be errors. Please, redesign your architecture."},{"owner":{"account_id":19652346,"reputation":444,"user_id":14385814,"display_name":"BootCamp"},"score":0,"creation_date":1633676790,"post_id":69491661,"comment_id":122827922,"body_markdown":"@CoolMind It works fine before but the inheritance didn&#39;t applied yet  , but the code above I&#39;m just trying to applied it to inheritance, Is any other way? other than inheritance?","body":"@CoolMind It works fine before but the inheritance didn&#39;t applied yet  , but the code above I&#39;m just trying to applied it to inheritance, Is any other way? other than inheritance?"}],"owner":{"account_id":19652346,"reputation":444,"user_id":14385814,"display_name":"BootCamp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633676144,"creation_date":1633675784,"question_id":69491661,"body_markdown":"I just want to call a function from the other activity and.I want to display an imageView by calling a function from the other activity. In the first activity, it has a function to scan Image and display the data to the `2nd Activity`.The problem is in `2nd Activity` I want to re-scan again the Cashcard `ImageView` by calling again the function that comes from `First Activity`, In short, I want to call the `Camera` function. Now I have two ImageView in `2nd Activity` and only one `onActivityResult` with it. If I click the `button re-scan under ` `cashcard` I want to call a function again from the first activity and reflect the data again to the `2nd Activity`. Do you have any idea how to solve this problem? \r\n\r\n Now I&#39;ve been trying to use **Inheritance** but it didn&#39;t solve the problem for me.\r\n\r\n*Reference: same problem with this link* [link](https://stackoverflow.com/questions/69152488/calling-a-function-to-another-activity-camera-imageview-in-android)\r\n\r\nI think I didn&#39;t apply the proper way of Inheritance\r\n\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n***First Activity***\r\n\r\n      //Inside onCreate function\r\n      class MainActivity extends HasCameraOpenerActivity {\r\n          private Button button;\r\n            public void someFunction() {\r\n                button.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        pickCamera();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n \r\n    //outside onCreate function\r\n    public abstract class HasCameraOpenerActivity extends Activity {\r\n    \r\n        private Uri image_uri;\r\n    \r\n        public void pickCamera() {\r\n            ContentValues values = new ContentValues();\r\n            values.put(MediaStore.Images.Media.TITLE, &quot;NewPic&quot;);\r\n            values.put(MediaStore.Images.Media.DESCRIPTION, &quot;Image to Text&quot;);\r\n            image_uri = getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\r\n            Intent cameraIntent = new Intent (MediaStore.ACTION_IMAGE_CAPTURE);\r\n            cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, image_uri);\r\n            startActivityForResult(cameraIntent, 1);\r\n        }\r\n    }\r\n\r\n     @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n            if(resultCode ==RESULT_OK){\r\n\r\n                //camera image pass to 2nd activity\r\n                Intent intent = new Intent(MainActivity.this, MainActivity2.class);\r\n                i.putExtra(&quot;CashCardImage&quot;,image_uri.toString());\r\n                setResult(RESULT_OK,intent);\r\n                finish();\r\n                startActivity(i);\r\n            }\r\n        }\r\n\r\n**Second Activity**\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main2);\r\n\r\n    Button btnrescanCashCard= (Button) findViewById(R.id.rescanCashcard);\r\n    mPreviewCashCard = findViewById(R.id.imageView);\r\n\r\n    Bundle extras = getIntent().getExtras();\r\n    if (extras != null) {\r\n        String resultUri = extras.getString(&quot;CashCardImage&quot;);\r\n\r\n        Uri myUri = Uri.parse(resultUri);\r\n\r\n        // I want to display image here from the other activity by calling using URI above\r\n\r\n        try {\r\n            Bitmap bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(),myUri);\r\n            mPreviewCashCard.setImageBitmap(bitmap);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n     btnrescanCashCard.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            //should I use this?, to call function to first Activity?\r\n            FirstActivity mActivity= new MainActivity();\r\n            mActivity.pickCamera();\r\n        }\r\n    });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uP5B5.jpg\r\n  [2]: https://i.stack.imgur.com/sMeWm.jpg","title":"Calling function to the first Activity Camera in Android","body":"<p>I just want to call a function from the other activity and.I want to display an imageView by calling a function from the other activity. In the first activity, it has a function to scan Image and display the data to the <code>2nd Activity</code>.The problem is in <code>2nd Activity</code> I want to re-scan again the Cashcard <code>ImageView</code> by calling again the function that comes from <code>First Activity</code>, In short, I want to call the <code>Camera</code> function. Now I have two ImageView in <code>2nd Activity</code> and only one <code>onActivityResult</code> with it. If I click the <code>button re-scan under </code> <code>cashcard</code> I want to call a function again from the first activity and reflect the data again to the <code>2nd Activity</code>. Do you have any idea how to solve this problem?</p>\n<p>Now I've been trying to use <strong>Inheritance</strong> but it didn't solve the problem for me.</p>\n<p><em>Reference: same problem with this link</em> <a href=\"https://stackoverflow.com/questions/69152488/calling-a-function-to-another-activity-camera-imageview-in-android\">link</a></p>\n<p>I think I didn't apply the proper way of Inheritance</p>\n<p><a href=\"https://i.stack.imgur.com/uP5B5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uP5B5.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/sMeWm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sMeWm.jpg\" alt=\"enter image description here\" /></a></p>\n<p><em><strong>First Activity</strong></em></p>\n<pre><code>  //Inside onCreate function\n  class MainActivity extends HasCameraOpenerActivity {\n      private Button button;\n        public void someFunction() {\n            button.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    pickCamera();\n                }\n            });\n        }\n    }\n\n//outside onCreate function\npublic abstract class HasCameraOpenerActivity extends Activity {\n\n    private Uri image_uri;\n\n    public void pickCamera() {\n        ContentValues values = new ContentValues();\n        values.put(MediaStore.Images.Media.TITLE, &quot;NewPic&quot;);\n        values.put(MediaStore.Images.Media.DESCRIPTION, &quot;Image to Text&quot;);\n        image_uri = getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values);\n        Intent cameraIntent = new Intent (MediaStore.ACTION_IMAGE_CAPTURE);\n        cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, image_uri);\n        startActivityForResult(cameraIntent, 1);\n    }\n}\n\n @Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n        if(resultCode ==RESULT_OK){\n\n            //camera image pass to 2nd activity\n            Intent intent = new Intent(MainActivity.this, MainActivity2.class);\n            i.putExtra(&quot;CashCardImage&quot;,image_uri.toString());\n            setResult(RESULT_OK,intent);\n            finish();\n            startActivity(i);\n        }\n    }\n</code></pre>\n<p><strong>Second Activity</strong></p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_main2);\n\nButton btnrescanCashCard= (Button) findViewById(R.id.rescanCashcard);\nmPreviewCashCard = findViewById(R.id.imageView);\n\nBundle extras = getIntent().getExtras();\nif (extras != null) {\n    String resultUri = extras.getString(&quot;CashCardImage&quot;);\n\n    Uri myUri = Uri.parse(resultUri);\n\n    // I want to display image here from the other activity by calling using URI above\n\n    try {\n        Bitmap bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(),myUri);\n        mPreviewCashCard.setImageBitmap(bitmap);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\n btnrescanCashCard.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        //should I use this?, to call function to first Activity?\n        FirstActivity mActivity= new MainActivity();\n        mActivity.pickCamera();\n    }\n});\n}\n</code></pre>\n"},{"tags":["java","android","api","android-studio","retrofit"],"comments":[{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1633610376,"post_id":69481218,"comment_id":122809174,"body_markdown":"Which is the ip you put in Retrofit? Have you using emulator or real device?","body":"Which is the ip you put in Retrofit? Have you using emulator or real device?"},{"owner":{"account_id":22969735,"reputation":35,"user_id":17098290,"display_name":"DGAD"},"score":0,"creation_date":1633610661,"post_id":69481218,"comment_id":122809333,"body_markdown":"am use local host ip address (192.168.1.52:5000) in retrofit. and am using real device. both device and system are connected in same network","body":"am use local host ip address (192.168.1.52:5000) in retrofit. and am using real device. both device and system are connected in same network"}],"answers":[{"tags":[],"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633675669,"creation_date":1633613993,"answer_id":69482266,"question_id":69481218,"body_markdown":"I had this problem before and I remember that if you have your server running in the same network as the app you need to use 10.0.2.2:{PORT} or the laptop network IP (in case you run it on a real device).\r\n\r\nSo your endpoint in your case should be :\r\n```\r\n//For real device\r\nprivate const val BASE_URL = &quot;http://192.168.1.51:5000/&quot;\r\n//For emulator\r\nprivate const val BASE_URL = &quot;http://172.0.2.2:8080/&quot;\r\n```\r\n\r\nCheck please that is not problem with your Firewall sometimes you have to allow access (restarting PC would be enought to know if it&#39;s the problem)","title":"Failed Connect Local Host (Desktop)","body":"<p>I had this problem before and I remember that if you have your server running in the same network as the app you need to use 10.0.2.2:{PORT} or the laptop network IP (in case you run it on a real device).</p>\n<p>So your endpoint in your case should be :</p>\n<pre><code>//For real device\nprivate const val BASE_URL = &quot;http://192.168.1.51:5000/&quot;\n//For emulator\nprivate const val BASE_URL = &quot;http://172.0.2.2:8080/&quot;\n</code></pre>\n<p>Check please that is not problem with your Firewall sometimes you have to allow access (restarting PC would be enought to know if it's the problem)</p>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633621152,"creation_date":1633621152,"answer_id":69484018,"question_id":69481218,"body_markdown":"It can be that firewall on your pc blocks the connection.\r\n\r\nOr you have bound your server to localhost/127.0.0.1.\r\n\r\nDo not bind your server to an ip address.","title":"Failed Connect Local Host (Desktop)","body":"<p>It can be that firewall on your pc blocks the connection.</p>\n<p>Or you have bound your server to localhost/127.0.0.1.</p>\n<p>Do not bind your server to an ip address.</p>\n"}],"owner":{"account_id":22969735,"reputation":35,"user_id":17098290,"display_name":"DGAD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1633683019,"accepted_answer_id":69482266,"answer_count":2,"score":-1,"last_activity_date":1633675669,"creation_date":1633609939,"question_id":69481218,"body_markdown":"Hi using retrofit api call method but am using local ip address still am not get proper response. if i tested in postman i got correct json response but in android studio am facing this connection issue.\r\n\r\n**Error...&gt;\r\nHTTP FAILED: java.net.SocketTimeoutException: failed to connect to /192.168.1.52 (port 5000) from /192.168.1.54 (port 58978) after 60000ms: isConnected failed: ETIMEDOUT (Connection timed out)** ","title":"Failed Connect Local Host (Desktop)","body":"<p>Hi using retrofit api call method but am using local ip address still am not get proper response. if i tested in postman i got correct json response but in android studio am facing this connection issue.</p>\n<p><strong>Error...&gt;\nHTTP FAILED: java.net.SocketTimeoutException: failed to connect to /192.168.1.52 (port 5000) from /192.168.1.54 (port 58978) after 60000ms: isConnected failed: ETIMEDOUT (Connection timed out)</strong></p>\n"},{"tags":["java","arrays","json","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633675549,"creation_date":1633675549,"answer_id":69491628,"question_id":69491495,"body_markdown":"There are several ways.\r\n\r\n1) Build the classes for your response objects &amp; use [Jackson][1] to map this response into an array of POJOs. \r\nThis would take more time but it would make working with the response way easier.\r\n\r\n2) Use a [JSON][2] library and parse the response using the library. Then get only the values and attributes that you need...\r\n\r\nSmall example:\r\n\r\n```java\r\n// Get your Json Array \r\n\r\nJSONArray itemArray = new JSONArray(yourJsonString); // Here is your response...\r\n\r\n// Get your first Element from your array \r\n\r\nJSONObject firstItem = itemArray.getJSONObject(0); // That would be  &quot;name&quot;:&quot;abc&quot;, &quot;description&quot;:&quot;Data&quot; etc...\r\n\r\n// Access any value on your jsonObject\r\n\r\nString itemName = firstItem.getString(&quot;name&quot;); // &quot;name&quot;, &quot;description&quot; , &quot;data&quot; and so on\r\n```\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson\r\n  [2]: https://mvnrepository.com/artifact/org.json/json","title":"How can I Parse an Object which is an array of JSONS coming from an URL?","body":"<p>There are several ways.</p>\n<ol>\n<li><p>Build the classes for your response objects &amp; use <a href=\"https://www.baeldung.com/jackson\" rel=\"nofollow noreferrer\">Jackson</a> to map this response into an array of POJOs.\nThis would take more time but it would make working with the response way easier.</p>\n</li>\n<li><p>Use a <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">JSON</a> library and parse the response using the library. Then get only the values and attributes that you need...</p>\n</li>\n</ol>\n<p>Small example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Get your Json Array \n\nJSONArray itemArray = new JSONArray(yourJsonString); // Here is your response...\n\n// Get your first Element from your array \n\nJSONObject firstItem = itemArray.getJSONObject(0); // That would be  &quot;name&quot;:&quot;abc&quot;, &quot;description&quot;:&quot;Data&quot; etc...\n\n// Access any value on your jsonObject\n\nString itemName = firstItem.getString(&quot;name&quot;); // &quot;name&quot;, &quot;description&quot; , &quot;data&quot; and so on\n</code></pre>\n"}],"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69491628,"answer_count":1,"score":0,"last_activity_date":1633675562,"creation_date":1633674856,"question_id":69491495,"body_markdown":"I am calling an URL and getting a response like shown below. I am not able to parse it. Can someone please tell me How can I parse the objects in the array?\r\n\r\n    Object[] response = restTemplate.exchange(url, HttpMethod.GET, item, Object[].class);\r\n\r\n\r\n**JSON:**\r\n\r\n    [\r\n       {\r\n          &quot;name&quot;:&quot;abc&quot;,\r\n          &quot;description&quot;:&quot;Data&quot;,\r\n          &quot;createdBy&quot;:&quot;abc&quot;,\r\n          &quot;id&quot;:&quot;30D8000506&quot;,\r\n          &quot;models&quot;:[\r\n             {\r\n                &quot;description&quot;:&quot;Data&quot;,\r\n                &quot;id&quot;:&quot;dcfdf&quot;,\r\n                &quot;Planning&quot;:false\r\n             }\r\n          ],\r\n          &quot;changedBy&quot;:&quot;abc&quot;,\r\n          &quot;openURL&quot;:&quot;ABC&quot;\r\n       },\r\n       {\r\n          &quot;name&quot;:&quot;louis&quot;,\r\n          &quot;description&quot;:&quot;&quot;,\r\n          &quot;createdBy&quot;:&quot;abc&quot;,\r\n          &quot;id&quot;:&quot;583E3817216&quot;,\r\n          &quot;changed&quot;:&quot;abc&quot;,\r\n          &quot;URL&quot;:&quot;ABC&quot;\r\n       },\r\n       {\r\n          &quot;name&quot;:&quot;Board&quot;,\r\n          &quot;description&quot;:&quot;&quot;,\r\n          &quot;createdBy&quot;:&quot;abc&quot;,\r\n          &quot;id&quot;:&quot;583E39BB21&quot;,\r\n          &quot;changedBy&quot;:&quot;abc&quot;,\r\n          &quot;openURL&quot;:&quot;ABC&quot;\r\n       }\r\n    ]","title":"How can I Parse an Object which is an array of JSONS coming from an URL?","body":"<p>I am calling an URL and getting a response like shown below. I am not able to parse it. Can someone please tell me How can I parse the objects in the array?</p>\n<pre><code>Object[] response = restTemplate.exchange(url, HttpMethod.GET, item, Object[].class);\n</code></pre>\n<p><strong>JSON:</strong></p>\n<pre><code>[\n   {\n      &quot;name&quot;:&quot;abc&quot;,\n      &quot;description&quot;:&quot;Data&quot;,\n      &quot;createdBy&quot;:&quot;abc&quot;,\n      &quot;id&quot;:&quot;30D8000506&quot;,\n      &quot;models&quot;:[\n         {\n            &quot;description&quot;:&quot;Data&quot;,\n            &quot;id&quot;:&quot;dcfdf&quot;,\n            &quot;Planning&quot;:false\n         }\n      ],\n      &quot;changedBy&quot;:&quot;abc&quot;,\n      &quot;openURL&quot;:&quot;ABC&quot;\n   },\n   {\n      &quot;name&quot;:&quot;louis&quot;,\n      &quot;description&quot;:&quot;&quot;,\n      &quot;createdBy&quot;:&quot;abc&quot;,\n      &quot;id&quot;:&quot;583E3817216&quot;,\n      &quot;changed&quot;:&quot;abc&quot;,\n      &quot;URL&quot;:&quot;ABC&quot;\n   },\n   {\n      &quot;name&quot;:&quot;Board&quot;,\n      &quot;description&quot;:&quot;&quot;,\n      &quot;createdBy&quot;:&quot;abc&quot;,\n      &quot;id&quot;:&quot;583E39BB21&quot;,\n      &quot;changedBy&quot;:&quot;abc&quot;,\n      &quot;openURL&quot;:&quot;ABC&quot;\n   }\n]\n</code></pre>\n"},{"tags":["java","spring-boot","json-view"],"comments":[{"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"score":1,"creation_date":1633607774,"post_id":69480249,"comment_id":122807996,"body_markdown":"Good reference: https://stackoverflow.com/questions/51172496/how-to-dynamically-ignore-a-property-on-jackson-serialization","body":"Good reference: <a href=\"https://stackoverflow.com/questions/51172496/how-to-dynamically-ignore-a-property-on-jackson-serialization\" title=\"how to dynamically ignore a property on jackson serialization\">stackoverflow.com/questions/51172496/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633607376,"creation_date":1633607376,"answer_id":69480626,"question_id":69480249,"body_markdown":"Take a look at [JSON Views][1]. With it, you can tell which properties to include in each view.\r\nYou could have 2 views:\r\n```java\r\npublic class Views {\r\n    public static class Public {\r\n    }\r\n\r\n    public static class Internal extends Public {\r\n    }\r\n}\r\n```\r\n\r\nThen your model should look like:\r\n```java\r\n@JsonView(Views.Public.class)\r\npublic class MyJwt {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long id;\r\n  @Lob\r\n  @JsonView(Views.Internal.class)\r\n  private String jwt;\r\n  private String reminderKey;\r\n  private String userAccountId;\r\n  private String clientKey;\r\n  private Timestamp createdDate;\r\n  private Timestamp expirationDate;\r\n  private byte statusCode;\r\n}\r\n```\r\n\r\nThen in your endpoints, you would use `@JsonView(Views.Public.class)` with the exception of the one that should include `jwt`, on which you should use `@JsonView(Views.Internal.class)`.\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-json-view-annotation","title":"JsonIgnore except one endpoint","body":"<p>Take a look at <a href=\"https://www.baeldung.com/jackson-json-view-annotation\" rel=\"nofollow noreferrer\">JSON Views</a>. With it, you can tell which properties to include in each view.\nYou could have 2 views:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Views {\n    public static class Public {\n    }\n\n    public static class Internal extends Public {\n    }\n}\n</code></pre>\n<p>Then your model should look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonView(Views.Public.class)\npublic class MyJwt {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n  @Lob\n  @JsonView(Views.Internal.class)\n  private String jwt;\n  private String reminderKey;\n  private String userAccountId;\n  private String clientKey;\n  private Timestamp createdDate;\n  private Timestamp expirationDate;\n  private byte statusCode;\n}\n</code></pre>\n<p>Then in your endpoints, you would use <code>@JsonView(Views.Public.class)</code> with the exception of the one that should include <code>jwt</code>, on which you should use <code>@JsonView(Views.Internal.class)</code>.</p>\n"}],"owner":{"account_id":4994027,"reputation":291,"user_id":4015268,"accept_rate":57,"display_name":"Mesut Can"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633675484,"creation_date":1633605727,"question_id":69480249,"body_markdown":"I am developing app using spring boot and I just want to ignore a field while returning to the client but except one endpoint.\r\n\r\n    public class MyJwt {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Lob\r\n    @JsonIgnore\r\n    private String jwt;\r\n    private String reminderKey;\r\n    private String userAccountId;\r\n    private String clientKey;\r\n    private Timestamp createdDate;\r\n    private Timestamp expirationDate;\r\n    private byte statusCode;\r\n\r\nHow can I expose jwt to the client only for one endpoint?\r\nThanks","title":"JsonIgnore except one endpoint","body":"<p>I am developing app using spring boot and I just want to ignore a field while returning to the client but except one endpoint.</p>\n<pre><code>public class MyJwt {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n@Lob\n@JsonIgnore\nprivate String jwt;\nprivate String reminderKey;\nprivate String userAccountId;\nprivate String clientKey;\nprivate Timestamp createdDate;\nprivate Timestamp expirationDate;\nprivate byte statusCode;\n</code></pre>\n<p>How can I expose jwt to the client only for one endpoint?\nThanks</p>\n"},{"tags":["java","json","libgdx"],"owner":{"account_id":22961837,"reputation":21,"user_id":17091553,"display_name":"h3vy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633675474,"creation_date":1633590675,"question_id":69476851,"body_markdown":"guys. I was looking at an article that drew a list of selectable sequences in a scrollable layout for the game LibGDX. I did everything according to the lesson, but the mena doesn&#39;t have a choice of items.\r\n\r\n    public ChangeSongState(GameStateManager game) {\r\n        super(game);\r\n        atlas = new TextureAtlas(Gdx.files.internal(&quot;uiskin.atlas&quot;));\r\n        skin = new Skin(Gdx.files.internal(&quot;SimpleSkin.json&quot;), atlas);\r\n    }\r\n    \r\n    @Override\r\n    public void update(float dt) {\r\n        Gdx.gl.glClearColor(0, 0, 0, 1); \r\n        Gdx.gl.glBlendFunc(GL20.GL_SRC_ALPHA, GL20.GL_ONE_MINUS_SRC_ALPHA);\r\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n    \r\n        stage.act(dt);\r\n        stage.draw();\r\n    }\r\n    \r\n    @Override\r\n    public void render(SpriteBatch sb) {\r\n        gameWidth = Gdx.graphics.getWidth();\r\n        gameHeight = Gdx.graphics.getHeight();\r\n        list = new List&lt;String&gt;(skin);\r\n        String[] strings = new String[20];\r\n        for (int i = 0, k = 0; i &lt; 20; i++) {\r\n            strings[k++] = &quot;String: &quot; + i;\r\n    \r\n        }\r\n        list.setItems(strings);\r\n    \r\n        scrollPane = new ScrollPane(list);\r\n        scrollPane.setBounds(0, 0, gameWidth, gameHeight + 100);\r\n        scrollPane.setSmoothScrolling(false);\r\n        scrollPane.setPosition(gameWidth / 2 - scrollPane.getWidth() / 4,\r\n                gameHeight / 2 - scrollPane.getHeight() / 4);\r\n        scrollPane.setTransform(true);\r\n        scrollPane.setScale(0.5f);\r\n        stage = new Stage(new StretchViewport(gameWidth, gameHeight));\r\n        stage.addActor(scrollPane);\r\n        Gdx.input.setInputProcessor(stage);\r\n    }\r\nJson-file:\r\n\r\n    &quot;com.badlogic.gdx.scenes.scene2d.ui.List$ListStyle&quot;: {\r\n        &quot;default&quot;: {\r\n          &quot;font&quot;: &quot;default-font&quot;,\r\n          &quot;fontColorUnselected&quot;:&quot;blue&quot;,\r\n          &quot;fontColorSelected&quot;:&quot;white&quot;,\r\n          &quot;selection&quot;: &quot;selection&quot;\r\n        }\r\n      }\r\n\r\nCan&#39;t understand why I can&#39;t select a list item","title":"Can&#39;t select an item in the scrollPane in LibGDX","body":"<p>guys. I was looking at an article that drew a list of selectable sequences in a scrollable layout for the game LibGDX. I did everything according to the lesson, but the mena doesn't have a choice of items.</p>\n<pre><code>public ChangeSongState(GameStateManager game) {\n    super(game);\n    atlas = new TextureAtlas(Gdx.files.internal(&quot;uiskin.atlas&quot;));\n    skin = new Skin(Gdx.files.internal(&quot;SimpleSkin.json&quot;), atlas);\n}\n\n@Override\npublic void update(float dt) {\n    Gdx.gl.glClearColor(0, 0, 0, 1); \n    Gdx.gl.glBlendFunc(GL20.GL_SRC_ALPHA, GL20.GL_ONE_MINUS_SRC_ALPHA);\n    Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n\n    stage.act(dt);\n    stage.draw();\n}\n\n@Override\npublic void render(SpriteBatch sb) {\n    gameWidth = Gdx.graphics.getWidth();\n    gameHeight = Gdx.graphics.getHeight();\n    list = new List&lt;String&gt;(skin);\n    String[] strings = new String[20];\n    for (int i = 0, k = 0; i &lt; 20; i++) {\n        strings[k++] = &quot;String: &quot; + i;\n\n    }\n    list.setItems(strings);\n\n    scrollPane = new ScrollPane(list);\n    scrollPane.setBounds(0, 0, gameWidth, gameHeight + 100);\n    scrollPane.setSmoothScrolling(false);\n    scrollPane.setPosition(gameWidth / 2 - scrollPane.getWidth() / 4,\n            gameHeight / 2 - scrollPane.getHeight() / 4);\n    scrollPane.setTransform(true);\n    scrollPane.setScale(0.5f);\n    stage = new Stage(new StretchViewport(gameWidth, gameHeight));\n    stage.addActor(scrollPane);\n    Gdx.input.setInputProcessor(stage);\n}\n</code></pre>\n<p>Json-file:</p>\n<pre><code>&quot;com.badlogic.gdx.scenes.scene2d.ui.List$ListStyle&quot;: {\n    &quot;default&quot;: {\n      &quot;font&quot;: &quot;default-font&quot;,\n      &quot;fontColorUnselected&quot;:&quot;blue&quot;,\n      &quot;fontColorSelected&quot;:&quot;white&quot;,\n      &quot;selection&quot;: &quot;selection&quot;\n    }\n  }\n</code></pre>\n<p>Can't understand why I can't select a list item</p>\n"},{"tags":["java","debugging","java-8","jdb"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1632035928,"post_id":69240657,"comment_id":122381212,"body_markdown":"Because nothing referenced `Finalizer` so the class was never initialized.","body":"Because nothing referenced <code>Finalizer</code> so the class was never initialized."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1632060974,"post_id":69240657,"comment_id":122386306,"body_markdown":"After testing in Intellij and jdb. I found that it can&#39;t break at the static block even if we referenced `Finalizer` as `Finalizer` is loaded before main method execute. @guaner, what is the main purpose to debug `Finalizer`?","body":"After testing in Intellij and jdb. I found that it can&#39;t break at the static block even if we referenced <code>Finalizer</code> as <code>Finalizer</code> is loaded before main method execute. @guaner, what is the main purpose to debug <code>Finalizer</code>?"},{"owner":{"account_id":16567722,"reputation":82,"user_id":11971814,"display_name":"guaner"},"score":0,"creation_date":1632062129,"post_id":69240657,"comment_id":122386594,"body_markdown":"@user207421 im sure that `Finalizer` has been initialized, because a breakpoint on the empty `main()` thread stops and `jstack` shows there is a `FinalizerThread` thread waiting to do its job.","body":"@user207421 im sure that <code>Finalizer</code> has been initialized, because a breakpoint on the empty <code>main()</code> thread stops and <code>jstack</code> shows there is a <code>FinalizerThread</code> thread waiting to do its job."},{"owner":{"account_id":16567722,"reputation":82,"user_id":11971814,"display_name":"guaner"},"score":0,"creation_date":1632062323,"post_id":69240657,"comment_id":122386649,"body_markdown":"@samabcde im reading the `Finalizer` code to get a deeper understanding of JVM&#39;s `finalize()` mechanism. Then I think maybe a step by step debugging helps understanding it more smoothly so i just tried. But unfortunately, it doesn&#39;t stop...","body":"@samabcde im reading the <code>Finalizer</code> code to get a deeper understanding of JVM&#39;s <code>finalize()</code> mechanism. Then I think maybe a step by step debugging helps understanding it more smoothly so i just tried. But unfortunately, it doesn&#39;t stop..."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1632062942,"post_id":69240657,"comment_id":122386793,"body_markdown":"From [this](https://stackoverflow.com/questions/18214174/how-is-the-java-bootstrap-classloader-loaded), `Finalizer` in `java.lang` is loaded by bootstrap class loader, which is not a java class, this seems to be the reason we can&#39;t debug.","body":"From <a href=\"https://stackoverflow.com/questions/18214174/how-is-the-java-bootstrap-classloader-loaded\">this</a>, <code>Finalizer</code> in <code>java.lang</code> is loaded by bootstrap class loader, which is not a java class, this seems to be the reason we can&#39;t debug."},{"owner":{"account_id":16567722,"reputation":82,"user_id":11971814,"display_name":"guaner"},"score":0,"creation_date":1632107362,"post_id":69240657,"comment_id":122395088,"body_markdown":"@samabcde but some other classes in `java.lang` can be debugged like `Boolean`... maybe I think it&#39;s related to the time when `-agentlib:jdwp` kicks in?","body":"@samabcde but some other classes in <code>java.lang</code> can be debugged like <code>Boolean</code>... maybe I think it&#39;s related to the time when <code>-agentlib:jdwp</code> kicks in?"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1632107754,"post_id":69240657,"comment_id":122395146,"body_markdown":"I mean the static initialisation block can&#39;t be debugged, as it runs before main. `Boolean` doesn&#39;t have static initialisation block.","body":"I mean the static initialisation block can&#39;t be debugged, as it runs before main. <code>Boolean</code> doesn&#39;t have static initialisation block."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1632153553,"post_id":69240657,"comment_id":122410875,"body_markdown":"When I run an empty class with `-verbose:class`, the class `Finalizer` is the 38th class to be reported, out of over 400 classes loaded before the main class. Obviously, that’s very early and likely too early to be debuggable.","body":"When I run an empty class with <code>-verbose:class</code>, the class <code>Finalizer</code> is the 38th class to be reported, out of over 400 classes loaded before the main class. Obviously, that’s very early and likely too early to be debuggable."}],"answers":[{"tags":[],"owner":{"account_id":3886264,"reputation":217,"user_id":3217538,"display_name":"Alaneuler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632845324,"creation_date":1632844259,"answer_id":69364855,"question_id":69240657,"body_markdown":"Since JDK 5.0, the JVM debugging capability has been constructed based on [JVM TI](https://docs.oracle.com/javase/8/docs/technotes/guides/jvmti/) which replaces the JVMPI and JVMDI. I&#39;m not familiar with JVMDI thus the following statements are based on the fact you debug the code using `agentlib:jdwp` like:\r\n\r\n```\r\n-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005\r\n```\r\n\r\nThe jdwp agent (loaded from `libjdwp.so` file) bind the port specified (5005 in the above example) on receiving `post_vm_initialized` event. As the event name indicates, **VM has been initialized and the `Finalizer` class has already been loaded when the debug port binding happens** (of course you can only debug Java codes after JDWP port listening). So you cannot debug the static block code of `Finalizer`. In fact, classes loaded before JDWP port binding all are not debuggable in terms of initialization. But if thread runs in the code of the loaded-before classes afterwards, you&#39;re still able to debug it, for example the  `Finalizer.FinalizerThread#run` method.\r\n\r\nI found a quote from [The JVM Tool Interface (JVM TI): How VM Agents Work](https://www.oracle.com/technical-resources/articles/javase/jvm-tool-interface.html):\r\n&gt; The library is loaded before the VM has initialized, allowing the agent library to capture early VM events that it could not access before.\r\n\r\n\r\nJDWP agentlib may bind the port on the other hand in `Agent_Onload` function (in `debugInit.c`), which may allow the debugging for all classes loading in JVM (I guess).\r\n\r\nPS: if you are interested in the code mentioned above (in OpenJDK 8 with Mercurial ID dcb218f54ca1):\r\n\r\n1. `post_vm_initialized` event processing in function `debugInit.c:initialize`.\r\n2. JDWP&#39;s `Agent_Onload` function also locates in code file `debugInit.c`.","title":"Java Breakpoint set on java.lang.ref.Finalizer not stopped","body":"<p>Since JDK 5.0, the JVM debugging capability has been constructed based on <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jvmti/\" rel=\"nofollow noreferrer\">JVM TI</a> which replaces the JVMPI and JVMDI. I'm not familiar with JVMDI thus the following statements are based on the fact you debug the code using <code>agentlib:jdwp</code> like:</p>\n<pre><code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=5005\n</code></pre>\n<p>The jdwp agent (loaded from <code>libjdwp.so</code> file) bind the port specified (5005 in the above example) on receiving <code>post_vm_initialized</code> event. As the event name indicates, <strong>VM has been initialized and the <code>Finalizer</code> class has already been loaded when the debug port binding happens</strong> (of course you can only debug Java codes after JDWP port listening). So you cannot debug the static block code of <code>Finalizer</code>. In fact, classes loaded before JDWP port binding all are not debuggable in terms of initialization. But if thread runs in the code of the loaded-before classes afterwards, you're still able to debug it, for example the  <code>Finalizer.FinalizerThread#run</code> method.</p>\n<p>I found a quote from <a href=\"https://www.oracle.com/technical-resources/articles/javase/jvm-tool-interface.html\" rel=\"nofollow noreferrer\">The JVM Tool Interface (JVM TI): How VM Agents Work</a>:</p>\n<blockquote>\n<p>The library is loaded before the VM has initialized, allowing the agent library to capture early VM events that it could not access before.</p>\n</blockquote>\n<p>JDWP agentlib may bind the port on the other hand in <code>Agent_Onload</code> function (in <code>debugInit.c</code>), which may allow the debugging for all classes loading in JVM (I guess).</p>\n<p>PS: if you are interested in the code mentioned above (in OpenJDK 8 with Mercurial ID dcb218f54ca1):</p>\n<ol>\n<li><code>post_vm_initialized</code> event processing in function <code>debugInit.c:initialize</code>.</li>\n<li>JDWP's <code>Agent_Onload</code> function also locates in code file <code>debugInit.c</code>.</li>\n</ol>\n"}],"owner":{"account_id":16567722,"reputation":82,"user_id":11971814,"display_name":"guaner"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69364855,"answer_count":1,"score":2,"last_activity_date":1633675371,"creation_date":1632030754,"question_id":69240657,"body_markdown":"I want to get some insights of Java `java.lang.ref.Finalizer` initializing process so I set a breakpoint on its class static block:\r\n\r\n```\r\nstatic {\r\n-&gt;    ThreadGroup tg = Thread.currentThread().getThreadGroup(); // breakpoint set on this line\r\n    for (ThreadGroup tgn = tg;\r\n         tgn != null;\r\n         tg = tgn, tgn = tg.getParent());\r\n    Thread finalizer = new FinalizerThread(tg);\r\n    finalizer.setPriority(Thread.MAX_PRIORITY - 2);\r\n    finalizer.setDaemon(true);\r\n    finalizer.start();\r\n}\r\n```\r\n\r\nThen start an empty `main()` method via IntelliJ IDEA debug button, but the breakpoint never stops the program (JVM just executes to its end and exits.)\r\n\r\nJava version:\r\n```\r\nopenjdk version &quot;1.8.0_302&quot;\r\nOpenJDK Runtime Environment Corretto-8.302.08.1 (build 1.8.0_302-b08)\r\nOpenJDK 64-Bit Server VM Corretto-8.302.08.1 (build 25.302-b08, mixed mode)\r\n```\r\n\r\nWhy this breakpoint not taking effect?","title":"Java Breakpoint set on java.lang.ref.Finalizer not stopped","body":"<p>I want to get some insights of Java <code>java.lang.ref.Finalizer</code> initializing process so I set a breakpoint on its class static block:</p>\n<pre><code>static {\n-&gt;    ThreadGroup tg = Thread.currentThread().getThreadGroup(); // breakpoint set on this line\n    for (ThreadGroup tgn = tg;\n         tgn != null;\n         tg = tgn, tgn = tg.getParent());\n    Thread finalizer = new FinalizerThread(tg);\n    finalizer.setPriority(Thread.MAX_PRIORITY - 2);\n    finalizer.setDaemon(true);\n    finalizer.start();\n}\n</code></pre>\n<p>Then start an empty <code>main()</code> method via IntelliJ IDEA debug button, but the breakpoint never stops the program (JVM just executes to its end and exits.)</p>\n<p>Java version:</p>\n<pre><code>openjdk version &quot;1.8.0_302&quot;\nOpenJDK Runtime Environment Corretto-8.302.08.1 (build 1.8.0_302-b08)\nOpenJDK 64-Bit Server VM Corretto-8.302.08.1 (build 25.302-b08, mixed mode)\n</code></pre>\n<p>Why this breakpoint not taking effect?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":1,"creation_date":1633674931,"post_id":69491456,"comment_id":122827402,"body_markdown":"Why bother with contains &quot;.&quot; ? Just go straight to `localName = (localName.replaceAll(&quot;\\.&quot;,&quot;&quot;)).trim();`","body":"Why bother with contains &quot;.&quot; ? Just go straight to <code>localName = (localName.replaceAll(&quot;\\.&quot;,&quot;&quot;)).trim();</code>"},{"owner":{"account_id":19370356,"reputation":21,"user_id":14163768,"display_name":"Shreyasi Chakraborty"},"score":0,"creation_date":1633675286,"post_id":69491456,"comment_id":122827500,"body_markdown":"John3136\n Thank you for the suggestion. I know that I can use replaceAll instead of contains, but I want to know why contains is failing? Ideally, as much as I know, contains(&quot;.&quot;) should give true, but it is giving false as a result of which, statements inside if not executing. Do you have any idea why so?","body":"John3136  Thank you for the suggestion. I know that I can use replaceAll instead of contains, but I want to know why contains is failing? Ideally, as much as I know, contains(&quot;.&quot;) should give true, but it is giving false as a result of which, statements inside if not executing. Do you have any idea why so?"},{"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"score":0,"creation_date":1633675366,"post_id":69491456,"comment_id":122827516,"body_markdown":"Answer has already been given - regex.","body":"Answer has already been given - regex."}],"answers":[{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1633675113,"creation_date":1633674904,"answer_id":69491505,"question_id":69491456,"body_markdown":"`replaceAll` expects the regular expression to which this string is to be matched as the first argument. You need to escape dot, plus (and other regexp metacharacter) with a backslash.\r\n\r\nEven with two backslashes, because Java string requires to escape a backslash with a backslash. It must look like this:\r\n\r\n    localName.replaceAll(&quot;\\\\.&quot;,&quot;&quot;)\r\n\r\nAccording to regular expression a non-escaped dot means &quot;any character&quot;. \r\n\r\nhttps://en.wikipedia.org/wiki/Regular_expression#POSIX_basic_and_extended","title":"Contains method of String failing for &quot;.&quot; in Java","body":"<p><code>replaceAll</code> expects the regular expression to which this string is to be matched as the first argument. You need to escape dot, plus (and other regexp metacharacter) with a backslash.</p>\n<p>Even with two backslashes, because Java string requires to escape a backslash with a backslash. It must look like this:</p>\n<pre><code>localName.replaceAll(&quot;\\\\.&quot;,&quot;&quot;)\n</code></pre>\n<p>According to regular expression a non-escaped dot means &quot;any character&quot;.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Regular_expression#POSIX_basic_and_extended\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Regular_expression#POSIX_basic_and_extended</a></p>\n"},{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633675354,"creation_date":1633675354,"answer_id":69491586,"question_id":69491456,"body_markdown":"There are few special characters in [Regex][1]. If you have to use them in some regex as normal character you need to escape them (using `\\\\` before them).\r\n\r\n`replaceAll` method in [String class][2] has first parameter as Regex and here you are trying to replace `&quot;.&quot;`, which itself is 1 out of those special characters. So you would need to escape it as below :\r\n\r\n    localName.replaceAll(&quot;\\\\.&quot;,&quot;&quot;)\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/regex.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)","title":"Contains method of String failing for &quot;.&quot; in Java","body":"<p>There are few special characters in <a href=\"https://www.oracle.com/technical-resources/articles/java/regex.html\" rel=\"nofollow noreferrer\">Regex</a>. If you have to use them in some regex as normal character you need to escape them (using <code>\\\\</code> before them).</p>\n<p><code>replaceAll</code> method in <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">String class</a> has first parameter as Regex and here you are trying to replace <code>&quot;.&quot;</code>, which itself is 1 out of those special characters. So you would need to escape it as below :</p>\n<pre><code>localName.replaceAll(&quot;\\\\.&quot;,&quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":19370356,"reputation":21,"user_id":14163768,"display_name":"Shreyasi Chakraborty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69491586,"answer_count":2,"score":0,"last_activity_date":1633675354,"creation_date":1633674606,"question_id":69491456,"body_markdown":"I have a string array as shown below - \r\n\r\n    String[] emails = {&quot;test.email+alex@leetcode.com&quot;,&quot;test.e.mail+bob.cathy@leetcode.com&quot;,&quot;testemail+david@lee.tcode.com&quot;};\r\n\r\n\r\nI want to see if the string contains &quot;.&quot;,&quot;+&quot; and &quot;@&quot;. Based on this, I will do some processing on the string.\r\nThe issue is contains for &quot;.&quot; is failing even if the string has &quot;.&quot;\r\nAlso, contains is failing for &quot;+&quot; and &quot;@&quot; if the string has &quot;.&quot; before &quot;+&quot; and &quot;@&quot;.\r\n\r\nI dont understand why so? Need help.\r\n\r\nBelow is the code -\r\n\r\n    public static void main(String[] args) {\r\n            \r\n            String[] emails = {&quot;test.email+alex@leetcode.com&quot;,&quot;test.e.mail+bob.cathy@leetcode.com&quot;,&quot;testemail+david@lee.tcode.com&quot;};\r\n            \r\n            if(emails == null || emails.length == 0)\r\n                System.out.println(0);\r\n            \r\n            HashSet&lt;String&gt; emailsSet = new HashSet&lt;&gt;();\r\n            \r\n            for(int i = 0; i &lt; emails.length; i++){\r\n                \r\n                int splitIndex = emails[i].indexOf(&quot;@&quot;);\r\n                \r\n                if(splitIndex &gt; 0){\r\n                    String localName = (emails[i].substring(0,splitIndex)).trim();\r\n                    String domainName = (emails[i].substring(splitIndex,emails[i].length())).trim();\r\n                    System.out.println(localName);\r\n                    System.out.println(domainName);\r\n                    \r\n                    if(domainName.length() &lt;= 1)\r\n                        System.out.println(0);\r\n                    \r\n                    if(localName.contains(&quot;.&quot;))\r\n                        localName = (localName.replaceAll(&quot;.&quot;,&quot;&quot;)).trim();\r\n                    System.out.println(localName);\r\n                    \r\n                    int index = localName.indexOf(&quot;+&quot;);\r\n                    \r\n                    if(index &gt;= 0){\r\n                        localName = (localName.substring(0,index)).trim(); \r\n                    }\r\n                    System.out.println(localName);\r\n                    \r\n                    if(localName.length()&gt;0){\r\n                        emailsSet.add(localName+domainName);\r\n                    }\r\n                   System.out.println(emailsSet); \r\n                    \r\n                }\r\n          \r\n                }\r\n            System.out.println(emailsSet.size());\r\n            }\r\n\r\n\r\nBelow is the output - \r\n\r\n    test.email+alex\r\n    @leetcode.com\r\n    \r\n    \r\n    []\r\n    test.e.mail+bob.cathy\r\n    @leetcode.com\r\n    \r\n    \r\n    []\r\n    testemail+david\r\n    @lee.tcode.com\r\n    testemail+david\r\n    testemail\r\n    [testemail@lee.tcode.com]\r\n    1","title":"Contains method of String failing for &quot;.&quot; in Java","body":"<p>I have a string array as shown below -</p>\n<pre><code>String[] emails = {&quot;test.email+alex@leetcode.com&quot;,&quot;test.e.mail+bob.cathy@leetcode.com&quot;,&quot;testemail+david@lee.tcode.com&quot;};\n</code></pre>\n<p>I want to see if the string contains &quot;.&quot;,&quot;+&quot; and &quot;@&quot;. Based on this, I will do some processing on the string.\nThe issue is contains for &quot;.&quot; is failing even if the string has &quot;.&quot;\nAlso, contains is failing for &quot;+&quot; and &quot;@&quot; if the string has &quot;.&quot; before &quot;+&quot; and &quot;@&quot;.</p>\n<p>I dont understand why so? Need help.</p>\n<p>Below is the code -</p>\n<pre><code>public static void main(String[] args) {\n        \n        String[] emails = {&quot;test.email+alex@leetcode.com&quot;,&quot;test.e.mail+bob.cathy@leetcode.com&quot;,&quot;testemail+david@lee.tcode.com&quot;};\n        \n        if(emails == null || emails.length == 0)\n            System.out.println(0);\n        \n        HashSet&lt;String&gt; emailsSet = new HashSet&lt;&gt;();\n        \n        for(int i = 0; i &lt; emails.length; i++){\n            \n            int splitIndex = emails[i].indexOf(&quot;@&quot;);\n            \n            if(splitIndex &gt; 0){\n                String localName = (emails[i].substring(0,splitIndex)).trim();\n                String domainName = (emails[i].substring(splitIndex,emails[i].length())).trim();\n                System.out.println(localName);\n                System.out.println(domainName);\n                \n                if(domainName.length() &lt;= 1)\n                    System.out.println(0);\n                \n                if(localName.contains(&quot;.&quot;))\n                    localName = (localName.replaceAll(&quot;.&quot;,&quot;&quot;)).trim();\n                System.out.println(localName);\n                \n                int index = localName.indexOf(&quot;+&quot;);\n                \n                if(index &gt;= 0){\n                    localName = (localName.substring(0,index)).trim(); \n                }\n                System.out.println(localName);\n                \n                if(localName.length()&gt;0){\n                    emailsSet.add(localName+domainName);\n                }\n               System.out.println(emailsSet); \n                \n            }\n      \n            }\n        System.out.println(emailsSet.size());\n        }\n</code></pre>\n<p>Below is the output -</p>\n<pre><code>test.email+alex\n@leetcode.com\n\n\n[]\ntest.e.mail+bob.cathy\n@leetcode.com\n\n\n[]\ntestemail+david\n@lee.tcode.com\ntestemail+david\ntestemail\n[testemail@lee.tcode.com]\n1\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"score":2,"creation_date":1365618012,"post_id":15933374,"comment_id":22699387,"body_markdown":"Please paste your entire method, or at least all relevant parts. Also explain what you want to achieve with break, and what are you actually asking...","body":"Please paste your entire method, or at least all relevant parts. Also explain what you want to achieve with break, and what are you actually asking..."},{"owner":{"account_id":407825,"reputation":22412,"user_id":778118,"accept_rate":67,"display_name":"jahroy"},"score":0,"creation_date":1365618204,"post_id":15933374,"comment_id":22699508,"body_markdown":"If you have code you don&#39;t want to execute, use an if statement.  If you want to exit the method, use a return statement.","body":"If you have code you don&#39;t want to execute, use an if statement.  If you want to exit the method, use a return statement."}],"answers":[{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365618281,"creation_date":1365617977,"answer_id":15933435,"question_id":15933374,"body_markdown":"`return viewObject;` you must use. Seems to be method signature is \r\n\r\n&gt; public View getView(){...}\r\n\r\nAnd it clearly says it should return View object or null. So you can use `return null;` or return the expected view object.\r\n\r\n","title":"break cannot be used outside of a loop or a switch","body":"<p><code>return viewObject;</code> you must use. Seems to be method signature is </p>\n\n<blockquote>\n  <p>public View getView(){...}</p>\n</blockquote>\n\n<p>And it clearly says it should return View object or null. So you can use <code>return null;</code> or return the expected view object.</p>\n"},{"tags":[],"owner":{"account_id":2278494,"reputation":2749,"user_id":2004206,"display_name":"Paweł Piecyk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1365617990,"creation_date":1365617990,"answer_id":15933439,"question_id":15933374,"body_markdown":"I think that in this particular case you can return null to exit from method.","title":"break cannot be used outside of a loop or a switch","body":"<p>I think that in this particular case you can return null to exit from method.</p>\n"},{"tags":[],"owner":{"account_id":142651,"reputation":6584,"user_id":350491,"accept_rate":78,"display_name":"Ankit"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1633675260,"creation_date":1365618161,"answer_id":15933505,"question_id":15933374,"body_markdown":"Why do you even need a `break` there? The `if` block has finished anyway, so control will exit the block.\r\n\r\nIf you wanna return the view instead of `break;`, put `return holder;` (assuming holder is a view)\r\n\r\nbreak can only be used in switch &amp; loops (for/while/do-while)","title":"break cannot be used outside of a loop or a switch","body":"<p>Why do you even need a <code>break</code> there? The <code>if</code> block has finished anyway, so control will exit the block.</p>\n<p>If you wanna return the view instead of <code>break;</code>, put <code>return holder;</code> (assuming holder is a view)</p>\n<p>break can only be used in switch &amp; loops (for/while/do-while)</p>\n"}],"owner":{"account_id":34829,"reputation":23264,"user_id":98514,"accept_rate":76,"display_name":"Kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22599,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":15933505,"answer_count":3,"score":2,"last_activity_date":1633675260,"creation_date":1365617816,"question_id":15933374,"body_markdown":"    String value = custom.getdob().toString();\r\n    if (value == null || value.equals(&quot;&quot;)) {\r\n        holder.item3.setText(&quot;-&quot;);\r\n        break;\r\n    }\r\n\r\nI am actually over-riding the method getView, so i am not able to place a `return` after my if condition as it says view must be returned, but i want to exit the if condition after the check. so tried out `break` and i am getting this error &quot;**break cannot be used outside of a loop or a switch**&quot;\r\n\r\n        break; = &gt; Throws break cannot be used outside of a loop or a switch\r\n        return; = &gt; This method must return a result of type View","title":"break cannot be used outside of a loop or a switch","body":"<pre><code>String value = custom.getdob().toString();\nif (value == null || value.equals(\"\")) {\n    holder.item3.setText(\"-\");\n    break;\n}\n</code></pre>\n\n<p>I am actually over-riding the method getView, so i am not able to place a <code>return</code> after my if condition as it says view must be returned, but i want to exit the if condition after the check. so tried out <code>break</code> and i am getting this error \"<strong>break cannot be used outside of a loop or a switch</strong>\"</p>\n\n<pre><code>    break; = &gt; Throws break cannot be used outside of a loop or a switch\n    return; = &gt; This method must return a result of type View\n</code></pre>\n"},{"tags":["java","yaml","jackson-dataformat-yaml"],"answers":[{"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633675155,"creation_date":1633675155,"answer_id":69491550,"question_id":69491326,"body_markdown":"The field name.\r\n\r\nA full example\r\n\r\n    @Getter @Setter @ToString // lombok for simplicity, can be written at hand\r\n    static class MyYaml {\r\n        private Set&lt;Setting&gt; settings;\r\n    }\r\n\r\n    @Getter @Setter @ToString\r\n    static class Setting {\r\n        @JsonProperty(&quot;setting&quot;) // &lt;&lt; REQUIRED\r\n        private String name;\r\n        private Set&lt;Environment&gt; environments;\r\n    }\r\n\r\n    @Getter @Setter @ToString\r\n    static class Environment {\r\n        private String name;\r\n        private int value;\r\n    }\r\n\r\nusage example\r\n\r\n    System.out.println(new ObjectMapper(new YAMLFactory()).readValue(&quot;settings:\\n&quot; +\r\n            &quot;  - setting: setting1\\n&quot; +\r\n            &quot;    environments:\\n&quot; +\r\n            &quot;      - name: env1\\n&quot; +\r\n            &quot;        value: 31\\n&quot; +\r\n            &quot;      - name: env2\\n&quot; +\r\n            &quot;        value: 12\\n&quot; +\r\n            &quot;  - setting: setting2\\n&quot; +\r\n            &quot;    environments:\\n&quot; +\r\n            &quot;      - name: env2.1\\n&quot; +\r\n            &quot;        value: 2.31\\n&quot; +\r\n            &quot;      - name: env2.2\\n&quot; +\r\n            &quot;        value: 2.12\\n&quot;, MyYaml.class));\r\n\r\nwith output\r\n\r\n    MyYaml(settings=[\r\n      Setting(name=setting2,\r\n        environments=[Environment(name=env2.1, value=2),\r\n                      Environment(name=env2.2, value=2)]),\r\n      Setting(name=setting1,\r\n        environments=[Environment(name=env1, value=31),\r\n                      Environment(name=env2, value=12)])])\r\n\r\n*(Note: the lower case is only to avoid having to write down the rest of the fields, you can add them to be upper case)*","title":"How to map a list in yaml to java object using jackson so that parent node values can be returned?","body":"<p>The field name.</p>\n<p>A full example</p>\n<pre><code>@Getter @Setter @ToString // lombok for simplicity, can be written at hand\nstatic class MyYaml {\n    private Set&lt;Setting&gt; settings;\n}\n\n@Getter @Setter @ToString\nstatic class Setting {\n    @JsonProperty(&quot;setting&quot;) // &lt;&lt; REQUIRED\n    private String name;\n    private Set&lt;Environment&gt; environments;\n}\n\n@Getter @Setter @ToString\nstatic class Environment {\n    private String name;\n    private int value;\n}\n</code></pre>\n<p>usage example</p>\n<pre><code>System.out.println(new ObjectMapper(new YAMLFactory()).readValue(&quot;settings:\\n&quot; +\n        &quot;  - setting: setting1\\n&quot; +\n        &quot;    environments:\\n&quot; +\n        &quot;      - name: env1\\n&quot; +\n        &quot;        value: 31\\n&quot; +\n        &quot;      - name: env2\\n&quot; +\n        &quot;        value: 12\\n&quot; +\n        &quot;  - setting: setting2\\n&quot; +\n        &quot;    environments:\\n&quot; +\n        &quot;      - name: env2.1\\n&quot; +\n        &quot;        value: 2.31\\n&quot; +\n        &quot;      - name: env2.2\\n&quot; +\n        &quot;        value: 2.12\\n&quot;, MyYaml.class));\n</code></pre>\n<p>with output</p>\n<pre><code>MyYaml(settings=[\n  Setting(name=setting2,\n    environments=[Environment(name=env2.1, value=2),\n                  Environment(name=env2.2, value=2)]),\n  Setting(name=setting1,\n    environments=[Environment(name=env1, value=31),\n                  Environment(name=env2, value=12)])])\n</code></pre>\n<p><em>(Note: the lower case is only to avoid having to write down the rest of the fields, you can add them to be upper case)</em></p>\n"}],"owner":{"account_id":1120562,"reputation":919,"user_id":1108968,"accept_rate":42,"display_name":"TrongBang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69491550,"answer_count":1,"score":0,"last_activity_date":1633675155,"creation_date":1633673867,"question_id":69491326,"body_markdown":"I&#39;m using jackson in my java project\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nI want to map this yaml to java classes\r\n\r\n```\r\n  Settings:\r\n    - Setting: number1\r\n      Environments:\r\n        - Name: name\r\n          Value: 3\r\n```\r\n\r\nWhat I can think of now is this\r\n\r\n```\r\npublic class MyYaml {\r\n    private Set&lt;Setting&gt; settings;\r\n\r\n    @JsonProperty(&quot;Settings&quot;)\r\n    public String getSettings() {\r\n        return settings;\r\n    }\r\n\r\n    public class Setting {\r\n        private String name;\r\n        private Environments environments;\r\n\r\n        @JsonProperty(&quot;??????????????????????&quot;)\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n\r\n```\r\n\r\nNow my question is how to map that attribute `name` for Setting class so that it returns `name` as the value","title":"How to map a list in yaml to java object using jackson so that parent node values can be returned?","body":"<p>I'm using jackson in my java project</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\n            &lt;version&gt;2.10.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I want to map this yaml to java classes</p>\n<pre><code>  Settings:\n    - Setting: number1\n      Environments:\n        - Name: name\n          Value: 3\n</code></pre>\n<p>What I can think of now is this</p>\n<pre><code>public class MyYaml {\n    private Set&lt;Setting&gt; settings;\n\n    @JsonProperty(&quot;Settings&quot;)\n    public String getSettings() {\n        return settings;\n    }\n\n    public class Setting {\n        private String name;\n        private Environments environments;\n\n        @JsonProperty(&quot;??????????????????????&quot;)\n        public String getName() {\n            return name;\n        }\n\n\n</code></pre>\n<p>Now my question is how to map that attribute <code>name</code> for Setting class so that it returns <code>name</code> as the value</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633674746,"creation_date":1633674746,"answer_id":69491475,"question_id":69490976,"body_markdown":"I think there are two ways to do this:\r\n\r\n1) Method 1\r\n\r\nInstead of using `th:field` use `html` `id` &amp; `name`. Set value using `th:value`\r\n\r\n```html\r\n&lt;input type=&quot;hidden&quot; id=&quot;yourId1&quot; name=&quot;yourName1&quot; th:value=&quot;${item}&quot;&gt;\r\n```\r\n\r\n2) Method 2: Use [preprocessing][1]\r\n\r\n```html\r\n&lt;input type=&quot;hidden&quot; th:field=&quot;__${item}__&quot;&gt;\r\n```\r\n\r\n\r\n  [1]: https://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#preprocessing","title":"How to pass model&#39;s object to thymeleaf, and to contorller as hidden in thymeleaf?","body":"<p>I think there are two ways to do this:</p>\n<ol>\n<li>Method 1</li>\n</ol>\n<p>Instead of using <code>th:field</code> use <code>html</code> <code>id</code> &amp; <code>name</code>. Set value using <code>th:value</code></p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;hidden&quot; id=&quot;yourId1&quot; name=&quot;yourName1&quot; th:value=&quot;${item}&quot;&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Method 2: Use <a href=\"https://www.thymeleaf.org/doc/tutorials/2.1/usingthymeleaf.html#preprocessing\" rel=\"nofollow noreferrer\">preprocessing</a></li>\n</ol>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type=&quot;hidden&quot; th:field=&quot;__${item}__&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":22425507,"reputation":89,"user_id":16632174,"display_name":"emarwa.mouma.35t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69491475,"answer_count":1,"score":0,"last_activity_date":1633674746,"creation_date":1633671647,"question_id":69490976,"body_markdown":"How to pass model&#39;s object to thymeleaf, and to contorller as hidden in thymeleaf?\r\n```\r\n        model.addAttribute(&quot;member&quot;, member);\r\n        model.addAttribute(&quot;item&quot;, item);\r\n        model.addAttribute(&quot;poi&quot;, poi);\r\n        model.addAttribute(&quot;myModel&quot;, myModel);\r\n        model.addAttribute(&quot;allPlans&quot;, allPlans);\r\n        model.addAttribute(&quot;allPois&quot;, allPois);\r\n        model.addAttribute(&quot;itemParam&quot;,itemParam);\r\n```\r\nThis is controller1.\r\n\r\ncontroller1 passes 7 objects to item.\r\n\r\n```\r\n        &lt;input type=&quot;hidden&quot; th:field=${member}&gt;\r\n        &lt;input type=&quot;hidden&quot; th:field=${item}&gt;\r\n        &lt;input type=&quot;hidden&quot; th:field=${poi}&gt;\r\n        &lt;input type=&quot;hidden&quot; th:field=${myModel}&gt;\r\n        &lt;input type=&quot;hidden&quot; th:field=${allPlans}&gt;\r\n        &lt;input type=&quot;hidden&quot; th:field=${allPois}&gt;\r\n        &lt;input type=&quot;hidden&quot; th:field=${itemParam}&gt;\r\n```\r\nThis is the thymeleaf code.\r\n\r\nHere is the result:\r\n```\r\n        &lt;input type=&quot;hidden&quot; id=&quot;&quot; name=&quot;&quot; value=&quot;&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; id=&quot;&quot; name=&quot;&quot; value=&quot;&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; id=&quot;&quot; name=&quot;&quot; value=&quot;&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; id=&quot;&quot; name=&quot;&quot; value=&quot;&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; id=&quot;&quot; name=&quot;&quot; value=&quot;&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; id=&quot;&quot; name=&quot;&quot; value=&quot;&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; id=&quot;&quot; name=&quot;&quot; value=&quot;&quot;&gt;\r\n```\r\n\r\nHow can I pass 7 objects intact to the controller? ","title":"How to pass model&#39;s object to thymeleaf, and to contorller as hidden in thymeleaf?","body":"<p>How to pass model's object to thymeleaf, and to contorller as hidden in thymeleaf?</p>\n<pre><code>        model.addAttribute(&quot;member&quot;, member);\n        model.addAttribute(&quot;item&quot;, item);\n        model.addAttribute(&quot;poi&quot;, poi);\n        model.addAttribute(&quot;myModel&quot;, myModel);\n        model.addAttribute(&quot;allPlans&quot;, allPlans);\n        model.addAttribute(&quot;allPois&quot;, allPois);\n        model.addAttribute(&quot;itemParam&quot;,itemParam);\n</code></pre>\n<p>This is controller1.</p>\n<p>controller1 passes 7 objects to item.</p>\n<pre><code>        &lt;input type=&quot;hidden&quot; th:field=${member}&gt;\n        &lt;input type=&quot;hidden&quot; th:field=${item}&gt;\n        &lt;input type=&quot;hidden&quot; th:field=${poi}&gt;\n        &lt;input type=&quot;hidden&quot; th:field=${myModel}&gt;\n        &lt;input type=&quot;hidden&quot; th:field=${allPlans}&gt;\n        &lt;input type=&quot;hidden&quot; th:field=${allPois}&gt;\n        &lt;input type=&quot;hidden&quot; th:field=${itemParam}&gt;\n</code></pre>\n<p>This is the thymeleaf code.</p>\n<p>Here is the result:</p>\n<pre><code>        &lt;input type=&quot;hidden&quot; id=&quot;&quot; name=&quot;&quot; value=&quot;&quot;&gt;\n        &lt;input type=&quot;hidden&quot; id=&quot;&quot; name=&quot;&quot; value=&quot;&quot;&gt;\n        &lt;input type=&quot;hidden&quot; id=&quot;&quot; name=&quot;&quot; value=&quot;&quot;&gt;\n        &lt;input type=&quot;hidden&quot; id=&quot;&quot; name=&quot;&quot; value=&quot;&quot;&gt;\n        &lt;input type=&quot;hidden&quot; id=&quot;&quot; name=&quot;&quot; value=&quot;&quot;&gt;\n        &lt;input type=&quot;hidden&quot; id=&quot;&quot; name=&quot;&quot; value=&quot;&quot;&gt;\n        &lt;input type=&quot;hidden&quot; id=&quot;&quot; name=&quot;&quot; value=&quot;&quot;&gt;\n</code></pre>\n<p>How can I pass 7 objects intact to the controller?</p>\n"},{"tags":["java","decompiler"],"comments":[{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1633671626,"post_id":69490744,"comment_id":122826538,"body_markdown":"Are you sure this is the unmodified decompiled code? FWIW, this code should give an error for missing return statement.","body":"Are you sure this is the unmodified decompiled code? FWIW, this code should give an error for missing return statement."},{"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1633671933,"post_id":69490744,"comment_id":122826603,"body_markdown":"&quot;Compiled code is&quot; - no, the compiled code is Java bytecode... not more Java source code. If you&#39;re decompiling code that has compiled successfully, and the result is invalid code, then the problem is in the decompiler, not the compiler.","body":"&quot;Compiled code is&quot; - no, the compiled code is Java bytecode... not more Java source code. If you&#39;re decompiling code that has compiled successfully, and the result is invalid code, then the problem is in the decompiler, not the compiler."}],"answers":[{"tags":[],"owner":{"account_id":15623101,"reputation":2772,"user_id":11271432,"display_name":"Cray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633672834,"creation_date":1633672834,"answer_id":69491153,"question_id":69490744,"body_markdown":"There is nothing wrong with the decompiled code. It looks confusing, but the return statement is inside the inner `do-while` loop and not at the end of `if` block itself.\r\n\r\n    if (...) {\r\n      Iterator var5 = ...\r\n      while (true) {\r\n        XPathElement xpathElement;\r\n        do {\r\n          do {\r\n            if (!var5.hasNext()) {\r\n              return result; // return if iterator has no more elements\r\n                             // this return statement is always reached\r\n            }\r\n            result = ... // perform first replacement\r\n          } while (...); // if there are no child elements continue iteration, otherwise jump to outer do-while loop\r\n        } while (...); // if collection is empty continue iteration (this is the &amp;&amp; part of your second if statement)\r\n\r\n        while () { // iterate child element\r\n        }\r\n        // we are still inside while(true) loop\r\n        // jump back to &#39;XPathElement xpathElement;&#39; line\r\n      }\r\n    } else {\r\n      return result; // this return statement is not needed to complete the if(true) case\r\n    }","title":"Java Compiler adding additional else part and moving last return statement in that else part","body":"<p>There is nothing wrong with the decompiled code. It looks confusing, but the return statement is inside the inner <code>do-while</code> loop and not at the end of <code>if</code> block itself.</p>\n<pre><code>if (...) {\n  Iterator var5 = ...\n  while (true) {\n    XPathElement xpathElement;\n    do {\n      do {\n        if (!var5.hasNext()) {\n          return result; // return if iterator has no more elements\n                         // this return statement is always reached\n        }\n        result = ... // perform first replacement\n      } while (...); // if there are no child elements continue iteration, otherwise jump to outer do-while loop\n    } while (...); // if collection is empty continue iteration (this is the &amp;&amp; part of your second if statement)\n\n    while () { // iterate child element\n    }\n    // we are still inside while(true) loop\n    // jump back to 'XPathElement xpathElement;' line\n  }\n} else {\n  return result; // this return statement is not needed to complete the if(true) case\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633674683,"creation_date":1633674157,"answer_id":69491370,"question_id":69490744,"body_markdown":"&gt; I need to understand why compiler is doing such thing\r\n\r\nThe compiler isn&#39;t the thing that&#39;s introducing the difference: it&#39;s the _decompiler_.\r\n\r\nIn general, there are an infinite number of Java source code inputs that can produce the same bytecode output. The obvious example of this is that renaming a variable leaves the bytecode unchanged; but other examples exist, such as `if (condition) return; else statement;` and `if (condition) return; statement;`.\r\n\r\nAs such, the decompiler almost certainly cannot produce the exact source code you put into the compiler. It can only recognise patterns in the bytecode, and say &quot;this bytecode is most often produced by people writing code like _this_...&quot;; or, &quot;this bytecode is most simply produced by people writing code like _this_&quot;. That may be how you wrote it; it may not be.\r\n\r\nIn the case of this code:\r\n\r\n```\r\nif (condition) {\r\n  while (true) {\r\n    if (condition2) {\r\n      return result;\r\n    }\r\n  }\r\n}\r\nreturn result;\r\n```\r\n\r\nBecause the `while` loop can never complete normally (it returns, or keeps looping: the condition is constant, and there is no break inside the loop), it never reaches the final `return`; so that `return` is effectively in an `else`.\r\n\r\n```\r\nif (condition) {\r\n  while (true) {\r\n    if (condition2) {\r\n      return result;\r\n    }\r\n  }\r\n} else {\r\n  return result;\r\n}\r\n```\r\n\r\nSo, the decompiler produces this code because it is equivalent.","title":"Java Compiler adding additional else part and moving last return statement in that else part","body":"<blockquote>\n<p>I need to understand why compiler is doing such thing</p>\n</blockquote>\n<p>The compiler isn't the thing that's introducing the difference: it's the <em>decompiler</em>.</p>\n<p>In general, there are an infinite number of Java source code inputs that can produce the same bytecode output. The obvious example of this is that renaming a variable leaves the bytecode unchanged; but other examples exist, such as <code>if (condition) return; else statement;</code> and <code>if (condition) return; statement;</code>.</p>\n<p>As such, the decompiler almost certainly cannot produce the exact source code you put into the compiler. It can only recognise patterns in the bytecode, and say &quot;this bytecode is most often produced by people writing code like <em>this</em>...&quot;; or, &quot;this bytecode is most simply produced by people writing code like <em>this</em>&quot;. That may be how you wrote it; it may not be.</p>\n<p>In the case of this code:</p>\n<pre><code>if (condition) {\n  while (true) {\n    if (condition2) {\n      return result;\n    }\n  }\n}\nreturn result;\n</code></pre>\n<p>Because the <code>while</code> loop can never complete normally (it returns, or keeps looping: the condition is constant, and there is no break inside the loop), it never reaches the final <code>return</code>; so that <code>return</code> is effectively in an <code>else</code>.</p>\n<pre><code>if (condition) {\n  while (true) {\n    if (condition2) {\n      return result;\n    }\n  }\n} else {\n  return result;\n}\n</code></pre>\n<p>So, the decompiler produces this code because it is equivalent.</p>\n"}],"owner":{"account_id":22976173,"reputation":33,"user_id":17103755,"display_name":"Vikas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69491370,"answer_count":2,"score":2,"last_activity_date":1633674683,"creation_date":1633669490,"question_id":69490744,"body_markdown":"I am working in java tech stack for a quite while but have not seen such type issue. I have a method which has a return statement at the end and an if statement in between without else part. When I compile my class, compiler generates a class where this method has additional else block at the end and last statement (which is my return statement is moved into else part added by compiler). \r\nI need to understand why compiler is doing such thing and what&#39;s wrong with the code which makes it to such thing.\r\n \r\nJava Method\r\n\r\n\r\n\r\n\r\n\r\n    public String convertFromHtmlToDBTextTemplates(final String html, final String convertTo, XPathMapping xPathMapping) {\r\n\r\n        //Editor specific code to replace Colour classes to Codes classes for DB\r\n        String result = colourCodesClassConversion(html, convertTo);\r\n\r\n        result = result.replaceAll(HTML_START_POINT_UPPER, HTML_START_POINT);\r\n        result = result.replaceAll(HTML_SPAN_UPPER_END, HTML_END_POINT);\r\n        //Replacing UI Label with the corresponding XPath reading mapping from the passed XPathMapping\r\n        if (IMCollectionUtils.isNotEmpty(xPathMapping.getXPathElements().getXPathElement())) {\r\n            for (XPathMapping.XPathElements.XPathElement xpathElement : xPathMapping.getXPathElements().getXPathElement()) {\r\n                result = result.replaceAll(LESS_THAN_CHARACTER + xpathElement.getUILabel() + GREATER_THAN_CHARACTER,\r\n                        XPATH_WRAPPER_ELEMENT + xpathElement.getXPath() + CLOSING_BRACKET);\r\n                if (xpathElement.getChildElements() != null &amp;&amp; IMCollectionUtils.isNotEmpty(xpathElement.getChildElements().getChildElement())) {\r\n                    for (XPathMapping.XPathElements.XPathElement.ChildElements.ChildElement childElement : xpathElement.getChildElements().getChildElement()) {\r\n                        if (result.contains(LESS_THAN_CHARACTER\r\n                                + xpathElement.getUILabel()\r\n                                + UI_LABEL_SEPARATOR\r\n                                + childElement.getUILabel()\r\n                                + GREATER_THAN_CHARACTER)) {\r\n                            result = result.replaceAll(\r\n                                    LESS_THAN_CHARACTER\r\n                                            + xpathElement.getUILabel()\r\n                                            + UI_LABEL_SEPARATOR\r\n                                            + childElement.getUILabel()\r\n                                            + GREATER_THAN_CHARACTER,\r\n                                    XPATH_REPEATING_WRAPPER_ELEMENT\r\n                                            + xpathElement.getXPath()\r\n                                            + REPEATING_ENTITY_SEPARATOR\r\n                                            + childElement.getXPath()\r\n                                            + CLOSING_BRACKET);\r\n                        }\r\n                    }\r\n                }\r\n\t\t\t\t\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\nCompiled code is \r\n\r\n\r\n\r\n    public String convertFromHtmlToDBTextTemplates(String html, String convertTo, XPathMapping xPathMapping) {\r\n        String result = this.colourCodesClassConversion(html, convertTo);\r\n        result = result.replaceAll(&quot;&lt;SPAN&quot;, &quot;&lt;span&quot;);\r\n        result = result.replaceAll(&quot;&lt;/SPAN&gt;&quot;, &quot;&lt;/span&gt;&quot;);\r\n        if (IMCollectionUtils.isNotEmpty(xPathMapping.getXPathElements().getXPathElement())) {\r\n            Iterator var5 = xPathMapping.getXPathElements().getXPathElement().iterator();\r\n\r\n            while(true) {\r\n                XPathElement xpathElement;\r\n                do {\r\n                    do {\r\n                        if (!var5.hasNext()) {\r\n                            return result;\r\n                        }\r\n\r\n                        xpathElement = (XPathElement)var5.next();\r\n                        result = result.replaceAll(&quot;&amp;lt;&quot; + xpathElement.getUILabel() + &quot;&amp;gt;&quot;, &quot;XPATH:{&quot; + xpathElement.getXPath() + &quot;}&quot;);\r\n                    } while(xpathElement.getChildElements() == null);\r\n                } while(!IMCollectionUtils.isNotEmpty(xpathElement.getChildElements().getChildElement()));\r\n\r\n                Iterator var7 = xpathElement.getChildElements().getChildElement().iterator();\r\n\r\n                while(var7.hasNext()) {\r\n                    ChildElement childElement = (ChildElement)var7.next();\r\n                    if (result.contains(&quot;&amp;lt;&quot; + xpathElement.getUILabel() + &quot;:&quot; + childElement.getUILabel() + &quot;&amp;gt;&quot;)) {\r\n                        result = result.replaceAll(&quot;&amp;lt;&quot; + xpathElement.getUILabel() + &quot;:&quot; + childElement.getUILabel() + &quot;&amp;gt;&quot;, &quot;XPATHRE:{&quot; + xpathElement.getXPath() + &quot;#&quot; + childElement.getXPath() + &quot;}&quot;);\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            return result;\r\n        }\r\n    }\r\n\r\n&#39;&#39;&#39;\r\n","title":"Java Compiler adding additional else part and moving last return statement in that else part","body":"<p>I am working in java tech stack for a quite while but have not seen such type issue. I have a method which has a return statement at the end and an if statement in between without else part. When I compile my class, compiler generates a class where this method has additional else block at the end and last statement (which is my return statement is moved into else part added by compiler).\nI need to understand why compiler is doing such thing and what's wrong with the code which makes it to such thing.</p>\n<p>Java Method</p>\n<pre><code>public String convertFromHtmlToDBTextTemplates(final String html, final String convertTo, XPathMapping xPathMapping) {\n\n    //Editor specific code to replace Colour classes to Codes classes for DB\n    String result = colourCodesClassConversion(html, convertTo);\n\n    result = result.replaceAll(HTML_START_POINT_UPPER, HTML_START_POINT);\n    result = result.replaceAll(HTML_SPAN_UPPER_END, HTML_END_POINT);\n    //Replacing UI Label with the corresponding XPath reading mapping from the passed XPathMapping\n    if (IMCollectionUtils.isNotEmpty(xPathMapping.getXPathElements().getXPathElement())) {\n        for (XPathMapping.XPathElements.XPathElement xpathElement : xPathMapping.getXPathElements().getXPathElement()) {\n            result = result.replaceAll(LESS_THAN_CHARACTER + xpathElement.getUILabel() + GREATER_THAN_CHARACTER,\n                    XPATH_WRAPPER_ELEMENT + xpathElement.getXPath() + CLOSING_BRACKET);\n            if (xpathElement.getChildElements() != null &amp;&amp; IMCollectionUtils.isNotEmpty(xpathElement.getChildElements().getChildElement())) {\n                for (XPathMapping.XPathElements.XPathElement.ChildElements.ChildElement childElement : xpathElement.getChildElements().getChildElement()) {\n                    if (result.contains(LESS_THAN_CHARACTER\n                            + xpathElement.getUILabel()\n                            + UI_LABEL_SEPARATOR\n                            + childElement.getUILabel()\n                            + GREATER_THAN_CHARACTER)) {\n                        result = result.replaceAll(\n                                LESS_THAN_CHARACTER\n                                        + xpathElement.getUILabel()\n                                        + UI_LABEL_SEPARATOR\n                                        + childElement.getUILabel()\n                                        + GREATER_THAN_CHARACTER,\n                                XPATH_REPEATING_WRAPPER_ELEMENT\n                                        + xpathElement.getXPath()\n                                        + REPEATING_ENTITY_SEPARATOR\n                                        + childElement.getXPath()\n                                        + CLOSING_BRACKET);\n                    }\n                }\n            }\n            \n        }\n    }\n    return result;\n}\n</code></pre>\n<p>Compiled code is</p>\n<pre><code>public String convertFromHtmlToDBTextTemplates(String html, String convertTo, XPathMapping xPathMapping) {\n    String result = this.colourCodesClassConversion(html, convertTo);\n    result = result.replaceAll(&quot;&lt;SPAN&quot;, &quot;&lt;span&quot;);\n    result = result.replaceAll(&quot;&lt;/SPAN&gt;&quot;, &quot;&lt;/span&gt;&quot;);\n    if (IMCollectionUtils.isNotEmpty(xPathMapping.getXPathElements().getXPathElement())) {\n        Iterator var5 = xPathMapping.getXPathElements().getXPathElement().iterator();\n\n        while(true) {\n            XPathElement xpathElement;\n            do {\n                do {\n                    if (!var5.hasNext()) {\n                        return result;\n                    }\n\n                    xpathElement = (XPathElement)var5.next();\n                    result = result.replaceAll(&quot;&amp;lt;&quot; + xpathElement.getUILabel() + &quot;&amp;gt;&quot;, &quot;XPATH:{&quot; + xpathElement.getXPath() + &quot;}&quot;);\n                } while(xpathElement.getChildElements() == null);\n            } while(!IMCollectionUtils.isNotEmpty(xpathElement.getChildElements().getChildElement()));\n\n            Iterator var7 = xpathElement.getChildElements().getChildElement().iterator();\n\n            while(var7.hasNext()) {\n                ChildElement childElement = (ChildElement)var7.next();\n                if (result.contains(&quot;&amp;lt;&quot; + xpathElement.getUILabel() + &quot;:&quot; + childElement.getUILabel() + &quot;&amp;gt;&quot;)) {\n                    result = result.replaceAll(&quot;&amp;lt;&quot; + xpathElement.getUILabel() + &quot;:&quot; + childElement.getUILabel() + &quot;&amp;gt;&quot;, &quot;XPATHRE:{&quot; + xpathElement.getXPath() + &quot;#&quot; + childElement.getXPath() + &quot;}&quot;);\n                }\n            }\n        }\n    } else {\n        return result;\n    }\n}\n</code></pre>\n<p>'''</p>\n"},{"tags":["java","json","jackson","json-deserialization","objectmapper"],"comments":[{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":0,"creation_date":1633674659,"post_id":69491424,"comment_id":122827313,"body_markdown":"Use custom deserializer! Here is exactly the same question :-)\nhttps://stackoverflow.com/questions/19158345/custom-json-deserialization-with-jackson","body":"Use custom deserializer! Here is exactly the same question :-) <a href=\"https://stackoverflow.com/questions/19158345/custom-json-deserialization-with-jackson\" title=\"custom json deserialization with jackson\">stackoverflow.com/questions/19158345/&hellip;</a>"},{"owner":{"account_id":6381461,"reputation":3501,"user_id":6524600,"display_name":"Drex"},"score":0,"creation_date":1633676321,"post_id":69491424,"comment_id":122827782,"body_markdown":"Thank you, I know custom deserializer would work, just wondering any convenient way by using the JsonProperty or other magic annotation","body":"Thank you, I know custom deserializer would work, just wondering any convenient way by using the JsonProperty or other magic annotation"}],"owner":{"account_id":6381461,"reputation":3501,"user_id":6524600,"display_name":"Drex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633674427,"creation_date":1633674427,"question_id":69491424,"body_markdown":"I have a json response looks like below\r\n```\r\n{\r\n  “id”: 1,\r\n  “name”: “Karen”,\r\n  “phone”: “Samsung”\r\n}\r\n```\r\nand a Java class like\r\n```\r\npublic class Person {\r\n    public int id;\r\n    public Name name;\r\n    public Phone phone;\r\n}\r\nprivate class Name {\r\n    public String value;\r\n}\r\nprivate class Phone {\r\n    public String brand;\r\n}\r\n```\r\nAs you will see that unlike normal way by defining the `name` and `phone` as String, currently they were defined as a class with only one field, and it is not able to change the structure. Is there any way to use some Json annotation on class level to map the Json value to be its property, something like `@JsonProperty(Name.class, &quot;value&quot;)`? ","title":"JsonProperty on class level that can map to its field?","body":"<p>I have a json response looks like below</p>\n<pre><code>{\n  “id”: 1,\n  “name”: “Karen”,\n  “phone”: “Samsung”\n}\n</code></pre>\n<p>and a Java class like</p>\n<pre><code>public class Person {\n    public int id;\n    public Name name;\n    public Phone phone;\n}\nprivate class Name {\n    public String value;\n}\nprivate class Phone {\n    public String brand;\n}\n</code></pre>\n<p>As you will see that unlike normal way by defining the <code>name</code> and <code>phone</code> as String, currently they were defined as a class with only one field, and it is not able to change the structure. Is there any way to use some Json annotation on class level to map the Json value to be its property, something like <code>@JsonProperty(Name.class, &quot;value&quot;)</code>?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1576249167,"post_id":59324913,"comment_id":104849455,"body_markdown":"https://stackoverflow.com/questions/26424769/javafx8-how-to-create-listener-for-selection-of-row-in-tableview","body":"<a href=\"https://stackoverflow.com/questions/26424769/javafx8-how-to-create-listener-for-selection-of-row-in-tableview\" title=\"javafx8 how to create listener for selection of row in tableview\">stackoverflow.com/questions/26424769/&hellip;</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":3,"creation_date":1576252911,"post_id":59324913,"comment_id":104851321,"body_markdown":"[mcve] please .. at least in your next question :)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. at least in your next question :)"}],"answers":[{"tags":[],"owner":{"account_id":17281920,"reputation":116,"user_id":12515265,"display_name":"danielehmig"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1576249416,"creation_date":1576249416,"answer_id":59325109,"question_id":59324913,"body_markdown":"Try ```choiceBoxExaminer.getSelectionModel().setSelectedItem(aux.getCourse());```\r\n\r\nBut, honestly, you make a good point; you would think that ```setValue()``` would also do the trick.","title":"JavaFX ChoiceBox does not display value through setValue()","body":"<p>Try <code>choiceBoxExaminer.getSelectionModel().setSelectedItem(aux.getCourse());</code></p>\n\n<p>But, honestly, you make a good point; you would think that <code>setValue()</code> would also do the trick.</p>\n"},{"tags":[],"owner":{"account_id":10601465,"reputation":1,"user_id":8043705,"display_name":"Larry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633674329,"creation_date":1633672299,"answer_id":69491069,"question_id":59324913,"body_markdown":"    aux.getCourse() \r\n\r\nMake sure that the return value is exactly the same as an item in the list added to the choiceBox. Only choicebox.setValue() works: \r\n\r\n    String[] fruits = {&quot;apple&quot;, &quot;orange&quot;};\r\n    choiceBox.setItems(FXCollections.observableArrayList(fruits);\r\n    choiceBox.setValue(&quot;grape&quot;);//this won&#39;t work since grape isn&#39;s in the list. \r\n    choiceBox.setValue(&quot;orange&quot;); // choicebox will display the value. \r\n\r\n\r\n","title":"JavaFX ChoiceBox does not display value through setValue()","body":"<pre><code>aux.getCourse() \n</code></pre>\n<p>Make sure that the return value is exactly the same as an item in the list added to the choiceBox. Only choicebox.setValue() works:</p>\n<pre><code>String[] fruits = {&quot;apple&quot;, &quot;orange&quot;};\nchoiceBox.setItems(FXCollections.observableArrayList(fruits);\nchoiceBox.setValue(&quot;grape&quot;);//this won't work since grape isn's in the list. \nchoiceBox.setValue(&quot;orange&quot;); // choicebox will display the value. \n</code></pre>\n"}],"owner":{"account_id":8863520,"reputation":111,"user_id":6619276,"accept_rate":86,"display_name":"Silent_Jager"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":59325109,"answer_count":2,"score":1,"last_activity_date":1633674329,"creation_date":1576248716,"question_id":59324913,"body_markdown":"I have a suspicion that I have stumbled upon a bug in JavaFX. \r\n\r\nI have several `TableViews` that hold information about different objects. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn this example, I have an `Examiner` object with a name and a corresponding `Course` object. \r\n\r\nI have created a function `selectExaminer()` that populates the Examiner name `TextField` and the Course `ChoiceBox` upon clicking on the `Examiner` object from the `TableView` with it&#39;s corresponding values.\r\n\r\nBut as can be seen from the screenshot above, only the `TextField examinerName` is populated, while the `ChoiceBox choiceBoxExaminer` is not. Here is the method: (it is called in the `initialize()` method)\r\n\r\n      public void selectExaminer(){\r\n    examinerTableView.getSelectionModel().setCellSelectionEnabled(true);\r\n    ObservableList selectedCells = examinerTableView.getSelectionModel().getSelectedItems();\r\n\r\n    selectedCells.addListener(new ListChangeListener() {\r\n      @Override\r\n      public void onChanged(Change c) {\r\n        if(selectedCells.size()&gt;0)\r\n        {\r\n          Examiner aux = (Examiner) selectedCells.get(0);\r\n          examinerName.setText(aux.getName());\r\n          choiceBoxExaminer.setValue(aux.getCourse());          //here is the issue\r\n          System.out.println(&quot;Choice box: &quot; + choiceBoxExaminer.getValue());\r\n          System.out.println(&quot;Actual object: &quot; + aux.getCourse());\r\n          lastExaminerSelectedName = examinerName.getText();\r\n        }\r\n      }\r\n    });\r\n\r\nThe `ChoiceBox` dropdown does work but doesn&#39;t display the value set through .setValue()\r\n\r\n[![enter image description here][2]][2]\r\n \r\nWhen printing to the console the value of the `Course` of the actual Examiner and the one from the `TableView`, both show that they are populated.\r\n\r\n          System.out.println(&quot;Choice box: &quot; + choiceBoxExaminer.getValue());\r\n          System.out.println(&quot;Actual object: &quot; + aux.getCourse());\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBut alas... the `ChoiceBox` is still blank.\r\n\r\nThis issue arose after implementing data storage to binary files (this is a college project, no db), although I&#39;m not sure how it influences the particular issue\r\n\r\nThank you\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FT45S.png\r\n  [2]: https://i.stack.imgur.com/ivgrO.png\r\n  [3]: https://i.stack.imgur.com/u9Lz2.png","title":"JavaFX ChoiceBox does not display value through setValue()","body":"<p>I have a suspicion that I have stumbled upon a bug in JavaFX. </p>\n\n<p>I have several <code>TableViews</code> that hold information about different objects. </p>\n\n<p><a href=\"https://i.stack.imgur.com/FT45S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FT45S.png\" alt=\"enter image description here\"></a></p>\n\n<p>In this example, I have an <code>Examiner</code> object with a name and a corresponding <code>Course</code> object. </p>\n\n<p>I have created a function <code>selectExaminer()</code> that populates the Examiner name <code>TextField</code> and the Course <code>ChoiceBox</code> upon clicking on the <code>Examiner</code> object from the <code>TableView</code> with it's corresponding values.</p>\n\n<p>But as can be seen from the screenshot above, only the <code>TextField examinerName</code> is populated, while the <code>ChoiceBox choiceBoxExaminer</code> is not. Here is the method: (it is called in the <code>initialize()</code> method)</p>\n\n<pre><code>  public void selectExaminer(){\nexaminerTableView.getSelectionModel().setCellSelectionEnabled(true);\nObservableList selectedCells = examinerTableView.getSelectionModel().getSelectedItems();\n\nselectedCells.addListener(new ListChangeListener() {\n  @Override\n  public void onChanged(Change c) {\n    if(selectedCells.size()&gt;0)\n    {\n      Examiner aux = (Examiner) selectedCells.get(0);\n      examinerName.setText(aux.getName());\n      choiceBoxExaminer.setValue(aux.getCourse());          //here is the issue\n      System.out.println(\"Choice box: \" + choiceBoxExaminer.getValue());\n      System.out.println(\"Actual object: \" + aux.getCourse());\n      lastExaminerSelectedName = examinerName.getText();\n    }\n  }\n});\n</code></pre>\n\n<p>The <code>ChoiceBox</code> dropdown does work but doesn't display the value set through .setValue()</p>\n\n<p><a href=\"https://i.stack.imgur.com/ivgrO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ivgrO.png\" alt=\"enter image description here\"></a></p>\n\n<p>When printing to the console the value of the <code>Course</code> of the actual Examiner and the one from the <code>TableView</code>, both show that they are populated.</p>\n\n<pre><code>      System.out.println(\"Choice box: \" + choiceBoxExaminer.getValue());\n      System.out.println(\"Actual object: \" + aux.getCourse());\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/u9Lz2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u9Lz2.png\" alt=\"enter image description here\"></a></p>\n\n<p>But alas... the <code>ChoiceBox</code> is still blank.</p>\n\n<p>This issue arose after implementing data storage to binary files (this is a college project, no db), although I'm not sure how it influences the particular issue</p>\n\n<p>Thank you</p>\n"},{"tags":["java","cassandra"],"comments":[{"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"score":1,"creation_date":1633673485,"post_id":69491106,"comment_id":122826959,"body_markdown":"Could you please update your original question and post a minimal sample of your code plus the CQL query you&#39;re executing and any errors you&#39;re getting? Cheers!","body":"Could you please update your original question and post a minimal sample of your code plus the CQL query you&#39;re executing and any errors you&#39;re getting? Cheers!"}],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633673852,"creation_date":1633673852,"answer_id":69491321,"question_id":69491106,"body_markdown":"In the Java driver docs for [Prepared statements][1], there is an example for specifying the timestamp in a `BoundStatement` using the `setQueryTimestamp()` method:\r\n\r\n```\r\nBoundStatement bound =\r\n  ps1\r\n      .boundStatementBuilder()\r\n      .setString(0, &quot;324378&quot;)\r\n      .setString(1, &quot;LCD screen&quot;)\r\n      .setExecutionProfileName(&quot;oltp&quot;)\r\n      .setQueryTimestamp(123456789L)\r\n      .build();\r\n```\r\n\r\nIf you update your original question and provide an extract of your code with an example of your query and errors you&#39;re getting, I&#39;d be happy to look at it. Cheers!\r\n\r\n\r\n  [1]: https://docs.datastax.com/en/developer/java-driver/4.13/manual/core/statements/prepared/","title":"How do I bind a value for a CQL timestamp column using the Cassandra Java driver?","body":"<p>In the Java driver docs for <a href=\"https://docs.datastax.com/en/developer/java-driver/4.13/manual/core/statements/prepared/\" rel=\"nofollow noreferrer\">Prepared statements</a>, there is an example for specifying the timestamp in a <code>BoundStatement</code> using the <code>setQueryTimestamp()</code> method:</p>\n<pre><code>BoundStatement bound =\n  ps1\n      .boundStatementBuilder()\n      .setString(0, &quot;324378&quot;)\n      .setString(1, &quot;LCD screen&quot;)\n      .setExecutionProfileName(&quot;oltp&quot;)\n      .setQueryTimestamp(123456789L)\n      .build();\n</code></pre>\n<p>If you update your original question and provide an extract of your code with an example of your query and errors you're getting, I'd be happy to look at it. Cheers!</p>\n"}],"owner":{"account_id":22976570,"reputation":11,"user_id":17104097,"display_name":"dimpi chakraborty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633673910,"creation_date":1633672508,"question_id":69491106,"body_markdown":"I am unable to bind the Timestamp value in java. I tried typecasting the and use the bind().set(index, new Timestamp(value), Timestamp.class) but it didn&#39;t work. Any other way to achieve this ? \r\n\r\nNote: I am using datastax library for prepared statements. ","title":"How do I bind a value for a CQL timestamp column using the Cassandra Java driver?","body":"<p>I am unable to bind the Timestamp value in java. I tried typecasting the and use the bind().set(index, new Timestamp(value), Timestamp.class) but it didn't work. Any other way to achieve this ?</p>\n<p>Note: I am using datastax library for prepared statements.</p>\n"},{"tags":["java","maven","maven-plugin","clover"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1633674700,"post_id":69489371,"comment_id":122827331,"body_markdown":"Is the clover configuration/plugin in Sonar enabled/installed?","body":"Is the clover configuration/plugin in Sonar enabled/installed?"},{"owner":{"account_id":4872472,"reputation":65,"user_id":3928500,"display_name":"Pallavi Singh"},"score":0,"creation_date":1633684452,"post_id":69489371,"comment_id":122830635,"body_markdown":"Yes all other projects showing. This project only in JDK 11 so we are using Docker. In other projects these above two property added in &quot;Additional Parameters&quot;. But in this project we can&#39;t add. We have to run Maven command only. So I am not sure how I can run or can add either sonar.sh or pom.xml file. If you can help me it would be more helpful . Thank","body":"Yes all other projects showing. This project only in JDK 11 so we are using Docker. In other projects these above two property added in &quot;Additional Parameters&quot;. But in this project we can&#39;t add. We have to run Maven command only. So I am not sure how I can run or can add either sonar.sh or pom.xml file. If you can help me it would be more helpful . Thank"}],"owner":{"account_id":4872472,"reputation":65,"user_id":3928500,"display_name":"Pallavi Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633673666,"creation_date":1633655289,"question_id":69489371,"body_markdown":"Hi all I am using Clover to generate the code covarage report but it is always showing 0% code covarage. In sonar.sh file I run below command \r\n\r\nsonar.sh file below \r\n\r\n    rm -f ${M2_HOME}/conf/settings.xml\r\n    cp /code/settings.xml ${M2_HOME}/conf/settings.xml \r\n    chmod 644 ${M2_HOME}/conf/settings.xml\r\n    #mvn package\r\n    #mvn -Dmaven.wagon.http.ssl.insecure=true -s ./settings.xml -U test -Dclover=true\r\n    mvn -X -Dmaven.wagon.http.ssl.insecure=true -U -s ./settings.xml clean -U package -U test -Dclover=true\r\n    mvn clean verify sonar:sonar -Dsonar.host.url=&lt;sonar URL&gt;\r\n\r\nPom.xml file \r\n\r\n    &lt;properties&gt;\r\n    &lt;clover.version&gt;4.2.1&lt;/clover.version&gt;\r\n    &lt;properties&gt;\r\n\r\n \r\n\r\n    reporting&gt;\r\n    \t\t&lt;excludeDefaults&gt;true&lt;/excludeDefaults&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.openclover&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;clover-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;!--cloverDatabase&gt;${project.build.directory}/target/clover/cloverMerge.db&lt;/cloverDatabase--&gt;\r\n    \t\t\t\t\t\t&lt;generateHtml&gt;false&lt;/generateHtml&gt;\r\n    \t\t\t\t\t\t&lt;generatePdf&gt;false&lt;/generatePdf&gt;\r\n    \t\t\t\t\t\t&lt;generateXml&gt;true&lt;/generateXml&gt;\r\n    \t\t\t\t\t\t&lt;generateHistorical&gt;false&lt;/generateHistorical&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/reporting&gt;\r\n\t\t\r\n\t\t\t\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.openclover&lt;/groupId&gt;\r\n            &lt;artifactId&gt;clover&lt;/artifactId&gt;\r\n            &lt;version&gt;${clover.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n            &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openclover&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;clover-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${clover.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;setTestFailureIgnore&gt;true&lt;/setTestFailureIgnore&gt;\r\n\t\t\t\t\t&lt;includesTestSourceRoots&gt;false&lt;/includesTestSourceRoots&gt;\r\n\t\t\t\t\t&lt;targetPercentage&gt;0%&lt;/targetPercentage&gt;\r\n\t\t\t\t\t&lt;debug&gt;true&lt;/debug&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;setup&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;aggregate&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;clover&lt;/goal&gt;\r\n\t\t\t\t\t\t\t &lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nI did the googled, and found I have to set targat folder path where xml has generated. But I am not sure, where I have to put this url(target/site/clover/clover.xml) \r\n\r\nAlso, I checked below entry do I need to added in setting.xml file \r\n\r\n    &lt;pluginGroups&gt;\r\n        &lt;pluginGroup&gt;org.openclover&lt;/pluginGroup&gt;\r\n    &lt;/pluginGroups&gt;\r\nPlease confirm \r\nCan Some one let me know how can run below parameter through maven \r\n\r\n-U -s settings.xml -Dsonar.dynamicAnalysis=reuseReports\r\n-Dsonar.clover.reportPath=target/site/clover/clover.xml\r\n\r\n\r\nCould you please help me because it ia a blocker to me. ","title":"Maven command for clover issue","body":"<p>Hi all I am using Clover to generate the code covarage report but it is always showing 0% code covarage. In sonar.sh file I run below command</p>\n<p>sonar.sh file below</p>\n<pre><code>rm -f ${M2_HOME}/conf/settings.xml\ncp /code/settings.xml ${M2_HOME}/conf/settings.xml \nchmod 644 ${M2_HOME}/conf/settings.xml\n#mvn package\n#mvn -Dmaven.wagon.http.ssl.insecure=true -s ./settings.xml -U test -Dclover=true\nmvn -X -Dmaven.wagon.http.ssl.insecure=true -U -s ./settings.xml clean -U package -U test -Dclover=true\nmvn clean verify sonar:sonar -Dsonar.host.url=&lt;sonar URL&gt;\n</code></pre>\n<p>Pom.xml file</p>\n<pre><code>&lt;properties&gt;\n&lt;clover.version&gt;4.2.1&lt;/clover.version&gt;\n&lt;properties&gt;\n\n\n\nreporting&gt;\n        &lt;excludeDefaults&gt;true&lt;/excludeDefaults&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.openclover&lt;/groupId&gt;\n                    &lt;artifactId&gt;clover-maven-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;!--cloverDatabase&gt;${project.build.directory}/target/clover/cloverMerge.db&lt;/cloverDatabase--&gt;\n                        &lt;generateHtml&gt;false&lt;/generateHtml&gt;\n                        &lt;generatePdf&gt;false&lt;/generatePdf&gt;\n                        &lt;generateXml&gt;true&lt;/generateXml&gt;\n                        &lt;generateHistorical&gt;false&lt;/generateHistorical&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/reporting&gt;\n    \n        \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openclover&lt;/groupId&gt;\n        &lt;artifactId&gt;clover&lt;/artifactId&gt;\n        &lt;version&gt;${clover.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.openclover&lt;/groupId&gt;\n            &lt;artifactId&gt;clover-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${clover.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;setTestFailureIgnore&gt;true&lt;/setTestFailureIgnore&gt;\n                &lt;includesTestSourceRoots&gt;false&lt;/includesTestSourceRoots&gt;\n                &lt;targetPercentage&gt;0%&lt;/targetPercentage&gt;\n                &lt;debug&gt;true&lt;/debug&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;process-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;setup&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;aggregate&lt;/id&gt;\n                    &lt;phase&gt;test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;clover&lt;/goal&gt;\n                         &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>I did the googled, and found I have to set targat folder path where xml has generated. But I am not sure, where I have to put this url(target/site/clover/clover.xml)</p>\n<p>Also, I checked below entry do I need to added in setting.xml file</p>\n<pre><code>&lt;pluginGroups&gt;\n    &lt;pluginGroup&gt;org.openclover&lt;/pluginGroup&gt;\n&lt;/pluginGroups&gt;\n</code></pre>\n<p>Please confirm\nCan Some one let me know how can run below parameter through maven</p>\n<p>-U -s settings.xml -Dsonar.dynamicAnalysis=reuseReports\n-Dsonar.clover.reportPath=target/site/clover/clover.xml</p>\n<p>Could you please help me because it ia a blocker to me.</p>\n"},{"tags":["java","performance","loops","jpa","heap-memory"],"comments":[{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":0,"creation_date":1406204612,"post_id":24933492,"comment_id":38745232,"body_markdown":"what does getByCodePays and getByCodePostalAndVilleAndINSEE do?  And have you used a profiler yet?","body":"what does getByCodePays and getByCodePostalAndVilleAndINSEE do?  And have you used a profiler yet?"},{"owner":{"account_id":4398357,"reputation":5480,"user_id":3584765,"accept_rate":61,"display_name":"Eypros"},"score":0,"creation_date":1406204683,"post_id":24933492,"comment_id":38745283,"body_markdown":"Have you checked which part is the bottleneck of your implementation? Are you conducting any check that can be affected by the number of database elements?","body":"Have you checked which part is the bottleneck of your implementation? Are you conducting any check that can be affected by the number of database elements?"},{"owner":{"account_id":2212639,"reputation":817,"user_id":1954034,"accept_rate":50,"display_name":"Nikhil Joshi"},"score":0,"creation_date":1406204692,"post_id":24933492,"comment_id":38745292,"body_markdown":"Is there a possibility where you can break big file in to smaller files. And then through executor, read each segment and process?","body":"Is there a possibility where you can break big file in to smaller files. And then through executor, read each segment and process?"},{"owner":{"account_id":1033541,"reputation":4351,"user_id":1041364,"accept_rate":18,"display_name":"Andrew Stubbs"},"score":0,"creation_date":1406204714,"post_id":24933492,"comment_id":38745311,"body_markdown":"I can&#39;t see any reason that loop would slow down over time, it appears that you don&#39;t even create anything new within the loop body. The only thing I can think is that it&#39;s in the body of one of your `getByCode*` methods.","body":"I can&#39;t see any reason that loop would slow down over time, it appears that you don&#39;t even create anything new within the loop body. The only thing I can think is that it&#39;s in the body of one of your <code>getByCode*</code> methods."},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1406204895,"post_id":24933492,"comment_id":38745439,"body_markdown":"this.pc.getByCodePostalAndVilleAndINSEE needs to be inspected, although, if this is just a Bean-style getter, it doesn&#39;t make sense without storing any results. What has been omitted?","body":"this.pc.getByCodePostalAndVilleAndINSEE needs to be inspected, although, if this is just a Bean-style getter, it doesn&#39;t make sense without storing any results. What has been omitted?"},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1406204911,"post_id":24933492,"comment_id":38745450,"body_markdown":"how exactly are persisting the objects in your db? If you are using Hibernate, then you are facing good-ol&#39; session-overflow problem","body":"how exactly are persisting the objects in your db? If you are using Hibernate, then you are facing good-ol&#39; session-overflow problem"},{"owner":{"account_id":2652805,"reputation":472,"user_id":2294082,"accept_rate":60,"display_name":"Adrien Dos Reis"},"score":0,"creation_date":1406204968,"post_id":24933492,"comment_id":38745489,"body_markdown":"@ChrisK `getByCodePostalAndVilleAndINSEE` checks if the postal code and city exists yet in database (in order to create the object if it doesn&#39;t exist, or get it if it does). Both the tables that I am querying are full or near 800.000 elements, so I guess that querying on 800.000 elements or 850.000 elements (assuming that 50.000 lines of the file have already been parsed) is almost the same process speed...\nI have just used JConsole, not any profiler yet. But good idea, I might first try to know if maybe this method could be the bottleneck of the algorithm","body":"@ChrisK <code>getByCodePostalAndVilleAndINSEE</code> checks if the postal code and city exists yet in database (in order to create the object if it doesn&#39;t exist, or get it if it does). Both the tables that I am querying are full or near 800.000 elements, so I guess that querying on 800.000 elements or 850.000 elements (assuming that 50.000 lines of the file have already been parsed) is almost the same process speed... I have just used JConsole, not any profiler yet. But good idea, I might first try to know if maybe this method could be the bottleneck of the algorithm"},{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":0,"creation_date":1406205061,"post_id":24933492,"comment_id":38745565,"body_markdown":"@AdrienDosReis a quick hack to find out if it is the db will be to comment out those calls.  Do you have an index on the table that is being used by the query?  If not, then the db will get slower and slower.","body":"@AdrienDosReis a quick hack to find out if it is the db will be to comment out those calls.  Do you have an index on the table that is being used by the query?  If not, then the db will get slower and slower."},{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":0,"creation_date":1406205409,"post_id":24933492,"comment_id":38745809,"body_markdown":"I have just read the updated code, that is a lot of db calls per line of input.  Is it possible to redesign the approach to have a cache that can be checked for duplication quickly or to use a stored procedure to reduce network round trips?  Lastly what is the transaction demarcation for this work?  If every insert is in the same transaction then it will eventually blow up, if every sql call is in its own transaction then it will run even slower.   Batching inserts will help you too.","body":"I have just read the updated code, that is a lot of db calls per line of input.  Is it possible to redesign the approach to have a cache that can be checked for duplication quickly or to use a stored procedure to reduce network round trips?  Lastly what is the transaction demarcation for this work?  If every insert is in the same transaction then it will eventually blow up, if every sql call is in its own transaction then it will run even slower.   Batching inserts will help you too."},{"owner":{"account_id":2652805,"reputation":472,"user_id":2294082,"accept_rate":60,"display_name":"Adrien Dos Reis"},"score":0,"creation_date":1406205628,"post_id":24933492,"comment_id":38745943,"body_markdown":"@ChrisK The three tables that I&#39;m querying all have the same structure :\nIdTable PRIMARY KEY INDEXED\nData INDEXED \n\nThe last table is an association table regrouping the three primary keys, and got an index on all three columns.\n\nThe transaction strategy is handled by a `UserTransaction` object, a call to `userTransaction.begin()`at the beginning of the loop, and `userTransaction.commit()` or `rollback()` at the end. \nDo you have any ideas how I could redesign (as you said) the approach in order to make the work quicker ?","body":"@ChrisK The three tables that I&#39;m querying all have the same structure : IdTable PRIMARY KEY INDEXED Data INDEXED   The last table is an association table regrouping the three primary keys, and got an index on all three columns.  The transaction strategy is handled by a <code>UserTransaction</code> object, a call to <code>userTransaction.begin()</code>at the beginning of the loop, and <code>userTransaction.commit()</code> or <code>rollback()</code> at the end.  Do you have any ideas how I could redesign (as you said) the approach in order to make the work quicker ?"},{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":0,"creation_date":1406205707,"post_id":24933492,"comment_id":38745999,"body_markdown":"@AdrienDosReis, I need a bit more domain knowledge before I can give a good answer to that.  Specifically who else is writing to the table and just how many entries are you aiming to cater for?","body":"@AdrienDosReis, I need a bit more domain knowledge before I can give a good answer to that.  Specifically who else is writing to the table and just how many entries are you aiming to cater for?"},{"owner":{"account_id":2652805,"reputation":472,"user_id":2294082,"accept_rate":60,"display_name":"Adrien Dos Reis"},"score":0,"creation_date":1406205802,"post_id":24933492,"comment_id":38746064,"body_markdown":"@ChrisK I&#39;m the only one who is writing to the table. I mean, I can try to execute this code on my PC, and it&#39;s the only process that access to my local database, and it&#39;s still slow. I don&#39;t know if that answers your question though.","body":"@ChrisK I&#39;m the only one who is writing to the table. I mean, I can try to execute this code on my PC, and it&#39;s the only process that access to my local database, and it&#39;s still slow. I don&#39;t know if that answers your question though."},{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":1,"creation_date":1406206034,"post_id":24933492,"comment_id":38746225,"body_markdown":"@AdrienDosReis, cool.  In that case you have several options.  Assuming that the DB is not empty when you start. I would batch the inserts and forget about the checks.  With unique constraints in the db then the insert will fail if there is duplication, and you can then catch that error and handle it.  Batching makes that a little tricker, so you may prefer to read in the ids already in the table first so that the check can be done in JVM or to switch to a stored proc to do the inserts.  Another option would be to allow duplicates, you could always delete them later in one go.","body":"@AdrienDosReis, cool.  In that case you have several options.  Assuming that the DB is not empty when you start. I would batch the inserts and forget about the checks.  With unique constraints in the db then the insert will fail if there is duplication, and you can then catch that error and handle it.  Batching makes that a little tricker, so you may prefer to read in the ids already in the table first so that the check can be done in JVM or to switch to a stored proc to do the inserts.  Another option would be to allow duplicates, you could always delete them later in one go."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1406206134,"post_id":24933492,"comment_id":38746295,"body_markdown":"@AdrienDosReis - I suggest you make bulk queries. i.e, Read 5(or more) lines and make a query for those 5 lines in one shot. Don&#39;t write for each line. Try optimizing in the same way for other DB reads / writes. Also, if you need to write the same record multiple times, then check if it can be done only with the final write call..","body":"@AdrienDosReis - I suggest you make bulk queries. i.e, Read 5(or more) lines and make a query for those 5 lines in one shot. Don&#39;t write for each line. Try optimizing in the same way for other DB reads / writes. Also, if you need to write the same record multiple times, then check if it can be done only with the final write call.."},{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":0,"creation_date":1406206371,"post_id":24933492,"comment_id":38746495,"body_markdown":"@AdrienDosReis if you cannot remove the checks entirely and have to go to the database, then I second TheLostMind&#39;s suggestion of batched queries.  If I recall, Hibernate has built in support for them.","body":"@AdrienDosReis if you cannot remove the checks entirely and have to go to the database, then I second TheLostMind&#39;s suggestion of batched queries.  If I recall, Hibernate has built in support for them."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1406206387,"post_id":24933492,"comment_id":38746512,"body_markdown":"@ChrisK - Your `--last` *comment* should be an *answer* :P","body":"@ChrisK - Your <code>--last</code> <i>comment</i> should be an <i>answer</i> :P"},{"owner":{"account_id":2417243,"reputation":11672,"user_id":2111035,"display_name":"Chris K"},"score":1,"creation_date":1406206446,"post_id":24933492,"comment_id":38746559,"body_markdown":"@TheLostMind, lol thank you.  But it lacks detail, and I lack the time right now to flesh it out.  Feel free to run with it.","body":"@TheLostMind, lol thank you.  But it lacks detail, and I lack the time right now to flesh it out.  Feel free to run with it."}],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1406207198,"creation_date":1406206787,"answer_id":24934423,"question_id":24933492,"body_markdown":"You might want to read up on JPA concepts. In brief, an EntityManager is associated with a persistence context, which keeps a reference to all persistent objects manipulated through it, so it can write any changes done to these objects back to the database. \r\n\r\nSince you never close the persistence context, that&#39;s the likely cause of your memory leak. Moreover, a persistence provider must write changes to persistent objects to the database prior to issuing a query, if these changes might alter the result of the query. To detect these changes requires iteration over all objects associated with the current persistent context. In your code, that&#39;s nearly a million objects for every query you issue.\r\n\r\nTherefore, at the very least, you should clear the persistence context in regular intervals (say every 1000 rows).\r\n\r\nIt&#39;s also worth noting that unless your database is on the same server, every query you issue must travel over the network to the database, and the result back to the application server, before your program can continue. Depending on network latency, this can easily take a milli second each time - and you are doing this several million times. If it needs to be truly efficient, loading the entire table into memory, and performing the checks for existence there, might be substantially faster.","title":"Does a loop take longer to execute each time?","body":"<p>You might want to read up on JPA concepts. In brief, an EntityManager is associated with a persistence context, which keeps a reference to all persistent objects manipulated through it, so it can write any changes done to these objects back to the database. </p>\n\n<p>Since you never close the persistence context, that's the likely cause of your memory leak. Moreover, a persistence provider must write changes to persistent objects to the database prior to issuing a query, if these changes might alter the result of the query. To detect these changes requires iteration over all objects associated with the current persistent context. In your code, that's nearly a million objects for every query you issue.</p>\n\n<p>Therefore, at the very least, you should clear the persistence context in regular intervals (say every 1000 rows).</p>\n\n<p>It's also worth noting that unless your database is on the same server, every query you issue must travel over the network to the database, and the result back to the application server, before your program can continue. Depending on network latency, this can easily take a milli second each time - and you are doing this several million times. If it needs to be truly efficient, loading the entire table into memory, and performing the checks for existence there, might be substantially faster.</p>\n"},{"tags":[],"owner":{"account_id":2652805,"reputation":472,"user_id":2294082,"accept_rate":60,"display_name":"Adrien Dos Reis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633673392,"creation_date":1406301097,"answer_id":24958927,"question_id":24933492,"body_markdown":"Problem &quot;solved&quot; (almost)!\r\nI have configured my `persistence.xml` this way:\r\n\r\n```xml\r\n&lt;property name=&quot;eclipselink.jdbc.batch-writing&quot; value=&quot;JDBC&quot;/&gt;\r\n&lt;property name=&quot;eclipselink.jdbc.batch-writing.size&quot; value=&quot;10000&quot;/&gt;\r\n```\r\n\r\nAt first, it didn&#39;t change anything. But then, I tried to cut my file into smaller pieces (when the file has more than 5000 rows, I read the 5000 rows, I store them in a StringBuilder, then I read the StringBuilder to insert 5000 rows at once). \r\n\r\nThis way, my code doesn&#39;t get any slower after 20.000 rows (for now).\r\nIt seems to work fine, but I still can&#39;t get why my code was getting slower when I worked with bigger pieces of file.\r\n\r\nThanks to everyone who tried to help me on this one.","title":"Does a loop take longer to execute each time?","body":"<p>Problem &quot;solved&quot; (almost)!\nI have configured my <code>persistence.xml</code> this way:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;eclipselink.jdbc.batch-writing&quot; value=&quot;JDBC&quot;/&gt;\n&lt;property name=&quot;eclipselink.jdbc.batch-writing.size&quot; value=&quot;10000&quot;/&gt;\n</code></pre>\n<p>At first, it didn't change anything. But then, I tried to cut my file into smaller pieces (when the file has more than 5000 rows, I read the 5000 rows, I store them in a StringBuilder, then I read the StringBuilder to insert 5000 rows at once).</p>\n<p>This way, my code doesn't get any slower after 20.000 rows (for now).\nIt seems to work fine, but I still can't get why my code was getting slower when I worked with bigger pieces of file.</p>\n<p>Thanks to everyone who tried to help me on this one.</p>\n"}],"owner":{"account_id":2652805,"reputation":472,"user_id":2294082,"accept_rate":60,"display_name":"Adrien Dos Reis"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":950,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1633673392,"creation_date":1406204307,"question_id":24933492,"body_markdown":"I&#39;m working on some J2EE project which involves storing postal codes, cities and countries together. We have developed a Java class which handles the integration of every country file (containing each postal code and each city). The problem is that for some countries (Great Britain, Netherlands...), the file is pretty big (400.000 to 800.000 lines).\r\n\r\nI&#39;ve got a `while()` loop which reads the next line, gets the information and stores it into my database. The problem is that for the 1000 or 10.000 first lines, the process is fast, really fast, then seems to be slowing each time it goes through the loop, then happens to throw a `HeapSpaceOverflowException` after 150.000 lines.\r\n\r\nI thought first that some objects weren&#39;t garbage collected and slowed down my algorithm, but I can&#39;t figure out which one. Besides, when I run this algorithm on my PC, JConsole tells me that heap space is regularly cleaned (seems to be garbage collected), but the process is still slower and slower.\r\n\r\nBelow is the code of the method:\r\n\r\n    FileReader fr = new FileReader(nomFichier);\r\n    BufferedReader br = new BufferedReader(fr);\r\n        \r\n    int index = 0; String ligne; String codePostal; String nomVille; \r\n    String codePays; PPays pays; String[] colonnes;\r\n        \r\n    while ((ligne = br.readLine()) != null)\r\n    {\r\n        System.out.println(&quot;line &quot;+ ++index);\r\n            \r\n        colonnes = ligne.split(Pattern.quote(&quot;;&quot;));\r\n            \r\n        codePostal = colonnes[9];\r\n        nomVille   = colonnes[8];\r\n        codePays   = colonnes[0];\r\n            \r\n        pays = this.pc.getByCodePays(codePays);\r\n            \r\n        this.pc.getByCodePostalAndVilleAndINSEE(codePostal, nomVille, pays.getNomPays(), &quot;&quot;);\r\n    }\r\n\r\n\r\nVariable `this.pc` is injected through @Inject annotation.\r\n\r\nCan someone help me to figure out why this code gets slower and slower?\r\n\r\nFor completeness sake, I&#39;ve added the code of the `get...()` method:\r\n\r\n    public Codepostalville getByCodePostalAndVilleAndINSEE(String codePostal, String ville, \r\n                                                           String pays, String codeINSEE) throws DatabaseException\r\n    {\r\n        Codepostal cp = null; Ville v = null; PPays p = null; Codepostalville cpv = null;\r\n        \r\n        try\r\n        {\r\n            // Tout d&#39;abord, il faut retrouver l&#39;objet CodePostal\r\n            cp = (Codepostal) this.em\r\n                            .createNamedQuery(&quot;Codepostal.findByCodePostal&quot;)\r\n                            .setParameter(&quot;codePostal&quot;, codePostal)\r\n                            .getSingleResult();\r\n        }\r\n        catch (NoResultException nre1)\r\n        {\r\n            // Si on ne l&#39;a pas trouv&#233;, on le cr&#233;e\r\n            if (cp == null)\r\n            {\r\n                cp = new Codepostal();\r\n                cp.setCodePostal(codePostal);\r\n                cpc.getFacade().create(cp);\r\n            } \r\n        }\r\n        \r\n        // On retrouve la ville...\r\n        try\r\n        {\r\n            // Le nom de la ville pass&#233; par l&#39;utilisateur doit &#234;tre purg&#233; (enlever\r\n            // les &#233;ventuels tirets, caract&#232;res sp&#233;ciaux...)\r\n            // On cr&#233;e donc un nouvel objet Ville, auquel on affecte le nom &#224; purger\r\n            // On effectue la purge, et on r&#233;cup&#232;re le nom purg&#233;\r\n            Ville purge = new Ville();\r\n            purge.setNomVille(ville);\r\n            purge.purgerNomVille();\r\n            ville = purge.getNomVille();\r\n            \r\n            v = (Ville) this.em\r\n                            .createNamedQuery(&quot;Ville.findByNomVille&quot;)\r\n                            .setParameter(&quot;nomVille&quot;, ville)\r\n                            .getSingleResult();\r\n        }\r\n        catch (NoResultException nre2)\r\n        {\r\n            // ... ou on la cr&#233;e si elle n&#39;existe pas\r\n            if (v == null)\r\n            {\r\n                v = new Ville();\r\n                v.setNomVille(ville);\r\n                vc.getFacade().create(v);\r\n            }\r\n        }\r\n        \r\n        // On retrouve le pays\r\n        try\r\n        {\r\n            p = (PPays) this.em\r\n                            .createNamedQuery(&quot;PPays.findByNomPays&quot;)\r\n                            .setParameter(&quot;nomPays&quot;, pays)\r\n                            .getSingleResult();\r\n        }\r\n        catch (NoResultException nre2)\r\n        {\r\n            // ... ou on la cr&#233;e si elle n&#39;existe pas\r\n            if (p == null)\r\n            {\r\n                p = new PPays();\r\n                p.setNomPays(pays);\r\n                pc.getFacade().create(p);\r\n            }\r\n        }\r\n            \r\n        // Et on retrouve l&#39;objet CodePostalVille\r\n        try\r\n        {\r\n            cpv = (Codepostalville) this.em\r\n                    .createNamedQuery(&quot;Codepostalville.findByIdVilleAndIdCodePostalAndIdPays&quot;)\r\n                    .setParameter(&quot;idVille&quot;, v)\r\n                    .setParameter(&quot;idCodePostal&quot;, cp)\r\n                    .setParameter(&quot;idPays&quot;, p)\r\n                    .getSingleResult();\r\n            \r\n            // Si on a trouv&#233; l&#39;objet CodePostalVille, on met &#224; jour son code INSEE\r\n            cpv.setCodeINSEE(codeINSEE);\r\n            this.getFacade().edit(cpv);\r\n        }\r\n        catch (NoResultException nre3)\r\n        {         \r\n            if (cpv == null)\r\n            {\r\n                cpv = new Codepostalville();\r\n                cpv.setIdCodePostal(cp);\r\n                cpv.setIdVille(v);\r\n                cpv.setCodeINSEE(codeINSEE);\r\n                cpv.setIdPays(p);\r\n                this.getFacade().create(cpv);\r\n            }\r\n        }\r\n        \r\n        return cpv;\r\n    }\r\n\r\nSo, I have some more information. The `getCodePostal...()` method needs around 15ms to be executed at the very beginning of the loop, and after 10.000 lines, it needs more than 100ms to be executed (almost 10 times more!).\r\nIn this new version I have disabled the commit/rollback code, so each query is committed on the fly.\r\n\r\nI can&#39;t really find why it needs more and more time.\r\n\r\nI&#39;ve tried to search for some information about JPA&#39;s cache : \r\nMy current configuration is this (in persistence.xml) :\r\n\r\n```xml\r\n&lt;property name=&quot;eclipselink.jdbc.bind-parameters&quot; value=&quot;true&quot;/&gt;\r\n&lt;property name=&quot;eclipselink.jdbc.cache-statements&quot; value=&quot;true&quot;/&gt;\r\n&lt;property name=&quot;eclipselink.cache.size.default&quot; value=&quot;10000&quot;/&gt;\r\n&lt;property name=&quot;eclipselink.query-results-cache&quot; value=&quot;true&quot;/&gt;\r\n```\r\n\r\nI don&#39;t know if it is the most efficient configuration, and I would appreciate some help and some explanations about JPA&#39;s cache.\r\n","title":"Does a loop take longer to execute each time?","body":"<p>I'm working on some J2EE project which involves storing postal codes, cities and countries together. We have developed a Java class which handles the integration of every country file (containing each postal code and each city). The problem is that for some countries (Great Britain, Netherlands...), the file is pretty big (400.000 to 800.000 lines).</p>\n<p>I've got a <code>while()</code> loop which reads the next line, gets the information and stores it into my database. The problem is that for the 1000 or 10.000 first lines, the process is fast, really fast, then seems to be slowing each time it goes through the loop, then happens to throw a <code>HeapSpaceOverflowException</code> after 150.000 lines.</p>\n<p>I thought first that some objects weren't garbage collected and slowed down my algorithm, but I can't figure out which one. Besides, when I run this algorithm on my PC, JConsole tells me that heap space is regularly cleaned (seems to be garbage collected), but the process is still slower and slower.</p>\n<p>Below is the code of the method:</p>\n<pre><code>FileReader fr = new FileReader(nomFichier);\nBufferedReader br = new BufferedReader(fr);\n    \nint index = 0; String ligne; String codePostal; String nomVille; \nString codePays; PPays pays; String[] colonnes;\n    \nwhile ((ligne = br.readLine()) != null)\n{\n    System.out.println(&quot;line &quot;+ ++index);\n        \n    colonnes = ligne.split(Pattern.quote(&quot;;&quot;));\n        \n    codePostal = colonnes[9];\n    nomVille   = colonnes[8];\n    codePays   = colonnes[0];\n        \n    pays = this.pc.getByCodePays(codePays);\n        \n    this.pc.getByCodePostalAndVilleAndINSEE(codePostal, nomVille, pays.getNomPays(), &quot;&quot;);\n}\n</code></pre>\n<p>Variable <code>this.pc</code> is injected through @Inject annotation.</p>\n<p>Can someone help me to figure out why this code gets slower and slower?</p>\n<p>For completeness sake, I've added the code of the <code>get...()</code> method:</p>\n<pre><code>public Codepostalville getByCodePostalAndVilleAndINSEE(String codePostal, String ville, \n                                                       String pays, String codeINSEE) throws DatabaseException\n{\n    Codepostal cp = null; Ville v = null; PPays p = null; Codepostalville cpv = null;\n    \n    try\n    {\n        // Tout d'abord, il faut retrouver l'objet CodePostal\n        cp = (Codepostal) this.em\n                        .createNamedQuery(&quot;Codepostal.findByCodePostal&quot;)\n                        .setParameter(&quot;codePostal&quot;, codePostal)\n                        .getSingleResult();\n    }\n    catch (NoResultException nre1)\n    {\n        // Si on ne l'a pas trouvé, on le crée\n        if (cp == null)\n        {\n            cp = new Codepostal();\n            cp.setCodePostal(codePostal);\n            cpc.getFacade().create(cp);\n        } \n    }\n    \n    // On retrouve la ville...\n    try\n    {\n        // Le nom de la ville passé par l'utilisateur doit être purgé (enlever\n        // les éventuels tirets, caractères spéciaux...)\n        // On crée donc un nouvel objet Ville, auquel on affecte le nom à purger\n        // On effectue la purge, et on récupère le nom purgé\n        Ville purge = new Ville();\n        purge.setNomVille(ville);\n        purge.purgerNomVille();\n        ville = purge.getNomVille();\n        \n        v = (Ville) this.em\n                        .createNamedQuery(&quot;Ville.findByNomVille&quot;)\n                        .setParameter(&quot;nomVille&quot;, ville)\n                        .getSingleResult();\n    }\n    catch (NoResultException nre2)\n    {\n        // ... ou on la crée si elle n'existe pas\n        if (v == null)\n        {\n            v = new Ville();\n            v.setNomVille(ville);\n            vc.getFacade().create(v);\n        }\n    }\n    \n    // On retrouve le pays\n    try\n    {\n        p = (PPays) this.em\n                        .createNamedQuery(&quot;PPays.findByNomPays&quot;)\n                        .setParameter(&quot;nomPays&quot;, pays)\n                        .getSingleResult();\n    }\n    catch (NoResultException nre2)\n    {\n        // ... ou on la crée si elle n'existe pas\n        if (p == null)\n        {\n            p = new PPays();\n            p.setNomPays(pays);\n            pc.getFacade().create(p);\n        }\n    }\n        \n    // Et on retrouve l'objet CodePostalVille\n    try\n    {\n        cpv = (Codepostalville) this.em\n                .createNamedQuery(&quot;Codepostalville.findByIdVilleAndIdCodePostalAndIdPays&quot;)\n                .setParameter(&quot;idVille&quot;, v)\n                .setParameter(&quot;idCodePostal&quot;, cp)\n                .setParameter(&quot;idPays&quot;, p)\n                .getSingleResult();\n        \n        // Si on a trouvé l'objet CodePostalVille, on met à jour son code INSEE\n        cpv.setCodeINSEE(codeINSEE);\n        this.getFacade().edit(cpv);\n    }\n    catch (NoResultException nre3)\n    {         \n        if (cpv == null)\n        {\n            cpv = new Codepostalville();\n            cpv.setIdCodePostal(cp);\n            cpv.setIdVille(v);\n            cpv.setCodeINSEE(codeINSEE);\n            cpv.setIdPays(p);\n            this.getFacade().create(cpv);\n        }\n    }\n    \n    return cpv;\n}\n</code></pre>\n<p>So, I have some more information. The <code>getCodePostal...()</code> method needs around 15ms to be executed at the very beginning of the loop, and after 10.000 lines, it needs more than 100ms to be executed (almost 10 times more!).\nIn this new version I have disabled the commit/rollback code, so each query is committed on the fly.</p>\n<p>I can't really find why it needs more and more time.</p>\n<p>I've tried to search for some information about JPA's cache :\nMy current configuration is this (in persistence.xml) :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;eclipselink.jdbc.bind-parameters&quot; value=&quot;true&quot;/&gt;\n&lt;property name=&quot;eclipselink.jdbc.cache-statements&quot; value=&quot;true&quot;/&gt;\n&lt;property name=&quot;eclipselink.cache.size.default&quot; value=&quot;10000&quot;/&gt;\n&lt;property name=&quot;eclipselink.query-results-cache&quot; value=&quot;true&quot;/&gt;\n</code></pre>\n<p>I don't know if it is the most efficient configuration, and I would appreciate some help and some explanations about JPA's cache.</p>\n"},{"tags":["java","algorithm","performance","heap-memory","puzzle"],"answers":[{"tags":[],"owner":{"display_name":"user227667"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1396552250,"creation_date":1260877021,"answer_id":1906861,"question_id":1906676,"body_markdown":"Your algorithm lacks a heuristic.  In other words, it&#39;s exploring the search space with no guidance.  For the 15-puzzle, that space is quite large, close to 3**(depth of the solution).\r\n\r\nIf you order your queue by the sum of the Manhattan distance of each tile from its destination, it might be sufficient to make it solvable.  At each step, expand the item on the agenda with the least &quot;error&quot;.\r\n\r\nAlso, are you sure the start state you&#39;ve chosen is solvable?  If you randomly order the tiles, you only have  a 50-50 chance.\r\n\r\nFinally, you might switch from `Integer` to `byte` to save memory.  How much depends on the java implementation, but since Integer is a class and byte a primitive type, it could be significant.\r\n\r\n*Updated*\r\n","title":"Running out of java heap space- 15 puzzle problem","body":"<p>Your algorithm lacks a heuristic.  In other words, it's exploring the search space with no guidance.  For the 15-puzzle, that space is quite large, close to 3**(depth of the solution).</p>\n\n<p>If you order your queue by the sum of the Manhattan distance of each tile from its destination, it might be sufficient to make it solvable.  At each step, expand the item on the agenda with the least \"error\".</p>\n\n<p>Also, are you sure the start state you've chosen is solvable?  If you randomly order the tiles, you only have  a 50-50 chance.</p>\n\n<p>Finally, you might switch from <code>Integer</code> to <code>byte</code> to save memory.  How much depends on the java implementation, but since Integer is a class and byte a primitive type, it could be significant.</p>\n\n<p><em>Updated</em></p>\n"}],"owner":{"account_id":876600,"reputation":1197,"user_id":145179,"display_name":"paulbullard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2447,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":1906861,"answer_count":1,"score":0,"last_activity_date":1633673106,"creation_date":1260874871,"question_id":1906676,"body_markdown":"G&#39;day all,\r\n\tI tried the solution for eight puzzle problem posted [here][1] \r\nby joel Neely and played around with it and modified it so that can be used to solve for higher grids[Changed the String representation of the grid to two dimensional integer representation and modified\r\nthe logic accordingly]. However the modified code can solve the 3x3 grids but quickly run out of heap space for 4x4 grid. I guess this is the restriction caused by the algorithm used which i think is some \r\nvariation of branch and bound and not that of java. If my assumptions are right, can someone suggest any other good algorithms for solving this problem?. If not, please hint what can be done to make this program\r\nwork for higher order grids.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.LinkedList;\r\n    import java.util.Map;\r\n    import java.util.Queue;\r\n    \r\n    class EightPuzzle {\r\n    \r\n        //Queue&lt;Integer[][]&gt; agenda = new LinkedList&lt;Integer[][]&gt;();    // Use of Queue Implemented using LinkedList for Storing All the Nodes in BFS.\r\n        //Map&lt;Integer[][],Integer&gt; stateDepth = new HashMap&lt;Integer[][], Integer&gt;(); // HashMap is used to ignore repeated nodes\r\n        //Map&lt;Integer[][],Integer[][]&gt; stateHistory = new HashMap&lt;Integer[][],Integer[][]&gt;(); // relates each position to its predecessor\r\n        Map&lt;String,String&gt; stateHistory = new HashMap&lt;String,String&gt;(); // relates each position to its predecessor\r\n        Map&lt;String,Integer&gt; stateDepth = new HashMap&lt;String,Integer&gt;();\r\n        Queue&lt;Integer[][]&gt; agenda=new LinkedList&lt;Integer[][]&gt;();\r\n        final int GRIDSIZE=4;\r\n        int row=0,col=0;\r\n        public static void main(String args[]){\r\n    \r\n           // Integer[][] str=&quot;087465132&quot;;                                 // Input the Board State as a Integer[][] with 0 as the Blank Space\r\n            Integer init[][]={{1,3,12,4},{2,9,10,7},{0,14,8,15},{5,6,13,11}};\r\n            //Integer init[][]={{0,8,7},{4,6,5},{1,3,2}};\r\n            EightPuzzle e = new EightPuzzle();              // New Instance of the EightPuzzle\r\n            \r\n            e.add(init,null);                                                   // Add the Initial State\r\n    \r\n            while(!e.agenda.isEmpty()){\r\n                Integer[][] currentState = e.agenda.remove();\r\n                e.up(currentState);                                       // Move the blank space up and add new state to queue\r\n                e.down(currentState);                                     // Move the blank space down\r\n                e.left(currentState);                                     // Move left\r\n                e.right(currentState);                          // Move right and remove the current node from Queue\r\n            }\r\n    \r\n            System.out.println(&quot;Solution doesn&#39;t exist&quot;);\r\n        }\r\n    \r\n        //Add method to add the new Integer[][] to the Map and Queue\r\n        void add(Integer newState[][], Integer oldState[][]){\r\n            if(!stateDepth.containsKey(convertToString(newState))){\r\n            \tint newValue = oldState == null ? 0 : stateDepth.get(convertToString(oldState)) + 1;\r\n                stateDepth.put(convertToString(newState), newValue);\r\n                agenda.add(newState);\r\n                stateHistory.put(convertToString(newState), convertToString(oldState));\r\n            }\r\n        }\r\n    \r\n        /* Each of the Methods below Takes the Current State of Board as Integer[][]. Then the operation to move the blank space is done if possible.\r\n          After that the new Integer[][] is added to the map and queue.If it is the Goal State then the Program Terminates.\r\n         */\r\n        void up(Integer[][] currentState){\r\n            Integer[][] nextState=new Integer[GRIDSIZE][GRIDSIZE];\r\n        \tgetIndicesOfZero(currentState, nextState);\r\n        \tif(row!=0){\r\n                nextState[row-1][col]=currentState[row][col];\r\n                nextState[row][col]=currentState[row-1][col];\r\n                checkCompletion(currentState, nextState);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * @param currentState\r\n         */\r\n        /**\r\n         * @param currentState\r\n         */\r\n        void down(Integer[][] currentState){\r\n        \tInteger[][] nextState=new Integer[GRIDSIZE][GRIDSIZE];\r\n        \tgetIndicesOfZero(currentState, nextState);\r\n        \tif(row!=GRIDSIZE-1){\r\n            \tnextState[row+1][col]=currentState[row][col];\r\n                nextState[row][col]=currentState[row+1][col];  \r\n                checkCompletion(currentState, nextState);\r\n            }\r\n        }\r\n        void left(Integer[][] currentState){\r\n        \tInteger[][] nextState=new Integer[GRIDSIZE][GRIDSIZE];\r\n        \tgetIndicesOfZero(currentState, nextState);\r\n        \tif(col!=0){\r\n            \tnextState[row][col-1]=currentState[row][col];\r\n                nextState[row][col]=currentState[row][col-1];\r\n                checkCompletion(currentState, nextState);\r\n            }\r\n        }\r\n        void right(Integer[][] currentState){\r\n        \tInteger[][] nextState=new Integer[GRIDSIZE][GRIDSIZE];\r\n        \tgetIndicesOfZero(currentState, nextState);\r\n            if(col!=GRIDSIZE-1){\r\n                nextState[row][col+1]=currentState[row][col];\r\n                nextState[row][col]=currentState[row][col+1];\r\n                checkCompletion(currentState, nextState);\r\n            }\r\n        }\r\n    \r\n        private void checkCompletion(Integer[][] oldState, Integer[][] newState) {\r\n            add(newState, oldState);\r\n            Integer[][] completeState={{1,2,3,4},{5,6,7,8},{9,10,11,12},{13,14,15,0}};\r\n            //Integer[][] completeState={{1,2,3},{4,5,6},{7,8,0}};\r\n            boolean equality=true;\r\n            outer:for(int i=0;i&lt;GRIDSIZE;i++){\r\n            \tfor(int j=0;j&lt;GRIDSIZE;j++){\r\n            \t\tif(newState[i][j]!=completeState[i][j]){\r\n            \t\t\tequality=false;\r\n            \t\t\tbreak outer;\r\n            \t\t}\r\n            \t}\r\n        \t}\r\n            \r\n            if(equality){\r\n               \tSystem.out.println(&quot;Solution Exists at Level &quot;+stateDepth.get(convertToString(newState))+&quot; of the tree&quot;);\r\n            \tString traceState = convertToString(newState);\r\n                while (traceState != null) {   \r\n                \tSystem.out.println(traceState + &quot; at &quot; + stateDepth.get(traceState));\r\n                    traceState = stateHistory.get(traceState);\r\n                }\r\n            \tSystem.exit(0);\r\n            \t\r\n            }\r\n        }\r\n        String convertToString(Integer[][] a){\r\n        \tString str=&quot;&quot;;\r\n        \tif(a!=null){\r\n        \t\tfor(int i=0;i&lt;GRIDSIZE;i++){\r\n        \t\t\tfor(int j=0;j&lt;GRIDSIZE;j++){\r\n        \t\t\t\tstr+=a[i][j];\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        \telse{\r\n        \t\tstr=null;\r\n        \t}\r\n    \t\treturn str;\r\n    \t}\r\n        void getIndicesOfZero(Integer[][] currentState,Integer[][] nextState){\r\n        \tfor(int i=0;i&lt;GRIDSIZE;i++){\r\n            \tfor(int j=0;j&lt;GRIDSIZE;j++){\r\n            \t\tnextState[i][j]=currentState[i][j];\r\n            \t}\r\n        \t}\r\n        \touter:for(int i=0;i&lt;GRIDSIZE;i++){\r\n            \tfor(int j=0;j&lt;GRIDSIZE;j++){\r\n            \t\tif(currentState[i][j]==0){\r\n            \t\t\trow=i;\r\n            \t\t\tcol=j;\r\n            \t\t\tbreak outer;\r\n            \t\t}\r\n            \t}\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\nThanks in advance,\r\npaul.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1884624/modifying-this-8-puzzle-code-to-print-the-intermediate-states-to-reach-the-soluti\r\n","title":"Running out of java heap space- 15 puzzle problem","body":"<p>G'day all,\n    I tried the solution for eight puzzle problem posted <a href=\"https://stackoverflow.com/questions/1884624/modifying-this-8-puzzle-code-to-print-the-intermediate-states-to-reach-the-soluti\">here</a> \nby joel Neely and played around with it and modified it so that can be used to solve for higher grids[Changed the String representation of the grid to two dimensional integer representation and modified\nthe logic accordingly]. However the modified code can solve the 3x3 grids but quickly run out of heap space for 4x4 grid. I guess this is the restriction caused by the algorithm used which i think is some \nvariation of branch and bound and not that of java. If my assumptions are right, can someone suggest any other good algorithms for solving this problem?. If not, please hint what can be done to make this program\nwork for higher order grids.</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.LinkedList;\nimport java.util.Map;\nimport java.util.Queue;\n\nclass EightPuzzle {\n\n    //Queue&lt;Integer[][]&gt; agenda = new LinkedList&lt;Integer[][]&gt;();    // Use of Queue Implemented using LinkedList for Storing All the Nodes in BFS.\n    //Map&lt;Integer[][],Integer&gt; stateDepth = new HashMap&lt;Integer[][], Integer&gt;(); // HashMap is used to ignore repeated nodes\n    //Map&lt;Integer[][],Integer[][]&gt; stateHistory = new HashMap&lt;Integer[][],Integer[][]&gt;(); // relates each position to its predecessor\n    Map&lt;String,String&gt; stateHistory = new HashMap&lt;String,String&gt;(); // relates each position to its predecessor\n    Map&lt;String,Integer&gt; stateDepth = new HashMap&lt;String,Integer&gt;();\n    Queue&lt;Integer[][]&gt; agenda=new LinkedList&lt;Integer[][]&gt;();\n    final int GRIDSIZE=4;\n    int row=0,col=0;\n    public static void main(String args[]){\n\n       // Integer[][] str=\"087465132\";                                 // Input the Board State as a Integer[][] with 0 as the Blank Space\n        Integer init[][]={{1,3,12,4},{2,9,10,7},{0,14,8,15},{5,6,13,11}};\n        //Integer init[][]={{0,8,7},{4,6,5},{1,3,2}};\n        EightPuzzle e = new EightPuzzle();              // New Instance of the EightPuzzle\n\n        e.add(init,null);                                                   // Add the Initial State\n\n        while(!e.agenda.isEmpty()){\n            Integer[][] currentState = e.agenda.remove();\n            e.up(currentState);                                       // Move the blank space up and add new state to queue\n            e.down(currentState);                                     // Move the blank space down\n            e.left(currentState);                                     // Move left\n            e.right(currentState);                          // Move right and remove the current node from Queue\n        }\n\n        System.out.println(\"Solution doesn't exist\");\n    }\n\n    //Add method to add the new Integer[][] to the Map and Queue\n    void add(Integer newState[][], Integer oldState[][]){\n        if(!stateDepth.containsKey(convertToString(newState))){\n            int newValue = oldState == null ? 0 : stateDepth.get(convertToString(oldState)) + 1;\n            stateDepth.put(convertToString(newState), newValue);\n            agenda.add(newState);\n            stateHistory.put(convertToString(newState), convertToString(oldState));\n        }\n    }\n\n    /* Each of the Methods below Takes the Current State of Board as Integer[][]. Then the operation to move the blank space is done if possible.\n      After that the new Integer[][] is added to the map and queue.If it is the Goal State then the Program Terminates.\n     */\n    void up(Integer[][] currentState){\n        Integer[][] nextState=new Integer[GRIDSIZE][GRIDSIZE];\n        getIndicesOfZero(currentState, nextState);\n        if(row!=0){\n            nextState[row-1][col]=currentState[row][col];\n            nextState[row][col]=currentState[row-1][col];\n            checkCompletion(currentState, nextState);\n        }\n    }\n\n    /**\n     * @param currentState\n     */\n    /**\n     * @param currentState\n     */\n    void down(Integer[][] currentState){\n        Integer[][] nextState=new Integer[GRIDSIZE][GRIDSIZE];\n        getIndicesOfZero(currentState, nextState);\n        if(row!=GRIDSIZE-1){\n            nextState[row+1][col]=currentState[row][col];\n            nextState[row][col]=currentState[row+1][col];  \n            checkCompletion(currentState, nextState);\n        }\n    }\n    void left(Integer[][] currentState){\n        Integer[][] nextState=new Integer[GRIDSIZE][GRIDSIZE];\n        getIndicesOfZero(currentState, nextState);\n        if(col!=0){\n            nextState[row][col-1]=currentState[row][col];\n            nextState[row][col]=currentState[row][col-1];\n            checkCompletion(currentState, nextState);\n        }\n    }\n    void right(Integer[][] currentState){\n        Integer[][] nextState=new Integer[GRIDSIZE][GRIDSIZE];\n        getIndicesOfZero(currentState, nextState);\n        if(col!=GRIDSIZE-1){\n            nextState[row][col+1]=currentState[row][col];\n            nextState[row][col]=currentState[row][col+1];\n            checkCompletion(currentState, nextState);\n        }\n    }\n\n    private void checkCompletion(Integer[][] oldState, Integer[][] newState) {\n        add(newState, oldState);\n        Integer[][] completeState={{1,2,3,4},{5,6,7,8},{9,10,11,12},{13,14,15,0}};\n        //Integer[][] completeState={{1,2,3},{4,5,6},{7,8,0}};\n        boolean equality=true;\n        outer:for(int i=0;i&lt;GRIDSIZE;i++){\n            for(int j=0;j&lt;GRIDSIZE;j++){\n                if(newState[i][j]!=completeState[i][j]){\n                    equality=false;\n                    break outer;\n                }\n            }\n        }\n\n        if(equality){\n            System.out.println(\"Solution Exists at Level \"+stateDepth.get(convertToString(newState))+\" of the tree\");\n            String traceState = convertToString(newState);\n            while (traceState != null) {   \n                System.out.println(traceState + \" at \" + stateDepth.get(traceState));\n                traceState = stateHistory.get(traceState);\n            }\n            System.exit(0);\n\n        }\n    }\n    String convertToString(Integer[][] a){\n        String str=\"\";\n        if(a!=null){\n            for(int i=0;i&lt;GRIDSIZE;i++){\n                for(int j=0;j&lt;GRIDSIZE;j++){\n                    str+=a[i][j];\n                }\n            }\n        }\n        else{\n            str=null;\n        }\n        return str;\n    }\n    void getIndicesOfZero(Integer[][] currentState,Integer[][] nextState){\n        for(int i=0;i&lt;GRIDSIZE;i++){\n            for(int j=0;j&lt;GRIDSIZE;j++){\n                nextState[i][j]=currentState[i][j];\n            }\n        }\n        outer:for(int i=0;i&lt;GRIDSIZE;i++){\n            for(int j=0;j&lt;GRIDSIZE;j++){\n                if(currentState[i][j]==0){\n                    row=i;\n                    col=j;\n                    break outer;\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>Thanks in advance,\npaul.</p>\n"},{"tags":["java","c#","performance","heap-memory"],"comments":[{"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"score":0,"creation_date":1334049073,"post_id":10085836,"comment_id":12915400,"body_markdown":"How do you know there is no way to further optimise the locking?","body":"How do you know there is no way to further optimise the locking?"},{"owner":{"account_id":1118715,"reputation":16296,"user_id":1107474,"accept_rate":69,"display_name":"intrigued_66"},"score":0,"creation_date":1334049796,"post_id":10085836,"comment_id":12915644,"body_markdown":"@Henk, 4x Physical CPUs of 8 logical cores (4x Xeon x7550)","body":"@Henk, 4x Physical CPUs of 8 logical cores (4x Xeon x7550)"},{"owner":{"account_id":1118715,"reputation":16296,"user_id":1107474,"accept_rate":69,"display_name":"intrigued_66"},"score":0,"creation_date":1334049836,"post_id":10085836,"comment_id":12915660,"body_markdown":"@DNA, I have been told there is no way the software can be optimised and if it could, it is too far past the point of no return, hence hardware options need to be considered.","body":"@DNA, I have been told there is no way the software can be optimised and if it could, it is too far past the point of no return, hence hardware options need to be considered."},{"owner":{"account_id":22580,"reputation":264466,"user_id":55847,"display_name":"LukeH"},"score":0,"creation_date":1334050225,"post_id":10085836,"comment_id":12915778,"body_markdown":"I&#39;m afraid we&#39;re not really in a position to answer this: we don&#39;t know your application&#39;s characteristics; we don&#39;t have access to your hardware. The best option is probably for *you* to profile *your* application on *your* hardware and see where the bottlenecks are.","body":"I&#39;m afraid we&#39;re not really in a position to answer this: we don&#39;t know your application&#39;s characteristics; we don&#39;t have access to your hardware. The best option is probably for <i>you</i> to profile <i>your</i> application on <i>your</i> hardware and see where the bottlenecks are."},{"owner":{"account_id":1118715,"reputation":16296,"user_id":1107474,"accept_rate":69,"display_name":"intrigued_66"},"score":0,"creation_date":1334050236,"post_id":10085836,"comment_id":12915784,"body_markdown":"Hi LukeH, I didn&#39;t say there is not enough memory. There is a delay due to threading and it appears the memory bus is being maxed out. Was asking for advice relating to memory bus specifications which could help solve this.","body":"Hi LukeH, I didn&#39;t say there is not enough memory. There is a delay due to threading and it appears the memory bus is being maxed out. Was asking for advice relating to memory bus specifications which could help solve this."},{"owner":{"account_id":22580,"reputation":264466,"user_id":55847,"display_name":"LukeH"},"score":0,"creation_date":1334050393,"post_id":10085836,"comment_id":12915848,"body_markdown":"@user1107474: Yep, sorry, I just removed that part of my comment. The general principle still applies though -- we can&#39;t tell what-and-where your app&#39;s performance bottlenecks are; a profiler can.","body":"@user1107474: Yep, sorry, I just removed that part of my comment. The general principle still applies though -- we can&#39;t tell what-and-where your app&#39;s performance bottlenecks are; a profiler can."},{"owner":{"account_id":1118715,"reputation":16296,"user_id":1107474,"accept_rate":69,"display_name":"intrigued_66"},"score":0,"creation_date":1334050650,"post_id":10085836,"comment_id":12915932,"body_markdown":"@Luke, The profiling has been done by somebody else and the conclusion was that thread-locking was causing the delay and we cannot re-write this. I have just been tasked to research what hardware upgrades could possibly help. I appreciate I am kinda asking for a free lunch, but I dont have the freedom to change the code and they wont consider it :)","body":"@Luke, The profiling has been done by somebody else and the conclusion was that thread-locking was causing the delay and we cannot re-write this. I have just been tasked to research what hardware upgrades could possibly help. I appreciate I am kinda asking for a free lunch, but I dont have the freedom to change the code and they wont consider it :)"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1334051359,"creation_date":1334051359,"answer_id":10086481,"question_id":10085836,"body_markdown":"I would test the application on a faster machine. From the sounds of it, your memory bandwidth is the bottle neck, so I would try a 4.5 GHz over clocked i7 with 32 GB of 1600 MHz memory or similar. You can buy one for about $1000. You may find that with a much faster system your bottle neck moves.\r\n\r\nBTW: I doubt that object creation in C# is avoidable, though it might be not achieveable as it sounds like to have limited time to fix this. In Java, I have written a number of high performance servers which GCes less than once per day, but you have to write all the core code with objective. Similarly you can write a service which does not lock in critical sections of code, but its not trival to just add this later.","title":"Heap allocation and suitable hardware","body":"<p>I would test the application on a faster machine. From the sounds of it, your memory bandwidth is the bottle neck, so I would try a 4.5 GHz over clocked i7 with 32 GB of 1600 MHz memory or similar. You can buy one for about $1000. You may find that with a much faster system your bottle neck moves.</p>\n\n<p>BTW: I doubt that object creation in C# is avoidable, though it might be not achieveable as it sounds like to have limited time to fix this. In Java, I have written a number of high performance servers which GCes less than once per day, but you have to write all the core code with objective. Similarly you can write a service which does not lock in critical sections of code, but its not trival to just add this later.</p>\n"}],"owner":{"account_id":1118715,"reputation":16296,"user_id":1107474,"accept_rate":69,"display_name":"intrigued_66"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10086481,"answer_count":1,"score":1,"last_activity_date":1633673067,"creation_date":1334048562,"question_id":10085836,"body_markdown":"For a C# .net 3.5 application which unavoidably creates a lot of data on the heap, in terms of hardware what would I be looking for in terms of memory? Would it just be the largest socket bus width? Or the &quot;bandwidth&quot; of the memory sticks? Or the actual frequency they run at?\r\n\r\nWe have concluded the bottleneck of our application cannot be avoided and when scaling up, spreading the work over multiple threads we seem to be getting &quot;collisions&quot; due to many threads accessing the RAM.\r\n\r\nThe actual problem refers to locking on items and having many threads trying to access these items. There is no way to further optimise the threading locking. As this relates to  threading I wasn&#39;t sure whether I should also investigate alternative CPU choices and also closely look at the QPI statistics? We are currently using the Westmere architecture but a slow clock speed of 2GHz.\r\n\r\nEDIT: Has been suggested DMA is what could help us.\r\n\r\nI&#39;m going to tag this as C# and Java, because I believe the answer will not be C#-specific.\r\n\r\nThanks in advance,","title":"Heap allocation and suitable hardware","body":"<p>For a C# .net 3.5 application which unavoidably creates a lot of data on the heap, in terms of hardware what would I be looking for in terms of memory? Would it just be the largest socket bus width? Or the \"bandwidth\" of the memory sticks? Or the actual frequency they run at?</p>\n\n<p>We have concluded the bottleneck of our application cannot be avoided and when scaling up, spreading the work over multiple threads we seem to be getting \"collisions\" due to many threads accessing the RAM.</p>\n\n<p>The actual problem refers to locking on items and having many threads trying to access these items. There is no way to further optimise the threading locking. As this relates to  threading I wasn't sure whether I should also investigate alternative CPU choices and also closely look at the QPI statistics? We are currently using the Westmere architecture but a slow clock speed of 2GHz.</p>\n\n<p>EDIT: Has been suggested DMA is what could help us.</p>\n\n<p>I'm going to tag this as C# and Java, because I believe the answer will not be C#-specific.</p>\n\n<p>Thanks in advance,</p>\n"},{"tags":["java","android","performance","for-loop","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":388024,"reputation":13478,"user_id":746710,"accept_rate":88,"display_name":"ngesh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1334225263,"creation_date":1334225263,"answer_id":10121492,"question_id":10121455,"body_markdown":"It may be because too many Objects of type Double being created.. thus it increase heap size and device starts freezing..\r\n\r\nA way around is\r\n\r\n    double[] arr = new double[128]\r\n    for (int j = 0; j &lt; 128; j++) {\r\n        for (int i = 0; i &lt; 1680; i++) {\r\n             arr[i]  = Math.random();\r\n        }\r\n    }","title":"for-loop very slow on Android device","body":"<p>It may be because too many Objects of type Double being created.. thus it increase heap size and device starts freezing..</p>\n\n<p>A way around is</p>\n\n<pre><code>double[] arr = new double[128]\nfor (int j = 0; j &lt; 128; j++) {\n    for (int i = 0; i &lt; 1680; i++) {\n         arr[i]  = Math.random();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":483393,"reputation":4774,"user_id":898399,"accept_rate":60,"display_name":"Ian Warwick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334225681,"creation_date":1334225681,"answer_id":10121597,"question_id":10121455,"body_markdown":"There is a disclaimer in the docs below for random that might be affecting performance, try creating an instance yourself rather than using the static version, I have highlighted the performance disclaimer in bold:\r\n\r\nReturns a pseudo-random double n, where n &gt;= 0.0 &amp;&amp; n &lt; 1.0. This method reuses a single instance of Random. This method is thread-safe because access to the Random is synchronized, but this harms scalability. **Applications may find a performance benefit from allocating a Random for each of their threads.**\r\n\r\nTry creating your own random as a static field of your class to avoid synchronized access:\r\n\r\n    private static Random random = new Random();\r\n\r\nThen use it as follows:\r\n\r\n    double r = random.nextDouble();\r\n\r\nalso consider using float (random.nextFloat()) if you do not need double precision.\r\n\r\n","title":"for-loop very slow on Android device","body":"<p>There is a disclaimer in the docs below for random that might be affecting performance, try creating an instance yourself rather than using the static version, I have highlighted the performance disclaimer in bold:</p>\n\n<p>Returns a pseudo-random double n, where n >= 0.0 &amp;&amp; n &lt; 1.0. This method reuses a single instance of Random. This method is thread-safe because access to the Random is synchronized, but this harms scalability. <strong>Applications may find a performance benefit from allocating a Random for each of their threads.</strong></p>\n\n<p>Try creating your own random as a static field of your class to avoid synchronized access:</p>\n\n<pre><code>private static Random random = new Random();\n</code></pre>\n\n<p>Then use it as follows:</p>\n\n<pre><code>double r = random.nextDouble();\n</code></pre>\n\n<p>also consider using float (random.nextFloat()) if you do not need double precision.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334228977,"creation_date":1334228977,"answer_id":10122352,"question_id":10121455,"body_markdown":"&gt; RGB is only a class that calculates the red, green and blue value and the filter simply returns true if all three color parts are below 100 or any othe specified value.\r\n\r\nOne problem is that you are creating `height * width` instances of the RGB class, simply to test whether a single pizel is black.  Replace that method with a static method call that takes the pixel to be tested as an argument.\r\n\r\n---------\r\n\r\nMore generally, if you don&#39;t know why some piece of code is slow ... **profile it**.  In this case, the profiler would tell you that a significant amount of time is spent in the RGB constructor.  And the memory profiler would tell you that large numbers of RGB objects are being created and garbage collected.","title":"for-loop very slow on Android device","body":"<blockquote>\n  <p>RGB is only a class that calculates the red, green and blue value and the filter simply returns true if all three color parts are below 100 or any othe specified value.</p>\n</blockquote>\n\n<p>One problem is that you are creating <code>height * width</code> instances of the RGB class, simply to test whether a single pizel is black.  Replace that method with a static method call that takes the pixel to be tested as an argument.</p>\n\n<hr>\n\n<p>More generally, if you don't know why some piece of code is slow ... <strong>profile it</strong>.  In this case, the profiler would tell you that a significant amount of time is spent in the RGB constructor.  And the memory profiler would tell you that large numbers of RGB objects are being created and garbage collected.</p>\n"},{"tags":[],"owner":{"account_id":90863,"reputation":14381,"user_id":249871,"accept_rate":91,"display_name":"pgsandstrom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1334231782,"creation_date":1334231782,"answer_id":10123080,"question_id":10121455,"body_markdown":"First of all Stephen C makes a good argument: Try to avoid creating a bunch of RGB-objects.\r\n\r\nSecond of all, you can make a huge improvement by replacing your relatively expensive calls to `getPixel` with a single call to [`getPixels`][1]\r\n\r\nI made some quick testing and managed to cut to runtime to about 10%. Try it out.  This was the code I used:\r\n\r\n\tint[] pixels = new int[height * width];\r\n\timg.getPixels(pixels, 0, width, 0, 0, width, height);\r\n\r\n\tfor(int pixel:pixels) {\r\n\t\t// check the pixel\r\n\t}\r\n\r\n  [1]: http://developer.android.com/reference/android/graphics/Bitmap.html#getPixels%28int%5B%5D,%20int,%20int,%20int,%20int,%20int,%20int%29","title":"for-loop very slow on Android device","body":"<p>First of all Stephen C makes a good argument: Try to avoid creating a bunch of RGB-objects.</p>\n\n<p>Second of all, you can make a huge improvement by replacing your relatively expensive calls to <code>getPixel</code> with a single call to <a href=\"http://developer.android.com/reference/android/graphics/Bitmap.html#getPixels%28int%5B%5D,%20int,%20int,%20int,%20int,%20int,%20int%29\" rel=\"nofollow\"><code>getPixels</code></a></p>\n\n<p>I made some quick testing and managed to cut to runtime to about 10%. Try it out.  This was the code I used:</p>\n\n<pre><code>int[] pixels = new int[height * width];\nimg.getPixels(pixels, 0, width, 0, 0, width, height);\n\nfor(int pixel:pixels) {\n    // check the pixel\n}\n</code></pre>\n"}],"owner":{"account_id":1399756,"reputation":115,"user_id":1328745,"accept_rate":50,"display_name":"Woyzeck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2666,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":10123080,"answer_count":4,"score":3,"last_activity_date":1633673038,"creation_date":1334225114,"question_id":10121455,"body_markdown":"I just ran into an issue while trying to write an bitmap-manipulating algo for an android device.\r\n\r\nI have a 1680x128 pixel Bitmap and need to apply a filter on it. But this very simple code-piece actually took almost 15-20 seconds to run on my Android device (xperia ray with a 1Ghz processor).\r\n\r\nSo I tried to find the bottleneck and reduced as many code lines as possible and ended up with the loop itself, which took almost the same time to run.\r\n\r\n    for (int j = 0; j &lt; 128; j++) {\r\n        for (int i = 0; i &lt; 1680; i++) {\r\n             Double test = Math.random();\r\n        }\r\n    }\r\n\r\nIs it normal for such a device taking so much time in a simple for-loop with no difficult operations?\r\n\r\nI&#39;m very new to programming on mobile devices so please excuse if this question may be stupid.\r\n\r\n\r\nUPDATE: Got it faster now with some simpler operations.\r\n\r\nBut back to my main problem:\r\n\r\n\tpublic static void filterImage(Bitmap img, FilterStrategy filter) {\r\n\t\timg.prepareToDraw();\r\n\t\tint height = img.getHeight();\r\n\t\tint width = img.getWidth();\r\n                RGB rgb;\r\n\t\tfor (int j = 0; j &lt; height; j++) {\r\n\t\t\tfor (int i = 0; i &lt; width; i++) {\r\n\t\t\t\trgb = new RGB(img.getPixel(i, j));\r\n\t\t\t\tif (filter.isBlack(rgb)) {\r\n\t\t\t\t\timg.setPixel(i, j, 0);\r\n\t\t\t\t} else\r\n\t\t\t\t\timg.setPixel(i, j, 0xffffffff);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\nThe code above is what I really need to run faster on the device. (nearly immediate) \r\nDo you see any optimizing potential in it?\r\n\r\nRGB is only a class that calculates the red, green and blue value and the filter simply returns true if all three color parts are below 100 or any othe specified value.\r\nAlready the loop around img.getPixel(i,j) or setPixel takes 20 or more seconds. Is this such an expensive operation?\r\n","title":"for-loop very slow on Android device","body":"<p>I just ran into an issue while trying to write an bitmap-manipulating algo for an android device.</p>\n\n<p>I have a 1680x128 pixel Bitmap and need to apply a filter on it. But this very simple code-piece actually took almost 15-20 seconds to run on my Android device (xperia ray with a 1Ghz processor).</p>\n\n<p>So I tried to find the bottleneck and reduced as many code lines as possible and ended up with the loop itself, which took almost the same time to run.</p>\n\n<pre><code>for (int j = 0; j &lt; 128; j++) {\n    for (int i = 0; i &lt; 1680; i++) {\n         Double test = Math.random();\n    }\n}\n</code></pre>\n\n<p>Is it normal for such a device taking so much time in a simple for-loop with no difficult operations?</p>\n\n<p>I'm very new to programming on mobile devices so please excuse if this question may be stupid.</p>\n\n<p>UPDATE: Got it faster now with some simpler operations.</p>\n\n<p>But back to my main problem:</p>\n\n<pre><code>public static void filterImage(Bitmap img, FilterStrategy filter) {\n    img.prepareToDraw();\n    int height = img.getHeight();\n    int width = img.getWidth();\n            RGB rgb;\n    for (int j = 0; j &lt; height; j++) {\n        for (int i = 0; i &lt; width; i++) {\n            rgb = new RGB(img.getPixel(i, j));\n            if (filter.isBlack(rgb)) {\n                img.setPixel(i, j, 0);\n            } else\n                img.setPixel(i, j, 0xffffffff);\n        }\n    }\n    return;\n}\n</code></pre>\n\n<p>The code above is what I really need to run faster on the device. (nearly immediate) \nDo you see any optimizing potential in it?</p>\n\n<p>RGB is only a class that calculates the red, green and blue value and the filter simply returns true if all three color parts are below 100 or any othe specified value.\nAlready the loop around img.getPixel(i,j) or setPixel takes 20 or more seconds. Is this such an expensive operation?</p>\n"},{"tags":["java","c++","performance","collections","heap-memory"],"comments":[{"owner":{"account_id":334826,"reputation":224596,"user_id":661519,"accept_rate":92,"display_name":"juanchopanza"},"score":26,"creation_date":1376638608,"post_id":18268151,"comment_id":26793733,"body_markdown":"Did the user provide any evidence to this claim? I can imagine it would be true in some cases, false in others.","body":"Did the user provide any evidence to this claim? I can imagine it would be true in some cases, false in others."},{"owner":{"account_id":1810138,"reputation":5319,"user_id":1646387,"accept_rate":100,"display_name":"Robadob"},"score":0,"creation_date":1376638665,"post_id":18268151,"comment_id":26793759,"body_markdown":"Have you considered writing some simple benchmarks?","body":"Have you considered writing some simple benchmarks?"},{"owner":{"account_id":2273177,"reputation":13077,"user_id":2000082,"accept_rate":60,"display_name":"bash.d"},"score":2,"creation_date":1376638673,"post_id":18268151,"comment_id":26793763,"body_markdown":"It is pretty hard to beat native code in speed, for some things this might be true","body":"It is pretty hard to beat native code in speed, for some things this might be true"},{"owner":{"account_id":1469109,"reputation":20947,"user_id":1381108,"display_name":"Rapptz"},"score":0,"creation_date":1376638712,"post_id":18268151,"comment_id":26793778,"body_markdown":"The comments of your link dispute the claim also.","body":"The comments of your link dispute the claim also."},{"owner":{"account_id":2489968,"reputation":18431,"user_id":2167655,"accept_rate":79,"display_name":"aaronman"},"score":0,"creation_date":1376638716,"post_id":18268151,"comment_id":26793781,"body_markdown":"@juanchopanza it didn&#39;t seem like it to me, you can read the comments yourself, the only reason I am even remotely inclined to believe is that the JVM has more incentive to have fast heap allocation","body":"@juanchopanza it didn&#39;t seem like it to me, you can read the comments yourself, the only reason I am even remotely inclined to believe is that the JVM has more incentive to have fast heap allocation"},{"owner":{"account_id":2489968,"reputation":18431,"user_id":2167655,"accept_rate":79,"display_name":"aaronman"},"score":0,"creation_date":1376638830,"post_id":18268151,"comment_id":26793842,"body_markdown":"@Rapptz well there was defense on both sides, but even if I&#39;m on c++&#39;s side the person arguing for java seemed to have a better put together argument","body":"@Rapptz well there was defense on both sides, but even if I&#39;m on c++&#39;s side the person arguing for java seemed to have a better put together argument"},{"owner":{"account_id":2489968,"reputation":18431,"user_id":2167655,"accept_rate":79,"display_name":"aaronman"},"score":1,"creation_date":1376638880,"post_id":18268151,"comment_id":26793870,"body_markdown":"@Robadob the only reason I wouldn&#39;t write benchmarks for this is because of how unspecific it is","body":"@Robadob the only reason I wouldn&#39;t write benchmarks for this is because of how unspecific it is"},{"owner":{"account_id":15628,"reputation":244151,"user_id":33213,"accept_rate":76,"display_name":"jalf"},"score":3,"creation_date":1376638897,"post_id":18268151,"comment_id":26793879,"body_markdown":"&quot;due to the different memory subsystem&quot; is not &quot;a better put together argument&quot;. It doesn&#39;t explain anything. He is right about memory allocations, they *are* typically faster in managed languages, because they&#39;re effectively implemented as a single stack push operation, moving a single pointer (at the cost of having occasional GC pauses). But the &quot;collections are faster because *handwaving*&quot; one is nonsense","body":"&quot;due to the different memory subsystem&quot; is not &quot;a better put together argument&quot;. It doesn&#39;t explain anything. He is right about memory allocations, they <i>are</i> typically faster in managed languages, because they&#39;re effectively implemented as a single stack push operation, moving a single pointer (at the cost of having occasional GC pauses). But the &quot;collections are faster because <i>handwaving</i>&quot; one is nonsense"},{"owner":{"account_id":1810138,"reputation":5319,"user_id":1646387,"accept_rate":100,"display_name":"Robadob"},"score":0,"creation_date":1376638989,"post_id":18268151,"comment_id":26793910,"body_markdown":"@aaronman But to benchmark insert/random-access/deletion operations on a number of different types of collections covers most of the bases and is fairly simple to do.","body":"@aaronman But to benchmark insert/random-access/deletion operations on a number of different types of collections covers most of the bases and is fairly simple to do."},{"owner":{"account_id":334826,"reputation":224596,"user_id":661519,"accept_rate":92,"display_name":"juanchopanza"},"score":2,"creation_date":1376639023,"post_id":18268151,"comment_id":26793927,"body_markdown":"One aspect that is usually ignored is what happens when the garbage collector starts collecting all the garbage that has been produced by design. This can be a killer in some situations, and may not matter at all in others. But it is not something that can be made to disappear.","body":"One aspect that is usually ignored is what happens when the garbage collector starts collecting all the garbage that has been produced by design. This can be a killer in some situations, and may not matter at all in others. But it is not something that can be made to disappear."},{"owner":{"account_id":2489968,"reputation":18431,"user_id":2167655,"accept_rate":79,"display_name":"aaronman"},"score":0,"creation_date":1376639061,"post_id":18268151,"comment_id":26793950,"body_markdown":"@jalf I wasn&#39;t referring to that part, I really have a hard time believing the collections are faster","body":"@jalf I wasn&#39;t referring to that part, I really have a hard time believing the collections are faster"},{"owner":{"account_id":15628,"reputation":244151,"user_id":33213,"accept_rate":76,"display_name":"jalf"},"score":0,"creation_date":1376639161,"post_id":18268151,"comment_id":26794008,"body_markdown":"@aaronman well, they aren&#39;t. But he hasn&#39;t given a *reason* why we should believe his claim either, so why should we think they are?","body":"@aaronman well, they aren&#39;t. But he hasn&#39;t given a <i>reason</i> why we should believe his claim either, so why should we think they are?"},{"owner":{"account_id":334826,"reputation":224596,"user_id":661519,"accept_rate":92,"display_name":"juanchopanza"},"score":2,"creation_date":1376639300,"post_id":18268151,"comment_id":26794070,"body_markdown":"Here&#39;s an interesting article on the [garbage collection thing](http://sealedabstract.com/rants/why-mobile-web-apps-are-slow/), in domains where it does matter. It isn&#39;t specifically about Java, but it is worth reading.","body":"Here&#39;s an interesting article on the <a href=\"http://sealedabstract.com/rants/why-mobile-web-apps-are-slow/\" rel=\"nofollow noreferrer\">garbage collection thing</a>, in domains where it does matter. It isn&#39;t specifically about Java, but it is worth reading."},{"owner":{"account_id":2489968,"reputation":18431,"user_id":2167655,"accept_rate":79,"display_name":"aaronman"},"score":0,"creation_date":1376639468,"post_id":18268151,"comment_id":26794138,"body_markdown":"@jalf believe me I&#39;m the first person to defend C++ over java, but when there is an ***accepted*** answer with 159 UV&#39;s on SO I usually assume it is correct, take a look at the answer it has some pretty bold claims as well, like the part about copying arrays","body":"@jalf believe me I&#39;m the first person to defend C++ over java, but when there is an <b><i>accepted</i></b> answer with 159 UV&#39;s on SO I usually assume it is correct, take a look at the answer it has some pretty bold claims as well, like the part about copying arrays"},{"owner":{"account_id":2489968,"reputation":18431,"user_id":2167655,"accept_rate":79,"display_name":"aaronman"},"score":0,"creation_date":1376640221,"post_id":18268151,"comment_id":26794483,"body_markdown":"@jalf this is getting to more of a meta issue, but if an answer like that contains incorrect info it should be removed, right?","body":"@jalf this is getting to more of a meta issue, but if an answer like that contains incorrect info it should be removed, right?"},{"owner":{"account_id":2489968,"reputation":18431,"user_id":2167655,"accept_rate":79,"display_name":"aaronman"},"score":0,"creation_date":1376640689,"post_id":18268151,"comment_id":26794701,"body_markdown":"@juanchopanza when I looked at the IE stats I lol&#39;d","body":"@juanchopanza when I looked at the IE stats I lol&#39;d"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":3,"creation_date":1376642570,"post_id":18268151,"comment_id":26795527,"body_markdown":"@aaronman SO doesn&#39;t remove answers for being incorrect; it relies on the community to downvote or comment on incorrect answers. Unfortunately, misinformation, especially on hot topics like Java vs C++, spreads wildly. With a topic like that, people will upvote/accept/defend the answer they *want* to believe. The best you can do is keep your own personal information filter in good working condition. The highest voted answer on this very question, for example, is the one with the least backed claims and most unrealistic view (the true answer, like others have stated, is: it depends).","body":"@aaronman SO doesn&#39;t remove answers for being incorrect; it relies on the community to downvote or comment on incorrect answers. Unfortunately, misinformation, especially on hot topics like Java vs C++, spreads wildly. With a topic like that, people will upvote/accept/defend the answer they <i>want</i> to believe. The best you can do is keep your own personal information filter in good working condition. The highest voted answer on this very question, for example, is the one with the least backed claims and most unrealistic view (the true answer, like others have stated, is: it depends)."},{"owner":{"account_id":327343,"reputation":151574,"user_id":649665,"accept_rate":71,"display_name":"James Kanze"},"score":2,"creation_date":1376644395,"post_id":18268151,"comment_id":26796534,"body_markdown":"@juanchopanza If you&#39;re writing a benchmark, and you favor garbage collection, all you have to do is to ensure that it finishes before having triggered the garbage collector.","body":"@juanchopanza If you&#39;re writing a benchmark, and you favor garbage collection, all you have to do is to ensure that it finishes before having triggered the garbage collector."},{"owner":{"account_id":327343,"reputation":151574,"user_id":649665,"accept_rate":71,"display_name":"James Kanze"},"score":0,"creation_date":1376644492,"post_id":18268151,"comment_id":26796585,"body_markdown":"@aaronman That doesn&#39;t correspond to what I&#39;ve seen.  There seems to be very little correlation between the number of up votes and whether the answer is correct or not.","body":"@aaronman That doesn&#39;t correspond to what I&#39;ve seen.  There seems to be very little correlation between the number of up votes and whether the answer is correct or not."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":1,"creation_date":1376650271,"post_id":18268151,"comment_id":26799512,"body_markdown":"Er... I (hopefully) take back the last sentence of my previous comment.","body":"Er... I (hopefully) take back the last sentence of my previous comment."},{"owner":{"account_id":1742994,"reputation":75290,"user_id":1593860,"display_name":"Pete Becker"},"score":8,"creation_date":1376654976,"post_id":18268151,"comment_id":26801973,"body_markdown":"Sigh. Java is the only language with a marketing department, and they work overtime trashing C++. Fifteen years ago, just about every article about Java started with a cheap shot at C++ (my favorite was the assertion that C++ couldn&#39;t have garbage collection because it didn&#39;t run in a virtual machine; so many things wrong there that you just shake your head in despair); you had to read the **second** paragraph to find out what the article was about.","body":"Sigh. Java is the only language with a marketing department, and they work overtime trashing C++. Fifteen years ago, just about every article about Java started with a cheap shot at C++ (my favorite was the assertion that C++ couldn&#39;t have garbage collection because it didn&#39;t run in a virtual machine; so many things wrong there that you just shake your head in despair); you had to read the <b>second</b> paragraph to find out what the article was about."},{"owner":{"account_id":1000547,"reputation":4232,"user_id":1015495,"accept_rate":88,"display_name":"User1000547"},"score":2,"creation_date":1376656570,"post_id":18268151,"comment_id":26802809,"body_markdown":"@JasonC should I downvote you to even the balance?","body":"@JasonC should I downvote you to even the balance?"},{"owner":{"account_id":2489968,"reputation":18431,"user_id":2167655,"accept_rate":79,"display_name":"aaronman"},"score":0,"creation_date":1376677773,"post_id":18268151,"comment_id":26814988,"body_markdown":"For anyone trying to close this, no one has actually told me why they want to close it, I am perfectly willing to reword it so it fits the specifications better","body":"For anyone trying to close this, no one has actually told me why they want to close it, I am perfectly willing to reword it so it fits the specifications better"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1376752311,"post_id":18268151,"comment_id":26833524,"body_markdown":"@aaronman The reasons for closure are given in the message below. It is unlikely this question can be reworded to fit within the guidelines outlined in the help center. However, it is a very appropriate topic for http://programmers.stackexchange.com, which exists precisely for this type of question.","body":"@aaronman The reasons for closure are given in the message below. It is unlikely this question can be reworded to fit within the guidelines outlined in the help center. However, it is a very appropriate topic for <a href=\"http://programmers.stackexchange.com\">programmers.stackexchange.com</a>, which exists precisely for this type of question."},{"owner":{"account_id":2489968,"reputation":18431,"user_id":2167655,"accept_rate":79,"display_name":"aaronman"},"score":0,"creation_date":1376804646,"post_id":18268151,"comment_id":26843808,"body_markdown":"@JasonC I posted it on programmers, but I still think it is a legit question even here, I just want to say obviously the reason I initially posted it here is because this site is more popular and I am active on it","body":"@JasonC I posted it on programmers, but I still think it is a legit question even here, I just want to say obviously the reason I initially posted it here is because this site is more popular and I am active on it"}],"answers":[{"tags":[],"owner":{"account_id":369169,"reputation":2256,"user_id":716390,"accept_rate":60,"display_name":"kriomant"},"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1376639162,"creation_date":1376638829,"answer_id":18268241,"question_id":18268151,"body_markdown":"Java heap is faster because (simplified) all you need to do to allocate is to increase heap top pointer (just like on stack). It is possible because heap is periodically compacted. So your price for speed is:\r\n\r\n1. Periodic GC pauses for heap compacting\r\n2. Increased memory usage\r\n\r\nThere is no free cheese... So while collection operations may be fast, it is amortized by overall slowing down during GC work.","title":"Java collections faster than c++ containers?","body":"<p>Java heap is faster because (simplified) all you need to do to allocate is to increase heap top pointer (just like on stack). It is possible because heap is periodically compacted. So your price for speed is:</p>\n\n<ol>\n<li>Periodic GC pauses for heap compacting</li>\n<li>Increased memory usage</li>\n</ol>\n\n<p>There is no free cheese... So while collection operations may be fast, it is amortized by overall slowing down during GC work.</p>\n"},{"tags":[],"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1376646353,"creation_date":1376638998,"answer_id":18268291,"question_id":18268151,"body_markdown":"Your questions don&#39;t have concrete answers. For example, C++ does not define memory management at all. It leaves allocation details up to the library implementation. Therefore, within the bounds of C++, a given platform may have a very slow heap allocation scheme, and Java would certainly be faster if it bypasses that. On another platform, memory allocations may be blazing fast, outperforming Java. As James Kanze pointed out, Java also places [very little constraints on memory management][1] (e.g. even the GC algorithm is entirely up to the JVM implementor). Because Java and C++ do not place constraints on memory management, there is no concrete answer to that question. C++ is purposefully open about underlying hardware and kernel functions, and Java is purposefully open about JVM memory management. So the question becomes very fuzzy.\r\n\r\nYou may find that some operations are faster in Java, and some not. You never know until you try, *however:*\r\n\r\nIn practice, the real differences lie in your higher level algorithms and implementations. For all but the most absolutely performance critical applications, the differences in performance of identical data structures in different languages is completely negligible compared to the performance characteristics of the algorithm itself. Concentrate on optimizing your higher level implementations. Only after you have done so, and after you have determined that your performance requirements are not being met, and after you have benchmarked and found (unlikely) that your bottleneck is in container implementations, should you start to think of things like this.\r\n\r\nIn general, as soon as you find yourself thinking or reading about C++ vs. Java issues, stop and refocus on something productive.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.5.3","title":"Java collections faster than c++ containers?","body":"<p>Your questions don't have concrete answers. For example, C++ does not define memory management at all. It leaves allocation details up to the library implementation. Therefore, within the bounds of C++, a given platform may have a very slow heap allocation scheme, and Java would certainly be faster if it bypasses that. On another platform, memory allocations may be blazing fast, outperforming Java. As James Kanze pointed out, Java also places <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.5.3\">very little constraints on memory management</a> (e.g. even the GC algorithm is entirely up to the JVM implementor). Because Java and C++ do not place constraints on memory management, there is no concrete answer to that question. C++ is purposefully open about underlying hardware and kernel functions, and Java is purposefully open about JVM memory management. So the question becomes very fuzzy.</p>\n\n<p>You may find that some operations are faster in Java, and some not. You never know until you try, <em>however:</em></p>\n\n<p>In practice, the real differences lie in your higher level algorithms and implementations. For all but the most absolutely performance critical applications, the differences in performance of identical data structures in different languages is completely negligible compared to the performance characteristics of the algorithm itself. Concentrate on optimizing your higher level implementations. Only after you have done so, and after you have determined that your performance requirements are not being met, and after you have benchmarked and found (unlikely) that your bottleneck is in container implementations, should you start to think of things like this.</p>\n\n<p>In general, as soon as you find yourself thinking or reading about C++ vs. Java issues, stop and refocus on something productive.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1376639116,"creation_date":1376639116,"answer_id":18268325,"question_id":18268151,"body_markdown":"While I am a fan of Java, it is worth noting that C++ supports allocation of objects on the stack which is faster than heap allocation.  \r\n\r\nIf you use C++ efficiently with all it various ways of doing the same thing, it will be faster than Java (even if it takes you longer to find that optimal combination)\r\n\r\nIf you program in C++ as you would in Java, e.g. everything on the heap, all methods virtual, have lots of runtime checks which don&#39;t do anything and can be optimised away dynamically, it will be slower.  Java has optimised these things further as these a) are the only thing Java does, b) can be optimised dynamically more efficiently, c) Java has less features and side effects so it is easier for optimiser for get decent speeds.","title":"Java collections faster than c++ containers?","body":"<p>While I am a fan of Java, it is worth noting that C++ supports allocation of objects on the stack which is faster than heap allocation.  </p>\n\n<p>If you use C++ efficiently with all it various ways of doing the same thing, it will be faster than Java (even if it takes you longer to find that optimal combination)</p>\n\n<p>If you program in C++ as you would in Java, e.g. everything on the heap, all methods virtual, have lots of runtime checks which don't do anything and can be optimised away dynamically, it will be slower.  Java has optimised these things further as these a) are the only thing Java does, b) can be optimised dynamically more efficiently, c) Java has less features and side effects so it is easier for optimiser for get decent speeds.</p>\n"},{"tags":[],"owner":{"account_id":327343,"reputation":151574,"user_id":649665,"accept_rate":71,"display_name":"James Kanze"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1377008653,"creation_date":1376644053,"answer_id":18269705,"question_id":18268151,"body_markdown":"This sort of statement is ridiculous; people making it are\r\neither incredibly uninformed, or incredibly dishonest.  In\r\nparticular: \r\n\r\n- The speed of dynamic memory allocation in the two cases will\r\ndepend on the pattern of dynamic memory use, as well as the\r\nimplementation.  It is trivial for someone familiar with the\r\nalgorithms used in both cases to write a benchmark proving which\r\never one he wanted to be faster.  (Thus, for example, programs\r\nusing large, complex graphs that are build, then torn down and\r\nrebuilt, will typically run faster under garbage collection.  As\r\nwill programs that never use enough dynamic memory to trigger\r\nthe collector.  Programs using few, large, long lived\r\nallocations will often run faster with manual memory\r\nmanagement.)\r\n\r\n- When comparing the collections, you have to consider what is\r\nin the collections.  If you&#39;re comparing large vectors of\r\n`double`, for example, the difference between Java and C++ will\r\nlikely be slight, and could go either way.  If you&#39;re comparing\r\nlarge vectors of `Point`, where `Point` is a value class containing\r\ntwo doubles, C++ will probably blow Java out of the water,\r\nbecause it uses pure value semantics (with no additional dynamic\r\nallocation), where as Java needs to dynamically allocate each\r\n`Point` (and no dynamic allocation is always faster than even\r\nthe fastest dynamic allocation).  If the `Point` class in Java\r\nis correctly designed to act as a value (and thus immutable,\r\nlike `java.lang.String`), then doing a translation on the\r\n`Point` in a vector will require a new allocation for every\r\n`Point`; in C++, you could just assign.\r\n\r\n- Much depends on the optimizer.  In Java, the optimizer works\r\nwith perfect knowledge of the actual use cases, in this\r\nparticular run of the program, and perfect knowledge of the\r\nactual processor it is running on, in this run.  In C++, the\r\noptimizer must work with data from a profiling run, which will\r\nnever correspond exactly to any one run of the program, and the\r\noptimizer must (usually) generate code that will run (and run\r\nquickly) on a wide variety of processor versions.  On the other\r\nhand, the C++ optimizer may take significantly more time\r\nanalysing the different paths (and effective optimization can\r\nrequire a lot of CPU); the Java optimizer has to be fairly\r\nquick.\r\n\r\n- Finally, although not relevant to all applications, C++ can be\r\nsingle threaded.  In which case, no locking is needed in the\r\nallocator, which is never the case in Java.\r\n\r\nWith regards to the two numbered points: C++ can use more or\r\nless the same algorithms as Java in its heap allocator.  I&#39;ve\r\nused C++ programs where the `::operator delete()` function was\r\nempty, and the memory was garbage collected.  (If your\r\napplication allocates lots of short lived, small objects, such\r\nan allocator will probably speed things up.)  And as for the\r\nsecond: the really _big_ advantage C++ has is that its memory\r\nmodel doesn&#39;t require everything to be dynamically allocated.\r\nEven if allocation in Java takes only a tenth of the time it\r\nwould take in C++ (which could be the case, _if_ you only count\r\nthe allocation, and not the time needed for the collector\r\nsweeps), with large vectors of `Point`, as above, you&#39;re\r\ncomparing two or three allocations in C++ with millions of\r\nallocations in Java.\r\n\r\nAnd finally: &quot;why is Java&#39;s heap allocation so much faster?&quot;  It\r\nisn&#39;t, necessarily, _if_ you amortise the time for the\r\ncollection phases.  The time for the allocation itself can be\r\nvery cheap, because Java (or at least most Java implementations)\r\nuse a relocating collector, which results in all of the free\r\nmemory being in a single contiguous block.  This is at least\r\npartially offset by the time needed in the collector: to get\r\nthat contiguity, you&#39;ve got to move data, which means a lot of\r\ncopying.  In most implementations, it also means an additional\r\nindirection in the pointers, and a lot of special logic to avoid\r\nissues when one thread has the address in a register, or such.\r\n","title":"Java collections faster than c++ containers?","body":"<p>This sort of statement is ridiculous; people making it are\neither incredibly uninformed, or incredibly dishonest.  In\nparticular: </p>\n\n<ul>\n<li><p>The speed of dynamic memory allocation in the two cases will\ndepend on the pattern of dynamic memory use, as well as the\nimplementation.  It is trivial for someone familiar with the\nalgorithms used in both cases to write a benchmark proving which\never one he wanted to be faster.  (Thus, for example, programs\nusing large, complex graphs that are build, then torn down and\nrebuilt, will typically run faster under garbage collection.  As\nwill programs that never use enough dynamic memory to trigger\nthe collector.  Programs using few, large, long lived\nallocations will often run faster with manual memory\nmanagement.)</p></li>\n<li><p>When comparing the collections, you have to consider what is\nin the collections.  If you're comparing large vectors of\n<code>double</code>, for example, the difference between Java and C++ will\nlikely be slight, and could go either way.  If you're comparing\nlarge vectors of <code>Point</code>, where <code>Point</code> is a value class containing\ntwo doubles, C++ will probably blow Java out of the water,\nbecause it uses pure value semantics (with no additional dynamic\nallocation), where as Java needs to dynamically allocate each\n<code>Point</code> (and no dynamic allocation is always faster than even\nthe fastest dynamic allocation).  If the <code>Point</code> class in Java\nis correctly designed to act as a value (and thus immutable,\nlike <code>java.lang.String</code>), then doing a translation on the\n<code>Point</code> in a vector will require a new allocation for every\n<code>Point</code>; in C++, you could just assign.</p></li>\n<li><p>Much depends on the optimizer.  In Java, the optimizer works\nwith perfect knowledge of the actual use cases, in this\nparticular run of the program, and perfect knowledge of the\nactual processor it is running on, in this run.  In C++, the\noptimizer must work with data from a profiling run, which will\nnever correspond exactly to any one run of the program, and the\noptimizer must (usually) generate code that will run (and run\nquickly) on a wide variety of processor versions.  On the other\nhand, the C++ optimizer may take significantly more time\nanalysing the different paths (and effective optimization can\nrequire a lot of CPU); the Java optimizer has to be fairly\nquick.</p></li>\n<li><p>Finally, although not relevant to all applications, C++ can be\nsingle threaded.  In which case, no locking is needed in the\nallocator, which is never the case in Java.</p></li>\n</ul>\n\n<p>With regards to the two numbered points: C++ can use more or\nless the same algorithms as Java in its heap allocator.  I've\nused C++ programs where the <code>::operator delete()</code> function was\nempty, and the memory was garbage collected.  (If your\napplication allocates lots of short lived, small objects, such\nan allocator will probably speed things up.)  And as for the\nsecond: the really <em>big</em> advantage C++ has is that its memory\nmodel doesn't require everything to be dynamically allocated.\nEven if allocation in Java takes only a tenth of the time it\nwould take in C++ (which could be the case, <em>if</em> you only count\nthe allocation, and not the time needed for the collector\nsweeps), with large vectors of <code>Point</code>, as above, you're\ncomparing two or three allocations in C++ with millions of\nallocations in Java.</p>\n\n<p>And finally: \"why is Java's heap allocation so much faster?\"  It\nisn't, necessarily, <em>if</em> you amortise the time for the\ncollection phases.  The time for the allocation itself can be\nvery cheap, because Java (or at least most Java implementations)\nuse a relocating collector, which results in all of the free\nmemory being in a single contiguous block.  This is at least\npartially offset by the time needed in the collector: to get\nthat contiguity, you've got to move data, which means a lot of\ncopying.  In most implementations, it also means an additional\nindirection in the pointers, and a lot of special logic to avoid\nissues when one thread has the address in a register, or such.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376934439,"creation_date":1376934439,"answer_id":18319938,"question_id":18268151,"body_markdown":"&gt; and Collections are fast. Standard Java beats standard C/C++ in this area, even for most optimized C code. \r\n\r\nThis may be true for particular collections, but most certainly isn&#39;t true for all collections in all usage patterns. \r\n\r\nFor instance, a `java.util.HashMap` will outperform a `std:map`, because the latter is required to be sorted. That is, the fastest Map in the Java Standard Library is faster that the fastest Map in the C++ one (at least prior to C++11, which added the `std:unordered_map`)\r\n\r\nOn the other side, a `std:Vector&lt;int&gt;` is far more efficient that an `java.util.ArrayList&lt;Integer&gt;` (due to type erasure, you can&#39;t use a `java.util.ArrayList&lt;int&gt;`, and therefore end up with about 4 times the memory consumption, and possibly poorer cache locality, and correspondingly slower iteration).\r\n\r\nIn short, like most sweeping generalizations, this one doesn&#39;t always apply. However, neither would the opposite assertion (that Java is always slower than C++). It really depends on the details, such as how you use the collection, or even which versions of the languages you compare).","title":"Java collections faster than c++ containers?","body":"<blockquote>\n  <p>and Collections are fast. Standard Java beats standard C/C++ in this area, even for most optimized C code. </p>\n</blockquote>\n\n<p>This may be true for particular collections, but most certainly isn't true for all collections in all usage patterns. </p>\n\n<p>For instance, a <code>java.util.HashMap</code> will outperform a <code>std:map</code>, because the latter is required to be sorted. That is, the fastest Map in the Java Standard Library is faster that the fastest Map in the C++ one (at least prior to C++11, which added the <code>std:unordered_map</code>)</p>\n\n<p>On the other side, a <code>std:Vector&lt;int&gt;</code> is far more efficient that an <code>java.util.ArrayList&lt;Integer&gt;</code> (due to type erasure, you can't use a <code>java.util.ArrayList&lt;int&gt;</code>, and therefore end up with about 4 times the memory consumption, and possibly poorer cache locality, and correspondingly slower iteration).</p>\n\n<p>In short, like most sweeping generalizations, this one doesn't always apply. However, neither would the opposite assertion (that Java is always slower than C++). It really depends on the details, such as how you use the collection, or even which versions of the languages you compare).</p>\n"}],"owner":{"account_id":2489968,"reputation":18431,"user_id":2167655,"accept_rate":79,"display_name":"aaronman"},"comment_count":25,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4698,"favorite_count":0,"down_vote_count":3,"up_vote_count":33,"accepted_answer_id":18269705,"answer_count":5,"score":30,"last_activity_date":1633672898,"creation_date":1376638523,"question_id":18268151,"body_markdown":"I was reading the comments on this [answer](https://stackoverflow.com/questions/2163411/why-did-java-have-the-reputation-of-being-slow/2163570#2163570) and I saw this quote.  \r\n\r\n&gt; Object instantiation and object-oriented features are blazing fast to use (faster than C++ in many cases) because they&#39;re designed in from the beginning. and Collections are fast. Standard Java beats standard C/C++ in this area, even for most optimized C code.  \r\n\r\nOne user (with really high rep I might add) boldly defended this claim, stating that \r\n \r\n1. heap allocation in java is better than C++&#39;s  \r\n\r\n2. and added this statement defending the collections in java  \r\n&gt; And Java collections are fast compared to C++ collections due largely to the different memory subsystem.  \r\n\r\nSo my question is can any of this really be true, and if so why is java&#39;s heap allocation so much faster.","title":"Java collections faster than c++ containers?","body":"<p>I was reading the comments on this <a href=\"https://stackoverflow.com/questions/2163411/why-did-java-have-the-reputation-of-being-slow/2163570#2163570\">answer</a> and I saw this quote.  </p>\n\n<blockquote>\n  <p>Object instantiation and object-oriented features are blazing fast to use (faster than C++ in many cases) because they're designed in from the beginning. and Collections are fast. Standard Java beats standard C/C++ in this area, even for most optimized C code.  </p>\n</blockquote>\n\n<p>One user (with really high rep I might add) boldly defended this claim, stating that </p>\n\n<ol>\n<li><p>heap allocation in java is better than C++'s  </p></li>\n<li><p>and added this statement defending the collections in java  </p>\n\n<blockquote>\n  <p>And Java collections are fast compared to C++ collections due largely to the different memory subsystem.  </p>\n</blockquote></li>\n</ol>\n\n<p>So my question is can any of this really be true, and if so why is java's heap allocation so much faster.</p>\n"},{"tags":["java","performance","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":3088309,"reputation":346,"user_id":2615022,"display_name":"Nizzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379050025,"creation_date":1379050025,"answer_id":18778904,"question_id":18777489,"body_markdown":"For clarity I would recommend you always define ms and mx (unless the defaults are sufficient).  I think the result may differ depending on the JVM, but I believe Oracle&#39;s will throw an error if -Xms exceeds the default -Xmx setting.\r\n\r\nAs far as heap fragmentation, I think that depends on the app and tuning of the JVM.  It will vary depending on the JVM you&#39;re using, what garbage collector you&#39;re using, etc.","title":"Java Virtual Machine Heap Tuning Parameters","body":"<p>For clarity I would recommend you always define ms and mx (unless the defaults are sufficient).  I think the result may differ depending on the JVM, but I believe Oracle's will throw an error if -Xms exceeds the default -Xmx setting.</p>\n\n<p>As far as heap fragmentation, I think that depends on the app and tuning of the JVM.  It will vary depending on the JVM you're using, what garbage collector you're using, etc.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379058627,"creation_date":1379057827,"answer_id":18780791,"question_id":18777489,"body_markdown":"While I agree with Nizzo in most respects (+1 BTW), I am in the minority which believes that you should only set values which you know will be useful, the less values you set the better and in this vain, only set `-Xms` if you *know because you measured* the JVM will grow to that size anyway.  You can just set the maximum, if it needs to be set, and less the JVM work out the right size to use.\r\n\r\nI think part of the confusion is that `-Xms -Xmx` are always set in performance benchmarks.  This is because the work load is known and the JVM has been tuned to the max.  This doesn&#39;t make it a good practice for normal application usage IMHO.\r\n\r\nThe JVM reserves the maximum heap size as address space on start up (which is a problem on 32-bit Windows which has a small and fragmented memory space)\r\n\r\nBTW Unless you are using CMS and are concerned about fragmentation in tenured space, none of the other spaces or GCs get fragmented. ","title":"Java Virtual Machine Heap Tuning Parameters","body":"<p>While I agree with Nizzo in most respects (+1 BTW), I am in the minority which believes that you should only set values which you know will be useful, the less values you set the better and in this vain, only set <code>-Xms</code> if you <em>know because you measured</em> the JVM will grow to that size anyway.  You can just set the maximum, if it needs to be set, and less the JVM work out the right size to use.</p>\n\n<p>I think part of the confusion is that <code>-Xms -Xmx</code> are always set in performance benchmarks.  This is because the work load is known and the JVM has been tuned to the max.  This doesn't make it a good practice for normal application usage IMHO.</p>\n\n<p>The JVM reserves the maximum heap size as address space on start up (which is a problem on 32-bit Windows which has a small and fragmented memory space)</p>\n\n<p>BTW Unless you are using CMS and are concerned about fragmentation in tenured space, none of the other spaces or GCs get fragmented. </p>\n"},{"tags":[],"owner":{"account_id":2104108,"reputation":3446,"user_id":1870904,"display_name":"R.Moeller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1379057999,"creation_date":1379057999,"answer_id":18780841,"question_id":18777489,"body_markdown":"Setting -Xms to the estimated heap requirement of your application will speed up start of your application (of course Xms must be &lt;= Xmx).\r\nReason is the VM will spend some effort doing Full GC before it grows, so there might be several Full GC&#39;s until the VM figures out the real memory requirement of your app.\r\nIt doesn&#39;t help with fragmentation (which can occur with CMS only anyway)","title":"Java Virtual Machine Heap Tuning Parameters","body":"<p>Setting -Xms to the estimated heap requirement of your application will speed up start of your application (of course Xms must be &lt;= Xmx).\nReason is the VM will spend some effort doing Full GC before it grows, so there might be several Full GC's until the VM figures out the real memory requirement of your app.\nIt doesn't help with fragmentation (which can occur with CMS only anyway)</p>\n"}],"owner":{"account_id":1330923,"reputation":813,"user_id":1274862,"accept_rate":25,"display_name":"Swami PR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18780841,"answer_count":3,"score":0,"last_activity_date":1633672870,"creation_date":1379040530,"question_id":18777489,"body_markdown":"What would be the effect of setting only -Xms without setting a -Xmx\r\nfor eg. java -Xms 2048m ? Does setting a high lower value for -Xms mean lesser Heap Fragmentation?","title":"Java Virtual Machine Heap Tuning Parameters","body":"<p>What would be the effect of setting only -Xms without setting a -Xmx\nfor eg. java -Xms 2048m ? Does setting a high lower value for -Xms mean lesser Heap Fragmentation?</p>\n"},{"tags":["java","performance","tomcat","heap-memory","visualvm"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1416472370,"post_id":27034905,"comment_id":42590575,"body_markdown":"You could take a jmap heap histogram (that includes non-live objects, don&#39;t trigger a GC) a few times and compare what kind of object instances increase in numbers.","body":"You could take a jmap heap histogram (that includes non-live objects, don&#39;t trigger a GC) a few times and compare what kind of object instances increase in numbers."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1416472462,"post_id":27034905,"comment_id":42590618,"body_markdown":"Could this be the JMX probes itself (kind of a Heisenberg effect then)?","body":"Could this be the JMX probes itself (kind of a Heisenberg effect then)?"},{"owner":{"account_id":1601433,"reputation":1729,"user_id":1482388,"accept_rate":76,"display_name":"Angelo.Hannes"},"score":0,"creation_date":1416472628,"post_id":27034905,"comment_id":42590676,"body_markdown":"@Thilo could you expand on the jmap heap histogram. When doing a heap dump in VisualVM it triggers the GC. How do I take it without triggering GC? How could I rule out the &quot;Heisenberg effect&quot;?","body":"@Thilo could you expand on the jmap heap histogram. When doing a heap dump in VisualVM it triggers the GC. How do I take it without triggering GC? How could I rule out the &quot;Heisenberg effect&quot;?"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1416473092,"post_id":27034905,"comment_id":42590918,"body_markdown":"The `jmap` command line has a command line option (&quot;live&quot;) that forces a full GC. I do not know if it completely suppresses GC when you don&#39;t have that option. In the heap dump, you could maybe identify which objects are created by JMX.","body":"The <code>jmap</code> command line has a command line option (&quot;live&quot;) that forces a full GC. I do not know if it completely suppresses GC when you don&#39;t have that option. In the heap dump, you could maybe identify which objects are created by JMX."},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1416473238,"post_id":27034905,"comment_id":42590988,"body_markdown":"Same question: http://stackoverflow.com/questions/17321609/why-does-heap-space-constantly-increase-when-monitoring-tomcat-with-java-visualv?rq=1","body":"Same question: <a href=\"http://stackoverflow.com/questions/17321609/why-does-heap-space-constantly-increase-when-monitoring-tomcat-with-java-visualv?rq=1\" title=\"why does heap space constantly increase when monitoring tomcat with java visualv\">stackoverflow.com/questions/17321609/&hellip;</a>"},{"owner":{"account_id":179170,"reputation":5588,"user_id":411645,"accept_rate":88,"display_name":"Thomas Junk"},"score":0,"creation_date":1416475227,"post_id":27034905,"comment_id":42592143,"body_markdown":"Which tomcat version are you talking about?","body":"Which tomcat version are you talking about?"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1416476408,"post_id":27034905,"comment_id":42592802,"body_markdown":"The easy non-answer is of course: because it continuously keep creating short-lived objects. Tomcat is never idle, even when it is not receiving requests. You&#39;ll likely see the same saw-tooth model in most Java-based servers when not requesting to it.","body":"The easy non-answer is of course: because it continuously keep creating short-lived objects. Tomcat is never idle, even when it is not receiving requests. You&#39;ll likely see the same saw-tooth model in most Java-based servers when not requesting to it."}],"answers":[{"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1416486109,"creation_date":1416486109,"answer_id":27039519,"question_id":27034905,"body_markdown":"The short answer: Don&#39;t worry about it, this is perfectly normal. :-)\r\n\r\nThe long* answer, as @Gimby suggests, is that Tomcat (like most servers) has multiple threads running all the time, to do monitoring of resources and things like health check etc. These threads wake up at intervals and creates a lot of short-lived objects. The GC (garbage collector) will not collect these objects right away. A profiling application will see that the heap continually increases for a regular interval, or until a threshold value is reached and then suddenly drops. The drop is caused by the GC kicking in, collecting all the short lived objects in one sweep. This will cause the &quot;saw tooth&quot; pattern you see. Again, this is perfectly normal.\r\n\r\nIf you&#39;re interested, read more about [Java garbage collection](http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html) at Oracles Java tutorial pages.\r\n\r\nThe only thing to watch out for, is when the peaks of the saw tooth pattern becomes increasingly higher, or the duration between each peak becomes shorter. This *might* indicate a resource/reference leak in the application. In most cases though, it&#39;s just your application using more memory, because it actually does things.\r\n\r\n---\r\n\r\n*) I&#39;m sure someone can provide a much longer and more in-depth answer than this, but that&#39;s better suited for a blog or technical article. ;-)","title":"Why is tomcat using more and more heap space during idling?","body":"<p>The short answer: Don't worry about it, this is perfectly normal. :-)</p>\n\n<p>The long* answer, as @Gimby suggests, is that Tomcat (like most servers) has multiple threads running all the time, to do monitoring of resources and things like health check etc. These threads wake up at intervals and creates a lot of short-lived objects. The GC (garbage collector) will not collect these objects right away. A profiling application will see that the heap continually increases for a regular interval, or until a threshold value is reached and then suddenly drops. The drop is caused by the GC kicking in, collecting all the short lived objects in one sweep. This will cause the \"saw tooth\" pattern you see. Again, this is perfectly normal.</p>\n\n<p>If you're interested, read more about <a href=\"http://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html\" rel=\"noreferrer\">Java garbage collection</a> at Oracles Java tutorial pages.</p>\n\n<p>The only thing to watch out for, is when the peaks of the saw tooth pattern becomes increasingly higher, or the duration between each peak becomes shorter. This <em>might</em> indicate a resource/reference leak in the application. In most cases though, it's just your application using more memory, because it actually does things.</p>\n\n<hr>\n\n<p>*) I'm sure someone can provide a much longer and more in-depth answer than this, but that's better suited for a blog or technical article. ;-)</p>\n"}],"owner":{"account_id":1601433,"reputation":1729,"user_id":1482388,"accept_rate":76,"display_name":"Angelo.Hannes"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1620,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":27039519,"answer_count":1,"score":8,"last_activity_date":1633672755,"creation_date":1416472058,"question_id":27034905,"body_markdown":"I start tomcat using startup.bat and do nothing more with it. It is a plain vanilla installation (Version 7.0.47), as far as I know. When connecting with a JMX tool, like VisualVM I see the usage of Heap space constantly increasing. Until some garbage collection happens. And then it starts all over, again.\r\n\r\nWhy is that so? What is tomcat doing there? \r\n\r\nIs my understanding right, that it constantly generates new Objects?\r\n\r\n![enter image description here][1]\r\n\r\nAs suggested by @Thilo I took snapshots of the heap histogram. It seems to create mostly Arrays of Objects, chars and bytes. The picture below shows a diff between two snapshots taken 3 minutes apart.\r\n\r\n![enter image description here][2]\r\n\r\nAs the &quot;Per thread allocations&quot; view indicates, it has something to do with RMI, because here the most increase can be seen.\r\n\r\n![enter image description here][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/8y3VS.png\r\n  [2]: http://i.stack.imgur.com/R1KwF.png\r\n  [3]: http://i.stack.imgur.com/BxaBi.png","title":"Why is tomcat using more and more heap space during idling?","body":"<p>I start tomcat using startup.bat and do nothing more with it. It is a plain vanilla installation (Version 7.0.47), as far as I know. When connecting with a JMX tool, like VisualVM I see the usage of Heap space constantly increasing. Until some garbage collection happens. And then it starts all over, again.</p>\n\n<p>Why is that so? What is tomcat doing there? </p>\n\n<p>Is my understanding right, that it constantly generates new Objects?</p>\n\n<p><img src=\"https://i.stack.imgur.com/8y3VS.png\" alt=\"enter image description here\"></p>\n\n<p>As suggested by @Thilo I took snapshots of the heap histogram. It seems to create mostly Arrays of Objects, chars and bytes. The picture below shows a diff between two snapshots taken 3 minutes apart.</p>\n\n<p><img src=\"https://i.stack.imgur.com/R1KwF.png\" alt=\"enter image description here\"></p>\n\n<p>As the \"Per thread allocations\" view indicates, it has something to do with RMI, because here the most increase can be seen.</p>\n\n<p><img src=\"https://i.stack.imgur.com/BxaBi.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","performance","hadoop","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":3755200,"reputation":8511,"user_id":3121703,"accept_rate":43,"display_name":"Nachiket Kate"},"score":2,"creation_date":1424408050,"post_id":28621710,"comment_id":45545785,"body_markdown":"Check Xmx and Xms paramaters","body":"Check Xmx and Xms paramaters"},{"owner":{"account_id":1572874,"reputation":3576,"user_id":1460166,"accept_rate":89,"display_name":"Tak"},"score":0,"creation_date":1424408119,"post_id":28621710,"comment_id":45545804,"body_markdown":"I did, and I updated my bashrc to include this `export JAVA_OPTS=-Xmx16384m\nexport _JAVA_OPTIONS=-Xmx16384m` but still a java heap space error appears","body":"I did, and I updated my bashrc to include this <code>export JAVA_OPTS=-Xmx16384m export _JAVA_OPTIONS=-Xmx16384m</code> but still a java heap space error appears"},{"owner":{"account_id":3755200,"reputation":8511,"user_id":3121703,"accept_rate":43,"display_name":"Nachiket Kate"},"score":1,"creation_date":1424408194,"post_id":28621710,"comment_id":45545823,"body_markdown":"java -Xms256m -Xmx1024m -jar &lt;jarfile&gt; is the way to specify max and min heap size","body":"java -Xms256m -Xmx1024m -jar &lt;jarfile&gt; is the way to specify max and min heap size"},{"owner":{"account_id":3755200,"reputation":8511,"user_id":3121703,"accept_rate":43,"display_name":"Nachiket Kate"},"score":1,"creation_date":1424408228,"post_id":28621710,"comment_id":45545834,"body_markdown":"values can be anything for example I have specified 256mb as min size and 0124 mb as max heap size","body":"values can be anything for example I have specified 256mb as min size and 0124 mb as max heap size"},{"owner":{"account_id":1572874,"reputation":3576,"user_id":1460166,"accept_rate":89,"display_name":"Tak"},"score":0,"creation_date":1424408263,"post_id":28621710,"comment_id":45545844,"body_markdown":"@NachiketKate can you please apply the modify to my command?","body":"@NachiketKate can you please apply the modify to my command?"},{"owner":{"account_id":1572874,"reputation":3576,"user_id":1460166,"accept_rate":89,"display_name":"Tak"},"score":0,"creation_date":1424408487,"post_id":28621710,"comment_id":45545905,"body_markdown":"myapp is `hadoop` by the way :) hope this will help you to assist me","body":"myapp is <code>hadoop</code> by the way :) hope this will help you to assist me"},{"owner":{"account_id":1572874,"reputation":3576,"user_id":1460166,"accept_rate":89,"display_name":"Tak"},"score":0,"creation_date":1424408553,"post_id":28621710,"comment_id":45545925,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/71306/discussion-between-shepherd-and-nachiket-kate).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/71306/discussion-between-shepherd-and-nachiket-kate\">continue this discussion in chat</a>."},{"owner":{"account_id":3755200,"reputation":8511,"user_id":3121703,"accept_rate":43,"display_name":"Nachiket Kate"},"score":0,"creation_date":1424408599,"post_id":28621710,"comment_id":45545937,"body_markdown":"Does that matter? I don&#39;t think so. Whatever you app is allocating a heap works same way. before starting your app provide Xms and Xmx params. That should work.","body":"Does that matter? I don&#39;t think so. Whatever you app is allocating a heap works same way. before starting your app provide Xms and Xmx params. That should work."}],"answers":[{"tags":[],"owner":{"account_id":224608,"reputation":1126,"user_id":484560,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1424408146,"creation_date":1424408146,"answer_id":28621868,"question_id":28621710,"body_markdown":"The easiest method to increase the heap space is using the `-Xmx&lt;SizeInGigs&gt;g` option to the [JVM command][1].  For example:\r\n\r\n    java -Xmx4g -jar $pathofjarfile parameter1 parameter2\r\n\r\nSince you have a path to `home/bin/myapp jar` you will either need to modify the script/application launching the JVM to follow suite or ask about the specific application you are using (IE: JBoss, Tomcat, GlassFish, etc).\r\n\r\n  [1]: http://docs.oracle.com/cd/E13222_01/wls/docs81/perform/JVMTuning.html","title":"Increase the java heap space of a certain app","body":"<p>The easiest method to increase the heap space is using the <code>-Xmx&lt;SizeInGigs&gt;g</code> option to the <a href=\"http://docs.oracle.com/cd/E13222_01/wls/docs81/perform/JVMTuning.html\" rel=\"nofollow\">JVM command</a>.  For example:</p>\n\n<pre><code>java -Xmx4g -jar $pathofjarfile parameter1 parameter2\n</code></pre>\n\n<p>Since you have a path to <code>home/bin/myapp jar</code> you will either need to modify the script/application launching the JVM to follow suite or ask about the specific application you are using (IE: JBoss, Tomcat, GlassFish, etc).</p>\n"}],"owner":{"account_id":1572874,"reputation":3576,"user_id":1460166,"accept_rate":89,"display_name":"Tak"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28621868,"answer_count":1,"score":0,"last_activity_date":1633672742,"creation_date":1424407046,"question_id":28621710,"body_markdown":"I have an application that I want to run it and gives it more heap memory. I run my application using this command in terminal:\r\n`home/bin/hadoop jar $pathofjarfile parameter1 parameter2` but I don&#39;t know how to allocate more heap memory when running this application? if anyone could please advise.","title":"Increase the java heap space of a certain app","body":"<p>I have an application that I want to run it and gives it more heap memory. I run my application using this command in terminal:\n<code>home/bin/hadoop jar $pathofjarfile parameter1 parameter2</code> but I don't know how to allocate more heap memory when running this application? if anyone could please advise.</p>\n"},{"tags":["java","performance","jmeter","weblogic","heap-memory"],"answers":[{"tags":[],"owner":{"account_id":1320883,"reputation":89,"user_id":1266749,"display_name":"asboree"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450699461,"creation_date":1450699461,"answer_id":34395292,"question_id":34369754,"body_markdown":"There are lot of ways to monitor the Heap of a managed server. \r\n\r\n1. Using weblogic admin console\r\n2. WLST\r\n3. Custom JMX client\r\n4. VisualVM/Jconsole (other java pro-filers).\r\n\r\nYou can find lots of examples for each of the above methods. For monitoring using visual VM (or Jconsole etc) you need two things.\r\n\r\n\r\nStep 1: Enable JMX in you Managed Server by adding the below JVM arguments to your Managed server start up command\r\n\r\n    -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=9052 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Djavax.management.builder.initial=weblogic.management.jmx.mbeanserver.WLSMBeanServerBuilder\r\n\r\nThe above arguments let the server listen for JMX connection in port 9052. Please note for simplicity purpose the authentication is disabled. Its advisable to enable authentication if its a production system. \r\n\r\nStep 2: Connect via VisualVM ( or another JMX clients) to the above port\r\n\r\nIn VisualVM   \r\na. create new Remote host ( give full hostname of the system in which you have the managed server running)\r\n\r\nb. Right click the hosted created by above step and select add JMX connection\r\nc. In the New JMX connection window Specify the port as 8500 ( mentioned in the step 1).\r\n\r\nThe below thread has  more  details (though this is specific for SOA it will work as it internally uses weblogic).\r\nhttp://oraclefusionfacts.blogspot.in/2012/01/monitoring-remote-jvms-using-jvisualvm.html  ","title":"how to monitor heap size of managed server using java","body":"<p>There are lot of ways to monitor the Heap of a managed server. </p>\n\n<ol>\n<li>Using weblogic admin console</li>\n<li>WLST</li>\n<li>Custom JMX client</li>\n<li>VisualVM/Jconsole (other java pro-filers).</li>\n</ol>\n\n<p>You can find lots of examples for each of the above methods. For monitoring using visual VM (or Jconsole etc) you need two things.</p>\n\n<p>Step 1: Enable JMX in you Managed Server by adding the below JVM arguments to your Managed server start up command</p>\n\n<pre><code>-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=9052 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -Djavax.management.builder.initial=weblogic.management.jmx.mbeanserver.WLSMBeanServerBuilder\n</code></pre>\n\n<p>The above arguments let the server listen for JMX connection in port 9052. Please note for simplicity purpose the authentication is disabled. Its advisable to enable authentication if its a production system. </p>\n\n<p>Step 2: Connect via VisualVM ( or another JMX clients) to the above port</p>\n\n<p>In VisualVM<br>\na. create new Remote host ( give full hostname of the system in which you have the managed server running)</p>\n\n<p>b. Right click the hosted created by above step and select add JMX connection\nc. In the New JMX connection window Specify the port as 8500 ( mentioned in the step 1).</p>\n\n<p>The below thread has  more  details (though this is specific for SOA it will work as it internally uses weblogic).\n<a href=\"http://oraclefusionfacts.blogspot.in/2012/01/monitoring-remote-jvms-using-jvisualvm.html\" rel=\"nofollow\">http://oraclefusionfacts.blogspot.in/2012/01/monitoring-remote-jvms-using-jvisualvm.html</a>  </p>\n"},{"tags":[],"owner":{"account_id":6998750,"reputation":335,"user_id":5365509,"display_name":"Vampiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451952052,"creation_date":1451952052,"answer_id":34602076,"question_id":34369754,"body_markdown":"The easiest way is to login to WebLogic Enterprise Manager, accessible through the path http://server:port/em (instead of /console), there are features there that allow you to monitor JVM heap and non-heap monitoring.","title":"how to monitor heap size of managed server using java","body":"<p>The easiest way is to login to WebLogic Enterprise Manager, accessible through the path <a href=\"http://server:port/em\" rel=\"nofollow\">http://server:port/em</a> (instead of /console), there are features there that allow you to monitor JVM heap and non-heap monitoring.</p>\n"}],"owner":{"account_id":6624357,"reputation":33,"user_id":5115063,"display_name":"Vasim M Sayyad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1633672686,"creation_date":1450521533,"question_id":34369754,"body_markdown":"I want to test the performance of my Java application deployed on web logic managed server.I am interested in monitoring heap size getting used on managed sever for the application.how can i achieve this using JMeter or VMVisual.\r\ndoes anyone have the demo for above scenario? \r\n\r\n\r\nThanks in advance.","title":"how to monitor heap size of managed server using java","body":"<p>I want to test the performance of my Java application deployed on web logic managed server.I am interested in monitoring heap size getting used on managed sever for the application.how can i achieve this using JMeter or VMVisual.\ndoes anyone have the demo for above scenario? </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","performance","jvm","heap-memory","jvm-hotspot"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1473789138,"post_id":39474097,"comment_id":66271552,"body_markdown":"Good question. However, it was not quite clear in the origin form (especially to people not familiar with the Serviceability Agent).","body":"Good question. However, it was not quite clear in the origin form (especially to people not familiar with the Serviceability Agent)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1473844575,"post_id":39474097,"comment_id":66291505,"body_markdown":"Sure, it has to scan the entire heap to find all objects of whatever kind. The type of filter has no influence on that fact. How did you expect it to work?","body":"Sure, it has to scan the entire heap to find all objects of whatever kind. The type of filter has no influence on that fact. How did you expect it to work?"},{"owner":{"account_id":9184512,"reputation":57,"user_id":6827269,"accept_rate":0,"display_name":"Matthias Ho"},"score":0,"creation_date":1473850155,"post_id":39474097,"comment_id":66294791,"body_markdown":"I wasn&#39;t expecting the entire heap to be scanned.  I was thinking that since a class was specified, iterateObjectsOfKlass will be surgical in its object retrieval. - Matthias.  Thanks @Holger","body":"I wasn&#39;t expecting the entire heap to be scanned.  I was thinking that since a class was specified, iterateObjectsOfKlass will be surgical in its object retrieval. - Matthias.  Thanks @Holger"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1473850838,"post_id":39474097,"comment_id":66295191,"body_markdown":"Well, but *how*? There is no link from a class to its existing instances. If there was, the links had to be updated in a thread-safe manner on every object creation, not to speak of object destruction, which is actually a no-op. That would be a dramatic performance degradation of the entire JVM, just for the sake of a potential invocation of that monitoring function…","body":"Well, but <i>how</i>? There is no link from a class to its existing instances. If there was, the links had to be updated in a thread-safe manner on every object creation, not to speak of object destruction, which is actually a no-op. That would be a dramatic performance degradation of the entire JVM, just for the sake of a potential invocation of that monitoring function…"}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1473790444,"creation_date":1473790444,"answer_id":39476525,"question_id":39474097,"body_markdown":"HotSpot Serviceability Agent is really powerful technology, but indeed very slow. I have explained how it works in [this answer](https://stackoverflow.com/questions/26140182/running-jmap-getting-unable-to-open-socket-file/35963059#35963059).\r\n\r\nJVM has no means to quickly find all instances of the specific class. So, yes, it has to scan the entire heap. Moreover, in order to read memory of a foreign process, SA uses [`ptrace`](http://man7.org/linux/man-pages/man2/ptrace.2.html) system call for every single word of data. That&#39;s why it is so slow.\r\n\r\nYou have several options to scan heap faster:\r\n\r\n 1. Create a coredump of a foreign process and then run SA tool against the coredump. This is much faster than to read memory of a suspended process. See the [related question](https://stackoverflow.com/questions/35792936/how-to-take-a-heap-dump-in-windows-with-minimum-downtime/).\r\n 2. Inject a [JVMTI](http://docs.oracle.com/javase/8/docs/platform/jvmti/jvmti.html) agent into a running process using [Dynamic Attach mechanism](https://docs.oracle.com/javase/8/docs/jdk/api/attach/spec/com/sun/tools/attach/VirtualMachine.html#loadAgentPath-java.lang.String-java.lang.String-). The agent can scan heap of a local JVM using [`IterateOverInstancesOfClass`](http://docs.oracle.com/javase/8/docs/platform/jvmti/jvmti.html#IterateOverInstancesOfClass) function. This will be dramatically faster comparing to SA, because it will be just reading from within the same process without any syscalls or whatever. I believe it will take just a few seconds for a 2GB heap.","title":"HotSpot Serviceability Agent&#39;s iterateObjectsOfKlass() is too slow","body":"<p>HotSpot Serviceability Agent is really powerful technology, but indeed very slow. I have explained how it works in <a href=\"https://stackoverflow.com/questions/26140182/running-jmap-getting-unable-to-open-socket-file/35963059#35963059\">this answer</a>.</p>\n\n<p>JVM has no means to quickly find all instances of the specific class. So, yes, it has to scan the entire heap. Moreover, in order to read memory of a foreign process, SA uses <a href=\"http://man7.org/linux/man-pages/man2/ptrace.2.html\" rel=\"nofollow noreferrer\"><code>ptrace</code></a> system call for every single word of data. That's why it is so slow.</p>\n\n<p>You have several options to scan heap faster:</p>\n\n<ol>\n<li>Create a coredump of a foreign process and then run SA tool against the coredump. This is much faster than to read memory of a suspended process. See the <a href=\"https://stackoverflow.com/questions/35792936/how-to-take-a-heap-dump-in-windows-with-minimum-downtime/\">related question</a>.</li>\n<li>Inject a <a href=\"http://docs.oracle.com/javase/8/docs/platform/jvmti/jvmti.html\" rel=\"nofollow noreferrer\">JVMTI</a> agent into a running process using <a href=\"https://docs.oracle.com/javase/8/docs/jdk/api/attach/spec/com/sun/tools/attach/VirtualMachine.html#loadAgentPath-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">Dynamic Attach mechanism</a>. The agent can scan heap of a local JVM using <a href=\"http://docs.oracle.com/javase/8/docs/platform/jvmti/jvmti.html#IterateOverInstancesOfClass\" rel=\"nofollow noreferrer\"><code>IterateOverInstancesOfClass</code></a> function. This will be dramatically faster comparing to SA, because it will be just reading from within the same process without any syscalls or whatever. I believe it will take just a few seconds for a 2GB heap.</li>\n</ol>\n"}],"owner":{"account_id":9184512,"reputation":57,"user_id":6827269,"accept_rate":0,"display_name":"Matthias Ho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1633672663,"creation_date":1473781435,"question_id":39474097,"body_markdown":"I was able to call [`ObjectHeap.iterateObjectsOfKlass`](http://docs.oracle.com/javase/8/docs/serviceabilityagent/sun/jvm/hotspot/oops/ObjectHeap.html#iterateObjectsOfKlass-sun.jvm.hotspot.oops.HeapVisitor-sun.jvm.hotspot.oops.Klass-) (with the help of SA) to obtain all objects belonging to a certain class. The result is exactly what I have expected, but the performance is not.\r\n\r\nIt took me &gt;800 seconds to get my result, during which the target VM is suspended. The target VM heap is about 2GB. I know `iterateObjectsOfKlass` will call `iterateExact`.\r\n\r\n**My question is: do these methods iterate/traverse the entire heap just to obtain objects for 1 class?** I am disappointed since my expectation is that with a single class, the result should return within 10 seconds.","title":"HotSpot Serviceability Agent&#39;s iterateObjectsOfKlass() is too slow","body":"<p>I was able to call <a href=\"http://docs.oracle.com/javase/8/docs/serviceabilityagent/sun/jvm/hotspot/oops/ObjectHeap.html#iterateObjectsOfKlass-sun.jvm.hotspot.oops.HeapVisitor-sun.jvm.hotspot.oops.Klass-\" rel=\"nofollow\"><code>ObjectHeap.iterateObjectsOfKlass</code></a> (with the help of SA) to obtain all objects belonging to a certain class. The result is exactly what I have expected, but the performance is not.</p>\n\n<p>It took me >800 seconds to get my result, during which the target VM is suspended. The target VM heap is about 2GB. I know <code>iterateObjectsOfKlass</code> will call <code>iterateExact</code>.</p>\n\n<p><strong>My question is: do these methods iterate/traverse the entire heap just to obtain objects for 1 class?</strong> I am disappointed since my expectation is that with a single class, the result should return within 10 seconds.</p>\n"},{"tags":["java","eclipse","maven","jenkins","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":435280,"reputation":14323,"user_id":821786,"display_name":"Gergely Bacso"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1425927731,"creation_date":1425927731,"answer_id":28949807,"question_id":28949577,"body_markdown":"It is likely that your new dependency is failing on this test your are doing via Maven (duplicate-finder-plugin). Run the manual check from command line (on the level of the POM file) to find out what are the offending classes:\r\n\r\n    mvn com.ning.maven.plugins:duplicate-finder-maven-plugin:1.0.4:check\r\n\r\nThen you can either remove the dependency or configure the Maven plugin to ignore these. ([config here][1])\r\n\r\n\r\n  [1]: https://github.com/ning/maven-duplicate-finder-plugin","title":"Build Failure in Jenkins, Found duplicate resources","body":"<p>It is likely that your new dependency is failing on this test your are doing via Maven (duplicate-finder-plugin). Run the manual check from command line (on the level of the POM file) to find out what are the offending classes:</p>\n\n<pre><code>mvn com.ning.maven.plugins:duplicate-finder-maven-plugin:1.0.4:check\n</code></pre>\n\n<p>Then you can either remove the dependency or configure the Maven plugin to ignore these. (<a href=\"https://github.com/ning/maven-duplicate-finder-plugin\" rel=\"nofollow\">config here</a>)</p>\n"},{"tags":[],"owner":{"account_id":1225248,"reputation":19779,"user_id":1190934,"accept_rate":60,"display_name":"James Oravec"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1500674363,"creation_date":1500673941,"answer_id":45247203,"question_id":28949577,"body_markdown":"**Background/Details** \r\n\r\nI had a similar issue and this threw me for a loop for a while and I started to question my maven knowledge and did some digging. If you want to learn more about duplicate finder, you can read the readme on their github: https://github.com/ning/maven-duplicate-finder-plugin\r\n\r\nFor the project I was on, I determined I could do excludes in the dependencies or add exceptions to the duplicate finder. I saw both in my project and wondered when it was appropriate to do which. \r\n\r\nThe message from the plugin helps identify where duplication resides. You&#39;ll normally see this when you try to add new dependencies. When you see that, there are two options, either exclude things from the dependencies, or create exceptions in your `com.ning.maven.plugins:duplicate-finder-maven-plugin` configuration. \r\n\r\n**Summary / Conclusion**\r\n\r\n*Adding an exception, just ignores the problem. So the cleaner way is add the excludes in the dependencies. This way you get exactly what you expect/desire. Furthermore, going down the exception route would just add a ton of extra work that isn&#39;t really useful. So the intent of the plugin is to help you identify duplications, then try to handle them via excludes in the dependencies.*\r\n\r\n**Example of How to Do Exclude**\r\n\r\nIn your example/case, one of the following should work for you:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;groovy-json&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nor \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Build Failure in Jenkins, Found duplicate resources","body":"<p><strong>Background/Details</strong> </p>\n\n<p>I had a similar issue and this threw me for a loop for a while and I started to question my maven knowledge and did some digging. If you want to learn more about duplicate finder, you can read the readme on their github: <a href=\"https://github.com/ning/maven-duplicate-finder-plugin\" rel=\"nofollow noreferrer\">https://github.com/ning/maven-duplicate-finder-plugin</a></p>\n\n<p>For the project I was on, I determined I could do excludes in the dependencies or add exceptions to the duplicate finder. I saw both in my project and wondered when it was appropriate to do which. </p>\n\n<p>The message from the plugin helps identify where duplication resides. You'll normally see this when you try to add new dependencies. When you see that, there are two options, either exclude things from the dependencies, or create exceptions in your <code>com.ning.maven.plugins:duplicate-finder-maven-plugin</code> configuration. </p>\n\n<p><strong>Summary / Conclusion</strong></p>\n\n<p><em>Adding an exception, just ignores the problem. So the cleaner way is add the excludes in the dependencies. This way you get exactly what you expect/desire. Furthermore, going down the exception route would just add a ton of extra work that isn't really useful. So the intent of the plugin is to help you identify duplications, then try to handle them via excludes in the dependencies.</em></p>\n\n<p><strong>Example of How to Do Exclude</strong></p>\n\n<p>In your example/case, one of the following should work for you:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy-json&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":229930,"reputation":1278,"user_id":493216,"accept_rate":50,"display_name":"BigGinDaHouse"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1501416180,"creation_date":1501416180,"answer_id":45399602,"question_id":28949577,"body_markdown":"What you can do is to follow the rule of scope, meaning that, separate dependencies according to their scopes, such as in your case, rest assured used for testing, why not to put it under the scope of a test:\r\n\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n\r\nSecondary, what I usually do is executing exactly same commands from Jenkins on my local machine and usually it does help, from you error log I think it is not rest assured related, so please try to run MVN goal which is on Jenkins side locally and make sure you have the same error. If not, it can be a different configuration of maven for example via settings.xml in Jenkins machine.","title":"Build Failure in Jenkins, Found duplicate resources","body":"<p>What you can do is to follow the rule of scope, meaning that, separate dependencies according to their scopes, such as in your case, rest assured used for testing, why not to put it under the scope of a test:</p>\n\n<pre><code>&lt;scope&gt;test&lt;/scope&gt;\n</code></pre>\n\n<p>Secondary, what I usually do is executing exactly same commands from Jenkins on my local machine and usually it does help, from you error log I think it is not rest assured related, so please try to run MVN goal which is on Jenkins side locally and make sure you have the same error. If not, it can be a different configuration of maven for example via settings.xml in Jenkins machine.</p>\n"},{"tags":[],"owner":{"account_id":1941978,"reputation":649,"user_id":7495461,"accept_rate":36,"display_name":"krishna Ram"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1527570389,"creation_date":1527570389,"answer_id":50576647,"question_id":28949577,"body_markdown":"Use  &lt;ignoredClassPatterns&gt;&lt;/ignoredClassPatterns&gt; to avoid the duplicate finder.","title":"Build Failure in Jenkins, Found duplicate resources","body":"<p>Use   to avoid the duplicate finder.</p>\n"},{"tags":[],"owner":{"account_id":11897952,"reputation":1170,"user_id":8706759,"display_name":"Ganesh Chowdhary Sadanala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633672030,"creation_date":1633672030,"answer_id":69491040,"question_id":28949577,"body_markdown":"dependency:analyze-duplicate Analyzes the and tags in the pom.xml and determines the duplicate declared dependencies.\r\n\r\n      mvn dependency:analyze-duplicate","title":"Build Failure in Jenkins, Found duplicate resources","body":"<p>dependency:analyze-duplicate Analyzes the and tags in the pom.xml and determines the duplicate declared dependencies.</p>\n<pre><code>  mvn dependency:analyze-duplicate\n</code></pre>\n"}],"owner":{"account_id":4203710,"reputation":113,"user_id":3443193,"display_name":"user3443193"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10893,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1633672030,"creation_date":1425926964,"question_id":28949577,"body_markdown":"I recently added this dependency to pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy builds are failing in jenkins with the following error message:\r\n\r\n    [WARNING] Found duplicate resources in [org.codehaus.groovy:groovy:2.3.7,org.codehaus.groovy:groovy-json:2.3.7,org.codehaus.groovy:groovy-xml:2.3.7] :\r\n    [WARNING]   META-INF/groovy-release-info.properties\r\n    [JENKINS] Archiving disabled\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 5:37.485s\r\n    [INFO] Finished at: Mon Mar 09 10:10:49 PDT 2015\r\n    [INFO] Final Memory: 46M/381M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [JENKINS] Archiving disabled\r\n    Waiting for Jenkins to finish collecting data\r\n    [ERROR] Failed to execute goal com.ning.maven.plugins:maven-duplicate-finder-plugin:1.0.4:check (default) on project LightmileTest: Found duplicate classes/resources -&gt; [Help 1]\r\n\r\n","title":"Build Failure in Jenkins, Found duplicate resources","body":"<p>I recently added this dependency to pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>My builds are failing in jenkins with the following error message:</p>\n\n<pre><code>[WARNING] Found duplicate resources in [org.codehaus.groovy:groovy:2.3.7,org.codehaus.groovy:groovy-json:2.3.7,org.codehaus.groovy:groovy-xml:2.3.7] :\n[WARNING]   META-INF/groovy-release-info.properties\n[JENKINS] Archiving disabled\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 5:37.485s\n[INFO] Finished at: Mon Mar 09 10:10:49 PDT 2015\n[INFO] Final Memory: 46M/381M\n[INFO] ------------------------------------------------------------------------\n[JENKINS] Archiving disabled\nWaiting for Jenkins to finish collecting data\n[ERROR] Failed to execute goal com.ning.maven.plugins:maven-duplicate-finder-plugin:1.0.4:check (default) on project LightmileTest: Found duplicate classes/resources -&gt; [Help 1]\n</code></pre>\n"},{"tags":["java","spring","consul"],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1008,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1633671897,"creation_date":1633671897,"question_id":69491021,"body_markdown":"I am using Consul as my register center, now when the client spring boot application(spring-cloud-starter-consul-discovery version 2.2.7.RELEASE) start up, will show one error like this:\r\n\r\n\r\n\r\n\r\n    [13:13:54:269] [ERROR] - org.springframework.cloud.consul.discovery.ConsulCatalogWatch.catalogServicesWatch(ConsulCatalogWatch.java:148) - Error watching Consul CatalogServices\r\n    com.ecwid.consul.v1.OperationException: OperationException(statusCode=500, statusMessage=&#39;Internal Server Error&#39;, statusContent=&#39;rpc error making call: No cluster leader&#39;)\r\n    at com.ecwid.consul.v1.catalog.CatalogConsulClient.getCatalogServices(CatalogConsulClient.java:151) ~[consul-api-1.4.5.jar!/:?]\r\n    at com.ecwid.consul.v1.ConsulClient.getCatalogServices(ConsulClient.java:400) ~[consul-api-1.4.5.jar!/:?]\r\n    at org.springframework.cloud.consul.discovery.ConsulCatalogWatch.catalogServicesWatch(ConsulCatalogWatch.java:135) [spring-cloud-consul-discovery-2.2.7.RELEASE.jar!/:2.2.7.RELEASE]\r\n    at org.springframework.cloud.consul.discovery.ConsulCatalogWatch$$Lambda$1076/0x00000000fa715fb0.run(Unknown Source) [spring-cloud-consul-discovery-2.2.7.RELEASE.jar!/:2.2.7.RELEASE]\r\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.2.14.RELEASE.jar!/:5.2.14.RELEASE]\r\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]\r\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) [?:?]\r\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) [?:?]\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n    at java.lang.Thread.run(Thread.java:836) [?:?]\r\n\r\n\r\n\r\nI check the consul register center in kubernetes cluster with 3 node, all node running fine. it tell me no cluster leader but the application still running fine. why shows this error? is it possible to fix it? I searching from internet seems no one talk about the real reason. BTW, this is my consul config:\r\n\r\n\r\n    # registry center\r\n    spring.cloud.consul.host=consul-1630121482-headless.reddwarf-pro.svc.cluster.local\r\n    spring.cloud.consule.port=8500\r\n    spring.cloud.consul.enabled=true\r\n    spring.cloud.consul.discovery.heartbeat.ttl-unit=s\r\n    spring.cloud.consul.discovery.heartbeat.ttl-value=30\r\n    spring.cloud.consul.discovery.health-check-interval=15s\r\n    spring.cloud.consul.discovery.instance-id= ${spring.application.name}:${vcap.application.instance_id:${spring.application.instance_id:${random.value}}}\r\n    spring.cloud.consul.discovery.prefer-ip-address= true\r\n    spring.cloud.consul.discovery.deregister=true\r\n    # service check failed, delete service\r\n    spring.cloud.consul.discovery.health-check-critical-timeout=30s\r\n    spring.cloud.consul.discovery.heartbeat.enabled=true\r\n\r\n\r\n","title":"OperationException(statusCode=500, statusMessage=&#39;Internal Server Error&#39;, statusContent=&#39;rpc error making call: No cluster leader&#39;)","body":"<p>I am using Consul as my register center, now when the client spring boot application(spring-cloud-starter-consul-discovery version 2.2.7.RELEASE) start up, will show one error like this:</p>\n<pre><code>[13:13:54:269] [ERROR] - org.springframework.cloud.consul.discovery.ConsulCatalogWatch.catalogServicesWatch(ConsulCatalogWatch.java:148) - Error watching Consul CatalogServices\ncom.ecwid.consul.v1.OperationException: OperationException(statusCode=500, statusMessage='Internal Server Error', statusContent='rpc error making call: No cluster leader')\nat com.ecwid.consul.v1.catalog.CatalogConsulClient.getCatalogServices(CatalogConsulClient.java:151) ~[consul-api-1.4.5.jar!/:?]\nat com.ecwid.consul.v1.ConsulClient.getCatalogServices(ConsulClient.java:400) ~[consul-api-1.4.5.jar!/:?]\nat org.springframework.cloud.consul.discovery.ConsulCatalogWatch.catalogServicesWatch(ConsulCatalogWatch.java:135) [spring-cloud-consul-discovery-2.2.7.RELEASE.jar!/:2.2.7.RELEASE]\nat org.springframework.cloud.consul.discovery.ConsulCatalogWatch$$Lambda$1076/0x00000000fa715fb0.run(Unknown Source) [spring-cloud-consul-discovery-2.2.7.RELEASE.jar!/:2.2.7.RELEASE]\nat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.2.14.RELEASE.jar!/:5.2.14.RELEASE]\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]\nat java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) [?:?]\nat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) [?:?]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\nat java.lang.Thread.run(Thread.java:836) [?:?]\n</code></pre>\n<p>I check the consul register center in kubernetes cluster with 3 node, all node running fine. it tell me no cluster leader but the application still running fine. why shows this error? is it possible to fix it? I searching from internet seems no one talk about the real reason. BTW, this is my consul config:</p>\n<pre><code># registry center\nspring.cloud.consul.host=consul-1630121482-headless.reddwarf-pro.svc.cluster.local\nspring.cloud.consule.port=8500\nspring.cloud.consul.enabled=true\nspring.cloud.consul.discovery.heartbeat.ttl-unit=s\nspring.cloud.consul.discovery.heartbeat.ttl-value=30\nspring.cloud.consul.discovery.health-check-interval=15s\nspring.cloud.consul.discovery.instance-id= ${spring.application.name}:${vcap.application.instance_id:${spring.application.instance_id:${random.value}}}\nspring.cloud.consul.discovery.prefer-ip-address= true\nspring.cloud.consul.discovery.deregister=true\n# service check failed, delete service\nspring.cloud.consul.discovery.health-check-critical-timeout=30s\nspring.cloud.consul.discovery.heartbeat.enabled=true\n</code></pre>\n"},{"tags":["java","android","kotlin","screenshot"],"answers":[{"tags":[],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633671816,"creation_date":1633671816,"answer_id":69491007,"question_id":69476311,"body_markdown":"We can listen to `FileObserver` to detect when screenshot captured. Then delete the captured screenshot file from the storage.\r\n\r\nHere is the sample code for the `MediaListenerService`\r\n\r\n    import android.app.Service;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.net.Uri;\r\n    import android.os.Environment;\r\n    import android.os.FileObserver;\r\n    import android.os.Handler;\r\n    import android.os.IBinder;\r\n    import android.os.Looper;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.documentfile.provider.DocumentFile;\r\n    \r\n    import java.io.File;\r\n    \r\n    public class MediaListenerService extends Service {\r\n    \r\n        public static FileObserver observer;\r\n        private Context context;\r\n    \r\n        public MediaListenerService() {\r\n        }\r\n    \r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            context = this;\r\n            startWatching();\r\n        }\r\n    \r\n        private void startWatching() {\r\n            //The desired path to watch or monitor\r\n            String pathToWatch = Environment.getExternalStorageDirectory()\r\n                    + File.separator + Environment.DIRECTORY_PICTURES\r\n                    + File.separator + &quot;Screenshots&quot; + File.separator;\r\n            Toast.makeText(this, &quot;Service is Started and trying to watch &quot; + pathToWatch, Toast.LENGTH_LONG).show();\r\n    \r\n            observer = new FileObserver(pathToWatch, FileObserver.ALL_EVENTS) { // set up a file observer to watch this directory\r\n                @Override\r\n                public void onEvent(int event, final String file) {\r\n                    if (event == FileObserver.CREATE || event == FileObserver.CLOSE_WRITE || event == FileObserver.MODIFY || event == FileObserver.MOVED_TO &amp;&amp; !file.equals(&quot;.probe&quot;)) { // check that it&#39;s not equal to .probe because thats created every time camera is launched\r\n                        String filePath = pathToWatch + file;\r\n                        Log.d(&quot;MediaListenerService&quot;, &quot;File created [&quot; + filePath + &quot;]&quot;);\r\n                        new Handler(Looper.getMainLooper()).postDelayed(() -&gt; {\r\n    //                        Toast.makeText(getBaseContext(), file + &quot; was saved!&quot;, Toast.LENGTH_LONG).show();\r\n                            File screenShotFile = new File(pathToWatch, file);\r\n                            if (screenShotFile.exists()) {\r\n                                try {\r\n                                    boolean isDeleted = screenShotFile.delete();\r\n                                    if (isDeleted) {\r\n                                        Toast.makeText(getBaseContext(), file + &quot; was deleted!&quot;, Toast.LENGTH_LONG).show();\r\n                                        Log.d(&quot;MediaListenerService&quot;, &quot;File deleted [&quot; + filePath + &quot;]&quot;);\r\n                                    }\r\n                                } catch (Exception e) {\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                        }, 200L);\r\n                    }\r\n                }\r\n            };\r\n            observer.startWatching();\r\n        }\r\n    }\r\n\r\nAdd file permission in `Manifest`\r\n\r\n    &lt;uses-permission\r\n            android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n            tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:requestLegacyExternalStorage=&quot;true&quot;\r\n\r\n\r\nRegister your service in `Manifest` under application tag:\r\n\r\n    &lt;service\r\n      android:name=&quot;.MediaListenerService&quot;\r\n      android:enabled=&quot;true&quot;\r\n      android:exported=&quot;false&quot; /&gt;\r\n\r\nAnd check file storage permission and start service in MainActivity under `onCreate`\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n            if (checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\r\n                startService(Intent(baseContext, MediaListenerService::class.java))\r\n            } else {\r\n                ActivityCompat.requestPermissions(\r\n                    this,\r\n                    arrayOf(Manifest.permission.WRITE_EXTERNAL_STORAGE),\r\n                    123\r\n                )\r\n            }\r\n        }\r\n    }","title":"Prevent Screen Capture in Android One Devices","body":"<p>We can listen to <code>FileObserver</code> to detect when screenshot captured. Then delete the captured screenshot file from the storage.</p>\n<p>Here is the sample code for the <code>MediaListenerService</code></p>\n<pre><code>import android.app.Service;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Environment;\nimport android.os.FileObserver;\nimport android.os.Handler;\nimport android.os.IBinder;\nimport android.os.Looper;\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport androidx.documentfile.provider.DocumentFile;\n\nimport java.io.File;\n\npublic class MediaListenerService extends Service {\n\n    public static FileObserver observer;\n    private Context context;\n\n    public MediaListenerService() {\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        context = this;\n        startWatching();\n    }\n\n    private void startWatching() {\n        //The desired path to watch or monitor\n        String pathToWatch = Environment.getExternalStorageDirectory()\n                + File.separator + Environment.DIRECTORY_PICTURES\n                + File.separator + &quot;Screenshots&quot; + File.separator;\n        Toast.makeText(this, &quot;Service is Started and trying to watch &quot; + pathToWatch, Toast.LENGTH_LONG).show();\n\n        observer = new FileObserver(pathToWatch, FileObserver.ALL_EVENTS) { // set up a file observer to watch this directory\n            @Override\n            public void onEvent(int event, final String file) {\n                if (event == FileObserver.CREATE || event == FileObserver.CLOSE_WRITE || event == FileObserver.MODIFY || event == FileObserver.MOVED_TO &amp;&amp; !file.equals(&quot;.probe&quot;)) { // check that it's not equal to .probe because thats created every time camera is launched\n                    String filePath = pathToWatch + file;\n                    Log.d(&quot;MediaListenerService&quot;, &quot;File created [&quot; + filePath + &quot;]&quot;);\n                    new Handler(Looper.getMainLooper()).postDelayed(() -&gt; {\n//                        Toast.makeText(getBaseContext(), file + &quot; was saved!&quot;, Toast.LENGTH_LONG).show();\n                        File screenShotFile = new File(pathToWatch, file);\n                        if (screenShotFile.exists()) {\n                            try {\n                                boolean isDeleted = screenShotFile.delete();\n                                if (isDeleted) {\n                                    Toast.makeText(getBaseContext(), file + &quot; was deleted!&quot;, Toast.LENGTH_LONG).show();\n                                    Log.d(&quot;MediaListenerService&quot;, &quot;File deleted [&quot; + filePath + &quot;]&quot;);\n                                }\n                            } catch (Exception e) {\n                                e.printStackTrace();\n                            }\n                        }\n                    }, 200L);\n                }\n            }\n        };\n        observer.startWatching();\n    }\n}\n</code></pre>\n<p>Add file permission in <code>Manifest</code></p>\n<pre><code>&lt;uses-permission\n        android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n</code></pre>\n<p>Register your service in <code>Manifest</code> under application tag:</p>\n<pre><code>&lt;service\n  android:name=&quot;.MediaListenerService&quot;\n  android:enabled=&quot;true&quot;\n  android:exported=&quot;false&quot; /&gt;\n</code></pre>\n<p>And check file storage permission and start service in MainActivity under <code>onCreate</code></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        if (checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n            startService(Intent(baseContext, MediaListenerService::class.java))\n        } else {\n            ActivityCompat.requestPermissions(\n                this,\n                arrayOf(Manifest.permission.WRITE_EXTERNAL_STORAGE),\n                123\n            )\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3551028,"reputation":306,"user_id":5030210,"display_name":"akhilsreekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1633671816,"creation_date":1633587733,"question_id":69476311,"body_markdown":"I want to prevent screenshot capture in android phones. I added the line\r\n\r\n`requireActivity().window.setFlags(WindowManager.LayoutParams.FLAG_SECURE,\r\nWindowManager.LayoutParams.FLAG_SECURE)`\r\n\r\nThis is working fine in normal devices. But when I try on android one devices, ( https://www.android.com/intl/en_in/one/ ), it is still capturing screenshots.\r\n\r\nI tried other apps like AmazonPrime, Hotstar, and GooglePay on android one devices... In which though they are capturing the screenshots, the content is entirely black. How to achieve that or prevent a screenshot in android one devices.","title":"Prevent Screen Capture in Android One Devices","body":"<p>I want to prevent screenshot capture in android phones. I added the line</p>\n<p><code>requireActivity().window.setFlags(WindowManager.LayoutParams.FLAG_SECURE, WindowManager.LayoutParams.FLAG_SECURE)</code></p>\n<p>This is working fine in normal devices. But when I try on android one devices, ( <a href=\"https://www.android.com/intl/en_in/one/\" rel=\"noreferrer\">https://www.android.com/intl/en_in/one/</a> ), it is still capturing screenshots.</p>\n<p>I tried other apps like AmazonPrime, Hotstar, and GooglePay on android one devices... In which though they are capturing the screenshots, the content is entirely black. How to achieve that or prevent a screenshot in android one devices.</p>\n"},{"tags":["java","android","webrtc"],"comments":[{"owner":{"account_id":3996792,"reputation":48,"user_id":3294059,"display_name":"Kalana Perera"},"score":0,"creation_date":1650526115,"post_id":69491004,"comment_id":127139377,"body_markdown":"I am also researching about this and, found that libwebrtc doesn&#39;t support this (not confirmed) I am also totally new new.","body":"I am also researching about this and, found that libwebrtc doesn&#39;t support this (not confirmed) I am also totally new new."}],"owner":{"account_id":3107738,"reputation":61,"user_id":2630199,"display_name":"sunish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633671810,"creation_date":1633671810,"question_id":69491004,"body_markdown":"How to use Insertable Streams in Webrtc application developed using Android Native library?\r\nIs it possible to implement custom video frame processing by sender and receiver using Java code?\r\nCame across https://chromium.googlesource.com/external/webrtc/+/refs/heads/main/sdk/android/api/org/webrtc/FrameEncryptor.java but it does not allow processing the frames in Java code. \r\n\r\nAny help in this direction is appreciated. \r\n\r\nThanks in advance.\r\n","title":"WebRTC Android Native Insertable Streams","body":"<p>How to use Insertable Streams in Webrtc application developed using Android Native library?\nIs it possible to implement custom video frame processing by sender and receiver using Java code?\nCame across <a href=\"https://chromium.googlesource.com/external/webrtc/+/refs/heads/main/sdk/android/api/org/webrtc/FrameEncryptor.java\" rel=\"nofollow noreferrer\">https://chromium.googlesource.com/external/webrtc/+/refs/heads/main/sdk/android/api/org/webrtc/FrameEncryptor.java</a> but it does not allow processing the frames in Java code.</p>\n<p>Any help in this direction is appreciated.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","application.properties"],"answers":[{"tags":[],"owner":{"account_id":17352297,"reputation":2252,"user_id":12570528,"display_name":"Gregor Zurowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633671786,"creation_date":1633671786,"answer_id":69491001,"question_id":69490852,"body_markdown":"You will be able to retrieve your properties by annotating your properties class with [@Configuration](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Configuration.html) and [@ConfigurationProperties](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html):\r\n\r\n```\r\n@Configuration\r\n@ConfigurationProperties(prefix=&quot;maps&quot;)\r\npublic class ConfigProperties {\r\n    private Map&lt;String, String&gt; a;\r\n    private Map&lt;String, String&gt; b;\r\n\r\n    // getters and setters\r\n}\r\n```\r\n\r\nThe corresponding `application.yml` would look as follows:\r\n\r\n```\r\nmaps:\r\n  a:\r\n    key:\r\n      test1\r\n  b:\r\n    key:\r\n      test2\r\n```\r\n\r\nOr alternatively with an `application.properties` file:\r\n\r\n```\r\nmaps.a.key=test1\r\nmaps.b.key=test2\r\n```","title":"Merge property file into application.properties","body":"<p>You will be able to retrieve your properties by annotating your properties class with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Configuration.html\" rel=\"nofollow noreferrer\">@Configuration</a> and <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html\" rel=\"nofollow noreferrer\">@ConfigurationProperties</a>:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix=&quot;maps&quot;)\npublic class ConfigProperties {\n    private Map&lt;String, String&gt; a;\n    private Map&lt;String, String&gt; b;\n\n    // getters and setters\n}\n</code></pre>\n<p>The corresponding <code>application.yml</code> would look as follows:</p>\n<pre><code>maps:\n  a:\n    key:\n      test1\n  b:\n    key:\n      test2\n</code></pre>\n<p>Or alternatively with an <code>application.properties</code> file:</p>\n<pre><code>maps.a.key=test1\nmaps.b.key=test2\n</code></pre>\n"}],"owner":{"account_id":13698567,"reputation":55,"user_id":9884441,"display_name":"Ankita Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69491001,"answer_count":1,"score":0,"last_activity_date":1633671786,"creation_date":1633670625,"question_id":69490852,"body_markdown":"I have two properties files. Let&#39;s say a.properties and b.properties. these file values has been stored in maps created, let say aMap and bMap. \r\n``` \r\n@PropertySource(value={ &quot;classpath:a.properties&quot;, &quot;classpath:b.properties&quot;})\r\nClass propFile{\r\n   Private Map&lt;String, String&gt; aMap;\r\n   Private Map&lt;String, String&gt; bMap;\r\n}\r\n```\r\n\r\nI have to merge these property file into application.properties such that it works same way. Please provide me solution for this.\r\n\r\n","title":"Merge property file into application.properties","body":"<p>I have two properties files. Let's say a.properties and b.properties. these file values has been stored in maps created, let say aMap and bMap.</p>\n<pre><code>@PropertySource(value={ &quot;classpath:a.properties&quot;, &quot;classpath:b.properties&quot;})\nClass propFile{\n   Private Map&lt;String, String&gt; aMap;\n   Private Map&lt;String, String&gt; bMap;\n}\n</code></pre>\n<p>I have to merge these property file into application.properties such that it works same way. Please provide me solution for this.</p>\n"},{"tags":["java","spring-boot","rest","firebase-cloud-messaging","android-push-notification"],"answers":[{"tags":[],"owner":{"account_id":10363173,"reputation":303,"user_id":8694640,"display_name":"dope"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633671552,"creation_date":1633671552,"answer_id":69490967,"question_id":69490720,"body_markdown":"FCM no longer [provides][1] you status of the delivery of notification to the device. It only gives you an acknowledgement in the response of your POST request that the message has been received by the FCM system. Assign your response to a variable and check the output.\r\n\r\n    String response = restTemplate.postForObject(fcmMessageUrl, request, Object.class);\r\n    System.out.println(response);\r\n\r\nAlso, I&#39;ll strongly suggest you to use the [FCM admin SDK][2] in your project.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41700719/how-to-check-the-delivery-status-of-firebase-message-sent-to-an-android-applicat\r\n  [2]: https://firebase.google.com/docs/cloud-messaging/server#firebase-admin-sdk-for-fcm","title":"How to get the delivery status of notification from fcm in springboot?","body":"<p>FCM no longer <a href=\"https://stackoverflow.com/questions/41700719/how-to-check-the-delivery-status-of-firebase-message-sent-to-an-android-applicat\">provides</a> you status of the delivery of notification to the device. It only gives you an acknowledgement in the response of your POST request that the message has been received by the FCM system. Assign your response to a variable and check the output.</p>\n<pre><code>String response = restTemplate.postForObject(fcmMessageUrl, request, Object.class);\nSystem.out.println(response);\n</code></pre>\n<p>Also, I'll strongly suggest you to use the <a href=\"https://firebase.google.com/docs/cloud-messaging/server#firebase-admin-sdk-for-fcm\" rel=\"nofollow noreferrer\">FCM admin SDK</a> in your project.</p>\n"}],"owner":{"account_id":8389931,"reputation":503,"user_id":6298969,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":590,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633671552,"creation_date":1633669279,"question_id":69490720,"body_markdown":"Below is my code in spring boot.\r\n\r\n\r\n    private void sendNotification(FCMMessageRequestDTO fcmMessageRequestDTO) {\r\n        MultiValueMap&lt;String, String&gt; headers = new LinkedMultiValueMap&lt;&gt;();\r\n        headers.set(&quot;Authorization&quot;, fcmAuthorizationKey);\r\n        headers.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        restTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\r\n        HttpEntity&lt;FCMMessageRequestDTO&gt; request = new HttpEntity&lt;&gt;(fcmMessageRequestDTO, headers);\r\n        restTemplate.postForObject(fcmMessageUrl, request, Object.class);\r\n    }\r\n\r\nHere how can I check the status of delivery of notification to device.\r\n\r\nCan someone help me out in this.\r\n","title":"How to get the delivery status of notification from fcm in springboot?","body":"<p>Below is my code in spring boot.</p>\n<pre><code>private void sendNotification(FCMMessageRequestDTO fcmMessageRequestDTO) {\n    MultiValueMap&lt;String, String&gt; headers = new LinkedMultiValueMap&lt;&gt;();\n    headers.set(&quot;Authorization&quot;, fcmAuthorizationKey);\n    headers.add(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    RestTemplate restTemplate = new RestTemplate();\n    restTemplate.getMessageConverters().add(new MappingJackson2HttpMessageConverter());\n    HttpEntity&lt;FCMMessageRequestDTO&gt; request = new HttpEntity&lt;&gt;(fcmMessageRequestDTO, headers);\n    restTemplate.postForObject(fcmMessageUrl, request, Object.class);\n}\n</code></pre>\n<p>Here how can I check the status of delivery of notification to device.</p>\n<p>Can someone help me out in this.</p>\n"},{"tags":["java","performance","instanceof"],"comments":[{"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"score":88,"creation_date":1221843054,"post_id":103564,"comment_id":18149,"body_markdown":"I think the point of the question, however, was to set aside the question of best OO practice, and examine the performance.","body":"I think the point of the question, however, was to set aside the question of best OO practice, and examine the performance."},{"owner":{"account_id":1108,"reputation":9901,"user_id":1471,"accept_rate":64,"display_name":"Tim Frey"},"score":4,"creation_date":1221843257,"post_id":103564,"comment_id":18160,"body_markdown":"@Dave L.  Normally I would agree, but the OP does mention that he&#39;s looking for some general optimization techniques and he&#39;s not sure if his problem is related to &#39;instanceof&#39;.  I think it&#39;s worth at least mentioning the &#39;correct&#39; design so he can profile both choices.","body":"@Dave L.  Normally I would agree, but the OP does mention that he&#39;s looking for some general optimization techniques and he&#39;s not sure if his problem is related to &#39;instanceof&#39;.  I think it&#39;s worth at least mentioning the &#39;correct&#39; design so he can profile both choices."},{"owner":{"account_id":26655,"reputation":5119,"user_id":2453638,"accept_rate":93,"display_name":"gub"},"score":60,"creation_date":1273659537,"post_id":103564,"comment_id":2857341,"body_markdown":"Ugh... Why do all the answers miss the point of the question and supply the same old Knuth rhetoric about optimisation? Your question is about whether instanceof is significantly/surprisingly slower than checking the class object with ==, and I&#39;ve found that it is not.","body":"Ugh... Why do all the answers miss the point of the question and supply the same old Knuth rhetoric about optimisation? Your question is about whether instanceof is significantly/surprisingly slower than checking the class object with ==, and I&#39;ve found that it is not."},{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":3,"creation_date":1425645462,"post_id":103564,"comment_id":46057085,"body_markdown":"The performance of instanceof and casting is quite good.  I posted some timing in Java7 around different approaches to the problem here: http://stackoverflow.com/questions/16320014/java-optimization-nitpick-is-it-faster-to-cast-something-and-let-it-throw-excep/28858680#28858680","body":"The performance of instanceof and casting is quite good.  I posted some timing in Java7 around different approaches to the problem here: <a href=\"http://stackoverflow.com/questions/16320014/java-optimization-nitpick-is-it-faster-to-cast-something-and-let-it-throw-excep/28858680#28858680\" title=\"java optimization nitpick is it faster to cast something and let it throw excep\">stackoverflow.com/questions/16320014/&hellip;</a>"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":2,"creation_date":1607374877,"post_id":103564,"comment_id":115248056,"body_markdown":"It is necessary for proper implementations of `equals(Object)` to use `instanceof`, and calls of `equals(Object)` are very common, so I would expect most JVMs can do it very efficiently.","body":"It is necessary for proper implementations of <code>equals(Object)</code> to use <code>instanceof</code>, and calls of <code>equals(Object)</code> are very common, so I would expect most JVMs can do it very efficiently."}],"answers":[{"tags":[],"owner":{"account_id":10149,"reputation":3481,"user_id":19029,"display_name":"Steve"},"down_vote_count":27,"up_vote_count":323,"is_accepted":true,"score":296,"last_activity_date":1599552226,"creation_date":1221842745,"answer_id":103600,"question_id":103564,"body_markdown":"Modern JVM/JIT compilers have removed the performance hit of most of the traditionally &quot;slow&quot; operations, including instanceof, exception handling, reflection, etc.\r\n\r\nAs Donald Knuth wrote, &quot;We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil.&quot;  The performance of instanceof probably won&#39;t be an issue, so don&#39;t waste your time coming up with exotic workarounds until you&#39;re sure that&#39;s the problem.","title":"The performance impact of using instanceof in Java","body":"<p>Modern JVM/JIT compilers have removed the performance hit of most of the traditionally &quot;slow&quot; operations, including instanceof, exception handling, reflection, etc.</p>\n<p>As Donald Knuth wrote, &quot;We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil.&quot;  The performance of instanceof probably won't be an issue, so don't waste your time coming up with exotic workarounds until you're sure that's the problem.</p>\n"},{"tags":[],"owner":{"account_id":2397,"reputation":179869,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1221842765,"creation_date":1221842765,"answer_id":103602,"question_id":103564,"body_markdown":"Generally the reason why the &quot;instanceof&quot; operator is frowned upon in a case like that (where the instanceof is checking for subclasses of this base class) is because what you should be doing is moving the operations into a method and overridding it for the appropriate subclasses.  For instance, if you have:\r\n\r\n    if (o instanceof Class1)\r\n       doThis();\r\n    else if (o instanceof Class2)\r\n       doThat();\r\n    //...\r\n\r\nYou can replace that with\r\n\r\n    o.doEverything();\r\n\r\nand then have the implementation of &quot;doEverything()&quot; in Class1 call &quot;doThis()&quot;, and in Class2 call &quot;doThat()&quot;, and so on.\r\n","title":"The performance impact of using instanceof in Java","body":"<p>Generally the reason why the \"instanceof\" operator is frowned upon in a case like that (where the instanceof is checking for subclasses of this base class) is because what you should be doing is moving the operations into a method and overridding it for the appropriate subclasses.  For instance, if you have:</p>\n\n<pre><code>if (o instanceof Class1)\n   doThis();\nelse if (o instanceof Class2)\n   doThat();\n//...\n</code></pre>\n\n<p>You can replace that with</p>\n\n<pre><code>o.doEverything();\n</code></pre>\n\n<p>and then have the implementation of \"doEverything()\" in Class1 call \"doThis()\", and in Class2 call \"doThat()\", and so on.</p>\n"},{"tags":[],"owner":{"account_id":1108,"reputation":9901,"user_id":1471,"accept_rate":64,"display_name":"Tim Frey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1221842816,"creation_date":1221842816,"answer_id":103611,"question_id":103564,"body_markdown":"&#39;instanceof&#39; is actually an operator, like + or -, and I believe that it has its own JVM bytecode instruction.  It should be plenty fast.\r\n\r\nI should not that if you have a switch where you are testing if an object is an instance of some subsclass, then your design might need to be reworked.  Consider pushing the subclass-specific behavior down into the subclasses themselves.","title":"The performance impact of using instanceof in Java","body":"<p>'instanceof' is actually an operator, like + or -, and I believe that it has its own JVM bytecode instruction.  It should be plenty fast.</p>\n\n<p>I should not that if you have a switch where you are testing if an object is an instance of some subsclass, then your design might need to be reworked.  Consider pushing the subclass-specific behavior down into the subclasses themselves.</p>\n"},{"tags":[],"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1221842974,"creation_date":1221842974,"answer_id":103632,"question_id":103564,"body_markdown":"Instanceof is very fast. It boils down to a bytecode that is used for class reference comparison. Try a few million instanceofs in a loop and see for yourself.\r\n","title":"The performance impact of using instanceof in Java","body":"<p>Instanceof is very fast. It boils down to a bytecode that is used for class reference comparison. Try a few million instanceofs in a loop and see for yourself.</p>\n"},{"tags":[],"owner":{"account_id":9509,"reputation":3190,"user_id":17613,"accept_rate":62,"display_name":"Karl"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1221843042,"creation_date":1221843042,"answer_id":103639,"question_id":103564,"body_markdown":"You should measure/profile if it&#39;s really a performance issue in your project. If it is I&#39;d recommend a redesign - if possible. I&#39;m pretty sure you can&#39;t beat the platform&#39;s native implementation (written in C). You should also consider the multiple inheritance in this case.\r\n\r\nYou should tell more about the problem, maybe you could use an associative store, e.g. a Map&amp;lt;Class, Object&gt; if you are only interested in the concrete types.","title":"The performance impact of using instanceof in Java","body":"<p>You should measure/profile if it's really a performance issue in your project. If it is I'd recommend a redesign - if possible. I'm pretty sure you can't beat the platform's native implementation (written in C). You should also consider the multiple inheritance in this case.</p>\n\n<p>You should tell more about the problem, maybe you could use an associative store, e.g. a Map&lt;Class, Object> if you are only interested in the concrete types.</p>\n"},{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":4,"up_vote_count":23,"is_accepted":false,"score":19,"last_activity_date":1258453227,"creation_date":1221843060,"answer_id":103642,"question_id":103564,"body_markdown":"Answering your very last question: Unless a profiler tells you, that you spend ridiculous amounts of time in an instanceof: Yes, you&#39;re nitpicking.\r\n\r\nBefore wondering about optimizing something that never needed to be optimized: Write your algorithm in the most readable way and run it. Run it, until the jit-compiler gets a chance to optimize it itself. If you then have problems with this piece of code, use a profiler to tell you, where to gain the most and optimize this.\r\n\r\nIn times of highly optimizing compilers, your guesses about bottlenecks will be likely to be completely wrong.\r\n\r\nAnd in true spirit of this answer (which I wholeheartly believe): I absolutely don&#39;t know how instanceof and == relate once the jit-compiler got a chance to optimize it.\r\n\r\nI forgot: Never measure the first run.","title":"The performance impact of using instanceof in Java","body":"<p>Answering your very last question: Unless a profiler tells you, that you spend ridiculous amounts of time in an instanceof: Yes, you're nitpicking.</p>\n\n<p>Before wondering about optimizing something that never needed to be optimized: Write your algorithm in the most readable way and run it. Run it, until the jit-compiler gets a chance to optimize it itself. If you then have problems with this piece of code, use a profiler to tell you, where to gain the most and optimize this.</p>\n\n<p>In times of highly optimizing compilers, your guesses about bottlenecks will be likely to be completely wrong.</p>\n\n<p>And in true spirit of this answer (which I wholeheartly believe): I absolutely don't know how instanceof and == relate once the jit-compiler got a chance to optimize it.</p>\n\n<p>I forgot: Never measure the first run.</p>\n"},{"tags":[],"owner":{"account_id":7985,"reputation":8020,"user_id":14092,"accept_rate":100,"display_name":"tloach"},"down_vote_count":7,"up_vote_count":2,"is_accepted":false,"score":-5,"last_activity_date":1221843071,"creation_date":1221843071,"answer_id":103643,"question_id":103564,"body_markdown":"You&#39;re focusing on the wrong thing.  The difference between instanceof and any other method for checking the same thing would probably not even be measurable.  If performance is critical then Java is probably the wrong language.  The major reason being that you can&#39;t control when the VM decides it wants to go collect garbage, which can take the CPU to 100% for several seconds in a large program (MagicDraw 10 was great for that).  Unless you are in control of every computer this program will run on you can&#39;t guarantee which version of JVM it will be on, and many of the older ones had major speed issues.  If it&#39;s a small app you may be ok with Java, but if you are constantly reading and discarding data then you *will* notice when the GC kicks in.","title":"The performance impact of using instanceof in Java","body":"<p>You're focusing on the wrong thing.  The difference between instanceof and any other method for checking the same thing would probably not even be measurable.  If performance is critical then Java is probably the wrong language.  The major reason being that you can't control when the VM decides it wants to go collect garbage, which can take the CPU to 100% for several seconds in a large program (MagicDraw 10 was great for that).  Unless you are in control of every computer this program will run on you can't guarantee which version of JVM it will be on, and many of the older ones had major speed issues.  If it's a small app you may be ok with Java, but if you are constantly reading and discarding data then you <em>will</em> notice when the GC kicks in.</p>\n"},{"tags":[],"owner":{"account_id":8706,"reputation":127350,"user_id":15809,"accept_rate":79,"display_name":"Mecki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1221843493,"creation_date":1221843493,"answer_id":103683,"question_id":103564,"body_markdown":"It&#39;s hard to say how a certain JVM implements instance of, but in most cases, Objects are comparable to structs and classes are as well and every object struct has a pointer to the the class struct it is an instance of. So actually instanceof for\r\n\r\n    if (o instanceof java.lang.String)\r\n\r\nmight be as fast as the following C code\r\n\r\n    if (objectStruct-&gt;iAmInstanceOf == &amp;java_lang_String_class)\r\n\r\nassuming a JIT compiler is in place and does a decent job.\r\n\r\nConsidering that this is only accessing a pointer, getting a pointer at a certain offset the pointer points to and comparing this to another pointer (which is basically the same as testing to 32 bit numbers being equal), I&#39;d say the operation can actually be very fast.\r\n\r\nIt doesn&#39;t have to, though, it depends a lot on the JVM. However, if this would turn out to be the bottleneck operation in your code, I&#39;d consider the JVM implementation rather poor. Even one that has no JIT compiler and only interprets code should be able to make an instanceof test in virtually no time.","title":"The performance impact of using instanceof in Java","body":"<p>It's hard to say how a certain JVM implements instance of, but in most cases, Objects are comparable to structs and classes are as well and every object struct has a pointer to the the class struct it is an instance of. So actually instanceof for</p>\n\n<pre><code>if (o instanceof java.lang.String)\n</code></pre>\n\n<p>might be as fast as the following C code</p>\n\n<pre><code>if (objectStruct-&gt;iAmInstanceOf == &amp;java_lang_String_class)\n</code></pre>\n\n<p>assuming a JIT compiler is in place and does a decent job.</p>\n\n<p>Considering that this is only accessing a pointer, getting a pointer at a certain offset the pointer points to and comparing this to another pointer (which is basically the same as testing to 32 bit numbers being equal), I'd say the operation can actually be very fast.</p>\n\n<p>It doesn't have to, though, it depends a lot on the JVM. However, if this would turn out to be the bottleneck operation in your code, I'd consider the JVM implementation rather poor. Even one that has no JIT compiler and only interprets code should be able to make an instanceof test in virtually no time.</p>\n"},{"tags":[],"owner":{"account_id":5268,"reputation":163,"user_id":8385,"display_name":"Demian Krige"},"down_vote_count":19,"up_vote_count":20,"is_accepted":false,"score":1,"last_activity_date":1221844509,"creation_date":1221844509,"answer_id":103802,"question_id":103564,"body_markdown":"**InstanceOf** is a warning of poor Object Oriented design.\r\n\r\nCurrent JVMs do mean the **instanceOf** is not much of a performance worry in itself. If you are finding yourself using it a lot, especially for core functionality, it is probably time to look at the design. The performance (and simplicity/maintainability) gains of refactoring to a better design will greatly outweigh any actual processor cycles spent on the actual **instanceOf** call.\r\n\r\nTo give a very small simplistic programming example.\r\n\r\n    if (SomeObject instanceOf Integer) {\r\n      [do something]\r\n    }\r\n    if (SomeObject instanceOf Double) {\r\n      [do something different]\r\n    }\r\n\r\nIs a poor architecture a better choice would have been to have SomeObject be the parent class of two child classes where each child class overrides a method (doSomething) so the code would look as such:\r\n\r\n    Someobject.doSomething();\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"The performance impact of using instanceof in Java","body":"<p><strong>InstanceOf</strong> is a warning of poor Object Oriented design.</p>\n\n<p>Current JVMs do mean the <strong>instanceOf</strong> is not much of a performance worry in itself. If you are finding yourself using it a lot, especially for core functionality, it is probably time to look at the design. The performance (and simplicity/maintainability) gains of refactoring to a better design will greatly outweigh any actual processor cycles spent on the actual <strong>instanceOf</strong> call.</p>\n\n<p>To give a very small simplistic programming example.</p>\n\n<pre><code>if (SomeObject instanceOf Integer) {\n  [do something]\n}\nif (SomeObject instanceOf Double) {\n  [do something different]\n}\n</code></pre>\n\n<p>Is a poor architecture a better choice would have been to have SomeObject be the parent class of two child classes where each child class overrides a method (doSomething) so the code would look as such:</p>\n\n<pre><code>Someobject.doSomething();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1221851393,"creation_date":1221851393,"answer_id":104633,"question_id":103564,"body_markdown":"In modern Java version the instanceof operator is faster as a simple method call. This means:\r\n\r\n    if(a instanceof AnyObject){\r\n    }\r\n\r\nis faster as:\r\n\r\n    if(a.getType() == XYZ){\r\n    }\r\n\r\nAnother thing is if you need to cascade many instanceof. Then a switch that only call once getType() is faster.\r\n","title":"The performance impact of using instanceof in Java","body":"<p>In modern Java version the instanceof operator is faster as a simple method call. This means:</p>\n\n<pre><code>if(a instanceof AnyObject){\n}\n</code></pre>\n\n<p>is faster as:</p>\n\n<pre><code>if(a.getType() == XYZ){\n}\n</code></pre>\n\n<p>Another thing is if you need to cascade many instanceof. Then a switch that only call once getType() is faster.</p>\n"},{"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1222012276,"creation_date":1222012276,"answer_id":111271,"question_id":103564,"body_markdown":"Demian and Paul mention a good point; _however_, the placement of the code to execute really depends on how you want to use the data...\r\n\r\nI&#39;m a big fan of small data objects that can be used in many ways. If you follow the override (polymorphic) approach, your objects can only be used &quot;one way&quot;.\r\n\r\nThis is where patterns come in...\r\n\r\nYou can use double-dispatch (as in the visitor pattern) to ask each object to &quot;call you&quot; passing itself -- this will resolve the type of the object. _However_ (again) you&#39;ll need a class that can &quot;do stuff&quot; with all of the possible subtypes.\r\n\r\nI prefer to use a strategy pattern, where you can register strategies for each subtype you want to handle. Something like the following. Note that this only helps for exact type matches, but has the advantage that it&#39;s extensible - third-party contributors can add their own types and handlers. (This is good for dynamic frameworks like OSGi, where new bundles can be added)\r\n\r\nHopefully this will inspire some other ideas...\r\n\r\n\r\n    package com.javadude.sample;\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    public class StrategyExample {\r\n        static class SomeCommonSuperType {}\r\n        static class SubType1 extends SomeCommonSuperType {}\r\n        static class SubType2 extends SomeCommonSuperType {}\r\n        static class SubType3 extends SomeCommonSuperType {}\r\n\r\n        static interface Handler&lt;T extends SomeCommonSuperType&gt; {\r\n            Object handle(T object);\r\n        }\r\n\r\n        static class HandlerMap {\r\n            private Map&lt;Class&lt;? extends SomeCommonSuperType&gt;, Handler&lt;? extends SomeCommonSuperType&gt;&gt; handlers_ =\r\n                new HashMap&lt;Class&lt;? extends SomeCommonSuperType&gt;, Handler&lt;? extends SomeCommonSuperType&gt;&gt;();\r\n            public &lt;T extends SomeCommonSuperType&gt; void add(Class&lt;T&gt; c, Handler&lt;T&gt; handler) {\r\n                handlers_.put(c, handler);\r\n            }\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            public &lt;T extends SomeCommonSuperType&gt; Object handle(T o) {\r\n                return ((Handler&lt;T&gt;) handlers_.get(o.getClass())).handle(o);\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            HandlerMap handlerMap = new HandlerMap();\r\n\r\n            handlerMap.add(SubType1.class, new Handler&lt;SubType1&gt;() {\r\n                @Override public Object handle(SubType1 object) {\r\n                    System.out.println(&quot;Handling SubType1&quot;);\r\n                    return null;\r\n                } });\r\n            handlerMap.add(SubType2.class, new Handler&lt;SubType2&gt;() {\r\n                @Override public Object handle(SubType2 object) {\r\n                    System.out.println(&quot;Handling SubType2&quot;);\r\n                    return null;\r\n                } });\r\n            handlerMap.add(SubType3.class, new Handler&lt;SubType3&gt;() {\r\n                @Override public Object handle(SubType3 object) {\r\n                    System.out.println(&quot;Handling SubType3&quot;);\r\n                    return null;\r\n                } });\r\n\r\n            SubType1 subType1 = new SubType1();\r\n            handlerMap.handle(subType1);\r\n            SubType2 subType2 = new SubType2();\r\n            handlerMap.handle(subType2);\r\n            SubType3 subType3 = new SubType3();\r\n            handlerMap.handle(subType3);\r\n        }\r\n    }\r\n","title":"The performance impact of using instanceof in Java","body":"<p>Demian and Paul mention a good point; <em>however</em>, the placement of the code to execute really depends on how you want to use the data...</p>\n\n<p>I'm a big fan of small data objects that can be used in many ways. If you follow the override (polymorphic) approach, your objects can only be used \"one way\".</p>\n\n<p>This is where patterns come in...</p>\n\n<p>You can use double-dispatch (as in the visitor pattern) to ask each object to \"call you\" passing itself -- this will resolve the type of the object. <em>However</em> (again) you'll need a class that can \"do stuff\" with all of the possible subtypes.</p>\n\n<p>I prefer to use a strategy pattern, where you can register strategies for each subtype you want to handle. Something like the following. Note that this only helps for exact type matches, but has the advantage that it's extensible - third-party contributors can add their own types and handlers. (This is good for dynamic frameworks like OSGi, where new bundles can be added)</p>\n\n<p>Hopefully this will inspire some other ideas...</p>\n\n<pre><code>package com.javadude.sample;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class StrategyExample {\n    static class SomeCommonSuperType {}\n    static class SubType1 extends SomeCommonSuperType {}\n    static class SubType2 extends SomeCommonSuperType {}\n    static class SubType3 extends SomeCommonSuperType {}\n\n    static interface Handler&lt;T extends SomeCommonSuperType&gt; {\n        Object handle(T object);\n    }\n\n    static class HandlerMap {\n        private Map&lt;Class&lt;? extends SomeCommonSuperType&gt;, Handler&lt;? extends SomeCommonSuperType&gt;&gt; handlers_ =\n            new HashMap&lt;Class&lt;? extends SomeCommonSuperType&gt;, Handler&lt;? extends SomeCommonSuperType&gt;&gt;();\n        public &lt;T extends SomeCommonSuperType&gt; void add(Class&lt;T&gt; c, Handler&lt;T&gt; handler) {\n            handlers_.put(c, handler);\n        }\n        @SuppressWarnings(\"unchecked\")\n        public &lt;T extends SomeCommonSuperType&gt; Object handle(T o) {\n            return ((Handler&lt;T&gt;) handlers_.get(o.getClass())).handle(o);\n        }\n    }\n\n    public static void main(String[] args) {\n        HandlerMap handlerMap = new HandlerMap();\n\n        handlerMap.add(SubType1.class, new Handler&lt;SubType1&gt;() {\n            @Override public Object handle(SubType1 object) {\n                System.out.println(\"Handling SubType1\");\n                return null;\n            } });\n        handlerMap.add(SubType2.class, new Handler&lt;SubType2&gt;() {\n            @Override public Object handle(SubType2 object) {\n                System.out.println(\"Handling SubType2\");\n                return null;\n            } });\n        handlerMap.add(SubType3.class, new Handler&lt;SubType3&gt;() {\n            @Override public Object handle(SubType3 object) {\n                System.out.println(\"Handling SubType3\");\n                return null;\n            } });\n\n        SubType1 subType1 = new SubType1();\n        handlerMap.handle(subType1);\n        SubType2 subType2 = new SubType2();\n        handlerMap.handle(subType2);\n        SubType3 subType3 = new SubType3();\n        handlerMap.handle(subType3);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"Dan Mihai Ile"},"down_vote_count":7,"up_vote_count":83,"is_accepted":false,"score":76,"last_activity_date":1230552806,"creation_date":1230552806,"answer_id":397617,"question_id":103564,"body_markdown":"I just made a simple test to see how instanceOf performance is comparing to a simple s.equals() call to a string object with only one letter.\r\n\r\nin a 10.000.000 loop the instanceOf gave me 63-96ms, and the string equals gave me 106-230ms\r\n\r\nI used java jvm 6.\r\n\r\nSo in my simple test is faster to do a instanceOf instead of a one character string comparison.\r\n\r\nusing Integer&#39;s .equals() instead of string&#39;s gave me the same result, only when I used the == i was faster than instanceOf by 20ms (in a 10.000.000 loop)","title":"The performance impact of using instanceof in Java","body":"<p>I just made a simple test to see how instanceOf performance is comparing to a simple s.equals() call to a string object with only one letter.</p>\n\n<p>in a 10.000.000 loop the instanceOf gave me 63-96ms, and the string equals gave me 106-230ms</p>\n\n<p>I used java jvm 6.</p>\n\n<p>So in my simple test is faster to do a instanceOf instead of a one character string comparison.</p>\n\n<p>using Integer's .equals() instead of string's gave me the same result, only when I used the == i was faster than instanceOf by 20ms (in a 10.000.000 loop)</p>\n"},{"tags":[],"owner":{"display_name":"Varkhan"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1233081028,"creation_date":1233081028,"answer_id":484619,"question_id":103564,"body_markdown":"instanceof is probably going to be more costly than a simple equals in most real world implementations (that is, the ones where instanceof is really needed, and you can&#39;t just solve it by overriding a common method, like every beginner textbook as well as Demian above suggest).\r\n\r\nWhy is that? Because what is probably going to happen is that you have several interfaces, that provide some functionality (let&#39;s say, interfaces x, y and z), and some objects to manipulate that may (or not) implement one of those interfaces... but not directly. Say, for instance, I have:\r\n\r\nw extends x\r\n\r\nA implements w\r\n\r\nB extends A\r\n\r\nC extends B, implements y\r\n\r\nD extends C, implements z\r\n\r\nSuppose I am processing an instance of D, the object d. Computing (d instanceof x) requires to take d.getClass(), loop through the interfaces it implements to know whether one is == to x, and if not do so again recursively for all of their ancestors...\r\nIn our case, if you do a breadth first exploration of that tree, yields at least 8 comparisons, supposing y and z don&#39;t extend anything...\r\n\r\nThe complexity of a real-world derivation tree is likely to be higher. In some cases, the JIT can optimize most of it away, if it is able to resolve in advance d as being, in all possible cases, an instance of something that extends x. Realistically, however, you are going to go through that tree traversal most of the time.\r\n\r\nIf that becomes an issue, I would suggest using a handler map instead, linking the concrete class of the object to a closure that does the handling. It removes the tree traversal phase in favor of a direct mapping. However, beware that if you have set a handler for C.class, my object d above will not be recognized.\r\n\r\nhere are my 2 cents, I hope they help...","title":"The performance impact of using instanceof in Java","body":"<p>instanceof is probably going to be more costly than a simple equals in most real world implementations (that is, the ones where instanceof is really needed, and you can't just solve it by overriding a common method, like every beginner textbook as well as Demian above suggest).</p>\n\n<p>Why is that? Because what is probably going to happen is that you have several interfaces, that provide some functionality (let's say, interfaces x, y and z), and some objects to manipulate that may (or not) implement one of those interfaces... but not directly. Say, for instance, I have:</p>\n\n<p>w extends x</p>\n\n<p>A implements w</p>\n\n<p>B extends A</p>\n\n<p>C extends B, implements y</p>\n\n<p>D extends C, implements z</p>\n\n<p>Suppose I am processing an instance of D, the object d. Computing (d instanceof x) requires to take d.getClass(), loop through the interfaces it implements to know whether one is == to x, and if not do so again recursively for all of their ancestors...\nIn our case, if you do a breadth first exploration of that tree, yields at least 8 comparisons, supposing y and z don't extend anything...</p>\n\n<p>The complexity of a real-world derivation tree is likely to be higher. In some cases, the JIT can optimize most of it away, if it is able to resolve in advance d as being, in all possible cases, an instance of something that extends x. Realistically, however, you are going to go through that tree traversal most of the time.</p>\n\n<p>If that becomes an issue, I would suggest using a handler map instead, linking the concrete class of the object to a closure that does the handling. It removes the tree traversal phase in favor of a direct mapping. However, beware that if you have set a handler for C.class, my object d above will not be recognized.</p>\n\n<p>here are my 2 cents, I hope they help...</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1233086824,"creation_date":1233086824,"answer_id":485003,"question_id":103564,"body_markdown":"instanceof is very efficient, so your performance is unlikely to suffer.\r\nHowever, using lots of instanceof suggests a design issue.\r\n\r\nIf you can use xClass == String.class, this is faster.  Note: you don&#39;t need instanceof for final classes.","title":"The performance impact of using instanceof in Java","body":"<p>instanceof is very efficient, so your performance is unlikely to suffer.\nHowever, using lots of instanceof suggests a design issue.</p>\n\n<p>If you can use xClass == String.class, this is faster.  Note: you don't need instanceof for final classes.</p>\n"},{"tags":[],"owner":{"display_name":"Miles Elam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1235006701,"creation_date":1235006701,"answer_id":563575,"question_id":103564,"body_markdown":"With regard to Peter Lawrey&#39;s note that you don&#39;t need instanceof for final classes and can just use a reference equality, be careful!  Even though the final classes cannot be extended, they are not guaranteed to be loaded by the same classloader.  Only use x.getClass() == SomeFinal.class or its ilk if you are absolutely positive that there is only one classloader in play for that section of code.","title":"The performance impact of using instanceof in Java","body":"<p>With regard to Peter Lawrey's note that you don't need instanceof for final classes and can just use a reference equality, be careful!  Even though the final classes cannot be extended, they are not guaranteed to be loaded by the same classloader.  Only use x.getClass() == SomeFinal.class or its ilk if you are absolutely positive that there is only one classloader in play for that section of code.</p>\n"},{"tags":[],"owner":{"account_id":8011,"reputation":29400,"user_id":14139,"accept_rate":84,"display_name":"brianegge"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1257132956,"creation_date":1257132956,"answer_id":1659318,"question_id":103564,"body_markdown":"The items which will determine the performance impact are:\r\n\r\n 1. The number of possible classes for which the instanceof operator could return true\r\n 2. The distribution of your data - are most of the instanceof operations resolved in the first or second attempt?  You&#39;ll want to put your most likely to return true operations first.\r\n 3. The deployment environment.  Running on a Sun Solaris VM is significantly different than Sun&#39;s Windows JVM. Solaris will run in &#39;server&#39; mode by default, while Windows will run in client mode.  The JIT optimizations on Solaris, will make all method access able the same.  \r\n\r\nI created a [microbenchmark for four different methods of dispatch][1].  The results from Solaris are as follows, with the smaller number being faster:\r\n\r\n    InstanceOf 3156\r\n    class== 2925 \r\n    OO 3083 \r\n    Id 3067 \r\n\r\n\r\n  [1]: http://www.theeggeadventure.com/wikimedia/index.php/InstanceOf_Performance","title":"The performance impact of using instanceof in Java","body":"<p>The items which will determine the performance impact are:</p>\n\n<ol>\n<li>The number of possible classes for which the instanceof operator could return true</li>\n<li>The distribution of your data - are most of the instanceof operations resolved in the first or second attempt?  You'll want to put your most likely to return true operations first.</li>\n<li>The deployment environment.  Running on a Sun Solaris VM is significantly different than Sun's Windows JVM. Solaris will run in 'server' mode by default, while Windows will run in client mode.  The JIT optimizations on Solaris, will make all method access able the same.  </li>\n</ol>\n\n<p>I created a <a href=\"http://www.theeggeadventure.com/wikimedia/index.php/InstanceOf_Performance\" rel=\"noreferrer\">microbenchmark for four different methods of dispatch</a>.  The results from Solaris are as follows, with the smaller number being faster:</p>\n\n<pre><code>InstanceOf 3156\nclass== 2925 \nOO 3083 \nId 3067 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1310811206,"creation_date":1310811206,"answer_id":6716713,"question_id":103564,"body_markdown":"`instanceof` is really fast, taking only a few CPU instructions.\r\n\r\nApparently, if a class `X` has no subclasses loaded (JVM knows), `instanceof` can be optimized as:\r\n   \r\n         x instanceof X    \r\n    ==&gt;  x.getClass()==X.class  \r\n    ==&gt;  x.classID == constant_X_ID\r\n\r\nThe main cost is just a read!\r\n\r\nIf `X` does have subclasses loaded, a few more reads are needed; they are likely co-located so the extra cost is very low too.\r\n\r\nGood news everyone!","title":"The performance impact of using instanceof in Java","body":"<p><code>instanceof</code> is really fast, taking only a few CPU instructions.</p>\n\n<p>Apparently, if a class <code>X</code> has no subclasses loaded (JVM knows), <code>instanceof</code> can be optimized as:</p>\n\n<pre><code>     x instanceof X    \n==&gt;  x.getClass()==X.class  \n==&gt;  x.classID == constant_X_ID\n</code></pre>\n\n<p>The main cost is just a read!</p>\n\n<p>If <code>X</code> does have subclasses loaded, a few more reads are needed; they are likely co-located so the extra cost is very low too.</p>\n\n<p>Good news everyone!</p>\n"},{"tags":[],"owner":{"account_id":462905,"reputation":7596,"user_id":865481,"display_name":"Salix alba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1311776023,"creation_date":1311776023,"answer_id":6845904,"question_id":103564,"body_markdown":"If speed is your sole aim then using int constants to identify sub classes seems to shave a milliseconds of the time\r\n\r\n    static final int ID_A = 0;\r\n    static final int ID_B = 1;\r\n    abstract class Base {\r\n      final int id;\r\n      Base(int i) { id = i; }\r\n    }\r\n    class A extends Base {\r\n     A() { super(ID_A); }\r\n    }\r\n    class B extends Base {\r\n     B() { super(ID_B); }\r\n    }\r\n    ...\r\n    Base obj = ...\r\n    switch(obj.id) {\r\n    case  ID_A: .... break;\r\n    case  ID_B: .... break;\r\n    }\r\n\r\nterrible OO design, but if your performance analysis indicates this is where you bottleneck is then maybe. In my code the dispatch code takes 10% of total execution time and this maybe contributed to a 1% total speed improvement.\r\n\r\n","title":"The performance impact of using instanceof in Java","body":"<p>If speed is your sole aim then using int constants to identify sub classes seems to shave a milliseconds of the time</p>\n\n<pre><code>static final int ID_A = 0;\nstatic final int ID_B = 1;\nabstract class Base {\n  final int id;\n  Base(int i) { id = i; }\n}\nclass A extends Base {\n A() { super(ID_A); }\n}\nclass B extends Base {\n B() { super(ID_B); }\n}\n...\nBase obj = ...\nswitch(obj.id) {\ncase  ID_A: .... break;\ncase  ID_B: .... break;\n}\n</code></pre>\n\n<p>terrible OO design, but if your performance analysis indicates this is where you bottleneck is then maybe. In my code the dispatch code takes 10% of total execution time and this maybe contributed to a 1% total speed improvement.</p>\n"},{"tags":[],"owner":{"account_id":1162290,"reputation":3419,"user_id":1141564,"accept_rate":56,"display_name":"Xtra Coder"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1332529570,"creation_date":1332529570,"answer_id":9845094,"question_id":103564,"body_markdown":"I have got same question, but because i did not find &#39;performance metrics&#39; for use case similar to mine, i&#39;ve done some more sample code. On my hardware and Java 6 &amp; 7, the difference between instanceof and switch on 10mln iterations is\r\n\r\n    for 10 child classes - instanceof: 1200ms vs switch: 470ms\r\n    for 5 child classes  - instanceof:  375ms vs switch: 204ms\r\n\r\nSo, instanceof is really slower, especially on huge number of if-else-if statements, however difference will be negligible within real application.\r\n\r\n\r\n    import java.util.Date;\r\n    \r\n    public class InstanceOfVsEnum {\r\n    \r\n        public static int c1, c2, c3, c4, c5, c6, c7, c8, c9, cA;\r\n        \r\n        public static class Handler {\r\n            public enum Type { Type1, Type2, Type3, Type4, Type5, Type6, Type7, Type8, Type9, TypeA }\r\n            protected Handler(Type type) { this.type = type; }\r\n            public final Type type;\r\n            \r\n            public static void addHandlerInstanceOf(Handler h) {\r\n                if( h instanceof H1) { c1++; }\r\n                else if( h instanceof H2) { c2++; }\r\n                else if( h instanceof H3) { c3++; }\r\n                else if( h instanceof H4) { c4++; }\r\n                else if( h instanceof H5) { c5++; }\r\n                else if( h instanceof H6) { c6++; }\r\n                else if( h instanceof H7) { c7++; }\r\n                else if( h instanceof H8) { c8++; }\r\n                else if( h instanceof H9) { c9++; }\r\n                else if( h instanceof HA) { cA++; }\r\n            }\r\n            \r\n            public static void addHandlerSwitch(Handler h) {\r\n                switch( h.type ) {\r\n                    case Type1: c1++; break;\r\n                    case Type2: c2++; break;\r\n                    case Type3: c3++; break;\r\n                    case Type4: c4++; break;\r\n                    case Type5: c5++; break;\r\n                    case Type6: c6++; break;\r\n                    case Type7: c7++; break;\r\n                    case Type8: c8++; break;\r\n                    case Type9: c9++; break;\r\n                    case TypeA: cA++; break;\r\n                }\r\n            }\r\n        }\r\n        \r\n        public static class H1 extends Handler { public H1() { super(Type.Type1); } }\r\n        public static class H2 extends Handler { public H2() { super(Type.Type2); } }\r\n        public static class H3 extends Handler { public H3() { super(Type.Type3); } }\r\n        public static class H4 extends Handler { public H4() { super(Type.Type4); } }\r\n        public static class H5 extends Handler { public H5() { super(Type.Type5); } }\r\n        public static class H6 extends Handler { public H6() { super(Type.Type6); } }\r\n        public static class H7 extends Handler { public H7() { super(Type.Type7); } }\r\n        public static class H8 extends Handler { public H8() { super(Type.Type8); } }\r\n        public static class H9 extends Handler { public H9() { super(Type.Type9); } }\r\n        public static class HA extends Handler { public HA() { super(Type.TypeA); } }\r\n        \r\n        final static int cCycles = 10000000;\r\n        \r\n        public static void main(String[] args) {\r\n            H1 h1 = new H1();\r\n            H2 h2 = new H2();\r\n            H3 h3 = new H3();\r\n            H4 h4 = new H4();\r\n            H5 h5 = new H5();\r\n            H6 h6 = new H6();\r\n            H7 h7 = new H7();\r\n            H8 h8 = new H8();\r\n            H9 h9 = new H9();\r\n            HA hA = new HA();\r\n            \r\n            Date dtStart = new Date();\r\n            for( int i = 0; i &lt; cCycles; i++ ) {\r\n                Handler.addHandlerInstanceOf(h1);\r\n                Handler.addHandlerInstanceOf(h2);\r\n                Handler.addHandlerInstanceOf(h3);\r\n                Handler.addHandlerInstanceOf(h4);\r\n                Handler.addHandlerInstanceOf(h5);\r\n                Handler.addHandlerInstanceOf(h6);\r\n                Handler.addHandlerInstanceOf(h7);\r\n                Handler.addHandlerInstanceOf(h8);\r\n                Handler.addHandlerInstanceOf(h9);\r\n                Handler.addHandlerInstanceOf(hA);\r\n            }\r\n            System.out.println(&quot;Instance of - &quot; + (new Date().getTime() - dtStart.getTime()));\r\n            \r\n            dtStart = new Date();\r\n            for( int i = 0; i &lt; cCycles; i++ ) {\r\n                Handler.addHandlerSwitch(h1);\r\n                Handler.addHandlerSwitch(h2);\r\n                Handler.addHandlerSwitch(h3);\r\n                Handler.addHandlerSwitch(h4);\r\n                Handler.addHandlerSwitch(h5);\r\n                Handler.addHandlerSwitch(h6);\r\n                Handler.addHandlerSwitch(h7);\r\n                Handler.addHandlerSwitch(h8);\r\n                Handler.addHandlerSwitch(h9);\r\n                Handler.addHandlerSwitch(hA);\r\n            }\r\n            System.out.println(&quot;Switch of - &quot; + (new Date().getTime() - dtStart.getTime()));\r\n        }\r\n    }\r\n\r\n","title":"The performance impact of using instanceof in Java","body":"<p>I have got same question, but because i did not find 'performance metrics' for use case similar to mine, i've done some more sample code. On my hardware and Java 6 &amp; 7, the difference between instanceof and switch on 10mln iterations is</p>\n\n<pre><code>for 10 child classes - instanceof: 1200ms vs switch: 470ms\nfor 5 child classes  - instanceof:  375ms vs switch: 204ms\n</code></pre>\n\n<p>So, instanceof is really slower, especially on huge number of if-else-if statements, however difference will be negligible within real application.</p>\n\n<pre><code>import java.util.Date;\n\npublic class InstanceOfVsEnum {\n\n    public static int c1, c2, c3, c4, c5, c6, c7, c8, c9, cA;\n\n    public static class Handler {\n        public enum Type { Type1, Type2, Type3, Type4, Type5, Type6, Type7, Type8, Type9, TypeA }\n        protected Handler(Type type) { this.type = type; }\n        public final Type type;\n\n        public static void addHandlerInstanceOf(Handler h) {\n            if( h instanceof H1) { c1++; }\n            else if( h instanceof H2) { c2++; }\n            else if( h instanceof H3) { c3++; }\n            else if( h instanceof H4) { c4++; }\n            else if( h instanceof H5) { c5++; }\n            else if( h instanceof H6) { c6++; }\n            else if( h instanceof H7) { c7++; }\n            else if( h instanceof H8) { c8++; }\n            else if( h instanceof H9) { c9++; }\n            else if( h instanceof HA) { cA++; }\n        }\n\n        public static void addHandlerSwitch(Handler h) {\n            switch( h.type ) {\n                case Type1: c1++; break;\n                case Type2: c2++; break;\n                case Type3: c3++; break;\n                case Type4: c4++; break;\n                case Type5: c5++; break;\n                case Type6: c6++; break;\n                case Type7: c7++; break;\n                case Type8: c8++; break;\n                case Type9: c9++; break;\n                case TypeA: cA++; break;\n            }\n        }\n    }\n\n    public static class H1 extends Handler { public H1() { super(Type.Type1); } }\n    public static class H2 extends Handler { public H2() { super(Type.Type2); } }\n    public static class H3 extends Handler { public H3() { super(Type.Type3); } }\n    public static class H4 extends Handler { public H4() { super(Type.Type4); } }\n    public static class H5 extends Handler { public H5() { super(Type.Type5); } }\n    public static class H6 extends Handler { public H6() { super(Type.Type6); } }\n    public static class H7 extends Handler { public H7() { super(Type.Type7); } }\n    public static class H8 extends Handler { public H8() { super(Type.Type8); } }\n    public static class H9 extends Handler { public H9() { super(Type.Type9); } }\n    public static class HA extends Handler { public HA() { super(Type.TypeA); } }\n\n    final static int cCycles = 10000000;\n\n    public static void main(String[] args) {\n        H1 h1 = new H1();\n        H2 h2 = new H2();\n        H3 h3 = new H3();\n        H4 h4 = new H4();\n        H5 h5 = new H5();\n        H6 h6 = new H6();\n        H7 h7 = new H7();\n        H8 h8 = new H8();\n        H9 h9 = new H9();\n        HA hA = new HA();\n\n        Date dtStart = new Date();\n        for( int i = 0; i &lt; cCycles; i++ ) {\n            Handler.addHandlerInstanceOf(h1);\n            Handler.addHandlerInstanceOf(h2);\n            Handler.addHandlerInstanceOf(h3);\n            Handler.addHandlerInstanceOf(h4);\n            Handler.addHandlerInstanceOf(h5);\n            Handler.addHandlerInstanceOf(h6);\n            Handler.addHandlerInstanceOf(h7);\n            Handler.addHandlerInstanceOf(h8);\n            Handler.addHandlerInstanceOf(h9);\n            Handler.addHandlerInstanceOf(hA);\n        }\n        System.out.println(\"Instance of - \" + (new Date().getTime() - dtStart.getTime()));\n\n        dtStart = new Date();\n        for( int i = 0; i &lt; cCycles; i++ ) {\n            Handler.addHandlerSwitch(h1);\n            Handler.addHandlerSwitch(h2);\n            Handler.addHandlerSwitch(h3);\n            Handler.addHandlerSwitch(h4);\n            Handler.addHandlerSwitch(h5);\n            Handler.addHandlerSwitch(h6);\n            Handler.addHandlerSwitch(h7);\n            Handler.addHandlerSwitch(h8);\n            Handler.addHandlerSwitch(h9);\n            Handler.addHandlerSwitch(hA);\n        }\n        System.out.println(\"Switch of - \" + (new Date().getTime() - dtStart.getTime()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2833171,"reputation":578,"user_id":2434307,"display_name":"Jose Quijada"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510786402,"creation_date":1369951174,"answer_id":16846539,"question_id":103564,"body_markdown":"I&#39;ll get back to you on instanceof performance. But a way to avoid problem (or lack thereof) altogether would be to create a parent interface to all the subclasses on which you need to do instanceof. The interface will be a super set of *all* the methods in sub-classes for which you need to do instanceof check. Where a method does not apply to a specific sub-class, simply provide a dummy implementation of this method. If I didn&#39;t misunderstand the issue, this is how I&#39;ve gotten around the problem in the past. ","title":"The performance impact of using instanceof in Java","body":"<p>I'll get back to you on instanceof performance. But a way to avoid problem (or lack thereof) altogether would be to create a parent interface to all the subclasses on which you need to do instanceof. The interface will be a super set of <em>all</em> the methods in sub-classes for which you need to do instanceof check. Where a method does not apply to a specific sub-class, simply provide a dummy implementation of this method. If I didn't misunderstand the issue, this is how I've gotten around the problem in the past. </p>\n"},{"tags":[],"owner":{"account_id":2023908,"reputation":4939,"user_id":1809463,"accept_rate":84,"display_name":"mike"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1376408285,"creation_date":1376408285,"answer_id":18213428,"question_id":103564,"body_markdown":"I also prefer an enum approach, but I would use a abstract base class to force the subclasses to implement the `getType()` method.\r\n\r\n\r\n    public abstract class Base\r\n    {\r\n      protected enum TYPE\r\n      {\r\n        DERIVED_A, DERIVED_B\r\n      }\r\n    \r\n      public abstract TYPE getType();\r\n    \r\n      class DerivedA extends Base\r\n      {\r\n        @Override\r\n        public TYPE getType()\r\n        {\r\n          return TYPE.DERIVED_A;\r\n        }\r\n      }\r\n    \r\n      class DerivedB extends Base\r\n      {\r\n        @Override\r\n        public TYPE getType()\r\n        {\r\n          return TYPE.DERIVED_B;\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"The performance impact of using instanceof in Java","body":"<p>I also prefer an enum approach, but I would use a abstract base class to force the subclasses to implement the <code>getType()</code> method.</p>\n\n<pre><code>public abstract class Base\n{\n  protected enum TYPE\n  {\n    DERIVED_A, DERIVED_B\n  }\n\n  public abstract TYPE getType();\n\n  class DerivedA extends Base\n  {\n    @Override\n    public TYPE getType()\n    {\n      return TYPE.DERIVED_A;\n    }\n  }\n\n  class DerivedB extends Base\n  {\n    @Override\n    public TYPE getType()\n    {\n      return TYPE.DERIVED_B;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2095404,"reputation":18117,"user_id":1864294,"accept_rate":77,"display_name":"Michael Dorner"},"down_vote_count":3,"up_vote_count":351,"is_accepted":false,"score":348,"last_activity_date":1633671511,"creation_date":1414004080,"answer_id":26514984,"question_id":103564,"body_markdown":"# Approach\r\n\r\nI wrote [a benchmark program][1] to evaluate different implementations:\r\n\r\n 1. `instanceof` implementation (as reference) \r\n 2. object-orientated via an abstract class and `@Override` a test method\r\n 3. using an own type implementation\r\n 4. `getClass() == _.class` implementation\r\n\r\nI used [jmh][2] to run the benchmark with 100 warmup calls, 1000 iterations under measuring, and with 10 forks. So each option was measured with 10 000 times, which takes 12:18:57 to run the whole benchmark on my MacBook Pro with macOS 10.12.4 and Java 1.8. The benchmark measures the average time of each option. For more details see [my implementation on GitHub][3]. \r\n\r\nFor the sake of completeness: There is a [previous version of this answer and my benchmark][4]. \r\n\r\n\r\n# Results\r\n\r\n&lt;pre&gt;\r\n| Operation  | Runtime in nanoseconds per operation | Relative to instanceof |\r\n|------------|--------------------------------------|------------------------|\r\n| INSTANCEOF | 39,598 &#177; 0,022 ns/op                 | 100,00 %               |\r\n| GETCLASS   | 39,687 &#177; 0,021 ns/op                 | 100,22 %               |\r\n| TYPE       | 46,295 &#177; 0,026 ns/op                 | 116,91 %               |\r\n| OO         | 48,078 &#177; 0,026 ns/op                 | 121,42 %               |\r\n&lt;/pre&gt;\r\n\r\n\r\n# tl;dr\r\n\r\nIn Java 1.8 `instanceof` is the fastest approach, although `getClass()` is very close. \r\n\r\n\r\n  [1]: https://github.com/michaeldorner/instanceofBenchmark\r\n  [2]: http://openjdk.java.net/projects/code-tools/jmh/\r\n  [3]: https://github.com/michaeldorner/instanceofBenchmark/blob/master/src/main/java/de/michaeldorner/MyBenchmark.java\r\n  [4]: https://stackoverflow.com/revisions/26514984/10","title":"The performance impact of using instanceof in Java","body":"<h1>Approach</h1>\n<p>I wrote <a href=\"https://github.com/michaeldorner/instanceofBenchmark\" rel=\"noreferrer\">a benchmark program</a> to evaluate different implementations:</p>\n<ol>\n<li><code>instanceof</code> implementation (as reference)</li>\n<li>object-orientated via an abstract class and <code>@Override</code> a test method</li>\n<li>using an own type implementation</li>\n<li><code>getClass() == _.class</code> implementation</li>\n</ol>\n<p>I used <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">jmh</a> to run the benchmark with 100 warmup calls, 1000 iterations under measuring, and with 10 forks. So each option was measured with 10 000 times, which takes 12:18:57 to run the whole benchmark on my MacBook Pro with macOS 10.12.4 and Java 1.8. The benchmark measures the average time of each option. For more details see <a href=\"https://github.com/michaeldorner/instanceofBenchmark/blob/master/src/main/java/de/michaeldorner/MyBenchmark.java\" rel=\"noreferrer\">my implementation on GitHub</a>.</p>\n<p>For the sake of completeness: There is a <a href=\"https://stackoverflow.com/revisions/26514984/10\">previous version of this answer and my benchmark</a>.</p>\n<h1>Results</h1>\n<pre>\n| Operation  | Runtime in nanoseconds per operation | Relative to instanceof |\n|------------|--------------------------------------|------------------------|\n| INSTANCEOF | 39,598 ± 0,022 ns/op                 | 100,00 %               |\n| GETCLASS   | 39,687 ± 0,021 ns/op                 | 100,22 %               |\n| TYPE       | 46,295 ± 0,026 ns/op                 | 116,91 %               |\n| OO         | 48,078 ± 0,026 ns/op                 | 121,42 %               |\n</pre>\n<h1>tl;dr</h1>\n<p>In Java 1.8 <code>instanceof</code> is the fastest approach, although <code>getClass()</code> is very close.</p>\n"},{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508140433,"creation_date":1508140433,"answer_id":46765418,"question_id":103564,"body_markdown":"I thought it might be worth submitting a counter-example to the general consensus on this page that &quot;instanceof&quot; is not expensive enough to worry about. I found I had some code in an inner loop that (in some historic attempt at optimization) did\r\n\r\n    if (!(seq instanceof SingleItem)) {\r\n      seq = seq.head();\r\n    }\r\n\r\nwhere calling head() on a SingleItem returns the value unchanged. Replacing the code by\r\n\r\n    seq = seq.head();\r\n\r\ngives me a speed-up from 269ms to 169ms, despite the fact that there are some quite heavy things happening in the loop, like string-to-double conversion. It&#39;s possible of course that the speed-up is more due to eliminating the conditional branch than to eliminating the instanceof operator itself; but I thought it worth mentioning. ","title":"The performance impact of using instanceof in Java","body":"<p>I thought it might be worth submitting a counter-example to the general consensus on this page that \"instanceof\" is not expensive enough to worry about. I found I had some code in an inner loop that (in some historic attempt at optimization) did</p>\n\n<pre><code>if (!(seq instanceof SingleItem)) {\n  seq = seq.head();\n}\n</code></pre>\n\n<p>where calling head() on a SingleItem returns the value unchanged. Replacing the code by</p>\n\n<pre><code>seq = seq.head();\n</code></pre>\n\n<p>gives me a speed-up from 269ms to 169ms, despite the fact that there are some quite heavy things happening in the loop, like string-to-double conversion. It's possible of course that the speed-up is more due to eliminating the conditional branch than to eliminating the instanceof operator itself; but I thought it worth mentioning. </p>\n"},{"tags":[],"owner":{"account_id":9135652,"reputation":99,"user_id":6795424,"display_name":"salexinx"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1561180052,"creation_date":1561180052,"answer_id":56712753,"question_id":103564,"body_markdown":"I write a performance test based on jmh-java-benchmark-archetype:2.21. JDK is openjdk and version is 1.8.0_212. The test machine is mac pro.\r\nTest result is:\r\n\r\n    Benchmark                Mode  Cnt    Score   Error   Units\r\n    MyBenchmark.getClasses  thrpt   30  510.818 &#177; 4.190  ops/us\r\n    MyBenchmark.instanceOf  thrpt   30  503.826 &#177; 5.546  ops/us\r\n\r\nThe result shows that: getClass is better than instanceOf, which is contrary with other test. However, I don&#39;t know why.\r\n\r\nThe test code is below:\r\n\r\n    public class MyBenchmark {\r\n\r\n    public static final Object a = new LinkedHashMap&lt;String, String&gt;();\r\n\r\n    @Benchmark\r\n    @BenchmarkMode(Mode.Throughput)\r\n    @OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n    public boolean instanceOf() {\r\n        return a instanceof Map;\r\n    }\r\n\r\n    @Benchmark\r\n    @BenchmarkMode(Mode.Throughput)\r\n    @OutputTimeUnit(TimeUnit.MICROSECONDS)\r\n    public boolean getClasses() {\r\n        return a.getClass() == HashMap.class;\r\n    }\r\n\r\n    public static void main(String[] args) throws RunnerException {\r\n        Options opt =\r\n            new OptionsBuilder().include(MyBenchmark.class.getSimpleName()).warmupIterations(20).measurementIterations(30).forks(1).build();\r\n        new Runner(opt).run();\r\n    }\r\n    }","title":"The performance impact of using instanceof in Java","body":"<p>I write a performance test based on jmh-java-benchmark-archetype:2.21. JDK is openjdk and version is 1.8.0_212. The test machine is mac pro.\nTest result is:</p>\n\n<pre><code>Benchmark                Mode  Cnt    Score   Error   Units\nMyBenchmark.getClasses  thrpt   30  510.818 ± 4.190  ops/us\nMyBenchmark.instanceOf  thrpt   30  503.826 ± 5.546  ops/us\n</code></pre>\n\n<p>The result shows that: getClass is better than instanceOf, which is contrary with other test. However, I don't know why.</p>\n\n<p>The test code is below:</p>\n\n<pre><code>public class MyBenchmark {\n\npublic static final Object a = new LinkedHashMap&lt;String, String&gt;();\n\n@Benchmark\n@BenchmarkMode(Mode.Throughput)\n@OutputTimeUnit(TimeUnit.MICROSECONDS)\npublic boolean instanceOf() {\n    return a instanceof Map;\n}\n\n@Benchmark\n@BenchmarkMode(Mode.Throughput)\n@OutputTimeUnit(TimeUnit.MICROSECONDS)\npublic boolean getClasses() {\n    return a.getClass() == HashMap.class;\n}\n\npublic static void main(String[] args) throws RunnerException {\n    Options opt =\n        new OptionsBuilder().include(MyBenchmark.class.getSimpleName()).warmupIterations(20).measurementIterations(30).forks(1).build();\n    new Runner(opt).run();\n}\n}\n</code></pre>\n"}],"owner":{"account_id":9538,"reputation":18044,"user_id":2204759,"accept_rate":91,"display_name":"Josh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142497,"favorite_count":0,"down_vote_count":0,"up_vote_count":354,"accepted_answer_id":103600,"answer_count":24,"score":354,"last_activity_date":1633671511,"creation_date":1221842472,"question_id":103564,"body_markdown":"I am working on an application and one design approach involves extremely heavy use of the `instanceof` operator. While I know that OO design generally tries to avoid using `instanceof`, that is a different story and this question is purely related to performance. I was wondering if there is any performance impact? Is is just as fast as `==`?\r\n\r\nFor example, I have a base class with 10 subclasses. In a single function that takes the base class, I do checks for if the class is an instance of the subclass and carry out some routine. \r\n\r\nOne of the other ways I thought of solving it was to use a &quot;type id&quot; integer primitive instead, and use a bitmask to represent categories of the subclasses, and then just do a bit mask comparison of the subclasses &quot;type id&quot; to a constant mask representing the category.\r\n\r\nIs `instanceof` somehow optimized by the JVM to be faster than that? I want to stick to Java but the performance of the app is critical. It would be cool if someone that has been down this road before could offer some advice. Am I nitpicking too much or focusing on the wrong thing to optimize?","title":"The performance impact of using instanceof in Java","body":"<p>I am working on an application and one design approach involves extremely heavy use of the <code>instanceof</code> operator. While I know that OO design generally tries to avoid using <code>instanceof</code>, that is a different story and this question is purely related to performance. I was wondering if there is any performance impact? Is is just as fast as <code>==</code>?</p>\n\n<p>For example, I have a base class with 10 subclasses. In a single function that takes the base class, I do checks for if the class is an instance of the subclass and carry out some routine. </p>\n\n<p>One of the other ways I thought of solving it was to use a \"type id\" integer primitive instead, and use a bitmask to represent categories of the subclasses, and then just do a bit mask comparison of the subclasses \"type id\" to a constant mask representing the category.</p>\n\n<p>Is <code>instanceof</code> somehow optimized by the JVM to be faster than that? I want to stick to Java but the performance of the app is critical. It would be cool if someone that has been down this road before could offer some advice. Am I nitpicking too much or focusing on the wrong thing to optimize?</p>\n"},{"tags":["java","spring","oracle","maven"],"answers":[{"tags":[],"owner":{"account_id":5363666,"reputation":1950,"user_id":4274223,"display_name":"Gregorio Palam&#224;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633671309,"creation_date":1633671309,"answer_id":69490935,"question_id":69487678,"body_markdown":"As you already noticed, the artifact has been moved, together with other artifacts. \r\n\r\nIn particular, to add the ONS library to your project, you need to add this dependency:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.oracle.database.ha&lt;/groupId&gt;\r\n       &lt;artifactId&gt;ons&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n[Here][1] you can find the complete documentation about how to use the new artifacts.\r\n\r\n\r\n  [1]: https://www.oracle.com/database/technologies/maven-central-guide.html","title":"Upgrading to Oracle 19C is throwing java.lang.NoClassDefFoundError: oracle/ons/ONS&quot; Errors","body":"<p>As you already noticed, the artifact has been moved, together with other artifacts.</p>\n<p>In particular, to add the ONS library to your project, you need to add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.oracle.database.ha&lt;/groupId&gt;\n   &lt;artifactId&gt;ons&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://www.oracle.com/database/technologies/maven-central-guide.html\" rel=\"nofollow noreferrer\">Here</a> you can find the complete documentation about how to use the new artifacts.</p>\n"}],"owner":{"account_id":13394037,"reputation":11,"user_id":9665574,"display_name":"techhungry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633671309,"creation_date":1633639563,"question_id":69487678,"body_markdown":"I have a spring MVC application where current oracle version of my application is 1.1.0.7.0 and I have this dependency\r\n\r\n    &lt;dependency&gt;\r\n\t  \t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;ons&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;11.1.0.7.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI need to upgrade to oracle 19c.When I looked at Maven Repository, I found that the Oracle ons artifact is moved to com.oracle.database.jdbc. When I replaced the ons dependency with the new dependency as below, I am getting java.lang.NoClassDefFoundError: oracle/ons/ONS&quot; Errors . Below is my new dependency for oracle 19c. Pease advise.\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t    &lt;version&gt;19.12.0.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n","title":"Upgrading to Oracle 19C is throwing java.lang.NoClassDefFoundError: oracle/ons/ONS&quot; Errors","body":"<p>I have a spring MVC application where current oracle version of my application is 1.1.0.7.0 and I have this dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n    &lt;artifactId&gt;ons&lt;/artifactId&gt;\n    &lt;version&gt;11.1.0.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I need to upgrade to oracle 19c.When I looked at Maven Repository, I found that the Oracle ons artifact is moved to com.oracle.database.jdbc. When I replaced the ons dependency with the new dependency as below, I am getting java.lang.NoClassDefFoundError: oracle/ons/ONS&quot; Errors . Below is my new dependency for oracle 19c. Pease advise.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n    &lt;version&gt;19.12.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"score":1,"creation_date":1231333324,"post_id":420223,"comment_id":244303,"body_markdown":"Which compare Class methode you mean?","body":"Which compare Class methode you mean?"},{"owner":{"account_id":2304091,"reputation":8985,"user_id":2023728,"accept_rate":83,"display_name":"mel3kings"},"score":0,"creation_date":1490672898,"post_id":420223,"comment_id":73204820,"body_markdown":"for detailed explanation of the uses of both compare() and compareTo(): http://sysdotoutdotprint.com/index.php/2017/03/28/comparable-vs-comparator/","body":"for detailed explanation of the uses of both compare() and compareTo(): <a href=\"http://sysdotoutdotprint.com/index.php/2017/03/28/comparable-vs-comparator/\" rel=\"nofollow noreferrer\">sysdotoutdotprint.com/index.php/2017/03/28/&hellip;</a>"},{"owner":{"account_id":14096636,"reputation":65,"user_id":10183216,"display_name":"CJay Horton"},"score":0,"creation_date":1652028947,"post_id":420223,"comment_id":127501480,"body_markdown":"@mel3kings Can you please update the link in your comment? It currently provides no information towards this question.","body":"@mel3kings Can you please update the link in your comment? It currently provides no information towards this question."}],"answers":[{"tags":[],"owner":{"account_id":12462,"reputation":162436,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1231335612,"creation_date":1231333256,"answer_id":420228,"question_id":420223,"body_markdown":"**`compareTo()`** is from the [**`Comparable`**][1] interface.\r\n\r\n**`compare()`** is from the [**`Comparator`**][2] interface.\r\n\r\nBoth methods do the same thing, but each interface is used in a slightly different context. \r\n\r\nThe [Comparable][1] interface is used to impose a natural ordering on the objects of the implementing class. The `compareTo()` method is called the natural comparison method. The [Comparator][2] interface is used to impose a total ordering on the objects of the implementing class. For more information, see the links for exactly when to use each interface.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Comparator.html","title":"What is the difference between compare() and compareTo()?","body":"<p><strong><code>compareTo()</code></strong> is from the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"noreferrer\"><strong><code>Comparable</code></strong></a> interface.</p>\n\n<p><strong><code>compare()</code></strong> is from the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><strong><code>Comparator</code></strong></a> interface.</p>\n\n<p>Both methods do the same thing, but each interface is used in a slightly different context. </p>\n\n<p>The <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"noreferrer\">Comparable</a> interface is used to impose a natural ordering on the objects of the implementing class. The <code>compareTo()</code> method is called the natural comparison method. The <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"noreferrer\">Comparator</a> interface is used to impose a total ordering on the objects of the implementing class. For more information, see the links for exactly when to use each interface.</p>\n"},{"tags":[],"owner":{"account_id":19679,"reputation":3696,"user_id":46308,"accept_rate":100,"display_name":"Abgan"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1353997389,"creation_date":1231333418,"answer_id":420236,"question_id":420223,"body_markdown":"`compareTo()` is called on one object, to compare it to another object.\r\n`compare()` is called on some object to compare two other objects. \r\n\r\nThe difference is where the logic that does actual comparison is defined.","title":"What is the difference between compare() and compareTo()?","body":"<p><code>compareTo()</code> is called on one object, to compare it to another object.\n<code>compare()</code> is called on some object to compare two other objects. </p>\n\n<p>The difference is where the logic that does actual comparison is defined.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":2,"up_vote_count":179,"is_accepted":true,"score":177,"last_activity_date":1540092506,"creation_date":1231333540,"answer_id":420240,"question_id":420223,"body_markdown":"From [JavaNotes][1]:\r\n\r\n- `a.compareTo(b)`:  \r\n**Comparable interface :** Compares values and returns an int which tells if the values compare less than, equal, or greater than.  \r\nIf your class objects have a **natural order**, implement the `Comparable&lt;T&gt;` interface and define this method. All Java classes that have a natural ordering implement `Comparable&lt;T&gt;` - Example: `String`, [wrapper classes][2], `BigInteger`\r\n\r\n- `compare(a, b)`:  \r\n**Comparator interface :**  Compares values of two objects. This is implemented as part of the `Comparator&lt;T&gt;` interface, and the **typical use is to define one or more small utility classes that implement this, to pass to methods such as `sort()` or for use by sorting data structures such as `TreeMap` and `TreeSet`**. You might want to create a Comparator object for the following:\r\n\r\n  - **Multiple comparisons**. To provide several different ways to sort something. For example, you might want to sort a Person class by name, ID, age, height, ... You would define a Comparator for each of these to pass to the `sort()` method.\r\n  - **System class** To provide comparison methods for classes that you have no control over. For example, you could define a Comparator for Strings that compared them by length.\r\n  - **Strategy pattern** To implement a Strategy pattern, which is a situation where you want to represent an algorithm as an object that you can pass as a parameter, save in a data structure, etc.\r\n\r\nIf your class objects have one natural sorting order, you may not need compare(). \r\n\r\n----------\r\nSummary from [http://www.digizol.com/2008/07/java-sorting-comparator-vs-comparable.html][3]\r\n\r\n**Comparable**  \r\nA comparable object is capable of comparing itself with another object.\r\n\r\n**Comparator**  \r\nA comparator object is capable of comparing two different objects. The class is not comparing its instances, but some other class’s instances. \r\n\r\n----------\r\n\r\nUse case contexts:\r\n\r\n**Comparable&lt;T&gt; interface**\r\n\r\nThe equals method and `==` and `!=` **operators** test for equality/inequality, but **do not provide a way to test for relative values**.  \r\nSome classes (eg, String and other classes with a natural ordering) implement the `Comparable&lt;T&gt;` interface, which defines a `compareTo()` method.  \r\nYou will want to implement `Comparable&lt;T&gt;` in your class if you want to use it with `Collections.sort()` or `Arrays.sort()` methods.\r\n\r\n**Defining a Comparator object**\r\n\r\nYou can create Comparators to **sort any arbitrary way for any class**.  \r\nFor example, the `String` class defines the [`CASE_INSENSITIVE_ORDER` comparator][4]. \r\n\r\n----------\r\nThe difference between the two approaches can be linked to the notion of:  \r\n**Ordered Collection**:  \r\n\r\nWhen a Collection is ordered, it means you can iterate in the collection in a specific (not-random) order (a `Hashtable` is not ordered).\r\n\r\nA Collection with a **natural order** is not just ordered, but **sorted**. Defining a natural order [can be difficult!][5] (as in [natural String order][6]).\r\n\r\n---\r\n\r\nAnother difference, pointed out by [HaveAGuess][7] in [the comments][8]:\r\n\r\n- `Comparable` is in the implementation and not visible from the interface, so when you sort you don&#39;t really know what is going to happen. \r\n- `Comparator` gives you reassurance that the ordering will be well defined. \r\n\r\n\r\n  [1]: http://web.archive.org/web/20090126135350/http://leepoint.net/notes-java/data/expressions/22compareobjects.html\r\n  [2]: http://www.javatpoint.com/wrapper-class-in-java\r\n  [3]: http://www.digizol.com/2008/07/java-sorting-comparator-vs-comparable.html\r\n  [4]: http://www.java2s.com/Code/JavaAPI/java.lang/StringCASEINSENSITIVEORDER.htm\r\n  [5]: https://blog.codinghorror.com/sorting-for-humans-natural-sort-order/\r\n  [6]: http://web.archive.org/web/20090310030619/http://weblogs.java.net/blog/skelvin/archive/2006/01/natural_string.html\r\n  [7]: https://stackoverflow.com/users/57344/haveaguess\r\n  [8]: https://stackoverflow.com/questions/420223/what-is-the-difference-between-compare-and-compareto/420240?noredirect=1#comment46816131_420240","title":"What is the difference between compare() and compareTo()?","body":"<p>From <a href=\"http://web.archive.org/web/20090126135350/http://leepoint.net/notes-java/data/expressions/22compareobjects.html\" rel=\"noreferrer\">JavaNotes</a>:</p>\n\n<ul>\n<li><p><code>a.compareTo(b)</code>:<br>\n<strong>Comparable interface :</strong> Compares values and returns an int which tells if the values compare less than, equal, or greater than.<br>\nIf your class objects have a <strong>natural order</strong>, implement the <code>Comparable&lt;T&gt;</code> interface and define this method. All Java classes that have a natural ordering implement <code>Comparable&lt;T&gt;</code> - Example: <code>String</code>, <a href=\"http://www.javatpoint.com/wrapper-class-in-java\" rel=\"noreferrer\">wrapper classes</a>, <code>BigInteger</code></p></li>\n<li><p><code>compare(a, b)</code>:<br>\n<strong>Comparator interface :</strong>  Compares values of two objects. This is implemented as part of the <code>Comparator&lt;T&gt;</code> interface, and the <strong>typical use is to define one or more small utility classes that implement this, to pass to methods such as <code>sort()</code> or for use by sorting data structures such as <code>TreeMap</code> and <code>TreeSet</code></strong>. You might want to create a Comparator object for the following:</p>\n\n<ul>\n<li><strong>Multiple comparisons</strong>. To provide several different ways to sort something. For example, you might want to sort a Person class by name, ID, age, height, ... You would define a Comparator for each of these to pass to the <code>sort()</code> method.</li>\n<li><strong>System class</strong> To provide comparison methods for classes that you have no control over. For example, you could define a Comparator for Strings that compared them by length.</li>\n<li><strong>Strategy pattern</strong> To implement a Strategy pattern, which is a situation where you want to represent an algorithm as an object that you can pass as a parameter, save in a data structure, etc.</li>\n</ul></li>\n</ul>\n\n<p>If your class objects have one natural sorting order, you may not need compare(). </p>\n\n<hr>\n\n<p>Summary from <a href=\"http://www.digizol.com/2008/07/java-sorting-comparator-vs-comparable.html\" rel=\"noreferrer\">http://www.digizol.com/2008/07/java-sorting-comparator-vs-comparable.html</a></p>\n\n<p><strong>Comparable</strong><br>\nA comparable object is capable of comparing itself with another object.</p>\n\n<p><strong>Comparator</strong><br>\nA comparator object is capable of comparing two different objects. The class is not comparing its instances, but some other class’s instances. </p>\n\n<hr>\n\n<p>Use case contexts:</p>\n\n<p><strong>Comparable interface</strong></p>\n\n<p>The equals method and <code>==</code> and <code>!=</code> <strong>operators</strong> test for equality/inequality, but <strong>do not provide a way to test for relative values</strong>.<br>\nSome classes (eg, String and other classes with a natural ordering) implement the <code>Comparable&lt;T&gt;</code> interface, which defines a <code>compareTo()</code> method.<br>\nYou will want to implement <code>Comparable&lt;T&gt;</code> in your class if you want to use it with <code>Collections.sort()</code> or <code>Arrays.sort()</code> methods.</p>\n\n<p><strong>Defining a Comparator object</strong></p>\n\n<p>You can create Comparators to <strong>sort any arbitrary way for any class</strong>.<br>\nFor example, the <code>String</code> class defines the <a href=\"http://www.java2s.com/Code/JavaAPI/java.lang/StringCASEINSENSITIVEORDER.htm\" rel=\"noreferrer\"><code>CASE_INSENSITIVE_ORDER</code> comparator</a>. </p>\n\n<hr>\n\n<p>The difference between the two approaches can be linked to the notion of:<br>\n<strong>Ordered Collection</strong>:  </p>\n\n<p>When a Collection is ordered, it means you can iterate in the collection in a specific (not-random) order (a <code>Hashtable</code> is not ordered).</p>\n\n<p>A Collection with a <strong>natural order</strong> is not just ordered, but <strong>sorted</strong>. Defining a natural order <a href=\"https://blog.codinghorror.com/sorting-for-humans-natural-sort-order/\" rel=\"noreferrer\">can be difficult!</a> (as in <a href=\"http://web.archive.org/web/20090310030619/http://weblogs.java.net/blog/skelvin/archive/2006/01/natural_string.html\" rel=\"noreferrer\">natural String order</a>).</p>\n\n<hr>\n\n<p>Another difference, pointed out by <a href=\"https://stackoverflow.com/users/57344/haveaguess\">HaveAGuess</a> in <a href=\"https://stackoverflow.com/questions/420223/what-is-the-difference-between-compare-and-compareto/420240?noredirect=1#comment46816131_420240\">the comments</a>:</p>\n\n<ul>\n<li><code>Comparable</code> is in the implementation and not visible from the interface, so when you sort you don't really know what is going to happen. </li>\n<li><code>Comparator</code> gives you reassurance that the ordering will be well defined. </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20643,"reputation":1214,"user_id":49540,"display_name":"Ole"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1231333566,"creation_date":1231333566,"answer_id":420242,"question_id":420223,"body_markdown":"The relationship of the object having this method and its collaborators is different.\r\n\r\n`compareTo()` is a method of the interface [Comparable][1], so it is used to compare THIS instance to another one.\r\n\r\n`compare()` is a method of the interface [Comparator][2], so it is used to compare two different instances of another class with each other.\r\n\r\nIf you will, implementing `Comparable` means that instances of the class can be easily compared.  \r\nImplementing `Comparator` means, that instances are suited to compare different objects (of other classes).\r\n\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Comparator.html","title":"What is the difference between compare() and compareTo()?","body":"<p>The relationship of the object having this method and its collaborators is different.</p>\n\n<p><code>compareTo()</code> is a method of the interface <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a>, so it is used to compare THIS instance to another one.</p>\n\n<p><code>compare()</code> is a method of the interface <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a>, so it is used to compare two different instances of another class with each other.</p>\n\n<p>If you will, implementing <code>Comparable</code> means that instances of the class can be easily compared.<br>\nImplementing <code>Comparator</code> means, that instances are suited to compare different objects (of other classes).</p>\n"},{"tags":[],"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1231333615,"creation_date":1231333615,"answer_id":420247,"question_id":420223,"body_markdown":"When you want to sort a List which include the Object Foo, the Foo class has to implement the Comparable interface, because the sort methode of the List is using this methode.\r\n\r\nWhen you want to write a Util class which compares two other classes you can implement the Comparator class.","title":"What is the difference between compare() and compareTo()?","body":"<p>When you want to sort a List which include the Object Foo, the Foo class has to implement the Comparable interface, because the sort methode of the List is using this methode.</p>\n\n<p>When you want to write a Util class which compares two other classes you can implement the Comparator class.</p>\n"},{"tags":[],"owner":{"account_id":10972,"reputation":3718,"user_id":20962,"accept_rate":100,"display_name":"Nicolai"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1231333689,"creation_date":1231333689,"answer_id":420251,"question_id":420223,"body_markdown":"The methods do not have to give the same answers. That depends on which objects/classes you call them.\r\n\r\nIf you are implementing your own classes which you know you want to compare at some stage, you may have them implement the Comparable interface and implement the compareTo() method accordingly.\r\n\r\nIf you are using some classes from an API which do not implement the Comparable interface, but you still want to compare them. I.e. for sorting. You may create your own class which implements the Comparator interface and in its compare() method you implement the logic.","title":"What is the difference between compare() and compareTo()?","body":"<p>The methods do not have to give the same answers. That depends on which objects/classes you call them.</p>\n\n<p>If you are implementing your own classes which you know you want to compare at some stage, you may have them implement the Comparable interface and implement the compareTo() method accordingly.</p>\n\n<p>If you are using some classes from an API which do not implement the Comparable interface, but you still want to compare them. I.e. for sorting. You may create your own class which implements the Comparator interface and in its compare() method you implement the logic.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1231333713,"creation_date":1231333713,"answer_id":420255,"question_id":420223,"body_markdown":"The main difference is in the use of the interfaces:\r\n\r\nComparable (which has compareTo()) requires the objects to be compared (in order to use a TreeMap, or to sort a list) to implement that interface. But what if the class does not implement Comparable and you can&#39;t change it because it&#39;s part of a 3rd party library? Then you have to implement a Comparator, which is a bit less convenient to use.","title":"What is the difference between compare() and compareTo()?","body":"<p>The main difference is in the use of the interfaces:</p>\n\n<p>Comparable (which has compareTo()) requires the objects to be compared (in order to use a TreeMap, or to sort a list) to implement that interface. But what if the class does not implement Comparable and you can't change it because it's part of a 3rd party library? Then you have to implement a Comparator, which is a bit less convenient to use.</p>\n"},{"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1231335289,"creation_date":1231333721,"answer_id":420256,"question_id":420223,"body_markdown":"**Similarities:**  \r\nBoth are custom ways to compare two objects.  \r\nBoth return an `int` describing the relationship between two objects.\r\n\r\n**Differences:** \r\nThe method `compare()` is a method that you are obligated to implement if you implement the [`Comparator`][2] interface.  It allows you to pass two objects into the method and it returns an `int` describing their relationship.\r\n\r\n    Comparator comp = new MyComparator();\r\n    int result = comp.compare(object1, object2);\r\n\r\nThe method `compareTo()` is a method that you are obligated to implement if you implement the [`Comparable`][1] interface.  It allows an object to be compared to objects of similar type.\r\n\r\n    String s = &quot;hi&quot;;\r\n    int result = s.compareTo(&quot;bye&quot;);\r\n\r\n\r\n**Summary:**  \r\nBasically they are two different ways to compare things.\r\n\r\n[2]:http://java.sun.com/javase/6/docs/api/java/util/Comparator.html\r\n[1]:http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html","title":"What is the difference between compare() and compareTo()?","body":"<p><strong>Similarities:</strong><br>\nBoth are custom ways to compare two objects.<br>\nBoth return an <code>int</code> describing the relationship between two objects.</p>\n\n<p><strong>Differences:</strong> \nThe method <code>compare()</code> is a method that you are obligated to implement if you implement the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"noreferrer\"><code>Comparator</code></a> interface.  It allows you to pass two objects into the method and it returns an <code>int</code> describing their relationship.</p>\n\n<pre><code>Comparator comp = new MyComparator();\nint result = comp.compare(object1, object2);\n</code></pre>\n\n<p>The method <code>compareTo()</code> is a method that you are obligated to implement if you implement the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Comparable.html\" rel=\"noreferrer\"><code>Comparable</code></a> interface.  It allows an object to be compared to objects of similar type.</p>\n\n<pre><code>String s = \"hi\";\nint result = s.compareTo(\"bye\");\n</code></pre>\n\n<p><strong>Summary:</strong><br>\nBasically they are two different ways to compare things.</p>\n"},{"tags":[],"owner":{"account_id":582948,"reputation":51,"user_id":253764,"display_name":"dilip kumar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1328108128,"creation_date":1263881552,"answer_id":2091483,"question_id":420223,"body_markdown":"**Comparable** interface contains a method called `compareTo(obj)` which takes only one argument and it compares itself with another instance or objects of the same class.\r\n\r\n**Comparator** interface contains a method called `compare(obj1,obj2)` which takes two arguments and it compares the value of two objects from the same or different classes.","title":"What is the difference between compare() and compareTo()?","body":"<p><strong>Comparable</strong> interface contains a method called <code>compareTo(obj)</code> which takes only one argument and it compares itself with another instance or objects of the same class.</p>\n\n<p><strong>Comparator</strong> interface contains a method called <code>compare(obj1,obj2)</code> which takes two arguments and it compares the value of two objects from the same or different classes.</p>\n"},{"tags":[],"owner":{"account_id":2465093,"reputation":9,"user_id":3900622,"display_name":"Bhabani Sankar Sahoo"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1383557227,"creation_date":1362999184,"answer_id":15336749,"question_id":420223,"body_markdown":"    Important Answar\r\n    String name;\r\n    int roll;\r\n\r\n    public int compare(Object obj1,Object obj2) { // For Comparator interface\r\n        return obj1.compareTo(obj1);\r\n    }\r\n\r\n    public int compareTo(Object obj1) { // For Comparable Interface\r\n        return obj1.compareTo(obj);\r\n    }\r\n\r\nHere in `return obj1.compareTo(obj1)` or `return obj1.compareTo(obj)` statement \r\nonly take Object; primitive is not allowed.\r\nFor Example \r\n\r\n    name.compareTo(obj1.getName()) // Correct Statement.\r\n\r\nBut \r\n\r\n    roll.compareTo(obj1.getRoll()) \r\n    // Wrong Statement Compile Time Error Because roll \r\n    // is not an Object Type, it is primitive type.\r\n\r\nname is String Object so it worked.\r\nIf you want to sort roll number of student than use below code.\r\n\r\n    public int compareTo(Object obj1) { // For Comparable Interface\r\n        Student s = (Student) obj1;\r\n        return rollno - s.getRollno();\r\n    }  \r\n\r\nor\r\n\r\n    public int compare(Object obj1,Object obj2) { // For Comparator interface\r\n        Student s1 = (Student) obj1;\r\n        Student s2 = (Student) obj2;\r\n        return s1.getRollno() - s2.getRollno();\r\n    }  ","title":"What is the difference between compare() and compareTo()?","body":"<pre><code>Important Answar\nString name;\nint roll;\n\npublic int compare(Object obj1,Object obj2) { // For Comparator interface\n    return obj1.compareTo(obj1);\n}\n\npublic int compareTo(Object obj1) { // For Comparable Interface\n    return obj1.compareTo(obj);\n}\n</code></pre>\n\n<p>Here in <code>return obj1.compareTo(obj1)</code> or <code>return obj1.compareTo(obj)</code> statement \nonly take Object; primitive is not allowed.\nFor Example </p>\n\n<pre><code>name.compareTo(obj1.getName()) // Correct Statement.\n</code></pre>\n\n<p>But </p>\n\n<pre><code>roll.compareTo(obj1.getRoll()) \n// Wrong Statement Compile Time Error Because roll \n// is not an Object Type, it is primitive type.\n</code></pre>\n\n<p>name is String Object so it worked.\nIf you want to sort roll number of student than use below code.</p>\n\n<pre><code>public int compareTo(Object obj1) { // For Comparable Interface\n    Student s = (Student) obj1;\n    return rollno - s.getRollno();\n}  \n</code></pre>\n\n<p>or</p>\n\n<pre><code>public int compare(Object obj1,Object obj2) { // For Comparator interface\n    Student s1 = (Student) obj1;\n    Student s2 = (Student) obj2;\n    return s1.getRollno() - s2.getRollno();\n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3824917,"reputation":169,"user_id":3171956,"display_name":"godlovesdavid"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1417661601,"creation_date":1417661601,"answer_id":27285466,"question_id":420223,"body_markdown":"    compareTo(T object)\r\n\r\ncomes from the java.lang.Comparable interface, implemented to compare this object with another to give a negative int value for this object being less than, 0 for equals, or positive value for greater than the other. This is the more convenient compare method, but must be implemented in every class you want to compare.\r\n\r\n\r\n\r\n    compare(T obj1, T obj2)\r\n\r\ncomes from the java.util.Comparator interface, implemented in a separate class that compares another class&#39;s objects to give a negative int value for the first object being less than, 0 for equals, or positive value for greater than the second object. It is needed when you cannot make a class implement compareTo() because it is not modifiable. It is also used when you want different ways to compare objects, not just one (such as by name or age).\r\n ","title":"What is the difference between compare() and compareTo()?","body":"<pre><code>compareTo(T object)\n</code></pre>\n\n<p>comes from the java.lang.Comparable interface, implemented to compare this object with another to give a negative int value for this object being less than, 0 for equals, or positive value for greater than the other. This is the more convenient compare method, but must be implemented in every class you want to compare.</p>\n\n<pre><code>compare(T obj1, T obj2)\n</code></pre>\n\n<p>comes from the java.util.Comparator interface, implemented in a separate class that compares another class's objects to give a negative int value for the first object being less than, 0 for equals, or positive value for greater than the second object. It is needed when you cannot make a class implement compareTo() because it is not modifiable. It is also used when you want different ways to compare objects, not just one (such as by name or age).</p>\n"},{"tags":[],"owner":{"account_id":2841815,"reputation":1495,"user_id":2441277,"display_name":"IamVickyAV"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1469013040,"creation_date":1469013040,"answer_id":38479635,"question_id":420223,"body_markdown":"Using Comparator, we can have **n number of comparison logic written for a class**.\r\n\r\nE.g. \r\n\r\nFor a Car Class\r\n\r\nWe can have a Comparator class to compare based on car model number. We can also have a Comparator class to compare based on car model year. \r\n\r\n**Car Class**\r\n\r\n    public class Car  {\r\n    \r\n    \tint modelNo;\r\n    \t\r\n    \tint modelYear;\r\n    \r\n    \tpublic int getModelNo() {\r\n    \t\treturn modelNo;\r\n    \t}\r\n    \r\n    \tpublic void setModelNo(int modelNo) {\r\n    \t\tthis.modelNo = modelNo;\r\n    \t}\r\n    \r\n    \tpublic int getModelYear() {\r\n    \t\treturn modelYear;\r\n    \t}\r\n    \r\n    \tpublic void setModelYear(int modelYear) {\r\n    \t\tthis.modelYear = modelYear;\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n**Comparator #1 based on Model No**\r\n    \r\n    public class CarModelNoCompartor implements Comparator&lt;Car&gt;{\r\n    \r\n    \tpublic int compare(Car o1, Car o2) {\r\n    \t\r\n    \t\treturn o1.getModelNo() - o2.getModelNo();\r\n    \t}\r\n    \r\n    }\r\n\r\n**Comparator #2 based on Model Year**\r\n\r\n    public class CarModelYearComparator implements Comparator&lt;Car&gt; {\r\n    \r\n    \tpublic int compare(Car o1, Car o2) {\r\n    \t\r\n    \t\treturn o1.getModelYear() - o2.getModelYear();\r\n    \t}\r\n    \r\n    }\r\n\r\nBut this is not possible with the case of **Comparable** interface.\r\n\r\nIn case of Comparable interface, we can have **only one logic in compareTo() method**.\r\n\r\n","title":"What is the difference between compare() and compareTo()?","body":"<p>Using Comparator, we can have <strong>n number of comparison logic written for a class</strong>.</p>\n\n<p>E.g. </p>\n\n<p>For a Car Class</p>\n\n<p>We can have a Comparator class to compare based on car model number. We can also have a Comparator class to compare based on car model year. </p>\n\n<p><strong>Car Class</strong></p>\n\n<pre><code>public class Car  {\n\n    int modelNo;\n\n    int modelYear;\n\n    public int getModelNo() {\n        return modelNo;\n    }\n\n    public void setModelNo(int modelNo) {\n        this.modelNo = modelNo;\n    }\n\n    public int getModelYear() {\n        return modelYear;\n    }\n\n    public void setModelYear(int modelYear) {\n        this.modelYear = modelYear;\n    }\n\n}\n</code></pre>\n\n<p><strong>Comparator #1 based on Model No</strong></p>\n\n<pre><code>public class CarModelNoCompartor implements Comparator&lt;Car&gt;{\n\n    public int compare(Car o1, Car o2) {\n\n        return o1.getModelNo() - o2.getModelNo();\n    }\n\n}\n</code></pre>\n\n<p><strong>Comparator #2 based on Model Year</strong></p>\n\n<pre><code>public class CarModelYearComparator implements Comparator&lt;Car&gt; {\n\n    public int compare(Car o1, Car o2) {\n\n        return o1.getModelYear() - o2.getModelYear();\n    }\n\n}\n</code></pre>\n\n<p>But this is not possible with the case of <strong>Comparable</strong> interface.</p>\n\n<p>In case of Comparable interface, we can have <strong>only one logic in compareTo() method</strong>.</p>\n"},{"tags":[],"owner":{"account_id":717890,"reputation":3568,"user_id":648608,"accept_rate":82,"display_name":"karto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513669222,"creation_date":1513669222,"answer_id":47882096,"question_id":420223,"body_markdown":"Employee Table&lt;br&gt;\r\n**Name, DoB, Salary**&lt;br&gt;\r\nTomas , 2/10/1982, 300&lt;br&gt;\r\nDaniel , 3/11/1990, 400&lt;br&gt;\r\nKwame , 2/10/1998, 520\r\n\r\nThe **Comparable** interface allows you to sort a\r\nlist of objects eg Employees with reference to one primary field – for\r\ninstance, you could sort by name or by salary with the **CompareTo()** method\r\n\r\n    emp1.getName().compareTo(emp2.getName())\r\n\r\nA more flexible interface for such requirements is provided by\r\nthe **Comparator** interface, whose only method is **compare()**\r\n\r\n    public interface Comparator&lt;Employee&gt; {\r\n     int compare(Employee obj1, Employee obj2);\r\n    }\r\n\r\nSample code\r\n\r\n    public class NameComparator implements Comparator&lt;Employee&gt; {\r\n\r\n\tpublic int compare(Employee e1, Employee e2) {\r\n         // some conditions here\r\n\t\t\treturn e1.getName().compareTo(e2.getName()); // returns 1 since (T)omas &gt; (D)an \r\n\t\treturn e1.getSalary().compareTo(e2.getSalary()); // returns -1 since 400 &gt; 300\r\n\t}\r\n}","title":"What is the difference between compare() and compareTo()?","body":"<p>Employee Table<br>\n<strong>Name, DoB, Salary</strong><br>\nTomas , 2/10/1982, 300<br>\nDaniel , 3/11/1990, 400<br>\nKwame , 2/10/1998, 520</p>\n\n<p>The <strong>Comparable</strong> interface allows you to sort a\nlist of objects eg Employees with reference to one primary field – for\ninstance, you could sort by name or by salary with the <strong>CompareTo()</strong> method</p>\n\n<pre><code>emp1.getName().compareTo(emp2.getName())\n</code></pre>\n\n<p>A more flexible interface for such requirements is provided by\nthe <strong>Comparator</strong> interface, whose only method is <strong>compare()</strong></p>\n\n<pre><code>public interface Comparator&lt;Employee&gt; {\n int compare(Employee obj1, Employee obj2);\n}\n</code></pre>\n\n<p>Sample code</p>\n\n<pre><code>public class NameComparator implements Comparator&lt;Employee&gt; {\n\npublic int compare(Employee e1, Employee e2) {\n     // some conditions here\n        return e1.getName().compareTo(e2.getName()); // returns 1 since (T)omas &gt; (D)an \n    return e1.getSalary().compareTo(e2.getSalary()); // returns -1 since 400 &gt; 300\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633670986,"creation_date":1527416311,"answer_id":50551145,"question_id":420223,"body_markdown":"One more point:  \r\n\r\n- `Comparable` is used to define a **default** ordering for objects within a class\r\n- `Comparator` is used to define a **custom** ordering to be passed to a method.\r\n\r\n[comparator-vs-comparable][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-comparator-comparable#comparator-vs-comparable","title":"What is the difference between compare() and compareTo()?","body":"<p>One more point:</p>\n<ul>\n<li><code>Comparable</code> is used to define a <strong>default</strong> ordering for objects within a class</li>\n<li><code>Comparator</code> is used to define a <strong>custom</strong> ordering to be passed to a method.</li>\n</ul>\n<p><a href=\"https://www.baeldung.com/java-comparator-comparable#comparator-vs-comparable\" rel=\"nofollow noreferrer\">comparator-vs-comparable</a></p>\n"},{"tags":[],"owner":{"account_id":9640511,"reputation":4079,"user_id":7154924,"accept_rate":86,"display_name":"flow2k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533857928,"creation_date":1533854571,"answer_id":51776682,"question_id":420223,"body_markdown":"There is a technical aspect that should be emphasized, too. Say you need comparison behavior parameterization from a client class, and you are wondering whether to use `Comparable` or `Comparator` for a method like this:\r\n\r\n    class Pokemon {\r\n        int healthPoints;\r\n        int attackDamage;\r\n        public void battle (Comparable&lt;Pokemon&gt; comparable, Pokemon opponent) {\r\n            if (comparable.compareTo(opponent) &gt; 0) { //comparable needs to, but cannot, access this.healthPoints for example\r\n                System.out.println(&quot;battle won&quot;);\r\n            } else {\r\n                System.out.println(&quot;battle lost&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n`comparable` would a lambda or an object, and there is no way for `comparable` to access the fields of `this` Pokemon. (In a lambda, `this` refers to the outer class instance in the lambda&#39;s scope, as defined in the program text.) So **this doesn&#39;t fly**, and we have to use a `Comparator` with two arguments.","title":"What is the difference between compare() and compareTo()?","body":"<p>There is a technical aspect that should be emphasized, too. Say you need comparison behavior parameterization from a client class, and you are wondering whether to use <code>Comparable</code> or <code>Comparator</code> for a method like this:</p>\n\n<pre><code>class Pokemon {\n    int healthPoints;\n    int attackDamage;\n    public void battle (Comparable&lt;Pokemon&gt; comparable, Pokemon opponent) {\n        if (comparable.compareTo(opponent) &gt; 0) { //comparable needs to, but cannot, access this.healthPoints for example\n            System.out.println(\"battle won\");\n        } else {\n            System.out.println(\"battle lost\");\n        }\n    }\n}\n</code></pre>\n\n<p><code>comparable</code> would a lambda or an object, and there is no way for <code>comparable</code> to access the fields of <code>this</code> Pokemon. (In a lambda, <code>this</code> refers to the outer class instance in the lambda's scope, as defined in the program text.) So <strong>this doesn't fly</strong>, and we have to use a <code>Comparator</code> with two arguments.</p>\n"},{"tags":[],"owner":{"account_id":15380059,"reputation":369,"user_id":11095718,"display_name":"G.Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554887651,"creation_date":1554887651,"answer_id":55608879,"question_id":420223,"body_markdown":"Use Comparable interface for sorting on the basis of more than one value like age,name,dept_name...\r\nFor one value use Comparator interface","title":"What is the difference between compare() and compareTo()?","body":"<p>Use Comparable interface for sorting on the basis of more than one value like age,name,dept_name...\nFor one value use Comparator interface</p>\n"}],"owner":{},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177408,"favorite_count":0,"down_vote_count":1,"up_vote_count":122,"accepted_answer_id":420240,"answer_count":16,"score":121,"last_activity_date":1633670986,"creation_date":1231333156,"question_id":420223,"body_markdown":"What is the difference between Java&#39;s `compare()` and `compareTo()` methods? Do those methods give same answer?","title":"What is the difference between compare() and compareTo()?","body":"<p>What is the difference between Java's <code>compare()</code> and <code>compareTo()</code> methods? Do those methods give same answer?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1633490564,"post_id":69459434,"comment_id":122770778,"body_markdown":"That&#39;s exactly what you should see if your code compiles successfully. Congratulations! There should be a file `Example.class` in your current directory.","body":"That&#39;s exactly what you should see if your code compiles successfully. Congratulations! There should be a file <code>Example.class</code> in your current directory."},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":1,"creation_date":1633490888,"post_id":69459434,"comment_id":122770821,"body_markdown":"Does this answer your question? [How do I run a Java program from the command line on Windows?](https://stackoverflow.com/questions/16137713/how-do-i-run-a-java-program-from-the-command-line-on-windows)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16137713/how-do-i-run-a-java-program-from-the-command-line-on-windows\">How do I run a Java program from the command line on Windows?</a>"}],"answers":[{"tags":[],"owner":{"account_id":16296504,"reputation":303,"user_id":12983770,"display_name":"Harsh Mendapara"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633670890,"creation_date":1633490729,"answer_id":69459470,"question_id":69459434,"body_markdown":"You need to run two commands for running the java file.\r\n1) javac &lt;filename.java&gt;\r\n2) java   &lt; filename &gt;\r\n\r\nRun these commands on your command prompt:-\r\n\r\n    1) javac Example.java\r\n    2) java Example\r\n\r\nRun these commands and check the output.","title":"Nothing happens when I run javac on command prompt","body":"<p>You need to run two commands for running the java file.</p>\n<ol>\n<li>javac &lt;filename.java&gt;</li>\n<li>java   &lt; filename &gt;</li>\n</ol>\n<p>Run these commands on your command prompt:-</p>\n<pre><code>1) javac Example.java\n2) java Example\n</code></pre>\n<p>Run these commands and check the output.</p>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633490950,"creation_date":1633490950,"answer_id":69459499,"question_id":69459434,"body_markdown":"You can directly run the program using the `java` command.\r\n\r\n```\r\njava Example.java\r\n```","title":"Nothing happens when I run javac on command prompt","body":"<p>You can directly run the program using the <code>java</code> command.</p>\n<pre><code>java Example.java\n</code></pre>\n"}],"owner":{"account_id":22954658,"reputation":1,"user_id":17085403,"display_name":"anonymous_unagi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":814,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1633622902,"answer_count":2,"score":-1,"last_activity_date":1633670890,"creation_date":1633490335,"question_id":69459434,"body_markdown":"On Command Prompt I see the following\r\n\r\n    C:\\Users\\lek-h\\Downloads\\OOP&gt;javac Example.java\r\n    \r\n    C:\\Users\\lek-h\\Downloads\\OOP&gt;\r\n\r\n*(i.e., no response from Command Prompt)*\r\n\r\n**Java file**\r\n\r\nUnder the following C:\\Users\\lek-h\\Downloads\\OOP\\Example.java I have\r\n\r\n    class Example {\r\n        // A Java program begins with a call to main().\r\n        public static void main(String args[]) {\r\n            System.out.println(&quot;Java drives the Web.&quot;);\r\n        }\r\n    }\r\n\r\n**I have jdk 17 installed and set as path in system.**\r\n\r\nUnder my system variables, I have\r\nSystem variable `JAVA_HOME` with value `C:\\Program Files\\Java\\jdk-17`\r\nSystem variable `JAVA_PATH` with value `C:\\Program Files\\Java\\jdk-17`\r\n\r\nUnder user variables I have\r\nVariable `Path` with one value being `%JAVA_HOME%\\bin`","title":"Nothing happens when I run javac on command prompt","body":"<p>On Command Prompt I see the following</p>\n<pre><code>C:\\Users\\lek-h\\Downloads\\OOP&gt;javac Example.java\n\nC:\\Users\\lek-h\\Downloads\\OOP&gt;\n</code></pre>\n<p><em>(i.e., no response from Command Prompt)</em></p>\n<p><strong>Java file</strong></p>\n<p>Under the following C:\\Users\\lek-h\\Downloads\\OOP\\Example.java I have</p>\n<pre><code>class Example {\n    // A Java program begins with a call to main().\n    public static void main(String args[]) {\n        System.out.println(&quot;Java drives the Web.&quot;);\n    }\n}\n</code></pre>\n<p><strong>I have jdk 17 installed and set as path in system.</strong></p>\n<p>Under my system variables, I have\nSystem variable <code>JAVA_HOME</code> with value <code>C:\\Program Files\\Java\\jdk-17</code>\nSystem variable <code>JAVA_PATH</code> with value <code>C:\\Program Files\\Java\\jdk-17</code></p>\n<p>Under user variables I have\nVariable <code>Path</code> with one value being <code>%JAVA_HOME%\\bin</code></p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1633668377,"post_id":69490612,"comment_id":122825935,"body_markdown":"Step through your code with the debugger and you&#39;ll see what&#39;s wrong. In the case in which you add an item to the list, which loop index variables get incremented?","body":"Step through your code with the debugger and you&#39;ll see what&#39;s wrong. In the case in which you add an item to the list, which loop index variables get incremented?"},{"owner":{"account_id":220462,"reputation":177831,"user_id":477878,"display_name":"Joachim Isaksson"},"score":0,"creation_date":1633669828,"post_id":69490612,"comment_id":122826179,"body_markdown":"When all elements are equal, you add it to the output and iterate again. Since you don’t change i, j or k the elements are still the same and you add the same element again. And again.","body":"When all elements are equal, you add it to the output and iterate again. Since you don’t change i, j or k the elements are still the same and you add the same element again. And again."}],"answers":[{"tags":[],"owner":{"account_id":22976190,"reputation":29,"user_id":17103770,"display_name":"Borel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633668799,"creation_date":1633668799,"answer_id":69490667,"question_id":69490612,"body_markdown":"\r\n        Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space \r\nJava is saying it ran out of memory. There is an endless loop that causes the condition to never exit while loop, endlessly incrementing one of the variables until memory cap has been reached. Review the conditions of while flow control.\r\n","title":"Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space error ocurred while adding value in ArrayList","body":"<pre><code>    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space \n</code></pre>\n<p>Java is saying it ran out of memory. There is an endless loop that causes the condition to never exit while loop, endlessly incrementing one of the variables until memory cap has been reached. Review the conditions of while flow control.</p>\n"},{"tags":[],"owner":{"account_id":9686655,"reputation":41,"user_id":7186226,"display_name":"Shubham Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633670188,"creation_date":1633670188,"answer_id":69490819,"question_id":69490612,"body_markdown":"When the common elements are being found i.e \r\n\r\n`if(A[i]==B[j] &amp;&amp; B[j]==C[k]){\r\n            int t=A[i];\r\n            ls.add(t);\r\n        }`\r\n    \r\nYou haven&#39;t incremented either i or j or k, hence it is getting stuck in an infinite loop leading to the heap space usage. Incrementing them should do the job ideally. ","title":"Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space error ocurred while adding value in ArrayList","body":"<p>When the common elements are being found i.e</p>\n<p><code>if(A[i]==B[j] &amp;&amp; B[j]==C[k]){ int t=A[i]; ls.add(t); }</code></p>\n<p>You haven't incremented either i or j or k, hence it is getting stuck in an infinite loop leading to the heap space usage. Incrementing them should do the job ideally.</p>\n"},{"tags":[],"owner":{"account_id":22976037,"reputation":21,"user_id":17103639,"display_name":"Priyanka Lodhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633670201,"creation_date":1633670201,"answer_id":69490822,"question_id":69490612,"body_markdown":"I needed to increment of i,j,k in my if condition to prevent it from this error.\r\n\r\n    ArrayList&lt;Integer&gt; commonElements(int A[], int B[], int C[], int n1, int n2, int n3) \r\n    {\r\n        // code here\r\n        ArrayList&lt;Integer&gt; ls=new ArrayList&lt;Integer&gt;(n1);\r\n        int i=0,j=0,k=0;\r\n        while(i&lt;n1 &amp;&amp; j&lt;n2 &amp;&amp; k&lt;n3){\r\n            if(A[i]==B[j] &amp;&amp; B[j]==C[k]){\r\n                if(!ls.contains(A[i])){\r\n                    ls.add(A[i]);\r\n                }\r\n                i++;\r\n                j++;\r\n                k++;\r\n            }else if(A[i]&lt;B[j]){\r\n                i++;\r\n            }else if(B[j]&lt;C[k]){\r\n                j++;\r\n            }else{\r\n                k++;\r\n            }\r\n        }\r\n        return ls;\r\n    }","title":"Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space error ocurred while adding value in ArrayList","body":"<p>I needed to increment of i,j,k in my if condition to prevent it from this error.</p>\n<pre><code>ArrayList&lt;Integer&gt; commonElements(int A[], int B[], int C[], int n1, int n2, int n3) \n{\n    // code here\n    ArrayList&lt;Integer&gt; ls=new ArrayList&lt;Integer&gt;(n1);\n    int i=0,j=0,k=0;\n    while(i&lt;n1 &amp;&amp; j&lt;n2 &amp;&amp; k&lt;n3){\n        if(A[i]==B[j] &amp;&amp; B[j]==C[k]){\n            if(!ls.contains(A[i])){\n                ls.add(A[i]);\n            }\n            i++;\n            j++;\n            k++;\n        }else if(A[i]&lt;B[j]){\n            i++;\n        }else if(B[j]&lt;C[k]){\n            j++;\n        }else{\n            k++;\n        }\n    }\n    return ls;\n}\n</code></pre>\n"}],"owner":{"account_id":22976037,"reputation":21,"user_id":17103639,"display_name":"Priyanka Lodhi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1968,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1633673761,"answer_count":3,"score":2,"last_activity_date":1633670201,"creation_date":1633668278,"question_id":69490612,"body_markdown":"This is my code of finding common elements from three arrays.\r\nI am trying to add the elements in the ArrayList by using add() function but I am getting this out of memory error.\r\nThis is my code-\r\n\r\n    ArrayList&lt;Integer&gt; commonElements(int A[], int B[], int C[], int n1, int n2, int n3) \r\n    {\r\n        // code here\r\n        ArrayList&lt;Integer&gt; ls=new ArrayList&lt;Integer&gt;(n1);\r\n        int i=0,j=0,k=0;\r\n        while(i&lt;n1 &amp;&amp; j&lt;n2 &amp;&amp; k&lt;n3){\r\n            if(A[i]==B[j] &amp;&amp; B[j]==C[k]){\r\n                int t=A[i];\r\n                ls.add(t);\r\n            }else if(A[i]&lt;B[j]){\r\n                i++;\r\n            }else if(B[j]&lt;C[k]){\r\n                j++;\r\n            }else{\r\n                k++;\r\n            }\r\n        }\r\n        return ls;\r\n    }\r\n\r\nthis is my error-\r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n    at java.base/java.util.Arrays.copyOf(Arrays.java:3720)\r\n    at java.base/java.util.Arrays.copyOf(Arrays.java:3689)\r\n    at java.base/java.util.ArrayList.grow(ArrayList.java:237)\r\n    at java.base/java.util.ArrayList.grow(ArrayList.java:242)\r\n    at java.base/java.util.ArrayList.add(ArrayList.java:485)\r\n    at java.base/java.util.ArrayList.add(ArrayList.java:498)\r\n    at Solution.commonElements(GFG.java:68)\r\n    at GFG.main(GFG.java:36)","title":"Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space error ocurred while adding value in ArrayList","body":"<p>This is my code of finding common elements from three arrays.\nI am trying to add the elements in the ArrayList by using add() function but I am getting this out of memory error.\nThis is my code-</p>\n<pre><code>ArrayList&lt;Integer&gt; commonElements(int A[], int B[], int C[], int n1, int n2, int n3) \n{\n    // code here\n    ArrayList&lt;Integer&gt; ls=new ArrayList&lt;Integer&gt;(n1);\n    int i=0,j=0,k=0;\n    while(i&lt;n1 &amp;&amp; j&lt;n2 &amp;&amp; k&lt;n3){\n        if(A[i]==B[j] &amp;&amp; B[j]==C[k]){\n            int t=A[i];\n            ls.add(t);\n        }else if(A[i]&lt;B[j]){\n            i++;\n        }else if(B[j]&lt;C[k]){\n            j++;\n        }else{\n            k++;\n        }\n    }\n    return ls;\n}\n</code></pre>\n<p>this is my error-</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\nat java.base/java.util.Arrays.copyOf(Arrays.java:3720)\nat java.base/java.util.Arrays.copyOf(Arrays.java:3689)\nat java.base/java.util.ArrayList.grow(ArrayList.java:237)\nat java.base/java.util.ArrayList.grow(ArrayList.java:242)\nat java.base/java.util.ArrayList.add(ArrayList.java:485)\nat java.base/java.util.ArrayList.add(ArrayList.java:498)\nat Solution.commonElements(GFG.java:68)\nat GFG.main(GFG.java:36)\n</code></pre>\n"},{"tags":["java","android","pdf-viewer"],"comments":[{"owner":{"account_id":13882789,"reputation":84,"user_id":10022722,"display_name":"Rasha Mohamed"},"score":0,"creation_date":1551011360,"post_id":54851788,"comment_id":96475647,"body_markdown":"Ok, I fully understood","body":"Ok, I fully understood"}],"owner":{"account_id":13882789,"reputation":84,"user_id":10022722,"display_name":"Rasha Mohamed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633670075,"creation_date":1551010556,"question_id":54851788,"body_markdown":"I&#39;m a beginner , and I use barteksc library to make pdf viewer, I can save bookmarkedpage and go to it by using SharedPreferences ,How can I add bookmark icon as ImageView on bookmarked page only.\r\n I use this code but the bookmarked icon appeared at all pdf pages.\r\n\r\n      pdfView.fromAsset(&quot;sample.pdf&quot;)\r\n                    // .spacing(10)\r\n                    .enableSwipe(true) // allows to block changing pages using swipe\r\n                    .enableDoubletap(true)\r\n                    .defaultPage(page)\r\n                    /*.scrollHandle(new DefaultScrollHandle(this))*/\r\n                    .pageFitPolicy(FitPolicy.WIDTH)\r\n                    .spacing(10) // in dp\r\n                    .pages(arrayOfPages)//start from last page to support Right to left navigation\r\n                    .swipeHorizontal(true)\r\n                    .pageSnap(true)  //scroll through single pages like a ViewPager\r\n                    .autoSpacing(true) //scroll through single pages like a ViewPager\r\n                    .pageFling(true)  //scroll through single pages like a ViewPager\r\n                    .enableAntialiasing(true) // improve rendering a little bit on low-res screens\r\n                    .enableAnnotationRendering(true)\r\n                    .onRender(new OnRenderListener() {\r\n\r\n                        @Override\r\n                        public void onInitiallyRendered(int nbPages) {\r\n                            pdfView.fitToWidth(pdfView.getCurrentPage());\r\n                        }\r\n                    })\r\n\r\n\r\n                    .load();\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    //Menu Items\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu1, menu);\r\n        return true;\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        int id = item.getItemId();\r\n\r\n\r\n        if (id == R.id.save_bookmark) {\r\n            int bookmarkedPage = pdfView.getCurrentPage();\r\n            //TODO add save bookmark button\r\n            //bookmarkedPage is the page which has bookmark\r\n            SharedPreferences.Editor editor = getSharedPreferences(BOOKMARKS_PREFERENCES, MODE_PRIVATE).edit();\r\n            editor.putBoolean(&quot;itemID&quot;, true);\r\n            editor.putInt(&quot;bookmarkedPageNum&quot;, bookmarkedPage);\r\n            editor.apply();\r\n            Toast.makeText(this, &quot;Save bookMark&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n        }\r\n\r\n        if (id == R.id.goTo_bookmark) {\r\n\r\n            //TODO load page saved in share preferance\r\n            SharedPreferences preferences = getSharedPreferences(BOOKMARKS_PREFERENCES, MODE_PRIVATE);\r\n            boolean isBookmark = preferences.getBoolean(&quot;itemID&quot;, false);\r\n            int bookmarkedPage = preferences.getInt(&quot;bookmarkedPageNum&quot;, 0);\r\n            pdfView.jumpTo(bookmarkedPage, true);\r\n            Toast.makeText(this, &quot; bookMark&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            // the bookmarked icon\r\n\r\n            if( bookmarkedPage == pdfView.getCurrentPage()) {\r\n                bookmarkIcon.setVisibility(View.VISIBLE);\r\n\r\n\r\n            }\r\n\r\n\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n\r\n}\r\n\r\nIs there  way to make bookmark icon appear at bookmarked page only?","title":"How can I add bookmark icon on bookmarked page only at Pdfview?","body":"<p>I'm a beginner , and I use barteksc library to make pdf viewer, I can save bookmarkedpage and go to it by using SharedPreferences ,How can I add bookmark icon as ImageView on bookmarked page only.\n I use this code but the bookmarked icon appeared at all pdf pages.</p>\n\n<pre><code>  pdfView.fromAsset(\"sample.pdf\")\n                // .spacing(10)\n                .enableSwipe(true) // allows to block changing pages using swipe\n                .enableDoubletap(true)\n                .defaultPage(page)\n                /*.scrollHandle(new DefaultScrollHandle(this))*/\n                .pageFitPolicy(FitPolicy.WIDTH)\n                .spacing(10) // in dp\n                .pages(arrayOfPages)//start from last page to support Right to left navigation\n                .swipeHorizontal(true)\n                .pageSnap(true)  //scroll through single pages like a ViewPager\n                .autoSpacing(true) //scroll through single pages like a ViewPager\n                .pageFling(true)  //scroll through single pages like a ViewPager\n                .enableAntialiasing(true) // improve rendering a little bit on low-res screens\n                .enableAnnotationRendering(true)\n                .onRender(new OnRenderListener() {\n\n                    @Override\n                    public void onInitiallyRendered(int nbPages) {\n                        pdfView.fitToWidth(pdfView.getCurrentPage());\n                    }\n                })\n\n\n                .load();\n\n\n    }\n\n\n}\n\n//Menu Items\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.menu1, menu);\n    return true;\n\n}\n\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    int id = item.getItemId();\n\n\n    if (id == R.id.save_bookmark) {\n        int bookmarkedPage = pdfView.getCurrentPage();\n        //TODO add save bookmark button\n        //bookmarkedPage is the page which has bookmark\n        SharedPreferences.Editor editor = getSharedPreferences(BOOKMARKS_PREFERENCES, MODE_PRIVATE).edit();\n        editor.putBoolean(\"itemID\", true);\n        editor.putInt(\"bookmarkedPageNum\", bookmarkedPage);\n        editor.apply();\n        Toast.makeText(this, \"Save bookMark\", Toast.LENGTH_SHORT).show();\n\n\n    }\n\n    if (id == R.id.goTo_bookmark) {\n\n        //TODO load page saved in share preferance\n        SharedPreferences preferences = getSharedPreferences(BOOKMARKS_PREFERENCES, MODE_PRIVATE);\n        boolean isBookmark = preferences.getBoolean(\"itemID\", false);\n        int bookmarkedPage = preferences.getInt(\"bookmarkedPageNum\", 0);\n        pdfView.jumpTo(bookmarkedPage, true);\n        Toast.makeText(this, \" bookMark\", Toast.LENGTH_SHORT).show();\n\n        // the bookmarked icon\n\n        if( bookmarkedPage == pdfView.getCurrentPage()) {\n            bookmarkIcon.setVisibility(View.VISIBLE);\n\n\n        }\n\n\n    }\n    return super.onOptionsItemSelected(item);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Is there  way to make bookmark icon appear at bookmarked page only?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1633665864,"post_id":69490319,"comment_id":122825546,"body_markdown":"What you are entering 9 or 09?","body":"What you are entering 9 or 09?"},{"owner":{"account_id":22975679,"reputation":1,"user_id":17103340,"display_name":"Divya Patel"},"score":0,"creation_date":1633666261,"post_id":69490319,"comment_id":122825600,"body_markdown":"I am trying to enter 9 digits start with 0. for ex- 012312312","body":"I am trying to enter 9 digits start with 0. for ex- 012312312"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1633666585,"post_id":69490319,"comment_id":122825648,"body_markdown":"When you enter number starting with 0 and hold that inside int type, then that leading 0 will be truncated. That&#39;s why it is considering it as 8 digit number. Because 012312312 = 12312312","body":"When you enter number starting with 0 and hold that inside int type, then that leading 0 will be truncated. That&#39;s why it is considering it as 8 digit number. Because 012312312 = 12312312"},{"owner":{"account_id":22975679,"reputation":1,"user_id":17103340,"display_name":"Divya Patel"},"score":0,"creation_date":1633666806,"post_id":69490319,"comment_id":122825687,"body_markdown":"What can be solution for that and what changes can I make?  thanks!","body":"What can be solution for that and what changes can I make?  thanks!"},{"owner":{"account_id":10457881,"reputation":328,"user_id":10002202,"display_name":"Incisor"},"score":0,"creation_date":1633667428,"post_id":69490319,"comment_id":122825783,"body_markdown":"This is how you can check what the first character of the string is\nString.valueOf(Math.abs((long)num)).charAt(0) != &#39;0&#39;","body":"This is how you can check what the first character of the string is String.valueOf(Math.abs((long)num)).charAt(0) != &#39;0&#39;"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1633670082,"post_id":69490319,"comment_id":122826222,"body_markdown":"Please find my answer below with some other fixes also.","body":"Please find my answer below with some other fixes also."}],"answers":[{"tags":[],"owner":{"account_id":10457881,"reputation":328,"user_id":10002202,"display_name":"Incisor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633668127,"creation_date":1633668127,"answer_id":69490593,"question_id":69490319,"body_markdown":"Your problem is that Java is treating your Integer as 8 integers long. This is causing it to not be a valid input.\r\n\r\nI made an if statement to check if it is treated as 8 characters long and if its 8 long and the first character is a 0 it prints not used since phone numbers don&#39;t start with 0.\r\n\r\n```\r\nif(count != 9 &amp;&amp; (String.valueOf(Math.abs((long)num)).charAt(0) == &#39;0&#39;)){\r\n                System.out.println( &quot;Not used&quot;);\r\n\r\n            }\r\n```\r\nFull Code\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class FirstDigitSIN\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n\r\n        Scanner kb = new Scanner(System.in);\r\n        System.out.print(&quot;Enter a SIN number :&quot; );\r\n        if(kb.hasNextInt()){\r\n            // code that you want executed if the input is an integer goes in here \r\n            int num = kb.nextInt();\r\n            int numCopy = num;\r\n            int digit =0;\r\n            int count = 0;\r\n            while(num != 0 ){\r\n                num = num/10;\r\n                count++;}\r\n            if(count != 9 &amp;&amp; (String.valueOf(Math.abs((long)num)).charAt(0) == &#39;0&#39;)){\r\n                System.out.println( &quot;Not used&quot;);\r\n\r\n            }\r\n            else    if(count != 9){\r\n                System.out.println(&quot;Invalid Entry&quot;); }\r\n\r\n            else{\r\n                System.out.println( num );\r\n\r\n                while(numCopy&gt;0){\r\n                    digit = numCopy %10;\r\n\r\n                    numCopy = numCopy/10;\r\n                }if (digit == 1){\r\n                    System.out.println(&quot; Registered in Atlantic Canada &quot;);\r\n                }else if(digit == 2){\r\n                    System.out.println(&quot; Registered in Quebec &quot;) ;\r\n                }else if (digit == 3){\r\n                    System.out.println(&quot; Registered in Quebec &quot;);}\r\n                else   if (digit == 4){\r\n                    System.out.println(&quot; Registered in Ontario &quot;);}\r\n                else  if (digit == 5){\r\n                    System.out.println(&quot; Registered in Ontario &quot;);}\r\n                else  if (digit == 6){\r\n                    System.out.println(&quot; Registered in Prairie Provinces, NWT, Nunavut, Northwest Ontario &quot;);}\r\n                else   if (digit == 7){\r\n                    System.out.println(&quot; Registered in Pacific region &quot;);}\r\n                else   if (digit == 9){\r\n                    System.out.println(&quot; A temporary SIN &quot;);}\r\n                else if (digit ==8 &amp;&amp; digit ==0) {\r\n                    System.out.println( &quot;Not used&quot;);\r\n                }}\r\n            System.out.println(&quot; *** End of program *** &quot;);\r\n        } \r\n        else \r\n        {\r\n            System.out.println (&quot;Error message goes here. Here you can tell them that you want them to       enter an integer and not a string.&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```","title":"Program is running but when I enter 9 digit error starting with 0, its giving me error that its invalid but I want print it as not used character","body":"<p>Your problem is that Java is treating your Integer as 8 integers long. This is causing it to not be a valid input.</p>\n<p>I made an if statement to check if it is treated as 8 characters long and if its 8 long and the first character is a 0 it prints not used since phone numbers don't start with 0.</p>\n<pre><code>if(count != 9 &amp;&amp; (String.valueOf(Math.abs((long)num)).charAt(0) == '0')){\n                System.out.println( &quot;Not used&quot;);\n\n            }\n</code></pre>\n<p>Full Code</p>\n<pre><code>import java.util.Scanner;\n\npublic class FirstDigitSIN\n{\n    public static void main(String[] args)\n    {\n\n        Scanner kb = new Scanner(System.in);\n        System.out.print(&quot;Enter a SIN number :&quot; );\n        if(kb.hasNextInt()){\n            // code that you want executed if the input is an integer goes in here \n            int num = kb.nextInt();\n            int numCopy = num;\n            int digit =0;\n            int count = 0;\n            while(num != 0 ){\n                num = num/10;\n                count++;}\n            if(count != 9 &amp;&amp; (String.valueOf(Math.abs((long)num)).charAt(0) == '0')){\n                System.out.println( &quot;Not used&quot;);\n\n            }\n            else    if(count != 9){\n                System.out.println(&quot;Invalid Entry&quot;); }\n\n            else{\n                System.out.println( num );\n\n                while(numCopy&gt;0){\n                    digit = numCopy %10;\n\n                    numCopy = numCopy/10;\n                }if (digit == 1){\n                    System.out.println(&quot; Registered in Atlantic Canada &quot;);\n                }else if(digit == 2){\n                    System.out.println(&quot; Registered in Quebec &quot;) ;\n                }else if (digit == 3){\n                    System.out.println(&quot; Registered in Quebec &quot;);}\n                else   if (digit == 4){\n                    System.out.println(&quot; Registered in Ontario &quot;);}\n                else  if (digit == 5){\n                    System.out.println(&quot; Registered in Ontario &quot;);}\n                else  if (digit == 6){\n                    System.out.println(&quot; Registered in Prairie Provinces, NWT, Nunavut, Northwest Ontario &quot;);}\n                else   if (digit == 7){\n                    System.out.println(&quot; Registered in Pacific region &quot;);}\n                else   if (digit == 9){\n                    System.out.println(&quot; A temporary SIN &quot;);}\n                else if (digit ==8 &amp;&amp; digit ==0) {\n                    System.out.println( &quot;Not used&quot;);\n                }}\n            System.out.println(&quot; *** End of program *** &quot;);\n        } \n        else \n        {\n            System.out.println (&quot;Error message goes here. Here you can tell them that you want them to       enter an integer and not a string.&quot;);\n        }\n\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633670052,"creation_date":1633670052,"answer_id":69490803,"question_id":69490319,"body_markdown":"Couple of things:\r\n\r\n- To Avoid skipping these leading 0 use String rather than int to hold the input.\r\n- Then use Regex pattern to validate that String contains only numbers (else throw error if not a number).\r\n- As in your code you want to check the value of first digit in number entered by user, to retrieve that get first index from entered `String`.\r\n- The last condition `digit == 8 &amp;&amp; digit == 0` should be replaced with `digit == 8 || digit == 0`, as here we are checking equality of single value. And single value can&#39;t be equal to both 8 and 0.\r\n\r\n**Here is the code:**\r\n\r\n    public class FirstDigitSIN {\r\n        private static final String NUMBERS = &quot;[0-9]+&quot;;\r\n        \r\n          // Compile the ReGex\r\n          private static final Pattern NUMBER_PATTERN = Pattern.compile(NUMBERS);\r\n        \r\n          public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n            Scanner kb = new Scanner(System.in);\r\n            System.out.print(&quot;Enter a SIN number :&quot;);\r\n            if (kb.hasNext()) {\r\n              // code that you want executed if the input is an integer goes in here \r\n              String num = kb.next();\r\n        \r\n              // using Pattern.matcher()\r\n              Matcher m = NUMBER_PATTERN.matcher(num);\r\n        \r\n              // Return if the string\r\n              // matched the ReGex\r\n              if (m.matches()) {\r\n                int numCopy = Integer.valueOf(num);\r\n                int digit = 0;\r\n                if (num.length() != 9) {\r\n                  System.out.println(&quot;Invalid Entry&quot;);\r\n                } else {\r\n                  System.out.println(num);\r\n                  int digit = Character.getNumericValue(num.charAt(0));\r\n                  System.out.println(digit);\r\n\r\n                  if (digit == 1) {\r\n                    System.out.println(&quot; Registered in Atlantic Canada &quot;);\r\n                  } else if (digit == 2) {\r\n                    System.out.println(&quot; Registered in Quebec &quot;);\r\n                  } else if (digit == 3) {\r\n                    System.out.println(&quot; Registered in Quebec &quot;);\r\n                  } else if (digit == 4) {\r\n                    System.out.println(&quot; Registered in Ontario &quot;);\r\n                  } else if (digit == 5) {\r\n                    System.out.println(&quot; Registered in Ontario &quot;);\r\n                  } else if (digit == 6) {\r\n                    System.out.println(&quot; Registered in Prairie Provinces, NWT, Nunavut, Northwest Ontario &quot;);\r\n    \r\n                  } else if (digit == 7) {\r\n                    System.out.println(&quot; Registered in Pacific region &quot;);\r\n                  } else if (digit == 9) {\r\n                    System.out.println(&quot; A temporary SIN &quot;);\r\n                  } else if (digit == 8 || digit == 0) {\r\n                    System.out.println(&quot;Not used&quot;);\r\n                  }\r\n                }\r\n                System.out.println(&quot; *** End of program *** &quot;);\r\n              } else {\r\n                System.out.println(\r\n                    &quot;Error message goes here. Here you can tell them that you want them to       enter an integer and not a string.&quot;);\r\n              }\r\n        \r\n            } else {\r\n              System.out.println(\r\n                  &quot;Error message goes here. Here you can tell them that you want them to       enter an integer and not a string.&quot;);\r\n            }\r\n          }\r\n    }","title":"Program is running but when I enter 9 digit error starting with 0, its giving me error that its invalid but I want print it as not used character","body":"<p>Couple of things:</p>\n<ul>\n<li>To Avoid skipping these leading 0 use String rather than int to hold the input.</li>\n<li>Then use Regex pattern to validate that String contains only numbers (else throw error if not a number).</li>\n<li>As in your code you want to check the value of first digit in number entered by user, to retrieve that get first index from entered <code>String</code>.</li>\n<li>The last condition <code>digit == 8 &amp;&amp; digit == 0</code> should be replaced with <code>digit == 8 || digit == 0</code>, as here we are checking equality of single value. And single value can't be equal to both 8 and 0.</li>\n</ul>\n<p><strong>Here is the code:</strong></p>\n<pre><code>public class FirstDigitSIN {\n    private static final String NUMBERS = &quot;[0-9]+&quot;;\n    \n      // Compile the ReGex\n      private static final Pattern NUMBER_PATTERN = Pattern.compile(NUMBERS);\n    \n      public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n        Scanner kb = new Scanner(System.in);\n        System.out.print(&quot;Enter a SIN number :&quot;);\n        if (kb.hasNext()) {\n          // code that you want executed if the input is an integer goes in here \n          String num = kb.next();\n    \n          // using Pattern.matcher()\n          Matcher m = NUMBER_PATTERN.matcher(num);\n    \n          // Return if the string\n          // matched the ReGex\n          if (m.matches()) {\n            int numCopy = Integer.valueOf(num);\n            int digit = 0;\n            if (num.length() != 9) {\n              System.out.println(&quot;Invalid Entry&quot;);\n            } else {\n              System.out.println(num);\n              int digit = Character.getNumericValue(num.charAt(0));\n              System.out.println(digit);\n\n              if (digit == 1) {\n                System.out.println(&quot; Registered in Atlantic Canada &quot;);\n              } else if (digit == 2) {\n                System.out.println(&quot; Registered in Quebec &quot;);\n              } else if (digit == 3) {\n                System.out.println(&quot; Registered in Quebec &quot;);\n              } else if (digit == 4) {\n                System.out.println(&quot; Registered in Ontario &quot;);\n              } else if (digit == 5) {\n                System.out.println(&quot; Registered in Ontario &quot;);\n              } else if (digit == 6) {\n                System.out.println(&quot; Registered in Prairie Provinces, NWT, Nunavut, Northwest Ontario &quot;);\n\n              } else if (digit == 7) {\n                System.out.println(&quot; Registered in Pacific region &quot;);\n              } else if (digit == 9) {\n                System.out.println(&quot; A temporary SIN &quot;);\n              } else if (digit == 8 || digit == 0) {\n                System.out.println(&quot;Not used&quot;);\n              }\n            }\n            System.out.println(&quot; *** End of program *** &quot;);\n          } else {\n            System.out.println(\n                &quot;Error message goes here. Here you can tell them that you want them to       enter an integer and not a string.&quot;);\n          }\n    \n        } else {\n          System.out.println(\n              &quot;Error message goes here. Here you can tell them that you want them to       enter an integer and not a string.&quot;);\n        }\n      }\n}\n</code></pre>\n"}],"owner":{"account_id":22975679,"reputation":1,"user_id":17103340,"display_name":"Divya Patel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633670052,"creation_date":1633665451,"question_id":69490319,"body_markdown":"   The program is running but when I enter 9 digit error starting with 0, it&#39;s giving me an error that its invalid but I want print it as not used character. Its java basic learning, thanks for helping in advance. My whole code is running perfect and if I enter 9 digit starting with 8 then its working properly for 0, its giving me error.\r\n\r\n     import java.util.Scanner;\r\n\r\n     public class FirstDigitSIN\r\n     {\r\n     public static void main(String[] args)\r\n     {\r\n     \r\n     Scanner kb = new Scanner(System.in);\r\n     System.out.print(&quot;Enter a SIN number :&quot; );\r\n    if(kb.hasNextInt()){\r\n    // code that you want executed if the input is an integer goes in here \r\n    int num = kb.nextInt();\r\n     int numCopy = num;\r\n     int digit =0;\r\n         int count = 0;\r\n         while(num != 0 ){\r\n             num = num/10;\r\n             count++;}\r\n         if(count != 9){\r\n            System.out.println(&quot;Invalid Entry&quot;); }\r\n             else{\r\n             System.out.println( num );\r\n            \r\n         \r\n    \r\n     while(numCopy&gt;0){\r\n         digit = numCopy %10;\r\n         \r\n         numCopy = numCopy/10;\r\n     }if (digit == 1){\r\n         System.out.println(&quot; Registered in Atlantic Canada &quot;);\r\n     }else if(digit == 2){\r\n         System.out.println(&quot; Registered in Quebec &quot;) ;\r\n     }else if (digit == 3){\r\n         System.out.println(&quot; Registered in Quebec &quot;);}\r\n      else   if (digit == 4){\r\n         System.out.println(&quot; Registered in Ontario &quot;);}\r\n       else  if (digit == 5){\r\n         System.out.println(&quot; Registered in Ontario &quot;);}\r\n       else  if (digit == 6){\r\n         System.out.println(&quot; Registered in Prairie Provinces, NWT, Nunavut, Northwest Ontario &quot;);}\r\n      else   if (digit == 7){\r\n         System.out.println(&quot; Registered in Pacific region &quot;);}\r\n      else   if (digit == 9){\r\n         System.out.println(&quot; A temporary SIN &quot;);}\r\n         else if (digit ==8 &amp;&amp; digit ==0) {\r\n             System.out.println( &quot;Not used&quot;);\r\n         }}\r\n         System.out.println(&quot; *** End of program *** &quot;);\r\n        } \r\n        else \r\n        {\r\n        System.out.println (&quot;Error message goes here. Here you can tell them that you want them to       enter an integer and not a string.&quot;);\r\n        }\r\n\r\n        }\r\n        }","title":"Program is running but when I enter 9 digit error starting with 0, its giving me error that its invalid but I want print it as not used character","body":"<p>The program is running but when I enter 9 digit error starting with 0, it's giving me an error that its invalid but I want print it as not used character. Its java basic learning, thanks for helping in advance. My whole code is running perfect and if I enter 9 digit starting with 8 then its working properly for 0, its giving me error.</p>\n<pre><code> import java.util.Scanner;\n\n public class FirstDigitSIN\n {\n public static void main(String[] args)\n {\n \n Scanner kb = new Scanner(System.in);\n System.out.print(&quot;Enter a SIN number :&quot; );\nif(kb.hasNextInt()){\n// code that you want executed if the input is an integer goes in here \nint num = kb.nextInt();\n int numCopy = num;\n int digit =0;\n     int count = 0;\n     while(num != 0 ){\n         num = num/10;\n         count++;}\n     if(count != 9){\n        System.out.println(&quot;Invalid Entry&quot;); }\n         else{\n         System.out.println( num );\n        \n     \n\n while(numCopy&gt;0){\n     digit = numCopy %10;\n     \n     numCopy = numCopy/10;\n }if (digit == 1){\n     System.out.println(&quot; Registered in Atlantic Canada &quot;);\n }else if(digit == 2){\n     System.out.println(&quot; Registered in Quebec &quot;) ;\n }else if (digit == 3){\n     System.out.println(&quot; Registered in Quebec &quot;);}\n  else   if (digit == 4){\n     System.out.println(&quot; Registered in Ontario &quot;);}\n   else  if (digit == 5){\n     System.out.println(&quot; Registered in Ontario &quot;);}\n   else  if (digit == 6){\n     System.out.println(&quot; Registered in Prairie Provinces, NWT, Nunavut, Northwest Ontario &quot;);}\n  else   if (digit == 7){\n     System.out.println(&quot; Registered in Pacific region &quot;);}\n  else   if (digit == 9){\n     System.out.println(&quot; A temporary SIN &quot;);}\n     else if (digit ==8 &amp;&amp; digit ==0) {\n         System.out.println( &quot;Not used&quot;);\n     }}\n     System.out.println(&quot; *** End of program *** &quot;);\n    } \n    else \n    {\n    System.out.println (&quot;Error message goes here. Here you can tell them that you want them to       enter an integer and not a string.&quot;);\n    }\n\n    }\n    }\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","javafx"],"answers":[{"tags":[],"owner":{"account_id":159339,"reputation":1495,"user_id":378591,"display_name":"Menefee"},"down_vote_count":0,"up_vote_count":81,"is_accepted":true,"score":81,"last_activity_date":1524040213,"creation_date":1469716796,"answer_id":38639576,"question_id":30488223,"body_markdown":"Although dated I&#39;m answering this because I had the same question recently and too many people told me to write my own pom file etc. While that is technically true, it can create more headaches if you aren&#39;t careful.  \r\n\r\nI recommend you:\r\n\r\n 1. Create a JavaFX project as you normally would.  \r\n 2. Make sure that project view (dropdown in project structure side tool window) is set to &#39;_Project_&#39; or &#39;_Packages_&#39; (otherwise option in 4th step will not be visible)\r\n 3. Then once it is opened and ready right click on the project folder\r\n 4. Go to &quot;Add Framework Support...&quot;. \r\n 5. Check the box for Maven and click &quot;OK&quot;.  \r\n\r\nLet IntelliJ do the work for you at this point.\r\n\r\nAs for editing FXML files link the IDEA to SceneBuilder.  [Here][1] is the official documentation. But basically:\r\n\r\n 1. Install [Scene Builder][2].\r\n 2. File -&gt; Settings -&gt; Languages &amp; Frameworks -&gt; JavaFX\r\n 3. Point to the exe file.\r\n\r\nTo Use: Right click on the FXML file and select &quot;Open In SceneBuilder&quot; (way down at the bottom)\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2016.2/preparing-for-javafx-application-development.html#d432543e165\r\n  [2]: http://gluonhq.com/products/","title":"How to create a JavaFX Maven project in IntelliJ IDEA?","body":"<p>Although dated I'm answering this because I had the same question recently and too many people told me to write my own pom file etc. While that is technically true, it can create more headaches if you aren't careful.  </p>\n\n<p>I recommend you:</p>\n\n<ol>\n<li>Create a JavaFX project as you normally would.  </li>\n<li>Make sure that project view (dropdown in project structure side tool window) is set to '<em>Project</em>' or '<em>Packages</em>' (otherwise option in 4th step will not be visible)</li>\n<li>Then once it is opened and ready right click on the project folder</li>\n<li>Go to \"Add Framework Support...\". </li>\n<li>Check the box for Maven and click \"OK\".  </li>\n</ol>\n\n<p>Let IntelliJ do the work for you at this point.</p>\n\n<p>As for editing FXML files link the IDEA to SceneBuilder.  <a href=\"https://www.jetbrains.com/help/idea/2016.2/preparing-for-javafx-application-development.html#d432543e165\" rel=\"noreferrer\">Here</a> is the official documentation. But basically:</p>\n\n<ol>\n<li>Install <a href=\"http://gluonhq.com/products/\" rel=\"noreferrer\">Scene Builder</a>.</li>\n<li>File -> Settings -> Languages &amp; Frameworks -> JavaFX</li>\n<li>Point to the exe file.</li>\n</ol>\n\n<p>To Use: Right click on the FXML file and select \"Open In SceneBuilder\" (way down at the bottom)</p>\n"},{"tags":[],"owner":{"account_id":5123176,"reputation":79,"user_id":4106149,"display_name":"Ernest"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531446834,"creation_date":1531446834,"answer_id":51316671,"question_id":30488223,"body_markdown":"This steps worked for me (Is a different process):\r\n1. Create a maven project.\r\n2. In the generated pom.xml add the following:\r\n\r\n    `&lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.zenjava&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;8.7.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;your.package.with.mainclass&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;`\r\n\r\nThis adds a maven plugin for javafx (more info: https://github.com/javafx-maven-plugin/javafx-maven-plugin)\r\n\r\n3. Create in your resources folder your sample.fxml\r\n4. Create your controller class for sample.fxml and link \r\n5. Enjoy!","title":"How to create a JavaFX Maven project in IntelliJ IDEA?","body":"<p>This steps worked for me (Is a different process):\n1. Create a maven project.\n2. In the generated pom.xml add the following:</p>\n\n<pre><code>`&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.zenjava&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;8.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;your.package.with.mainclass&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;`\n</code></pre>\n\n<p>This adds a maven plugin for javafx (more info: <a href=\"https://github.com/javafx-maven-plugin/javafx-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/javafx-maven-plugin/javafx-maven-plugin</a>)</p>\n\n<ol start=\"3\">\n<li>Create in your resources folder your sample.fxml</li>\n<li>Create your controller class for sample.fxml and link </li>\n<li>Enjoy!</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12245356,"reputation":123,"user_id":8937150,"display_name":"SSpade"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1545573186,"creation_date":1545573186,"answer_id":53904164,"question_id":30488223,"body_markdown":"And after all, a program doesn&#39;t compiled. So this video helped me: [Configuring Maven For Java FX][1]\r\n\r\n\r\n  [1]: https://youtu.be/RVzGvuM5syA\r\n\r\nin words:\r\nwe need to move sample.fxml to /resources folder. And in Main.java write: \r\n\r\n    FXMLLoader loader=new FXMLLoader(getClass().getResource(&quot;/sample.fxml&quot;));","title":"How to create a JavaFX Maven project in IntelliJ IDEA?","body":"<p>And after all, a program doesn't compiled. So this video helped me: <a href=\"https://youtu.be/RVzGvuM5syA\" rel=\"noreferrer\">Configuring Maven For Java FX</a></p>\n\n<p>in words:\nwe need to move sample.fxml to /resources folder. And in Main.java write: </p>\n\n<pre><code>FXMLLoader loader=new FXMLLoader(getClass().getResource(\"/sample.fxml\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15159293,"reputation":151,"user_id":10938963,"display_name":"Cong"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569420008,"creation_date":1569419617,"answer_id":58100056,"question_id":30488223,"body_markdown":"It takes me a couple of hours to find the right solution.&lt;/br&gt;\r\nMany thanks to this video and the author:\r\nhttps://www.youtube.com/watch?v=qn2tbftFjno\r\n\r\nSo, following the above video, I would like to recommend:\r\n\r\n 1. Download JavaFX SDK from https://gluonhq.com/products/javafx/\r\n 2. Extract the zip file \r\n 3. From the starting page of Intellij IDEA, select Configure/Structure for New Projects\r\n 4. Select Platform Settings/Global Libraries\r\n 5. Select the plus (&quot;+&quot;) button/Java\r\n 6. Find the &quot;lib&quot; folder inside your extracted zip file and select all of &quot;.jar&quot; files (except &quot;src.zip&quot;), and then OK\r\n 7. Set a new name for the library, let&#39;s say &quot;javafx-whatever-version&quot;, then \r\n Apply/OK\r\n 8. Create a JavaFX project as normally.\r\n 9. Select File/Project Structure...\r\n 10. From Project Settings/Project, remember to select the suitable Project SDK and Project language level\r\n 11. From Platform Settings/Global Libraries, right click on the library &quot;javafx-whatever-version&quot; (which you have already added),\r\n    choose Add to modules.../OK\r\n 12. Switch to Project Settings/Modules, choose Apply/OK\r\n 13. Back to your project manager, right click on &quot;src&quot;/New/module-info.java\r\n 14. Add new lines to the body of module-info.java: \r\n``` \r\nrequires javafx.fxml; \r\nrequires javafx.controls; \r\nopens sample;\r\n ```\r\n 15. Run the project and enjoy!\r\n\r\n","title":"How to create a JavaFX Maven project in IntelliJ IDEA?","body":"<p>It takes me a couple of hours to find the right solution.\nMany thanks to this video and the author:\n<a href=\"https://www.youtube.com/watch?v=qn2tbftFjno\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=qn2tbftFjno</a></p>\n\n<p>So, following the above video, I would like to recommend:</p>\n\n<ol>\n<li>Download JavaFX SDK from <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://gluonhq.com/products/javafx/</a></li>\n<li>Extract the zip file </li>\n<li>From the starting page of Intellij IDEA, select Configure/Structure for New Projects</li>\n<li>Select Platform Settings/Global Libraries</li>\n<li>Select the plus (\"+\") button/Java</li>\n<li>Find the \"lib\" folder inside your extracted zip file and select all of \".jar\" files (except \"src.zip\"), and then OK</li>\n<li>Set a new name for the library, let's say \"javafx-whatever-version\", then \nApply/OK</li>\n<li>Create a JavaFX project as normally.</li>\n<li>Select File/Project Structure...</li>\n<li>From Project Settings/Project, remember to select the suitable Project SDK and Project language level</li>\n<li>From Platform Settings/Global Libraries, right click on the library \"javafx-whatever-version\" (which you have already added),\nchoose Add to modules.../OK</li>\n<li>Switch to Project Settings/Modules, choose Apply/OK</li>\n<li>Back to your project manager, right click on \"src\"/New/module-info.java</li>\n<li>Add new lines to the body of module-info.java: </li>\n</ol>\n\n<pre><code>requires javafx.fxml; \nrequires javafx.controls; \nopens sample;\n</code></pre>\n\n<ol start=\"15\">\n<li>Run the project and enjoy!</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6380598,"reputation":2929,"user_id":4950185,"accept_rate":64,"display_name":"Gayan Kavirathne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594738162,"creation_date":1594482942,"answer_id":62851402,"question_id":30488223,"body_markdown":"For anyone coming here. I think the best answer lies on the [openjfx docs][1]. It contains a separate section for JavaFX &amp; InteliJ, select the Non modular with Maven section.\r\n\r\nIll describe the steps in breif.\r\n\r\n 1. Create new Maven project.\r\n 2. Select create from archtype.\r\n 3. Add new archtype ( groupid : `org.openjfx` , artifactId : `javafx-maven-archetypes` , version 0.0.1 )\r\n 4. Select the created archtype and Next.\r\n 5. Provide group id `org.openjfx` ArtifactId `hellojavafx` and Next.\r\n 6. Change the property archtypeArtifactId value to `javafx-archetype-fxml`.\r\n 7. Add new property for javafx version : property `javafx-version` and value : `14`.\r\n 8. Finally give a name to project like `HelloJavaFX`.\r\n 9. Now click finish and wait for inteliJ to build the project.\r\n\r\nOnce InteliJ finish its work the pom should look like this [sample][2].\r\n\r\n\r\n\r\n  [1]: https://openjfx.io/openjfx-docs/\r\n  [2]: https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Non-Modular/Maven/hellofx/pom.xml\r\n\r\n**PS :**\r\nTwo more additional tips you need to follow if you follow this approach to get things going smoothly.\r\nJavaFX 14 needs java 11 or newer.\r\nChange the javax maven plugin version to 0.0.1 to 0.0.4 to avoid errors like `invalid flag --module-path`. \r\nAlso to work better Download and install the ","title":"How to create a JavaFX Maven project in IntelliJ IDEA?","body":"<p>For anyone coming here. I think the best answer lies on the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx docs</a>. It contains a separate section for JavaFX &amp; InteliJ, select the Non modular with Maven section.</p>\n<p>Ill describe the steps in breif.</p>\n<ol>\n<li>Create new Maven project.</li>\n<li>Select create from archtype.</li>\n<li>Add new archtype ( groupid : <code>org.openjfx</code> , artifactId : <code>javafx-maven-archetypes</code> , version 0.0.1 )</li>\n<li>Select the created archtype and Next.</li>\n<li>Provide group id <code>org.openjfx</code> ArtifactId <code>hellojavafx</code> and Next.</li>\n<li>Change the property archtypeArtifactId value to <code>javafx-archetype-fxml</code>.</li>\n<li>Add new property for javafx version : property <code>javafx-version</code> and value : <code>14</code>.</li>\n<li>Finally give a name to project like <code>HelloJavaFX</code>.</li>\n<li>Now click finish and wait for inteliJ to build the project.</li>\n</ol>\n<p>Once InteliJ finish its work the pom should look like this <a href=\"https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Non-Modular/Maven/hellofx/pom.xml\" rel=\"nofollow noreferrer\">sample</a>.</p>\n<p><strong>PS :</strong>\nTwo more additional tips you need to follow if you follow this approach to get things going smoothly.\nJavaFX 14 needs java 11 or newer.\nChange the javax maven plugin version to 0.0.1 to 0.0.4 to avoid errors like <code>invalid flag --module-path</code>.\nAlso to work better Download and install the</p>\n"},{"tags":[],"owner":{"account_id":22953023,"reputation":1,"user_id":17084021,"display_name":"Nada "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633670004,"creation_date":1633669733,"answer_id":69490760,"question_id":30488223,"body_markdown":"If you have already installed Maven, here is the exact user guide below to create a javafx project:\r\n\r\n1. Open intellij\r\n\r\n2. Create javafx project in folder with other maven projects.\r\n\r\n3. Click on folder (project at the top) in intellij and choose run maven and package.\r\n\r\n4. Then if you need plugins for javafx click again on project folder, run maven, plugins and you choose. I needed: javafx: jlink.","title":"How to create a JavaFX Maven project in IntelliJ IDEA?","body":"<p>If you have already installed Maven, here is the exact user guide below to create a javafx project:</p>\n<ol>\n<li><p>Open intellij</p>\n</li>\n<li><p>Create javafx project in folder with other maven projects.</p>\n</li>\n<li><p>Click on folder (project at the top) in intellij and choose run maven and package.</p>\n</li>\n<li><p>Then if you need plugins for javafx click again on project folder, run maven, plugins and you choose. I needed: javafx: jlink.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":4805624,"reputation":2556,"user_id":3880800,"accept_rate":71,"display_name":"fatCop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46868,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":38639576,"answer_count":6,"score":25,"last_activity_date":1633670004,"creation_date":1432744206,"question_id":30488223,"body_markdown":"How can I open a JavaFX Maven project from scratch in IntelliJ IDEA? As there is no difference between a Java project and a JavaFx project, I want to open a dedicated JavaFX project (Selection JavaFX from create project Wizard) with Maven module included.  ","title":"How to create a JavaFX Maven project in IntelliJ IDEA?","body":"<p>How can I open a JavaFX Maven project from scratch in IntelliJ IDEA? As there is no difference between a Java project and a JavaFx project, I want to open a dedicated JavaFX project (Selection JavaFX from create project Wizard) with Maven module included.  </p>\n"},{"tags":["java","actionevent"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1633669143,"post_id":69490381,"comment_id":122826083,"body_markdown":"`SouthPanel` needs to provide some means by which the `MainFrame` can act as an &quot;observer&quot; to changes that are made.  This is commonly known as the &quot;observer pattern&quot; and Swing uses listeners to facilitate it","body":"<code>SouthPanel</code> needs to provide some means by which the <code>MainFrame</code> can act as an &quot;observer&quot; to changes that are made.  This is commonly known as the &quot;observer pattern&quot; and Swing uses listeners to facilitate it"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633669752,"creation_date":1633669752,"answer_id":69490763,"question_id":69490381,"body_markdown":"So, in most UI frameworks, you have a concept of an &quot;observer pattern&quot;, this is way for interested parties to register interest been notified when something happens to the object.\r\n\r\nSwing makes use of &quot;listeners&quot; to facilitate this basic concept.  You&#39;re not stuck to using the listeners that Swing defines and you can create your own, for example...\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.EventListener;\r\n    import java.util.EventObject;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    SouthPane southPane = new SouthPane();\r\n                    southPane.addSourceListener(new SouthListener() {\r\n                        @Override\r\n                        public void somethingDidHappen(SouthEvent evt) {\r\n                            System.out.println(&quot;Something important this way did happen&quot;);\r\n                        }\r\n                    });\r\n                    frame.add(southPane);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        // So you can attach additional properties about the event itself\r\n        public class SouthEvent extends EventObject {\r\n\r\n            public SouthEvent(SouthPane source) {\r\n                super(source);\r\n            }\r\n\r\n        }\r\n\r\n        // Describes what actions the SouthPane might generate\r\n        public interface SouthListener extends EventListener {\r\n            public void somethingDidHappen(SouthEvent evt);\r\n        }\r\n\r\n        public class SouthPane extends JPanel {\r\n\r\n            public SouthPane() {\r\n                JButton btn = new JButton(&quot;Click me&quot;);\r\n                btn.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        fireSomethingDidHappen();\r\n                    }\r\n                });\r\n                add(btn);\r\n            }\r\n\r\n            public void addSourceListener(SouthListener listener) {\r\n                listenerList.add(SouthListener.class, listener);\r\n            }\r\n\r\n            public void removeSouthListener(SouthListener listener) {\r\n                listenerList.remove(SouthListener.class, listener);\r\n            }\r\n\r\n            protected void fireSomethingDidHappen() {\r\n                SouthListener[] listeners = listenerList.getListeners(SouthListener.class);\r\n                if (listeners.length == 0) {\r\n                    return;\r\n                }\r\n                SouthEvent event = new SouthEvent(this);\r\n                for (SouthListener listener : listeners) {\r\n                    listener.somethingDidHappen(event);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nThis example is deliberately long winded, as you don&#39;t &quot;always&quot; need to create an event object, but it is a good way to pass back information to the observer, as it might not actually have a direct reference to object it&#39;s monitoring.","title":"How to Handle Events in a multiple Class Java Swing Project?","body":"<p>So, in most UI frameworks, you have a concept of an &quot;observer pattern&quot;, this is way for interested parties to register interest been notified when something happens to the object.</p>\n<p>Swing makes use of &quot;listeners&quot; to facilitate this basic concept.  You're not stuck to using the listeners that Swing defines and you can create your own, for example...</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.EventListener;\nimport java.util.EventObject;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                SouthPane southPane = new SouthPane();\n                southPane.addSourceListener(new SouthListener() {\n                    @Override\n                    public void somethingDidHappen(SouthEvent evt) {\n                        System.out.println(&quot;Something important this way did happen&quot;);\n                    }\n                });\n                frame.add(southPane);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    // So you can attach additional properties about the event itself\n    public class SouthEvent extends EventObject {\n\n        public SouthEvent(SouthPane source) {\n            super(source);\n        }\n\n    }\n\n    // Describes what actions the SouthPane might generate\n    public interface SouthListener extends EventListener {\n        public void somethingDidHappen(SouthEvent evt);\n    }\n\n    public class SouthPane extends JPanel {\n\n        public SouthPane() {\n            JButton btn = new JButton(&quot;Click me&quot;);\n            btn.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    fireSomethingDidHappen();\n                }\n            });\n            add(btn);\n        }\n\n        public void addSourceListener(SouthListener listener) {\n            listenerList.add(SouthListener.class, listener);\n        }\n\n        public void removeSouthListener(SouthListener listener) {\n            listenerList.remove(SouthListener.class, listener);\n        }\n\n        protected void fireSomethingDidHappen() {\n            SouthListener[] listeners = listenerList.getListeners(SouthListener.class);\n            if (listeners.length == 0) {\n                return;\n            }\n            SouthEvent event = new SouthEvent(this);\n            for (SouthListener listener : listeners) {\n                listener.somethingDidHappen(event);\n            }\n        }\n\n    }\n}\n</code></pre>\n<p>This example is deliberately long winded, as you don't &quot;always&quot; need to create an event object, but it is a good way to pass back information to the observer, as it might not actually have a direct reference to object it's monitoring.</p>\n"}],"owner":{"account_id":18653019,"reputation":13,"user_id":13596060,"display_name":"Tomme Nguyen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69490763,"answer_count":1,"score":1,"last_activity_date":1633669752,"creation_date":1633666087,"question_id":69490381,"body_markdown":"For example I have two Java Classes:\r\n```\r\npublic class MainFrame extend JFrame implements ActionListener{\r\n    public SouthPanel SPanel = new SouthPanel();\r\n    public int foo = 0;\r\n    MainFrame() {\r\n        \r\n        //MainFrame config\r\n         this.add(SPanel);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        \r\n    }\r\n\r\n}\r\n\r\n\r\npublic class SouthPanel extend Panel {\r\n   public JButton openNewWindow = new JButton();\r\n   public JLabel label = new Label();\r\n   SouthPanel() {\r\n      //button and label config\r\n      //adding component\r\n      }\r\n}\r\n\r\n```\r\nWhat can i do to make a feature that when i click a button from the **SouthPanel** and **foo** in **MainFrame** will change.\r\n","title":"How to Handle Events in a multiple Class Java Swing Project?","body":"<p>For example I have two Java Classes:</p>\n<pre><code>public class MainFrame extend JFrame implements ActionListener{\n    public SouthPanel SPanel = new SouthPanel();\n    public int foo = 0;\n    MainFrame() {\n        \n        //MainFrame config\n         this.add(SPanel);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        \n    }\n\n}\n\n\npublic class SouthPanel extend Panel {\n   public JButton openNewWindow = new JButton();\n   public JLabel label = new Label();\n   SouthPanel() {\n      //button and label config\n      //adding component\n      }\n}\n\n</code></pre>\n<p>What can i do to make a feature that when i click a button from the <strong>SouthPanel</strong> and <strong>foo</strong> in <strong>MainFrame</strong> will change.</p>\n"},{"tags":["java","android","android-mediaplayer","android-studio-3.0"],"comments":[{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":0,"creation_date":1550488290,"post_id":54745799,"comment_id":96273778,"body_markdown":"`http://stream.dancefm.cl:9332` is not the audio stream URL. It returns the HTML page, which *obviously* can&#39;t be played by plyer","body":"<code>http:&#47;&#47;stream.dancefm.cl:9332</code> is not the audio stream URL. It returns the HTML page, which <i>obviously</i> can&#39;t be played by plyer"}],"answers":[{"tags":[],"owner":{"account_id":13574519,"reputation":1078,"user_id":9792247,"display_name":"Prayag Gediya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633669558,"creation_date":1550488540,"answer_id":54746031,"question_id":54745799,"body_markdown":"You can use `prepareAsyc()` to prepare mediaplyer.\r\n\r\ntry this code.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    //creando botones\r\n    Button btnPlay, btnRecargar, btnParar, btnTop, btnNosotros, btnSalir;\r\n\r\n    MediaPlayer mediaPlayer; // creando clase mediaPlayer para reproducir archivos.\r\n\r\n    String stream = &quot;http://stream.dancefm.cl:9332&quot;; //variable para la ulr streaming\r\n    boolean prepared, started = false; // 2 boleano para el estado del reproductor\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_principal);\r\n\r\n        //instanciando botones creados arriba con los botones fisicos.\r\n        btnPlay = (Button) findViewById(R.id.btnPlay);\r\n        btnRecargar = (Button) findViewById(R.id.btnRecargar);\r\n        btnParar = (Button) findViewById(R.id.btnStop);\r\n        btnTop = (Button) findViewById(R.id.btnTop);\r\n        btnNosotros = (Button) findViewById(R.id.btnNosotros);\r\n        btnSalir = (Button) findViewById(R.id.btnSalir);\r\n\r\n        WebView myWebbView = (WebView) this.findViewById(R.id.webprincipal); //creando e instanciando webview\r\n\r\n        myWebbView.loadUrl(&quot;https://www.dancefm.cl/noticias/&quot;);//Cargando webview\r\n\r\n        Toast toast = Toast.makeText(getApplicationContext(), &quot;Esperando respuesta del servidor...&quot;, Toast.LENGTH_LONG);\r\n        toast.show(); //arriba creamos un toast para mostrar un mensaje y aqui abajo lo mostramos.\r\n\r\n        //Asignando estado a los botones... esto para que mientras este cargando no se utilzen estos botones.\r\n        btnPlay.setEnabled(false);\r\n        btnParar.setEnabled(false);\r\n        btnRecargar.setEnabled(false);\r\n\r\n        mediaPlayer = new MediaPlayer();\r\n        mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n\r\n        mediaPlayer.setDataSource(stream);\r\n        mediaPlayer.prepareAsync();\r\n        mediaPlayer.setOnPreparedListener(new OnPreparedListener() {\r\n            @Override\r\n            public void onPrepared(MediaPlayer mp) {\r\n                mp.start();\r\n            }\r\n        });\r\n\r\n    }\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"mediaplayer does not play shoutcast radio stream","body":"<p>You can use <code>prepareAsyc()</code> to prepare mediaplyer.</p>\n<p>try this code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//creando botones\nButton btnPlay, btnRecargar, btnParar, btnTop, btnNosotros, btnSalir;\n\nMediaPlayer mediaPlayer; // creando clase mediaPlayer para reproducir archivos.\n\nString stream = &quot;http://stream.dancefm.cl:9332&quot;; //variable para la ulr streaming\nboolean prepared, started = false; // 2 boleano para el estado del reproductor\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_principal);\n\n    //instanciando botones creados arriba con los botones fisicos.\n    btnPlay = (Button) findViewById(R.id.btnPlay);\n    btnRecargar = (Button) findViewById(R.id.btnRecargar);\n    btnParar = (Button) findViewById(R.id.btnStop);\n    btnTop = (Button) findViewById(R.id.btnTop);\n    btnNosotros = (Button) findViewById(R.id.btnNosotros);\n    btnSalir = (Button) findViewById(R.id.btnSalir);\n\n    WebView myWebbView = (WebView) this.findViewById(R.id.webprincipal); //creando e instanciando webview\n\n    myWebbView.loadUrl(&quot;https://www.dancefm.cl/noticias/&quot;);//Cargando webview\n\n    Toast toast = Toast.makeText(getApplicationContext(), &quot;Esperando respuesta del servidor...&quot;, Toast.LENGTH_LONG);\n    toast.show(); //arriba creamos un toast para mostrar un mensaje y aqui abajo lo mostramos.\n\n    //Asignando estado a los botones... esto para que mientras este cargando no se utilzen estos botones.\n    btnPlay.setEnabled(false);\n    btnParar.setEnabled(false);\n    btnRecargar.setEnabled(false);\n\n    mediaPlayer = new MediaPlayer();\n    mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n\n    mediaPlayer.setDataSource(stream);\n    mediaPlayer.prepareAsync();\n    mediaPlayer.setOnPreparedListener(new OnPreparedListener() {\n        @Override\n        public void onPrepared(MediaPlayer mp) {\n            mp.start();\n        }\n    });\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5513601,"reputation":38,"user_id":4379145,"display_name":"Jes&#250;s David Valdivia R&#237;os"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579800729,"creation_date":1579800729,"answer_id":59884220,"question_id":54745799,"body_markdown":"You only have to change http://xxx.xx.xxx.x/ for http://xxx.xx.xxx.x/;stream.mp3 it could be any word, the important is put ; after / in your shoucast url, if you area using IOS and it doens work check your Shoucast version, Ios only can reproduce Shoucast v2","title":"mediaplayer does not play shoutcast radio stream","body":"<p>You only have to change <a href=\"http://xxx.xx.xxx.x/\" rel=\"nofollow noreferrer\">http://xxx.xx.xxx.x/</a> for <a href=\"http://xxx.xx.xxx.x/;stream.mp3\" rel=\"nofollow noreferrer\">http://xxx.xx.xxx.x/;stream.mp3</a> it could be any word, the important is put ; after / in your shoucast url, if you area using IOS and it doens work check your Shoucast version, Ios only can reproduce Shoucast v2</p>\n"}],"owner":{"account_id":15356218,"reputation":1,"user_id":11078432,"display_name":"Jorge Aguirre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633669558,"creation_date":1550487757,"question_id":54745799,"body_markdown":"I&#39;m trying to mount a streaming player that works with a shoutcast link, but it does not work for me. I would like to know what the error may be, I have attached the code and the link. Thank you.\r\n\r\n    public class PrincipalActivity extends Activity {\r\n\r\n        //creando botones\r\n        Button btnPlay, btnRecargar, btnParar, btnTop, btnNosotros, btnSalir;\r\n\r\n        MediaPlayer mediaPlayer; // creando clase mediaPlayer para reproducir archivos.\r\n\r\n        String stream = &quot;http://stream.dancefm.cl:9332&quot;; //variable para la ulr streaming\r\n    boolean prepared, started = false; // 2 boleano para el estado del reproductor\r\n\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_principal);\r\n\r\n            //instanciando botones creados arriba con los botones fisicos.\r\n            btnPlay = (Button) findViewById(R.id.btnPlay);\r\n            btnRecargar = (Button) findViewById(R.id.btnRecargar);\r\n            btnParar = (Button) findViewById(R.id.btnStop);\r\n            btnTop = (Button) findViewById(R.id.btnTop);\r\n            btnNosotros = (Button) findViewById(R.id.btnNosotros);\r\n            btnSalir = (Button) findViewById(R.id.btnSalir);\r\n\r\n            WebView myWebbView = (WebView) this.findViewById(R.id.webprincipal); //creando e instanciando webview\r\n\r\n            myWebbView.loadUrl(&quot;https://www.dancefm.cl/noticias/&quot;);//Cargando webview\r\n\r\n            Toast toast = Toast.makeText(getApplicationContext(), &quot;Esperando respuesta del servidor...&quot;, Toast.LENGTH_LONG);\r\n             toast.show(); //arriba creamos un toast para mostrar un mensaje y aqui abajo lo mostramos.\r\n\r\n            //Asignando estado a los botones... esto para que mientras este cargando no se utilzen estos botones.\r\n            btnPlay.setEnabled(false);\r\n            btnParar.setEnabled(false);\r\n            btnRecargar.setEnabled(false);\r\n\r\n            mediaPlayer = new MediaPlayer();\r\n            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n\r\n            new PlayerTask().execute(stream); //llamara a quien reproducira el audio\r\n        }\r\n\r\n        class PlayerTask extends AsyncTask&lt;String, Void, Boolean&gt; {\r\n            @Override\r\n            protected Boolean doInBackground(String... strings) {\r\n                try {\r\n                    mediaPlayer.setDataSource(strings[0]);\r\n                    mediaPlayer.prepare();\r\n                    prepared=true;\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return prepared;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute (Boolean aBoolean){\r\n                super.onPostExecute(aBoolean);\r\n                //btnPlay.setBackground(R.mipmap.pause);\r\n                mediaPlayer.start();\r\n             }\r\n         }\r\n     }\r\n\r\nAny collaboration will be appreciated, since I only want the audio stream to start","title":"mediaplayer does not play shoutcast radio stream","body":"<p>I'm trying to mount a streaming player that works with a shoutcast link, but it does not work for me. I would like to know what the error may be, I have attached the code and the link. Thank you.</p>\n\n<pre><code>public class PrincipalActivity extends Activity {\n\n    //creando botones\n    Button btnPlay, btnRecargar, btnParar, btnTop, btnNosotros, btnSalir;\n\n    MediaPlayer mediaPlayer; // creando clase mediaPlayer para reproducir archivos.\n\n    String stream = \"http://stream.dancefm.cl:9332\"; //variable para la ulr streaming\nboolean prepared, started = false; // 2 boleano para el estado del reproductor\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_principal);\n\n        //instanciando botones creados arriba con los botones fisicos.\n        btnPlay = (Button) findViewById(R.id.btnPlay);\n        btnRecargar = (Button) findViewById(R.id.btnRecargar);\n        btnParar = (Button) findViewById(R.id.btnStop);\n        btnTop = (Button) findViewById(R.id.btnTop);\n        btnNosotros = (Button) findViewById(R.id.btnNosotros);\n        btnSalir = (Button) findViewById(R.id.btnSalir);\n\n        WebView myWebbView = (WebView) this.findViewById(R.id.webprincipal); //creando e instanciando webview\n\n        myWebbView.loadUrl(\"https://www.dancefm.cl/noticias/\");//Cargando webview\n\n        Toast toast = Toast.makeText(getApplicationContext(), \"Esperando respuesta del servidor...\", Toast.LENGTH_LONG);\n         toast.show(); //arriba creamos un toast para mostrar un mensaje y aqui abajo lo mostramos.\n\n        //Asignando estado a los botones... esto para que mientras este cargando no se utilzen estos botones.\n        btnPlay.setEnabled(false);\n        btnParar.setEnabled(false);\n        btnRecargar.setEnabled(false);\n\n        mediaPlayer = new MediaPlayer();\n        mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n\n        new PlayerTask().execute(stream); //llamara a quien reproducira el audio\n    }\n\n    class PlayerTask extends AsyncTask&lt;String, Void, Boolean&gt; {\n        @Override\n        protected Boolean doInBackground(String... strings) {\n            try {\n                mediaPlayer.setDataSource(strings[0]);\n                mediaPlayer.prepare();\n                prepared=true;\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            return prepared;\n        }\n\n        @Override\n        protected void onPostExecute (Boolean aBoolean){\n            super.onPostExecute(aBoolean);\n            //btnPlay.setBackground(R.mipmap.pause);\n            mediaPlayer.start();\n         }\n     }\n }\n</code></pre>\n\n<p>Any collaboration will be appreciated, since I only want the audio stream to start</p>\n"},{"tags":["java","selenium","selenium-webdriver","automation","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1633020065,"post_id":69394682,"comment_id":122656899,"body_markdown":"https://poi.apache.org/components/spreadsheet/quick-guide.html#CellContents","body":"<a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html#CellContents\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1633020002,"creation_date":1633016067,"answer_id":69395070,"question_id":69394682,"body_markdown":"You can have check of `Cell_Type` before getting the cell value. \r\n\r\n    String value = null;\r\n    if (Sheet.getRow(i).getCell(0).getCellType() == Cell.CELL_TYPE_NUMERIC) {\r\n      value = NumberToTextConverter.toText(Sheet.getRow(i).getCell(0).getNumericCellValue());\r\n       } else\r\n          value = Sheet.getRow(i).getCell(0).getStringCellValue();\r\n      }\r\n\r\n**Imports**:\r\n\r\n    import org.apache.poi.ss.util.NumberToTextConverter;\r\n    import org.apache.poi.ss.usermodel.Cell;\r\n\r\n**Maven dependencies**:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nRemove the below import \r\n\r\n    import org.apache.poi.ss.usermodel.CellType;","title":"Cannot access numeric value of cell from a String cell","body":"<p>You can have check of <code>Cell_Type</code> before getting the cell value.</p>\n<pre><code>String value = null;\nif (Sheet.getRow(i).getCell(0).getCellType() == Cell.CELL_TYPE_NUMERIC) {\n  value = NumberToTextConverter.toText(Sheet.getRow(i).getCell(0).getNumericCellValue());\n   } else\n      value = Sheet.getRow(i).getCell(0).getStringCellValue();\n  }\n</code></pre>\n<p><strong>Imports</strong>:</p>\n<pre><code>import org.apache.poi.ss.util.NumberToTextConverter;\nimport org.apache.poi.ss.usermodel.Cell;\n</code></pre>\n<p><strong>Maven dependencies</strong>:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;3.9&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;3.9&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Remove the below import</p>\n<pre><code>import org.apache.poi.ss.usermodel.CellType;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7774964,"reputation":91,"user_id":5883358,"display_name":"Andreea Frincu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633021108,"creation_date":1633021108,"answer_id":69396187,"question_id":69394682,"body_markdown":"According to the doc https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFCell.html#getCellType--\r\n\r\nYou should be able to do:\r\n\r\n    String value = null;\r\n    \r\n        if (sheet.getRow(i).getCell(j).getCellType() == CellType.NUMERIC) {\r\n            value=String.valueOf(sheet.getRow(i).getCell(j).getNumericCellValue());\r\n        } else{\r\n            value = sheet.getRow(i).getCell(j).getStringCellValue();\r\n        }\r\n\r\n","title":"Cannot access numeric value of cell from a String cell","body":"<p>According to the doc <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFCell.html#getCellType--\" rel=\"nofollow noreferrer\">https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFCell.html#getCellType--</a></p>\n<p>You should be able to do:</p>\n<pre><code>String value = null;\n\n    if (sheet.getRow(i).getCell(j).getCellType() == CellType.NUMERIC) {\n        value=String.valueOf(sheet.getRow(i).getCell(j).getNumericCellValue());\n    } else{\n        value = sheet.getRow(i).getCell(j).getStringCellValue();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633669347,"creation_date":1633669347,"answer_id":69490731,"question_id":69394682,"body_markdown":"In case of cell might have boolean, string, number which we don&#39;t know. i usually set the type and then get the value.\r\n\r\n    tempCell.setCellType(CellType.STRING);\r\n    tempCell.getStringCellValue();","title":"Cannot access numeric value of cell from a String cell","body":"<p>In case of cell might have boolean, string, number which we don't know. i usually set the type and then get the value.</p>\n<pre><code>tempCell.setCellType(CellType.STRING);\ntempCell.getStringCellValue();\n</code></pre>\n"}],"owner":{"account_id":22636254,"reputation":327,"user_id":16813026,"display_name":"enthusiasticCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":69395070,"answer_count":3,"score":1,"last_activity_date":1633669347,"creation_date":1633014660,"question_id":69394682,"body_markdown":"I am trying to read an excel file and execute my test case accordingly, now the error I am getting is **java.lang.IllegalStateException: Cannot get a STRING value from a NUMERIC cell**\r\nHere is my implementation of the code: You might notice that I have user String.valueOf(); but to no avail. \r\n```\r\n\r\n    public static List&lt;Map&lt;String, String&gt;&gt; getTestDetails()\r\n    {\r\n        List&lt;Map&lt;String, String&gt;&gt; list = null;\r\n        FileInputStream fileInputStream = null;\r\n        try \r\n        {\r\n           fileInputStream = new FileInputStream(FrameworkConstants.getExcelsheetspath()+&quot;TestCasesToBeExecuted.xlsx&quot;);\r\n           XSSFWorkbook workbook = new XSSFWorkbook(fileInputStream);\r\n           XSSFSheet sheet = workbook.getSheet(&quot;RunManager&quot;);\r\n            \t\t\t\r\n           int lastRowNum = sheet.getLastRowNum();\r\n           int lastColNum = sheet.getRow(0).getLastCellNum();\r\n            \t\t\t\r\n           Map&lt;String, String&gt; map = null;\r\n           list = new ArrayList&lt;Map&lt;String,String&gt;&gt;();\r\n            \t\t\t\r\n           for(int i=1; i&lt;lastRowNum; i++)\r\n           {\r\n            \tmap = new HashMap&lt;String, String&gt;();\r\n            \tfor(int j=0; j&lt;lastColNum; j++)\r\n            \t{\r\n            \t\tString key = sheet.getRow(0).getCell(j).getStringCellValue();\r\n            \t\tSystem.out.println(&quot;Value of key:: &quot;+key);\r\n            \t\tString value = String.valueOf(sheet.getRow(i).getCell(j).getStringCellValue());\r\n            \t\tSystem.out.println(&quot;Value of value:: &quot;+value);\r\n            \t\tmap.put(key, value);\r\n            \t}\r\n            \tlist.add(map);\r\n            }\r\n        } \r\n        catch (FileNotFoundException e) \r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        catch (IOException e) \r\n        {\r\n            e.printStackTrace();\r\n        }\r\n            \t\t\r\n        if(Objects.nonNull(fileInputStream))\r\n        {\r\n            try \r\n            {\r\n            \tfileInputStream.close();\r\n            } \r\n            catch (IOException e) \r\n            {\r\n            \te.printStackTrace();\r\n            }\r\n       }\r\n       return list; \r\n    }\r\n\r\n```\r\nAnd here is my code for method call:\r\n    \r\n```\r\n\r\npublic List&lt;IMethodInstance&gt; intercept(List&lt;IMethodInstance&gt; methods, ITestContext context) \r\n{\r\n   List&lt;Map&lt;String, String&gt;&gt; list = ExcelUtils.getTestDetails();\r\n   List&lt;IMethodInstance&gt; result = new ArrayList&lt;IMethodInstance&gt;();\r\n    \r\n   for(int i=0; i&lt;methods.size(); i++)\r\n   {\r\n    \tfor(int j=0; j&lt;list.size(); j++)\r\n    \t{\r\n    \t\tif(methods.get(i).getMethod().equals(list.get(j).get(&quot;Test Name&quot;)))\r\n    \t\t{\r\n    \t\t\tif(list.get(j).get(&quot;Execute&quot;).equalsIgnoreCase(&quot;yes&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tmethods.get(i).getMethod().setDescription(list.get(j).get(&quot;Test Description&quot;)); \r\n\r\nmethods.get(i).getMethod().setInvocationCount(Integer.parseInt(list.get(j).get(&quot;Count&quot;)));   \t\t\t\t\t\tmethods.get(i).getMethod().setPriority(Integer.parseInt(list.get(j).get(&quot;Priority&quot;)));\r\n                result.add(methods.get(i));\r\n    \t\t\t}\r\n            }\r\n    \t}\r\n    }\r\n \r\n  return result;\r\n}\r\n\r\n```\r\n\r\nMy imports are as follows\r\n\r\n```\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\nimport org.apache.poi.ss.usermodel.CellType;\r\nimport org.apache.poi.ss.util.NumberToTextConverter;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport org.apache.poi.ss.usermodel.Cell;\r\n```","title":"Cannot access numeric value of cell from a String cell","body":"<p>I am trying to read an excel file and execute my test case accordingly, now the error I am getting is <strong>java.lang.IllegalStateException: Cannot get a STRING value from a NUMERIC cell</strong>\nHere is my implementation of the code: You might notice that I have user String.valueOf(); but to no avail.</p>\n<pre><code>\n    public static List&lt;Map&lt;String, String&gt;&gt; getTestDetails()\n    {\n        List&lt;Map&lt;String, String&gt;&gt; list = null;\n        FileInputStream fileInputStream = null;\n        try \n        {\n           fileInputStream = new FileInputStream(FrameworkConstants.getExcelsheetspath()+&quot;TestCasesToBeExecuted.xlsx&quot;);\n           XSSFWorkbook workbook = new XSSFWorkbook(fileInputStream);\n           XSSFSheet sheet = workbook.getSheet(&quot;RunManager&quot;);\n                        \n           int lastRowNum = sheet.getLastRowNum();\n           int lastColNum = sheet.getRow(0).getLastCellNum();\n                        \n           Map&lt;String, String&gt; map = null;\n           list = new ArrayList&lt;Map&lt;String,String&gt;&gt;();\n                        \n           for(int i=1; i&lt;lastRowNum; i++)\n           {\n                map = new HashMap&lt;String, String&gt;();\n                for(int j=0; j&lt;lastColNum; j++)\n                {\n                    String key = sheet.getRow(0).getCell(j).getStringCellValue();\n                    System.out.println(&quot;Value of key:: &quot;+key);\n                    String value = String.valueOf(sheet.getRow(i).getCell(j).getStringCellValue());\n                    System.out.println(&quot;Value of value:: &quot;+value);\n                    map.put(key, value);\n                }\n                list.add(map);\n            }\n        } \n        catch (FileNotFoundException e) \n        {\n            e.printStackTrace();\n        }\n        catch (IOException e) \n        {\n            e.printStackTrace();\n        }\n                    \n        if(Objects.nonNull(fileInputStream))\n        {\n            try \n            {\n                fileInputStream.close();\n            } \n            catch (IOException e) \n            {\n                e.printStackTrace();\n            }\n       }\n       return list; \n    }\n\n</code></pre>\n<p>And here is my code for method call:</p>\n<pre><code>\npublic List&lt;IMethodInstance&gt; intercept(List&lt;IMethodInstance&gt; methods, ITestContext context) \n{\n   List&lt;Map&lt;String, String&gt;&gt; list = ExcelUtils.getTestDetails();\n   List&lt;IMethodInstance&gt; result = new ArrayList&lt;IMethodInstance&gt;();\n    \n   for(int i=0; i&lt;methods.size(); i++)\n   {\n        for(int j=0; j&lt;list.size(); j++)\n        {\n            if(methods.get(i).getMethod().equals(list.get(j).get(&quot;Test Name&quot;)))\n            {\n                if(list.get(j).get(&quot;Execute&quot;).equalsIgnoreCase(&quot;yes&quot;))\n                {\n                    methods.get(i).getMethod().setDescription(list.get(j).get(&quot;Test Description&quot;)); \n\nmethods.get(i).getMethod().setInvocationCount(Integer.parseInt(list.get(j).get(&quot;Count&quot;)));                          methods.get(i).getMethod().setPriority(Integer.parseInt(list.get(j).get(&quot;Priority&quot;)));\n                result.add(methods.get(i));\n                }\n            }\n        }\n    }\n \n  return result;\n}\n\n</code></pre>\n<p>My imports are as follows</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\nimport org.apache.poi.ss.usermodel.CellType;\nimport org.apache.poi.ss.util.NumberToTextConverter;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.ss.usermodel.Cell;\n</code></pre>\n"},{"tags":["java","spring","postgresql"],"comments":[{"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1633671484,"post_id":69490722,"comment_id":122826507,"body_markdown":"This PostgreSQL parameter has nothing to do with the problem. It is probably a network component that closes the connections.","body":"This PostgreSQL parameter has nothing to do with the problem. It is probably a network component that closes the connections."}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633669293,"creation_date":1633669293,"question_id":69490722,"body_markdown":"I am using Hikari to connect the PostgreSQL 13 database in Spring Boot project, now the logs shows this waring:\r\n\r\n\r\n\r\n    [12:23:49:633] [WARN] - com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:158) - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@a54a5357 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n    [12:23:49:634] [WARN] - com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:158) - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@5d8a4eb4 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n    [12:23:49:636] [WARN] - com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:158) - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@18564799 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\r\n\r\n\r\n\r\nfirst step I tweak the PostgreSQL 13 database `idle_in_transaction_session_timeout` parameter like this:\r\n\r\n\r\n    alter system set idle_in_transaction_session_timeout=&#39;30min&#39;;\r\n    show idle_in_transaction_session_timeout;\r\n\r\n\r\nI make sure the PostgreSQL 13 database `idle_in_transaction_session_timeout` parameter was turned to 30min. The next step I tweak my maxLifeTime of Hikari in `application.properties` like this:\r\n\r\n\r\n\r\n    spring.datasource.hikari.max-lifetime=900000\r\n\r\n\r\nthe Hikari maxLifeTime already less than database connection idle connection time, but the warning message did not disappeared. Am I missing something? what should I do to fix the warning message?\r\n\r\n\r\n\r\n\r\n","title":"(This connection has been closed.). Possibly consider using a shorter maxLifetime value when using hikari to connect PostgreSQL","body":"<p>I am using Hikari to connect the PostgreSQL 13 database in Spring Boot project, now the logs shows this waring:</p>\n<pre><code>[12:23:49:633] [WARN] - com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:158) - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@a54a5357 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[12:23:49:634] [WARN] - com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:158) - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@5d8a4eb4 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n[12:23:49:636] [WARN] - com.zaxxer.hikari.pool.PoolBase.isConnectionAlive(PoolBase.java:158) - HikariPool-1 - Failed to validate connection org.postgresql.jdbc.PgConnection@18564799 (This connection has been closed.). Possibly consider using a shorter maxLifetime value.\n</code></pre>\n<p>first step I tweak the PostgreSQL 13 database <code>idle_in_transaction_session_timeout</code> parameter like this:</p>\n<pre><code>alter system set idle_in_transaction_session_timeout='30min';\nshow idle_in_transaction_session_timeout;\n</code></pre>\n<p>I make sure the PostgreSQL 13 database <code>idle_in_transaction_session_timeout</code> parameter was turned to 30min. The next step I tweak my maxLifeTime of Hikari in <code>application.properties</code> like this:</p>\n<pre><code>spring.datasource.hikari.max-lifetime=900000\n</code></pre>\n<p>the Hikari maxLifeTime already less than database connection idle connection time, but the warning message did not disappeared. Am I missing something? what should I do to fix the warning message?</p>\n"},{"tags":["java","intellij-idea","ide"],"comments":[{"owner":{"account_id":19603469,"reputation":6906,"user_id":14347717,"display_name":"Chris Perry"},"score":0,"creation_date":1633655096,"post_id":69488413,"comment_id":122823883,"body_markdown":"To do that I would have to hit command + left-arrow, then &quot;/&quot; and &quot;/&quot; for a total of four keystrokes. By comparison, cmd + &quot;/&quot; is two keystrokes. I don&#39;t consider doubling my keystroke count for a common operation to be acceptable simply because it&#39;s the default behavior.","body":"To do that I would have to hit command + left-arrow, then &quot;/&quot; and &quot;/&quot; for a total of four keystrokes. By comparison, cmd + &quot;/&quot; is two keystrokes. I don&#39;t consider doubling my keystroke count for a common operation to be acceptable simply because it&#39;s the default behavior."},{"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"score":1,"creation_date":1633658780,"post_id":69488413,"comment_id":122824413,"body_markdown":"Depends how often you need to comment-out code, I suppose.","body":"Depends how often you need to comment-out code, I suppose."},{"owner":{"account_id":19603469,"reputation":6906,"user_id":14347717,"display_name":"Chris Perry"},"score":0,"creation_date":1633726599,"post_id":69488413,"comment_id":122846095,"body_markdown":"Haha fair enough :) Check out the correct answer below from Konstantin Annikov, it may come in handy for you as well","body":"Haha fair enough :) Check out the correct answer below from Konstantin Annikov, it may come in handy for you as well"}],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633669264,"creation_date":1633669264,"answer_id":69490719,"question_id":69488413,"body_markdown":"Go to **Preferences | Editor | Code Style | Java &gt; Code Generation** and untick &quot;Line Comment at first column&quot; checkbox: \r\n\r\n![](https://i.stack.imgur.com/nwPaO.png)","title":"Java/IntelliJ: shortcut to insert comment directly next to code instead of at start of line [macOS]","body":"<p>Go to <strong>Preferences | Editor | Code Style | Java &gt; Code Generation</strong> and untick &quot;Line Comment at first column&quot; checkbox:</p>\n<p><img src=\"https://i.stack.imgur.com/nwPaO.png\" alt=\"\" /></p>\n"}],"owner":{"account_id":19603469,"reputation":6906,"user_id":14347717,"display_name":"Chris Perry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69490719,"answer_count":1,"score":0,"last_activity_date":1633669264,"creation_date":1633644784,"question_id":69488413,"body_markdown":"When I use the default commenting shortcut in IntelliJ (cmd + `/`) it inserts the `//` comment line at the first position of the line like so:\r\n\r\n[![no comment][1]][1]\r\n\r\nComing from vscode / javascript, I&#39;m used to the commenting shortcut tucking the comment in directly to the left of the text of a line, preserving the indents:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIs there a way to modify the IntelliJ shortcut so that it comments the line of code using the format from the second example, rather than the first?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9bvs1.png\r\n  [2]: https://i.stack.imgur.com/Z6fQH.png","title":"Java/IntelliJ: shortcut to insert comment directly next to code instead of at start of line [macOS]","body":"<p>When I use the default commenting shortcut in IntelliJ (cmd + <code>/</code>) it inserts the <code>//</code> comment line at the first position of the line like so:</p>\n<p><a href=\"https://i.stack.imgur.com/9bvs1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9bvs1.png\" alt=\"no comment\" /></a></p>\n<p>Coming from vscode / javascript, I'm used to the commenting shortcut tucking the comment in directly to the left of the text of a line, preserving the indents:</p>\n<p><a href=\"https://i.stack.imgur.com/Z6fQH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z6fQH.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a way to modify the IntelliJ shortcut so that it comments the line of code using the format from the second example, rather than the first?</p>\n"},{"tags":["java","firebase","android-studio"],"answers":[{"tags":[],"owner":{"account_id":22255586,"reputation":1,"user_id":16487803,"display_name":"Mr. Saurabh Nagre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633668637,"creation_date":1633668637,"answer_id":69490647,"question_id":69301406,"body_markdown":"Finally, solved the problem. In android studio ,\\\r\nStep 1:   **Go to File -&gt; Invalidate caches/restart**\\\r\nStep 2: Update your gradle version, Go to your build.gradle(project) and change the version &quot;\r\n\r\n    dependency{ classpath &quot;com.android.tools.build:gradle:$version&quot; }","title":"Android studio isn&#39;t generating the auto generating files","body":"<p>Finally, solved the problem. In android studio ,<br />\nStep 1:   <strong>Go to File -&gt; Invalidate caches/restart</strong><br />\nStep 2: Update your gradle version, Go to your build.gradle(project) and change the version &quot;</p>\n<pre><code>dependency{ classpath &quot;com.android.tools.build:gradle:$version&quot; }\n</code></pre>\n"}],"owner":{"account_id":22255586,"reputation":1,"user_id":16487803,"display_name":"Mr. Saurabh Nagre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":643,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633668637,"creation_date":1632405186,"question_id":69301406,"body_markdown":"When i started to try firebase authentication for my app, i want google sign in but for google sign requires the &quot;default_web_client_id&quot; and this part is auto generated by android studio, but now when i want to generate it does&#39;t generating. It was working fine before. I have tried everything from cache removing and upgradation and all. I have reviewed all my code and there is nothing that can do this.\r\n\r\nHere you can see that the code that is on right is suppose to auto generate on left sides res(generated) folder\r\n\r\n![][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EqrNW.png","title":"Android studio isn&#39;t generating the auto generating files","body":"<p>When i started to try firebase authentication for my app, i want google sign in but for google sign requires the &quot;default_web_client_id&quot; and this part is auto generated by android studio, but now when i want to generate it does't generating. It was working fine before. I have tried everything from cache removing and upgradation and all. I have reviewed all my code and there is nothing that can do this.</p>\n<p>Here you can see that the code that is on right is suppose to auto generate on left sides res(generated) folder</p>\n<p><img src=\"https://i.stack.imgur.com/EqrNW.png\" alt=\"\" /></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1633669506,"post_id":69490645,"comment_id":122826137,"body_markdown":"Every time you call `myReader.nextLine()` it reads a line.","body":"Every time you call <code>myReader.nextLine()</code> it reads a line."},{"owner":{"account_id":22460392,"reputation":31,"user_id":16662688,"display_name":"Matt Beagle"},"score":0,"creation_date":1633674373,"post_id":69490645,"comment_id":122827226,"body_markdown":"Is there one that reads String pieces, bit by bit?","body":"Is there one that reads String pieces, bit by bit?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1633674969,"post_id":69490645,"comment_id":122827412,"body_markdown":"I&#39;m assuming that this is an exercise for a course, and you can&#39;t use an XML parser. Look at `Scanner.hasNext(String)` (and `Scanner.next(String)`) and remember that you can&#39;t compare Strings with `==`!","body":"I&#39;m assuming that this is an exercise for a course, and you can&#39;t use an XML parser. Look at <code>Scanner.hasNext(String)</code> (and <code>Scanner.next(String)</code>) and remember that you can&#39;t compare Strings with <code>==</code>!"},{"owner":{"account_id":22460392,"reputation":31,"user_id":16662688,"display_name":"Matt Beagle"},"score":0,"creation_date":1633675072,"post_id":69490645,"comment_id":122827451,"body_markdown":"it would need to be done with the &#39;.equal(  )&#39;. Gotcha","body":"it would need to be done with the &#39;.equal(  )&#39;. Gotcha"}],"owner":{"account_id":22460392,"reputation":31,"user_id":16662688,"display_name":"Matt Beagle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633668624,"creation_date":1633668624,"question_id":69490645,"body_markdown":"I have the following file and would like for it to first be parsed into pieces. While it is being parsed, it is being pushed into stack data structure such that at the end there is suppose to be no other string in the stack resulting in a &#39;valid&#39; outcome since all of which was pushed is then popped per the if/else statements. I am getting an error instead. \r\n\r\nFile(.xml) content:\r\n\r\n    &lt;config&gt;&lt;title&gt;title to display on welcome screen goes here&lt;/title&gt;&lt;copyright&gt;copyright info goes here&lt;/copyright&gt;&lt;developer&gt;developer info goes here&lt;/developer&lt;/config&gt;\r\n\r\n\r\n\r\nError:\r\n\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n    \tat java.base/java.util.Scanner.nextLine(Scanner.java:1651)\r\n    \tat Config.&lt;init&gt;(Config.java:20)\r\n    \tat Main.main(Main.java:28)\r\n\r\nMain: \r\n\r\n    import java.io.File;  // Import the File class\r\n    import java.io.FileNotFoundException;  // Import this class to handle errors\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            try {\r\n                File myObj = new File(&quot;atm.log&quot;);\r\n                Scanner myReader = new Scanner(myObj);\r\n                while (myReader.hasNextLine()) {\r\n                    String data = myReader.nextLine();\r\n                    System.out.println(data);\r\n                }\r\n                myReader.close();\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;An error occurred.&quot;);\r\n                e.printStackTrace();\r\n            }\r\n            //while(true)\r\n            //{\r\n            /*ATM atm = new ATM();\r\n            atm.init();\r\n            atm.run();*/\r\n            //}\r\n            String name = &quot;atm.xml&quot;;\r\n            Config info = new Config(name);\r\n    \r\n        }\r\n    }\r\n\r\nClass:\r\n\r\n\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Stack;\r\n    import java.util.*;\r\n    import java.io.*;\r\n    \r\n    \r\n    public class Config {\r\n        HashMap&lt;String, String&gt; obj = new HashMap&lt;&gt;();\r\n    \r\n        Stack obj2 = new Stack();\r\n    \r\n    \r\n        public Config(String name) throws Exception {\r\n            try {\r\n                File myObj = new File(&quot;atm.xml&quot;);\r\n    \r\n                Scanner myReader = new Scanner(myObj);\r\n    \r\n                while (myReader.hasNextLine()) {\r\n                    if(myReader.nextLine() == &quot;&lt;config&gt;&quot; || myReader.nextLine() == &quot;&lt;title&gt;&quot; || myReader.nextLine() == &quot;&lt;copyright&gt;&quot; || myReader.nextLine() == &quot;&lt;developer&gt;&quot;)\r\n                    {\r\n                        obj2.push(myReader.nextLine());\r\n                        System.out.println(obj2.peek());\r\n                    }\r\n                    else\r\n                    {\r\n                        obj2.pop();\r\n                    }\r\n                    if(obj2.isEmpty())\r\n                    {\r\n                        System.out.println(&quot;Valid&quot;);\r\n                    }\r\n                    else{\r\n                        System.out.println(&quot;Invalid&quot;);\r\n                    }\r\n                }\r\n                myReader.close();\r\n            } catch (FileNotFoundException e) {\r\n                System.out.println(&quot;An error occurred.&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Is there a way to have a Stack data structure take up part-by-part of a file that is parsed with other parts of coding?","body":"<p>I have the following file and would like for it to first be parsed into pieces. While it is being parsed, it is being pushed into stack data structure such that at the end there is suppose to be no other string in the stack resulting in a 'valid' outcome since all of which was pushed is then popped per the if/else statements. I am getting an error instead.</p>\n<p>File(.xml) content:</p>\n<pre><code>&lt;config&gt;&lt;title&gt;title to display on welcome screen goes here&lt;/title&gt;&lt;copyright&gt;copyright info goes here&lt;/copyright&gt;&lt;developer&gt;developer info goes here&lt;/developer&lt;/config&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n    at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\n    at Config.&lt;init&gt;(Config.java:20)\n    at Main.main(Main.java:28)\n</code></pre>\n<p>Main:</p>\n<pre><code>import java.io.File;  // Import the File class\nimport java.io.FileNotFoundException;  // Import this class to handle errors\nimport java.util.Scanner;\n\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        try {\n            File myObj = new File(&quot;atm.log&quot;);\n            Scanner myReader = new Scanner(myObj);\n            while (myReader.hasNextLine()) {\n                String data = myReader.nextLine();\n                System.out.println(data);\n            }\n            myReader.close();\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;An error occurred.&quot;);\n            e.printStackTrace();\n        }\n        //while(true)\n        //{\n        /*ATM atm = new ATM();\n        atm.init();\n        atm.run();*/\n        //}\n        String name = &quot;atm.xml&quot;;\n        Config info = new Config(name);\n\n    }\n}\n</code></pre>\n<p>Class:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Stack;\nimport java.util.*;\nimport java.io.*;\n\n\npublic class Config {\n    HashMap&lt;String, String&gt; obj = new HashMap&lt;&gt;();\n\n    Stack obj2 = new Stack();\n\n\n    public Config(String name) throws Exception {\n        try {\n            File myObj = new File(&quot;atm.xml&quot;);\n\n            Scanner myReader = new Scanner(myObj);\n\n            while (myReader.hasNextLine()) {\n                if(myReader.nextLine() == &quot;&lt;config&gt;&quot; || myReader.nextLine() == &quot;&lt;title&gt;&quot; || myReader.nextLine() == &quot;&lt;copyright&gt;&quot; || myReader.nextLine() == &quot;&lt;developer&gt;&quot;)\n                {\n                    obj2.push(myReader.nextLine());\n                    System.out.println(obj2.peek());\n                }\n                else\n                {\n                    obj2.pop();\n                }\n                if(obj2.isEmpty())\n                {\n                    System.out.println(&quot;Valid&quot;);\n                }\n                else{\n                    System.out.println(&quot;Invalid&quot;);\n                }\n            }\n            myReader.close();\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;An error occurred.&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","union","ignite","gridgain"],"answers":[{"tags":[],"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629210793,"creation_date":1629190158,"answer_id":68814364,"question_id":68802261,"body_markdown":"You need to &quot;fully qualify&quot; the second cache name, but otherwise, it should Just Work.\r\n\r\nExample:\r\n\r\n    IgniteCache&lt;String, ClassName1&gt; cache1 = ignite.cache(&quot;table1&quot;);\r\n    IgniteCache&lt;String, ClassName2&gt; cache2 = ignite.cache(&quot;table2&quot;);\r\n    private static final String sql = &quot;select timestamp from ClassName1 UNION ALL select timestamp from table2.ClassName2 &quot;;\r\n    SqlFieldsQuery sqlQ = new SqlFieldsQuery(sql);\r\n    try (QueryCursor&lt;List&lt;?&gt;&gt; cursor = cache1.query(sqlQ)) {\r\n        for (List&lt;?&gt; row : cursor) {\r\n                timestamps.add((Long) row.get(0));          \r\n        }\r\n     }\r\n\r\n","title":"How to use SQL UNION with Ignite Caches","body":"<p>You need to &quot;fully qualify&quot; the second cache name, but otherwise, it should Just Work.</p>\n<p>Example:</p>\n<pre><code>IgniteCache&lt;String, ClassName1&gt; cache1 = ignite.cache(&quot;table1&quot;);\nIgniteCache&lt;String, ClassName2&gt; cache2 = ignite.cache(&quot;table2&quot;);\nprivate static final String sql = &quot;select timestamp from ClassName1 UNION ALL select timestamp from table2.ClassName2 &quot;;\nSqlFieldsQuery sqlQ = new SqlFieldsQuery(sql);\ntry (QueryCursor&lt;List&lt;?&gt;&gt; cursor = cache1.query(sqlQ)) {\n    for (List&lt;?&gt; row : cursor) {\n            timestamps.add((Long) row.get(0));          \n    }\n }\n</code></pre>\n"}],"owner":{"account_id":7248076,"reputation":149,"user_id":5529353,"display_name":"sachith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633668265,"creation_date":1629114369,"question_id":68802261,"body_markdown":"I was having a ignite cache and doing sql queries as follows.\r\n    \r\n\r\n        IgniteCache&lt;String, ClassName&gt; cache = ignite.cache(CACHE_NAME);\r\n        private static final String sql = &quot;Select timestamp from cache1 where  orderId = ? and timestamp &lt;= ? and timestamp &gt;= ? &quot;;\r\n        SqlFieldsQuery sqlQ = new SqlFieldsQuery(sql).setArgs(id, t1, t2);\r\n            try (QueryCursor&lt;List&lt;?&gt;&gt; cursor = cache.query(sqlQ)) {\r\n                for (List&lt;?&gt; row : cursor) {\r\n                        timestamps.add((Long) row.get(0));          \r\n                }\r\n\r\nNow I want to query from two different caches and get the union. I was able to successfully write the SQL union operation. \r\n\r\n    private static final String sqlTwoCaches = &quot;Select timestamp from cache1 union all Select timestamp from cache2 order by timestamp&quot;;\r\n\r\nI want to add the timestamp results from both caches to a single arraylist. I want to know how to use the query cursor? Now there are two caches and how to do the this part? `(QueryCursor&lt;List&lt;?&gt;&gt; cursor = cache.query(sqlTwoCaches)) `\r\n\r\nOr is there any other way to do this?","title":"How to use SQL UNION with Ignite Caches","body":"<p>I was having a ignite cache and doing sql queries as follows.</p>\n<pre><code>    IgniteCache&lt;String, ClassName&gt; cache = ignite.cache(CACHE_NAME);\n    private static final String sql = &quot;Select timestamp from cache1 where  orderId = ? and timestamp &lt;= ? and timestamp &gt;= ? &quot;;\n    SqlFieldsQuery sqlQ = new SqlFieldsQuery(sql).setArgs(id, t1, t2);\n        try (QueryCursor&lt;List&lt;?&gt;&gt; cursor = cache.query(sqlQ)) {\n            for (List&lt;?&gt; row : cursor) {\n                    timestamps.add((Long) row.get(0));          \n            }\n</code></pre>\n<p>Now I want to query from two different caches and get the union. I was able to successfully write the SQL union operation.</p>\n<pre><code>private static final String sqlTwoCaches = &quot;Select timestamp from cache1 union all Select timestamp from cache2 order by timestamp&quot;;\n</code></pre>\n<p>I want to add the timestamp results from both caches to a single arraylist. I want to know how to use the query cursor? Now there are two caches and how to do the this part? <code>(QueryCursor&lt;List&lt;?&gt;&gt; cursor = cache.query(sqlTwoCaches)) </code></p>\n<p>Or is there any other way to do this?</p>\n"},{"tags":["java","selenium","cucumber"],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633668042,"creation_date":1633580927,"answer_id":69475476,"question_id":69473840,"body_markdown":"This method requires 2 arguments, \r\n\r\nchange your method from\r\n\r\n    public void userProvidesUserNameAndPassword(String UserName)\r\n\r\n\r\nto\r\n\r\n    public void userProvidesUserNameAndPassword(String UserName, String\r\n    Password)\r\n\r\n","title":"Java (Silenium) - import statement done however method is not visible","body":"<p>This method requires 2 arguments,</p>\n<p>change your method from</p>\n<pre><code>public void userProvidesUserNameAndPassword(String UserName)\n</code></pre>\n<p>to</p>\n<pre><code>public void userProvidesUserNameAndPassword(String UserName, String\nPassword)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633583008,"creation_date":1633583008,"answer_id":69475708,"question_id":69473840,"body_markdown":"&gt; In my method `@When(&quot;^User keys in &quot;([^&quot;])&quot; and &quot;([^&quot;])&quot;$&quot;)`\r\n\r\nYour cucumber step required two arguments but you are passing single argument to the method `userProvidesUserNameAndPassword`\r\n\r\n**Current code**:\r\n\r\n        public void userProvidesUserNameAndPassword(String UserName) throws InterruptedException {\r\n        SupplierPortalLogin(UserName,TempString); \r\n      }\r\n\r\n**Updated code**:\r\n\r\n      public void userProvidesUserNameAndPassword(String UserName, String TempString) throws InterruptedException {\r\n        SupplierPortalLogin(UserName,TempString); \r\n      }","title":"Java (Silenium) - import statement done however method is not visible","body":"<blockquote>\n<p>In my method <code>@When(&quot;^User keys in &quot;([^&quot;])&quot; and &quot;([^&quot;])&quot;$&quot;)</code></p>\n</blockquote>\n<p>Your cucumber step required two arguments but you are passing single argument to the method <code>userProvidesUserNameAndPassword</code></p>\n<p><strong>Current code</strong>:</p>\n<pre><code>    public void userProvidesUserNameAndPassword(String UserName) throws InterruptedException {\n    SupplierPortalLogin(UserName,TempString); \n  }\n</code></pre>\n<p><strong>Updated code</strong>:</p>\n<pre><code>  public void userProvidesUserNameAndPassword(String UserName, String TempString) throws InterruptedException {\n    SupplierPortalLogin(UserName,TempString); \n  }\n</code></pre>\n"}],"owner":{"account_id":22860528,"reputation":133,"user_id":17004692,"display_name":"Vladislav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69475708,"answer_count":2,"score":1,"last_activity_date":1633668042,"creation_date":1633563944,"question_id":69473840,"body_markdown":"I am relatively new to Java and Selenium.\r\n\r\nI have a project (Selenium) created by other developer.\r\n\r\n1. I created my Java class:\r\n```\r\n    public class ST_VladsSteps extends Inter\r\n    {\r\n    ...\r\n    }\r\n```\r\n2. The class which method `SupplierPortalLogin()` I want to use is called\r\n```\r\n    package com.abc.application.def.tests;\r\n    public class LoginTest {...}\r\n```\r\n\r\n3. In my class on the top I have put a statement: \r\n\r\n`import com.resmed.application.GoScripts.tests.LoginTest;`\r\n\r\n4. In my method,\r\n \r\n```\r\n     @When(&quot;^User keys in \\&quot;([^\\&quot;]*)\\&quot; and \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\r\n    \r\n     public void userProvidesUserNameAndPassword(String UserName) throws InterruptedException {\r\n    \r\n     SupplierPortalLogin(UserName,TempString);\t\r\n    }\r\n```\r\nWhen I use the method `SupplierPortalLogin(UserName,TempString)` I have an error message,\r\n\r\n `The method SupplierPortalLogin(String, String) is undefined for the type ST_VladsSteps.`\r\n\r\n5. I can see in the project that other Java classes use the same \r\n`import com.resmed.application.GoScripts.tests.LoginTest;` statement and use this method within their methods.\r\n\r\nPlease, help me to understand what I am doing wrong.\r\n\r\n","title":"Java (Silenium) - import statement done however method is not visible","body":"<p>I am relatively new to Java and Selenium.</p>\n<p>I have a project (Selenium) created by other developer.</p>\n<ol>\n<li>I created my Java class:</li>\n</ol>\n<pre><code>    public class ST_VladsSteps extends Inter\n    {\n    ...\n    }\n</code></pre>\n<ol start=\"2\">\n<li>The class which method <code>SupplierPortalLogin()</code> I want to use is called</li>\n</ol>\n<pre><code>    package com.abc.application.def.tests;\n    public class LoginTest {...}\n</code></pre>\n<ol start=\"3\">\n<li>In my class on the top I have put a statement:</li>\n</ol>\n<p><code>import com.resmed.application.GoScripts.tests.LoginTest;</code></p>\n<ol start=\"4\">\n<li>In my method,</li>\n</ol>\n<pre><code>     @When(&quot;^User keys in \\&quot;([^\\&quot;]*)\\&quot; and \\&quot;([^\\&quot;]*)\\&quot;$&quot;)\n    \n     public void userProvidesUserNameAndPassword(String UserName) throws InterruptedException {\n    \n     SupplierPortalLogin(UserName,TempString);  \n    }\n</code></pre>\n<p>When I use the method <code>SupplierPortalLogin(UserName,TempString)</code> I have an error message,</p>\n<p><code>The method SupplierPortalLogin(String, String) is undefined for the type ST_VladsSteps.</code></p>\n<ol start=\"5\">\n<li>I can see in the project that other Java classes use the same\n<code>import com.resmed.application.GoScripts.tests.LoginTest;</code> statement and use this method within their methods.</li>\n</ol>\n<p>Please, help me to understand what I am doing wrong.</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":1,"creation_date":1633662893,"post_id":69489685,"comment_id":122825103,"body_markdown":"Does this answer your question? [Eclipse &quot;Error: Could not find or load main class&quot;](https://stackoverflow.com/questions/11235827/eclipse-error-could-not-find-or-load-main-class)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11235827/eclipse-error-could-not-find-or-load-main-class\">Eclipse &quot;Error: Could not find or load main class&quot;</a>"},{"owner":{"account_id":14371249,"reputation":11,"user_id":13054926,"display_name":"Anubhab Giri"},"score":0,"creation_date":1633668031,"post_id":69489685,"comment_id":122825873,"body_markdown":"I have seen this already, the selected answer talks about modifying the class path attributes, but I have not migrated my project from anywhere, it was built locally. Secondly, I am not using any jar unlike the other user. I have added my class path config for reference.","body":"I have seen this already, the selected answer talks about modifying the class path attributes, but I have not migrated my project from anywhere, it was built locally. Secondly, I am not using any jar unlike the other user. I have added my class path config for reference."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1633670120,"post_id":69489685,"comment_id":122826232,"body_markdown":"I assume you have &quot;Build Automatically&quot; set?  When you add the Maven nature, and it builds your project, does it show any red marks in any file in your project, like the pom.xml?  Can you show your pom.xml file?","body":"I assume you have &quot;Build Automatically&quot; set?  When you add the Maven nature, and it builds your project, does it show any red marks in any file in your project, like the pom.xml?  Can you show your pom.xml file?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1633674485,"post_id":69489685,"comment_id":122827263,"body_markdown":"According to your `.classpath` file, your only source folder is `src`, but in Maven the default source folder is `src/main/java`. It&#39;s unclear how you configured your project (in which folder(s) are your Java files?). Better follow the documentation instead of following SO answers that might be wrong for the version you use. Adding or removing natures is not the recommended way and should not be necessary (that sounds like weird SO answers, not like the documentation which you should read first).","body":"According to your <code>.classpath</code> file, your only source folder is <code>src</code>, but in Maven the default source folder is <code>src&#47;main&#47;java</code>. It&#39;s unclear how you configured your project (in which folder(s) are your Java files?). Better follow the documentation instead of following SO answers that might be wrong for the version you use. Adding or removing natures is not the recommended way and should not be necessary (that sounds like weird SO answers, not like the documentation which you should read first)."},{"owner":{"account_id":14371249,"reputation":11,"user_id":13054926,"display_name":"Anubhab Giri"},"score":0,"creation_date":1633676016,"post_id":69489685,"comment_id":122827684,"body_markdown":"@DavidM.Karr yes, build automatically is set and there is no error after building. Here is my POM https://codeshare.io/xvg33P.","body":"@DavidM.Karr yes, build automatically is set and there is no error after building. Here is my POM <a href=\"https://codeshare.io/xvg33P\" rel=\"nofollow noreferrer\">codeshare.io/xvg33P</a>."},{"owner":{"account_id":14371249,"reputation":11,"user_id":13054926,"display_name":"Anubhab Giri"},"score":0,"creation_date":1633676172,"post_id":69489685,"comment_id":122827731,"body_markdown":"@howlger, thanks for the direction. I will start looking into the documentation. my Java files are inside src/main/","body":"@howlger, thanks for the direction. I will start looking into the documentation. my Java files are inside src/main/"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1633680753,"post_id":69489685,"comment_id":122829327,"body_markdown":"`&lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;` says otherwise (`path=&quot;src&quot;` instead of `path=&quot;src/main/java&quot;`). The folder location must match the package, for example for the public class `com.example.Foo` the source file is `&lt;source_folder&gt;/com/example/Foo.java`.","body":"<code>&lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;&#47;&gt;</code> says otherwise (<code>path=&quot;src&quot;</code> instead of <code>path=&quot;src&#47;main&#47;java&quot;</code>). The folder location must match the package, for example for the public class <code>com.example.Foo</code> the source file is <code>&lt;source_folder&gt;&#47;com&#47;example&#47;Foo.java</code>."},{"owner":{"account_id":14371249,"reputation":11,"user_id":13054926,"display_name":"Anubhab Giri"},"score":0,"creation_date":1633702824,"post_id":69489685,"comment_id":122837857,"body_markdown":"@howlger, thank you for your suggestions. I went through Maven documentation, built a new project from scratch, and now I can run Java files. I checked the generated class path file and it has ` path=&quot;src/main/java&quot; `. My understanding is that since I converted a Java project into a Maven project, something did not happen correctly.","body":"@howlger, thank you for your suggestions. I went through Maven documentation, built a new project from scratch, and now I can run Java files. I checked the generated class path file and it has ` path=&quot;src/main/java&quot; `. My understanding is that since I converted a Java project into a Maven project, something did not happen correctly."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1633712104,"post_id":69489685,"comment_id":122841515,"body_markdown":"Did you convert it via right-clicking the project and choosing _Configure &gt; Convert to Maven Project_?","body":"Did you convert it via right-clicking the project and choosing <i>Configure &gt; Convert to Maven Project</i>?"},{"owner":{"account_id":14371249,"reputation":11,"user_id":13054926,"display_name":"Anubhab Giri"},"score":0,"creation_date":1633744713,"post_id":69489685,"comment_id":122849129,"body_markdown":"@howlger, yes that&#39;s correct. You said that is not recommended. Can you elaborate a bit on why that is?","body":"@howlger, yes that&#39;s correct. You said that is not recommended. Can you elaborate a bit on why that is?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1633803061,"post_id":69489685,"comment_id":122860082,"body_markdown":"Right-clicking the project and choosing _Configure &gt; Convert to Maven Project_ is the recommended way and should work. I don&#39;t know why it was not working in your case. Do you have an example how to reproduce this issue? Not recommended is to add/remove project natures via _Project &gt; Properties: Project Natures_.","body":"Right-clicking the project and choosing <i>Configure &gt; Convert to Maven Project</i> is the recommended way and should work. I don&#39;t know why it was not working in your case. Do you have an example how to reproduce this issue? Not recommended is to add/remove project natures via <i>Project &gt; Properties: Project Natures</i>."}],"owner":{"account_id":14371249,"reputation":11,"user_id":13054926,"display_name":"Anubhab Giri"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633667853,"creation_date":1633658917,"question_id":69489685,"body_markdown":"This will probably be flagged as duplicate but I have gone through a lot of answers in SOF and none of them worked for me.\r\nI had a Java project to which I added Maven nature, and since then I cannot run any Java file. Upon running (with -Xdiag) it says, \r\n\r\n        Error: Could not find or load main class main.HelloWorld\r\n    Caused by: java.lang.ClassNotFoundException: main.HelloWorld\r\n    java.lang.ClassNotFoundException: main.HelloWorld\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n    \tat java.base/java.lang.Class.forName0(Native Method)\r\n    \tat java.base/java.lang.Class.forName(Class.java:466)\r\n    \tat java.base/sun.launcher.LauncherHelper.loadMainClass(LauncherHelper.java:780)\r\n    \tat java.base/sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:675)\r\n\r\nIf I remove the Maven nature and run, it will run as expected, but when I add Maven, the issue is back again. so to my knowledge, it should not be an issue related to Java build path or compiler configuration. I am not sure what is the issue. I have tried updating the project multiple times.  I have also downloaded Maven and added it to User Environment variables, if that makes a difference.\r\n\r\nAdditional information: This is my classpath file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n    \t&lt;classpathentry exported=&quot;true&quot; kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \r\n    \t&lt;classpathentry exported=&quot;true&quot; kind=&quot;con&quot; path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;org.eclipse.jst.component.nondependency&quot; value=&quot;&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry exported=&quot;true&quot; kind=&quot;lib&quot; path=&quot;C:/Users/Anubhab Giri/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.48/tomcat-embed-core-9.0.48.jar&quot; sourcepath=&quot;C:/Users/Anubhab Giri/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.48/tomcat-embed-core-9.0.48-sources.jar&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.groupId&quot; value=&quot;org.apache.tomcat.embed&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.artifactId&quot; value=&quot;tomcat-embed-core&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.version&quot; value=&quot;9.0.48&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;maven.scope&quot; value=&quot;compile&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\nThis is my project file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;projectDescription&gt;\r\n    \t&lt;name&gt;hello-world&lt;/name&gt;\r\n    \t&lt;comment&gt;&lt;/comment&gt;\r\n    \t&lt;projects&gt;\r\n    \t&lt;/projects&gt;\r\n    \t&lt;buildSpec&gt;\r\n    \t\t&lt;buildCommand&gt;\r\n    \t\t\t&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n    \t\t\t&lt;arguments&gt;\r\n    \t\t\t&lt;/arguments&gt;\r\n    \t\t&lt;/buildCommand&gt;\r\n    \t\t&lt;buildCommand&gt;\r\n    \t\t\t&lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\r\n    \t\t\t&lt;arguments&gt;\r\n    \t\t\t&lt;/arguments&gt;\r\n    \t\t&lt;/buildCommand&gt;\r\n    \t&lt;/buildSpec&gt;\r\n    \t&lt;natures&gt;\r\n    \t\t&lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\r\n    \t\t&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\r\n    \t&lt;/natures&gt;\r\n    &lt;/projectDescription&gt;\r\n\r\n","title":"Eclipse: Could not find or load main class; Maven Project","body":"<p>This will probably be flagged as duplicate but I have gone through a lot of answers in SOF and none of them worked for me.\nI had a Java project to which I added Maven nature, and since then I cannot run any Java file. Upon running (with -Xdiag) it says,</p>\n<pre><code>    Error: Could not find or load main class main.HelloWorld\nCaused by: java.lang.ClassNotFoundException: main.HelloWorld\njava.lang.ClassNotFoundException: main.HelloWorld\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:466)\n    at java.base/sun.launcher.LauncherHelper.loadMainClass(LauncherHelper.java:780)\n    at java.base/sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:675)\n</code></pre>\n<p>If I remove the Maven nature and run, it will run as expected, but when I add Maven, the issue is back again. so to my knowledge, it should not be an issue related to Java build path or compiler configuration. I am not sure what is the issue. I have tried updating the project multiple times.  I have also downloaded Maven and added it to User Environment variables, if that makes a difference.</p>\n<p>Additional information: This is my classpath file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\n    &lt;classpathentry exported=&quot;true&quot; kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n\n    &lt;classpathentry exported=&quot;true&quot; kind=&quot;con&quot; path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;org.eclipse.jst.component.nondependency&quot; value=&quot;&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry exported=&quot;true&quot; kind=&quot;lib&quot; path=&quot;C:/Users/Anubhab Giri/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.48/tomcat-embed-core-9.0.48.jar&quot; sourcepath=&quot;C:/Users/Anubhab Giri/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.48/tomcat-embed-core-9.0.48-sources.jar&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\n            &lt;attribute name=&quot;maven.groupId&quot; value=&quot;org.apache.tomcat.embed&quot;/&gt;\n            &lt;attribute name=&quot;maven.artifactId&quot; value=&quot;tomcat-embed-core&quot;/&gt;\n            &lt;attribute name=&quot;maven.version&quot; value=&quot;9.0.48&quot;/&gt;\n            &lt;attribute name=&quot;maven.scope&quot; value=&quot;compile&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n<p>This is my project file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;projectDescription&gt;\n    &lt;name&gt;hello-world&lt;/name&gt;\n    &lt;comment&gt;&lt;/comment&gt;\n    &lt;projects&gt;\n    &lt;/projects&gt;\n    &lt;buildSpec&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n        &lt;buildCommand&gt;\n            &lt;name&gt;org.eclipse.m2e.core.maven2Builder&lt;/name&gt;\n            &lt;arguments&gt;\n            &lt;/arguments&gt;\n        &lt;/buildCommand&gt;\n    &lt;/buildSpec&gt;\n    &lt;natures&gt;\n        &lt;nature&gt;org.eclipse.m2e.core.maven2Nature&lt;/nature&gt;\n        &lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;\n    &lt;/natures&gt;\n&lt;/projectDescription&gt;\n</code></pre>\n"},{"tags":["java","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633667517,"creation_date":1633623011,"answer_id":69484465,"question_id":69479571,"body_markdown":"The problem was in the lombok version\r\nhttps://github.com/projectlombok/lombok/issues/2681\r\nInstalled lombok version 1.8.22 and the error is gone.","title":"When compiling plugins:maven throws an error","body":"<p>The problem was in the lombok version\n<a href=\"https://github.com/projectlombok/lombok/issues/2681\" rel=\"nofollow noreferrer\">https://github.com/projectlombok/lombok/issues/2681</a>\nInstalled lombok version 1.8.22 and the error is gone.</p>\n"}],"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633667517,"creation_date":1633602648,"question_id":69479571,"body_markdown":"When compiling plugins:maven throws an error\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project user-lib: Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor (in unnamed module @0x2a9f8d47) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x2a9f8d47 -&gt; [Help 1]\r\n\r\npom.xml\r\n\r\n      &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;spring-boot-starter-test.version&gt;2.3.2.RELEASE&lt;/spring-boot-starter-test.version&gt;\r\n        &lt;junit-version&gt;5.7.0&lt;/junit-version&gt;\r\n        &lt;spring.version&gt;5.2.8.RELEASE&lt;/spring.version&gt;\r\n        &lt;lombok.version&gt;1.18.12&lt;/lombok.version&gt;\r\n        &lt;maven-compiler-plugin.version&gt;3.8.1&lt;/maven-compiler-plugin.version&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n          &lt;version&gt;${junit-version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n          &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;version&gt;${spring-boot-starter-test.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n              &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\nEverything worked on the Java 11 version.\r\nNow I&#39;m trying to upgrade to Java version 17. And immediately there was such an error.\r\nI can&#39;t understand what this error is related to. What does Lombok have to do with it?","title":"When compiling plugins:maven throws an error","body":"<p>When compiling plugins:maven throws an error</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project user-lib: Fatal error compiling: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor (in unnamed module @0x2a9f8d47) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x2a9f8d47 -&gt; [Help 1]\n</code></pre>\n<p>pom.xml</p>\n<pre><code>  &lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;spring-boot-starter-test.version&gt;2.3.2.RELEASE&lt;/spring-boot-starter-test.version&gt;\n    &lt;junit-version&gt;5.7.0&lt;/junit-version&gt;\n    &lt;spring.version&gt;5.2.8.RELEASE&lt;/spring.version&gt;\n    &lt;lombok.version&gt;1.18.12&lt;/lombok.version&gt;\n    &lt;maven-compiler-plugin.version&gt;3.8.1&lt;/maven-compiler-plugin.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n      &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot-starter-test.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;${lombok.version}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n          &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>Everything worked on the Java 11 version.\nNow I'm trying to upgrade to Java version 17. And immediately there was such an error.\nI can't understand what this error is related to. What does Lombok have to do with it?</p>\n"},{"tags":["java","android","android-activity","null","fragment"],"comments":[{"owner":{"account_id":3146783,"reputation":11131,"user_id":2661118,"display_name":"Gopal Gopi"},"score":1,"creation_date":1392643256,"post_id":21830173,"comment_id":33040155,"body_markdown":"are you adding this `Fragment` to `Activity`?","body":"are you adding this <code>Fragment</code> to <code>Activity</code>?"},{"owner":{"account_id":3522499,"reputation":63,"user_id":2944421,"display_name":"tcornelis"},"score":0,"creation_date":1392643380,"post_id":21830173,"comment_id":33040239,"body_markdown":"@Gopal Rao \n\nI am using this code to add the fragment.\n    setContentView(R.layout.activity_main);\n\n        if (savedInstanceState == null) {\n            getSupportFragmentManager().beginTransaction()\n                    .add(R.id.container, new PlaceholderFragment())\n                    .commit();\n        }","body":"@Gopal Rao   I am using this code to add the fragment.     setContentView(R.layout.activity_main);          if (savedInstanceState == null) {             getSupportFragmentManager().beginTransaction()                     .add(R.id.container, new PlaceholderFragment())                     .commit();         }"},{"owner":{"account_id":3146783,"reputation":11131,"user_id":2661118,"display_name":"Gopal Gopi"},"score":0,"creation_date":1392643654,"post_id":21830173,"comment_id":33040430,"body_markdown":"FYI- if `Fragment` is added to the `Activity` properly, then `onCreateView()` will be called for sure...","body":"FYI- if <code>Fragment</code> is added to the <code>Activity</code> properly, then <code>onCreateView()</code> will be called for sure..."},{"owner":{"account_id":3522499,"reputation":63,"user_id":2944421,"display_name":"tcornelis"},"score":0,"creation_date":1392643874,"post_id":21830173,"comment_id":33040584,"body_markdown":"@Gopal Rao If i don&#39;t want to set the text, the app show the fragment as it is supposed to. I just can&#39;t set the text inside of the EditText items. \n\nI tried using setContentView(R.id.fragment_main), then i could set the text (it didn&#39;t give any errors) but the text wasn&#39;t visible in the fragment.","body":"@Gopal Rao If i don&#39;t want to set the text, the app show the fragment as it is supposed to. I just can&#39;t set the text inside of the EditText items.   I tried using setContentView(R.id.fragment_main), then i could set the text (it didn&#39;t give any errors) but the text wasn&#39;t visible in the fragment."},{"owner":{"account_id":3146783,"reputation":11131,"user_id":2661118,"display_name":"Gopal Gopi"},"score":0,"creation_date":1392644000,"post_id":21830173,"comment_id":33040681,"body_markdown":"when you are calling `setTextConfig()` method? make sure that you are calling this method after `Fragment` is attached to the `Activity` otherwise `getView()` method returns `null`...","body":"when you are calling <code>setTextConfig()</code> method? make sure that you are calling this method after <code>Fragment</code> is attached to the <code>Activity</code> otherwise <code>getView()</code> method returns <code>null</code>..."},{"owner":{"account_id":3522499,"reputation":63,"user_id":2944421,"display_name":"tcornelis"},"score":0,"creation_date":1392644359,"post_id":21830173,"comment_id":33040913,"body_markdown":"I do that in a function that is called at the end of the onCreate","body":"I do that in a function that is called at the end of the onCreate"},{"owner":{"account_id":3146783,"reputation":11131,"user_id":2661118,"display_name":"Gopal Gopi"},"score":0,"creation_date":1392644472,"post_id":21830173,"comment_id":33040995,"body_markdown":"maintain the reference to the `Fragment` and try it `onWindowFocusChanged()` method of `Activity`.","body":"maintain the reference to the <code>Fragment</code> and try it <code>onWindowFocusChanged()</code> method of <code>Activity</code>."},{"owner":{"account_id":3522499,"reputation":63,"user_id":2944421,"display_name":"tcornelis"},"score":0,"creation_date":1392645161,"post_id":21830173,"comment_id":33041436,"body_markdown":"That did the trick. Why does it take that long to have the event triggered?","body":"That did the trick. Why does it take that long to have the event triggered?"},{"owner":{"account_id":3522499,"reputation":63,"user_id":2944421,"display_name":"tcornelis"},"score":0,"creation_date":1392887118,"post_id":21830173,"comment_id":33170162,"body_markdown":"And, as i moved on, it&#39;s even better to use the onActivityCreated method in the fragment class.","body":"And, as i moved on, it&#39;s even better to use the onActivityCreated method in the fragment class."}],"owner":{"account_id":3522499,"reputation":63,"user_id":2944421,"display_name":"tcornelis"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2020,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633667506,"creation_date":1392643152,"question_id":21830173,"body_markdown":"I&#39;ve been searching for a while now, but I can&#39;t seem to find an answer to the following question: \r\nWhy does `onCreateView` never get triggered? This code is the code generated by Android Studio when creating a new `MainActivity` plus some of the code I wrote.\r\n\r\nI want to use `setTextConfig(...,...,...)` to set the text in the text fields. But I can&#39;t seem to get them using `findviewbyid(R.id....);` because `v` is always null, even `getView();` returns null.\r\n\r\n     public static class PlaceholderFragment extends Fragment {\r\n        private View v;\r\n        private EditText etCustomerName, etDeviceID;\r\n        private Spinner select;\r\n        public PlaceholderFragment() {\r\n            super();\r\n        }\r\n\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            v = inflater.inflate(R.layout.fragment_main, container, false);\r\n\r\n            return v;\r\n        }\r\n\r\n        public void setTextConfig(String customerName, String selectedOption, int deviceID){\r\n            View vv = getView();\r\n            //init form controls\r\n            etCustomerName = (EditText)vv.findViewById(R.id.etCustomerName);\r\n            etDeviceID = (EditText)v.findViewById(R.id.etDeviceId);\r\n            select = (Spinner)v.findViewById(R.id.select);\r\n\r\n\r\n            etCustomerName.setText(customerName);\r\n\r\n            ArrayAdapter adapter = (ArrayAdapter)select.getAdapter();\r\n            int index = adapter.getPosition(selectedOption);\r\n            select.setSelection(index);\r\n\r\n            etDeviceID = (EditText)getView().findViewById(R.id.etDeviceId);\r\n            etDeviceID.setText(Integer.toString(deviceID), TextView.BufferType.EDITABLE);\r\n        }\r\n    }\r\n\r\nIf you need more detailed info, just ask :)","title":"Android fragment onCreateView() never called","body":"<p>I've been searching for a while now, but I can't seem to find an answer to the following question:\nWhy does <code>onCreateView</code> never get triggered? This code is the code generated by Android Studio when creating a new <code>MainActivity</code> plus some of the code I wrote.</p>\n<p>I want to use <code>setTextConfig(...,...,...)</code> to set the text in the text fields. But I can't seem to get them using <code>findviewbyid(R.id....);</code> because <code>v</code> is always null, even <code>getView();</code> returns null.</p>\n<pre><code> public static class PlaceholderFragment extends Fragment {\n    private View v;\n    private EditText etCustomerName, etDeviceID;\n    private Spinner select;\n    public PlaceholderFragment() {\n        super();\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        v = inflater.inflate(R.layout.fragment_main, container, false);\n\n        return v;\n    }\n\n    public void setTextConfig(String customerName, String selectedOption, int deviceID){\n        View vv = getView();\n        //init form controls\n        etCustomerName = (EditText)vv.findViewById(R.id.etCustomerName);\n        etDeviceID = (EditText)v.findViewById(R.id.etDeviceId);\n        select = (Spinner)v.findViewById(R.id.select);\n\n\n        etCustomerName.setText(customerName);\n\n        ArrayAdapter adapter = (ArrayAdapter)select.getAdapter();\n        int index = adapter.getPosition(selectedOption);\n        select.setSelection(index);\n\n        etDeviceID = (EditText)getView().findViewById(R.id.etDeviceId);\n        etDeviceID.setText(Integer.toString(deviceID), TextView.BufferType.EDITABLE);\n    }\n}\n</code></pre>\n<p>If you need more detailed info, just ask :)</p>\n"},{"tags":["python","java","fft"],"comments":[{"owner":{"account_id":13448465,"reputation":1333,"user_id":9703830,"display_name":"dedObed"},"score":0,"creation_date":1633667466,"post_id":69490488,"comment_id":122825787,"body_markdown":"Can&#39;t you just clip `y` to proper size?","body":"Can&#39;t you just clip <code>y</code> to proper size?"},{"owner":{"account_id":2626283,"reputation":407,"user_id":2273203,"accept_rate":43,"display_name":"kemenov"},"score":0,"creation_date":1633667793,"post_id":69490488,"comment_id":122825827,"body_markdown":"@dedObed I can do it, but I want to be sure that it&#39;s correct way.","body":"@dedObed I can do it, but I want to be sure that it&#39;s correct way."},{"owner":{"account_id":13448465,"reputation":1333,"user_id":9703830,"display_name":"dedObed"},"score":1,"creation_date":1633668465,"post_id":69490488,"comment_id":122825952,"body_markdown":"yes it is, up to dealing with odd-length inputs, where you&#39;ll need n // 2 + 1 outputs. But I guess there should be one around who understands DFT and how it fits into your problem?","body":"yes it is, up to dealing with odd-length inputs, where you&#39;ll need n // 2 + 1 outputs. But I guess there should be one around who understands DFT and how it fits into your problem?"},{"owner":{"account_id":13448465,"reputation":1333,"user_id":9703830,"display_name":"dedObed"},"score":0,"creation_date":1633668544,"post_id":69490488,"comment_id":122825969,"body_markdown":"Also, see the original numpy docs: https://numpy.org/doc/stable/reference/generated/numpy.fft.rfft.html","body":"Also, see the original numpy docs: <a href=\"https://numpy.org/doc/stable/reference/generated/numpy.fft.rfft.html\" rel=\"nofollow noreferrer\">numpy.org/doc/stable/reference/generated/numpy.fft.rfft.html</a>"}],"owner":{"account_id":2626283,"reputation":407,"user_id":2273203,"accept_rate":43,"display_name":"kemenov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633667175,"creation_date":1633667175,"question_id":69490488,"body_markdown":"I,m trying to port python code to Java. We need to make Fourier Transform for real input.\r\n\r\nThe following code already ported and works perfectly:\r\n\r\n**Python Code**\r\n```\r\nabs(fft([0.0,1.0,2.0,3.0]))\r\n\r\n#output \r\narray([6, 2.82842712, 2, 2.82842712])\r\n\r\n```\r\n\r\n**Java Code**\r\nI&#39;m using implementation by code https://introcs.cs.princeton.edu/java/97data/FFT.java.html.\r\n\r\n```\r\nint n = 4;\r\nComplex[] x = new Complex[n];\r\n\r\n// original data\r\nfor (int i = 0; i &lt; n; i++) {\r\n    x[i] = new Complex(i, 0);\r\n}\r\nshow(x, &quot;x&quot;);\r\n\r\n// FFT of original data\r\nComplex[] y = fft(x);\r\n\r\n// print each y.abs()\r\n// Output the same like python\r\n6.0\r\n2.8284271247461903\r\n2.0\r\n2.82842712474619\r\n\r\n```\r\n\r\nBut i need to compute the one-dimensional discrete Fourier Transform. In python we can make it by function rfft.\r\n\r\n```\r\nabs(rfft([0.0,1.0,2.0,3.0]))\r\n\r\n#output \r\narray([6, 2.82842712, 2])\r\n\r\n```\r\n\r\nSeems I need to get subarray with length =  (n / 2) + 1. But i&#39;m not sure that it&#39;s true for all cases.\r\n\r\nQuestion: There is the implemented function rfft in java?\r\n","title":"One-dimensional discrete Fourier Transform in java (rfft)","body":"<p>I,m trying to port python code to Java. We need to make Fourier Transform for real input.</p>\n<p>The following code already ported and works perfectly:</p>\n<p><strong>Python Code</strong></p>\n<pre><code>abs(fft([0.0,1.0,2.0,3.0]))\n\n#output \narray([6, 2.82842712, 2, 2.82842712])\n\n</code></pre>\n<p><strong>Java Code</strong>\nI'm using implementation by code <a href=\"https://introcs.cs.princeton.edu/java/97data/FFT.java.html\" rel=\"nofollow noreferrer\">https://introcs.cs.princeton.edu/java/97data/FFT.java.html</a>.</p>\n<pre><code>int n = 4;\nComplex[] x = new Complex[n];\n\n// original data\nfor (int i = 0; i &lt; n; i++) {\n    x[i] = new Complex(i, 0);\n}\nshow(x, &quot;x&quot;);\n\n// FFT of original data\nComplex[] y = fft(x);\n\n// print each y.abs()\n// Output the same like python\n6.0\n2.8284271247461903\n2.0\n2.82842712474619\n\n</code></pre>\n<p>But i need to compute the one-dimensional discrete Fourier Transform. In python we can make it by function rfft.</p>\n<pre><code>abs(rfft([0.0,1.0,2.0,3.0]))\n\n#output \narray([6, 2.82842712, 2])\n\n</code></pre>\n<p>Seems I need to get subarray with length =  (n / 2) + 1. But i'm not sure that it's true for all cases.</p>\n<p>Question: There is the implemented function rfft in java?</p>\n"},{"tags":["java","ubuntu","jdbc","cdata"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1633619931,"post_id":69483489,"comment_id":122813659,"body_markdown":"Why exactly do you need a JDBC driver for Redis?","body":"Why exactly do you need a JDBC driver for Redis?"},{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1633620232,"post_id":69483489,"comment_id":122813787,"body_markdown":"@OneCricketeer I am practicing with Redis before implementing actual connectors for SFDC, Snowflake and Google Analytics.","body":"@OneCricketeer I am practicing with Redis before implementing actual connectors for SFDC, Snowflake and Google Analytics."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1633622231,"post_id":69483489,"comment_id":122814672,"body_markdown":"Sure, but that doesn&#39;t answer why you cannot use official Redis libraries that use TCP rather than JDBC","body":"Sure, but that doesn&#39;t answer why you cannot use official Redis libraries that use TCP rather than JDBC"},{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1633622843,"post_id":69483489,"comment_id":122814950,"body_markdown":"@OneCricketeer Because the Task is to implement Connectors using CData JDBC Drivers.","body":"@OneCricketeer Because the Task is to implement Connectors using CData JDBC Drivers."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1633624830,"post_id":69483489,"comment_id":122815767,"body_markdown":"We are not [CData support](https://www.cdata.com/support/submit.aspx), though","body":"We are not <a href=\"https://www.cdata.com/support/submit.aspx\" rel=\"nofollow noreferrer\">CData support</a>, though"},{"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"score":0,"creation_date":1633625306,"post_id":69483489,"comment_id":122815944,"body_markdown":"@OneCricketeer Thanks for the reference to support though.","body":"@OneCricketeer Thanks for the reference to support though."}],"answers":[{"tags":[],"owner":{"account_id":11550095,"reputation":36,"user_id":12952819,"display_name":"Tushar Shete"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633667119,"creation_date":1633667119,"answer_id":69490481,"question_id":69483489,"body_markdown":"I was facing the same issue a while ago. Turns out CData drivers don&#39;t support Google Chrome for Linux Systems:\r\n```java\r\n    public static void d(final String s) throws Exception {\r\n        final String property = System.getProperty(&quot;os.name&quot;);\r\n        if (property.startsWith(&quot;Mac OS&quot;)) {\r\n            Runtime.getRuntime().exec(&quot;open &quot; + s);\r\n        }\r\n        else if (property.startsWith(&quot;Windows&quot;)) {\r\n            Runtime.getRuntime().exec(&quot;rundll32 url.dll,FileProtocolHandler &quot; + s);\r\n        }\r\n        else {\r\n            final String[] array = { &quot;firefox&quot;, &quot;opera&quot;, &quot;konqueror&quot;, &quot;epiphany&quot;, &quot;mozilla&quot;, &quot;netscape&quot; };\r\n            String s2 = null;\r\n            for (int n = 0; n &lt; array.length &amp;&amp; s2 == null; ++n) {\r\n                if (Runtime.getRuntime().exec(new String[] { &quot;which&quot;, array[n] }).waitFor() == 0) {\r\n                    s2 = array[n];\r\n                }\r\n            }\r\n            if (s2 == null) {\r\n                throw new Exception(&quot;Could not find web browser&quot;);\r\n            }\r\n            Runtime.getRuntime().exec(new String[] { s2, s });\r\n        }\r\n    }\r\n```\r\nFor the driver to be installed successfully, install Opera or another supported browser from the array using Ubuntu Software App.","title":"CData JDBC Driver | java.lang.Exception: Could not find web browser","body":"<p>I was facing the same issue a while ago. Turns out CData drivers don't support Google Chrome for Linux Systems:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void d(final String s) throws Exception {\n        final String property = System.getProperty(&quot;os.name&quot;);\n        if (property.startsWith(&quot;Mac OS&quot;)) {\n            Runtime.getRuntime().exec(&quot;open &quot; + s);\n        }\n        else if (property.startsWith(&quot;Windows&quot;)) {\n            Runtime.getRuntime().exec(&quot;rundll32 url.dll,FileProtocolHandler &quot; + s);\n        }\n        else {\n            final String[] array = { &quot;firefox&quot;, &quot;opera&quot;, &quot;konqueror&quot;, &quot;epiphany&quot;, &quot;mozilla&quot;, &quot;netscape&quot; };\n            String s2 = null;\n            for (int n = 0; n &lt; array.length &amp;&amp; s2 == null; ++n) {\n                if (Runtime.getRuntime().exec(new String[] { &quot;which&quot;, array[n] }).waitFor() == 0) {\n                    s2 = array[n];\n                }\n            }\n            if (s2 == null) {\n                throw new Exception(&quot;Could not find web browser&quot;);\n            }\n            Runtime.getRuntime().exec(new String[] { s2, s });\n        }\n    }\n</code></pre>\n<p>For the driver to be installed successfully, install Opera or another supported browser from the array using Ubuntu Software App.</p>\n"}],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69490481,"answer_count":1,"score":1,"last_activity_date":1633667119,"creation_date":1633619211,"question_id":69483489,"body_markdown":"So I downloaded CData JDBC Driver for Redis from [their official site][1] and tried to install it on my system. My system is running Ubuntu 20.04 and I have forcefully uninstalled Firefox a long time ago. So while installing the setup, I am getting this error just before the setup is completed: \r\n```console\r\njava.lang.Exception: Could not find web browser\r\n\tat com.izforge.izpack.installer.a.d(Unknown Source)\r\n\tat com.izforge.izpack.event.NSInstallerListener.afterPacks(Unknown Source)\r\n\tat com.izforge.izpack.installer.UnpackerBase.informListeners(Unknown Source)\r\n\tat com.izforge.izpack.installer.Unpacker.run(Unknown Source)\r\n```\r\n[![Error in UI][2]][2]\r\n\r\nI tried installing on my friend&#39;s system, running Windows, it was installed successfully, a pop-up with a list of web-browsers was opened redirecting to the Help Web Page.\r\n\r\nI tried copy-pasting the folder installed on my friend&#39;s system, but it didn&#39;t work. I am getting the following error:\r\n```console\r\njava.sql.SQLException: This system contains a license for CData JDBC Driver for Redis 2021 that has been installed but not activated.  You must run setup to activate the license on this system [code: I nodeid: 3TUTFKAF].\r\n\tat XcoreXredisX210X7930.tjc.a(Unknown Source)\r\n\tat XcoreXredisX210X7930.tjc.b(Unknown Source)\r\n\tat XcoreXredisX210X7930.jvb.execute(Unknown Source)\r\n\tat com.cdata.connectors.ConnectorsApplication.main(ConnectorsApplication.java:31)\r\n```\r\nI also tried reinstalling Firefox, but it didn&#39;t help. Is there any workaround for this? Any help is appreciated.\r\n\r\n  [1]: https://www.cdata.com/download/getfile.aspx?file=demo/EIRG-V/setup.zip&amp;name=Redis%20JDBC%20Driver&amp;tag=Download-jdbc\r\n  [2]: https://i.stack.imgur.com/PF7YI.png","title":"CData JDBC Driver | java.lang.Exception: Could not find web browser","body":"<p>So I downloaded CData JDBC Driver for Redis from <a href=\"https://www.cdata.com/download/getfile.aspx?file=demo/EIRG-V/setup.zip&amp;name=Redis%20JDBC%20Driver&amp;tag=Download-jdbc\" rel=\"nofollow noreferrer\">their official site</a> and tried to install it on my system. My system is running Ubuntu 20.04 and I have forcefully uninstalled Firefox a long time ago. So while installing the setup, I am getting this error just before the setup is completed:</p>\n<pre><code>java.lang.Exception: Could not find web browser\n    at com.izforge.izpack.installer.a.d(Unknown Source)\n    at com.izforge.izpack.event.NSInstallerListener.afterPacks(Unknown Source)\n    at com.izforge.izpack.installer.UnpackerBase.informListeners(Unknown Source)\n    at com.izforge.izpack.installer.Unpacker.run(Unknown Source)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PF7YI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PF7YI.png\" alt=\"Error in UI\" /></a></p>\n<p>I tried installing on my friend's system, running Windows, it was installed successfully, a pop-up with a list of web-browsers was opened redirecting to the Help Web Page.</p>\n<p>I tried copy-pasting the folder installed on my friend's system, but it didn't work. I am getting the following error:</p>\n<pre><code>java.sql.SQLException: This system contains a license for CData JDBC Driver for Redis 2021 that has been installed but not activated.  You must run setup to activate the license on this system [code: I nodeid: 3TUTFKAF].\n    at XcoreXredisX210X7930.tjc.a(Unknown Source)\n    at XcoreXredisX210X7930.tjc.b(Unknown Source)\n    at XcoreXredisX210X7930.jvb.execute(Unknown Source)\n    at com.cdata.connectors.ConnectorsApplication.main(ConnectorsApplication.java:31)\n</code></pre>\n<p>I also tried reinstalling Firefox, but it didn't help. Is there any workaround for this? Any help is appreciated.</p>\n"},{"tags":["java","jsp","jstl","tomcat9"],"comments":[{"owner":{"account_id":8339892,"reputation":475,"user_id":6265509,"display_name":"Minh Kieu"},"score":0,"creation_date":1639321592,"post_id":69490174,"comment_id":124313793,"body_markdown":"Tags are validated against *.tld. Does your custom tag defined in .tld somewhere?","body":"Tags are validated against *.tld. Does your custom tag defined in .tld somewhere?"},{"owner":{"account_id":10480017,"reputation":13,"user_id":7725290,"display_name":"Bryson"},"score":0,"creation_date":1645752199,"post_id":69490174,"comment_id":125960752,"body_markdown":"@MinhKieu Sorry completely forgot to reply, yes it&#39;s defined in a .tld file.","body":"@MinhKieu Sorry completely forgot to reply, yes it&#39;s defined in a .tld file."},{"owner":{"account_id":8339892,"reputation":475,"user_id":6265509,"display_name":"Minh Kieu"},"score":0,"creation_date":1645794988,"post_id":69490174,"comment_id":125971215,"body_markdown":"please paste an example on how you used that tag but the error message above suggests that incorrect defined your tag","body":"please paste an example on how you used that tag but the error message above suggests that incorrect defined your tag"}],"owner":{"account_id":10480017,"reputation":13,"user_id":7725290,"display_name":"Bryson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633666568,"creation_date":1633664041,"question_id":69490174,"body_markdown":"I can&#39;t include code due to sensitivity reasons, but I have a jsp with 2 taglib imports one is the http://java.sun.com/jstl/core library and one is a custom library. The custom library and the jstl core have a few tags in common one of which is the param tag. The custom param tag extends *org.apache.taglibs.standard.tag.el.core.ParamTag* and it&#39;s parent tag implements the *org.apache.taglibs.standard.tag.common.core.ParamParent* interface, yet it still throws\r\n\r\n    &lt;h3&gt;Validation error messages from TagLibraryValidator for [&lt;custom_lib&gt;] in [/WEB-INF/index.jsp]&lt;/h3&gt;&lt;p&gt;51: Invalid use of &quot;param&quot; tag outside legitimate parent tag&lt;/p&gt;\r\n\r\nThe version of jstl is 1.1.2 and the version of the apache standard libs is 1.1.2. I have tried upgrading to 1.2 as well as adding xmlns=&quot;http://www.w3.org/1999/xhtml&quot; to the html tag as suggested by the https://bz.apache.org/bugzilla/show_bug.cgi?id=37029 bug report\r\n\r\nAny help is greatly appreciated.","title":"Why does Tomcat&#39;s jasper throw a validation error when using a custom param tag?","body":"<p>I can't include code due to sensitivity reasons, but I have a jsp with 2 taglib imports one is the <a href=\"http://java.sun.com/jstl/core\" rel=\"nofollow noreferrer\">http://java.sun.com/jstl/core</a> library and one is a custom library. The custom library and the jstl core have a few tags in common one of which is the param tag. The custom param tag extends <em>org.apache.taglibs.standard.tag.el.core.ParamTag</em> and it's parent tag implements the <em>org.apache.taglibs.standard.tag.common.core.ParamParent</em> interface, yet it still throws</p>\n<pre><code>&lt;h3&gt;Validation error messages from TagLibraryValidator for [&lt;custom_lib&gt;] in [/WEB-INF/index.jsp]&lt;/h3&gt;&lt;p&gt;51: Invalid use of &quot;param&quot; tag outside legitimate parent tag&lt;/p&gt;\n</code></pre>\n<p>The version of jstl is 1.1.2 and the version of the apache standard libs is 1.1.2. I have tried upgrading to 1.2 as well as adding xmlns=&quot;http://www.w3.org/1999/xhtml&quot; to the html tag as suggested by the <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=37029\" rel=\"nofollow noreferrer\">https://bz.apache.org/bugzilla/show_bug.cgi?id=37029</a> bug report</p>\n<p>Any help is greatly appreciated.</p>\n"},{"tags":["java","polymorphism"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1633655966,"post_id":69489135,"comment_id":122823985,"body_markdown":"You are misusing inheritance and this is not how it works (as you&#39;re finding out). You don&#39;t extend a class to get a value from it but to alter its innate behavior. You probably don&#39;t want to use inheritance at all for this task.","body":"You are misusing inheritance and this is not how it works (as you&#39;re finding out). You don&#39;t extend a class to get a value from it but to alter its innate behavior. You probably don&#39;t want to use inheritance at all for this task."}],"answers":[{"tags":[],"owner":{"account_id":5573654,"reputation":5164,"user_id":4417924,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633652689,"creation_date":1633652689,"answer_id":69489164,"question_id":69489135,"body_markdown":"You use the `extends` keyword when you want to gain some functionality from an existing class, while also creating some new functionality. \r\n\r\nIf you want to get a value from a parent class, you need to use the `super` keyword, and the variable must have a `protected` scope / visibility. This is demonstrative, but it relays the point. \r\n\r\n```java\r\nclass A {\r\n    protected int a;\r\n}\r\n```\r\n\r\n```java\r\nclass B extends A {\r\n    void a() {\r\n        super.a = 42;\r\n    }\r\n}\r\n```","title":"Using Java inheritance for getting value from its parent","body":"<p>You use the <code>extends</code> keyword when you want to gain some functionality from an existing class, while also creating some new functionality.</p>\n<p>If you want to get a value from a parent class, you need to use the <code>super</code> keyword, and the variable must have a <code>protected</code> scope / visibility. This is demonstrative, but it relays the point.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n    protected int a;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class B extends A {\n    void a() {\n        super.a = 42;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1474271,"reputation":1908,"user_id":1385083,"accept_rate":57,"display_name":"Jamie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633666059,"creation_date":1633664907,"answer_id":69490261,"question_id":69489135,"body_markdown":"You appear to be creating new objects, and expecting them to be filled in, or to share data.\r\nFor example:\r\n\r\n    mainFunction callMeth = new mainFunction();\r\n    callMeth.timeIn();\r\n\r\n    function2 callMeth2 = new function2();\r\n    callMeth2.display(getName, getId);\r\n\r\nHere, you create a new instance of the mainFunction class, named callMeth. Then you call the timeIn() method of that object.\r\n\r\nNext, you create a new instance of the function2 class, named callMeth2.  What you must realize is that callMeth and callMeth2 are completely independent objects, each with their own members and field values.\r\n\r\nSeeing as callMeth2 is a completely independent object, nothing has actually been done to it to set the variables you wish to display.\r\n\r\nPerhaps you could try the following:\r\n\r\n    function2 callMeth2 = new function2();\r\n\r\n    // Initialize the data fields of object callMeth2\r\n    callMeth2.timeIn();\r\n\r\n    // Display callMeth2\r\n    callMeth2.display(getName, getId);\r\n\r\nThis will perform all the operations on the same object, and so the display function will have properly initialized fields to print out.\r\n\r\nLet&#39;s see if I can add an analogy.\r\n\r\n    enum GENDER { male, female, noneoftheabove, etc };\r\n    class Human\r\n    {\r\n        String name;\r\n        GENDER gender;\r\n        public String getName() { return name; }\r\n        public void setName(String nm) { this.name = nm; }\r\n    }\r\n\r\nHere we have a Human class, and objects of the human class have a name and a gender.\r\n\r\n    class Wizard extends Human\r\n    {\r\n        boolean parselmouth;\r\n        public String getNameAndGender() { return name + gender; }\r\n    }\r\n\r\nWizard class extends from Human, because they all have a name and gender, but they also might be a parselmouth.\r\n\r\nTo use these classes, you need to create an object of the type you want.  For example,\r\n\r\n    Human dudley = new Human();\r\n    dudley.setName(&quot;Dudley Dursley&quot;);\r\n\r\n    Wizard harry = new Wizard();\r\n    harry.setName(&quot;Harry Potter&quot;);\r\n    harry.parselmouth = true;\r\n\r\n\r\n\r\nWhat you are doing is akin to the following:\r\n    \r\n     // Create a Human\r\n     Human h = new Human();\r\n     h.setName(&quot;Dudley Dursley&quot;);\r\n     h.gender = GENDER.male;\r\n\r\n     // Create a Wizard\r\n     Wizard wiz = new Wizard();\r\n     // wiz is not initialized in any way\r\n\r\n     // Print out the name and gender of wiz:\r\n     System.out.println(wiz.getNameAndGender());\r\n\r\nand expecting the output to be &quot;Dudley Dursley male&quot;.","title":"Using Java inheritance for getting value from its parent","body":"<p>You appear to be creating new objects, and expecting them to be filled in, or to share data.\nFor example:</p>\n<pre><code>mainFunction callMeth = new mainFunction();\ncallMeth.timeIn();\n\nfunction2 callMeth2 = new function2();\ncallMeth2.display(getName, getId);\n</code></pre>\n<p>Here, you create a new instance of the mainFunction class, named callMeth. Then you call the timeIn() method of that object.</p>\n<p>Next, you create a new instance of the function2 class, named callMeth2.  What you must realize is that callMeth and callMeth2 are completely independent objects, each with their own members and field values.</p>\n<p>Seeing as callMeth2 is a completely independent object, nothing has actually been done to it to set the variables you wish to display.</p>\n<p>Perhaps you could try the following:</p>\n<pre><code>function2 callMeth2 = new function2();\n\n// Initialize the data fields of object callMeth2\ncallMeth2.timeIn();\n\n// Display callMeth2\ncallMeth2.display(getName, getId);\n</code></pre>\n<p>This will perform all the operations on the same object, and so the display function will have properly initialized fields to print out.</p>\n<p>Let's see if I can add an analogy.</p>\n<pre><code>enum GENDER { male, female, noneoftheabove, etc };\nclass Human\n{\n    String name;\n    GENDER gender;\n    public String getName() { return name; }\n    public void setName(String nm) { this.name = nm; }\n}\n</code></pre>\n<p>Here we have a Human class, and objects of the human class have a name and a gender.</p>\n<pre><code>class Wizard extends Human\n{\n    boolean parselmouth;\n    public String getNameAndGender() { return name + gender; }\n}\n</code></pre>\n<p>Wizard class extends from Human, because they all have a name and gender, but they also might be a parselmouth.</p>\n<p>To use these classes, you need to create an object of the type you want.  For example,</p>\n<pre><code>Human dudley = new Human();\ndudley.setName(&quot;Dudley Dursley&quot;);\n\nWizard harry = new Wizard();\nharry.setName(&quot;Harry Potter&quot;);\nharry.parselmouth = true;\n</code></pre>\n<p>What you are doing is akin to the following:</p>\n<pre><code> // Create a Human\n Human h = new Human();\n h.setName(&quot;Dudley Dursley&quot;);\n h.gender = GENDER.male;\n\n // Create a Wizard\n Wizard wiz = new Wizard();\n // wiz is not initialized in any way\n\n // Print out the name and gender of wiz:\n System.out.println(wiz.getNameAndGender());\n</code></pre>\n<p>and expecting the output to be &quot;Dudley Dursley male&quot;.</p>\n"}],"owner":{"account_id":21689387,"reputation":61,"user_id":16004210,"display_name":"helloWorld"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69490261,"answer_count":2,"score":-1,"last_activity_date":1633666059,"creation_date":1633652430,"question_id":69489135,"body_markdown":"Should I use `extends` keyword to get value of variable from its parent. Is that appropriate? \r\nI have here a code: \r\n\r\n    package salarypackageoop;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class mainFunction {\r\n    \r\n        Scanner input = new Scanner(System.in);\r\n        double totalOvertime;\r\n        double totalHours;\r\n        double totalTardiness;\r\n    \r\n        public void timeIn() {\r\n    \r\n            String dayOfwork[] = {&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;};\r\n            double getNum = 0;\r\n            System.out.println(&quot;------------ TIME IN ------------&quot;);\r\n    \r\n            for (int i = 0; i &lt; dayOfwork.length; i++) {\r\n    \r\n                System.out.println(dayOfwork[i] + &quot;: &quot;);\r\n                getNum = input.nextDouble();\r\n    \r\n                totalHours += getNum;\r\n    \r\n                if (getNum &lt; 8) {\r\n    \r\n                    System.out.println(&quot;No overtime today!&quot;);\r\n                    totalTardiness += 8 - getNum;\r\n    \r\n                } else if (getNum == 8) {\r\n    \r\n                    isValid();\r\n    \r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;PAY per hour: 200.50&quot;);\r\n            System.out.println(&quot;---------------------&quot;);\r\n            System.out.println(&quot;Overtime rate: 75.25&quot;);\r\n            System.out.println(&quot;Overtime: &quot; + totalOvertime);\r\n            System.out.println(&quot;Number of hours: &quot; + totalHours);\r\n            System.out.println(&quot;-----------------------&quot;);\r\n    \r\n        }\r\n    \r\n        public void isValid() {\r\n    \r\n            System.out.println(&quot;You can do overtime work if you want!&quot;);\r\n            System.out.print(&quot;How many hours? &quot;);\r\n            int getHours = input.nextInt();\r\n    \r\n            totalOvertime += getHours;\r\n        }\r\n    \r\n    }\r\n    \r\n    class function2 extends mainFunction {\r\n    \r\n        void display(String name, String id) {\r\n            \r\n            System.out.println(&quot;SALARY INFORMATION&quot;);\r\n            System.out.println(&quot;-----------------------&quot;);\r\n            System.out.println(&quot;Employee Id       : &quot; + name);\r\n            System.out.println(&quot;Employee Name     : &quot; + id);\r\n            System.out.println(&quot;Number of hours   : &quot; +super.totalHours);\r\n            System.out.println(&quot;Employee Tardiness: &quot; +super.totalTardiness);\r\n            System.out.println(&quot;-----------------------&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nI used `super` keyword to get the value of `totalHours` and `totalTardiness` from its parent but whenever I run the program, `totalHours` and `totalTardiness` has no value. \r\n\r\n\r\nand here&#39;s my main method where I call classes and its methods: \r\n\r\n    package salarypackageoop;\r\n    \r\n    import java.util.Scanner;\r\n    public class SalaryPay {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            String getName;\r\n            String getId;\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.println(&quot;Calculate Employee salary Per Week&quot;);\r\n            System.out.println(&quot;Input Employee&#39;s Data First...&quot;);\r\n            \r\n            System.out.print(&quot;Employee Name: &quot;);\r\n            getName = input.nextLine();\r\n            System.out.print(&quot;Employee Id: &quot;);\r\n            getId = input.nextLine();\r\n            \r\n                employeeData setData = new employeeData();\r\n                setData.setEmployeeData(getName, getId);\r\n                getName = setData.getEmployeeName();\r\n                getId = setData.getEmployeeId();\r\n                \r\n                mainFunction callMeth = new mainFunction();\r\n                callMeth.timeIn();\r\n    \r\n                function2 callMeth2 = new function2();\r\n                callMeth2.display(getName, getId);\r\n        }\r\n        \r\n    }\r\n\r\nMy output goes like this: \r\n\r\n    Calculate Employee salary Per Week\r\n    Input Employee&#39;s Data First...\r\n    Employee Name: sambajon\r\n    Employee Id: emp-212\r\n    ------------ TIME IN ------------\r\n    Monday: \r\n    8\r\n    You can do overtime work if you want!\r\n    How many hours? 2\r\n    Tuesday: \r\n    8\r\n    You can do overtime work if you want!\r\n    How many hours? 2\r\n    Wednesday: \r\n    7\r\n    No overtime today!\r\n    Thursday: \r\n    7\r\n    No overtime today!\r\n    Friday: \r\n    7\r\n    No overtime today!\r\n    PAY per hour: 200.50\r\n    ---------------------\r\n    Overtime rate: 75.25\r\n    Overtime: 4.0\r\n    Number of hours: 37.0\r\n    -----------------------\r\n    SALARY INFORMATION\r\n    -----------------------\r\n    Employee Id       : sambajon\r\n    Employee Name     : emp-212\r\n    Number of hours   : 0.0\r\n    Employee Tardiness: 0.0\r\n    -----------------------","title":"Using Java inheritance for getting value from its parent","body":"<p>Should I use <code>extends</code> keyword to get value of variable from its parent. Is that appropriate?\nI have here a code:</p>\n<pre><code>package salarypackageoop;\n\nimport java.util.Scanner;\n\npublic class mainFunction {\n\n    Scanner input = new Scanner(System.in);\n    double totalOvertime;\n    double totalHours;\n    double totalTardiness;\n\n    public void timeIn() {\n\n        String dayOfwork[] = {&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;};\n        double getNum = 0;\n        System.out.println(&quot;------------ TIME IN ------------&quot;);\n\n        for (int i = 0; i &lt; dayOfwork.length; i++) {\n\n            System.out.println(dayOfwork[i] + &quot;: &quot;);\n            getNum = input.nextDouble();\n\n            totalHours += getNum;\n\n            if (getNum &lt; 8) {\n\n                System.out.println(&quot;No overtime today!&quot;);\n                totalTardiness += 8 - getNum;\n\n            } else if (getNum == 8) {\n\n                isValid();\n\n            }\n        }\n\n        System.out.println(&quot;PAY per hour: 200.50&quot;);\n        System.out.println(&quot;---------------------&quot;);\n        System.out.println(&quot;Overtime rate: 75.25&quot;);\n        System.out.println(&quot;Overtime: &quot; + totalOvertime);\n        System.out.println(&quot;Number of hours: &quot; + totalHours);\n        System.out.println(&quot;-----------------------&quot;);\n\n    }\n\n    public void isValid() {\n\n        System.out.println(&quot;You can do overtime work if you want!&quot;);\n        System.out.print(&quot;How many hours? &quot;);\n        int getHours = input.nextInt();\n\n        totalOvertime += getHours;\n    }\n\n}\n\nclass function2 extends mainFunction {\n\n    void display(String name, String id) {\n        \n        System.out.println(&quot;SALARY INFORMATION&quot;);\n        System.out.println(&quot;-----------------------&quot;);\n        System.out.println(&quot;Employee Id       : &quot; + name);\n        System.out.println(&quot;Employee Name     : &quot; + id);\n        System.out.println(&quot;Number of hours   : &quot; +super.totalHours);\n        System.out.println(&quot;Employee Tardiness: &quot; +super.totalTardiness);\n        System.out.println(&quot;-----------------------&quot;);\n    }\n\n}\n</code></pre>\n<p>I used <code>super</code> keyword to get the value of <code>totalHours</code> and <code>totalTardiness</code> from its parent but whenever I run the program, <code>totalHours</code> and <code>totalTardiness</code> has no value.</p>\n<p>and here's my main method where I call classes and its methods:</p>\n<pre><code>package salarypackageoop;\n\nimport java.util.Scanner;\npublic class SalaryPay {\n\n    public static void main(String[] args) {\n\n        String getName;\n        String getId;\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Calculate Employee salary Per Week&quot;);\n        System.out.println(&quot;Input Employee's Data First...&quot;);\n        \n        System.out.print(&quot;Employee Name: &quot;);\n        getName = input.nextLine();\n        System.out.print(&quot;Employee Id: &quot;);\n        getId = input.nextLine();\n        \n            employeeData setData = new employeeData();\n            setData.setEmployeeData(getName, getId);\n            getName = setData.getEmployeeName();\n            getId = setData.getEmployeeId();\n            \n            mainFunction callMeth = new mainFunction();\n            callMeth.timeIn();\n\n            function2 callMeth2 = new function2();\n            callMeth2.display(getName, getId);\n    }\n    \n}\n</code></pre>\n<p>My output goes like this:</p>\n<pre><code>Calculate Employee salary Per Week\nInput Employee's Data First...\nEmployee Name: sambajon\nEmployee Id: emp-212\n------------ TIME IN ------------\nMonday: \n8\nYou can do overtime work if you want!\nHow many hours? 2\nTuesday: \n8\nYou can do overtime work if you want!\nHow many hours? 2\nWednesday: \n7\nNo overtime today!\nThursday: \n7\nNo overtime today!\nFriday: \n7\nNo overtime today!\nPAY per hour: 200.50\n---------------------\nOvertime rate: 75.25\nOvertime: 4.0\nNumber of hours: 37.0\n-----------------------\nSALARY INFORMATION\n-----------------------\nEmployee Id       : sambajon\nEmployee Name     : emp-212\nNumber of hours   : 0.0\nEmployee Tardiness: 0.0\n-----------------------\n</code></pre>\n"},{"tags":["java","inner-classes","java-16"],"comments":[{"owner":{"account_id":21579655,"reputation":1318,"user_id":15911053,"display_name":"iggy"},"score":14,"creation_date":1627236289,"post_id":68521280,"comment_id":121096932,"body_markdown":"re *Why it is allowed in the newer version?*  Probably because it&#39;s useful.  I&#39;ve occasionally wished for this.  A method encapsulated in its rightful place that nevertheless does not depend on any instance, inner or outer, seems well-defined.","body":"re <i>Why it is allowed in the newer version?</i>  Probably because it&#39;s useful.  I&#39;ve occasionally wished for this.  A method encapsulated in its rightful place that nevertheless does not depend on any instance, inner or outer, seems well-defined."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":37,"creation_date":1627246133,"post_id":68521280,"comment_id":121099060,"body_markdown":"A better question is: why did this restriction exist in the first place?","body":"A better question is: why did this restriction exist in the first place?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":5,"creation_date":1627254182,"post_id":68521280,"comment_id":121100284,"body_markdown":"@BrianGoetz can you provide an answer to that? :)","body":"@BrianGoetz can you provide an answer to that? :)"},{"owner":{"account_id":1225185,"reputation":617,"user_id":1190883,"accept_rate":25,"display_name":"Pradeesh tet"},"score":0,"creation_date":1627269143,"post_id":68521280,"comment_id":121101961,"body_markdown":"@paulsm4 Anyhow we create an instance for the outer class right so thought it&#39;s meaning less. As Brian Goetz told I would like to know why did the restriction exist in the first place?","body":"@paulsm4 Anyhow we create an instance for the outer class right so thought it&#39;s meaning less. As Brian Goetz told I would like to know why did the restriction exist in the first place?"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":3,"creation_date":1627311575,"post_id":68521280,"comment_id":121116003,"body_markdown":"@AndyTurner My impression was that they wanted to pretend that each instance of the outer class had a whole new inner class, as if outer1.InnerClass was a different class from outer2.InnerClass. Of course, that&#39;s not how it actually works, but by prohibiting `static` they could keep the illusion up a bit longer...","body":"@AndyTurner My impression was that they wanted to pretend that each instance of the outer class had a whole new inner class, as if outer1.InnerClass was a different class from outer2.InnerClass. Of course, that&#39;s not how it actually works, but by prohibiting <code>static</code> they could keep the illusion up a bit longer..."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":9,"creation_date":1627315074,"post_id":68521280,"comment_id":121117638,"body_markdown":"@AndyTurner The answer from user253751 is mostly correct -- at the time nested was added (Java 1.1), there were multiple possible interpretations of static within another class, so the question was deferred.","body":"@AndyTurner The answer from user253751 is mostly correct -- at the time nested was added (Java 1.1), there were multiple possible interpretations of static within another class, so the question was deferred."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1627237017,"creation_date":1627237017,"answer_id":68521376,"question_id":68521280,"body_markdown":"You&#39;re asking for reasoning of a change in Java 16, so you should start by checking the [**Release Notes**][1] to see if it has anything to say. It does:\r\n\r\n &gt; **JEP 395: Records ([JDK-8246771][2])**  \r\n &gt; *tools/javac*  \r\n &gt; Records have been added to the Java language. Records are a new kind of class in the Java language. They act as transparent carriers for immutable data with less ceremony than normal classes.\r\n &gt; \r\n &gt; Since nested classes were first introduced to Java, with the exception of static final fields initialized by constant expressions, nested class declarations that are inner have been prohibited from declaring static members. This restriction applies to non-static member classes, local classes, and anonymous classes.\r\n &gt; \r\n &gt; [JEP 384: Records (Second Preview)][3] added support for local interfaces, enum classes, and record classes, all of which are static definitions. This was a well-received enhancement, permitting coding styles that reduce the scope of certain declarations to local contexts.\r\n &gt; \r\n &gt; While [JEP 384][3] allowed for static local classes and interfaces, it did not relax the restriction on static member classes and interfaces of inner classes. An inner class could declare a static interface inside one of its method bodies, but not as a class member.\r\n &gt; \r\n &gt; **As a natural next step, [JEP 395][4] further relaxes nesting restrictions, and permits static classes, methods, fields, etc., to be declared within inner classes.**\r\n &gt; \r\n &gt; For further details, see [JEP 395][4].\r\n\r\n\r\n  [1]: https://jdk.java.net/16/release-notes\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8246771\r\n  [3]: https://openjdk.java.net/jeps/384\r\n  [4]: https://openjdk.java.net/jeps/395","title":"Why are static methods allowed inside a non-static inner class in Java 16?","body":"<p>You're asking for reasoning of a change in Java 16, so you should start by checking the <a href=\"https://jdk.java.net/16/release-notes\" rel=\"noreferrer\"><strong>Release Notes</strong></a> to see if it has anything to say. It does:</p>\n<blockquote>\n<p><strong>JEP 395: Records (<a href=\"https://bugs.openjdk.java.net/browse/JDK-8246771\" rel=\"noreferrer\">JDK-8246771</a>)</strong><br />\n<em>tools/javac</em><br />\nRecords have been added to the Java language. Records are a new kind of class in the Java language. They act as transparent carriers for immutable data with less ceremony than normal classes.</p>\n<p>Since nested classes were first introduced to Java, with the exception of static final fields initialized by constant expressions, nested class declarations that are inner have been prohibited from declaring static members. This restriction applies to non-static member classes, local classes, and anonymous classes.</p>\n<p><a href=\"https://openjdk.java.net/jeps/384\" rel=\"noreferrer\">JEP 384: Records (Second Preview)</a> added support for local interfaces, enum classes, and record classes, all of which are static definitions. This was a well-received enhancement, permitting coding styles that reduce the scope of certain declarations to local contexts.</p>\n<p>While <a href=\"https://openjdk.java.net/jeps/384\" rel=\"noreferrer\">JEP 384</a> allowed for static local classes and interfaces, it did not relax the restriction on static member classes and interfaces of inner classes. An inner class could declare a static interface inside one of its method bodies, but not as a class member.</p>\n<p><strong>As a natural next step, <a href=\"https://openjdk.java.net/jeps/395\" rel=\"noreferrer\">JEP 395</a> further relaxes nesting restrictions, and permits static classes, methods, fields, etc., to be declared within inner classes.</strong></p>\n<p>For further details, see <a href=\"https://openjdk.java.net/jeps/395\" rel=\"noreferrer\">JEP 395</a>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1633665942,"creation_date":1627269511,"answer_id":68524139,"question_id":68521280,"body_markdown":"The specific reasoning is given in [JEP 395][1]\r\n\r\n&gt; Static members of inner classes\r\n&gt; ------------------\r\n&gt;\r\n&gt; It is currently specified to be a compile-time error if an inner class declares a member that is explicitly or implicitly static, unless the member is a constant variable. This means that, for example, an inner class cannot declare a record class member, since nested record classes are implicitly static.\r\n&gt; \r\n&gt; We relax this restriction in order to allow an inner class to declare members that are either explicitly or implicitly static. In particular, this allows an inner class to declare a static member that is a record class.\r\n\r\nIn other words, it was necessary to remove the restriction on static members of inner classes for a particular case; i.e. to allow `record` classes to be declared in inner classes.  But they decided to take the opportunity to remove the restriction in all cases.\r\n\r\nThis implies that **the designers** have concluded that the original restriction as a whole was neither necessary for technical reasons or desirable.\r\n\r\n-----------------\r\n\r\n&gt; why did this restriction exist in the first place?\r\n\r\nThat is a more difficult question.  The decision to make that restriction would have been made in 1996 or early 1997 when Java 1.1 was being designed.  It is unlikely that anyone can still accurately *remember* the reasons behind original decision.  So unless someone can find a contemporaneous written source, we will never know for sure.\r\n\r\n&lt;sup&gt;(Brian Goetz commented above: *&quot;... at the time nested was added (Java 1.1), there were multiple possible interpretations of static within another class, so the question was deferred.&quot;*.  That certainly makes sense, but this could be (just) one person&#39;s recollection of something that happened ~25 years ago.  If it was me, I wouldn&#39;t be confident in my memory from that far back.  Unless I had contemporaneous minutes, notes, etc to refer to.)&lt;/sup&gt;\r\n\r\nThere is some speculation about the rationale for the original restriction here:\r\n\r\n  - https://stackoverflow.com/questions/1953530\r\n\r\n  [1]: https://openjdk.java.net/jeps/395","title":"Why are static methods allowed inside a non-static inner class in Java 16?","body":"<p>The specific reasoning is given in <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">JEP 395</a></p>\n<blockquote>\n<h2>Static members of inner classes</h2>\n<p>It is currently specified to be a compile-time error if an inner class declares a member that is explicitly or implicitly static, unless the member is a constant variable. This means that, for example, an inner class cannot declare a record class member, since nested record classes are implicitly static.</p>\n<p>We relax this restriction in order to allow an inner class to declare members that are either explicitly or implicitly static. In particular, this allows an inner class to declare a static member that is a record class.</p>\n</blockquote>\n<p>In other words, it was necessary to remove the restriction on static members of inner classes for a particular case; i.e. to allow <code>record</code> classes to be declared in inner classes.  But they decided to take the opportunity to remove the restriction in all cases.</p>\n<p>This implies that <strong>the designers</strong> have concluded that the original restriction as a whole was neither necessary for technical reasons or desirable.</p>\n<hr />\n<blockquote>\n<p>why did this restriction exist in the first place?</p>\n</blockquote>\n<p>That is a more difficult question.  The decision to make that restriction would have been made in 1996 or early 1997 when Java 1.1 was being designed.  It is unlikely that anyone can still accurately <em>remember</em> the reasons behind original decision.  So unless someone can find a contemporaneous written source, we will never know for sure.</p>\n<p><sup>(Brian Goetz commented above: <em>&quot;... at the time nested was added (Java 1.1), there were multiple possible interpretations of static within another class, so the question was deferred.&quot;</em>.  That certainly makes sense, but this could be (just) one person's recollection of something that happened ~25 years ago.  If it was me, I wouldn't be confident in my memory from that far back.  Unless I had contemporaneous minutes, notes, etc to refer to.)</sup></p>\n<p>There is some speculation about the rationale for the original restriction here:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1953530\">Why does Java prohibit static fields in inner classes?</a></li>\n</ul>\n"}],"owner":{"account_id":1225185,"reputation":617,"user_id":1190883,"accept_rate":25,"display_name":"Pradeesh tet"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4570,"favorite_count":0,"down_vote_count":1,"up_vote_count":35,"accepted_answer_id":68524139,"answer_count":2,"score":34,"last_activity_date":1633665942,"creation_date":1627236126,"question_id":68521280,"body_markdown":"We know that a non-static inner class can be accessed using the instance of the outer class, so a static method is less meaningful inside a non-static class. But from Java 16 static methods are allowed inside a non-static inner class. \r\n\r\nWhy did this restriction exist in the first place? Why is this allowed in the newer version? \r\n\r\n    public class OuterClass {\r\n    \r\n        class InnerClass {\r\n            static void printMe() {\r\n                System.out.println(&quot;Inside inner class&quot;);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            InnerClass.printMe();\r\n        }\r\n    \r\n    }\r\n","title":"Why are static methods allowed inside a non-static inner class in Java 16?","body":"<p>We know that a non-static inner class can be accessed using the instance of the outer class, so a static method is less meaningful inside a non-static class. But from Java 16 static methods are allowed inside a non-static inner class.</p>\n<p>Why did this restriction exist in the first place? Why is this allowed in the newer version?</p>\n<pre><code>public class OuterClass {\n\n    class InnerClass {\n        static void printMe() {\n            System.out.println(&quot;Inside inner class&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        InnerClass.printMe();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","tomcat"],"comments":[{"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"score":1,"creation_date":1633233489,"post_id":69399209,"comment_id":122703004,"body_markdown":"Full stacktrace could be useful...","body":"Full stacktrace could be useful..."},{"owner":{"account_id":8373638,"reputation":77,"user_id":6451842,"accept_rate":57,"display_name":"billoot"},"score":0,"creation_date":1633235096,"post_id":69399209,"comment_id":122703161,"body_markdown":"@30thh - I don&#39;t see how a stack trace could be helpful when the cause is known.  Spring is trying to autoconfigure based on classes found in the tomcat /lib directory.  Those classes aren&#39;t dependencies of this project leading to the `NoClassDefFoundError`.  To my knowledge I can&#39;t prevent spring from pulling in tomcat /lib from within my project, I&#39;d have to modify the tomcat configuration itself, leading to this post.","body":"@30thh - I don&#39;t see how a stack trace could be helpful when the cause is known.  Spring is trying to autoconfigure based on classes found in the tomcat /lib directory.  Those classes aren&#39;t dependencies of this project leading to the <code>NoClassDefFoundError</code>.  To my knowledge I can&#39;t prevent spring from pulling in tomcat /lib from within my project, I&#39;d have to modify the tomcat configuration itself, leading to this post."},{"owner":{"account_id":8373638,"reputation":77,"user_id":6451842,"accept_rate":57,"display_name":"billoot"},"score":0,"creation_date":1633238618,"post_id":69399209,"comment_id":122703587,"body_markdown":"The question isn&#39;t &quot;what is causing this problem&quot;, it is &quot;are there any good solutions to prevent this problem from occurring&quot;.  Looking back at my post that should be pretty obvious, pasting the relevant bit for you here so that hopefully you read it this time.\n\n`So then my question is - assuming I can&#39;t always fully control the contents of everything on the classpath, how can I prevent errors like this from occurring?`","body":"The question isn&#39;t &quot;what is causing this problem&quot;, it is &quot;are there any good solutions to prevent this problem from occurring&quot;.  Looking back at my post that should be pretty obvious, pasting the relevant bit for you here so that hopefully you read it this time.  <code>So then my question is - assuming I can&#39;t always fully control the contents of everything on the classpath, how can I prevent errors like this from occurring?</code>"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":3,"creation_date":1633247469,"post_id":69399209,"comment_id":122704869,"body_markdown":"There is no universal solution for Spring picking up a class in the server&#39;s classpath (see e.g. [this question](https://stackoverflow.com/q/68935574/11748454)). For you specific problem there might be several solutions, but a stack trace is necessary to see why Spring tried to load the class.","body":"There is no universal solution for Spring picking up a class in the server&#39;s classpath (see e.g. <a href=\"https://stackoverflow.com/q/68935574/11748454\">this question</a>). For you specific problem there might be several solutions, but a stack trace is necessary to see why Spring tried to load the class."}],"answers":[{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1633062478,"creation_date":1633062478,"answer_id":69400378,"question_id":69399209,"body_markdown":"Check for features provided by `@EnableAutoConfiguration`. You can explicitly configure set of auto-configuration classes for your application. [This tutorial][1] can be a good starting point.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-exclude-auto-configuration-test","title":"Possible to ignore configuration classes on the classpath?","body":"<p>Check for features provided by <code>@EnableAutoConfiguration</code>. You can explicitly configure set of auto-configuration classes for your application. <a href=\"https://www.baeldung.com/spring-boot-exclude-auto-configuration-test\" rel=\"nofollow noreferrer\">This tutorial</a> can be a good starting point.</p>\n"},{"tags":[],"owner":{"account_id":6867570,"reputation":817,"user_id":5279383,"display_name":"Cezary Butler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633604774,"creation_date":1633554926,"answer_id":69472744,"question_id":69399209,"body_markdown":"The likely culprit of mentioned exception are incompatible jars on the classpath.\r\n\r\nAs we don&#39;t know with what library you have the issue we cant tell you the exact reason, but the situation looks like that:\r\n1. One of Spring-Boot autoconfiguration classes is being triggered by the presence of class on the classpath\r\n2. Trigerred configuration tries to create some bean of class that is not present in the jar you have (but it is in the specific version mentioned in the Spring BOM)\r\n\r\nVersion incompatibilities may also cause `MethodNotFound` exceptions.\r\n\r\nThat&#39;s one of the reasons why it is good practice not to run Spring Boot applications inside the container (make jar not war), but as a runnable jar with an embedded container.\r\n\r\nEven before Spring Boot it was preferred to take account of libraries being present on runtime classpath and mark them as provided inside your project. Having different versions of the library on a classpath may cause weird `ClassCastExceptions` where on both ends names match, but the rest doesn&#39;t.\r\n\r\nYou could resolve specific cases by disabling autoconfiguration that causes your issue. You can do that either by adding `exclude` to your `@SpringBootApplication` or using a property file.\r\n\r\nEdit:\r\nIf you don&#39;t use very broad package scan (or use package name from outside of your project in package scan) in your Spring Boot application it is unlikely that Spring Boot simply imports configuration from the classpath.\r\nAs I have mentioned before it is rather some autoconfiguration that is being triggered by existence of a class in the classpath.\r\n\r\nTheoretical solution:\r\nYou could use maven shade plugin to relocate all packages into your own package space: [see docs](https://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html). \r\nThe problems is you&#39;d have face:\r\n1. Defining very broad relocation pattern that would exclude JEE classes that need to be used so that container would know how to run your application.\r\n2. Relocation most likely won&#39;t affect package names used as strings in the Spring Boot annotations (like annotations `@PackageScan` or `@ConditionalOnClass`). As far as I know it is not implemented yet. You&#39;d have to implement that by yourself - maybe as some kind of shade plugin resource processor.\r\n3. When relocating classes you&#39;d have to replace package names in all relevant configuration located in the jars. Possibly also merge some of those.\r\n4. You&#39;d also have to take into account how libraries that you use, or spring uses use package names or files. \r\n\r\nThis is definitely not a trivial tasks with many traps ahead. But if done right, then it would possibly allow you to disregard what is on the containers classpath. Spring Boot would also look for classes in relocated packages, and you wouldn&#39;t have those in ordinary jars.\r\n","title":"Possible to ignore configuration classes on the classpath?","body":"<p>The likely culprit of mentioned exception are incompatible jars on the classpath.</p>\n<p>As we don't know with what library you have the issue we cant tell you the exact reason, but the situation looks like that:</p>\n<ol>\n<li>One of Spring-Boot autoconfiguration classes is being triggered by the presence of class on the classpath</li>\n<li>Trigerred configuration tries to create some bean of class that is not present in the jar you have (but it is in the specific version mentioned in the Spring BOM)</li>\n</ol>\n<p>Version incompatibilities may also cause <code>MethodNotFound</code> exceptions.</p>\n<p>That's one of the reasons why it is good practice not to run Spring Boot applications inside the container (make jar not war), but as a runnable jar with an embedded container.</p>\n<p>Even before Spring Boot it was preferred to take account of libraries being present on runtime classpath and mark them as provided inside your project. Having different versions of the library on a classpath may cause weird <code>ClassCastExceptions</code> where on both ends names match, but the rest doesn't.</p>\n<p>You could resolve specific cases by disabling autoconfiguration that causes your issue. You can do that either by adding <code>exclude</code> to your <code>@SpringBootApplication</code> or using a property file.</p>\n<p>Edit:\nIf you don't use very broad package scan (or use package name from outside of your project in package scan) in your Spring Boot application it is unlikely that Spring Boot simply imports configuration from the classpath.\nAs I have mentioned before it is rather some autoconfiguration that is being triggered by existence of a class in the classpath.</p>\n<p>Theoretical solution:\nYou could use maven shade plugin to relocate all packages into your own package space: <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/class-relocation.html\" rel=\"nofollow noreferrer\">see docs</a>.\nThe problems is you'd have face:</p>\n<ol>\n<li>Defining very broad relocation pattern that would exclude JEE classes that need to be used so that container would know how to run your application.</li>\n<li>Relocation most likely won't affect package names used as strings in the Spring Boot annotations (like annotations <code>@PackageScan</code> or <code>@ConditionalOnClass</code>). As far as I know it is not implemented yet. You'd have to implement that by yourself - maybe as some kind of shade plugin resource processor.</li>\n<li>When relocating classes you'd have to replace package names in all relevant configuration located in the jars. Possibly also merge some of those.</li>\n<li>You'd also have to take into account how libraries that you use, or spring uses use package names or files.</li>\n</ol>\n<p>This is definitely not a trivial tasks with many traps ahead. But if done right, then it would possibly allow you to disregard what is on the containers classpath. Spring Boot would also look for classes in relocated packages, and you wouldn't have those in ordinary jars.</p>\n"},{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633665371,"creation_date":1633665371,"answer_id":69490310,"question_id":69399209,"body_markdown":"You can remove the `@SpringBootApplication` annotation from the main class and replace it with an `@ComponentScan` annotation and an `@Import` annotation that explicitly lists only the configuration classes you want to load. For example, in a Spring boot MVC app that uses metrics, web client, rest template, Jackson, etc, I was able to replace the `@SpringBootApplication` annotation with below code and get it working exactly as it was before, with all functional tests passing:\r\n\r\n```java\r\n@Import({ MetricsAutoConfiguration.class,\r\n        InfluxMetricsExportAutoConfiguration.class,\r\n        ServletWebServerFactoryAutoConfiguration.class,\r\n        DispatcherServletAutoConfiguration.class,\r\n        WebMvcAutoConfiguration.class,\r\n        JacksonAutoConfiguration.class,\r\n        WebClientAutoConfiguration.class,\r\n        RestTemplateAutoConfiguration.class,\r\n        RefreshAutoConfiguration.class,\r\n        ValidationAutoConfiguration.class\r\n})\r\n@ComponentScan\r\n``` ","title":"Possible to ignore configuration classes on the classpath?","body":"<p>You can remove the <code>@SpringBootApplication</code> annotation from the main class and replace it with an <code>@ComponentScan</code> annotation and an <code>@Import</code> annotation that explicitly lists only the configuration classes you want to load. For example, in a Spring boot MVC app that uses metrics, web client, rest template, Jackson, etc, I was able to replace the <code>@SpringBootApplication</code> annotation with below code and get it working exactly as it was before, with all functional tests passing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Import({ MetricsAutoConfiguration.class,\n        InfluxMetricsExportAutoConfiguration.class,\n        ServletWebServerFactoryAutoConfiguration.class,\n        DispatcherServletAutoConfiguration.class,\n        WebMvcAutoConfiguration.class,\n        JacksonAutoConfiguration.class,\n        WebClientAutoConfiguration.class,\n        RestTemplateAutoConfiguration.class,\n        RefreshAutoConfiguration.class,\n        ValidationAutoConfiguration.class\n})\n@ComponentScan\n</code></pre>\n"}],"owner":{"account_id":8373638,"reputation":77,"user_id":6451842,"accept_rate":57,"display_name":"billoot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1633665371,"creation_date":1633038889,"question_id":69399209,"body_markdown":"I have a Spring Boot application that works as expected when ran with embedded tomcat, but I noticed that if I try to run it from an existing tomcat instance that I&#39;m using with a previous project then it fails with a NoClassDefFoundError for a class that I don&#39;t use anywhere in my application.\r\n\r\nI noticed in the /lib directory I had a single jar that contained a few Spring annotated classes, so as a test I cleaned out the /lib directory which resolved the issue.  My assumption is that Spring is seeing some of the configurations/beans/imports on the classpath due to them existing in the /lib directory and either trying to autoconfigure something on its own, or is actually trying to instantiate some of these classes.\r\n\r\nSo then my question is - assuming I can&#39;t always fully control the contents of everything on the classpath, how can I prevent errors like this from occurring?\r\n\r\n**EDIT**\r\n\r\nFor a little more detail - the class not being found is DefaultCookieSerializer which is part of the spring-session-implementation dependency.  It is pulled into one of the classes in the jar located in /lib, but it is not any part of my application.","title":"Possible to ignore configuration classes on the classpath?","body":"<p>I have a Spring Boot application that works as expected when ran with embedded tomcat, but I noticed that if I try to run it from an existing tomcat instance that I'm using with a previous project then it fails with a NoClassDefFoundError for a class that I don't use anywhere in my application.</p>\n<p>I noticed in the /lib directory I had a single jar that contained a few Spring annotated classes, so as a test I cleaned out the /lib directory which resolved the issue.  My assumption is that Spring is seeing some of the configurations/beans/imports on the classpath due to them existing in the /lib directory and either trying to autoconfigure something on its own, or is actually trying to instantiate some of these classes.</p>\n<p>So then my question is - assuming I can't always fully control the contents of everything on the classpath, how can I prevent errors like this from occurring?</p>\n<p><strong>EDIT</strong></p>\n<p>For a little more detail - the class not being found is DefaultCookieSerializer which is part of the spring-session-implementation dependency.  It is pulled into one of the classes in the jar located in /lib, but it is not any part of my application.</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":7808791,"reputation":895,"user_id":5905741,"accept_rate":71,"display_name":"Amit Mahajan"},"score":0,"creation_date":1633525441,"post_id":69465733,"comment_id":122782428,"body_markdown":"I think you may not be able to assign partitions dynamically. Its already discussed here https://stackoverflow.com/questions/32761598/is-it-possible-to-create-a-kafka-topic-with-dynamic-partition-count","body":"I think you may not be able to assign partitions dynamically. Its already discussed here <a href=\"https://stackoverflow.com/questions/32761598/is-it-possible-to-create-a-kafka-topic-with-dynamic-partition-count\" title=\"is it possible to create a kafka topic with dynamic partition count\">stackoverflow.com/questions/32761598/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633623159,"creation_date":1633525577,"answer_id":69466302,"question_id":69465733,"body_markdown":"You can&#39;t change manual assignments at runtime. There are several ways to achieve your desired result.\r\n\r\nYou can declare the listener in a prototype bean; see https://stackoverflow.com/questions/68744775/can-i-add-topics-to-my-kafkalistener-at-runtime/68745230#68745230\r\n\r\nYou can use the listener container factory to create a new container with the appropriate topic configuration and copy the listener from the statically declared container.\r\n\r\nI can provide an example of the latter if needed.\r\n\r\n...\r\n\r\n__EDIT__\r\n\r\nHere&#39;s an example for the second technique...\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class So69465733Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(So69465733Application.class, args);\r\n\t}\r\n\r\n\t@KafkaListener(id = &quot;dummy&quot;, topics = &quot;dummy&quot;, autoStartup = &quot;false&quot;)\r\n\tvoid listen(String in) {\r\n\t\tSystem.out.println(in);\r\n\t}\r\n\r\n\t@Bean\r\n\tApplicationRunner runner(KafkaListenerEndpointRegistry registry,\r\n\t\t\tConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory) {\r\n\r\n\t\treturn args -&gt; {\r\n\t\t\tSystem.out.println(&quot;Hit Enter to create a container for topic1, partition0&quot;);\r\n\t\t\tSystem.in.read();\r\n\t\t\tConcurrentMessageListenerContainer&lt;String, String&gt; container1 =\r\n\t\t\t\t\tfactory.createContainer(new TopicPartitionOffset(&quot;topic1&quot;, 0, SeekPosition.END));\r\n\t\t\tcontainer1.getContainerProperties().setMessageListener(\r\n\t\t\t\t\tregistry.getListenerContainer(&quot;dummy&quot;).getContainerProperties().getMessageListener());\r\n\t\t\tcontainer1.getContainerProperties().setGroupId(&quot;topic1-0-group2&quot;);\r\n\t\t\tcontainer1.start();\r\n\r\n\t\t\tSystem.out.println(&quot;Hit Enter to create a container for topic2, partition0&quot;);\r\n\t\t\tSystem.in.read();\r\n\t\t\tConcurrentMessageListenerContainer&lt;String, String&gt; container2 =\r\n\t\t\t\t\tfactory.createContainer(new TopicPartitionOffset(&quot;topic2&quot;, 0, SeekPosition.END));\r\n\t\t\tcontainer2.getContainerProperties().setMessageListener(\r\n\t\t\t\t\tregistry.getListenerContainer(&quot;dummy&quot;).getContainerProperties().getMessageListener());\r\n\t\t\tcontainer2.getContainerProperties().setGroupId(&quot;topic2-0-group2&quot;);\r\n\t\t\tcontainer2.start();\r\n\r\n\t\t\tSystem.in.read();\r\n\t\t\tcontainer1.stop();\r\n\t\t\tcontainer2.stop();\r\n\t\t};\r\n\t}\r\n\r\n}\r\n```\r\n\r\n__EDIT__\r\n\r\nLog after sending records to topic1, topic2 from the command-line producer.\r\n\r\n```log\r\nHit Enter to create a container for topic1, partition0\r\n\r\nConsumerConfig values: \r\n...\r\n\r\nKafka version: 2.7.1\r\nKafka commitId: 61dbce85d0d41457\r\nKafka startTimeMs: 1633622966736\r\n[Consumer clientId=consumer-topic1-0-group2-1, groupId=topic1-0-group2] Subscribed to partition(s): topic1-0\r\n\r\nHit Enter to create a container for topic2, partition0\r\n[Consumer clientId=consumer-topic1-0-group2-1, groupId=topic1-0-group2] Seeking to LATEST offset of partition topic1-0\r\n[Consumer clientId=consumer-topic1-0-group2-1, groupId=topic1-0-group2] Cluster ID: ppGfIGsZTUWRTNmRXByfZg\r\n[Consumer clientId=consumer-topic1-0-group2-1, groupId=topic1-0-group2] Resetting offset for partition topic1-0 to position FetchPosition{offset=2, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}.\r\n\r\nConsumerConfig values: \r\n...\r\n\r\nKafka version: 2.7.1\r\nKafka commitId: 61dbce85d0d41457\r\nKafka startTimeMs: 1633622969071\r\n[Consumer clientId=consumer-topic2-0-group2-2, groupId=topic2-0-group2] Subscribed to partition(s): topic2-0\r\n\r\nHit Enter to stop containers\r\n[Consumer clientId=consumer-topic2-0-group2-2, groupId=topic2-0-group2] Seeking to LATEST offset of partition topic2-0\r\n[Consumer clientId=consumer-topic2-0-group2-2, groupId=topic2-0-group2] Cluster ID: ppGfIGsZTUWRTNmRXByfZg\r\n[Consumer clientId=consumer-topic2-0-group2-2, groupId=topic2-0-group2] Resetting offset for partition topic2-0 to position FetchPosition{offset=2, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}.\r\nrecord from topic1\r\n[Consumer clientId=consumer-topic1-0-group2-1, groupId=topic1-0-group2] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)\r\nrecord from topic2\r\n[Consumer clientId=consumer-topic2-0-group2-2, groupId=topic2-0-group2] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)\r\nApplication shutdown requested.\r\n```","title":"Kafka Consumer in spring can I re-assign partitions programmatically?","body":"<p>You can't change manual assignments at runtime. There are several ways to achieve your desired result.</p>\n<p>You can declare the listener in a prototype bean; see <a href=\"https://stackoverflow.com/questions/68744775/can-i-add-topics-to-my-kafkalistener-at-runtime/68745230#68745230\">Can i add topics to my @kafkalistener at runtime</a></p>\n<p>You can use the listener container factory to create a new container with the appropriate topic configuration and copy the listener from the statically declared container.</p>\n<p>I can provide an example of the latter if needed.</p>\n<p>...</p>\n<p><strong>EDIT</strong></p>\n<p>Here's an example for the second technique...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class So69465733Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So69465733Application.class, args);\n    }\n\n    @KafkaListener(id = &quot;dummy&quot;, topics = &quot;dummy&quot;, autoStartup = &quot;false&quot;)\n    void listen(String in) {\n        System.out.println(in);\n    }\n\n    @Bean\n    ApplicationRunner runner(KafkaListenerEndpointRegistry registry,\n            ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory) {\n\n        return args -&gt; {\n            System.out.println(&quot;Hit Enter to create a container for topic1, partition0&quot;);\n            System.in.read();\n            ConcurrentMessageListenerContainer&lt;String, String&gt; container1 =\n                    factory.createContainer(new TopicPartitionOffset(&quot;topic1&quot;, 0, SeekPosition.END));\n            container1.getContainerProperties().setMessageListener(\n                    registry.getListenerContainer(&quot;dummy&quot;).getContainerProperties().getMessageListener());\n            container1.getContainerProperties().setGroupId(&quot;topic1-0-group2&quot;);\n            container1.start();\n\n            System.out.println(&quot;Hit Enter to create a container for topic2, partition0&quot;);\n            System.in.read();\n            ConcurrentMessageListenerContainer&lt;String, String&gt; container2 =\n                    factory.createContainer(new TopicPartitionOffset(&quot;topic2&quot;, 0, SeekPosition.END));\n            container2.getContainerProperties().setMessageListener(\n                    registry.getListenerContainer(&quot;dummy&quot;).getContainerProperties().getMessageListener());\n            container2.getContainerProperties().setGroupId(&quot;topic2-0-group2&quot;);\n            container2.start();\n\n            System.in.read();\n            container1.stop();\n            container2.stop();\n        };\n    }\n\n}\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>Log after sending records to topic1, topic2 from the command-line producer.</p>\n<pre><code>Hit Enter to create a container for topic1, partition0\n\nConsumerConfig values: \n...\n\nKafka version: 2.7.1\nKafka commitId: 61dbce85d0d41457\nKafka startTimeMs: 1633622966736\n[Consumer clientId=consumer-topic1-0-group2-1, groupId=topic1-0-group2] Subscribed to partition(s): topic1-0\n\nHit Enter to create a container for topic2, partition0\n[Consumer clientId=consumer-topic1-0-group2-1, groupId=topic1-0-group2] Seeking to LATEST offset of partition topic1-0\n[Consumer clientId=consumer-topic1-0-group2-1, groupId=topic1-0-group2] Cluster ID: ppGfIGsZTUWRTNmRXByfZg\n[Consumer clientId=consumer-topic1-0-group2-1, groupId=topic1-0-group2] Resetting offset for partition topic1-0 to position FetchPosition{offset=2, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}.\n\nConsumerConfig values: \n...\n\nKafka version: 2.7.1\nKafka commitId: 61dbce85d0d41457\nKafka startTimeMs: 1633622969071\n[Consumer clientId=consumer-topic2-0-group2-2, groupId=topic2-0-group2] Subscribed to partition(s): topic2-0\n\nHit Enter to stop containers\n[Consumer clientId=consumer-topic2-0-group2-2, groupId=topic2-0-group2] Seeking to LATEST offset of partition topic2-0\n[Consumer clientId=consumer-topic2-0-group2-2, groupId=topic2-0-group2] Cluster ID: ppGfIGsZTUWRTNmRXByfZg\n[Consumer clientId=consumer-topic2-0-group2-2, groupId=topic2-0-group2] Resetting offset for partition topic2-0 to position FetchPosition{offset=2, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[localhost:9092 (id: 0 rack: null)], epoch=0}}.\nrecord from topic1\n[Consumer clientId=consumer-topic1-0-group2-1, groupId=topic1-0-group2] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)\nrecord from topic2\n[Consumer clientId=consumer-topic2-0-group2-2, groupId=topic2-0-group2] Discovered group coordinator localhost:9092 (id: 2147483647 rack: null)\nApplication shutdown requested.\n</code></pre>\n"}],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3494,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69466302,"answer_count":1,"score":0,"last_activity_date":1633664938,"creation_date":1633523353,"question_id":69465733,"body_markdown":"I&#39;m new to Kafka, and using `@KafkaListener` (spring) to define kafka consumer.\r\nI would like to check whether its possible to manually assign the partition to the consumer in runtime.\r\n\r\nFor example, when the application starts I don&#39;t want to &quot;consume&quot; any data. I&#39;m using currently `@KafkaListener(autoStartup=false ... )` for that purpose.\r\n\r\n\r\nAt some point, I&#39;m supposed to get a notification (from another part of the application) that contains a partitionId to work on, so I would like to &quot;skip&quot; to the latest available offset of that partition because I don&#39;t need to consume the data that has happened to already exist there and &quot;associate&quot; the KafkaConsumer with the partitionId from that notification. \r\n\r\nLater on I might get a notification to &quot;Stop listening to this partition&quot;, despite the fact the the producer that exists somewhere else keeps writing to that topic and to that partition, so I should &quot;unlink&quot; the consumer from the partition and stop getting messages. \r\n\r\nI saw there is a `org.springframework.kafka.annotation.TopicPartition` but it provides a way to specify a &quot;static&quot; association, so I&#39;m looking for a &quot;dynamic&quot; way to do so.\r\n\r\nI guess I could resort to the low-level Kafka Client API but I would really prefer to use spring here.\r\n\r\n**UPDATE** \r\n\r\nI use topic `cnp_multi_partition_test_topic` with 3 partitions.\r\n\r\nMy Current Code that tries to manage partitions dynamically from the consumer looks like this:\r\n\r\n~~~\r\n@Slf4j\r\npublic class SampleKafkaConsumer {   \r\n    @KafkaListener(id = Constants.CONSUMER_ID, topics = Constants.TEST_TOPIC, autoStartup = &quot;false&quot;)\r\n    public void consumePartition(@Payload String data, @Headers MessageHeaders messageHeaders) {\r\n        Object partitionId = messageHeaders.get(KafkaHeaders.RECEIVED_PARTITION_ID);\r\n        Object sessionId    = messageHeaders.get(KafkaHeaders.RECEIVED_MESSAGE_KEY);\r\n        log.info(&quot;Consuming from partition: [ {} ] message: Key = [ {} ], content = [ {} ]&quot;,partitionId, sessionId,  data);\r\n    }\r\n}\r\n~~~\r\n\r\n~~~\r\n@RequiredArgsConstructor\r\npublic class MultiPartitionKafkaConsumerManager {\r\n\r\n    private final KafkaListenerEndpointRegistry registry;\r\n    private final ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory;\r\n    private final UUIDProvider uuidProvider;\r\n    private ConcurrentMessageListenerContainer&lt;String, String&gt; container;\r\n\r\n    public void assignPartitions(List&lt;Integer&gt; partitions) {\r\n        if(container != null) {\r\n            container.stop();\r\n            container = null;\r\n        }\r\n        if(partitions.isEmpty()) {\r\n            return;\r\n        }\r\n        var newTopicPartitionOffsets = prepareTopicPartitionOffsets(partitions);\r\n        container =\r\n                factory.createContainer(newTopicPartitionOffsets);\r\n        container.getContainerProperties().setMessageListener(\r\n                registry.getListenerContainer(Constants.CONSUMER_ID).getContainerProperties().getMessageListener());\r\n        // random group\r\n        container.getContainerProperties().setGroupId(&quot;sampleGroup-&quot; + uuidProvider.getUUID().toString());\r\n        container.setConcurrency(1);\r\n        container.start();\r\n    }\r\n\r\n    private TopicPartitionOffset[] prepareTopicPartitionOffsets(List&lt;Integer&gt; partitions) {\r\n        return partitions.stream()\r\n                .map(p -&gt; new TopicPartitionOffset(TEST_TOPIC, p, 0L, TopicPartitionOffset.SeekPosition.END))\r\n                .collect(Collectors.toList())\r\n                .toArray(new TopicPartitionOffset[] {});\r\n    }\r\n}\r\n~~~\r\n\r\nBoth are Spring beans (singletons) managed through java configuration.\r\n\r\nThe producer is generating 3 messages every second and sends it into 3 partitions of the test topic. I&#39;ve used kafka UI tool to make sure that indeed all the messages arrive as expected I use an `@EventListener` and `@Async` to make it happen concurrently.\r\n\r\n\r\n\r\nHere is how do I try to simulate the work:\r\n~~~\r\n\r\n@SpringBootTest // kafka is available, omitted for brevity\r\npublic class MyTest {\r\n    @Autowired\r\n    MultiPartitionKafkaConsumerManager manager;\r\n    \r\n    @Test\r\n    public void test_create_kafka_consumer_with_manual_partition_management() throws InterruptedException {\r\n        log.info(&quot;Starting the test&quot;);\r\n        sleep(5_000);\r\n        log.info(&quot;Start listening on partition 0&quot;);\r\n        manager.assignPartitions(List.of(0));\r\n        sleep(10_000);\r\n        log.info(&quot;Start listening on partition 0,2&quot;);\r\n        manager.assignPartitions(List.of(0,2));\r\n        sleep(10_000);\r\n        log.info(&quot;Do not listen on partition 0 anymore&quot;);\r\n        manager.assignPartitions(List.of(2));\r\n        sleep(10_000);\r\n        log.info(&quot;Do not listen on partition 2 anymore - 0 partitions to listen&quot;);\r\n        manager.assignPartitions(Collections.emptyList());\r\n        sleep(10_000);\r\n~~~\r\n\r\n\r\nLogs show the following:\r\n\r\n~~~\r\n06:34:20.164 [main] INFO  c.h.c.p.g.m.SamplePartitioningTest - Starting the test\r\n06:34:25.169 [main] INFO  c.h.c.p.g.m.SamplePartitioningTest - Start listening on partition 0\r\n06:34:25.360 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 2.5.1\r\n06:34:25.360 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 0efa8fb0f4c73d92\r\n06:34:25.361 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1633664065360\r\n06:34:25.405 [main] INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-sampleGroup-96640bc4-e34f-4ade-9ff9-7a2d0bdf38c9-1, groupId=sampleGroup-96640bc4-e34f-4ade-9ff9-7a2d0bdf38c9] Subscribed to partition(s): cnp_multi_partition_test_topic-0\r\n06:34:25.422 [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService\r\n06:34:25.429 [consumer-0-C-1] INFO  o.a.k.c.c.i.SubscriptionState - [Consumer clientId=consumer-sampleGroup-96640bc4-e34f-4ade-9ff9-7a2d0bdf38c9-1, groupId=sampleGroup-96640bc4-e34f-4ade-9ff9-7a2d0bdf38c9] Seeking to LATEST offset of partition cnp_multi_partition_test_topic-0\r\n06:34:35.438 [main] INFO  c.h.c.p.g.m.SamplePartitioningTest - Start listening on partition 0,2\r\n06:34:35.445 [consumer-0-C-1] INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-sampleGroup-96640bc4-e34f-4ade-9ff9-7a2d0bdf38c9-1, groupId=sampleGroup-96640bc4-e34f-4ade-9ff9-7a2d0bdf38c9] Unsubscribed all topics or patterns and assigned partitions\r\n06:34:35.445 [consumer-0-C-1] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService\r\n06:34:35.453 [consumer-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer$ListenerConsumer - sampleGroup-96640bc4-e34f-4ade-9ff9-7a2d0bdf38c9: Consumer stopped\r\n06:34:35.467 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 2.5.1\r\n06:34:35.467 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 0efa8fb0f4c73d92\r\n06:34:35.467 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1633664075467\r\n06:34:35.486 [main] INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb-2, groupId=sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb] Subscribed to partition(s): cnp_multi_partition_test_topic-0, cnp_multi_partition_test_topic-2\r\n06:34:35.487 [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService\r\n06:34:35.489 [consumer-0-C-1] INFO  o.a.k.c.c.i.SubscriptionState - [Consumer clientId=consumer-sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb-2, groupId=sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb] Seeking to LATEST offset of partition cnp_multi_partition_test_topic-0\r\n06:34:35.489 [consumer-0-C-1] INFO  o.a.k.c.c.i.SubscriptionState - [Consumer clientId=consumer-sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb-2, groupId=sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb] Seeking to LATEST offset of partition cnp_multi_partition_test_topic-2\r\n06:34:45.502 [main] INFO  c.h.c.p.g.m.SamplePartitioningTest - Do not listen on partition 0 anymore\r\n06:34:45.503 [consumer-0-C-1] INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb-2, groupId=sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb] Unsubscribed all topics or patterns and assigned partitions\r\n06:34:45.503 [consumer-0-C-1] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService\r\n06:34:45.510 [consumer-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer$ListenerConsumer - sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb: Consumer stopped\r\n06:34:45.527 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 2.5.1\r\n06:34:45.527 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 0efa8fb0f4c73d92\r\n06:34:45.527 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1633664085527\r\n06:34:45.551 [main] INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-sampleGroup-5e12d8c7-5900-434a-959f-98b14adda698-3, groupId=sampleGroup-5e12d8c7-5900-434a-959f-98b14adda698] Subscribed to partition(s): cnp_multi_partition_test_topic-2\r\n06:34:45.551 [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService\r\n06:34:45.554 [consumer-0-C-1] INFO  o.a.k.c.c.i.SubscriptionState - [Consumer clientId=consumer-sampleGroup-5e12d8c7-5900-434a-959f-98b14adda698-3, groupId=sampleGroup-5e12d8c7-5900-434a-959f-98b14adda698] Seeking to LATEST offset of partition cnp_multi_partition_test_topic-2\r\n06:34:55.560 [main] INFO  c.h.c.p.g.m.SamplePartitioningTest - Do not listen on partition 2 anymore - 0 partitions to listen\r\n06:34:55.561 [consumer-0-C-1] INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-sampleGroup-5e12d8c7-5900-434a-959f-98b14adda698-3, groupId=sampleGroup-5e12d8c7-5900-434a-959f-98b14adda698] Unsubscribed all topics or patterns and assigned partitions\r\n06:34:55.562 [consumer-0-C-1] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService\r\n06:34:55.576 [consumer-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer$ListenerConsumer - sampleGroup-5e12d8c7-5900-434a-959f-98b14adda698: Consumer stopped\r\n~~~\r\n\r\nSo I do see that the consumer is started, it even tries to poll the records internally, but I think I see the WakeupException thrown and &quot;swallowed&quot; by a proxy. I&#39;m not sure I understand why does it happen?\r\n\r\n","title":"Kafka Consumer in spring can I re-assign partitions programmatically?","body":"<p>I'm new to Kafka, and using <code>@KafkaListener</code> (spring) to define kafka consumer.\nI would like to check whether its possible to manually assign the partition to the consumer in runtime.</p>\n<p>For example, when the application starts I don't want to &quot;consume&quot; any data. I'm using currently <code>@KafkaListener(autoStartup=false ... )</code> for that purpose.</p>\n<p>At some point, I'm supposed to get a notification (from another part of the application) that contains a partitionId to work on, so I would like to &quot;skip&quot; to the latest available offset of that partition because I don't need to consume the data that has happened to already exist there and &quot;associate&quot; the KafkaConsumer with the partitionId from that notification.</p>\n<p>Later on I might get a notification to &quot;Stop listening to this partition&quot;, despite the fact the the producer that exists somewhere else keeps writing to that topic and to that partition, so I should &quot;unlink&quot; the consumer from the partition and stop getting messages.</p>\n<p>I saw there is a <code>org.springframework.kafka.annotation.TopicPartition</code> but it provides a way to specify a &quot;static&quot; association, so I'm looking for a &quot;dynamic&quot; way to do so.</p>\n<p>I guess I could resort to the low-level Kafka Client API but I would really prefer to use spring here.</p>\n<p><strong>UPDATE</strong></p>\n<p>I use topic <code>cnp_multi_partition_test_topic</code> with 3 partitions.</p>\n<p>My Current Code that tries to manage partitions dynamically from the consumer looks like this:</p>\n<pre><code>@Slf4j\npublic class SampleKafkaConsumer {   \n    @KafkaListener(id = Constants.CONSUMER_ID, topics = Constants.TEST_TOPIC, autoStartup = &quot;false&quot;)\n    public void consumePartition(@Payload String data, @Headers MessageHeaders messageHeaders) {\n        Object partitionId = messageHeaders.get(KafkaHeaders.RECEIVED_PARTITION_ID);\n        Object sessionId    = messageHeaders.get(KafkaHeaders.RECEIVED_MESSAGE_KEY);\n        log.info(&quot;Consuming from partition: [ {} ] message: Key = [ {} ], content = [ {} ]&quot;,partitionId, sessionId,  data);\n    }\n}\n</code></pre>\n<pre><code>@RequiredArgsConstructor\npublic class MultiPartitionKafkaConsumerManager {\n\n    private final KafkaListenerEndpointRegistry registry;\n    private final ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory;\n    private final UUIDProvider uuidProvider;\n    private ConcurrentMessageListenerContainer&lt;String, String&gt; container;\n\n    public void assignPartitions(List&lt;Integer&gt; partitions) {\n        if(container != null) {\n            container.stop();\n            container = null;\n        }\n        if(partitions.isEmpty()) {\n            return;\n        }\n        var newTopicPartitionOffsets = prepareTopicPartitionOffsets(partitions);\n        container =\n                factory.createContainer(newTopicPartitionOffsets);\n        container.getContainerProperties().setMessageListener(\n                registry.getListenerContainer(Constants.CONSUMER_ID).getContainerProperties().getMessageListener());\n        // random group\n        container.getContainerProperties().setGroupId(&quot;sampleGroup-&quot; + uuidProvider.getUUID().toString());\n        container.setConcurrency(1);\n        container.start();\n    }\n\n    private TopicPartitionOffset[] prepareTopicPartitionOffsets(List&lt;Integer&gt; partitions) {\n        return partitions.stream()\n                .map(p -&gt; new TopicPartitionOffset(TEST_TOPIC, p, 0L, TopicPartitionOffset.SeekPosition.END))\n                .collect(Collectors.toList())\n                .toArray(new TopicPartitionOffset[] {});\n    }\n}\n</code></pre>\n<p>Both are Spring beans (singletons) managed through java configuration.</p>\n<p>The producer is generating 3 messages every second and sends it into 3 partitions of the test topic. I've used kafka UI tool to make sure that indeed all the messages arrive as expected I use an <code>@EventListener</code> and <code>@Async</code> to make it happen concurrently.</p>\n<p>Here is how do I try to simulate the work:</p>\n<pre><code>\n@SpringBootTest // kafka is available, omitted for brevity\npublic class MyTest {\n    @Autowired\n    MultiPartitionKafkaConsumerManager manager;\n    \n    @Test\n    public void test_create_kafka_consumer_with_manual_partition_management() throws InterruptedException {\n        log.info(&quot;Starting the test&quot;);\n        sleep(5_000);\n        log.info(&quot;Start listening on partition 0&quot;);\n        manager.assignPartitions(List.of(0));\n        sleep(10_000);\n        log.info(&quot;Start listening on partition 0,2&quot;);\n        manager.assignPartitions(List.of(0,2));\n        sleep(10_000);\n        log.info(&quot;Do not listen on partition 0 anymore&quot;);\n        manager.assignPartitions(List.of(2));\n        sleep(10_000);\n        log.info(&quot;Do not listen on partition 2 anymore - 0 partitions to listen&quot;);\n        manager.assignPartitions(Collections.emptyList());\n        sleep(10_000);\n</code></pre>\n<p>Logs show the following:</p>\n<pre><code>06:34:20.164 [main] INFO  c.h.c.p.g.m.SamplePartitioningTest - Starting the test\n06:34:25.169 [main] INFO  c.h.c.p.g.m.SamplePartitioningTest - Start listening on partition 0\n06:34:25.360 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 2.5.1\n06:34:25.360 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 0efa8fb0f4c73d92\n06:34:25.361 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1633664065360\n06:34:25.405 [main] INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-sampleGroup-96640bc4-e34f-4ade-9ff9-7a2d0bdf38c9-1, groupId=sampleGroup-96640bc4-e34f-4ade-9ff9-7a2d0bdf38c9] Subscribed to partition(s): cnp_multi_partition_test_topic-0\n06:34:25.422 [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService\n06:34:25.429 [consumer-0-C-1] INFO  o.a.k.c.c.i.SubscriptionState - [Consumer clientId=consumer-sampleGroup-96640bc4-e34f-4ade-9ff9-7a2d0bdf38c9-1, groupId=sampleGroup-96640bc4-e34f-4ade-9ff9-7a2d0bdf38c9] Seeking to LATEST offset of partition cnp_multi_partition_test_topic-0\n06:34:35.438 [main] INFO  c.h.c.p.g.m.SamplePartitioningTest - Start listening on partition 0,2\n06:34:35.445 [consumer-0-C-1] INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-sampleGroup-96640bc4-e34f-4ade-9ff9-7a2d0bdf38c9-1, groupId=sampleGroup-96640bc4-e34f-4ade-9ff9-7a2d0bdf38c9] Unsubscribed all topics or patterns and assigned partitions\n06:34:35.445 [consumer-0-C-1] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService\n06:34:35.453 [consumer-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer$ListenerConsumer - sampleGroup-96640bc4-e34f-4ade-9ff9-7a2d0bdf38c9: Consumer stopped\n06:34:35.467 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 2.5.1\n06:34:35.467 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 0efa8fb0f4c73d92\n06:34:35.467 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1633664075467\n06:34:35.486 [main] INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb-2, groupId=sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb] Subscribed to partition(s): cnp_multi_partition_test_topic-0, cnp_multi_partition_test_topic-2\n06:34:35.487 [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService\n06:34:35.489 [consumer-0-C-1] INFO  o.a.k.c.c.i.SubscriptionState - [Consumer clientId=consumer-sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb-2, groupId=sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb] Seeking to LATEST offset of partition cnp_multi_partition_test_topic-0\n06:34:35.489 [consumer-0-C-1] INFO  o.a.k.c.c.i.SubscriptionState - [Consumer clientId=consumer-sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb-2, groupId=sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb] Seeking to LATEST offset of partition cnp_multi_partition_test_topic-2\n06:34:45.502 [main] INFO  c.h.c.p.g.m.SamplePartitioningTest - Do not listen on partition 0 anymore\n06:34:45.503 [consumer-0-C-1] INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb-2, groupId=sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb] Unsubscribed all topics or patterns and assigned partitions\n06:34:45.503 [consumer-0-C-1] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService\n06:34:45.510 [consumer-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer$ListenerConsumer - sampleGroup-05fb12f3-aba1-4918-bcf6-a1f840de13eb: Consumer stopped\n06:34:45.527 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 2.5.1\n06:34:45.527 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: 0efa8fb0f4c73d92\n06:34:45.527 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1633664085527\n06:34:45.551 [main] INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-sampleGroup-5e12d8c7-5900-434a-959f-98b14adda698-3, groupId=sampleGroup-5e12d8c7-5900-434a-959f-98b14adda698] Subscribed to partition(s): cnp_multi_partition_test_topic-2\n06:34:45.551 [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService\n06:34:45.554 [consumer-0-C-1] INFO  o.a.k.c.c.i.SubscriptionState - [Consumer clientId=consumer-sampleGroup-5e12d8c7-5900-434a-959f-98b14adda698-3, groupId=sampleGroup-5e12d8c7-5900-434a-959f-98b14adda698] Seeking to LATEST offset of partition cnp_multi_partition_test_topic-2\n06:34:55.560 [main] INFO  c.h.c.p.g.m.SamplePartitioningTest - Do not listen on partition 2 anymore - 0 partitions to listen\n06:34:55.561 [consumer-0-C-1] INFO  o.a.k.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-sampleGroup-5e12d8c7-5900-434a-959f-98b14adda698-3, groupId=sampleGroup-5e12d8c7-5900-434a-959f-98b14adda698] Unsubscribed all topics or patterns and assigned partitions\n06:34:55.562 [consumer-0-C-1] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService\n06:34:55.576 [consumer-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer$ListenerConsumer - sampleGroup-5e12d8c7-5900-434a-959f-98b14adda698: Consumer stopped\n</code></pre>\n<p>So I do see that the consumer is started, it even tries to poll the records internally, but I think I see the WakeupException thrown and &quot;swallowed&quot; by a proxy. I'm not sure I understand why does it happen?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14491032,"reputation":584,"user_id":10467286,"display_name":"Putra Nugraha"},"score":1,"creation_date":1633665509,"post_id":69490085,"comment_id":122825491,"body_markdown":"not sure these may work, could you try to use foreground check in [here](https://stackoverflow.com/a/8490088/10467286)","body":"not sure these may work, could you try to use foreground check in <a href=\"https://stackoverflow.com/a/8490088/10467286\">here</a>"},{"owner":{"account_id":321035,"reputation":12292,"user_id":639616,"accept_rate":67,"display_name":"wannik"},"score":0,"creation_date":1633676235,"post_id":69490085,"comment_id":122827753,"body_markdown":"@PutraNugraha It works!  Thank you very much.","body":"@PutraNugraha It works!  Thank you very much."}],"owner":{"account_id":321035,"reputation":12292,"user_id":639616,"accept_rate":67,"display_name":"wannik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633663078,"creation_date":1633663078,"question_id":69490085,"body_markdown":"I&#39;m using Android WorkManager API.  And here is the requirement: When a Worker finish the background work, if the app is in foreground, it will not send a notification.  Otherwise, it will send a notification.\r\n\r\nI tried the code from  [here](https://stackoverflow.com/a/47443019/639616) to check if an activity is active before sending notification.  But it doesn&#39;t work.  \r\n```\r\npublic class MyWorker extends Worker {\r\n    public Result doWork() {\r\n        if (!isActivityForeground(MainActivity.class)) {\r\n            // send notification\r\n        }\r\n        return Result.success();\r\n    }\r\n\r\n    private boolean isActivityForeground(Class activityClass) {\r\n        ActivityManager activityManager = (ActivityManager) getApplicationContext().getSystemService(Context.ACTIVITY_SERVICE);\r\n        List&lt;ActivityManager.AppTask&gt; tasks = activityManager.getAppTasks();\r\n        return activityClass.getName().equals(tasks.get(0).getTaskInfo().topActivity.getClassName());\r\n    }\r\n}\r\n```\r\nWhen I remove `if`, a notification was sent.\r\n\r\n","title":"how Worker check if an activity is active before sending notification","body":"<p>I'm using Android WorkManager API.  And here is the requirement: When a Worker finish the background work, if the app is in foreground, it will not send a notification.  Otherwise, it will send a notification.</p>\n<p>I tried the code from  <a href=\"https://stackoverflow.com/a/47443019/639616\">here</a> to check if an activity is active before sending notification.  But it doesn't work.</p>\n<pre><code>public class MyWorker extends Worker {\n    public Result doWork() {\n        if (!isActivityForeground(MainActivity.class)) {\n            // send notification\n        }\n        return Result.success();\n    }\n\n    private boolean isActivityForeground(Class activityClass) {\n        ActivityManager activityManager = (ActivityManager) getApplicationContext().getSystemService(Context.ACTIVITY_SERVICE);\n        List&lt;ActivityManager.AppTask&gt; tasks = activityManager.getAppTasks();\n        return activityClass.getName().equals(tasks.get(0).getTaskInfo().topActivity.getClassName());\n    }\n}\n</code></pre>\n<p>When I remove <code>if</code>, a notification was sent.</p>\n"},{"tags":["java","oop","inheritance"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1633608750,"post_id":69480871,"comment_id":122808403,"body_markdown":"Why did you expect an exception? In the code you posted B does not override the increment() method, so the implementation of A will be called. And A does not know anything of its subclass B or its fields, so it will just do what it always does.  What did you expect  to happen?","body":"Why did you expect an exception? In the code you posted B does not override the increment() method, so the implementation of A will be called. And A does not know anything of its subclass B or its fields, so it will just do what it always does.  What did you expect  to happen?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1633608865,"post_id":69480871,"comment_id":122808458,"body_markdown":"I can see why you might expect a compile error from having two fields with the same name; but it certainly would not compile and then produce an exception.","body":"I can see why you might expect a compile error from having two fields with the same name; but it certainly would not compile and then produce an exception."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1633609048,"post_id":69480871,"comment_id":122808545,"body_markdown":"Maybe to clear up the confusion a bit: Fields (Variables) are not overridden like methods, if they have the same name they are just &quot;shadowed&quot;. But your instances of class `B` will internally have 2 fields `int x = 5;` and `String x = &quot;Hello&quot;;` So your instances of `B` still have that int value and that is used in the increment method.","body":"Maybe to clear up the confusion a bit: Fields (Variables) are not overridden like methods, if they have the same name they are just &quot;shadowed&quot;. But your instances of class <code>B</code> will internally have 2 fields <code>int x = 5;</code> and <code>String x = &quot;Hello&quot;;</code> So your instances of <code>B</code> still have that int value and that is used in the increment method."},{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":1,"creation_date":1633609210,"post_id":69480871,"comment_id":122808612,"body_markdown":"Does this answer your question? [Hiding Fields in Java Inheritance](https://stackoverflow.com/questions/12244670/hiding-fields-in-java-inheritance)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12244670/hiding-fields-in-java-inheritance\">Hiding Fields in Java Inheritance</a>"}],"answers":[{"tags":[],"owner":{"account_id":9232561,"reputation":531,"user_id":6858195,"display_name":"Benjamin Berman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633609940,"creation_date":1633609940,"answer_id":69481219,"question_id":69480871,"body_markdown":"The behavior of instance variables and instance methods in a class hierarchy is different.  If you wanted to access the value in the subclass from the superclass, you would need to wrap the subclass value with an instance method that is declared in the superclass but overridden in the subclass.","title":"Does parent class method use hidden variables","body":"<p>The behavior of instance variables and instance methods in a class hierarchy is different.  If you wanted to access the value in the subclass from the superclass, you would need to wrap the subclass value with an instance method that is declared in the superclass but overridden in the subclass.</p>\n"}],"owner":{"account_id":19558467,"reputation":15,"user_id":14312191,"display_name":"Shanthaji Jeybert"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1633609253,"answer_count":1,"score":-1,"last_activity_date":1633662821,"creation_date":1633608524,"question_id":69480871,"body_markdown":"I have a parent class A which has a primitive type property x\r\n\r\n    public class A {\r\n        String type = &quot;A&quot;;\r\n        int x = 5 ;\r\n        void increment()\r\n        {\r\n            x++ ;\r\n            System.out.println(x);\r\n        }\r\n    }\r\n\r\nI have a child class B which extends from class A, This child class also has propery x of String type\r\n\r\n    public class B extends A {\r\n         String type = &quot;B&quot; ;\r\n         String x = &quot;Hello&quot;;\r\n    }\r\n\r\nNow, both parent and child class has instance variable x with different type( int and String).\r\n\r\nParent class A has a method to increase value of X and now the method is available in the child class B ( Class B extends Class A, so all the methods in class A are accessible in class B)\r\n\r\nNow I have a main method in a Runner class,\r\n\r\n    public class Runnable {\r\n         public static void main(String[] args) \r\n         {\r\n              //Creating object\r\n              B instanceOfB = new B() ;\r\n              //Invoke increment method\r\n              instanceOfB.increment();\r\n         }\r\n     }\r\n\r\nWhile running the main method, I got an OUTPUT : 6\r\n\r\nI am invoking **increment** method using reference variable **instanceOfB**\r\n\r\n    instanceOfB.increment();\r\n\r\n**instanceOfB** is an instance of **Class B**.\r\n\r\nBy invoking this function, we are trying to increase the value stored in **variable x**, but x has reference to a **String Object**.\r\n\r\nIt should either throws compile time reception or run time exception because we are trying to increase a String object, It is not possible but I got **output 6**.\r\n\r\n","title":"Does parent class method use hidden variables","body":"<p>I have a parent class A which has a primitive type property x</p>\n<pre><code>public class A {\n    String type = &quot;A&quot;;\n    int x = 5 ;\n    void increment()\n    {\n        x++ ;\n        System.out.println(x);\n    }\n}\n</code></pre>\n<p>I have a child class B which extends from class A, This child class also has propery x of String type</p>\n<pre><code>public class B extends A {\n     String type = &quot;B&quot; ;\n     String x = &quot;Hello&quot;;\n}\n</code></pre>\n<p>Now, both parent and child class has instance variable x with different type( int and String).</p>\n<p>Parent class A has a method to increase value of X and now the method is available in the child class B ( Class B extends Class A, so all the methods in class A are accessible in class B)</p>\n<p>Now I have a main method in a Runner class,</p>\n<pre><code>public class Runnable {\n     public static void main(String[] args) \n     {\n          //Creating object\n          B instanceOfB = new B() ;\n          //Invoke increment method\n          instanceOfB.increment();\n     }\n }\n</code></pre>\n<p>While running the main method, I got an OUTPUT : 6</p>\n<p>I am invoking <strong>increment</strong> method using reference variable <strong>instanceOfB</strong></p>\n<pre><code>instanceOfB.increment();\n</code></pre>\n<p><strong>instanceOfB</strong> is an instance of <strong>Class B</strong>.</p>\n<p>By invoking this function, we are trying to increase the value stored in <strong>variable x</strong>, but x has reference to a <strong>String Object</strong>.</p>\n<p>It should either throws compile time reception or run time exception because we are trying to increase a String object, It is not possible but I got <strong>output 6</strong>.</p>\n"},{"tags":["java","xml","spring","soap"],"comments":[{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1633616625,"post_id":69482782,"comment_id":122812141,"body_markdown":"Does this answer your question? [How to remove the soap envelope of an xml message in java](https://stackoverflow.com/questions/50936068/how-to-remove-the-soap-envelope-of-an-xml-message-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50936068/how-to-remove-the-soap-envelope-of-an-xml-message-in-java\">How to remove the soap envelope of an xml message in java</a>"},{"owner":{"account_id":278079,"reputation":2070,"user_id":572463,"display_name":"Dario Pedol"},"score":0,"creation_date":1633617302,"post_id":69482782,"comment_id":122812473,"body_markdown":"Hi. Well I didn&#39;t want to use SimpleXMl nor String manipulation. I realize I could just do the regex but it&#39;s not the right way.  SimpleXml will also consume significant CPU and Memory as it parses it into a tree.  I edited the question to show that.","body":"Hi. Well I didn&#39;t want to use SimpleXMl nor String manipulation. I realize I could just do the regex but it&#39;s not the right way.  SimpleXml will also consume significant CPU and Memory as it parses it into a tree.  I edited the question to show that."},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1633623179,"post_id":69482782,"comment_id":122815092,"body_markdown":"What inefficiencies are you talking about ? If you want a valid XML processing tool in the middle, then there&#39;s no way you can avoid some form of XML parsing and then serialization with your current &quot;API&quot; (taking and outputting an InputStream). So you can probably swap DOM with another XML API (e.g. SAX / StAX) and also output directly to bytes avoiding the string buffering, but I would not bet on it being a *huge* game changer (especially if your messages are a few kilo bytes).","body":"What inefficiencies are you talking about ? If you want a valid XML processing tool in the middle, then there&#39;s no way you can avoid some form of XML parsing and then serialization with your current &quot;API&quot; (taking and outputting an InputStream). So you can probably swap DOM with another XML API (e.g. SAX / StAX) and also output directly to bytes avoiding the string buffering, but I would not bet on it being a <i>huge</i> game changer (especially if your messages are a few kilo bytes)."}],"answers":[{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633635386,"creation_date":1633620360,"answer_id":69483789,"question_id":69482782,"body_markdown":"Here&#39;s a solution using XPath to get the element (pure JaxB? not sure). Takes the document as a regular XML document so it should work for any I guess\r\n\r\n    FileInputStream fileIS;\r\n    fileIS = new FileInputStream(System.getProperty(&quot;user.home&quot;) + &quot;/tmp/soap.xml&quot;);\r\n\r\n    DocumentBuilderFactory builderFactory = DocumentBuilderFactory.newInstance();\r\n    DocumentBuilder builder = builderFactory.newDocumentBuilder();\r\n\r\n    Document xmlDocument;\r\n    xmlDocument = builder.parse(fileIS);\r\n\r\n    XPath xPath = XPathFactory.newInstance().newXPath();\r\n    String expression01 = &quot;//*[local-name()=&#39;Body&#39;]&quot;;\r\n    Node currentNode = (Node) xPath.compile(expression01).evaluate(xmlDocument, XPathConstants.NODE);\r\n\r\n    StringWriter buf = new StringWriter();\r\n    Transformer xform = TransformerFactory.newInstance().newTransformer();\r\n    xform.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;); \r\n    xform.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n    xform.transform(new DOMSource(currentNode), new StreamResult(buf));\r\n    System.out.println(buf.toString());\r\n\r\nResult:\r\n\r\n    &lt;soap:Body&gt;\r\n            \r\n        &lt;incident xmlns=&quot;http://example.com&quot;&gt;\r\n                    \r\n            &lt;Company type=&quot;String&quot;&gt;Test&lt;/Company&gt;\r\n                \r\n        &lt;/incident&gt;\r\n        \r\n    &lt;/soap:Body&gt;","title":"Remove SOAP envelope","body":"<p>Here's a solution using XPath to get the element (pure JaxB? not sure). Takes the document as a regular XML document so it should work for any I guess</p>\n<pre><code>FileInputStream fileIS;\nfileIS = new FileInputStream(System.getProperty(&quot;user.home&quot;) + &quot;/tmp/soap.xml&quot;);\n\nDocumentBuilderFactory builderFactory = DocumentBuilderFactory.newInstance();\nDocumentBuilder builder = builderFactory.newDocumentBuilder();\n\nDocument xmlDocument;\nxmlDocument = builder.parse(fileIS);\n\nXPath xPath = XPathFactory.newInstance().newXPath();\nString expression01 = &quot;//*[local-name()='Body']&quot;;\nNode currentNode = (Node) xPath.compile(expression01).evaluate(xmlDocument, XPathConstants.NODE);\n\nStringWriter buf = new StringWriter();\nTransformer xform = TransformerFactory.newInstance().newTransformer();\nxform.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;); \nxform.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\nxform.transform(new DOMSource(currentNode), new StreamResult(buf));\nSystem.out.println(buf.toString());\n</code></pre>\n<p>Result:</p>\n<pre><code>&lt;soap:Body&gt;\n        \n    &lt;incident xmlns=&quot;http://example.com&quot;&gt;\n                \n        &lt;Company type=&quot;String&quot;&gt;Test&lt;/Company&gt;\n            \n    &lt;/incident&gt;\n    \n&lt;/soap:Body&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":278079,"reputation":2070,"user_id":572463,"display_name":"Dario Pedol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633662108,"creation_date":1633662108,"answer_id":69489983,"question_id":69482782,"body_markdown":"I ended up doing it with regex. All other options are too slow:\r\n\r\n    \r\n    private InputStream removeSoapEnvelope(final InputStream inputStream) throws IOException\r\n    {\r\n        final String text = new String(inputStream.readAllBytes(), UTF_8);\r\n        final String replace = text.replaceAll(&quot;\\\\s*&lt;\\\\/?(?:SOAP-ENV|soap):(?:.|\\\\s)*?&gt;&quot;, &quot;&quot;);\r\n        File file = File.createTempFile(&quot;temp&quot;, XML_NS_PREFIX);\r\n        Files.writeString(file.toPath(), replace);\r\n        return new FileInputStream(file);\r\n    }","title":"Remove SOAP envelope","body":"<p>I ended up doing it with regex. All other options are too slow:</p>\n<pre><code>private InputStream removeSoapEnvelope(final InputStream inputStream) throws IOException\n{\n    final String text = new String(inputStream.readAllBytes(), UTF_8);\n    final String replace = text.replaceAll(&quot;\\\\s*&lt;\\\\/?(?:SOAP-ENV|soap):(?:.|\\\\s)*?&gt;&quot;, &quot;&quot;);\n    File file = File.createTempFile(&quot;temp&quot;, XML_NS_PREFIX);\n    Files.writeString(file.toPath(), replace);\n    return new FileInputStream(file);\n}\n</code></pre>\n"}],"owner":{"account_id":278079,"reputation":2070,"user_id":572463,"display_name":"Dario Pedol"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633662108,"creation_date":1633616220,"question_id":69482782,"body_markdown":"I have an InputStream containing a SOAP message, including the envelope. I don&#39;t know the contents of the body beforehand and therefore cannot create a Jaxb annotated class for it.\r\n\r\nI&#39;ve tried many ways, inlcuding a custom SOAPWrapper JaxB Class with XmlAnyElement and other ways. Currently I have this:\r\n\r\n```\r\nprivate InputStream removeSoapEnvelope(final InputStream inputStream) throws IOException, TransformerException\r\n    {\r\n        final SoapBody body = messageFactory.createWebServiceMessage(inputStream)\r\n            .getSoapBody();\r\n        final Transformer transformer = TransformerFactory.newInstance()\r\n            .newTransformer();\r\n        final DOMResult domResult = new DOMResult();\r\n        transformer.transform(body.getPayloadSource(), domResult);\r\n        final StringWriter writer = new StringWriter();\r\n        transformer.transform(new DOMSource(domResult.getNode()), new StreamResult(writer));\r\n        byte[] barray = writer.toString()\r\n            .getBytes(StandardCharsets.UTF_8);\r\n        return new ByteArrayInputStream(barray);\r\n    }\r\n```\r\n\r\nIt seems to work but is horribly inefficient. Is there no short and concise way of achieving this with standard libraries and without regex?\r\n\r\nThanks\r\n\r\n","title":"Remove SOAP envelope","body":"<p>I have an InputStream containing a SOAP message, including the envelope. I don't know the contents of the body beforehand and therefore cannot create a Jaxb annotated class for it.</p>\n<p>I've tried many ways, inlcuding a custom SOAPWrapper JaxB Class with XmlAnyElement and other ways. Currently I have this:</p>\n<pre><code>private InputStream removeSoapEnvelope(final InputStream inputStream) throws IOException, TransformerException\n    {\n        final SoapBody body = messageFactory.createWebServiceMessage(inputStream)\n            .getSoapBody();\n        final Transformer transformer = TransformerFactory.newInstance()\n            .newTransformer();\n        final DOMResult domResult = new DOMResult();\n        transformer.transform(body.getPayloadSource(), domResult);\n        final StringWriter writer = new StringWriter();\n        transformer.transform(new DOMSource(domResult.getNode()), new StreamResult(writer));\n        byte[] barray = writer.toString()\n            .getBytes(StandardCharsets.UTF_8);\n        return new ByteArrayInputStream(barray);\n    }\n</code></pre>\n<p>It seems to work but is horribly inefficient. Is there no short and concise way of achieving this with standard libraries and without regex?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","vps"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1633663161,"post_id":69489980,"comment_id":122825142,"body_markdown":"Relevant reading: https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi also the problem you got after fixing the version mismatch is probably better asked as a new question, but it sounds like Java 8 is not configured properly on the system. What happens when you use `java -version` in the SSH console after removing Java 7? Does it correctly recognise `java` as a valid command?","body":"Relevant reading: <a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\" title=\"how to fix java lang unsupportedclassversionerror unsupported major minor versi\">stackoverflow.com/questions/10382929/&hellip;</a> also the problem you got after fixing the version mismatch is probably better asked as a new question, but it sounds like Java 8 is not configured properly on the system. What happens when you use <code>java -version</code> in the SSH console after removing Java 7? Does it correctly recognise <code>java</code> as a valid command?"},{"owner":{"account_id":22876690,"reputation":133,"user_id":17018918,"display_name":"Learner"},"score":0,"creation_date":1633665263,"post_id":69489980,"comment_id":122825452,"body_markdown":"I checked it and what I get is:    -bash: java: command not found     . I re-installed java 7 in vps server and when I check the java version I get: java version &quot;1.7.0_80&quot;\nJava(TM) SE Runtime Environment (build 1.7.0_80-b15)\nJava HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode)","body":"I checked it and what I get is:    -bash: java: command not found     . I re-installed java 7 in vps server and when I check the java version I get: java version &quot;1.7.0_80&quot; Java(TM) SE Runtime Environment (build 1.7.0_80-b15) Java HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode)"},{"owner":{"account_id":22876690,"reputation":133,"user_id":17018918,"display_name":"Learner"},"score":0,"creation_date":1633665305,"post_id":69489980,"comment_id":122825457,"body_markdown":"It looks like even though the VPS server indicates that java 8 is installed it is not recognized in ssh terminal.","body":"It looks like even though the VPS server indicates that java 8 is installed it is not recognized in ssh terminal."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1633665515,"post_id":69489980,"comment_id":122825492,"body_markdown":"Excellent, that is an easy problem to solve. You can run the application using the full path to the java 8 directory, or you need to make the VPS aware of where java 8 is located (adding it to the class path). This will vary by the system, but there is plenty of information online about how to do this.","body":"Excellent, that is an easy problem to solve. You can run the application using the full path to the java 8 directory, or you need to make the VPS aware of where java 8 is located (adding it to the class path). This will vary by the system, but there is plenty of information online about how to do this."},{"owner":{"account_id":22876690,"reputation":133,"user_id":17018918,"display_name":"Learner"},"score":0,"creation_date":1633751669,"post_id":69489980,"comment_id":122849809,"body_markdown":"I was able to install java 8 successfully in the vps server and also set java version 8 in my POM file and in the build path I added the correct JRE for java 8 and I no longer get this error message. It worked.","body":"I was able to install java 8 successfully in the vps server and also set java version 8 in my POM file and in the build path I added the correct JRE for java 8 and I no longer get this error message. It worked."}],"owner":{"account_id":22876690,"reputation":133,"user_id":17018918,"display_name":"Learner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633662073,"creation_date":1633662073,"question_id":69489980,"body_markdown":"I have a spring boot REST API jar file which works perfectly fine when I run it in my local machine using eclipse IDE, however when I upload the jar file to my VPS server I get the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/boot/loader/JarLauncher : Unsupported major.minor version 52.0\r\n    at java.lang.ClassLoader.defineClass1(Native Method)\r\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:800)\r\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\r\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\r\n\r\n\r\nI changed the java version in my POM file from version 11 to java 8:\r\n\r\n    &lt;properties&gt;\r\n    \t&lt;java.version&gt;8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nIn the VPS server I could see that the available java versions are: java 7 (Version : 7u80) and java 8 (Version : 8u92 - 1.8.0_92-b14), however my JRE version is jre 1.8.0_201.\r\n\r\nIf I keep java 7 in the VPS server I get the exception mentioned above and if I remove java 7 from the VPS server, then I get the following error when trying to run the jar file from ssh using Putty:\r\n\r\n\r\n[root@vps public_html]# java -jar SpringBootProject-0.0.1-SNAPSHOT.jar\r\n-bash: java: command not found\r\n[root@vps public_html]#\r\n\r\nHow do I fix this?\r\n\r\n","title":"How to fix Unsupported major.minor version 52.0 Exception?","body":"<p>I have a spring boot REST API jar file which works perfectly fine when I run it in my local machine using eclipse IDE, however when I upload the jar file to my VPS server I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/boot/loader/JarLauncher : Unsupported major.minor version 52.0\nat java.lang.ClassLoader.defineClass1(Native Method)\nat java.lang.ClassLoader.defineClass(ClassLoader.java:800)\nat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\nat java.net.URLClassLoader.defineClass(URLClassLoader.java:449)\nat java.net.URLClassLoader.access$100(URLClassLoader.java:71)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:425)\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:358)\nat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\n</code></pre>\n<p>I changed the java version in my POM file from version 11 to java 8:</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;8&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>In the VPS server I could see that the available java versions are: java 7 (Version : 7u80) and java 8 (Version : 8u92 - 1.8.0_92-b14), however my JRE version is jre 1.8.0_201.</p>\n<p>If I keep java 7 in the VPS server I get the exception mentioned above and if I remove java 7 from the VPS server, then I get the following error when trying to run the jar file from ssh using Putty:</p>\n<p>[root@vps public_html]# java -jar SpringBootProject-0.0.1-SNAPSHOT.jar\n-bash: java: command not found\n[root@vps public_html]#</p>\n<p>How do I fix this?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1630585341,"post_id":69030194,"comment_id":122000603,"body_markdown":"How do you define what a word is?","body":"How do you define what a word is?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1630585369,"post_id":69030194,"comment_id":122000615,"body_markdown":"transform it into an array of strings, by using split, and rebuild the string, by just leaving the second out","body":"transform it into an array of strings, by using split, and rebuild the string, by just leaving the second out"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630592300,"creation_date":1630585667,"answer_id":69030298,"question_id":69030194,"body_markdown":"Use [`String::replaceFirst`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replaceFirst(java.lang.String,java.lang.String))\r\n```java\r\nSystem.out.println(&quot;Car honda3454 is unknown in the system&quot;.replaceFirst(&quot;(\\\\w+\\\\s+)(\\\\w+\\\\s*)&quot;, &quot;$1&quot;));      \r\n```\r\nor [`String::replaceAll`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)) with an anchor `^` to the beginning of the input string:\r\n```java\r\nSystem.out.println(&quot;Car honda3454 is unknown in the system&quot;.replaceAll(&quot;^(\\\\w+\\\\s+)(\\\\w+\\\\s*)&quot;, &quot;$1&quot;));      \r\n```\r\n\r\n\r\nOutput:\r\n```\r\nCar is unknown in the system\r\nCar is unknown in the system\r\n```\r\n----\r\n**Update**&lt;br/&gt;\r\nTo remove the words _after_ the word `&quot;car&quot;` written in any case in any place of the input string, the following regular expression may be used with `String::replaceAll`:\r\n`str.replaceAll(&quot;(?i)(car\\\\W+)(\\\\w+\\\\W*)&quot;, &quot;$1&quot;)`\r\nhere:\r\n* `(?i)`: ignores case so that `car`, `Car`, `CAR` should be handled as is\r\n* `(car\\\\W+)(\\\\w+\\\\W*)` - similar as before: find a sequence of two words where the first one is `car` followed by any word containing at least one letter or digit due to `\\w` character class.\r\n* `&quot;$1&quot;` - the replacement string is the first matched word of the two.\r\n\r\nSo the following test using an array produces relevant output:\r\n```java\r\nString[] strs = {\r\n    &quot;Car honda3454 is unknown in the system&quot;,\r\n    &quot;CAR BMW4545 is unknown in the system&quot;,\r\n    &quot;New Car Audi9898 is unknown in the system&quot;,\r\n    &quot;Very old car mitsubishi4099 is unknown in the system&quot;\r\n};\r\n\r\nfor (String s : strs) {\r\n    // a new string is created and printed, the value in the array remains unchanged\r\n    System.out.println(s.replaceAll(&quot;(?i)(car\\\\W+)(\\\\w+\\\\W*)&quot;, &quot;$1&quot;));\r\n}\r\n```\r\nOutput:\r\n```\r\nCar is unknown in the system\r\nCAR is unknown in the system\r\nNew Car is unknown in the system\r\nVery old car is unknown in the system\r\n```\r\n","title":"How to remove last-sixth word from the java string","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replaceFirst(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>String::replaceFirst</code></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Car honda3454 is unknown in the system&quot;.replaceFirst(&quot;(\\\\w+\\\\s+)(\\\\w+\\\\s*)&quot;, &quot;$1&quot;));      \n</code></pre>\n<p>or <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>String::replaceAll</code></a> with an anchor <code>^</code> to the beginning of the input string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Car honda3454 is unknown in the system&quot;.replaceAll(&quot;^(\\\\w+\\\\s+)(\\\\w+\\\\s*)&quot;, &quot;$1&quot;));      \n</code></pre>\n<p>Output:</p>\n<pre><code>Car is unknown in the system\nCar is unknown in the system\n</code></pre>\n<hr />\n<p><strong>Update</strong><br/>\nTo remove the words <em>after</em> the word <code>&quot;car&quot;</code> written in any case in any place of the input string, the following regular expression may be used with <code>String::replaceAll</code>:\n<code>str.replaceAll(&quot;(?i)(car\\\\W+)(\\\\w+\\\\W*)&quot;, &quot;$1&quot;)</code>\nhere:</p>\n<ul>\n<li><code>(?i)</code>: ignores case so that <code>car</code>, <code>Car</code>, <code>CAR</code> should be handled as is</li>\n<li><code>(car\\\\W+)(\\\\w+\\\\W*)</code> - similar as before: find a sequence of two words where the first one is <code>car</code> followed by any word containing at least one letter or digit due to <code>\\w</code> character class.</li>\n<li><code>&quot;$1&quot;</code> - the replacement string is the first matched word of the two.</li>\n</ul>\n<p>So the following test using an array produces relevant output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] strs = {\n    &quot;Car honda3454 is unknown in the system&quot;,\n    &quot;CAR BMW4545 is unknown in the system&quot;,\n    &quot;New Car Audi9898 is unknown in the system&quot;,\n    &quot;Very old car mitsubishi4099 is unknown in the system&quot;\n};\n\nfor (String s : strs) {\n    // a new string is created and printed, the value in the array remains unchanged\n    System.out.println(s.replaceAll(&quot;(?i)(car\\\\W+)(\\\\w+\\\\W*)&quot;, &quot;$1&quot;));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Car is unknown in the system\nCAR is unknown in the system\nNew Car is unknown in the system\nVery old car is unknown in the system\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14452647,"reputation":89,"user_id":10439676,"display_name":"dkotenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630586000,"creation_date":1630586000,"answer_id":69030382,"question_id":69030194,"body_markdown":"Easy and undestandable way for beginners:\r\n\r\n    public class Main {\r\n    public static void main() {\r\n        String input = &quot;Car honda3454 is unknown in the system&quot;;\r\n        String carName = input.split(&quot; &quot;)[1]; //get the second word\r\n        String output = input.replace(carName, &quot;&quot;).replace(&quot;  &quot;, &quot; &quot;); //delete the second word by replacing, delete double spaces\r\n\r\n        System.out.println(output);\r\n    }\r\n}","title":"How to remove last-sixth word from the java string","body":"<p>Easy and undestandable way for beginners:</p>\n<pre><code>public class Main {\npublic static void main() {\n    String input = &quot;Car honda3454 is unknown in the system&quot;;\n    String carName = input.split(&quot; &quot;)[1]; //get the second word\n    String output = input.replace(carName, &quot;&quot;).replace(&quot;  &quot;, &quot; &quot;); //delete the second word by replacing, delete double spaces\n\n    System.out.println(output);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":10686405,"reputation":170,"user_id":7866838,"display_name":"Rajesh Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630586805,"creation_date":1630586805,"answer_id":69030581,"question_id":69030194,"body_markdown":"You can try with \r\n```\r\nString str = &quot;Car honda3454 is unknown in the system&quot;;\r\nString [] words = str.split(&quot; &quot;, 3);\r\nfor (String word : words)\r\nSystem.out.println(word);\r\n\r\n\r\n\r\nOutput\r\n--------------------\r\nCar is unknown in the system\r\n```","title":"How to remove last-sixth word from the java string","body":"<p>You can try with</p>\n<pre><code>String str = &quot;Car honda3454 is unknown in the system&quot;;\nString [] words = str.split(&quot; &quot;, 3);\nfor (String word : words)\nSystem.out.println(word);\n\n\n\nOutput\n--------------------\nCar is unknown in the system\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12323896,"reputation":445,"user_id":10642266,"display_name":"Edu M&#252;ller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633660929,"creation_date":1630595982,"answer_id":69033039,"question_id":69030194,"body_markdown":"There are several strange examples in the other answers, laborious or that stick to a specific word in the sentence in order to find the one you want. If you want a more dynamic alternative, you can use regex and replace.\r\n\r\nThe simplest I can imagine is using replace with the `([^\\s]+)(?=(\\s[^\\s]+){5}$)` regex. Try:\r\n```\r\nString str1 = &quot;Car honda3454 is unknown in the system&quot;;\r\nString str2 = &quot;Car BMW4545 is unknown in the system&quot;;\r\nString str3 = &quot;New Car Audi9898 is unknown in the system&quot;;\r\nString str4 = &quot;Very old car mitsubishi4099 is unknown in the system&quot;;\r\n\r\nSystem.out.println(str1.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\r\nSystem.out.println(str2.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\r\nSystem.out.println(str3.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\r\nSystem.out.println(str4.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\r\n```\r\n\r\n**(Edit)**  \r\nIf you also want to remove the space character, so as not to have an extra blank character, use `\\S+\\s+(?=(\\S+\\s+){4}\\S+\\s*$)`. (@s19 pointed out this case in his answer, but the solution proposed by him does not meet all scenarios, as in the additional I included below)\r\n\r\n```\r\nString str1 = &quot;Car honda3454 is unknown in the system&quot;;\r\nString str2 = &quot;Car BMW4545 is unknown in the system&quot;;\r\nString str3 = &quot;New Car Audi9898 is unknown in the system&quot;;\r\nString str4 = &quot;Very old car mitsubishi4099 is unknown in the system&quot;;\r\nString strAdditional = &quot;mitsubishi4099 is unknown in the system&quot;;\r\n\t\t\r\nString regex = &quot;\\\\S+\\\\s+(?=(\\\\S+\\\\s+){4}\\\\S+\\\\s*$)&quot;;\r\n\t\t\r\nSystem.out.println(str1.replaceFirst(regex, &quot;&quot;));\r\nSystem.out.println(str2.replaceFirst(regex, &quot;&quot;));\r\nSystem.out.println(str3.replaceFirst(regex, &quot;&quot;));\r\nSystem.out.println(str4.replaceFirst(regex, &quot;&quot;));\r\nSystem.out.println(strAdditional.replaceFirst(regex, &quot;&quot;));\r\n```\r\n\r\n## Explanation:\r\n\r\nI will use the `\\S+\\s+(?=(\\S+\\s+){4}\\S+\\s*$)` regex as an example. It is divided into two parts:\r\n- The *Match* `\\S+\\s+`, which represents the content you are trying to capture.\r\n- The *Positive Lookahead* `(?=(\\S+\\s+){4}\\S+\\s*$)`, which represents a rule that needs to be met, but will not select characters.\r\n\r\n**Detailing the first part we have: `\\S+\\s+`**\r\n\r\n- `\\S` selecting any character that does not represent a white space (can be numbers, letters, symbols, etc).\r\n- `+`, which is linked to the previous selector, defining that it will have to appear at least once, and can be repeated infinite times. This guarantees a string of characters.\r\n- `\\s` selects any character that represents a white space (can be tabs, line breaks, white space, etc).\r\n- `+` has the same function as above, but this time allows for multiple whitespace.\r\n\r\nHence, `\\S+` selects any character representing a sequence of characters until it is interrupted by one (or a sequence of) whitespace `\\s+`.\r\n\r\n**Detailing the second part: `(?=(\\S+\\s+){4}\\S+\\s*$)`**\r\n\r\n- `(?=)` encompasses all this part and is called Positive Lookahead. It indicates that the set of rules contained here needs to be met, but that this text will not be selected.\r\n- `(\\S+\\s+){4}` again indicates a string that can represent a word until it is interrupted by whitespace. The difference is that this time it is contained within a group delimited by `()`, and that group must be repeated 4 times `{4}`, which means 4 words.\r\n- `\\S+\\s*` is almost the same as the first part, with the difference that this is the last word, and it may or may not contain any whitespace characters after it. The `*` after `\\s` means that any number of blank characters can be met by the rule, even if there are none.\r\n- `$` is an anchor representing the end of the text. It indicates that this rule must be, in some ways, analyzed from the end to the beginning of the text.\r\n\r\nHence, `$` indicates that it should be counted from the end; `\\S+\\s*` counts the last word, which may or may not contain whitespace after it; `(\\S+\\s+){4}` counts four words before the last; and everything is encompassed by `(?=)`, which forces you to comply with these rules but which does not select the text that matches them.\r\n\r\n----------\r\nHere is an online example explaining how the regex works: https://regex101.com/r/Lvzog2/1","title":"How to remove last-sixth word from the java string","body":"<p>There are several strange examples in the other answers, laborious or that stick to a specific word in the sentence in order to find the one you want. If you want a more dynamic alternative, you can use regex and replace.</p>\n<p>The simplest I can imagine is using replace with the <code>([^\\s]+)(?=(\\s[^\\s]+){5}$)</code> regex. Try:</p>\n<pre><code>String str1 = &quot;Car honda3454 is unknown in the system&quot;;\nString str2 = &quot;Car BMW4545 is unknown in the system&quot;;\nString str3 = &quot;New Car Audi9898 is unknown in the system&quot;;\nString str4 = &quot;Very old car mitsubishi4099 is unknown in the system&quot;;\n\nSystem.out.println(str1.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\nSystem.out.println(str2.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\nSystem.out.println(str3.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\nSystem.out.println(str4.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\n</code></pre>\n<p><strong>(Edit)</strong><br />\nIf you also want to remove the space character, so as not to have an extra blank character, use <code>\\S+\\s+(?=(\\S+\\s+){4}\\S+\\s*$)</code>. (@s19 pointed out this case in his answer, but the solution proposed by him does not meet all scenarios, as in the additional I included below)</p>\n<pre><code>String str1 = &quot;Car honda3454 is unknown in the system&quot;;\nString str2 = &quot;Car BMW4545 is unknown in the system&quot;;\nString str3 = &quot;New Car Audi9898 is unknown in the system&quot;;\nString str4 = &quot;Very old car mitsubishi4099 is unknown in the system&quot;;\nString strAdditional = &quot;mitsubishi4099 is unknown in the system&quot;;\n        \nString regex = &quot;\\\\S+\\\\s+(?=(\\\\S+\\\\s+){4}\\\\S+\\\\s*$)&quot;;\n        \nSystem.out.println(str1.replaceFirst(regex, &quot;&quot;));\nSystem.out.println(str2.replaceFirst(regex, &quot;&quot;));\nSystem.out.println(str3.replaceFirst(regex, &quot;&quot;));\nSystem.out.println(str4.replaceFirst(regex, &quot;&quot;));\nSystem.out.println(strAdditional.replaceFirst(regex, &quot;&quot;));\n</code></pre>\n<h2>Explanation:</h2>\n<p>I will use the <code>\\S+\\s+(?=(\\S+\\s+){4}\\S+\\s*$)</code> regex as an example. It is divided into two parts:</p>\n<ul>\n<li>The <em>Match</em> <code>\\S+\\s+</code>, which represents the content you are trying to capture.</li>\n<li>The <em>Positive Lookahead</em> <code>(?=(\\S+\\s+){4}\\S+\\s*$)</code>, which represents a rule that needs to be met, but will not select characters.</li>\n</ul>\n<p><strong>Detailing the first part we have: <code>\\S+\\s+</code></strong></p>\n<ul>\n<li><code>\\S</code> selecting any character that does not represent a white space (can be numbers, letters, symbols, etc).</li>\n<li><code>+</code>, which is linked to the previous selector, defining that it will have to appear at least once, and can be repeated infinite times. This guarantees a string of characters.</li>\n<li><code>\\s</code> selects any character that represents a white space (can be tabs, line breaks, white space, etc).</li>\n<li><code>+</code> has the same function as above, but this time allows for multiple whitespace.</li>\n</ul>\n<p>Hence, <code>\\S+</code> selects any character representing a sequence of characters until it is interrupted by one (or a sequence of) whitespace <code>\\s+</code>.</p>\n<p><strong>Detailing the second part: <code>(?=(\\S+\\s+){4}\\S+\\s*$)</code></strong></p>\n<ul>\n<li><code>(?=)</code> encompasses all this part and is called Positive Lookahead. It indicates that the set of rules contained here needs to be met, but that this text will not be selected.</li>\n<li><code>(\\S+\\s+){4}</code> again indicates a string that can represent a word until it is interrupted by whitespace. The difference is that this time it is contained within a group delimited by <code>()</code>, and that group must be repeated 4 times <code>{4}</code>, which means 4 words.</li>\n<li><code>\\S+\\s*</code> is almost the same as the first part, with the difference that this is the last word, and it may or may not contain any whitespace characters after it. The <code>*</code> after <code>\\s</code> means that any number of blank characters can be met by the rule, even if there are none.</li>\n<li><code>$</code> is an anchor representing the end of the text. It indicates that this rule must be, in some ways, analyzed from the end to the beginning of the text.</li>\n</ul>\n<p>Hence, <code>$</code> indicates that it should be counted from the end; <code>\\S+\\s*</code> counts the last word, which may or may not contain whitespace after it; <code>(\\S+\\s+){4}</code> counts four words before the last; and everything is encompassed by <code>(?=)</code>, which forces you to comply with these rules but which does not select the text that matches them.</p>\n<hr />\n<p>Here is an online example explaining how the regex works: <a href=\"https://regex101.com/r/Lvzog2/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/Lvzog2/1</a></p>\n"},{"tags":[],"owner":{"account_id":22638359,"reputation":86,"user_id":16814873,"display_name":"s19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630599186,"creation_date":1630597607,"answer_id":69033423,"question_id":69030194,"body_markdown":"Edu Muller&#39;s answer is close but it results in an additional whitespace in place of the removed word as shown below:\r\n\r\n&lt;p&gt;Car&amp;nbsp &amp;nbspis unknown in the system&lt;br&gt;\r\nCar&amp;nbsp &amp;nbspis unknown in the system&lt;br&gt;\r\nNew Car&amp;nbsp &amp;nbspis unknown in the system&lt;br&gt;\r\nVery old car&amp;nbsp &amp;nbspis unknown in the system&lt;br&gt;&lt;/p&gt;\r\n\r\nThe below code resolves this issue. \r\n\r\n    static String removeLastSixth(String input) {\r\n    return input.replaceFirst(&quot;(\\\\s)([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;);\r\n    }\r\n    public static void main(String[] args) {\r\n        String str1 = &quot;Car honda3454 is unknown in the system&quot;;\r\n        String str2 = &quot;Car BMW4545 is unknown in the system&quot;;\r\n        String str3 = &quot;New Car Audi9898 is unknown in the system&quot;;\r\n        String str4 = &quot;Very old car mitsubishi4099 is unknown in the system&quot;;\r\n        System.out.println(removeLastSixth(str1));     \r\n        System.out.println(removeLastSixth(str2));      \r\n        System.out.println(removeLastSixth(str3));      \r\n        System.out.println(removeLastSixth(str4));      \r\n\r\n    }     \r\n\r\nOutput\r\n---------------------------------------\r\nCar is unknown in the system&lt;br&gt;\r\nCar is unknown in the system&lt;br&gt;\r\nNew Car is unknown in the system&lt;br&gt;\r\nVery old car is unknown in the system&lt;br&gt;\r\n\r\n------------------------------------------\r\n\r\nThe above solution removes sixth word from the last. But if you want to remove the word following the word &#39;car&#39; irrespective of it&#39;s position, use the below function. \r\n\r\n    static String removeWordFollowingCar(String input) {\r\n        return input.replaceFirst(&quot;(?i)(Car\\\\s+)(\\\\w+\\\\s)&quot;, &quot;$1&quot;);\r\n    }\r\n      public static void main(String[] args) {\r\n        String str1 = &quot;The Car honda3454 is unknown in the system&quot;;\r\n        String str2 = &quot;Hi, the Car BMW4545 is unknown in the system&quot;;\r\n        String str3 = &quot;Hey, unfortunately the New Car Audi9898 is unknown in the system&quot;;\r\n        String str4 = &quot;Hello, this Very old car mitsubishi4099 is unknown in the system&quot;;\r\n        System.out.println(removeWordFollowingCar(str1));     \r\n        System.out.println(removeWordFollowingCar(str2));      \r\n        System.out.println(removeWordFollowingCar(str3));      \r\n        System.out.println(removeWordFollowingCar(str4));      \r\n\r\n    }\r\n  \r\nOutput\r\n------------------------\r\nThe Car is unknown in the system&lt;br&gt;\r\nHi, the Car is unknown in the system&lt;br&gt;\r\nHey, unfortunately the New Car is unknown in the system&lt;br&gt;\r\nHello, this Very old car is unknown in the system&lt;br&gt;\r\n\r\n","title":"How to remove last-sixth word from the java string","body":"<p>Edu Muller's answer is close but it results in an additional whitespace in place of the removed word as shown below:</p>\n<p>Car&nbsp &nbspis unknown in the system<br>\nCar&nbsp &nbspis unknown in the system<br>\nNew Car&nbsp &nbspis unknown in the system<br>\nVery old car&nbsp &nbspis unknown in the system<br></p>\n<p>The below code resolves this issue.</p>\n<pre><code>static String removeLastSixth(String input) {\nreturn input.replaceFirst(&quot;(\\\\s)([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;);\n}\npublic static void main(String[] args) {\n    String str1 = &quot;Car honda3454 is unknown in the system&quot;;\n    String str2 = &quot;Car BMW4545 is unknown in the system&quot;;\n    String str3 = &quot;New Car Audi9898 is unknown in the system&quot;;\n    String str4 = &quot;Very old car mitsubishi4099 is unknown in the system&quot;;\n    System.out.println(removeLastSixth(str1));     \n    System.out.println(removeLastSixth(str2));      \n    System.out.println(removeLastSixth(str3));      \n    System.out.println(removeLastSixth(str4));      \n\n}     \n</code></pre>\n<h2>Output</h2>\n<p>Car is unknown in the system<br>\nCar is unknown in the system<br>\nNew Car is unknown in the system<br>\nVery old car is unknown in the system<br></p>\n<hr />\n<p>The above solution removes sixth word from the last. But if you want to remove the word following the word 'car' irrespective of it's position, use the below function.</p>\n<pre><code>static String removeWordFollowingCar(String input) {\n    return input.replaceFirst(&quot;(?i)(Car\\\\s+)(\\\\w+\\\\s)&quot;, &quot;$1&quot;);\n}\n  public static void main(String[] args) {\n    String str1 = &quot;The Car honda3454 is unknown in the system&quot;;\n    String str2 = &quot;Hi, the Car BMW4545 is unknown in the system&quot;;\n    String str3 = &quot;Hey, unfortunately the New Car Audi9898 is unknown in the system&quot;;\n    String str4 = &quot;Hello, this Very old car mitsubishi4099 is unknown in the system&quot;;\n    System.out.println(removeWordFollowingCar(str1));     \n    System.out.println(removeWordFollowingCar(str2));      \n    System.out.println(removeWordFollowingCar(str3));      \n    System.out.println(removeWordFollowingCar(str4));      \n\n}\n</code></pre>\n<h2>Output</h2>\n<p>The Car is unknown in the system<br>\nHi, the Car is unknown in the system<br>\nHey, unfortunately the New Car is unknown in the system<br>\nHello, this Very old car is unknown in the system<br></p>\n"}],"owner":{"account_id":8328231,"reputation":429,"user_id":6257625,"accept_rate":40,"display_name":"Sandra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":5,"score":1,"last_activity_date":1633660929,"creation_date":1630585301,"question_id":69030194,"body_markdown":"I have few string that something looks like:\r\n\r\n    String str1 = &quot;Car honda3454 is unknown in the system&quot;;\r\n    \r\n    String str2 = &quot;Car BMW4545 is unknown in the system&quot;;\r\n    \r\n    String str3 = &quot;New Car Audi9898 is unknown in the system&quot;;\r\n    \r\n    String str4 = &quot;Very old car mitsubishi4099 is unknown in the system&quot;;\r\n\r\nNow I want to remove the last-sixth word out of all of the above strings so that my result string should be:\r\n\r\n    Car is unknown in the system\r\n    Car is unknown in the system\r\n    New Car is unknown in the system\r\n    Very old car is unknown in the system\r\n\r\nI just want to remove the carXXXX from the string. Is there a one line or elegant solution ?","title":"How to remove last-sixth word from the java string","body":"<p>I have few string that something looks like:</p>\n<pre><code>String str1 = &quot;Car honda3454 is unknown in the system&quot;;\n\nString str2 = &quot;Car BMW4545 is unknown in the system&quot;;\n\nString str3 = &quot;New Car Audi9898 is unknown in the system&quot;;\n\nString str4 = &quot;Very old car mitsubishi4099 is unknown in the system&quot;;\n</code></pre>\n<p>Now I want to remove the last-sixth word out of all of the above strings so that my result string should be:</p>\n<pre><code>Car is unknown in the system\nCar is unknown in the system\nNew Car is unknown in the system\nVery old car is unknown in the system\n</code></pre>\n<p>I just want to remove the carXXXX from the string. Is there a one line or elegant solution ?</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1630588682,"post_id":69031009,"comment_id":122002267,"body_markdown":"Doesn&#39;t need further clarity.  I think the community got this close wrong.","body":"Doesn&#39;t need further clarity.  I think the community got this close wrong."},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1630591522,"post_id":69031009,"comment_id":122003741,"body_markdown":"Also, this is an exact copy of your previous question, posted 10 minutes apart, with the only difference being one tag. Please edit existing questions to make changes like that instead of posting duplicates.","body":"Also, this is an exact copy of your previous question, posted 10 minutes apart, with the only difference being one tag. Please edit existing questions to make changes like that instead of posting duplicates."},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1630591532,"post_id":69031009,"comment_id":122003748,"body_markdown":"Does this answer your question? [How to remove last-sixth word from the java string](https://stackoverflow.com/questions/69030194/how-to-remove-last-sixth-word-from-the-java-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69030194/how-to-remove-last-sixth-word-from-the-java-string\">How to remove last-sixth word from the java string</a>"},{"owner":{"account_id":8818198,"reputation":1021,"user_id":6588943,"display_name":"Melvin"},"score":0,"creation_date":1630591550,"post_id":69031009,"comment_id":122003761,"body_markdown":"She wants obviously to remove the 6th word counted from the end of the sentence.","body":"She wants obviously to remove the 6th word counted from the end of the sentence."},{"owner":{"account_id":8818198,"reputation":1021,"user_id":6588943,"display_name":"Melvin"},"score":0,"creation_date":1630705501,"post_id":69031009,"comment_id":122038526,"body_markdown":"@user16320675 Yeah and it is the 6th word from the end in your examples.","body":"@user16320675 Yeah and it is the 6th word from the end in your examples."}],"answers":[{"tags":[],"owner":{"account_id":12323896,"reputation":445,"user_id":10642266,"display_name":"Edu M&#252;ller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633660891,"creation_date":1630595757,"answer_id":69032982,"question_id":69031009,"body_markdown":"The simplest I can imagine is using replace with the `([^\\s]+)(?=(\\s[^\\s]+){5}$)` regex. Try:\r\n```\r\nString str1 = &quot;Car honda3454 is unknown in the system&quot;;\r\nString str2 = &quot;Car BMW4545 is unknown in the system&quot;;\r\nString str3 = &quot;New Car Audi9898 is unknown in the system&quot;;\r\nString str4 = &quot;Very old car mitsubishi4099 is unknown in the system&quot;;\r\n\r\nSystem.out.println(str1.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\r\nSystem.out.println(str2.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\r\nSystem.out.println(str3.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\r\nSystem.out.println(str4.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\r\n```\r\n\r\n**(Edit)**  \r\nIf you also want to remove the space character, so as not to have an extra blank character, use `\\S+\\s+(?=(\\S+\\s+){4}\\S+\\s*$)`.\r\n\r\n```\r\nString str1 = &quot;Car honda3454 is unknown in the system&quot;;\r\nString str2 = &quot;Car BMW4545 is unknown in the system&quot;;\r\nString str3 = &quot;New Car Audi9898 is unknown in the system&quot;;\r\nString str4 = &quot;Very old car mitsubishi4099 is unknown in the system&quot;;\r\nString strAdditional = &quot;mitsubishi4099 is unknown in the system&quot;;\r\n\t\t\r\nString regex = &quot;\\\\S+\\\\s+(?=(\\\\S+\\\\s+){4}\\\\S+\\\\s*$)&quot;;\r\n\t\t\r\nSystem.out.println(str1.replaceFirst(regex, &quot;&quot;));\r\nSystem.out.println(str2.replaceFirst(regex, &quot;&quot;));\r\nSystem.out.println(str3.replaceFirst(regex, &quot;&quot;));\r\nSystem.out.println(str4.replaceFirst(regex, &quot;&quot;));\r\nSystem.out.println(strAdditional.replaceFirst(regex, &quot;&quot;));\r\n```\r\n\r\n## Explanation:\r\n\r\nI will use the `\\S+\\s+(?=(\\S+\\s+){4}\\S+\\s*$)` regex as an example. It is divided into two parts:\r\n- The *Match* `\\S+\\s+`, which represents the content you are trying to capture.\r\n- The *Positive Lookahead* `(?=(\\S+\\s+){4}\\S+\\s*$)`, which represents a rule that needs to be met, but will not select characters.\r\n\r\n**Detailing the first part we have: `\\S+\\s+`**\r\n\r\n- `\\S` selecting any character that does not represent a white space (can be numbers, letters, symbols, etc).\r\n- `+`, which is linked to the previous selector, defining that it will have to appear at least once, and can be repeated infinite times. This guarantees a string of characters.\r\n- `\\s` selects any character that represents a white space (can be tabs, line breaks, white space, etc).\r\n- `+` has the same function as above, but this time allows for multiple whitespace.\r\n\r\nHence, `\\S+` selects any character representing a sequence of characters until it is interrupted by one (or a sequence of) whitespace `\\s+`.\r\n\r\n**Detailing the second part: `(?=(\\S+\\s+){4}\\S+\\s*$)`**\r\n\r\n- `(?=)` encompasses all this part and is called Positive Lookahead. It indicates that the set of rules contained here needs to be met, but that this text will not be selected.\r\n- `(\\S+\\s+){4}` again indicates a string that can represent a word until it is interrupted by whitespace. The difference is that this time it is contained within a group delimited by `()`, and that group must be repeated 4 times `{4}`, which means 4 words.\r\n- `\\S+\\s*` is almost the same as the first part, with the difference that this is the last word, and it may or may not contain any whitespace characters after it. The `*` after `\\s` means that any number of blank characters can be met by the rule, even if there are none.\r\n- `$` is an anchor representing the end of the text. It indicates that this rule must be, in some ways, analyzed from the end to the beginning of the text.\r\n\r\nHence, `$` indicates that it should be counted from the end; `\\S+\\s*` counts the last word, which may or may not contain whitespace after it; `(\\S+\\s+){4}` counts four words before the last; and everything is encompassed by `(?=)`, which forces you to comply with these rules but which does not select the text that matches them.\r\n\r\n----------\r\nHere is an online example explaining how the regex works: https://regex101.com/r/Lvzog2/1","title":"How to remove the last-sixth word from sentence","body":"<p>The simplest I can imagine is using replace with the <code>([^\\s]+)(?=(\\s[^\\s]+){5}$)</code> regex. Try:</p>\n<pre><code>String str1 = &quot;Car honda3454 is unknown in the system&quot;;\nString str2 = &quot;Car BMW4545 is unknown in the system&quot;;\nString str3 = &quot;New Car Audi9898 is unknown in the system&quot;;\nString str4 = &quot;Very old car mitsubishi4099 is unknown in the system&quot;;\n\nSystem.out.println(str1.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\nSystem.out.println(str2.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\nSystem.out.println(str3.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\nSystem.out.println(str4.replaceFirst(&quot;([^\\\\s]+)(?=(\\\\s[^\\\\s]+){5}$)&quot;, &quot;&quot;));\n</code></pre>\n<p><strong>(Edit)</strong><br />\nIf you also want to remove the space character, so as not to have an extra blank character, use <code>\\S+\\s+(?=(\\S+\\s+){4}\\S+\\s*$)</code>.</p>\n<pre><code>String str1 = &quot;Car honda3454 is unknown in the system&quot;;\nString str2 = &quot;Car BMW4545 is unknown in the system&quot;;\nString str3 = &quot;New Car Audi9898 is unknown in the system&quot;;\nString str4 = &quot;Very old car mitsubishi4099 is unknown in the system&quot;;\nString strAdditional = &quot;mitsubishi4099 is unknown in the system&quot;;\n        \nString regex = &quot;\\\\S+\\\\s+(?=(\\\\S+\\\\s+){4}\\\\S+\\\\s*$)&quot;;\n        \nSystem.out.println(str1.replaceFirst(regex, &quot;&quot;));\nSystem.out.println(str2.replaceFirst(regex, &quot;&quot;));\nSystem.out.println(str3.replaceFirst(regex, &quot;&quot;));\nSystem.out.println(str4.replaceFirst(regex, &quot;&quot;));\nSystem.out.println(strAdditional.replaceFirst(regex, &quot;&quot;));\n</code></pre>\n<h2>Explanation:</h2>\n<p>I will use the <code>\\S+\\s+(?=(\\S+\\s+){4}\\S+\\s*$)</code> regex as an example. It is divided into two parts:</p>\n<ul>\n<li>The <em>Match</em> <code>\\S+\\s+</code>, which represents the content you are trying to capture.</li>\n<li>The <em>Positive Lookahead</em> <code>(?=(\\S+\\s+){4}\\S+\\s*$)</code>, which represents a rule that needs to be met, but will not select characters.</li>\n</ul>\n<p><strong>Detailing the first part we have: <code>\\S+\\s+</code></strong></p>\n<ul>\n<li><code>\\S</code> selecting any character that does not represent a white space (can be numbers, letters, symbols, etc).</li>\n<li><code>+</code>, which is linked to the previous selector, defining that it will have to appear at least once, and can be repeated infinite times. This guarantees a string of characters.</li>\n<li><code>\\s</code> selects any character that represents a white space (can be tabs, line breaks, white space, etc).</li>\n<li><code>+</code> has the same function as above, but this time allows for multiple whitespace.</li>\n</ul>\n<p>Hence, <code>\\S+</code> selects any character representing a sequence of characters until it is interrupted by one (or a sequence of) whitespace <code>\\s+</code>.</p>\n<p><strong>Detailing the second part: <code>(?=(\\S+\\s+){4}\\S+\\s*$)</code></strong></p>\n<ul>\n<li><code>(?=)</code> encompasses all this part and is called Positive Lookahead. It indicates that the set of rules contained here needs to be met, but that this text will not be selected.</li>\n<li><code>(\\S+\\s+){4}</code> again indicates a string that can represent a word until it is interrupted by whitespace. The difference is that this time it is contained within a group delimited by <code>()</code>, and that group must be repeated 4 times <code>{4}</code>, which means 4 words.</li>\n<li><code>\\S+\\s*</code> is almost the same as the first part, with the difference that this is the last word, and it may or may not contain any whitespace characters after it. The <code>*</code> after <code>\\s</code> means that any number of blank characters can be met by the rule, even if there are none.</li>\n<li><code>$</code> is an anchor representing the end of the text. It indicates that this rule must be, in some ways, analyzed from the end to the beginning of the text.</li>\n</ul>\n<p>Hence, <code>$</code> indicates that it should be counted from the end; <code>\\S+\\s*</code> counts the last word, which may or may not contain whitespace after it; <code>(\\S+\\s+){4}</code> counts four words before the last; and everything is encompassed by <code>(?=)</code>, which forces you to comply with these rules but which does not select the text that matches them.</p>\n<hr />\n<p>Here is an online example explaining how the regex works: <a href=\"https://regex101.com/r/Lvzog2/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/Lvzog2/1</a></p>\n"},{"tags":[],"owner":{"account_id":15563510,"reputation":58,"user_id":11228012,"display_name":"Aleksandar Cvisic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630596477,"creation_date":1630596477,"answer_id":69033165,"question_id":69031009,"body_markdown":"If you are certain that the word that needs to be removed is always sixth-to-last you can try this:\r\n```\r\nString str1 = &quot;Car honda3454 is unknown in the system&quot;;\r\nString new_str=editString(str1);\r\n\r\npublic static String editString(String str){\r\n  String s=&quot;&quot;;\r\n  String[] tokens=str.split(&quot; &quot;);\r\n  for(int i=0;i&lt;tokens.length;++i){\r\n    if(i!=(tokens.length-6)){\r\n      s+=tokens[i]+&quot; &quot;;\r\n    }\r\n  }\r\n  return s;\r\n}\r\n```","title":"How to remove the last-sixth word from sentence","body":"<p>If you are certain that the word that needs to be removed is always sixth-to-last you can try this:</p>\n<pre><code>String str1 = &quot;Car honda3454 is unknown in the system&quot;;\nString new_str=editString(str1);\n\npublic static String editString(String str){\n  String s=&quot;&quot;;\n  String[] tokens=str.split(&quot; &quot;);\n  for(int i=0;i&lt;tokens.length;++i){\n    if(i!=(tokens.length-6)){\n      s+=tokens[i]+&quot; &quot;;\n    }\n  }\n  return s;\n}\n</code></pre>\n"}],"owner":{"account_id":8328231,"reputation":429,"user_id":6257625,"accept_rate":40,"display_name":"Sandra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"accepted_answer_id":69032982,"answer_count":2,"score":-3,"last_activity_date":1633660891,"creation_date":1630588445,"question_id":69031009,"body_markdown":"I have few string that something looks like:\r\n\r\n    String str1 = &quot;Car honda3454 is unknown in the system&quot;;\r\n    \r\n    String str2 = &quot;Car BMW4545 is unknown in the system&quot;;\r\n    \r\n    String str3 = &quot;New Car Audi9898 is unknown in the system&quot;;\r\n    \r\n    String str4 = &quot;Very old car mitsubishi4099 is unknown in the system&quot;;\r\n\r\nNow I want to remove the last-sixth word out of all of the above strings so that my result string should be:\r\n\r\n    Car is unknown in the system\r\n    Car is unknown in the system\r\n    New Car is unknown in the system\r\n    Very old car is unknown in the system\r\n\r\nI just want to remove the carXXXX from the string. Is there a one line or elegant solution ?","title":"How to remove the last-sixth word from sentence","body":"<p>I have few string that something looks like:</p>\n<pre><code>String str1 = &quot;Car honda3454 is unknown in the system&quot;;\n\nString str2 = &quot;Car BMW4545 is unknown in the system&quot;;\n\nString str3 = &quot;New Car Audi9898 is unknown in the system&quot;;\n\nString str4 = &quot;Very old car mitsubishi4099 is unknown in the system&quot;;\n</code></pre>\n<p>Now I want to remove the last-sixth word out of all of the above strings so that my result string should be:</p>\n<pre><code>Car is unknown in the system\nCar is unknown in the system\nNew Car is unknown in the system\nVery old car is unknown in the system\n</code></pre>\n<p>I just want to remove the carXXXX from the string. Is there a one line or elegant solution ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1633656729,"post_id":69489448,"comment_id":122824094,"body_markdown":"The `for` loop should work flawlessly. What does the console show, and what do you expect? Note that the while loop doesn&#39;t work because this is wrong `if (i &lt; 14){` it will stop immediately if i is less than 14, you could change it to `if (i &gt;= 14){`","body":"The <code>for</code> loop should work flawlessly. What does the console show, and what do you expect? Note that the while loop doesn&#39;t work because this is wrong <code>if (i &lt; 14){</code> it will stop immediately if i is less than 14, you could change it to <code>if (i &gt;= 14){</code>"},{"owner":{"account_id":22868461,"reputation":177,"user_id":17011860,"display_name":"Asif A Fasih"},"score":0,"creation_date":1633656891,"post_id":69489448,"comment_id":122824119,"body_markdown":"another option is to define a constant for the desired number of elements similar to:\n\n`int NUMBER_OF_ELEMENTS = 5;`\n\n`for(int i = 0; i &lt; NUMBER_OF_ELEMENTS ; i++)`","body":"another option is to define a constant for the desired number of elements similar to:  <code>int NUMBER_OF_ELEMENTS = 5;</code>  <code>for(int i = 0; i &lt; NUMBER_OF_ELEMENTS ; i++)</code>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1633656901,"post_id":69489448,"comment_id":122824121,"body_markdown":"So what is your requirement?? You posted code that doesn&#39;t work. That doesn&#39;t tell us what your requirement is. Are you trying to display the first &quot;X&quot; items? The last &quot;X&quot; items? The midle &quot;X&quot; items? There is no reason a for loop should not work. You haven&#39;t even told us what output you get. Post a proper [mre] That is create an ArrayList using a loop with 100 elements where the value of the item is the value of the index in your loop. Then try to display some of the items. Maybe the problem is how you actually create the ArrayList?","body":"So what is your requirement?? You posted code that doesn&#39;t work. That doesn&#39;t tell us what your requirement is. Are you trying to display the first &quot;X&quot; items? The last &quot;X&quot; items? The midle &quot;X&quot; items? There is no reason a for loop should not work. You haven&#39;t even told us what output you get. Post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> That is create an ArrayList using a loop with 100 elements where the value of the item is the value of the index in your loop. Then try to display some of the items. Maybe the problem is how you actually create the ArrayList?"},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1633657090,"post_id":69489448,"comment_id":122824154,"body_markdown":"Your for loop body is missing a semi colon `;` after `System.out.print(arraylist.get(i))`. Add it back and it would work.","body":"Your for loop body is missing a semi colon <code>;</code> after <code>System.out.print(arraylist.get(i))</code>. Add it back and it would work."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1633657776,"post_id":69489448,"comment_id":122824281,"body_markdown":"*Your for loop body is missing a semi colon ;* - you get a compile error if you forget the &quot;;&quot;. I sure hope the OP would actually state in the question that they can&#39;t solve a compile error. That is why an [mre] should be included with every question. We should not be spending time guessing what the actual code is.","body":"<i>Your for loop body is missing a semi colon ;</i> - you get a compile error if you forget the &quot;;&quot;. I sure hope the OP would actually state in the question that they can&#39;t solve a compile error. That is why an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should be included with every question. We should not be spending time guessing what the actual code is."}],"answers":[{"tags":[],"owner":{"account_id":21806266,"reputation":50,"user_id":16104419,"display_name":"Богдан Иманкулов"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633656941,"creation_date":1633656941,"answer_id":69489508,"question_id":69489448,"body_markdown":"Just use for loop. \r\n\r\n    for(int i = 0; i &lt; 14; i++) {\r\n      System.out.println(arrList.get(i));\r\n    }\r\nMay be you forgot a semi-column in your for?\r\nOr maybe you got some kind of exception?\r\nif you want to use while you need this code:\r\n\r\n    int i = 0;\r\n    while(i &lt; 14){\r\n      System.out.println(arrList.get(i));\r\n      i++;\r\n    }\r\nThe problem with your while loop was that you put a for inside a while, and your program firstly goes for a first iteration of while, and then go over a whole arrList, and then does it more and more.\r\n\r\n","title":"How to print out only a certain amount of elements in a arraylist in java","body":"<p>Just use for loop.</p>\n<pre><code>for(int i = 0; i &lt; 14; i++) {\n  System.out.println(arrList.get(i));\n}\n</code></pre>\n<p>May be you forgot a semi-column in your for?\nOr maybe you got some kind of exception?\nif you want to use while you need this code:</p>\n<pre><code>int i = 0;\nwhile(i &lt; 14){\n  System.out.println(arrList.get(i));\n  i++;\n}\n</code></pre>\n<p>The problem with your while loop was that you put a for inside a while, and your program firstly goes for a first iteration of while, and then go over a whole arrList, and then does it more and more.</p>\n"},{"tags":[],"owner":{"account_id":11890894,"reputation":143,"user_id":8701784,"display_name":"Yakim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633660217,"creation_date":1633660217,"answer_id":69489805,"question_id":69489448,"body_markdown":"        List&lt;Integer&gt; integers = List.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\r\n        //print out 5 elements\r\n        integers.stream().limit(5).forEach(System.out::println);\r\n","title":"How to print out only a certain amount of elements in a arraylist in java","body":"<pre><code>    List&lt;Integer&gt; integers = List.of(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n    //print out 5 elements\n    integers.stream().limit(5).forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":22975034,"reputation":1,"user_id":17102784,"display_name":"joah afda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":848,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1633665771,"answer_count":2,"score":-2,"last_activity_date":1633660217,"creation_date":1633656260,"question_id":69489448,"body_markdown":"I have tried several different ways and none have actually worked. \r\n\r\nI tried this while loop here:\r\n\r\n```\r\nint i = 0;\r\n        while (i  &lt; 14){\r\n          if (i &lt; 14){\r\n            break;\r\n          }\r\n          else {\r\n            for (String str : arraylist)\r\n\t          { \t\t  \r\n             i++;   \r\n\t           System.out.print(arraylist.get(i));\t\r\n            }\r\n```\r\n\r\nand i&#39;ve also tried this:\r\n\r\n```\r\nfor(int i = 0; i &lt; 14; i++) {\r\n    System.out.print(arraylist.get(i))\r\n\r\n}\r\n```\r\n\r\nIs there a certain way to print out only a select amount of indexes in a array list? I&#39;ve been struggling with this for a while. thanks guys.\r\n\r\n","title":"How to print out only a certain amount of elements in a arraylist in java","body":"<p>I have tried several different ways and none have actually worked.</p>\n<p>I tried this while loop here:</p>\n<pre><code>int i = 0;\n        while (i  &lt; 14){\n          if (i &lt; 14){\n            break;\n          }\n          else {\n            for (String str : arraylist)\n              {           \n             i++;   \n               System.out.print(arraylist.get(i));  \n            }\n</code></pre>\n<p>and i've also tried this:</p>\n<pre><code>for(int i = 0; i &lt; 14; i++) {\n    System.out.print(arraylist.get(i))\n\n}\n</code></pre>\n<p>Is there a certain way to print out only a select amount of indexes in a array list? I've been struggling with this for a while. thanks guys.</p>\n"},{"tags":["java","resultset"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1633652539,"post_id":69489096,"comment_id":122823494,"body_markdown":"Try always iterating over the results, then afterward check if the Map is empty and set some default values.","body":"Try always iterating over the results, then afterward check if the Map is empty and set some default values."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1633652955,"post_id":69489096,"comment_id":122823559,"body_markdown":"Also `results.put(resultSet.getInt(&quot;column1&quot;) == 0 ? &quot;count1&quot; : &quot;count2&quot;, resultSet.getInt(&quot;column2&quot;));` uses &quot;column1&quot; or &quot;column2&quot; as the Map key, but the Map value is always `resultSet.getInt(&quot;column2&quot;)`.  Is that intended?","body":"Also <code>results.put(resultSet.getInt(&quot;column1&quot;) == 0 ? &quot;count1&quot; : &quot;count2&quot;, resultSet.getInt(&quot;column2&quot;));</code> uses &quot;column1&quot; or &quot;column2&quot; as the Map key, but the Map value is always <code>resultSet.getInt(&quot;column2&quot;)</code>.  Is that intended?"},{"owner":{"account_id":21859881,"reputation":13,"user_id":16150812,"display_name":"wangb"},"score":0,"creation_date":1633652982,"post_id":69489096,"comment_id":122823563,"body_markdown":"@AndrewS, if I iterate over the results using while(resultSet.next()), I&#39;ll get the `EmptyResultDataAccessException` on a query result of no rows. Yeah that&#39;s intended :)","body":"@AndrewS, if I iterate over the results using while(resultSet.next()), I&#39;ll get the <code>EmptyResultDataAccessException</code> on a query result of no rows. Yeah that&#39;s intended :)"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1633653173,"post_id":69489096,"comment_id":122823598,"body_markdown":"Look for examples - `while (resultSet.next()) { ... }` should work.  What is the DB?","body":"Look for examples - <code>while (resultSet.next()) { ... }</code> should work.  What is the DB?"},{"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"score":0,"creation_date":1633654230,"post_id":69489096,"comment_id":122823769,"body_markdown":"You could increment a counter and fill your map up with 0s while it is still smaller than 3 after looping over your result set, if that is what you are trying to do. Looping over the result set as in Andrews comment should indeed work just fine.","body":"You could increment a counter and fill your map up with 0s while it is still smaller than 3 after looping over your result set, if that is what you are trying to do. Looping over the result set as in Andrews comment should indeed work just fine."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633660659,"post_id":69489096,"comment_id":122824714,"body_markdown":"&quot;If I iterate over the results using while(resultSet.next()), I&#39;ll get the EmptyResultDataAccessException`&quot;: no you won&#39;t. Never seen it in 2)+ years of JDBC. You might get that from some intermediate framework, or your own code, but JDBC does not throw that exception.","body":"&quot;If I iterate over the results using while(resultSet.next()), I&#39;ll get the EmptyResultDataAccessException`&quot;: no you won&#39;t. Never seen it in 2)+ years of JDBC. You might get that from some intermediate framework, or your own code, but JDBC does not throw that exception."}],"answers":[{"tags":[],"owner":{"account_id":21859881,"reputation":13,"user_id":16150812,"display_name":"wangb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633659315,"creation_date":1633659315,"answer_id":69489730,"question_id":69489096,"body_markdown":"The problem ended up being how I was calling the query from another class. I was using the `QueryExecutor` method `queryForObject` that expects a single result to be returned, so when my query executed and no rows returned, `EmptyResultDataAccessException` got thrown. When I changed the method to `query`, then:\r\n\r\n```java\r\nwhile (resultSet.next()) {\r\n     results.put(resultSet.getInt(&quot;column1&quot;) == 0 ? &quot;count1&quot; : &quot;count2&quot;, resultSet.getInt(&quot;column2&quot;));\r\n}\r\n```\r\nworked with no issues since the while loop won&#39;t execute if there are no rows.","title":"How to handle case where 0, 1, or 2 rows are returned from ResultSet","body":"<p>The problem ended up being how I was calling the query from another class. I was using the <code>QueryExecutor</code> method <code>queryForObject</code> that expects a single result to be returned, so when my query executed and no rows returned, <code>EmptyResultDataAccessException</code> got thrown. When I changed the method to <code>query</code>, then:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (resultSet.next()) {\n     results.put(resultSet.getInt(&quot;column1&quot;) == 0 ? &quot;count1&quot; : &quot;count2&quot;, resultSet.getInt(&quot;column2&quot;));\n}\n</code></pre>\n<p>worked with no issues since the while loop won't execute if there are no rows.</p>\n"}],"owner":{"account_id":21859881,"reputation":13,"user_id":16150812,"display_name":"wangb"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69489730,"answer_count":1,"score":1,"last_activity_date":1633659315,"creation_date":1633651910,"question_id":69489096,"body_markdown":"I have a `ResultSet resultSet` that can potentially return 0, 1, or 2 rows from an executed query.\r\n```java\r\nMap&lt;String, Integer&gt; results = new HashMap&lt;&gt;();\r\nif (!resultSet.next()){\r\n     // handle case where there are no rows\r\n     results.put(&quot;count1&quot;, 0)\r\n     results.put(&quot;count2&quot;, 0)\r\n}\r\nelse {\r\n     resultSet.beforeFirst();\r\n     while (resultSet.next()) {\r\n     // handle case where there are 1 or 2 rows\r\n     results.put(resultSet.getInt(&quot;column1&quot;) == 0 ? &quot;count1&quot; : &quot;count2&quot;, resultSet.getInt(&quot;column2&quot;));\r\n     }\r\n}\r\n```\r\n\r\nWhen there are no rows or 1 row, I get this exception `org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0`. Shouldn&#39;t my if condition handle no rows and shouldn&#39;t my else condition also handle 1 row. My else condition is able to handle 2 rows.","title":"How to handle case where 0, 1, or 2 rows are returned from ResultSet","body":"<p>I have a <code>ResultSet resultSet</code> that can potentially return 0, 1, or 2 rows from an executed query.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Integer&gt; results = new HashMap&lt;&gt;();\nif (!resultSet.next()){\n     // handle case where there are no rows\n     results.put(&quot;count1&quot;, 0)\n     results.put(&quot;count2&quot;, 0)\n}\nelse {\n     resultSet.beforeFirst();\n     while (resultSet.next()) {\n     // handle case where there are 1 or 2 rows\n     results.put(resultSet.getInt(&quot;column1&quot;) == 0 ? &quot;count1&quot; : &quot;count2&quot;, resultSet.getInt(&quot;column2&quot;));\n     }\n}\n</code></pre>\n<p>When there are no rows or 1 row, I get this exception <code>org.springframework.dao.EmptyResultDataAccessException: Incorrect result size: expected 1, actual 0</code>. Shouldn't my if condition handle no rows and shouldn't my else condition also handle 1 row. My else condition is able to handle 2 rows.</p>\n"},{"tags":["java","regex","groovy"],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633637214,"creation_date":1633636865,"answer_id":69487178,"question_id":69487089,"body_markdown":"There can be many ways e.g. you can replace `\\w+\\/` with a `&quot;&quot;`. Note that `\\w+` means one or more word characters.\r\n\r\n**Demo:**\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString FILENAME = &quot;Application-2.0.2-bug/TEST-1.0.0.zip&quot;;\r\n    \t\tFILENAME = FILENAME.replaceAll(&quot;\\\\w+\\\\/&quot;, &quot;&quot;);\r\n    \t\tSystem.out.println(FILENAME);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    Application-2.0.2-TEST-1.0.0.zip\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\n\r\n  [1]: https://ideone.com/cqNH7a\r\n","title":"Exclude/remove a string between two special characters using regex","body":"<p>There can be many ways e.g. you can replace <code>\\w+\\/</code> with a <code>&quot;&quot;</code>. Note that <code>\\w+</code> means one or more word characters.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String FILENAME = &quot;Application-2.0.2-bug/TEST-1.0.0.zip&quot;;\n        FILENAME = FILENAME.replaceAll(&quot;\\\\w+\\\\/&quot;, &quot;&quot;);\n        System.out.println(FILENAME);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Application-2.0.2-TEST-1.0.0.zip\n</code></pre>\n<p><a href=\"https://ideone.com/cqNH7a\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n"}],"owner":{"account_id":13150484,"reputation":569,"user_id":9499260,"display_name":"itgeek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":69487178,"answer_count":1,"score":2,"last_activity_date":1633658906,"creation_date":1633636414,"question_id":69487089,"body_markdown":"I was trying to replace/remove any string between `- &lt;branch prefix&gt; /` \r\n\r\nExample:\r\n\r\n    String name = Application-2.0.2-bug/TEST-1.0.0.zip\r\n\r\nexpected output : \r\n\r\n    Application-2.0.2-TEST-1.0.0.zip\r\n\r\n\r\nI tried the below regex, but it&#39;s not working accurate.\r\n\r\n    String FILENAME = 2.2.1-Application-2.0.2-bug/TEST-1.0.0.zip\r\n    \r\n    println(FILENAME.replaceAll(&quot;.+/&quot;, &quot;&quot;))\r\n\r\n","title":"Exclude/remove a string between two special characters using regex","body":"<p>I was trying to replace/remove any string between <code>- &lt;branch prefix&gt; /</code></p>\n<p>Example:</p>\n<pre><code>String name = Application-2.0.2-bug/TEST-1.0.0.zip\n</code></pre>\n<p>expected output :</p>\n<pre><code>Application-2.0.2-TEST-1.0.0.zip\n</code></pre>\n<p>I tried the below regex, but it's not working accurate.</p>\n<pre><code>String FILENAME = 2.2.1-Application-2.0.2-bug/TEST-1.0.0.zip\n\nprintln(FILENAME.replaceAll(&quot;.+/&quot;, &quot;&quot;))\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8030,"page":1962,"page_size":100}
