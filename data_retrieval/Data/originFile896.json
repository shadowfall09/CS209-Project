{"items":[{"tags":["java","string","enums","enumeration"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667718841,"post_id":74333198,"comment_id":131230365,"body_markdown":"Fix your formatting.","body":"Fix your formatting."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667718972,"post_id":74333198,"comment_id":131230383,"body_markdown":"Perhaps you should examine the actual `java.time.Month` enum and its `getDisplayName` method.","body":"Perhaps you should examine the actual <code>java.time.Month</code> enum and its <code>getDisplayName</code> method."}],"owner":{"account_id":25557002,"reputation":51,"user_id":19340340,"display_name":"Omutwar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667719045,"answer_count":0,"score":0,"last_activity_date":1668075014,"creation_date":1667706776,"question_id":74333198,"body_markdown":"I am creating an ENUM for some personal side project, and I wanted it to return the String value of each value if I desire to store the value as String variable in my code somewhere else. \r\n\r\nfor example: \r\n\r\n\r\n```\r\n\r\n```\r\npublic enum Month {\r\n\r\n    JANUARY, FEBRUARY, MARCH, APRIL,\r\n    MAY, JUNE, JULY, AUGUST,\r\n    SEPTEMBER, OCTOBER, NOVEMBER, DECEMBER,\r\n\r\n    ID {\r\n        public String id(Month month) {\r\n            return month.toString();\r\n        }\r\n    },\r\n\r\n    VALUE {\r\n        public String value(Month month) {\r\n            return month.toString();\r\n        }\r\n    },\r\n}\r\n```\r\n\r\n```\r\nI would like to add id(); value() methods in my ENUM (let&#39;s say this is the one)\r\n\r\nand when I chained either ID, or VALUE, I would like to get the String values; currently, it returns Month type. \r\n\r\n\r\n\r\nI was trying if this works, but the return type of both ID and VALUE were still Month type. \r\n\r\n\r\nThanks in advance!!\r\n\r\n(If possible reply in a way, so that I can promote your answer as part of thank you) ","title":"How can I add customer methods to ENUM to get string value of the value I am using (if needed)","body":"<p>I am creating an ENUM for some personal side project, and I wanted it to return the String value of each value if I desire to store the value as String variable in my code somewhere else.</p>\n<p>for example:</p>\n<pre><code>\n</code></pre>\n<p>public enum Month {</p>\n<pre><code>JANUARY, FEBRUARY, MARCH, APRIL,\nMAY, JUNE, JULY, AUGUST,\nSEPTEMBER, OCTOBER, NOVEMBER, DECEMBER,\n\nID {\n    public String id(Month month) {\n        return month.toString();\n    }\n},\n\nVALUE {\n    public String value(Month month) {\n        return month.toString();\n    }\n},\n</code></pre>\n<p>}</p>\n<pre><code>\n</code></pre>\n<p>I would like to add id(); value() methods in my ENUM (let's say this is the one)</p>\n<p>and when I chained either ID, or VALUE, I would like to get the String values; currently, it returns Month type.</p>\n<p>I was trying if this works, but the return type of both ID and VALUE were still Month type.</p>\n<p>Thanks in advance!!</p>\n<p>(If possible reply in a way, so that I can promote your answer as part of thank you)</p>\n"},{"tags":["java","maven","gitlab"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1667466669,"post_id":74300384,"comment_id":131174763,"body_markdown":"Can you do mvn -X deploy:deploy-file... to see why jar failed to upload.","body":"Can you do mvn -X deploy:deploy-file... to see why jar failed to upload."},{"owner":{"account_id":6043607,"reputation":91,"user_id":8269446,"display_name":"mamol"},"score":0,"creation_date":1667469333,"post_id":74300384,"comment_id":131175736,"body_markdown":"@AshishPatil loaded","body":"@AshishPatil loaded"}],"answers":[{"tags":[],"owner":{"account_id":6043607,"reputation":91,"user_id":8269446,"display_name":"mamol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668074610,"creation_date":1667820831,"answer_id":74345944,"question_id":74300384,"body_markdown":"I found my mistake.\\\r\nIn documentation says that URL should be like `https://gitlab.example.com/api/v4/projects/PROJECT_ID/packages/maven`\r\n```\r\nmvn deploy:deploy-file -DpomFile=&lt;path-to-pom&gt; \\\r\n-Dfile=&lt;path-to-file&gt; \\\r\n-DrepositoryId=&lt;id-to-map-on-server-section-of-settings.xml&gt; \\\r\n-Durl=&lt;url-of-the-repository-to-deploy&gt;\r\n```\r\nI thought I should replace projects with my group for projects and PROJECT_ID means project name, but it was wrong.\r\nneed to replace only the URL for the server and get the project id from the main page of the project.\r\n[![enter image description here][1]][1]\r\n\r\nso url in my case should be `https://gitlab.ipv4/api/v4/projects/248/packages/maven/`\r\n\r\n[1]: https://i.stack.imgur.com/j4xjd.png","title":"How to deploy 3rd party library in remote gitlab maven repo?","body":"<p>I found my mistake.<br />\nIn documentation says that URL should be like <code>https://gitlab.example.com/api/v4/projects/PROJECT_ID/packages/maven</code></p>\n<pre><code>mvn deploy:deploy-file -DpomFile=&lt;path-to-pom&gt; \\\n-Dfile=&lt;path-to-file&gt; \\\n-DrepositoryId=&lt;id-to-map-on-server-section-of-settings.xml&gt; \\\n-Durl=&lt;url-of-the-repository-to-deploy&gt;\n</code></pre>\n<p>I thought I should replace projects with my group for projects and PROJECT_ID means project name, but it was wrong.\nneed to replace only the URL for the server and get the project id from the main page of the project.\n<a href=\"https://i.stack.imgur.com/j4xjd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j4xjd.png\" alt=\"enter image description here\" /></a></p>\n<p>so url in my case should be <code>https://gitlab.ipv4/api/v4/projects/248/packages/maven/</code></p>\n"}],"owner":{"account_id":6043607,"reputation":91,"user_id":8269446,"display_name":"mamol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74345944,"answer_count":1,"score":0,"last_activity_date":1668074610,"creation_date":1667466020,"question_id":74300384,"body_markdown":"I have java libraries from another developer, he gives it to me to use their api.\r\n\r\nI want to deploy it to my remote gitlab maven repo. I have configured private api key in `~/.m2/settings.xml`. Checked api key `curl --header &quot;PRIVATE-TOKEN: api-key&quot; &quot;https://gitlab.ipv4/api/v4/projects&quot;`\r\n\r\nBut deploy these libraries manually doesn&#39;t work.\r\n\r\n```\r\n&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\nxsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 https://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\r\n  &lt;servers&gt;\r\n    &lt;server&gt;\r\n      &lt;id&gt;gitlab-maven&lt;/id&gt;\r\n      &lt;configuration&gt;\r\n        &lt;httpHeaders&gt;\r\n          &lt;property&gt;\r\n            &lt;name&gt;Private-Token&lt;/name&gt;\r\n            &lt;value&gt;gitlab-api-token&lt;/value&gt;\r\n          &lt;/property&gt;\r\n        &lt;/httpHeaders&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/server&gt;\r\n  &lt;/servers&gt;\r\n&lt;/settings&gt;\r\n```\r\nIt fails after trying upload files, could it be because token failure or something? How to check maven accessability?\r\nWhats my problem is?\r\n\r\n```\r\nilys@ilys-Dino:~/Download$ mvn deploy:deploy-file -DpomFile=/home/ilys/Download/libgroup/libArt/1.0/libArt-1.0.pom     -Dfile=/home/ilys/Download/libgroup/libArt/1.0/libArt-1.0.jar -DrepositoryId=gitlab-maven -Durl=https://gitlab.ipv4/api/v4/group/repo/packages/maven/ -X\r\nApache Maven 3.6.3\r\nMaven home: /usr/share/maven\r\nJava version: 11.0.16, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\r\nDefault locale: ru_RU, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.15.0-52-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\r\nWARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n[DEBUG] Created new class realm maven.api\r\n[DEBUG] Importing foreign packages into class realm maven.api\r\n[DEBUG]   Imported: javax.annotation.* &lt; plexus.core\r\n[DEBUG]   Imported: javax.annotation.security.* &lt; plexus.core\r\n[DEBUG]   Imported: javax.enterprise.inject.* &lt; plexus.core\r\n[DEBUG]   Imported: javax.enterprise.util.* &lt; plexus.core\r\n[DEBUG]   Imported: javax.inject.* &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.* &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.artifact &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.classrealm &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.cli &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.configuration &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.exception &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.execution &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.execution.scope &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.lifecycle &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.model &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.monitor &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.plugin &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.profiles &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.project &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.reporting &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.repository &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.rtinfo &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.settings &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.toolchain &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.usability &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.* &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.authentication &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.authorization &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.events &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.observers &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.proxy &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.repository &lt; plexus.core\r\n[DEBUG]   Imported: org.apache.maven.wagon.resource &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.classworlds &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.* &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.classworlds &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.component &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.configuration &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.container &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.context &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.lifecycle &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.logging &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.personality &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.Xpp3Dom &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParser &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParserException &lt; plexus.core\r\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlSerializer &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.* &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.artifact &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.collection &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.deployment &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.graph &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.impl &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.installation &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.internal.impl &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.metadata &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.repository &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.resolution &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.spi &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.transfer &lt; plexus.core\r\n[DEBUG]   Imported: org.eclipse.aether.version &lt; plexus.core\r\n[DEBUG]   Imported: org.fusesource.jansi.* &lt; plexus.core\r\n[DEBUG]   Imported: org.slf4j.* &lt; plexus.core\r\n[DEBUG]   Imported: org.slf4j.event.* &lt; plexus.core\r\n[DEBUG]   Imported: org.slf4j.helpers.* &lt; plexus.core\r\n[DEBUG]   Imported: org.slf4j.spi.* &lt; plexus.core\r\n[DEBUG] Populating class realm maven.api\r\n[INFO] Error stacktraces are turned on.\r\n[DEBUG] Message scheme: color\r\n[DEBUG] Message styles: debug info warning error success failure strong mojo project\r\n[DEBUG] Reading global settings from /usr/share/maven/conf/settings.xml\r\n[DEBUG] Reading user settings from /home/ilys/.m2/settings.xml\r\n[DEBUG] Reading global toolchains from /usr/share/maven/conf/toolchains.xml\r\n[DEBUG] Reading user toolchains from /home/ilys/.m2/toolchains.xml\r\n[DEBUG] Using local repository at /home/ilys/.m2/repository\r\n[DEBUG] Using manager EnhancedLocalRepositoryManager with priority 10.0 for /home/ilys/.m2/repository\r\n[INFO] Scanning for projects...\r\n[DEBUG] Extension realms for project org.apache.maven:standalone-pom:pom:1: (none)\r\n[DEBUG] Looking up lifecycle mappings for packaging pom from ClassRealm[plexus.core, parent: null]\r\n[DEBUG] Resolving plugin prefix deploy from [org.apache.maven.plugins, org.codehaus.mojo]\r\n[DEBUG] Resolved plugin prefix deploy to org.apache.maven.plugins:maven-deploy-plugin from POM org.apache.maven:standalone-pom:pom:1\r\n[DEBUG] === REACTOR BUILD PLAN ================================================\r\n[DEBUG] Project: org.apache.maven:standalone-pom:pom:1\r\n[DEBUG] Tasks:   [deploy:deploy-file]\r\n[DEBUG] Style:   Aggregating\r\n[DEBUG] =======================================================================\r\n[INFO] \r\n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\r\n[INFO] Building Maven Stub Project (No POM) 1\r\n[INFO] --------------------------------[ pom ]---------------------------------\r\n[DEBUG] Resolving plugin prefix deploy from [org.apache.maven.plugins, org.codehaus.mojo]\r\n[DEBUG] Resolved plugin prefix deploy to org.apache.maven.plugins:maven-deploy-plugin from POM org.apache.maven:standalone-pom:pom:1\r\n[DEBUG] Lifecycle default -&gt; [validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy]\r\n[DEBUG] Lifecycle clean -&gt; [pre-clean, clean, post-clean]\r\n[DEBUG] Lifecycle site -&gt; [pre-site, site, post-site, site-deploy]\r\n[DEBUG] === PROJECT BUILD PLAN ================================================\r\n[DEBUG] Project:       org.apache.maven:standalone-pom:1\r\n[DEBUG] Dependencies (collect): []\r\n[DEBUG] Dependencies (resolve): []\r\n[DEBUG] Repositories (dependencies): [central (https://repo.maven.apache.org/maven2, default, releases)]\r\n[DEBUG] Repositories (plugins)     : [central (https://repo.maven.apache.org/maven2, default, releases)]\r\n[DEBUG] -----------------------------------------------------------------------\r\n[DEBUG] Goal:          org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file (default-cli)\r\n[DEBUG] Style:         Regular\r\n[DEBUG] Configuration: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n  &lt;artifactId&gt;${artifactId}&lt;/artifactId&gt;\r\n  &lt;classifier&gt;${classifier}&lt;/classifier&gt;\r\n  &lt;classifiers&gt;${classifiers}&lt;/classifiers&gt;\r\n  &lt;description&gt;${generatePom.description}&lt;/description&gt;\r\n  &lt;file&gt;${file}&lt;/file&gt;\r\n  &lt;files&gt;${files}&lt;/files&gt;\r\n  &lt;generatePom default-value=&quot;true&quot;&gt;${generatePom}&lt;/generatePom&gt;\r\n  &lt;groupId&gt;${groupId}&lt;/groupId&gt;\r\n  &lt;javadoc&gt;${javadoc}&lt;/javadoc&gt;\r\n  &lt;localRepository default-value=&quot;${localRepository}&quot;/&gt;\r\n  &lt;offline default-value=&quot;${settings.offline}&quot;/&gt;\r\n  &lt;packaging&gt;${packaging}&lt;/packaging&gt;\r\n  &lt;pomFile&gt;${pomFile}&lt;/pomFile&gt;\r\n  &lt;project default-value=&quot;${project}&quot;/&gt;\r\n  &lt;repositoryId default-value=&quot;remote-repository&quot;&gt;${repositoryId}&lt;/repositoryId&gt;\r\n  &lt;repositoryLayout default-value=&quot;default&quot;&gt;${repositoryLayout}&lt;/repositoryLayout&gt;\r\n  &lt;retryFailedDeploymentCount default-value=&quot;1&quot;&gt;${retryFailedDeploymentCount}&lt;/retryFailedDeploymentCount&gt;\r\n  &lt;sources&gt;${sources}&lt;/sources&gt;\r\n  &lt;types&gt;${types}&lt;/types&gt;\r\n  &lt;uniqueVersion default-value=&quot;true&quot;&gt;${uniqueVersion}&lt;/uniqueVersion&gt;\r\n  &lt;updateReleaseInfo default-value=&quot;false&quot;&gt;${updateReleaseInfo}&lt;/updateReleaseInfo&gt;\r\n  &lt;url&gt;${url}&lt;/url&gt;\r\n  &lt;version&gt;${version}&lt;/version&gt;\r\n&lt;/configuration&gt;\r\n[DEBUG] =======================================================================\r\n[INFO] \r\n[INFO] --- maven-deploy-plugin:2.7:deploy-file (default-cli) @ standalone-pom ---\r\n[DEBUG] Dependency collection stats: {ConflictMarker.analyzeTime=620716, ConflictMarker.markTime=116366, ConflictMarker.nodeCount=32, ConflictIdSorter.graphTime=400083, ConflictIdSorter.topsortTime=314404, ConflictIdSorter.conflictIdCount=14, ConflictIdSorter.conflictIdCycleCount=0, ConflictResolver.totalTime=2507260, ConflictResolver.conflictItemCount=32, DefaultDependencyCollector.collectTime=52702235, DefaultDependencyCollector.transformTime=5459130}\r\n[DEBUG] org.apache.maven.plugins:maven-deploy-plugin:jar:2.7\r\n[DEBUG]    org.apache.maven:maven-plugin-api:jar:2.0.6:compile\r\n[DEBUG]    org.apache.maven:maven-project:jar:2.0.6:compile\r\n[DEBUG]       org.apache.maven:maven-settings:jar:2.0.6:compile\r\n[DEBUG]       org.apache.maven:maven-profile:jar:2.0.6:compile\r\n[DEBUG]       org.apache.maven:maven-artifact-manager:jar:2.0.6:compile\r\n[DEBUG]          org.apache.maven:maven-repository-metadata:jar:2.0.6:compile\r\n[DEBUG]       org.apache.maven:maven-plugin-registry:jar:2.0.6:compile\r\n[DEBUG]       org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-9-stable-1:compile\r\n[DEBUG]          junit:junit:jar:3.8.1:compile\r\n[DEBUG]          classworlds:classworlds:jar:1.1-alpha-2:compile\r\n[DEBUG]    org.apache.maven:maven-model:jar:2.0.6:compile\r\n[DEBUG]    org.apache.maven:maven-artifact:jar:2.0.6:compile\r\n[DEBUG]    org.codehaus.plexus:plexus-utils:jar:1.5.6:compile\r\n[DEBUG] Created new class realm plugin&gt;org.apache.maven.plugins:maven-deploy-plugin:2.7\r\n[DEBUG] Importing foreign packages into class realm plugin&gt;org.apache.maven.plugins:maven-deploy-plugin:2.7\r\n[DEBUG]   Imported:  &lt; maven.api\r\n[DEBUG] Populating class realm plugin&gt;org.apache.maven.plugins:maven-deploy-plugin:2.7\r\n[DEBUG]   Included: org.apache.maven.plugins:maven-deploy-plugin:jar:2.7\r\n[DEBUG]   Included: junit:junit:jar:3.8.1\r\n[DEBUG]   Included: org.codehaus.plexus:plexus-utils:jar:1.5.6\r\n[DEBUG] Configuring mojo org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file from plugin realm ClassRealm[plugin&gt;org.apache.maven.plugins:maven-deploy-plugin:2.7, parent: jdk.internal.loader.ClassLoaders$AppClassLoader@55054057]\r\n[DEBUG] Configuring mojo &#39;org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file&#39; with basic configurator --&gt;\r\n[DEBUG]   (f) file = /home/ilys/Download/libgroup/libArt/1.0/libArt-1.0.jar\r\n[DEBUG]   (f) generatePom = true\r\n[DEBUG]   (s) localRepository =       id: local\r\n      url: file:///home/ilys/.m2/repository/\r\n   layout: default\r\nsnapshots: [enabled =&gt; true, update =&gt; always]\r\n releases: [enabled =&gt; true, update =&gt; always]\r\n\r\n[DEBUG]   (f) offline = false\r\n[DEBUG]   (f) pomFile = /home/ilys/Download/libgroup/libArt/1.0/libArt-1.0.pom\r\n[DEBUG]   (f) project = MavenProject: org.apache.maven:standalone-pom:1 @ \r\n[DEBUG]   (f) repositoryId = gitlab-maven\r\n[DEBUG]   (f) repositoryLayout = default\r\n[DEBUG]   (f) retryFailedDeploymentCount = 1\r\n[DEBUG]   (f) uniqueVersion = true\r\n[DEBUG]   (f) updateReleaseInfo = false\r\n[DEBUG]   (f) url = https://gitlab.ipv4/api/v4/group/repo/packages/maven/\r\n[DEBUG] -- end configuration --\r\n[DEBUG] Using transporter WagonTransporter with priority -1.0 for https://gitlab.ipv4/api/v4/group/repo/packages/maven/\r\n[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://gitlab.ipv4/api/v4/group/repo/packages/maven/\r\nUploading to gitlab-maven: https://gitlab.ipv4/api/v4/group/repo/packages/maven/libgroup/libArt/1.0/libArt-1.0.jar\r\nUploading to gitlab-maven: https://gitlab.ipv4/api/v4/group/repo/packages/maven/libgroup/libArt/1.0/libArt-1.0.pom\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.784 s\r\n[INFO] Finished at: 2022-11-07T11:15:53+03:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file (default-cli) on project standalone-pom: Failed to deploy artifacts: Could not find artifact libgroup:libArt:jar:1.0 in gitlab-maven (https://gitlab.ipv4/api/v4/group/repo/packages/maven/) -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file (default-cli) on project standalone-pom: Failed to deploy artifacts: Could not find artifact libgroup:libArt:jar:1.0 in gitlab-maven (https://gitlab.ipv4/api/v4/group/repo/packages/maven/)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: Failed to deploy artifacts: Could not find artifact libgroup:libArt:jar:1.0 in gitlab-maven (https://gitlab.ipv4/api/v4/group/repo/packages/maven/)\r\n    at org.apache.maven.plugin.deploy.DeployFileMojo.execute (DeployFileMojo.java:314)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.artifact.deployer.ArtifactDeploymentException: Failed to deploy artifacts: Could not find artifact libgroup:libArt:jar:1.0 in gitlab-maven (https://gitlab.ipv4/api/v4/group/repo/packages/maven/)\r\n    at org.apache.maven.artifact.deployer.DefaultArtifactDeployer.deploy (DefaultArtifactDeployer.java:146)\r\n    at org.apache.maven.plugin.deploy.AbstractDeployMojo.deploy (AbstractDeployMojo.java:167)\r\n    at org.apache.maven.plugin.deploy.DeployFileMojo.execute (DeployFileMojo.java:310)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.eclipse.aether.deployment.DeploymentException: Failed to deploy artifacts: Could not find artifact libgroup:libArt:jar:1.0 in gitlab-maven (https://gitlab.ipv4/api/v4/group/repo/packages/maven/)\r\n    at org.eclipse.aether.internal.impl.DefaultDeployer.deploy (DefaultDeployer.java:302)\r\n    at org.eclipse.aether.internal.impl.DefaultDeployer.deploy (DefaultDeployer.java:213)\r\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.deploy (DefaultRepositorySystem.java:386)\r\n    at org.apache.maven.artifact.deployer.DefaultArtifactDeployer.deploy (DefaultArtifactDeployer.java:142)\r\n    at org.apache.maven.plugin.deploy.AbstractDeployMojo.deploy (AbstractDeployMojo.java:167)\r\n    at org.apache.maven.plugin.deploy.DeployFileMojo.execute (DeployFileMojo.java:310)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.eclipse.aether.transfer.ArtifactNotFoundException: Could not find artifact libgroup:libArt:jar:1.0 in gitlab-maven (https://gitlab.ipv4/api/v4/group/repo/packages/maven/)\r\n    at org.eclipse.aether.connector.basic.ArtifactTransportListener.transferFailed (ArtifactTransportListener.java:48)\r\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector$TaskRunner.run (BasicRepositoryConnector.java:369)\r\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector.put (BasicRepositoryConnector.java:288)\r\n    at org.eclipse.aether.internal.impl.DefaultDeployer.deploy (DefaultDeployer.java:295)\r\n    at org.eclipse.aether.internal.impl.DefaultDeployer.deploy (DefaultDeployer.java:213)\r\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.deploy (DefaultRepositorySystem.java:386)\r\n    at org.apache.maven.artifact.deployer.DefaultArtifactDeployer.deploy (DefaultArtifactDeployer.java:142)\r\n    at org.apache.maven.plugin.deploy.AbstractDeployMojo.deploy (AbstractDeployMojo.java:167)\r\n    at org.apache.maven.plugin.deploy.DeployFileMojo.execute (DeployFileMojo.java:310)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n[ERROR] \r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nThank you!","title":"How to deploy 3rd party library in remote gitlab maven repo?","body":"<p>I have java libraries from another developer, he gives it to me to use their api.</p>\n<p>I want to deploy it to my remote gitlab maven repo. I have configured private api key in <code>~/.m2/settings.xml</code>. Checked api key <code>curl --header &quot;PRIVATE-TOKEN: api-key&quot; &quot;https://gitlab.ipv4/api/v4/projects&quot;</code></p>\n<p>But deploy these libraries manually doesn't work.</p>\n<pre><code>&lt;settings xmlns=&quot;http://maven.apache.org/SETTINGS/1.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/SETTINGS/1.0.0 https://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;gitlab-maven&lt;/id&gt;\n      &lt;configuration&gt;\n        &lt;httpHeaders&gt;\n          &lt;property&gt;\n            &lt;name&gt;Private-Token&lt;/name&gt;\n            &lt;value&gt;gitlab-api-token&lt;/value&gt;\n          &lt;/property&gt;\n        &lt;/httpHeaders&gt;\n      &lt;/configuration&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>It fails after trying upload files, could it be because token failure or something? How to check maven accessability?\nWhats my problem is?</p>\n<pre><code>ilys@ilys-Dino:~/Download$ mvn deploy:deploy-file -DpomFile=/home/ilys/Download/libgroup/libArt/1.0/libArt-1.0.pom     -Dfile=/home/ilys/Download/libgroup/libArt/1.0/libArt-1.0.jar -DrepositoryId=gitlab-maven -Durl=https://gitlab.ipv4/api/v4/group/repo/packages/maven/ -X\nApache Maven 3.6.3\nMaven home: /usr/share/maven\nJava version: 11.0.16, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\nDefault locale: ru_RU, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.15.0-52-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\nWARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n[DEBUG] Created new class realm maven.api\n[DEBUG] Importing foreign packages into class realm maven.api\n[DEBUG]   Imported: javax.annotation.* &lt; plexus.core\n[DEBUG]   Imported: javax.annotation.security.* &lt; plexus.core\n[DEBUG]   Imported: javax.enterprise.inject.* &lt; plexus.core\n[DEBUG]   Imported: javax.enterprise.util.* &lt; plexus.core\n[DEBUG]   Imported: javax.inject.* &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.* &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.artifact &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.classrealm &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.cli &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.configuration &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.exception &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.execution &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.execution.scope &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.lifecycle &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.model &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.monitor &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.plugin &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.profiles &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.project &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.reporting &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.repository &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.rtinfo &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.settings &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.toolchain &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.usability &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.* &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.authentication &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.authorization &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.events &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.observers &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.proxy &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.repository &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.resource &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.classworlds &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.* &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.classworlds &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.component &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.configuration &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.container &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.context &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.lifecycle &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.logging &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.personality &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.Xpp3Dom &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParser &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParserException &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlSerializer &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.* &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.artifact &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.collection &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.deployment &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.graph &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.impl &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.installation &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.internal.impl &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.metadata &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.repository &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.resolution &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.spi &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.transfer &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.version &lt; plexus.core\n[DEBUG]   Imported: org.fusesource.jansi.* &lt; plexus.core\n[DEBUG]   Imported: org.slf4j.* &lt; plexus.core\n[DEBUG]   Imported: org.slf4j.event.* &lt; plexus.core\n[DEBUG]   Imported: org.slf4j.helpers.* &lt; plexus.core\n[DEBUG]   Imported: org.slf4j.spi.* &lt; plexus.core\n[DEBUG] Populating class realm maven.api\n[INFO] Error stacktraces are turned on.\n[DEBUG] Message scheme: color\n[DEBUG] Message styles: debug info warning error success failure strong mojo project\n[DEBUG] Reading global settings from /usr/share/maven/conf/settings.xml\n[DEBUG] Reading user settings from /home/ilys/.m2/settings.xml\n[DEBUG] Reading global toolchains from /usr/share/maven/conf/toolchains.xml\n[DEBUG] Reading user toolchains from /home/ilys/.m2/toolchains.xml\n[DEBUG] Using local repository at /home/ilys/.m2/repository\n[DEBUG] Using manager EnhancedLocalRepositoryManager with priority 10.0 for /home/ilys/.m2/repository\n[INFO] Scanning for projects...\n[DEBUG] Extension realms for project org.apache.maven:standalone-pom:pom:1: (none)\n[DEBUG] Looking up lifecycle mappings for packaging pom from ClassRealm[plexus.core, parent: null]\n[DEBUG] Resolving plugin prefix deploy from [org.apache.maven.plugins, org.codehaus.mojo]\n[DEBUG] Resolved plugin prefix deploy to org.apache.maven.plugins:maven-deploy-plugin from POM org.apache.maven:standalone-pom:pom:1\n[DEBUG] === REACTOR BUILD PLAN ================================================\n[DEBUG] Project: org.apache.maven:standalone-pom:pom:1\n[DEBUG] Tasks:   [deploy:deploy-file]\n[DEBUG] Style:   Aggregating\n[DEBUG] =======================================================================\n[INFO] \n[INFO] ------------------&lt; org.apache.maven:standalone-pom &gt;-------------------\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] --------------------------------[ pom ]---------------------------------\n[DEBUG] Resolving plugin prefix deploy from [org.apache.maven.plugins, org.codehaus.mojo]\n[DEBUG] Resolved plugin prefix deploy to org.apache.maven.plugins:maven-deploy-plugin from POM org.apache.maven:standalone-pom:pom:1\n[DEBUG] Lifecycle default -&gt; [validate, initialize, generate-sources, process-sources, generate-resources, process-resources, compile, process-classes, generate-test-sources, process-test-sources, generate-test-resources, process-test-resources, test-compile, process-test-classes, test, prepare-package, package, pre-integration-test, integration-test, post-integration-test, verify, install, deploy]\n[DEBUG] Lifecycle clean -&gt; [pre-clean, clean, post-clean]\n[DEBUG] Lifecycle site -&gt; [pre-site, site, post-site, site-deploy]\n[DEBUG] === PROJECT BUILD PLAN ================================================\n[DEBUG] Project:       org.apache.maven:standalone-pom:1\n[DEBUG] Dependencies (collect): []\n[DEBUG] Dependencies (resolve): []\n[DEBUG] Repositories (dependencies): [central (https://repo.maven.apache.org/maven2, default, releases)]\n[DEBUG] Repositories (plugins)     : [central (https://repo.maven.apache.org/maven2, default, releases)]\n[DEBUG] -----------------------------------------------------------------------\n[DEBUG] Goal:          org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file (default-cli)\n[DEBUG] Style:         Regular\n[DEBUG] Configuration: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n  &lt;artifactId&gt;${artifactId}&lt;/artifactId&gt;\n  &lt;classifier&gt;${classifier}&lt;/classifier&gt;\n  &lt;classifiers&gt;${classifiers}&lt;/classifiers&gt;\n  &lt;description&gt;${generatePom.description}&lt;/description&gt;\n  &lt;file&gt;${file}&lt;/file&gt;\n  &lt;files&gt;${files}&lt;/files&gt;\n  &lt;generatePom default-value=&quot;true&quot;&gt;${generatePom}&lt;/generatePom&gt;\n  &lt;groupId&gt;${groupId}&lt;/groupId&gt;\n  &lt;javadoc&gt;${javadoc}&lt;/javadoc&gt;\n  &lt;localRepository default-value=&quot;${localRepository}&quot;/&gt;\n  &lt;offline default-value=&quot;${settings.offline}&quot;/&gt;\n  &lt;packaging&gt;${packaging}&lt;/packaging&gt;\n  &lt;pomFile&gt;${pomFile}&lt;/pomFile&gt;\n  &lt;project default-value=&quot;${project}&quot;/&gt;\n  &lt;repositoryId default-value=&quot;remote-repository&quot;&gt;${repositoryId}&lt;/repositoryId&gt;\n  &lt;repositoryLayout default-value=&quot;default&quot;&gt;${repositoryLayout}&lt;/repositoryLayout&gt;\n  &lt;retryFailedDeploymentCount default-value=&quot;1&quot;&gt;${retryFailedDeploymentCount}&lt;/retryFailedDeploymentCount&gt;\n  &lt;sources&gt;${sources}&lt;/sources&gt;\n  &lt;types&gt;${types}&lt;/types&gt;\n  &lt;uniqueVersion default-value=&quot;true&quot;&gt;${uniqueVersion}&lt;/uniqueVersion&gt;\n  &lt;updateReleaseInfo default-value=&quot;false&quot;&gt;${updateReleaseInfo}&lt;/updateReleaseInfo&gt;\n  &lt;url&gt;${url}&lt;/url&gt;\n  &lt;version&gt;${version}&lt;/version&gt;\n&lt;/configuration&gt;\n[DEBUG] =======================================================================\n[INFO] \n[INFO] --- maven-deploy-plugin:2.7:deploy-file (default-cli) @ standalone-pom ---\n[DEBUG] Dependency collection stats: {ConflictMarker.analyzeTime=620716, ConflictMarker.markTime=116366, ConflictMarker.nodeCount=32, ConflictIdSorter.graphTime=400083, ConflictIdSorter.topsortTime=314404, ConflictIdSorter.conflictIdCount=14, ConflictIdSorter.conflictIdCycleCount=0, ConflictResolver.totalTime=2507260, ConflictResolver.conflictItemCount=32, DefaultDependencyCollector.collectTime=52702235, DefaultDependencyCollector.transformTime=5459130}\n[DEBUG] org.apache.maven.plugins:maven-deploy-plugin:jar:2.7\n[DEBUG]    org.apache.maven:maven-plugin-api:jar:2.0.6:compile\n[DEBUG]    org.apache.maven:maven-project:jar:2.0.6:compile\n[DEBUG]       org.apache.maven:maven-settings:jar:2.0.6:compile\n[DEBUG]       org.apache.maven:maven-profile:jar:2.0.6:compile\n[DEBUG]       org.apache.maven:maven-artifact-manager:jar:2.0.6:compile\n[DEBUG]          org.apache.maven:maven-repository-metadata:jar:2.0.6:compile\n[DEBUG]       org.apache.maven:maven-plugin-registry:jar:2.0.6:compile\n[DEBUG]       org.codehaus.plexus:plexus-container-default:jar:1.0-alpha-9-stable-1:compile\n[DEBUG]          junit:junit:jar:3.8.1:compile\n[DEBUG]          classworlds:classworlds:jar:1.1-alpha-2:compile\n[DEBUG]    org.apache.maven:maven-model:jar:2.0.6:compile\n[DEBUG]    org.apache.maven:maven-artifact:jar:2.0.6:compile\n[DEBUG]    org.codehaus.plexus:plexus-utils:jar:1.5.6:compile\n[DEBUG] Created new class realm plugin&gt;org.apache.maven.plugins:maven-deploy-plugin:2.7\n[DEBUG] Importing foreign packages into class realm plugin&gt;org.apache.maven.plugins:maven-deploy-plugin:2.7\n[DEBUG]   Imported:  &lt; maven.api\n[DEBUG] Populating class realm plugin&gt;org.apache.maven.plugins:maven-deploy-plugin:2.7\n[DEBUG]   Included: org.apache.maven.plugins:maven-deploy-plugin:jar:2.7\n[DEBUG]   Included: junit:junit:jar:3.8.1\n[DEBUG]   Included: org.codehaus.plexus:plexus-utils:jar:1.5.6\n[DEBUG] Configuring mojo org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file from plugin realm ClassRealm[plugin&gt;org.apache.maven.plugins:maven-deploy-plugin:2.7, parent: jdk.internal.loader.ClassLoaders$AppClassLoader@55054057]\n[DEBUG] Configuring mojo 'org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file' with basic configurator --&gt;\n[DEBUG]   (f) file = /home/ilys/Download/libgroup/libArt/1.0/libArt-1.0.jar\n[DEBUG]   (f) generatePom = true\n[DEBUG]   (s) localRepository =       id: local\n      url: file:///home/ilys/.m2/repository/\n   layout: default\nsnapshots: [enabled =&gt; true, update =&gt; always]\n releases: [enabled =&gt; true, update =&gt; always]\n\n[DEBUG]   (f) offline = false\n[DEBUG]   (f) pomFile = /home/ilys/Download/libgroup/libArt/1.0/libArt-1.0.pom\n[DEBUG]   (f) project = MavenProject: org.apache.maven:standalone-pom:1 @ \n[DEBUG]   (f) repositoryId = gitlab-maven\n[DEBUG]   (f) repositoryLayout = default\n[DEBUG]   (f) retryFailedDeploymentCount = 1\n[DEBUG]   (f) uniqueVersion = true\n[DEBUG]   (f) updateReleaseInfo = false\n[DEBUG]   (f) url = https://gitlab.ipv4/api/v4/group/repo/packages/maven/\n[DEBUG] -- end configuration --\n[DEBUG] Using transporter WagonTransporter with priority -1.0 for https://gitlab.ipv4/api/v4/group/repo/packages/maven/\n[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://gitlab.ipv4/api/v4/group/repo/packages/maven/\nUploading to gitlab-maven: https://gitlab.ipv4/api/v4/group/repo/packages/maven/libgroup/libArt/1.0/libArt-1.0.jar\nUploading to gitlab-maven: https://gitlab.ipv4/api/v4/group/repo/packages/maven/libgroup/libArt/1.0/libArt-1.0.pom\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.784 s\n[INFO] Finished at: 2022-11-07T11:15:53+03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file (default-cli) on project standalone-pom: Failed to deploy artifacts: Could not find artifact libgroup:libArt:jar:1.0 in gitlab-maven (https://gitlab.ipv4/api/v4/group/repo/packages/maven/) -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file (default-cli) on project standalone-pom: Failed to deploy artifacts: Could not find artifact libgroup:libArt:jar:1.0 in gitlab-maven (https://gitlab.ipv4/api/v4/group/repo/packages/maven/)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Failed to deploy artifacts: Could not find artifact libgroup:libArt:jar:1.0 in gitlab-maven (https://gitlab.ipv4/api/v4/group/repo/packages/maven/)\n    at org.apache.maven.plugin.deploy.DeployFileMojo.execute (DeployFileMojo.java:314)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.artifact.deployer.ArtifactDeploymentException: Failed to deploy artifacts: Could not find artifact libgroup:libArt:jar:1.0 in gitlab-maven (https://gitlab.ipv4/api/v4/group/repo/packages/maven/)\n    at org.apache.maven.artifact.deployer.DefaultArtifactDeployer.deploy (DefaultArtifactDeployer.java:146)\n    at org.apache.maven.plugin.deploy.AbstractDeployMojo.deploy (AbstractDeployMojo.java:167)\n    at org.apache.maven.plugin.deploy.DeployFileMojo.execute (DeployFileMojo.java:310)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.eclipse.aether.deployment.DeploymentException: Failed to deploy artifacts: Could not find artifact libgroup:libArt:jar:1.0 in gitlab-maven (https://gitlab.ipv4/api/v4/group/repo/packages/maven/)\n    at org.eclipse.aether.internal.impl.DefaultDeployer.deploy (DefaultDeployer.java:302)\n    at org.eclipse.aether.internal.impl.DefaultDeployer.deploy (DefaultDeployer.java:213)\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.deploy (DefaultRepositorySystem.java:386)\n    at org.apache.maven.artifact.deployer.DefaultArtifactDeployer.deploy (DefaultArtifactDeployer.java:142)\n    at org.apache.maven.plugin.deploy.AbstractDeployMojo.deploy (AbstractDeployMojo.java:167)\n    at org.apache.maven.plugin.deploy.DeployFileMojo.execute (DeployFileMojo.java:310)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.eclipse.aether.transfer.ArtifactNotFoundException: Could not find artifact libgroup:libArt:jar:1.0 in gitlab-maven (https://gitlab.ipv4/api/v4/group/repo/packages/maven/)\n    at org.eclipse.aether.connector.basic.ArtifactTransportListener.transferFailed (ArtifactTransportListener.java:48)\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector$TaskRunner.run (BasicRepositoryConnector.java:369)\n    at org.eclipse.aether.connector.basic.BasicRepositoryConnector.put (BasicRepositoryConnector.java:288)\n    at org.eclipse.aether.internal.impl.DefaultDeployer.deploy (DefaultDeployer.java:295)\n    at org.eclipse.aether.internal.impl.DefaultDeployer.deploy (DefaultDeployer.java:213)\n    at org.eclipse.aether.internal.impl.DefaultRepositorySystem.deploy (DefaultRepositorySystem.java:386)\n    at org.apache.maven.artifact.deployer.DefaultArtifactDeployer.deploy (DefaultArtifactDeployer.java:142)\n    at org.apache.maven.plugin.deploy.AbstractDeployMojo.deploy (AbstractDeployMojo.java:167)\n    at org.apache.maven.plugin.deploy.DeployFileMojo.execute (DeployFileMojo.java:310)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","android","android-studio","ide"],"comments":[{"owner":{"account_id":16268011,"reputation":54,"user_id":11747484,"display_name":"Umair Qayyum"},"score":0,"creation_date":1668055642,"post_id":74383904,"comment_id":131315925,"body_markdown":"you want to perform search on all data exist on firebase (in case of pagination) or search on only visible data(loaded in recycler view)? In case of loaded data please implement filterable in your recyclerview then you can perform search on any item you want have a look at this article  [link] (https://www.howtodoandroid.com/android-recyclerview-search-filter/)","body":"you want to perform search on all data exist on firebase (in case of pagination) or search on only visible data(loaded in recycler view)? In case of loaded data please implement filterable in your recyclerview then you can perform search on any item you want have a look at this article  [link] (<a href=\"https://www.howtodoandroid.com/android-recyclerview-search-filter/\" rel=\"nofollow noreferrer\">howtodoandroid.com/android-recyclerview-search-filter</a>)"}],"answers":[{"tags":[],"owner":{"account_id":22971447,"reputation":9,"user_id":17099739,"display_name":"EladVak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668074533,"creation_date":1668074533,"answer_id":74387197,"question_id":74383904,"body_markdown":"In my project I also used Firebase and searched all the relevant databases.\r\nWhat I did was take the string that the user entered in the search bar, go through the entire RealTime data base and check if the request is contained there.\r\nIf so, return/save it.\r\nSince you are not using a search line (from what I understand from you, you want to search as an admin), you need to create a string that will go through your entire database (in RealTime DB - I simply go through the names of the children (.child) which make up the fields).\r\n\r\nI am attaching a code for how I did it and a link to the project.\r\nYou are welcome to ask me happily.\r\n\r\n\r\nMy example :\r\n\r\n      private void performSearch() {\r\n        recyclerViewShow(false);\r\n        final String searchString = mSearchEditText.getText().toString();\r\n        mDbUser.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                final List&lt;UserCoach&gt; CoachList = new ArrayList&lt;&gt;();\r\n                for (DataSnapshot CoachUser : dataSnapshot.getChildren()) {\r\n                    if (CoachUser.child(&quot;coachUserName&quot;).exists()) {      // if coach user is in firebase\r\n                        System.out.println(&quot;Test Test Test&quot;);\r\n                            String searchCoachUserName = (String) CoachUser.child(&quot;coachUserName&quot;).getValue(); // search by name\r\n                            String searchCoachAddress = (String) CoachUser.child(&quot;address&quot;).getValue(); //search by address\r\n                            if (searchCoachAddress.contains(searchString) || searchCoachUserName.contains(searchString)) {\r\n                                String age = (String) CoachUser.child(&quot;age&quot;).getValue();\r\n                                String imageUrl = (String) CoachUser.child(&quot;profileUrl&quot;).getValue();\r\n                                String address = (String) CoachUser.child(&quot;address&quot;).getValue();\r\n                                String experience = (String) CoachUser.child(&quot;experience&quot;).getValue();\r\n                                String education = (String) CoachUser.child(&quot;education&quot;).getValue();\r\n                                String CoachUserName = (String) CoachUser.child(&quot;coachUserName&quot;).getValue();\r\n                                String gender = (String) CoachUser.child(&quot;gender&quot;).getValue();\r\n                                CoachList.add(new UserCoach(imageUrl, CoachUserName, experience,education,age,address));\r\n                            }\r\n                    }\r\n                mAdapter.setNewItems(CoachList);\r\n                recyclerViewShow(true);\r\n            }\r\n  \r\n     \r\n\r\nFull code - https://github.com/EladVaknin/Journey","title":"How to implement search function in specific &quot;Activity(Page)&quot; of App Android Studio","body":"<p>In my project I also used Firebase and searched all the relevant databases.\nWhat I did was take the string that the user entered in the search bar, go through the entire RealTime data base and check if the request is contained there.\nIf so, return/save it.\nSince you are not using a search line (from what I understand from you, you want to search as an admin), you need to create a string that will go through your entire database (in RealTime DB - I simply go through the names of the children (.child) which make up the fields).</p>\n<p>I am attaching a code for how I did it and a link to the project.\nYou are welcome to ask me happily.</p>\n<p>My example :</p>\n<pre><code>  private void performSearch() {\n    recyclerViewShow(false);\n    final String searchString = mSearchEditText.getText().toString();\n    mDbUser.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            final List&lt;UserCoach&gt; CoachList = new ArrayList&lt;&gt;();\n            for (DataSnapshot CoachUser : dataSnapshot.getChildren()) {\n                if (CoachUser.child(&quot;coachUserName&quot;).exists()) {      // if coach user is in firebase\n                    System.out.println(&quot;Test Test Test&quot;);\n                        String searchCoachUserName = (String) CoachUser.child(&quot;coachUserName&quot;).getValue(); // search by name\n                        String searchCoachAddress = (String) CoachUser.child(&quot;address&quot;).getValue(); //search by address\n                        if (searchCoachAddress.contains(searchString) || searchCoachUserName.contains(searchString)) {\n                            String age = (String) CoachUser.child(&quot;age&quot;).getValue();\n                            String imageUrl = (String) CoachUser.child(&quot;profileUrl&quot;).getValue();\n                            String address = (String) CoachUser.child(&quot;address&quot;).getValue();\n                            String experience = (String) CoachUser.child(&quot;experience&quot;).getValue();\n                            String education = (String) CoachUser.child(&quot;education&quot;).getValue();\n                            String CoachUserName = (String) CoachUser.child(&quot;coachUserName&quot;).getValue();\n                            String gender = (String) CoachUser.child(&quot;gender&quot;).getValue();\n                            CoachList.add(new UserCoach(imageUrl, CoachUserName, experience,education,age,address));\n                        }\n                }\n            mAdapter.setNewItems(CoachList);\n            recyclerViewShow(true);\n        }\n\n \n</code></pre>\n<p>Full code - <a href=\"https://github.com/EladVaknin/Journey\" rel=\"nofollow noreferrer\">https://github.com/EladVaknin/Journey</a></p>\n"}],"owner":{"account_id":26679318,"reputation":11,"user_id":20289498,"display_name":"The Ach"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668074533,"creation_date":1668051831,"question_id":74383904,"body_markdown":"I have recycler view which contains data of Database(Firebase) in Admin Activity(Page).\r\n\r\nThere are Name, IC, Phone, Ticket... info of the Users. And my Admin Activity(Page) has recycler view that contains list of Users with their data(info).\r\n\r\nI managed to made search function but its searching only for &quot;ONE&quot; String, eg. only Name or only IC..., overall my function searching only for &quot;ONE&quot; variable.\r\n\r\nIs it possible to make function in Android Studio (Java) which searching for all the Text appearing on the Screen or on that Activity?\r\n\r\nIn nutshell, I would like to search for Users as Admin, by their Name, IC, Phone.. with whatever data(info) they have.\r\n\r\n```\r\npublic class ActivityOfficer extends AppCompatActivity {\r\n\r\n    RecyclerView recyclerView;\r\n    MainAdapter mainAdapter;\r\n    DatabaseReference root;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_officer);\r\n        recyclerView = (RecyclerView) findViewById(R.id.rv);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n    }\r\n        @Override\r\n        protected void onStart () {\r\n            super.onStart();\r\n\r\n            root = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(&quot;Visitors&quot;);\r\n            if (root != null) {\r\n\r\n                root.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        if(snapshot.exists()) {\r\n                                FirebaseRecyclerOptions&lt;Model&gt; options =\r\n                                        new FirebaseRecyclerOptions.Builder&lt;Model&gt;()\r\n                                                .setQuery(root, Model.class)\r\n                                                .build();\r\n\r\n                                mainAdapter = new MainAdapter(options);\r\n                                mainAdapter.startListening();\r\n                                recyclerView.setAdapter(mainAdapter);\r\n                        }\r\n                    }\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onStop () {\r\n            super.onStop();\r\n            mainAdapter.startListening();\r\n        }\r\n\r\n        @Override\r\n        public boolean onCreateOptionsMenu (Menu menu){\r\n\r\n            getMenuInflater().inflate(R.menu.search, menu);\r\n            MenuItem item = menu.findItem(R.id.search);\r\n            SearchView searchView = (SearchView) item.getActionView();\r\n\r\n            searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n                @Override\r\n                public boolean onQueryTextSubmit(String s) {\r\n                    txtSearch(s);\r\n                    return false;\r\n                }\r\n\r\n                @Override\r\n                public boolean onQueryTextChange(String s) {\r\n                    txtSearch(s);\r\n                    return false;\r\n                }\r\n            });\r\n\r\n            return super.onCreateOptionsMenu(menu);\r\n        }\r\n\r\n```\r\nSearch Function, as you can see for now its searching only for &quot;Ticket Numbers&quot; of Users(Visitors).\r\n\r\n```\r\n    private void txtSearch(String s) {\r\n        FirebaseRecyclerOptions&lt;Model&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;Model&gt;()\r\n                        .setQuery(root.orderByChild(&quot;visitorticket&quot;).startAt(s).endAt(s + &quot;~&quot;), Model.class)\r\n                        .build();\r\n\r\n        mainAdapter = new MainAdapter(options);\r\n        mainAdapter.startListening();\r\n        recyclerView.setAdapter(mainAdapter);\r\n    }\r\n}\r\n```","title":"How to implement search function in specific &quot;Activity(Page)&quot; of App Android Studio","body":"<p>I have recycler view which contains data of Database(Firebase) in Admin Activity(Page).</p>\n<p>There are Name, IC, Phone, Ticket... info of the Users. And my Admin Activity(Page) has recycler view that contains list of Users with their data(info).</p>\n<p>I managed to made search function but its searching only for &quot;ONE&quot; String, eg. only Name or only IC..., overall my function searching only for &quot;ONE&quot; variable.</p>\n<p>Is it possible to make function in Android Studio (Java) which searching for all the Text appearing on the Screen or on that Activity?</p>\n<p>In nutshell, I would like to search for Users as Admin, by their Name, IC, Phone.. with whatever data(info) they have.</p>\n<pre><code>public class ActivityOfficer extends AppCompatActivity {\n\n    RecyclerView recyclerView;\n    MainAdapter mainAdapter;\n    DatabaseReference root;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_officer);\n        recyclerView = (RecyclerView) findViewById(R.id.rv);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n    }\n        @Override\n        protected void onStart () {\n            super.onStart();\n\n            root = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).child(&quot;Visitors&quot;);\n            if (root != null) {\n\n                root.addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        if(snapshot.exists()) {\n                                FirebaseRecyclerOptions&lt;Model&gt; options =\n                                        new FirebaseRecyclerOptions.Builder&lt;Model&gt;()\n                                                .setQuery(root, Model.class)\n                                                .build();\n\n                                mainAdapter = new MainAdapter(options);\n                                mainAdapter.startListening();\n                                recyclerView.setAdapter(mainAdapter);\n                        }\n                    }\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n            }\n        }\n\n        @Override\n        protected void onStop () {\n            super.onStop();\n            mainAdapter.startListening();\n        }\n\n        @Override\n        public boolean onCreateOptionsMenu (Menu menu){\n\n            getMenuInflater().inflate(R.menu.search, menu);\n            MenuItem item = menu.findItem(R.id.search);\n            SearchView searchView = (SearchView) item.getActionView();\n\n            searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n                @Override\n                public boolean onQueryTextSubmit(String s) {\n                    txtSearch(s);\n                    return false;\n                }\n\n                @Override\n                public boolean onQueryTextChange(String s) {\n                    txtSearch(s);\n                    return false;\n                }\n            });\n\n            return super.onCreateOptionsMenu(menu);\n        }\n\n</code></pre>\n<p>Search Function, as you can see for now its searching only for &quot;Ticket Numbers&quot; of Users(Visitors).</p>\n<pre><code>    private void txtSearch(String s) {\n        FirebaseRecyclerOptions&lt;Model&gt; options =\n                new FirebaseRecyclerOptions.Builder&lt;Model&gt;()\n                        .setQuery(root.orderByChild(&quot;visitorticket&quot;).startAt(s).endAt(s + &quot;~&quot;), Model.class)\n                        .build();\n\n        mainAdapter = new MainAdapter(options);\n        mainAdapter.startListening();\n        recyclerView.setAdapter(mainAdapter);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1668964408,"post_id":74386401,"comment_id":131528569,"body_markdown":"&quot;The problem with that code is that the code in doSomething() is executing too fast and as a result, the threads that finish after the first one are already over by the time that the first thread noticed them.&quot; -- this does not make any sense. Can you please give a better explanation of exactly what the problem is?  In other words: 1. What is the expected result? 2. What happens instead?","body":"&quot;The problem with that code is that the code in doSomething() is executing too fast and as a result, the threads that finish after the first one are already over by the time that the first thread noticed them.&quot; -- this does not make any sense. Can you please give a better explanation of exactly what the problem is?  In other words: 1. What is the expected result? 2. What happens instead?"}],"answers":[{"comments":[{"owner":{"account_id":26437929,"reputation":41,"user_id":20082998,"display_name":"janhoegs03"},"score":0,"creation_date":1668078728,"post_id":74387148,"comment_id":131322074,"body_markdown":"Isn&#39;t `executorService.shutDown()` simply going to tell the executor to reject further incoming tasks? Shouldn&#39;t `executorService.shutDownNow()` be used instead?","body":"Isn&#39;t <code>executorService.shutDown()</code> simply going to tell the executor to reject further incoming tasks? Shouldn&#39;t <code>executorService.shutDownNow()</code> be used instead?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1668079238,"post_id":74387148,"comment_id":131322252,"body_markdown":"I am always uncertain, and check such things out. In this case `invokeAny` should have let all threads end. So the only final thing is to shut down the thread pool itself. But please, `shutDownNow` might just be the right thing to do. _I could have tested this fast, and come with a godly claim carved in stone, But better do it yourself._","body":"I am always uncertain, and check such things out. In this case <code>invokeAny</code> should have let all threads end. So the only final thing is to shut down the thread pool itself. But please, <code>shutDownNow</code> might just be the right thing to do. <i>I could have tested this fast, and come with a godly claim carved in stone, But better do it yourself.</i>"}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668074278,"creation_date":1668074278,"answer_id":74387148,"question_id":74386401,"body_markdown":"&gt; First where I copied code snippets from: https://www.baeldung.com/java-executor-service-tutorial .\r\n\r\nAs you have 5 tasks of which every one can produce the result, I prefer `Callable`, but `Runnable` with a side effect is handled likewise.\r\n\r\nThe almost simultaneous start, the Future task aspect, and picking the first result can be done by `invokeAny` below:\r\n\r\n    Callable&lt;Integer&gt; callable1 = () -&gt; {\r\n        return 1*2*3*5*7/5;\r\n    };\r\n    \r\n    List&lt;Callable&lt;Integer&gt;&gt; callables = List.of(callable1, callable2, ...);\r\n\r\n    ExecutorService executorService = new ThreadPoolExecutor(5);\r\n\r\n    Integer results = executorService.invokeAny(callables);\r\n    executorService.shutDown();\r\n\r\n&gt; **`invokeAny()`** assigns a collection of tasks to an `ExecutorService`, causing each to run, and returns the result of a successful execution of one task (if there was a successful execution).","title":"How to stop all threads as soon as one is finished?","body":"<blockquote>\n<p>First where I copied code snippets from: <a href=\"https://www.baeldung.com/java-executor-service-tutorial\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-executor-service-tutorial</a> .</p>\n</blockquote>\n<p>As you have 5 tasks of which every one can produce the result, I prefer <code>Callable</code>, but <code>Runnable</code> with a side effect is handled likewise.</p>\n<p>The almost simultaneous start, the Future task aspect, and picking the first result can be done by <code>invokeAny</code> below:</p>\n<pre><code>Callable&lt;Integer&gt; callable1 = () -&gt; {\n    return 1*2*3*5*7/5;\n};\n\nList&lt;Callable&lt;Integer&gt;&gt; callables = List.of(callable1, callable2, ...);\n\nExecutorService executorService = new ThreadPoolExecutor(5);\n\nInteger results = executorService.invokeAny(callables);\nexecutorService.shutDown();\n</code></pre>\n<blockquote>\n<p><strong><code>invokeAny()</code></strong> assigns a collection of tasks to an <code>ExecutorService</code>, causing each to run, and returns the result of a successful execution of one task (if there was a successful execution).</p>\n</blockquote>\n"}],"owner":{"account_id":26437929,"reputation":41,"user_id":20082998,"display_name":"janhoegs03"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668074278,"creation_date":1668070760,"question_id":74386401,"body_markdown":"I have 5 threads (5 instances of one Runnable class) starting approximately at the same time  (using `CyclicBarrier`) and I need to stop them all as soon as one of them finished.\r\n\r\nCurrently, I have a `static` `volatile` `boolean` field `threadsOver` that I&#39;m setting to true at the end of `doSomething()`, the method that `run()` is calling.\r\n\r\n```java\r\nprivate static final CyclicBarrier barrier = new CyclicBarrier(5);\r\nprivate static volatile boolean threadsOver;\r\n```\r\n\r\n```java\r\n@Override\r\npublic void run() {\r\n    try {\r\n        /* waiting for all threads to have been initialised,\r\n           so as to start them at the same time */\r\n        barrier.await();\r\n        doSomething();\r\n    } catch (InterruptedException | BrokenBarrierException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic void doSomething() {\r\n    // while something AND if the threads are not over yet\r\n    while (someCondition &amp;&amp; !threadsOver) {\r\n         // some lines of code\r\n    }\r\n    // if the threads are not over yet, it means I&#39;m the first one to finish\r\n    if (!threadsOver) {\r\n         // so I&#39;m telling the other threads to stop\r\n         threadsOver = true;\r\n    }\r\n}\r\n```\r\n\r\nThe problem with that code is that the code in `doSomething()` is executing too fast and as a result, the threads that finish after the first one are already over by the time that the first thread noticed them.\r\n\r\nI tried adding some delay in `doSomething()` using `Thread.sleep()`, which reduced the number of threads which finished even after the first one, but there are still some times where 2 or 3 threads will finish execution completely.\r\n\r\nHow could I make sure that when one thread is finished, all of the others don&#39;t execute all the way to the end?","title":"How to stop all threads as soon as one is finished?","body":"<p>I have 5 threads (5 instances of one Runnable class) starting approximately at the same time  (using <code>CyclicBarrier</code>) and I need to stop them all as soon as one of them finished.</p>\n<p>Currently, I have a <code>static</code> <code>volatile</code> <code>boolean</code> field <code>threadsOver</code> that I'm setting to true at the end of <code>doSomething()</code>, the method that <code>run()</code> is calling.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final CyclicBarrier barrier = new CyclicBarrier(5);\nprivate static volatile boolean threadsOver;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void run() {\n    try {\n        /* waiting for all threads to have been initialised,\n           so as to start them at the same time */\n        barrier.await();\n        doSomething();\n    } catch (InterruptedException | BrokenBarrierException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public void doSomething() {\n    // while something AND if the threads are not over yet\n    while (someCondition &amp;&amp; !threadsOver) {\n         // some lines of code\n    }\n    // if the threads are not over yet, it means I'm the first one to finish\n    if (!threadsOver) {\n         // so I'm telling the other threads to stop\n         threadsOver = true;\n    }\n}\n</code></pre>\n<p>The problem with that code is that the code in <code>doSomething()</code> is executing too fast and as a result, the threads that finish after the first one are already over by the time that the first thread noticed them.</p>\n<p>I tried adding some delay in <code>doSomething()</code> using <code>Thread.sleep()</code>, which reduced the number of threads which finished even after the first one, but there are still some times where 2 or 3 threads will finish execution completely.</p>\n<p>How could I make sure that when one thread is finished, all of the others don't execute all the way to the end?</p>\n"},{"tags":["java","azure","azure-blob-storage","azure-blob-trigger"],"answers":[{"comments":[{"owner":{"account_id":6297287,"reputation":2661,"user_id":8870132,"display_name":"Raman Mishra"},"score":0,"creation_date":1565350320,"post_id":57421567,"comment_id":101336098,"body_markdown":"Its not that simple actually I am not able to get the content tho content is there as [] bytes","body":"Its not that simple actually I am not able to get the content tho content is there as [] bytes"},{"owner":{"account_id":2541889,"reputation":684,"user_id":2207508,"accept_rate":70,"display_name":"David C"},"score":0,"creation_date":1565385187,"post_id":57421567,"comment_id":101351824,"body_markdown":"You need to convert the byte array to whatever type it is, if it is a plain text file you can read it as a string.","body":"You need to convert the byte array to whatever type it is, if it is a plain text file you can read it as a string."},{"owner":{"account_id":6297287,"reputation":2661,"user_id":8870132,"display_name":"Raman Mishra"},"score":0,"creation_date":1565413666,"post_id":57421567,"comment_id":101355904,"body_markdown":"I did tried that is not working for me but thanks for the help","body":"I did tried that is not working for me but thanks for the help"},{"owner":{"account_id":2541889,"reputation":684,"user_id":2207508,"accept_rate":70,"display_name":"David C"},"score":0,"creation_date":1565428384,"post_id":57421567,"comment_id":101358206,"body_markdown":"No worries, show some code if you want more help with it.","body":"No worries, show some code if you want more help with it."}],"tags":[],"owner":{"account_id":2541889,"reputation":684,"user_id":2207508,"accept_rate":70,"display_name":"David C"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1565304623,"creation_date":1565304623,"answer_id":57421567,"question_id":57419432,"body_markdown":"It looks pretty straightforward from the example documentation - https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-blob#trigger---java-example\r\n\r\n    @FunctionName(&quot;blobprocessor&quot;)\r\n    public void run(\r\n        @BlobTrigger(name = &quot;file&quot;,\r\n                     dataType = &quot;binary&quot;,\r\n                     path = &quot;myblob/{name}&quot;,\r\n                     connection = &quot;MyStorageAccountAppSetting&quot;) byte[] content,\r\n        @BindingName(&quot;name&quot;) String filename,\r\n        final ExecutionContext context\r\n    ) {\r\n        context.getLogger().info(&quot;Name: &quot; + filename + &quot; Size: &quot; + content.length + &quot; bytes&quot;);\r\n    }\r\n\r\nThe content gets passed in as a byte array. ","title":"Is there any way to get the file content which is triggring azure blob trigger?","body":"<p>It looks pretty straightforward from the example documentation - <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-blob#trigger---java-example\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-functions/functions-bindings-storage-blob#trigger---java-example</a></p>\n\n<pre><code>@FunctionName(\"blobprocessor\")\npublic void run(\n    @BlobTrigger(name = \"file\",\n                 dataType = \"binary\",\n                 path = \"myblob/{name}\",\n                 connection = \"MyStorageAccountAppSetting\") byte[] content,\n    @BindingName(\"name\") String filename,\n    final ExecutionContext context\n) {\n    context.getLogger().info(\"Name: \" + filename + \" Size: \" + content.length + \" bytes\");\n}\n</code></pre>\n\n<p>The content gets passed in as a byte array. </p>\n"},{"tags":[],"owner":{"account_id":18162111,"reputation":23,"user_id":13213344,"display_name":"Madhura.M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668073967,"creation_date":1668072842,"answer_id":74386854,"question_id":57419432,"body_markdown":"One of the way we can get the file content is \r\n````\r\n@FunctionName(&quot;BlobTrigger-Java&quot;)\r\n    public void blobTriggerWhenUploadFile(\r\n            @BlobTrigger(name = &quot;content&quot;, path = &quot;data/{name}&quot;, dataType = &quot;binary&quot;, connection = &quot;StorageConnection&quot;) String content,\r\n            @BindingName(&quot;name&quot;) String name,\r\n            final ExecutionContext context\r\n    ) {\r\n````\r\n\r\nThis is working code\r\n````\r\nimport com.microsoft.azure.functions.annotation.*;\r\nimport com.microsoft.azure.functions.*;\r\n\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.nio.charset.StandardCharsets;\r\nimport org.apache.commons.io.IOUtils;\r\n\r\n/**\r\n * Azure Functions with Azure Blob trigger.\r\n */\r\npublic class BlobTriggerFunction {\r\n    /**\r\n     * This function will be invoked when a new or updated blob is detected at the specified path. The blob contents are provided as input to this function.\r\n     *\r\n     * @return\r\n     */\r\n    @FunctionName(&quot;BlobTrigger-Java&quot;)\r\n    public void blobTriggerWhenUploadFile(\r\n            @BlobTrigger(name = &quot;content&quot;, path = &quot;data/{name}&quot;, dataType = &quot;binary&quot;, connection = &quot;StorageConnection&quot;) byte[] content,\r\n            @BindingName(&quot;name&quot;) String name,\r\n            final ExecutionContext context\r\n    ) {\r\n        \r\n        context.getLogger().info(&quot;Java Blob trigger function processed a blob. Name: &quot; + name + &quot;\\n  Size: &quot; + content.length + &quot; Bytes&quot;);\r\n//String result=new String(content,StandardCharsets.UTF_8);\r\n        InputStream inputStream = new ByteArrayInputStream(content);\r\n        String result = null;\r\n        try {\r\n            result = IOUtils.toString(inputStream, StandardCharsets.UTF_8);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        context.getLogger().info(&quot;The upload file content is: &quot; + result);\r\n\r\n    }\r\n}\r\n````","title":"Is there any way to get the file content which is triggring azure blob trigger?","body":"<p>One of the way we can get the file content is</p>\n<pre><code>@FunctionName(&quot;BlobTrigger-Java&quot;)\n    public void blobTriggerWhenUploadFile(\n            @BlobTrigger(name = &quot;content&quot;, path = &quot;data/{name}&quot;, dataType = &quot;binary&quot;, connection = &quot;StorageConnection&quot;) String content,\n            @BindingName(&quot;name&quot;) String name,\n            final ExecutionContext context\n    ) {\n</code></pre>\n<p>This is working code</p>\n<pre><code>import com.microsoft.azure.functions.annotation.*;\nimport com.microsoft.azure.functions.*;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.charset.StandardCharsets;\nimport org.apache.commons.io.IOUtils;\n\n/**\n * Azure Functions with Azure Blob trigger.\n */\npublic class BlobTriggerFunction {\n    /**\n     * This function will be invoked when a new or updated blob is detected at the specified path. The blob contents are provided as input to this function.\n     *\n     * @return\n     */\n    @FunctionName(&quot;BlobTrigger-Java&quot;)\n    public void blobTriggerWhenUploadFile(\n            @BlobTrigger(name = &quot;content&quot;, path = &quot;data/{name}&quot;, dataType = &quot;binary&quot;, connection = &quot;StorageConnection&quot;) byte[] content,\n            @BindingName(&quot;name&quot;) String name,\n            final ExecutionContext context\n    ) {\n        \n        context.getLogger().info(&quot;Java Blob trigger function processed a blob. Name: &quot; + name + &quot;\\n  Size: &quot; + content.length + &quot; Bytes&quot;);\n//String result=new String(content,StandardCharsets.UTF_8);\n        InputStream inputStream = new ByteArrayInputStream(content);\n        String result = null;\n        try {\n            result = IOUtils.toString(inputStream, StandardCharsets.UTF_8);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        context.getLogger().info(&quot;The upload file content is: &quot; + result);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6297287,"reputation":2661,"user_id":8870132,"display_name":"Raman Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57421567,"answer_count":2,"score":0,"last_activity_date":1668073967,"creation_date":1565292369,"question_id":57419432,"body_markdown":"So I have created a Azure blob trigger, and it is working fine as soon as I put some file or create some directory on the blob the trigger happens. \r\n\r\n**Question:** Now I can not figure out how can I get the same file content which causes the blob trigger.\r\n\r\nI can get the files using Azure storage library, but I am going to upload lots of files on the blob and want to do some processing on the file which has just written on the blob.\r\n\r\nThanks in advance","title":"Is there any way to get the file content which is triggring azure blob trigger?","body":"<p>So I have created a Azure blob trigger, and it is working fine as soon as I put some file or create some directory on the blob the trigger happens. </p>\n\n<p><strong>Question:</strong> Now I can not figure out how can I get the same file content which causes the blob trigger.</p>\n\n<p>I can get the files using Azure storage library, but I am going to upload lots of files on the blob and want to do some processing on the file which has just written on the blob.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1668040956,"post_id":74382862,"comment_id":131313893,"body_markdown":"*Am I just stuck converting the File to a String and processing it inside every Object that needs it with getResourceAsStream()?* it&#39;s neither a file nor a string. It is a resource inside your jar and that&#39;s exactly the call you should use on it. You don&#39;t need an instance to call it either. `X.class.getResourceAsStream` will work fine","body":"<i>Am I just stuck converting the File to a String and processing it inside every Object that needs it with getResourceAsStream()?</i> it&#39;s neither a file nor a string. It is a resource inside your jar and that&#39;s exactly the call you should use on it. You don&#39;t need an instance to call it either. <code>X.class.getResourceAsStream</code> will work fine"},{"owner":{"account_id":16933435,"reputation":85,"user_id":12247094,"display_name":"Orion"},"score":0,"creation_date":1668041150,"post_id":74382862,"comment_id":131313920,"body_markdown":"I meant if I was stuck using the `File`&#39;s path as a `String` with `getResourceAsStream()` . And it seems like the answer is &quot;yes&quot;. Time to rewrite, I suppose. Thank you.","body":"I meant if I was stuck using the <code>File</code>&#39;s path as a <code>String</code> with <code>getResourceAsStream()</code> . And it seems like the answer is &quot;yes&quot;. Time to rewrite, I suppose. Thank you."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668041290,"post_id":74382862,"comment_id":131313940,"body_markdown":"I&#39;m not really with you on this part of your question. An example argument to that call would be &quot;/images/foo.jpg&quot;. Nothing to do with files. That&#39;s actually a URL that is relative to the package root. It will work whether or not your app is packaged as a jar","body":"I&#39;m not really with you on this part of your question. An example argument to that call would be &quot;/images/foo.jpg&quot;. Nothing to do with files. That&#39;s actually a URL that is relative to the package root. It will work whether or not your app is packaged as a jar"},{"owner":{"account_id":16933435,"reputation":85,"user_id":12247094,"display_name":"Orion"},"score":0,"creation_date":1668041618,"post_id":74382862,"comment_id":131314003,"body_markdown":"That&#39;s a `String`, yes? It&#39;s pretty much the same thing I&#39;d put in the `File` constructor, just a relative path to the image. If that doesn&#39;t make sense to you, it&#39;s probably because I&#39;m not used to dealing with `jar` files, and it&#39;s a moot point anyway because of what you told me about how to accomplish this.","body":"That&#39;s a <code>String</code>, yes? It&#39;s pretty much the same thing I&#39;d put in the <code>File</code> constructor, just a relative path to the image. If that doesn&#39;t make sense to you, it&#39;s probably because I&#39;m not used to dealing with <code>jar</code> files, and it&#39;s a moot point anyway because of what you told me about how to accomplish this."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668041714,"post_id":74382862,"comment_id":131314014,"body_markdown":"Oh yes it&#39;s a string alright. But read-only application &#39;files&#39; should always be resources","body":"Oh yes it&#39;s a string alright. But read-only application &#39;files&#39; should always be resources"},{"owner":{"account_id":16933435,"reputation":85,"user_id":12247094,"display_name":"Orion"},"score":0,"creation_date":1668041876,"post_id":74382862,"comment_id":131314043,"body_markdown":"Thanks for the tip. It&#39;s my first time doing something like this (successfully, anyway, I have other questions here where I failed to get a proper runnable `jar`, but that&#39;s beside the point), so I&#39;m not sure of the best practices here.","body":"Thanks for the tip. It&#39;s my first time doing something like this (successfully, anyway, I have other questions here where I failed to get a proper runnable <code>jar</code>, but that&#39;s beside the point), so I&#39;m not sure of the best practices here."}],"answers":[{"tags":[],"owner":{"account_id":26862019,"reputation":99,"user_id":20445337,"display_name":"CTRL ALT DELETE"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668044693,"creation_date":1668044693,"answer_id":74383282,"question_id":74382862,"body_markdown":"There are many ways to load a file from inside a jar, but the most common way is to use the ClassLoader.getResourceAsStream() method.","title":"How can I load a file from inside a jar in a static way?","body":"<p>There are many ways to load a file from inside a jar, but the most common way is to use the ClassLoader.getResourceAsStream() method.</p>\n"},{"comments":[{"owner":{"account_id":16933435,"reputation":85,"user_id":12247094,"display_name":"Orion"},"score":0,"creation_date":1668067602,"post_id":74383530,"comment_id":131318362,"body_markdown":"Damn, that is a great and thorough explanation. Thank you. Indeed, I did not understand what `File` actually was. What I was taught of Java ends just before creating a GUI and loading images and such, hence the massive gaps in my knowledge and potentially &quot;strange&quot; doubts. Is this safe if there are non-standard characters in the path (accents, for instance) and spaces, or do I need to take other precautions?","body":"Damn, that is a great and thorough explanation. Thank you. Indeed, I did not understand what <code>File</code> actually was. What I was taught of Java ends just before creating a GUI and loading images and such, hence the massive gaps in my knowledge and potentially &quot;strange&quot; doubts. Is this safe if there are non-standard characters in the path (accents, for instance) and spaces, or do I need to take other precautions?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1668070402,"post_id":74383530,"comment_id":131319288,"body_markdown":"Shuold be safe, yes.","body":"Shuold be safe, yes."},{"owner":{"account_id":16933435,"reputation":85,"user_id":12247094,"display_name":"Orion"},"score":0,"creation_date":1668071487,"post_id":74383530,"comment_id":131319633,"body_markdown":"Then I must be doing something wrong. I&#39;m getting a `NullPointerException` because `getResource()` can&#39;t find the image. It works in the IDE (I just need to find a way to resize the images now), but not in the `jar`. For what it&#39;s worth, I had to add a leading slash to the String because it wouldn&#39;t work anywhere otherwise.","body":"Then I must be doing something wrong. I&#39;m getting a <code>NullPointerException</code> because <code>getResource()</code> can&#39;t find the image. It works in the IDE (I just need to find a way to resize the images now), but not in the <code>jar</code>. For what it&#39;s worth, I had to add a leading slash to the String because it wouldn&#39;t work anywhere otherwise."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1668073705,"post_id":74383530,"comment_id":131320406,"body_markdown":"Yes, the lack of leading slash was a typo, I fixed that. If it doesn&#39;t &quot;work&quot; after a build, your build is misconfigured. getting resource &quot;/foo/bar.txt&quot; means that if you run `jar tvf myjar.jar`, /foo/bar.txt should be in there.","body":"Yes, the lack of leading slash was a typo, I fixed that. If it doesn&#39;t &quot;work&quot; after a build, your build is misconfigured. getting resource &quot;/foo/bar.txt&quot; means that if you run <code>jar tvf myjar.jar</code>, /foo/bar.txt should be in there."},{"owner":{"account_id":16933435,"reputation":85,"user_id":12247094,"display_name":"Orion"},"score":0,"creation_date":1668074325,"post_id":74383530,"comment_id":131320636,"body_markdown":"It&#39;s there. `images/blank.png` shows up between all the `.class` files and the `META-INF` subfolders and their contents. The actual error says `java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null`, in case I misinterpreted the issue.","body":"It&#39;s there. <code>images&#47;blank.png</code> shows up between all the <code>.class</code> files and the <code>META-INF</code> subfolders and their contents. The actual error says <code>java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null</code>, in case I misinterpreted the issue."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1668076447,"post_id":74383530,"comment_id":131321319,"body_markdown":"You didn&#39;t misinterpret. If that&#39;s in the jar, `.getResource(&quot;/images/blank.png&quot;)` __will__ work. You can print `System.out.println(MyClass.class.getResource(&quot;MyClass.class&quot;))` to check where it&#39;s looking. Perhaps you&#39;re not running the jar you think you are? I&#39;m grasping at straws :P","body":"You didn&#39;t misinterpret. If that&#39;s in the jar, <code>.getResource(&quot;&#47;images&#47;blank.png&quot;)</code> <b>will</b> work. You can print <code>System.out.println(MyClass.class.getResource(&quot;MyClass.class&quot;&zwnj;&#8203;))</code> to check where it&#39;s looking. Perhaps you&#39;re not running the jar you think you are? I&#39;m grasping at straws :P"},{"owner":{"account_id":16933435,"reputation":85,"user_id":12247094,"display_name":"Orion"},"score":0,"creation_date":1668076818,"post_id":74383530,"comment_id":131321437,"body_markdown":"I tried that with the blank image&#39;s URL. It&#39;s correct, if I interpreted its formatting correctly. It goes `jar:file:/D:/Programming/Card%20game/Game/target/Game-0.0.1.jar!/images/blank.png`. If I pop open the `.jar`, I can see that the images really are at that location. Perhaps I should open a new question?","body":"I tried that with the blank image&#39;s URL. It&#39;s correct, if I interpreted its formatting correctly. It goes <code>jar:file:&#47;D:&#47;Programming&#47;Card%20game&#47;Game&#47;target&#47;Game-0.0.1.&zwnj;&#8203;jar!&#47;images&#47;blank.pn&zwnj;&#8203;g</code>. If I pop open the <code>.jar</code>, I can see that the images really are at that location. Perhaps I should open a new question?"},{"owner":{"account_id":16933435,"reputation":85,"user_id":12247094,"display_name":"Orion"},"score":0,"creation_date":1668174323,"post_id":74383530,"comment_id":131348093,"body_markdown":"I figured out the problem. All image files are lowercase, but I put the first letter in one file uppercase in the code. I assumed that, like Windows, Java treated file and directory names as case-insensitive, and didn&#39;t bother too much with that. I don&#39;t know why this worked in the IDE but not in the Command Prompt, but that was the issue. Thank you again for your help.","body":"I figured out the problem. All image files are lowercase, but I put the first letter in one file uppercase in the code. I assumed that, like Windows, Java treated file and directory names as case-insensitive, and didn&#39;t bother too much with that. I don&#39;t know why this worked in the IDE but not in the Command Prompt, but that was the issue. Thank you again for your help."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1668180469,"post_id":74383530,"comment_id":131350388,"body_markdown":"If the actual resource is on disk directly (which it will be in IDEs), it&#39;s case insensitive if the underlying file system is (so, on normally configured windows and macs, it would work, on linuxen it won&#39;t). But jar files are case sensitive, thus, fails then. Good to know, I&#39;ll put &#39;check casing&#39; in my arsenal :)","body":"If the actual resource is on disk directly (which it will be in IDEs), it&#39;s case insensitive if the underlying file system is (so, on normally configured windows and macs, it would work, on linuxen it won&#39;t). But jar files are case sensitive, thus, fails then. Good to know, I&#39;ll put &#39;check casing&#39; in my arsenal :)"}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668073660,"creation_date":1668047387,"answer_id":74383530,"question_id":74382862,"body_markdown":"`new File` means __a file__. An entry in a jar file isn&#39;t one. If you mention `File` anywhere in the code, the game is lost immediately.\r\n\r\n&gt; (also, it makes no sense to instantiate something when all its instances would be identical - that&#39;s just a waste of time and resources).\r\n\r\nThis mindset is highly detrimental. It leads to writing bad code. Bad in all senses:\r\n\r\n* Significantly harder to test.\r\n* Slower to execute. (Lots of fast garbage is actually faster than a few cached objects. Read up on CPU cache behaviour and generational garbage collecting to figure out that &#39;long lived objects used in many places&#39; is a lot worse than you might think and &#39;objects that are created and are nearly immediately garbage afterwards&#39; actually costs pretty much nothing whatsoever - the exact opposite of the mindset you appear to still be labouring under).\r\n* Not idiomatic (java is no longer written that way; it makes interacting with other java programmers in terms of code more difficult than it needs to be).\r\n* Not flexible (changing code written with your mindset when requirements change and feature requests pop up, is harder than it needs to be).\r\n\r\n&gt; Am I just stuck converting the File to a String and processing it inside every Object that needs it with getResourceAsStream()?\r\n\r\nI think you severely misunderstand what `File` is, then. File is just a light wrapper; it has one field, of type String, which represents the path. This:\r\n\r\n```java\r\nprivate static final File MY_IMG_FILE = new File(&quot;/foo/bar&quot;);\r\n\r\npublic JLabel codeThatIsInvokedALot() {\r\n  return new JLabel(new ImageIcon(MY_IMG_FILE));\r\n}\r\n```\r\n\r\nIs exactly as inefficient as:\r\n\r\n```java\r\npublic JLabel codeThatIsInvokedALot() {\r\n  return new JLabel(new ImageIcon(MyClass.class.getResource(&quot;/foo/bar&quot;));\r\n}\r\n```\r\n\r\nIn the sense that you pay 1 point for the allocation of some objects, and 100,000,000,000 points (that&#39;s not an exaggeration, that is a roughly accurate sense of scale) for opening the jar file (or file on disk) and reading the actual bytes representing the image from it. If you&#39;re very very lucky your OS does some disk caching and will turn that into a 1 vs. 1 million gap instead.\r\n\r\nIf you want &#39;efficiency&#39;, you want to load the __entire image__ once. &quot;Create the file object only once&quot; is completely meaningless for performance reasons. A `File` object __does not cache the contents of that file__ - just its location, and talking about &#39;caching&#39; of this doesn&#39;t bear talking about (you&#39;re caching... about 80 bits worth. The lookup costs 500x more than creating it whole cloth, again not an exagerration).\r\n\r\n\r\nSo how is it done? Not difficult at all:\r\n\r\n```java\r\npublic class MyImages {\r\n  private final ImageIcon BLANK_IMAGE;\r\n\r\n  static {\r\n    BLANK_IMAGE = resourceToImage(&quot;/images/blankImage.png&quot;);\r\n  }\r\n\r\n  public static ImageIcon getBlankImage() { return BLANK_IMAGE; }\r\n\r\n  private static ImageIcon resourceToImage(String rsc) {\r\n    return new ImageIcon(MyImages.class.getResource(rsc));\r\n  }\r\n}\r\n```\r\n\r\nThis will:\r\n\r\n* The first time the JVM executes any code that so much as mentions `MyImages`, it&#39;ll load the `MyImages` class. Presumably, this will occur not quite &#39;on boot&#39; but very soon afterwards naturally.\r\n* Any further times any code mentions MyImages, it&#39;s already loaded; classes are only loaded at most once.\r\n* Loading MyImages is a heavy duty job - it&#39;ll run the static block first (and any other threads that also touch MyImages will be blocked until the first thread is done loading it), and this will actually open up the jar file and read the png file, and decompress it into a raw image map.\r\n* MyImages, the class, will have a relatively sizable memory footprint in the heap due to having to host all those unpacked images.\r\n* `return new JLabel(MyImages.getBlankIcon())` will (unless this is the very first time any code in this JVM execution touches MyImages) execute very quickly and doesn&#39;t touch the disk whatsoever.\r\n* I&#39;m pretty sure creating 15 jlabels all with the same icon do not cost significant amounts of memory - they are all using the same underlying unpackaged pixeldata in the one instance of `ImageIcon`.\r\n* Uses the right way to do this: `SomeContextClass.class.getResource`. This is strictly superior to going via the classloader, or using `getClass()` instead of `SomeContextClass.class`: These commonly shown alternatives fail in exotic circumstances (bootloaders, agents, etc - these get a `null` classloader), fail in less exotic circumstances (modular systems where you subclass breaks `getClass()` style), and `MyClass.class.getResource` is simple, succint, idiomatic, and has fewer failure modes than all alternatives.\r\n","title":"How can I load a file from inside a jar in a static way?","body":"<p><code>new File</code> means <strong>a file</strong>. An entry in a jar file isn't one. If you mention <code>File</code> anywhere in the code, the game is lost immediately.</p>\n<blockquote>\n<p>(also, it makes no sense to instantiate something when all its instances would be identical - that's just a waste of time and resources).</p>\n</blockquote>\n<p>This mindset is highly detrimental. It leads to writing bad code. Bad in all senses:</p>\n<ul>\n<li>Significantly harder to test.</li>\n<li>Slower to execute. (Lots of fast garbage is actually faster than a few cached objects. Read up on CPU cache behaviour and generational garbage collecting to figure out that 'long lived objects used in many places' is a lot worse than you might think and 'objects that are created and are nearly immediately garbage afterwards' actually costs pretty much nothing whatsoever - the exact opposite of the mindset you appear to still be labouring under).</li>\n<li>Not idiomatic (java is no longer written that way; it makes interacting with other java programmers in terms of code more difficult than it needs to be).</li>\n<li>Not flexible (changing code written with your mindset when requirements change and feature requests pop up, is harder than it needs to be).</li>\n</ul>\n<blockquote>\n<p>Am I just stuck converting the File to a String and processing it inside every Object that needs it with getResourceAsStream()?</p>\n</blockquote>\n<p>I think you severely misunderstand what <code>File</code> is, then. File is just a light wrapper; it has one field, of type String, which represents the path. This:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final File MY_IMG_FILE = new File(&quot;/foo/bar&quot;);\n\npublic JLabel codeThatIsInvokedALot() {\n  return new JLabel(new ImageIcon(MY_IMG_FILE));\n}\n</code></pre>\n<p>Is exactly as inefficient as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public JLabel codeThatIsInvokedALot() {\n  return new JLabel(new ImageIcon(MyClass.class.getResource(&quot;/foo/bar&quot;));\n}\n</code></pre>\n<p>In the sense that you pay 1 point for the allocation of some objects, and 100,000,000,000 points (that's not an exaggeration, that is a roughly accurate sense of scale) for opening the jar file (or file on disk) and reading the actual bytes representing the image from it. If you're very very lucky your OS does some disk caching and will turn that into a 1 vs. 1 million gap instead.</p>\n<p>If you want 'efficiency', you want to load the <strong>entire image</strong> once. &quot;Create the file object only once&quot; is completely meaningless for performance reasons. A <code>File</code> object <strong>does not cache the contents of that file</strong> - just its location, and talking about 'caching' of this doesn't bear talking about (you're caching... about 80 bits worth. The lookup costs 500x more than creating it whole cloth, again not an exagerration).</p>\n<p>So how is it done? Not difficult at all:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyImages {\n  private final ImageIcon BLANK_IMAGE;\n\n  static {\n    BLANK_IMAGE = resourceToImage(&quot;/images/blankImage.png&quot;);\n  }\n\n  public static ImageIcon getBlankImage() { return BLANK_IMAGE; }\n\n  private static ImageIcon resourceToImage(String rsc) {\n    return new ImageIcon(MyImages.class.getResource(rsc));\n  }\n}\n</code></pre>\n<p>This will:</p>\n<ul>\n<li>The first time the JVM executes any code that so much as mentions <code>MyImages</code>, it'll load the <code>MyImages</code> class. Presumably, this will occur not quite 'on boot' but very soon afterwards naturally.</li>\n<li>Any further times any code mentions MyImages, it's already loaded; classes are only loaded at most once.</li>\n<li>Loading MyImages is a heavy duty job - it'll run the static block first (and any other threads that also touch MyImages will be blocked until the first thread is done loading it), and this will actually open up the jar file and read the png file, and decompress it into a raw image map.</li>\n<li>MyImages, the class, will have a relatively sizable memory footprint in the heap due to having to host all those unpacked images.</li>\n<li><code>return new JLabel(MyImages.getBlankIcon())</code> will (unless this is the very first time any code in this JVM execution touches MyImages) execute very quickly and doesn't touch the disk whatsoever.</li>\n<li>I'm pretty sure creating 15 jlabels all with the same icon do not cost significant amounts of memory - they are all using the same underlying unpackaged pixeldata in the one instance of <code>ImageIcon</code>.</li>\n<li>Uses the right way to do this: <code>SomeContextClass.class.getResource</code>. This is strictly superior to going via the classloader, or using <code>getClass()</code> instead of <code>SomeContextClass.class</code>: These commonly shown alternatives fail in exotic circumstances (bootloaders, agents, etc - these get a <code>null</code> classloader), fail in less exotic circumstances (modular systems where you subclass breaks <code>getClass()</code> style), and <code>MyClass.class.getResource</code> is simple, succint, idiomatic, and has fewer failure modes than all alternatives.</li>\n</ul>\n"}],"owner":{"account_id":16933435,"reputation":85,"user_id":12247094,"display_name":"Orion"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74383530,"answer_count":2,"score":0,"last_activity_date":1668073660,"creation_date":1668040161,"question_id":74382862,"body_markdown":"I have a &quot;default&quot; image file that&#39;s meant to be used if the &quot;proper&quot; image file doesn&#39;t exist. I&#39;m using Maven to create the ```jar``` and have placed the file under ```resources/images```, along with the other images I already have.\r\n\r\nThe file is defined in a class that has a few defaults:\r\n\r\n```\r\npublic class Defaults {\r\n    public static final File BLANK_IMAGE = new File(relative_path_to_image);\r\n    //Other defaults\r\n}\r\n```\r\n\r\nThis works within the IDE, but not if I try to create a ```jar``` - if I do and run it from the Command Prompt, it spits out the message I wrote for when a specific file can&#39;t be found.\r\n\r\nI&#39;ve looked at several potential solutions, but they all rely on non-static methods, which can&#39;t be used here since the ```File``` is static (also, it makes no sense to instantiate something when all its instances would be identical - that&#39;s just a waste of time and resources). \r\n\r\nAm I just stuck converting the ```File``` to a ```String``` and processing it inside every ```Object``` that needs it with ```getResourceAsStream()```?\r\n\r\nThe file is placed on a few ```JLabel``` instances (ones that are meant to have images that haven&#39;t been created yet) by first converting it into a ```BufferedImage```. I mention this in case there are better ways of achieving the same result that bypass the problem I&#39;m having.","title":"How can I load a file from inside a jar in a static way?","body":"<p>I have a &quot;default&quot; image file that's meant to be used if the &quot;proper&quot; image file doesn't exist. I'm using Maven to create the <code>jar</code> and have placed the file under <code>resources/images</code>, along with the other images I already have.</p>\n<p>The file is defined in a class that has a few defaults:</p>\n<pre><code>public class Defaults {\n    public static final File BLANK_IMAGE = new File(relative_path_to_image);\n    //Other defaults\n}\n</code></pre>\n<p>This works within the IDE, but not if I try to create a <code>jar</code> - if I do and run it from the Command Prompt, it spits out the message I wrote for when a specific file can't be found.</p>\n<p>I've looked at several potential solutions, but they all rely on non-static methods, which can't be used here since the <code>File</code> is static (also, it makes no sense to instantiate something when all its instances would be identical - that's just a waste of time and resources).</p>\n<p>Am I just stuck converting the <code>File</code> to a <code>String</code> and processing it inside every <code>Object</code> that needs it with <code>getResourceAsStream()</code>?</p>\n<p>The file is placed on a few <code>JLabel</code> instances (ones that are meant to have images that haven't been created yet) by first converting it into a <code>BufferedImage</code>. I mention this in case there are better ways of achieving the same result that bypass the problem I'm having.</p>\n"},{"tags":["java","class","get","gson"],"comments":[{"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"score":0,"creation_date":1668072849,"post_id":74386770,"comment_id":131320114,"body_markdown":"What is the json response you get after calling the endpoint? can you please add that to the question","body":"What is the json response you get after calling the endpoint? can you please add that to the question"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1668113963,"post_id":74386770,"comment_id":131334258,"body_markdown":"Can you please also describe what exactly is not working (e.g. values of fields missing, an exception being thrown (in that case please provide the message and stack trace), ...)? Also a few notes: You should probably omit `.replace(&#39;&quot;&#39;, &#39;\\&#39;&#39;)`; the JSON specification only allows `&quot;`; there should be no need to transform the JSON in any way. When constructing the `InputStreamReader` explicitly specify the Charset (e.g. `StandardCharsets.UTF_8`) to avoid depending on the system dependent Charset.","body":"Can you please also describe what exactly is not working (e.g. values of fields missing, an exception being thrown (in that case please provide the message and stack trace), ...)? Also a few notes: You should probably omit <code>.replace(&#39;&quot;&#39;, &#39;\\&#39;&#39;)</code>; the JSON specification only allows <code>&quot;</code>; there should be no need to transform the JSON in any way. When constructing the <code>InputStreamReader</code> explicitly specify the Charset (e.g. <code>StandardCharsets.UTF_8</code>) to avoid depending on the system dependent Charset."}],"owner":{"account_id":24398722,"reputation":11,"user_id":18327719,"display_name":"Dinervc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668073317,"creation_date":1668072507,"question_id":74386770,"body_markdown":"I am trying to obtain data with a http get request in Java and I do actually get the data, however the data is just a String, but I need to be able to use the data, so I thought I&#39;d make a Class that could save the data. However, nothing I tried is working. Not even GSON. \r\n\r\nThis is what my Main class currenty looking like:\r\n`\r\n```\r\nString data = GetData.getData().replace(&#39;&quot;&#39;, &#39;\\&#39;&#39;);\r\n        Gson gson = new Gson(); \r\n        \r\n        //ZimmerData orgObject = gson.fromJson(data, ZimmerData.class); \r\n\r\n        //ZimmerData user = gson.fromJson(data, ZimmerData.class);\r\n        System.out.println(data);\r\n```\r\n`\r\n\r\nThis is how my Data is retrieved:\r\n`\r\n```\r\nURL url = new URL(&quot;https://api.thingspeak.com/channels/1520373/feeds.json?results=2&quot;);\r\n\t\tHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n\t\tconn.setRequestMethod(&quot;GET&quot;);\r\n\t\tconn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\tif (conn.getResponseCode() != 200) {\r\n\t\t\tthrow new RuntimeException(&quot;Failed : HTTP Error code : &quot; + conn.getResponseCode());\r\n\t\t}\r\n\t\tInputStreamReader in = new InputStreamReader(conn.getInputStream());\r\n\t\tBufferedReader br = new BufferedReader(in);\r\n\t\tString output;\r\n\t\tString result = &quot;&quot;;\r\n\t\twhile ((output = br.readLine()) != null) {\r\n\t\t\tresult += output;\r\n\t\t}\r\n\t\tconn.disconnect();\r\n\t\treturn(result);\r\n```\r\n`\r\n\r\nAnd this is how my DataClass is currently looking like (I think I need to fix something there?):\r\n`      \r\n```\r\n        private int id;\r\n\tprivate String name;\r\n\tprivate String created_at;\r\n\tprivate String entry_id;\r\n\tprivate String field1;\r\n\tprivate String field2;\r\n\tprivate String field3;\r\n```\r\n`\r\n\r\nCan someone please tell me how I could put the data into the class?\r\n\r\nI tried to do it without a class, not working either.\r\n\r\nI am expecting that all the data (or oh well, most of it but I don&#39;t think it matters which specific data I want for one to be able to find a solution) is saved some kind of &quot;storage&quot; where I can for example get the Id of a room...","title":"How can I put JSON String Data into a Class Object?","body":"<p>I am trying to obtain data with a http get request in Java and I do actually get the data, however the data is just a String, but I need to be able to use the data, so I thought I'd make a Class that could save the data. However, nothing I tried is working. Not even GSON.</p>\n<p>This is what my Main class currenty looking like:\n`</p>\n<pre><code>String data = GetData.getData().replace('&quot;', '\\'');\n        Gson gson = new Gson(); \n        \n        //ZimmerData orgObject = gson.fromJson(data, ZimmerData.class); \n\n        //ZimmerData user = gson.fromJson(data, ZimmerData.class);\n        System.out.println(data);\n</code></pre>\n<p>`</p>\n<p>This is how my Data is retrieved:\n`</p>\n<pre><code>URL url = new URL(&quot;https://api.thingspeak.com/channels/1520373/feeds.json?results=2&quot;);\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n        conn.setRequestMethod(&quot;GET&quot;);\n        conn.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        if (conn.getResponseCode() != 200) {\n            throw new RuntimeException(&quot;Failed : HTTP Error code : &quot; + conn.getResponseCode());\n        }\n        InputStreamReader in = new InputStreamReader(conn.getInputStream());\n        BufferedReader br = new BufferedReader(in);\n        String output;\n        String result = &quot;&quot;;\n        while ((output = br.readLine()) != null) {\n            result += output;\n        }\n        conn.disconnect();\n        return(result);\n</code></pre>\n<p>`</p>\n<p>And this is how my DataClass is currently looking like (I think I need to fix something there?):\n`</p>\n<pre><code>        private int id;\n    private String name;\n    private String created_at;\n    private String entry_id;\n    private String field1;\n    private String field2;\n    private String field3;\n</code></pre>\n<p>`</p>\n<p>Can someone please tell me how I could put the data into the class?</p>\n<p>I tried to do it without a class, not working either.</p>\n<p>I am expecting that all the data (or oh well, most of it but I don't think it matters which specific data I want for one to be able to find a solution) is saved some kind of &quot;storage&quot; where I can for example get the Id of a room...</p>\n"},{"tags":["java","linux","gradle","environment-variables"],"comments":[{"owner":{"account_id":31011,"reputation":122016,"user_id":84889,"display_name":"Peter Niederwieser"},"score":0,"creation_date":1394474983,"post_id":22307516,"comment_id":33896542,"body_markdown":"Please provide the full error output. As it stands, it&#39;s not clear where the message comes from. Also, do you have a `/usr/lib/jvm/default-java` directory or symlink? And how did you install Gradle?","body":"Please provide the full error output. As it stands, it&#39;s not clear where the message comes from. Also, do you have a <code>&#47;usr&#47;lib&#47;jvm&#47;default-java</code> directory or symlink? And how did you install Gradle?"},{"owner":{"account_id":2528420,"reputation":5069,"user_id":2197264,"display_name":"James Barnett"},"score":0,"creation_date":1394475541,"post_id":22307516,"comment_id":33896877,"body_markdown":"I&#39;ve updated the Q, but that pretty much is the full error output. There is no `/usr/lib/jvm/default-java` dir. Installed with apt (apt-get install gradle)","body":"I&#39;ve updated the Q, but that pretty much is the full error output. There is no <code>&#47;usr&#47;lib&#47;jvm&#47;default-java</code> dir. Installed with apt (apt-get install gradle)"},{"owner":{"account_id":31011,"reputation":122016,"user_id":84889,"display_name":"Peter Niederwieser"},"score":0,"creation_date":1394477953,"post_id":22307516,"comment_id":33898430,"body_markdown":"The Gradle start script doesn&#39;t need `JAVA_HOME` to be set. If `JAVA_HOME` is set, the script uses `$JAVA_HOME/bin/java` to run Gradle. Otherwise, it uses `java` (i.e. `java` has to be on the `PATH`). Perhaps the (third-party) apt package uses a modified start script.","body":"The Gradle start script doesn&#39;t need <code>JAVA_HOME</code> to be set. If <code>JAVA_HOME</code> is set, the script uses <code>$JAVA_HOME&#47;bin&#47;java</code> to run Gradle. Otherwise, it uses <code>java</code> (i.e. <code>java</code> has to be on the <code>PATH</code>). Perhaps the (third-party) apt package uses a modified start script."},{"owner":{"account_id":2528420,"reputation":5069,"user_id":2197264,"display_name":"James Barnett"},"score":0,"creation_date":1394478450,"post_id":22307516,"comment_id":33898741,"body_markdown":"Yea looks like whatever ppa I got the binary from had hard coded and exported the JAVA_HOME to `usr/lib/jvm/defult-java`. Thanks for the help","body":"Yea looks like whatever ppa I got the binary from had hard coded and exported the JAVA_HOME to <code>usr&#47;lib&#47;jvm&#47;defult-java</code>. Thanks for the help"},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1427934415,"post_id":22307516,"comment_id":46981588,"body_markdown":"Did you do `source ~/.bashrc`, or reboot your machine after setting JAVA_HOME?","body":"Did you do <code>source ~&#47;.bashrc</code>, or reboot your machine after setting JAVA_HOME?"},{"owner":{"account_id":5088460,"reputation":644,"user_id":4472665,"accept_rate":18,"display_name":"Manoj"},"score":0,"creation_date":1497365869,"post_id":22307516,"comment_id":76041965,"body_markdown":"Just do export JAVA_HOME=/path/to/correct/java/version","body":"Just do export JAVA_HOME=/path/to/correct/java/version"}],"answers":[{"comments":[{"owner":{"account_id":2528420,"reputation":5069,"user_id":2197264,"display_name":"James Barnett"},"score":1,"creation_date":1394474273,"post_id":22307652,"comment_id":33896097,"body_markdown":"Yes, its defined in .bashrc as `export JAVA_HOME=/usr/lib/jvm/java-7-oracle` (slightly different syntax but I assume its the same)","body":"Yes, its defined in .bashrc as <code>export JAVA_HOME=&#47;usr&#47;lib&#47;jvm&#47;java-7-oracle</code> (slightly different syntax but I assume its the same)"},{"owner":{"account_id":243942,"reputation":14357,"user_id":516433,"accept_rate":69,"display_name":"Lucas"},"score":3,"creation_date":1394476684,"post_id":22307652,"comment_id":33897593,"body_markdown":"@JamesBarnett, could the `gradle` command itself be setting that variable?  Perhaps the person who installed `gradle` created a wrapper script that set environment variables before starting the application.  When using tomcat, it is not uncommon for the `catalina.sh` (which is the startup script) to call out to a `setenv.sh` to set up environment variables which may include `JAVA_HOME`","body":"@JamesBarnett, could the <code>gradle</code> command itself be setting that variable?  Perhaps the person who installed <code>gradle</code> created a wrapper script that set environment variables before starting the application.  When using tomcat, it is not uncommon for the <code>catalina.sh</code> (which is the startup script) to call out to a <code>setenv.sh</code> to set up environment variables which may include <code>JAVA_HOME</code>"}],"tags":[],"owner":{"account_id":243942,"reputation":14357,"user_id":516433,"accept_rate":69,"display_name":"Lucas"},"comment_count":2,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1394473950,"creation_date":1394473950,"answer_id":22307652,"question_id":22307516,"body_markdown":"Did you `export` your `JAVA_HOME`?  Without export, the setting will not be propagated to the commands started inside of that shell.  Also, `java -version` does not use `JAVA_HOME`, rather it uses the first `java` found in your path.  Make sure your `.bashrc` looks something like this:\r\n\r\n    JAVA_HOME=/path/to/java/home\r\n    export JAVA_HOME","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>Did you <code>export</code> your <code>JAVA_HOME</code>?  Without export, the setting will not be propagated to the commands started inside of that shell.  Also, <code>java -version</code> does not use <code>JAVA_HOME</code>, rather it uses the first <code>java</code> found in your path.  Make sure your <code>.bashrc</code> looks something like this:</p>\n\n<pre><code>JAVA_HOME=/path/to/java/home\nexport JAVA_HOME\n</code></pre>\n"},{"comments":[{"owner":{"account_id":191,"reputation":24539,"user_id":235,"display_name":"Joshua McKinnon"},"score":0,"creation_date":1394480180,"post_id":22309017,"comment_id":33899670,"body_markdown":"The gradle package appears to install the jdk to this location, at least on Ubuntu 12.04 LTS with only the default repositories. I did this on an Ubuntu VM that did not have Java, snapshotted it first, apt-get install gradle (which installs almost 400 packages), and it installed java to /usr/lib/jvm... reverted snapshot, no /usr/lib/jvm. I was testing the theory of gradle script exporting JAVA_HOME and indeed it does, as you found.","body":"The gradle package appears to install the jdk to this location, at least on Ubuntu 12.04 LTS with only the default repositories. I did this on an Ubuntu VM that did not have Java, snapshotted it first, apt-get install gradle (which installs almost 400 packages), and it installed java to /usr/lib/jvm... reverted snapshot, no /usr/lib/jvm. I was testing the theory of gradle script exporting JAVA_HOME and indeed it does, as you found."},{"owner":{"account_id":31011,"reputation":122016,"user_id":84889,"display_name":"Peter Niederwieser"},"score":2,"creation_date":1394480659,"post_id":22309017,"comment_id":33899967,"body_markdown":"Gradle doesn&#39;t do this. The ppa is provided by someone else, and so you&#39;d have to ask them. In general, I would recommend to bootstrap Gradle via the Gradle Wrapper, rather than installing it via a package manager.","body":"Gradle doesn&#39;t do this. The ppa is provided by someone else, and so you&#39;d have to ask them. In general, I would recommend to bootstrap Gradle via the Gradle Wrapper, rather than installing it via a package manager."},{"owner":{"account_id":2528420,"reputation":5069,"user_id":2197264,"display_name":"James Barnett"},"score":0,"creation_date":1394481691,"post_id":22309017,"comment_id":33900600,"body_markdown":"I updated the answer to make it clearer that the Ubuntu repo version is the problem, not Gradle itself.","body":"I updated the answer to make it clearer that the Ubuntu repo version is the problem, not Gradle itself."},{"owner":{"account_id":275280,"reputation":311,"user_id":568064,"display_name":"Kay Schneider"},"score":11,"creation_date":1411228423,"post_id":22309017,"comment_id":40627368,"body_markdown":"Thank you, i search for over an hour for an solution to this problem. Thanks for this post, it solves my problem on ubuntu 14.04","body":"Thank you, i search for over an hour for an solution to this problem. Thanks for this post, it solves my problem on ubuntu 14.04"},{"owner":{"account_id":4431795,"reputation":386,"user_id":3608795,"display_name":"sotrh"},"score":1,"creation_date":1426280082,"post_id":22309017,"comment_id":46323784,"body_markdown":"Way to solve your own problem (and mine simultaneously)! It&#39;s a shame that this question is a year old and the Gradle script in the repository hasn&#39;t been updated to fix this.","body":"Way to solve your own problem (and mine simultaneously)! It&#39;s a shame that this question is a year old and the Gradle script in the repository hasn&#39;t been updated to fix this."},{"owner":{"account_id":906382,"reputation":2019,"user_id":941187,"display_name":"Jaymes Bearden"},"score":0,"creation_date":1443132765,"post_id":22309017,"comment_id":53382578,"body_markdown":"Awesome. Problem is still around with Ubuntu 15.04","body":"Awesome. Problem is still around with Ubuntu 15.04"},{"owner":{"account_id":424248,"reputation":7835,"user_id":804138,"accept_rate":68,"display_name":"Basel Shishani"},"score":0,"creation_date":1472779214,"post_id":22309017,"comment_id":65900424,"body_markdown":"We also now have  sdkman (sdkman.io) to manage download/versions of gradle and other JVM sdk&#39;s.","body":"We also now have  sdkman (sdkman.io) to manage download/versions of gradle and other JVM sdk&#39;s."},{"owner":{"account_id":2255833,"reputation":2036,"user_id":1987045,"accept_rate":40,"display_name":"rahulrvp"},"score":0,"creation_date":1473418218,"post_id":22309017,"comment_id":66144025,"body_markdown":"the newer version of android studio also has the same issue. but in a different way. it seems like they have resolved the `export` issue. but we have to call `sudo ./gradlew install` to get it work sometimes.","body":"the newer version of android studio also has the same issue. but in a different way. it seems like they have resolved the <code>export</code> issue. but we have to call <code>sudo .&#47;gradlew install</code> to get it work sometimes."},{"owner":{"account_id":5088460,"reputation":644,"user_id":4472665,"accept_rate":18,"display_name":"Manoj"},"score":0,"creation_date":1497005239,"post_id":22309017,"comment_id":75907830,"body_markdown":"I faced same issue. But in my GRADLE_HOME/bin/gradle file this line was not present - `export JAVA_HOME=/usr/lib/jvm/default-java`. Hence I couldn&#39;t figure out where does it pick the wrong one from.\nI am using gradle version 2.13 on RHEL 7.3. So to resolve this issue, I added the line `export JAVA_HOME=/correct/path/to/java` in GRADLE_HOME/bin/gradle file.","body":"I faced same issue. But in my GRADLE_HOME/bin/gradle file this line was not present - <code>export JAVA_HOME=&#47;usr&#47;lib&#47;jvm&#47;default-java</code>. Hence I couldn&#39;t figure out where does it pick the wrong one from. I am using gradle version 2.13 on RHEL 7.3. So to resolve this issue, I added the line <code>export JAVA_HOME=&#47;correct&#47;path&#47;to&#47;java</code> in GRADLE_HOME/bin/gradle file."},{"owner":{"account_id":7087628,"reputation":126,"user_id":5834287,"display_name":"Inessa Pokromkina"},"score":0,"creation_date":1541009995,"post_id":22309017,"comment_id":93076481,"body_markdown":"also i put this to my `~/.bashrc` to not enter this command everytime after reload\n\n`export JAVA_HOME=/usr/lib/jvm/default-java`","body":"also i put this to my <code>~&#47;.bashrc</code> to not enter this command everytime after reload  <code>export JAVA_HOME=&#47;usr&#47;lib&#47;jvm&#47;default-java</code>"}],"tags":[],"owner":{"account_id":2528420,"reputation":5069,"user_id":2197264,"display_name":"James Barnett"},"comment_count":10,"down_vote_count":1,"up_vote_count":273,"is_accepted":true,"score":272,"last_activity_date":1463085198,"creation_date":1394478188,"answer_id":22309017,"question_id":22307516,"body_markdown":"Turns out that the particular Gradle binary I downloaded from the Ubuntu 13.10 repository *itself* tries to export JAVA_HOME. Thanks to [Lucas][1] for suggesting this.\r\n\r\n`/usr/bin/gradle` line 70:\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/default-java\r\n\r\nCommenting this line out solves the problem, and Gradle finds the correct path to the Java binary. \r\n\r\nIf you just download the binary from their [website][2] it does not have this problem, \r\nIt&#39;s an issue with the Ubuntu repo version. [There also seem to be some other issues with 13.10 version.][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/516433/lucas\r\n  [2]: http://www.gradle.org/downloads\r\n  [3]: https://stackoverflow.com/questions/19522020/running-gradle-on-ubuntu-13-10","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>Turns out that the particular Gradle binary I downloaded from the Ubuntu 13.10 repository <em>itself</em> tries to export JAVA_HOME. Thanks to <a href=\"https://stackoverflow.com/users/516433/lucas\">Lucas</a> for suggesting this.</p>\n\n<p><code>/usr/bin/gradle</code> line 70:</p>\n\n<pre><code>export JAVA_HOME=/usr/lib/jvm/default-java\n</code></pre>\n\n<p>Commenting this line out solves the problem, and Gradle finds the correct path to the Java binary. </p>\n\n<p>If you just download the binary from their <a href=\"http://www.gradle.org/downloads\" rel=\"noreferrer\">website</a> it does not have this problem, \nIt's an issue with the Ubuntu repo version. <a href=\"https://stackoverflow.com/questions/19522020/running-gradle-on-ubuntu-13-10\">There also seem to be some other issues with 13.10 version.</a></p>\n"},{"comments":[{"owner":{"account_id":39037,"reputation":12517,"user_id":112500,"accept_rate":94,"display_name":"Batakj"},"score":0,"creation_date":1408513390,"post_id":22656646,"comment_id":39612423,"body_markdown":"@Nar could you please provide the installation path of JAVA","body":"@Nar could you please provide the installation path of JAVA"},{"owner":{"account_id":1853282,"reputation":540,"user_id":1679348,"accept_rate":92,"display_name":"Nar"},"score":0,"creation_date":1408514437,"post_id":22656646,"comment_id":39612765,"body_markdown":"Thank you for answer but path of JAVA does not matter because gradle script overrides path as said James http://stackoverflow.com/a/22309017/1679348","body":"Thank you for answer but path of JAVA does not matter because gradle script overrides path as said James <a href=\"http://stackoverflow.com/a/22309017/1679348\">stackoverflow.com/a/22309017/1679348</a>"},{"owner":{"account_id":106364,"reputation":159996,"user_id":283366,"accept_rate":100,"display_name":"Phil"},"score":5,"creation_date":1415669419,"post_id":22656646,"comment_id":42274150,"body_markdown":"Worked just fine for me. Given the name (*default-java*), I&#39;d say this is a fairly sensible approach.","body":"Worked just fine for me. Given the name (<i>default-java</i>), I&#39;d say this is a fairly sensible approach."},{"owner":{"account_id":45350,"reputation":4862,"user_id":133648,"accept_rate":50,"display_name":"zorglub76"},"score":2,"creation_date":1435995264,"post_id":22656646,"comment_id":50436728,"body_markdown":"In my  opinion this is much better solution than changing Gradle files. (And yes, it works for me just fine)","body":"In my  opinion this is much better solution than changing Gradle files. (And yes, it works for me just fine)"},{"owner":{"account_id":49433,"reputation":27230,"user_id":147175,"accept_rate":93,"display_name":"Scott Stensland"},"score":1,"creation_date":1600779218,"post_id":22656646,"comment_id":113190291,"body_markdown":"this is very fragile and will break once java gets upgraded to next release","body":"this is very fragile and will break once java gets upgraded to next release"}],"tags":[],"owner":{"account_id":39037,"reputation":12517,"user_id":112500,"accept_rate":94,"display_name":"Batakj"},"comment_count":5,"down_vote_count":2,"up_vote_count":53,"is_accepted":false,"score":51,"last_activity_date":1395826253,"creation_date":1395826253,"answer_id":22656646,"question_id":22307516,"body_markdown":"add a symbolic link \r\n\r\n    sudo ln -s /usr/lib/jvm/java-7-oracle /usr/lib/jvm/default-java","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>add a symbolic link </p>\n\n<pre><code>sudo ln -s /usr/lib/jvm/java-7-oracle /usr/lib/jvm/default-java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2540378,"reputation":3941,"user_id":2206295,"accept_rate":0,"display_name":"Jyoti Prakash"},"comment_count":0,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1422371427,"creation_date":1422371427,"answer_id":28173680,"question_id":22307516,"body_markdown":"For me this error was due to the reason **Gradle** as installed as **sudo** and I was trying as default user to run Gradle.\r\n\r\nTry:\r\n\r\n    sudo gradle -version\r\nor\r\n\r\n    sudo gradle -v","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>For me this error was due to the reason <strong>Gradle</strong> as installed as <strong>sudo</strong> and I was trying as default user to run Gradle.</p>\n\n<p>Try:</p>\n\n<pre><code>sudo gradle -version\n</code></pre>\n\n<p>or</p>\n\n<pre><code>sudo gradle -v\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1127485,"reputation":4047,"user_id":1114386,"accept_rate":83,"display_name":"avijendr"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431773731,"creation_date":1431773731,"answer_id":30274759,"question_id":22307516,"body_markdown":"For me an explicit set on the arguments section of the external tools configuration in Eclipse was the problem.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/0UByl.png","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>For me an explicit set on the arguments section of the external tools configuration in Eclipse was the problem.</p>\n\n<p><img src=\"https://i.stack.imgur.com/0UByl.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":6317547,"reputation":11,"user_id":4906934,"display_name":"Bedrockbreaker"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431784024,"creation_date":1431784024,"answer_id":30276458,"question_id":22307516,"body_markdown":"I had a problem with this too. It said wrong directory when it was correct. So I just created a local variable with the name of JAVA_HOME omitting the final /bin/java. It worked fine for me.","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>I had a problem with this too. It said wrong directory when it was correct. So I just created a local variable with the name of JAVA_HOME omitting the final /bin/java. It worked fine for me.</p>\n"},{"comments":[{"owner":{"account_id":2543399,"reputation":2945,"user_id":2208713,"display_name":"Andy Lorenz"},"score":0,"creation_date":1570697787,"post_id":30403346,"comment_id":102997573,"body_markdown":"its now 2019 and this is STILL an issue!  Except its slightly different and the variable at fault is now &quot;set JAVA_EXE=%JAVA_HOME%/bin/java.exe&quot; - remove the bin part from here to fix.","body":"its now 2019 and this is STILL an issue!  Except its slightly different and the variable at fault is now &quot;set JAVA_EXE=%JAVA_HOME%/bin/java.exe&quot; - remove the bin part from here to fix."}],"tags":[],"owner":{"account_id":217163,"reputation":299,"user_id":472832,"accept_rate":59,"display_name":"asp_NewBee"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1432318546,"creation_date":1432318546,"answer_id":30403346,"question_id":22307516,"body_markdown":"You can also go to the bin folder inside your gradle installation folder and correct the JAVA_HOME parameter in gradle.bat file.\r\nIn my case, my JAVA_HOME was set to c:\\Program files\\java\\bin\r\nThe JAVA_HOME in gradle.bat was set to %JAVA_HOME%\\bin\\java.exe.\r\n\r\nI corrected the JAVA_HOME in gradle.bat and it worked.\r\n\r\nThank you!!!","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>You can also go to the bin folder inside your gradle installation folder and correct the JAVA_HOME parameter in gradle.bat file.\nIn my case, my JAVA_HOME was set to c:\\Program files\\java\\bin\nThe JAVA_HOME in gradle.bat was set to %JAVA_HOME%\\bin\\java.exe.</p>\n\n<p>I corrected the JAVA_HOME in gradle.bat and it worked.</p>\n\n<p>Thank you!!!</p>\n"},{"tags":[],"owner":{"account_id":1019726,"reputation":1146,"user_id":1030429,"accept_rate":69,"display_name":"Wasim"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1459066584,"creation_date":1459066584,"answer_id":36245278,"question_id":22307516,"body_markdown":"I faced this issue when I run the following command on Ubuntu:\r\n\r\n    ionic build android\r\n\r\nTo solve this issue, I did the following steps:\r\n\r\n    ln -sf /usr/lib/jvm/java-7-openjdk-amd64/jre/bin/java /usr/lib/jvm/default-java\r\n\r\nAdd JAVA_HOME to /etc/environment:\r\n\r\n    vi /etc/environment\r\n\r\nAdd:\r\n\r\n    JAVA_HOME=&quot;/usr/lib/jvm/default-java&quot;\r\n\r\nAfter saving, read it:\r\n\r\n    source /etc/environment\r\n\r\nFinally, you can run build command.","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>I faced this issue when I run the following command on Ubuntu:</p>\n\n<pre><code>ionic build android\n</code></pre>\n\n<p>To solve this issue, I did the following steps:</p>\n\n<pre><code>ln -sf /usr/lib/jvm/java-7-openjdk-amd64/jre/bin/java /usr/lib/jvm/default-java\n</code></pre>\n\n<p>Add JAVA_HOME to /etc/environment:</p>\n\n<pre><code>vi /etc/environment\n</code></pre>\n\n<p>Add:</p>\n\n<pre><code>JAVA_HOME=\"/usr/lib/jvm/default-java\"\n</code></pre>\n\n<p>After saving, read it:</p>\n\n<pre><code>source /etc/environment\n</code></pre>\n\n<p>Finally, you can run build command.</p>\n"},{"comments":[{"owner":{"account_id":10045,"reputation":5505,"user_id":18796,"display_name":"Ian McLaird"},"score":0,"creation_date":1460517510,"post_id":36587088,"comment_id":60774186,"body_markdown":"This answer would be improved if you explained what this command does and why it&#39;s needed.","body":"This answer would be improved if you explained what this command does and why it&#39;s needed."}],"tags":[],"owner":{"account_id":210159,"reputation":10493,"user_id":1504589,"accept_rate":64,"display_name":"Venkat Kotra"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1460520332,"creation_date":1460511935,"answer_id":36587088,"question_id":22307516,"body_markdown":"    sudo ln -s /usr/lib/jvm/java-7-oracle/jre /usr/lib/jvm/default-java\r\n\r\nCreate a symbolic link to the default-java directory.\r\n\r\nYou can find your java directory by\r\n\r\n    readlink -f $(which java) \r\n    # outputs: /usr/lib/jvm/java-7-oracle/jre/bin/java\r\n    # Remove the last `/bin/java` and use it in above symbolic link command.","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<pre><code>sudo ln -s /usr/lib/jvm/java-7-oracle/jre /usr/lib/jvm/default-java\n</code></pre>\n\n<p>Create a symbolic link to the default-java directory.</p>\n\n<p>You can find your java directory by</p>\n\n<pre><code>readlink -f $(which java) \n# outputs: /usr/lib/jvm/java-7-oracle/jre/bin/java\n# Remove the last `/bin/java` and use it in above symbolic link command.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4632278,"reputation":69,"user_id":4235187,"accept_rate":50,"display_name":"nothingSpecial"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1464093383,"creation_date":1464093383,"answer_id":37413791,"question_id":22307516,"body_markdown":"I had the same problem, but I didnt find export command in line 70 in gradle file for the latest version 2.13, but I understand a silly mistake there, that is following, \r\n\r\nIf you don&#39;t find line 70 with export command in gradle file in your gradle folder/bin/ , then check your ~/.bashrc, if you find  `export JAVA_HOME==/usr/lib/jvm/java-7-openjdk-amd64/bin/java`, then remove `/bin/java` from this line, like `JAVA_HOME==/usr/lib/jvm/java-7-openjdk-amd64`, and it in path&gt;&gt;&gt; instead of this `export PATH=$PATH:$HOME/bin:JAVA_HOME/`, it will be `export PATH=$PATH:$HOME/bin:JAVA_HOME/bin/java`. Then run `source ~/.bashrc`.\r\n\r\nThe reason is, if you check your gradle file, you will find in line 70 (if there&#39;s no export command) or in line 75,\r\n\r\n&gt;     JAVACMD=&quot;$JAVA_HOME/bin/java&quot;\r\n&gt;         fi\r\n&gt;         if [ ! -x &quot;$JAVACMD&quot; ] ; then\r\n&gt;             die &quot;ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME\r\n That means  `/bin/java` is already there, so it needs to be substracted from `JAVA_HOME` path.\r\n\r\nThat happened in my case.\r\n","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>I had the same problem, but I didnt find export command in line 70 in gradle file for the latest version 2.13, but I understand a silly mistake there, that is following, </p>\n\n<p>If you don't find line 70 with export command in gradle file in your gradle folder/bin/ , then check your ~/.bashrc, if you find  <code>export JAVA_HOME==/usr/lib/jvm/java-7-openjdk-amd64/bin/java</code>, then remove <code>/bin/java</code> from this line, like <code>JAVA_HOME==/usr/lib/jvm/java-7-openjdk-amd64</code>, and it in path>>> instead of this <code>export PATH=$PATH:$HOME/bin:JAVA_HOME/</code>, it will be <code>export PATH=$PATH:$HOME/bin:JAVA_HOME/bin/java</code>. Then run <code>source ~/.bashrc</code>.</p>\n\n<p>The reason is, if you check your gradle file, you will find in line 70 (if there's no export command) or in line 75,</p>\n\n<blockquote>\n<pre><code>JAVACMD=\"$JAVA_HOME/bin/java\"\n    fi\n    if [ ! -x \"$JAVACMD\" ] ; then\n        die \"ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME\n</code></pre>\n  \n  <p>That means  <code>/bin/java</code> is already there, so it needs to be substracted from <code>JAVA_HOME</code> path.</p>\n</blockquote>\n\n<p>That happened in my case.</p>\n"},{"tags":[],"owner":{"account_id":10671949,"reputation":1,"user_id":7856755,"display_name":"lem-fr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492003110,"creation_date":1492003110,"answer_id":43370707,"question_id":22307516,"body_markdown":"In my dockercontainer (being minimal the problem of not finding java) was, that &quot;which&quot; was not installed. Comipling a project using gradlew used which in ./gradlew to find java\r\nInstalling which solved the problem.","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>In my dockercontainer (being minimal the problem of not finding java) was, that \"which\" was not installed. Comipling a project using gradlew used which in ./gradlew to find java\nInstalling which solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":2652333,"reputation":20989,"user_id":2293686,"accept_rate":89,"display_name":"Mohammed Safeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1494701591,"creation_date":1494701591,"answer_id":43956858,"question_id":22307516,"body_markdown":"Try installing latest version of `gradle`,\r\n\r\n    sudo add-apt-repository ppa:cwchien/gradle\r\n    \r\n    sudo apt-get update\r\n    \r\n    sudo apt-get install gradle\r\n\r\nIf we install from ubuntu repo, it will install the old version , (for me it was gradle 1.4). In older version, it sets java home from gradle as `export JAVA_HOME=/usr/lib/jvm/default-java`. Latest version don&#39;t have this issue.","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>Try installing latest version of <code>gradle</code>,</p>\n\n<pre><code>sudo add-apt-repository ppa:cwchien/gradle\n\nsudo apt-get update\n\nsudo apt-get install gradle\n</code></pre>\n\n<p>If we install from ubuntu repo, it will install the old version , (for me it was gradle 1.4). In older version, it sets java home from gradle as <code>export JAVA_HOME=/usr/lib/jvm/default-java</code>. Latest version don't have this issue.</p>\n"},{"tags":[],"owner":{"account_id":49433,"reputation":27230,"user_id":147175,"accept_rate":93,"display_name":"Scott Stensland"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1529764579,"creation_date":1495660343,"answer_id":44168551,"question_id":22307516,"body_markdown":"Solution is to make JAVA_HOME == dir above bin where javac lives as in \r\n\r\n    type javac\r\n    \r\n    javac is /usr/bin/javac   # now check if its just a symlink\r\n\r\n    ls -la /usr/bin/javac \r\n\r\n    /usr/bin/javac -&gt; /etc/alternatives/javac   # its a symlink so check again\r\n\r\n    ls -la /etc/alternatives/javac  # now check if its just a symlink\r\n\r\n    /etc/alternatives/javac -&gt; /usr/lib/jvm/java-8-openjdk-amd64/bin/javac\r\n\r\nOK so finally found the bin above actual javac so do this\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\r\n    export PATH=$JAVA_HOME/bin:$PATH\r\n\r\nabove can be simplified and generalized to\r\n\r\n    which javac &gt;/dev/null 2&gt;&amp;1 || die &quot;ERROR: no &#39;javac&#39; command could be found in your PATH&quot;\r\n    export JAVA_HOME=$(dirname $(dirname $(readlink -f $(which javac)  )))\r\n\r\n","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>Solution is to make JAVA_HOME == dir above bin where javac lives as in </p>\n\n<pre><code>type javac\n\njavac is /usr/bin/javac   # now check if its just a symlink\n\nls -la /usr/bin/javac \n\n/usr/bin/javac -&gt; /etc/alternatives/javac   # its a symlink so check again\n\nls -la /etc/alternatives/javac  # now check if its just a symlink\n\n/etc/alternatives/javac -&gt; /usr/lib/jvm/java-8-openjdk-amd64/bin/javac\n</code></pre>\n\n<p>OK so finally found the bin above actual javac so do this</p>\n\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n\n<p>above can be simplified and generalized to</p>\n\n<pre><code>which javac &gt;/dev/null 2&gt;&amp;1 || die \"ERROR: no 'javac' command could be found in your PATH\"\nexport JAVA_HOME=$(dirname $(dirname $(readlink -f $(which javac)  )))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2298796,"reputation":613,"user_id":2019601,"display_name":"keocra"},"score":0,"creation_date":1649410634,"post_id":53707433,"comment_id":126873539,"body_markdown":"I was able to solve the described issue by deleting the gradle wrapper from my project directory and re-initializing it with a newer system gradle (7.4.2). The issue was the &#39;goto init&#39;. There are two lines which changed to &#39;goto execute&#39;.","body":"I was able to solve the described issue by deleting the gradle wrapper from my project directory and re-initializing it with a newer system gradle (7.4.2). The issue was the &#39;goto init&#39;. There are two lines which changed to &#39;goto execute&#39;."}],"tags":[],"owner":{"account_id":1733872,"reputation":2893,"user_id":1586864,"display_name":"Harsh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544450989,"creation_date":1544450989,"answer_id":53707433,"question_id":22307516,"body_markdown":"If your GRADLE_HOME and JAVA_HOME environment are set properly then check your JDK directory and make sure you have ***java.exe*** file under below path.\r\n\r\n    C:\\Program Files (x86)\\Java\\jdk1.8.0_181\\bin\r\n\r\nAs error mentioned in gradle.bat file\r\n\r\n    :findJavaFromJavaHome\r\n    set JAVA_HOME=%JAVA_HOME:&quot;=%\r\n    set JAVA_EXE=%JAVA_HOME%/bin/java.exe\r\n    \r\n    if exist &quot;%JAVA_EXE%&quot; goto init\r\n    \r\n    echo.\r\n    echo ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%\r\n    echo.\r\n    echo Please set the JAVA_HOME variable in your environment to match the\r\n    echo location of your Java installation.\r\n\r\nIt is not able to locate your java installation. So find and set \r\n\r\n&gt; java.exe\r\n\r\n under `%JAVA_HOME%/bin` if everything is correct.\r\n\r\nThis works for me (my account got disabled by client and their admin has removed java.exe from my directory.)\r\n","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>If your GRADLE_HOME and JAVA_HOME environment are set properly then check your JDK directory and make sure you have <strong><em>java.exe</em></strong> file under below path.</p>\n\n<pre><code>C:\\Program Files (x86)\\Java\\jdk1.8.0_181\\bin\n</code></pre>\n\n<p>As error mentioned in gradle.bat file</p>\n\n<pre><code>:findJavaFromJavaHome\nset JAVA_HOME=%JAVA_HOME:\"=%\nset JAVA_EXE=%JAVA_HOME%/bin/java.exe\n\nif exist \"%JAVA_EXE%\" goto init\n\necho.\necho ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%\necho.\necho Please set the JAVA_HOME variable in your environment to match the\necho location of your Java installation.\n</code></pre>\n\n<p>It is not able to locate your java installation. So find and set </p>\n\n<blockquote>\n  <p>java.exe</p>\n</blockquote>\n\n<p>under <code>%JAVA_HOME%/bin</code> if everything is correct.</p>\n\n<p>This works for me (my account got disabled by client and their admin has removed java.exe from my directory.)</p>\n"},{"tags":[],"owner":{"account_id":11019134,"reputation":1665,"user_id":8094012,"display_name":"O-9"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550231214,"creation_date":1550231214,"answer_id":54708681,"question_id":22307516,"body_markdown":"[Windows] As already said, it looks like .bat -file tries to find java.exe from `%JAVA_HOME%/bin/java.exe` so it doesn&#39;t find it since `bin` is repeated twice in path.\r\nRemov that extra `/bin` from gradle.bat. \r\n\r\n[![Gradle][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KS5R8.jpg","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>[Windows] As already said, it looks like .bat -file tries to find java.exe from <code>%JAVA_HOME%/bin/java.exe</code> so it doesn't find it since <code>bin</code> is repeated twice in path.\nRemov that extra <code>/bin</code> from gradle.bat. </p>\n\n<p><a href=\"https://i.stack.imgur.com/KS5R8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KS5R8.jpg\" alt=\"Gradle\"></a></p>\n"},{"tags":[],"owner":{"account_id":7173748,"reputation":501,"user_id":5480444,"display_name":"Jasper Kinoti"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553080983,"creation_date":1553080695,"answer_id":55259529,"question_id":22307516,"body_markdown":"Before running the command try entering:\r\n\r\n    export JAVA_HOME=&quot;path_to_java_home&quot;\r\n\r\nWhere `path_to_java_home` is the folder where your `bin/java` is.\r\n\r\nIf java is properly installed you can find it&#39;s location, by using the command:\r\n\r\n    readlink -f $(which java)\r\n\r\nDon&#39;t forget to remove `bin/java` from the end of the path while putting it into `JAVA_HOME`","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>Before running the command try entering:</p>\n\n<pre><code>export JAVA_HOME=\"path_to_java_home\"\n</code></pre>\n\n<p>Where <code>path_to_java_home</code> is the folder where your <code>bin/java</code> is.</p>\n\n<p>If java is properly installed you can find it's location, by using the command:</p>\n\n<pre><code>readlink -f $(which java)\n</code></pre>\n\n<p>Don't forget to remove <code>bin/java</code> from the end of the path while putting it into <code>JAVA_HOME</code></p>\n"},{"comments":[{"owner":{"account_id":5385659,"reputation":9917,"user_id":4289649,"accept_rate":56,"display_name":"Borjante"},"score":1,"creation_date":1581433237,"post_id":55969072,"comment_id":106426642,"body_markdown":"Key here is to exclude /bin/java","body":"Key here is to exclude /bin/java"}],"tags":[],"owner":{"account_id":14172284,"reputation":3255,"user_id":10238539,"display_name":"MJ Montes"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1556883509,"creation_date":1556883509,"answer_id":55969072,"question_id":22307516,"body_markdown":"In my Ubuntu, I have a headache for 2 days on this issue.\r\n\r\nStep 1. Type on the terminal `whereis java`\r\nthen it will display something like this\r\n\r\n    java: /usr/bin/java /etc/java /usr/share/java /usr/lib/jvm/java-8-openjdk-amd64/bin/java /usr/share/man/man1/java.1.gz\r\n\r\nStep 2. Take note of the path: \r\n `/usr/lib/jvm/java-8-openjdk-amd64/bin/java`\r\n\r\nexclude the `bin/java`\r\n\r\nyour JAVA_HOME = `/usr/lib/jvm/java-8-openjdk-amd64`","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>In my Ubuntu, I have a headache for 2 days on this issue.</p>\n\n<p>Step 1. Type on the terminal <code>whereis java</code>\nthen it will display something like this</p>\n\n<pre><code>java: /usr/bin/java /etc/java /usr/share/java /usr/lib/jvm/java-8-openjdk-amd64/bin/java /usr/share/man/man1/java.1.gz\n</code></pre>\n\n<p>Step 2. Take note of the path: \n <code>/usr/lib/jvm/java-8-openjdk-amd64/bin/java</code></p>\n\n<p>exclude the <code>bin/java</code></p>\n\n<p>your JAVA_HOME = <code>/usr/lib/jvm/java-8-openjdk-amd64</code></p>\n"},{"tags":[],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575557986,"creation_date":1575557986,"answer_id":59197876,"question_id":22307516,"body_markdown":"Adding below lines in build.gradle solved my issue .\r\n\r\n    sourceCompatibility = JavaVersion.VERSION_1_8\r\n    targetCompatibility = JavaVersion.VERSION_1_8","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>Adding below lines in build.gradle solved my issue .</p>\n\n<pre><code>sourceCompatibility = JavaVersion.VERSION_1_8\ntargetCompatibility = JavaVersion.VERSION_1_8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17339180,"reputation":51,"user_id":12560351,"display_name":"anuj kumar jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1595681687,"creation_date":1595678821,"answer_id":63088126,"question_id":22307516,"body_markdown":"I have tested this on Manjaro Linux. Should work on other Disto too.\r\n\r\nYou need to include whole java-jdk dir instead of just java/bin for java env var.\r\n\r\nFor example, instead of:\r\n\r\n`export JAVA_HOME=/opt/jdk-14.0.2/bin` #change path according to your jdk location\r\n`PATH=$PATH:$JAVA_HOME`\r\n\r\nuse this:\r\n\r\n`export JAVA_HOME=/opt/jdk-14.0.2/`    #change path according to your jdk location\r\n`PATH=$PATH:$JAVA_HOME`\r\n\r\nthen run the gradle command it will work.","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>I have tested this on Manjaro Linux. Should work on other Disto too.</p>\n<p>You need to include whole java-jdk dir instead of just java/bin for java env var.</p>\n<p>For example, instead of:</p>\n<p><code>export JAVA_HOME=/opt/jdk-14.0.2/bin</code> #change path according to your jdk location\n<code>PATH=$PATH:$JAVA_HOME</code></p>\n<p>use this:</p>\n<p><code>export JAVA_HOME=/opt/jdk-14.0.2/</code>    #change path according to your jdk location\n<code>PATH=$PATH:$JAVA_HOME</code></p>\n<p>then run the gradle command it will work.</p>\n"},{"tags":[],"owner":{"account_id":26887648,"reputation":1,"user_id":20466943,"display_name":"Achutananda Barada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668073111,"creation_date":1668072742,"answer_id":74386829,"question_id":22307516,"body_markdown":"#ISSUE:*GradleException: javaConfig.targetVersion is Java 8, but the environment variable JAVA8_HOME does not exist*\r\n\r\nI think this is how you fix it in IntelliJ. I&#39;ve run into it a couple times as I choose &quot;Launch in New Window&quot; for a new project but I haven&#39;t written down the steps yet.\r\n1.File -&gt; Project Structure. Project Settings / Project. Make sure Project SDK and Project language level are correct.\r\n2.Preferences. Build, Execution, Deployment / Build Tools / Gradle. Make sure Gradle JVM is correct.\r\nYou may have to restart IntelliJ after this.\r\n**********************************************************\r\nNOW it SOLVED THE ISSUE\r\n************************\r\n&gt; Task :prepareKotlinBuildScriptModel UP-TO-DATE\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.3.3/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD SUCCESSFUL in 22s\r\n***********************************","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>#ISSUE:<em>GradleException: javaConfig.targetVersion is Java 8, but the environment variable JAVA8_HOME does not exist</em></p>\n<p>I think this is how you fix it in IntelliJ. I've run into it a couple times as I choose &quot;Launch in New Window&quot; for a new project but I haven't written down the steps yet.\n1.File -&gt; Project Structure. Project Settings / Project. Make sure Project SDK and Project language level are correct.\n2.Preferences. Build, Execution, Deployment / Build Tools / Gradle. Make sure Gradle JVM is correct.\nYou may have to restart IntelliJ after this.</p>\n<hr />\n<p>NOW it SOLVED THE ISSUE</p>\n<hr />\n<blockquote>\n<p>Task :prepareKotlinBuildScriptModel UP-TO-DATE</p>\n</blockquote>\n<p>Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.</p>\n<p>You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.</p>\n<p>See <a href=\"https://docs.gradle.org/7.3.3/userguide/command_line_interface.html#sec:command_line_warnings\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.3.3/userguide/command_line_interface.html#sec:command_line_warnings</a></p>\n<p>BUILD SUCCESSFUL in 22s</p>\n<hr />\n"}],"owner":{"account_id":2528420,"reputation":5069,"user_id":2197264,"display_name":"James Barnett"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202963,"favorite_count":0,"down_vote_count":0,"up_vote_count":184,"accepted_answer_id":22309017,"answer_count":20,"score":184,"last_activity_date":1668073111,"creation_date":1394473657,"question_id":22307516,"body_markdown":"When trying to run gradle, I get the following error:\r\n\r\n    # gradle\r\n    \r\n    ERROR: JAVA_HOME is set to an invalid directory: /usr/lib/jvm/default-java\r\n    \r\n    Please set the JAVA_HOME variable in your environment to match the\r\n    location of your Java installation.\r\n\r\nHowever, when I check the JAVA_HOME variable I get:\r\n\r\n    # echo $JAVA_HOME \r\n    /usr/lib/jvm/java-7-oracle\r\n\r\nMy JAVA_HOME is defined in .bashrc and I have double checked that it is set as the source.\r\n\r\nRunning `java -version` also confirms that JAVA_HOME is set correctly and is on the PATH.\r\n\r\n    # java -version\r\n    java version &quot;1.7.0_51&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_51-b13)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 24.51-b03, mixed mode)\r\n\r\nI have also checked that `/usr/bin/java` symlinks to `/etc/alternatives/java` which in turn correctly symlinks to `/usr/lib/jvm/java-7-oracle/jre/bin/java`\r\n\r\nAdditionally I&#39;ve checked that there are no duplicate JAVA_HOME definitions in `.bash_profile` or `/etc/profile`. \r\n\r\nSo my question is how/why does Gradle find `/usr/lib/jvm/default-java`, and more importantly how do I point it to the correct directory? \r\n\r\nOther programs which require the JDK work fine, so I think its a Gradle issue. I&#39;ve also tried reinstalling Gradle which made no difference.\r\n\r\nI&#39;m running 64bit Xubuntu (Ubuntu 13.10 base)","title":"Gradle finds wrong JAVA_HOME even though it&#39;s correctly set","body":"<p>When trying to run gradle, I get the following error:</p>\n\n<pre><code># gradle\n\nERROR: JAVA_HOME is set to an invalid directory: /usr/lib/jvm/default-java\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n</code></pre>\n\n<p>However, when I check the JAVA_HOME variable I get:</p>\n\n<pre><code># echo $JAVA_HOME \n/usr/lib/jvm/java-7-oracle\n</code></pre>\n\n<p>My JAVA_HOME is defined in .bashrc and I have double checked that it is set as the source.</p>\n\n<p>Running <code>java -version</code> also confirms that JAVA_HOME is set correctly and is on the PATH.</p>\n\n<pre><code># java -version\njava version \"1.7.0_51\"\nJava(TM) SE Runtime Environment (build 1.7.0_51-b13)\nJava HotSpot(TM) 64-Bit Server VM (build 24.51-b03, mixed mode)\n</code></pre>\n\n<p>I have also checked that <code>/usr/bin/java</code> symlinks to <code>/etc/alternatives/java</code> which in turn correctly symlinks to <code>/usr/lib/jvm/java-7-oracle/jre/bin/java</code></p>\n\n<p>Additionally I've checked that there are no duplicate JAVA_HOME definitions in <code>.bash_profile</code> or <code>/etc/profile</code>. </p>\n\n<p>So my question is how/why does Gradle find <code>/usr/lib/jvm/default-java</code>, and more importantly how do I point it to the correct directory? </p>\n\n<p>Other programs which require the JDK work fine, so I think its a Gradle issue. I've also tried reinstalling Gradle which made no difference.</p>\n\n<p>I'm running 64bit Xubuntu (Ubuntu 13.10 base)</p>\n"},{"tags":["java","spring","transactions","spring-transactions"],"comments":[{"owner":{"account_id":1231950,"reputation":348,"user_id":1196334,"display_name":"Vasiliy"},"score":0,"creation_date":1668046239,"post_id":74379105,"comment_id":131314678,"body_markdown":"We are using different JMS server, but it should not matter. This should work. Make sure your transactions are actually working and that your jms connection factory is configured to participate in transaction.","body":"We are using different JMS server, but it should not matter. This should work. Make sure your transactions are actually working and that your jms connection factory is configured to participate in transaction."}],"answers":[{"tags":[],"owner":{"account_id":20029130,"reputation":21,"user_id":14682329,"display_name":"Pradeesh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668017348,"creation_date":1668017348,"answer_id":74379512,"question_id":74379105,"body_markdown":"@Transactional is an annotation provided by the Spring framework to maintain a transactional execution at the database level. Hence, any changes done to the database can be rolled back. However, you cannot roll back a call to another service or a Message published to a message broker using this annotation.\r\n\r\nI suggest you publish the message to the MQ after the completion of all database-related operations and business logic.\r\nIn case that&#39;s not possible, you may follow the Design pattern like &#39;SAGA&#39; in order to solve this consistency issue. \r\nSAGA pattern: https://microservices.io/patterns/data/saga.html","title":"Issue With Spring @Transactional Annotation","body":"<p>@Transactional is an annotation provided by the Spring framework to maintain a transactional execution at the database level. Hence, any changes done to the database can be rolled back. However, you cannot roll back a call to another service or a Message published to a message broker using this annotation.</p>\n<p>I suggest you publish the message to the MQ after the completion of all database-related operations and business logic.\nIn case that's not possible, you may follow the Design pattern like 'SAGA' in order to solve this consistency issue.\nSAGA pattern: <a href=\"https://microservices.io/patterns/data/saga.html\" rel=\"nofollow noreferrer\">https://microservices.io/patterns/data/saga.html</a></p>\n"},{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668018528,"creation_date":1668018528,"answer_id":74379754,"question_id":74379105,"body_markdown":"That&#39;s called XA transaction management, you can read https://dzone.com/articles/xa-transactions-2-phase-commit as introduction to  the problematic.","title":"Issue With Spring @Transactional Annotation","body":"<p>That's called XA transaction management, you can read <a href=\"https://dzone.com/articles/xa-transactions-2-phase-commit\" rel=\"nofollow noreferrer\">https://dzone.com/articles/xa-transactions-2-phase-commit</a> as introduction to  the problematic.</p>\n"}],"owner":{"account_id":13426287,"reputation":11,"user_id":9687537,"display_name":"Priyank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668073050,"creation_date":1668015324,"question_id":74379105,"body_markdown":"I am using Spring&#39;s @Transactional annotation to maintain the transaction in application but suddenly on one good day we started seeing an issue in application which was stated as below through application calls:\r\n\r\n```java\r\n@Transactional\r\npublic void methodA()\r\n{\r\n    methodB();\r\n}\r\n\r\npublic void methodB()\r\n{\r\n    methodC();\r\n}\r\n\r\npublic void methodC()\r\n{\r\n    Calling JMSTemplate.send();\r\n}\r\n```\r\n\r\nSo whenever issue occurs all the operation done in methodA and methodB gets rolledback but the IBM MQ send operation doesn&#39;t get rolledback  thus causing the issue in application:\r\nCan anyone Suggest what is good way to handle this scenario:\r\n\r\n\r\nWe tried to go through some documentation of @Transactional but didn&#39;t find anything concrete.","title":"Issue With Spring @Transactional Annotation","body":"<p>I am using Spring's @Transactional annotation to maintain the transaction in application but suddenly on one good day we started seeing an issue in application which was stated as below through application calls:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic void methodA()\n{\n    methodB();\n}\n\npublic void methodB()\n{\n    methodC();\n}\n\npublic void methodC()\n{\n    Calling JMSTemplate.send();\n}\n</code></pre>\n<p>So whenever issue occurs all the operation done in methodA and methodB gets rolledback but the IBM MQ send operation doesn't get rolledback  thus causing the issue in application:\nCan anyone Suggest what is good way to handle this scenario:</p>\n<p>We tried to go through some documentation of @Transactional but didn't find anything concrete.</p>\n"},{"tags":["java","spring","spring-boot","activiti"],"answers":[{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668054684,"creation_date":1668054684,"answer_id":74384171,"question_id":74384170,"body_markdown":"I found the issue and know how to use pass the property which the process expects and exclusive gateway.\r\n\r\nWe need to set the property at the time of task creation in the &quot;Map&quot;(variable map). So the process can get it wherever it looking for.\r\nThe property I set in the code where I created process.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IjCo8.jpg\r\n\r\nThere might be another way also but this way I fixed the issue which I faced.\r\n\r\nThanks,\r\nAtul","title":"Activiti Caused by: javax.el.PropertyNotFoundException: Cannot resolve identifier &#39;&#39;","body":"<p>I found the issue and know how to use pass the property which the process expects and exclusive gateway.</p>\n<p>We need to set the property at the time of task creation in the &quot;Map&quot;(variable map). So the process can get it wherever it looking for.\nThe property I set in the code where I created process.</p>\n<p><a href=\"https://i.stack.imgur.com/IjCo8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IjCo8.jpg\" alt=\"enter image description here\" /></a></p>\n<p>There might be another way also but this way I fixed the issue which I faced.</p>\n<p>Thanks,\nAtul</p>\n"},{"comments":[{"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"score":0,"creation_date":1668074309,"post_id":74386897,"comment_id":131320628,"body_markdown":"yes might be ... I need to check that","body":"yes might be ... I need to check that"}],"tags":[],"owner":{"account_id":5452953,"reputation":194,"user_id":4337226,"display_name":"Martin Grof&#237;k"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668073039,"creation_date":1668073039,"answer_id":74386897,"question_id":74384170,"body_markdown":"I would expect, when the variable is set on the user task form, it should be available later in the process.\r\n\r\ntry to use process debugger (available for flowable I am not sure about activiti)","title":"Activiti Caused by: javax.el.PropertyNotFoundException: Cannot resolve identifier &#39;&#39;","body":"<p>I would expect, when the variable is set on the user task form, it should be available later in the process.</p>\n<p>try to use process debugger (available for flowable I am not sure about activiti)</p>\n"}],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668073039,"creation_date":1668054684,"question_id":74384170,"body_markdown":"I am working on BPM project and using Activiti for the BPM configuration.\r\n\r\nWhile executing the process I am facing one issue, where one of the property which is I am passing from one of the task expecting to meet to other task wont work.\r\n\r\nThis is the error I am facing:\r\n\r\n&gt; Activiti Caused by: javax.el.PropertyNotFoundException: Cannot resolve\r\n&gt; identifier &#39;&lt;propertyName&gt;&#39;\r\n\r\n\r\nI data is passes from User Task to Service Task.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI am expecting that the based on the property the &quot;Exclusive Gateway&quot; should work.\r\nThe criteria I mentioned like:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VP2v8.jpg\r\n  [2]: https://i.stack.imgur.com/vEx4Y.jpg\r\n\r\nThe property which I mentioned in the &quot;Condition&quot; is not found while the process execution.(The Name right now, first part is dark out).\r\n\r\nAny idea what issue it is or how can I get the property?\r\n\r\n\r\nThanks,\r\nAtul","title":"Activiti Caused by: javax.el.PropertyNotFoundException: Cannot resolve identifier &#39;&#39;","body":"<p>I am working on BPM project and using Activiti for the BPM configuration.</p>\n<p>While executing the process I am facing one issue, where one of the property which is I am passing from one of the task expecting to meet to other task wont work.</p>\n<p>This is the error I am facing:</p>\n<blockquote>\n<p>Activiti Caused by: javax.el.PropertyNotFoundException: Cannot resolve\nidentifier ''</p>\n</blockquote>\n<p>I data is passes from User Task to Service Task.</p>\n<p><a href=\"https://i.stack.imgur.com/VP2v8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VP2v8.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I am expecting that the based on the property the &quot;Exclusive Gateway&quot; should work.\nThe criteria I mentioned like:</p>\n<p><a href=\"https://i.stack.imgur.com/vEx4Y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vEx4Y.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The property which I mentioned in the &quot;Condition&quot; is not found while the process execution.(The Name right now, first part is dark out).</p>\n<p>Any idea what issue it is or how can I get the property?</p>\n<p>Thanks,\nAtul</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1657205181,"post_id":72899670,"comment_id":128760238,"body_markdown":"Are there any errors in idea.log (&quot;Help | Show Log in...&quot;)?","body":"Are there any errors in idea.log (&quot;Help | Show Log in...&quot;)?"},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":1,"creation_date":1657205379,"post_id":72899670,"comment_id":128760321,"body_markdown":"Did you try to run maven clean and install?","body":"Did you try to run maven clean and install?"},{"owner":{"account_id":18469162,"reputation":53,"user_id":13454536,"display_name":"Ntavass"},"score":0,"creation_date":1657205729,"post_id":72899670,"comment_id":128760479,"body_markdown":"ERROR -      #org.jetbrains.idea.maven - IntelliJ IDEA 2021.3.2  Build #IC-213.6777.52\n\nERROR -      #org.jetbrains.idea.maven - JDK: 11.0.13; VM: OpenJDK 64-Bit Server VM; \nVendor: JetBrains s.r.o.\nERROR -      #org.jetbrains.idea.maven - OS: Windows 10 \n\nERROR -      #org.jetbrains.idea.maven - Last Action: WelcomeScreen.OpenProject \n\nERROR - minal.model.TerminalTextBuffer - Attempt to get line out of bounds: 14 &gt;= 14 \n\nthose are the errors im getting in the idea.log @y.bedrov","body":"ERROR -      #org.jetbrains.idea.maven - IntelliJ IDEA 2021.3.2  Build #IC-213.6777.52  ERROR -      #org.jetbrains.idea.maven - JDK: 11.0.13; VM: OpenJDK 64-Bit Server VM;  Vendor: JetBrains s.r.o. ERROR -      #org.jetbrains.idea.maven - OS: Windows 10   ERROR -      #org.jetbrains.idea.maven - Last Action: WelcomeScreen.OpenProject   ERROR - minal.model.TerminalTextBuffer - Attempt to get line out of bounds: 14 &gt;= 14   those are the errors im getting in the idea.log @y.bedrov"},{"owner":{"account_id":18469162,"reputation":53,"user_id":13454536,"display_name":"Ntavass"},"score":0,"creation_date":1657206173,"post_id":72899670,"comment_id":128760652,"body_markdown":"The mvn clean install fixed the errors. Thank you. @Nemanja","body":"The mvn clean install fixed the errors. Thank you. @Nemanja"},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1657206238,"post_id":72899670,"comment_id":128760682,"body_markdown":"This is common issue. I will post this as answer, maybe someone will find it usefull.","body":"This is common issue. I will post this as answer, maybe someone will find it usefull."}],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657206283,"creation_date":1657206283,"answer_id":72900187,"question_id":72899670,"body_markdown":"Run `mvn clean` and `mvn install.` That should fix the issue.","title":"cant fix the &#39;spring-boot-starter-parent-2.7.1 not found&#39; error","body":"<p>Run <code>mvn clean</code> and <code>mvn install.</code> That should fix the issue.</p>\n"}],"owner":{"account_id":18469162,"reputation":53,"user_id":13454536,"display_name":"Ntavass"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72900187,"answer_count":1,"score":0,"last_activity_date":1668072990,"creation_date":1657204378,"question_id":72899670,"body_markdown":"I am watching a tutorial so that I can start working with spring boot. after getting my .zip file from **https://start.spring.io/** I extract the file and then open it with intellij. When is finishes analyzing I get those 8 errors: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qZEsF.png\r\n\r\nI have tried the Invalidate Caches solution but didn&#39;t work. Are there any other potential fixes? \r\n\r\n","title":"cant fix the &#39;spring-boot-starter-parent-2.7.1 not found&#39; error","body":"<p>I am watching a tutorial so that I can start working with spring boot. after getting my .zip file from <strong><a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a></strong> I extract the file and then open it with intellij. When is finishes analyzing I get those 8 errors:</p>\n<p><a href=\"https://i.stack.imgur.com/qZEsF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qZEsF.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried the Invalidate Caches solution but didn't work. Are there any other potential fixes?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668073189,"post_id":74386567,"comment_id":131320219,"body_markdown":"If the email body is the same for all recipients and does not contain parameters, you should collect all recipient email-adresses as List/Array and use Bcc: header of email instead.","body":"If the email body is the same for all recipients and does not contain parameters, you should collect all recipient email-adresses as List/Array and use Bcc: header of email instead."},{"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"score":0,"creation_date":1668074247,"post_id":74386567,"comment_id":131320609,"body_markdown":"the return for the result set for email should be a list not a string object, then you can traverse using any loop and trigger the sending","body":"the return for the result set for email should be a list not a string object, then you can traverse using any loop and trigger the sending"}],"answers":[{"comments":[{"owner":{"account_id":14561222,"reputation":93,"user_id":10517244,"display_name":"uma"},"score":0,"creation_date":1668140694,"post_id":74386816,"comment_id":131338724,"body_markdown":"Thank you for your answer, I try what you post, but still not working with me.","body":"Thank you for your answer, I try what you post, but still not working with me."},{"owner":{"account_id":14561222,"reputation":93,"user_id":10517244,"display_name":"uma"},"score":0,"creation_date":1668405757,"post_id":74386816,"comment_id":131388435,"body_markdown":"it show this error: Caused by: java.sql.SQLException: Invalid column index. any help please.","body":"it show this error: Caused by: java.sql.SQLException: Invalid column index. any help please."}],"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668072672,"creation_date":1668072672,"answer_id":74386816,"question_id":74386567,"body_markdown":"    &quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN (&#39;1&#39;,&#39;650&#39;)&quot;\r\n\r\nThis will return you multiple emails, not just one. So you need to attach it to multiple UserDto objects. Not one.\r\n\r\n             public List&lt;UserDto&gt; getEmail() {\r\n        \r\n                Connection connection = null;\r\n        \r\n                PreparedStatement preparedStatement = null;\r\n        \r\n                ResultSet searchResultSet = null;\r\n                try {\r\n        \r\n                    connection = getConnection();\r\n        \r\n                    preparedStatement = connection.prepareStatement(\r\n                            &quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN (&#39;1&#39;,&#39;650&#39;)&quot;);\r\n                    \r\n                    searchResultSet = preparedStatement.executeQuery();\r\n        \r\n                    return getEmail(searchResultSet);\r\n        \r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                } finally {\r\n                    try {\r\n                        preparedStatement.close();\r\n                    } catch (SQLException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n\r\nand\r\n\r\n        private List&lt;UserDto&gt; getEmail(ResultSet searchResultSet) throws SQLException {\r\n            List&lt;UserDto&gt; result = new ArrayList&lt;UserDto &gt;();\r\n    \r\n            UserDto userDto = null;\r\n            int index = 1;\r\n            while (searchResultSet.next()) {\r\n                userDto = new UserDto();\r\n    \r\n                userDto .setEmailAddress(searchResultSet.getString(index));\r\n                result.add(userDto);\r\n                index++;\r\n            }\r\n            return result;\r\n        }\r\n    \r\n\r\n\r\nthen in delegate,\r\n\r\n    List&lt;UserDto&gt; users = delegate.getEmail();\r\n\r\nloop through users get email and send email","title":"Extract and use all values or outputs of searchResultSet for sending an emails","body":"<pre><code>&quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN ('1','650')&quot;\n</code></pre>\n<p>This will return you multiple emails, not just one. So you need to attach it to multiple UserDto objects. Not one.</p>\n<pre><code>         public List&lt;UserDto&gt; getEmail() {\n    \n            Connection connection = null;\n    \n            PreparedStatement preparedStatement = null;\n    \n            ResultSet searchResultSet = null;\n            try {\n    \n                connection = getConnection();\n    \n                preparedStatement = connection.prepareStatement(\n                        &quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN ('1','650')&quot;);\n                \n                searchResultSet = preparedStatement.executeQuery();\n    \n                return getEmail(searchResultSet);\n    \n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            } finally {\n                try {\n                    preparedStatement.close();\n                } catch (SQLException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }\n</code></pre>\n<p>and</p>\n<pre><code>    private List&lt;UserDto&gt; getEmail(ResultSet searchResultSet) throws SQLException {\n        List&lt;UserDto&gt; result = new ArrayList&lt;UserDto &gt;();\n\n        UserDto userDto = null;\n        int index = 1;\n        while (searchResultSet.next()) {\n            userDto = new UserDto();\n\n            userDto .setEmailAddress(searchResultSet.getString(index));\n            result.add(userDto);\n            index++;\n        }\n        return result;\n    }\n</code></pre>\n<p>then in delegate,</p>\n<pre><code>List&lt;UserDto&gt; users = delegate.getEmail();\n</code></pre>\n<p>loop through users get email and send email</p>\n"}],"owner":{"account_id":14561222,"reputation":93,"user_id":10517244,"display_name":"uma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668072672,"creation_date":1668071579,"question_id":74386567,"body_markdown":"I have this code that searching in the DB and giving me a list of emails like this:\r\n\r\n*******@gmail.com\r\n\r\n*******@gmail.com\r\n\r\n*******@gmail.com\r\n\r\n\r\nAfter the searchResultSet I want to use these email Addresses to send an email to them so how I can read them one by one as string.\r\n\r\nfirst class:\r\n\r\n\r\n```\r\npublic UserDto getEmail() {\r\n\r\n\t\tConnection connection = null;\r\n\r\n\t\tPreparedStatement preparedStatement = null;\r\n\r\n\t\tResultSet searchResultSet = null;\r\n\t\ttry {\r\n\r\n\t\t\tconnection = getConnection();\r\n\r\n\t\t\tpreparedStatement = connection.prepareStatement(\r\n\t\t\t\t\t&quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN (&#39;1&#39;,&#39;650&#39;)&quot;);\r\n\t\t\t\r\n\t\t\tsearchResultSet = preparedStatement.executeQuery();\r\n\r\n\t\t\treturn getEmail(searchResultSet);\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tpreparedStatement.close();\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate UserDto getEmail(ResultSet searchResultSet) throws SQLException {\r\n\t\tList&lt;UserDto &gt; result = new ArrayList&lt;UserDto &gt;();\r\n\r\n\t\tUserDto userDto = null;\r\n\r\n\t\twhile (searchResultSet.next()) {\r\n\t\t\tuserDto = new UserDto ();\r\n\r\n\t\t\tuserDto .setEmailAddress(searchResultSet.getString(1));\r\n\t\t\tresult.add(userDto );\r\n\t\t}\r\n\t\treturn result == null ? null : result.size() == 0 ? null : result.get(0);\r\n\t}\r\n \r\n```\r\nits working fine.\r\n\r\nSecond class which is the class that I have to call this searchResultSet to get the emails and use them one by one. Now its working fine but it read and send an email for only the first email or to the value that is in the first row or the searchResultSet. My question is how I can use these rows one by one.\r\n\r\nin the second class:\r\n ```\r\nDelegate Delegate = new Delegate();\r\n\r\n\t\t\tUserDto userDto = new UserDto();\r\n\r\n\t\t\tuserDto = delegate.getEmail();\r\n\r\n\t\t\tString toEmail = userDto.getEmailAddress();\r\n\r\ndelegate.sendNotification(&quot;****&quot;, &quot;****&quot;, toEmail, &quot;&quot;, &quot;&quot;,\r\n\t\t\t\t\t&quot;&quot;, body);\r\n\r\n```\r\n\r\nHere I have to go round to get the values of all rows because only it send for the first email which is the value of first row of the searching result.\r\n\r\nAny help!!!\r\n\r\nThank you in advance.","title":"Extract and use all values or outputs of searchResultSet for sending an emails","body":"<p>I have this code that searching in the DB and giving me a list of emails like this:</p>\n<p>*******@gmail.com</p>\n<p>*******@gmail.com</p>\n<p>*******@gmail.com</p>\n<p>After the searchResultSet I want to use these email Addresses to send an email to them so how I can read them one by one as string.</p>\n<p>first class:</p>\n<pre><code>public UserDto getEmail() {\n\n        Connection connection = null;\n\n        PreparedStatement preparedStatement = null;\n\n        ResultSet searchResultSet = null;\n        try {\n\n            connection = getConnection();\n\n            preparedStatement = connection.prepareStatement(\n                    &quot;SELECT EMAIL FROM USER WHERE USER.U_SEQ IN ('1','650')&quot;);\n            \n            searchResultSet = preparedStatement.executeQuery();\n\n            return getEmail(searchResultSet);\n\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        } finally {\n            try {\n                preparedStatement.close();\n            } catch (SQLException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n\n    private UserDto getEmail(ResultSet searchResultSet) throws SQLException {\n        List&lt;UserDto &gt; result = new ArrayList&lt;UserDto &gt;();\n\n        UserDto userDto = null;\n\n        while (searchResultSet.next()) {\n            userDto = new UserDto ();\n\n            userDto .setEmailAddress(searchResultSet.getString(1));\n            result.add(userDto );\n        }\n        return result == null ? null : result.size() == 0 ? null : result.get(0);\n    }\n \n</code></pre>\n<p>its working fine.</p>\n<p>Second class which is the class that I have to call this searchResultSet to get the emails and use them one by one. Now its working fine but it read and send an email for only the first email or to the value that is in the first row or the searchResultSet. My question is how I can use these rows one by one.</p>\n<p>in the second class:</p>\n<pre><code>Delegate Delegate = new Delegate();\n\n           UserDto userDto = new UserDto();\n\n           userDto = delegate.getEmail();\n\n           String toEmail = userDto.getEmailAddress();\n\ndelegate.sendNotification(&quot;****&quot;, &quot;****&quot;, toEmail, &quot;&quot;, &quot;&quot;,\n                   &quot;&quot;, body);\n\n</code></pre>\n<p>Here I have to go round to get the values of all rows because only it send for the first email which is the value of first row of the searching result.</p>\n<p>Any help!!!</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","maven","web","tomcat","war"],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668006480,"creation_date":1668006480,"answer_id":74377086,"question_id":74377007,"body_markdown":"A `NoSuchMethodError` means that you compiled your code/war using one version of Apache Doris, but you have a different version (or maybe haven&#39;t installed it) on the server. The solution is to upgrade your Doris library on the server to what you are using locally.","title":"web war java.lang.NoSuchMethodError at remote server but on the local is fine","body":"<p>A <code>NoSuchMethodError</code> means that you compiled your code/war using one version of Apache Doris, but you have a different version (or maybe haven't installed it) on the server. The solution is to upgrade your Doris library on the server to what you are using locally.</p>\n"},{"tags":[],"owner":{"account_id":10931114,"reputation":63,"user_id":8034193,"display_name":"Yang Xu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668072631,"creation_date":1668072631,"answer_id":74386802,"question_id":74377007,"body_markdown":"I am back and solved it. That was very careless of me. The root cause indeed is getSymbolFactory method loaded from another jar,  I&#39;m only verified SqlParser class, and missing verifiy the getSymbolFactory method which is inherited from the parent class java_cup.runtime.lr_parser. The key is this class loaded from another jar and I didn&#39;t notice. \r\n\r\nWhy it works well on the local machine is the method is loaded from the correct jar. I am using tomcat 8, and I&#39;ve searched for the loading mechanism of tomcat. It turns out the loading order of tomcat 8 is not guaranteed. Here, even though this is a basic issue, I want to summarize the things when I troubleshoot.\r\n\r\n1. Open the loading jar log and look over Catalina.out\r\n\r\nhttps://stackoverflow.com/questions/50611546/configure-tomcat-to-log-all-jar-files-and-or-classes-loaded-at-startup/74383793#74383793\r\n\r\nI using this\r\n```\r\n-XX:+TraceClassLoading\r\n```\r\n\r\n2. find the jar that contains the specified class or method\r\n```\r\ngrep &quot;xxx&quot; web-inf/lib/jars\r\n```\r\n\r\n3. check the signature of the class\r\n```\r\njavap -classpath jar com.xxx.xxx\r\n```\r\n\r\n4. some tomcat loading relate posts\r\n\r\nhttps://stackoverflow.com/questions/5474765/order-of-loading-jar-files-from-lib-directory\r\n\r\nhttps://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html\r\n\r\nhttps://stackoverflow.com/questions/34904120/how-tomcat-will-load-the-class-if-duplicate-classes-exist-with-same-package-stru\r\n\r\nhope these can help other people.\r\n","title":"web war java.lang.NoSuchMethodError at remote server but on the local is fine","body":"<p>I am back and solved it. That was very careless of me. The root cause indeed is getSymbolFactory method loaded from another jar,  I'm only verified SqlParser class, and missing verifiy the getSymbolFactory method which is inherited from the parent class java_cup.runtime.lr_parser. The key is this class loaded from another jar and I didn't notice.</p>\n<p>Why it works well on the local machine is the method is loaded from the correct jar. I am using tomcat 8, and I've searched for the loading mechanism of tomcat. It turns out the loading order of tomcat 8 is not guaranteed. Here, even though this is a basic issue, I want to summarize the things when I troubleshoot.</p>\n<ol>\n<li>Open the loading jar log and look over Catalina.out</li>\n</ol>\n<p><a href=\"https://stackoverflow.com/questions/50611546/configure-tomcat-to-log-all-jar-files-and-or-classes-loaded-at-startup/74383793#74383793\">Configure Tomcat to Log all Jar Files and/or Classes Loaded at Startup</a></p>\n<p>I using this</p>\n<pre><code>-XX:+TraceClassLoading\n</code></pre>\n<ol start=\"2\">\n<li>find the jar that contains the specified class or method</li>\n</ol>\n<pre><code>grep &quot;xxx&quot; web-inf/lib/jars\n</code></pre>\n<ol start=\"3\">\n<li>check the signature of the class</li>\n</ol>\n<pre><code>javap -classpath jar com.xxx.xxx\n</code></pre>\n<ol start=\"4\">\n<li>some tomcat loading relate posts</li>\n</ol>\n<p><a href=\"https://stackoverflow.com/questions/5474765/order-of-loading-jar-files-from-lib-directory\">Order of loading jar files from lib directory</a></p>\n<p><a href=\"https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html</a></p>\n<p><a href=\"https://stackoverflow.com/questions/34904120/how-tomcat-will-load-the-class-if-duplicate-classes-exist-with-same-package-stru\">how tomcat will load the class if duplicate classes exist with same package structure</a></p>\n<p>hope these can help other people.</p>\n"}],"owner":{"account_id":10931114,"reputation":63,"user_id":8034193,"display_name":"Yang Xu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74386802,"answer_count":2,"score":0,"last_activity_date":1668072631,"creation_date":1668006127,"question_id":74377007,"body_markdown":"I face a so strange problem that occurs below on the remote tomcat server but works well on the local.\r\n```\r\norg.springframework.web.util.NestedServletException: Handler processing failed; nested exception is java.lang.NoSuchMethodError: org.apache.doris.analysis.SqlParser.getSymbolFactory()Ljava_cup/runtime/SymbolFactory;\r\n```\r\nI know most related topics about this issue are package duplicatedependency conflict etc.\r\nBut actually, I&#39;ve tried to eliminate these factors. The war is identical on both local and remote. I also decompile the jar which includes SqlParser class, and It&#39;s truly existed and includes the getSymbolFactory function.\r\n\r\nThe most strange thing is when I copy that to local for running it&#39;s ok. At first, I suspected it was about the version of tomcat. But after using the same version of the Tomcat on the remote, the error still exists. \r\n\r\nBy the way, the jar includes warning class that is imported by the system jar type. The jars are placed the resource/lib/* . It&#39;s related to this?\r\n\r\nMaven config for import system jar\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;net.sourceforge.czt.dev&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-cup&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11-a-czt02-cdh&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${basedir}/src/main/resources/lib/java-cup-runtime-0.11-a-czt01-cdh.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.doris&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fe-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${basedir}/src/main/resources/lib/fe-core-1.0-SNAPSHOT.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.doris&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fe-common&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${basedir}/src/main/resources/lib/fe-common-1.0-SNAPSHOT.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;nonFilteredFileExtensions&gt;\r\n                        &lt;nonFilteredFileExtension&gt;ftl&lt;/nonFilteredFileExtension&gt;\r\n                    &lt;/nonFilteredFileExtensions&gt;\r\n                    &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;\r\n                    &lt;webResources&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;filtering&gt;true&lt;/filtering&gt;\r\n                            &lt;directory&gt;src/main/webapp/WEB-INF&lt;/directory&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;**/*.xml&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                            &lt;targetPath&gt;/WEB-INF&lt;/targetPath&gt;\r\n                        &lt;/resource&gt;\r\n                        &lt;resource&gt;\r\n                            &lt;directory&gt;src/main/resources/lib&lt;/directory&gt;\r\n                            &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\r\n                        &lt;/resource&gt;\r\n                    &lt;/webResources&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nFor now, the most relevant thread I found is this:\r\nhttps://stackoverflow.com/questions/8168052/java-lang-nosuchmethoderror-when-the-method-definitely-exists\r\nI have no clue how to troubleshoot this, anyone can help me?","title":"web war java.lang.NoSuchMethodError at remote server but on the local is fine","body":"<p>I face a so strange problem that occurs below on the remote tomcat server but works well on the local.</p>\n<pre><code>org.springframework.web.util.NestedServletException: Handler processing failed; nested exception is java.lang.NoSuchMethodError: org.apache.doris.analysis.SqlParser.getSymbolFactory()Ljava_cup/runtime/SymbolFactory;\n</code></pre>\n<p>I know most related topics about this issue are package duplicatedependency conflict etc.\nBut actually, I've tried to eliminate these factors. The war is identical on both local and remote. I also decompile the jar which includes SqlParser class, and It's truly existed and includes the getSymbolFactory function.</p>\n<p>The most strange thing is when I copy that to local for running it's ok. At first, I suspected it was about the version of tomcat. But after using the same version of the Tomcat on the remote, the error still exists.</p>\n<p>By the way, the jar includes warning class that is imported by the system jar type. The jars are placed the resource/lib/* . It's related to this?</p>\n<p>Maven config for import system jar</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.czt.dev&lt;/groupId&gt;\n            &lt;artifactId&gt;java-cup&lt;/artifactId&gt;\n            &lt;version&gt;0.11-a-czt02-cdh&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${basedir}/src/main/resources/lib/java-cup-runtime-0.11-a-czt01-cdh.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.doris&lt;/groupId&gt;\n            &lt;artifactId&gt;fe-core&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${basedir}/src/main/resources/lib/fe-core-1.0-SNAPSHOT.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.doris&lt;/groupId&gt;\n            &lt;artifactId&gt;fe-common&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${basedir}/src/main/resources/lib/fe-common-1.0-SNAPSHOT.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n\n&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;nonFilteredFileExtensions&gt;\n                        &lt;nonFilteredFileExtension&gt;ftl&lt;/nonFilteredFileExtension&gt;\n                    &lt;/nonFilteredFileExtensions&gt;\n                    &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;\n                    &lt;webResources&gt;\n                        &lt;resource&gt;\n                            &lt;filtering&gt;true&lt;/filtering&gt;\n                            &lt;directory&gt;src/main/webapp/WEB-INF&lt;/directory&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/*.xml&lt;/include&gt;\n                            &lt;/includes&gt;\n                            &lt;targetPath&gt;/WEB-INF&lt;/targetPath&gt;\n                        &lt;/resource&gt;\n                        &lt;resource&gt;\n                            &lt;directory&gt;src/main/resources/lib&lt;/directory&gt;\n                            &lt;targetPath&gt;WEB-INF/lib&lt;/targetPath&gt;\n                        &lt;/resource&gt;\n                    &lt;/webResources&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>For now, the most relevant thread I found is this:\n<a href=\"https://stackoverflow.com/questions/8168052/java-lang-nosuchmethoderror-when-the-method-definitely-exists\">java.lang.NoSuchMethodError when the method definitely exists</a>\nI have no clue how to troubleshoot this, anyone can help me?</p>\n"},{"tags":["java","excel","vba","vbscript","talend"],"comments":[{"owner":{"account_id":10301066,"reputation":24258,"user_id":7599798,"display_name":"FunThomas"},"score":1,"creation_date":1668068768,"post_id":74385880,"comment_id":131318726,"body_markdown":"A vbs is a VBScript, not VBA. If you have a VBA macro, you need the host program (eg Word or Excel). If you have a VBScript, you call is with CScript or WScript.","body":"A vbs is a VBScript, not VBA. If you have a VBA macro, you need the host program (eg Word or Excel). If you have a VBScript, you call is with CScript or WScript."},{"owner":{"account_id":26804034,"reputation":31,"user_id":20395564,"display_name":"guest788"},"score":0,"creation_date":1668070011,"post_id":74385880,"comment_id":131319156,"body_markdown":"@FunThomas how would that look ?","body":"@FunThomas how would that look ?"},{"owner":{"account_id":10301066,"reputation":24258,"user_id":7599798,"display_name":"FunThomas"},"score":0,"creation_date":1668070143,"post_id":74385880,"comment_id":131319193,"body_markdown":"You first need to tell if you are dealing with a VBScript or with VBA. And of course the environment - do you run this on a Windows PC? Is Office installed?","body":"You first need to tell if you are dealing with a VBScript or with VBA. And of course the environment - do you run this on a Windows PC? Is Office installed?"},{"owner":{"account_id":26804034,"reputation":31,"user_id":20395564,"display_name":"guest788"},"score":0,"creation_date":1668070415,"post_id":74385880,"comment_id":131319293,"body_markdown":"It&#39;s a Win10 PC. Office is installed, yes. So I need to run 1 specific Module of an Excel VBA File (xlsm).","body":"It&#39;s a Win10 PC. Office is installed, yes. So I need to run 1 specific Module of an Excel VBA File (xlsm)."},{"owner":{"account_id":26804034,"reputation":31,"user_id":20395564,"display_name":"guest788"},"score":0,"creation_date":1668071408,"post_id":74385880,"comment_id":131319603,"body_markdown":"@FunThomas I just exported the 1 Module as a vbs file, because i thought it would be easier to run it as a vbs. But actually it&#39;s about VBA","body":"@FunThomas I just exported the 1 Module as a vbs file, because i thought it would be easier to run it as a vbs. But actually it&#39;s about VBA"}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668069724,"creation_date":1668069724,"answer_id":74386220,"question_id":74385880,"body_markdown":"The 2 options I can think of:\r\n\r\n1) Either install a VB runtime that can run VBA files\r\n\r\n2) Use Jacob (Java COM bridge) to connect to Excel (or any other MS Office App), then run the VBAProject in there\r\n\r\nI don&#39;t have any concrete suggestions about the first one.\r\n\r\nThe second one would encase the following steps:\r\n\r\nGet new Excel instance\r\n\r\n    ActiveXComponent excel = new ActiveXComponent(ApplicationIdentifiers.EXCEL.OleAddress);\r\n    \r\nGet hold of all the loaded workbooks (The class *Workbook* is a custom class of mine, simply wrapping the created Dispatch):\r\n\r\n\tpublic ArrayList&lt;Workbook&gt; getWorkbooks() {\r\n\t\tfinal ArrayList&lt;Workbook&gt; ret = new ArrayList&lt;&gt;();\r\n\t\tfinal Dispatch workbooks = excel.getProperty(&quot;Workbooks&quot;).getDispatch();\r\n\t\tfinal int count = Dispatch.get(workbooks, &quot;Count&quot;).getInt();\r\n\t\tfor (int i = 1; i &lt;= count; ++i) {\r\n\t\t\tfinal Dispatch oneworkbook = Dispatch.invoke(workbooks, &quot;Item&quot;, Dispatch.Get, new Object[] { Integer.valueOf(i) }, new int[0]).getDispatch();\r\n\t\t\tfinal Workbook wb = new Workbook(this, oneworkbook);\r\n\t\t\tret.add(wb);\r\n\t\t}\r\n\t\treturn ret;\r\n\t}\r\n\r\n... or open a file manually, I just don&#39;t have the code for that here, probably something along the lines of\r\n\r\n\t\t\tfinal Dispatch newworkbook = Dispatch.invoke(workbooks, &quot;Open&quot;, Dispatch.Get, new Object[] { filename }, moreparams).getDispatch();\r\n\r\n\r\nThen, get the contained VBProject:\r\n\r\n\t\t\tfinal Dispatch vbp = Dispatch.get(oneworkbook, &quot;VBProject&quot;).toDispatch();\r\n\r\n\r\nIn there, you could get the VBComponents:\r\n\r\n\t\t\t\tfinal Dispatch components = Dispatch.get(vbp, &quot;VBComponents&quot;).toDispatch();\r\n\r\nGet component count like this:\r\n\r\n\t\treturn Dispatch.get(components, &quot;Count&quot;).getInt();\r\n\r\nAnd in there, iterate to count (pIndex), you can get the Modules/Forms/classes by so:\r\n\r\n\t\tfinal Dispatch item = Dispatch.call(components, &quot;Item&quot;, Integer.valueOf(pIndex)).toDispatch();\r\n\r\nThe respective code module so:\r\n\r\n\t\tfinal Dispatch d = Dispatch.get(item, &quot;CodeModule&quot;).toDispatch();\r\n\r\nand from there you&#39;d have to do a bit of your own research, getting the right method and then run it.\r\n\r\n\r\n\r\nThe identifiers for accessing/creating Office apps I have compiled here:\r\n\r\n    public enum ApplicationIdentifiers {\r\n    \tACCESS(&quot;Access.Application&quot;, &quot;Access.CodeData&quot;, &quot;Access.CurrentData&quot;, &quot;Access.CodeProject&quot;, &quot;Access.CurrentProject&quot;, &quot;Access.DefaultWebOptions&quot;), //\r\n    \tEXCEL(&quot;Excel.Application&quot;, &quot;Excel.AddIn&quot;, &quot;Excel.Chart&quot;, &quot;Excel.Sheet&quot;), //\r\n    \tFILE_EXPLORER(&quot;Shell.Explorer.1&quot;), //\r\n    \tGRAPH(&quot;MSGraph.Application&quot;, &quot;MSGraph.Chart&quot;), //\r\n    \tOUTLOOK(&quot;Outlook.Application&quot;, &quot;Outlook.OlkBusinessCardControl&quot;, &quot;Outlook.OlkCategoryStrip&quot;, &quot;Outlook.OlkCheckBox&quot;, &quot;Outlook.OlkComboBox&quot;, &quot;Outlook.OlkCommandButton&quot;, &quot;Outlook.OlkContactPhoto&quot;, &quot;Outlook.OlkDateControl&quot;, &quot;Outlook.OlkFrameHeader&quot;, &quot;Outlook.OlkInfoBar&quot;, &quot;Outlook.OlkLabel&quot;, &quot;Outlook.OlkListBox&quot;, &quot;Outlook.OlkOptionButton&quot;, &quot;Outlook.OlkPageControl&quot;, &quot;Outlook.OlkSenderPhoto&quot;, &quot;Outlook.OlkTextBox&quot;, &quot;Outlook.OlkTimeControl&quot;, &quot;Outlook.OlkTimeZone&quot;), //\r\n    \tPOWERPOINT(&quot;PowerPoint.Application&quot;), //\r\n    \tWORD(&quot;Word.Application&quot;, &quot;Word.Document&quot;, &quot;Word.Template&quot;, &quot;Word.Global&quot;), //\r\n    \t;\r\n    \r\n    \r\n    \r\n    \tpublic final String\t\tOleAddress;\r\n    \tpublic final String[]\tComponents;\r\n    \t\r\n    \tprivate ApplicationIdentifiers(final String pOleAddress, final String... pComponents) {\r\n    \t\tOleAddress = pOleAddress;\r\n    \t\tComponents = pComponents;\r\n    \t}\r\n    \r\n    \t@Override public String toString() {\r\n    \t\treturn &quot;Application: &quot; + OleAddress + &quot;, Components: &quot; + Components;\r\n    \t}\r\n    }\r\n\r\n","title":"How to run a Excel VBA Macro from Java?","body":"<p>The 2 options I can think of:</p>\n<ol>\n<li><p>Either install a VB runtime that can run VBA files</p>\n</li>\n<li><p>Use Jacob (Java COM bridge) to connect to Excel (or any other MS Office App), then run the VBAProject in there</p>\n</li>\n</ol>\n<p>I don't have any concrete suggestions about the first one.</p>\n<p>The second one would encase the following steps:</p>\n<p>Get new Excel instance</p>\n<pre><code>ActiveXComponent excel = new ActiveXComponent(ApplicationIdentifiers.EXCEL.OleAddress);\n</code></pre>\n<p>Get hold of all the loaded workbooks (The class <em>Workbook</em> is a custom class of mine, simply wrapping the created Dispatch):</p>\n<pre><code>public ArrayList&lt;Workbook&gt; getWorkbooks() {\n    final ArrayList&lt;Workbook&gt; ret = new ArrayList&lt;&gt;();\n    final Dispatch workbooks = excel.getProperty(&quot;Workbooks&quot;).getDispatch();\n    final int count = Dispatch.get(workbooks, &quot;Count&quot;).getInt();\n    for (int i = 1; i &lt;= count; ++i) {\n        final Dispatch oneworkbook = Dispatch.invoke(workbooks, &quot;Item&quot;, Dispatch.Get, new Object[] { Integer.valueOf(i) }, new int[0]).getDispatch();\n        final Workbook wb = new Workbook(this, oneworkbook);\n        ret.add(wb);\n    }\n    return ret;\n}\n</code></pre>\n<p>... or open a file manually, I just don't have the code for that here, probably something along the lines of</p>\n<pre><code>        final Dispatch newworkbook = Dispatch.invoke(workbooks, &quot;Open&quot;, Dispatch.Get, new Object[] { filename }, moreparams).getDispatch();\n</code></pre>\n<p>Then, get the contained VBProject:</p>\n<pre><code>        final Dispatch vbp = Dispatch.get(oneworkbook, &quot;VBProject&quot;).toDispatch();\n</code></pre>\n<p>In there, you could get the VBComponents:</p>\n<pre><code>            final Dispatch components = Dispatch.get(vbp, &quot;VBComponents&quot;).toDispatch();\n</code></pre>\n<p>Get component count like this:</p>\n<pre><code>    return Dispatch.get(components, &quot;Count&quot;).getInt();\n</code></pre>\n<p>And in there, iterate to count (pIndex), you can get the Modules/Forms/classes by so:</p>\n<pre><code>    final Dispatch item = Dispatch.call(components, &quot;Item&quot;, Integer.valueOf(pIndex)).toDispatch();\n</code></pre>\n<p>The respective code module so:</p>\n<pre><code>    final Dispatch d = Dispatch.get(item, &quot;CodeModule&quot;).toDispatch();\n</code></pre>\n<p>and from there you'd have to do a bit of your own research, getting the right method and then run it.</p>\n<p>The identifiers for accessing/creating Office apps I have compiled here:</p>\n<pre><code>public enum ApplicationIdentifiers {\n    ACCESS(&quot;Access.Application&quot;, &quot;Access.CodeData&quot;, &quot;Access.CurrentData&quot;, &quot;Access.CodeProject&quot;, &quot;Access.CurrentProject&quot;, &quot;Access.DefaultWebOptions&quot;), //\n    EXCEL(&quot;Excel.Application&quot;, &quot;Excel.AddIn&quot;, &quot;Excel.Chart&quot;, &quot;Excel.Sheet&quot;), //\n    FILE_EXPLORER(&quot;Shell.Explorer.1&quot;), //\n    GRAPH(&quot;MSGraph.Application&quot;, &quot;MSGraph.Chart&quot;), //\n    OUTLOOK(&quot;Outlook.Application&quot;, &quot;Outlook.OlkBusinessCardControl&quot;, &quot;Outlook.OlkCategoryStrip&quot;, &quot;Outlook.OlkCheckBox&quot;, &quot;Outlook.OlkComboBox&quot;, &quot;Outlook.OlkCommandButton&quot;, &quot;Outlook.OlkContactPhoto&quot;, &quot;Outlook.OlkDateControl&quot;, &quot;Outlook.OlkFrameHeader&quot;, &quot;Outlook.OlkInfoBar&quot;, &quot;Outlook.OlkLabel&quot;, &quot;Outlook.OlkListBox&quot;, &quot;Outlook.OlkOptionButton&quot;, &quot;Outlook.OlkPageControl&quot;, &quot;Outlook.OlkSenderPhoto&quot;, &quot;Outlook.OlkTextBox&quot;, &quot;Outlook.OlkTimeControl&quot;, &quot;Outlook.OlkTimeZone&quot;), //\n    POWERPOINT(&quot;PowerPoint.Application&quot;), //\n    WORD(&quot;Word.Application&quot;, &quot;Word.Document&quot;, &quot;Word.Template&quot;, &quot;Word.Global&quot;), //\n    ;\n\n\n\n    public final String     OleAddress;\n    public final String[]   Components;\n    \n    private ApplicationIdentifiers(final String pOleAddress, final String... pComponents) {\n        OleAddress = pOleAddress;\n        Components = pComponents;\n    }\n\n    @Override public String toString() {\n        return &quot;Application: &quot; + OleAddress + &quot;, Components: &quot; + Components;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26804034,"reputation":31,"user_id":20395564,"display_name":"guest788"},"score":0,"creation_date":1668086945,"post_id":74386689,"comment_id":131324912,"body_markdown":"I have written now an VBScript, which should run the macro and then I&#39;m going to run the VBScript within Java. My VBScript looks like this: Set objExcel = CreateObject(&quot;Excel.Application&quot;)\nobjExcel.Application.run&quot;&#39;C:\\Users\\pk\\OneDrive - pk\\Documents\\ExcelScript.xlsm&#39;!Module1.execute&quot;\nobjExcel.DisplayAlerts = False\nobjExcel.Application.Quit\nSet objExcel = Nothing\nBut if i run it (manually, to test it) it occurs the error - file.... is opened by another application. But actually it&#39;s not...","body":"I have written now an VBScript, which should run the macro and then I&#39;m going to run the VBScript within Java. My VBScript looks like this: Set objExcel = CreateObject(&quot;Excel.Application&quot;) objExcel.Application.run&quot;&#39;C:\\Users\\pk\\OneDrive - pk\\Documents\\ExcelScript.xlsm&#39;!Module1.execute&quot; objExcel.DisplayAlerts = False objExcel.Application.Quit Set objExcel = Nothing But if i run it (manually, to test it) it occurs the error - file.... is opened by another application. But actually it&#39;s not..."}],"tags":[],"owner":{"account_id":10301066,"reputation":24258,"user_id":7599798,"display_name":"FunThomas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668072178,"creation_date":1668072178,"answer_id":74386689,"question_id":74385880,"body_markdown":"If you want to execute a VBA macro, you need to open the host application (in your case, that&#39;s Excel). Simply storing the macro code as VBS file will not work - VBS and VBA are similar, but not identically, and VBS does not know anything about Excel. \r\n\r\nEasiest way to open Excel and execute a Macro is to write a VBS script as wrapper that is started from you Java code. That script starts the Excel Application, opens the specific Excel file and start the macro you want to run. Note that the Sub should be stored in a regular module, not in Workbook or Worksheet module.\r\n\r\nA VBScript on windows is started with `CScript` (or `WScript`) - before you add it to your Java code, try it on the windows command line. Be sure that it is executed successfully. \r\n\r\nI am not familiar with the Java Exec statement, but I assume it would look like this \r\n\r\n    Runtime.getRuntime().exec(&quot;CScript \\&quot;C://Users//pk//OneDrive - pk//Documents//startExcelWithMacro.vbs\\&quot;&quot;);\r\n\r\nFor an example code, have a look to https://stackoverflow.com/questions/10232150/run-excel-macro-from-outside-excel-using-vbscript-from-command-line\r\n","title":"How to run a Excel VBA Macro from Java?","body":"<p>If you want to execute a VBA macro, you need to open the host application (in your case, that's Excel). Simply storing the macro code as VBS file will not work - VBS and VBA are similar, but not identically, and VBS does not know anything about Excel.</p>\n<p>Easiest way to open Excel and execute a Macro is to write a VBS script as wrapper that is started from you Java code. That script starts the Excel Application, opens the specific Excel file and start the macro you want to run. Note that the Sub should be stored in a regular module, not in Workbook or Worksheet module.</p>\n<p>A VBScript on windows is started with <code>CScript</code> (or <code>WScript</code>) - before you add it to your Java code, try it on the windows command line. Be sure that it is executed successfully.</p>\n<p>I am not familiar with the Java Exec statement, but I assume it would look like this</p>\n<pre><code>Runtime.getRuntime().exec(&quot;CScript \\&quot;C://Users//pk//OneDrive - pk//Documents//startExcelWithMacro.vbs\\&quot;&quot;);\n</code></pre>\n<p>For an example code, have a look to <a href=\"https://stackoverflow.com/questions/10232150/run-excel-macro-from-outside-excel-using-vbscript-from-command-line\">Run Excel Macro from Outside Excel Using VBScript From Command Line</a></p>\n"}],"owner":{"account_id":26804034,"reputation":31,"user_id":20395564,"display_name":"guest788"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668181728,"accepted_answer_id":74386689,"answer_count":2,"score":0,"last_activity_date":1668072178,"creation_date":1668067800,"question_id":74385880,"body_markdown":"i need to run a Excel VBA Macro from Java. \r\nI&#39;ve already exported the module as a vbs file: module1.vbs\r\n\r\nAnd now i just need to run it from the java code.\r\n\r\nI tried to run it from Java like this:\r\n\r\n    Runtime.getRuntime().exec(&quot;C://Users//pk//OneDrive - pk//Documents//Module1.vbs&quot;);\r\n\r\nThis is the Error i get from it: \r\n\r\n&gt; java.io.IOException: Cannot run program &quot;C:\\Users\\pk\\OneDrive -\r\n&gt; pk\\Documents\\Modul1e.vbs&quot;: CreateProcess error=193, %1 is not a valid\r\n&gt; Win32 application\r\n\r\n\r\n","title":"How to run a Excel VBA Macro from Java?","body":"<p>i need to run a Excel VBA Macro from Java.\nI've already exported the module as a vbs file: module1.vbs</p>\n<p>And now i just need to run it from the java code.</p>\n<p>I tried to run it from Java like this:</p>\n<pre><code>Runtime.getRuntime().exec(&quot;C://Users//pk//OneDrive - pk//Documents//Module1.vbs&quot;);\n</code></pre>\n<p>This is the Error i get from it:</p>\n<blockquote>\n<p>java.io.IOException: Cannot run program &quot;C:\\Users\\pk\\OneDrive -\npk\\Documents\\Modul1e.vbs&quot;: CreateProcess error=193, %1 is not a valid\nWin32 application</p>\n</blockquote>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3834880,"reputation":101,"user_id":10798153,"display_name":"Jiminy Cricket."},"score":0,"creation_date":1668071790,"post_id":74386590,"comment_id":131319736,"body_markdown":"The second link goes to stackoverflow.com, I&#39;m sure that&#39;s not what you intend.","body":"The second link goes to stackoverflow.com, I&#39;m sure that&#39;s not what you intend."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1668072563,"post_id":74386590,"comment_id":131320015,"body_markdown":"Minor note: since about Java 7 the string pool *does live on the heap* so both strings in the string pool and non-interns strings will be created on the heap.","body":"Minor note: since about Java 7 the string pool <i>does live on the heap</i> so both strings in the string pool and non-interns strings will be created on the heap."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668072573,"post_id":74386590,"comment_id":131320020,"body_markdown":"The constant pool is not a storage. Its just a table of references. So being in the constant pool just means being referenced by the constant pool. This should feel familiar, as every collection in Java works that way. E.g. storing an object in an `ArrayList` doesnt change the fact that the objects memory is part of the heap memory.","body":"The constant pool is not a storage. Its just a table of references. So being in the constant pool just means being referenced by the constant pool. This should feel familiar, as every collection in Java works that way. E.g. storing an object in an <code>ArrayList</code> doesnt change the fact that the objects memory is part of the heap memory."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668073168,"post_id":74386590,"comment_id":131320208,"body_markdown":"@JoachimSauer the strings of the pool *always* lived in the heap memory, even if JMX reported the PermGen to be non-heap memory. As thats [a matter of definition](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.5.3): *The heap is the run-time data area from which memory for all class instances and arrays is allocated.* Even in the PermGen, the strings were visible to all threads and they were subject to garbage collection, which are the characteristics of heap memory.","body":"@JoachimSauer the strings of the pool <i>always</i> lived in the heap memory, even if JMX reported the PermGen to be non-heap memory. As thats <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-2.html#jvms-2.5.3\" rel=\"nofollow noreferrer\">a matter of definition</a>: <i>The heap is the run-time data area from which memory for all class instances and arrays is allocated.</i> Even in the PermGen, the strings were visible to all threads and they were subject to garbage collection, which are the characteristics of heap memory."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1668073287,"post_id":74386590,"comment_id":131320248,"body_markdown":"@Holger: fair, but in another very practically relevant way the constant pool lived in an unresizable, un-garbage-collectable part of the heap, which caused many problems. And &quot;being resizable&quot; and &quot;being garbage-collectable&quot; are properties that (correctly or incorrectly) are strongly associated with &quot;the heap&quot; in Java.","body":"@Holger: fair, but in another very practically relevant way the constant pool lived in an unresizable, un-garbage-collectable part of the heap, which caused many problems. And &quot;being resizable&quot; and &quot;being garbage-collectable&quot; are properties that (correctly or incorrectly) are strongly associated with &quot;the heap&quot; in Java."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1668074875,"post_id":74386590,"comment_id":131320836,"body_markdown":"@JoachimSauer this is not correct. The PermGen was not un-garbage-collectable. Strings in the pool [were always garbage collectable](http://blog.kdgregory.com/2009/09/intern-isnt-forever-and-maybe-never-was.html), if not referenced by still reachable code. The fixed size was indeed a problem, but the specification never said that heap memory has to be expandable. In fact, theres a maximum size for the heap in most implementations, so being expandable is only relevant because they can be smaller than that maximum.","body":"@JoachimSauer this is not correct. The PermGen was not un-garbage-collectable. Strings in the pool <a href=\"http://blog.kdgregory.com/2009/09/intern-isnt-forever-and-maybe-never-was.html\" rel=\"nofollow noreferrer\">were always garbage collectable</a>, if not referenced by still reachable code. The fixed size was indeed a problem, but the specification never said that heap memory has to be expandable. In fact, theres a maximum size for the heap in most implementations, so being expandable is only relevant because they can be smaller than that maximum."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1668075726,"post_id":74386590,"comment_id":131321075,"body_markdown":"@Holger: interesting, maybe I did fall prey to some cargo cult. Now I&#39;m vaguely curious to get to the root of this persistent &quot;knowledge&quot;. But on the other hand I&#39;m lazy enough not to invest time into something that has roughly 0 practical impact since almost all of the constraints from back then (whatever they actually were) have been removed since.","body":"@Holger: interesting, maybe I did fall prey to some cargo cult. Now I&#39;m vaguely curious to get to the root of this persistent &quot;knowledge&quot;. But on the other hand I&#39;m lazy enough not to invest time into something that has roughly 0 practical impact since almost all of the constraints from back then (whatever they actually were) have been removed since."}],"owner":{"account_id":26766753,"reputation":3,"user_id":20363766,"display_name":"Sriram prasanth"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668072449,"answer_count":0,"score":0,"last_activity_date":1668072060,"creation_date":1668071702,"question_id":74386590,"body_markdown":"```\r\nString str1=new String(&quot;Hello&quot;);\r\n```\r\n\r\n\r\nConsider there is no instance of any String Object in the String Constant Pool (SCP) and heap. &quot;Hello&quot; doesn&#39;t exist anywhere either in Heap or SCP till now. And I&#39;m executing this line of Code. How many objects it will create?\r\n\r\nIn some Articles they say it&#39;s created both in heap and scp and in some articles they say it&#39;s in heap only\r\n\r\nReferences:\r\nIn Only Heap: https://www.javatpoint.com/string-pool-in-java\r\n\r\n\r\n\r\nIn both heap and Scp: https://www.edureka.co/blog/java-string/#:~:text=By%20new%20keyword%20%3A%20Java%20String,the%20object%20in%20the%20heap\r\n\r\n","title":"How many Objects are created in String using new Keyword? Is it only in heap or both in SCP and heap","body":"<pre><code>String str1=new String(&quot;Hello&quot;);\n</code></pre>\n<p>Consider there is no instance of any String Object in the String Constant Pool (SCP) and heap. &quot;Hello&quot; doesn't exist anywhere either in Heap or SCP till now. And I'm executing this line of Code. How many objects it will create?</p>\n<p>In some Articles they say it's created both in heap and scp and in some articles they say it's in heap only</p>\n<p>References:\nIn Only Heap: <a href=\"https://www.javatpoint.com/string-pool-in-java\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/string-pool-in-java</a></p>\n<p>In both heap and Scp: <a href=\"https://www.edureka.co/blog/java-string/#:%7E:text=By%20new%20keyword%20%3A%20Java%20String,the%20object%20in%20the%20heap\" rel=\"nofollow noreferrer\">https://www.edureka.co/blog/java-string/#:~:text=By%20new%20keyword%20%3A%20Java%20String,the%20object%20in%20the%20heap</a></p>\n"},{"tags":["java","exception","testng","testng-dataprovider"],"answers":[{"comments":[{"owner":{"account_id":26883004,"reputation":3,"user_id":20463087,"display_name":"Adamski"},"score":1,"creation_date":1668095341,"post_id":74386655,"comment_id":131328353,"body_markdown":"Thank you! I used assertTrue and what you described above and it works perfectly :)","body":"Thank you! I used assertTrue and what you described above and it works perfectly :)"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1668096353,"post_id":74386655,"comment_id":131328724,"body_markdown":"You are welcome! I would recommend to use `assertEquals` because when you use this one, you will have difference reported between expected and observed so that you might have a faster insight on what goes wrong. In the opposite when you use `assertTrue` you would just get smething like &quot;Expected: true, Observed: false&quot;","body":"You are welcome! I would recommend to use <code>assertEquals</code> because when you use this one, you will have difference reported between expected and observed so that you might have a faster insight on what goes wrong. In the opposite when you use <code>assertTrue</code> you would just get smething like &quot;Expected: true, Observed: false&quot;"}],"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668072029,"creation_date":1668072029,"answer_id":74386655,"question_id":74382198,"body_markdown":"You can add one more field to the set of values delivered by your data provider where that new field would contain expected error message.\r\n\r\nThen you just wrap your test in `try-catch` and use that additional parameter to verify the actual message within the `catch` block.","title":"Is there a way to check for multiple error messages returned in console using TestNG @DataProvider","body":"<p>You can add one more field to the set of values delivered by your data provider where that new field would contain expected error message.</p>\n<p>Then you just wrap your test in <code>try-catch</code> and use that additional parameter to verify the actual message within the <code>catch</code> block.</p>\n"}],"owner":{"account_id":26883004,"reputation":3,"user_id":20463087,"display_name":"Adamski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74386655,"answer_count":1,"score":0,"last_activity_date":1668072029,"creation_date":1668033712,"question_id":74382198,"body_markdown":"I am trying to use the TestNG framework to test values that should throw an exception. To do this I&#39;m using a `@DataProvider` to test different values at once rather than running multiple methods with different data values. \r\n\r\nEssentially I&#39;m expecting multiple and a variety of error messages depending on what failed (&quot;data1 is too short&quot;), (data1 is too long), (&quot;data2 is too short&quot;), (data2 is too long), etc \r\nFor this example I will say I want data1 to be of length 5 and data2 of length 6\r\n\r\nWhat I want to do is to test the error messages outputted as well. But when I try by using `expectedExceptionsMessageRegExp` I can&#39;t seem to use multiple values with &#39;or&#39; or commas. \r\n\r\nSo what I want to know is can I test for specific messages returned in console using the testNG `@DataProvider`. \r\n\r\nI already have it working without the DataProvider but it uses multiple methods and seems sloppy to me So with multiple `expectedExceptions` types but can&#39;t with `expectedExceptionsMessageRegExp`.\r\n\r\nMy Method:\r\n```\r\n@Test(dataProvider = &quot;TestNGProblemsDP&quot;, expectedExceptions = {IllegalArgumentException.class},\r\n        expectedExceptionsMessageRegExp = (&quot;data1 is too short&quot;))\r\npublic void TestNGProblems(String data1, String data2) throws Exception { \r\nDO STUFF WHERE DATA1 SHOULD BE LENGTH 5 AND DATA2 SHOULD BE LENGTH 6\r\n}\r\n```\r\nThe @DataProvider:\r\n\r\n```\r\n@DataProvider(name = &quot;TestNGProblemsDP&quot;)\r\npublic Object[][] dataProvider(Method m) {\r\n    switch(m.getName()) {\r\n        case &quot;TestNGProblems&quot;\r\n            return new Object[][] {\r\n                    {&quot;hello&quot;, &quot;world!&quot;},     //pass\r\n                    {&quot;hell&quot;, &quot;world!&quot;},      //fail\r\n                    {&quot;hello&quot;, &quot;orld!&quot;},      //fail\r\n                    {&quot;hello&quot;, &quot;word&quot;},       //fail\r\n                    {&quot;&quot;, &quot;&quot;}                 //fail\r\n        case....            \r\n                    \r\n            };\r\n```\r\nSo what actually happened was I got a TestNG Exception if I didn&#39;t have the correct message: \r\n\r\n`org.testng.TestException: \r\nThe exception was thrown with the wrong message: expected &quot;data1 is too short&quot; but got &quot;data1 is too long&quot;`\r\n\r\nIf I tried to add multiple messages ie: \r\n`expectedExceptionsMessageRegExp = (&quot;data1 is too short&quot;) || (&quot;data1 is too long&quot;))`\r\nor: \r\n`expectedExceptionsMessageRegExp = (&quot;data1 is too short&quot;), (&quot;data1 is too long&quot;))`\r\nIt just wouldn&#39;t work. \r\n\r\nThank you to everyone who reads this and sorry for formatting etc, my first post :) \r\n\r\n","title":"Is there a way to check for multiple error messages returned in console using TestNG @DataProvider","body":"<p>I am trying to use the TestNG framework to test values that should throw an exception. To do this I'm using a <code>@DataProvider</code> to test different values at once rather than running multiple methods with different data values.</p>\n<p>Essentially I'm expecting multiple and a variety of error messages depending on what failed (&quot;data1 is too short&quot;), (data1 is too long), (&quot;data2 is too short&quot;), (data2 is too long), etc\nFor this example I will say I want data1 to be of length 5 and data2 of length 6</p>\n<p>What I want to do is to test the error messages outputted as well. But when I try by using <code>expectedExceptionsMessageRegExp</code> I can't seem to use multiple values with 'or' or commas.</p>\n<p>So what I want to know is can I test for specific messages returned in console using the testNG <code>@DataProvider</code>.</p>\n<p>I already have it working without the DataProvider but it uses multiple methods and seems sloppy to me So with multiple <code>expectedExceptions</code> types but can't with <code>expectedExceptionsMessageRegExp</code>.</p>\n<p>My Method:</p>\n<pre><code>@Test(dataProvider = &quot;TestNGProblemsDP&quot;, expectedExceptions = {IllegalArgumentException.class},\n        expectedExceptionsMessageRegExp = (&quot;data1 is too short&quot;))\npublic void TestNGProblems(String data1, String data2) throws Exception { \nDO STUFF WHERE DATA1 SHOULD BE LENGTH 5 AND DATA2 SHOULD BE LENGTH 6\n}\n</code></pre>\n<p>The @DataProvider:</p>\n<pre><code>@DataProvider(name = &quot;TestNGProblemsDP&quot;)\npublic Object[][] dataProvider(Method m) {\n    switch(m.getName()) {\n        case &quot;TestNGProblems&quot;\n            return new Object[][] {\n                    {&quot;hello&quot;, &quot;world!&quot;},     //pass\n                    {&quot;hell&quot;, &quot;world!&quot;},      //fail\n                    {&quot;hello&quot;, &quot;orld!&quot;},      //fail\n                    {&quot;hello&quot;, &quot;word&quot;},       //fail\n                    {&quot;&quot;, &quot;&quot;}                 //fail\n        case....            \n                    \n            };\n</code></pre>\n<p>So what actually happened was I got a TestNG Exception if I didn't have the correct message:</p>\n<p><code>org.testng.TestException:  The exception was thrown with the wrong message: expected &quot;data1 is too short&quot; but got &quot;data1 is too long&quot;</code></p>\n<p>If I tried to add multiple messages ie:\n<code>expectedExceptionsMessageRegExp = (&quot;data1 is too short&quot;) || (&quot;data1 is too long&quot;))</code>\nor:\n<code>expectedExceptionsMessageRegExp = (&quot;data1 is too short&quot;), (&quot;data1 is too long&quot;))</code>\nIt just wouldn't work.</p>\n<p>Thank you to everyone who reads this and sorry for formatting etc, my first post :)</p>\n"},{"tags":["java","spring-mvc","axios"],"comments":[{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":0,"creation_date":1667996962,"post_id":74374717,"comment_id":131300052,"body_markdown":"What did you already tried? Do you use a common content type like `application/json`? With these information nobody can answer your question...","body":"What did you already tried? Do you use a common content type like <code>application&#47;json</code>? With these information nobody can answer your question..."},{"owner":{"account_id":23609486,"reputation":45,"user_id":17644712,"display_name":"Dusto"},"score":0,"creation_date":1668004088,"post_id":74374717,"comment_id":131302768,"body_markdown":"Hello, I haven&#39;t specified any content type, so I am using the default: `application/json`. I will post my code and update my question.","body":"Hello, I haven&#39;t specified any content type, so I am using the default: <code>application&#47;json</code>. I will post my code and update my question."},{"owner":{"account_id":7324784,"reputation":758,"user_id":5579519,"accept_rate":91,"display_name":"Jswq"},"score":0,"creation_date":1668269687,"post_id":74374717,"comment_id":131366667,"body_markdown":"Does this answer your question? [Passing an Array or List to @Pathvariable - Spring/Java](https://stackoverflow.com/questions/9623258/passing-an-array-or-list-to-pathvariable-spring-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9623258/passing-an-array-or-list-to-pathvariable-spring-java\">Passing an Array or List to @Pathvariable - Spring/Java</a>"},{"owner":{"account_id":23609486,"reputation":45,"user_id":17644712,"display_name":"Dusto"},"score":0,"creation_date":1668596708,"post_id":74374717,"comment_id":131442422,"body_markdown":"no it doesn&#39;t, I wanted the to get the form data over the @RequestBody, but I already solved it, thanks.","body":"no it doesn&#39;t, I wanted the to get the form data over the @RequestBody, but I already solved it, thanks."}],"answers":[{"comments":[{"owner":{"account_id":23609486,"reputation":45,"user_id":17644712,"display_name":"Dusto"},"score":0,"creation_date":1668004005,"post_id":74374872,"comment_id":131302731,"body_markdown":"thank you for your response, I tried it out, but I am getting &#39;bad request status 400&#39;. My axios request is probably wrong.","body":"thank you for your response, I tried it out, but I am getting &#39;bad request status 400&#39;. My axios request is probably wrong."},{"owner":{"account_id":14926880,"reputation":34,"user_id":10777466,"display_name":"Nils"},"score":0,"creation_date":1668071729,"post_id":74374872,"comment_id":131319716,"body_markdown":"try to add in the PutMapping Annotation `consumes = MediaType.APPLICATION_JSON_VALUE` and on the body in the axios `JSON.stringify(data_to_send)` and a third parameter in the axios like: `{headers:{&#39;Content-Type&#39;:&#39;application/json&#39;}}`","body":"try to add in the PutMapping Annotation <code>consumes = MediaType.APPLICATION_JSON_VALUE</code> and on the body in the axios <code>JSON.stringify(data_to_send)</code> and a third parameter in the axios like: <code>{headers:{&#39;Content-Type&#39;:&#39;application&#47;json&#39;}}</code>"},{"owner":{"account_id":23609486,"reputation":45,"user_id":17644712,"display_name":"Dusto"},"score":0,"creation_date":1668596819,"post_id":74374872,"comment_id":131442465,"body_markdown":"It still gave me bad request, but I got it to work. I used `@RequestBody Map&lt;String, Long[]&gt; genreIds`","body":"It still gave me bad request, but I got it to work. I used <code>@RequestBody Map&lt;String, Long[]&gt; genreIds</code>"}],"tags":[],"owner":{"account_id":14926880,"reputation":34,"user_id":10777466,"display_name":"Nils"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668071796,"creation_date":1667996783,"answer_id":74374872,"question_id":74374717,"body_markdown":"Like so?\r\n```java\r\n@XXXMapping(value = &quot;/url&quot;)\r\npublic ResponseEntity controllerMethod(@RequestBody int[] arrayWithIds){\r\n//normally use arrayWithIds in Methodbody\r\n}\r\n```","title":"Pass array of ids with axios to spring mvc controller","body":"<p>Like so?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XXXMapping(value = &quot;/url&quot;)\npublic ResponseEntity controllerMethod(@RequestBody int[] arrayWithIds){\n//normally use arrayWithIds in Methodbody\n}\n</code></pre>\n"}],"owner":{"account_id":23609486,"reputation":45,"user_id":17644712,"display_name":"Dusto"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668071796,"creation_date":1667996068,"question_id":74374717,"body_markdown":"I have encountered an issue.\r\nI need to pass an array of ids that looks like: `[1,2,3,4]` from my frontend with axios to my spring boot mvc controller.\r\n\r\nI want to retrieve the array from `@RequestBody` in my controller.\r\n\r\nHow would I do it?\r\n\r\nAs already mentioned, I will post my code and what I have so far.\r\n\r\nIn my vue component, my axis call:\r\n\r\n```vue\r\naxios.put(&#39;{{ myUrl }}&#39;, {\r\n              genreIds: this.form.selectedGenres\r\n            })\r\n```\r\n\r\nIn my mvc controller, my method: \r\n```spring\r\n@PutMapping(&quot;/url&quot;)\r\n    Song myMethod(\r\n            @PathVariable Long songId,\r\n            @RequestBody Long[] genreIds\r\n    ) {\r\n        System.out.println(genreIds);\r\n        //My other code\r\n    }\r\n```\r\n\r\nAnd all I am getting is a `bad request status 400` from my Server\r\n","title":"Pass array of ids with axios to spring mvc controller","body":"<p>I have encountered an issue.\nI need to pass an array of ids that looks like: <code>[1,2,3,4]</code> from my frontend with axios to my spring boot mvc controller.</p>\n<p>I want to retrieve the array from <code>@RequestBody</code> in my controller.</p>\n<p>How would I do it?</p>\n<p>As already mentioned, I will post my code and what I have so far.</p>\n<p>In my vue component, my axis call:</p>\n<pre><code>axios.put('{{ myUrl }}', {\n              genreIds: this.form.selectedGenres\n            })\n</code></pre>\n<p>In my mvc controller, my method:</p>\n<pre><code>@PutMapping(&quot;/url&quot;)\n    Song myMethod(\n            @PathVariable Long songId,\n            @RequestBody Long[] genreIds\n    ) {\n        System.out.println(genreIds);\n        //My other code\n    }\n</code></pre>\n<p>And all I am getting is a <code>bad request status 400</code> from my Server</p>\n"},{"tags":["java","apache-kafka","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":7642324,"reputation":94,"user_id":5794051,"display_name":"Abareghi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1514973125,"creation_date":1514973125,"answer_id":48074937,"question_id":47558289,"body_markdown":"@Jicaar, Actually Kafka has added `Header` notion since version `0.11.0.0`. https://issues.apache.org/jira/browse/KAFKA-4208\r\n\r\nThe problem is `flink-connector-kafka-0.11_2.11` which comes with `flink-1.4.0`, and supposedly supports `kafka-0.11.0.0` just ignores message headers when reading from kafka. \r\n\r\nSo unfortunately there is no way to read those headers unless you implement your own KafkaConsumer in flin. \r\n\r\nI&#39;m also interested in readin in kafka message headers and hope Flink team will add support for this. ","title":"Way to read data from Kafka headers in Apache Flink","body":"<p>@Jicaar, Actually Kafka has added <code>Header</code> notion since version <code>0.11.0.0</code>. <a href=\"https://issues.apache.org/jira/browse/KAFKA-4208\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/KAFKA-4208</a></p>\n\n<p>The problem is <code>flink-connector-kafka-0.11_2.11</code> which comes with <code>flink-1.4.0</code>, and supposedly supports <code>kafka-0.11.0.0</code> just ignores message headers when reading from kafka. </p>\n\n<p>So unfortunately there is no way to read those headers unless you implement your own KafkaConsumer in flin. </p>\n\n<p>I'm also interested in readin in kafka message headers and hope Flink team will add support for this. </p>\n"},{"comments":[{"owner":{"account_id":221928,"reputation":4036,"user_id":480176,"display_name":"Avi Cherry"},"score":0,"creation_date":1565380676,"post_id":56600271,"comment_id":101350417,"body_markdown":"Instead of overriding `JSONKeyValueDeserializationSchema` you can also just implement `KafkaDeserializationSchema` yourself.","body":"Instead of overriding <code>JSONKeyValueDeserializationSchema</code> you can also just implement <code>KafkaDeserializationSchema</code> yourself."}],"tags":[],"owner":{"account_id":202113,"reputation":33,"user_id":448972,"display_name":"pshomov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560529820,"creation_date":1560522832,"answer_id":56600271,"question_id":47558289,"body_markdown":"I faced similar issue and found a way to do this in Flink 1.8. Here is what I wrote:\r\n\r\n```\r\nFlinkKafkaConsumer&lt;ObjectNode&gt; consumer = new FlinkKafkaConsumer(&quot;topic&quot;, new JSONKeyValueDeserializationSchema(true){\r\n\tObjectMapper mapper = new ObjectMapper();\r\n\t@Override\r\n\tpublic ObjectNode deserialize(ConsumerRecord&lt;byte[], byte[]&gt; record) throws Exception {\r\n\t\tObjectNode result = super.deserialize(record);\r\n\t\tif (record.headers() != null) {\r\n\t\t\tMap&lt;String, JsonNode&gt; headers = StreamSupport.stream(record.headers().spliterator(), false).collect(Collectors.toMap(h -&gt; h.key(), h -&gt; (JsonNode)this.mapper.convertValue(new String(h.value()), JsonNode.class)));\r\n\t\t\tresult.set(&quot;headers&quot;, mapper.convertValue(headers, JsonNode.class));\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n}, kafkaProps);\r\n```\r\n\r\nHope this helps!","title":"Way to read data from Kafka headers in Apache Flink","body":"<p>I faced similar issue and found a way to do this in Flink 1.8. Here is what I wrote:</p>\n\n<pre><code>FlinkKafkaConsumer&lt;ObjectNode&gt; consumer = new FlinkKafkaConsumer(\"topic\", new JSONKeyValueDeserializationSchema(true){\n    ObjectMapper mapper = new ObjectMapper();\n    @Override\n    public ObjectNode deserialize(ConsumerRecord&lt;byte[], byte[]&gt; record) throws Exception {\n        ObjectNode result = super.deserialize(record);\n        if (record.headers() != null) {\n            Map&lt;String, JsonNode&gt; headers = StreamSupport.stream(record.headers().spliterator(), false).collect(Collectors.toMap(h -&gt; h.key(), h -&gt; (JsonNode)this.mapper.convertValue(new String(h.value()), JsonNode.class)));\n            result.set(\"headers\", mapper.convertValue(headers, JsonNode.class));\n        }\n\n        return result;\n    }\n}, kafkaProps);\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":16687704,"reputation":11,"user_id":13221128,"display_name":"Chandan Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668071615,"creation_date":1668071615,"answer_id":74386574,"question_id":47558289,"body_markdown":"Here&#39;s the code for new versions of Flink.\r\n\r\n        KafkaSource&lt;String&gt; source = KafkaSource.&lt;String&gt;builder()\r\n                .setBootstrapServers(ParameterConfig.parameters.getRequired(ParameterConstant.KAFKA_ADDRESS))\r\n                .setTopics(ParameterConfig.parameters.getRequired(ParameterConstant.KAFKA_SOURCE_TOPICS))\r\n                .setGroupId(ParameterConfig.parameters.getRequired(ParameterConstant.KAFKA_SOURCE_GROUPID))\r\n                .setStartingOffsets(OffsetsInitializer.latest())\r\n                .setDeserializer(new KafkaRecordDeserializationSchema&lt;String&gt;() {\r\n                    @Override\r\n                    public void deserialize(ConsumerRecord&lt;byte[], byte[]&gt; consumerRecord, Collector&lt;String&gt; collector) {\r\n                        try {\r\n                            Map&lt;String, String&gt; headers = StreamSupport\r\n                                    .stream(consumerRecord.headers().spliterator(), false)\r\n                                    .collect(Collectors.toMap(Header::key, h -&gt; new String(h.value())));\r\n                            collector.collect(new JSONObject(headers).toString());\r\n                        } catch (Exception e){\r\n                            e.printStackTrace();\r\n                            log.error(&quot;Headers Not found in Kafka Stream with consumer record : {}&quot;, consumerRecord);\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public TypeInformation&lt;String&gt; getProducedType() {\r\n                        return TypeInformation.of(new TypeHint&lt;&gt;() {});\r\n                    }\r\n                })\r\n                .build();","title":"Way to read data from Kafka headers in Apache Flink","body":"<p>Here's the code for new versions of Flink.</p>\n<pre><code>    KafkaSource&lt;String&gt; source = KafkaSource.&lt;String&gt;builder()\n            .setBootstrapServers(ParameterConfig.parameters.getRequired(ParameterConstant.KAFKA_ADDRESS))\n            .setTopics(ParameterConfig.parameters.getRequired(ParameterConstant.KAFKA_SOURCE_TOPICS))\n            .setGroupId(ParameterConfig.parameters.getRequired(ParameterConstant.KAFKA_SOURCE_GROUPID))\n            .setStartingOffsets(OffsetsInitializer.latest())\n            .setDeserializer(new KafkaRecordDeserializationSchema&lt;String&gt;() {\n                @Override\n                public void deserialize(ConsumerRecord&lt;byte[], byte[]&gt; consumerRecord, Collector&lt;String&gt; collector) {\n                    try {\n                        Map&lt;String, String&gt; headers = StreamSupport\n                                .stream(consumerRecord.headers().spliterator(), false)\n                                .collect(Collectors.toMap(Header::key, h -&gt; new String(h.value())));\n                        collector.collect(new JSONObject(headers).toString());\n                    } catch (Exception e){\n                        e.printStackTrace();\n                        log.error(&quot;Headers Not found in Kafka Stream with consumer record : {}&quot;, consumerRecord);\n                    }\n                }\n\n                @Override\n                public TypeInformation&lt;String&gt; getProducedType() {\n                    return TypeInformation.of(new TypeHint&lt;&gt;() {});\n                }\n            })\n            .build();\n</code></pre>\n"}],"owner":{"account_id":2691557,"reputation":1054,"user_id":2324782,"accept_rate":95,"display_name":"Jicaar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2837,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48074937,"answer_count":3,"score":2,"last_activity_date":1668071615,"creation_date":1511975991,"question_id":47558289,"body_markdown":"I have a project where I am consuming data from Kafka. Apparently, there are a couple fields that are going to be included in the headers that I will need to read as well for each message. Is there a way to do this in Flink currently?\r\n\r\nThanks!","title":"Way to read data from Kafka headers in Apache Flink","body":"<p>I have a project where I am consuming data from Kafka. Apparently, there are a couple fields that are going to be included in the headers that I will need to read as well for each message. Is there a way to do this in Flink currently?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":2310423,"reputation":1418,"user_id":2028671,"display_name":"Sachith Dickwella"},"score":1,"creation_date":1668044926,"post_id":74383142,"comment_id":131314493,"body_markdown":"Is your exported jar self-contained jar file? If it&#39;s not you have to tell classloader to load the dependencies at runtime.","body":"Is your exported jar self-contained jar file? If it&#39;s not you have to tell classloader to load the dependencies at runtime."},{"owner":{"account_id":2310423,"reputation":1418,"user_id":2028671,"display_name":"Sachith Dickwella"},"score":0,"creation_date":1668045306,"post_id":74383142,"comment_id":131314548,"body_markdown":"Execute this very basic command; (replace placeholders)\n\n`java -cp &lt;your-jarfile.jar&gt;:&lt;mysql-driver.jar&gt;:lib/* &lt;com.you.main.Class&gt;`","body":"Execute this very basic command; (replace placeholders)  <code>java -cp &lt;your-jarfile.jar&gt;:&lt;mysql-driver.jar&gt;:lib&#47;* &lt;com.you.main.Class&gt;</code>"},{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1668059997,"post_id":74383142,"comment_id":131316563,"body_markdown":"Can you please add the relevant code, and elaborate on how this question is different?","body":"Can you please add the relevant code, and elaborate on how this question is different?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668060015,"post_id":74383142,"comment_id":131316565,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":20555277,"reputation":1,"user_id":15087020,"display_name":"skaerf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668071550,"answer_count":0,"score":0,"last_activity_date":1668071566,"creation_date":1668043112,"question_id":74383142,"body_markdown":"I&#39;m trying to connect to a simple MySQL server through the JDBC driver. The driver version is 8.0.30 which I believe is the most recent and the Java version I&#39;m using is Corretto 16 (IntelliJ&#39;s thing) with Gradle 7.1.\r\n\r\nWhen I run the code through the IDE, I can connect to the database just fine and my program works as it should. But, when I export it to a JAR and try and run it, I get an SQLException error, complaining that there is &#39;no suitable driver found&#39; to run the JDBC string in the DriverManager#getConnection call. If it makes any difference whatsoever the code itself whilst being compiled in Corretto 16 is being run in OpenJDK 19 in Windows&#39; command prompt.\r\n\r\nI&#39;ve tried everything I can find, everything I have done has not fixed it. The JAR for JDBC is in my exported JAR (I have checked) and I&#39;m out of ideas. I&#39;m sorry if this is an amateur issue, whilst I&#39;ve been writing Java for a few years now I&#39;ve never had to deal with JDBC.\r\n\r\nP.S. I&#39;m aware of the questions that are similar to this one, however many of them are highly outdated or are using software that I do not use, hence a new question. Sorry if there&#39;s one I missed.","title":"JDBC driver not found when executing JAR","body":"<p>I'm trying to connect to a simple MySQL server through the JDBC driver. The driver version is 8.0.30 which I believe is the most recent and the Java version I'm using is Corretto 16 (IntelliJ's thing) with Gradle 7.1.</p>\n<p>When I run the code through the IDE, I can connect to the database just fine and my program works as it should. But, when I export it to a JAR and try and run it, I get an SQLException error, complaining that there is 'no suitable driver found' to run the JDBC string in the DriverManager#getConnection call. If it makes any difference whatsoever the code itself whilst being compiled in Corretto 16 is being run in OpenJDK 19 in Windows' command prompt.</p>\n<p>I've tried everything I can find, everything I have done has not fixed it. The JAR for JDBC is in my exported JAR (I have checked) and I'm out of ideas. I'm sorry if this is an amateur issue, whilst I've been writing Java for a few years now I've never had to deal with JDBC.</p>\n<p>P.S. I'm aware of the questions that are similar to this one, however many of them are highly outdated or are using software that I do not use, hence a new question. Sorry if there's one I missed.</p>\n"},{"tags":["java","memory-leaks","callback","garbage-collection","weak-references"],"comments":[{"owner":{"account_id":8490654,"reputation":593,"user_id":6367109,"display_name":"Rahul"},"score":0,"creation_date":1668035445,"post_id":74373440,"comment_id":131313014,"body_markdown":"@Holger Thanks for your comment. I have updated the question with more clarity about what I&#39;m looking for. Does that make sense? Cheers!","body":"@Holger Thanks for your comment. I have updated the question with more clarity about what I&#39;m looking for. Does that make sense? Cheers!"}],"answers":[{"comments":[{"owner":{"account_id":8490654,"reputation":593,"user_id":6367109,"display_name":"Rahul"},"score":0,"creation_date":1668035184,"post_id":74375515,"comment_id":131312961,"body_markdown":"Thanks for that, Ingo. But I need a bit more clarification on what you meant by the client keeping a strong reference but API holding a weak reference to the listener, if you don&#39;t mind. Could you clarify with an example, perhaps?","body":"Thanks for that, Ingo. But I need a bit more clarification on what you meant by the client keeping a strong reference but API holding a weak reference to the listener, if you don&#39;t mind. Could you clarify with an example, perhaps?"},{"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"score":1,"creation_date":1668071538,"post_id":74375515,"comment_id":131319653,"body_markdown":"I&#39;ve added some code","body":"I&#39;ve added some code"}],"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668071529,"creation_date":1668000010,"answer_id":74375515,"question_id":74373440,"body_markdown":"&gt; How can I ensure memory leaks don&#39;t happen with a given API, using a \r\n&gt;WeakHashMap, if clients don&#39;t explicitly deregister them?\r\n\r\nA client of the API has to keep a strong reference to the listener, that&#39;s how it stays alive.\r\n\r\nThe API only holds a weak reference to the listener, to that it does not prevent the client from being garbage collected. When the client is garbage collected, the listener is also garbage collected. \r\n\r\nLike this:\r\n\r\n    class ApiUser {\r\n        Listener listener;\r\n        void registerListener() {\r\n            listener = new Listener() {\r\n                @Override\r\n                public void event() {\r\n                    // TODO\r\n                }\r\n            };\r\n            Api.registerListener(listener);\r\n        }\r\n    }\r\n\r\n    class Api {\r\n        static WeakHashMap&lt;Listener, Object&gt; listeners = new WeakHashMap&lt;&gt;();\r\n        static void registerListener(Listener listener) {\r\n             listeners.put(listener, null);\r\n        } \r\n\r\n        static void fireListeners() {\r\n            for (Listener listener : listeners.keySet()) {\r\n                if (listener != null) {\r\n                    listener.event();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    interface Listener {\r\n        void event();\r\n    }","title":"How to garbage collect callbacks with weak references in Java?","body":"<blockquote>\n<p>How can I ensure memory leaks don't happen with a given API, using a\nWeakHashMap, if clients don't explicitly deregister them?</p>\n</blockquote>\n<p>A client of the API has to keep a strong reference to the listener, that's how it stays alive.</p>\n<p>The API only holds a weak reference to the listener, to that it does not prevent the client from being garbage collected. When the client is garbage collected, the listener is also garbage collected.</p>\n<p>Like this:</p>\n<pre><code>class ApiUser {\n    Listener listener;\n    void registerListener() {\n        listener = new Listener() {\n            @Override\n            public void event() {\n                // TODO\n            }\n        };\n        Api.registerListener(listener);\n    }\n}\n\nclass Api {\n    static WeakHashMap&lt;Listener, Object&gt; listeners = new WeakHashMap&lt;&gt;();\n    static void registerListener(Listener listener) {\n         listeners.put(listener, null);\n    } \n\n    static void fireListeners() {\n        for (Listener listener : listeners.keySet()) {\n            if (listener != null) {\n                listener.event();\n            }\n        }\n    }\n}\n\ninterface Listener {\n    void event();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668069591,"creation_date":1668069591,"answer_id":74386184,"question_id":74373440,"body_markdown":"The idea is to use a collection with weak semantics but since there is no such built-in collection implementation, store the listeners as keys of a `WeakHashMap` instead; the value is irrelevant. You can use [`Collections.newSetFromMap()`] to get a `Set` view to a `Map` which does exactly that for you. E.g.\r\n\r\n```java\r\npublic class WeakListenerExample {\r\n    interface ExampleListener {\r\n        void notify(String event);\r\n    }\r\n\r\n    final Set&lt;ExampleListener&gt; listeners= Collections.newSetFromMap(new WeakHashMap&lt;&gt;());\r\n\r\n    public void addExampleListener(ExampleListener l) {\r\n        listeners.add(l);\r\n    }\r\n\r\n    public void removeExampleListener(ExampleListener l) {\r\n        listeners.remove(l);\r\n    }\r\n\r\n    protected void notifyAllListeners(String event) {\r\n        for(ExampleListener l: listeners) l.notify(event);\r\n    }\r\n}\r\n```\r\n\r\nThat said, I strongly discourage from using weak listeners. Using weak references does *not* ensure that callbacks are garbage collected promptly. The garbage collector still is non-deterministic and may not run for a long time or never at all.\r\n\r\nThis is no problem for caches where memory consumption is your only concern. If the garbage collector doesnt run, its usually a sign that there is no memory pressure, hence, it doesnt matter when the obsolete cached object stays in memory.\r\n\r\nHowever, a listener encapsulates an *action* and you dont want the action to be performed when the listener became obsolete. Unnecessarily performing an action can be a performance problem, even if all side effects are limited to an otherwise-unused object. Even worse, during the event notification, the listener is strongly reachable. Its possible that even when the garbage collector runs, it overlaps with an unintended execution of a listener method, especially with concurrent garbage collectors. \r\n\r\nIn short, using a weak reference for a listener does not guaranty that it automatically becomes unregistered, not to speak of promptly.\r\n\r\n---\r\n\r\nThis, however, is not the worst problem. Weak listeners are just trading one potential problem you have to remember to unregister for another you have to remember to keep a strong reference.\r\n\r\nWith a typical example of using listeners for binding code, e.g.\r\n\r\n```java\r\neventSource.addActionListener(event -&gt; otherComponent.setFoo(event.getNewFoo()));\r\n```\r\n\r\nthe event source is the only object having a reference to the listener. So if it is using weak references, the listener is eligible to garbage collection right after the registration. To prevents this, another reference to the listener, with ordinary, strong, semantic must be kept somewhere.\r\n\r\nHowever, as explained above, garbage collection is non-deterministic. Its unpredictable when this listener gets collected, hence, the problem may not materialize during testing but waiting for the moment with the worst outcome in production environments.\r\n\r\nSo, while forgetting to unregister an ordinary listener has a deterministic outcome (the listener stays registered and will be kept informed of new events), hence, is easy to analyze, forgetting to keep an additional strong reference to a weak listener is the other category. It may not occur in your testing/debug environment or exhibit an entirely different timing.\r\n\r\nAnd fixing such issues brings you back to square one. Whoever registers a listener has to consider how long it ought to be registered and, in case of weak listeners, take measures to ensure that the objects lifetime matches that intended time. And, controlling an objects lifetime, [how hard can it be?]\r\n\r\n[`Collections.newSetFromMap()`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#newSetFromMap(java.util.Map)\r\n[how hard can it be?]: https://stackoverflow.com/q/24376768/2711488","title":"How to garbage collect callbacks with weak references in Java?","body":"<p>The idea is to use a collection with weak semantics but since there is no such built-in collection implementation, store the listeners as keys of a <code>WeakHashMap</code> instead; the value is irrelevant. You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#newSetFromMap(java.util.Map)\" rel=\"nofollow noreferrer\"><code>Collections.newSetFromMap()</code></a> to get a <code>Set</code> view to a <code>Map</code> which does exactly that for you. E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WeakListenerExample {\n    interface ExampleListener {\n        void notify(String event);\n    }\n\n    final Set&lt;ExampleListener&gt; listeners= Collections.newSetFromMap(new WeakHashMap&lt;&gt;());\n\n    public void addExampleListener(ExampleListener l) {\n        listeners.add(l);\n    }\n\n    public void removeExampleListener(ExampleListener l) {\n        listeners.remove(l);\n    }\n\n    protected void notifyAllListeners(String event) {\n        for(ExampleListener l: listeners) l.notify(event);\n    }\n}\n</code></pre>\n<p>That said, I strongly discourage from using weak listeners. Using weak references does <em>not</em> ensure that callbacks are garbage collected promptly. The garbage collector still is non-deterministic and may not run for a long time or never at all.</p>\n<p>This is no problem for caches where memory consumption is your only concern. If the garbage collector doesnt run, its usually a sign that there is no memory pressure, hence, it doesnt matter when the obsolete cached object stays in memory.</p>\n<p>However, a listener encapsulates an <em>action</em> and you dont want the action to be performed when the listener became obsolete. Unnecessarily performing an action can be a performance problem, even if all side effects are limited to an otherwise-unused object. Even worse, during the event notification, the listener is strongly reachable. Its possible that even when the garbage collector runs, it overlaps with an unintended execution of a listener method, especially with concurrent garbage collectors.</p>\n<p>In short, using a weak reference for a listener does not guaranty that it automatically becomes unregistered, not to speak of promptly.</p>\n<hr />\n<p>This, however, is not the worst problem. Weak listeners are just trading one potential problem you have to remember to unregister for another you have to remember to keep a strong reference.</p>\n<p>With a typical example of using listeners for binding code, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>eventSource.addActionListener(event -&gt; otherComponent.setFoo(event.getNewFoo()));\n</code></pre>\n<p>the event source is the only object having a reference to the listener. So if it is using weak references, the listener is eligible to garbage collection right after the registration. To prevents this, another reference to the listener, with ordinary, strong, semantic must be kept somewhere.</p>\n<p>However, as explained above, garbage collection is non-deterministic. Its unpredictable when this listener gets collected, hence, the problem may not materialize during testing but waiting for the moment with the worst outcome in production environments.</p>\n<p>So, while forgetting to unregister an ordinary listener has a deterministic outcome (the listener stays registered and will be kept informed of new events), hence, is easy to analyze, forgetting to keep an additional strong reference to a weak listener is the other category. It may not occur in your testing/debug environment or exhibit an entirely different timing.</p>\n<p>And fixing such issues brings you back to square one. Whoever registers a listener has to consider how long it ought to be registered and, in case of weak listeners, take measures to ensure that the objects lifetime matches that intended time. And, controlling an objects lifetime, <a href=\"https://stackoverflow.com/q/24376768/2711488\">how hard can it be?</a></p>\n"}],"owner":{"account_id":8490654,"reputation":593,"user_id":6367109,"display_name":"Rahul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74375515,"answer_count":2,"score":0,"last_activity_date":1668071529,"creation_date":1667990143,"question_id":74373440,"body_markdown":"I&#39;m reading [Effective Java by Joshua Bloch][1]. In _Item 7: Eliminate Obsolete Object References_ of chapter 2 he states:\r\n\r\n&gt; A third common source of memory leaks is listeners and other\r\n&gt; callbacks. If you implement an API where clients register callbacks\r\n&gt; but dont deregister them explicitly, they will accumulate unless you\r\n&gt; take some action. One way to ensure that callbacks are garbage\r\n&gt; collected promptly is to store only weak references to them, for\r\n&gt; instance, by storing them only as keys in a WeakHashMap.\r\n\r\nI understand the concept of a `WeakHashMap`. I implemented one for a mock cache:\r\n\r\n```\r\n/** Example courtesy of Baeldung */\r\npublic class WeakHashMapDemo {\r\n    public static void main(String[] args) {\r\n\r\n        /** Ideally, we want a Map implementation that allows GC to automatically delete unused objects.\r\n         * When a key of a big image object is not in use in our application in any place,\r\n         * that entry will be deleted from memory.\r\n         */\r\n        WeakHashMap&lt;UniqueImageName, BigImage&gt; wMap = new WeakHashMap&lt;&gt;();\r\n        HashMap&lt;UniqueImageName, BigImage&gt; map = new HashMap&lt;&gt;();\r\n        BigImage bigImage = new BigImage(&quot;image_id&quot;);\r\n        UniqueImageName imageName = new UniqueImageName(&quot;name_of_big_image&quot;);\r\n\r\n        /** We are putting a BigImage object as a value and an imageName object reference as a key. */\r\n        wMap.put(imageName, bigImage);\r\n        System.out.println(&quot;Map does not contain imageName -&gt; &quot; + wMap.containsKey(imageName));\r\n\r\n        wMap.put(imageName, bigImage);\r\n\r\n        /** The key is set to null. */\r\n        imageName = null;\r\n        /** Forcing JVM to GC. */\r\n        System.gc();\r\n        System.out.println(&quot;Weak Map is empty -&gt; &quot; + wMap);\r\n    }\r\n\r\n    private static class UniqueImageName {\r\n        public UniqueImageName(String name_of_big_image) {\r\n        }\r\n    }\r\n\r\n    private static class BigImage {\r\n        public BigImage(String image_id) {\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI also read this excellent [article][2] on weak references. However, I still don&#39;t understand using these concepts in the context of callbacks. How can I ensure memory leaks don&#39;t happen with a given API, using a `WeakHashMap`, if clients don&#39;t explicitly deregister them?  \r\n\r\nI appreciate any help you can provide.\r\n\r\nUPDATE:\r\n\r\nIt seems a few people need more clarity on the question. When I mean by &quot;How can I ensure memory leaks don&#39;t happen with a given API, using a `WeakHashMap`, if clients don&#39;t explicitly deregister them?&quot; is how this can be implemented with code as I only seem to have a conceptual understanding at the moment. So I&#39;d really appreciate it if someone could show me a code snippet on how this would be implemented on a mock API. Thanks again!\r\n\r\n\r\n\r\n  [1]: https://www.amazon.com.au/Effective-Java-Joshua-Bloch/dp/0134685997/\r\n  [2]: https://www.baeldung.com/java-weakhashmap#3-weak-references:~:text=2.3.-,Weak%20References,-The%20objects%20that","title":"How to garbage collect callbacks with weak references in Java?","body":"<p>I'm reading <a href=\"https://www.amazon.com.au/Effective-Java-Joshua-Bloch/dp/0134685997/\" rel=\"nofollow noreferrer\">Effective Java by Joshua Bloch</a>. In <em>Item 7: Eliminate Obsolete Object References</em> of chapter 2 he states:</p>\n<blockquote>\n<p>A third common source of memory leaks is listeners and other\ncallbacks. If you implement an API where clients register callbacks\nbut dont deregister them explicitly, they will accumulate unless you\ntake some action. One way to ensure that callbacks are garbage\ncollected promptly is to store only weak references to them, for\ninstance, by storing them only as keys in a WeakHashMap.</p>\n</blockquote>\n<p>I understand the concept of a <code>WeakHashMap</code>. I implemented one for a mock cache:</p>\n<pre><code>/** Example courtesy of Baeldung */\npublic class WeakHashMapDemo {\n    public static void main(String[] args) {\n\n        /** Ideally, we want a Map implementation that allows GC to automatically delete unused objects.\n         * When a key of a big image object is not in use in our application in any place,\n         * that entry will be deleted from memory.\n         */\n        WeakHashMap&lt;UniqueImageName, BigImage&gt; wMap = new WeakHashMap&lt;&gt;();\n        HashMap&lt;UniqueImageName, BigImage&gt; map = new HashMap&lt;&gt;();\n        BigImage bigImage = new BigImage(&quot;image_id&quot;);\n        UniqueImageName imageName = new UniqueImageName(&quot;name_of_big_image&quot;);\n\n        /** We are putting a BigImage object as a value and an imageName object reference as a key. */\n        wMap.put(imageName, bigImage);\n        System.out.println(&quot;Map does not contain imageName -&gt; &quot; + wMap.containsKey(imageName));\n\n        wMap.put(imageName, bigImage);\n\n        /** The key is set to null. */\n        imageName = null;\n        /** Forcing JVM to GC. */\n        System.gc();\n        System.out.println(&quot;Weak Map is empty -&gt; &quot; + wMap);\n    }\n\n    private static class UniqueImageName {\n        public UniqueImageName(String name_of_big_image) {\n        }\n    }\n\n    private static class BigImage {\n        public BigImage(String image_id) {\n        }\n    }\n}\n</code></pre>\n<p>I also read this excellent <a href=\"https://www.baeldung.com/java-weakhashmap#3-weak-references:%7E:text=2.3.-,Weak%20References,-The%20objects%20that\" rel=\"nofollow noreferrer\">article</a> on weak references. However, I still don't understand using these concepts in the context of callbacks. How can I ensure memory leaks don't happen with a given API, using a <code>WeakHashMap</code>, if clients don't explicitly deregister them?</p>\n<p>I appreciate any help you can provide.</p>\n<p>UPDATE:</p>\n<p>It seems a few people need more clarity on the question. When I mean by &quot;How can I ensure memory leaks don't happen with a given API, using a <code>WeakHashMap</code>, if clients don't explicitly deregister them?&quot; is how this can be implemented with code as I only seem to have a conceptual understanding at the moment. So I'd really appreciate it if someone could show me a code snippet on how this would be implemented on a mock API. Thanks again!</p>\n"},{"tags":["java","android","bottomnavigationview"],"comments":[{"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"score":0,"creation_date":1643896238,"post_id":70971969,"comment_id":125464447,"body_markdown":"does this crashes or does not display anything. cause I repopulate your code and it shows bottom nav.","body":"does this crashes or does not display anything. cause I repopulate your code and it shows bottom nav."},{"owner":{"account_id":20303661,"reputation":455,"user_id":14992173,"display_name":"Qbi"},"score":0,"creation_date":1643896578,"post_id":70971969,"comment_id":125464617,"body_markdown":"No crash just not shows up both in Android Studio layout preview and in pthone","body":"No crash just not shows up both in Android Studio layout preview and in pthone"},{"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"score":0,"creation_date":1643898750,"post_id":70971969,"comment_id":125465664,"body_markdown":"bottomNavView.setOnItemSelectedListener(item -&gt; {\n        showFragment(item.getItemId());\n        return true;\n    });  --------------&gt; replace this code with ::::::::&gt; bottomNavView.setOnNavigationItemSelectedListener(item -&gt; {\n            showFragment(item.getItemId());\n            return true;\n        });","body":"bottomNavView.setOnItemSelectedListener(item -&gt; {         showFragment(item.getItemId());         return true;     });  --------------&gt; replace this code with ::::::::&gt; bottomNavView.setOnNavigationItemSelectedListener(item -&gt; {             showFragment(item.getItemId());             return true;         });"},{"owner":{"account_id":20303661,"reputation":455,"user_id":14992173,"display_name":"Qbi"},"score":0,"creation_date":1643898830,"post_id":70971969,"comment_id":125465711,"body_markdown":"Thank you, but the problem does not concern clicking on item but displaying onStart","body":"Thank you, but the problem does not concern clicking on item but displaying onStart"},{"owner":{"account_id":17597721,"reputation":647,"user_id":12768337,"display_name":"Rudra Rokaya"},"score":0,"creation_date":1643899453,"post_id":70971969,"comment_id":125466038,"body_markdown":"Are you overriding onStart() method?","body":"Are you overriding onStart() method?"}],"answers":[{"comments":[{"owner":{"account_id":20303661,"reputation":455,"user_id":14992173,"display_name":"Qbi"},"score":0,"creation_date":1643896546,"post_id":70972510,"comment_id":125464602,"body_markdown":"It does not return anything. No errors just not shows up both in phone and inAndroid Studio layout preview.","body":"It does not return anything. No errors just not shows up both in phone and inAndroid Studio layout preview."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643897051,"post_id":70972510,"comment_id":125464843,"body_markdown":"please write these things in comments @Nisa","body":"please write these things in comments @Nisa"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1643897070,"post_id":70972510,"comment_id":125464850,"body_markdown":"answer section is to give solution. not to ask. to ask please use comments","body":"answer section is to give solution. not to ask. to ask please use comments"},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":0,"creation_date":1643897251,"post_id":70972510,"comment_id":125464937,"body_markdown":"you&#39;re right, I forgot. thank you. @SambhavKhandelwal","body":"you&#39;re right, I forgot. thank you. @SambhavKhandelwal"},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":0,"creation_date":1643897305,"post_id":70972510,"comment_id":125464968,"body_markdown":"I tested your application, but there is no problem with me, your menus appear. If you want, try to invalid/restart android studio. @qbi","body":"I tested your application, but there is no problem with me, your menus appear. If you want, try to invalid/restart android studio. @qbi"},{"owner":{"account_id":20303661,"reputation":455,"user_id":14992173,"display_name":"Qbi"},"score":0,"creation_date":1643897555,"post_id":70972510,"comment_id":125465079,"body_markdown":"@NisaEfendioglu but did you delete onCreateOptionsMenu and onOptionsItemSelected before running? Could you attach screenshot?","body":"@NisaEfendioglu but did you delete onCreateOptionsMenu and onOptionsItemSelected before running? Could you attach screenshot?"},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":0,"creation_date":1643897859,"post_id":70972510,"comment_id":125465202,"body_markdown":"I only removed the redirect page, since it wasn&#39;t in my code either. For example, I removed the Search fragment. You can proceed with the following logic after clicking on the menus, but there is no problem in your code anyway. @qbi","body":"I only removed the redirect page, since it wasn&#39;t in my code either. For example, I removed the Search fragment. You can proceed with the following logic after clicking on the menus, but there is no problem in your code anyway. @qbi"},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":0,"creation_date":1643897891,"post_id":70972510,"comment_id":125465227,"body_markdown":"bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {\n\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                switch (item.getItemId()) {\n                    case R.id.recentSearches:\n                        fragment = new RecentSearches();\n                        break;\n                    case R.id.persons:\n                        fragment = new Persons();\n                        break;\n   \n                return true;\n            }\n        });","body":"bottomNavigationView.setOnNavigationItemSelectedListener(new BottomNavigationView.OnNavigationItemSelectedListener() {              @Override             public boolean onNavigationItemSelected(@NonNull MenuItem item) {                 switch (item.getItemId()) {                     case R.id.recentSearches:                         fragment = new RecentSearches();                         break;                     case R.id.persons:                         fragment = new Persons();                         break;                     return true;             }         });"},{"owner":{"account_id":11850608,"reputation":1127,"user_id":8672015,"display_name":"Samir Alakbarov"},"score":0,"creation_date":1643898437,"post_id":70972510,"comment_id":125465488,"body_markdown":"Constraint Layout oldugu icin FramLayout BottomNavigation-u kapliyor bence. Bu nedenle FrameLayout-a limit constraint verilmeli ki BottomNavigationdan asagiya gecmesin. Yani hata var aslinda.","body":"Constraint Layout oldugu icin FramLayout BottomNavigation-u kapliyor bence. Bu nedenle FrameLayout-a limit constraint verilmeli ki BottomNavigationdan asagiya gecmesin. Yani hata var aslinda."},{"owner":{"account_id":20303661,"reputation":455,"user_id":14992173,"display_name":"Qbi"},"score":0,"creation_date":1643898487,"post_id":70972510,"comment_id":125465516,"body_markdown":"@NisaEfendioglu I updated edit 2. If you saw I would be gratefull.","body":"@NisaEfendioglu I updated edit 2. If you saw I would be gratefull."},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":0,"creation_date":1643913497,"post_id":70972510,"comment_id":125472188,"body_markdown":"sorry, just saw it. did you solve your problem? @qbi","body":"sorry, just saw it. did you solve your problem? @qbi"},{"owner":{"account_id":20303661,"reputation":455,"user_id":14992173,"display_name":"Qbi"},"score":1,"creation_date":1643913620,"post_id":70972510,"comment_id":125472228,"body_markdown":"Yes as I mentioned in one of posts @NisaEfendioglu :) now I have another problem in new topic https://stackoverflow.com/questions/70976615/android-moving-bottomnavigationview-labels :D","body":"Yes as I mentioned in one of posts @NisaEfendioglu :) now I have another problem in new topic <a href=\"https://stackoverflow.com/questions/70976615/android-moving-bottomnavigationview-labels\" title=\"android moving bottomnavigationview labels\">stackoverflow.com/questions/70976615/&hellip;</a> :D"}],"tags":[],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"comment_count":12,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643896405,"creation_date":1643896405,"answer_id":70972510,"question_id":70971969,"body_markdown":"Does it return any errors? There is no problem in your code. Could you check the log?","title":"Android BottomNavigationView not shows","body":"<p>Does it return any errors? There is no problem in your code. Could you check the log?</p>\n"},{"tags":[],"owner":{"account_id":19290366,"reputation":74,"user_id":14100529,"display_name":"Walid El Jaimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668011853,"creation_date":1643896833,"answer_id":70972617,"question_id":70971969,"body_markdown":"try to add \r\n\r\n    layout_constraintTop_toBottomOf=&quot;@+id/content_frame&quot;\r\n\r\n","title":"Android BottomNavigationView not shows","body":"<p>try to add</p>\n<pre><code>layout_constraintTop_toBottomOf=&quot;@+id/content_frame&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20303661,"reputation":455,"user_id":14992173,"display_name":"Qbi"},"score":0,"creation_date":1643898585,"post_id":70972947,"comment_id":125465571,"body_markdown":"thank you but did you see edited 2 post? :)","body":"thank you but did you see edited 2 post? :)"}],"tags":[],"owner":{"account_id":11850608,"reputation":1127,"user_id":8672015,"display_name":"Samir Alakbarov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643898216,"creation_date":1643898216,"answer_id":70972947,"question_id":70971969,"body_markdown":"Add `app:layout_constraintBottom_toTopOf=&quot;@id/bottom_navigation&quot;` line to FrameLayout and change it `layout_height` attribute to `0dp`. You must specify limit for `FrameLayout`, otherwise it can overlay `BottomNavigationBar`","title":"Android BottomNavigationView not shows","body":"<p>Add <code>app:layout_constraintBottom_toTopOf=&quot;@id/bottom_navigation&quot;</code> line to FrameLayout and change it <code>layout_height</code> attribute to <code>0dp</code>. You must specify limit for <code>FrameLayout</code>, otherwise it can overlay <code>BottomNavigationBar</code></p>\n"},{"tags":[],"owner":{"account_id":20303661,"reputation":455,"user_id":14992173,"display_name":"Qbi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668071490,"creation_date":1643904311,"answer_id":70974550,"question_id":70971969,"body_markdown":"SOLVED. The problem was with DataBinding in fragment. I needed to move `initBinding()` and `return binding.getRoot()` in `onCreateView()`.","title":"Android BottomNavigationView not shows","body":"<p>SOLVED. The problem was with DataBinding in fragment. I needed to move <code>initBinding()</code> and <code>return binding.getRoot()</code> in <code>onCreateView()</code>.</p>\n"}],"owner":{"account_id":20303661,"reputation":455,"user_id":14992173,"display_name":"Qbi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1668071490,"creation_date":1643894134,"question_id":70971969,"body_markdown":"I want to implement BottomNavigationView in my Android app but my code does not displays this BottomNavigationView. Here is my code.\r\n\r\nMainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    private BottomNavigationView bottomNavView;\r\n    private int startingPosition, newPosition;\r\n    private final FragmentHome fragmentHome = new FragmentHome();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setContentView(R.layout.main_activity);\r\n\r\n        bottomNavView = findViewById(R.id.bottom_navigation);\r\n        bottomNavView.setItemIconTintList(null);\r\n        bottomNavView.setOnItemSelectedListener(item -&gt; {\r\n            showFragment(item.getItemId());\r\n            return true;\r\n        });\r\n        FragmentTransaction ft = getSupportFragmentManager().beginTransaction();\r\n        ft.replace(R.id.content_frame, fragmentHome);\r\n        bottomNavView.setSelectedItemId(R.id.action_home);\r\n        ft.commit();\r\n    }\r\n\r\n    public void showFragment(int viewId) {\r\n        Fragment fragment = null;\r\n\r\n        switch (viewId) {\r\n            case R.id.action_home:\r\n                if (bottomNavView.getSelectedItemId() != R.id.action_home) {\r\n                    fragment = fragmentHome;\r\n                    newPosition = 0;\r\n                }\r\n                break;\r\n        }\r\n\r\n        if (fragment != null) {\r\n            if (startingPosition &gt; newPosition) {\r\n                getSupportFragmentManager()\r\n                        .beginTransaction()\r\n                        .replace(R.id.content_frame, fragment).commit();\r\n            }\r\n            if (startingPosition &lt; newPosition) {\r\n                getSupportFragmentManager()\r\n                        .beginTransaction()\r\n                        .replace(R.id.content_frame, fragment).commit();\r\n            }\r\n\r\n            startingPosition = newPosition;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(final Menu menu) {\r\n        getMenuInflater().inflate(R.menu.menu_action_bar, menu);\r\n        final MenuItem searchItem = menu.findItem(R.id.action_search);\r\n        SearchView searchView = (SearchView) searchItem.getActionView();\r\n        searchView.addOnAttachStateChangeListener(new View.OnAttachStateChangeListener() {\r\n            @Override\r\n            public void onViewAttachedToWindow(View arg0) {\r\n                setItemsVisibility(menu, searchItem, false);\r\n            }\r\n\r\n            @Override\r\n            public void onViewDetachedFromWindow(View arg0) {\r\n                setItemsVisibility(menu, searchItem, true);\r\n            }\r\n        });\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n    private void setItemsVisibility(Menu menu, MenuItem exception, boolean visible) {\r\n        for (int i = 0; i &lt; menu.size(); ++i) {\r\n            MenuItem item = menu.getItem(i);\r\n            if (item != exception) item.setVisible(visible);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n    }\r\n\r\nmain_activity.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/content_frame&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottom_navigation&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/darker_gray&quot;\r\n        app:itemIconTint=&quot;@android:color/white&quot;\r\n        app:itemTextColor=&quot;@android:color/white&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/menu_bottom_navigation&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nmenu_bottom_navigation\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/action_home&quot;\r\n            android:icon=&quot;@drawable/ic_launcher_foreground&quot;\r\n            android:title=&quot;@string/home&quot; /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/action_words_ranking&quot;\r\n            android:icon=&quot;@drawable/ic_launcher_foreground&quot;\r\n            android:title=&quot;@string/words_ranking&quot; /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/action_users_ranking&quot;\r\n            android:icon=&quot;@drawable/ic_launcher_foreground&quot;\r\n            android:title=&quot;@string/users_ranking&quot; /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/action_messages&quot;\r\n            android:icon=&quot;@drawable/ic_launcher_foreground&quot;\r\n            android:title=&quot;@string/messages&quot; /&gt;\r\n        &lt;item\r\n            android:id=&quot;@+id/action_notifications&quot;\r\n            android:icon=&quot;@drawable/ic_launcher_foreground&quot;\r\n            android:title=&quot;@string/notifications&quot; /&gt;\r\n    &lt;/menu&gt;\r\n\r\n\r\nNot only this BottomNavigationView not displays it even not occupies any vertical space.\r\n\r\nHelp me please!\r\n\r\n**EDIT**\r\n\r\nI also simplified my day/night themes but no effect.\r\n\r\n**EDIT 2**\r\n\r\nI know where! There is a problem with ft.replace(R.id.content_frame, fragmentHome); in onCreate. It shows things from fragment but skip BottomNavView from MainActivity But how to solve that?\r\n\r\nFragmentHome.java\r\n\r\n      \r\n    \r\n    public class FragmentHome extends Fragment {\r\n    \r\n        private MyViewModel loginViewModel;\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            View rootView = inflater.inflate(R.layout.fragment_home, container, false);\r\n            return rootView;\r\n        }\r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            initBinding();\r\n    \r\n            loginViewModel.getText().observe(getViewLifecycleOwner(), new Observer&lt;String&gt;() {\r\n                @Override\r\n                public void onChanged(@Nullable String string) {\r\n                    Toast.makeText(requireActivity(), &quot;cze &quot; + string, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void initBinding() {\r\n            FragmentHomeBinding binding = DataBindingUtil.setContentView((requireActivity()), R.layout.fragment_home);\r\n            loginViewModel = new ViewModelProvider(this).get(MyViewModel.class);\r\n            binding.setMyViewModel(loginViewModel);\r\n            binding.setLifecycleOwner(this);\r\n        }\r\n    }\r\n\r\nfragment_home.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;data&gt;\r\n            &lt;variable\r\n                name=&quot;myViewModel&quot;\r\n                type=&quot;pl.jawegiel.abc.viewmodel.MyViewModel&quot; /&gt;\r\n        &lt;/data&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/b&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Button&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                android:onClick=&quot;@{ ()-&gt; myViewModel.setText() }&quot;/&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@={myViewModel.text}&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/layout&gt;","title":"Android BottomNavigationView not shows","body":"<p>I want to implement BottomNavigationView in my Android app but my code does not displays this BottomNavigationView. Here is my code.</p>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\nprivate BottomNavigationView bottomNavView;\nprivate int startingPosition, newPosition;\nprivate final FragmentHome fragmentHome = new FragmentHome();\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    setContentView(R.layout.main_activity);\n\n    bottomNavView = findViewById(R.id.bottom_navigation);\n    bottomNavView.setItemIconTintList(null);\n    bottomNavView.setOnItemSelectedListener(item -&gt; {\n        showFragment(item.getItemId());\n        return true;\n    });\n    FragmentTransaction ft = getSupportFragmentManager().beginTransaction();\n    ft.replace(R.id.content_frame, fragmentHome);\n    bottomNavView.setSelectedItemId(R.id.action_home);\n    ft.commit();\n}\n\npublic void showFragment(int viewId) {\n    Fragment fragment = null;\n\n    switch (viewId) {\n        case R.id.action_home:\n            if (bottomNavView.getSelectedItemId() != R.id.action_home) {\n                fragment = fragmentHome;\n                newPosition = 0;\n            }\n            break;\n    }\n\n    if (fragment != null) {\n        if (startingPosition &gt; newPosition) {\n            getSupportFragmentManager()\n                    .beginTransaction()\n                    .replace(R.id.content_frame, fragment).commit();\n        }\n        if (startingPosition &lt; newPosition) {\n            getSupportFragmentManager()\n                    .beginTransaction()\n                    .replace(R.id.content_frame, fragment).commit();\n        }\n\n        startingPosition = newPosition;\n    }\n}\n\n@Override\npublic boolean onCreateOptionsMenu(final Menu menu) {\n    getMenuInflater().inflate(R.menu.menu_action_bar, menu);\n    final MenuItem searchItem = menu.findItem(R.id.action_search);\n    SearchView searchView = (SearchView) searchItem.getActionView();\n    searchView.addOnAttachStateChangeListener(new View.OnAttachStateChangeListener() {\n        @Override\n        public void onViewAttachedToWindow(View arg0) {\n            setItemsVisibility(menu, searchItem, false);\n        }\n\n        @Override\n        public void onViewDetachedFromWindow(View arg0) {\n            setItemsVisibility(menu, searchItem, true);\n        }\n    });\n    return super.onCreateOptionsMenu(menu);\n}\n\nprivate void setItemsVisibility(Menu menu, MenuItem exception, boolean visible) {\n    for (int i = 0; i &lt; menu.size(); ++i) {\n        MenuItem item = menu.getItem(i);\n        if (item != exception) item.setVisible(visible);\n    }\n}\n\n@Override\npublic boolean onOptionsItemSelected(@NonNull MenuItem item) {\n    return super.onOptionsItemSelected(item);\n}\n}\n</code></pre>\n<p>main_activity.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;FrameLayout\n    android:id=&quot;@+id/content_frame&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=&quot;@+id/bottom_navigation&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@android:color/darker_gray&quot;\n    app:itemIconTint=&quot;@android:color/white&quot;\n    app:itemTextColor=&quot;@android:color/white&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:menu=&quot;@menu/menu_bottom_navigation&quot; /&gt;\n</code></pre>\n<p>&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</p>\n<p>menu_bottom_navigation</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/action_home&quot;\n        android:icon=&quot;@drawable/ic_launcher_foreground&quot;\n        android:title=&quot;@string/home&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/action_words_ranking&quot;\n        android:icon=&quot;@drawable/ic_launcher_foreground&quot;\n        android:title=&quot;@string/words_ranking&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/action_users_ranking&quot;\n        android:icon=&quot;@drawable/ic_launcher_foreground&quot;\n        android:title=&quot;@string/users_ranking&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/action_messages&quot;\n        android:icon=&quot;@drawable/ic_launcher_foreground&quot;\n        android:title=&quot;@string/messages&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/action_notifications&quot;\n        android:icon=&quot;@drawable/ic_launcher_foreground&quot;\n        android:title=&quot;@string/notifications&quot; /&gt;\n&lt;/menu&gt;\n</code></pre>\n<p>Not only this BottomNavigationView not displays it even not occupies any vertical space.</p>\n<p>Help me please!</p>\n<p><strong>EDIT</strong></p>\n<p>I also simplified my day/night themes but no effect.</p>\n<p><strong>EDIT 2</strong></p>\n<p>I know where! There is a problem with ft.replace(R.id.content_frame, fragmentHome); in onCreate. It shows things from fragment but skip BottomNavView from MainActivity But how to solve that?</p>\n<p>FragmentHome.java</p>\n<pre><code>public class FragmentHome extends Fragment {\n\n    private MyViewModel loginViewModel;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View rootView = inflater.inflate(R.layout.fragment_home, container, false);\n        return rootView;\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        initBinding();\n\n        loginViewModel.getText().observe(getViewLifecycleOwner(), new Observer&lt;String&gt;() {\n            @Override\n            public void onChanged(@Nullable String string) {\n                Toast.makeText(requireActivity(), &quot;cze &quot; + string, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    private void initBinding() {\n        FragmentHomeBinding binding = DataBindingUtil.setContentView((requireActivity()), R.layout.fragment_home);\n        loginViewModel = new ViewModelProvider(this).get(MyViewModel.class);\n        binding.setMyViewModel(loginViewModel);\n        binding.setLifecycleOwner(this);\n    }\n}\n</code></pre>\n<p>fragment_home.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;data&gt;\n        &lt;variable\n            name=&quot;myViewModel&quot;\n            type=&quot;pl.jawegiel.abc.viewmodel.MyViewModel&quot; /&gt;\n    &lt;/data&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/b&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Button&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            android:onClick=&quot;@{ ()-&gt; myViewModel.setText() }&quot;/&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tv&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@={myViewModel.text}&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":5,"creation_date":1668070241,"post_id":74386278,"comment_id":131319227,"body_markdown":"It seems like you just need two enums and a class/record that contains both as fields?","body":"It seems like you just need two enums and a class/record that contains both as fields?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1668070262,"post_id":74386278,"comment_id":131319232,"body_markdown":"Yeah, some sort of `class Combo { Size size; Difficulty difficulty; }`","body":"Yeah, some sort of <code>class Combo { Size size; Difficulty difficulty; }</code>"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1668070321,"post_id":74386278,"comment_id":131319251,"body_markdown":"also just FYI, Enums can have fields/constructor, if it helps you :)","body":"also just FYI, Enums can have fields/constructor, if it helps you :)"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1668070604,"post_id":74386278,"comment_id":131319364,"body_markdown":"@JCompetence but why the hell would you want an `enum` instead of a `class`? you would need to enumerate each combination of `Size` and `Difficulty`.","body":"@JCompetence but why the hell would you want an <code>enum</code> instead of a <code>class</code>? you would need to enumerate each combination of <code>Size</code> and <code>Difficulty</code>."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1668070724,"post_id":74386278,"comment_id":131319400,"body_markdown":"@MauricePerry Not saying he needs to do it this way.  I mentioned the fields, so he can use it instead of creating a method to return size.","body":"@MauricePerry Not saying he needs to do it this way.  I mentioned the fields, so he can use it instead of creating a method to return size."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1668070827,"post_id":74386278,"comment_id":131319431,"body_markdown":"@MauricePerry But it&#39;s not always a bad idea either. Sometimes you want combination constants, as in [this example](https://stackoverflow.com/questions/74273122/use-enummap-instead-of-ordinal-indexing).","body":"@MauricePerry But it&#39;s not always a bad idea either. Sometimes you want combination constants, as in <a href=\"https://stackoverflow.com/questions/74273122/use-enummap-instead-of-ordinal-indexing\">this example</a>."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1668072953,"post_id":74386278,"comment_id":131320140,"body_markdown":"@shmosel yes, in this example, why not. But in this question, the `Size` and `Difficulty` are decoupled. You could have a field in `Size` for the value in pixels or something","body":"@shmosel yes, in this example, why not. But in this question, the <code>Size</code> and <code>Difficulty</code> are decoupled. You could have a field in <code>Size</code> for the value in pixels or something"}],"owner":{"account_id":25219685,"reputation":87,"user_id":19056337,"display_name":"Wewius"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668071307,"creation_date":1668070077,"question_id":74386278,"body_markdown":"I&#39;m currently trying to implement a world generator, that has (currently) two major options. World size and difficulty.\r\n\r\nI implemented an enum like this:\r\n\r\n```java\r\npublic enum WorldType {\r\n    TEST,EASY,MEDIUM,HARD;\r\n\r\n    public int size(){\r\n        return switch (this) {\r\n            case TEST -&gt; 30;\r\n            case EASY -&gt; 200;\r\n            case MEDIUM -&gt; 500;\r\n            case HARD -&gt; 1000;\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nNow, I want to change some things and I need to separate difficulty and size from each other. They also need to be freely combinable. I imagine something like: TEST.TINY, EASY.LARGE and so on.\r\n\r\nThe first thing I found while researching was this post:\r\nhttps://stackoverflow.com/questions/8732710/enum-within-an-enum/8732995#8732995\r\n\r\nBut this solution doesn&#39;t seem to be able to combine the two enums like I imagine.\r\n\r\nIs there a way to achieve what I want without bloating up my code? I&#39;ve seen solutions with interfaces, structs and classes that implement the feature I want and if at all possible I&#39;d like to keep it simple.\r\n\r\nEdit: Thanks for everyones feedback. I&#39;ve since found this solution that works (although not in the way I imagined it above).\r\n\r\n    public enum WorldType {\r\n    TEST,EASY,MEDIUM,HARD;\r\n\r\n    public enum Size {\r\n        TINY(30),SMALL(200),MEDIUM(500),LARGE(1000);\r\n        private int value;\r\n\r\n        Size(int value){\r\n            this.value =value;\r\n        }\r\n\r\n        public int get(){\r\n            return value;\r\n        }\r\n    }\r\n}\r\n\r\n","title":"Nesting enums within enums and freely combining/concatenating them","body":"<p>I'm currently trying to implement a world generator, that has (currently) two major options. World size and difficulty.</p>\n<p>I implemented an enum like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum WorldType {\n    TEST,EASY,MEDIUM,HARD;\n\n    public int size(){\n        return switch (this) {\n            case TEST -&gt; 30;\n            case EASY -&gt; 200;\n            case MEDIUM -&gt; 500;\n            case HARD -&gt; 1000;\n        };\n    }\n}\n</code></pre>\n<p>Now, I want to change some things and I need to separate difficulty and size from each other. They also need to be freely combinable. I imagine something like: TEST.TINY, EASY.LARGE and so on.</p>\n<p>The first thing I found while researching was this post:\n<a href=\"https://stackoverflow.com/questions/8732710/enum-within-an-enum/8732995#8732995\">Enum within an enum</a></p>\n<p>But this solution doesn't seem to be able to combine the two enums like I imagine.</p>\n<p>Is there a way to achieve what I want without bloating up my code? I've seen solutions with interfaces, structs and classes that implement the feature I want and if at all possible I'd like to keep it simple.</p>\n<p>Edit: Thanks for everyones feedback. I've since found this solution that works (although not in the way I imagined it above).</p>\n<pre><code>public enum WorldType {\nTEST,EASY,MEDIUM,HARD;\n\npublic enum Size {\n    TINY(30),SMALL(200),MEDIUM(500),LARGE(1000);\n    private int value;\n\n    Size(int value){\n        this.value =value;\n    }\n\n    public int get(){\n        return value;\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","json","jackson","dropwizard","jackson-databind"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1668072153,"post_id":74386491,"comment_id":131319856,"body_markdown":"Could you return `List&lt;Element&gt;` directly? Why is it wrapped in another class if all you want to return is the list? If that class is really necessary you could try and have `MyClass` extend `ArrayList&lt;String&gt;` etc. (or implement `List&lt;String&gt;` and delegate to the inner list while slapping some `@JsonIgnore` onto it).","body":"Could you return <code>List&lt;Element&gt;</code> directly? Why is it wrapped in another class if all you want to return is the list? If that class is really necessary you could try and have <code>MyClass</code> extend <code>ArrayList&lt;String&gt;</code> etc. (or implement <code>List&lt;String&gt;</code> and delegate to the inner list while slapping some <code>@JsonIgnore</code> onto it)."},{"owner":{"account_id":158679,"reputation":695,"user_id":377486,"accept_rate":64,"display_name":"user377486"},"score":0,"creation_date":1668092310,"post_id":74386491,"comment_id":131327142,"body_markdown":"The first time I tried that, Dropwizard started replying 404, so I assumed it wasn&#39;t possible. I tried again, and... it worked.","body":"The first time I tried that, Dropwizard started replying 404, so I assumed it wasn&#39;t possible. I tried again, and... it worked."}],"owner":{"account_id":158679,"reputation":695,"user_id":377486,"accept_rate":64,"display_name":"user377486"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668071190,"creation_date":1668071190,"question_id":74386491,"body_markdown":"I have a Java class like this\r\n```\r\nclass MyClass {\r\n    private final List&lt;Element&gt; myList;\r\n\r\n    public MyClass(List&lt;Element&gt; aList) {\r\n        myList = aList;\r\n    }\r\n\r\n    public List&lt;Element&gt; getThatList() {\r\n        return myList;\r\n    }\r\n}\r\n```\r\nI am using Dropwizard to turn that class into a JSON response to an HTTP method call. Dropwizard uses Jackson under the hood.\r\n\r\nProblem: JSON comes out like this\r\n```\r\n{\r\n    &quot;thatList&quot;:[\r\n        {&quot;el1prop1&quot;:1,&quot;el1prop2&quot;:&quot;str1&quot;},\r\n        {&quot;el2prop1&quot;:2,&quot;el2prop2&quot;:&quot;str2&quot;}\r\n    ]\r\n}\r\n```\r\nBasically, the instance of `MyClass` is turned into an object. The desired output, instead, is an array (basically, the value of the only key of the object)\r\n```\r\n[\r\n        {&quot;el1prop1&quot;:1,&quot;el1prop2&quot;:&quot;str1&quot;},\r\n        {&quot;el2prop1&quot;:2,&quot;el2prop2&quot;:&quot;str2&quot;}\r\n]\r\n```\r\nIs there a way (using Jackson annotations or some other way) to obtain that?","title":"Jackson: class to JSON array","body":"<p>I have a Java class like this</p>\n<pre><code>class MyClass {\n    private final List&lt;Element&gt; myList;\n\n    public MyClass(List&lt;Element&gt; aList) {\n        myList = aList;\n    }\n\n    public List&lt;Element&gt; getThatList() {\n        return myList;\n    }\n}\n</code></pre>\n<p>I am using Dropwizard to turn that class into a JSON response to an HTTP method call. Dropwizard uses Jackson under the hood.</p>\n<p>Problem: JSON comes out like this</p>\n<pre><code>{\n    &quot;thatList&quot;:[\n        {&quot;el1prop1&quot;:1,&quot;el1prop2&quot;:&quot;str1&quot;},\n        {&quot;el2prop1&quot;:2,&quot;el2prop2&quot;:&quot;str2&quot;}\n    ]\n}\n</code></pre>\n<p>Basically, the instance of <code>MyClass</code> is turned into an object. The desired output, instead, is an array (basically, the value of the only key of the object)</p>\n<pre><code>[\n        {&quot;el1prop1&quot;:1,&quot;el1prop2&quot;:&quot;str1&quot;},\n        {&quot;el2prop1&quot;:2,&quot;el2prop2&quot;:&quot;str2&quot;}\n]\n</code></pre>\n<p>Is there a way (using Jackson annotations or some other way) to obtain that?</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","jpa-2.0"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1666776959,"post_id":74136302,"comment_id":131014351,"body_markdown":"How about removing `insertable = false` from `B#ente`?","body":"How about removing <code>insertable = false</code> from <code>B#ente</code>?"},{"owner":{"account_id":5319026,"reputation":11,"user_id":4242970,"display_name":"Tiziano Ruaro"},"score":0,"creation_date":1666990275,"post_id":74136302,"comment_id":131073380,"body_markdown":"org.hibernate.PropertyValueException: not-null property references a null or transient value : B.idA","body":"org.hibernate.PropertyValueException: not-null property references a null or transient value : B.idA"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1667207939,"post_id":74136302,"comment_id":131107594,"body_markdown":"Well, then set the property to a non-null value. What&#39;s the problem?","body":"Well, then set the property to a non-null value. What&#39;s the problem?"},{"owner":{"account_id":5319026,"reputation":11,"user_id":4242970,"display_name":"Tiziano Ruaro"},"score":0,"creation_date":1667376899,"post_id":74136302,"comment_id":131150012,"body_markdown":"It is not possible to proceed as you say, or rather, it is a workaround. The problem is the column that should be inherited from the FK: B.a#idA. The value is generated whem &#39;a&#39; is instanceated, so it&#39;s not null. On b.setA(a); &#39;a&#39; has its PK correctly set.","body":"It is not possible to proceed as you say, or rather, it is a workaround. The problem is the column that should be inherited from the FK: B.a#idA. The value is generated whem &#39;a&#39; is instanceated, so it&#39;s not null. On b.setA(a); &#39;a&#39; has its PK correctly set."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1667381882,"post_id":74136302,"comment_id":131151721,"body_markdown":"I have no idea what you are talking about here. If you need help, create a test case (https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java) that shows what you are trying to do and how it fails.","body":"I have no idea what you are talking about here. If you need help, create a test case (<a href=\"https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-test-case-templates/blob/mas&zwnj;&#8203;ter/&hellip;</a>) that shows what you are trying to do and how it fails."},{"owner":{"account_id":5319026,"reputation":11,"user_id":4242970,"display_name":"Tiziano Ruaro"},"score":0,"creation_date":1668008312,"post_id":74136302,"comment_id":131304530,"body_markdown":"What you are proposing (correct me if I am wrong) is to proceed according to this pattern\nA a = new A();\na.setEnte(&#39;E1&#39;);\na = repA.save(a);\n\nB b = new B();\nb.setA(a);\nb.setEnte(a.getEnte());\nb = repB.save(b);\n\nThis is a workaround. It works, but it&#39;s a workaround.","body":"What you are proposing (correct me if I am wrong) is to proceed according to this pattern A a = new A(); a.setEnte(&#39;E1&#39;); a = repA.save(a);  B b = new B(); b.setA(a); b.setEnte(a.getEnte()); b = repB.save(b);  This is a workaround. It works, but it&#39;s a workaround."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1668016837,"post_id":74136302,"comment_id":131307738,"body_markdown":"Your `b.setA()` method could also set this automatically. Not sure if I&#39;d call this a bug though. I think the model is a bit broken, but please create a test case and JIRA issue for others to judge that.","body":"Your <code>b.setA()</code> method could also set this automatically. Not sure if I&#39;d call this a bug though. I think the model is a bit broken, but please create a test case and JIRA issue for others to judge that."}],"answers":[{"tags":[],"owner":{"account_id":5319026,"reputation":11,"user_id":4242970,"display_name":"Tiziano Ruaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668070999,"creation_date":1668070999,"answer_id":74386450,"question_id":74136302,"body_markdown":"&gt; Your b.setA() method could also set this automatically\r\n\r\nThanks to Christian Beikov&#39;s suggestion, I found an acceptable solution to the problem.\r\nWhy it should not infer data directly from the entities is not clear to me.\r\n\r\nHowever, the solution is to force the missing data to be set before persisting using @PrePersist.\r\n\r\nThe model for B becomes:\r\n\r\n```\r\n@Getter\r\n@ToString\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;address&quot;)\r\n@IdClass(BPK.class)\r\n@NoArgsConstructor\r\npublic class B  implements Serializable{\r\n\t\r\n\t    @ManyToOne\r\n    @JoinColumns({\r\n        @JoinColumn(name=&quot;idA&quot;, referencedColumnName=&quot;idA&quot;, nullable=false, insertable=false, updatable=false),\r\n        @JoinColumn(name=&quot;ente&quot;, referencedColumnName=&quot;ente&quot;, nullable=false, insertable=false, updatable=false)\r\n        })\r\n    private A a;\r\n\r\n    @Id\r\n    @org.hibernate.annotations.GenericGenerator(name = &quot;incrementGenerator&quot;, strategy = &quot;org.hibernate.id.IncrementGenerator&quot;)\r\n    @GeneratedValue(generator=&quot;incrementGenerator&quot;)\r\n    @Column(name = &quot;idB&quot;, columnDefinition = &quot;int(10)&quot;, nullable = false)\r\n    private Integer idB;\r\n\r\n    @Id\r\n    @Column(insertable=false, updatable=false, unique=true, nullable=false, length=6)\r\n    private String ente;\r\n    \r\n//New lines (In the real code I used getters, of course) &lt;--\r\n    @Column(name = &quot;idA&quot;, nullable = false, columnDefinition = &quot;int(10)&quot;)\r\n    private Integer idA;\r\n\r\n\t@PrePersist\r\n\tprivate void init() {\r\n\t\tthis.ente = a.ente;\r\n\t\tthis.idA= a.idA;\r\n\t}\r\n}\r\n```\r\n\r\n","title":"Shared column between FK and PK","body":"<blockquote>\n<p>Your b.setA() method could also set this automatically</p>\n</blockquote>\n<p>Thanks to Christian Beikov's suggestion, I found an acceptable solution to the problem.\nWhy it should not infer data directly from the entities is not clear to me.</p>\n<p>However, the solution is to force the missing data to be set before persisting using @PrePersist.</p>\n<p>The model for B becomes:</p>\n<pre><code>@Getter\n@ToString\n@Setter\n@Entity\n@Table(name = &quot;address&quot;)\n@IdClass(BPK.class)\n@NoArgsConstructor\npublic class B  implements Serializable{\n    \n        @ManyToOne\n    @JoinColumns({\n        @JoinColumn(name=&quot;idA&quot;, referencedColumnName=&quot;idA&quot;, nullable=false, insertable=false, updatable=false),\n        @JoinColumn(name=&quot;ente&quot;, referencedColumnName=&quot;ente&quot;, nullable=false, insertable=false, updatable=false)\n        })\n    private A a;\n\n    @Id\n    @org.hibernate.annotations.GenericGenerator(name = &quot;incrementGenerator&quot;, strategy = &quot;org.hibernate.id.IncrementGenerator&quot;)\n    @GeneratedValue(generator=&quot;incrementGenerator&quot;)\n    @Column(name = &quot;idB&quot;, columnDefinition = &quot;int(10)&quot;, nullable = false)\n    private Integer idB;\n\n    @Id\n    @Column(insertable=false, updatable=false, unique=true, nullable=false, length=6)\n    private String ente;\n    \n//New lines (In the real code I used getters, of course) &lt;--\n    @Column(name = &quot;idA&quot;, nullable = false, columnDefinition = &quot;int(10)&quot;)\n    private Integer idA;\n\n    @PrePersist\n    private void init() {\n        this.ente = a.ente;\n        this.idA= a.idA;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5319026,"reputation":11,"user_id":4242970,"display_name":"Tiziano Ruaro"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74386450,"answer_count":1,"score":1,"last_activity_date":1668070999,"creation_date":1666252754,"question_id":74136302,"body_markdown":"I have two tables, A and B (not defined by me, inherited from old legacy software), with the following structure:\r\n\r\n    A: PK (idA, ente),\r\n\r\n    B: PK(idB, ente), FK(idA, ente) --&gt; A\r\n\r\nI need to use @IdClass/@Id, rather than @Embeddeble/@EmbeddebleId, because @GeneratedValue on id columns.\r\n\r\nI&#39;d like to insert a new couple of rows this way:\r\n```\r\nA a = new A();\r\na.setEnte(&#39;E1&#39;);\r\na = repA.save(a);\r\n\r\nB b = new B();\r\nb.setA(a);\r\nb = repB.save(b);\r\n```\r\nI use Spring Data JPA&#39;s repositories class. My best try, was:\r\n```\r\n@Getter\r\n@ToString\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;address&quot;)\r\n@IdClass(BPK.class)\r\n@NoArgsConstructor\r\npublic class B  implements Serializable{\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumns({\r\n\t\t@JoinColumn(name=&quot;idA&quot;, referencedColumnName=&quot;idA&quot;, nullable=false, insertable=false, updatable=false),\r\n\t\t@JoinColumn(name=&quot;ente&quot;, referencedColumnName=&quot;ente&quot;, nullable=false, insertable=false, updatable=false)\r\n\t\t})\r\n\tprivate A a;\r\n\r\n\t@Id\r\n    @org.hibernate.annotations.GenericGenerator(name = &quot;incrementGenerator&quot;, strategy = &quot;org.hibernate.id.IncrementGenerator&quot;)\r\n    @GeneratedValue(generator=&quot;incrementGenerator&quot;)\r\n    @Column(name = &quot;idB&quot;, columnDefinition = &quot;int(10)&quot;, nullable = false)\r\n    private Integer idB;\r\n\r\n    @Id\r\n\t@Column(insertable=false, updatable=false, unique=true, nullable=false, length=6)\r\n\tprivate String ente;\r\n}\r\n\r\n\r\n@Getter\r\n@ToString\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;Users&quot;)\r\n@IdClass(APK.class)\r\n@NoArgsConstructor\r\npublic class A implements Serializable {\r\n\r\n\t@Id\r\n    @org.hibernate.annotations.GenericGenerator(name = &quot;incrementGenerator&quot;, strategy = &quot;org.hibernate.id.IncrementGenerator&quot;)\r\n    @GeneratedValue(generator=&quot;incrementGenerator&quot;)\r\n    @Column(name = &quot;idA&quot;, columnDefinition = &quot;int(10)&quot;, nullable = false)\r\n\tprivate Integer idA;\r\n\r\n\t@Id\r\n    @Column(name = &quot;ente&quot;, columnDefinition = &quot;char(6)&quot;, nullable = false)\r\n    public String ente;\r\n}\r\n```\r\nThis solution doesn&#39;t work, because *idA* and *ente* are not inserted in save(b) instruction. If I change insertable=true in the `@ManyToOne` lines, there will be error on ente field.\r\n\r\nAny suggestions?\r\n\r\n","title":"Shared column between FK and PK","body":"<p>I have two tables, A and B (not defined by me, inherited from old legacy software), with the following structure:</p>\n<pre><code>A: PK (idA, ente),\n\nB: PK(idB, ente), FK(idA, ente) --&gt; A\n</code></pre>\n<p>I need to use @IdClass/@Id, rather than @Embeddeble/@EmbeddebleId, because @GeneratedValue on id columns.</p>\n<p>I'd like to insert a new couple of rows this way:</p>\n<pre><code>A a = new A();\na.setEnte('E1');\na = repA.save(a);\n\nB b = new B();\nb.setA(a);\nb = repB.save(b);\n</code></pre>\n<p>I use Spring Data JPA's repositories class. My best try, was:</p>\n<pre><code>@Getter\n@ToString\n@Setter\n@Entity\n@Table(name = &quot;address&quot;)\n@IdClass(BPK.class)\n@NoArgsConstructor\npublic class B  implements Serializable{\n    \n    @ManyToOne\n    @JoinColumns({\n        @JoinColumn(name=&quot;idA&quot;, referencedColumnName=&quot;idA&quot;, nullable=false, insertable=false, updatable=false),\n        @JoinColumn(name=&quot;ente&quot;, referencedColumnName=&quot;ente&quot;, nullable=false, insertable=false, updatable=false)\n        })\n    private A a;\n\n    @Id\n    @org.hibernate.annotations.GenericGenerator(name = &quot;incrementGenerator&quot;, strategy = &quot;org.hibernate.id.IncrementGenerator&quot;)\n    @GeneratedValue(generator=&quot;incrementGenerator&quot;)\n    @Column(name = &quot;idB&quot;, columnDefinition = &quot;int(10)&quot;, nullable = false)\n    private Integer idB;\n\n    @Id\n    @Column(insertable=false, updatable=false, unique=true, nullable=false, length=6)\n    private String ente;\n}\n\n\n@Getter\n@ToString\n@Setter\n@Entity\n@Table(name = &quot;Users&quot;)\n@IdClass(APK.class)\n@NoArgsConstructor\npublic class A implements Serializable {\n\n    @Id\n    @org.hibernate.annotations.GenericGenerator(name = &quot;incrementGenerator&quot;, strategy = &quot;org.hibernate.id.IncrementGenerator&quot;)\n    @GeneratedValue(generator=&quot;incrementGenerator&quot;)\n    @Column(name = &quot;idA&quot;, columnDefinition = &quot;int(10)&quot;, nullable = false)\n    private Integer idA;\n\n    @Id\n    @Column(name = &quot;ente&quot;, columnDefinition = &quot;char(6)&quot;, nullable = false)\n    public String ente;\n}\n</code></pre>\n<p>This solution doesn't work, because <em>idA</em> and <em>ente</em> are not inserted in save(b) instruction. If I change insertable=true in the <code>@ManyToOne</code> lines, there will be error on ente field.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","jakarta-ee","logging","websphere","logback"],"answers":[{"comments":[{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1344456674,"post_id":11871494,"comment_id":15795159,"body_markdown":"He said they required SystemOut.log because that file is monitored by a 3rd-party, which isn&#39;t surprising to me. We have external tools which monitor log files ourselves, although we can tell those tools to monitor other files. (It would be better, IMO, if you could persuade the 3rd-party to monitor an additional file for you, although if the format is different, their monitoring might have to change as well.)","body":"He said they required SystemOut.log because that file is monitored by a 3rd-party, which isn&#39;t surprising to me. We have external tools which monitor log files ourselves, although we can tell those tools to monitor other files. (It would be better, IMO, if you could persuade the 3rd-party to monitor an additional file for you, although if the format is different, their monitoring might have to change as well.)"}],"tags":[],"owner":{"account_id":928670,"reputation":8964,"user_id":958954,"display_name":"Andreas Veithen"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1344453086,"creation_date":1344453086,"answer_id":11871494,"question_id":11854221,"body_markdown":"Your logback is configured to write messages to `System.out`. However, everything that is written to `System.out` is redirected by WebSphere and written to the `SystemOut.log` file with the same format as log messages produced by WebSphere, but with a severity indicator &quot;O&quot;. It is not possible to change that.\r\n\r\nNote that it is likely that the people who told you to use `SystemOut.log` actually meant that you should ensure that logging is done using WebSphere&#39;s log system so that messages are written with the correct category and severity and that log levels can be changed at runtime. Since WebSphere&#39;s log system is build on `java.util.logging` you should probably just replace logback by slf4j-jdk14 to satisfy their requirement.","title":"Websphere with Logback logging to system out - formatting issue","body":"<p>Your logback is configured to write messages to <code>System.out</code>. However, everything that is written to <code>System.out</code> is redirected by WebSphere and written to the <code>SystemOut.log</code> file with the same format as log messages produced by WebSphere, but with a severity indicator \"O\". It is not possible to change that.</p>\n\n<p>Note that it is likely that the people who told you to use <code>SystemOut.log</code> actually meant that you should ensure that logging is done using WebSphere's log system so that messages are written with the correct category and severity and that log levels can be changed at runtime. Since WebSphere's log system is build on <code>java.util.logging</code> you should probably just replace logback by slf4j-jdk14 to satisfy their requirement.</p>\n"},{"comments":[{"owner":{"account_id":346993,"reputation":9154,"user_id":680847,"accept_rate":93,"display_name":"stephen.hanson"},"score":0,"creation_date":1344520550,"post_id":11872472,"comment_id":15815376,"body_markdown":"Two loggers is a good idea. It would be nice for the dev team to have their own one log file and the monitoring team a separate one.","body":"Two loggers is a good idea. It would be nice for the dev team to have their own one log file and the monitoring team a separate one."}],"tags":[],"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1344457000,"creation_date":1344457000,"answer_id":11872472,"question_id":11854221,"body_markdown":"I don&#39;t think you&#39;re going to be able to change the format. And if you could, it might break the current monitoring anyway.\r\n\r\nI wonder if anyone would mind if you log to two loggers at the same time, SystemOut for the existing monitoring, and your own for a more readable format.","title":"Websphere with Logback logging to system out - formatting issue","body":"<p>I don't think you're going to be able to change the format. And if you could, it might break the current monitoring anyway.</p>\n\n<p>I wonder if anyone would mind if you log to two loggers at the same time, SystemOut for the existing monitoring, and your own for a more readable format.</p>\n"},{"tags":[],"owner":{"account_id":169673,"reputation":3160,"user_id":395879,"accept_rate":82,"display_name":"fishbone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668070979,"creation_date":1668070979,"answer_id":74386446,"question_id":11854221,"body_markdown":"The problem is that Logback redirects the messages to console output instead of java.util.logging. Console output has no log levels and that&#39;s why WebSphere just writes `&quot;O&quot;`.\r\n\r\nWe solved this by implementing a Logback appender that redirects logs to JUL (java.util.logging) instead. We convert Logback log levels to JUL levels (e.g. Logback &quot;ERROR&quot; is JUL &quot;SEVERE&quot;).\r\n\r\nWe also wanted to use Websphere&#39;s trace options. If trace is enabled for a class/package pattern, you will see Logback DEBUG and TRACE messages in Websphere&#39;s trace.log. You can also check if the trace is enabled by calling Logback&#39;s `isDebugEnabled()` / `isTraceEnabled()`.\r\n\r\nSee this answer with a full implementation:\r\nhttps://stackoverflow.com/a/74386323/395879","title":"Websphere with Logback logging to system out - formatting issue","body":"<p>The problem is that Logback redirects the messages to console output instead of java.util.logging. Console output has no log levels and that's why WebSphere just writes <code>&quot;O&quot;</code>.</p>\n<p>We solved this by implementing a Logback appender that redirects logs to JUL (java.util.logging) instead. We convert Logback log levels to JUL levels (e.g. Logback &quot;ERROR&quot; is JUL &quot;SEVERE&quot;).</p>\n<p>We also wanted to use Websphere's trace options. If trace is enabled for a class/package pattern, you will see Logback DEBUG and TRACE messages in Websphere's trace.log. You can also check if the trace is enabled by calling Logback's <code>isDebugEnabled()</code> / <code>isTraceEnabled()</code>.</p>\n<p>See this answer with a full implementation:\n<a href=\"https://stackoverflow.com/a/74386323/395879\">https://stackoverflow.com/a/74386323/395879</a></p>\n"}],"owner":{"account_id":346993,"reputation":9154,"user_id":680847,"accept_rate":93,"display_name":"stephen.hanson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3226,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":11872472,"answer_count":3,"score":6,"last_activity_date":1668070979,"creation_date":1344373900,"question_id":11854221,"body_markdown":"I am using Logback in my application hosted on Websphere App Server. Logback is configured to log to System Out (and others are hesitant to change to a different file). The issue is that Websphere uses its own format for logging to System Out. Executing `logger.debug(&quot;test&quot;)` in my app yields:\r\n\r\n    [8/7/12 12:27:55:629 CDT] 0000003a SystemOut     O DEBUG com.myapp... test\r\n\r\nwhere everything up to the &quot;O&quot; is added by Websphere. The rest is from Logback\r\n\r\nI have set up Logback to use the following pattern: `%-5level %logger{36} - %msg%n` so that I don&#39;t repeat timestamp and thread info which Websphere does on its own, but I am still annoyed that I can&#39;t fully customize the logging to System Out from within Logback.\r\n\r\nI don&#39;t know a whole lot about logging best practices. Before, I have logged to separate files by web app, but for this project, I was told the System Out files are monitored by a third party and I should not change from using System Out. Is there any way to get around my issue given these requirements and tell Websphere not to mess with my System Out logging, or is the only solution to start logging to a different file? Thanks!\r\n\r\n","title":"Websphere with Logback logging to system out - formatting issue","body":"<p>I am using Logback in my application hosted on Websphere App Server. Logback is configured to log to System Out (and others are hesitant to change to a different file). The issue is that Websphere uses its own format for logging to System Out. Executing <code>logger.debug(\"test\")</code> in my app yields:</p>\n\n<pre><code>[8/7/12 12:27:55:629 CDT] 0000003a SystemOut     O DEBUG com.myapp... test\n</code></pre>\n\n<p>where everything up to the \"O\" is added by Websphere. The rest is from Logback</p>\n\n<p>I have set up Logback to use the following pattern: <code>%-5level %logger{36} - %msg%n</code> so that I don't repeat timestamp and thread info which Websphere does on its own, but I am still annoyed that I can't fully customize the logging to System Out from within Logback.</p>\n\n<p>I don't know a whole lot about logging best practices. Before, I have logged to separate files by web app, but for this project, I was told the System Out files are monitored by a third party and I should not change from using System Out. Is there any way to get around my issue given these requirements and tell Websphere not to mess with my System Out logging, or is the only solution to start logging to a different file? Thanks!</p>\n"},{"tags":["java","android","android-studio","android-fragments"],"comments":[{"owner":{"account_id":7836684,"reputation":189,"user_id":5924459,"display_name":"srjhnd"},"score":1,"creation_date":1578152518,"post_id":59592159,"comment_id":105349543,"body_markdown":"Please post a chunk of the logcat error output to better understand the problem.","body":"Please post a chunk of the logcat error output to better understand the problem."},{"owner":{"account_id":16517966,"reputation":51,"user_id":11934870,"display_name":"Ahmad Takkoush"},"score":0,"creation_date":1578153258,"post_id":59592159,"comment_id":105349776,"body_markdown":"okay here is the logcat @srjhnd: https://pastebin.com/ujZyA6Az","body":"okay here is the logcat @srjhnd: <a href=\"https://pastebin.com/ujZyA6Az\" rel=\"nofollow noreferrer\">pastebin.com/ujZyA6Az</a>"},{"owner":{"account_id":3116878,"reputation":15093,"user_id":2637449,"display_name":"Md. Asaduzzaman"},"score":0,"creation_date":1578156144,"post_id":59592159,"comment_id":105350640,"body_markdown":"Can you also add `HomeFragment` ?","body":"Can you also add <code>HomeFragment</code> ?"},{"owner":{"account_id":16517966,"reputation":51,"user_id":11934870,"display_name":"Ahmad Takkoush"},"score":0,"creation_date":1578157754,"post_id":59592159,"comment_id":105351098,"body_markdown":"home fragment @Md.Asaduzzaman: https://pastebin.com/V79hJczz","body":"home fragment @Md.Asaduzzaman: <a href=\"https://pastebin.com/V79hJczz\" rel=\"nofollow noreferrer\">pastebin.com/V79hJczz</a>"}],"answers":[{"tags":[],"owner":{"account_id":3116878,"reputation":15093,"user_id":2637449,"display_name":"Md. Asaduzzaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668070910,"creation_date":1578158412,"answer_id":59593064,"question_id":59592159,"body_markdown":"Remove `Objects.requireNonNull(getActivity())` from `addSnapshotListener` listener and use like below:\n\n    query.addSnapshotListener( new EventListener&lt;QuerySnapshot&gt;() { \n        // implementation here\n    });\n\nHandle the listener detachment with `listener.remove` on `onPause()`.\n\n    //Stop listening to changes\n    registration.remove();\n\nSee more details [here][1]\n\n\n  [1]: https://firebase.google.com/docs/firestore/query-data/listen#detach_a_listener","title":"java.lang.IllegalStateException: FragmentManager is already executing transactions?","body":"<p>Remove <code>Objects.requireNonNull(getActivity())</code> from <code>addSnapshotListener</code> listener and use like below:</p>\n<pre><code>query.addSnapshotListener( new EventListener&lt;QuerySnapshot&gt;() { \n    // implementation here\n});\n</code></pre>\n<p>Handle the listener detachment with <code>listener.remove</code> on <code>onPause()</code>.</p>\n<pre><code>//Stop listening to changes\nregistration.remove();\n</code></pre>\n<p>See more details <a href=\"https://firebase.google.com/docs/firestore/query-data/listen#detach_a_listener\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":16517966,"reputation":51,"user_id":11934870,"display_name":"Ahmad Takkoush"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668070910,"creation_date":1578151965,"question_id":59592159,"body_markdown":"I have an error while running my app, it keeps crashing and giving out this error.\n\n&gt;Process: com.ahmadtakkoush.source, PID: 29506\n&gt;\n&gt;     java.lang.RuntimeException: Unable to start activity ComponentInfo{com.username.appname/com.username.appname.MainActivity}:\n&gt; java.lang.IllegalStateException: FragmentManager is already executing\n&gt; transactions\n\nHere&#39;s a code sample\nhttps://pastebin.com/ufF5LsbU","title":"java.lang.IllegalStateException: FragmentManager is already executing transactions?","body":"<p>I have an error while running my app, it keeps crashing and giving out this error.</p>\n<blockquote>\n<p>Process: com.ahmadtakkoush.source, PID: 29506</p>\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.username.appname/com.username.appname.MainActivity}:\n</code></pre>\n<p>java.lang.IllegalStateException: FragmentManager is already executing\ntransactions</p>\n</blockquote>\n<p>Here's a code sample\n<a href=\"https://pastebin.com/ufF5LsbU\" rel=\"nofollow noreferrer\">https://pastebin.com/ufF5LsbU</a></p>\n"},{"tags":["java","log4j","slf4j","log4j2"],"comments":[{"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"score":0,"creation_date":1493443243,"post_id":43684778,"comment_id":74430080,"body_markdown":"Please mention clearly what versions of all relevant libraries you are using when you see this error.","body":"Please mention clearly what versions of all relevant libraries you are using when you see this error."},{"owner":{"account_id":4130036,"reputation":3449,"user_id":3388227,"accept_rate":71,"display_name":"Nazaret K."},"score":0,"creation_date":1493443637,"post_id":43684778,"comment_id":74430152,"body_markdown":"Yes, it was an old version. I got it to work with the latest (2.8.2). Thanks","body":"Yes, it was an old version. I got it to work with the latest (2.8.2). Thanks"}],"answers":[{"comments":[{"owner":{"account_id":4130036,"reputation":3449,"user_id":3388227,"accept_rate":71,"display_name":"Nazaret K."},"score":0,"creation_date":1493441912,"post_id":43691129,"comment_id":74429849,"body_markdown":"Sorry if I was not clean, but I don&#39;t want to use log4j or log4j2 as my implementation (slf4j binding). I use logback for that. I just want a log4j2 to slf4j adapter. See my edits above.","body":"Sorry if I was not clean, but I don&#39;t want to use log4j or log4j2 as my implementation (slf4j binding). I use logback for that. I just want a log4j2 to slf4j adapter. See my edits above."},{"owner":{"account_id":4130036,"reputation":3449,"user_id":3388227,"accept_rate":71,"display_name":"Nazaret K."},"score":0,"creation_date":1493443495,"post_id":43691129,"comment_id":74430121,"body_markdown":"Thanks Remko, I just found the correct version of the log4j-to-slf4j adapter and got it to work. I just posted the answer to my question, but since I see you also posted the same answer now I will accept yours instead of mine. Thanks","body":"Thanks Remko, I just found the correct version of the log4j-to-slf4j adapter and got it to work. I just posted the answer to my question, but since I see you also posted the same answer now I will accept yours instead of mine. Thanks"}],"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1640615184,"creation_date":1493431801,"answer_id":43691129,"question_id":43684778,"body_markdown":"&lt;strike&gt;Log4j2 itself bundles a [slf4j implementation][1] (log4j-slf4j-impl-2.x.jar)\r\n\r\nThis is one of the jars in the Log4j2 [distribution][2].&lt;/strike&gt;\r\n\r\n\r\n----------\r\nUpdate after the question was clarified:\r\n\r\nLog4j2  includes a [log4j-to-slf4j bridge][3] . This is what you need to route Log4j2 logging to another slf4j implementation. \r\n\r\nThe error mentioned is likely a problem of incompatible versions but the question doesn&#39;t mention version numbers so it&#39;s hard to say. \r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/index.html\r\n  [2]: https://logging.apache.org/log4j/2.x/download.html\r\n  [3]: https://logging.apache.org/log4j/2.x/log4j-to-slf4j/index.html","title":"Is there an adapter for log4j2 to work over slf4j?","body":"<p><strike>Log4j2 itself bundles a <a href=\"https://logging.apache.org/log4j/2.x/log4j-slf4j-impl/index.html\" rel=\"nofollow noreferrer\">slf4j implementation</a> (log4j-slf4j-impl-2.x.jar)</p>\n<p>This is one of the jars in the Log4j2 <a href=\"https://logging.apache.org/log4j/2.x/download.html\" rel=\"nofollow noreferrer\">distribution</a>.</strike></p>\n<hr />\n<p>Update after the question was clarified:</p>\n<p>Log4j2  includes a <a href=\"https://logging.apache.org/log4j/2.x/log4j-to-slf4j/index.html\" rel=\"nofollow noreferrer\">log4j-to-slf4j bridge</a> . This is what you need to route Log4j2 logging to another slf4j implementation.</p>\n<p>The error mentioned is likely a problem of incompatible versions but the question doesn't mention version numbers so it's hard to say.</p>\n"},{"comments":[{"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"score":1,"creation_date":1531943771,"post_id":48618165,"comment_id":89791505,"body_markdown":"+1 Proper solution for modern log4j v2. Slf4j project does not provide bridge. It was done by Apache project itself.","body":"+1 Proper solution for modern log4j v2. Slf4j project does not provide bridge. It was done by Apache project itself."}],"tags":[],"owner":{"account_id":216152,"reputation":9100,"user_id":471214,"accept_rate":54,"display_name":"mmdemirbas"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1668070772,"creation_date":1517818237,"answer_id":48618165,"question_id":43684778,"body_markdown":"You should **include** `log4j-to-slf4j-2.x.jar`  \r\nand ensure to **NOT include** `log4j-slf4j-impl-2.x.jar`.  \r\nSee [Log4j to SLF4J Adapter][1] for more details.\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.0/log4j-to-slf4j/index.html","title":"Is there an adapter for log4j2 to work over slf4j?","body":"<p>You should <strong>include</strong> <code>log4j-to-slf4j-2.x.jar</code><br />\nand ensure to <strong>NOT include</strong> <code>log4j-slf4j-impl-2.x.jar</code>.<br />\nSee <a href=\"https://logging.apache.org/log4j/2.0/log4j-to-slf4j/index.html\" rel=\"nofollow noreferrer\">Log4j to SLF4J Adapter</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531945607,"creation_date":1531944755,"answer_id":51410278,"question_id":43684778,"body_markdown":"From https://logging.apache.org/log4j/2.0/faq.html\r\n\r\n&gt; You can use the log4j-to-slf4j adapter jar when your application calls the Log4j 2 API and you want to route logging calls to a SLF4J implementation.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSlf4j project does not provide bridge from log4j v2 to Slf4j (it hasn&#39;t been mentioned in https://www.slf4j.org/legacy.html).\r\n\r\nMaven dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n        &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nGradle dependency:\r\n\r\n    compile &quot;org.apache.logging.log4j:log4j-to-slf4j:2.10.0&quot;\r\n\r\n**Note** that above package has transitive dependency on:\r\n\r\n    org.slf4j:slf4j-api:1.7.25\r\n    org.apache.logging.log4j:log4j-api:2.10.0\r\n\r\n\r\nList of packages: https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-to-slf4j\r\n  [1]: https://i.stack.imgur.com/Zy8He.png","title":"Is there an adapter for log4j2 to work over slf4j?","body":"<p>From <a href=\"https://logging.apache.org/log4j/2.0/faq.html\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.0/faq.html</a></p>\n\n<blockquote>\n  <p>You can use the log4j-to-slf4j adapter jar when your application calls the Log4j 2 API and you want to route logging calls to a SLF4J implementation.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/Zy8He.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zy8He.png\" alt=\"enter image description here\"></a></p>\n\n<p>Slf4j project does not provide bridge from log4j v2 to Slf4j (it hasn't been mentioned in <a href=\"https://www.slf4j.org/legacy.html\" rel=\"nofollow noreferrer\">https://www.slf4j.org/legacy.html</a>).</p>\n\n<p>Maven dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n    &lt;version&gt;2.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Gradle dependency:</p>\n\n<pre><code>compile \"org.apache.logging.log4j:log4j-to-slf4j:2.10.0\"\n</code></pre>\n\n<p><strong>Note</strong> that above package has transitive dependency on:</p>\n\n<pre><code>org.slf4j:slf4j-api:1.7.25\norg.apache.logging.log4j:log4j-api:2.10.0\n</code></pre>\n\n<p>List of packages: <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-to-slf4j\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-to-slf4j</a></p>\n"}],"owner":{"account_id":4130036,"reputation":3449,"user_id":3388227,"accept_rate":71,"display_name":"Nazaret K."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17177,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":43691129,"answer_count":3,"score":20,"last_activity_date":1668070772,"creation_date":1493396433,"question_id":43684778,"body_markdown":"I have a third party library (elasticsearch 5.x) which uses log4j2. My application uses slf4j. Is there an adapter for version 2 of log4j, similar to the version 1 adapter (log4j-over-slf4j)?\r\n\r\nJust to clarify: I don&#39;t want to actually use log4j or log4j2 as the actual implementation (binding). I use logback for that. So I need a log4j2 to slf4j adapter, not an slf4j binding.\r\n\r\nI should also mention that I have found and tried this library (in 2.0-beta version):\r\nhttps://logging.apache.org/log4j/2.0/log4j-to-slf4j/index.html\r\nbut it gives me this error:\r\n\r\n    Caused by: java.lang.AbstractMethodError: org.apache.logging.slf4j.SLF4JLoggerContextFactory.getContext(Ljava/lang/String;Ljava/lang/ClassLoader;Ljava/lang/Object;Z)Lorg/apache/logging/log4j/spi/LoggerContext;\r\n\tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:175)\r\n\tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:426)\r\n\tat org.elasticsearch.common.logging.ESLoggerFactory.getLogger(ESLoggerFactory.java:49)\r\n\tat org.elasticsearch.common.logging.Loggers.getLogger(Loggers.java:105)\r\n\tat org.elasticsearch.common.logging.Loggers.getLogger(Loggers.java:72)\r\n\tat org.elasticsearch.common.component.AbstractComponent.&lt;init&gt;(AbstractComponent.java:37)\r\n\tat org.elasticsearch.plugins.PluginsService.&lt;init&gt;(PluginsService.java:98)\r\n\tat org.elasticsearch.client.transport.TransportClient.newPluginService(TransportClient.java:99)\r\n\tat org.elasticsearch.client.transport.TransportClient.buildTemplate(TransportClient.java:124)\r\n\tat org.elasticsearch.client.transport.TransportClient.&lt;init&gt;(TransportClient.java:258)\r\n\tat org.elasticsearch.transport.client.PreBuiltTransportClient.&lt;init&gt;(PreBuiltTransportClient.java:125)\r\n\tat org.elasticsearch.transport.client.PreBuiltTransportClient.&lt;init&gt;(PreBuiltTransportClient.java:111)\r\n\tat org.elasticsearch.transport.client.PreBuiltTransportClient.&lt;init&gt;(PreBuiltTransportClient.java:101)\r\n\r\n----------\r\n**EDIT**: Ok.. so I guess I was just blind yesterday and I was only seeing the beta version of this library. Therefore the answer is that there is such as adapter and it is here:\r\n\r\nhttps://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-to-slf4j https://logging.apache.org/log4j/2.0/log4j-to-slf4j/index.html\r\n\r\nThe latest version currently is 2.8.2","title":"Is there an adapter for log4j2 to work over slf4j?","body":"<p>I have a third party library (elasticsearch 5.x) which uses log4j2. My application uses slf4j. Is there an adapter for version 2 of log4j, similar to the version 1 adapter (log4j-over-slf4j)?</p>\n\n<p>Just to clarify: I don't want to actually use log4j or log4j2 as the actual implementation (binding). I use logback for that. So I need a log4j2 to slf4j adapter, not an slf4j binding.</p>\n\n<p>I should also mention that I have found and tried this library (in 2.0-beta version):\n<a href=\"https://logging.apache.org/log4j/2.0/log4j-to-slf4j/index.html\" rel=\"noreferrer\">https://logging.apache.org/log4j/2.0/log4j-to-slf4j/index.html</a>\nbut it gives me this error:</p>\n\n<pre><code>Caused by: java.lang.AbstractMethodError: org.apache.logging.slf4j.SLF4JLoggerContextFactory.getContext(Ljava/lang/String;Ljava/lang/ClassLoader;Ljava/lang/Object;Z)Lorg/apache/logging/log4j/spi/LoggerContext;\nat org.apache.logging.log4j.LogManager.getContext(LogManager.java:175)\nat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:426)\nat org.elasticsearch.common.logging.ESLoggerFactory.getLogger(ESLoggerFactory.java:49)\nat org.elasticsearch.common.logging.Loggers.getLogger(Loggers.java:105)\nat org.elasticsearch.common.logging.Loggers.getLogger(Loggers.java:72)\nat org.elasticsearch.common.component.AbstractComponent.&lt;init&gt;(AbstractComponent.java:37)\nat org.elasticsearch.plugins.PluginsService.&lt;init&gt;(PluginsService.java:98)\nat org.elasticsearch.client.transport.TransportClient.newPluginService(TransportClient.java:99)\nat org.elasticsearch.client.transport.TransportClient.buildTemplate(TransportClient.java:124)\nat org.elasticsearch.client.transport.TransportClient.&lt;init&gt;(TransportClient.java:258)\nat org.elasticsearch.transport.client.PreBuiltTransportClient.&lt;init&gt;(PreBuiltTransportClient.java:125)\nat org.elasticsearch.transport.client.PreBuiltTransportClient.&lt;init&gt;(PreBuiltTransportClient.java:111)\nat org.elasticsearch.transport.client.PreBuiltTransportClient.&lt;init&gt;(PreBuiltTransportClient.java:101)\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT</strong>: Ok.. so I guess I was just blind yesterday and I was only seeing the beta version of this library. Therefore the answer is that there is such as adapter and it is here:</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-to-slf4j\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-to-slf4j</a> <a href=\"https://logging.apache.org/log4j/2.0/log4j-to-slf4j/index.html\" rel=\"noreferrer\">https://logging.apache.org/log4j/2.0/log4j-to-slf4j/index.html</a></p>\n\n<p>The latest version currently is 2.8.2</p>\n"},{"tags":["java","junit","amazon-s3","integration-testing"],"comments":[{"owner":{"account_id":8421289,"reputation":10447,"user_id":6320039,"accept_rate":89,"display_name":"Ulysse BN"},"score":0,"creation_date":1597757360,"post_id":6615988,"comment_id":112233529,"body_markdown":"If someone has the answer in other languages such as Ruby, please comment it!","body":"If someone has the answer in other languages such as Ruby, please comment it!"}],"answers":[{"comments":[{"owner":{"account_id":40377,"reputation":1239,"user_id":116996,"accept_rate":85,"display_name":"spieden"},"score":1,"creation_date":1455920153,"post_id":6616707,"comment_id":58722723,"body_markdown":"I believe this plugin acts as a client, not a server, making it impossible to achieve this use case with it.","body":"I believe this plugin acts as a client, not a server, making it impossible to achieve this use case with it."}],"tags":[],"owner":{"account_id":3419,"reputation":10436,"user_id":4931,"accept_rate":86,"display_name":"Michael Deardeuff"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1310070276,"creation_date":1310070276,"answer_id":6616707,"question_id":6615988,"body_markdown":"One option is to scrap the jetty server and use [Apache VFS](http://commons.apache.org/vfs/) and the [S3 plugin](http://code.google.com/p/vfs-s3/). With that, you can use the memory or file-based storage implementations for the integration testing.","title":"How to mock Amazon S3 in an integration test","body":"<p>One option is to scrap the jetty server and use <a href=\"http://commons.apache.org/vfs/\" rel=\"nofollow\">Apache VFS</a> and the <a href=\"http://code.google.com/p/vfs-s3/\" rel=\"nofollow\">S3 plugin</a>. With that, you can use the memory or file-based storage implementations for the integration testing.</p>\n"},{"tags":[],"owner":{"account_id":25290,"reputation":5732,"user_id":64941,"accept_rate":89,"display_name":"mikelikespie"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1326758994,"creation_date":1326758994,"answer_id":8888067,"question_id":6615988,"body_markdown":"Tornado, a python web framework, has an example app that is just what you&#39;re looking for. \r\n\r\nhttps://github.com/facebook/tornado/blob/master/demos/s3server/s3server.py\r\n\r\nIt can be used out of the box.","title":"How to mock Amazon S3 in an integration test","body":"<p>Tornado, a python web framework, has an example app that is just what you're looking for. </p>\n\n<p><a href=\"https://github.com/facebook/tornado/blob/master/demos/s3server/s3server.py\" rel=\"noreferrer\">https://github.com/facebook/tornado/blob/master/demos/s3server/s3server.py</a></p>\n\n<p>It can be used out of the box.</p>\n"},{"tags":[],"owner":{"account_id":22654,"reputation":5385,"user_id":56083,"accept_rate":88,"display_name":"Jay Prall"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1387159300,"creation_date":1387121686,"answer_id":20596226,"question_id":6615988,"body_markdown":"Another option is [S3 ninja][1] - emulates the S3 API for development and testing purposes.\r\n\r\n\r\n  [1]: http://s3ninja.net/","title":"How to mock Amazon S3 in an integration test","body":"<p>Another option is <a href=\"http://s3ninja.net/\" rel=\"noreferrer\">S3 ninja</a> - emulates the S3 API for development and testing purposes.</p>\n"},{"comments":[{"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":1,"creation_date":1535120059,"post_id":38925794,"comment_id":90962565,"body_markdown":"One catch, If you are using kms encryption, basically\n`putObjectRequest.setSSEAwsKeyManagementParams(new SSEAwsKeyManagementParams());`\naws sdk will throw error saying https is required for using SSE, hence there has to be an if else in the code","body":"One catch, If you are using kms encryption, basically <code>putObjectRequest.setSSEAwsKeyManagementParams(new SSEAwsKeyManagementParams());</code> aws sdk will throw error saying https is required for using SSE, hence there has to be an if else in the code"},{"owner":{"account_id":443973,"reputation":4509,"user_id":835523,"accept_rate":85,"display_name":"Steve"},"score":0,"creation_date":1559325354,"post_id":38925794,"comment_id":99397948,"body_markdown":"@bestwishes any idea if there&#39;s a way to work around this without having an if else in code/if they&#39;ve updated it since then?","body":"@bestwishes any idea if there&#39;s a way to work around this without having an if else in code/if they&#39;ve updated it since then?"},{"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":1,"creation_date":1559357846,"post_id":38925794,"comment_id":99405224,"body_markdown":"@Steve I think I had an if else, but later on we moved to bucket level encryption(I don&#39;t know the exact name) in which we did not have to manually set SSEAwsKeyManagementParams(). But we could not get around this limitation.","body":"@Steve I think I had an if else, but later on we moved to bucket level encryption(I don&#39;t know the exact name) in which we did not have to manually set SSEAwsKeyManagementParams(). But we could not get around this limitation."}],"tags":[],"owner":{"account_id":3097852,"reputation":3298,"user_id":2622697,"display_name":"shutty"},"comment_count":3,"down_vote_count":1,"up_vote_count":45,"is_accepted":true,"score":44,"last_activity_date":1601173842,"creation_date":1471032723,"answer_id":38925794,"question_id":6615988,"body_markdown":"There is also an Findify [s3mock][1] tool written exactly for this purpose. It mocks the essential parts of AWS S3 API on top of local filesystem:\r\n\r\n    import io.findify.s3mock.S3Mock\r\n\r\n    S3Mock api = S3Mock.create(8001, &quot;/tmp/s3&quot;);\r\n    api.start();\r\n\r\n    AmazonS3Client client = new AmazonS3Client(new AnonymousAWSCredentials());\r\n    // use local API mock, not the AWS one\r\n    client.setEndpoint(&quot;http://127.0.0.1:8001&quot;);\r\n    client.createBucket(&quot;testbucket&quot;);\r\n    client.putObject(&quot;testbucket&quot;, &quot;file/name&quot;, &quot;contents&quot;);\r\n\r\nIt&#39;s also easily embeddable and configuration-less.\r\n\r\n  [1]: https://github.com/findify/s3mock","title":"How to mock Amazon S3 in an integration test","body":"<p>There is also an Findify <a href=\"https://github.com/findify/s3mock\" rel=\"noreferrer\">s3mock</a> tool written exactly for this purpose. It mocks the essential parts of AWS S3 API on top of local filesystem:</p>\n<pre><code>import io.findify.s3mock.S3Mock\n\nS3Mock api = S3Mock.create(8001, &quot;/tmp/s3&quot;);\napi.start();\n\nAmazonS3Client client = new AmazonS3Client(new AnonymousAWSCredentials());\n// use local API mock, not the AWS one\nclient.setEndpoint(&quot;http://127.0.0.1:8001&quot;);\nclient.createBucket(&quot;testbucket&quot;);\nclient.putObject(&quot;testbucket&quot;, &quot;file/name&quot;, &quot;contents&quot;);\n</code></pre>\n<p>It's also easily embeddable and configuration-less.</p>\n"},{"tags":[],"owner":{"account_id":5559413,"reputation":36,"user_id":4409398,"display_name":"Rackam36"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486506166,"creation_date":1486506166,"answer_id":42101140,"question_id":6615988,"body_markdown":"You can use scality s3server, in can run on your machine either using node.js or via docker and it gives you a local S3 service instance. It&#39;s open source under a BSD license\r\n[github.com/scality/s3][1]\r\n\r\n\r\n  [1]: http://github.com/scality/s3","title":"How to mock Amazon S3 in an integration test","body":"<p>You can use scality s3server, in can run on your machine either using node.js or via docker and it gives you a local S3 service instance. It's open source under a BSD license\n<a href=\"http://github.com/scality/s3\" rel=\"nofollow noreferrer\">github.com/scality/s3</a></p>\n"},{"tags":[],"owner":{"account_id":9797234,"reputation":91,"user_id":7259795,"display_name":"Jake Ham"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1535475562,"creation_date":1535475562,"answer_id":52063002,"question_id":6615988,"body_markdown":"Have a look at [Adobe&#39;s S3Mock](https://github.com/adobe/S3Mock).  This S3 Mock server can be started via a Docker container or JUnit 4/5 rules.","title":"How to mock Amazon S3 in an integration test","body":"<p>Have a look at <a href=\"https://github.com/adobe/S3Mock\" rel=\"noreferrer\">Adobe's S3Mock</a>.  This S3 Mock server can be started via a Docker container or JUnit 4/5 rules.</p>\n"},{"comments":[{"owner":{"account_id":1595174,"reputation":356,"user_id":1477518,"display_name":"Kevin R."},"score":0,"creation_date":1653164715,"post_id":53325043,"comment_id":127786110,"body_markdown":"seems like a docker solution would update along with the aws api&#39;s. nice","body":"seems like a docker solution would update along with the aws api&#39;s. nice"}],"tags":[],"owner":{"account_id":3527180,"reputation":587,"user_id":2947937,"display_name":"Stimp"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1562242881,"creation_date":1542303340,"answer_id":53325043,"question_id":6615988,"body_markdown":"If you&#39;re ok with depending on a running docker container, and want something well-supported, you could consider using [localstack][1]\r\n\r\nBefore running your tests, start S3 like so:\r\n\r\n    docker run --name localstack -d -p 5000:5000 -e SERVICES=s3:5000 localstack/localstack\r\n\r\nAnd then stop it when tests complete like so:\r\n\r\n    docker stop localstack\r\n\r\nYou&#39;ll need to configure your S3 client to point to localhost:5000 for tests.  In Java, this can be done like so:\r\n\r\n            AmazonS3ClientBuilder.standard()\r\n                .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(\r\n                     &quot;http://localhost:5000&quot;, \r\n                     &quot;us-west-2&quot;))\r\n                .build();\r\n\r\n  [1]: https://github.com/localstack/localstack","title":"How to mock Amazon S3 in an integration test","body":"<p>If you're ok with depending on a running docker container, and want something well-supported, you could consider using <a href=\"https://github.com/localstack/localstack\" rel=\"noreferrer\">localstack</a></p>\n\n<p>Before running your tests, start S3 like so:</p>\n\n<pre><code>docker run --name localstack -d -p 5000:5000 -e SERVICES=s3:5000 localstack/localstack\n</code></pre>\n\n<p>And then stop it when tests complete like so:</p>\n\n<pre><code>docker stop localstack\n</code></pre>\n\n<p>You'll need to configure your S3 client to point to localhost:5000 for tests.  In Java, this can be done like so:</p>\n\n<pre><code>        AmazonS3ClientBuilder.standard()\n            .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(\n                 \"http://localhost:5000\", \n                 \"us-west-2\"))\n            .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8660948,"reputation":1200,"user_id":6483409,"display_name":"robothy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668070745,"creation_date":1668070745,"answer_id":74386397,"question_id":6615988,"body_markdown":"[LocalS3](https://github.com/Robothy/local-s3) is a good choice.\r\n\r\n+ It&#39;s based on Netty and without heavy other dependencies. Startup a LocalS3 service or [Docker container](https://hub.docker.com/r/luofuxiang/local-s3) is super quick.\r\n\r\n+ Support commonly used AmazonS3 APIs. Include versioned objects, multipart uploads, etc.\r\n\r\n+ Support in-memory and persistence mode.","title":"How to mock Amazon S3 in an integration test","body":"<p><a href=\"https://github.com/Robothy/local-s3\" rel=\"nofollow noreferrer\">LocalS3</a> is a good choice.</p>\n<ul>\n<li><p>It's based on Netty and without heavy other dependencies. Startup a LocalS3 service or <a href=\"https://hub.docker.com/r/luofuxiang/local-s3\" rel=\"nofollow noreferrer\">Docker container</a> is super quick.</p>\n</li>\n<li><p>Support commonly used AmazonS3 APIs. Include versioned objects, multipart uploads, etc.</p>\n</li>\n<li><p>Support in-memory and persistence mode.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":3419,"reputation":10436,"user_id":4931,"accept_rate":86,"display_name":"Michael Deardeuff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106426,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":38925794,"answer_count":8,"score":44,"last_activity_date":1668070745,"creation_date":1310066912,"question_id":6615988,"body_markdown":"I&#39;m trying to get an &quot;walking skeleton&quot; of my app up that will use S3 for persistence. I would like to use a fake S3 service so each developer&#39;s desktop can read/write at will.\r\n\r\nI thought [mocks3](http://code.google.com/p/mocks3/) would be perfect, as I could get a jetty server up in my jUnit tests. The problem is that mocks3 doesn&#39;t allow any _writes_. Not even to set it up as far as I can tell.\r\n\r\nSo how do others do this?\r\n","title":"How to mock Amazon S3 in an integration test","body":"<p>I'm trying to get an \"walking skeleton\" of my app up that will use S3 for persistence. I would like to use a fake S3 service so each developer's desktop can read/write at will.</p>\n\n<p>I thought <a href=\"http://code.google.com/p/mocks3/\" rel=\"noreferrer\">mocks3</a> would be perfect, as I could get a jetty server up in my jUnit tests. The problem is that mocks3 doesn't allow any <em>writes</em>. Not even to set it up as far as I can tell.</p>\n\n<p>So how do others do this?</p>\n"},{"tags":["java","sorting","collections","comparator"],"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1664210805,"post_id":73857217,"comment_id":130414316,"body_markdown":"Are you asking for all the possible options for combining the comparators? Or do you understand logically how `Child` objects should be compared, but don&#39;t know how to implement it? If the latter, explain the ordering of `Child` instances. That is, should parent attributes be compared first, or as a tie-breaker?","body":"Are you asking for all the possible options for combining the comparators? Or do you understand logically how <code>Child</code> objects should be compared, but don&#39;t know how to implement it? If the latter, explain the ordering of <code>Child</code> instances. That is, should parent attributes be compared first, or as a tie-breaker?"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1664211065,"post_id":73857217,"comment_id":130414380,"body_markdown":"parent fields must be compared firstly, then I have to compare using some fields of the child class.","body":"parent fields must be compared firstly, then I have to compare using some fields of the child class."}],"answers":[{"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1664212397,"post_id":73857412,"comment_id":130414817,"body_markdown":"I know the third solution, but I&#39;m trying to avoid duplicate code. I have 20 classes that extends a parent class... so I really don&#39;t like it. I will try your first solution. Thanks.","body":"I know the third solution, but I&#39;m trying to avoid duplicate code. I have 20 classes that extends a parent class... so I really don&#39;t like it. I will try your first solution. Thanks."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664211992,"creation_date":1664211179,"answer_id":73857412,"question_id":73857217,"body_markdown":"I don&#39;t think there&#39;s a better way than casting, even if the common comparator were defined as `Comparator&lt;? super Parent&gt;`:\r\n\r\n```\r\nComparator&lt;ChildA&gt; combinedComparator = ((Comparator) commonComparator)\r\n        .thenComparing(childAComparator);\r\n```\r\n\r\nThis would compile without errors (and doesn&#39;t require casts), but doesn&#39;t match your requirements:\r\n\r\n```\r\nchildAComparator.thenComparing(commonComparator);\r\n```\r\n\r\nThe following works too, but it means your common comparator will only accept ChildA instances (unless casting is performed):\r\n\r\n```\r\nComparator&lt;ChildA&gt; commonComparator = Comparator.comparing(ChildA::getYy).thenComparing(ChildA::getXx);\r\ncommonComparator.thenComparing(childAComparator);\r\n```\r\n","title":"How to combine parent comparator with child comparator","body":"<p>I don't think there's a better way than casting, even if the common comparator were defined as <code>Comparator&lt;? super Parent&gt;</code>:</p>\n<pre><code>Comparator&lt;ChildA&gt; combinedComparator = ((Comparator) commonComparator)\n        .thenComparing(childAComparator);\n</code></pre>\n<p>This would compile without errors (and doesn't require casts), but doesn't match your requirements:</p>\n<pre><code>childAComparator.thenComparing(commonComparator);\n</code></pre>\n<p>The following works too, but it means your common comparator will only accept ChildA instances (unless casting is performed):</p>\n<pre><code>Comparator&lt;ChildA&gt; commonComparator = Comparator.comparing(ChildA::getYy).thenComparing(ChildA::getXx);\ncommonComparator.thenComparing(childAComparator);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664212613,"creation_date":1664212613,"answer_id":73857668,"question_id":73857217,"body_markdown":"I don&#39;t think there is a function in the core libraries that will compose these comparators for you. But it is a simple function:\r\n\r\n```java\r\nprivate static &lt;T&gt; Comparator&lt;T&gt; compose(\r\n    Comparator&lt;? super T&gt; before, \r\n    Comparator&lt;T&gt; after) {\r\n\r\n  return (o1, o2) -&gt; {\r\n    int diff = before.compare(o1, o2);\r\n    return diff == 0 ? after.compare(o1, o2) : diff;\r\n  };\r\n}\r\n```\r\n\r\nThen you can use it as\r\n\r\n```java\r\nprivate static final Comparator&lt;ChildA&gt; combined = \r\n    compose(commonComparator, childAComparator);\r\n```\r\n\r\nNote that because [`thenComparing()`][1] has bounds of `? super T`, it can only compose the two comparators when the child comparator is applied first, but in this case, the parent comparator must be applied first.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.Comparator)","title":"How to combine parent comparator with child comparator","body":"<p>I don't think there is a function in the core libraries that will compose these comparators for you. But it is a simple function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static &lt;T&gt; Comparator&lt;T&gt; compose(\n    Comparator&lt;? super T&gt; before, \n    Comparator&lt;T&gt; after) {\n\n  return (o1, o2) -&gt; {\n    int diff = before.compare(o1, o2);\n    return diff == 0 ? after.compare(o1, o2) : diff;\n  };\n}\n</code></pre>\n<p>Then you can use it as</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Comparator&lt;ChildA&gt; combined = \n    compose(commonComparator, childAComparator);\n</code></pre>\n<p>Note that because <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>thenComparing()</code></a> has bounds of <code>? super T</code>, it can only compose the two comparators when the child comparator is applied first, but in this case, the parent comparator must be applied first.</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73857668,"answer_count":2,"score":3,"last_activity_date":1668070268,"creation_date":1664210059,"question_id":73857217,"body_markdown":"I have a parent class   \r\n\r\n    @Data\r\n    public class Parent {\r\n    \r\n        private String xx;\r\n    \r\n        private int yy;\r\n\r\n    }\r\n\r\nand two child classes that extends the parent class\r\n\r\n    @Data\r\n    public class ChildA extends Parent {\r\n    \r\n        private String aa;\r\n\r\n    }\r\n\r\n\r\n    @Data\r\n    public class ChildB extends Parent {\r\n    \r\n        private String bb;\r\n\r\n    }\r\n\r\nP.S. for semplicity the fields of Parent and ChildA, ChildB are few, but there are many more.\r\n\r\nI have a common comparator:\r\n\r\n    Comparator&lt;Parent&gt; commonComparator = Comparator.comparing(Parent::getYy)\r\n    \t\t\t\t\t\t .thenComparing(Parent::getXx);\r\n\r\nand specific comparator for each child:\r\n\r\n    Comparator&lt;ChildA&gt; childAComparator = Comparator.comparing(ChildA::getAa);\r\n\r\n    Comparator&lt;ChildB&gt; childBComparator = Comparator.comparing(ChildB::getBb);\r\n\r\n\r\nIf I want to sort a List of ChildA, how can I combine the commonComparator with the childAComparator ?\r\n\r\nI tried :\r\n\r\n    commonComparator.thenComparing(childAComparator); \r\n\r\nbut I got an issue:\r\n\r\n&gt; The method thenComparing(Comparator&lt;? super Parent&gt;) in the type\r\n&gt; Comparator&lt;Parent&gt; is not applicable for the arguments\r\n&gt; (Comparator&lt; ChildA &gt;)","title":"How to combine parent comparator with child comparator","body":"<p>I have a parent class</p>\n<pre><code>@Data\npublic class Parent {\n\n    private String xx;\n\n    private int yy;\n\n}\n</code></pre>\n<p>and two child classes that extends the parent class</p>\n<pre><code>@Data\npublic class ChildA extends Parent {\n\n    private String aa;\n\n}\n\n\n@Data\npublic class ChildB extends Parent {\n\n    private String bb;\n\n}\n</code></pre>\n<p>P.S. for semplicity the fields of Parent and ChildA, ChildB are few, but there are many more.</p>\n<p>I have a common comparator:</p>\n<pre><code>Comparator&lt;Parent&gt; commonComparator = Comparator.comparing(Parent::getYy)\n                         .thenComparing(Parent::getXx);\n</code></pre>\n<p>and specific comparator for each child:</p>\n<pre><code>Comparator&lt;ChildA&gt; childAComparator = Comparator.comparing(ChildA::getAa);\n\nComparator&lt;ChildB&gt; childBComparator = Comparator.comparing(ChildB::getBb);\n</code></pre>\n<p>If I want to sort a List of ChildA, how can I combine the commonComparator with the childAComparator ?</p>\n<p>I tried :</p>\n<pre><code>commonComparator.thenComparing(childAComparator); \n</code></pre>\n<p>but I got an issue:</p>\n<blockquote>\n<p>The method thenComparing(Comparator&lt;? super Parent&gt;) in the type\nComparator is not applicable for the arguments\n(Comparator&lt; ChildA &gt;)</p>\n</blockquote>\n"},{"tags":["java","amazon-web-services","jenkins","aws-sdk","amazon-rds"],"answers":[{"tags":[],"owner":{"account_id":51636,"reputation":4812,"user_id":154325,"accept_rate":83,"display_name":"Niks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466419076,"creation_date":1466419076,"answer_id":37920373,"question_id":37919316,"body_markdown":"Seems like a region related issue - Is your RDS instance located in region `US-EAST-1`? (that&#39;s the default region of Amazon SDK)\r\n\r\nLog into Amazon web console and confirm the region. Set the correct region and try again.\r\n\r\nReference : [AWS Region Selection][1]\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSSdkDocsJava/latest/DeveloperGuide/java-dg-region-selection.html","title":"Why AWS RDS is showing exception - Status Code: 400; Error Code: InvalidParameterValue","body":"<p>Seems like a region related issue - Is your RDS instance located in region <code>US-EAST-1</code>? (that's the default region of Amazon SDK)</p>\n\n<p>Log into Amazon web console and confirm the region. Set the correct region and try again.</p>\n\n<p>Reference : <a href=\"http://docs.aws.amazon.com/AWSSdkDocsJava/latest/DeveloperGuide/java-dg-region-selection.html\" rel=\"nofollow\">AWS Region Selection</a></p>\n"},{"tags":[],"owner":{"account_id":170156,"reputation":23684,"user_id":396681,"accept_rate":77,"display_name":"simo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668068922,"creation_date":1668068922,"answer_id":74386073,"question_id":37919316,"body_markdown":"Although this is an old question, I am sharing an idea that might help someone..\r\n\r\nAs it seems the user is using a [Java AWS SDK client][1], he can use `describeDBInstances` on the \r\n\r\n```\r\nAmazonRDS amazonRDS = new AmazonRDSClient(credentials);\r\nDescribeDBInstancesResult describeDBInstancesResult = amazonRDS.describeDBInstances();\r\n```\r\n\r\nthen you can debug and look into the `describeDBInstancesResult` to make sure that DB is actually within the scope of current instantiated `amazonRDS` client.\r\n\r\nif its not there, it might be that he using not passing the right region into the client.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/rds/AmazonRDSClient.html","title":"Why AWS RDS is showing exception - Status Code: 400; Error Code: InvalidParameterValue","body":"<p>Although this is an old question, I am sharing an idea that might help someone..</p>\n<p>As it seems the user is using a <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/rds/AmazonRDSClient.html\" rel=\"nofollow noreferrer\">Java AWS SDK client</a>, he can use <code>describeDBInstances</code> on the</p>\n<pre><code>AmazonRDS amazonRDS = new AmazonRDSClient(credentials);\nDescribeDBInstancesResult describeDBInstancesResult = amazonRDS.describeDBInstances();\n</code></pre>\n<p>then you can debug and look into the <code>describeDBInstancesResult</code> to make sure that DB is actually within the scope of current instantiated <code>amazonRDS</code> client.</p>\n<p>if its not there, it might be that he using not passing the right region into the client.</p>\n"}],"owner":{"account_id":1414883,"reputation":4152,"user_id":1340736,"accept_rate":48,"display_name":"devsda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668068922,"creation_date":1466416049,"question_id":37919316,"body_markdown":"**&lt;Question updated-1&gt;**\r\n\r\nCode -\r\n\r\n\r\n    private static String getDBInstanceTag(AmazonRDS amazonRDS, String dbInstanceIdentifier, String region, String tagKey) {\r\n    \r\n            log.info(&quot;Trying to fetch dbInstanceIdentifier - &quot; + dbInstanceIdentifier + &quot; in db instance region - &quot; + region);\r\n            String arn = String.format(&quot;arn:aws:rds:&quot; + region + &quot;:%s:db:%s&quot;,\r\n                    SyncJobConstants.AWSProperties.AWS_ACCOUNT_NUMBER,\r\n                    dbInstanceIdentifier);\r\n            ListTagsForResourceResult tagsList = amazonRDS.listTagsForResource(\r\n                    new ListTagsForResourceRequest().withResourceName(arn));\r\n    \r\n            for(Tag tag : tagsList.getTagList()) {\r\n                if(tagKey.equalsIgnoreCase(tag.getKey())) {\r\n                    return tag.getValue();\r\n                }\r\n            }\r\n    \r\n            throw new InternalProcessingException(tagKey + &quot; is not present in given dbInstance - &quot; + tagsList);\r\n        }\r\n    \r\n        public static String getDBInstanceTag(String dbInstanceIdentifier, String tagKey) throws IOException {\r\n    \r\n            AWSCredentials credentials = new PropertiesCredentials(\r\n                    RedshiftUtil.class.getClassLoader().getResourceAsStream(&quot;AWSCredentials.properties&quot;));\r\n            AmazonRDS amazonRDS = new AmazonRDSClient(credentials);\r\n    \r\n            DBInstance dbInstance = new DBInstance();\r\n            dbInstance.setDBInstanceIdentifier(dbInstanceIdentifier);\r\n    \r\n            for(String region : SyncJobConstants.AWSProperties.RDS_REGIONS) {\r\n                try {\r\n                    return getDBInstanceTag(amazonRDS, dbInstanceIdentifier, region, tagKey);\r\n                } catch (DBInstanceNotFoundException e) {\r\n                    log.info(&quot;dbInstanceIdentifier - &quot; + dbInstanceIdentifier + &quot; is not present in db instance region - &quot; + region);\r\n                } catch (AmazonServiceException e) {\r\n                    if ( &quot;AccessDenied&quot;.equals(e.getErrorCode()) ) {\r\n                        log.info(&quot;dbInstanceIdentifier - &quot; + dbInstanceIdentifier + &quot; is not present in db instance region - &quot; + region);\r\n                    } else {\r\n                        throw new InternalProcessingException(&quot;Not able to fetch dbInstance details from RDS. DBInstanceId - &quot; + dbInstanceIdentifier, e);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            throw new InvalidRequestException(&quot;RDS endpoint details is not correct.&quot;);\r\n        }\r\n\r\nIt is throwing error for some of the calls even though db instances is there. Error detail -\r\n\r\n&lt;pre&gt;\r\nCaused by: com.amazonaws.AmazonServiceException: The specified resource name does not match an RDS resource in this region. (Service: AmazonRDS; Status Code: 400; Error Code: InvalidParameterValue; Request ID: b0e01d56-36ca-11e6-8441-1968d9061f57)\r\n\tat com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1182)\r\n\tat com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:770)\r\n\tat com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:489)\r\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:310)\r\n\tat com.amazonaws.services.rds.AmazonRDSClient.invoke(AmazonRDSClient.java:5197)\r\n\tat com.amazonaws.services.rds.AmazonRDSClient.listTagsForResource(AmazonRDSClient.java:1997)\r\n&lt;/pre&gt;\r\n\r\nCan you please tell me what I am missing here ?\r\n\r\n**Error meanings-**\r\n\r\nhttp://docs.aws.amazon.com/AWSEC2/latest/APIReference/errors-overview.html\r\n\r\n**Update 2**\r\n&lt;pre&gt;\r\npublic static final List&lt;String&gt; RDS_REGIONS = Arrays.asList(&quot;us-east-1&quot;,\r\n                &quot;us-west-1&quot;,\r\n                &quot;us-west-2&quot;,\r\n                &quot;eu-west-1&quot;,\r\n                &quot;eu-central-1&quot;,\r\n                &quot;ap-northeast-1&quot;,\r\n                &quot;ap-northeast-2&quot;,\r\n                &quot;ap-southeast-1&quot;,\r\n                &quot;ap-southeast-2&quot;,\r\n                &quot;sa-east-1&quot;);\r\n&lt;/pre&gt;\r\n","title":"Why AWS RDS is showing exception - Status Code: 400; Error Code: InvalidParameterValue","body":"<p><strong></strong></p>\n\n<p>Code -</p>\n\n<pre><code>private static String getDBInstanceTag(AmazonRDS amazonRDS, String dbInstanceIdentifier, String region, String tagKey) {\n\n        log.info(\"Trying to fetch dbInstanceIdentifier - \" + dbInstanceIdentifier + \" in db instance region - \" + region);\n        String arn = String.format(\"arn:aws:rds:\" + region + \":%s:db:%s\",\n                SyncJobConstants.AWSProperties.AWS_ACCOUNT_NUMBER,\n                dbInstanceIdentifier);\n        ListTagsForResourceResult tagsList = amazonRDS.listTagsForResource(\n                new ListTagsForResourceRequest().withResourceName(arn));\n\n        for(Tag tag : tagsList.getTagList()) {\n            if(tagKey.equalsIgnoreCase(tag.getKey())) {\n                return tag.getValue();\n            }\n        }\n\n        throw new InternalProcessingException(tagKey + \" is not present in given dbInstance - \" + tagsList);\n    }\n\n    public static String getDBInstanceTag(String dbInstanceIdentifier, String tagKey) throws IOException {\n\n        AWSCredentials credentials = new PropertiesCredentials(\n                RedshiftUtil.class.getClassLoader().getResourceAsStream(\"AWSCredentials.properties\"));\n        AmazonRDS amazonRDS = new AmazonRDSClient(credentials);\n\n        DBInstance dbInstance = new DBInstance();\n        dbInstance.setDBInstanceIdentifier(dbInstanceIdentifier);\n\n        for(String region : SyncJobConstants.AWSProperties.RDS_REGIONS) {\n            try {\n                return getDBInstanceTag(amazonRDS, dbInstanceIdentifier, region, tagKey);\n            } catch (DBInstanceNotFoundException e) {\n                log.info(\"dbInstanceIdentifier - \" + dbInstanceIdentifier + \" is not present in db instance region - \" + region);\n            } catch (AmazonServiceException e) {\n                if ( \"AccessDenied\".equals(e.getErrorCode()) ) {\n                    log.info(\"dbInstanceIdentifier - \" + dbInstanceIdentifier + \" is not present in db instance region - \" + region);\n                } else {\n                    throw new InternalProcessingException(\"Not able to fetch dbInstance details from RDS. DBInstanceId - \" + dbInstanceIdentifier, e);\n                }\n            }\n        }\n\n        throw new InvalidRequestException(\"RDS endpoint details is not correct.\");\n    }\n</code></pre>\n\n<p>It is throwing error for some of the calls even though db instances is there. Error detail -</p>\n\n<pre>\nCaused by: com.amazonaws.AmazonServiceException: The specified resource name does not match an RDS resource in this region. (Service: AmazonRDS; Status Code: 400; Error Code: InvalidParameterValue; Request ID: b0e01d56-36ca-11e6-8441-1968d9061f57)\n    at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1182)\n    at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:770)\n    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:489)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:310)\n    at com.amazonaws.services.rds.AmazonRDSClient.invoke(AmazonRDSClient.java:5197)\n    at com.amazonaws.services.rds.AmazonRDSClient.listTagsForResource(AmazonRDSClient.java:1997)\n</pre>\n\n<p>Can you please tell me what I am missing here ?</p>\n\n<p><strong>Error meanings-</strong></p>\n\n<p><a href=\"http://docs.aws.amazon.com/AWSEC2/latest/APIReference/errors-overview.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AWSEC2/latest/APIReference/errors-overview.html</a></p>\n\n<p><strong>Update 2</strong></p>\n\n<pre>\npublic static final List RDS_REGIONS = Arrays.asList(\"us-east-1\",\n                \"us-west-1\",\n                \"us-west-2\",\n                \"eu-west-1\",\n                \"eu-central-1\",\n                \"ap-northeast-1\",\n                \"ap-northeast-2\",\n                \"ap-southeast-1\",\n                \"ap-southeast-2\",\n                \"sa-east-1\");\n</pre>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1668118812,"post_id":74386039,"comment_id":131335368,"body_markdown":"&quot;Not executed correctly without exception&quot; does not make sense. And `openSession()` does not return `null`.  You are editing a different file, maybe? :D","body":"&quot;Not executed correctly without exception&quot; does not make sense. And <code>openSession()</code> does not return <code>null</code>.  You are editing a different file, maybe? :D"},{"owner":{"account_id":10430437,"reputation":33,"user_id":7755631,"display_name":"godcrying"},"score":0,"creation_date":1668130300,"post_id":74386039,"comment_id":131337447,"body_markdown":"@ave Sorry for my weak English. &quot;Not executed correctly without exception&quot;  is the past comment, I don&#39;t know why you can still see it. Last night I debuged my code, I steped into the `builder.build()` method, and found the code failed at creating `XMLConfigBuilder`, and then I just created the `XMLConfigBuilder` by myself, finally I catched the exception successfully and I got the solution. The solution is to add the `requires java.sql;` to the `module-info.java`.  : )","body":"@ave Sorry for my weak English. &quot;Not executed correctly without exception&quot;  is the past comment, I don&#39;t know why you can still see it. Last night I debuged my code, I steped into the <code>builder.build()</code> method, and found the code failed at creating <code>XMLConfigBuilder</code>, and then I just created the <code>XMLConfigBuilder</code> by myself, finally I catched the exception successfully and I got the solution. The solution is to add the <code>requires java.sql;</code> to the <code>module-info.java</code>.  : )"},{"owner":{"account_id":10430437,"reputation":33,"user_id":7755631,"display_name":"godcrying"},"score":0,"creation_date":1668132531,"post_id":74386039,"comment_id":131337789,"body_markdown":"@ave &quot;Not executed correctly without exception&quot; means the statement can&#39;t be executed successfully, and there is no exception catched. It just skips the `openSession()` line and the `catch(){...}` codes, thus the session is not initialized and the value is null.","body":"@ave &quot;Not executed correctly without exception&quot; means the statement can&#39;t be executed successfully, and there is no exception catched. It just skips the <code>openSession()</code> line and the <code>catch(){...}</code> codes, thus the session is not initialized and the value is null."},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1668140254,"post_id":74386039,"comment_id":131338674,"body_markdown":"I still see that statement in the code comment &#128578; Anyway, I&#39;m happy to know the issue has been resolved.","body":"I still see that statement in the code comment  Anyway, I&#39;m happy to know the issue has been resolved."}],"owner":{"account_id":10430437,"reputation":33,"user_id":7755631,"display_name":"godcrying"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668068714,"creation_date":1668068714,"question_id":74386039,"body_markdown":"I have a demo project which worked perfect if not using &quot;module-info.java&quot;\r\n\r\nthe directory struct is as follow (using IDEA):\r\n\r\n```\r\nsrc\r\n|-\\main\r\n|    |-\\java\r\n|    |    |-\\org.example\r\n|    |    |    |-\\dao\r\n|    |    |    |    ...\r\n|    |    |    |-\\model\r\n|    |    |    |    ...\r\n|    |    |    |-Main.java\r\n|    |    |-module-info.java\r\n|    |    \r\n|    |-\\resources \r\n|    |    |-\\org.example\r\n|    |    |    |-\\dao\r\n|    |    |    |   |-Mapper.xml \r\n|    |    |-mybatis-config.xml\r\n```\r\n\r\nThe `module-info.java` file is:\r\n```java\r\nmodule org.example {\r\n    requires org.xerial.sqlitejdbc;\r\n    requires org.mybatis;\r\n\r\n    opens org.example.dao;\r\n    exports org.example;\r\n}\r\n```\r\n\r\nIn the `mybatis-config.xml` file, the mapper is used as:\r\n```xml\r\n&lt;mappers&gt;\r\n   &lt;mapper resource=&quot;org/example/dao/Mapper.xml&quot;/&gt;\r\n&lt;/mappers&gt;\r\n```\r\n\r\nWhen I delete the `module-info.java` file, everything is okay. But when I added the `module-info.java` file, the `Sqlsessionfactory` can&#39;t be built. The following is the code:\r\n\r\n```java\r\ntry{\r\n    String RESOURCE = &quot;mybatis-config.xml&quot;;\r\n    Reader reader = Resources.getResourceAsReader(RESOURCE);\r\n    SqlSessionFactoryBuilder builder = new SqlSessionFactoryBuilder();\r\n    SqlSessionFactory factory = builder.build(reader); // This statement won&#39;t be executed correctly, and there is no exception throwed, or maybe there is but I can&#39;t catch it, I don&#39;t know why.\r\n    SqlSession session = factory.openSession(); // the session is null\r\n}catch(Exception e){\r\n    e.printStackTrace() // the exception can&#39;t be catched.\r\n}\r\n```\r\n\r\nAll the exception I got is just a `NullPointerException` which is caused by the null value of the sqlsession.\r\n\r\nSo, what&#39;s wrong about my project with &quot;module-info.java&quot; file?","title":"Mybatis can&#39;t work when using &quot;module-info.java&quot;","body":"<p>I have a demo project which worked perfect if not using &quot;module-info.java&quot;</p>\n<p>the directory struct is as follow (using IDEA):</p>\n<pre><code>src\n|-\\main\n|    |-\\java\n|    |    |-\\org.example\n|    |    |    |-\\dao\n|    |    |    |    ...\n|    |    |    |-\\model\n|    |    |    |    ...\n|    |    |    |-Main.java\n|    |    |-module-info.java\n|    |    \n|    |-\\resources \n|    |    |-\\org.example\n|    |    |    |-\\dao\n|    |    |    |   |-Mapper.xml \n|    |    |-mybatis-config.xml\n</code></pre>\n<p>The <code>module-info.java</code> file is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module org.example {\n    requires org.xerial.sqlitejdbc;\n    requires org.mybatis;\n\n    opens org.example.dao;\n    exports org.example;\n}\n</code></pre>\n<p>In the <code>mybatis-config.xml</code> file, the mapper is used as:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mappers&gt;\n   &lt;mapper resource=&quot;org/example/dao/Mapper.xml&quot;/&gt;\n&lt;/mappers&gt;\n</code></pre>\n<p>When I delete the <code>module-info.java</code> file, everything is okay. But when I added the <code>module-info.java</code> file, the <code>Sqlsessionfactory</code> can't be built. The following is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try{\n    String RESOURCE = &quot;mybatis-config.xml&quot;;\n    Reader reader = Resources.getResourceAsReader(RESOURCE);\n    SqlSessionFactoryBuilder builder = new SqlSessionFactoryBuilder();\n    SqlSessionFactory factory = builder.build(reader); // This statement won't be executed correctly, and there is no exception throwed, or maybe there is but I can't catch it, I don't know why.\n    SqlSession session = factory.openSession(); // the session is null\n}catch(Exception e){\n    e.printStackTrace() // the exception can't be catched.\n}\n</code></pre>\n<p>All the exception I got is just a <code>NullPointerException</code> which is caused by the null value of the sqlsession.</p>\n<p>So, what's wrong about my project with &quot;module-info.java&quot; file?</p>\n"},{"tags":["java","jira","jira-rest-api","timeoutexception","socket-timeout-exception"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1668068213,"post_id":74385858,"comment_id":131318530,"body_markdown":"You need to try to increase the timeout of the socker connection.","body":"You need to try to increase the timeout of the socker connection."},{"owner":{"account_id":16476340,"reputation":43,"user_id":11904210,"display_name":"Preethi H R "},"score":0,"creation_date":1668069842,"post_id":74385858,"comment_id":131319096,"body_markdown":"Hi, current timeout is set to 5min. I have also tried with 10 minutes but still it is failing.","body":"Hi, current timeout is set to 5min. I have also tried with 10 minutes but still it is failing."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1668069903,"post_id":74385858,"comment_id":131319120,"body_markdown":"Then in this case, it might be the server killing the connection.  I suggest you use pagination if available","body":"Then in this case, it might be the server killing the connection.  I suggest you use pagination if available"}],"owner":{"account_id":16476340,"reputation":43,"user_id":11904210,"display_name":"Preethi H R "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668068581,"creation_date":1668067630,"question_id":74385858,"body_markdown":"I am making following Jira Issue Search Rest API call to fetch all the issues in a project having 1 or more issuelinks from my Jira instance and I am using pagination for collecting all issues from a project using startAt index query Param\r\n\r\n**{Jira_Instance_URL}/rest/api/2/search?jql=project={ProjectKey} AND issueFunction in hasLinks()&amp;fields=issuelinks&amp;startAt=0&amp;maxResults=-1**\r\n\r\nMy Jira instance is having huge number of issues. When I am getting into a project &quot;XYZ&quot;. It is having around 30,000 issues and I am looping over after getting 1000 issues at a time.\r\n\r\n**The Jira Issue Search Rest API is giving following exception after lopping over around 20,000 issues:**\r\n\r\n2022-11-10 13:23:41 [http-nio-8081-exec-1] ERROR JiraIFAppender - Error occured while fetching issues keys and issuelink ids for XYZ due to I/O error on GET request for &quot;https://localhost:8080/rest/api/2/search&quot;: Read timed out; nested exception is java.net.SocketTimeoutException: Read timed out\r\n\r\nBecause of which I am not able to fetch all the issues in that particular project.\r\n\r\nCan anyone please guide on how to resolve the above exception.\r\n\r\n\r\nThanks &amp; Regards,\r\n\r\nPreethi H R","title":"Getting java.net.SocketTimeoutException: Read timed out when making Jira Server Search Rest API call","body":"<p>I am making following Jira Issue Search Rest API call to fetch all the issues in a project having 1 or more issuelinks from my Jira instance and I am using pagination for collecting all issues from a project using startAt index query Param</p>\n<p><strong>{Jira_Instance_URL}/rest/api/2/search?jql=project={ProjectKey} AND issueFunction in hasLinks()&amp;fields=issuelinks&amp;startAt=0&amp;maxResults=-1</strong></p>\n<p>My Jira instance is having huge number of issues. When I am getting into a project &quot;XYZ&quot;. It is having around 30,000 issues and I am looping over after getting 1000 issues at a time.</p>\n<p><strong>The Jira Issue Search Rest API is giving following exception after lopping over around 20,000 issues:</strong></p>\n<p>2022-11-10 13:23:41 [http-nio-8081-exec-1] ERROR JiraIFAppender - Error occured while fetching issues keys and issuelink ids for XYZ due to I/O error on GET request for &quot;https://localhost:8080/rest/api/2/search&quot;: Read timed out; nested exception is java.net.SocketTimeoutException: Read timed out</p>\n<p>Because of which I am not able to fetch all the issues in that particular project.</p>\n<p>Can anyone please guide on how to resolve the above exception.</p>\n<p>Thanks &amp; Regards,</p>\n<p>Preethi H R</p>\n"},{"tags":["java","mockito","executor"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1667594640,"post_id":74322686,"comment_id":131212009,"body_markdown":"I don&#39;t think the problem comes from the fact that `handleMessage` is executed in another thread. I suspect one of: 1. You verify before the method had a chance to execute. 2. System under test does not use your mock. 3. message does not implement equals.","body":"I don&#39;t think the problem comes from the fact that <code>handleMessage</code> is executed in another thread. I suspect one of: 1. You verify before the method had a chance to execute. 2. System under test does not use your mock. 3. message does not implement equals."},{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1667596113,"post_id":74322686,"comment_id":131212375,"body_markdown":"One option might be to mock out the executor, and have the test version of the executor just execute the lambda it is given on the same thread rather than on a different thread.","body":"One option might be to mock out the executor, and have the test version of the executor just execute the lambda it is given on the same thread rather than on a different thread."},{"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"score":0,"creation_date":1667652824,"post_id":74322686,"comment_id":131220123,"body_markdown":"@Lesiak lets exclude the version 3, because the error says &quot;there was 0 interaction with this mock&quot;","body":"@Lesiak lets exclude the version 3, because the error says &quot;there was 0 interaction with this mock&quot;"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1667653500,"post_id":74322686,"comment_id":131220244,"body_markdown":"Ok, then try to exclude 2: add a breakpoint on the line when you execute desired method in prod code and on verify in test code. Inspect message handler - is it the same instance?","body":"Ok, then try to exclude 2: add a breakpoint on the line when you execute desired method in prod code and on verify in test code. Inspect message handler - is it the same instance?"}],"answers":[{"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668068528,"creation_date":1668068161,"answer_id":74385948,"question_id":74322686,"body_markdown":"The problem is probably that your mock has not yet been called by the other thread when you verify. If you can create the executor in your test a an executor that executes the submitted task in the caller thread, and the problem is most likely solved. In the guava lib there is such an executor, that can be instantiated with MoreExecutors.directExecutor(), https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/util/concurrent/MoreExecutors.html#directExecutor()\r\n\r\nAnother approach is to _wait_ for the verification to succeed. That can easily be achieved with the awaitility framework (http://www.awaitility.org). A good introduction can be found here: https://www.baeldung.com/awaitility-testing","title":"With Mockito Trying to verify of a method call, inside which Executor.execute method is called","body":"<p>The problem is probably that your mock has not yet been called by the other thread when you verify. If you can create the executor in your test a an executor that executes the submitted task in the caller thread, and the problem is most likely solved. In the guava lib there is such an executor, that can be instantiated with MoreExecutors.directExecutor(), <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/util/concurrent/MoreExecutors.html#directExecutor()\" rel=\"nofollow noreferrer\">https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/util/concurrent/MoreExecutors.html#directExecutor()</a></p>\n<p>Another approach is to <em>wait</em> for the verification to succeed. That can easily be achieved with the awaitility framework (<a href=\"http://www.awaitility.org\" rel=\"nofollow noreferrer\">http://www.awaitility.org</a>). A good introduction can be found here: <a href=\"https://www.baeldung.com/awaitility-testing\" rel=\"nofollow noreferrer\">https://www.baeldung.com/awaitility-testing</a></p>\n"}],"owner":{"account_id":9179794,"reputation":408,"user_id":6824092,"accept_rate":64,"display_name":"Hayk  Mkhitaryan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668068528,"creation_date":1667594044,"question_id":74322686,"body_markdown":"this is the method call which should be verified, whether is called.\r\n\r\n   \r\n\r\n     Mockito.verify(messageHandler).handleMessage(message);\r\n\r\n\r\nand this method is called inside prepareContext() method, which is called by executor.\r\n\r\n    executor.execute(() -&gt; prepareContext())\r\n\r\nAnd when I try to verify, I get an error, by saying, \r\n\r\n    wanted, but not invoked:\r\n      messageHandler.handleMessage(message);\r\n\r\nActually I understand the reason why it&#39;s not being verified, because the verifier thread is not calling the handleMessage method, but instead it is called by another thread in reality.\r\nSo please, any suggestion of what should be done here, to be able to test this functionality.","title":"With Mockito Trying to verify of a method call, inside which Executor.execute method is called","body":"<p>this is the method call which should be verified, whether is called.</p>\n<pre><code> Mockito.verify(messageHandler).handleMessage(message);\n</code></pre>\n<p>and this method is called inside prepareContext() method, which is called by executor.</p>\n<pre><code>executor.execute(() -&gt; prepareContext())\n</code></pre>\n<p>And when I try to verify, I get an error, by saying,</p>\n<pre><code>wanted, but not invoked:\n  messageHandler.handleMessage(message);\n</code></pre>\n<p>Actually I understand the reason why it's not being verified, because the verifier thread is not calling the handleMessage method, but instead it is called by another thread in reality.\nSo please, any suggestion of what should be done here, to be able to test this functionality.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1668067845,"post_id":74385827,"comment_id":131318425,"body_markdown":"Can you share an input/output example please?","body":"Can you share an input/output example please?"},{"owner":{"account_id":6231480,"reputation":43,"user_id":4848126,"display_name":"Nataliikaa PetroOwwa"},"score":0,"creation_date":1668068187,"post_id":74385827,"comment_id":131318519,"body_markdown":"@Thomas thank you very much, your solution worked perfectly, I did have generic type inference issues and this helped","body":"@Thomas thank you very much, your solution worked perfectly, I did have generic type inference issues and this helped"},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1668068504,"post_id":74385827,"comment_id":131318626,"body_markdown":"See [Java sort with independent reversed - Stack Overflow](https://stackoverflow.com/questions/74371446/java-sort-with-independent-reversed/74372085#74372085)","body":"See <a href=\"https://stackoverflow.com/questions/74371446/java-sort-with-independent-reversed/74372085#74372085\">Java sort with independent reversed - Stack Overflow</a>"}],"answers":[{"comments":[{"owner":{"account_id":6231480,"reputation":43,"user_id":4848126,"display_name":"Nataliikaa PetroOwwa"},"score":0,"creation_date":1668068589,"post_id":74385946,"comment_id":131318655,"body_markdown":"Worked great, I knew about the second option but the first suggestion seems much better option, just didn&#39;t know how to properly set it up","body":"Worked great, I knew about the second option but the first suggestion seems much better option, just didn&#39;t know how to properly set it up"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1668068928,"post_id":74385946,"comment_id":131318787,"body_markdown":"@NataliikaaPetroOwwa great it worked :). Tbh, I actually like the second option better as it&#39;s more readable :D","body":"@NataliikaaPetroOwwa great it worked :). Tbh, I actually like the second option better as it&#39;s more readable :D"}],"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668068138,"creation_date":1668068138,"answer_id":74385946,"question_id":74385827,"body_markdown":"You&#39;re already on the right track but probably just face issues with the generic type inference. If you help the compiler a little it should work, e.g. try this: \r\n\r\n    ...sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed()\r\n                .thenComparing(Map.Entry.comparingByKey()))\r\n\r\nAlternatively create the comparators first, then combine them:\r\n\r\n    Comparator&lt;Entry&lt;String, Integer&gt;&gt; valueComparator = Map.Entry.comparingByValue();\r\n\tComparator&lt;Entry&lt;String, Integer&gt;&gt; keyComparator = Map.Entry.comparingByKey();\r\n\r\n    ...sorted(valueComparator.reversed().thenComparing(keyComparator))","title":"Java sort Map by Value descending and then by Key ascending","body":"<p>You're already on the right track but probably just face issues with the generic type inference. If you help the compiler a little it should work, e.g. try this:</p>\n<pre><code>...sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed()\n            .thenComparing(Map.Entry.comparingByKey()))\n</code></pre>\n<p>Alternatively create the comparators first, then combine them:</p>\n<pre><code>Comparator&lt;Entry&lt;String, Integer&gt;&gt; valueComparator = Map.Entry.comparingByValue();\nComparator&lt;Entry&lt;String, Integer&gt;&gt; keyComparator = Map.Entry.comparingByKey();\n\n...sorted(valueComparator.reversed().thenComparing(keyComparator))\n</code></pre>\n"}],"owner":{"account_id":6231480,"reputation":43,"user_id":4848126,"display_name":"Nataliikaa PetroOwwa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668068157,"accepted_answer_id":74385946,"answer_count":1,"score":0,"last_activity_date":1668068499,"creation_date":1668067407,"question_id":74385827,"body_markdown":"I have a `LinkedHashMap&lt;String, Integer&gt;` that I need to order first by the Value descending, and then by the Key ascending. I don&#39;t know how to make the second condition work - I tried `.thenComparing` and everything I managed to see as a suggestion on the Internet but with no success. \r\n\r\n    playersSkillsPoints.get(user).entrySet().stream()\r\n            .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\r\n            .forEach(e -&gt; {System.out.printf(&quot;- %s &lt;::&gt; %d%n&quot;, e.getKey(), e.getValue());\r\n\r\nI tried:\r\n\r\n    .sorted(Map.Entry.comparingByValue().reversed().thenComparing(Map.Entry.comparingByKey()))\r\n\r\nbut got:\r\n\r\n    Cannot resolve method &#39;thenComparing(Comparator&lt;Entry&lt;K, V&gt;&gt;)&#39;\r\n\r\n\r\nAny suggestions would be appreciated!","title":"Java sort Map by Value descending and then by Key ascending","body":"<p>I have a <code>LinkedHashMap&lt;String, Integer&gt;</code> that I need to order first by the Value descending, and then by the Key ascending. I don't know how to make the second condition work - I tried <code>.thenComparing</code> and everything I managed to see as a suggestion on the Internet but with no success.</p>\n<pre><code>playersSkillsPoints.get(user).entrySet().stream()\n        .sorted(Map.Entry.comparingByValue(Comparator.reverseOrder()))\n        .forEach(e -&gt; {System.out.printf(&quot;- %s &lt;::&gt; %d%n&quot;, e.getKey(), e.getValue());\n</code></pre>\n<p>I tried:</p>\n<pre><code>.sorted(Map.Entry.comparingByValue().reversed().thenComparing(Map.Entry.comparingByKey()))\n</code></pre>\n<p>but got:</p>\n<pre><code>Cannot resolve method 'thenComparing(Comparator&lt;Entry&lt;K, V&gt;&gt;)'\n</code></pre>\n<p>Any suggestions would be appreciated!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1668068567,"post_id":74385996,"comment_id":131318650,"body_markdown":"Just copy it to a new queue","body":"Just copy it to a new queue"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1668069274,"post_id":74385996,"comment_id":131318908,"body_markdown":"The queue will already have been sorted so if you&#39;d change the comparator you&#39;d it up. As shmosel suggested you might want to create a new queue and copy the old one&#39;s contents.","body":"The queue will already have been sorted so if you&#39;d change the comparator you&#39;d it up. As shmosel suggested you might want to create a new queue and copy the old one&#39;s contents."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668074002,"post_id":74385996,"comment_id":131320506,"body_markdown":"No, there is no way you can modify the comparator after creating the queue. At least only a hack that, as Thomas said, will create havoc in your program. You dont want that. Do what shmosel said.","body":"No, there is no way you can modify the comparator after creating the queue. At least only a hack that, as Thomas said, will create havoc in your program. You dont want that. Do what shmosel said."},{"owner":{"account_id":25481823,"reputation":21,"user_id":19278017,"display_name":"Rahome"},"score":0,"creation_date":1668086888,"post_id":74385996,"comment_id":131324887,"body_markdown":"Just a rough thought, can we build a customized class that implements Comparator interface?  Thus we can put those dynamic logic into compare() method.","body":"Just a rough thought, can we build a customized class that implements Comparator interface?  Thus we can put those dynamic logic into compare() method."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668087414,"post_id":74385996,"comment_id":131325069,"body_markdown":"You can, and it will be sure to f\\*ck up. You dont want that. The queue will not sort the elements again when the behaviour of the `compare` method changes dynamically. So you wont know what you get, and the queue may even throw exceptions when the `compare` method doesnt behave consistently. (If you really insist, you can take out all the elements, change the sorting behaviour and fill the elements back in. It *may* work, no guarantees. And I will certainly consider it a hack.)","body":"You can, and it will be sure to f*ck up. You dont want that. The queue will not sort the elements again when the behaviour of the <code>compare</code> method changes dynamically. So you wont know what you get, and the queue may even throw exceptions when the <code>compare</code> method doesnt behave consistently. (If you really insist, you can take out all the elements, change the sorting behaviour and fill the elements back in. It <i>may</i> work, no guarantees. And I will certainly consider it a hack.)"},{"owner":{"account_id":25481823,"reputation":21,"user_id":19278017,"display_name":"Rahome"},"score":0,"creation_date":1668352560,"post_id":74385996,"comment_id":131379222,"body_markdown":"Indeed, I&#39;ve done quite a lot of searching from internet, there are some of post saying &quot;not suggest to change comparator on-the-fly&quot;. However, after I wrote some test codes to verify, I found &quot;having dynamic code in compare() method&quot; seem working fine. So, I really curious is what kind of certain situation will not work?","body":"Indeed, I&#39;ve done quite a lot of searching from internet, there are some of post saying &quot;not suggest to change comparator on-the-fly&quot;. However, after I wrote some test codes to verify, I found &quot;having dynamic code in compare() method&quot; seem working fine. So, I really curious is what kind of certain situation will not work?"}],"owner":{"account_id":25481823,"reputation":21,"user_id":19278017,"display_name":"Rahome"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668068468,"creation_date":1668068468,"question_id":74385996,"body_markdown":"I am using java PriorityBlockingQueue for queuing processing items. In my code, I will build a Comparator instance (with some predefined criteria), then pass it as a parameter when constructing PriorityBlockingQueue.  \r\n\r\n    new PriorityBlockingQueue(10000, Comparator.comparing(...))\r\n\r\nNow, a requirement is that the system maintainer would need to update sorting criteria on-the-fly for the PriorityBlockingQueue. (e.g by calling a exposed REST API or modify specific config), such that those processing items could be sorted by the latest criteria.\r\n\r\nMy question is that, is there anyway to modify the &quot;Comparator&quot; within a PriorityBlockingQueue? ","title":"Dynamically update &quot;Comparator&quot; on-the-fly for Java PriorityBlockingQueue","body":"<p>I am using java PriorityBlockingQueue for queuing processing items. In my code, I will build a Comparator instance (with some predefined criteria), then pass it as a parameter when constructing PriorityBlockingQueue.</p>\n<pre><code>new PriorityBlockingQueue(10000, Comparator.comparing(...))\n</code></pre>\n<p>Now, a requirement is that the system maintainer would need to update sorting criteria on-the-fly for the PriorityBlockingQueue. (e.g by calling a exposed REST API or modify specific config), such that those processing items could be sorted by the latest criteria.</p>\n<p>My question is that, is there anyway to modify the &quot;Comparator&quot; within a PriorityBlockingQueue?</p>\n"},{"tags":["java","jooq"],"answers":[{"comments":[{"owner":{"account_id":3486623,"reputation":547,"user_id":2917389,"display_name":"jlar310"},"score":0,"creation_date":1668352220,"post_id":74385964,"comment_id":131379132,"body_markdown":"Implementation of a Binding interface was not entirely self evident, but I muddled through and it seems to be working. Thanks.","body":"Implementation of a Binding interface was not entirely self evident, but I muddled through and it seems to be working. Thanks."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1668352546,"post_id":74385964,"comment_id":131379218,"body_markdown":"@jlar310: What parts did you struggle with, when you meant &quot;not entirely self evident&quot;?","body":"@jlar310: What parts did you struggle with, when you meant &quot;not entirely self evident&quot;?"},{"owner":{"account_id":3486623,"reputation":547,"user_id":2917389,"display_name":"jlar310"},"score":0,"creation_date":1668443222,"post_id":74385964,"comment_id":131400465,"body_markdown":"The Binding interface gets into internals of jOOQ I had not had seen before. Not sure what the INLINED case is all about or when I would run into that, so I left it out. I did look at your set of default binding classes and was able to create a na&#239;ve implementation which likely does not cover all the cases, but for now it&#39;s passing my integration tests. I think a more basic SQL data type conversion example might be more illustrative for new users vs the very specific Postgres JSON example.","body":"The Binding interface gets into internals of jOOQ I had not had seen before. Not sure what the INLINED case is all about or when I would run into that, so I left it out. I did look at your set of default binding classes and was able to create a na&#239;ve implementation which likely does not cover all the cases, but for now it&#39;s passing my integration tests. I think a more basic SQL data type conversion example might be more illustrative for new users vs the very specific Postgres JSON example."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668068228,"creation_date":1668068228,"answer_id":74385964,"question_id":74379193,"body_markdown":"The reason for this behaviour is that even if you&#39;re using an `Instant` as your user representation of the data type, jOOQ behind the scenes, remembers that it&#39;s a `LocalDateTime`. So, your `Converter&lt;T, U&gt;` implementation binding to `Converter&lt;LocalDateTime, Instant&gt;` (or similar) only affects what your Java code can see.\r\n\r\nIf you want to influence also the generated SQL, you&#39;ll have to use a [data type binding][1], instead, which allows you to influence how the bind variable is generated (and whether a `CAST` is even necessary).\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-binding/","title":"jOOQ Query Critera and forcedType converters","body":"<p>The reason for this behaviour is that even if you're using an <code>Instant</code> as your user representation of the data type, jOOQ behind the scenes, remembers that it's a <code>LocalDateTime</code>. So, your <code>Converter&lt;T, U&gt;</code> implementation binding to <code>Converter&lt;LocalDateTime, Instant&gt;</code> (or similar) only affects what your Java code can see.</p>\n<p>If you want to influence also the generated SQL, you'll have to use a <a href=\"https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-binding/\" rel=\"nofollow noreferrer\">data type binding</a>, instead, which allows you to influence how the bind variable is generated (and whether a <code>CAST</code> is even necessary).</p>\n"}],"owner":{"account_id":3486623,"reputation":547,"user_id":2917389,"display_name":"jlar310"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74385964,"answer_count":1,"score":2,"last_activity_date":1668068228,"creation_date":1668015768,"question_id":74379193,"body_markdown":"Our Informix database stores DATETIME types as local-time, but as we build new code with jOOQ, we are mapping these local-times to UTC timestamps with java.time.Instant. \r\n\r\nWe have multiple operations across several time zones. Each operation has it&#39;s own local database and saved timestamps have always been local-time for that operation. So our jOOQ forcedType for DATETIME columns has a custom converter that knows the time-zone for each individual backend database and converts to the correct UTC timestamp. This all works great for read/write operations on DATETIME types.\r\n\r\nHowever, when we want to apply query criteria to these converted columns, things get more complicated. For example:\r\n\r\n    jooq.select(TICKET.ID)\r\n        .from(TICKET)\r\n        .where(TICKET.DROPTIME.between(x, y))\r\n\r\nHere jOOQ wants x and y to be of type java.time.Instant because that is the type of TICKET.DROPTIME. However, I have to be very careful about my values for x and y because actual comparison in the generated SQL is done with local times.\r\n\r\nExample jOOQ generated code:\r\n\r\n    WHERE(ticket.droptime BETWEEN cast(? AS DATETIME YEAR TO SECOND) AND cast(? AS DATETIME YEAR TO SECOND))\r\n\r\nSo here, ticket.droptime is local time even though the jOOQ between function demands Instant arguments. But if I drop in Instant.now() for x or y, then my query is totally dependent on the time zone in which the code is running.\r\n\r\nThe best workaround I can think of is to manually compute an Instant that is offset by the difference between the database time zone and the system time zone of the running code to get query criteria (x and y) as Instant values that will map to the desired local time.\r\n \r\n    Instant now = Instant.now();\r\n    Instant x = ZonedDateTime.ofInstant(now.minus(6, ChronoUnit.HOURS), zoneIdOfLocalDatabase)\r\n        .toLocalDateTime().atZone(ZoneId.systemDefault()).toInstant();\r\n    Instant y = ZonedDateTime.ofInstant(now.minus(10, ChronoUnit.MINUTES), zoneIdOfLocalDatabase)\r\n        .toLocalDateTime().atZone(ZoneId.systemDefault()).toInstant();\r\n\r\n\r\n    jooq.select(TICKET.ID)\r\n        .from(TICKET)\r\n        .where(TICKET.DROPTIME.between(x, y)\r\n\r\nThis should work, but it would be a *very* easy for a developer to miss this step. \r\n\r\nAnother option is plain SQL:\r\n\r\n    jooq.select(TICKET.ID)\r\n        .from(TICKET)\r\n        .where(&quot;ticket.droptime between CURRENT - 6 UNITS HOUR AND CURRENT - 10 UNITS MINUTE&quot;)\r\n  \r\nBut the whole goal of jOOQ is to avoid raw SQL strings and we are actually planning to migrate to a different database backend some day and don&#39;t want to have to hunt these down.\r\n\r\nGetting to my question: Is there a more automatic way to query forcedTypes here? Or do I have to manually do zone offset conversion on Instant values to get the proper local timestamp for the query criteria?\r\n\r\nWould it even be possible for jOOQ to detect forcedTypes in the where clause and automatically convert the parameters?\r\n\r\n\r\n\r\n\r\n\r\n","title":"jOOQ Query Critera and forcedType converters","body":"<p>Our Informix database stores DATETIME types as local-time, but as we build new code with jOOQ, we are mapping these local-times to UTC timestamps with java.time.Instant.</p>\n<p>We have multiple operations across several time zones. Each operation has it's own local database and saved timestamps have always been local-time for that operation. So our jOOQ forcedType for DATETIME columns has a custom converter that knows the time-zone for each individual backend database and converts to the correct UTC timestamp. This all works great for read/write operations on DATETIME types.</p>\n<p>However, when we want to apply query criteria to these converted columns, things get more complicated. For example:</p>\n<pre><code>jooq.select(TICKET.ID)\n    .from(TICKET)\n    .where(TICKET.DROPTIME.between(x, y))\n</code></pre>\n<p>Here jOOQ wants x and y to be of type java.time.Instant because that is the type of TICKET.DROPTIME. However, I have to be very careful about my values for x and y because actual comparison in the generated SQL is done with local times.</p>\n<p>Example jOOQ generated code:</p>\n<pre><code>WHERE(ticket.droptime BETWEEN cast(? AS DATETIME YEAR TO SECOND) AND cast(? AS DATETIME YEAR TO SECOND))\n</code></pre>\n<p>So here, ticket.droptime is local time even though the jOOQ between function demands Instant arguments. But if I drop in Instant.now() for x or y, then my query is totally dependent on the time zone in which the code is running.</p>\n<p>The best workaround I can think of is to manually compute an Instant that is offset by the difference between the database time zone and the system time zone of the running code to get query criteria (x and y) as Instant values that will map to the desired local time.</p>\n<pre><code>Instant now = Instant.now();\nInstant x = ZonedDateTime.ofInstant(now.minus(6, ChronoUnit.HOURS), zoneIdOfLocalDatabase)\n    .toLocalDateTime().atZone(ZoneId.systemDefault()).toInstant();\nInstant y = ZonedDateTime.ofInstant(now.minus(10, ChronoUnit.MINUTES), zoneIdOfLocalDatabase)\n    .toLocalDateTime().atZone(ZoneId.systemDefault()).toInstant();\n\n\njooq.select(TICKET.ID)\n    .from(TICKET)\n    .where(TICKET.DROPTIME.between(x, y)\n</code></pre>\n<p>This should work, but it would be a <em>very</em> easy for a developer to miss this step.</p>\n<p>Another option is plain SQL:</p>\n<pre><code>jooq.select(TICKET.ID)\n    .from(TICKET)\n    .where(&quot;ticket.droptime between CURRENT - 6 UNITS HOUR AND CURRENT - 10 UNITS MINUTE&quot;)\n</code></pre>\n<p>But the whole goal of jOOQ is to avoid raw SQL strings and we are actually planning to migrate to a different database backend some day and don't want to have to hunt these down.</p>\n<p>Getting to my question: Is there a more automatic way to query forcedTypes here? Or do I have to manually do zone offset conversion on Instant values to get the proper local timestamp for the query criteria?</p>\n<p>Would it even be possible for jOOQ to detect forcedTypes in the where clause and automatically convert the parameters?</p>\n"},{"tags":["java","android","firebase","kotlin","crashlytics"],"comments":[{"owner":{"account_id":9021269,"reputation":190,"user_id":6722284,"display_name":"Valery Boretsky"},"score":0,"creation_date":1668062213,"post_id":74384894,"comment_id":131316982,"body_markdown":"Do you have define of file provider in manifest? \nhttps://developer.android.com/reference/androidx/core/content/FileProvider","body":"Do you have define of file provider in manifest?  <a href=\"https://developer.android.com/reference/androidx/core/content/FileProvider\" rel=\"nofollow noreferrer\">developer.android.com/reference/androidx/core/content/&hellip;</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1668065480,"post_id":74384894,"comment_id":131317748,"body_markdown":"Can you first tell what that function should do? Can you then tell the value of the pdfFileNames parameter with which you call that function? We wanna see how many and which names you put in it.","body":"Can you first tell what that function should do? Can you then tell the value of the pdfFileNames parameter with which you call that function? We wanna see how many and which names you put in it."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668067024,"post_id":74384894,"comment_id":131318191,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":20052019,"reputation":322,"user_id":14700525,"display_name":"Laksh Lathiya"},"score":0,"creation_date":1668067926,"post_id":74384894,"comment_id":131318450,"body_markdown":"@AlexMamo I make this function in utills and used  it with 3 different activity.\nI&#39;m facing issue when i open pdf file from fileManger via intent. also i want to inform that this issue doesn&#39;t happen every time.","body":"@AlexMamo I make this function in utills and used  it with 3 different activity. I&#39;m facing issue when i open pdf file from fileManger via intent. also i want to inform that this issue doesn&#39;t happen every time."},{"owner":{"account_id":20052019,"reputation":322,"user_id":14700525,"display_name":"Laksh Lathiya"},"score":0,"creation_date":1668069985,"post_id":74384894,"comment_id":131319149,"body_markdown":"@blackapps function fetch pdf file from local using URI. &amp; function use single URI at a time.","body":"@blackapps function fetch pdf file from local using URI. &amp; function use single URI at a time."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1668071077,"post_id":74384894,"comment_id":131319505,"body_markdown":"So much code for fetching or reading a file? For that you only have to open an input stream and read from it. Three lines. Why do you have so much more code? And why didnt you put the used uri string in your code so we know what you do?  Also explain what &#39;fetching&#39; a file would be. Realise that the file is already on your device otherwise there was no uri.","body":"So much code for fetching or reading a file? For that you only have to open an input stream and read from it. Three lines. Why do you have so much more code? And why didnt you put the used uri string in your code so we know what you do?  Also explain what &#39;fetching&#39; a file would be. Realise that the file is already on your device otherwise there was no uri."}],"owner":{"account_id":20052019,"reputation":322,"user_id":14700525,"display_name":"Laksh Lathiya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668068227,"creation_date":1668061311,"question_id":74384894,"body_markdown":"I write this function to PDFfile form URI but it throw 2 exception with Android 10 11 12.\r\n\r\nFrom Firebase Crashlytics\r\n\r\n45% Xiaomi\r\n14% samsung\r\n12% oneplus\r\n12% realme \r\n\r\n38% Android 11\r\n34% Android 12\r\n19% Android 10\r\n7% Android 9\r\n\r\n1) \r\n\r\n        java.lang.SecurityException: Permission Denial: reading com.whatsapp.contentprovider.MediaProvider uri content://com.whatsapp.provider.media/item/b1003092-8514-4d91-8600-3bbdb788c2bf from pid=21402, uid=10231 requires the provider be exported, or grantUriPermission()\r\n    \r\n2)\r\n \r\n        java.lang.SecurityException: myApp.scanner.docs.pdf has no access to content://media/external/downloads/65407\r\n\r\nFuntion\r\n\r\n       fun getPdfFileFromUri(activity: Context, pdfFileNames: Uri): File {\r\n         val myFile: File\r\n         var displayName: String? = null\r\n         val uriString = pdfFileNames.toString()\r\n         if (uriString.startsWith(&quot;content://&quot;)) {\r\n            var cursor: Cursor? = null\r\n     // following line responsible for crash 1\r\n            cursor = activity.contentResolver.query(pdfFileNames, null, null, null, null)\r\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                displayName =\r\n                    cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME))\r\n            }\r\n            cursor?.close()\r\n            if (displayName == null) {\r\n                displayName = uriString.split(&quot;/&quot;)[uriString.split(&quot;/&quot;).size - 1]\r\n            }\r\n            myFile = File(activity.cacheDir, displayName)\r\n            val output = FileOutputStream(myFile)\r\n     // following line responsible for 2nd crash\r\n            val asset = activity.contentResolver.openInputStream(pdfFileNames)\r\n            val buffer = ByteArray(1024)\r\n            var size: Int\r\n            while (asset!!.read(buffer).also { size = it } != -1) {\r\n                output.write(buffer, 0, size)\r\n            }\r\n            asset.close()\r\n            output.close()\r\n        } else {\r\n            myFile = File(uriString)\r\n        }\r\n        return myFile\r\n    }","title":"Non-fatal Exception: java.io.FileNotFoundException -- Android 10 11 12","body":"<p>I write this function to PDFfile form URI but it throw 2 exception with Android 10 11 12.</p>\n<p>From Firebase Crashlytics</p>\n<p>45% Xiaomi\n14% samsung\n12% oneplus\n12% realme</p>\n<p>38% Android 11\n34% Android 12\n19% Android 10\n7% Android 9</p>\n<p>1)</p>\n<pre><code>    java.lang.SecurityException: Permission Denial: reading com.whatsapp.contentprovider.MediaProvider uri content://com.whatsapp.provider.media/item/b1003092-8514-4d91-8600-3bbdb788c2bf from pid=21402, uid=10231 requires the provider be exported, or grantUriPermission()\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>    java.lang.SecurityException: myApp.scanner.docs.pdf has no access to content://media/external/downloads/65407\n</code></pre>\n<p>Funtion</p>\n<pre><code>   fun getPdfFileFromUri(activity: Context, pdfFileNames: Uri): File {\n     val myFile: File\n     var displayName: String? = null\n     val uriString = pdfFileNames.toString()\n     if (uriString.startsWith(&quot;content://&quot;)) {\n        var cursor: Cursor? = null\n // following line responsible for crash 1\n        cursor = activity.contentResolver.query(pdfFileNames, null, null, null, null)\n        if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n            displayName =\n                cursor.getString(cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME))\n        }\n        cursor?.close()\n        if (displayName == null) {\n            displayName = uriString.split(&quot;/&quot;)[uriString.split(&quot;/&quot;).size - 1]\n        }\n        myFile = File(activity.cacheDir, displayName)\n        val output = FileOutputStream(myFile)\n // following line responsible for 2nd crash\n        val asset = activity.contentResolver.openInputStream(pdfFileNames)\n        val buffer = ByteArray(1024)\n        var size: Int\n        while (asset!!.read(buffer).also { size = it } != -1) {\n            output.write(buffer, 0, size)\n        }\n        asset.close()\n        output.close()\n    } else {\n        myFile = File(uriString)\n    }\n    return myFile\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","flyway"],"answers":[{"tags":[],"owner":{"account_id":26267671,"reputation":51,"user_id":19937978,"display_name":"EnolaT"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668067400,"creation_date":1668066307,"answer_id":74385623,"question_id":74385415,"body_markdown":"You might want to set this variable as such in `application.yml`.\r\n\r\n    spring:\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: update\r\n\r\n","title":"Springboot @entity create table vs flyway create table","body":"<p>You might want to set this variable as such in <code>application.yml</code>.</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      ddl-auto: update\n</code></pre>\n"}],"owner":{"account_id":8105935,"reputation":19,"user_id":6107466,"display_name":"hounan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74385623,"answer_count":1,"score":0,"last_activity_date":1668067400,"creation_date":1668065026,"question_id":74385415,"body_markdown":"When we use Springboot (without flyway dependency)\r\n\r\nOnce we define an object model and mark it with @Entity tag, and run the application\r\nSeems spring boot will automatically create a table in a database.\r\n\r\nBut when we add flyway dependency, when we run the application SpringBoot won&#39;t create the table, instead, it throws me an error. So the only fix is to create a table in the flyway. Does anyone know why this happens?\r\n\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [singer]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1753) ~[spring-beans-6.0.0-RC3.jar:6.0.0-RC3]\r\n```","title":"Springboot @entity create table vs flyway create table","body":"<p>When we use Springboot (without flyway dependency)</p>\n<p>Once we define an object model and mark it with @Entity tag, and run the application\nSeems spring boot will automatically create a table in a database.</p>\n<p>But when we add flyway dependency, when we run the application SpringBoot won't create the table, instead, it throws me an error. So the only fix is to create a table in the flyway. Does anyone know why this happens?</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [singer]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1753) ~[spring-beans-6.0.0-RC3.jar:6.0.0-RC3]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","testcontainers"],"answers":[{"comments":[{"owner":{"account_id":15569966,"reputation":51,"user_id":11232692,"display_name":"juyebgastro"},"score":0,"creation_date":1668074758,"post_id":74385694,"comment_id":131320803,"body_markdown":"That makes sense, I agree omitting the ID would be ideal as we do not care about that in the test. However, if I don&#39;t supply the ID to the builder method which constructs my `ListingVariation`, then the ID will be set to null. So how would I even go about omitting the ID?","body":"That makes sense, I agree omitting the ID would be ideal as we do not care about that in the test. However, if I don&#39;t supply the ID to the builder method which constructs my <code>ListingVariation</code>, then the ID will be set to null. So how would I even go about omitting the ID?"},{"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1668078247,"post_id":74385694,"comment_id":131321908,"body_markdown":"You can set the id to whatever you get from whatever you want to compare it to. Or you ignore it in the comparison by building a custom comparision. This sounds like the most promising approach to me. See https://www.baeldung.com/assertj-custom-assertion","body":"You can set the id to whatever you get from whatever you want to compare it to. Or you ignore it in the comparison by building a custom comparision. This sounds like the most promising approach to me. See <a href=\"https://www.baeldung.com/assertj-custom-assertion\" rel=\"nofollow noreferrer\">baeldung.com/assertj-custom-assertion</a>"}],"tags":[],"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668066654,"creation_date":1668066654,"answer_id":74385694,"question_id":74382828,"body_markdown":"You can do this by [executing a SQL statement][1].\r\n\r\n```\r\nALTER TABLE tablename AUTO_INCREMENT = 1\r\n```\r\n\r\nWhich you probably would do using a `JdbcTemplate`.\r\n\r\n\r\nBut I&#39;d argue you shouldn&#39;t check the value of the id at all in your test. \r\nJust check that the id is not `null`.\r\nThe reason this is the correct approach is that (hopefully) nobody cares about the id. It is just an id and it doesn&#39;t matter if it is 1, 2, 4, or 314159265, so your test shouldn&#39;t care either.\r\n\r\n  [1]: https://stackoverflow.com/questions/8923114/how-to-reset-auto-increment-in-mysql","title":"How to reset auto-increment in Testcontainers MySQL integration tests","body":"<p>You can do this by <a href=\"https://stackoverflow.com/questions/8923114/how-to-reset-auto-increment-in-mysql\">executing a SQL statement</a>.</p>\n<pre><code>ALTER TABLE tablename AUTO_INCREMENT = 1\n</code></pre>\n<p>Which you probably would do using a <code>JdbcTemplate</code>.</p>\n<p>But I'd argue you shouldn't check the value of the id at all in your test.\nJust check that the id is not <code>null</code>.\nThe reason this is the correct approach is that (hopefully) nobody cares about the id. It is just an id and it doesn't matter if it is 1, 2, 4, or 314159265, so your test shouldn't care either.</p>\n"}],"owner":{"account_id":15569966,"reputation":51,"user_id":11232692,"display_name":"juyebgastro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668066654,"creation_date":1668039766,"question_id":74382828,"body_markdown":"I use Testcontainers to run integration tests in a MySQL container. I have an entity `Listing` which has a OneToMany mapping to a child entity, `Variations`. I have a method in my service layer which updates the variations for an associated listing (note it removes all existing variations beforehand):\r\n\r\n```\r\npublic ListingDTO updateListingVariations(String listingId, List&lt;ListingVariationDTO&gt; variations) {\r\n    listingVariationRepository.deleteAllByListingId(listingId);\r\n\r\n    return listingRepository.findByListingId(listingId)\r\n            .map(listing -&gt; {\r\n                List&lt;ListingVariation&gt; newVariations = variations.stream()\r\n                        .map(this::toListingVariation)\r\n                        .toList();\r\n                listing.setVariations(newVariations);\r\n                return this.toListingDTO(listingRepository.save(listing));\r\n            })\r\n            .orElseThrow(() -&gt; new ListingNotFoundException(listingId));\r\n}\r\n```\r\nNow I perform a test on this method (assume the database already contains a `Listing` with some associated `ListingVariation`&#39;s):\r\n\r\n```\r\n@Test\r\nvoid shouldUpdateListingVariationsIfListingIdExists() {\r\n    // builders for ListingVariation objects\r\n\r\n    assertThat(listingService.findByListingId(validListingId).getVariations())\r\n            .isEqualTo(listingVariations);\r\n    assertThat(listingService.updateListingVariations(validListingId, newVariations).getVariations())\r\n            .isEqualTo(newVariations);\r\n}\r\n```\r\nHowever, the test is failing with the below error:\r\n\r\n```\r\nexpected: [ListingVariationDTO{id=1, listingId=&#39;listingId&#39;, ...}]\r\n but was: [ListingVariationDTO{id=4, listingId=&#39;listingId&#39;, ...}]\r\n```\r\n\r\nI realise this is due to the auto-increment on the table not resetting when the previous variation records are deleted. I could modify my test to build a new `ListingVariation` object and hardcode the ID as 4, but I would like to avoid doing that for the simplicity of my test code. Can I reset the auto-increment on my table through my MySQL container?","title":"How to reset auto-increment in Testcontainers MySQL integration tests","body":"<p>I use Testcontainers to run integration tests in a MySQL container. I have an entity <code>Listing</code> which has a OneToMany mapping to a child entity, <code>Variations</code>. I have a method in my service layer which updates the variations for an associated listing (note it removes all existing variations beforehand):</p>\n<pre><code>public ListingDTO updateListingVariations(String listingId, List&lt;ListingVariationDTO&gt; variations) {\n    listingVariationRepository.deleteAllByListingId(listingId);\n\n    return listingRepository.findByListingId(listingId)\n            .map(listing -&gt; {\n                List&lt;ListingVariation&gt; newVariations = variations.stream()\n                        .map(this::toListingVariation)\n                        .toList();\n                listing.setVariations(newVariations);\n                return this.toListingDTO(listingRepository.save(listing));\n            })\n            .orElseThrow(() -&gt; new ListingNotFoundException(listingId));\n}\n</code></pre>\n<p>Now I perform a test on this method (assume the database already contains a <code>Listing</code> with some associated <code>ListingVariation</code>'s):</p>\n<pre><code>@Test\nvoid shouldUpdateListingVariationsIfListingIdExists() {\n    // builders for ListingVariation objects\n\n    assertThat(listingService.findByListingId(validListingId).getVariations())\n            .isEqualTo(listingVariations);\n    assertThat(listingService.updateListingVariations(validListingId, newVariations).getVariations())\n            .isEqualTo(newVariations);\n}\n</code></pre>\n<p>However, the test is failing with the below error:</p>\n<pre><code>expected: [ListingVariationDTO{id=1, listingId='listingId', ...}]\n but was: [ListingVariationDTO{id=4, listingId='listingId', ...}]\n</code></pre>\n<p>I realise this is due to the auto-increment on the table not resetting when the previous variation records are deleted. I could modify my test to build a new <code>ListingVariation</code> object and hardcode the ID as 4, but I would like to avoid doing that for the simplicity of my test code. Can I reset the auto-increment on my table through my MySQL container?</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1667993310,"post_id":74374012,"comment_id":131298791,"body_markdown":"You can use reflection to check if the methods of the class have the annotation, if not, abort the test","body":"You can use reflection to check if the methods of the class have the annotation, if not, abort the test"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1667993615,"post_id":74374012,"comment_id":131298886,"body_markdown":"You can collapse that whole list into a simple-to-use [Meta-Annotation](https://junit.org/junit5/docs/current/user-guide/#writing-tests-meta-annotations) so each test would only need a single `@MyCustomTest` annotation. And since `@ExtendsWith` [is inherited](https://junit.org/junit5/docs/current/user-guide/#extensions-registration-inheritance) you only need it on a shared base class. You can use either approach or combine them.","body":"You can collapse that whole list into a simple-to-use <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-meta-annotations\" rel=\"nofollow noreferrer\">Meta-Annotation</a> so each test would only need a single <code>@MyCustomTest</code> annotation. And since <code>@ExtendsWith</code> <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-registration-inheritance\" rel=\"nofollow noreferrer\">is inherited</a> you only need it on a shared base class. You can use either approach or combine them."},{"owner":{"account_id":6965709,"reputation":85,"user_id":5343821,"display_name":"Milena"},"score":0,"creation_date":1667995816,"post_id":74374012,"comment_id":131299674,"body_markdown":"@JoachimSauer I think the Meta-Annotation will solve this for me. Thank you for this suggestion.","body":"@JoachimSauer I think the Meta-Annotation will solve this for me. Thank you for this suggestion."}],"owner":{"account_id":6965709,"reputation":85,"user_id":5343821,"display_name":"Milena"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668066407,"creation_date":1667992585,"question_id":74374012,"body_markdown":"Each test is extended with same extensions \r\n\r\n```\r\n@ExtendWith({FishTaggingExtension.class, AllureAttachmentsExtension.class, BStackContextExtension.class})\r\n```\r\nIs there a way to avoid repeating this line for every test method? \r\nCan I somehow configure this in some base class and automatically apply to every test in a class that extends such base class?\r\n\r\nAlternatively - can I write a check that would throw error if some test is not extended like this?\r\n\r\nI&#39;m using gradle, junit5.\r\n\r\nedit:\r\n\r\nThanks to @JoachimSauer comment, I did a Meta-Annotation, and it does what I wanted.\r\n```\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@ExtendWith({FishTaggingExtension.class, AllureAttachmentsExtension.class, BStackContextExtension.class})\r\n@ArgumentsSource(TestDataJsonRead.class)\r\npublic @interface ProjectTest {\r\n}\r\n```","title":"Avoid repeating ExtendWith extensions for each test method in each class","body":"<p>Each test is extended with same extensions</p>\n<pre><code>@ExtendWith({FishTaggingExtension.class, AllureAttachmentsExtension.class, BStackContextExtension.class})\n</code></pre>\n<p>Is there a way to avoid repeating this line for every test method?\nCan I somehow configure this in some base class and automatically apply to every test in a class that extends such base class?</p>\n<p>Alternatively - can I write a check that would throw error if some test is not extended like this?</p>\n<p>I'm using gradle, junit5.</p>\n<p>edit:</p>\n<p>Thanks to @JoachimSauer comment, I did a Meta-Annotation, and it does what I wanted.</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\n@ExtendWith({FishTaggingExtension.class, AllureAttachmentsExtension.class, BStackContextExtension.class})\n@ArgumentsSource(TestDataJsonRead.class)\npublic @interface ProjectTest {\n}\n</code></pre>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668064648,"post_id":74385337,"comment_id":131317554,"body_markdown":"This might help you out: https://stackoverflow.com/questions/23018836/org-hibernate-hql-internal-ast-querysyntaxexception-table-is-not-mapped","body":"This might help you out: <a href=\"https://stackoverflow.com/questions/23018836/org-hibernate-hql-internal-ast-querysyntaxexception-table-is-not-mapped\" title=\"org hibernate hql internal ast querysyntaxexception table is not mapped\">stackoverflow.com/questions/23018836/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668066032,"creation_date":1668066032,"answer_id":74385584,"question_id":74385337,"body_markdown":"Normally if you want to use a native query you have to tell Spring Data JPA by using\r\n\r\n`@Query(... nativeQuery=true)`\r\n\r\nBut version 1.0.2 doesn&#39;t have that attribute.\r\nI suspect it didn&#39;t support native queries back then.\r\n\r\nBut your query looks like mixup between SQL (i.e. native) and JPQL/HQL anyway and you should be able to fix that.\r\n\r\nThe following should work\r\n\r\n```sql\r\nSELECT u \r\nFROM User u where u.userDevice.id = :uid ORDER BY u.time DESC LIMIT 1\r\n```\r\n\r\nThis assumes the entity class is named `User` has properties `userDevice` and `time` and a user device has an `id` properties. \r\nFor all these names the Java class is relevant, not the table or column names.\r\n\r\nOne final note on\r\n\r\n&gt; I can&#39;t carelessly change my spring version because I&#39;m using an old environment.\r\n\r\nI know it is probably not your decision to make, but working with such an old version is not only careless but reckless. It wastes money by having to deal with bugs and missing features which have long be fixed. Including security fixes.\r\n","title":"&quot;tableName&quot; is not mapped","body":"<p>Normally if you want to use a native query you have to tell Spring Data JPA by using</p>\n<p><code>@Query(... nativeQuery=true)</code></p>\n<p>But version 1.0.2 doesn't have that attribute.\nI suspect it didn't support native queries back then.</p>\n<p>But your query looks like mixup between SQL (i.e. native) and JPQL/HQL anyway and you should be able to fix that.</p>\n<p>The following should work</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT u \nFROM User u where u.userDevice.id = :uid ORDER BY u.time DESC LIMIT 1\n</code></pre>\n<p>This assumes the entity class is named <code>User</code> has properties <code>userDevice</code> and <code>time</code> and a user device has an <code>id</code> properties.\nFor all these names the Java class is relevant, not the table or column names.</p>\n<p>One final note on</p>\n<blockquote>\n<p>I can't carelessly change my spring version because I'm using an old environment.</p>\n</blockquote>\n<p>I know it is probably not your decision to make, but working with such an old version is not only careless but reckless. It wastes money by having to deal with bugs and missing features which have long be fixed. Including security fixes.</p>\n"}],"owner":{"account_id":18435115,"reputation":43,"user_id":13779171,"display_name":"Rizal Arief Firdaus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74385584,"answer_count":1,"score":0,"last_activity_date":1668066032,"creation_date":1668064559,"question_id":74385337,"body_markdown":"I have this JPA Repository for a user model.\r\nAnd I want to take the very recent data which is the first data that came out.\r\nBut since I&#39;m using spring-data-jpa.1.0.2-REALEASE, I can&#39;t use &quot;findFirstBy&quot; to get what I want.\r\n\r\n\r\nso I try using nativequery, which has a lot of ways to use and is different in every version. (I guess)\r\nanyway, my code would be something like this :\r\n\r\n```\r\n\r\npublic interface UserRepository extends JpaRepository&lt;UserModel, Long&gt;, QueryDslPredicateExecutor&lt;UserModel&gt; {\r\n\r\n\t@Query(&quot;SELECT u FROM user u where u.userDevice_id = :uid ORDER BY u.Time DESC LIMIT 1&quot;)\r\n\tUserModel findFirstByUserDeviceOrderByTimeDesc(@Param(&quot;uid&quot;) Long uid);\r\n\t\r\n.......\r\n\t\r\n}\r\n\r\n```\r\n\r\nbut it returning this error\r\n\r\n&gt; org.hibernate.hql.ast.QuerySyntaxException: user is not mapped\r\n\r\nI can&#39;t carelessly change my spring version because I&#39;m using an old environment.","title":"&quot;tableName&quot; is not mapped","body":"<p>I have this JPA Repository for a user model.\nAnd I want to take the very recent data which is the first data that came out.\nBut since I'm using spring-data-jpa.1.0.2-REALEASE, I can't use &quot;findFirstBy&quot; to get what I want.</p>\n<p>so I try using nativequery, which has a lot of ways to use and is different in every version. (I guess)\nanyway, my code would be something like this :</p>\n<pre><code>\npublic interface UserRepository extends JpaRepository&lt;UserModel, Long&gt;, QueryDslPredicateExecutor&lt;UserModel&gt; {\n\n    @Query(&quot;SELECT u FROM user u where u.userDevice_id = :uid ORDER BY u.Time DESC LIMIT 1&quot;)\n    UserModel findFirstByUserDeviceOrderByTimeDesc(@Param(&quot;uid&quot;) Long uid);\n    \n.......\n    \n}\n\n</code></pre>\n<p>but it returning this error</p>\n<blockquote>\n<p>org.hibernate.hql.ast.QuerySyntaxException: user is not mapped</p>\n</blockquote>\n<p>I can't carelessly change my spring version because I'm using an old environment.</p>\n"},{"tags":["java","android","android-alertdialog","android-dialog"],"comments":[{"owner":{"account_id":7881594,"reputation":737,"user_id":5955362,"display_name":"Jaydeep Devda"},"score":0,"creation_date":1498298276,"post_id":44735164,"comment_id":76451902,"body_markdown":"by setting custom title","body":"by setting custom title"}],"answers":[{"comments":[{"owner":{"display_name":"user8189894"},"score":0,"creation_date":1498300359,"post_id":44735210,"comment_id":76452395,"body_markdown":"Thanks! Do I add this to my exsiting code or replace it, and if i need to replace it, where/what should i delete?","body":"Thanks! Do I add this to my exsiting code or replace it, and if i need to replace it, where/what should i delete?"},{"owner":{"account_id":7051626,"reputation":540,"user_id":5400473,"display_name":"Dhanumjay"},"score":0,"creation_date":1498300742,"post_id":44735210,"comment_id":76452489,"body_markdown":"first create layout with TextView with your title and make textview as center in layout and just replace your layout name here R.layout.your_layout_name","body":"first create layout with TextView with your title and make textview as center in layout and just replace your layout name here R.layout.your_layout_name"},{"owner":{"display_name":"user8189894"},"score":0,"creation_date":1498301310,"post_id":44735210,"comment_id":76452614,"body_markdown":"I already have a layout with some ImageButtons and 1 TextView which is used and 2 (normal) Buttons, so, do I really need to create a new layout?  I thought &quot;AlertDialog&quot; is a PopUp which doesn&#39;t need a layout with any specifications","body":"I already have a layout with some ImageButtons and 1 TextView which is used and 2 (normal) Buttons, so, do I really need to create a new layout?  I thought &quot;AlertDialog&quot; is a PopUp which doesn&#39;t need a layout with any specifications"},{"owner":{"account_id":7051626,"reputation":540,"user_id":5400473,"display_name":"Dhanumjay"},"score":0,"creation_date":1498301473,"post_id":44735210,"comment_id":76452663,"body_markdown":"are you using custom layout? then add title in that image buttons layout only and remove setTitle()","body":"are you using custom layout? then add title in that image buttons layout only and remove setTitle()"},{"owner":{"display_name":"user8189894"},"score":0,"creation_date":1498301959,"post_id":44735210,"comment_id":76452767,"body_markdown":"I guss this explains my Problem or with this u see what i need to rename/delete ^^&quot;\n[There you go](http://imgur.com/a/QPuMq)","body":"I guss this explains my Problem or with this u see what i need to rename/delete ^^&quot; <a href=\"http://imgur.com/a/QPuMq\" rel=\"nofollow noreferrer\">There you go</a>"},{"owner":{"account_id":7051626,"reputation":540,"user_id":5400473,"display_name":"Dhanumjay"},"score":0,"creation_date":1498302216,"post_id":44735210,"comment_id":76452838,"body_markdown":"are you showing alertDialog on pressing ImageButton? or is that your alert dialog Layout?","body":"are you showing alertDialog on pressing ImageButton? or is that your alert dialog Layout?"},{"owner":{"display_name":"user8189894"},"score":0,"creation_date":1498302765,"post_id":44735210,"comment_id":76452982,"body_markdown":"if i press my imageButton with &#39;onClick=&quot;Anzeiegn_Reaper&quot; I show an altertDialog (i guess, i copied this copde as i searched it yesterday). I didnt now i can have an extra layout for alertDialogs, is this probably better? so should i &quot;switch&quot; to creating layout for alertDialogs instead of my &quot;old&quot; version in java-code?","body":"if i press my imageButton with &#39;onClick=&quot;Anzeiegn_Reaper&quot; I show an altertDialog (i guess, i copied this copde as i searched it yesterday). I didnt now i can have an extra layout for alertDialogs, is this probably better? so should i &quot;switch&quot; to creating layout for alertDialogs instead of my &quot;old&quot; version in java-code?"},{"owner":{"account_id":7051626,"reputation":540,"user_id":5400473,"display_name":"Dhanumjay"},"score":0,"creation_date":1498303122,"post_id":44735210,"comment_id":76453065,"body_markdown":"if you just want to centre title of alertDialog then follow my answer or if you wish to change alert dialog view according to your requirement then design entire alertDialog layout and use setView() to set your layout.","body":"if you just want to centre title of alertDialog then follow my answer or if you wish to change alert dialog view according to your requirement then design entire alertDialog layout and use setView() to set your layout."},{"owner":{"display_name":"user8189894"},"score":0,"creation_date":1498303983,"post_id":44735210,"comment_id":76453252,"body_markdown":"and can i place additional textviews for the messages in my titlebar.xml layout? because i want 4 sentences as a message, but i shouldnt be shown as a continuous text. after each sentence there should be 1 &quot;free&quot; line where nothing is written. I solved it with a hardcoded text: [Here you go!](http://imgur.com/a/7zUaf) but i want it shorter, with several strings as u can see in the picure as well.\n.","body":"and can i place additional textviews for the messages in my titlebar.xml layout? because i want 4 sentences as a message, but i shouldnt be shown as a continuous text. after each sentence there should be 1 &quot;free&quot; line where nothing is written. I solved it with a hardcoded text: <a href=\"http://imgur.com/a/7zUaf\" rel=\"nofollow noreferrer\">Here you go!</a> but i want it shorter, with several strings as u can see in the picure as well. ."},{"owner":{"account_id":7051626,"reputation":540,"user_id":5400473,"display_name":"Dhanumjay"},"score":0,"creation_date":1498304734,"post_id":44735210,"comment_id":76453440,"body_markdown":"yes check this link https://stackoverflow.com/questions/22655599/alertdialog-builder-with-custom-layout-and-edittext-cannot-access-view","body":"yes check this link <a href=\"https://stackoverflow.com/questions/22655599/alertdialog-builder-with-custom-layout-and-edittext-cannot-access-view\" title=\"alertdialog builder with custom layout and edittext cannot access view\">stackoverflow.com/questions/22655599/&hellip;</a>"},{"owner":{"account_id":2364229,"reputation":299,"user_id":2070274,"accept_rate":71,"display_name":"wiki"},"score":0,"creation_date":1660847513,"post_id":44735210,"comment_id":129636489,"body_markdown":"I would like to ask you when implementing this code how you do dismiss() or cancel(), since the variable that can execute it is helpDialog and the variable is declared after the alert.setPositiveButton() method, so inside that method the call: helpDialog.dismiss() not possible","body":"I would like to ask you when implementing this code how you do dismiss() or cancel(), since the variable that can execute it is helpDialog and the variable is declared after the alert.setPositiveButton() method, so inside that method the call: helpDialog.dismiss() not possible"}],"tags":[],"owner":{"account_id":7051626,"reputation":540,"user_id":5400473,"display_name":"Dhanumjay"},"comment_count":11,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573118238,"creation_date":1498298541,"answer_id":44735210,"question_id":44735164,"body_markdown":"titlebar.xml\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:text=&quot;Title&quot;/&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\n`alertDialog` code:\r\n\r\n\r\n    AlertDialog.Builder alert = new AlertDialog.Builder(this);\r\n    LayoutInflater inflater   = getLayoutInflater();\r\n    View view                 = inflater.inflate(R.layout.titlebar, null);\r\n    \r\n    alert.setCustomTitle(view);\r\n    alert.setMessage(&quot;Your Message&quot;);\r\n    alert.setPositiveButton(\r\n      &quot;Ok, got it!&quot;,\r\n      new DialogInterface.OnClickListener() {\r\n        public void onClick(DialogInterface dialog, int which) {\r\n      \r\n        }\r\n      }\r\n    );\r\n    AlertDialog helpDialog = alert.create();\r\n    helpDialog.show();","title":"How can I center my AlertDialog Title?","body":"<p>titlebar.xml</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n &lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"match_parent\"&gt;\n\n&lt;TextView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:gravity=\"center\"\n    android:layout_margin=\"10dp\"\n    android:textStyle=\"bold\"\n    android:text=\"Title\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><code>alertDialog</code> code:</p>\n\n<pre><code>AlertDialog.Builder alert = new AlertDialog.Builder(this);\nLayoutInflater inflater   = getLayoutInflater();\nView view                 = inflater.inflate(R.layout.titlebar, null);\n\nalert.setCustomTitle(view);\nalert.setMessage(\"Your Message\");\nalert.setPositiveButton(\n  \"Ok, got it!\",\n  new DialogInterface.OnClickListener() {\n    public void onClick(DialogInterface dialog, int which) {\n\n    }\n  }\n);\nAlertDialog helpDialog = alert.create();\nhelpDialog.show();\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user8189894"},"score":0,"creation_date":1498301166,"post_id":44735244,"comment_id":76452584,"body_markdown":"In &quot;View view = inflater.inflate(R.layout.mylayout, null);&quot; &quot;null&quot; is marked and Android Studio says &quot;Avoid passing null as view root&quot;","body":"In &quot;View view = inflater.inflate(R.layout.mylayout, null);&quot; &quot;null&quot; is marked and Android Studio says &quot;Avoid passing null as view root&quot;"}],"tags":[],"owner":{"account_id":6850340,"reputation":6801,"user_id":6021469,"accept_rate":29,"display_name":"Shweta Chauhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498298792,"creation_date":1498298792,"answer_id":44735244,"question_id":44735164,"body_markdown":"    // Creating the AlertDialog with a custom xml layout\r\n\r\n    AlertDialog.Builder helpBuilder = new AlertDialog.Builder(this);\r\n    LayoutInflater inflater = (LayoutInflater)this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n    View view = inflater.inflate(R.layout.layoutname, null);\r\n    helpBuilder.setView(view);\r\n\r\n    TextView txtTitle = new TextView(this);\r\n    // Customise your Title \r\n    txtTitle.setText(&quot;Test Title&quot;);\r\n    txtTitle.setGravity(Gravity.CENTER);\r\n\r\n    helpBuilder.setCustomTitle(txtTitle );","title":"How can I center my AlertDialog Title?","body":"<pre><code>// Creating the AlertDialog with a custom xml layout\n\nAlertDialog.Builder helpBuilder = new AlertDialog.Builder(this);\nLayoutInflater inflater = (LayoutInflater)this.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\nView view = inflater.inflate(R.layout.layoutname, null);\nhelpBuilder.setView(view);\n\nTextView txtTitle = new TextView(this);\n// Customise your Title \ntxtTitle.setText(\"Test Title\");\ntxtTitle.setGravity(Gravity.CENTER);\n\nhelpBuilder.setCustomTitle(txtTitle );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":271507,"reputation":13000,"user_id":562073,"accept_rate":76,"display_name":"Mahendra Liya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573118635,"creation_date":1499085933,"answer_id":44885963,"question_id":44735164,"body_markdown":"You need to create a custom Dialog - you won&#39;t be able to do this for the default `AlertDialog`. In the layout of the custom dialog, you can create the layout as you like - align the text of the title in center and so on.\r\n\r\nYou can even use styles to style the layout of the Dialog. Some snippet for styling the dialog:\r\n\r\nInside your `styles.xml` add the following code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;style name=&quot;CustomDialog&quot; parent=&quot;@android:style/Theme.Dialog&quot;&gt;\r\n            &lt;item name=&quot;android:windowTitleStyle&quot;&gt;@style/CustomDialogTitle&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;CustomDialogTitle&quot; parent=&quot;@android:style/TextAppearance.DialogWindowTitle&quot;&gt;\r\n            &lt;item name=&quot;android:gravity&quot;&gt;center_horizontal&lt;/item&gt;\r\n        &lt;/style&gt;\r\n        &lt;style name=&quot;DialogWindowTitle&quot;&gt;\r\n        &lt;item name=&quot;android:maxLines&quot;&gt;1&lt;/item&gt;\r\n        &lt;item name=&quot;android:scrollHorizontally&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:textAppearance&quot;&gt;@android:style/TextAppearance.DialogWindowTitle&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\nThen refer the style when you create the dialog as:\r\n\r\n    Dialog dialog = new Dialog(this, R.style.CustomDialog);\r\n    dialog.setTitle(&quot;Your title&quot;);\r\n    dialog.setContentView(R.layout.custom_dialog);","title":"How can I center my AlertDialog Title?","body":"<p>You need to create a custom Dialog - you won't be able to do this for the default <code>AlertDialog</code>. In the layout of the custom dialog, you can create the layout as you like - align the text of the title in center and so on.</p>\n\n<p>You can even use styles to style the layout of the Dialog. Some snippet for styling the dialog:</p>\n\n<p>Inside your <code>styles.xml</code> add the following code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;style name=\"CustomDialog\" parent=\"@android:style/Theme.Dialog\"&gt;\n        &lt;item name=\"android:windowTitleStyle\"&gt;@style/CustomDialogTitle&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"CustomDialogTitle\" parent=\"@android:style/TextAppearance.DialogWindowTitle\"&gt;\n        &lt;item name=\"android:gravity\"&gt;center_horizontal&lt;/item&gt;\n    &lt;/style&gt;\n    &lt;style name=\"DialogWindowTitle\"&gt;\n    &lt;item name=\"android:maxLines\"&gt;1&lt;/item&gt;\n    &lt;item name=\"android:scrollHorizontally\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:textAppearance\"&gt;@android:style/TextAppearance.DialogWindowTitle&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>Then refer the style when you create the dialog as:</p>\n\n<pre><code>Dialog dialog = new Dialog(this, R.style.CustomDialog);\ndialog.setTitle(\"Your title\");\ndialog.setContentView(R.layout.custom_dialog);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22275346,"reputation":5,"user_id":16515722,"display_name":"Bronskidev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668065885,"creation_date":1668065885,"answer_id":74385563,"question_id":44735164,"body_markdown":"Surely it will be useful for someone. My solution looks like this. \r\n\r\n    &lt;style name=&quot;AlertDialog&quot; parent=&quot;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog&quot;&gt;\r\n            &lt;item name=&quot;materialAlertDialogTitleTextStyle&quot;&gt;@style/ALrtDialog.Title&lt;/item&gt;\r\n    \r\n        &lt;style name=&quot;ALrtDialog.Title&quot; parent=&quot;MaterialAlertDialog.MaterialComponents.Title.Text.CenterStacked&quot;&gt;\r\n            &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\r\n        &lt;/style&gt;","title":"How can I center my AlertDialog Title?","body":"<p>Surely it will be useful for someone. My solution looks like this.</p>\n<pre><code>&lt;style name=&quot;AlertDialog&quot; parent=&quot;@style/ThemeOverlay.MaterialComponents.MaterialAlertDialog&quot;&gt;\n        &lt;item name=&quot;materialAlertDialogTitleTextStyle&quot;&gt;@style/ALrtDialog.Title&lt;/item&gt;\n\n    &lt;style name=&quot;ALrtDialog.Title&quot; parent=&quot;MaterialAlertDialog.MaterialComponents.Title.Text.CenterStacked&quot;&gt;\n        &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n"}],"owner":{"display_name":"user8189894"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3644,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1668065885,"creation_date":1498298191,"question_id":44735164,"body_markdown":"Here&#39;s my code, rest wirtten below.\r\n\r\n    public void Anzeigen_Reaper(View view) {\r\n        AlertDialog.Builder helpBuilder = new AlertDialog.Builder(this);\r\n        helpBuilder.setTitle(&quot;Test Title&quot;);\r\n        helpBuilder.setMessage(&quot;Test Message&quot;);\r\n        helpBuilder.setPositiveButton(&quot;Ok, got it!&quot;,\r\n                new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                    }\r\n                });\r\n        AlertDialog helpDialog = helpBuilder.create();\r\n        helpDialog.show();\r\n    }\r\n\r\nI don&#39;t know how I can center my title (`helpBuilder.setTitle(&quot;Test Title&quot;);`) without adding several &quot;\\t&quot;. Of course i could add 20 time &quot;\\t&quot; to get it at the center but probably there is a special instruction/abbreviation for this.\r\n\r\nI couldn&#39;t add `help.Builder.setGravity(&quot;GRAVITY.CENTER);` because `setGravity` was marked red.\r\n\r\nDoes anyone knows how to solve this? If its possible without styles, but if it&#39;s necessary, tell me how I do this, because I dont know how &quot;styles.xml&quot; works.\r\n\r\nThanks in advance!","title":"How can I center my AlertDialog Title?","body":"<p>Here's my code, rest wirtten below.</p>\n\n<pre><code>public void Anzeigen_Reaper(View view) {\n    AlertDialog.Builder helpBuilder = new AlertDialog.Builder(this);\n    helpBuilder.setTitle(\"Test Title\");\n    helpBuilder.setMessage(\"Test Message\");\n    helpBuilder.setPositiveButton(\"Ok, got it!\",\n            new DialogInterface.OnClickListener() {\n                public void onClick(DialogInterface dialog, int which) {\n                }\n            });\n    AlertDialog helpDialog = helpBuilder.create();\n    helpDialog.show();\n}\n</code></pre>\n\n<p>I don't know how I can center my title (<code>helpBuilder.setTitle(\"Test Title\");</code>) without adding several \"\\t\". Of course i could add 20 time \"\\t\" to get it at the center but probably there is a special instruction/abbreviation for this.</p>\n\n<p>I couldn't add <code>help.Builder.setGravity(\"GRAVITY.CENTER);</code> because <code>setGravity</code> was marked red.</p>\n\n<p>Does anyone knows how to solve this? If its possible without styles, but if it's necessary, tell me how I do this, because I dont know how \"styles.xml\" works.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","arrays","collections"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668065904,"post_id":74385482,"comment_id":131317858,"body_markdown":"a bit of googling could have helped you here: https://developer.classpath.org/doc/java/util/AbstractCollection-source.html The toString method in this class is inherited by (among others) ArrayList","body":"a bit of googling could have helped you here: <a href=\"https://developer.classpath.org/doc/java/util/AbstractCollection-source.html\" rel=\"nofollow noreferrer\">developer.classpath.org/doc/java/util/&hellip;</a> The toString method in this class is inherited by (among others) ArrayList"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1668065945,"post_id":74385482,"comment_id":131317879,"body_markdown":"@Chaosfire his inquiry is to what the toString does.","body":"@Chaosfire his inquiry is to what the toString does."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1668066478,"post_id":74385482,"comment_id":131318022,"body_markdown":"@Stultuske I am not so sure, `Can you please explain how it is working internally is it dereferencing it like in C language and my second question is how I can implement something similar using object + print in Java?` - sounds like exact duplicate to me, OP never mentions `toString()` in question. I think linked question answers both of his questions.","body":"@Stultuske I am not so sure, <code>Can you please explain how it is working internally is it dereferencing it like in C language and my second question is how I can implement something similar using object + print in Java?</code> - sounds like exact duplicate to me, OP never mentions <code>toString()</code> in question. I think linked question answers both of his questions."},{"owner":{"account_id":16170891,"reputation":13,"user_id":11674706,"display_name":"Aakash Rohila"},"score":0,"creation_date":1668068452,"post_id":74385482,"comment_id":131318603,"body_markdown":"Thankyou @user16320675 and everyone my doubt is resolved.","body":"Thankyou @user16320675 and everyone my doubt is resolved."}],"owner":{"account_id":16170891,"reputation":13,"user_id":11674706,"display_name":"Aakash Rohila"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668067178,"answer_count":0,"score":0,"last_activity_date":1668065421,"creation_date":1668065421,"question_id":74385482,"body_markdown":"I am working with Java8, and I want to know the internal working of ArrayList printing. like if I run my below program, it will give object reference and will not print all of its data members values.\r\n\r\n\r\n```\r\npublic class Hello{\r\n\r\n    int a = 1;\r\n    int b = 2;\r\n    \r\n     public static void main(String []args){\r\n        Hello h = new Hello();\r\n        System.out.println(h.a);\r\n        System.out.println(h.b);\r\n        System.out.println(h);\r\n     }\r\n}\r\n```\r\nOutput : \r\n1\r\n2\r\nHello@2a139a55\r\n\r\nAnd if I use ArrayList it won&#39;t print references and will directly print values\r\n\r\n```\r\nimport java.util.ArrayList;\r\npublic class Hello{\r\n\r\n     public static void main(String []args){\r\n        ArrayList&lt;String&gt; name = new ArrayList&lt;&gt;();\r\n        name.add(&quot;Monday&quot;);\r\n        name.add(&quot;Tuesday&quot;);\r\n        \r\n        System.out.println(name);\r\n     }\r\n}\r\n```\r\nOutput: \r\n[Monday, Tuesday]\r\n\r\nCan you please explain how it is working internally is it dereferencing it like in C language and my second question is how I can implement something similar using object + print in Java?\r\n\r\n\r\nI read other articles on net on how to print ArrayList using for loop, for each loop and using iterator but none of them accurately specifies how does direct mention of object in print statement returns its values rather than reference.","title":"How does ArrayList Class print its values, by passing an object to print statement?","body":"<p>I am working with Java8, and I want to know the internal working of ArrayList printing. like if I run my below program, it will give object reference and will not print all of its data members values.</p>\n<pre><code>public class Hello{\n\n    int a = 1;\n    int b = 2;\n    \n     public static void main(String []args){\n        Hello h = new Hello();\n        System.out.println(h.a);\n        System.out.println(h.b);\n        System.out.println(h);\n     }\n}\n</code></pre>\n<p>Output :\n1\n2\nHello@2a139a55</p>\n<p>And if I use ArrayList it won't print references and will directly print values</p>\n<pre><code>import java.util.ArrayList;\npublic class Hello{\n\n     public static void main(String []args){\n        ArrayList&lt;String&gt; name = new ArrayList&lt;&gt;();\n        name.add(&quot;Monday&quot;);\n        name.add(&quot;Tuesday&quot;);\n        \n        System.out.println(name);\n     }\n}\n</code></pre>\n<p>Output:\n[Monday, Tuesday]</p>\n<p>Can you please explain how it is working internally is it dereferencing it like in C language and my second question is how I can implement something similar using object + print in Java?</p>\n<p>I read other articles on net on how to print ArrayList using for loop, for each loop and using iterator but none of them accurately specifies how does direct mention of object in print statement returns its values rather than reference.</p>\n"},{"tags":["java","milliseconds","human-readable"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667951859,"post_id":74368490,"comment_id":131289872,"body_markdown":"There isn&#39;t anything for this in the main Java libraries, so this would probably be asking for a library -- which might be closed.  (Note also that this is something sensitive to the languages used by the consumers.)","body":"There isn&#39;t anything for this in the main Java libraries, so this would probably be asking for a library -- which might be closed.  (Note also that this is something sensitive to the languages used by the consumers.)"},{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1667952069,"post_id":74368490,"comment_id":131289911,"body_markdown":"You might have a look at java.time.Duration: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html","body":"You might have a look at java.time.Duration: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/Duration.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":26872796,"reputation":31,"user_id":20454500,"display_name":"Alan 34e9"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667951945,"creation_date":1667951945,"answer_id":74368509,"question_id":74368490,"body_markdown":"Use DurationFormatUtils.formatDurationWords instead:\r\n\r\n```\r\nimport org.apache.commons.lang3.time.DurationFormatUtils;\r\n\r\n...\r\nDurationFormatUtils.formatDurationWords(milliseconds, true, true);\r\n...\r\n```\r\nThe result will be:\r\n`X days Y hours Z minutes` without leading or trailing zero elements\r\n\r\nDetail: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/time/DurationFormatUtils.html#formatDurationWords-long-boolean-boolean-","title":"What&#39;s the easiest way to convert milliseconds to readable String in Java Spring","body":"<p>Use DurationFormatUtils.formatDurationWords instead:</p>\n<pre><code>import org.apache.commons.lang3.time.DurationFormatUtils;\n\n...\nDurationFormatUtils.formatDurationWords(milliseconds, true, true);\n...\n</code></pre>\n<p>The result will be:\n<code>X days Y hours Z minutes</code> without leading or trailing zero elements</p>\n<p>Detail: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/time/DurationFormatUtils.html#formatDurationWords-long-boolean-boolean-\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/time/DurationFormatUtils.html#formatDurationWords-long-boolean-boolean-</a></p>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1668595121,"post_id":74368823,"comment_id":131441818,"body_markdown":"Great answer! I recommend using [`String#trim`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#trim()) which has been available since the beginning. [`String#stripTrailing`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#stripTrailing()) was introduced with Java 11.","body":"Great answer! I recommend using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#trim()\" rel=\"nofollow noreferrer\"><code>String#trim</code></a> which has been available since the beginning. <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#stripTrailing()\" rel=\"nofollow noreferrer\"><code>String#stripTrailing</code></a> was introduced with Java 11."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668065218,"creation_date":1667955536,"answer_id":74368823,"question_id":74368490,"body_markdown":"# `java.time.Duration`\r\n\r\nUse `Duration` to represent a span of time not attached to the timeline, on a scale of hours-minutes-seconds.\r\n\r\n    Duration d = Duration.parse( &quot;PT5M2S&quot; );\r\n\r\nParse your count of milliseconds as a `Duration`.\r\n\r\n    Duration d = Duration.ofMillis( myMillis ) ;\r\n\r\nYou can [manipulate][1] the [standard ISO 8601 output][2] from the [`Duration#toString`][3].\r\n\r\n```java\r\nString output =\r\n        d\r\n                .toString()\r\n                .replace( &quot;PT&quot; , &quot;&quot; )\r\n                .replace( &quot;H&quot; , &quot; hours &quot; )\r\n                .replace( &quot;M&quot; , &quot; minutes &quot; )\r\n                .replace( &quot;S&quot; , &quot; seconds &quot; )\r\n                .stripTrailing();\r\n```\r\n\r\n&gt;output = 5 minutes 2 seconds\r\n\r\nIf you want to get more fancy, such as using singular for a value of one, use the `Duration#toPart` methods. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601#Durations\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html#toString()","title":"What&#39;s the easiest way to convert milliseconds to readable String in Java Spring","body":"<h1><code>java.time.Duration</code></h1>\n<p>Use <code>Duration</code> to represent a span of time not attached to the timeline, on a scale of hours-minutes-seconds.</p>\n<pre><code>Duration d = Duration.parse( &quot;PT5M2S&quot; );\n</code></pre>\n<p>Parse your count of milliseconds as a <code>Duration</code>.</p>\n<pre><code>Duration d = Duration.ofMillis( myMillis ) ;\n</code></pre>\n<p>You can <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\">manipulate</a> the <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">standard ISO 8601 output</a> from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html#toString()\" rel=\"nofollow noreferrer\"><code>Duration#toString</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String output =\n        d\n                .toString()\n                .replace( &quot;PT&quot; , &quot;&quot; )\n                .replace( &quot;H&quot; , &quot; hours &quot; )\n                .replace( &quot;M&quot; , &quot; minutes &quot; )\n                .replace( &quot;S&quot; , &quot; seconds &quot; )\n                .stripTrailing();\n</code></pre>\n<blockquote>\n<p>output = 5 minutes 2 seconds</p>\n</blockquote>\n<p>If you want to get more fancy, such as using singular for a value of one, use the <code>Duration#toPart</code> methods.</p>\n"}],"owner":{"account_id":26872796,"reputation":31,"user_id":20454500,"display_name":"Alan 34e9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74368509,"answer_count":2,"score":1,"last_activity_date":1668065218,"creation_date":1667951695,"question_id":74368490,"body_markdown":"How to convert during(milliseconds) from long to readable String in Java, such as 5 minutes and 2 seconds or 2 hours if no trailing minutes or seconds?\r\n\r\nI have tried TimeUtils, but it still requires a little script to concatenate strings.","title":"What&#39;s the easiest way to convert milliseconds to readable String in Java Spring","body":"<p>How to convert during(milliseconds) from long to readable String in Java, such as 5 minutes and 2 seconds or 2 hours if no trailing minutes or seconds?</p>\n<p>I have tried TimeUtils, but it still requires a little script to concatenate strings.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"comments":[{"owner":{"account_id":10248731,"reputation":60,"user_id":7563713,"display_name":"Eddy Francisco"},"score":0,"creation_date":1647440338,"post_id":71498538,"comment_id":126371889,"body_markdown":"Thank you for your answer Nisa! But, when i set this configuration? In AndroidManifest.xml?","body":"Thank you for your answer Nisa! But, when i set this configuration? In AndroidManifest.xml?"},{"owner":{"account_id":15769823,"reputation":145,"user_id":11379189,"display_name":"Michele Verriello"},"score":2,"creation_date":1647441045,"post_id":71498538,"comment_id":126372193,"body_markdown":"@EddyFrancisco you need to declare the service into the AndroidManifest.xml then create a class that extends the Service Class. You can easily follow the Nisa links.","body":"@EddyFrancisco you need to declare the service into the AndroidManifest.xml then create a class that extends the Service Class. You can easily follow the Nisa links."},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":2,"creation_date":1647442397,"post_id":71498538,"comment_id":126372808,"body_markdown":"I added a simple example for you, you need to adjust it according to your application. Good luck @EddyFrancisco","body":"I added a simple example for you, you need to adjust it according to your application. Good luck @EddyFrancisco"},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":2,"creation_date":1647442441,"post_id":71498538,"comment_id":126372831,"body_markdown":"thank you, I added a simple example for it. @MicheleVerriello","body":"thank you, I added a simple example for it. @MicheleVerriello"},{"owner":{"account_id":10248731,"reputation":60,"user_id":7563713,"display_name":"Eddy Francisco"},"score":1,"creation_date":1650229335,"post_id":71498538,"comment_id":127062124,"body_markdown":"Thanks @NisaEfendioglu, the example works for me!!","body":"Thanks @NisaEfendioglu, the example works for me!!"},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":1,"creation_date":1650269284,"post_id":71498538,"comment_id":127068355,"body_markdown":"I am very happy, good work :) @EddyFrancisco","body":"I am very happy, good work :) @EddyFrancisco"}],"tags":[],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668064757,"creation_date":1647439739,"answer_id":71498538,"question_id":71498261,"body_markdown":"If you add the ability to run your application in the background, it will solve your problem. Resources you can review: \r\n\r\n- https://developer.android.com/guide/components/services\r\n- https://developer.android.com/guide/background/threading\r\n\r\nBasic Example :\r\n\r\n`AndroidManifest.xml` :\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;application\r\n    *\r\n    *\r\n    *\r\n    *\r\n            &lt;service android:name=&quot;.ui.main.AudioPlayerService&quot;/&gt;\r\n    \r\n     &lt;/application&gt;\r\n\r\n\r\n`AudioPlayerService` :\r\n\r\n\r\n        private const val PLAYBACK_CHANNEL_ID = &quot;blabla&quot;\r\n            private const val PLAYBACK_NOTIFICATION_ID = 1\r\n            \r\n            class AudioPlayerService : Service() {\r\n            \r\n                private var player: SimpleExoPlayer? = null\r\n                private var playerNotificationManager: PlayerNotificationManager? = null\r\n                private val mediaItem: MediaItem = MediaItem.fromUri(ApiInterface.Channel24LiveURL)\r\n            \r\n                /** Classes to be connected to the service with the \r\n                 service\r\n                 *reference providing the link between\r\n                 */\r\n                private val mBinder = AudioServiceBinder()\r\n            \r\n                /**\r\n    * Data that the service will share to other classes.             */\r\n                inner class AudioServiceBinder : Binder() {\r\n                    val service\r\n                        get() = this@AudioPlayerService\r\n            \r\n                    val player\r\n                        get() = this@AudioPlayerService.player\r\n                }\r\n            \r\n                override fun onBind(intent: Intent?): IBinder? {\r\n                    return mBinder\r\n                }\r\n            \r\n                /**\r\n                 * Service start part\r\n                 */\r\n                override fun onCreate() {\r\n                    super.onCreate()\r\n            \r\n                    // init player\r\n                    player = SimpleExoPlayer.Builder(this)\r\n                            .build().apply {\r\n                                setMediaItem(mediaItem)\r\n                                playWhenReady = true\r\n                                prepare()\r\n                            }\r\n            \r\n                    playerNotificationManager = PlayerNotificationManager.createWithNotificationChannel(\r\n                            applicationContext,\r\n                            PLAYBACK_CHANNEL_ID,\r\n                            R.string.playback_channel_name,\r\n                            R.string.playback_channel_desc,\r\n                            PLAYBACK_NOTIFICATION_ID,\r\n                            object : PlayerNotificationManager.MediaDescriptionAdapter {\r\n                                override fun getCurrentContentTitle(player: Player): CharSequence {\r\n                                    return getString(R.string.def_playback_title)\r\n                                }\r\n            \r\n                                override fun createCurrentContentIntent(player: Player): PendingIntent? {\r\n                                    return PendingIntent.getActivity(\r\n                                            applicationContext,\r\n                                            0,\r\n                                            Intent(applicationContext, MainActivity::class.java),\r\n                                            PendingIntent.FLAG_CANCEL_CURRENT\r\n                                    )\r\n                                }\r\n            \r\n                                override fun getCurrentContentText(player: Player): CharSequence? {\r\n                                    return null\r\n                                }\r\n            \r\n                                override fun getCurrentLargeIcon(\r\n                                        player: Player,\r\n                                        callback: PlayerNotificationManager.BitmapCallback\r\n                                ): Bitmap? {\r\n                                    return getBitmapFromVectorDrawable(applicationContext, R.mipmap.ic_launcher)\r\n                                }\r\n                            }, object : PlayerNotificationManager.NotificationListener {\r\n                        override fun onNotificationCancelled(notificationId: Int, dismissedByUser: Boolean) {\r\n                            stopSelf()\r\n                        }\r\n            \r\n                        override fun onNotificationPosted(notificationId: Int, notification: Notification, ongoing: Boolean) {\r\n                            if (ongoing) {\r\n                                // Make sure the service will not get destroyed while playing media.\r\n                                startForeground(notificationId, notification)\r\n                            } else {\r\n                                // Make notification cancellable.\r\n                                stopForeground(false)\r\n                            }\r\n                        }\r\n                    }\r\n                    ).apply {\r\n                        //   previous and next actions.\r\n                        setUseNavigationActions(true)\r\n                        setPlayer(player)\r\n                    }\r\n                }\r\n            \r\n                @MainThread\r\n                private fun getBitmapFromVectorDrawable(\r\n                        context: Context,\r\n                        @Suppress(&quot;SameParameterValue&quot;) @DrawableRes drawableId: Int\r\n                ): Bitmap? {\r\n                    return ContextCompat.getDrawable(context, drawableId)?.let {\r\n                        val drawable = DrawableCompat.wrap(it).mutate()\r\n            \r\n                        val bitmap = Bitmap.createBitmap(\r\n                                drawable.intrinsicWidth,\r\n                                drawable.intrinsicHeight,\r\n                                Bitmap.Config.ARGB_8888\r\n                        )\r\n                        val canvas = Canvas(bitmap)\r\n                        drawable.setBounds(0, 0, canvas.width, canvas.height)\r\n                        drawable.draw(canvas)\r\n            \r\n                        bitmap\r\n                    }\r\n                }\r\n            \r\n                @MainThread\r\n                fun changePlayerVolume(view: ImageView) {\r\n                    player?.let {\r\n                        if (it.volume == 1.0f) {\r\n                            it.volume = 0.0f\r\n                            view.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_volume_off))\r\n                        } else {\r\n                            it.volume = 1.0f\r\n                            view.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_volume_up))\r\n                        }\r\n                    }\r\n                }\r\n            \r\n                @MainThread\r\n                fun jumpLiveStream() {\r\n                    player?.let {\r\n                        it.setMediaItem(mediaItem)\r\n                        it.playWhenReady = true\r\n                    }\r\n                }\r\n            \r\n                /**\r\n    * Triggered when the app is closed.             */\r\n                override fun onTaskRemoved(rootIntent: Intent?) {// Stop the service when the user closes the application.l\r\n                    releasePlayer()\r\n                    stopSelf()\r\n                    super.onTaskRemoved(rootIntent)\r\n                }\r\n            \r\n                override fun onDestroy() {\r\n                    releasePlayer()\r\n                    stopSelf()\r\n                    super.onDestroy()\r\n                }\r\n            \r\n                /**\r\n    * delete player and playerNotificationManager             */\r\n                private fun releasePlayer() {\r\n                    player?.let {\r\n                        it.release()\r\n                        player = null\r\n                    }\r\n                    playerNotificationManager?.let {\r\n                        it.setPlayer(null)\r\n                        playerNotificationManager = null\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\nGood luck!","title":"Keep App Android Running after minimize / block phone","body":"<p>If you add the ability to run your application in the background, it will solve your problem. Resources you can review:</p>\n<ul>\n<li><a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/services</a></li>\n<li><a href=\"https://developer.android.com/guide/background/threading\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/background/threading</a></li>\n</ul>\n<p>Basic Example :</p>\n<p><code>AndroidManifest.xml</code> :</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n&lt;application\n*\n*\n*\n*\n        &lt;service android:name=&quot;.ui.main.AudioPlayerService&quot;/&gt;\n\n &lt;/application&gt;\n</code></pre>\n<p><code>AudioPlayerService</code> :</p>\n<pre><code>    private const val PLAYBACK_CHANNEL_ID = &quot;blabla&quot;\n        private const val PLAYBACK_NOTIFICATION_ID = 1\n        \n        class AudioPlayerService : Service() {\n        \n            private var player: SimpleExoPlayer? = null\n            private var playerNotificationManager: PlayerNotificationManager? = null\n            private val mediaItem: MediaItem = MediaItem.fromUri(ApiInterface.Channel24LiveURL)\n        \n            /** Classes to be connected to the service with the \n             service\n             *reference providing the link between\n             */\n            private val mBinder = AudioServiceBinder()\n        \n            /**\n* Data that the service will share to other classes.             */\n            inner class AudioServiceBinder : Binder() {\n                val service\n                    get() = this@AudioPlayerService\n        \n                val player\n                    get() = this@AudioPlayerService.player\n            }\n        \n            override fun onBind(intent: Intent?): IBinder? {\n                return mBinder\n            }\n        \n            /**\n             * Service start part\n             */\n            override fun onCreate() {\n                super.onCreate()\n        \n                // init player\n                player = SimpleExoPlayer.Builder(this)\n                        .build().apply {\n                            setMediaItem(mediaItem)\n                            playWhenReady = true\n                            prepare()\n                        }\n        \n                playerNotificationManager = PlayerNotificationManager.createWithNotificationChannel(\n                        applicationContext,\n                        PLAYBACK_CHANNEL_ID,\n                        R.string.playback_channel_name,\n                        R.string.playback_channel_desc,\n                        PLAYBACK_NOTIFICATION_ID,\n                        object : PlayerNotificationManager.MediaDescriptionAdapter {\n                            override fun getCurrentContentTitle(player: Player): CharSequence {\n                                return getString(R.string.def_playback_title)\n                            }\n        \n                            override fun createCurrentContentIntent(player: Player): PendingIntent? {\n                                return PendingIntent.getActivity(\n                                        applicationContext,\n                                        0,\n                                        Intent(applicationContext, MainActivity::class.java),\n                                        PendingIntent.FLAG_CANCEL_CURRENT\n                                )\n                            }\n        \n                            override fun getCurrentContentText(player: Player): CharSequence? {\n                                return null\n                            }\n        \n                            override fun getCurrentLargeIcon(\n                                    player: Player,\n                                    callback: PlayerNotificationManager.BitmapCallback\n                            ): Bitmap? {\n                                return getBitmapFromVectorDrawable(applicationContext, R.mipmap.ic_launcher)\n                            }\n                        }, object : PlayerNotificationManager.NotificationListener {\n                    override fun onNotificationCancelled(notificationId: Int, dismissedByUser: Boolean) {\n                        stopSelf()\n                    }\n        \n                    override fun onNotificationPosted(notificationId: Int, notification: Notification, ongoing: Boolean) {\n                        if (ongoing) {\n                            // Make sure the service will not get destroyed while playing media.\n                            startForeground(notificationId, notification)\n                        } else {\n                            // Make notification cancellable.\n                            stopForeground(false)\n                        }\n                    }\n                }\n                ).apply {\n                    //   previous and next actions.\n                    setUseNavigationActions(true)\n                    setPlayer(player)\n                }\n            }\n        \n            @MainThread\n            private fun getBitmapFromVectorDrawable(\n                    context: Context,\n                    @Suppress(&quot;SameParameterValue&quot;) @DrawableRes drawableId: Int\n            ): Bitmap? {\n                return ContextCompat.getDrawable(context, drawableId)?.let {\n                    val drawable = DrawableCompat.wrap(it).mutate()\n        \n                    val bitmap = Bitmap.createBitmap(\n                            drawable.intrinsicWidth,\n                            drawable.intrinsicHeight,\n                            Bitmap.Config.ARGB_8888\n                    )\n                    val canvas = Canvas(bitmap)\n                    drawable.setBounds(0, 0, canvas.width, canvas.height)\n                    drawable.draw(canvas)\n        \n                    bitmap\n                }\n            }\n        \n            @MainThread\n            fun changePlayerVolume(view: ImageView) {\n                player?.let {\n                    if (it.volume == 1.0f) {\n                        it.volume = 0.0f\n                        view.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_volume_off))\n                    } else {\n                        it.volume = 1.0f\n                        view.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.ic_volume_up))\n                    }\n                }\n            }\n        \n            @MainThread\n            fun jumpLiveStream() {\n                player?.let {\n                    it.setMediaItem(mediaItem)\n                    it.playWhenReady = true\n                }\n            }\n        \n            /**\n* Triggered when the app is closed.             */\n            override fun onTaskRemoved(rootIntent: Intent?) {// Stop the service when the user closes the application.l\n                releasePlayer()\n                stopSelf()\n                super.onTaskRemoved(rootIntent)\n            }\n        \n            override fun onDestroy() {\n                releasePlayer()\n                stopSelf()\n                super.onDestroy()\n            }\n        \n            /**\n* delete player and playerNotificationManager             */\n            private fun releasePlayer() {\n                player?.let {\n                    it.release()\n                    player = null\n                }\n                playerNotificationManager?.let {\n                    it.setPlayer(null)\n                    playerNotificationManager = null\n                }\n            }\n        }\n</code></pre>\n<p>Good luck!</p>\n"}],"owner":{"account_id":10248731,"reputation":60,"user_id":7563713,"display_name":"Eddy Francisco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1647441625,"accepted_answer_id":71498538,"answer_count":1,"score":1,"last_activity_date":1668064757,"creation_date":1647438597,"question_id":71498261,"body_markdown":"I&#39;ve createde a simple app (following this link [How to Play Sound On Button Click in Android Studio Java 2021][1] ), and everything works fine, but, i need this app can still playing the sound after minimize then or  block the phone (is a white noise app from help on sleep for my baby daughter, and i need that keep playing all night). \r\n\r\nIs there any way or setting that allows the sound not to stop after minimizing or blocking the application?\r\n\r\nThank you for enveryone that could help me and my baby :)\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=QcBsn2uB6wg","title":"Keep App Android Running after minimize / block phone","body":"<p>I've createde a simple app (following this link <a href=\"https://www.youtube.com/watch?v=QcBsn2uB6wg\" rel=\"nofollow noreferrer\">How to Play Sound On Button Click in Android Studio Java 2021</a> ), and everything works fine, but, i need this app can still playing the sound after minimize then or  block the phone (is a white noise app from help on sleep for my baby daughter, and i need that keep playing all night).</p>\n<p>Is there any way or setting that allows the sound not to stop after minimizing or blocking the application?</p>\n<p>Thank you for enveryone that could help me and my baby :)</p>\n"},{"tags":["java","spring-boot","yaml","java-7"],"answers":[{"tags":[],"owner":{"account_id":10380944,"reputation":333,"user_id":8682210,"display_name":"McLayn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654611343,"creation_date":1654610975,"answer_id":72532695,"question_id":72532694,"body_markdown":"It looks like this old version of Spring Boot splits arrays by commas and ignores any escaping attempt. I ended up with the following: \r\n\r\nYAML (use semicolons instead of commas):\r\n```YAML\r\nelement:\r\n  list: &gt;\r\n    aa;aa,\r\n    bb;bb\r\n```\r\nJava (replace `;` -&gt; `,` in `@PostConstruct`):\r\n```Java\r\n@Value(&quot;${element.list}&quot;)\r\nprotected String[] elementList;\r\n\r\n@PostConstruct\r\nprivate void postConstruct() {\r\n    for (int i = 0; i &lt; elementList.length; i++) {\r\n        elementList[i] = elementList[i].replace(&quot;;&quot;, &quot;,&quot;);\r\n    }\r\n}\r\n\r\n```","title":"Spring Boot YAML configuration for a list of strings containing commas","body":"<p>It looks like this old version of Spring Boot splits arrays by commas and ignores any escaping attempt. I ended up with the following:</p>\n<p>YAML (use semicolons instead of commas):</p>\n<pre><code>element:\n  list: &gt;\n    aa;aa,\n    bb;bb\n</code></pre>\n<p>Java (replace <code>;</code> -&gt; <code>,</code> in <code>@PostConstruct</code>):</p>\n<pre><code>@Value(&quot;${element.list}&quot;)\nprotected String[] elementList;\n\n@PostConstruct\nprivate void postConstruct() {\n    for (int i = 0; i &lt; elementList.length; i++) {\n        elementList[i] = elementList[i].replace(&quot;;&quot;, &quot;,&quot;);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3821003,"reputation":21,"user_id":3169115,"display_name":"Patrick He"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668064629,"creation_date":1668064629,"answer_id":74385349,"question_id":72532694,"body_markdown":"I recently come up with this exactly same problem and it needs to apply the custom delimiter instead of the default delimiter comma.\r\n\r\nIn config, you could do:\r\n\r\n    element:\r\n      list: aa,aa;bb,bb;cc,cc\r\n\r\nAnd do the following when you injecting the property:\r\n\r\n    @Value(&quot;#{&#39;${element.list}&#39;.split(&#39;;&#39;)}&quot;)\r\n    protected List&lt;String&gt; elementList;\r\n\r\nReference: https://www.baeldung.com/spring-inject-arrays-lists","title":"Spring Boot YAML configuration for a list of strings containing commas","body":"<p>I recently come up with this exactly same problem and it needs to apply the custom delimiter instead of the default delimiter comma.</p>\n<p>In config, you could do:</p>\n<pre><code>element:\n  list: aa,aa;bb,bb;cc,cc\n</code></pre>\n<p>And do the following when you injecting the property:</p>\n<pre><code>@Value(&quot;#{'${element.list}'.split(';')}&quot;)\nprotected List&lt;String&gt; elementList;\n</code></pre>\n<p>Reference: <a href=\"https://www.baeldung.com/spring-inject-arrays-lists\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-inject-arrays-lists</a></p>\n"}],"owner":{"account_id":10380944,"reputation":333,"user_id":8682210,"display_name":"McLayn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72532695,"answer_count":2,"score":0,"last_activity_date":1668064629,"creation_date":1654610975,"question_id":72532694,"body_markdown":"I&#39;m using Spring Boot version 1.5.22 because of Java 7 compatibility - legacy stuff, museum grade, don&#39;t use.\r\n\r\nI need an array of strings containing commas in YAML config for Spring Boot. \r\nThe problem is that this old Spring Boot doesn&#39;t fully support all YAML features - namely arrays are implemented a bit hacky. \r\n\r\nFor other arrays of strings (not containing commas), I use the following: \r\n\r\nYAML:\r\n```YAML\r\nelement:\r\n  list: &gt;\r\n    aaaa,\r\n    bbbb\r\n```\r\nJava:\r\n```Java\r\n@Value(&quot;${element.list}&quot;)\r\nprotected String[] elementList;\r\n```\r\n\r\n\r\nHowever, with commas, the following either ended with an empty array, or ignored any escaping I tried and got split by all the commas: \r\n\r\nYAML:\r\n```YAML\r\nelement:\r\n  list: &gt;\r\n    aa,aa,\r\n    bb,bb\r\n```\r\n```YAML\r\nelement:\r\n  list: &gt;\r\n    &quot;aa,aa&quot;,\r\n    &quot;bb,bb&quot;\r\n```\r\n```YAML\r\nelement:\r\n  list: &gt;\r\n    &#39;aa,aa&#39;,\r\n    &#39;bb,bb&#39;\r\n```\r\n```YAML\r\nelement:\r\n  list: &gt;\r\n    aa\\,aa,\r\n    bb\\,bb\r\n```\r\n```YAML\r\nelement:\r\n  list: [\r\n    &quot;aa,aa&quot;,\r\n    &quot;bb,bb&quot;\r\n  ]\r\n```\r\n```YAML\r\nelement:\r\n  list:\r\n    - aa,aa\r\n    - bb,bb\r\n```\r\n```YAML\r\nelement:\r\n  list:\r\n    - &quot;aa,aa&quot;\r\n    - &quot;bb,bb&quot;\r\n```","title":"Spring Boot YAML configuration for a list of strings containing commas","body":"<p>I'm using Spring Boot version 1.5.22 because of Java 7 compatibility - legacy stuff, museum grade, don't use.</p>\n<p>I need an array of strings containing commas in YAML config for Spring Boot.\nThe problem is that this old Spring Boot doesn't fully support all YAML features - namely arrays are implemented a bit hacky.</p>\n<p>For other arrays of strings (not containing commas), I use the following:</p>\n<p>YAML:</p>\n<pre><code>element:\n  list: &gt;\n    aaaa,\n    bbbb\n</code></pre>\n<p>Java:</p>\n<pre><code>@Value(&quot;${element.list}&quot;)\nprotected String[] elementList;\n</code></pre>\n<p>However, with commas, the following either ended with an empty array, or ignored any escaping I tried and got split by all the commas:</p>\n<p>YAML:</p>\n<pre><code>element:\n  list: &gt;\n    aa,aa,\n    bb,bb\n</code></pre>\n<pre><code>element:\n  list: &gt;\n    &quot;aa,aa&quot;,\n    &quot;bb,bb&quot;\n</code></pre>\n<pre><code>element:\n  list: &gt;\n    'aa,aa',\n    'bb,bb'\n</code></pre>\n<pre><code>element:\n  list: &gt;\n    aa\\,aa,\n    bb\\,bb\n</code></pre>\n<pre><code>element:\n  list: [\n    &quot;aa,aa&quot;,\n    &quot;bb,bb&quot;\n  ]\n</code></pre>\n<pre><code>element:\n  list:\n    - aa,aa\n    - bb,bb\n</code></pre>\n<pre><code>element:\n  list:\n    - &quot;aa,aa&quot;\n    - &quot;bb,bb&quot;\n</code></pre>\n"},{"tags":["java","android","flutter","kotlin","dart"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668342560,"post_id":74385304,"comment_id":131377088,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74385304/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24842802,"reputation":1,"user_id":18720620,"display_name":"Tony Chopper"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668064552,"creation_date":1668064358,"answer_id":74385304,"question_id":73656175,"body_markdown":"Change:\r\n**context** =&gt; **applicationContext**. \r\n\r\nThis is the workaround for my problem. You can try.","title":"Flutter local_auth platform exception requires activity to be a fragmentactivity flutter","body":"<p>Change:\n<strong>context</strong> =&gt; <strong>applicationContext</strong>.</p>\n<p>This is the workaround for my problem. You can try.</p>\n"}],"owner":{"account_id":10381830,"reputation":1102,"user_id":7674430,"display_name":"hesham shawky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668064552,"creation_date":1662683200,"question_id":73656175,"body_markdown":"I am using the plugin `local_auth` to let users authenticate by their fingerprint, now I know that there are some changes that need to be done on &#39;mainActivity.kt&#39; so the plugin gets working without the error `local_auth plugin requires activity to be a fragmentactivity flutter`\r\n\r\nbut the problem is I am using google_ads plugin too and I am registering native ads with it that using the context inside the class FlutterActivity so I can&#39;t change it to FlutterFragmentActivity or I am getting `Unresolved reference: context`\r\n\r\n```kt\r\npackage app.masarifi\r\n\r\nimport io.flutter.embedding.android.FlutterFragmentActivity\r\nimport io.flutter.embedding.android.FlutterActivity\r\nimport io.flutter.embedding.engine.FlutterEngine\r\nimport io.flutter.plugins.GeneratedPluginRegistrant\r\nimport io.flutter.plugins.googlemobileads.GoogleMobileAdsPlugin\r\n\r\n\r\nclass MainActivity: FlutterActivity() {\r\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\r\n        super.configureFlutterEngine(flutterEngine)\r\n//        GeneratedPluginRegistrant.registerWith(flutterEngine)\r\n//\r\n        GoogleMobileAdsPlugin.registerNativeAdFactory(\r\n                flutterEngine, &quot;listTile&quot;, ListTileNativeAdFactory(context))\r\n\r\n        GoogleMobileAdsPlugin.registerNativeAdFactory(\r\n                flutterEngine, &quot;mediumAd&quot;, MediumNativeAdFactory(context))\r\n\r\n    }\r\n\r\n    override fun cleanUpFlutterEngine(flutterEngine: FlutterEngine) {\r\n        super.cleanUpFlutterEngine(flutterEngine)\r\n\r\n        GoogleMobileAdsPlugin.unregisterNativeAdFactory(flutterEngine, &quot;listTile&quot;)\r\n        GoogleMobileAdsPlugin.unregisterNativeAdFactory(flutterEngine, &quot;mediumAd&quot;)\r\n    }\r\n\r\n}\r\n```","title":"Flutter local_auth platform exception requires activity to be a fragmentactivity flutter","body":"<p>I am using the plugin <code>local_auth</code> to let users authenticate by their fingerprint, now I know that there are some changes that need to be done on 'mainActivity.kt' so the plugin gets working without the error <code>local_auth plugin requires activity to be a fragmentactivity flutter</code></p>\n<p>but the problem is I am using google_ads plugin too and I am registering native ads with it that using the context inside the class FlutterActivity so I can't change it to FlutterFragmentActivity or I am getting <code>Unresolved reference: context</code></p>\n<pre><code>package app.masarifi\n\nimport io.flutter.embedding.android.FlutterFragmentActivity\nimport io.flutter.embedding.android.FlutterActivity\nimport io.flutter.embedding.engine.FlutterEngine\nimport io.flutter.plugins.GeneratedPluginRegistrant\nimport io.flutter.plugins.googlemobileads.GoogleMobileAdsPlugin\n\n\nclass MainActivity: FlutterActivity() {\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\n        super.configureFlutterEngine(flutterEngine)\n//        GeneratedPluginRegistrant.registerWith(flutterEngine)\n//\n        GoogleMobileAdsPlugin.registerNativeAdFactory(\n                flutterEngine, &quot;listTile&quot;, ListTileNativeAdFactory(context))\n\n        GoogleMobileAdsPlugin.registerNativeAdFactory(\n                flutterEngine, &quot;mediumAd&quot;, MediumNativeAdFactory(context))\n\n    }\n\n    override fun cleanUpFlutterEngine(flutterEngine: FlutterEngine) {\n        super.cleanUpFlutterEngine(flutterEngine)\n\n        GoogleMobileAdsPlugin.unregisterNativeAdFactory(flutterEngine, &quot;listTile&quot;)\n        GoogleMobileAdsPlugin.unregisterNativeAdFactory(flutterEngine, &quot;mediumAd&quot;)\n    }\n\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":3,"creation_date":1480682794,"post_id":40932538,"comment_id":69076021,"body_markdown":"And what is your question? How to create the screenshots; or how to come up with a naming reasonable naming scheme?","body":"And what is your question? How to create the screenshots; or how to come up with a naming reasonable naming scheme?"},{"owner":{"account_id":9768479,"reputation":3,"user_id":7241190,"display_name":"Prakash"},"score":0,"creation_date":1480684666,"post_id":40932538,"comment_id":69077196,"body_markdown":"my question was how to create multiple screenshots, i have managed to get the screenshot ,but i dont want to update on the previous screenshot","body":"my question was how to create multiple screenshots, i have managed to get the screenshot ,but i dont want to update on the previous screenshot"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1480686113,"post_id":40932538,"comment_id":69078132,"body_markdown":"You see, that is what I mean with **naming** scheme. Your are overwriting your screen shots because you are always using the same **name** for the file. Thus: you should think of a way of making those file names unique, and probably &quot;telling&quot; (so that the file name tells you about the path it was taken)","body":"You see, that is what I mean with <b>naming</b> scheme. Your are overwriting your screen shots because you are always using the same <b>name</b> for the file. Thus: you should think of a way of making those file names unique, and probably &quot;telling&quot; (so that the file name tells you about the path it was taken)"}],"answers":[{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1480686197,"post_id":40932842,"comment_id":69078189,"body_markdown":"You could add some hints to also add information to the filename that indicates about error path or such thing. Just counting up files will for sure help, but will give him a lot of nothing-saying filenames in the end.","body":"You could add some hints to also add information to the filename that indicates about error path or such thing. Just counting up files will for sure help, but will give him a lot of nothing-saying filenames in the end."},{"owner":{"account_id":9768479,"reputation":3,"user_id":7241190,"display_name":"Prakash"},"score":0,"creation_date":1480696548,"post_id":40932842,"comment_id":69085270,"body_markdown":"Yes its just counting the files, there is nearly 800 pages so we dont know how many of them are broken pages, so it is hard for to give a unique name for every screenshot","body":"Yes its just counting the files, there is nearly 800 pages so we dont know how many of them are broken pages, so it is hard for to give a unique name for every screenshot"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1480706787,"post_id":40932842,"comment_id":69090619,"body_markdown":"A downside to this approach not mentioned is that if you run the script a second time, it will overwrite these screenshots. You may even end up with a mix of last run and this run depending on how many new screenshots are taken.","body":"A downside to this approach not mentioned is that if you run the script a second time, it will overwrite these screenshots. You may even end up with a mix of last run and this run depending on how many new screenshots are taken."}],"tags":[],"owner":{"account_id":5120989,"reputation":6044,"user_id":4104555,"display_name":"ProgrammersBlock"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480683615,"creation_date":1480683615,"answer_id":40932842,"question_id":40932538,"body_markdown":"To stop overwriting the output file you would have to give every screenshot a unique name.  \r\nSomewhere in the code, create the counter\r\n    \r\n    int counter = 1;\r\nthen\r\n\r\n    FileUtils.copyFile(scrFile, new File(&quot;outputfile&quot; + counter));\r\n    counter++;\r\n\r\nSo the counter gives the destination file a different name after every copyFile.\r\n","title":"How to Capture multiple screenshots (not overriding the previous one)through selenium webdriver using java","body":"<p>To stop overwriting the output file you would have to give every screenshot a unique name.<br>\nSomewhere in the code, create the counter</p>\n\n<pre><code>int counter = 1;\n</code></pre>\n\n<p>then</p>\n\n<pre><code>FileUtils.copyFile(scrFile, new File(\"outputfile\" + counter));\ncounter++;\n</code></pre>\n\n<p>So the counter gives the destination file a different name after every copyFile.</p>\n"},{"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1480706957,"post_id":40939548,"comment_id":69090683,"body_markdown":"You can, of course, modify the date time stamp to whatever format you want by changing the format in `SimpleDateFormat()`. This would be even more useful if you put some info about the page it was on or the link that was clicked or ... anything else. You might be better off logging a lot of this info about page, links, etc. and then reference the filename of the corresponding screenshot.","body":"You can, of course, modify the date time stamp to whatever format you want by changing the format in <code>SimpleDateFormat()</code>. This would be even more useful if you put some info about the page it was on or the link that was clicked or ... anything else. You might be better off logging a lot of this info about page, links, etc. and then reference the filename of the corresponding screenshot."},{"owner":{"account_id":9768479,"reputation":3,"user_id":7241190,"display_name":"Prakash"},"score":0,"creation_date":1480953891,"post_id":40939548,"comment_id":69166101,"body_markdown":"Thanks Jeffc for your detailed script, i have used your logic with some minor changes its works great","body":"Thanks Jeffc for your detailed script, i have used your logic with some minor changes its works great"}],"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1480706631,"creation_date":1480706631,"answer_id":40939548,"question_id":40932538,"body_markdown":"I would do a few things to clean this process up.\r\n\r\n1. Put your screenshot code into a function.\r\n\r\n2. Add a date time stamp to your screenshot filename. That will give each file a unique name.\r\n\r\n3. Add a short error string to the screenshot filename. That will enable you to quickly see how many of each error type are present. Bonus points for creating a folder for each error type and only placing screenshots of that particular error in that folder.\r\n\r\nYour script will look like\r\n\r\n    String imageOutputPath = &quot;the path to the folder that stores the screenshots&quot;;\r\n    if (driver.getTitle().contains(&quot;404&quot;))\r\n    {\r\n        takeScreenshotOfPage(driver, imageOutputPath + &quot;404 error &quot; + getDateTimeStamp() + &quot;.png&quot;);\r\n    }\r\n    else if (some other error)\r\n    {\r\n        takeScreenshotOfPage(driver, imageOutputPath + &quot;some other error &quot; + getDateTimeStamp() + &quot;.png&quot;);\r\n    }\r\n    else if (yet another error)\r\n    {\r\n        takeScreenshotOfPage(driver, imageOutputPath + &quot;yet another error &quot; + getDateTimeStamp() + &quot;.png&quot;);\r\n    }\r\n\r\nand the function to take a screenshot\r\n\r\n    public static void takeScreenshotOfPage(WebDriver driver, String filePath) throws IOException\r\n    {\r\n        File srcFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n        BufferedImage srcImage = ImageIO.read(srcFile);\r\n        ImageIO.write(srcImage, &quot;png&quot;, new File(filePath));\r\n    }\r\n\r\nand the function to make a filename friendly date-time stamp\r\n\r\n    public static String getDateTimeStamp()\r\n    {\r\n        // creates a date time stamp that is Windows OS filename compatible\r\n        return new SimpleDateFormat(&quot;MMM dd HH.mm.ss&quot;).format(Calendar.getInstance().getTime());\r\n    }\r\n\r\nWhat you will end up with are filenames like the below that are neatly sorted by error type, each with a unique file name.\r\n\r\n    404 error Dec 02 13.21.18.png\r\n    404 error Dec 02 13.22.29.png\r\n    404 error Dec 02 13.22.39.png\r\n    some other error Dec 02 13.21.25.png\r\n    some other error Dec 02 13.22.50.png\r\n    some other error Dec 02 13.22.56.png\r\n    yet another error Dec 02 13.21.34.png\r\n    yet another error Dec 02 13.23.02.png\r\n    yet another error Dec 02 13.23.09.png","title":"How to Capture multiple screenshots (not overriding the previous one)through selenium webdriver using java","body":"<p>I would do a few things to clean this process up.</p>\n\n<ol>\n<li><p>Put your screenshot code into a function.</p></li>\n<li><p>Add a date time stamp to your screenshot filename. That will give each file a unique name.</p></li>\n<li><p>Add a short error string to the screenshot filename. That will enable you to quickly see how many of each error type are present. Bonus points for creating a folder for each error type and only placing screenshots of that particular error in that folder.</p></li>\n</ol>\n\n<p>Your script will look like</p>\n\n<pre><code>String imageOutputPath = \"the path to the folder that stores the screenshots\";\nif (driver.getTitle().contains(\"404\"))\n{\n    takeScreenshotOfPage(driver, imageOutputPath + \"404 error \" + getDateTimeStamp() + \".png\");\n}\nelse if (some other error)\n{\n    takeScreenshotOfPage(driver, imageOutputPath + \"some other error \" + getDateTimeStamp() + \".png\");\n}\nelse if (yet another error)\n{\n    takeScreenshotOfPage(driver, imageOutputPath + \"yet another error \" + getDateTimeStamp() + \".png\");\n}\n</code></pre>\n\n<p>and the function to take a screenshot</p>\n\n<pre><code>public static void takeScreenshotOfPage(WebDriver driver, String filePath) throws IOException\n{\n    File srcFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n    BufferedImage srcImage = ImageIO.read(srcFile);\n    ImageIO.write(srcImage, \"png\", new File(filePath));\n}\n</code></pre>\n\n<p>and the function to make a filename friendly date-time stamp</p>\n\n<pre><code>public static String getDateTimeStamp()\n{\n    // creates a date time stamp that is Windows OS filename compatible\n    return new SimpleDateFormat(\"MMM dd HH.mm.ss\").format(Calendar.getInstance().getTime());\n}\n</code></pre>\n\n<p>What you will end up with are filenames like the below that are neatly sorted by error type, each with a unique file name.</p>\n\n<pre><code>404 error Dec 02 13.21.18.png\n404 error Dec 02 13.22.29.png\n404 error Dec 02 13.22.39.png\nsome other error Dec 02 13.21.25.png\nsome other error Dec 02 13.22.50.png\nsome other error Dec 02 13.22.56.png\nyet another error Dec 02 13.21.34.png\nyet another error Dec 02 13.23.02.png\nyet another error Dec 02 13.23.09.png\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26886484,"reputation":11,"user_id":20465976,"display_name":"Abhijeet Luthra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668064397,"creation_date":1668064397,"answer_id":74385306,"question_id":40932538,"body_markdown":"You can use current Date Time Stamp and append this with the image format","title":"How to Capture multiple screenshots (not overriding the previous one)through selenium webdriver using java","body":"<p>You can use current Date Time Stamp and append this with the image format</p>\n"}],"owner":{"account_id":9768479,"reputation":3,"user_id":7241190,"display_name":"Prakash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40939548,"answer_count":3,"score":0,"last_activity_date":1668064397,"creation_date":1480682646,"question_id":40932538,"body_markdown":"I would like to take a multiple screenshots in selenium using java.  \r\nFor example, I am trying to navigate all the links in my website. While navigating, if there are errors (e.g. page not found, server error), I want to capture all the errors in the screenshots individually. currently it&#39;s overriding the previous one.\r\n    \r\n\r\n\r\n    if(driver.getTitle().contains(&quot;404&quot;)) \r\n    {\r\n\t    System.out.println(&quot;Fail&quot;);\r\n\t       File scrFile = (TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\r\n\t\t    try {\r\n\t\t\t\r\n\t\t\t    FileUtils.copyFile(scrFile, new File(&quot;outputfile&quot;));\r\n\t\t\t    }catch(IOException e){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t    e.printStackTrace();\r\n\t\t\t}\r\n\t    \t     \r\n\t    \t }\r\n\t    \t    \r\n\t    \t    else\r\n\t    \t    \t\r\n\t    \t    {\r\n\t    \t    \t\r\n\t    \t     System.out.println(&quot;Pass&quot;);\r\n\t    \t     \r\n\t    \t    }","title":"How to Capture multiple screenshots (not overriding the previous one)through selenium webdriver using java","body":"<p>I would like to take a multiple screenshots in selenium using java.<br>\nFor example, I am trying to navigate all the links in my website. While navigating, if there are errors (e.g. page not found, server error), I want to capture all the errors in the screenshots individually. currently it's overriding the previous one.</p>\n\n<pre><code>if(driver.getTitle().contains(\"404\")) \n{\n    System.out.println(\"Fail\");\n       File scrFile = (TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\n        try {\n\n            FileUtils.copyFile(scrFile, new File(\"outputfile\"));\n            }catch(IOException e){\n\n                e.printStackTrace();\n        }\n\n         }\n\n            else\n\n            {\n\n             System.out.println(\"Pass\");\n\n            }\n</code></pre>\n"},{"tags":["java","dynamic","return-type"],"comments":[{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":1,"creation_date":1321672895,"post_id":8191536,"comment_id":10064902,"body_markdown":"You **can&#39;t** return `float` or `boolean` from a method with a signature that says it returns `Comparable` (which really should be `Comparable&lt;?&gt;`, by the way).  You can only return `Float` or `Boolean`, etc.","body":"You <b>can&#39;t</b> return <code>float</code> or <code>boolean</code> from a method with a signature that says it returns <code>Comparable</code> (which really should be <code>Comparable&lt;?&gt;</code>, by the way).  You can only return <code>Float</code> or <code>Boolean</code>, etc."},{"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"score":0,"creation_date":1321673023,"post_id":8191536,"comment_id":10064918,"body_markdown":"perhaps a better question for my situation is &quot;Is there a way to cast the return type so that the method can be called without having to cast into a variable?&quot;","body":"perhaps a better question for my situation is &quot;Is there a way to cast the return type so that the method can be called without having to cast into a variable?&quot;"},{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1321673111,"post_id":8191536,"comment_id":10064927,"body_markdown":"Not in pure Java.  (IIRC, it can be done in Java bytecode, but I might be getting confused with MSIL.)","body":"Not in pure Java.  (IIRC, it can be done in Java bytecode, but I might be getting confused with MSIL.)"}],"answers":[{"comments":[{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":1,"creation_date":1321673015,"post_id":8191623,"comment_id":10064916,"body_markdown":"I almost upvoted, but you say that `Object` is the common superclass of primitives.  That&#39;s not actually true in Java.  Primitives have no common superclass, although they can be *boxed* into reference type equivalents that do.","body":"I almost upvoted, but you say that <code>Object</code> is the common superclass of primitives.  That&#39;s not actually true in Java.  Primitives have no common superclass, although they can be <i>boxed</i> into reference type equivalents that do."},{"owner":{"account_id":474598,"reputation":4067,"user_id":884373,"accept_rate":71,"display_name":"Kane"},"score":1,"creation_date":1321674039,"post_id":8191623,"comment_id":10065015,"body_markdown":"You are correct in that primitives are not Objects, but will be boxed into those automatically. I&#39;m updating my answer to reflect this.","body":"You are correct in that primitives are not Objects, but will be boxed into those automatically. I&#39;m updating my answer to reflect this."}],"tags":[],"owner":{"account_id":474598,"reputation":4067,"user_id":884373,"accept_rate":71,"display_name":"Kane"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321674109,"creation_date":1321672741,"answer_id":8191623,"question_id":8191536,"body_markdown":"If you are really only returning a `boolean` or a `float`, then the best you can do is `Object`.\r\n\r\nIf you are returning variable objects, you have to choose a return type with the least common superclass. Primitives don&#39;t have a superclass, but they will be boxed into Object representations (like `Boolean` and `Float`) which have a common superclass of `Object`.","title":"Dynamic Return Type in Java method","body":"<p>If you are really only returning a <code>boolean</code> or a <code>float</code>, then the best you can do is <code>Object</code>.</p>\n\n<p>If you are returning variable objects, you have to choose a return type with the least common superclass. Primitives don't have a superclass, but they will be boxed into Object representations (like <code>Boolean</code> and <code>Float</code>) which have a common superclass of <code>Object</code>.</p>\n"},{"comments":[{"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"score":0,"creation_date":1321673384,"post_id":8191649,"comment_id":10064958,"body_markdown":"might you be able to provide an example? Or point me towards one? I understand what you&#39;re saying to do, but it would be a lot easier to look at the code for it.","body":"might you be able to provide an example? Or point me towards one? I understand what you&#39;re saying to do, but it would be a lot easier to look at the code for it."},{"owner":{"account_id":57685,"reputation":1790,"user_id":172821,"accept_rate":40,"display_name":"ddyer"},"score":0,"creation_date":1323038293,"post_id":8191649,"comment_id":10341331,"body_markdown":"public class genericvalue { String returnStringvalue(){} int returnIntvalue() {} } and so on, where each method does whatever it takes to produce a value of the desired type.","body":"public class genericvalue { String returnStringvalue(){} int returnIntvalue() {} } and so on, where each method does whatever it takes to produce a value of the desired type."},{"owner":{"account_id":1762889,"reputation":415,"user_id":1609480,"display_name":"Danieth"},"score":1,"creation_date":1436806594,"post_id":8191649,"comment_id":50754935,"body_markdown":"@ddyer your answer is incorrect. You can have dynamic return types in Java. Look at my answer below for an example tailored to this question.","body":"@ddyer your answer is incorrect. You can have dynamic return types in Java. Look at my answer below for an example tailored to this question."},{"owner":{"account_id":57685,"reputation":1790,"user_id":172821,"accept_rate":40,"display_name":"ddyer"},"score":0,"creation_date":1436812287,"post_id":8191649,"comment_id":50758276,"body_markdown":"@danieth Wow!  I had completely missed this bit of generic type magic.   It seems that for fundamental types it costs boxing and unboxing the item, and it always costs a type check on the receiving end, but it definitely can be used to make cleaner and more natural code.","body":"@danieth Wow!  I had completely missed this bit of generic type magic.   It seems that for fundamental types it costs boxing and unboxing the item, and it always costs a type check on the receiving end, but it definitely can be used to make cleaner and more natural code."}],"tags":[],"owner":{"account_id":57685,"reputation":1790,"user_id":172821,"accept_rate":40,"display_name":"ddyer"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1436812994,"creation_date":1321673132,"answer_id":8191649,"question_id":8191536,"body_markdown":"You can&#39;t do it.  Java return types have to be either a fixed fundamental type\r\nor an object class.  I&#39;m pretty sure the best you can do is return a wrapper type\r\nwhich has methods to fetch various possible types of values, and an internal enum\r\nwhich says which one is valid.\r\n\r\n--- edit --- after Danieth&#39;s correction!\r\n\r\n    \r\n    public &lt;Any&gt; Any getParam(boolean b){\r\n    return((Any)((Boolean)(!b)));\r\n    }\r\n    public &lt;Any&gt; Any getParam(float a) {\r\n     return((Any)((Float)(a+1)));\r\n    }\r\n    public &lt;Any&gt; Any getParam(Object b) {\r\n     return((Any)b);\r\n    }\r\n    public void test(){\r\n      boolean foo = getParam(true);\r\n      float bar = getParam(1.0f);\r\n      float mumble = getParam(this); // will get a class cast exception\r\n    }\r\n\r\nYou still incur some penalties for boxing items and type checking\r\nthe returned values, and of course if your call isn&#39;t consistent with\r\nwhat the implementations of getParam actually do, you&#39;ll get a class\r\ncast exception.\r\n\r\n","title":"Dynamic Return Type in Java method","body":"<p>You can't do it.  Java return types have to be either a fixed fundamental type\nor an object class.  I'm pretty sure the best you can do is return a wrapper type\nwhich has methods to fetch various possible types of values, and an internal enum\nwhich says which one is valid.</p>\n\n<p>--- edit --- after Danieth's correction!</p>\n\n<pre><code>public &lt;Any&gt; Any getParam(boolean b){\nreturn((Any)((Boolean)(!b)));\n}\npublic &lt;Any&gt; Any getParam(float a) {\n return((Any)((Float)(a+1)));\n}\npublic &lt;Any&gt; Any getParam(Object b) {\n return((Any)b);\n}\npublic void test(){\n  boolean foo = getParam(true);\n  float bar = getParam(1.0f);\n  float mumble = getParam(this); // will get a class cast exception\n}\n</code></pre>\n\n<p>You still incur some penalties for boxing items and type checking\nthe returned values, and of course if your call isn't consistent with\nwhat the implementations of getParam actually do, you'll get a class\ncast exception.</p>\n"},{"comments":[{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1321684192,"post_id":8191872,"comment_id":10065949,"body_markdown":"I think you&#39;re on the right track here, but I don&#39;t quite follow what you&#39;re proposing.  In the question, Jon has a `byte[]` and wants to pass in a String and get back a value that he can assign to a primitive without casting.  I don&#39;t think that&#39;s actually possible.  You&#39;re right, if instead of passing in a String, you pass some more complex object, you can utilize generics to get the right kind of value back.","body":"I think you&#39;re on the right track here, but I don&#39;t quite follow what you&#39;re proposing.  In the question, Jon has a <code>byte[]</code> and wants to pass in a String and get back a value that he can assign to a primitive without casting.  I don&#39;t think that&#39;s actually possible.  You&#39;re right, if instead of passing in a String, you pass some more complex object, you can utilize generics to get the right kind of value back."},{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":2,"creation_date":1321684359,"post_id":8191872,"comment_id":10065962,"body_markdown":"On the other hand, there&#39;s no way you can implement your `T getSomething()` method without at least a unchecked cast, so you potentially fail at runtime if it&#39;s used incorrectly (e.g. `Boolean foo = getSomething(&quot;someFloatParam&quot;);`).  At that point, you&#39;re probably better off just using an explicit cast, since then it&#39;s clear that you could get a `ClassCastException` at that point.","body":"On the other hand, there&#39;s no way you can implement your <code>T getSomething()</code> method without at least a unchecked cast, so you potentially fail at runtime if it&#39;s used incorrectly (e.g. <code>Boolean foo = getSomething(&quot;someFloatParam&quot;);</code>).  At that point, you&#39;re probably better off just using an explicit cast, since then it&#39;s clear that you could get a <code>ClassCastException</code> at that point."}],"tags":[],"owner":{"account_id":215963,"reputation":7621,"user_id":470912,"accept_rate":71,"display_name":"hisdrewness"},"comment_count":2,"down_vote_count":2,"up_vote_count":33,"is_accepted":false,"score":31,"last_activity_date":1321676437,"creation_date":1321676437,"answer_id":8191872,"question_id":8191536,"body_markdown":"I don&#39;t know what these people are talking about. You lose type safety, which is a concern, but you could easily accomplish this with generics...something like:\r\n\r\n    public &lt;T&gt; T getSomething(...) { }\r\n\r\nor\r\n\r\n    interface Wrapper&lt;T&gt; { T getObject(); }\r\n\r\n    public &lt;T&gt; Wrapper&lt;T&gt; getSomething(...) { }\r\n\r\nThe latter promotes the possibility of a [strategy pattern][1]. Pass the bytes to the strategy, let it execute and retrieve the output. You would have a Byte strategy, Boolean strategy, etc.\r\n\r\n    abstract class Strategy&lt;T&gt; {\r\n        final byte[] bytes;\r\n    \r\n        Strategy(byte[] bytes) { this.bytes = bytes; }\r\n    \r\n        protected abstract T execute();\r\n    }\r\n\r\nthen\r\n\r\n    class BooleanStrategy extends Strategy&lt;Boolean&gt; {\r\n        public BooleanStrategy(byte[] bytes) { super(bytes); }\r\n    \r\n        @Override\r\n        public Boolean execute() {\r\n            return bytes[0] != 0;\r\n        }\r\n    \r\n    }\r\n\r\nYour example code is a bad use case though and I wouldn&#39;t recommend it. Your method doesn&#39;t make much sense.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Strategy_pattern","title":"Dynamic Return Type in Java method","body":"<p>I don't know what these people are talking about. You lose type safety, which is a concern, but you could easily accomplish this with generics...something like:</p>\n\n<pre><code>public &lt;T&gt; T getSomething(...) { }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>interface Wrapper&lt;T&gt; { T getObject(); }\n\npublic &lt;T&gt; Wrapper&lt;T&gt; getSomething(...) { }\n</code></pre>\n\n<p>The latter promotes the possibility of a <a href=\"http://en.wikipedia.org/wiki/Strategy_pattern\" rel=\"noreferrer\">strategy pattern</a>. Pass the bytes to the strategy, let it execute and retrieve the output. You would have a Byte strategy, Boolean strategy, etc.</p>\n\n<pre><code>abstract class Strategy&lt;T&gt; {\n    final byte[] bytes;\n\n    Strategy(byte[] bytes) { this.bytes = bytes; }\n\n    protected abstract T execute();\n}\n</code></pre>\n\n<p>then</p>\n\n<pre><code>class BooleanStrategy extends Strategy&lt;Boolean&gt; {\n    public BooleanStrategy(byte[] bytes) { super(bytes); }\n\n    @Override\n    public Boolean execute() {\n        return bytes[0] != 0;\n    }\n\n}\n</code></pre>\n\n<p>Your example code is a bad use case though and I wouldn't recommend it. Your method doesn't make much sense.</p>\n"},{"comments":[{"owner":{"account_id":16481646,"reputation":143,"user_id":11908262,"display_name":"user11908262"},"score":0,"creation_date":1677162093,"post_id":18488454,"comment_id":133286284,"body_markdown":"What if we need to case them as Map&lt;String, Any&gt; and Any?","body":"What if we need to case them as Map&lt;String, Any&gt; and Any?"}],"tags":[],"owner":{"account_id":1762889,"reputation":415,"user_id":1609480,"display_name":"Danieth"},"comment_count":1,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1538836872,"creation_date":1377694309,"answer_id":18488454,"question_id":8191536,"body_markdown":"This **CAN** be done. The following code will work:\r\n\r\n    public byte BOOLEAN = 1;\r\n    public byte FLOAT = 2;\r\n    public static &lt;Any&gt; Any getParam(byte[] data) {\r\n        if (data[0] == BOOLEAN) {\r\n            return (Any)((Boolean)(boolean)(data[1] != 0));\r\n        } else if (data[0] == FLOAT) {\r\n            return (Any)((Float)(float)data[1]);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\nBy using a generic for the return type any Java method can dynamically return any object or primitive types. You can name the generic whatever you want, and in this case I called it &#39;Any&#39;. Using this code you avoid casting the return type when the method is called. You would use the method like so:\r\n\r\n    byte[] data = new byte[] { 1, 5 };\r\n    boolean b = getParam(data);\r\n    data = new byte[] { 2, 5 };\r\n    float f = getParam(data);\r\n\r\nThe best you can do without this trick is manually casting an Object:\r\n\r\n    float f = (float)getParam(data);\r\n\r\nJava dynamic return types can reduce boilerplate code.\r\n","title":"Dynamic Return Type in Java method","body":"<p>This <strong>CAN</strong> be done. The following code will work:</p>\n\n<pre><code>public byte BOOLEAN = 1;\npublic byte FLOAT = 2;\npublic static &lt;Any&gt; Any getParam(byte[] data) {\n    if (data[0] == BOOLEAN) {\n        return (Any)((Boolean)(boolean)(data[1] != 0));\n    } else if (data[0] == FLOAT) {\n        return (Any)((Float)(float)data[1]);\n    } else {\n        return null;\n    }\n}\n</code></pre>\n\n<p>By using a generic for the return type any Java method can dynamically return any object or primitive types. You can name the generic whatever you want, and in this case I called it 'Any'. Using this code you avoid casting the return type when the method is called. You would use the method like so:</p>\n\n<pre><code>byte[] data = new byte[] { 1, 5 };\nboolean b = getParam(data);\ndata = new byte[] { 2, 5 };\nfloat f = getParam(data);\n</code></pre>\n\n<p>The best you can do without this trick is manually casting an Object:</p>\n\n<pre><code>float f = (float)getParam(data);\n</code></pre>\n\n<p>Java dynamic return types can reduce boilerplate code.</p>\n"},{"tags":[],"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542713633,"creation_date":1542713633,"answer_id":53392117,"question_id":8191536,"body_markdown":"My 2 cents with an example with Google HTTP client:\r\n\r\n    static public &lt;Any&gt; Any getJson(final String url, final Class&lt;Any&gt; parseAs) throws IOException {\r\n            HttpRequestFactory requestFactory\r\n                    = HTTP_TRANSPORT.createRequestFactory(\r\n                    (HttpRequest request) -&gt; {\r\n                        request.setParser(new JsonObjectParser(JSON_FACTORY));\r\n                    });\r\n    \r\n            HttpRequest request = requestFactory.buildRequest(HttpMethods.GET, new GenericUrl(url), null);\r\n    \r\n            return request.execute().parseAs(parseAs);\r\n        }\r\n\r\nCan be use like this:\r\n\r\n    HashMap&lt;String, Object&gt; out = HttpUtils.getJson( &quot;https://api.qwant.com&quot;, HashMap.class);","title":"Dynamic Return Type in Java method","body":"<p>My 2 cents with an example with Google HTTP client:</p>\n\n<pre><code>static public &lt;Any&gt; Any getJson(final String url, final Class&lt;Any&gt; parseAs) throws IOException {\n        HttpRequestFactory requestFactory\n                = HTTP_TRANSPORT.createRequestFactory(\n                (HttpRequest request) -&gt; {\n                    request.setParser(new JsonObjectParser(JSON_FACTORY));\n                });\n\n        HttpRequest request = requestFactory.buildRequest(HttpMethods.GET, new GenericUrl(url), null);\n\n        return request.execute().parseAs(parseAs);\n    }\n</code></pre>\n\n<p>Can be use like this:</p>\n\n<pre><code>HashMap&lt;String, Object&gt; out = HttpUtils.getJson( \"https://api.qwant.com\", HashMap.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6959991,"reputation":107,"user_id":6090958,"display_name":"SUNEEL KAUSHIK S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668064113,"creation_date":1668063769,"answer_id":74385220,"question_id":8191536,"body_markdown":"It can also be done as the below example:\r\n```\r\npublic class Test \r\n{\r\n  public &lt;T&gt; T dynamicReturnMethod(Class&lt;T&gt; clazz) \r\n  {\r\n    //your code\r\n    return class.getDeclaredConstructor().newInstance();\r\n  }\r\n\r\n//usage\r\n  public static void main(String[] args) \r\n  {\r\n    Test t = new Test();\r\n    ClassObjectWhichNeedsToBeReturned obj = \r\n       t.dynamicReturnMethod(ClassObjectWhichNeedsToBeReturned.class)\r\n  }\r\n}\r\n```\r\n\r\nThis has been tested using java 11","title":"Dynamic Return Type in Java method","body":"<p>It can also be done as the below example:</p>\n<pre><code>public class Test \n{\n  public &lt;T&gt; T dynamicReturnMethod(Class&lt;T&gt; clazz) \n  {\n    //your code\n    return class.getDeclaredConstructor().newInstance();\n  }\n\n//usage\n  public static void main(String[] args) \n  {\n    Test t = new Test();\n    ClassObjectWhichNeedsToBeReturned obj = \n       t.dynamicReturnMethod(ClassObjectWhichNeedsToBeReturned.class)\n  }\n}\n</code></pre>\n<p>This has been tested using java 11</p>\n"}],"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64035,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":8191649,"answer_count":6,"score":24,"last_activity_date":1668064113,"creation_date":1321671444,"question_id":8191536,"body_markdown":"I&#39;ve seen a question similar to this multiple times here, but there is one big difference.\r\n\r\nIn the other questions, the return type is to be determined by the parameter. What I want/need to do is determine the return type by the parsed value of a `byte[]`. From what I&#39;ve gathered, the following could work:\r\n\r\n    public Comparable getParam(String param, byte[] data) {\r\n        if(param.equals(&quot;some boolean variable&quot;)\r\n            return data[0] != 0;\r\n        else(param.equals(&quot;some float variable&quot;) {\r\n            //create a new float, f, from some 4 bytes in data\r\n            return f;\r\n        }\r\n        return null;\r\n    }\r\n\r\nI just want to make sure that this has a chance of working before I screw anything up. Thanks in advance.","title":"Dynamic Return Type in Java method","body":"<p>I've seen a question similar to this multiple times here, but there is one big difference.</p>\n\n<p>In the other questions, the return type is to be determined by the parameter. What I want/need to do is determine the return type by the parsed value of a <code>byte[]</code>. From what I've gathered, the following could work:</p>\n\n<pre><code>public Comparable getParam(String param, byte[] data) {\n    if(param.equals(\"some boolean variable\")\n        return data[0] != 0;\n    else(param.equals(\"some float variable\") {\n        //create a new float, f, from some 4 bytes in data\n        return f;\n    }\n    return null;\n}\n</code></pre>\n\n<p>I just want to make sure that this has a chance of working before I screw anything up. Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1668016755,"post_id":74379285,"comment_id":131307703,"body_markdown":"How have you configured your `restTemplate` bean?","body":"How have you configured your <code>restTemplate</code> bean?"},{"owner":{"account_id":24675391,"reputation":57,"user_id":18569862,"display_name":"Pranav"},"score":0,"creation_date":1668017042,"post_id":74379285,"comment_id":131307813,"body_markdown":"I have updated in the question","body":"I have updated in the question"}],"answers":[{"comments":[{"owner":{"account_id":24675391,"reputation":57,"user_id":18569862,"display_name":"Pranav"},"score":0,"creation_date":1668056220,"post_id":74382490,"comment_id":131316012,"body_markdown":"Thanks for your detailed explanation but it still returning null , any way to find out or print the entire body of the response to make sure it&#39;s returning all the values , I have used below properties as well in pojo  @JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties({&quot;Tags&quot;,&quot;TenId&quot;,&quot;Name&quot;}) and trying to get only id , it&#39;s still showing same null output","body":"Thanks for your detailed explanation but it still returning null , any way to find out or print the entire body of the response to make sure it&#39;s returning all the values , I have used below properties as well in pojo  @JsonInclude(JsonInclude.Include.NON_NULL) @JsonIgnoreProperties({&quot;Tags&quot;,&quot;TenId&quot;,&quot;Name&quot;}) and trying to get only id , it&#39;s still showing same null output"}],"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668036035,"creation_date":1668036035,"answer_id":74382490,"question_id":74379285,"body_markdown":"Replace your `static RestTemplate restTemplate = new RestTemplate();` variable for a real bean:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.http.converter.json.MappingJacksonHttpMessageConverter;\r\n    import org.springframework.web.client.RestTemplate;\r\n\r\n    @Configuration\r\n    public class app1 {\r\n        //remove this variable\r\n        //static RestTemplate restTemplate = new RestTemplate();\r\n        static String url = &quot;your_url&quot;;\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(app1.class, args);\r\n            //getCallSample();\r\n        }\r\n\r\n        //create a proper RestTemplate bean\r\n        @Bean\r\n        public RestTemplate restTemplate() {\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            //add a converter so you can unmarshall the json content\r\n    \t\tMappingJacksonHttpMessageConverter converter = new MappingJacksonHttpMessageConverter();\r\n            //this is an example to set an ObjectMapper instance\r\n            //you can define a bean to configure the ObjectMapper\r\n            //with specific details like avoid unmarshalling unknown fields\r\n\t    \tconverter.setObjectMapper(new ObjectMapper());\r\n\t\t    restTemplate.getMessageConverters().add(converter);\r\n    \t\treturn restTemplate;\r\n        }\r\n    }\r\n\r\nNow, in the method you&#39;re using the rest template. Get it from Spring&#39;s application context rather than using your own static bean. Example:\r\n\r\n\r\n    @Component\r\n    public class WorkspaceService {\r\n\r\n        private final RestTemplate restTemplate;\r\n\r\n        public WorkspaceService(RestTemplate restTemplate) {\r\n            this.restTemplate = restTemplate;\r\n        }\r\n\r\n        public List&lt;Workspace&gt; getWorkspaces() {\r\n            ResponseEntity&lt;List&lt;Workspace&gt;&gt; response = restTemplate.exchange(\r\n                  url,\r\n                  HttpMethod.GET,\r\n                  requestEntity,\r\n                  new ParameterizedTypeReference&lt;List&lt;Workspace&gt;&gt;(){});\r\n            List&lt;Workspace&gt; employees = response.getBody();\r\n            employees.stream().forEach(entry -&gt; System.out.println(entry.getId() + &quot;: &quot; + entry.getName()));\r\n            return employees;\r\n        }\r\n    }\r\n\r\nNow you can use this bean in your components. For example, if you want to use it in main class:\r\n\r\n    @Configuration\r\n    public class app1 {\r\n        static String url = &quot;your_url&quot;;\r\n        public static void main(String[] args) {\r\n            ApplicationContext ctx = SpringApplication.run(app1.class, args);\r\n            WorkspaceService ws = ctx.getBean(WorkspaceService.class);\r\n            ws.getWorkspaces();\r\n        }\r\n\r\n        //create a proper bean\r\n        @Bean\r\n        public RestTemplate restTemplate() {\r\n            /* code from above... */\r\n        }\r\n    }","title":"ResponseEntity is returning null when imposing class object","body":"<p>Replace your <code>static RestTemplate restTemplate = new RestTemplate();</code> variable for a real bean:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.http.converter.json.MappingJacksonHttpMessageConverter;\nimport org.springframework.web.client.RestTemplate;\n\n@Configuration\npublic class app1 {\n    //remove this variable\n    //static RestTemplate restTemplate = new RestTemplate();\n    static String url = &quot;your_url&quot;;\n    public static void main(String[] args) {\n        SpringApplication.run(app1.class, args);\n        //getCallSample();\n    }\n\n    //create a proper RestTemplate bean\n    @Bean\n    public RestTemplate restTemplate() {\n        RestTemplate restTemplate = new RestTemplate();\n        //add a converter so you can unmarshall the json content\n        MappingJacksonHttpMessageConverter converter = new MappingJacksonHttpMessageConverter();\n        //this is an example to set an ObjectMapper instance\n        //you can define a bean to configure the ObjectMapper\n        //with specific details like avoid unmarshalling unknown fields\n        converter.setObjectMapper(new ObjectMapper());\n        restTemplate.getMessageConverters().add(converter);\n        return restTemplate;\n    }\n}\n</code></pre>\n<p>Now, in the method you're using the rest template. Get it from Spring's application context rather than using your own static bean. Example:</p>\n<pre><code>@Component\npublic class WorkspaceService {\n\n    private final RestTemplate restTemplate;\n\n    public WorkspaceService(RestTemplate restTemplate) {\n        this.restTemplate = restTemplate;\n    }\n\n    public List&lt;Workspace&gt; getWorkspaces() {\n        ResponseEntity&lt;List&lt;Workspace&gt;&gt; response = restTemplate.exchange(\n              url,\n              HttpMethod.GET,\n              requestEntity,\n              new ParameterizedTypeReference&lt;List&lt;Workspace&gt;&gt;(){});\n        List&lt;Workspace&gt; employees = response.getBody();\n        employees.stream().forEach(entry -&gt; System.out.println(entry.getId() + &quot;: &quot; + entry.getName()));\n        return employees;\n    }\n}\n</code></pre>\n<p>Now you can use this bean in your components. For example, if you want to use it in main class:</p>\n<pre><code>@Configuration\npublic class app1 {\n    static String url = &quot;your_url&quot;;\n    public static void main(String[] args) {\n        ApplicationContext ctx = SpringApplication.run(app1.class, args);\n        WorkspaceService ws = ctx.getBean(WorkspaceService.class);\n        ws.getWorkspaces();\n    }\n\n    //create a proper bean\n    @Bean\n    public RestTemplate restTemplate() {\n        /* code from above... */\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24675391,"reputation":57,"user_id":18569862,"display_name":"Pranav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668064067,"creation_date":1668064067,"answer_id":74385264,"question_id":74379285,"body_markdown":"The issue is resolved by changing the Pojo class (used this to get the class https://json2csharp.com/code-converters/json-to-pojo) to \r\n\r\n    public class Root{\r\n        @JsonProperty(&quot;Id&quot;) \r\n        public String id;\r\n        @JsonProperty(&quot;TenantId&quot;) \r\n        public int tenantId;\r\n        @JsonProperty(&quot;Name&quot;) \r\n        public String name;\r\n        @JsonProperty(&quot;Description&quot;) \r\n        public String description;\r\n        @JsonProperty(&quot;Tags&quot;) \r\n        public ArrayList&lt;Object&gt; tags;\r\n    }\r\n\r\nand the code is used \r\n\r\n    ResponseEntity&lt;Workspace[]&gt; responseNew = restTemplate\r\n    \t\t\t\t  .exchange(\r\n    \t\t\t\t    url,\r\n    \t\t\t\t    HttpMethod.GET,\r\n    \t\t\t\t    requestEntity,\r\n    \t\t\t\t    Workspace[].class);\r\n    \t\t\t\tWorkspace [] employees1 = responseNew.getBody();\r\n    list.stream().forEach(entry -&gt; System.out.println(entry.getDescription()+&quot;: &quot;+  entry.getId() + &quot;: &quot; + entry.getName()));\r\n\r\nThanks for the responses , got to learn a lot from the answers ","title":"ResponseEntity is returning null when imposing class object","body":"<p>The issue is resolved by changing the Pojo class (used this to get the class <a href=\"https://json2csharp.com/code-converters/json-to-pojo\" rel=\"nofollow noreferrer\">https://json2csharp.com/code-converters/json-to-pojo</a>) to</p>\n<pre><code>public class Root{\n    @JsonProperty(&quot;Id&quot;) \n    public String id;\n    @JsonProperty(&quot;TenantId&quot;) \n    public int tenantId;\n    @JsonProperty(&quot;Name&quot;) \n    public String name;\n    @JsonProperty(&quot;Description&quot;) \n    public String description;\n    @JsonProperty(&quot;Tags&quot;) \n    public ArrayList&lt;Object&gt; tags;\n}\n</code></pre>\n<p>and the code is used</p>\n<pre><code>ResponseEntity&lt;Workspace[]&gt; responseNew = restTemplate\n                  .exchange(\n                    url,\n                    HttpMethod.GET,\n                    requestEntity,\n                    Workspace[].class);\n                Workspace [] employees1 = responseNew.getBody();\nlist.stream().forEach(entry -&gt; System.out.println(entry.getDescription()+&quot;: &quot;+  entry.getId() + &quot;: &quot; + entry.getName()));\n</code></pre>\n<p>Thanks for the responses , got to learn a lot from the answers</p>\n"}],"owner":{"account_id":24675391,"reputation":57,"user_id":18569862,"display_name":"Pranav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668064067,"creation_date":1668016227,"question_id":74379285,"body_markdown":"I am new to Spring boot and sorry in case it&#39;s very basic but I am posting as I have tried other ways and checked similar threads as well.\r\n\r\nIf I use below code it&#39;s returning correct response \r\n\r\n    ResponseEntity&lt;String&gt; responseEntityString = restTemplate.exchange(url, HttpMethod.GET, requestEntity, String.class);\r\n\r\nOutput \r\n\r\n    [{&quot;Id&quot;:&quot;123aa&quot;,&quot;TenId&quot;:5198,&quot;Name&quot;:&quot;test&quot;,&quot;Description&quot;:&quot;test11&quot;,&quot;Tags&quot;:[]}]\r\n\r\nNow I have created workspace class like below (getter/setter/arg constructor and no-arg construcntor is also there)\r\n\r\n    public class Workspace {\r\n    \r\n    \tprivate String Id;\r\n    \tprivate String TenId;\r\n    \tprivate String Name;\r\n    \tprivate String Description;\r\n    \tprivate List&lt;String&gt; Tags;\r\n     }\r\n\r\nNow I execute the below code - \r\n\r\n    ResponseEntity&lt;List&lt;Workspace&gt;&gt; response = restTemplate.exchange(\r\n    \t\t\t\t  url,\r\n    \t\t\t\t  HttpMethod.GET,\r\n    \t\t\t\t  requestEntity,\r\n    \t\t\t\t  new ParameterizedTypeReference&lt;List&lt;Workspace&gt;&gt;(){});\r\n    \t\tList&lt;Workspace&gt; employees = response.getBody();\r\n    \t\temployees.stream().forEach(entry -&gt; System.out.println(entry.getId() + &quot;: &quot; + entry.getName()));\r\n\r\nIt&#39;s returning \r\n\r\n    null: null\r\nBelow is returning true\r\n\r\n    System.out.println(&quot;Value &quot;+ response.hasBody());\r\n\r\nBelow is returning - New Values [com.pratik.model.Workspace@3cbf1ba4]\r\n\r\n    New Values [com.pratik.model.Workspace@3cbf1ba4]\r\n\r\nSo please advise what needs to change to get the values \r\n\r\n================================================================\r\nInitialized resttemplate bean like below \r\n\r\n     public class app1 {\r\n        static RestTemplate restTemplate = new RestTemplate();\r\n        static String url =   url;\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(app1.class, args);\r\n    \t\tgetCallSample();\r\n    \t\t\r\n    \t}\r\n\r\n===============================================================\r\n\r\nUpdate on the latest code  \r\n\r\n    ResponseEntity&lt;Workspace[]&gt; responseNew = restTemplate\r\n    \t\t\t\t  .exchange(\r\n    \t\t\t\t    url,\r\n    \t\t\t\t    HttpMethod.GET,\r\n    \t\t\t\t    requestEntity,\r\n    \t\t\t\t    Workspace[].class);\r\n    Workspace [] employees1 = responseNew.getBody();\r\n    List&lt;Workspace&gt; list = Arrays.asList(employees1);\r\n    list.stream().forEach(entry -&gt; System.out.println(entry.getId() + &quot;: &quot; + entry.getName()));\r\n\r\nStill the response is \r\n\r\n    null: null\r\n\r\n\r\n===============================================================\r\nAnother update \r\nWhen tried with String.class it&#39;s returning \r\n\r\n    [{&quot;Id&quot;:&quot;abc&quot;,&quot;TenId&quot;:11,&quot;Name&quot;:&quot;tt1 Workspace&quot;,&quot;Description&quot;:&quot;testtenant Workspace (System Generated)&quot;,&quot;Tags&quot;:[]}]\r\n\r\nBut when using workspace class - it&#39;s returning - \r\n\r\n    [Id=null, TenId=null, Name=null, Description=null, Tags=null, getId()=null, getTenId()=null, getName()=null, getDescription()=null, getTags()=null]\r\n\r\nSo is using Workspace[].class would be the right method ?\r\n","title":"ResponseEntity is returning null when imposing class object","body":"<p>I am new to Spring boot and sorry in case it's very basic but I am posting as I have tried other ways and checked similar threads as well.</p>\n<p>If I use below code it's returning correct response</p>\n<pre><code>ResponseEntity&lt;String&gt; responseEntityString = restTemplate.exchange(url, HttpMethod.GET, requestEntity, String.class);\n</code></pre>\n<p>Output</p>\n<pre><code>[{&quot;Id&quot;:&quot;123aa&quot;,&quot;TenId&quot;:5198,&quot;Name&quot;:&quot;test&quot;,&quot;Description&quot;:&quot;test11&quot;,&quot;Tags&quot;:[]}]\n</code></pre>\n<p>Now I have created workspace class like below (getter/setter/arg constructor and no-arg construcntor is also there)</p>\n<pre><code>public class Workspace {\n\n    private String Id;\n    private String TenId;\n    private String Name;\n    private String Description;\n    private List&lt;String&gt; Tags;\n }\n</code></pre>\n<p>Now I execute the below code -</p>\n<pre><code>ResponseEntity&lt;List&lt;Workspace&gt;&gt; response = restTemplate.exchange(\n                  url,\n                  HttpMethod.GET,\n                  requestEntity,\n                  new ParameterizedTypeReference&lt;List&lt;Workspace&gt;&gt;(){});\n        List&lt;Workspace&gt; employees = response.getBody();\n        employees.stream().forEach(entry -&gt; System.out.println(entry.getId() + &quot;: &quot; + entry.getName()));\n</code></pre>\n<p>It's returning</p>\n<pre><code>null: null\n</code></pre>\n<p>Below is returning true</p>\n<pre><code>System.out.println(&quot;Value &quot;+ response.hasBody());\n</code></pre>\n<p>Below is returning - New Values [com.pratik.model.Workspace@3cbf1ba4]</p>\n<pre><code>New Values [com.pratik.model.Workspace@3cbf1ba4]\n</code></pre>\n<p>So please advise what needs to change to get the values</p>\n<p>================================================================\nInitialized resttemplate bean like below</p>\n<pre><code> public class app1 {\n    static RestTemplate restTemplate = new RestTemplate();\n    static String url =   url;\n    public static void main(String[] args) {\n        SpringApplication.run(app1.class, args);\n        getCallSample();\n        \n    }\n</code></pre>\n<p>===============================================================</p>\n<p>Update on the latest code</p>\n<pre><code>ResponseEntity&lt;Workspace[]&gt; responseNew = restTemplate\n                  .exchange(\n                    url,\n                    HttpMethod.GET,\n                    requestEntity,\n                    Workspace[].class);\nWorkspace [] employees1 = responseNew.getBody();\nList&lt;Workspace&gt; list = Arrays.asList(employees1);\nlist.stream().forEach(entry -&gt; System.out.println(entry.getId() + &quot;: &quot; + entry.getName()));\n</code></pre>\n<p>Still the response is</p>\n<pre><code>null: null\n</code></pre>\n<p>===============================================================\nAnother update\nWhen tried with String.class it's returning</p>\n<pre><code>[{&quot;Id&quot;:&quot;abc&quot;,&quot;TenId&quot;:11,&quot;Name&quot;:&quot;tt1 Workspace&quot;,&quot;Description&quot;:&quot;testtenant Workspace (System Generated)&quot;,&quot;Tags&quot;:[]}]\n</code></pre>\n<p>But when using workspace class - it's returning -</p>\n<pre><code>[Id=null, TenId=null, Name=null, Description=null, Tags=null, getId()=null, getTenId()=null, getName()=null, getDescription()=null, getTags()=null]\n</code></pre>\n<p>So is using Workspace[].class would be the right method ?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1667943760,"post_id":74367107,"comment_id":131288127,"body_markdown":"Are you sure you didn&#39;t forget to remove /login from the protected pages? I don&#39;t see &quot;.formLogin().loginPage(&quot;/login&quot;).permitAll()&quot; in your WebSecurityConfigurerAdapter","body":"Are you sure you didn&#39;t forget to remove /login from the protected pages? I don&#39;t see &quot;.formLogin().loginPage(&quot;/login&quot;).permitAll()&quot; in your WebSecurityConfigurerAdapter"},{"owner":{"account_id":20802352,"reputation":95,"user_id":15278082,"display_name":"zarpat"},"score":0,"creation_date":1667945391,"post_id":74367107,"comment_id":131288541,"body_markdown":"Im not getting unauthorized error and i have anyRequest().permitAll()","body":"Im not getting unauthorized error and i have anyRequest().permitAll()"}],"answers":[{"comments":[{"owner":{"account_id":20802352,"reputation":95,"user_id":15278082,"display_name":"zarpat"},"score":0,"creation_date":1668019511,"post_id":74370711,"comment_id":131308619,"body_markdown":"Can you explain more clearly? And I would really appreciate if you could provide solution code","body":"Can you explain more clearly? And I would really appreciate if you could provide solution code"}],"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668063357,"creation_date":1667975231,"answer_id":74370711,"question_id":74367107,"body_markdown":"because current AuthenticationManager&#39;s parent authenticationManager also delegate current AuthenticationManager \r\n\r\nremove SecurityConfig userDetailsServiceBean() \r\n\r\n    @Bean\r\n    @Override\r\n    public UserDetailsService userDetailsServiceBean() throws Exception{\r\n        return super.userDetailsServiceBean();\r\n    }","title":"WebSecurityConfigurerAdapter loadUserByUsername throws StackOverflow error","body":"<p>because current AuthenticationManager's parent authenticationManager also delegate current AuthenticationManager</p>\n<p>remove SecurityConfig userDetailsServiceBean()</p>\n<pre><code>@Bean\n@Override\npublic UserDetailsService userDetailsServiceBean() throws Exception{\n    return super.userDetailsServiceBean();\n}\n</code></pre>\n"}],"owner":{"account_id":20802352,"reputation":95,"user_id":15278082,"display_name":"zarpat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668063357,"creation_date":1667941139,"question_id":74367107,"body_markdown":"searched for this but no solution works for me.\r\n\r\nSo I am trying to have JWT token in my spring boot application. When hitting endpoint /login I`m getting StackOverflow error thrown by WebSecurityConfigurerAdapter$UserDetailsServiceDelegator.loadUserByUsername.\r\n\r\n**```SecurityConfig```**\r\n```\r\n@ComponentScan(&quot;com.example.javaee_project.security&quot;)\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Bean\r\n    @Override\r\n    public UserDetailsService userDetailsServiceBean() throws Exception{\r\n        return super.userDetailsServiceBean();\r\n    }\r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoderBean() throws Exception{\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        super.configure(auth);\r\n        auth.parentAuthenticationManager(authenticationManagerBean())\r\n                .userDetailsService(userDetailsServiceBean())\r\n                .passwordEncoder(bCryptPasswordEncoderBean());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable();\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.authorizeRequests().anyRequest().permitAll();\r\n        http.addFilter(new CustomAuthenthicationFilter(authenticationManagerBean()));\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n}\r\n```\r\n\r\n**```CustomAuthenticationFilter```**\r\n```\r\npublic class CustomAuthenthicationFilter extends UsernamePasswordAuthenticationFilter {\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    public CustomAuthenthicationFilter(AuthenticationManager authenthicationManager){\r\n        this.authenticationManager = authenthicationManager;\r\n    }\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n        String username = request.getParameter(&quot;username&quot;);\r\n        String password = request.getParameter(&quot;password&quot;);\r\n        UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, password);\r\n\r\n        return authenticationManager.authenticate(authenticationToken);\r\n    }\r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\r\n        User user = (User) authResult.getPrincipal();\r\n        Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\r\n        String accessToken = JWT.create()\r\n                .withSubject(user.getUsername())\r\n                .withExpiresAt(new Date(System.currentTimeMillis() + 10*60*1000))\r\n                .withIssuer(request.getRequestURL().toString())\r\n                .withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\r\n                .sign(algorithm);\r\n\r\n        response.setHeader(&quot;access_token&quot;, accessToken);\r\n    }\r\n}\r\n```\r\n**loadByUsername method in AppUserService**\r\n```\r\n  @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        AppUser user = appUserRepository.findByUsername(username);\r\n        Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n        user.getRoles().forEach(role -&gt;\r\n                authorities.add(new SimpleGrantedAuthority(role.getName()))\r\n        );\r\n        if(user != null){\r\n            log.info(&quot;null user&quot;);\r\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n        }\r\n        return new User(user.getUsername(), user.getPassword(), authorities);\r\n    }\r\n}\r\n```\r\n**Main class**\r\n```\r\n@SpringBootApplication(exclude = {SecurityAutoConfiguration.class})\r\n@ComponentScan(basePackages = {&quot;com.example.javaee_project.security&quot;})\r\npublic class JavaEeProjectApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(JavaEeProjectApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```","title":"WebSecurityConfigurerAdapter loadUserByUsername throws StackOverflow error","body":"<p>searched for this but no solution works for me.</p>\n<p>So I am trying to have JWT token in my spring boot application. When hitting endpoint /login I`m getting StackOverflow error thrown by WebSecurityConfigurerAdapter$UserDetailsServiceDelegator.loadUserByUsername.</p>\n<p><strong><code>SecurityConfig</code></strong></p>\n<pre><code>@ComponentScan(&quot;com.example.javaee_project.security&quot;)\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Bean\n    @Override\n    public UserDetailsService userDetailsServiceBean() throws Exception{\n        return super.userDetailsServiceBean();\n    }\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoderBean() throws Exception{\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        super.configure(auth);\n        auth.parentAuthenticationManager(authenticationManagerBean())\n                .userDetailsService(userDetailsServiceBean())\n                .passwordEncoder(bCryptPasswordEncoderBean());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.authorizeRequests().anyRequest().permitAll();\n        http.addFilter(new CustomAuthenthicationFilter(authenticationManagerBean()));\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n<p><strong><code>CustomAuthenticationFilter</code></strong></p>\n<pre><code>public class CustomAuthenthicationFilter extends UsernamePasswordAuthenticationFilter {\n    private final AuthenticationManager authenticationManager;\n\n    public CustomAuthenthicationFilter(AuthenticationManager authenthicationManager){\n        this.authenticationManager = authenthicationManager;\n    }\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        String username = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n        UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, password);\n\n        return authenticationManager.authenticate(authenticationToken);\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException {\n        User user = (User) authResult.getPrincipal();\n        Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\n        String accessToken = JWT.create()\n                .withSubject(user.getUsername())\n                .withExpiresAt(new Date(System.currentTimeMillis() + 10*60*1000))\n                .withIssuer(request.getRequestURL().toString())\n                .withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\n                .sign(algorithm);\n\n        response.setHeader(&quot;access_token&quot;, accessToken);\n    }\n}\n</code></pre>\n<p><strong>loadByUsername method in AppUserService</strong></p>\n<pre><code>  @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        AppUser user = appUserRepository.findByUsername(username);\n        Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        user.getRoles().forEach(role -&gt;\n                authorities.add(new SimpleGrantedAuthority(role.getName()))\n        );\n        if(user != null){\n            log.info(&quot;null user&quot;);\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n        }\n        return new User(user.getUsername(), user.getPassword(), authorities);\n    }\n}\n</code></pre>\n<p><strong>Main class</strong></p>\n<pre><code>@SpringBootApplication(exclude = {SecurityAutoConfiguration.class})\n@ComponentScan(basePackages = {&quot;com.example.javaee_project.security&quot;})\npublic class JavaEeProjectApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(JavaEeProjectApplication.class, args);\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","liquibase"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1663900120,"post_id":73822257,"comment_id":130353126,"body_markdown":"Try to reinstall it correctly based on the installation instructions.","body":"Try to reinstall it correctly based on the installation instructions."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1663901043,"post_id":73822257,"comment_id":130353257,"body_markdown":"What are you doing, is this a spring application that has a liquibase jar and it autoconfigures itself and runs an update? You did check to see if the change log is present in the classpath? There&#39;s a liquibase spring properties file, can you show that?","body":"What are you doing, is this a spring application that has a liquibase jar and it autoconfigures itself and runs an update? You did check to see if the change log is present in the classpath? There&#39;s a liquibase spring properties file, can you show that?"},{"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"score":0,"creation_date":1663948710,"post_id":73822257,"comment_id":130367386,"body_markdown":"As a note, please enter your code snippets as code text instead of screenshot images. \nhttps://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question","body":"As a note, please enter your code snippets as code text instead of screenshot images.  <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors-when-asking-a-question\" title=\"why should i not upload images of code data errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14732265,"reputation":55,"user_id":10639197,"display_name":"bhushan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663931243,"creation_date":1663928096,"answer_id":73826222,"question_id":73822257,"body_markdown":"Assuming this is a spring boot application, the default path for liquibase change log file can be overriden in application.yml file, following is one such example -\r\n\r\nspring:\r\n    liquibase:\r\n      change-log: classpath:/liquibase/changelog-master.xml","title":"Liquibase failed to start because no changelog could be found at:","body":"<p>Assuming this is a spring boot application, the default path for liquibase change log file can be overriden in application.yml file, following is one such example -</p>\n<p>spring:\nliquibase:\nchange-log: classpath:/liquibase/changelog-master.xml</p>\n"}],"owner":{"account_id":22753532,"reputation":21,"user_id":16913326,"display_name":"juanca1deron"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668063256,"creation_date":1663898063,"question_id":73822257,"body_markdown":"I have a basic Rest program in which I&#39;m using Liquibase. Was about to run it and this appears on the run: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/axwtn.png\r\n\r\nNot pretty sure on what to do to solve it","title":"Liquibase failed to start because no changelog could be found at:","body":"<p>I have a basic Rest program in which I'm using Liquibase. Was about to run it and this appears on the run: <a href=\"https://i.stack.imgur.com/axwtn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/axwtn.png\" alt=\"enter image description here\" /></a></p>\n<p>Not pretty sure on what to do to solve it</p>\n"},{"tags":["java","spring","spring-boot","activiti"],"answers":[{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668063041,"creation_date":1668063041,"answer_id":74385127,"question_id":74385126,"body_markdown":"I solved the issue, the fix is to change the setting in BPM by changing the task type to &quot;Delegate expression&quot; for the class &quot;DataService&quot; instead of &quot;Java class&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3hsqb.jpg\r\n\r\nThere might be other way too but this is how I solve the issue.\r\n\r\nThanks,\r\n\r\nAtul","title":"How to get the spring bean object in Activiti JavaDelegate class","body":"<p>I solved the issue, the fix is to change the setting in BPM by changing the task type to &quot;Delegate expression&quot; for the class &quot;DataService&quot; instead of &quot;Java class&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/3hsqb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3hsqb.jpg\" alt=\"enter image description here\" /></a></p>\n<p>There might be other way too but this is how I solve the issue.</p>\n<p>Thanks,</p>\n<p>Atul</p>\n"}],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1668063041,"creation_date":1668063041,"question_id":74385126,"body_markdown":"I want to access a Spring bean object into the class which implements JavaDelegate interface of Activiti BPM.\r\n\r\nWhen I am trying to access it, found it as &quot;null&quot;.\r\n\r\nThe code is:\r\n\r\n    @Service(&quot;tempService&quot;)\r\n    public class TempServiceImpl {\r\n    \r\n    \tpublic void getData(String userName) {\r\n    \t\tSystem.out.println(&quot;Data get for the user is =&gt; &quot;+userName);\r\n    \t}\r\n    }\r\n\r\nJavaDelegate class is:\r\n\r\n    @Component\r\n    public class DataService implements JavaDelegate {\r\n    \r\n    \t@Autowired\r\n    \tprivate TempServiceImpl tempService;\r\n    \t\r\n    \t@Override\r\n    \tpublic void execute(DelegateExecution execution) {\r\n    \t\tVariableInstance instance = execution.getParent().getVariableInstances().get(&quot;info&quot;);\r\n    \t\tUser user = (User) instance.getValue();\r\n    \t\tSystem.out.println(&quot;Name: &quot;+user.getUserName());\r\n    \t\ttempService.getData(user.getUserName());\r\n    \t\tSystem.out.println(&quot;Working fine....&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nWhen I run the application, the object &quot;tempService&quot; in DataService class is found &quot;null&quot;.\r\n\r\nAny pointer, how to fix it?\r\n\r\n\r\nThanks,\r\n\r\nAtul","title":"How to get the spring bean object in Activiti JavaDelegate class","body":"<p>I want to access a Spring bean object into the class which implements JavaDelegate interface of Activiti BPM.</p>\n<p>When I am trying to access it, found it as &quot;null&quot;.</p>\n<p>The code is:</p>\n<pre><code>@Service(&quot;tempService&quot;)\npublic class TempServiceImpl {\n\n    public void getData(String userName) {\n        System.out.println(&quot;Data get for the user is =&gt; &quot;+userName);\n    }\n}\n</code></pre>\n<p>JavaDelegate class is:</p>\n<pre><code>@Component\npublic class DataService implements JavaDelegate {\n\n    @Autowired\n    private TempServiceImpl tempService;\n    \n    @Override\n    public void execute(DelegateExecution execution) {\n        VariableInstance instance = execution.getParent().getVariableInstances().get(&quot;info&quot;);\n        User user = (User) instance.getValue();\n        System.out.println(&quot;Name: &quot;+user.getUserName());\n        tempService.getData(user.getUserName());\n        System.out.println(&quot;Working fine....&quot;);\n    }\n\n}\n</code></pre>\n<p>When I run the application, the object &quot;tempService&quot; in DataService class is found &quot;null&quot;.</p>\n<p>Any pointer, how to fix it?</p>\n<p>Thanks,</p>\n<p>Atul</p>\n"},{"tags":["java","android","android-edittext"],"comments":[{"owner":{"account_id":1238981,"reputation":132436,"user_id":1202025,"accept_rate":80,"display_name":" K"},"score":0,"creation_date":1354633479,"post_id":13705776,"comment_id":18822345,"body_markdown":"you have tried android:capitalize=&quot;sentences&quot; in xml for making first latter capitalized","body":"you have tried android:capitalize=&quot;sentences&quot; in xml for making first latter capitalized"},{"owner":{"account_id":2046230,"reputation":3674,"user_id":1826257,"accept_rate":77,"display_name":"ernando Valle"},"score":0,"creation_date":1354633728,"post_id":13705776,"comment_id":18822481,"body_markdown":"There is a similar question here: http://stackoverflow.com/questions/3286343/text-transformuppercase-equivalent-in-android \r\n\r\nhope it helps you.","body":"There is a similar question here: <a href=\"http://stackoverflow.com/questions/3286343/text-transformuppercase-equivalent-in-android\" title=\"text transformuppercase equivalent in android\">stackoverflow.com/questions/3286343/&hellip;</a>     hope it helps you."},{"owner":{"account_id":276236,"reputation":18430,"user_id":569558,"accept_rate":93,"display_name":"sdabet"},"score":0,"creation_date":1354633814,"post_id":13705776,"comment_id":18822523,"body_markdown":"that works fine for me...which android version do you run it on?","body":"that works fine for me...which android version do you run it on?"},{"owner":{"account_id":6783710,"reputation":7750,"user_id":5223160,"display_name":"jzeferino"},"score":0,"creation_date":1458139173,"post_id":13705776,"comment_id":59726808,"body_markdown":"Possible duplicate of [In Android EditText, how to force writing uppercase](http://stackoverflow.com/questions/15961813/in-android-edittext-how-to-force-writing-uppercase)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/15961813/in-android-edittext-how-to-force-writing-uppercase\">In Android EditText, how to force writing uppercase</a>"}],"answers":[{"comments":[{"owner":{"account_id":1990251,"reputation":1022,"user_id":1784430,"accept_rate":67,"display_name":"clavio"},"score":0,"creation_date":1354634265,"post_id":13706033,"comment_id":18822776,"body_markdown":"Nahh son.  Like I said I already did this.  I need the input to be capitals, not just the string once they are done.","body":"Nahh son.  Like I said I already did this.  I need the input to be capitals, not just the string once they are done."},{"owner":{"account_id":361730,"reputation":24051,"user_id":704513,"accept_rate":96,"display_name":"Houcine"},"score":0,"creation_date":1354634322,"post_id":13706033,"comment_id":18822805,"body_markdown":"you mean that you want that the letters should be in upperCase when writing from keyboard ??","body":"you mean that you want that the letters should be in upperCase when writing from keyboard ??"},{"owner":{"account_id":1990251,"reputation":1022,"user_id":1784430,"accept_rate":67,"display_name":"clavio"},"score":0,"creation_date":1354634408,"post_id":13706033,"comment_id":18822852,"body_markdown":"Yes, I need the letter to be capitalized the second they type it.","body":"Yes, I need the letter to be capitalized the second they type it."},{"owner":{"account_id":1418041,"reputation":1148,"user_id":1343232,"accept_rate":40,"display_name":"umesh"},"score":1,"creation_date":1545097353,"post_id":13706033,"comment_id":94499602,"body_markdown":"onTextChanged() implementation, Isn&#39;t this infinite loop ?","body":"onTextChanged() implementation, Isn&#39;t this infinite loop ?"}],"tags":[],"owner":{"account_id":361730,"reputation":24051,"user_id":704513,"accept_rate":96,"display_name":"Houcine"},"comment_count":4,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1354634487,"creation_date":1354634163,"answer_id":13706033,"question_id":13705776,"body_markdown":"Just use `String.toUpperCase()` method.\r\n\r\nexample  : \r\n\r\n    String str = &quot;blablabla&quot;;\r\n    editText.setText(str.toUpperCase()); // it will give : BLABLABLA\r\n\r\n**EDIT :** \r\n\r\nadd this attribute to you `EditText` Tag in your `layout` xml : \r\n\r\n     android:textAllCaps=&quot;true&quot;\r\n\r\nOR: \r\n\r\nIf you want whatever the user types to be uppercase you could implement a `TextWatcher` and use the `EditText` `addTextChangedListener` to add it, an on the `onTextChange` method take the user input and replace it with the same text in uppercase.\r\n\r\n    editText.addTextChangedListener(upperCaseTextWatcher);\r\n    \r\n    final TextWatcher upperCaseTextWatcher = new TextWatcher() {\r\n    \r\n    public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n    }\r\n    \r\n    public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n        editText.setText(editText.getText().toString().toUpperCase());\r\n        editText.setSelection(editText.getText().toString().length());\r\n    }\r\n    \r\n    public void afterTextChanged(Editable editable) {\r\n    }\r\n    \r\n    };","title":"How to capitalize every letter in an Android EditText?","body":"<p>Just use <code>String.toUpperCase()</code> method.</p>\n\n<p>example  : </p>\n\n<pre><code>String str = \"blablabla\";\neditText.setText(str.toUpperCase()); // it will give : BLABLABLA\n</code></pre>\n\n<p><strong>EDIT :</strong> </p>\n\n<p>add this attribute to you <code>EditText</code> Tag in your <code>layout</code> xml : </p>\n\n<pre><code> android:textAllCaps=\"true\"\n</code></pre>\n\n<p>OR: </p>\n\n<p>If you want whatever the user types to be uppercase you could implement a <code>TextWatcher</code> and use the <code>EditText</code> <code>addTextChangedListener</code> to add it, an on the <code>onTextChange</code> method take the user input and replace it with the same text in uppercase.</p>\n\n<pre><code>editText.addTextChangedListener(upperCaseTextWatcher);\n\nfinal TextWatcher upperCaseTextWatcher = new TextWatcher() {\n\npublic void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n}\n\npublic void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n    editText.setText(editText.getText().toString().toUpperCase());\n    editText.setSelection(editText.getText().toString().length());\n}\n\npublic void afterTextChanged(Editable editable) {\n}\n\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2666377,"reputation":3513,"user_id":2304737,"accept_rate":50,"display_name":"mr5"},"score":2,"creation_date":1443664941,"post_id":13706213,"comment_id":53587587,"body_markdown":"Please avoid using [magic numbers](http://stackoverflow.com/questions/47882/what-is-a-magic-number-and-why-is-it-bad). I suggest you to edit your answer to revert my down vote.","body":"Please avoid using <a href=\"http://stackoverflow.com/questions/47882/what-is-a-magic-number-and-why-is-it-bad\">magic numbers</a>. I suggest you to edit your answer to revert my down vote."}],"tags":[],"owner":{"account_id":425825,"reputation":7265,"user_id":806684,"accept_rate":50,"display_name":"Robin Chander"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1354634710,"creation_date":1354634710,"answer_id":13706213,"question_id":13705776,"body_markdown":"This would work\r\n\r\n        inputs[i] = new EditText(this);\r\n        inputs[i].setWidth(376);\r\n        inputs[i].setInputType(0x00001001);\r\n        tFields.addView(inputs[i]);\r\n\r\n0x00001001 corresponds to &quot;`textCapCharacters` constant.","title":"How to capitalize every letter in an Android EditText?","body":"<p>This would work</p>\n\n<pre><code>    inputs[i] = new EditText(this);\n    inputs[i].setWidth(376);\n    inputs[i].setInputType(0x00001001);\n    tFields.addView(inputs[i]);\n</code></pre>\n\n<p>0x00001001 corresponds to \"<code>textCapCharacters</code> constant.</p>\n"},{"comments":[{"owner":{"account_id":425825,"reputation":7265,"user_id":806684,"accept_rate":50,"display_name":"Robin Chander"},"score":1,"creation_date":1382031651,"post_id":18898239,"comment_id":28811979,"body_markdown":"+1 I agree on the point we should use defined constants rather than values.","body":"+1 I agree on the point we should use defined constants rather than values."}],"tags":[],"owner":{"account_id":392087,"reputation":1214,"user_id":753136,"accept_rate":60,"display_name":"tiktak"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1379602895,"creation_date":1379602895,"answer_id":18898239,"question_id":13705776,"body_markdown":"You need to tell it it&#39;s from the &quot;class&quot; text as well:\r\n\r\n    inputs[i] = new EditText(this);\r\n    inputs[i].setWidth(376);\r\n    inputs[i].setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS);\r\n    tFields.addView(inputs[i]);\r\n\r\nThe [input type][1] is a [bitmask][2]. You can combine the flags by putting the | (pipe) character in the middle, which stands for the OR logic function, even though when used in a bitmask like this it means &quot;this flag AND that other flag&quot;.\r\n\r\n(This answer is the same as Robin&#39;s but without &quot;magic numbers&quot;, one of the worst things you can put in your code. The Android API has constants, use them instead of copying the values and risking to eventually break the code.)\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/text/InputType.html\r\n  [2]: http://en.wikipedia.org/wiki/Bitmask","title":"How to capitalize every letter in an Android EditText?","body":"<p>You need to tell it it's from the \"class\" text as well:</p>\n\n<pre><code>inputs[i] = new EditText(this);\ninputs[i].setWidth(376);\ninputs[i].setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS);\ntFields.addView(inputs[i]);\n</code></pre>\n\n<p>The <a href=\"http://developer.android.com/reference/android/text/InputType.html\">input type</a> is a <a href=\"http://en.wikipedia.org/wiki/Bitmask\">bitmask</a>. You can combine the flags by putting the | (pipe) character in the middle, which stands for the OR logic function, even though when used in a bitmask like this it means \"this flag AND that other flag\".</p>\n\n<p>(This answer is the same as Robin's but without \"magic numbers\", one of the worst things you can put in your code. The Android API has constants, use them instead of copying the values and risking to eventually break the code.)</p>\n"},{"tags":[],"owner":{"account_id":3455497,"reputation":1041,"user_id":2894109,"accept_rate":48,"display_name":"Pihu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395123967,"creation_date":1395123967,"answer_id":22471826,"question_id":13705776,"body_markdown":"try using this single line of code in your xml:\r\n\r\n    android:capitalize=&quot;sentences&quot;","title":"How to capitalize every letter in an Android EditText?","body":"<p>try using this single line of code in your xml:</p>\n\n<pre><code>android:capitalize=\"sentences\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6783710,"reputation":7750,"user_id":5223160,"display_name":"jzeferino"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1458138754,"creation_date":1458138754,"answer_id":36038686,"question_id":13705776,"body_markdown":"This will make all the characters uppercase when writing.\r\n\r\n    edittext.setFilters(new InputFilter[] {new InputFilter.AllCaps()});\r\n\r\nOriginal answer [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25571410/5223160","title":"How to capitalize every letter in an Android EditText?","body":"<p>This will make all the characters uppercase when writing.</p>\n\n<pre><code>edittext.setFilters(new InputFilter[] {new InputFilter.AllCaps()});\n</code></pre>\n\n<p>Original answer <a href=\"https://stackoverflow.com/a/25571410/5223160\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":5656725,"reputation":103,"user_id":4475663,"display_name":"Douglas Santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1477395311,"creation_date":1477395311,"answer_id":40238893,"question_id":13705776,"body_markdown":"You can try this:\r\n\r\n    android:inputType=&quot;textCapCharacters&quot;\r\n\r\nIt worked for me. =)","title":"How to capitalize every letter in an Android EditText?","body":"<p>You can try this:</p>\n\n<pre><code>android:inputType=\"textCapCharacters\"\n</code></pre>\n\n<p>It worked for me. =)</p>\n"},{"tags":[],"owner":{"account_id":1990052,"reputation":1526,"user_id":1784279,"accept_rate":40,"display_name":"med116"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496853122,"creation_date":1496853122,"answer_id":44418255,"question_id":13705776,"body_markdown":"For some reason adding the xml did not work on my device.\r\n\r\nI found that a Text Filter works for to uppercase, like this\r\n\r\n\r\n\r\n        EditText editText = (EditText) findViewById(R.id.editTextId);\r\n\r\n        InputFilter toUpperCaseFilter = new InputFilter() {\r\n            public CharSequence filter(CharSequence source, int start, int end,\r\n                                       Spanned dest, int dstart, int dend) {\r\n\r\n                StringBuilder stringBuilder = new StringBuilder();\r\n\r\n                for (int i = start; i &lt; end; i++) {\r\n                    Character character = source.charAt(i);\r\n                    character = Character.toUpperCase(character); // THIS IS UPPER CASING\r\n                    stringBuilder.append(character);\r\n\r\n                }\r\n                return stringBuilder.toString();\r\n            }\r\n\r\n        };\r\n\r\n        editText.setFilters(new InputFilter[] { toUpperCaseFilter });\r\n","title":"How to capitalize every letter in an Android EditText?","body":"<p>For some reason adding the xml did not work on my device.</p>\n\n<p>I found that a Text Filter works for to uppercase, like this</p>\n\n<pre><code>    EditText editText = (EditText) findViewById(R.id.editTextId);\n\n    InputFilter toUpperCaseFilter = new InputFilter() {\n        public CharSequence filter(CharSequence source, int start, int end,\n                                   Spanned dest, int dstart, int dend) {\n\n            StringBuilder stringBuilder = new StringBuilder();\n\n            for (int i = start; i &lt; end; i++) {\n                Character character = source.charAt(i);\n                character = Character.toUpperCase(character); // THIS IS UPPER CASING\n                stringBuilder.append(character);\n\n            }\n            return stringBuilder.toString();\n        }\n\n    };\n\n    editText.setFilters(new InputFilter[] { toUpperCaseFilter });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5353527,"reputation":9286,"user_id":4266957,"accept_rate":38,"display_name":"Ricardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1574671489,"creation_date":1506611504,"answer_id":46472621,"question_id":13705776,"body_markdown":"I know this question is a bit old but here is explained how to do it in different ways:\r\n\r\n**Applying UpperCase in XML** \r\n\r\nAdd the following to the EditText XML:\r\n\r\n    android:inputType=&quot;textCapCharacters&quot;\r\n\r\n**Applying UpperCase as the only filter to an EditText in Java**\r\n\r\nHere we are setting the UpperCase filter as the only filter of the EditText. Notice that this method removes all the previously added filters.\r\n\r\n    editText.setFilters(new InputFilter[] {new InputFilter.AllCaps()});\r\n\r\n**Adding UpperCase to the existing filters of an EditText in Java**\r\n\r\nTo keep the already applied filters of the EditText, let&#39;s say inputType, maxLength, etc, you need to retrieve the applied filters, add the UpperCase filter to those filters, and set them back to the EditText. Here is an example how:\r\n\r\n    InputFilter[] editFilters = editText.getFilters();\r\n    InputFilter[] newFilters = new InputFilter[editFilters.length + 1];\r\n    System.arraycopy(editFilters, 0, newFilters, 0, editFilters.length);\r\n    newFilters[editFilters.length] = new InputFilter.AllCaps();  \r\n    editText.setFilters(newFilters);\r\n","title":"How to capitalize every letter in an Android EditText?","body":"<p>I know this question is a bit old but here is explained how to do it in different ways:</p>\n\n<p><strong>Applying UpperCase in XML</strong> </p>\n\n<p>Add the following to the EditText XML:</p>\n\n<pre><code>android:inputType=\"textCapCharacters\"\n</code></pre>\n\n<p><strong>Applying UpperCase as the only filter to an EditText in Java</strong></p>\n\n<p>Here we are setting the UpperCase filter as the only filter of the EditText. Notice that this method removes all the previously added filters.</p>\n\n<pre><code>editText.setFilters(new InputFilter[] {new InputFilter.AllCaps()});\n</code></pre>\n\n<p><strong>Adding UpperCase to the existing filters of an EditText in Java</strong></p>\n\n<p>To keep the already applied filters of the EditText, let's say inputType, maxLength, etc, you need to retrieve the applied filters, add the UpperCase filter to those filters, and set them back to the EditText. Here is an example how:</p>\n\n<pre><code>InputFilter[] editFilters = editText.getFilters();\nInputFilter[] newFilters = new InputFilter[editFilters.length + 1];\nSystem.arraycopy(editFilters, 0, newFilters, 0, editFilters.length);\nnewFilters[editFilters.length] = new InputFilter.AllCaps();  \neditText.setFilters(newFilters);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14173110,"reputation":431,"user_id":10239175,"display_name":"indrajeet jyoti"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552467574,"creation_date":1552464651,"answer_id":55137074,"question_id":13705776,"body_markdown":"To capitalize the first word of each sentence use :\r\n\r\n```android:inputType=&quot;textCapSentences&quot;```\r\n\r\nTo Capitalize The First Letter Of Every Word use :\r\n\r\n```android:inputType=&quot;textCapWords&quot;```\r\n\r\nTo Capitalize every Character use :\r\n\r\n```android:inputType=&quot;textCapCharacters&quot;```","title":"How to capitalize every letter in an Android EditText?","body":"<p>To capitalize the first word of each sentence use :</p>\n\n<p><code>android:inputType=\"textCapSentences\"</code></p>\n\n<p>To Capitalize The First Letter Of Every Word use :</p>\n\n<p><code>android:inputType=\"textCapWords\"</code></p>\n\n<p>To Capitalize every Character use :</p>\n\n<p><code>android:inputType=\"textCapCharacters\"</code></p>\n"},{"comments":[{"owner":{"account_id":2643177,"reputation":995,"user_id":2286422,"display_name":"Myroslav"},"score":0,"creation_date":1619076779,"post_id":65884745,"comment_id":118796471,"body_markdown":"This answer is a good addition to accepted answer. The solution from accepted answer (using InputType) does make characters upper-cased on soft keyboard, but it&#39;s possible for user to switch back to lower case and eventually input lower-cased character. Using both solutions (InputType + InputFilter) works great, - all characters are upper-cased.","body":"This answer is a good addition to accepted answer. The solution from accepted answer (using InputType) does make characters upper-cased on soft keyboard, but it&#39;s possible for user to switch back to lower case and eventually input lower-cased character. Using both solutions (InputType + InputFilter) works great, - all characters are upper-cased."}],"tags":[],"owner":{"account_id":6556316,"reputation":2208,"user_id":5068914,"display_name":"Mariusz Wiazowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611577461,"creation_date":1611577461,"answer_id":65884745,"question_id":13705776,"body_markdown":"All you have to do is set the correct input type for the EditText view:\r\n\r\n    editText.inputType == InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS\r\n\r\nAs an alternative you can use an InputFilter. Here I have created a **Kotlin extension**:\r\n\r\n    fun EditText.allCaps() {\r\n        val newFilters = this.filters.copyOf(this.filters.size + 1)\r\n\r\n        newFilters[newFilters.size - 1] = InputFilter.AllCaps()\r\n\r\n        this.filters = newFilters\r\n    }\r\n\r\nI prefer to use both of this methods. Please note that InputFilter works also for hardware keyboard, on the other hand InputType will be effective only for soft keyboard.","title":"How to capitalize every letter in an Android EditText?","body":"<p>All you have to do is set the correct input type for the EditText view:</p>\n<pre><code>editText.inputType == InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS\n</code></pre>\n<p>As an alternative you can use an InputFilter. Here I have created a <strong>Kotlin extension</strong>:</p>\n<pre><code>fun EditText.allCaps() {\n    val newFilters = this.filters.copyOf(this.filters.size + 1)\n\n    newFilters[newFilters.size - 1] = InputFilter.AllCaps()\n\n    this.filters = newFilters\n}\n</code></pre>\n<p>I prefer to use both of this methods. Please note that InputFilter works also for hardware keyboard, on the other hand InputType will be effective only for soft keyboard.</p>\n"},{"tags":[],"owner":{"account_id":14235462,"reputation":1,"user_id":10283384,"display_name":"sanjay rathore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668062469,"creation_date":1668061353,"answer_id":74384898,"question_id":13705776,"body_markdown":"Most of people have already answered about how to capitalize the editTexts.\r\nI have same requirement in my current project but with slight change.\r\nI need to make it uppercase if it&#39;s lowercase i.e., user typed &#39;a&#39; then it need to be changed to &#39;A&#39;. \r\n\r\n`AddTextChangeListener` comes to the rescue.\r\nSomeone has already covered it above but it falls in infinite loop and app crashes. There is just small modification required to make it work. so let&#39;s start.\r\n\r\nKotlin:\r\n\r\n```\r\nval watcher: TextWatcher = object : TextWatcher {\r\n    override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {\r\n\r\n    }\r\n\r\n    override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {\r\n        editText.removeTextChangedListener(this)\r\n        editText.setText(s.toString().toUpperCase())\r\n        editText.setEditTextSelection(editText.text.length)// Required to make cursor go to last index otherwise it would always point to start index\r\n        editText.addTextChangedListener(this)\r\n    }\r\n\r\n    override fun afterTextChanged(s: Editable) {}\r\n}\r\n\r\neditText.addTextChangedListener(watcher)\r\n```\r\n","title":"How to capitalize every letter in an Android EditText?","body":"<p>Most of people have already answered about how to capitalize the editTexts.\nI have same requirement in my current project but with slight change.\nI need to make it uppercase if it's lowercase i.e., user typed 'a' then it need to be changed to 'A'.</p>\n<p><code>AddTextChangeListener</code> comes to the rescue.\nSomeone has already covered it above but it falls in infinite loop and app crashes. There is just small modification required to make it work. so let's start.</p>\n<p>Kotlin:</p>\n<pre><code>val watcher: TextWatcher = object : TextWatcher {\n    override fun beforeTextChanged(s: CharSequence, start: Int, count: Int, after: Int) {\n\n    }\n\n    override fun onTextChanged(s: CharSequence, start: Int, before: Int, count: Int) {\n        editText.removeTextChangedListener(this)\n        editText.setText(s.toString().toUpperCase())\n        editText.setEditTextSelection(editText.text.length)// Required to make cursor go to last index otherwise it would always point to start index\n        editText.addTextChangedListener(this)\n    }\n\n    override fun afterTextChanged(s: Editable) {}\n}\n\neditText.addTextChangedListener(watcher)\n</code></pre>\n"}],"owner":{"account_id":1990251,"reputation":1022,"user_id":1784430,"accept_rate":67,"display_name":"clavio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47268,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":18898239,"answer_count":11,"score":26,"last_activity_date":1668062469,"creation_date":1354633245,"question_id":13705776,"body_markdown":"I have an array of editTexts which I make like this:\r\n\r\n\t\t\tinputs[i] = new EditText(this);\r\n\t\t\tinputs[i].setWidth(376);\r\n\t\t\tinputs[i].setInputType(InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS);\r\n\t\t\ttFields.addView(inputs[i]);\r\n\r\nI want every character to be capitalized.  Right now, the first letter of the first word is lowercase, then all the characters afterwords are upper case.  I can take what the user inputs after they are done and convert that to uppercase, but that&#39;s not really what I&#39;m going for.  Is there a way to get these fields to behave the way I want them to?","title":"How to capitalize every letter in an Android EditText?","body":"<p>I have an array of editTexts which I make like this:</p>\n\n<pre><code>        inputs[i] = new EditText(this);\n        inputs[i].setWidth(376);\n        inputs[i].setInputType(InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS);\n        tFields.addView(inputs[i]);\n</code></pre>\n\n<p>I want every character to be capitalized.  Right now, the first letter of the first word is lowercase, then all the characters afterwords are upper case.  I can take what the user inputs after they are done and convert that to uppercase, but that's not really what I'm going for.  Is there a way to get these fields to behave the way I want them to?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1668066194,"post_id":74384943,"comment_id":131317954,"body_markdown":"Eclipse 2022-03 is two releases behind. Please make sure to ask questions only about the current version. Please also tell with which editor you opened the file and if it also applies to other editors (right-click + _Open With &gt; ..._).","body":"Eclipse 2022-03 is two releases behind. Please make sure to ask questions only about the current version. Please also tell with which editor you opened the file and if it also applies to other editors (right-click + <i>Open With &gt; ...</i>)."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1668087974,"post_id":74384943,"comment_id":131325277,"body_markdown":"Sounds vaguely like https://github.com/eclipse/lemminx/issues/1137, especially if it appears only when opening the file. In any case, your first action should be to get onto the current release.","body":"Sounds vaguely like <a href=\"https://github.com/eclipse/lemminx/issues/1137\" rel=\"nofollow noreferrer\">github.com/eclipse/lemminx/issues/1137</a>, especially if it appears only when opening the file. In any case, your first action should be to get onto the current release."},{"owner":{"account_id":9722759,"reputation":656,"user_id":7210927,"display_name":"Hussain Akbar"},"score":0,"creation_date":1668102511,"post_id":74384943,"comment_id":131330869,"body_markdown":"Right ho. Shall upgrade post haste.","body":"Right ho. Shall upgrade post haste."}],"owner":{"account_id":9722759,"reputation":656,"user_id":7210927,"display_name":"Hussain Akbar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668061668,"creation_date":1668061668,"question_id":74384943,"body_markdown":"I am using Eclipse 2022-03 (4.23.0) on a Windows 11 system for developing Java web apps.\r\n\r\nThe client uses a very old version of JBoss 5 with JDK 1.6. They keep scheduling and postponing an upgrade as multiple applications would need to be upgraded.\r\n\r\nIn my project facets, I have set &quot;Dynamic Web Module&quot; to 2.2 and &quot;Java&quot; to 1.6 to be able to deploy for that server.\r\n\r\nEach time I open web.xml for editing, Eclipse marks it as containing errors. The first line (below) is marked. The message is: ````There is &#39;1&#39; error in &#39;http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/j2ee/j2ee_1_4.xsd&#39;.````\r\n\r\n````\r\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\r\n\t      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/j2ee/web-app_2_4.xsd&quot;\r\n\t      version=&quot;2.4&quot;&gt;\r\n````\r\n\r\nIf I delete all the attributes and undo the deletion, the error goes away.\r\n\r\nWhat is causing this?\r\n\r\n","title":"Eclipse keeps marking web.xml as erroneous","body":"<p>I am using Eclipse 2022-03 (4.23.0) on a Windows 11 system for developing Java web apps.</p>\n<p>The client uses a very old version of JBoss 5 with JDK 1.6. They keep scheduling and postponing an upgrade as multiple applications would need to be upgraded.</p>\n<p>In my project facets, I have set &quot;Dynamic Web Module&quot; to 2.2 and &quot;Java&quot; to 1.6 to be able to deploy for that server.</p>\n<p>Each time I open web.xml for editing, Eclipse marks it as containing errors. The first line (below) is marked. The message is: <code>There is '1' error in 'http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/j2ee/j2ee_1_4.xsd'.</code></p>\n<pre><code>&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://www.oracle.com/webfolder/technetwork/jsc/xml/ns/j2ee/web-app_2_4.xsd&quot;\n          version=&quot;2.4&quot;&gt;\n</code></pre>\n<p>If I delete all the attributes and undo the deletion, the error goes away.</p>\n<p>What is causing this?</p>\n"},{"tags":["java","sorting","shellsort"],"comments":[{"owner":{"account_id":19055,"reputation":77531,"user_id":44309,"display_name":"High Performance Mark"},"score":1,"creation_date":1668061933,"post_id":74384937,"comment_id":131316925,"body_markdown":"Have you first written down, with pencil and paper, one array which satisfies the requirements?  If an array of 100 numbers is too much to write down, perhaps write a 20-element array.  Then, when you have *a* solution in front of you, start figuring out a way to construct other solutions, or proceed directly to a general solution.  If you persist in exhaustive search of all `100!` arrays, or even a random selection of say, `1%` of them, you will miss the deadline for your exercise.  Stop coding, start thinking.","body":"Have you first written down, with pencil and paper, one array which satisfies the requirements?  If an array of 100 numbers is too much to write down, perhaps write a 20-element array.  Then, when you have <i>a</i> solution in front of you, start figuring out a way to construct other solutions, or proceed directly to a general solution.  If you persist in exhaustive search of all <code>100!</code> arrays, or even a random selection of say, <code>1%</code> of them, you will miss the deadline for your exercise.  Stop coding, start thinking."},{"owner":{"account_id":24485069,"reputation":1,"user_id":18402878,"display_name":"Wiz01"},"score":0,"creation_date":1668062269,"post_id":74384937,"comment_id":131316988,"body_markdown":"@ High Performance Mark I definetly don&#39;t want to search 100! arrays, but I can&#39;t figure out a better solution. I don&#39;t see any relationship between this particular gap sequence and the worst case scenerio...","body":"@ High Performance Mark I definetly don&#39;t want to search 100! arrays, but I can&#39;t figure out a better solution. I don&#39;t see any relationship between this particular gap sequence and the worst case scenerio..."},{"owner":{"account_id":19055,"reputation":77531,"user_id":44309,"display_name":"High Performance Mark"},"score":0,"creation_date":1668062732,"post_id":74384937,"comment_id":131317082,"body_markdown":"I refer you to the question I asked in my previous comment.  If you cannot construct such an example, write down the list of numbers `1..100` and study, with pencil and paper, how your shell sort routine performs on that.  And, no more comments on this one from me.  Good luck.  Oh, and stop your random searching for an optimal solution, the planet is warm enough already.","body":"I refer you to the question I asked in my previous comment.  If you cannot construct such an example, write down the list of numbers <code>1..100</code> and study, with pencil and paper, how your shell sort routine performs on that.  And, no more comments on this one from me.  Good luck.  Oh, and stop your random searching for an optimal solution, the planet is warm enough already."},{"owner":{"account_id":24485069,"reputation":1,"user_id":18402878,"display_name":"Wiz01"},"score":0,"creation_date":1668063355,"post_id":74384937,"comment_id":131317238,"body_markdown":"@ High Performance confusing...comment","body":"@ High Performance confusing...comment"}],"owner":{"account_id":24485069,"reputation":1,"user_id":18402878,"display_name":"Wiz01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668061612,"creation_date":1668061612,"question_id":74384937,"body_markdown":"This is the original question \r\n\r\n&quot;Shell Sort worst case. Construct an array of 100 elements containing the numbers 1 through 100 for which shellsort, with the increments 1 4 13 40, uses as large a number of compares as you can nd.&quot; \r\n\r\nThere are 100! permutations for an array of 100 elements, it&#39;s terrifying to go through each permutation and find which one has the maximum number of compares. Is there any smarter way to approach this problem? My approach this problem is through violence, but only randomly shuffle the array 100000000 time which is less than 100! and it take me half an hour to get the final output.\r\n\r\nI pasted my code below. I appreciate any suggestions from you guys! \r\n\r\n\r\n`\r\n```\r\npackage ch_2_1;\r\n\r\nimport edu.princeton.cs.algs4.StdOut;\r\nimport edu.princeton.cs.algs4.StdRandom;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class exer_19\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        // initial  permutation\r\n        int[] array = new int[100];\r\n        for ( int i = 1; i &lt; 101; i++)\r\n        {\r\n            array[i-1] = i;\r\n        }\r\n        // find the worst case and the number of compares\r\n        worst_input(array);\r\n    }\r\n\r\n    private static void worst_input(int[] array)\r\n    {\r\n        int max_count = 0;\r\n        int[] copy = new int[100];\r\n        int[] worst_case = new int[100];\r\n        for ( int i = 0; i &lt; 100000000; i++)\r\n        {\r\n            int[] temp = generate(array);\r\n            for (int j = 0; j &lt; 100; j++){ copy[j] = temp[j];}\r\n            Shell_sort operation = new Shell_sort();\r\n            operation.shell_sort(temp);\r\n            if (operation.compare() &gt; max_count)\r\n            {\r\n                max_count = operation.compare();\r\n                worst_case = copy;\r\n            }\r\n            System.out.println(i);\r\n        }\r\n        for ( int s : worst_case){ System.out.print(s + &quot; &quot;);}\r\n        System.out.println();\r\n        System.out.println(max_count);\r\n        System.out.println();\r\n\r\n    }\r\n    private static int[] generate( int[] array)\r\n    {\r\n        StdRandom.shuffle(array);\r\n        return array;\r\n    }\r\n\r\n    private static class Shell_sort // it&#39;s necessary to create a private class to hold the shell sort method\r\n        // b/c the method must record the # of compares to sort the array, and this # count need to be returned\r\n        // to the worst_input method. Therefore, having a class to encapsulate the two methods is very helpful\r\n    {\r\n        private int count = 0;\r\n        private void shell_sort(int[] test)\r\n        {\r\n            int N = test.length;\r\n            int h = 1;\r\n            while (h &lt; N/3) h = 3*h + 1; // 1, 4, 13, 40, 121...\r\n            while ( h &gt; 0)\r\n            {\r\n                for ( int i = h; i &lt; N; i++) // starting from the largest h-value th element of the array (simplified: ith element)\r\n                {\r\n                    // if ith element is less than i-h th element, swap the two, continue this process until the condition is not met\r\n                    for ( int j = i; j &gt;= h &amp;&amp; less( test[j], test[j-h]); j = j - h)\r\n                    {\r\n                        exchange( test, j, j-h);\r\n                        count++;\r\n                    }\r\n                }\r\n                // when reached the end of the array, update h value\r\n                h = h/3;\r\n            }\r\n        }\r\n\r\n        private int compare()\r\n        {\r\n            return count;\r\n        }\r\n    }\r\n\r\n    private static boolean less( int current, int previous)\r\n    {\r\n        return current &lt; previous;\r\n    }\r\n\r\n    private static void exchange(int[] array, int cur_index, int pre_index)\r\n    {\r\n        int temp = array[pre_index];\r\n        array[pre_index] = array[cur_index];\r\n        array[cur_index] = temp;\r\n    }\r\n\r\n}\r\n```\r\n`","title":"how to construct an array of 100 elements containing the numbers 1 -100 for which shellsort, with the increments 1 4 13 40 (The worst case)?","body":"<p>This is the original question</p>\n<p>&quot;Shell Sort worst case. Construct an array of 100 elements containing the numbers 1 through 100 for which shellsort, with the increments 1 4 13 40, uses as large a number of compares as you can nd.&quot;</p>\n<p>There are 100! permutations for an array of 100 elements, it's terrifying to go through each permutation and find which one has the maximum number of compares. Is there any smarter way to approach this problem? My approach this problem is through violence, but only randomly shuffle the array 100000000 time which is less than 100! and it take me half an hour to get the final output.</p>\n<p>I pasted my code below. I appreciate any suggestions from you guys!</p>\n<p>`</p>\n<pre><code>package ch_2_1;\n\nimport edu.princeton.cs.algs4.StdOut;\nimport edu.princeton.cs.algs4.StdRandom;\n\nimport java.util.Arrays;\n\npublic class exer_19\n{\n    public static void main(String[] args)\n    {\n        // initial  permutation\n        int[] array = new int[100];\n        for ( int i = 1; i &lt; 101; i++)\n        {\n            array[i-1] = i;\n        }\n        // find the worst case and the number of compares\n        worst_input(array);\n    }\n\n    private static void worst_input(int[] array)\n    {\n        int max_count = 0;\n        int[] copy = new int[100];\n        int[] worst_case = new int[100];\n        for ( int i = 0; i &lt; 100000000; i++)\n        {\n            int[] temp = generate(array);\n            for (int j = 0; j &lt; 100; j++){ copy[j] = temp[j];}\n            Shell_sort operation = new Shell_sort();\n            operation.shell_sort(temp);\n            if (operation.compare() &gt; max_count)\n            {\n                max_count = operation.compare();\n                worst_case = copy;\n            }\n            System.out.println(i);\n        }\n        for ( int s : worst_case){ System.out.print(s + &quot; &quot;);}\n        System.out.println();\n        System.out.println(max_count);\n        System.out.println();\n\n    }\n    private static int[] generate( int[] array)\n    {\n        StdRandom.shuffle(array);\n        return array;\n    }\n\n    private static class Shell_sort // it's necessary to create a private class to hold the shell sort method\n        // b/c the method must record the # of compares to sort the array, and this # count need to be returned\n        // to the worst_input method. Therefore, having a class to encapsulate the two methods is very helpful\n    {\n        private int count = 0;\n        private void shell_sort(int[] test)\n        {\n            int N = test.length;\n            int h = 1;\n            while (h &lt; N/3) h = 3*h + 1; // 1, 4, 13, 40, 121...\n            while ( h &gt; 0)\n            {\n                for ( int i = h; i &lt; N; i++) // starting from the largest h-value th element of the array (simplified: ith element)\n                {\n                    // if ith element is less than i-h th element, swap the two, continue this process until the condition is not met\n                    for ( int j = i; j &gt;= h &amp;&amp; less( test[j], test[j-h]); j = j - h)\n                    {\n                        exchange( test, j, j-h);\n                        count++;\n                    }\n                }\n                // when reached the end of the array, update h value\n                h = h/3;\n            }\n        }\n\n        private int compare()\n        {\n            return count;\n        }\n    }\n\n    private static boolean less( int current, int previous)\n    {\n        return current &lt; previous;\n    }\n\n    private static void exchange(int[] array, int cur_index, int pre_index)\n    {\n        int temp = array[pre_index];\n        array[pre_index] = array[cur_index];\n        array[cur_index] = temp;\n    }\n\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","arrays","generics","java-8","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1529685852,"post_id":50992339,"comment_id":88979335,"body_markdown":"What is the element type of the `input` stream?","body":"What is the element type of the <code>input</code> stream?"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1529685974,"post_id":50992339,"comment_id":88979392,"body_markdown":"There&#39;s no `FloatStream`, so I don&#39;t think this is possible without writing a custom collector which converts from either `Float` or `double`.","body":"There&#39;s no <code>FloatStream</code>, so I don&#39;t think this is possible without writing a custom collector which converts from either <code>Float</code> or <code>double</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1529685994,"post_id":50992339,"comment_id":88979399,"body_markdown":"Would a `double[]` do? If so, you could use [`Stream#mapToDouble(...)`](https://docs.oracle.com/javase/10/docs/api/java/util/stream/Stream.html#mapToDouble(java.util.function.ToDoubleFunction)) to obtain a [`DoubleStream`](https://docs.oracle.com/javase/10/docs/api/java/util/stream/DoubleStream.html)","body":"Would a <code>double[]</code> do? If so, you could use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/stream/Stream.html#mapToDouble(java.util.function.ToDoubleFunction)\" rel=\"nofollow noreferrer\"><code>Stream#mapToDouble(...)</code></a> to obtain a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/stream/DoubleStream.html\" rel=\"nofollow noreferrer\"><code>DoubleStream</code></a>"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1529686018,"post_id":50992339,"comment_id":88979411,"body_markdown":"Why `float` and not `double`? Then you could use `DoubleStream`.","body":"Why <code>float</code> and not <code>double</code>? Then you could use <code>DoubleStream</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1529686518,"post_id":50992339,"comment_id":88979660,"body_markdown":"The duplicate is exactly not what OP wants. If anything, [this](https://stackoverflow.com/questions/41297869/converting-an-array-of-strings-to-an-array-of-floats-in-java) is what OP wants. But even this does not answer the question as to why it does not work. Voting to reopen.","body":"The duplicate is exactly not what OP wants. If anything, <a href=\"https://stackoverflow.com/questions/41297869/converting-an-array-of-strings-to-an-array-of-floats-in-java\">this</a> is what OP wants. But even this does not answer the question as to why it does not work. Voting to reopen."},{"owner":{"account_id":119452,"reputation":805,"user_id":311151,"accept_rate":80,"display_name":"Gianluca"},"score":0,"creation_date":1529687600,"post_id":50992339,"comment_id":88980136,"body_markdown":"I would say that it is not a duplicate. I&#39;ve seen that answer and it didn&#39;t help to solve my problem.","body":"I would say that it is not a duplicate. I&#39;ve seen that answer and it didn&#39;t help to solve my problem."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1529687958,"post_id":50992339,"comment_id":88980300,"body_markdown":"There&#39;s another answer embedded in there.  There is no way to get a primitive `float` out of a stream in this fashion.","body":"There&#39;s another answer embedded in there.  There is no way to get a primitive <code>float</code> out of a stream in this fashion."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1529935857,"post_id":50992339,"comment_id":89043444,"body_markdown":"Use `mapToDouble(Float::parseFloat)` together with the collector of [this answer](https://stackoverflow.com/a/26970398/2711488).","body":"Use <code>mapToDouble(Float::parseFloat)</code> together with the collector of <a href=\"https://stackoverflow.com/a/26970398/2711488\">this answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":5275807,"reputation":1972,"user_id":4212632,"accept_rate":100,"display_name":"Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529688464,"creation_date":1529688464,"answer_id":50992931,"question_id":50992339,"body_markdown":"You can use the value from the Float Object through the floatValue() method to create a array:\r\n\r\n    Float[] data = input.map(Float::valueOf).toArray(Float[]::new);\r\n    float[] primData = new float[data.length];\r\n\r\n    for(int x = 0; x &lt; data.length; x ++) {\r\n        primData[x] = data[x].floatValue();\r\n    }\r\n","title":"Convert Java stream of strings to array of float","body":"<p>You can use the value from the Float Object through the floatValue() method to create a array:</p>\n\n<pre><code>Float[] data = input.map(Float::valueOf).toArray(Float[]::new);\nfloat[] primData = new float[data.length];\n\nfor(int x = 0; x &lt; data.length; x ++) {\n    primData[x] = data[x].floatValue();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1529689842,"creation_date":1529688982,"answer_id":50993056,"question_id":50992339,"body_markdown":"There is *no way* of getting `float[]` directly from any Stream in Java yet. There are &quot;only&quot; 3 available converting mechanisms to numeric Stream interfaces:\r\n\r\n - [`mapToInt(ToIntFunction&lt;? super T&gt; mapper)`][1] -&gt; [`IntStream`][2]\r\n - [`mapToLong(ToLongFunction&lt;? super T&gt; mapper)`][3] -&gt; [`LongStream`][4]\r\n - [`mapToDouble(ToDoubleFunction&lt;? super T&gt; mapper)`][5] -&gt; [`DoubleStream`][6]\r\n\r\n\r\nThus the only way is to use `double` instead, which is fairly easy:\r\n\r\n    double[] data = input.mapToDouble(Double::parseDouble).toArray();\r\n\r\nIf you insist to get the `float[]` from `double[]`, it&#39;s another issue where might help the `Guava` library:\r\n\r\n    float[] floatArray = Floats.toArray(Doubles.asList(data));\r\n    // You can collect Stream to a Collection and pass directly Floats.toArray(list);\r\n\r\nOr a simple `for-loop`:\r\n\r\n    float[] floatArray = new float[data.length];\r\n\tfor (int i = 0 ; i &lt; data.length; i++) {\r\n\t    floatArray[i] = (float) data[i];\r\n\t}\r\n_______\r\n\r\nAlternatively, you might use the method `toArray(IntFunction&lt;A[]&gt; generator)` which returns the array of an Object type. However, to unbox `Float`, you have to use the for-loop again in the very same way - it gives no difference except you can work with `Float[]` directly, although boxed.\r\n\r\n - [`map(Function&lt;? super T,? extends R&gt; mapper)`][7] -&gt; [`Stream&lt;R&gt;`][8]\r\n\r\nHere is the use:\r\n   \r\n    Float[] data = input.map(Float::valueOf).toArray(Float[]::new);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToInt-java.util.function.ToIntFunction-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToLong-java.util.function.ToLongFunction-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/LongStream.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToDouble-java.util.function.ToDoubleFunction-\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/DoubleStream.html\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\r\n  [8]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html","title":"Convert Java stream of strings to array of float","body":"<p>There is <em>no way</em> of getting <code>float[]</code> directly from any Stream in Java yet. There are \"only\" 3 available converting mechanisms to numeric Stream interfaces:</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToInt-java.util.function.ToIntFunction-\" rel=\"nofollow noreferrer\"><code>mapToInt(ToIntFunction&lt;? super T&gt; mapper)</code></a> -> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"nofollow noreferrer\"><code>IntStream</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToLong-java.util.function.ToLongFunction-\" rel=\"nofollow noreferrer\"><code>mapToLong(ToLongFunction&lt;? super T&gt; mapper)</code></a> -> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/LongStream.html\" rel=\"nofollow noreferrer\"><code>LongStream</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToDouble-java.util.function.ToDoubleFunction-\" rel=\"nofollow noreferrer\"><code>mapToDouble(ToDoubleFunction&lt;? super T&gt; mapper)</code></a> -> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/DoubleStream.html\" rel=\"nofollow noreferrer\"><code>DoubleStream</code></a></li>\n</ul>\n\n<p>Thus the only way is to use <code>double</code> instead, which is fairly easy:</p>\n\n<pre><code>double[] data = input.mapToDouble(Double::parseDouble).toArray();\n</code></pre>\n\n<p>If you insist to get the <code>float[]</code> from <code>double[]</code>, it's another issue where might help the <code>Guava</code> library:</p>\n\n<pre><code>float[] floatArray = Floats.toArray(Doubles.asList(data));\n// You can collect Stream to a Collection and pass directly Floats.toArray(list);\n</code></pre>\n\n<p>Or a simple <code>for-loop</code>:</p>\n\n<pre><code>float[] floatArray = new float[data.length];\nfor (int i = 0 ; i &lt; data.length; i++) {\n    floatArray[i] = (float) data[i];\n}\n</code></pre>\n\n<hr>\n\n<p>Alternatively, you might use the method <code>toArray(IntFunction&lt;A[]&gt; generator)</code> which returns the array of an Object type. However, to unbox <code>Float</code>, you have to use the for-loop again in the very same way - it gives no difference except you can work with <code>Float[]</code> directly, although boxed.</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>map(Function&lt;? super T,? extends R&gt; mapper)</code></a> -> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream&lt;R&gt;</code></a></li>\n</ul>\n\n<p>Here is the use:</p>\n\n<pre><code>Float[] data = input.map(Float::valueOf).toArray(Float[]::new);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":119452,"reputation":805,"user_id":311151,"accept_rate":80,"display_name":"Gianluca"},"score":0,"creation_date":1529701004,"post_id":50993069,"comment_id":88985463,"body_markdown":"The missing size is actually a typo, in the code I have got it. I&#39;ll not fix the question or your answer will lose meaning. Thank you","body":"The missing size is actually a typo, in the code I have got it. I&#39;ll not fix the question or your answer will lose meaning. Thank you"}],"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1529968226,"creation_date":1529689042,"answer_id":50993069,"question_id":50992339,"body_markdown":"There is a minor error in your code, which we will fix first to reveal the larger problem at hand:\r\n\r\n    float[] data = input.map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[]);\r\n\r\nshould be:\r\n\r\n    float[] data = input.map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[size]);\r\n                                                                                 ^this is new\r\n\r\n---\r\nEven if it might not seem like it, your question is realted to generics. Let us take a look at the [definition of `Stream#toArray(...)`][stream]:\r\n\r\n    public &lt;A&gt; A[] toArray(IntFunction&lt;A[]&gt; generator)\r\n\r\nSince this method is generic in `A`, the type `A` must not be a primitive. You, on the other hand, try to set `A` to `float` (this is done through [type inference][infer], this is why you do not see the generic parameters in your code). The compiler now complains that:\r\n\r\n    error: incompatible types: inference variable A has incompatible bounds\r\n        float[] data = input.stream().map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[size]);\r\n                                                                           ^\r\n        equality constraints: float\r\n        upper bounds: Object\r\n      where A is a type-variable:\r\n        A extends Object declared in method &lt;A&gt;toArray(IntFunction&lt;A[]&gt;)\r\n    1 error\r\n\r\n---\r\n[This question and its answer][streamToFloat] provide solutions/workarounds to the problem of converting a `String`-stream to a `float[]`.\r\n\r\n[stream]: https://docs.oracle.com/javase/10/docs/api/java/util/stream/Stream.html#toArray(java.util.function.IntFunction):\r\n[generic]: https://docs.oracle.com/javase/tutorial/java/generics/index.html\r\n[infer]: https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html\r\n[streamToFloat]: https://stackoverflow.com/questions/41297869/converting-an-array-of-strings-to-an-array-of-floats-in-java\r\n","title":"Convert Java stream of strings to array of float","body":"<p>There is a minor error in your code, which we will fix first to reveal the larger problem at hand:</p>\n\n<pre><code>float[] data = input.map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[]);\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>float[] data = input.map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[size]);\n                                                                             ^this is new\n</code></pre>\n\n<hr>\n\n<p>Even if it might not seem like it, your question is realted to generics. Let us take a look at the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/stream/Stream.html#toArray(java.util.function.IntFunction):\" rel=\"nofollow noreferrer\">definition of <code>Stream#toArray(...)</code></a>:</p>\n\n<pre><code>public &lt;A&gt; A[] toArray(IntFunction&lt;A[]&gt; generator)\n</code></pre>\n\n<p>Since this method is generic in <code>A</code>, the type <code>A</code> must not be a primitive. You, on the other hand, try to set <code>A</code> to <code>float</code> (this is done through <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html\" rel=\"nofollow noreferrer\">type inference</a>, this is why you do not see the generic parameters in your code). The compiler now complains that:</p>\n\n<pre><code>error: incompatible types: inference variable A has incompatible bounds\n    float[] data = input.stream().map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[size]);\n                                                                       ^\n    equality constraints: float\n    upper bounds: Object\n  where A is a type-variable:\n    A extends Object declared in method &lt;A&gt;toArray(IntFunction&lt;A[]&gt;)\n1 error\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/questions/41297869/converting-an-array-of-strings-to-an-array-of-floats-in-java\">This question and its answer</a> provide solutions/workarounds to the problem of converting a <code>String</code>-stream to a <code>float[]</code>.</p>\n"},{"comments":[{"owner":{"account_id":5115366,"reputation":580,"user_id":4104551,"accept_rate":83,"display_name":"Akumaburn"},"score":0,"creation_date":1607046675,"post_id":51002914,"comment_id":115156539,"body_markdown":"Thank you for doing what the core Java library team couldn&#39;t be arsed to do. Single Precision is handy anywhere hardware acceleration is involved.","body":"Thank you for doing what the core Java library team couldn&#39;t be arsed to do. Single Precision is handy anywhere hardware acceleration is involved."}],"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668060671,"creation_date":1529770347,"answer_id":51002914,"question_id":50992339,"body_markdown":"There is a better way with my library [abacus-common][1]:\r\n\r\n    float[] result = Stream.of(input).mapToFloat(Float::parseFloat).toArray();\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Convert Java stream of strings to array of float","body":"<p>There is a better way with my library <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>:</p>\n<pre><code>float[] result = Stream.of(input).mapToFloat(Float::parseFloat).toArray();\n</code></pre>\n"}],"owner":{"account_id":119452,"reputation":805,"user_id":311151,"accept_rate":80,"display_name":"Gianluca"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8233,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":50993069,"answer_count":4,"score":4,"last_activity_date":1668060671,"creation_date":1529685754,"question_id":50992339,"body_markdown":"I&#39;m trying to find an elegant way to convert a `Stream&lt;String&gt;` to `float[]`. \r\n\r\nUntil now I&#39;ve come out with:\r\n\r\n```java\r\nFloat[] data = input.map(Float::valueOf).toArray(Float[]::new);\r\n```\r\n\r\nBut I actually need a `float[]` and when I try:\r\n\r\n```\r\nfloat[] data = input.map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[]);\r\n```\r\n\r\nI get an error cannot convert `Object[]` to `float[]`, which I don&#39;t really understand.","title":"Convert Java stream of strings to array of float","body":"<p>I'm trying to find an elegant way to convert a <code>Stream&lt;String&gt;</code> to <code>float[]</code>.</p>\n<p>Until now I've come out with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Float[] data = input.map(Float::valueOf).toArray(Float[]::new);\n</code></pre>\n<p>But I actually need a <code>float[]</code> and when I try:</p>\n<pre><code>float[] data = input.map(x -&gt; Float.parseFloat(x)).toArray(size -&gt; new float[]);\n</code></pre>\n<p>I get an error cannot convert <code>Object[]</code> to <code>float[]</code>, which I don't really understand.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":6970461,"reputation":7437,"user_id":5348875,"accept_rate":67,"display_name":"Daniel"},"score":0,"creation_date":1668056702,"post_id":74384280,"comment_id":131316075,"body_markdown":"If you have all the percentages, why not multiplying each percentage by 100 and generate that number of animals for each percentage of each animal?","body":"If you have all the percentages, why not multiplying each percentage by 100 and generate that number of animals for each percentage of each animal?"},{"owner":{"account_id":20823037,"reputation":57,"user_id":15294173,"display_name":"Joseph Mart&#237;nez"},"score":0,"creation_date":1668059489,"post_id":74384280,"comment_id":131316473,"body_markdown":"@Daniel I&#39;m already doing that, my question in this post is different.Is it possible to shrink this logic that i applied?","body":"@Daniel I&#39;m already doing that, my question in this post is different.Is it possible to shrink this logic that i applied?"},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1668060143,"post_id":74384280,"comment_id":131316584,"body_markdown":"@JosephMart&#237;nez Your code has a logical error and it will generate 0 animal objects. First run your code, and check if it produces the required output. Then comes question of optimizing the logic, if at all needed.","body":"@JosephMart&#237;nez Your code has a logical error and it will generate 0 animal objects. First run your code, and check if it produces the required output. Then comes question of optimizing the logic, if at all needed."},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1668060620,"post_id":74384280,"comment_id":131316676,"body_markdown":"`new ArrayList &lt;Animal&gt;(100);` only tells the expected size of the `ArrayList`, i.e. 100. And not the  actual size. Actual size is still 0. It only increases if you add something into the list. So your loop won&#39;t even start.","body":"<code>new ArrayList &lt;Animal&gt;(100);</code> only tells the expected size of the <code>ArrayList</code>, i.e. 100. And not the  actual size. Actual size is still 0. It only increases if you add something into the list. So your loop won&#39;t even start."}],"answers":[{"comments":[{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1668067602,"post_id":74384802,"comment_id":131318361,"body_markdown":"Nice job looping from `MAX` to `0`, and merging the loop condition and decrement into single statement. Keep it simple while answering the beginners.","body":"Nice job looping from <code>MAX</code> to <code>0</code>, and merging the loop condition and decrement into single statement. Keep it simple while answering the beginners."}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668060626,"creation_date":1668060626,"answer_id":74384802,"question_id":74384280,"body_markdown":"Since the total number of animals is constant and the percentages for each animal are also constant, you can simply write a separate `for` loop for each animal and therefore no need for all the `final int` variables.\r\n```java\r\nfinal int ANIMAL_MAX = 100;\r\nArrayList&lt;Animal&gt; animal= new ArrayList&lt;&gt;(ANIMAL_MAX);\r\nfor (int i = ANIMAL_MAX * 0.4; --i &gt;= 0;) {\r\n    animal.add(new Dog(generateRandom()));\r\n}\r\nfor (int i = ANIMAL_MAX * 0.25; --i &gt;= 0;) {\r\n    animal.add(new Cat(generateRandom()));\r\n}\r\nfor (int i = ANIMAL_MAX * 0.1; --i &gt;= 0;) {\r\n    animal.add(new Cow(generateRandom()));\r\n}\r\nfor (int i = ANIMAL_MAX * 0.2; --i &gt;= 0;) {\r\n    animal.add(new Lamb(generateRandom()));\r\n}\r\nfor (int i = ANIMAL_MAX * 0.05; --i &gt;= 0;) {\r\n    animal.add(new Rabbit(generateRandom()));\r\n}\r\n```\r\n","title":"generate random objects and add to arraylist by percentage","body":"<p>Since the total number of animals is constant and the percentages for each animal are also constant, you can simply write a separate <code>for</code> loop for each animal and therefore no need for all the <code>final int</code> variables.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int ANIMAL_MAX = 100;\nArrayList&lt;Animal&gt; animal= new ArrayList&lt;&gt;(ANIMAL_MAX);\nfor (int i = ANIMAL_MAX * 0.4; --i &gt;= 0;) {\n    animal.add(new Dog(generateRandom()));\n}\nfor (int i = ANIMAL_MAX * 0.25; --i &gt;= 0;) {\n    animal.add(new Cat(generateRandom()));\n}\nfor (int i = ANIMAL_MAX * 0.1; --i &gt;= 0;) {\n    animal.add(new Cow(generateRandom()));\n}\nfor (int i = ANIMAL_MAX * 0.2; --i &gt;= 0;) {\n    animal.add(new Lamb(generateRandom()));\n}\nfor (int i = ANIMAL_MAX * 0.05; --i &gt;= 0;) {\n    animal.add(new Rabbit(generateRandom()));\n}\n</code></pre>\n"}],"owner":{"account_id":20823037,"reputation":57,"user_id":15294173,"display_name":"Joseph Mart&#237;nez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1668060626,"creation_date":1668055755,"question_id":74384280,"body_markdown":"I want to randomly generate animals objects by percentage and then add them into an `ArrayList`.\r\n\r\nIn total, there should be 100 objects and it should be 40% of dogs, 25% of cats, 10% of cow, 20% lamb, 5% rabbit objects.\r\n\r\nWhat I did was, I created a `for` loop, and add the objects. Is there a shortcut and make it simple that does the job without initializing all the `final int` variables? \r\n\r\nWhat I did was this:\r\n```java\r\nfinal int ANIMAL_MAX = 100;\r\nfinal int dog = 0;\r\nfinal int cat = 0;\r\nfinal int cow = 0;\r\nfinal int lamb = 0;\r\nfinal int rabbit = 0;\r\nArrayList &lt;Animal&gt; animal= new ArrayList &lt;Animal&gt;(ANIMAL_MAX);\r\nfor(int i=0;i&lt;animal.size(); i++) {\r\n    if(dog &lt; (ANIMAL_MAX * 0.40)) {\r\n        animal.add(new Dog(generateRandom()));\r\n        dog++;\r\n    }else if(cat &lt; (ANIMAL_MAX * 0.25)) {\r\n        animal.add(new Cat(generateRandom()));\r\n        cat++;\r\n    }else if(cow &lt; (ANIMAL_MAX * 0.1)) {\r\n        animal.add(new Cow(generateRandom()));\r\n        cow++;\r\n    }else if(lamb &lt; (ANIMAL_MAX * 0.2)) {\r\n        animal.add(new Lamb(generateRandom()));\r\n        lamb++;\r\n    }else if(rabbit &lt; (ANIMAL_MAX * 0.05)) {\r\n        animal.add(new Rabbit(generateRandom()));\r\n        rabbit++;\r\n    }\r\n}\r\n```\r\n","title":"generate random objects and add to arraylist by percentage","body":"<p>I want to randomly generate animals objects by percentage and then add them into an <code>ArrayList</code>.</p>\n<p>In total, there should be 100 objects and it should be 40% of dogs, 25% of cats, 10% of cow, 20% lamb, 5% rabbit objects.</p>\n<p>What I did was, I created a <code>for</code> loop, and add the objects. Is there a shortcut and make it simple that does the job without initializing all the <code>final int</code> variables?</p>\n<p>What I did was this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int ANIMAL_MAX = 100;\nfinal int dog = 0;\nfinal int cat = 0;\nfinal int cow = 0;\nfinal int lamb = 0;\nfinal int rabbit = 0;\nArrayList &lt;Animal&gt; animal= new ArrayList &lt;Animal&gt;(ANIMAL_MAX);\nfor(int i=0;i&lt;animal.size(); i++) {\n    if(dog &lt; (ANIMAL_MAX * 0.40)) {\n        animal.add(new Dog(generateRandom()));\n        dog++;\n    }else if(cat &lt; (ANIMAL_MAX * 0.25)) {\n        animal.add(new Cat(generateRandom()));\n        cat++;\n    }else if(cow &lt; (ANIMAL_MAX * 0.1)) {\n        animal.add(new Cow(generateRandom()));\n        cow++;\n    }else if(lamb &lt; (ANIMAL_MAX * 0.2)) {\n        animal.add(new Lamb(generateRandom()));\n        lamb++;\n    }else if(rabbit &lt; (ANIMAL_MAX * 0.05)) {\n        animal.add(new Rabbit(generateRandom()));\n        rabbit++;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","radio-button","radio-group"],"answers":[{"tags":[],"owner":{"account_id":26696794,"reputation":141,"user_id":20304512,"display_name":"BigBeef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668030627,"creation_date":1668030627,"answer_id":74381772,"question_id":74377076,"body_markdown":"Sure.  I&#39;m not entire sure what you&#39;re trying to do, but for sure the error is correct. You should add your RadioButton in the RadioGroup in the XML.  You could set the RadioGroup (or radio button) background color to black.  This allows you to remove your RadioButtonItem XML.  You could also play with the visibility of the button, according to your needs.\r\n\r\nYou can also create a radio button widget dynamically, then add it to the radio group dynamically.\r\n\r\nGood luck!","title":"How to add radio button to RadioGroup with dynamic data in android","body":"<p>Sure.  I'm not entire sure what you're trying to do, but for sure the error is correct. You should add your RadioButton in the RadioGroup in the XML.  You could set the RadioGroup (or radio button) background color to black.  This allows you to remove your RadioButtonItem XML.  You could also play with the visibility of the button, according to your needs.</p>\n<p>You can also create a radio button widget dynamically, then add it to the radio group dynamically.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":7544172,"reputation":417,"user_id":5727849,"display_name":"Thang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668060115,"creation_date":1668006404,"question_id":74377076,"body_markdown":"I have an issue when adding Radio Button to RadioGroup with dynamic data.\r\n\r\nIn detail as below:\r\n```\r\nprivate fun initRadioButton(){\r\n        val radioGroup = findViewById&lt;RadioGroup&gt;(R.id.radio_group)\r\n        radioGroup.orientation=LinearLayout.VERTICAL\r\n\r\n        val setValueRadioButton:RadioButton.(Student)-&gt; Unit ={ student-&gt;\r\n            text= student.name\r\n            id= View.generateViewId()\r\n            tag= student\r\n        }\r\n\r\n        datas.map {\r\n            val rootView = layoutInflater.inflate(R.layout.radio_button_item,null) as LinearLayout\r\n            val rdStudent = rootView.findViewById&lt;RadioButton&gt;(R.id.rd_student)\r\n            rdStudent.setValueRadioButton(it)\r\n            radioGroup.addView(rdStudent)\r\n        }\r\n\r\n    }\r\n\r\n\r\n```\r\nand XML file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;RadioGroup\r\n        android:id=&quot;@+id/radio_group&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;/RadioGroup&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n\r\nand radio button item\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;RadioButton\r\n        android:id=&quot;@+id/rd_student&quot;\r\n        android:text=&quot;kskkss&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;View\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;2dp&quot;\r\n        android:background=&quot;@color/black&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n\r\nI thought everything was fine until I ran it but it throws an exception as follows:\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child&#39;s parent first.\r\n\r\n```\r\n\r\nSo anyone helps me solve this problem?","title":"How to add radio button to RadioGroup with dynamic data in android","body":"<p>I have an issue when adding Radio Button to RadioGroup with dynamic data.</p>\n<p>In detail as below:</p>\n<pre><code>private fun initRadioButton(){\n        val radioGroup = findViewById&lt;RadioGroup&gt;(R.id.radio_group)\n        radioGroup.orientation=LinearLayout.VERTICAL\n\n        val setValueRadioButton:RadioButton.(Student)-&gt; Unit ={ student-&gt;\n            text= student.name\n            id= View.generateViewId()\n            tag= student\n        }\n\n        datas.map {\n            val rootView = layoutInflater.inflate(R.layout.radio_button_item,null) as LinearLayout\n            val rdStudent = rootView.findViewById&lt;RadioButton&gt;(R.id.rd_student)\n            rdStudent.setValueRadioButton(it)\n            radioGroup.addView(rdStudent)\n        }\n\n    }\n\n\n</code></pre>\n<p>and XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;RadioGroup\n        android:id=&quot;@+id/radio_group&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;/RadioGroup&gt;\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p>and radio button item</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;RadioButton\n        android:id=&quot;@+id/rd_student&quot;\n        android:text=&quot;kskkss&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;View\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;2dp&quot;\n        android:background=&quot;@color/black&quot; /&gt;\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p>I thought everything was fine until I ran it but it throws an exception as follows:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.\n\n</code></pre>\n<p>So anyone helps me solve this problem?</p>\n"},{"tags":["java","image","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":28802,"reputation":10338,"user_id":77244,"accept_rate":68,"display_name":"jwl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1247693898,"creation_date":1247693898,"answer_id":1134240,"question_id":759856,"body_markdown":"Shouldn&#39;t you just hold onto the picture object and call resize() very last, after your setcolumnwidth()s are done?","title":"POI 3.2 Image Height/Width controlling","body":"<p>Shouldn't you just hold onto the picture object and call resize() very last, after your setcolumnwidth()s are done?</p>\n"},{"tags":[],"owner":{"account_id":544623,"reputation":508,"user_id":914121,"display_name":"John kendall"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1325782672,"creation_date":1314363865,"answer_id":7205041,"question_id":759856,"body_markdown":"I found that you must NOT call `picture.resize()` until after `sheet.autoSizeColumn(i)` even if you are not calling `autoSizeColumn(i)` on the column to which the picture is anchored.","title":"POI 3.2 Image Height/Width controlling","body":"<p>I found that you must NOT call <code>picture.resize()</code> until after <code>sheet.autoSizeColumn(i)</code> even if you are not calling <code>autoSizeColumn(i)</code> on the column to which the picture is anchored.</p>\n"},{"comments":[{"owner":{"account_id":1415915,"reputation":2836,"user_id":1341599,"accept_rate":94,"display_name":"Dominik"},"score":0,"creation_date":1423033328,"post_id":10536531,"comment_id":44980081,"body_markdown":"Hi there, I think I have a somewhat similar problem over here: http://stackoverflow.com/questions/28298947/npoi-images-created-in-foreach-loop-not-resizing-correctly and wanted to ask you what your &quot;LOGO_MARGIN&quot; and especially the &quot;IN_FUNNY_POI_FORMAT&quot;-part means. Best regards, Dominik","body":"Hi there, I think I have a somewhat similar problem over here: <a href=\"http://stackoverflow.com/questions/28298947/npoi-images-created-in-foreach-loop-not-resizing-correctly\" title=\"npoi images created in foreach loop not resizing correctly\">stackoverflow.com/questions/28298947/&hellip;</a> and wanted to ask you what your &quot;LOGO_MARGIN&quot; and especially the &quot;IN_FUNNY_POI_FORMAT&quot;-part means. Best regards, Dominik"},{"owner":{"account_id":240468,"reputation":3778,"user_id":510711,"accept_rate":53,"display_name":"flob"},"score":0,"creation_date":1423046470,"post_id":10536531,"comment_id":44987239,"body_markdown":"@Dominik I couldn&#39;t find your question, but I added the current used code, it uses LOGO_MARGIN = 2 and I do call pic.resize afterwards :-)","body":"@Dominik I couldn&#39;t find your question, but I added the current used code, it uses LOGO_MARGIN = 2 and I do call pic.resize afterwards :-)"},{"owner":{"account_id":1415915,"reputation":2836,"user_id":1341599,"accept_rate":94,"display_name":"Dominik"},"score":0,"creation_date":1423047654,"post_id":10536531,"comment_id":44987958,"body_markdown":"yeh, let&#39;s just say I was... dumb. sry for the inconvenience :) thx, though.","body":"yeh, let&#39;s just say I was... dumb. sry for the inconvenience :) thx, though."}],"tags":[],"owner":{"account_id":240468,"reputation":3778,"user_id":510711,"accept_rate":53,"display_name":"flob"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1423046400,"creation_date":1336661186,"answer_id":10536531,"question_id":759856,"body_markdown":"On a HSSFWorkbook with a custom font I did the following to get a logo to be displayed in the right dimensions:\r\n\r\n\tCreationHelper helper = wb.getCreationHelper();\r\n\tDrawing drawing = sheet.createDrawingPatriarch();\r\n\tClientAnchor anchor = helper.createClientAnchor();\r\n\tanchor.setDx1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\r\n\tanchor.setDx2(LOGO_WIDTH_IN_FUNNY_POI_FORMAT * XSSFShape.EMU_PER_PIXEL);\r\n\tanchor.setDy1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\r\n\tanchor.setDy2(LOGO_HEIGHT_IN_FUNNY_POI_FORMAT * XSSFShape.EMU_PER_PIXEL);\r\n\tdrawing.createPicture(anchor, pictureIndex);\r\n\r\nWhere I set LOGO_HEIGHT... and LOGO_WIDTH.. to the wanted pixel size of the image.\r\n\r\nThe resulting image was not at its original ratio and not the expected pixel size. \r\nSo I used the expected size / current size ratio and adjusted LOGO_WIDTH.. and LOGO_HEIGHT.. accordingly. Not beautiful, but it works :/\r\n\r\nAnd don&#39;t call `Picture.resize()` afterwards.\r\n\r\nSee [Apache POIU Bug 52504][1] or [this newsgroup discussion about poi `Picture.resize()`][2] and [POI quick guide for inserting pictures][3].\r\n\r\n**Update**: current code looks like this, the original image is 2000x450:\r\n\r\n    LOGO_MARGIN = 2;\r\n\tint index = getLogoPictureIndex();\r\n\tCreationHelper helper = this.wb.getCreationHelper();\r\n\r\n\tDrawing drawing = this.sheet.createDrawingPatriarch();\r\n\tClientAnchor anchor = helper.createClientAnchor();\r\n\r\n\tanchor.setDx1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\r\n\tanchor.setDy1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\r\n\r\n\tPicture pic = drawing.createPicture(anchor, index);\r\n\tpic.resize(0.064);\r\n\r\n\r\n  [1]: https://issues.apache.org/bugzilla/show_bug.cgi?id=52504\r\n  [2]: http://apache-poi.1045710.n5.nabble.com/Bug-of-HSSFPicture-resize-td2300077.html\r\n  [3]: http://poi.apache.org/spreadsheet/quick-guide.html#Images","title":"POI 3.2 Image Height/Width controlling","body":"<p>On a HSSFWorkbook with a custom font I did the following to get a logo to be displayed in the right dimensions:</p>\n\n<pre><code>CreationHelper helper = wb.getCreationHelper();\nDrawing drawing = sheet.createDrawingPatriarch();\nClientAnchor anchor = helper.createClientAnchor();\nanchor.setDx1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\nanchor.setDx2(LOGO_WIDTH_IN_FUNNY_POI_FORMAT * XSSFShape.EMU_PER_PIXEL);\nanchor.setDy1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\nanchor.setDy2(LOGO_HEIGHT_IN_FUNNY_POI_FORMAT * XSSFShape.EMU_PER_PIXEL);\ndrawing.createPicture(anchor, pictureIndex);\n</code></pre>\n\n<p>Where I set LOGO_HEIGHT... and LOGO_WIDTH.. to the wanted pixel size of the image.</p>\n\n<p>The resulting image was not at its original ratio and not the expected pixel size. \nSo I used the expected size / current size ratio and adjusted LOGO_WIDTH.. and LOGO_HEIGHT.. accordingly. Not beautiful, but it works :/</p>\n\n<p>And don't call <code>Picture.resize()</code> afterwards.</p>\n\n<p>See <a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=52504\" rel=\"nofollow\">Apache POIU Bug 52504</a> or <a href=\"http://apache-poi.1045710.n5.nabble.com/Bug-of-HSSFPicture-resize-td2300077.html\" rel=\"nofollow\">this newsgroup discussion about poi <code>Picture.resize()</code></a> and <a href=\"http://poi.apache.org/spreadsheet/quick-guide.html#Images\" rel=\"nofollow\">POI quick guide for inserting pictures</a>.</p>\n\n<p><strong>Update</strong>: current code looks like this, the original image is 2000x450:</p>\n\n<pre><code>LOGO_MARGIN = 2;\nint index = getLogoPictureIndex();\nCreationHelper helper = this.wb.getCreationHelper();\n\nDrawing drawing = this.sheet.createDrawingPatriarch();\nClientAnchor anchor = helper.createClientAnchor();\n\nanchor.setDx1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\nanchor.setDy1(LOGO_MARGIN * XSSFShape.EMU_PER_PIXEL);\n\nPicture pic = drawing.createPicture(anchor, index);\npic.resize(0.064);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10671711,"reputation":821,"user_id":7856586,"display_name":"Roman Soviak"},"score":0,"creation_date":1520860005,"post_id":24117725,"comment_id":85475125,"body_markdown":"It doesn`t work, because &quot;resize&quot; crashes in Android Studio.","body":"It doesn`t work, because &quot;resize&quot; crashes in Android Studio."},{"owner":{"account_id":4830616,"reputation":325,"user_id":3898902,"display_name":"Yogesh Bombe"},"score":0,"creation_date":1552396678,"post_id":24117725,"comment_id":96986258,"body_markdown":"And don&#39;t call Picture.resize() afterwards. What does it mean?  Is it buggy method?","body":"And don&#39;t call Picture.resize() afterwards. What does it mean?  Is it buggy method?"}],"tags":[],"owner":{"account_id":1869546,"reputation":187,"user_id":1692130,"accept_rate":64,"display_name":"Piotr"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1402307643,"creation_date":1402307643,"answer_id":24117725,"question_id":759856,"body_markdown":"Good solution is to use resize() function with scale argument: \r\n     \r\n    double scale = 0.3;\r\n    Picture pict = drawing.createPicture(anchor, pictureIdx);\r\n    pict.resize(scale);","title":"POI 3.2 Image Height/Width controlling","body":"<p>Good solution is to use resize() function with scale argument: </p>\n\n<pre><code>double scale = 0.3;\nPicture pict = drawing.createPicture(anchor, pictureIdx);\npict.resize(scale);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26885907,"reputation":21,"user_id":20465478,"display_name":"Budi Odank"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668059915,"creation_date":1668059915,"answer_id":74384722,"question_id":759856,"body_markdown":"Work in Apache POI 5.2\r\n\r\n    //Creates a picture\r\n    Picture pict = drawing.createPicture(anchor, pictureIdx);\r\n    double scale = 0.8;\r\n    //Reset the image to the original size\r\n    pict.resize();\r\n    if (scale &lt; 1) {\r\n        pict.resize(scale);\r\n    }","title":"POI 3.2 Image Height/Width controlling","body":"<p>Work in Apache POI 5.2</p>\n<pre><code>//Creates a picture\nPicture pict = drawing.createPicture(anchor, pictureIdx);\ndouble scale = 0.8;\n//Reset the image to the original size\npict.resize();\nif (scale &lt; 1) {\n    pict.resize(scale);\n}\n</code></pre>\n"}],"owner":{"display_name":"Manish Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29905,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":5,"score":7,"last_activity_date":1668059915,"creation_date":1239963165,"question_id":759856,"body_markdown":"Using POI version 3.2\r\n\r\nIssue: Not able to resize an image to its original height and width.\r\nI am able to add an image to the excel file.\r\n\r\nAfter adding image I call picture.resize(); method.\r\n\r\nLater I resize the columns of the excel file by calling \r\nsheet.setColumnWidth(columnindex, columnwidth)\r\nthe image losses its original height/width.\r\n\r\nPlease help.","title":"POI 3.2 Image Height/Width controlling","body":"<p>Using POI version 3.2</p>\n\n<p>Issue: Not able to resize an image to its original height and width.\nI am able to add an image to the excel file.</p>\n\n<p>After adding image I call picture.resize(); method.</p>\n\n<p>Later I resize the columns of the excel file by calling \nsheet.setColumnWidth(columnindex, columnwidth)\nthe image losses its original height/width.</p>\n\n<p>Please help.</p>\n"},{"tags":["java","rest","jdedwards"],"answers":[{"tags":[],"owner":{"account_id":22855,"reputation":7357,"user_id":56793,"accept_rate":80,"display_name":"JMD"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498674888,"creation_date":1498674888,"answer_id":44810116,"question_id":39744834,"body_markdown":"Is this what you&#39;re looking for?\r\n\r\nhttps://docs.oracle.com/cd/E53430_01/EOTRS/index.html\r\n\r\nI don&#39;t like to answer with a link, but I can&#39;t possibly paste all of the (current today, but not tomorrow) REST API documentation for JD Edwards EnterpriseOne.\r\n\r\nHere is a sample of what the service documentation looks like:\r\n[![Example REST API documentation for JD Edwards EnterpriseOne][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/akRPI.png","title":"JD Edwards REST API with Request response JSON","body":"<p>Is this what you're looking for?</p>\n\n<p><a href=\"https://docs.oracle.com/cd/E53430_01/EOTRS/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E53430_01/EOTRS/index.html</a></p>\n\n<p>I don't like to answer with a link, but I can't possibly paste all of the (current today, but not tomorrow) REST API documentation for JD Edwards EnterpriseOne.</p>\n\n<p>Here is a sample of what the service documentation looks like:\n<a href=\"https://i.stack.imgur.com/akRPI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/akRPI.png\" alt=\"Example REST API documentation for JD Edwards EnterpriseOne\"></a></p>\n"},{"tags":[],"owner":{"account_id":8676446,"reputation":31,"user_id":6493749,"display_name":"Rupesh Chaudhari"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668059845,"creation_date":1560677213,"answer_id":56617604,"question_id":39744834,"body_markdown":"**We can use REST API&#39;s for JD Edwards using the AIS Server**\r\n\r\nThis API&#39;s provides us various services to interact with JD Edwards system.\r\nTo give a brief idea onto same:\r\n\r\n - JD Edwards consist of Reports and Application, so using the Rest API&#39;s you can call the Applications, perform actions onto them e.g,\r\n   button-click, typing text into text-boxes or grids, reading the data\r\n   from grid or text-boxes etc.\r\n - We can also call the JD Edwards reports using this API&#39;s.\r\n - It also provides us services to Upload and Download Media Object.\r\n\r\n**We can use the API&#39;s by two ways:**\r\n\r\n 1. Directly using the plain JSON Request: [https://docs.oracle.com/cd/E53430_01/EOTRS/index.html][1]\r\n 2. Using the AIS Client Java API\r\n[https://docs.oracle.com/cd/E24705_01/doc.91/e62368/ais_java_ovrvw.htm#EOTJC107][2]\r\n\r\n**JD Edwards also provides Orchestrator for easily accessing this API&#39;s**.\r\n[https://docs.oracle.com/cd/E53430_01/EOTOT/understand_iot.htm#EOTOT107][3]\r\n\r\nUsing this Rest API can be challenging for a person not from JD Edwards background. It would be easy to understand this API Implementation if you have worked on Oracle MAF and JD Edwards Integration.\r\n\r\n**Third custom approach for Rest API&#39;s with JD Edwards**\r\nWe can build the Rest API&#39;s in any programming language (Java, .NET, Python etc.) and expose the JD Edwards Database tables to it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E53430_01/EOTRS/index.html\r\n  [2]: https://docs.oracle.com/cd/E24705_01/doc.91/e62368/ais_java_ovrvw.htm#EOTJC107\r\n  [3]: https://docs.oracle.com/cd/E53430_01/EOTOT/understand_iot.htm#EOTOT107\r\n","title":"JD Edwards REST API with Request response JSON","body":"<p><strong>We can use REST API's for JD Edwards using the AIS Server</strong></p>\n<p>This API's provides us various services to interact with JD Edwards system.\nTo give a brief idea onto same:</p>\n<ul>\n<li>JD Edwards consist of Reports and Application, so using the Rest API's you can call the Applications, perform actions onto them e.g,\nbutton-click, typing text into text-boxes or grids, reading the data\nfrom grid or text-boxes etc.</li>\n<li>We can also call the JD Edwards reports using this API's.</li>\n<li>It also provides us services to Upload and Download Media Object.</li>\n</ul>\n<p><strong>We can use the API's by two ways:</strong></p>\n<ol>\n<li>Directly using the plain JSON Request: <a href=\"https://docs.oracle.com/cd/E53430_01/EOTRS/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E53430_01/EOTRS/index.html</a></li>\n<li>Using the AIS Client Java API\n<a href=\"https://docs.oracle.com/cd/E24705_01/doc.91/e62368/ais_java_ovrvw.htm#EOTJC107\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E24705_01/doc.91/e62368/ais_java_ovrvw.htm#EOTJC107</a></li>\n</ol>\n<p><strong>JD Edwards also provides Orchestrator for easily accessing this API's</strong>.\n<a href=\"https://docs.oracle.com/cd/E53430_01/EOTOT/understand_iot.htm#EOTOT107\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E53430_01/EOTOT/understand_iot.htm#EOTOT107</a></p>\n<p>Using this Rest API can be challenging for a person not from JD Edwards background. It would be easy to understand this API Implementation if you have worked on Oracle MAF and JD Edwards Integration.</p>\n<p><strong>Third custom approach for Rest API's with JD Edwards</strong>\nWe can build the Rest API's in any programming language (Java, .NET, Python etc.) and expose the JD Edwards Database tables to it.</p>\n"}],"owner":{"account_id":429476,"reputation":884,"user_id":812389,"accept_rate":25,"display_name":"navaltiger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6724,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1668059845,"creation_date":1475058396,"question_id":39744834,"body_markdown":"We are working on customer project, where customer has got JD Edwards Enterprise One. Their installation supports REST API ( I tried defaultConfig API and it worked.)\r\n\r\nUsually in REST API, developer shares API signature in terms on GET params or Request/Response JSONs, while in case of JDE E1 documentation they have shared Java Code (that to in fragments).  Its really hard to construct req./resp. based on the code snippets. \r\n\r\nWill appreciate if anyone has worked on similar activities and guide.\r\n\r\nThanks in advance.","title":"JD Edwards REST API with Request response JSON","body":"<p>We are working on customer project, where customer has got JD Edwards Enterprise One. Their installation supports REST API ( I tried defaultConfig API and it worked.)</p>\n\n<p>Usually in REST API, developer shares API signature in terms on GET params or Request/Response JSONs, while in case of JDE E1 documentation they have shared Java Code (that to in fragments).  Its really hard to construct req./resp. based on the code snippets. </p>\n\n<p>Will appreciate if anyone has worked on similar activities and guide.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","azure","azure-functions"],"comments":[{"owner":{"account_id":12644990,"reputation":17422,"user_id":9191057,"display_name":"Jerry Liu"},"score":0,"creation_date":1540218383,"post_id":52892319,"comment_id":92772590,"body_markdown":"See http trigger in your code but queue trigger is also mentioned, which one do you use?","body":"See http trigger in your code but queue trigger is also mentioned, which one do you use?"},{"owner":{"account_id":14575937,"reputation":41,"user_id":10527798,"display_name":"Balki"},"score":0,"creation_date":1540282730,"post_id":52892319,"comment_id":92796549,"body_markdown":"Its my bad actually I was trying with http trigger and I am unable to get the control of storage table within the code. So after converting the data from json To object I need to persist in the storage table which I am unable to do","body":"Its my bad actually I was trying with http trigger and I am unable to get the control of storage table within the code. So after converting the data from json To object I need to persist in the storage table which I am unable to do"},{"owner":{"account_id":14575937,"reputation":41,"user_id":10527798,"display_name":"Balki"},"score":0,"creation_date":1540286651,"post_id":52892319,"comment_id":92799071,"body_markdown":"Hi All, I got the solution working I am posting the code this is with the queuetrigger rather than Http Trigger but should work with the http Trigger too.","body":"Hi All, I got the solution working I am posting the code this is with the queuetrigger rather than Http Trigger but should work with the http Trigger too."},{"owner":{"account_id":12644990,"reputation":17422,"user_id":9191057,"display_name":"Jerry Liu"},"score":0,"creation_date":1540303192,"post_id":52892319,"comment_id":92809793,"body_markdown":"Could you put your edit as an answer so that others can see clearly there&#39;s a solution to this problem?","body":"Could you put your edit as an answer so that others can see clearly there&#39;s a solution to this problem?"}],"answers":[{"tags":[],"owner":{"account_id":18162111,"reputation":23,"user_id":13213344,"display_name":"Madhura.M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668059710,"creation_date":1668059710,"answer_id":74384701,"question_id":52892319,"body_markdown":"Now Table Binding @TableOutput is support in only for Microsoft.Azure.Functions.ExtensionBundle of 2.0. It is not supported in 3.0, 4.0 Version. The host.json file is \r\n```\r\n{\r\n  &quot;version&quot;: &quot;2.0&quot;,\r\n  &quot;extensionBundle&quot;: {\r\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\r\n    &quot;version&quot;: &quot;[2.*, 3.0.0)&quot;\r\n  } \r\n}\r\n```\r\n\r\nThe code that works for me is \r\n\r\nModel class is\r\n```\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class Order {\r\n    private String PartitionKey;\r\n    private String RowKey;\r\n    public int quantity;\r\n    public double unitPrice;\r\n}\r\n\r\n/*\r\n{\r\n&quot;PartitionKey&quot;:&quot;home&quot;,\r\n&quot;RowKey&quot;:&quot;01&quot;,\r\n&quot;quantity&quot;:9,\r\n &quot;unitPrice&quot;:8\r\n }\r\n        */\r\n```\r\nThe trigger function is \r\n```\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.microsoft.azure.functions.annotation.*;\r\nimport com.microsoft.azure.functions.*;\r\nimport org.azure.storage.queuetrigger.to.table.model.Order;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n\r\npublic class QueueTriggerToTableFunction {\r\n/**\r\n * Azure Functions with Azure Storage Queue trigger.\r\n */\r\n\r\n    @FunctionName(&quot;storage-QueueTrigger-to-table&quot;)\r\n    public void run(\r\n        @QueueTrigger(name = &quot;message&quot;, queueName = &quot;messages&quot;, connection = &quot;StorageConnection&quot;) Order message,\r\n        @TableOutput(name=&quot;order&quot;,tableName = &quot;Orders&quot;,connection = &quot;StorageConnection&quot;) OutputBinding&lt;Order&gt; order,\r\n        final ExecutionContext context\r\n    ) {\r\n      \r\n        order.setValue(message);\r\n    \r\n    }\r\n}\r\n\r\n```\r\n\r\nActually it will take partitionKey and rowKey from OutputBinding&lt;Order&gt; order. So it is dynamic not static values\r\n\r\n\r\n\r\n","title":"In Azure function app on Queue Trigger I am unable to insert a record in Storage table","body":"<p>Now Table Binding @TableOutput is support in only for Microsoft.Azure.Functions.ExtensionBundle of 2.0. It is not supported in 3.0, 4.0 Version. The host.json file is</p>\n<pre><code>{\n  &quot;version&quot;: &quot;2.0&quot;,\n  &quot;extensionBundle&quot;: {\n    &quot;id&quot;: &quot;Microsoft.Azure.Functions.ExtensionBundle&quot;,\n    &quot;version&quot;: &quot;[2.*, 3.0.0)&quot;\n  } \n}\n</code></pre>\n<p>The code that works for me is</p>\n<p>Model class is</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class Order {\n    private String PartitionKey;\n    private String RowKey;\n    public int quantity;\n    public double unitPrice;\n}\n\n/*\n{\n&quot;PartitionKey&quot;:&quot;home&quot;,\n&quot;RowKey&quot;:&quot;01&quot;,\n&quot;quantity&quot;:9,\n &quot;unitPrice&quot;:8\n }\n        */\n</code></pre>\n<p>The trigger function is</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.microsoft.azure.functions.annotation.*;\nimport com.microsoft.azure.functions.*;\nimport org.azure.storage.queuetrigger.to.table.model.Order;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n\npublic class QueueTriggerToTableFunction {\n/**\n * Azure Functions with Azure Storage Queue trigger.\n */\n\n    @FunctionName(&quot;storage-QueueTrigger-to-table&quot;)\n    public void run(\n        @QueueTrigger(name = &quot;message&quot;, queueName = &quot;messages&quot;, connection = &quot;StorageConnection&quot;) Order message,\n        @TableOutput(name=&quot;order&quot;,tableName = &quot;Orders&quot;,connection = &quot;StorageConnection&quot;) OutputBinding&lt;Order&gt; order,\n        final ExecutionContext context\n    ) {\n      \n        order.setValue(message);\n    \n    }\n}\n\n</code></pre>\n<p>Actually it will take partitionKey and rowKey from OutputBinding order. So it is dynamic not static values</p>\n"}],"owner":{"account_id":14575937,"reputation":41,"user_id":10527798,"display_name":"Balki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668059710,"creation_date":1539952018,"question_id":52892319,"body_markdown":"I am new to Azure function app, I have a requirement where I need to have a Queue Trigger based on which I need to insert a record a Storage table.\r\n\r\n         @FunctionName(&quot;echo&quot;)\r\n         public void echo( @HttpTrigger(name = &quot;req&quot;, methods = { &quot;post&quot; }, authLevel = AuthorizationLevel.ANONYMOUS,route=&quot;items&quot;) String in,\r\n\t\t @TableOutput(name = &quot;$return&quot;, tableName = &quot;people&quot;, partitionKey=&quot;lastName&quot; ,rowKey = &quot;firstName&quot; , connection = &quot;AzureWebJobsStorage&quot;) OutputBinding&lt;CustomerEntity&gt; obj,\r\n\t   ExecutionContext context    ) {\r\n\t\tcontext.getLogger().info( &quot;Hello, &quot; + in );\r\n\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\tMyItem myItem = null;\r\n\t\ttry {\r\n\t\t\tmyItem = objectMapper.readValue(in, MyItem.class);\r\n\t\t} catch (JsonParseException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (JsonMappingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t        context.getLogger().info( &quot;Hello, &quot; + in + &quot; and &quot; + myItem.getNameOfValue() + &quot;.&quot;);\r\n        CustomerEntity customerEntity = new CustomerEntity(myItem.getNameOfValue(), myItem.getId());\r\n        customerEntity.setEmail(&quot;Walter@contoso.com&quot;);\r\n\t    customerEntity.setPhoneNumber(&quot;425-555-0101&quot;);\r\n        obj.setValue(customerEntity);\r\n    }\r\n\r\nCustomerEntity Class\r\n        public class CustomerEntity extends TableServiceEntity {\r\n\t\r\n\tpublic CustomerEntity(String lastName, String firstName) {\r\n        this.partitionKey = lastName;\r\n        this.rowKey = firstName;\r\n    }\r\n\r\n    public CustomerEntity() { }\r\n\r\n    String email;\r\n    String phoneNumber;\r\n\r\n    public String getEmail() {\r\n        return this.email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return this.phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n    }\r\n\r\n\r\nIn This case the function is call successfully but it does not print any of the logs neither it put the data in storage tables.\r\n\r\nI am using the local storage for this purpose.\r\n\r\nI have tested that the application works standalone with the Table client but didnt works in function apps.\r\n\r\nThanks ,\r\nBalki\r\n\r\n\r\nSo after lots of search I got the working code\r\n\r\n         public class QueueTriggerJava {\r\n    /**\r\n     * This function will be invoked when a new message is received at the specified path. The message contents are provided as input to this function.\r\n     */\r\n    @FunctionName(&quot;QueueTriggerJava&quot;)\r\n    public void run(\r\n        @QueueTrigger(name = &quot;message&quot;, queueName = &quot;enqueue&quot;, connection = &quot;AzureWebJobsStorage&quot;) String message,\r\n        @TableOutput(connection=&quot;AzureWebJobsStorage&quot;,name=&quot;table&quot;,tableName=&quot;people&quot;,partitionKey=&quot;orders&quot;,rowKey=&quot;1&quot;) OutputBinding&lt;People&gt; out,\r\n        final ExecutionContext context\r\n    ) throws Exception {\r\n        context.getLogger().info(&quot;Java Queue trigger function processed a message: &quot; + message);\r\n        People people = new People(String.valueOf(RandomStringUtils.randomAlphanumeric(10, 20)));\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        People peoplew = objectMapper.readValue(message, People.class);\r\n        people.setId(peoplew.getId());\r\n        people.setNameOfValue(peoplew.getNameOfValue());\r\n        out.setValue(people);\r\n        context.getLogger().info(&quot;Java Queue trigger function processed a message: &quot; + message);\r\n\r\n    }\r\n\r\n\r\n    \r\n}\r\n\r\n\r\nI am facing the challeng that whenever I put the message on Queue it takes the same rowKey most probably bcoz of the static value of rowkey.\r\n\r\n \r\n    public class People{\r\n    private String PartitionKey;\r\n    private String RowKey;\r\n    private String nameOfValue;\r\n    private String id;\r\n    public People(){\r\n     \r\n    }\r\n     public People (final String rowKey){\r\n         this.PartitionKey = &quot;Orders&quot;;\r\n         this.RowKey = rowKey;\r\n     }\r\n\r\n     /**\r\n      * @param id the id to set\r\n      */\r\n     public void setId(String id) {\r\n         this.id = id;\r\n     }\r\n\r\n     /**\r\n      * @return the id\r\n      */\r\n     public String getId() {\r\n         return id;\r\n     }\r\n     /**\r\n      * @param nameOfValue the nameOfValue to set\r\n      */\r\n     public void setNameOfValue(String nameOfValue) {\r\n         this.nameOfValue = nameOfValue;\r\n     }\r\n\r\n     /**\r\n      * @return the nameOfValue\r\n      */\r\n     public String getNameOfValue() {\r\n         return nameOfValue;\r\n     }\r\n }\r\n","title":"In Azure function app on Queue Trigger I am unable to insert a record in Storage table","body":"<p>I am new to Azure function app, I have a requirement where I need to have a Queue Trigger based on which I need to insert a record a Storage table.</p>\n\n<pre><code>     @FunctionName(\"echo\")\n     public void echo( @HttpTrigger(name = \"req\", methods = { \"post\" }, authLevel = AuthorizationLevel.ANONYMOUS,route=\"items\") String in,\n     @TableOutput(name = \"$return\", tableName = \"people\", partitionKey=\"lastName\" ,rowKey = \"firstName\" , connection = \"AzureWebJobsStorage\") OutputBinding&lt;CustomerEntity&gt; obj,\n   ExecutionContext context    ) {\n    context.getLogger().info( \"Hello, \" + in );\n    ObjectMapper objectMapper = new ObjectMapper();\n    MyItem myItem = null;\n    try {\n        myItem = objectMapper.readValue(in, MyItem.class);\n    } catch (JsonParseException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (JsonMappingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n            context.getLogger().info( \"Hello, \" + in + \" and \" + myItem.getNameOfValue() + \".\");\n    CustomerEntity customerEntity = new CustomerEntity(myItem.getNameOfValue(), myItem.getId());\n    customerEntity.setEmail(\"Walter@contoso.com\");\n    customerEntity.setPhoneNumber(\"425-555-0101\");\n    obj.setValue(customerEntity);\n}\n</code></pre>\n\n<p>CustomerEntity Class\n        public class CustomerEntity extends TableServiceEntity {</p>\n\n<pre><code>public CustomerEntity(String lastName, String firstName) {\n    this.partitionKey = lastName;\n    this.rowKey = firstName;\n}\n\npublic CustomerEntity() { }\n\nString email;\nString phoneNumber;\n\npublic String getEmail() {\n    return this.email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic String getPhoneNumber() {\n    return this.phoneNumber;\n}\n\npublic void setPhoneNumber(String phoneNumber) {\n    this.phoneNumber = phoneNumber;\n}\n}\n</code></pre>\n\n<p>In This case the function is call successfully but it does not print any of the logs neither it put the data in storage tables.</p>\n\n<p>I am using the local storage for this purpose.</p>\n\n<p>I have tested that the application works standalone with the Table client but didnt works in function apps.</p>\n\n<p>Thanks ,\nBalki</p>\n\n<p>So after lots of search I got the working code</p>\n\n<pre><code>     public class QueueTriggerJava {\n/**\n * This function will be invoked when a new message is received at the specified path. The message contents are provided as input to this function.\n */\n@FunctionName(\"QueueTriggerJava\")\npublic void run(\n    @QueueTrigger(name = \"message\", queueName = \"enqueue\", connection = \"AzureWebJobsStorage\") String message,\n    @TableOutput(connection=\"AzureWebJobsStorage\",name=\"table\",tableName=\"people\",partitionKey=\"orders\",rowKey=\"1\") OutputBinding&lt;People&gt; out,\n    final ExecutionContext context\n) throws Exception {\n    context.getLogger().info(\"Java Queue trigger function processed a message: \" + message);\n    People people = new People(String.valueOf(RandomStringUtils.randomAlphanumeric(10, 20)));\n    ObjectMapper objectMapper = new ObjectMapper();\n    People peoplew = objectMapper.readValue(message, People.class);\n    people.setId(peoplew.getId());\n    people.setNameOfValue(peoplew.getNameOfValue());\n    out.setValue(people);\n    context.getLogger().info(\"Java Queue trigger function processed a message: \" + message);\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I am facing the challeng that whenever I put the message on Queue it takes the same rowKey most probably bcoz of the static value of rowkey.</p>\n\n<pre><code>public class People{\nprivate String PartitionKey;\nprivate String RowKey;\nprivate String nameOfValue;\nprivate String id;\npublic People(){\n\n}\n public People (final String rowKey){\n     this.PartitionKey = \"Orders\";\n     this.RowKey = rowKey;\n }\n\n /**\n  * @param id the id to set\n  */\n public void setId(String id) {\n     this.id = id;\n }\n\n /**\n  * @return the id\n  */\n public String getId() {\n     return id;\n }\n /**\n  * @param nameOfValue the nameOfValue to set\n  */\n public void setNameOfValue(String nameOfValue) {\n     this.nameOfValue = nameOfValue;\n }\n\n /**\n  * @return the nameOfValue\n  */\n public String getNameOfValue() {\n     return nameOfValue;\n }\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","hibernate","jpa","group-by","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":16594364,"reputation":137,"user_id":11991637,"display_name":"Cemalettin Altnsoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590922685,"creation_date":1590922685,"answer_id":62115169,"question_id":62114800,"body_markdown":"I think , This one will solve your problem[Get record with max id, using Hibernate Criteria\r\n][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3900105/get-record-with-max-id-using-hibernate-criteria","title":"JPA Criteria query group by and get last record","body":"<p>I think , This one will solve your problem<a href=\"https://stackoverflow.com/questions/3900105/get-record-with-max-id-using-hibernate-criteria\">Get record with max id, using Hibernate Criteria\n</a></p>\n"},{"tags":[],"owner":{"account_id":26386615,"reputation":26,"user_id":20039041,"display_name":"Jayasuriya "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668059507,"creation_date":1667813740,"answer_id":74344468,"question_id":62114800,"body_markdown":"Use subquery to find the id by using max with groupby, hope it helps someone\r\n\r\n```\r\nsubquery.select(cb.max(subroot.get(&quot;id&quot;)))\r\n        .where(predicates.stream().toArray(Predicate[]::new))\r\n\t\t.groupBy(subRoot.get(&quot;empid&quot;));\r\n```","title":"JPA Criteria query group by and get last record","body":"<p>Use subquery to find the id by using max with groupby, hope it helps someone</p>\n<pre><code>subquery.select(cb.max(subroot.get(&quot;id&quot;)))\n        .where(predicates.stream().toArray(Predicate[]::new))\n        .groupBy(subRoot.get(&quot;empid&quot;));\n</code></pre>\n"}],"owner":{"account_id":11516415,"reputation":3,"user_id":8439660,"display_name":"Chaichana Sitat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74344468,"answer_count":2,"score":0,"last_activity_date":1668059507,"creation_date":1590920796,"question_id":62114800,"body_markdown":"this entity employee\r\n\r\n    @Entity\r\n    @Table(name=&quot;employee&quot;)\r\n    @IdClass(EmployeeKey.class)\r\n    public class Employee implements Serializable{\r\n    \tprivate static final long serialVersionUID = -4060941180859761486L;\r\n    \t\r\n    \t@Id @Column(name =&quot;DATA_DT&quot;)\r\n    \tprivate Date registDate;\r\n    \t@Id @Column(name =&quot;EMPE_NO&quot;)\r\n    \tprivate String empeId;\r\n    \t\r\n    \t@Column(name =&quot;TTL_NM_TH&quot;)\r\n    \tprivate String titleNameTh;\r\n    \t@Column(name =&quot;TTL_NM_EN&quot;)\r\n    \tprivate String titleNameEn;\r\n    \t@Column(name =&quot;EMPE_NM_TH&quot;)\r\n    \tprivate String empeNameTh;\r\n    \t@Column(name =&quot;EMPE_LST_NM_TH&quot;)\r\n    \tprivate String empeLastNameTh;\r\n    \t@Column(name =&quot;EMPE_POS&quot;)\r\n    \tprivate String empePosition;\r\n    \r\n    \t\r\n    \t@ManyToOne\r\n    \t@JoinColumn(name = &quot;DEPT_CODE&quot; , nullable = true)\r\n    \t@NotFound(action = NotFoundAction.IGNORE)\r\n    \tprivate OrganizationUnit empeDeptCode;\r\n    \t\r\n    \r\n    //get set\r\n    \r\n    }\r\n\r\n&gt; this entity ou\r\n\r\n    @Entity\r\n    @Table(name=&quot;ou&quot;)\r\n    public class OrganizationUnit implements Serializable{\r\n    \tprivate static final long serialVersionUID = -4038118923332034407L;\r\n    \t@Id \r\n    \t@Column(name =&quot;OU_CODE&quot;)\r\n    \tprivate String ouCode;\r\n    \t@Column(name =&quot;OU_TP_CODE&quot;)\r\n    \tprivate String ouTpCode;\r\n    \t@Column(name =&quot;OU_NM&quot;)\r\n    \tprivate String ouName;\r\n    \t@Column(name =&quot;BR_GRP&quot;)\r\n    \tprivate String ouBusinessGroup;\r\n    \t@Column(name =&quot;GRP_OU_CODE&quot;)\r\n    \tprivate String groupOUCode;\r\n    \t@Column(name =&quot;SCTR_OU_CODE&quot;)\r\n    \tprivate String sctrOUCode;\r\n    \t@Column(name =&quot;DEPT_OU_CODE&quot;)\r\n    \tprivate String departmentOUCode;\r\n    \t@Column(name =&quot;EFF_DT&quot;)\r\n    \tprivate Date effectiveDate;\r\n    \t@Column(name =&quot;END_DT&quot;)\r\n    \tprivate Date endDate;\r\n    \r\n    //get set\r\n    \r\n    }\r\n\r\n\r\n\r\nNow i create a criteria query like this. i try to create search function from criteria-Api. my table employee has two id every day i will insert data in employee . search function need to show last record .\r\n\r\n    public List&lt;Employee&gt; findByAvanceSearch(SearchEmpRequestModel data) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tCriteriaBuilder cb = em.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;Employee&gt; cq = cb.createQuery(Employee.class);\r\n\t\t\r\n\t\t\r\n\t\tRoot&lt;Employee&gt; employee = cq.from(Employee.class);\r\n\t\tList&lt;javax.persistence.criteria.Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tif(data.getEmpNumber() != null) {\r\n\r\n\t\t\t//predicates.add( cb.and(cb.equal(employee.get(&quot;empeId&quot;), data.getEmpNumber()), cb.greatest(employee.get(&quot;registDate&quot;))));\r\n\t\t\tpredicates.add(cb.equal(employee.get(&quot;empeId&quot;), data.getEmpNumber()));\r\n\t\t}\r\n\t\tif(data.getEmpThainame()!=null) {\r\n\r\n\t\t\tpredicates.add(cb.like(employee.get(&quot;titleNameTh&quot;), &quot;%&quot;+data.getEmpThainame()+&quot;%&quot;));\r\n\t\t}\r\n\t\tif(data.getEmpDept()!=null) {\r\n\r\n\t\t\tpredicates.add(cb.like(employee.get(&quot;empeDeptCode&quot;).get(&quot;departmentOUCode&quot;), &quot;%&quot;+data.getEmpDept()+&quot;%&quot;));\r\n\r\n\t\t}\r\n\t\tif(data.getEmpGrp()!=null) {\r\n\r\n\t\t\tpredicates.add(cb.like(employee.get(&quot;empeDeptCode&quot;).get(&quot;sctrOUCode&quot;), &quot;%&quot;+data.getEmpGrp()+&quot;%&quot;));\r\n\r\n\t\t}\r\n\t\tif(data.getEmpSctr()!=null) {\r\n\r\n\t\t\tpredicates.add(cb.like(employee.get(&quot;empeDeptCode&quot;).get(&quot;groupOUCode&quot;), &quot;%&quot;+data.getEmpSctr()+&quot;%&quot;));\r\n\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tcq.orderBy(cb.asc(employee.get(&quot;registDate&quot;))).groupBy(employee.get(&quot;empeId&quot;)).where((javax.persistence.criteria.Predicate[]) predicates.toArray(new javax.persistence.criteria.Predicate[0]));\r\n\t\treturn em.createQuery(cq).getResultList();\r\n\t}\r\n\r\nI need to get last record from group by but  from this code i get frist record.\r\nAny one knows what should I use in the hibernate criteria .?\r\nThank.\r\n\r\n","title":"JPA Criteria query group by and get last record","body":"<p>this entity employee</p>\n\n<pre><code>@Entity\n@Table(name=\"employee\")\n@IdClass(EmployeeKey.class)\npublic class Employee implements Serializable{\n    private static final long serialVersionUID = -4060941180859761486L;\n\n    @Id @Column(name =\"DATA_DT\")\n    private Date registDate;\n    @Id @Column(name =\"EMPE_NO\")\n    private String empeId;\n\n    @Column(name =\"TTL_NM_TH\")\n    private String titleNameTh;\n    @Column(name =\"TTL_NM_EN\")\n    private String titleNameEn;\n    @Column(name =\"EMPE_NM_TH\")\n    private String empeNameTh;\n    @Column(name =\"EMPE_LST_NM_TH\")\n    private String empeLastNameTh;\n    @Column(name =\"EMPE_POS\")\n    private String empePosition;\n\n\n    @ManyToOne\n    @JoinColumn(name = \"DEPT_CODE\" , nullable = true)\n    @NotFound(action = NotFoundAction.IGNORE)\n    private OrganizationUnit empeDeptCode;\n\n\n//get set\n\n}\n</code></pre>\n\n<blockquote>\n  <p>this entity ou</p>\n</blockquote>\n\n<pre><code>@Entity\n@Table(name=\"ou\")\npublic class OrganizationUnit implements Serializable{\n    private static final long serialVersionUID = -4038118923332034407L;\n    @Id \n    @Column(name =\"OU_CODE\")\n    private String ouCode;\n    @Column(name =\"OU_TP_CODE\")\n    private String ouTpCode;\n    @Column(name =\"OU_NM\")\n    private String ouName;\n    @Column(name =\"BR_GRP\")\n    private String ouBusinessGroup;\n    @Column(name =\"GRP_OU_CODE\")\n    private String groupOUCode;\n    @Column(name =\"SCTR_OU_CODE\")\n    private String sctrOUCode;\n    @Column(name =\"DEPT_OU_CODE\")\n    private String departmentOUCode;\n    @Column(name =\"EFF_DT\")\n    private Date effectiveDate;\n    @Column(name =\"END_DT\")\n    private Date endDate;\n\n//get set\n\n}\n</code></pre>\n\n<p>Now i create a criteria query like this. i try to create search function from criteria-Api. my table employee has two id every day i will insert data in employee . search function need to show last record .</p>\n\n<pre><code>public List&lt;Employee&gt; findByAvanceSearch(SearchEmpRequestModel data) {\n    // TODO Auto-generated method stub\n    CriteriaBuilder cb = em.getCriteriaBuilder();\n    CriteriaQuery&lt;Employee&gt; cq = cb.createQuery(Employee.class);\n\n\n    Root&lt;Employee&gt; employee = cq.from(Employee.class);\n    List&lt;javax.persistence.criteria.Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n    if(data.getEmpNumber() != null) {\n\n        //predicates.add( cb.and(cb.equal(employee.get(\"empeId\"), data.getEmpNumber()), cb.greatest(employee.get(\"registDate\"))));\n        predicates.add(cb.equal(employee.get(\"empeId\"), data.getEmpNumber()));\n    }\n    if(data.getEmpThainame()!=null) {\n\n        predicates.add(cb.like(employee.get(\"titleNameTh\"), \"%\"+data.getEmpThainame()+\"%\"));\n    }\n    if(data.getEmpDept()!=null) {\n\n        predicates.add(cb.like(employee.get(\"empeDeptCode\").get(\"departmentOUCode\"), \"%\"+data.getEmpDept()+\"%\"));\n\n    }\n    if(data.getEmpGrp()!=null) {\n\n        predicates.add(cb.like(employee.get(\"empeDeptCode\").get(\"sctrOUCode\"), \"%\"+data.getEmpGrp()+\"%\"));\n\n    }\n    if(data.getEmpSctr()!=null) {\n\n        predicates.add(cb.like(employee.get(\"empeDeptCode\").get(\"groupOUCode\"), \"%\"+data.getEmpSctr()+\"%\"));\n\n    }\n\n\n    cq.orderBy(cb.asc(employee.get(\"registDate\"))).groupBy(employee.get(\"empeId\")).where((javax.persistence.criteria.Predicate[]) predicates.toArray(new javax.persistence.criteria.Predicate[0]));\n    return em.createQuery(cq).getResultList();\n}\n</code></pre>\n\n<p>I need to get last record from group by but  from this code i get frist record.\nAny one knows what should I use in the hibernate criteria .?\nThank.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667848571,"post_id":74348948,"comment_id":131261310,"body_markdown":"Requesting read and write permission did not change for Android 11. So i will not look at your code as old code (working for 6+) should do it. Please tell what not works for you on Android 11+.","body":"Requesting read and write permission did not change for Android 11. So i will not look at your code as old code (working for 6+) should do it. Please tell what not works for you on Android 11+."}],"answers":[{"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667848456,"post_id":74349227,"comment_id":131261262,"body_markdown":"`android:requestLegacyExternalStorage=&quot;true&quot; will not affect if your app targetSdk &gt; 30` Sorry, not true. It is needed for an Android 10 device. And has no effect for other devices. Thats all.","body":"<code>android:requestLegacyExternalStorage=&quot;true&quot; will not affect if your app targetSdk &gt; 30</code> Sorry, not true. It is needed for an Android 10 device. And has no effect for other devices. Thats all."}],"tags":[],"owner":{"account_id":26857548,"reputation":66,"user_id":20441619,"display_name":"Jimmy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668059469,"creation_date":1667835894,"answer_id":74349227,"question_id":74348948,"body_markdown":"android:requestLegacyExternalStorage=&quot;true&quot; will not affect if your app targetSdk &gt; 30 (Android 11 and above).\r\n\r\n1. Must add this to manifest:\r\n\r\n2. Request to permission:\r\n\r\n```android\r\nActivityCompat.requestPermissions(this,\r\n            new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,\r\n                    Manifest.permission.MANAGE_EXTERNAL_STORAGE}, 1);\r\n```\r\n\r\n3. Check whether app can access storage:\r\n\r\n```android\r\nif (!Environment.isExternalStorageManager()) \r\n```\r\n\r\n4. Request to access &quot;All files and media&quot; access:\r\n\r\n```android\r\nIntent intent = new Intent();\r\nintent.setAction(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\nUri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\r\nintent.setData(uri);\r\nstartActivity(intent);\r\n```\r\n\r\n\r\n","title":"How to take storage permission in Android 11","body":"<p>android:requestLegacyExternalStorage=&quot;true&quot; will not affect if your app targetSdk &gt; 30 (Android 11 and above).</p>\n<ol>\n<li><p>Must add this to manifest:</p>\n</li>\n<li><p>Request to permission:</p>\n</li>\n</ol>\n<pre><code>ActivityCompat.requestPermissions(this,\n            new String[]{Manifest.permission.READ_EXTERNAL_STORAGE,\n                    Manifest.permission.MANAGE_EXTERNAL_STORAGE}, 1);\n</code></pre>\n<ol start=\"3\">\n<li>Check whether app can access storage:</li>\n</ol>\n<pre><code>if (!Environment.isExternalStorageManager()) \n</code></pre>\n<ol start=\"4\">\n<li>Request to access &quot;All files and media&quot; access:</li>\n</ol>\n<pre><code>Intent intent = new Intent();\nintent.setAction(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\nUri uri = Uri.fromParts(&quot;package&quot;, this.getPackageName(), null);\nintent.setData(uri);\nstartActivity(intent);\n</code></pre>\n"}],"owner":{"account_id":26712899,"reputation":21,"user_id":20317930,"display_name":"Ayan Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74349227,"answer_count":1,"score":0,"last_activity_date":1668059469,"creation_date":1667834608,"question_id":74348948,"body_markdown":"My Topic,\r\n   i am trying to take storage permission in android, my permission code works in below andoid 11 ,\r\nbut problem is when i try to take storage permission in android 11 then code not works , so please help me..\r\n\r\n**This is my code:-**\r\n\r\nThis is my **AndroidManifest.xml** Code\r\n&gt; &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt; \r\n&gt;  &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt; \r\n&gt;  &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n&gt; \r\n&gt;  android:requestLegacyExternalStorage=&quot;true&quot;\r\n\r\n\r\nThis is my **JavaCode** Code\r\n\r\n```\r\n@Override \r\n protected void onActivityResult(int _requestCode, int _resultCode, Intent _data) { \r\n  super.onActivityResult(_requestCode, _resultCode, _data); \r\n  if (_resultCode == RESULT_OK){\r\n        if (Build.VERSION.SDK_INT == Build.VERSION_CODES.R){\r\n              if (Environment.isExternalStorageManager()){\r\n                    Toast.makeText(this,&quot;Permission Granted&quot;,Toast.LENGTH_SHORT).show();\r\n        i.setClass(getApplicationContext(), Main2Activity.class); \r\n        startActivity(i);\r\n                } else {\r\n                    _takePermission();\r\n                }\r\n          }\r\n  } \r\n  switch (_requestCode) { \r\n    \r\n   default: \r\n   break; \r\n  } \r\n }\r\n\r\n\r\npublic boolean _isPermissionGranted() { \r\n  if (Build.VERSION.SDK_INT == Build.VERSION_CODES.R){\r\n   \r\n       return Environment.isExternalStorageManager();\r\n  } else  {\r\n   \r\n       int readexternalStoragePermission = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE);\r\n       return  readexternalStoragePermission == PackageManager.PERMISSION_GRANTED;\r\n  } \r\n }\r\n\r\n\r\n\r\npublic void _takePermission() { \r\n  if (Build.VERSION.SDK_INT == Build.VERSION_CODES.R) {\r\n       try {\r\n            Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n            intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\r\n            intent.setData(Uri.parse(String.format(&quot;package:%s&quot;,getApplicationContext().getPackageName())));\r\n            startActivityForResult(intent,100);\r\n        } catch (Exception exception){\r\n            Intent intent = new Intent();\r\n            intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n            startActivityForResult(intent,100);\r\n        }\r\n  } else {\r\n       ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},101);\r\n  } \r\n } \r\n  \r\n  \r\n  @Override\r\n public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n      super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n      if (grantResults.length &gt; 0){\r\n           if (requestCode == 101){\r\n                boolean readExternalStorage = grantResults[0] == PackageManager.PERMISSION_GRANTED;\r\n                if (readExternalStorage){\r\n                     Toast.makeText(this,&quot;Permission Granted&quot;,Toast.LENGTH_SHORT).show();\r\n     i.setClass(getApplicationContext(), Main2Activity.class); \r\n     startActivity(i);\r\n                 } else {\r\n                     _takePermission();\r\n                 }\r\n            }\r\n       }\r\n\r\n```\r\n\r\n\r\n\r\nAbove is the complete code, please check and tell me what my mistake is, and what is the correct bridge.\r\n\r\nThanks for watching..","title":"How to take storage permission in Android 11","body":"<p>My Topic,\ni am trying to take storage permission in android, my permission code works in below andoid 11 ,\nbut problem is when i try to take storage permission in android 11 then code not works , so please help me..</p>\n<p><strong>This is my code:-</strong></p>\n<p>This is my <strong>AndroidManifest.xml</strong> Code</p>\n<blockquote>\n \n  \n \n<p>android:requestLegacyExternalStorage=&quot;true&quot;</p>\n</blockquote>\n<p>This is my <strong>JavaCode</strong> Code</p>\n<pre><code>@Override \n protected void onActivityResult(int _requestCode, int _resultCode, Intent _data) { \n  super.onActivityResult(_requestCode, _resultCode, _data); \n  if (_resultCode == RESULT_OK){\n        if (Build.VERSION.SDK_INT == Build.VERSION_CODES.R){\n              if (Environment.isExternalStorageManager()){\n                    Toast.makeText(this,&quot;Permission Granted&quot;,Toast.LENGTH_SHORT).show();\n        i.setClass(getApplicationContext(), Main2Activity.class); \n        startActivity(i);\n                } else {\n                    _takePermission();\n                }\n          }\n  } \n  switch (_requestCode) { \n    \n   default: \n   break; \n  } \n }\n\n\npublic boolean _isPermissionGranted() { \n  if (Build.VERSION.SDK_INT == Build.VERSION_CODES.R){\n   \n       return Environment.isExternalStorageManager();\n  } else  {\n   \n       int readexternalStoragePermission = ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE);\n       return  readexternalStoragePermission == PackageManager.PERMISSION_GRANTED;\n  } \n }\n\n\n\npublic void _takePermission() { \n  if (Build.VERSION.SDK_INT == Build.VERSION_CODES.R) {\n       try {\n            Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n            intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\n            intent.setData(Uri.parse(String.format(&quot;package:%s&quot;,getApplicationContext().getPackageName())));\n            startActivityForResult(intent,100);\n        } catch (Exception exception){\n            Intent intent = new Intent();\n            intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n            startActivityForResult(intent,100);\n        }\n  } else {\n       ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},101);\n  } \n } \n  \n  \n  @Override\n public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n      super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n      if (grantResults.length &gt; 0){\n           if (requestCode == 101){\n                boolean readExternalStorage = grantResults[0] == PackageManager.PERMISSION_GRANTED;\n                if (readExternalStorage){\n                     Toast.makeText(this,&quot;Permission Granted&quot;,Toast.LENGTH_SHORT).show();\n     i.setClass(getApplicationContext(), Main2Activity.class); \n     startActivity(i);\n                 } else {\n                     _takePermission();\n                 }\n            }\n       }\n\n</code></pre>\n<p>Above is the complete code, please check and tell me what my mistake is, and what is the correct bridge.</p>\n<p>Thanks for watching..</p>\n"},{"tags":["java","spring-boot","groovy","spring-data-mongodb"],"comments":[{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1640693740,"post_id":70494158,"comment_id":124634468,"body_markdown":"Add a [java] tag to the question for proper syntax highlighting.","body":"Add a [java] tag to the question for proper syntax highlighting."},{"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"score":0,"creation_date":1640698248,"post_id":70494158,"comment_id":124635891,"body_markdown":"i am using groovy as a language","body":"i am using groovy as a language"},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1640706442,"post_id":70494158,"comment_id":124638628,"body_markdown":"Does this answer your question? [Spring Data MongoDB BigDecimal support](https://stackoverflow.com/questions/37950296/spring-data-mongodb-bigdecimal-support)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37950296/spring-data-mongodb-bigdecimal-support\">Spring Data MongoDB BigDecimal support</a>"},{"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"score":0,"creation_date":1640756153,"post_id":70494158,"comment_id":124650059,"body_markdown":"No @Valijon \nI tried @Field(targetType = Decimal128) but it did not worked","body":"No @Valijon  I tried @Field(targetType = Decimal128) but it did not worked"}],"answers":[{"comments":[{"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"score":0,"creation_date":1641182331,"post_id":70530954,"comment_id":124733661,"body_markdown":"i mentioned in my question that i tried this @Field(targetType = FieldType.DECIMAL128) but this not work the error is &quot;does not contain targetType attribute&quot;","body":"i mentioned in my question that i tried this @Field(targetType = FieldType.DECIMAL128) but this not work the error is &quot;does not contain targetType attribute&quot;"},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1641195345,"post_id":70530954,"comment_id":124735675,"body_markdown":"@chaitanyagupta read carefully my answer, you need to drop your already persisted data in order to make it work.","body":"@chaitanyagupta read carefully my answer, you need to drop your already persisted data in order to make it work."},{"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"score":0,"creation_date":1641196051,"post_id":70530954,"comment_id":124735844,"body_markdown":"yes i understand but it is that error i restricting my code to compile as \nIntellij IDE","body":"yes i understand but it is that error i restricting my code to compile as  Intellij IDE"},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1641227129,"post_id":70530954,"comment_id":124746129,"body_markdown":"@chaitanyagupta Update your question with screenshot please, with the error. The solution works perfectly in Eclipse IDE.","body":"@chaitanyagupta Update your question with screenshot please, with the error. The solution works perfectly in Eclipse IDE."},{"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"score":0,"creation_date":1641302832,"post_id":70530954,"comment_id":124765587,"body_markdown":"Question is Updated.","body":"Question is Updated."},{"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"score":0,"creation_date":1641303282,"post_id":70530954,"comment_id":124765804,"body_markdown":"@chaitanyagupta Seems wrong import https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/FieldType.html#DECIMAL128","body":"@chaitanyagupta Seems wrong import <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/mapping/FieldType.html#DECIMAL128\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/mongodb/docs/current/api/org/&hellip;</a>"},{"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"score":0,"creation_date":1641386320,"post_id":70530954,"comment_id":124790327,"body_markdown":"import is correct import org.springframework.data.mongodb.core.mapping.Field","body":"import is correct import org.springframework.data.mongodb.core.mapping.Field"},{"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"score":0,"creation_date":1641386333,"post_id":70530954,"comment_id":124790329,"body_markdown":"import org.springframework.data.mongodb.core.mapping.Field\n does not contain FieldType","body":"import org.springframework.data.mongodb.core.mapping.Field  does not contain FieldType"}],"tags":[],"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641303315,"creation_date":1640863415,"answer_id":70530954,"question_id":70494158,"body_markdown":"Probably, you need to drop / migrate your already created `loanDetails`, since the `loanAmount` field is persisted as `String`.\r\n\r\nBy adding `@Field(targetType = FieldType.DECIMAL128)` to your `loanAmount` field it should work.\r\n\r\n    import org.springframework.data.mongodb.core.mapping.FieldType;\r\n    ...\r\n\r\n    @Field(targetType = FieldType.DECIMAL128)\r\n\tBigDecimal loanAmount;\r\n    ...\r\n    \r\n    public LoanDetails() {\r\n\t   \tloanAmount = new BigDecimal(21.905334472656250);\r\n\t}\r\n    ...\r\n     \r\n    template.save(loan);\r\n\r\n    template.find(new Query(), org.bson.Document.class, &quot;loanDetails&quot;).forEach(l -&gt; {\r\n\t\tSystem.out.println(l.get(&quot;loanAmount&quot;).getClass().getName() + &quot; &quot; + l.get(&quot;loanAmount&quot;));\t\r\n\t});\r\n    //org.bson.types.Decimal128 21.90533447265625\r\n\t\t\r\n\ttemplate.findAll(LoanDetails.class).forEach(l -&gt; {\r\n\t\tSystem.out.println(l.loanAmount.getClass().getName() + &quot; &quot; + l.loanAmount);\t\r\n\t});\r\n    //java.math.BigDecimal 21.90533447265625\r\n\r\nIf you get `Conversion to Decimal128 would require inexact rounding of XXX`\r\n&gt;Note: The `Decimal128` type only supports up to 34 digits of precision.  (Generally, &quot;precision&quot; = total # of digits, while &quot;scale&quot; = # of decimal digits).   Whereas a Java BigDecimal can go higher.  So, before saving to the DB, you need to round the BigDecimal value (e.g. use `BigDecimal.setScale()`) method. \r\n\r\n[BigDecimalConverter issue](https://groups.google.com/g/morphia/c/aUu1Z6RnYA8 ) | [Decimal128](https://github.com/mongodb/mongo-java-driver/blob/master/bson/src/main/org/bson/types/Decimal128.java#L244)","title":"BigDecimal is stored in string in spring data MongoDB","body":"<p>Probably, you need to drop / migrate your already created <code>loanDetails</code>, since the <code>loanAmount</code> field is persisted as <code>String</code>.</p>\n<p>By adding <code>@Field(targetType = FieldType.DECIMAL128)</code> to your <code>loanAmount</code> field it should work.</p>\n<pre><code>import org.springframework.data.mongodb.core.mapping.FieldType;\n...\n\n@Field(targetType = FieldType.DECIMAL128)\nBigDecimal loanAmount;\n...\n\npublic LoanDetails() {\n    loanAmount = new BigDecimal(21.905334472656250);\n}\n...\n \ntemplate.save(loan);\n\ntemplate.find(new Query(), org.bson.Document.class, &quot;loanDetails&quot;).forEach(l -&gt; {\n    System.out.println(l.get(&quot;loanAmount&quot;).getClass().getName() + &quot; &quot; + l.get(&quot;loanAmount&quot;));   \n});\n//org.bson.types.Decimal128 21.90533447265625\n    \ntemplate.findAll(LoanDetails.class).forEach(l -&gt; {\n    System.out.println(l.loanAmount.getClass().getName() + &quot; &quot; + l.loanAmount); \n});\n//java.math.BigDecimal 21.90533447265625\n</code></pre>\n<p>If you get <code>Conversion to Decimal128 would require inexact rounding of XXX</code></p>\n<blockquote>\n<p>Note: The <code>Decimal128</code> type only supports up to 34 digits of precision.  (Generally, &quot;precision&quot; = total # of digits, while &quot;scale&quot; = # of decimal digits).   Whereas a Java BigDecimal can go higher.  So, before saving to the DB, you need to round the BigDecimal value (e.g. use <code>BigDecimal.setScale()</code>) method.</p>\n</blockquote>\n<p><a href=\"https://groups.google.com/g/morphia/c/aUu1Z6RnYA8\" rel=\"nofollow noreferrer\">BigDecimalConverter issue</a> | <a href=\"https://github.com/mongodb/mongo-java-driver/blob/master/bson/src/main/org/bson/types/Decimal128.java#L244\" rel=\"nofollow noreferrer\">Decimal128</a></p>\n"},{"tags":[],"owner":{"account_id":69203,"reputation":3448,"user_id":201514,"accept_rate":78,"display_name":"Rajani Karuturi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668059451,"creation_date":1668059451,"answer_id":74384670,"question_id":70494158,"body_markdown":"You can register a custom converted in mongo config\r\n```\r\n@Configuration        \r\npublic class MongoConfig\r\n{\r\n\r\n    @Bean\r\n    public CustomConversions customConversions()\r\n    {\r\n        return new MongoCustomConversions(Arrays.asList(\r\n                new BigDecimalToDocumentWritingConverter()\r\n            ));\r\n    }\r\n}\r\n```\r\n\r\nAnd do the conversion there\r\n```\r\npublic class BigDecimalToDocumentWritingConverter implements Converter&lt;BigDecimal, String&gt; {\r\n\r\n    @Override\r\n    public String convert(@Nullable BigDecimal amount) {\r\n        if (amount == null) return null;\r\n        return String.valueOf(amount.doubleValue());\r\n    }\r\n}\r\n```","title":"BigDecimal is stored in string in spring data MongoDB","body":"<p>You can register a custom converted in mongo config</p>\n<pre><code>@Configuration        \npublic class MongoConfig\n{\n\n    @Bean\n    public CustomConversions customConversions()\n    {\n        return new MongoCustomConversions(Arrays.asList(\n                new BigDecimalToDocumentWritingConverter()\n            ));\n    }\n}\n</code></pre>\n<p>And do the conversion there</p>\n<pre><code>public class BigDecimalToDocumentWritingConverter implements Converter&lt;BigDecimal, String&gt; {\n\n    @Override\n    public String convert(@Nullable BigDecimal amount) {\n        if (amount == null) return null;\n        return String.valueOf(amount.doubleValue());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20686838,"reputation":322,"user_id":15189054,"display_name":"chaitanya gupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3053,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1668059451,"creation_date":1640600120,"question_id":70494158,"body_markdown":"    @Document(collection = &quot;loanDetails&quot;)\r\n    class LoanDetails {\r\n        @Transient\r\n        public static final String COLLECTION_NAME = &quot;loanDetails\r\n        @Id\r\n        String id\r\n    \r\n        String loanId\r\n        String loanUUID\r\n        String loanStatus\r\n        Date loanDateCreated\r\n        Date loanLastUpdated\r\n        BigDecimal loanAmount //Stores in String\r\n    }\r\n\r\nI declared a class LoanDetails and a field with BigDecimal type loanAmount in it\r\nWhenever i saved some data in this collection\r\n\r\n 1. It get stores as a string in mongo db database \r\n 2. while getting the records from database i am getting the error of \r\n**Failed to decode &#39;LoandDetails&#39;. Decoding &#39;loanAmount&#39; errored with:\r\n    readDecimal can only be called when CurrentBSONType is DECIMAL128,\r\n    not when CurrentBSONType is STRING.**\r\n\r\nI tried to add annotation over loanAmount field\r\n\r\n    @Field(targetType = Decimal128) // This also throws error does not contain targetType attribute attached screenshot for the same\r\n    BigDecimal loanAmount\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y5DXO.png","title":"BigDecimal is stored in string in spring data MongoDB","body":"<pre><code>@Document(collection = &quot;loanDetails&quot;)\nclass LoanDetails {\n    @Transient\n    public static final String COLLECTION_NAME = &quot;loanDetails\n    @Id\n    String id\n\n    String loanId\n    String loanUUID\n    String loanStatus\n    Date loanDateCreated\n    Date loanLastUpdated\n    BigDecimal loanAmount //Stores in String\n}\n</code></pre>\n<p>I declared a class LoanDetails and a field with BigDecimal type loanAmount in it\nWhenever i saved some data in this collection</p>\n<ol>\n<li>It get stores as a string in mongo db database</li>\n<li>while getting the records from database i am getting the error of\n<strong>Failed to decode 'LoandDetails'. Decoding 'loanAmount' errored with:\nreadDecimal can only be called when CurrentBSONType is DECIMAL128,\nnot when CurrentBSONType is STRING.</strong></li>\n</ol>\n<p>I tried to add annotation over loanAmount field</p>\n<pre><code>@Field(targetType = Decimal128) // This also throws error does not contain targetType attribute attached screenshot for the same\nBigDecimal loanAmount\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/y5DXO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y5DXO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","wro4j"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1667830666,"post_id":74347674,"comment_id":131254680,"body_markdown":"Can you please post the pom file... it looks like using version ranges and you seemed to be having a clash...","body":"Can you please post the pom file... it looks like using version ranges and you seemed to be having a clash..."},{"owner":{"account_id":253271,"reputation":163,"user_id":531872,"display_name":"Alon Weinstein"},"score":0,"creation_date":1667831056,"post_id":74347674,"comment_id":131254848,"body_markdown":"updated the question with more info @khmarbaise","body":"updated the question with more info @khmarbaise"}],"answers":[{"tags":[],"owner":{"account_id":253271,"reputation":163,"user_id":531872,"display_name":"Alon Weinstein"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668059416,"creation_date":1667831833,"answer_id":74348300,"question_id":74347674,"body_markdown":"I love how just asking a question clears your head enough to figure it out!\r\nHere&#39;s I solved it:\r\n1. Understood what I&#39;m looking for is a way to override dependencies for a *plugin*\r\n2. Found this: [How to override a plugin&#39;s dependency in Maven][1]\r\n3. Checked the dependencies path and found that if I force `org.webjars.npm.glob` to use `7.1.1`, things will work out.\r\n4. Added this to the `&lt;plugin&gt;` element loading `wro4j`:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.webjars.npm&lt;/groupId&gt;\r\n        &lt;artifactId&gt;glob&lt;/artifactId&gt;\r\n        &lt;version&gt;7.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;      \r\n```\r\n\r\nand voila!\r\n\r\n\r\n  [1]: https://blog.sonatype.com/2008/04/how-to-override-a-plugins-dependency-in-maven/","title":"MVN issue with an old Java codebase -- clashing dependencies","body":"<p>I love how just asking a question clears your head enough to figure it out!\nHere's I solved it:</p>\n<ol>\n<li>Understood what I'm looking for is a way to override dependencies for a <em>plugin</em></li>\n<li>Found this: <a href=\"https://blog.sonatype.com/2008/04/how-to-override-a-plugins-dependency-in-maven/\" rel=\"nofollow noreferrer\">How to override a plugin's dependency in Maven</a></li>\n<li>Checked the dependencies path and found that if I force <code>org.webjars.npm.glob</code> to use <code>7.1.1</code>, things will work out.</li>\n<li>Added this to the <code>&lt;plugin&gt;</code> element loading <code>wro4j</code>:</li>\n</ol>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars.npm&lt;/groupId&gt;\n        &lt;artifactId&gt;glob&lt;/artifactId&gt;\n        &lt;version&gt;7.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;      \n</code></pre>\n<p>and voila!</p>\n"}],"owner":{"account_id":253271,"reputation":163,"user_id":531872,"display_name":"Alon Weinstein"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668059416,"creation_date":1667829133,"question_id":74347674,"body_markdown":"I have an old Java codebase (1.7). I&#39;m trying to get it to run on a newer version of the JVM, and in general I got it to compile.\r\nWhat I can solve is the part in the build process that uses `wro4j`. Maven gives me this error:\r\n```\r\nPlugin ro.isdc.wro4j:wro4j-maven-plugin:1.10.1 or one of its dependencies could not be resolved:\r\nFailed to collect dependencies for ro.isdc.wro4j:wro4j-maven-plugin:jar:1.10.1 ():\r\nCould not resolve version conflict among \r\n[ro.isdc.wro4j:wro4j-maven-plugin:jar:1.10.1 -&gt; ro.isdc.wro4j:wro4j-extensions:jar:1.10.1 -&gt; org.webjars.npm:jshint:jar:2.11.0 -&gt; org.webjars.npm:minimatch:jar:[3.0.2,3.1), \r\nro.isdc.wro4j:wro4j-maven-plugin:jar:1.10.1 -&gt; ro.isdc.wro4j:wro4j-extensions:jar:1.10.1 -&gt; org.webjars.npm:jshint:jar:2.11.0 -&gt; org.webjars.npm:cli:jar:[1.0.0,1.1) -&gt; org.webjars.npm:glob:jar:[7.1.1,8) -&gt; org.webjars.npm:minimatch:jar:[3.1.1,4)\r\n```\r\n\r\nBoth dependencies chains end with minimatch -- one needs [3.1.1,4], the other [3.0.2,3.1]. I have a feeling that whatever works with 3.1 will work with 3.1.1, but I have no idea how to &quot;force&quot; (or trick?) MVN to allow that.\r\n\r\nThis is the part in the POM file that uses wro4j:\r\n```\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;ro.isdc.wro4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wro4j-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.10.1&lt;/version&gt;\r\n          &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                  &lt;phase&gt;compile&lt;/phase&gt;\r\n                  &lt;goals&gt;\r\n                      &lt;goal&gt;run&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n              &lt;minimize&gt;true&lt;/minimize&gt;\r\n              &lt;wroFile&gt;${basedir}/src/main/resources/wro.xml&lt;/wroFile&gt;\r\n              &lt;contextFolder&gt;${basedir}/WebContent/&lt;/contextFolder&gt;\r\n              &lt;destinationFolder&gt;${basedir}/WebContent/js/compiled&lt;/destinationFolder&gt;\r\n          &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```\r\n\r\n`wro4j` is *not* declared as a dependency anywhere else in the POM file. Same goes for the entire dependencies chain in the error message.\r\nThe issue is this:\r\n```\r\norg.webjars.npm:cli:jar:[1.0.0,1.1) -&gt; org.webjars.npm:glob:jar:[7.1.1,8) -&gt; org.webjars.npm:minimatch:jar:[3.1.1,4)\r\n```\r\n`org.webjars.npm:jshint` requires both `minimatch [3.0.2,3.1]`, and also `org.webjars.npm:cli:` - which in turn has an indirect dependency on `minimatch [3.1,4]` \r\n\r\nAny ideas?","title":"MVN issue with an old Java codebase -- clashing dependencies","body":"<p>I have an old Java codebase (1.7). I'm trying to get it to run on a newer version of the JVM, and in general I got it to compile.\nWhat I can solve is the part in the build process that uses <code>wro4j</code>. Maven gives me this error:</p>\n<pre><code>Plugin ro.isdc.wro4j:wro4j-maven-plugin:1.10.1 or one of its dependencies could not be resolved:\nFailed to collect dependencies for ro.isdc.wro4j:wro4j-maven-plugin:jar:1.10.1 ():\nCould not resolve version conflict among \n[ro.isdc.wro4j:wro4j-maven-plugin:jar:1.10.1 -&gt; ro.isdc.wro4j:wro4j-extensions:jar:1.10.1 -&gt; org.webjars.npm:jshint:jar:2.11.0 -&gt; org.webjars.npm:minimatch:jar:[3.0.2,3.1), \nro.isdc.wro4j:wro4j-maven-plugin:jar:1.10.1 -&gt; ro.isdc.wro4j:wro4j-extensions:jar:1.10.1 -&gt; org.webjars.npm:jshint:jar:2.11.0 -&gt; org.webjars.npm:cli:jar:[1.0.0,1.1) -&gt; org.webjars.npm:glob:jar:[7.1.1,8) -&gt; org.webjars.npm:minimatch:jar:[3.1.1,4)\n</code></pre>\n<p>Both dependencies chains end with minimatch -- one needs [3.1.1,4], the other [3.0.2,3.1]. I have a feeling that whatever works with 3.1 will work with 3.1.1, but I have no idea how to &quot;force&quot; (or trick?) MVN to allow that.</p>\n<p>This is the part in the POM file that uses wro4j:</p>\n<pre><code>      &lt;plugin&gt;\n        &lt;groupId&gt;ro.isdc.wro4j&lt;/groupId&gt;\n        &lt;artifactId&gt;wro4j-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.10.1&lt;/version&gt;\n          &lt;executions&gt;\n              &lt;execution&gt;\n                  &lt;phase&gt;compile&lt;/phase&gt;\n                  &lt;goals&gt;\n                      &lt;goal&gt;run&lt;/goal&gt;\n                  &lt;/goals&gt;\n              &lt;/execution&gt;\n          &lt;/executions&gt;\n          &lt;configuration&gt;\n              &lt;minimize&gt;true&lt;/minimize&gt;\n              &lt;wroFile&gt;${basedir}/src/main/resources/wro.xml&lt;/wroFile&gt;\n              &lt;contextFolder&gt;${basedir}/WebContent/&lt;/contextFolder&gt;\n              &lt;destinationFolder&gt;${basedir}/WebContent/js/compiled&lt;/destinationFolder&gt;\n          &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p><code>wro4j</code> is <em>not</em> declared as a dependency anywhere else in the POM file. Same goes for the entire dependencies chain in the error message.\nThe issue is this:</p>\n<pre><code>org.webjars.npm:cli:jar:[1.0.0,1.1) -&gt; org.webjars.npm:glob:jar:[7.1.1,8) -&gt; org.webjars.npm:minimatch:jar:[3.1.1,4)\n</code></pre>\n<p><code>org.webjars.npm:jshint</code> requires both <code>minimatch [3.0.2,3.1]</code>, and also <code>org.webjars.npm:cli:</code> - which in turn has an indirect dependency on <code>minimatch [3.1,4]</code></p>\n<p>Any ideas?</p>\n"},{"tags":["java","hashmap","defaultlistmodel"],"comments":[{"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"score":1,"creation_date":1330388216,"post_id":9474479,"comment_id":11989985,"body_markdown":"`DefaultListModel` doesn&#39;t take any parameters and you are passing it a collection.","body":"<code>DefaultListModel</code> doesn&#39;t take any parameters and you are passing it a collection."},{"owner":{"account_id":1280365,"reputation":339,"user_id":1234587,"accept_rate":50,"display_name":"cataschok"},"score":0,"creation_date":1330388400,"post_id":9474479,"comment_id":11990021,"body_markdown":"is there a way to put each values from hashmap into the list model?","body":"is there a way to put each values from hashmap into the list model?"},{"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"score":1,"creation_date":1330388642,"post_id":9474479,"comment_id":11990074,"body_markdown":"You need to add elements to the `ListModel`, so loop through your `HashMap` and add each value to the `ListModel`","body":"You need to add elements to the <code>ListModel</code>, so loop through your <code>HashMap</code> and add each value to the <code>ListModel</code>"},{"owner":{"account_id":1280365,"reputation":339,"user_id":1234587,"accept_rate":50,"display_name":"cataschok"},"score":0,"creation_date":1330389124,"post_id":9474479,"comment_id":11990196,"body_markdown":"when i do a loop to (a.getValue()) and trys to add them in i get\nDepartmentProject.java:72: error: method addElement in class DefaultListModel&lt;E&gt; cannot be applied to given types;\nactual argument Object cannot be converted to String by method invocation conversion\n  where E is a type-variable:","body":"when i do a loop to (a.getValue()) and trys to add them in i get DepartmentProject.java:72: error: method addElement in class DefaultListModel&lt;E&gt; cannot be applied to given types; actual argument Object cannot be converted to String by method invocation conversion   where E is a type-variable:"},{"owner":{"account_id":1280365,"reputation":339,"user_id":1234587,"accept_rate":50,"display_name":"cataschok"},"score":0,"creation_date":1330389378,"post_id":9474479,"comment_id":11990259,"body_markdown":"i got to it work, i changed it to (a.getValue() + &quot; &quot;); and somehow it passed","body":"i got to it work, i changed it to (a.getValue() + &quot; &quot;); and somehow it passed"}],"answers":[{"tags":[],"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1330388983,"creation_date":1330388983,"answer_id":9474606,"question_id":9474479,"body_markdown":"`DefaultListModel` only has a constructor that takes no arguments; you can&#39;t pass the values you want as a constructor arg.\r\nYou will have to create the DefaultListModel and then populate it afterward, for example:\r\n\r\n    HashMap&lt;String, String&gt; inst1 = new HashMap(instructorIO.getInstructors());\r\n    instListModel = new DefaultListModel&lt;String&gt;();\r\n    for (String value : inst1.values())\r\n    {\r\n        instListModel.addElement(value);\r\n    }","title":"HashMap into DefaultListModel","body":"<p><code>DefaultListModel</code> only has a constructor that takes no arguments; you can't pass the values you want as a constructor arg.\nYou will have to create the DefaultListModel and then populate it afterward, for example:</p>\n\n<pre><code>HashMap&lt;String, String&gt; inst1 = new HashMap(instructorIO.getInstructors());\ninstListModel = new DefaultListModel&lt;String&gt;();\nfor (String value : inst1.values())\n{\n    instListModel.addElement(value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26858271,"reputation":1,"user_id":20442228,"display_name":"mirun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668059375,"creation_date":1667839215,"answer_id":74349960,"question_id":9474479,"body_markdown":"```\r\nHashMap&lt;Integer, Employee&gt; employees = new HashMap&lt;&gt;();\r\n\r\nDefaultListModel&lt;Employee&gt; model = new DefaultListModel&lt;&gt;();\r\nmodel.addAll(employees.values());\r\n```","title":"HashMap into DefaultListModel","body":"<pre><code>HashMap&lt;Integer, Employee&gt; employees = new HashMap&lt;&gt;();\n\nDefaultListModel&lt;Employee&gt; model = new DefaultListModel&lt;&gt;();\nmodel.addAll(employees.values());\n</code></pre>\n"}],"owner":{"account_id":1280365,"reputation":339,"user_id":1234587,"accept_rate":50,"display_name":"cataschok"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9474606,"answer_count":2,"score":1,"last_activity_date":1668059375,"creation_date":1330388098,"question_id":9474479,"body_markdown":"Here&#39;s the code that I have:\r\n\r\n    HashMap&lt;String, String&gt; inst1 = new HashMap(instructorIO.getInstructors());\r\n    instListModel = new DefaultListModel&lt;String&gt;(inst1.values());\r\n\r\nI get errors:\r\n\r\n    DepartmentProject.java:69: error: constructor DefaultListModel in class DefaultListModel&lt;E&gt; cannot be applied to given types;\r\n        required: no arguments\r\n        found: Collection&lt;String&gt;\r\n        reason: actual and formal argument lists differ in length\r\n        where E is a type-variable:\r\n        E extends Object declared in class DefaultListModel\r\n\r\nCan anyone help me with this?\r\n","title":"HashMap into DefaultListModel","body":"<p>Here's the code that I have:</p>\n\n<pre><code>HashMap&lt;String, String&gt; inst1 = new HashMap(instructorIO.getInstructors());\ninstListModel = new DefaultListModel&lt;String&gt;(inst1.values());\n</code></pre>\n\n<p>I get errors:</p>\n\n<pre><code>DepartmentProject.java:69: error: constructor DefaultListModel in class DefaultListModel&lt;E&gt; cannot be applied to given types;\n    required: no arguments\n    found: Collection&lt;String&gt;\n    reason: actual and formal argument lists differ in length\n    where E is a type-variable:\n    E extends Object declared in class DefaultListModel\n</code></pre>\n\n<p>Can anyone help me with this?</p>\n"},{"tags":["java","java-stream","range","bufferedreader","intstream"],"comments":[{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":2,"creation_date":1668018093,"post_id":74379666,"comment_id":131308183,"body_markdown":"Just use a `while` loop. Not everything has to be streams.","body":"Just use a <code>while</code> loop. Not everything has to be streams."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1668018170,"post_id":74379666,"comment_id":131308206,"body_markdown":"Or use `bufferedReader.lines()`, which returns a `Stream&lt;String&gt;`, and then use the stream API to collect into a `List&lt;List&lt;Integer&gt;&gt;`. But a `while` loop would probably be more readable.","body":"Or use <code>bufferedReader.lines()</code>, which returns a <code>Stream&lt;String&gt;</code>, and then use the stream API to collect into a <code>List&lt;List&lt;Integer&gt;&gt;</code>. But a <code>while</code> loop would probably be more readable."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668057696,"creation_date":1668020640,"answer_id":74380114,"question_id":74379666,"body_markdown":"&gt; I&#39;d like to make this dynamic so various numbers of rows could be entered. How is this done?\r\n\r\nThere&#39;s a couple of way to avoid hard-coding the number of lines that should be read from the console:\r\n\r\n* you can provide the expected number of lines (for instance as a method argument, or as a console input);\r\n\r\n* introduce a condition checking where a particular string (or symbol) which should signify the end of data is present in the input.\r\n\r\nAs *@Slaw* has mentioned in the [comment][1], you can use [`BufferedReader.lines()`][2] which generates a stream lazily populated with lines read from the `BufferedReader`.\r\n\r\nAlso, note that instead of `replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;)` which is intended to remove white trailing spaces, you can apply [`String.strip()`][3] (or its predecessor `trim()`).\r\n\r\n# Provide a number of lines explicitly\r\n\r\nThe first option is to provide the number of rows to read explicitly and apply it via `limit()` operation.\r\n\r\n    public static List&lt;List&lt;Integer&gt;&gt; readInput(int limit) {\r\n        var reader = new BufferedReader(new InputStreamReader(System.in));\r\n        \r\n        return reader.lines()\r\n            .map(line -&gt; Arrays.stream(line.strip().split(&quot; &quot;))\r\n                .map(Integer::parseInt)\r\n                .toList()\r\n            )\r\n            .limit(limit) // number of lines to read\r\n            .toList();    // collect(toList())\r\n    }\r\n\r\n# Read until a specific condition is met\r\n\r\nAnother approach is to read the data until input a string representing the end of data is not encountered in the input. Since regular data in these case contains only digits and white spaces, we can make it terminating condition, i.e. read until input is valid.\r\n\r\n    public static List&lt;List&lt;Integer&gt;&gt; readInput() {\r\n        var reader = new BufferedReader(new InputStreamReader(System.in));\r\n        \r\n        return reader.lines()\r\n            .takeWhile(line -&gt; line.matches(&quot;\\\\d+[\\\\s\\\\d]*&quot;)) // read until there only digits in the input\r\n            .map(line -&gt; Arrays.stream(line.strip().split(&quot; &quot;))\r\n                .map(Integer::parseInt)\r\n                .toList()\r\n            )\r\n            .toList();   // collect(toList())\r\n    }\r\n\r\n   [1]: https://stackoverflow.com/questions/74379666/dynamically-determine-the-intstream-range#comment131308206_74379666\r\n\r\n   [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#lines()\r\n\r\n   [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#strip()","title":"Dynamically determine the IntStream.range()","body":"<blockquote>\n<p>I'd like to make this dynamic so various numbers of rows could be entered. How is this done?</p>\n</blockquote>\n<p>There's a couple of way to avoid hard-coding the number of lines that should be read from the console:</p>\n<ul>\n<li><p>you can provide the expected number of lines (for instance as a method argument, or as a console input);</p>\n</li>\n<li><p>introduce a condition checking where a particular string (or symbol) which should signify the end of data is present in the input.</p>\n</li>\n</ul>\n<p>As <em>@Slaw</em> has mentioned in the <a href=\"https://stackoverflow.com/questions/74379666/dynamically-determine-the-intstream-range#comment131308206_74379666\">comment</a>, you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/BufferedReader.html#lines()\" rel=\"nofollow noreferrer\"><code>BufferedReader.lines()</code></a> which generates a stream lazily populated with lines read from the <code>BufferedReader</code>.</p>\n<p>Also, note that instead of <code>replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;)</code> which is intended to remove white trailing spaces, you can apply <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#strip()\" rel=\"nofollow noreferrer\"><code>String.strip()</code></a> (or its predecessor <code>trim()</code>).</p>\n<h1>Provide a number of lines explicitly</h1>\n<p>The first option is to provide the number of rows to read explicitly and apply it via <code>limit()</code> operation.</p>\n<pre><code>public static List&lt;List&lt;Integer&gt;&gt; readInput(int limit) {\n    var reader = new BufferedReader(new InputStreamReader(System.in));\n    \n    return reader.lines()\n        .map(line -&gt; Arrays.stream(line.strip().split(&quot; &quot;))\n            .map(Integer::parseInt)\n            .toList()\n        )\n        .limit(limit) // number of lines to read\n        .toList();    // collect(toList())\n}\n</code></pre>\n<h1>Read until a specific condition is met</h1>\n<p>Another approach is to read the data until input a string representing the end of data is not encountered in the input. Since regular data in these case contains only digits and white spaces, we can make it terminating condition, i.e. read until input is valid.</p>\n<pre><code>public static List&lt;List&lt;Integer&gt;&gt; readInput() {\n    var reader = new BufferedReader(new InputStreamReader(System.in));\n    \n    return reader.lines()\n        .takeWhile(line -&gt; line.matches(&quot;\\\\d+[\\\\s\\\\d]*&quot;)) // read until there only digits in the input\n        .map(line -&gt; Arrays.stream(line.strip().split(&quot; &quot;))\n            .map(Integer::parseInt)\n            .toList()\n        )\n        .toList();   // collect(toList())\n}\n</code></pre>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1668057696,"creation_date":1668017995,"question_id":74379666,"body_markdown":"I hve this code which loops through lines of integers and enters them into a `List`:\r\n\r\n```Java\r\nBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\r\n\r\nList&lt;List&lt;Integer&gt;&gt; arr = new ArrayList&lt;&gt;();\r\n\r\n\r\nIntStream.range(0, 12).forEach(i -&gt; {\r\n    try {\r\n        arr.add(\r\n                Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\r\n                        .map(Integer::parseInt)\r\n                        .collect(toList())\r\n        );\r\n    } catch (IOException ex) {\r\n        throw new RuntimeException(ex);\r\n    }\r\n});\r\n```\r\n\r\nIt works fine when I pass in the correct number of rows. 12 in this example. I&#39;d like to make this dynamic so various numbers of rows could be entered. How is this done?","title":"Dynamically determine the IntStream.range()","body":"<p>I hve this code which loops through lines of integers and enters them into a <code>List</code>:</p>\n<pre><code>BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n\nList&lt;List&lt;Integer&gt;&gt; arr = new ArrayList&lt;&gt;();\n\n\nIntStream.range(0, 12).forEach(i -&gt; {\n    try {\n        arr.add(\n                Stream.of(bufferedReader.readLine().replaceAll(&quot;\\\\s+$&quot;, &quot;&quot;).split(&quot; &quot;))\n                        .map(Integer::parseInt)\n                        .collect(toList())\n        );\n    } catch (IOException ex) {\n        throw new RuntimeException(ex);\n    }\n});\n</code></pre>\n<p>It works fine when I pass in the correct number of rows. 12 in this example. I'd like to make this dynamic so various numbers of rows could be entered. How is this done?</p>\n"},{"tags":["java","microsoft-graph-api","msal4j"],"answers":[{"tags":[],"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668057674,"creation_date":1668057674,"answer_id":74384466,"question_id":74381000,"body_markdown":"I could not find the exact API in the libraries, I did manage to solve it using normal REST calls:\r\n\r\n    private String getAccessToken(String refreshToken) throws UnsupportedOperationException {\r\n        String url = &quot;https://login.microsoftonline.com/common/oauth2/v2.0/token&quot;;\r\n    \r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n    \r\n        // TODO: These values need to be read from the config file\r\n        MultiValueMap&lt;String, String&gt; map= new LinkedMultiValueMap&lt;String, String&gt;();\r\n        map.add(&quot;client_id&quot;, &quot;your_client_id&quot;);\r\n        map.add(&quot;grant_type&quot;, &quot;refresh_token&quot;);\r\n        map.add(&quot;redirect_uri&quot;, &quot;http://localhost:5000/login/oauth2/code/microsoft&quot;);\r\n        map.add(&quot;scope&quot;, &quot;your scopes&quot;);\r\n        map.add(&quot;refresh_token&quot;, refreshToken);\r\n        map.add(&quot;client_secret&quot;, &quot;your_client_secret&quot;);\r\n    \r\n        HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;(map, headers);\r\n    \r\n        ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(url, request, String.class);\r\n        return response.getBody();\r\n    }","title":"Refresh Azure AD access token","body":"<p>I could not find the exact API in the libraries, I did manage to solve it using normal REST calls:</p>\n<pre><code>private String getAccessToken(String refreshToken) throws UnsupportedOperationException {\n    String url = &quot;https://login.microsoftonline.com/common/oauth2/v2.0/token&quot;;\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n\n    // TODO: These values need to be read from the config file\n    MultiValueMap&lt;String, String&gt; map= new LinkedMultiValueMap&lt;String, String&gt;();\n    map.add(&quot;client_id&quot;, &quot;your_client_id&quot;);\n    map.add(&quot;grant_type&quot;, &quot;refresh_token&quot;);\n    map.add(&quot;redirect_uri&quot;, &quot;http://localhost:5000/login/oauth2/code/microsoft&quot;);\n    map.add(&quot;scope&quot;, &quot;your scopes&quot;);\n    map.add(&quot;refresh_token&quot;, refreshToken);\n    map.add(&quot;client_secret&quot;, &quot;your_client_secret&quot;);\n\n    HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; request = new HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;(map, headers);\n\n    ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(url, request, String.class);\n    return response.getBody();\n}\n</code></pre>\n"}],"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74384466,"answer_count":1,"score":0,"last_activity_date":1668057674,"creation_date":1668025702,"question_id":74381000,"body_markdown":"I am working on a web app where users can login withe their personal Microsoft. After login I store the access token and the refresh token so that I can later retrieve some data from their Microsoft account. \r\n\r\nWhile the access token is valid, everything works.\r\n\r\n    final TokenCredential tokenCredential = request -&gt; {\r\n        final OffsetDateTime offset = OffsetDateTime.ofInstant(account.getTokenExpiry().toInstant(), ZoneId.systemDefault());\r\n        final AccessToken token = new AccessToken(account.getAccessToken(), offset);\r\n        return Mono.create(sink -&gt; sink.success(token));\r\n    };\r\n    \r\n    final TokenCredentialAuthProvider tokenCredentialAuthProvider = \r\n      new TokenCredentialAuthProvider(tokenCredential);\r\n    \r\n    this.graphServiceClient =\r\n        GraphServiceClient\r\n            .builder()\r\n            .authenticationProvider(tokenCredentialAuthProvider)\r\n            .buildClient();\r\n\r\nThe problem is that if the token has expired, I can&#39;t just provide the refresh token. I need to first retrieve the new token. Is there a way of doing this? Is there a method where I can just provide both tokens and the refresh is handled automatically?\r\n\r\nI could not find anything useful so far.","title":"Refresh Azure AD access token","body":"<p>I am working on a web app where users can login withe their personal Microsoft. After login I store the access token and the refresh token so that I can later retrieve some data from their Microsoft account.</p>\n<p>While the access token is valid, everything works.</p>\n<pre><code>final TokenCredential tokenCredential = request -&gt; {\n    final OffsetDateTime offset = OffsetDateTime.ofInstant(account.getTokenExpiry().toInstant(), ZoneId.systemDefault());\n    final AccessToken token = new AccessToken(account.getAccessToken(), offset);\n    return Mono.create(sink -&gt; sink.success(token));\n};\n\nfinal TokenCredentialAuthProvider tokenCredentialAuthProvider = \n  new TokenCredentialAuthProvider(tokenCredential);\n\nthis.graphServiceClient =\n    GraphServiceClient\n        .builder()\n        .authenticationProvider(tokenCredentialAuthProvider)\n        .buildClient();\n</code></pre>\n<p>The problem is that if the token has expired, I can't just provide the refresh token. I need to first retrieve the new token. Is there a way of doing this? Is there a method where I can just provide both tokens and the refresh is handled automatically?</p>\n<p>I could not find anything useful so far.</p>\n"},{"tags":["java","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668057173,"creation_date":1668053749,"answer_id":74384060,"question_id":74380751,"body_markdown":"Yes, if you add `-DmyKey=myValue`\r\n\r\nYou can do this anywhere in Karate (feature or JS):\r\n\r\n    * def myKey = karate.properties[&#39;myKey&#39;]\r\n\r\nAlso refer: https://stackoverflow.com/a/52821230/143475","title":"Karate-API ~ Using karate&#39;s environment variable to pass into Java Faker class","body":"<p>Yes, if you add <code>-DmyKey=myValue</code></p>\n<p>You can do this anywhere in Karate (feature or JS):</p>\n<pre><code>* def myKey = karate.properties['myKey']\n</code></pre>\n<p>Also refer: <a href=\"https://stackoverflow.com/a/52821230/143475\">https://stackoverflow.com/a/52821230/143475</a></p>\n"}],"owner":{"account_id":22806530,"reputation":129,"user_id":16958500,"display_name":"mark quinteros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74384060,"answer_count":1,"score":1,"last_activity_date":1668057173,"creation_date":1668024236,"question_id":74380751,"body_markdown":"The scenario:\r\n\r\nI have java faker set up to create email address for each of my karate tests.\r\nexample: \r\n```\r\n    Faker faker = new Faker();\r\n    String email = &quot;people-service.&quot; + faker.random().nextInt(0, 100000000)\r\n        + &quot;@mail.com&quot;;\r\n    return email;\r\n```\r\n\r\n\r\nI run my tests via command line \r\n(example: qa-people-service % mvn clean test Dkarate.env=sqa -Dkarate.options=&quot;--tags @play&quot;\r\n\r\nis there a way I can pass in the environment variable run in the command line into my email addresses?\r\ne.g. \r\n```\r\nString email = &quot;&lt;Dkarate.env&gt;&quot; + &quot;people-service.&quot; + faker.random().nextInt(0, 100000000)\r\n        + &quot;@mail.com&quot;;\r\n```","title":"Karate-API ~ Using karate&#39;s environment variable to pass into Java Faker class","body":"<p>The scenario:</p>\n<p>I have java faker set up to create email address for each of my karate tests.\nexample:</p>\n<pre><code>    Faker faker = new Faker();\n    String email = &quot;people-service.&quot; + faker.random().nextInt(0, 100000000)\n        + &quot;@mail.com&quot;;\n    return email;\n</code></pre>\n<p>I run my tests via command line\n(example: qa-people-service % mvn clean test Dkarate.env=sqa -Dkarate.options=&quot;--tags @play&quot;</p>\n<p>is there a way I can pass in the environment variable run in the command line into my email addresses?\ne.g.</p>\n<pre><code>String email = &quot;&lt;Dkarate.env&gt;&quot; + &quot;people-service.&quot; + faker.random().nextInt(0, 100000000)\n        + &quot;@mail.com&quot;;\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1668042428,"post_id":74383060,"comment_id":131314132,"body_markdown":"Why do you think your ps will do an update for a select `String sql = &quot;SELECT * FROM management&quot;;` ?  Have a look at the javadocs.","body":"Why do you think your ps will do an update for a select <code>String sql = &quot;SELECT * FROM management&quot;;</code> ?  Have a look at the javadocs."},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668042903,"post_id":74383060,"comment_id":131314211,"body_markdown":"I wanted to be able to retrieve all the data in the table.","body":"I wanted to be able to retrieve all the data in the table."},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668043101,"post_id":74383060,"comment_id":131314248,"body_markdown":"Should I modify the sql statement?","body":"Should I modify the sql statement?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1668043621,"post_id":74383060,"comment_id":131314322,"body_markdown":"Yes and no.  But more importantly I think that you should follow a jdbc tutorial.  For example when doing an INSERT you need to provide that data that you want inserted.  When doing a delete your sql is incorrect.  When doing a select you are using the wrong java method.  So much is wrong.","body":"Yes and no.  But more importantly I think that you should follow a jdbc tutorial.  For example when doing an INSERT you need to provide that data that you want inserted.  When doing a delete your sql is incorrect.  When doing a select you are using the wrong java method.  So much is wrong."},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668044385,"post_id":74383060,"comment_id":131314425,"body_markdown":"oh my mistake\nI&#39;m pretty sure I need to provide data to insert data.\nAnd when I provide data, I think I have to do something like ps.setString = ps(1, attribute), but what is the best way to do it in this source code?","body":"oh my mistake I&#39;m pretty sure I need to provide data to insert data. And when I provide data, I think I have to do something like ps.setString = ps(1, attribute), but what is the best way to do it in this source code?"},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668044453,"post_id":74383060,"comment_id":131314431,"body_markdown":"If I want to delete each attribute, how should I write the sql statement?","body":"If I want to delete each attribute, how should I write the sql statement?"},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668045027,"post_id":74383060,"comment_id":131314509,"body_markdown":"The basic form of the sql statement&#39;s deletion method is &quot;DELETE [FROM] table name\nI know it&#39;s a WHERE condition&quot;, but I&#39;m asking again if I want to make each attribute deleteable.","body":"The basic form of the sql statement&#39;s deletion method is &quot;DELETE [FROM] table name I know it&#39;s a WHERE condition&quot;, but I&#39;m asking again if I want to make each attribute deleteable."},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668045073,"post_id":74383060,"comment_id":131314517,"body_markdown":"I&#39;m really sorry if it looks hasty.","body":"I&#39;m really sorry if it looks hasty."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1668045293,"post_id":74383060,"comment_id":131314544,"body_markdown":"*I want to make each attribute deleteable.* - I have no idea what you mean.  Rows from a table are deleted.","body":"<i>I want to make each attribute deleteable.</i> - I have no idea what you mean.  Rows from a table are deleted."},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668045467,"post_id":74383060,"comment_id":131314570,"body_markdown":"oh,I see.....I was trying to ask how to make each column in the table be deleted.","body":"oh,I see.....I was trying to ask how to make each column in the table be deleted."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1668045923,"post_id":74383060,"comment_id":131314625,"body_markdown":"why would you want to do this?  Table manipulation is not something that is generally done using java.  Use the mysql client program.","body":"why would you want to do this?  Table manipulation is not something that is generally done using java.  Use the mysql client program."},{"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"score":0,"creation_date":1668046427,"post_id":74383060,"comment_id":131314705,"body_markdown":"I see.. I want the basic table to appear on the gui screen, and when data is manipulated, the result is displayed on the gui screen.\nCan data manipulation results be displayed in the gui with only sql statements and not java?","body":"I see.. I want the basic table to appear on the gui screen, and when data is manipulated, the result is displayed on the gui screen. Can data manipulation results be displayed in the gui with only sql statements and not java?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1668094218,"post_id":74383060,"comment_id":131327892,"body_markdown":"Looks to me like a duplicate of this question:  https://stackoverflow.com/q/74362785/131872. The answer in that question was that your SQL statement does nothing because you don&#39;t pass any data to the PreparedStatement. Same comment here.","body":"Looks to me like a duplicate of this question:  <a href=\"https://stackoverflow.com/q/74362785/131872\">stackoverflow.com/q/74362785/131872</a>. The answer in that question was that your SQL statement does nothing because you don&#39;t pass any data to the PreparedStatement. Same comment here."}],"owner":{"account_id":26884121,"reputation":11,"user_id":20464004,"display_name":"natsuken"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668057059,"creation_date":1668042249,"question_id":74383060,"body_markdown":"I tried to implement an event when the button is pressed by attaching an action listener to the insert, edit, delete, and search buttons.\r\nIt seems that the data in the database is not properly inserted, modified, deleted, or searched because of the wrong data manipulation language.\r\nAnd I want to output the result of manipulating the database data in JTextArea.\r\nHow to modify the source code?\r\n\r\n\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport javax.swing.border.Border;\r\nimport javax.swing.event.TableModelEvent;\r\nimport javax.swing.event.TableModelListener;\r\nimport javax.swing.table.DefaultTableModel;\r\nimport java.sql.*;\r\nimport java.util.*;\r\n\r\npublic class MovieManagement extends JFrame {\r\n\tContainer c = this.getContentPane();\r\n\r\n\tpublic teamMovie2() {\r\n\t\tthis.setSize(500, 400);\r\n\t\tthis.setTitle(&quot;movie&quot;);\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.setDesign();\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\r\n// gui\r\n\tprivate void setDesign() {\r\n\t\tc.setLayout(new BorderLayout());\r\n\t\tJPanel pTop = new JPanel(new GridLayout(0, 1));\r\n\t\tJPanel p1 = new JPanel(new FlowLayout());\r\n\t\tJPanel p2 = new JPanel(new FlowLayout());\r\n\t\tJPanel p3 = new JPanel(new FlowLayout());\r\n\t\tJPanel p4 = new JPanel(new FlowLayout());\r\n\t\tJPanel p5 = new JPanel(new FlowLayout());\r\n\t\t// p1\r\n\t\tJLabel title = new JLabel(&quot;title&quot;);\r\n\t\tJTextField title_tf = new JTextField(20);\r\n\t\tp1.add(title);\r\n\t\tp1.add(title_tf);\r\n\t\t// p2\r\n\t\tJLabel director = new JLabel(&quot;director&quot;);\r\n\t\tJTextField director_tf = new JTextField(20);\r\n\r\n\t\tJLabel genre = new JLabel(&quot;genre&quot;);\r\n\t\tString[] combGName = { &quot;all&quot;, &quot;action&quot;, &quot;comedy&quot;, &quot;drama&quot;, &quot;melo&quot;, &quot;horror/thriller&quot;, &quot;SF/fantasy&quot;, &quot;animation&quot; };\r\n\t\tJComboBox&lt;String&gt; combG = new JComboBox&lt;String&gt;(combGName);\r\n\r\n\t\tJLabel time = new JLabel(&quot;time&quot;);\r\n\t\tString[] combTName = {&quot;all&quot;, &quot;within 1hour&quot;, &quot;within an hour and a half&quot;, &quot;within 2hours&quot;, &quot;within two and a half hours&quot;};\r\n\t\tJComboBox&lt;String&gt; combT = new JComboBox&lt;String&gt;(combTName);\r\n\r\n\t\tJLabel mainActor = new JLabel(&quot;mainActor&quot;);\r\n\t\tJTextField mainActor_tf = new JTextField(20);\r\n\r\n\t\tJLabel rating = new JLabel(&quot;rating&quot;);\r\n\t\tString[] combRName = { &quot;all&quot;, &quot;r12&quot;, &quot;r15&quot;, &quot;r18&quot; };\r\n\t\tJComboBox&lt;String&gt; combR = new JComboBox&lt;String&gt;(combRName);\r\n\r\n\t\tJLabel country = new JLabel(&quot;country&quot;);\r\n\t\tString[] combCName = { &quot;all&quot;, &quot;america&quot;, &quot;asia&quot;, &quot;west&quot; };\r\n\t\tJComboBox&lt;String&gt; combC = new JComboBox&lt;String&gt;(combCName);\r\n\r\n\t\tp2.add(director);\r\n\t\tp2.add(director_tf);\r\n\t\tp2.add(genre);\r\n\t\tp2.add(combG);\r\n\t\tp2.add(time);\r\n\t\tp2.add(combT);\r\n\t\tp2.add(mainActor);\r\n\t\tp2.add(mainActor_tf);\r\n\t\tp2.add(rating);\r\n\t\tp2.add(combR);\r\n\t\tp2.add(country);\r\n\t\tp2.add(combC);\r\n\t\t// p3\r\n\t\tJButton btn1 = new JButton(&quot;insert&quot;);\r\n\t\tJButton btn2 = new JButton(&quot;update&quot;);\r\n\t\tJButton btn3 = new JButton(&quot;delete&quot;);\r\n\t\tp3.add(btn1);\r\n\t\tp3.add(btn2);\r\n\t\tp3.add(btn3);\r\n\t\t// p4\r\n\t\tJTextArea ta = new JTextArea(10, 40);\r\n\t\tBorder border = BorderFactory.createLineBorder(Color.BLACK);\r\n\t\tta.setBorder(BorderFactory.createCompoundBorder(border, BorderFactory.createEmptyBorder(5, 5, 5, 5)));\r\n\t\tp4.add(new JScrollPane(ta));\r\n\t\t// p5\r\n\t\tJButton seb = new JButton(&quot;search&quot;);\r\n\t\tp5.add(seb);\r\n\t\t// add panel to contentpane\r\n\t\tpTop.add(p1);\r\n\t\tpTop.add(p2);\r\n\t\tpTop.add(p3);\r\n\t\tc.add(pTop, BorderLayout.NORTH);\r\n\t\tc.add(p4, BorderLayout.CENTER);\r\n\t\tc.add(p5, BorderLayout.SOUTH);\r\n\r\n\t\t// data insert\r\n\t\tbtn1.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tJButton btn1  = (JButton)e.getSource();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\r\n\t\t\t\t\tString sql = &quot;INSERT INTO management VALUES (?,?,?,?,?,?,?)&quot;;\r\n\t\t\t\t\tPreparedStatement ps = con.prepareStatement(sql);\r\n\t\t\t\t\tps.executeUpdate();\r\n\t\t\t\t}\r\n\t\t\t\t catch (ClassNotFoundException e1) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t} catch (SQLException e1) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// data update\r\n\t\tbtn2.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tJButton btn2  = (JButton)e.getSource();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\r\n\t\t\t\t\tString sql = &quot;UPDATE management SET WHERE&quot;;\r\n\t\t\t\t\tPreparedStatement ps = con.prepareStatement(sql);\r\n\t\t\t\t\tps.executeUpdate();\r\n\t\t\t\t}\r\n\t\t\t\t catch (ClassNotFoundException e2) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te2.printStackTrace();\r\n\t\t\t\t} catch (SQLException e2) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te2.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t// data delete\r\n\t\t\t\tbtn3.addActionListener(new ActionListener() {\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\t\tJButton btn3  = (JButton)e.getSource();\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\t\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\r\n\t\t\t\t\t\t\tString sql = &quot;DELETE FROM management WHERE&quot;;\r\n\t\t\t\t\t\t\tPreparedStatement ps = con.prepareStatement(sql);\r\n\t\t\t\t\t\t\tps.executeUpdate();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t catch (ClassNotFoundException e3) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te3.printStackTrace();\r\n\t\t\t\t\t\t} catch (SQLException e3) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te3.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t// data search\r\n\t\t\t\tbtn4.addActionListener(new ActionListener() {\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\t\tJButton btn4  = (JButton)e.getSource();\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\t\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\r\n\t\t\t\t\t\t\tString sql = &quot;SELECT * FROM management&quot;;\r\n\t\t\t\t\t\t\tPreparedStatement ps = con.prepareStatement(sql);\r\n\t\t\t\t\t\t\tps.executeUpdate();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t catch (ClassNotFoundException e4) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te4.printStackTrace();\r\n\t\t\t\t\t\t} catch (SQLException e4) {\r\n\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\te4.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t}\r\n\r\n\t// VO \r\n\tclass MovieModel {\r\n\t\tString title; \r\n\t\tString director; \r\n\t\tString mainActor; \r\n\t\tString[] genre = {  &quot;all&quot;, &quot;action&quot;, &quot;comedy&quot;, &quot;drama&quot;, &quot;melo&quot;, &quot;horror/thriller&quot;, &quot;SF/fantasy&quot;, &quot;animation&quot; }; // genre\r\n\t\tString[] time = {&quot;all&quot;, &quot;within 1hour&quot;, &quot;within an hour and a half&quot;, &quot;within 2hours&quot;, &quot;within two and a half hours&quot; }; // running time\r\n\t\tString[] rating = {  &quot;all&quot;, &quot;r12&quot;, &quot;r15&quot;, &quot;r18&quot; }; // firm rating\r\n\t\tString[] country = { &quot;all&quot;, &quot;america&quot;, &quot;asia&quot;, &quot;west&quot; }; // country\r\n\r\n\t\tMovieModel(String title, String director, String[] genre, String[] time, String main_actor, String[] rating,\r\n\t\t\t\tString[] country) {\r\n\t\t\tthis.title = title;\r\n\t\t\tthis.director = director;\r\n\t\t\tthis.genre = genre;\r\n\t\t\tthis.time = time;\r\n\t\t\tthis.mainActor = main_actor;\r\n\t\t\tthis.rating = rating;\r\n\t\t\tthis.country = country;\r\n\r\n\t\t}\r\n\r\n\t\tpublic class MovieDAO {\r\n\t\t\t\r\n\t\t\tConnection con = null;\r\n\t\t\t\r\n\t\t\tStatement stmt = null;\r\n\t\t\t\r\n\t\t\tPreparedStatement ps = null;\r\n\t\t\t\r\n\t\t\tResultSet rs = null;\r\n\r\n\t\t\t// DB connect \r\n\t\t\tpublic Connection makeConnection() {\r\n\t\t\t\tString url = &quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;;\r\n\t\t\t\tString id = &quot;root&quot;;\r\n\t\t\t\tString password = &quot;1234&quot;;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;drive loading success&quot;);\r\n\t\t\t\t\tcon = DriverManager.getConnection(url, id, password);\r\n\t\t\t\t\tSystem.out.println(&quot;Database connection successful&quot;);\r\n\t\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t\tSystem.out.println(&quot;Driver not found&quot;);\r\n\t\t\t\t\te.getStackTrace();\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\tSystem.out.println(&quot;Connection failed&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;SQLEXception&quot; + e.getMessage());\r\n\t\t\t\t\tSystem.out.println(&quot;SQLState&quot; + e.getSQLState());\r\n\t\t\t\t\tSystem.out.println(&quot;VendorError&quot; + e.getErrorCode());\r\n\t\t\t\t}\r\n\t\t\t\treturn con;\r\n\t\t\t}\r\n\r\n\t\t\t/* DB close */\r\n\t\t\tpublic void disConnection() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (rs != null)\r\n\t\t\t\t\t\trs.close();\r\n\t\t\t\t\tif (stmt != null)\r\n\t\t\t\t\t\tstmt.close();\r\n\t\t\t\t\tif (ps != null)\r\n\t\t\t\t\t\tps.close();\r\n\t\t\t\t\tif (con != null)\r\n\t\t\t\t\t\tcon.close();\r\n\t\t\t\t} catch (SQLException e) {\r\n\t\t\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew MovieManagement();\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI googled mysql data manipulation language.","title":"How to make data insertion, modification, deletion, and search by pressing the j button in the jdbc program?","body":"<p>I tried to implement an event when the button is pressed by attaching an action listener to the insert, edit, delete, and search buttons.\nIt seems that the data in the database is not properly inserted, modified, deleted, or searched because of the wrong data manipulation language.\nAnd I want to output the result of manipulating the database data in JTextArea.\nHow to modify the source code?</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.border.Border;\nimport javax.swing.event.TableModelEvent;\nimport javax.swing.event.TableModelListener;\nimport javax.swing.table.DefaultTableModel;\nimport java.sql.*;\nimport java.util.*;\n\npublic class MovieManagement extends JFrame {\n    Container c = this.getContentPane();\n\n    public teamMovie2() {\n        this.setSize(500, 400);\n        this.setTitle(&quot;movie&quot;);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setDesign();\n        this.setVisible(true);\n    }\n\n// gui\n    private void setDesign() {\n        c.setLayout(new BorderLayout());\n        JPanel pTop = new JPanel(new GridLayout(0, 1));\n        JPanel p1 = new JPanel(new FlowLayout());\n        JPanel p2 = new JPanel(new FlowLayout());\n        JPanel p3 = new JPanel(new FlowLayout());\n        JPanel p4 = new JPanel(new FlowLayout());\n        JPanel p5 = new JPanel(new FlowLayout());\n        // p1\n        JLabel title = new JLabel(&quot;title&quot;);\n        JTextField title_tf = new JTextField(20);\n        p1.add(title);\n        p1.add(title_tf);\n        // p2\n        JLabel director = new JLabel(&quot;director&quot;);\n        JTextField director_tf = new JTextField(20);\n\n        JLabel genre = new JLabel(&quot;genre&quot;);\n        String[] combGName = { &quot;all&quot;, &quot;action&quot;, &quot;comedy&quot;, &quot;drama&quot;, &quot;melo&quot;, &quot;horror/thriller&quot;, &quot;SF/fantasy&quot;, &quot;animation&quot; };\n        JComboBox&lt;String&gt; combG = new JComboBox&lt;String&gt;(combGName);\n\n        JLabel time = new JLabel(&quot;time&quot;);\n        String[] combTName = {&quot;all&quot;, &quot;within 1hour&quot;, &quot;within an hour and a half&quot;, &quot;within 2hours&quot;, &quot;within two and a half hours&quot;};\n        JComboBox&lt;String&gt; combT = new JComboBox&lt;String&gt;(combTName);\n\n        JLabel mainActor = new JLabel(&quot;mainActor&quot;);\n        JTextField mainActor_tf = new JTextField(20);\n\n        JLabel rating = new JLabel(&quot;rating&quot;);\n        String[] combRName = { &quot;all&quot;, &quot;r12&quot;, &quot;r15&quot;, &quot;r18&quot; };\n        JComboBox&lt;String&gt; combR = new JComboBox&lt;String&gt;(combRName);\n\n        JLabel country = new JLabel(&quot;country&quot;);\n        String[] combCName = { &quot;all&quot;, &quot;america&quot;, &quot;asia&quot;, &quot;west&quot; };\n        JComboBox&lt;String&gt; combC = new JComboBox&lt;String&gt;(combCName);\n\n        p2.add(director);\n        p2.add(director_tf);\n        p2.add(genre);\n        p2.add(combG);\n        p2.add(time);\n        p2.add(combT);\n        p2.add(mainActor);\n        p2.add(mainActor_tf);\n        p2.add(rating);\n        p2.add(combR);\n        p2.add(country);\n        p2.add(combC);\n        // p3\n        JButton btn1 = new JButton(&quot;insert&quot;);\n        JButton btn2 = new JButton(&quot;update&quot;);\n        JButton btn3 = new JButton(&quot;delete&quot;);\n        p3.add(btn1);\n        p3.add(btn2);\n        p3.add(btn3);\n        // p4\n        JTextArea ta = new JTextArea(10, 40);\n        Border border = BorderFactory.createLineBorder(Color.BLACK);\n        ta.setBorder(BorderFactory.createCompoundBorder(border, BorderFactory.createEmptyBorder(5, 5, 5, 5)));\n        p4.add(new JScrollPane(ta));\n        // p5\n        JButton seb = new JButton(&quot;search&quot;);\n        p5.add(seb);\n        // add panel to contentpane\n        pTop.add(p1);\n        pTop.add(p2);\n        pTop.add(p3);\n        c.add(pTop, BorderLayout.NORTH);\n        c.add(p4, BorderLayout.CENTER);\n        c.add(p5, BorderLayout.SOUTH);\n\n        // data insert\n        btn1.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                JButton btn1  = (JButton)e.getSource();\n                try {\n                    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                    Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\n                    String sql = &quot;INSERT INTO management VALUES (?,?,?,?,?,?,?)&quot;;\n                    PreparedStatement ps = con.prepareStatement(sql);\n                    ps.executeUpdate();\n                }\n                 catch (ClassNotFoundException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                } catch (SQLException e1) {\n                    // TODO Auto-generated catch block\n                    e1.printStackTrace();\n                }\n            }\n        });\n\n        // data update\n        btn2.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                JButton btn2  = (JButton)e.getSource();\n                try {\n                    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                    Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\n                    String sql = &quot;UPDATE management SET WHERE&quot;;\n                    PreparedStatement ps = con.prepareStatement(sql);\n                    ps.executeUpdate();\n                }\n                 catch (ClassNotFoundException e2) {\n                    // TODO Auto-generated catch block\n                    e2.printStackTrace();\n                } catch (SQLException e2) {\n                    // TODO Auto-generated catch block\n                    e2.printStackTrace();\n                }\n            }\n        });\n        \n        // data delete\n                btn3.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent e) {\n                        JButton btn3  = (JButton)e.getSource();\n                        try {\n                            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\n                            String sql = &quot;DELETE FROM management WHERE&quot;;\n                            PreparedStatement ps = con.prepareStatement(sql);\n                            ps.executeUpdate();\n                        }\n                         catch (ClassNotFoundException e3) {\n                            // TODO Auto-generated catch block\n                            e3.printStackTrace();\n                        } catch (SQLException e3) {\n                            // TODO Auto-generated catch block\n                            e3.printStackTrace();\n                        }\n                    }\n                });\n                \n                // data search\n                btn4.addActionListener(new ActionListener() {\n                    public void actionPerformed(ActionEvent e) {\n                        JButton btn4  = (JButton)e.getSource();\n                        try {\n                            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                            Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;,&quot;root&quot;,&quot;1234&quot;);\n                            String sql = &quot;SELECT * FROM management&quot;;\n                            PreparedStatement ps = con.prepareStatement(sql);\n                            ps.executeUpdate();\n                        }\n                         catch (ClassNotFoundException e4) {\n                            // TODO Auto-generated catch block\n                            e4.printStackTrace();\n                        } catch (SQLException e4) {\n                            // TODO Auto-generated catch block\n                            e4.printStackTrace();\n                        }\n                    }\n                });\n\n    }\n\n    // VO \n    class MovieModel {\n        String title; \n        String director; \n        String mainActor; \n        String[] genre = {  &quot;all&quot;, &quot;action&quot;, &quot;comedy&quot;, &quot;drama&quot;, &quot;melo&quot;, &quot;horror/thriller&quot;, &quot;SF/fantasy&quot;, &quot;animation&quot; }; // genre\n        String[] time = {&quot;all&quot;, &quot;within 1hour&quot;, &quot;within an hour and a half&quot;, &quot;within 2hours&quot;, &quot;within two and a half hours&quot; }; // running time\n        String[] rating = {  &quot;all&quot;, &quot;r12&quot;, &quot;r15&quot;, &quot;r18&quot; }; // firm rating\n        String[] country = { &quot;all&quot;, &quot;america&quot;, &quot;asia&quot;, &quot;west&quot; }; // country\n\n        MovieModel(String title, String director, String[] genre, String[] time, String main_actor, String[] rating,\n                String[] country) {\n            this.title = title;\n            this.director = director;\n            this.genre = genre;\n            this.time = time;\n            this.mainActor = main_actor;\n            this.rating = rating;\n            this.country = country;\n\n        }\n\n        public class MovieDAO {\n            \n            Connection con = null;\n            \n            Statement stmt = null;\n            \n            PreparedStatement ps = null;\n            \n            ResultSet rs = null;\n\n            // DB connect \n            public Connection makeConnection() {\n                String url = &quot;jdbc:mysql://localhost/movie_db?serverTimezone=Asia/Seoul&quot;;\n                String id = &quot;root&quot;;\n                String password = &quot;1234&quot;;\n                try {\n                    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                    System.out.println(&quot;drive loading success&quot;);\n                    con = DriverManager.getConnection(url, id, password);\n                    System.out.println(&quot;Database connection successful&quot;);\n                } catch (ClassNotFoundException e) {\n                    System.out.println(&quot;Driver not found&quot;);\n                    e.getStackTrace();\n                } catch (SQLException e) {\n                    System.out.println(&quot;Connection failed&quot;);\n                    System.out.println(&quot;SQLEXception&quot; + e.getMessage());\n                    System.out.println(&quot;SQLState&quot; + e.getSQLState());\n                    System.out.println(&quot;VendorError&quot; + e.getErrorCode());\n                }\n                return con;\n            }\n\n            /* DB close */\n            public void disConnection() {\n                try {\n                    if (rs != null)\n                        rs.close();\n                    if (stmt != null)\n                        stmt.close();\n                    if (ps != null)\n                        ps.close();\n                    if (con != null)\n                        con.close();\n                } catch (SQLException e) {\n                    System.out.println(e.getMessage());\n                }\n            }\n\n        }\n    }\n\n    \n\n    public static void main(String[] args) {\n        new MovieManagement();\n    }\n}\n</code></pre>\n<p>I googled mysql data manipulation language.</p>\n"},{"tags":["java","apache-poi","conditional-formatting"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1667982902,"post_id":74370667,"comment_id":131295158,"body_markdown":"How would you do it in Excel? If you do it in Excel, save the file as XLSX and unzip the file, how did Excel encode it?","body":"How would you do it in Excel? If you do it in Excel, save the file as XLSX and unzip the file, how did Excel encode it?"},{"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"score":0,"creation_date":1667984348,"post_id":74370667,"comment_id":131295630,"body_markdown":"in excel I did it manually with these test data and colored to red for reference. I am looking for a solution using conditional formatting in java","body":"in excel I did it manually with these test data and colored to red for reference. I am looking for a solution using conditional formatting in java"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1667986679,"post_id":74370667,"comment_id":131296475,"body_markdown":"Save the file from Excel which is doing it right, then rename `.xlsx` to `.zip` and unzip, then check what Excel did. That will guide you to what you need to do in Apache POI","body":"Save the file from Excel which is doing it right, then rename <code>.xlsx</code> to <code>.zip</code> and unzip, then check what Excel did. That will guide you to what you need to do in Apache POI"},{"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"score":0,"creation_date":1667988153,"post_id":74370667,"comment_id":131296979,"body_markdown":"Actually, i am trying to generate xlsx file from java","body":"Actually, i am trying to generate xlsx file from java"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1667989836,"post_id":74370667,"comment_id":131297573,"body_markdown":"In order to see what you need to tell Apache POI to do, often the easiest way is to see what Excel itself does. So follow my advice above and do that!","body":"In order to see what you need to tell Apache POI to do, often the easiest way is to see what Excel itself does. So follow my advice above and do that!"},{"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"score":0,"creation_date":1667991284,"post_id":74370667,"comment_id":131298072,"body_markdown":"Thanks Gargavar will check on that.. FYI This excel formula worked =ISERROR(SUM(MATCH(FILTERXML(&quot;&lt;t&gt;&lt;s&gt;&quot;&amp;SUBSTITUTE(B3,&quot;,&quot;,&quot;&lt;/s&gt;&lt;s&gt;&quot;)&amp;&quot;&lt;/s&gt;&lt;/t&gt;&quot;,&quot;//s&quot;),H$4:H$7,0)))  but trying to translate that into java code that&#39;s where i got stuck. For reference ( https://stackoverflow.com/questions/74362810/excel-to-check-if-comma-separated-value-in-cell-contains-allowed-values-in-list/74363109#74363109 )","body":"Thanks Gargavar will check on that.. FYI This excel formula worked =ISERROR(SUM(MATCH(FILTERXML(&quot;&lt;t&gt;&lt;s&gt;&quot;&amp;SUBSTITUTE(B3,&quot;,&quot;,&quot;&lt;/s&zwnj;&#8203;&gt;&lt;s&gt;&quot;)&amp;&quot;&lt;/s&gt;&lt;/t&gt;&quot;,&quot;/&zwnj;&#8203;/s&quot;),H$4:H$7,0)))  but trying to translate that into java code that&#39;s where i got stuck. For reference ( <a href=\"https://stackoverflow.com/questions/74362810/excel-to-check-if-comma-separated-value-in-cell-contains-allowed-values-in-list/74363109#74363109\" title=\"excel to check if comma separated value in cell contains allowed values in list\">stackoverflow.com/questions/74362810/&hellip;</a> )"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1667996570,"post_id":74370667,"comment_id":131299928,"body_markdown":"Do you want to save a conditional format inside excel (so that it changes dynamically when you manually change the data) or do you want to format the sheet in Java depending on the values that are filled in the cells at the time of creation, but the formatting doesn&#39;t change when you change the value in Excel?","body":"Do you want to save a conditional format inside excel (so that it changes dynamically when you manually change the data) or do you want to format the sheet in Java depending on the values that are filled in the cells at the time of creation, but the formatting doesn&#39;t change when you change the value in Excel?"},{"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"score":0,"creation_date":1668006159,"post_id":74370667,"comment_id":131303629,"body_markdown":"@cyberbrain  Yes..conditional format inside excel (so that it changes dynamically when you manually change the data).     I am creating this excel in java by including conditional format as well.  So in the generated excel,if someone  enter a incorrect value it should be highlighted be in RED.","body":"@cyberbrain  Yes..conditional format inside excel (so that it changes dynamically when you manually change the data).     I am creating this excel in java by including conditional format as well.  So in the generated excel,if someone  enter a incorrect value it should be highlighted be in RED."}],"owner":{"account_id":19313733,"reputation":355,"user_id":14118943,"display_name":"Chennai Cheetah"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668056729,"creation_date":1667974964,"question_id":74370667,"body_markdown":"I am trying to generate xlsx file with conditional formatting using apache.poi in java.  If comma-separated string values are not present, then in excel cell then I need to highlight red colour.\r\n\r\nSomething like this for reference\r\n\r\nHere these are the **possible values =&quot;TX,NC,AZ,CA&quot;**, If anything other than these entered in cell. It should be highlighted. Entered value in excel can be single or comma-separated as well.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n```\r\n\t\t\tString possiblevalues =&quot;TX,NC,AZ,CA&quot;;\r\n\t\t\t\r\n\t\t\tConditionalFormattingRule rule11 = sheetCF.createConditionalFormattingRule(&lt;&lt;&gt;&gt;);\r\n\t\t\torg.apache.poi.ss.usermodel.FontFormatting font11 = rule11.createFontFormatting();\r\n\t\t\tfont11.setFontStyle(false, true);\r\n\t\t\tfont11.setFontColorIndex(IndexedColors.RED.index);\r\n\t\t\tString cellrangeadd1 = &quot;A4:A100&quot;;\r\n\t\t\tCellRangeAddress[] regions1 = new CellRangeAddress[] { CellRangeAddress.valueOf(cellrangeadd1) };\r\n\t\t\tsheetCF.addConditionalFormatting(regions1, rule11);\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G7wiw.png\r\n\r\n\r\nIs there any conditional formatting rule to compare and validate from comma separated string value ?","title":"Apache POI Conditional formatting for comma separated values mismatch","body":"<p>I am trying to generate xlsx file with conditional formatting using apache.poi in java.  If comma-separated string values are not present, then in excel cell then I need to highlight red colour.</p>\n<p>Something like this for reference</p>\n<p>Here these are the <strong>possible values =&quot;TX,NC,AZ,CA&quot;</strong>, If anything other than these entered in cell. It should be highlighted. Entered value in excel can be single or comma-separated as well.</p>\n<p><a href=\"https://i.stack.imgur.com/G7wiw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G7wiw.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>            String possiblevalues =&quot;TX,NC,AZ,CA&quot;;\n            \n            ConditionalFormattingRule rule11 = sheetCF.createConditionalFormattingRule(&lt;&lt;&gt;&gt;);\n            org.apache.poi.ss.usermodel.FontFormatting font11 = rule11.createFontFormatting();\n            font11.setFontStyle(false, true);\n            font11.setFontColorIndex(IndexedColors.RED.index);\n            String cellrangeadd1 = &quot;A4:A100&quot;;\n            CellRangeAddress[] regions1 = new CellRangeAddress[] { CellRangeAddress.valueOf(cellrangeadd1) };\n            sheetCF.addConditionalFormatting(regions1, rule11);\n</code></pre>\n<p>Is there any conditional formatting rule to compare and validate from comma separated string value ?</p>\n"},{"tags":["java","apache-spark","spark-streaming","apache-pulsar"],"comments":[{"owner":{"account_id":19075364,"reputation":444,"user_id":13928752,"display_name":"RakeshV"},"score":0,"creation_date":1695120783,"post_id":74384351,"comment_id":135978831,"body_markdown":"I am also looking answer for this, for me its because pulsar allows schema evolution but using `streamnative` connector spark or not sure what messes up with pulsar schema versioning. schema evolution works with pulsar python client and java client.","body":"I am also looking answer for this, for me its because pulsar allows schema evolution but using <code>streamnative</code> connector spark or not sure what messes up with pulsar schema versioning. schema evolution works with pulsar python client and java client."}],"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668056518,"creation_date":1668056518,"question_id":74384351,"body_markdown":"There are 2 approaches of integrating apache kafka with apache spark as mentioned [here][1] with pros and cons.\r\n\r\nFrom what i have read there are 2 spark connector for apache pulsar\r\n1. [org.apache.pulsar:pulsar-spark][2]\r\n2. [io.streamnative.connectors:pulsar-spark-connector_2.12][3]\r\n\r\nCan someone please help me understand if \r\n1. they are following receiver based approach or direct approach? \r\n2. What is the core difference between both the connectors? \r\n3. Is there a possibility of data loss if my job fails while it is processing some batch.\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/2.4.5/streaming-kafka-0-8-integration.html\r\n  [2]: https://pulsar.apache.org/docs/adaptors-spark/\r\n  [3]: https://github.com/streamnative/pulsar-spark/tree/3.1.1.4","title":"apache pulsar Direct approach with Apache spark","body":"<p>There are 2 approaches of integrating apache kafka with apache spark as mentioned <a href=\"https://spark.apache.org/docs/2.4.5/streaming-kafka-0-8-integration.html\" rel=\"nofollow noreferrer\">here</a> with pros and cons.</p>\n<p>From what i have read there are 2 spark connector for apache pulsar</p>\n<ol>\n<li><a href=\"https://pulsar.apache.org/docs/adaptors-spark/\" rel=\"nofollow noreferrer\">org.apache.pulsar:pulsar-spark</a></li>\n<li><a href=\"https://github.com/streamnative/pulsar-spark/tree/3.1.1.4\" rel=\"nofollow noreferrer\">io.streamnative.connectors:pulsar-spark-connector_2.12</a></li>\n</ol>\n<p>Can someone please help me understand if</p>\n<ol>\n<li>they are following receiver based approach or direct approach?</li>\n<li>What is the core difference between both the connectors?</li>\n<li>Is there a possibility of data loss if my job fails while it is processing some batch.</li>\n</ol>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"score":0,"creation_date":1668021795,"post_id":74380270,"comment_id":131309302,"body_markdown":"It&#39;s unclear how all the stubbing you have done is involved in the actual method you invoke.  What is `treatmentOrderService`?  How is it initialized?  Does it contain the actual objects that you have stubbed in this method?","body":"It&#39;s unclear how all the stubbing you have done is involved in the actual method you invoke.  What is <code>treatmentOrderService</code>?  How is it initialized?  Does it contain the actual objects that you have stubbed in this method?"},{"owner":{"account_id":26881919,"reputation":1,"user_id":20462184,"display_name":"te queiro"},"score":0,"creation_date":1668022601,"post_id":74380270,"comment_id":131309540,"body_markdown":"treatmentOrderService added","body":"treatmentOrderService added"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1668023105,"post_id":74380270,"comment_id":131309679,"body_markdown":"Have you stepped through with a debugger, to identify which line it is actually getting stuck at ?","body":"Have you stepped through with a debugger, to identify which line it is actually getting stuck at ?"},{"owner":{"account_id":26881919,"reputation":1,"user_id":20462184,"display_name":"te queiro"},"score":0,"creation_date":1668025263,"post_id":74380270,"comment_id":131310322,"body_markdown":"added the debug result","body":"added the debug result"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1668044209,"post_id":74380270,"comment_id":131314403,"body_markdown":"You only mock `.get()`, not `.join()`, which will still wait the result is there (that is... never).","body":"You only mock <code>.get()</code>, not <code>.join()</code>, which will still wait the result is there (that is... never)."}],"answers":[{"comments":[{"owner":{"account_id":370001,"reputation":420,"user_id":717683,"display_name":"pzelenovic"},"score":0,"creation_date":1668026962,"post_id":74381025,"comment_id":131310882,"body_markdown":"what is the return type of tDService.getData() function?","body":"what is the return type of tDService.getData() function?"},{"owner":{"account_id":26881919,"reputation":1,"user_id":20462184,"display_name":"te queiro"},"score":0,"creation_date":1668027063,"post_id":74381025,"comment_id":131310913,"body_markdown":"PatientTreatmentDetails","body":"PatientTreatmentDetails"},{"owner":{"account_id":370001,"reputation":420,"user_id":717683,"display_name":"pzelenovic"},"score":0,"creation_date":1668027365,"post_id":74381025,"comment_id":131311010,"body_markdown":"Then I was wrong, I&#39;ll change my answer soon.","body":"Then I was wrong, I&#39;ll change my answer soon."},{"owner":{"account_id":26881919,"reputation":1,"user_id":20462184,"display_name":"te queiro"},"score":0,"creation_date":1668028069,"post_id":74381025,"comment_id":131311240,"body_markdown":"getting this error","body":"getting this error"},{"owner":{"account_id":370001,"reputation":420,"user_id":717683,"display_name":"pzelenovic"},"score":0,"creation_date":1668028403,"post_id":74381025,"comment_id":131311332,"body_markdown":"Sorry, I made a mistake, I edited my answer again. Please try it like this:  doThrow(InterruptedException.class).when(pdFuture).get();","body":"Sorry, I made a mistake, I edited my answer again. Please try it like this:  doThrow(InterruptedException.class).when(pdFuture).get();"},{"owner":{"account_id":26881919,"reputation":1,"user_id":20462184,"display_name":"te queiro"},"score":0,"creation_date":1668032156,"post_id":74381025,"comment_id":131312362,"body_markdown":"the test keep on running but not executing","body":"the test keep on running but not executing"},{"owner":{"account_id":26881919,"reputation":1,"user_id":20462184,"display_name":"te queiro"},"score":0,"creation_date":1668032401,"post_id":74381025,"comment_id":131312417,"body_markdown":"same issue is coming again while debugging","body":"same issue is coming again while debugging"},{"owner":{"account_id":370001,"reputation":420,"user_id":717683,"display_name":"pzelenovic"},"score":0,"creation_date":1668057251,"post_id":74381025,"comment_id":131316139,"body_markdown":"So answer accepted? :)","body":"So answer accepted? :)"}],"tags":[],"owner":{"account_id":370001,"reputation":420,"user_id":717683,"display_name":"pzelenovic"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668028282,"creation_date":1668025815,"answer_id":74381025,"question_id":74380270,"body_markdown":"Try to rewrite this part\r\n\r\n    CompletableFuture&lt;List&lt;HDTreatmentOrder&gt;&gt; hdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\r\n    when(hdFuture.get()).thenThrow(new InterruptedException())\r\n\r\nas\r\n\r\n    doThrow(InterruptedException.class).when(hdFuture).get();\r\n\r\nThe same for the other spy:\r\n\r\n    CompletableFuture&lt;List&lt;PDTreatmentOrder&gt;&gt; pdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\r\n    when(pdFuture.get()).thenThrow(new InterruptedException());\r\n\r\nas\r\n\r\n    doThrow(InterruptedException.class).when(pdFuture).get();","title":"test method is running infinitely until i forcebly stop it","body":"<p>Try to rewrite this part</p>\n<pre><code>CompletableFuture&lt;List&lt;HDTreatmentOrder&gt;&gt; hdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\nwhen(hdFuture.get()).thenThrow(new InterruptedException())\n</code></pre>\n<p>as</p>\n<pre><code>doThrow(InterruptedException.class).when(hdFuture).get();\n</code></pre>\n<p>The same for the other spy:</p>\n<pre><code>CompletableFuture&lt;List&lt;PDTreatmentOrder&gt;&gt; pdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\nwhen(pdFuture.get()).thenThrow(new InterruptedException());\n</code></pre>\n<p>as</p>\n<pre><code>doThrow(InterruptedException.class).when(pdFuture).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":519535,"reputation":2273,"user_id":1303158,"display_name":"Bernie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668043480,"creation_date":1668043480,"answer_id":74383182,"question_id":74380270,"body_markdown":"When spying on the `CompletableFuture`s like that, they don&#39;t seem to be considered &quot;completed&quot; by `CompletableFuture.join()`.\r\n\r\nI think what you should use instead is:\r\n\r\n    when(hdService.getData(any(), any())).thenReturn(CompletableFuture.failedFuture(new InterruptedException()));\r\n    when(pdService.getData(any(), any())).thenReturn(CompletableFuture.failedFuture(new InterruptedException()));\r\n\r\nand you don&#39;t need the `hdFuture` and `pdFuture` spies.\r\n\r\nYour exception handling in `TreatmentOrderService` may need fixing, but the test completes instead of hanging.","title":"test method is running infinitely until i forcebly stop it","body":"<p>When spying on the <code>CompletableFuture</code>s like that, they don't seem to be considered &quot;completed&quot; by <code>CompletableFuture.join()</code>.</p>\n<p>I think what you should use instead is:</p>\n<pre><code>when(hdService.getData(any(), any())).thenReturn(CompletableFuture.failedFuture(new InterruptedException()));\nwhen(pdService.getData(any(), any())).thenReturn(CompletableFuture.failedFuture(new InterruptedException()));\n</code></pre>\n<p>and you don't need the <code>hdFuture</code> and <code>pdFuture</code> spies.</p>\n<p>Your exception handling in <code>TreatmentOrderService</code> may need fixing, but the test completes instead of hanging.</p>\n"},{"tags":[],"owner":{"account_id":519535,"reputation":2273,"user_id":1303158,"display_name":"Bernie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668044490,"creation_date":1668044099,"answer_id":74383226,"question_id":74380270,"body_markdown":"Actually, there is probably no need for the `CompletableFuture.join()`. Since you&#39;re doing the `.get()`s in the next line, the thread will block at that point until the futures complete one way or another anyway.\r\n\r\nSimply removing the `CompletableFuture.allOf(...).join()` lines (and the modifications recommended by @pzelenovic) result in the test passing (except for unnecessary stubbings...).","title":"test method is running infinitely until i forcebly stop it","body":"<p>Actually, there is probably no need for the <code>CompletableFuture.join()</code>. Since you're doing the <code>.get()</code>s in the next line, the thread will block at that point until the futures complete one way or another anyway.</p>\n<p>Simply removing the <code>CompletableFuture.allOf(...).join()</code> lines (and the modifications recommended by @pzelenovic) result in the test passing (except for unnecessary stubbings...).</p>\n"}],"owner":{"account_id":26881919,"reputation":1,"user_id":20462184,"display_name":"te queiro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1668054800,"creation_date":1668021478,"question_id":74380270,"body_markdown":"```\r\n@Test\r\nvoid interruptedExceptionThrownByCompletableFutures() throws InterruptedException, ExecutionException {\r\n    //given\r\n    when(patientsClient.getPatientTreatmentDetails(RPT_TOKEN, &quot;123&quot;, CLINICAL_ID))\r\n            .thenReturn(createPatientTreatmentDetails());\r\n    CompletableFuture&lt;List&lt;HDTreatmentOrder&gt;&gt; hdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\r\n    when(hdFuture.get()).thenThrow(new InterruptedException());\r\n\r\n    CompletableFuture&lt;List&lt;PDTreatmentOrder&gt;&gt; pdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\r\n    when(pdFuture.get()).thenThrow(new InterruptedException());\r\n\r\n    when(hdService.getData(any(), any())).thenReturn(hdFuture);\r\n    when(pdService.getData(any(), any())).thenReturn(pdFuture);\r\n\r\n    when(tDService.getData(RPT_TOKEN,\r\n            &quot;123&quot;, filter)).thenReturn(CompletableFuture.completedFuture(new PatientTreatmentDetails()));\r\n    //then\r\n    assertThrows(PatientOrderException.class, () -&gt; treatmentOrderService.getTreatmentOrders(&quot;123&quot;, filter, RPT_TOKEN));\r\n}\r\n\r\n\r\n```\r\nThis is treatMentOrderService\r\npublic class TreatmentOrderService {\r\n\r\n    private final HDTreatmentOrderService hdService;\r\n    private final PDTreatmentOrderService pdService;\r\n    private final TreatmentDetailsService tDService;\r\n    private final TreatmentOrderTransform transformer;\r\n    private final DenodoLastTreatmentDetailsService denodoLastTreatmentDetailsService;\r\n\r\n   \r\n        CompletableFuture&lt;List&lt;PDTreatmentOrder&gt;&gt; pdFuture = pdService.getData(mpi, filter);\r\n        try {\r\n            if (filter.isIncludeTreatmentDetails() &amp;&amp; StringUtils.isNotEmpty(filter.getClinicId())) {\r\n                CompletableFuture&lt;PatientTreatmentDetails&gt; tDFuture = tDService.getData(rptToken, mpi, filter);\r\n                CompletableFuture.allOf(hdFuture, pdFuture, tDFuture).join();\r\n                return transformer.transform(hdFuture.get(), pdFuture.get(), tDFuture.get(), filter);\r\n            } else {\r\n                CompletableFuture.allOf(hdFuture, pdFuture).join();\r\n                return transformer.transform(hdFuture.get(), pdFuture.get(), null, filter);\r\n            }\r\n        } catch (InterruptedException e) {\r\n            log.error(&quot;InterruptedException: &quot;, e);\r\n            Thread.currentThread().interrupt();\r\n            throw new PatientOrderException(&quot;Failed executing async tasks: &quot; + e.getMessage());\r\n        } catch (ExecutionException e) {\r\n            log.error(&quot;ExecutionException: &quot;, e);\r\n            throw new PatientOrderException(&quot;Failed executing async tasks: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\nNov 09, 2022 12:44:51 PM org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7\r\nINFO: 0 containers and 20 tests were Method or class mismatch\r\n\r\n\r\nPatientTreatmentDetails cannot be returned by toString()\r\ntoString() should return String\r\n***\r\nIf you&#39;re unsure why you&#39;re getting above error read on.\r\nDue to the nature of the syntax above problem might occur because:\r\n1. This exception *might* occur in wrongly written multi-threaded tests.\r\n   Please refer to Mockito FAQ on limitations of concurrency testing.\r\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \r\n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\r\n\r\norg.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\nPatientTreatmentDetails cannot be returned by toString()\r\ntoString() should return String\r\n***\r\nIf you&#39;re unsure why you&#39;re getting above error read on.\r\nDue to the nature of the syntax above problem might occur because:\r\n1. This exception *might* occur in wrongly written multi-threaded tests.\r\n   Please refer to Mockito FAQ on limitations of concurrency testing.\r\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \r\n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\r\n\r\n\tat app//com.davita.ehr.orders.patientorder.service.TreatmentOrderServiceTest.setup(TreatmentOrderServiceTest.java:84)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:126)\r\n\tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:76)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:506)\r\n\tat app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$21(ClassBasedTestDescriptor.java:491)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:171)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:199)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:199)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:168)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy5.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\r\n\r\nDisconnected from the target VM, address: &#39;localhost:51661&#39;, transport: &#39;socket&#39;\r\nTreatmentOrderServiceTest &gt; interruptedExceptionThrownByCompletableFutures() FAILED\r\n    org.mockito.exceptions.misusing.WrongTypeOfReturnValue at TreatmentOrderServiceTest.java:84\r\n```\r\n\r\n-&gt; This test is not executing and when i run this individually this is running continuously until i stop. i&#39;m thinking there is some thing wrong with this test especially the completable future with spy.\r\n\r\nusing java 17\r\nspringboot 2.6.6\r\njunit 5\r\ngradle 7.4.2","title":"test method is running infinitely until i forcebly stop it","body":"<pre><code>@Test\nvoid interruptedExceptionThrownByCompletableFutures() throws InterruptedException, ExecutionException {\n    //given\n    when(patientsClient.getPatientTreatmentDetails(RPT_TOKEN, &quot;123&quot;, CLINICAL_ID))\n            .thenReturn(createPatientTreatmentDetails());\n    CompletableFuture&lt;List&lt;HDTreatmentOrder&gt;&gt; hdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\n    when(hdFuture.get()).thenThrow(new InterruptedException());\n\n    CompletableFuture&lt;List&lt;PDTreatmentOrder&gt;&gt; pdFuture = spy(CompletableFuture.completedFuture(Collections.emptyList()));\n    when(pdFuture.get()).thenThrow(new InterruptedException());\n\n    when(hdService.getData(any(), any())).thenReturn(hdFuture);\n    when(pdService.getData(any(), any())).thenReturn(pdFuture);\n\n    when(tDService.getData(RPT_TOKEN,\n            &quot;123&quot;, filter)).thenReturn(CompletableFuture.completedFuture(new PatientTreatmentDetails()));\n    //then\n    assertThrows(PatientOrderException.class, () -&gt; treatmentOrderService.getTreatmentOrders(&quot;123&quot;, filter, RPT_TOKEN));\n}\n\n\n</code></pre>\n<p>This is treatMentOrderService\npublic class TreatmentOrderService {</p>\n<pre><code>private final HDTreatmentOrderService hdService;\nprivate final PDTreatmentOrderService pdService;\nprivate final TreatmentDetailsService tDService;\nprivate final TreatmentOrderTransform transformer;\nprivate final DenodoLastTreatmentDetailsService denodoLastTreatmentDetailsService;\n\n\n    CompletableFuture&lt;List&lt;PDTreatmentOrder&gt;&gt; pdFuture = pdService.getData(mpi, filter);\n    try {\n        if (filter.isIncludeTreatmentDetails() &amp;&amp; StringUtils.isNotEmpty(filter.getClinicId())) {\n            CompletableFuture&lt;PatientTreatmentDetails&gt; tDFuture = tDService.getData(rptToken, mpi, filter);\n            CompletableFuture.allOf(hdFuture, pdFuture, tDFuture).join();\n            return transformer.transform(hdFuture.get(), pdFuture.get(), tDFuture.get(), filter);\n        } else {\n            CompletableFuture.allOf(hdFuture, pdFuture).join();\n            return transformer.transform(hdFuture.get(), pdFuture.get(), null, filter);\n        }\n    } catch (InterruptedException e) {\n        log.error(&quot;InterruptedException: &quot;, e);\n        Thread.currentThread().interrupt();\n        throw new PatientOrderException(&quot;Failed executing async tasks: &quot; + e.getMessage());\n    } catch (ExecutionException e) {\n        log.error(&quot;ExecutionException: &quot;, e);\n        throw new PatientOrderException(&quot;Failed executing async tasks: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>}</p>\n<pre><code>Nov 09, 2022 12:44:51 PM org.junit.platform.launcher.core.EngineDiscoveryOrchestrator lambda$logTestDescriptorExclusionReasons$7\nINFO: 0 containers and 20 tests were Method or class mismatch\n\n\nPatientTreatmentDetails cannot be returned by toString()\ntoString() should return String\n***\nIf you're unsure why you're getting above error read on.\nDue to the nature of the syntax above problem might occur because:\n1. This exception *might* occur in wrongly written multi-threaded tests.\n   Please refer to Mockito FAQ on limitations of concurrency testing.\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\n\norg.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nPatientTreatmentDetails cannot be returned by toString()\ntoString() should return String\n***\nIf you're unsure why you're getting above error read on.\nDue to the nature of the syntax above problem might occur because:\n1. This exception *might* occur in wrongly written multi-threaded tests.\n   Please refer to Mockito FAQ on limitations of concurrency testing.\n2. A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies - \n   - with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.\n\n    at app//com.davita.ehr.orders.patientorder.service.TreatmentOrderServiceTest.setup(TreatmentOrderServiceTest.java:84)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:126)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:76)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at app//org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:506)\n    at app//org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$21(ClassBasedTestDescriptor.java:491)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:171)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:199)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:199)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:168)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy2/jdk.proxy2.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n\n\nDisconnected from the target VM, address: 'localhost:51661', transport: 'socket'\nTreatmentOrderServiceTest &gt; interruptedExceptionThrownByCompletableFutures() FAILED\n    org.mockito.exceptions.misusing.WrongTypeOfReturnValue at TreatmentOrderServiceTest.java:84\n</code></pre>\n<p>-&gt; This test is not executing and when i run this individually this is running continuously until i stop. i'm thinking there is some thing wrong with this test especially the completable future with spy.</p>\n<p>using java 17\nspringboot 2.6.6\njunit 5\ngradle 7.4.2</p>\n"},{"tags":["java","java-native-interface","jvmti"],"answers":[{"tags":[],"owner":{"account_id":906468,"reputation":263,"user_id":941261,"accept_rate":14,"display_name":"brian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668054711,"creation_date":1668054711,"answer_id":74384173,"question_id":74379625,"body_markdown":"FYI, wrapping the shared global variables in another shared library (.so) file solved my problem.","title":"Is it possible for one Java native agent to access symbols exposed by another Java native agent?","body":"<p>FYI, wrapping the shared global variables in another shared library (.so) file solved my problem.</p>\n"}],"owner":{"account_id":906468,"reputation":263,"user_id":941261,"accept_rate":14,"display_name":"brian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668054711,"creation_date":1668017805,"question_id":74379625,"body_markdown":"I have two Java native agents to be used via the &quot;-agentpath&quot; argument and I want to share some state via global variables between these two native agents. If I export a global variable in one native agent, can it be accessed by the other native agent? Thank you!","title":"Is it possible for one Java native agent to access symbols exposed by another Java native agent?","body":"<p>I have two Java native agents to be used via the &quot;-agentpath&quot; argument and I want to share some state via global variables between these two native agents. If I export a global variable in one native agent, can it be accessed by the other native agent? Thank you!</p>\n"},{"tags":["java","youtube-api","android-youtube-api"],"owner":{"account_id":25790462,"reputation":9,"user_id":19534611,"display_name":"Matrix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668054534,"creation_date":1668054390,"question_id":74384138,"body_markdown":"I&#39;m making an app where user can increase their channel subscribers by sub4sub. But problems is that I want get all subscribers list of user channel for verify that user subscribe or not. Question is this how I can get all subscribers of user channel.\r\n\r\nBut from this code I only get user channel id not getting user subscribers list. \r\n\r\nOne more questions I want put user channel I&#39;d into hashmap\r\nPlease tell me how I can do. \r\n\r\n\r\nI tried this\r\n\r\n\r\n```\r\nprivate class GetSubscriptionTask extends AsyncTask&lt;Account, Void, List&lt;Subscription&gt;&gt; {\r\n\r\n\t\t@Override\r\n\t\tprotected List&lt;Subscription&gt; doInBackground(Account... params) {\r\n\t\t\tLog.d(TAG, &quot;doInBackground: &quot;);\r\n\t\t\ttry {\r\n\t\t\t\tGoogleAccountCredential credential = GoogleAccountCredential.usingOAuth2(\r\n                   LoginActivity.this,\r\n                    Collections.singleton(YouTubeScopes.YOUTUBE_READONLY));\r\n\t\t\t\tcredential.setSelectedAccount(params[0]);\r\n\r\n\t\t\t\tYouTube youtube = new YouTube.Builder(HTTP_TRANSPORT, JSON_FACTORY, credential)\r\n                    .setApplicationName(&quot;Get User&#39;s Own Channel&quot;)\r\n                    .build();\r\n\r\n\t\t\t\tChannelListResponse channelListResponse = youtube\r\n                    .channels()\r\n                    .list(&quot;id,contentDetails&quot;)\r\n                    .setMine(true)\r\n                    .setFields(&quot;items(contentDetails/relatedPlaylists/uploads,id)&quot;)\r\n                    .execute();\r\n\r\n\t\t\t\t// get signed user channel id:\r\n\t\t\t\tChannel myChannel = channelListResponse.getItems().get(0);\r\n\t\t\t\tString channelId = myChannel.getId(); // this is user&#39;s channel ID\r\n\r\n\t\t\t\tLog.d(TAG, &quot;my youtube channel id: &quot; + channelId);\r\n\r\n\t\t\t\tSubscriptionListResponse connectionsResponse = youtube\r\n                    .subscriptions()\r\n                    .list(&quot;snippet&quot;)\r\n                    .setChannelId(channelId)\r\n                    .execute();\r\n\r\n\t\t\t\treturn connectionsResponse.getItems();\r\n\t\t\t} catch (UserRecoverableAuthIOException userRecoverableException) {\r\n\t\t\t\tLog.d(TAG, &quot;getSubscription:recoverable exception&quot;+userRecoverableException.getLocalizedMessage());\r\n\t\t\t\tstartActivityForResult(userRecoverableException.getIntent(), RC_RECOVERABLE);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tLog.d(TAG, &quot;getSubscription:exception&quot;+e.getLocalizedMessage());\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected void onPostExecute(List&lt;Subscription&gt; subscriptions) {\r\n\r\n\t\t\tif (subscriptions != null) {\r\n\t\t\t\tLog.d(TAG, &quot;subscriptions : size=&quot; + subscriptions.size());\r\n\t\t\t\tfor (Subscription subscription : subscriptions) {\r\n\t\t\t\t\tLog.v(TAG, &quot;subscription : &quot; + subscription.getId());\r\n\t\t\t\t\tdisplayToast(subscription.getId());\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(TAG, &quot;subscriptions: null&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n","title":"How to get YouTube Channel Subscribers and set them in a recycler view like list view?","body":"<p>I'm making an app where user can increase their channel subscribers by sub4sub. But problems is that I want get all subscribers list of user channel for verify that user subscribe or not. Question is this how I can get all subscribers of user channel.</p>\n<p>But from this code I only get user channel id not getting user subscribers list.</p>\n<p>One more questions I want put user channel I'd into hashmap\nPlease tell me how I can do.</p>\n<p>I tried this</p>\n<pre><code>private class GetSubscriptionTask extends AsyncTask&lt;Account, Void, List&lt;Subscription&gt;&gt; {\n\n        @Override\n        protected List&lt;Subscription&gt; doInBackground(Account... params) {\n            Log.d(TAG, &quot;doInBackground: &quot;);\n            try {\n                GoogleAccountCredential credential = GoogleAccountCredential.usingOAuth2(\n                   LoginActivity.this,\n                    Collections.singleton(YouTubeScopes.YOUTUBE_READONLY));\n                credential.setSelectedAccount(params[0]);\n\n                YouTube youtube = new YouTube.Builder(HTTP_TRANSPORT, JSON_FACTORY, credential)\n                    .setApplicationName(&quot;Get User's Own Channel&quot;)\n                    .build();\n\n                ChannelListResponse channelListResponse = youtube\n                    .channels()\n                    .list(&quot;id,contentDetails&quot;)\n                    .setMine(true)\n                    .setFields(&quot;items(contentDetails/relatedPlaylists/uploads,id)&quot;)\n                    .execute();\n\n                // get signed user channel id:\n                Channel myChannel = channelListResponse.getItems().get(0);\n                String channelId = myChannel.getId(); // this is user's channel ID\n\n                Log.d(TAG, &quot;my youtube channel id: &quot; + channelId);\n\n                SubscriptionListResponse connectionsResponse = youtube\n                    .subscriptions()\n                    .list(&quot;snippet&quot;)\n                    .setChannelId(channelId)\n                    .execute();\n\n                return connectionsResponse.getItems();\n            } catch (UserRecoverableAuthIOException userRecoverableException) {\n                Log.d(TAG, &quot;getSubscription:recoverable exception&quot;+userRecoverableException.getLocalizedMessage());\n                startActivityForResult(userRecoverableException.getIntent(), RC_RECOVERABLE);\n            } catch (IOException e) {\n                Log.d(TAG, &quot;getSubscription:exception&quot;+e.getLocalizedMessage());\n            }\n\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(List&lt;Subscription&gt; subscriptions) {\n\n            if (subscriptions != null) {\n                Log.d(TAG, &quot;subscriptions : size=&quot; + subscriptions.size());\n                for (Subscription subscription : subscriptions) {\n                    Log.v(TAG, &quot;subscription : &quot; + subscription.getId());\n                    displayToast(subscription.getId());\n                }\n            } else {\n                Log.d(TAG, &quot;subscriptions: null&quot;);\n            }\n        }\n        \n        \n    }\n</code></pre>\n"},{"tags":["java","mysql","hibernate","maven"],"comments":[{"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"score":0,"creation_date":1668053615,"post_id":74384024,"comment_id":131315646,"body_markdown":"The null pointer is coming from your test PcBuildDaoTest.getById(PcBuildDaoTest.java:24)","body":"The null pointer is coming from your test PcBuildDaoTest.getById(PcBuildDaoTest.java:24)"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1668054677,"post_id":74384024,"comment_id":131315792,"body_markdown":"You have not shared the code for `PcBuildDaoTest`","body":"You have not shared the code for <code>PcBuildDaoTest</code>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668070476,"post_id":74384024,"comment_id":131319316,"body_markdown":"Share the code of your failing test. Second your pom contains a mix of JUnit 4, Junit 5 etc. als using very old surefire/failsafe plugin version which do not even support JUnit 5 (surefire needs to be at least 2.22.2 better most recent version) also mixing vintage version/junit jupiter/engine version etc. better use the bom file of junit jupiter...and all the plugins you have defined in your pom are extremely old... use most recent versions... https://maven.apache.org/plugins","body":"Share the code of your failing test. Second your pom contains a mix of JUnit 4, Junit 5 etc. als using very old surefire/failsafe plugin version which do not even support JUnit 5 (surefire needs to be at least 2.22.2 better most recent version) also mixing vintage version/junit jupiter/engine version etc. better use the bom file of junit jupiter...and all the plugins you have defined in your pom are extremely old... use most recent versions... <a href=\"https://maven.apache.org/plugins\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>"}],"owner":{"account_id":26778151,"reputation":9,"user_id":20373446,"display_name":"fchristian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668053275,"creation_date":1668053275,"question_id":74384024,"body_markdown":"I&#39;m making an application in Java using Hibernate, Maven, and JUnit for testing. I&#39;ve had quite a few errors, and my latest one is a nullpointerexception that I&#39;m not seeing any obvious fixes for. Please let me know if I accidentally left out any helpful information. The exception occurs when I try to test the getById method in the PcBuildDao class.\r\n\r\n\r\n\r\nthe exception:\r\n\r\n```\r\njava.lang.NullPointerException\r\n\tat persistence.PcBuildDaoTest.getById(PcBuildDaoTest.java:24)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:389)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:167)\r\n\tat org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:163)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:110)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)\r\n\tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\r\n\tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\r\n\tat org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:51)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\n\r\nhibernate.cfg.xml\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n&lt;hibernate-configuration&gt;\r\n    &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hardwareviewer&lt;/property&gt;\r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;student&lt;/property&gt;\r\n\r\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\r\n\r\n        &lt;mapping class=&quot;entity.PcBuild&quot; /&gt;\r\n        &lt;mapping class=&quot;entity.User&quot; /&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n```\r\n\r\npom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;[url I can&#39;t post here]&quot;\r\n      xsi:schemaLocation=&quot;[here too]&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;edu.matc.entjava.hardwareviewer&lt;/groupId&gt;\r\n  &lt;artifactId&gt;hardwareviewer&lt;/artifactId&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;hardwareviewer Maven Webapp&lt;/name&gt;\r\n  &lt;url&gt;https://maven.apache.org&lt;/url&gt;\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n\r\n    &lt;javax.version&gt;7.0&lt;/javax.version&gt;\r\n    &lt;mysql-version&gt;8.0.16&lt;/mysql-version&gt;\r\n    &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\r\n    &lt;log4j-version&gt;2.10.0&lt;/log4j-version&gt;\r\n    &lt;jupiter-version&gt;5.0.0&lt;/jupiter-version&gt;\r\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n    &lt;junit-platform-runner-version&gt;1.0.0&lt;/junit-platform-runner-version&gt;\r\n    &lt;junit-vintage-version&gt;4.12.0&lt;/junit-vintage-version&gt;\r\n    &lt;hibernate-core-version&gt;5.4.4.Final&lt;/hibernate-core-version&gt;\r\n    &lt;hibernate-c3p0-version&gt;5.4.4.Final&lt;/hibernate-c3p0-version&gt;\r\n\r\n    &lt;javb-api.version&gt;2.3.1&lt;/javb-api.version&gt;\r\n\r\n    &lt;maven-compiler-plugin-version&gt;3.8.1&lt;/maven-compiler-plugin-version&gt;\r\n    &lt;maven-surefire-plugin-version&gt;2.19&lt;/maven-surefire-plugin-version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${javax.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!--  https://mvnrepository.com/artifact/mysql/mysql-connector-java  --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;${mysql-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      &lt;version&gt;${jstl-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${jupiter-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit-vintage-version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate-core-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-c3p0 --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate-c3p0-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${javb-api.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;hardwareviewer&lt;/finalName&gt;\r\n\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${maven-compiler-plugin-version}&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;webResources&gt;\r\n              &lt;resource&gt;\r\n                &lt;directory&gt;src/main/webapp/META-INF&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\r\n              &lt;/resource&gt;\r\n            &lt;/webResources&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n              &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nPcBuild POJO\r\n```\r\npackage entity;\r\n\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport javax.persistence.*;\r\n\r\n@Entity(name = &quot;PcBuild&quot;)\r\n@Table(name = &quot;computer_builds&quot;)\r\npublic class PcBuild {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\r\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\r\n    private int buildId;\r\n\r\n    @Column(name = &quot;cpu_model&quot;)\r\n    private String cpuModel;\r\n\r\n    @Column(name = &quot;gpu_model&quot;)\r\n    private String gpuModel;\r\n\r\n    @Column(name = &quot;cpu_cooler_model&quot;)\r\n    private String cpuCoolerModel;\r\n\r\n    @Column(name = &quot;Motherboard_model&quot;)\r\n    private String motherboardModel;\r\n\r\n    @Column(name = &quot;psu_model&quot;)\r\n    private String psuModel;\r\n\r\n    @Column(name = &quot;case_model&quot;)\r\n    private String caseModel;\r\n\r\n    @Column(name = &quot;data_storage_model&quot;)\r\n    private String dataStorageModel;\r\n\r\n    @Column(name = &quot;ram_model&quot;)\r\n    private String ramModel;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;userId&quot;, referencedColumnName = &quot;userId&quot;)\r\n    private User user;\r\n\r\n    public PcBuild() {\r\n    }\r\n\r\n    public PcBuild(int buildId, String cpuModel, String gpuModel,\r\n            String cpuCoolerModel, String motherboardModel, String psuModel,\r\n            String caseModel, String dataStorageModel, String ramModel,\r\n            User user) {\r\n        this.buildId = buildId;\r\n        this.cpuModel = cpuModel;\r\n        this.gpuModel = gpuModel;\r\n        this.cpuCoolerModel = cpuCoolerModel;\r\n        this.motherboardModel = motherboardModel;\r\n        this.psuModel = psuModel;\r\n        this.caseModel = caseModel;\r\n        this.dataStorageModel = dataStorageModel;\r\n        this.ramModel = ramModel;\r\n        this.user = user;\r\n    }\r\n\r\n    public int getBuildId() {\r\n        return buildId;\r\n    }\r\n\r\n    public void setBuildId(int buildId) {\r\n        this.buildId = buildId;\r\n    }\r\n\r\n    public String getCpuModel() {\r\n        return cpuModel;\r\n    }\r\n\r\n    public void setCpuModel(String cpuModel) {\r\n        this.cpuModel = cpuModel;\r\n    }\r\n\r\n    public String getGpuModel() {\r\n        return gpuModel;\r\n    }\r\n\r\n    public void setGpuModel(String gpuModel) {\r\n        this.gpuModel = gpuModel;\r\n    }\r\n\r\n    public String getCpuCoolerModel() {\r\n        return cpuCoolerModel;\r\n    }\r\n\r\n    public void setCpuCoolerModel(String cpuCoolerModel) {\r\n        this.cpuCoolerModel = cpuCoolerModel;\r\n    }\r\n\r\n    public String getMotherboardModel() {\r\n        return motherboardModel;\r\n    }\r\n\r\n    public void setMotherboardModel(String motherboardModel) {\r\n        this.motherboardModel = motherboardModel;\r\n    }\r\n\r\n    public String getPsuModel() {\r\n        return psuModel;\r\n    }\r\n\r\n    public void setPsuModel(String psuModel) {\r\n        this.psuModel = psuModel;\r\n    }\r\n\r\n    public String getCase_Model() {\r\n        return caseModel;\r\n    }\r\n\r\n    public void setCase_Model(String caseModel) {\r\n        this.caseModel = caseModel;\r\n    }\r\n\r\n    public String getDataStorageModel() {\r\n        return dataStorageModel;\r\n    }\r\n\r\n    public void setDataStorageModel(String dataStorageModel) {\r\n        this.dataStorageModel = dataStorageModel;\r\n    }\r\n\r\n    public String getRamModel() {\r\n        return ramModel;\r\n    }\r\n\r\n    public void setRamModel(String ramModel) {\r\n        this.ramModel = ramModel;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUserId(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;PcBuild{&quot; +\r\n                &quot;buildId=&quot; + buildId +\r\n                &quot;, cpuModel=&#39;&quot; + cpuModel + &#39;\\&#39;&#39; +\r\n                &quot;, gpuModel=&#39;&quot; + gpuModel + &#39;\\&#39;&#39; +\r\n                &quot;, cpuCoolerModel=&#39;&quot; + cpuCoolerModel + &#39;\\&#39;&#39; +\r\n                &quot;, motherboardModel=&#39;&quot; + motherboardModel + &#39;\\&#39;&#39; +\r\n                &quot;, psuModel=&#39;&quot; + psuModel + &#39;\\&#39;&#39; +\r\n                &quot;, caseModel=&#39;&quot; + caseModel + &#39;\\&#39;&#39; +\r\n                &quot;, dataStorageModel=&#39;&quot; + dataStorageModel + &#39;\\&#39;&#39; +\r\n                &quot;, ramModel=&#39;&quot; + ramModel + &#39;\\&#39;&#39; +\r\n                &quot;, user=&quot; + user +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nPcBuild DAO\r\n\r\n```\r\npackage persistence;\r\n\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport entity.PcBuild;\r\n\r\npublic class PcBuildDao {\r\n    private final Logger logger = LogManager.getLogger(this.getClass());\r\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\r\n\r\n    public PcBuild getById(int id) {\r\n        Session session = sessionFactory.openSession();\r\n        PcBuild pcBuild = session.get(PcBuild.class, id);\r\n        session.close();\r\n        return pcBuild;\r\n    }\r\n\r\n    public void saveOrUpdatePcBuild(PcBuild pcBuild) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.saveOrUpdate(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n\r\n    public int insert(PcBuild pcBuild) {\r\n        int id = 0;\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        id = (int) session.save(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n        return id;\r\n    }\r\n\r\n    public void delete(PcBuild pcBuild) {\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.delete(pcBuild);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe mySQL script I run before every test\r\n\r\n```\r\ndelete from computer_builds;\r\n\r\ndelete from users;\r\n\r\ninsert into users (userId, username, password) VALUES (1, &#39;fchristian&#39;, &#39;student&#39;);\r\n\r\ninsert into users (userId, username, password) VALUES (2, &#39;achristian&#39;, &#39;lollipop&#39;);\r\n\r\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\r\n                             data_storage_model, ram_model, userId)\r\nvalues (&#39;Ryzen 7 5800X3D&#39;, &#39;PowerColor Red Devil OC Radeon RX 6950 XT&#39;, &#39;Deepcool AK620&#39;, &#39;MSI MAG B550 Tomahawk&#39;,\r\n        &#39;Thermaltake Toughpower GF1 PE 850 W&#39;, &#39;Corsair 4000D Airflow ATX Mid Tower&#39;, &#39;Samsung 970 Evo Plus 2 TB NVMe SSD&#39;,\r\n        &#39;Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3600 CL18&#39;, 1);\r\n\r\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\r\n                             data_storage_model, ram_model, userId)\r\nvalues (&#39;Ryzen 3 3200G&#39;, &#39;Gigabyte GAMING OC Radeon RX 5700 XT&#39;, &#39;Stock&#39;, &#39;Gigabyte B450M DS3H Wifi&#39;,\r\n        &#39;Fractal Design Ion SFX 650 W&#39;, &#39;Thermaltake Core G3 ATX Mid Tower&#39;, &#39;Teamgroup GX2 512 GB SSD&#39;,\r\n        &#39;Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3200 CL16&#39;, 2);\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI tried testing the PcBuildDao&#39;s getById method but I keep getting a nullpointerexception.","title":"Trying to test a DAO on a java hibernate application, and I&#39;m getting a NullPointerAcception","body":"<p>I'm making an application in Java using Hibernate, Maven, and JUnit for testing. I've had quite a few errors, and my latest one is a nullpointerexception that I'm not seeing any obvious fixes for. Please let me know if I accidentally left out any helpful information. The exception occurs when I try to test the getById method in the PcBuildDao class.</p>\n<p>the exception:</p>\n<pre><code>java.lang.NullPointerException\n    at persistence.PcBuildDaoTest.getById(PcBuildDaoTest.java:24)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:389)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:167)\n    at org.junit.jupiter.engine.execution.ThrowableCollector.execute(ThrowableCollector.java:40)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:163)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:110)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:83)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$null$2(HierarchicalTestExecutor.java:92)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.lambda$execute$3(HierarchicalTestExecutor.java:92)\n    at org.junit.platform.engine.support.hierarchical.SingleTestExecutor.executeSafely(SingleTestExecutor.java:66)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:77)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:51)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:43)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:170)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:154)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:90)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>hibernate.cfg.xml</p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/hardwareviewer&lt;/property&gt;\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;connection.password&quot;&gt;student&lt;/property&gt;\n\n        &lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.timeout&quot;&gt;300&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;50&lt;/property&gt;\n        &lt;property name=&quot;hibernate.c3p0.idle_test_period&quot;&gt;3000&lt;/property&gt;\n\n        &lt;mapping class=&quot;entity.PcBuild&quot; /&gt;\n        &lt;mapping class=&quot;entity.User&quot; /&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;[url I can't post here]&quot;\n      xsi:schemaLocation=&quot;[here too]&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;edu.matc.entjava.hardwareviewer&lt;/groupId&gt;\n  &lt;artifactId&gt;hardwareviewer&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;hardwareviewer Maven Webapp&lt;/name&gt;\n  &lt;url&gt;https://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n\n    &lt;javax.version&gt;7.0&lt;/javax.version&gt;\n    &lt;mysql-version&gt;8.0.16&lt;/mysql-version&gt;\n    &lt;jstl-version&gt;1.2&lt;/jstl-version&gt;\n    &lt;log4j-version&gt;2.10.0&lt;/log4j-version&gt;\n    &lt;jupiter-version&gt;5.0.0&lt;/jupiter-version&gt;\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n    &lt;junit-platform-runner-version&gt;1.0.0&lt;/junit-platform-runner-version&gt;\n    &lt;junit-vintage-version&gt;4.12.0&lt;/junit-vintage-version&gt;\n    &lt;hibernate-core-version&gt;5.4.4.Final&lt;/hibernate-core-version&gt;\n    &lt;hibernate-c3p0-version&gt;5.4.4.Final&lt;/hibernate-c3p0-version&gt;\n\n    &lt;javb-api.version&gt;2.3.1&lt;/javb-api.version&gt;\n\n    &lt;maven-compiler-plugin-version&gt;3.8.1&lt;/maven-compiler-plugin-version&gt;\n    &lt;maven-surefire-plugin-version&gt;2.19&lt;/maven-surefire-plugin-version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax&lt;/groupId&gt;\n      &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n      &lt;version&gt;${javax.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!--  https://mvnrepository.com/artifact/mysql/mysql-connector-java  --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;${mysql-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jstl&lt;/groupId&gt;\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n      &lt;version&gt;${jstl-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;${log4j-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${jupiter-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;\n      &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit-vintage-version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;${hibernate-core-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-c3p0 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n      &lt;version&gt;${hibernate-c3p0-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n      &lt;version&gt;${javb-api.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;hardwareviewer&lt;/finalName&gt;\n\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${maven-compiler-plugin-version}&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.3&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;webResources&gt;\n              &lt;resource&gt;\n                &lt;directory&gt;src/main/webapp/META-INF&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;targetPath&gt;META-INF&lt;/targetPath&gt;\n              &lt;/resource&gt;\n            &lt;/webResources&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\n          &lt;dependencies&gt;\n            &lt;dependency&gt;\n              &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n              &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n              &lt;version&gt;${junit-platform-runner-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n          &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>PcBuild POJO</p>\n<pre><code>package entity;\n\nimport org.hibernate.annotations.GenericGenerator;\nimport javax.persistence.*;\n\n@Entity(name = &quot;PcBuild&quot;)\n@Table(name = &quot;computer_builds&quot;)\npublic class PcBuild {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;native&quot;)\n    @GenericGenerator(name = &quot;native&quot;, strategy = &quot;native&quot;)\n    private int buildId;\n\n    @Column(name = &quot;cpu_model&quot;)\n    private String cpuModel;\n\n    @Column(name = &quot;gpu_model&quot;)\n    private String gpuModel;\n\n    @Column(name = &quot;cpu_cooler_model&quot;)\n    private String cpuCoolerModel;\n\n    @Column(name = &quot;Motherboard_model&quot;)\n    private String motherboardModel;\n\n    @Column(name = &quot;psu_model&quot;)\n    private String psuModel;\n\n    @Column(name = &quot;case_model&quot;)\n    private String caseModel;\n\n    @Column(name = &quot;data_storage_model&quot;)\n    private String dataStorageModel;\n\n    @Column(name = &quot;ram_model&quot;)\n    private String ramModel;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;userId&quot;, referencedColumnName = &quot;userId&quot;)\n    private User user;\n\n    public PcBuild() {\n    }\n\n    public PcBuild(int buildId, String cpuModel, String gpuModel,\n            String cpuCoolerModel, String motherboardModel, String psuModel,\n            String caseModel, String dataStorageModel, String ramModel,\n            User user) {\n        this.buildId = buildId;\n        this.cpuModel = cpuModel;\n        this.gpuModel = gpuModel;\n        this.cpuCoolerModel = cpuCoolerModel;\n        this.motherboardModel = motherboardModel;\n        this.psuModel = psuModel;\n        this.caseModel = caseModel;\n        this.dataStorageModel = dataStorageModel;\n        this.ramModel = ramModel;\n        this.user = user;\n    }\n\n    public int getBuildId() {\n        return buildId;\n    }\n\n    public void setBuildId(int buildId) {\n        this.buildId = buildId;\n    }\n\n    public String getCpuModel() {\n        return cpuModel;\n    }\n\n    public void setCpuModel(String cpuModel) {\n        this.cpuModel = cpuModel;\n    }\n\n    public String getGpuModel() {\n        return gpuModel;\n    }\n\n    public void setGpuModel(String gpuModel) {\n        this.gpuModel = gpuModel;\n    }\n\n    public String getCpuCoolerModel() {\n        return cpuCoolerModel;\n    }\n\n    public void setCpuCoolerModel(String cpuCoolerModel) {\n        this.cpuCoolerModel = cpuCoolerModel;\n    }\n\n    public String getMotherboardModel() {\n        return motherboardModel;\n    }\n\n    public void setMotherboardModel(String motherboardModel) {\n        this.motherboardModel = motherboardModel;\n    }\n\n    public String getPsuModel() {\n        return psuModel;\n    }\n\n    public void setPsuModel(String psuModel) {\n        this.psuModel = psuModel;\n    }\n\n    public String getCase_Model() {\n        return caseModel;\n    }\n\n    public void setCase_Model(String caseModel) {\n        this.caseModel = caseModel;\n    }\n\n    public String getDataStorageModel() {\n        return dataStorageModel;\n    }\n\n    public void setDataStorageModel(String dataStorageModel) {\n        this.dataStorageModel = dataStorageModel;\n    }\n\n    public String getRamModel() {\n        return ramModel;\n    }\n\n    public void setRamModel(String ramModel) {\n        this.ramModel = ramModel;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUserId(User user) {\n        this.user = user;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;PcBuild{&quot; +\n                &quot;buildId=&quot; + buildId +\n                &quot;, cpuModel='&quot; + cpuModel + '\\'' +\n                &quot;, gpuModel='&quot; + gpuModel + '\\'' +\n                &quot;, cpuCoolerModel='&quot; + cpuCoolerModel + '\\'' +\n                &quot;, motherboardModel='&quot; + motherboardModel + '\\'' +\n                &quot;, psuModel='&quot; + psuModel + '\\'' +\n                &quot;, caseModel='&quot; + caseModel + '\\'' +\n                &quot;, dataStorageModel='&quot; + dataStorageModel + '\\'' +\n                &quot;, ramModel='&quot; + ramModel + '\\'' +\n                &quot;, user=&quot; + user +\n                '}';\n    }\n}\n</code></pre>\n<p>PcBuild DAO</p>\n<pre><code>package persistence;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport entity.PcBuild;\n\npublic class PcBuildDao {\n    private final Logger logger = LogManager.getLogger(this.getClass());\n    SessionFactory sessionFactory = SessionFactoryProvider.getSessionFactory();\n\n    public PcBuild getById(int id) {\n        Session session = sessionFactory.openSession();\n        PcBuild pcBuild = session.get(PcBuild.class, id);\n        session.close();\n        return pcBuild;\n    }\n\n    public void saveOrUpdatePcBuild(PcBuild pcBuild) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.saveOrUpdate(pcBuild);\n        transaction.commit();\n        session.close();\n    }\n\n    public int insert(PcBuild pcBuild) {\n        int id = 0;\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        id = (int) session.save(pcBuild);\n        transaction.commit();\n        session.close();\n        return id;\n    }\n\n    public void delete(PcBuild pcBuild) {\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n        session.delete(pcBuild);\n        transaction.commit();\n        session.close();\n    }\n}\n</code></pre>\n<p>The mySQL script I run before every test</p>\n<pre><code>delete from computer_builds;\n\ndelete from users;\n\ninsert into users (userId, username, password) VALUES (1, 'fchristian', 'student');\n\ninsert into users (userId, username, password) VALUES (2, 'achristian', 'lollipop');\n\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\n                             data_storage_model, ram_model, userId)\nvalues ('Ryzen 7 5800X3D', 'PowerColor Red Devil OC Radeon RX 6950 XT', 'Deepcool AK620', 'MSI MAG B550 Tomahawk',\n        'Thermaltake Toughpower GF1 PE 850 W', 'Corsair 4000D Airflow ATX Mid Tower', 'Samsung 970 Evo Plus 2 TB NVMe SSD',\n        'Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3600 CL18', 1);\n\ninsert into computer_builds (cpu_model, gpu_model, cpu_cooler_model, motherboard_model, psu_model, case_model,\n                             data_storage_model, ram_model, userId)\nvalues ('Ryzen 3 3200G', 'Gigabyte GAMING OC Radeon RX 5700 XT', 'Stock', 'Gigabyte B450M DS3H Wifi',\n        'Fractal Design Ion SFX 650 W', 'Thermaltake Core G3 ATX Mid Tower', 'Teamgroup GX2 512 GB SSD',\n        'Corsair Vengeance LPX 16 GB (2 x 8 GB) DDR4-3200 CL16', 2);\n</code></pre>\n<p>I tried testing the PcBuildDao's getById method but I keep getting a nullpointerexception.</p>\n"},{"tags":["java","spring-boot","repository"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1668000956,"post_id":74375630,"comment_id":131301475,"body_markdown":"Just set the return type of your method to `int`; it will automatically return the number of rows affected by the update.","body":"Just set the return type of your method to <code>int</code>; it will automatically return the number of rows affected by the update."},{"owner":{"account_id":8792654,"reputation":3,"user_id":20291837,"display_name":"Gabryel Frk"},"score":0,"creation_date":1668003101,"post_id":74375630,"comment_id":131302370,"body_markdown":"and what would be the best way for me to get this return?","body":"and what would be the best way for me to get this return?"}],"owner":{"account_id":8792654,"reputation":3,"user_id":20291837,"display_name":"Gabryel Frk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668000920,"answer_count":0,"score":0,"last_activity_date":1668052649,"creation_date":1668000516,"question_id":74375630,"body_markdown":"this is my query:\r\n\r\n```java\r\n@Modifying(clearAutomatically = true)\r\n@Transactional\r\n@Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = CAST(salario(salario* :percentualAumento)/100 AS NUMERIC(18,2)) &quot;\r\n\t\t\t\t+ &quot;WHERE id IN (:funcionarioId) &quot;\r\n\t\t\t\t+ &quot;AND (:alterarFuncionariosDemitidos IS true OR condicao &lt;&gt; &#39;Inativo&#39;)&quot;)\r\nvoid AlterarSalarioSelecionadosPorPercentual(Double percentualAumento, Long funcionarioId, Boolean alterarFuncionariosDemitidos);\r\n```\r\n\r\nIn the case as I&#39;m starting now in this area, I need some help. Att;\r\n\r\n","title":"Return number of rows affected in @Query UPDATE in java spring boot repository","body":"<p>this is my query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Modifying(clearAutomatically = true)\n@Transactional\n@Query(nativeQuery = true, value = &quot;UPDATE tb_pessoal_funcionarios SET salario = CAST(salario(salario* :percentualAumento)/100 AS NUMERIC(18,2)) &quot;\n                + &quot;WHERE id IN (:funcionarioId) &quot;\n                + &quot;AND (:alterarFuncionariosDemitidos IS true OR condicao &lt;&gt; 'Inativo')&quot;)\nvoid AlterarSalarioSelecionadosPorPercentual(Double percentualAumento, Long funcionarioId, Boolean alterarFuncionariosDemitidos);\n</code></pre>\n<p>In the case as I'm starting now in this area, I need some help. Att;</p>\n"},{"tags":["java","video","video-processing","javacv","javacpp"],"comments":[{"owner":{"account_id":248409,"reputation":4974,"user_id":523744,"display_name":"Samuel Audet"},"score":0,"creation_date":1579053357,"post_id":59737017,"comment_id":105636488,"body_markdown":"Use push() instead, that will do what&#39;s needed. Other than that, the fps needs timestamps, so we might need to set those manually as explained in this issue: https://github.com/bytedeco/javacv/issues/717#issuecomment-377913162","body":"Use push() instead, that will do what&#39;s needed. Other than that, the fps needs timestamps, so we might need to set those manually as explained in this issue: <a href=\"https://github.com/bytedeco/javacv/issues/717#issuecomment-377913162\" rel=\"nofollow noreferrer\">github.com/bytedeco/javacv/issues/717#issuecomment-377913162</a>"},{"owner":{"account_id":15543730,"reputation":1519,"user_id":11213660,"display_name":"cegredev"},"score":0,"creation_date":1579104640,"post_id":59737017,"comment_id":105656806,"body_markdown":"@SamuelAudet Thanks, but `push()` doesn&#39;t work either. However, I figured out a way to avoid the filter using a while loop. I&#39;ll post my solution below in case anyone stumbles upon this post.","body":"@SamuelAudet Thanks, but <code>push()</code> doesn&#39;t work either. However, I figured out a way to avoid the filter using a while loop. I&#39;ll post my solution below in case anyone stumbles upon this post."}],"answers":[{"tags":[],"owner":{"account_id":15543730,"reputation":1519,"user_id":11213660,"display_name":"cegredev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579105397,"creation_date":1579105397,"answer_id":59755619,"question_id":59737017,"body_markdown":"I figured out a way to **avoid the filter**.\r\n\r\n    class GrabWithDifferentFrameRate {\r\n\t\t\r\n\t\tprivate Frame lastFrame;\r\n\t\tprivate FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(input);\r\n\t\t\r\n\t\t// Basically converts a frameNumber based on the desiredFrameRate \r\n\t\t// to one fitting for the grabbers frameRate and returns the frame at that frameNumber\r\n\t\tpublic Frame grabAt(int frameNumber, int desiredFrameRate) {\r\n\t\t\tdouble stepSize = desiredFrameRate / grabber.getFrameRate();\r\n\t\t\tdouble adjustedFrameNumber = calculateAdjustedFrameNumber(stepSize);\r\n\t\t\t\r\n\t\t\tFrame frame = lastFrame;\r\n\t\t\twhile ((adjustedFrameNumber &lt;= frameNumber &amp;&amp; frameNumber / stepSize &lt; grabber.getLengthInFrames())) {\r\n\t\t\t\tframe = grabber.grabImage();\r\n\t\t\t\tadjustedFrameNumber = calculateAdjustedFrameNumber(stepSize);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn frame;\r\n\t\t}\r\n\t\t\r\n\t\tprivate double calculateAdjustedFrameNumber(double stepSize) {\r\n\t\t\treturn grabber.getFrameNumber() * stepSize;\r\n\t\t}\r\n\t}","title":"JavaCV FFmpegFrameFilter does not work for fps filter","body":"<p>I figured out a way to <strong>avoid the filter</strong>.</p>\n\n<pre><code>class GrabWithDifferentFrameRate {\n\n    private Frame lastFrame;\n    private FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(input);\n\n    // Basically converts a frameNumber based on the desiredFrameRate \n    // to one fitting for the grabbers frameRate and returns the frame at that frameNumber\n    public Frame grabAt(int frameNumber, int desiredFrameRate) {\n        double stepSize = desiredFrameRate / grabber.getFrameRate();\n        double adjustedFrameNumber = calculateAdjustedFrameNumber(stepSize);\n\n        Frame frame = lastFrame;\n        while ((adjustedFrameNumber &lt;= frameNumber &amp;&amp; frameNumber / stepSize &lt; grabber.getLengthInFrames())) {\n            frame = grabber.grabImage();\n            adjustedFrameNumber = calculateAdjustedFrameNumber(stepSize);\n        }\n\n        return frame;\n    }\n\n    private double calculateAdjustedFrameNumber(double stepSize) {\n        return grabber.getFrameNumber() * stepSize;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15543730,"reputation":1519,"user_id":11213660,"display_name":"cegredev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668050069,"creation_date":1579015993,"question_id":59737017,"body_markdown":"I am trying to change the frame rate of a video using the FFmpegFrameFilter and -grabber of JavaCV. However, ```filter.pull();``` always returns null.\r\n\r\nI have tried basically every combination of pulling and pushing frames, but nothing seems to work.\r\n\r\nThis is my code:\r\n```\r\n\r\n    FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(new File(&quot;input.mp4&quot;));\r\n    grabber.start();\r\n\r\n    FFmpegFrameFilter filter = new FFmpegFrameFilter(&quot;fps=fps=60&quot;, null, grabber.getImageWidth(), grabber.getImageHeight(), 0);\r\n    filter.setVideoInputs(1);\r\n    filter.start();\r\n\r\n    Java2DFrameConverter converter = new Java2DFrameConverter();\r\n    \r\n    for (int i = 0; i &lt; 10; i++) {\r\n        //Push the newly grabbed frame to the filter.\r\n        Frame frame = grabber.grabImage();\r\n        int n = frame.image.length - 1;\r\n    \tfilter.pushImage(n &gt; 0 ? n : 0, frame.imageWidth, frame.imageHeight, frame.imageDepth, frame.imageChannels, frame.imageStride, grabber.getPixelFormat(), frame.image);\r\n\r\n        //Pull the frame from the filter, convert it to a BufferedImage, and save it.\r\n        //This line throws an IllegalArgumentException, stating the image is null.\r\n    \tImageIO.write(converter.convert(filter.pullImage()), &quot;jpg&quot;, new File(outputPath + i + &quot;.jpg&quot;));\r\n    }\r\n```\r\n\r\nMy best guess is that I am giving `pushImage(...)` the wrong arguments, as I am not sure what the first argument `n` is supposed to be.","title":"JavaCV FFmpegFrameFilter does not work for fps filter","body":"<p>I am trying to change the frame rate of a video using the FFmpegFrameFilter and -grabber of JavaCV. However, <code>filter.pull();</code> always returns null.</p>\n\n<p>I have tried basically every combination of pulling and pushing frames, but nothing seems to work.</p>\n\n<p>This is my code:</p>\n\n<pre><code>\n    FFmpegFrameGrabber grabber = new FFmpegFrameGrabber(new File(\"input.mp4\"));\n    grabber.start();\n\n    FFmpegFrameFilter filter = new FFmpegFrameFilter(\"fps=fps=60\", null, grabber.getImageWidth(), grabber.getImageHeight(), 0);\n    filter.setVideoInputs(1);\n    filter.start();\n\n    Java2DFrameConverter converter = new Java2DFrameConverter();\n\n    for (int i = 0; i &lt; 10; i++) {\n        //Push the newly grabbed frame to the filter.\n        Frame frame = grabber.grabImage();\n        int n = frame.image.length - 1;\n        filter.pushImage(n &gt; 0 ? n : 0, frame.imageWidth, frame.imageHeight, frame.imageDepth, frame.imageChannels, frame.imageStride, grabber.getPixelFormat(), frame.image);\n\n        //Pull the frame from the filter, convert it to a BufferedImage, and save it.\n        //This line throws an IllegalArgumentException, stating the image is null.\n        ImageIO.write(converter.convert(filter.pullImage()), \"jpg\", new File(outputPath + i + \".jpg\"));\n    }\n</code></pre>\n\n<p>My best guess is that I am giving <code>pushImage(...)</code> the wrong arguments, as I am not sure what the first argument <code>n</code> is supposed to be.</p>\n"},{"tags":["java","spring","applicationcontext"],"answers":[{"tags":[],"owner":{"account_id":1231950,"reputation":348,"user_id":1196334,"display_name":"Vasiliy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668049126,"creation_date":1668049126,"answer_id":74383688,"question_id":74265432,"body_markdown":"Personally I always use public factory methods. Not sure why you would use other ones intentionally.\r\nBut to the question, I only remember that when spring has to choose factory method to use, it gives precedence to public methods. Apart from that I have never come across any other difference. Hope that helps.","title":"Factory methods visibility in Spring Java configuration","body":"<p>Personally I always use public factory methods. Not sure why you would use other ones intentionally.\nBut to the question, I only remember that when spring has to choose factory method to use, it gives precedence to public methods. Apart from that I have never come across any other difference. Hope that helps.</p>\n"}],"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668049126,"creation_date":1667229480,"question_id":74265432,"body_markdown":"Let&#39;s consider a Spring 5 project using **only Java configuration**.\r\n\r\n    @Configuration\r\n    class AppConfig{\r\n    \r\n      @Bean\r\n      &lt;visibility-modifier&gt; MyComponent first(){\r\n        return new MyComponent();\r\n      }\r\n    \r\n      // other @Bean annotated methods\r\n    }\r\n\r\n    // multiple configuration classes following similar structure\r\n\r\nTrying to figure out what is the impact of `&lt;visibility-modifier&gt;` I&#39;ve found that there could be visibility effects while mixing XML config and Java config ([example][1]).\r\n\r\nIt is a bit confusing that documentation mostly uses `public` modifier everywhere\r\n(e.g. https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html)\r\n\r\n\r\n**What is the difference between using `public` and other visibility modifiers on `@Bean` methods?**\r\n(when only Java configuration is used)\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-javaconfig/docs/1.0-m2a/reference/html/bean-visibility.html","title":"Factory methods visibility in Spring Java configuration","body":"<p>Let's consider a Spring 5 project using <strong>only Java configuration</strong>.</p>\n<pre><code>@Configuration\nclass AppConfig{\n\n  @Bean\n  &lt;visibility-modifier&gt; MyComponent first(){\n    return new MyComponent();\n  }\n\n  // other @Bean annotated methods\n}\n\n// multiple configuration classes following similar structure\n</code></pre>\n<p>Trying to figure out what is the impact of <code>&lt;visibility-modifier&gt;</code> I've found that there could be visibility effects while mixing XML config and Java config (<a href=\"https://docs.spring.io/spring-javaconfig/docs/1.0-m2a/reference/html/bean-visibility.html\" rel=\"nofollow noreferrer\">example</a>).</p>\n<p>It is a bit confusing that documentation mostly uses <code>public</code> modifier everywhere\n(e.g. <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html</a>)</p>\n<p><strong>What is the difference between using <code>public</code> and other visibility modifiers on <code>@Bean</code> methods?</strong>\n(when only Java configuration is used)</p>\n"},{"tags":["java","spring","solr","log4j","solrj"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668064664,"post_id":74383680,"comment_id":131317558,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1668099897,"post_id":74383680,"comment_id":131330047,"body_markdown":"Most well-behaved applications (i.e. those that do not try to configure Log4j themselves) can use the `log4j-1.2-api` bridge (cf. [migration guide](https://logging.apache.org/log4j/2.x/manual/migration.html)). You just need to try using it with Solr 4.6.","body":"Most well-behaved applications (i.e. those that do not try to configure Log4j themselves) can use the <code>log4j-1.2-api</code> bridge (cf. <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">migration guide</a>). You just need to try using it with Solr 4.6."},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1668101483,"post_id":74383680,"comment_id":131330597,"body_markdown":"BTW: the CVEs published against Log4j 1.x are only the tip of all known vulnerabilities for Solr 4.6: cf. [mvnrepository](https://mvnrepository.com/artifact/org.apache.solr/solr-core/4.6.0)","body":"BTW: the CVEs published against Log4j 1.x are only the tip of all known vulnerabilities for Solr 4.6: cf. <a href=\"https://mvnrepository.com/artifact/org.apache.solr/solr-core/4.6.0\" rel=\"nofollow noreferrer\">mvnrepository</a>"}],"owner":{"account_id":26407997,"reputation":1,"user_id":20057439,"display_name":"John Zidrex Andag"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668049041,"creation_date":1668049041,"question_id":74383680,"body_markdown":"We have this really old solr version using in production, recently we found a vulnerability in log4j 1.12.x so thats why we need to upgrade either the solr or log4j version. My questions is can we upgrade the log4j version from the solr 4.6.0 version? Currently solr 4.6 uses log4j 1.12 and in our app.\r\n\r\nI tried upgrading the solr but this will takes a lot of time because our application code is really old","title":"Is it possible to upgrade log4j to 2.17+ when using Solr 4.6","body":"<p>We have this really old solr version using in production, recently we found a vulnerability in log4j 1.12.x so thats why we need to upgrade either the solr or log4j version. My questions is can we upgrade the log4j version from the solr 4.6.0 version? Currently solr 4.6 uses log4j 1.12 and in our app.</p>\n<p>I tried upgrading the solr but this will takes a lot of time because our application code is really old</p>\n"},{"tags":["java","android","mobile","mobile-application"],"comments":[{"owner":{"account_id":200972,"reputation":1278,"user_id":447137,"display_name":"Ankur"},"score":0,"creation_date":1668050693,"post_id":74383567,"comment_id":131315282,"body_markdown":"It&#39;s difficult to understand your problem from what you mentioned above. Can you please add some more details like expected behaviour, current behaviour etc. It will make it clearer to understand.","body":"It&#39;s difficult to understand your problem from what you mentioned above. Can you please add some more details like expected behaviour, current behaviour etc. It will make it clearer to understand."},{"owner":{"account_id":19652346,"reputation":444,"user_id":14385814,"display_name":"BootCamp"},"score":0,"creation_date":1668051641,"post_id":74383567,"comment_id":131315380,"body_markdown":"@Ankur The current behavior is that I cant delete the text in editText and sometimes only it only 3 characters will type in editText","body":"@Ankur The current behavior is that I cant delete the text in editText and sometimes only it only 3 characters will type in editText"},{"owner":{"account_id":200972,"reputation":1278,"user_id":447137,"display_name":"Ankur"},"score":0,"creation_date":1668051705,"post_id":74383567,"comment_id":131315387,"body_markdown":"I see. In what condition/event you are calling `scannedCardNumber` method?","body":"I see. In what condition/event you are calling <code>scannedCardNumber</code> method?"},{"owner":{"account_id":19652346,"reputation":444,"user_id":14385814,"display_name":"BootCamp"},"score":0,"creation_date":1668054310,"post_id":74383567,"comment_id":131315738,"body_markdown":"@Ankur Yes, but the error it just rarely appears do you know the problem?","body":"@Ankur Yes, but the error it just rarely appears do you know the problem?"},{"owner":{"account_id":200972,"reputation":1278,"user_id":447137,"display_name":"Ankur"},"score":0,"creation_date":1668059136,"post_id":74383567,"comment_id":131316418,"body_markdown":"Can not say for sure yet, but I see few problems. Like you are adding `addTextChangedListener`. So if you call this method more than one time, `scannedCardNumber` it will add multiple text change listeners which will cause problems. I am also curious about this line `sb.setLength(sb.length() - 1)`","body":"Can not say for sure yet, but I see few problems. Like you are adding <code>addTextChangedListener</code>. So if you call this method more than one time, <code>scannedCardNumber</code> it will add multiple text change listeners which will cause problems. I am also curious about this line <code>sb.setLength(sb.length() - 1)</code>"},{"owner":{"account_id":288238,"reputation":14443,"user_id":588532,"accept_rate":88,"display_name":"Uriel Frankel"},"score":0,"creation_date":1668149021,"post_id":74383567,"comment_id":131340021,"body_markdown":"i guess you always set the text in after text change. put breakpoints over there","body":"i guess you always set the text in after text change. put breakpoints over there"}],"owner":{"account_id":19652346,"reputation":444,"user_id":14385814,"display_name":"BootCamp"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668048295,"creation_date":1668047781,"question_id":74383567,"body_markdown":"I&#39;ve been confused why my EditText can&#39;t delete my text manually.When I tried to scan the image that converts to text and display the text to editText or `OCR` sometimes I have this bugs, sometimes only 3 numbers will type instead of 23, and sometimes it runs smoothly, why did this happen? I have sample image below which can&#39;t delete the whole text displayed on EdiText manually, can anyone help me with this issue? I can&#39;t find the error yet since it just rarely appears, thanks in advance.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Java file**\r\n\r\n     private int prevCount = 0;\r\n\r\n     // to have space after 4 number\r\n     private boolean isAtSpaceDelimiter(int currCount) {\r\n        return currCount == 4 ||currCount == 9 || currCount == 14 || currCount == 19;\r\n    }\r\n\r\n    //declared on onCreate()\r\n    scannedCardNumber(edt_card_number_inputted,til_card_number_inputted);\r\n\r\n    public void scannedCardNumber(EditText card_number , TextInputLayout tilCard){\r\n        card_number.addTextChangedListener(new TextWatcher() {\r\n\r\n\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n\r\n            }\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int i, int i1, int i2) {\r\n                String cardNumber = card_number.getText().toString();\r\n                if(s.toString().length() != 23){\r\n                    tilCard.setError(required_field);\r\n                }\r\n                else if(!cardNumber.matches(&quot;[0-9 ]+&quot;)) {\r\n                    tilCard.setError(&quot;Invalid Format&quot;);\r\n                }\r\n                else{\r\n                    tilCard.setError(null);\r\n                }\r\n            }\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n                String field = editable.toString();\r\n                int currCount = field.length();\r\n\r\n                if (shouldIncrementOrDecrement(currCount, true)){\r\n                    appendOrStrip(field, true);\r\n                } else if (shouldIncrementOrDecrement(currCount, false)) {\r\n                    appendOrStrip(field, false);\r\n                }\r\n                prevCount = card_number.getText().toString().length();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void appendOrStrip(String field, boolean shouldAppend) {\r\n        StringBuilder sb = new StringBuilder(field);\r\n        if (shouldAppend) {\r\n            sb.append(&quot; &quot;);\r\n        } else {\r\n            sb.setLength(sb.length() - 1);\r\n        }\r\n        edt_card_number_inputted.setText(sb.toString());\r\n        edt_card_number_inputted.setSelection(sb.length());\r\n    }\r\n\r\n    private boolean shouldIncrementOrDecrement(int currCount, boolean shouldIncrement) {\r\n        if (shouldIncrement) {\r\n            return prevCount &lt;= currCount &amp;&amp; isAtSpaceDelimiter(currCount);\r\n        } else {\r\n            return prevCount &gt; currCount &amp;&amp; isAtSpaceDelimiter(currCount);\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/VKE9U.png","title":"EditText cannot delete manually in Android java","body":"<p>I've been confused why my EditText can't delete my text manually.When I tried to scan the image that converts to text and display the text to editText or <code>OCR</code> sometimes I have this bugs, sometimes only 3 numbers will type instead of 23, and sometimes it runs smoothly, why did this happen? I have sample image below which can't delete the whole text displayed on EdiText manually, can anyone help me with this issue? I can't find the error yet since it just rarely appears, thanks in advance.</p>\n<p><a href=\"https://i.stack.imgur.com/VKE9U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VKE9U.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Java file</strong></p>\n<pre><code> private int prevCount = 0;\n\n // to have space after 4 number\n private boolean isAtSpaceDelimiter(int currCount) {\n    return currCount == 4 ||currCount == 9 || currCount == 14 || currCount == 19;\n}\n\n//declared on onCreate()\nscannedCardNumber(edt_card_number_inputted,til_card_number_inputted);\n\npublic void scannedCardNumber(EditText card_number , TextInputLayout tilCard){\n    card_number.addTextChangedListener(new TextWatcher() {\n\n\n        @Override\n        public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n        }\n        @Override\n        public void onTextChanged(CharSequence s, int i, int i1, int i2) {\n            String cardNumber = card_number.getText().toString();\n            if(s.toString().length() != 23){\n                tilCard.setError(required_field);\n            }\n            else if(!cardNumber.matches(&quot;[0-9 ]+&quot;)) {\n                tilCard.setError(&quot;Invalid Format&quot;);\n            }\n            else{\n                tilCard.setError(null);\n            }\n        }\n        @Override\n        public void afterTextChanged(Editable editable) {\n            String field = editable.toString();\n            int currCount = field.length();\n\n            if (shouldIncrementOrDecrement(currCount, true)){\n                appendOrStrip(field, true);\n            } else if (shouldIncrementOrDecrement(currCount, false)) {\n                appendOrStrip(field, false);\n            }\n            prevCount = card_number.getText().toString().length();\n        }\n    });\n}\n\n\nprivate void appendOrStrip(String field, boolean shouldAppend) {\n    StringBuilder sb = new StringBuilder(field);\n    if (shouldAppend) {\n        sb.append(&quot; &quot;);\n    } else {\n        sb.setLength(sb.length() - 1);\n    }\n    edt_card_number_inputted.setText(sb.toString());\n    edt_card_number_inputted.setSelection(sb.length());\n}\n\nprivate boolean shouldIncrementOrDecrement(int currCount, boolean shouldIncrement) {\n    if (shouldIncrement) {\n        return prevCount &lt;= currCount &amp;&amp; isAtSpaceDelimiter(currCount);\n    } else {\n        return prevCount &gt; currCount &amp;&amp; isAtSpaceDelimiter(currCount);\n    }\n}\n</code></pre>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":485185,"reputation":136,"user_id":901352,"display_name":"Derek F"},"score":1,"creation_date":1668036624,"post_id":74382777,"comment_id":131313607,"body_markdown":"Welcome to SFSE! This site isn&#39;t about general programming and languages, but is rather focused on Salesforce (a cloud-based Customer Relationship Management platform). As such, this is not on topic for this site. [so] is probably where you meant to go instead.","body":"Welcome to SFSE! This site isn&#39;t about general programming and languages, but is rather focused on Salesforce (a cloud-based Customer Relationship Management platform). As such, this is not on topic for this site. <a href=\"https://stackoverflow.com\">Stack Overflow</a> is probably where you meant to go instead."},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1670684419,"post_id":74382777,"comment_id":131932440,"body_markdown":"@DerekF And it&#39;s opinion-based. Please don&#39;t migrate bad posts","body":"@DerekF And it&#39;s opinion-based. Please don&#39;t migrate bad posts"}],"answers":[{"tags":[],"owner":{"account_id":21762563,"reputation":1,"user_id":16066935,"display_name":"immatur1ty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668047654,"creation_date":1668047654,"answer_id":74383553,"question_id":74382777,"body_markdown":"A single thread executor is enough for you, but you would probably want to implement your own queue as normal queues certainly can not satisfy you here.\r\n\r\nI would use a heap to implement the queue, to make sure that higher priority tasks run before lower priority tasks. The heap should be cleared when a Hard Task arrives.\r\n\r\nYou can also imlement a queue that contains three lists. Soft Task list, Normal Task list, Hard Task list. The queue first checks the Hard Task list to execute, then normal, then soft. Soft Task list and Nomal Task lists are cleared when a Hard Task arrives.","title":"Create a Single Thread Executor that has priority based queuing/exeuting","body":"<p>A single thread executor is enough for you, but you would probably want to implement your own queue as normal queues certainly can not satisfy you here.</p>\n<p>I would use a heap to implement the queue, to make sure that higher priority tasks run before lower priority tasks. The heap should be cleared when a Hard Task arrives.</p>\n<p>You can also imlement a queue that contains three lists. Soft Task list, Normal Task list, Hard Task list. The queue first checks the Hard Task list to execute, then normal, then soft. Soft Task list and Nomal Task lists are cleared when a Hard Task arrives.</p>\n"}],"owner":{"display_name":"Fraser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670684381,"answer_count":1,"score":0,"last_activity_date":1668047654,"creation_date":1668036161,"question_id":74382777,"body_markdown":"I am wanting to develop a game where it uses an executor single thread. \r\n\r\nI have 3 types of tasks that need to be created:\r\n1. Soft task\r\n2. Normal task\r\n3. Hard task\r\n\r\nA soft task is the least priority when waiting in the queue, normal is next and hard is the highest priority.\r\n\r\nWhen a normal task is inside the queue, it should execute over the soft task, but the soft task should not be removed. \r\n\r\nWhen a hard task is inside the queue / pushed onto it, it should remove all soft and normal tasks from the queue. \r\n\r\nWhen a hard task is executing, it should block the thread until an action from the player is performed (such as click to continue).\r\n\r\n\r\nI am wondering what executor I should use or queues i should use to create this single thread for an event loop style game? Any suggestions would be appreciated. I couldn&#39;t find an example online/understand it for my scenario.","title":"Create a Single Thread Executor that has priority based queuing/exeuting","body":"<p>I am wanting to develop a game where it uses an executor single thread.</p>\n<p>I have 3 types of tasks that need to be created:</p>\n<ol>\n<li>Soft task</li>\n<li>Normal task</li>\n<li>Hard task</li>\n</ol>\n<p>A soft task is the least priority when waiting in the queue, normal is next and hard is the highest priority.</p>\n<p>When a normal task is inside the queue, it should execute over the soft task, but the soft task should not be removed.</p>\n<p>When a hard task is inside the queue / pushed onto it, it should remove all soft and normal tasks from the queue.</p>\n<p>When a hard task is executing, it should block the thread until an action from the player is performed (such as click to continue).</p>\n<p>I am wondering what executor I should use or queues i should use to create this single thread for an event loop style game? Any suggestions would be appreciated. I couldn't find an example online/understand it for my scenario.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","dynamodb-queries"],"answers":[{"comments":[{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1668036320,"post_id":74382460,"comment_id":131313159,"body_markdown":"Thanks, I&#39;ll try that. Are you saying that  :pages should be a literal string, and not an attributeValue object?","body":"Thanks, I&#39;ll try that. Are you saying that  :pages should be a literal string, and not an attributeValue object?"},{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1668036592,"post_id":74382460,"comment_id":131313204,"body_markdown":"A literal string could possibly work, but I&#39;m thinking more along the lines of parsing the values in the list to individual expressionAttributeValues like you can see in this JS example: https://stackoverflow.com/a/40294674/7909676","body":"A literal string could possibly work, but I&#39;m thinking more along the lines of parsing the values in the list to individual expressionAttributeValues like you can see in this JS example: <a href=\"https://stackoverflow.com/a/40294674/7909676\">stackoverflow.com/a/40294674/7909676</a>"},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1668047800,"post_id":74382460,"comment_id":131314893,"body_markdown":"Tried your suggestions and still no luck.  I updated my question with this additional information","body":"Tried your suggestions and still no luck.  I updated my question with this additional information"}],"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668035793,"creation_date":1668035793,"answer_id":74382460,"question_id":74381309,"body_markdown":"Try it like this:\r\n\r\n    String filterExpression = &quot;originalPageNumber IN (:pages)&quot;\r\n\r\n`:pages` would need to be a comma separated list of values. Which should essentially map to:\r\n\r\n    String filterExpression = &quot;originalPageNumber IN (1,2,3,7,9)&quot;\r\n\r\n","title":"DynamoDb IN operator in Java","body":"<p>Try it like this:</p>\n<pre><code>String filterExpression = &quot;originalPageNumber IN (:pages)&quot;\n</code></pre>\n<p><code>:pages</code> would need to be a comma separated list of values. Which should essentially map to:</p>\n<pre><code>String filterExpression = &quot;originalPageNumber IN (1,2,3,7,9)&quot;\n</code></pre>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668047483,"creation_date":1668027571,"question_id":74381309,"body_markdown":"I have a working DynamoDb query, but I&#39;m trying to add an IN operator and can&#39;t figure out the syntax for the FilterExpression.\r\n\r\n`pages` is a List&amp;lt;Integer&amp;gt; and I have an attribute in my table which is an Integer, so I&#39;m doing something like this\r\n```\r\nattrValues.put(&quot;:pages&quot;, AttributeValue.fromL(pages.stream()\r\n                     .map(i-&gt;AttributeValue.fromN(i.toString()))\r\n                     .collect(Collectors.toList())));\r\n\r\nString filterExpression = &quot;in(originalPageNumber, :pages)&quot;\r\n\r\nfinal QueryRequest.Builder queryBuilder = QueryRequest.builder()\r\n                .tableName(Parameters.addPrefix(TABLE_NAME))\r\n                .keyConditionExpression(keyConditionExpression)\r\n                .expressionAttributeNames(attrNameAlias)\r\n                .expressionAttributeValues(attrValues)\r\n                .filterExpression(filterExpression);\r\n\r\n```\r\n(this is not the complete code.  Just the relevant parts)\r\n\r\nBut it doesn&#39;t like my syntax at all.  I&#39;ve tried `originalPageNumber in :pages` and other variations as well.\r\n\r\n# Update\r\n\r\nOther things I tried\r\n\r\nTried setting `:pages` to \r\n```\r\nfinal String pagesStr = pages.stream().map(i -&gt; i.toString()).collect(Collectors.joining(&quot;, &quot;, &quot;(&quot;, &quot;)&quot;));\r\nfinal AttributeValue pagesAttr = AttributeValue.fromS(pagesStr);\r\nattrValues.put(&quot;:pages&quot;, pagesAttr);\r\n```\r\nor `AttributeValue(S=(1, 2))`\r\n\r\nI then got rid of `:pages` altogether and just set filterExpression to `in(originalPageNumber, (1, 2))`.  Still no luck.\r\nAlso tried `originalPageNumber in (1, 2)`","title":"DynamoDb IN operator in Java","body":"<p>I have a working DynamoDb query, but I'm trying to add an IN operator and can't figure out the syntax for the FilterExpression.</p>\n<p><code>pages</code> is a List&lt;Integer&gt; and I have an attribute in my table which is an Integer, so I'm doing something like this</p>\n<pre><code>attrValues.put(&quot;:pages&quot;, AttributeValue.fromL(pages.stream()\n                     .map(i-&gt;AttributeValue.fromN(i.toString()))\n                     .collect(Collectors.toList())));\n\nString filterExpression = &quot;in(originalPageNumber, :pages)&quot;\n\nfinal QueryRequest.Builder queryBuilder = QueryRequest.builder()\n                .tableName(Parameters.addPrefix(TABLE_NAME))\n                .keyConditionExpression(keyConditionExpression)\n                .expressionAttributeNames(attrNameAlias)\n                .expressionAttributeValues(attrValues)\n                .filterExpression(filterExpression);\n\n</code></pre>\n<p>(this is not the complete code.  Just the relevant parts)</p>\n<p>But it doesn't like my syntax at all.  I've tried <code>originalPageNumber in :pages</code> and other variations as well.</p>\n<h1>Update</h1>\n<p>Other things I tried</p>\n<p>Tried setting <code>:pages</code> to</p>\n<pre><code>final String pagesStr = pages.stream().map(i -&gt; i.toString()).collect(Collectors.joining(&quot;, &quot;, &quot;(&quot;, &quot;)&quot;));\nfinal AttributeValue pagesAttr = AttributeValue.fromS(pagesStr);\nattrValues.put(&quot;:pages&quot;, pagesAttr);\n</code></pre>\n<p>or <code>AttributeValue(S=(1, 2))</code></p>\n<p>I then got rid of <code>:pages</code> altogether and just set filterExpression to <code>in(originalPageNumber, (1, 2))</code>.  Still no luck.\nAlso tried <code>originalPageNumber in (1, 2)</code></p>\n"},{"tags":["java","spring","spring-boot","deployment"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1667928687,"post_id":74364700,"comment_id":131283343,"body_markdown":"seems some of transitive dependency is referring older version of spring core &amp; that is reason you are getting this error. Can you please see if removing dependencies solving problem.","body":"seems some of transitive dependency is referring older version of spring core &amp; that is reason you are getting this error. Can you please see if removing dependencies solving problem."},{"owner":{"account_id":2414203,"reputation":5,"user_id":2108638,"display_name":"redds1"},"score":0,"creation_date":1667929102,"post_id":74364700,"comment_id":131283523,"body_markdown":"Dependency by another jar file or in the source code? I am not able to find anything..","body":"Dependency by another jar file or in the source code? I am not able to find anything.."}],"answers":[{"comments":[{"owner":{"account_id":2414203,"reputation":5,"user_id":2108638,"display_name":"redds1"},"score":0,"creation_date":1668438177,"post_id":74383475,"comment_id":131398513,"body_markdown":"Hi, can you explain what&#39;s not true. Can java 8 work with spring 2.x/3.x?","body":"Hi, can you explain what&#39;s not true. Can java 8 work with spring 2.x/3.x?"},{"owner":{"account_id":2414203,"reputation":5,"user_id":2108638,"display_name":"redds1"},"score":0,"creation_date":1668442023,"post_id":74383475,"comment_id":131399999,"body_markdown":"if I deploy my project in Java 8 with  springframework 2.5.6 jars (which work in Java 6), I get this error: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]","body":"if I deploy my project in Java 8 with  springframework 2.5.6 jars (which work in Java 6), I get this error: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in ServletContext resource [/WEB-INF/applicationContext.xml]"},{"owner":{"account_id":1231950,"reputation":348,"user_id":1196334,"display_name":"Vasiliy"},"score":0,"creation_date":1669762754,"post_id":74383475,"comment_id":131715929,"body_markdown":"As far as I remember we had Spring 2 apps running on java while ago. Thought I do advice to upgrade Spring as opposed to trying to make your app working with old Spring. If you still need help , ping me","body":"As far as I remember we had Spring 2 apps running on java while ago. Thought I do advice to upgrade Spring as opposed to trying to make your app working with old Spring. If you still need help , ping me"}],"tags":[],"owner":{"account_id":1231950,"reputation":348,"user_id":1196334,"display_name":"Vasiliy"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668046913,"creation_date":1668046913,"answer_id":74383475,"question_id":74364700,"body_markdown":"Several thing s you stated are not exactly true.\r\nBut to the point, your exception indicates that versions of spring-web and spring-core are not matching. Or you have some other older spring artifact in your classpath. Check your classpath.","title":"NoSuchMethodError while trying to deploy the spring application on Tomcat 9 in Java 8","body":"<p>Several thing s you stated are not exactly true.\nBut to the point, your exception indicates that versions of spring-web and spring-core are not matching. Or you have some other older spring artifact in your classpath. Check your classpath.</p>\n"}],"owner":{"account_id":2414203,"reputation":5,"user_id":2108638,"display_name":"redds1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668046913,"creation_date":1667927736,"question_id":74364700,"body_markdown":"My spring web application builds and compiles fine in Java 6. It currently uses spring framework 2.x version jar files. \r\n\r\nI am trying to upgrade the application to Java 8. Based upon my research, it seems Java 8 requires spring 4.x or higher. So, I upgraded the spring framework core file to 4.3.30 in the application. The issue is that now I am getting java.lang.NoSuchMethodError error because &#39;CollectionFactory&#39; has been removed from the new version of spring core jar file. How do I fix this issue?\r\n\r\nBelow is the error in the tomcat logs:\r\n```\r\njava.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\r\n\t\tat org.springframework.web.context.ContextLoader.&lt;clinit&gt;(ContextLoader.java:153)\r\n\t\tat org.springframework.web.context.ContextLoaderListener.createContextLoader(ContextLoaderListener.java:53)\r\n\t\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:44)\r\n\t\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4769)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5231)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:538)\r\n\t\tat org.apache.catalina.startup.HostConfig.check(HostConfig.java:1690)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\t\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\t\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1614)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1026)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:660)\r\n\t\tat org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\r\n\t\tat org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nThis is my application context file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n       xsi:schemaLocation=&quot;\r\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd\r\n       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd\r\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd\r\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.0.xsd&quot;&gt;\r\n        \r\n    \r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/tpds&lt;/value&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;dataSource2&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/abc&lt;/value&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;!-- v Improve performance by loading this code 1 time &amp; sharing it among servlets. v --&gt;\r\n\r\n    &lt;!-- VIEW INTERCEPTOR --&gt;\r\n   \r\n    &lt;bean id=&quot;viewInterceptor&quot; class=&quot;net.taxstream.util.web.ViewInterceptor&quot; /&gt;\r\n\r\n   \r\n    &lt;bean id=&quot;sessionBinding&quot; class=&quot;net.abc.core.web.binder.SessionInterceptor&quot;&gt;\r\n        &lt;property name=&quot;spatialBinder&quot;&gt;\r\n            &lt;bean class=&quot;net.abc.core.web.binder.StandardRequestLocationDatabinder&quot;&gt;\r\n                &lt;property name=&quot;paramOrder&quot;&gt;\r\n                    &lt;list&gt;\r\n                        &lt;value&gt;clientId&lt;/value&gt;\r\n                     \r\n                    &lt;/list&gt;\r\n                &lt;/property&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    &lt;!-- ^ Improve performance by loading this code 1 time &amp; sharing it among servlets. ^ --&gt;\r\n\r\n&lt;!-- INTERNATIONALIZATION BEANS --&gt;\r\n    &lt;bean id=&quot;localeResolver&quot; class=&quot;org.springframework.web.servlet.i18n.CookieLocaleResolver&quot;&gt;\r\n        &lt;property name=&quot;cookieName&quot; value=&quot;clientlanguage&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;localeChangeInterceptor&quot; class=&quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&quot; /&gt;\r\n    \r\n    &lt;bean id=&quot;messageSource&quot; name=&quot;tsMessageSource&quot; class=&quot;net.taxstream.util.i18n.TsMessageSource&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;internationalizer&quot; class=&quot;net.taxstream.util.i18n.Internationalizer&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;!-- ACCESS CONTROL BEANS --&gt;    \r\n    &lt;bean id=&quot;accessControl&quot; class=&quot;net.abc.foundation.acs.rbac.JdbcAccessControlFactory&quot; scope=&quot;session&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;transactionManager&quot;&gt;\r\n            &lt;ref bean=&quot;transactionManager&quot;/&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;!-- we need to annotate the proper interfaces and classes for this to work\r\n    each method call needs to know what permission to check for --&gt;\r\n    &lt;bean id=&quot;rbacAspect&quot; class=&quot;net.abc.core.pro.acs.rbac.RbacAspect&quot;&gt;\r\n        &lt;property name=&quot;order&quot; value=&quot;0&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n&lt;!-- TRANSACTION AND AUDIT BEANS --&gt;\r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot; /&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;!-- audit trial stuff --&gt;\r\n    &lt;bean id=&quot;gttSessionUpdate&quot; class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;\r\n       &lt;property name=&quot;transactionManager&quot;&gt;\r\n           &lt;ref bean=&quot;transactionManager&quot;/&gt;\r\n       &lt;/property&gt;\r\n       &lt;property name=&quot;target&quot;&gt;\r\n           &lt;ref local=&quot;gttSessionUpdateTarget&quot;/&gt;\r\n       &lt;/property&gt;\r\n       &lt;property name=&quot;transactionAttributes&quot;&gt;\r\n           &lt;props&gt;\r\n               &lt;prop key=&quot;*&quot;&gt;\r\n                   PROPAGATION_MANDATORY\r\n               &lt;/prop&gt;\r\n           &lt;/props&gt;\r\n       &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;gttSessionUpdateTarget&quot; class=&quot;net.abc.core.audit.GttSessionUpdate&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;audit&quot; class=&quot;net.abc.core.audit.AuditAspect&quot;&gt;\r\n        &lt;property name=&quot;gttSessionUpdate&quot; ref=&quot;gttSessionUpdate&quot;/&gt;\r\n        &lt;property name=&quot;order&quot; value=&quot;200&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    \r\n&lt;!-- LOGIN BEANS --&gt;    \r\n    &lt;bean id=&quot;loginDao&quot; class=&quot;net.abc.core.security.ProLoginDao&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n \r\n    &lt;bean id=&quot;proDao&quot; class=&quot;net.abc.core.legacy.ProDao&quot; /&gt;\r\n    \r\n    &lt;bean id=&quot;logoDao&quot; class=&quot;net.abc.core.dao.JdbcClientLogoDao&quot;&gt;\r\n            &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;lobHandler&quot;&gt;&lt;ref bean=&quot;lobHandler&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;  \r\n\r\n\r\n&lt;!-- IMPORT BEANS --&gt;        \r\n    &lt;bean id=&quot;dataImportManager&quot; class=&quot;net.abc.core.dao.JdbcDataImportDao&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; &gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;cloverUri&quot; value=&quot;WEB-INF/foundationModule/clover&quot; /&gt;\r\n     &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;navigationUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;!-- MESSAGE AND LOB BEANS --&gt;\r\n    \r\n    &lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\r\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\r\n    \r\n\r\n    &lt;!-- WebSphere specific--&gt;\r\n    &lt;!--&lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;\r\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;--&gt;\r\n    \r\n    &lt;bean id=&quot;lobHandler&quot; class=&quot;org.springframework.jdbc.support.lob.OracleLobHandler&quot;&gt;\r\n            &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;nativeJdbcExtractor&quot; /&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;messageDBInteraction&quot; class=&quot;net.taxstream.messages.biz.OracleSpringMessageDBInteraction&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n        &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;extractor&quot; /&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n&lt;!-- INSTRUCTION BEANS --&gt;    \r\n    &lt;bean id=&quot;instructionDao&quot;  class=&quot;net.abc.instruction.dao.OracleJdbcInstructionDao&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; \r\n        &lt;!--&lt;property name=&quot;nativeJdbcExtractor&quot; ref=&quot;nativeJdbcExtractor&quot; /&gt; --&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;instructionManager&quot; class=&quot;net.abc.instruction.biz.InstructionManager&quot;&gt;\r\n        &lt;property name=&quot;instructionDao&quot;&gt;&lt;ref local=&quot;instructionDao&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;!-- DOMAIN OBJECT MANAGERS --&gt;\r\n    &lt;bean id=&quot;clientManager&quot; class=&quot;net.abc.core.biz.JdbcClientManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;userManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;stateManager&quot; class=&quot;net.abc.core.biz.JdbcStateManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;unitManager&quot; class=&quot;net.abc.core.biz.JdbcUnitManager&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n &lt;bean id=&quot;userClientManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserClientManager&quot;&gt;\r\n         &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n         &lt;property name=&quot;userManager&quot;&gt;&lt;ref local=&quot;userManager&quot;/&gt;&lt;/property&gt;\r\n         &lt;property name=&quot;clientManager&quot;&gt;&lt;ref local=&quot;clientManager&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    \r\n    &lt;bean id=&quot;assignmentManager&quot; class=&quot;net.abc.admin.dao.JdbcAssignmentUtilsImpl&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;navUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n       \r\n&lt;!-- SHARED CONTROLLERS --&gt;\r\n&lt;bean id=&quot;logoController&quot; class=&quot;net.abc.core.web.controller.LogoController&quot;&gt;\r\n    &lt;property name=&quot;methodNameResolver&quot;&gt;\r\n        &lt;bean class=&quot;net.abc.core.web.PrettyUrlItemActionMethodNameResolver&quot;&gt;\r\n            &lt;property name=&quot;items&quot;&gt;\r\n                &lt;map&gt;\r\n                    &lt;entry key=&quot;logo/name/*&quot; value=&quot;ClientLogoByName&quot; /&gt;\r\n                    &lt;entry key=&quot;logo/id/*&quot; value=&quot;ClientLogoByID&quot; /&gt;\r\n                    &lt;entry key=&quot;logo/ajax/*&quot; value=&quot;ClientLogoByAjax&quot; /&gt;\r\n                &lt;/map&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;clientLogoDao&quot;&gt;\r\n        &lt;ref bean=&quot;logoDao&quot;/&gt;\r\n    &lt;/property&gt;   \r\n&lt;/bean&gt;\r\n\r\n\r\n&lt;!-- ADVICE / AOP CONFIG --&gt;    \r\n    &lt;tx:advice id=&quot;txAdvice&quot;&gt;\r\n        &lt;!-- the transactional semantics... --&gt;\r\n        &lt;tx:attributes&gt;\r\n            &lt;tx:method name=&quot;create*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n            &lt;tx:method name=&quot;retrieve*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; read-only=&quot;true&quot; /&gt;\r\n            &lt;tx:method name=&quot;update*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n            &lt;tx:method name=&quot;delete*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n            &lt;tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\r\n        &lt;/tx:attributes&gt;\r\n    &lt;/tx:advice&gt;\r\n&lt;/beans&gt;\r\n```","title":"NoSuchMethodError while trying to deploy the spring application on Tomcat 9 in Java 8","body":"<p>My spring web application builds and compiles fine in Java 6. It currently uses spring framework 2.x version jar files.</p>\n<p>I am trying to upgrade the application to Java 8. Based upon my research, it seems Java 8 requires spring 4.x or higher. So, I upgraded the spring framework core file to 4.3.30 in the application. The issue is that now I am getting java.lang.NoSuchMethodError error because 'CollectionFactory' has been removed from the new version of spring core jar file. How do I fix this issue?</p>\n<p>Below is the error in the tomcat logs:</p>\n<pre><code>java.lang.NoSuchMethodError: org.springframework.core.CollectionFactory.createConcurrentMapIfPossible(I)Ljava/util/Map;\n        at org.springframework.web.context.ContextLoader.&lt;clinit&gt;(ContextLoader.java:153)\n        at org.springframework.web.context.ContextLoaderListener.createContextLoader(ContextLoaderListener.java:53)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:44)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4769)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5231)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:538)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1690)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1614)\n        at org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1026)\n        at org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:660)\n        at org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\n        at org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>This is my application context file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\n       xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n       xsi:schemaLocation=&quot;\n       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd\n       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.0.xsd\n       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.0.xsd\n       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.0.xsd&quot;&gt;\n        \n    \n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/tpds&lt;/value&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;dataSource2&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;\n        &lt;property name=&quot;jndiName&quot;&gt;&lt;value&gt;java:comp/env/jdbc/abc&lt;/value&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- v Improve performance by loading this code 1 time &amp; sharing it among servlets. v --&gt;\n\n    &lt;!-- VIEW INTERCEPTOR --&gt;\n   \n    &lt;bean id=&quot;viewInterceptor&quot; class=&quot;net.taxstream.util.web.ViewInterceptor&quot; /&gt;\n\n   \n    &lt;bean id=&quot;sessionBinding&quot; class=&quot;net.abc.core.web.binder.SessionInterceptor&quot;&gt;\n        &lt;property name=&quot;spatialBinder&quot;&gt;\n            &lt;bean class=&quot;net.abc.core.web.binder.StandardRequestLocationDatabinder&quot;&gt;\n                &lt;property name=&quot;paramOrder&quot;&gt;\n                    &lt;list&gt;\n                        &lt;value&gt;clientId&lt;/value&gt;\n                     \n                    &lt;/list&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;!-- ^ Improve performance by loading this code 1 time &amp; sharing it among servlets. ^ --&gt;\n\n&lt;!-- INTERNATIONALIZATION BEANS --&gt;\n    &lt;bean id=&quot;localeResolver&quot; class=&quot;org.springframework.web.servlet.i18n.CookieLocaleResolver&quot;&gt;\n        &lt;property name=&quot;cookieName&quot; value=&quot;clientlanguage&quot;/&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;localeChangeInterceptor&quot; class=&quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&quot; /&gt;\n    \n    &lt;bean id=&quot;messageSource&quot; name=&quot;tsMessageSource&quot; class=&quot;net.taxstream.util.i18n.TsMessageSource&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;internationalizer&quot; class=&quot;net.taxstream.util.i18n.Internationalizer&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n&lt;!-- ACCESS CONTROL BEANS --&gt;    \n    &lt;bean id=&quot;accessControl&quot; class=&quot;net.abc.foundation.acs.rbac.JdbcAccessControlFactory&quot; scope=&quot;session&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n        &lt;property name=&quot;transactionManager&quot;&gt;\n            &lt;ref bean=&quot;transactionManager&quot;/&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- we need to annotate the proper interfaces and classes for this to work\n    each method call needs to know what permission to check for --&gt;\n    &lt;bean id=&quot;rbacAspect&quot; class=&quot;net.abc.core.pro.acs.rbac.RbacAspect&quot;&gt;\n        &lt;property name=&quot;order&quot; value=&quot;0&quot;/&gt;\n    &lt;/bean&gt;\n\n\n&lt;!-- TRANSACTION AND AUDIT BEANS --&gt;\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot; /&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;!-- audit trial stuff --&gt;\n    &lt;bean id=&quot;gttSessionUpdate&quot; class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&gt;\n       &lt;property name=&quot;transactionManager&quot;&gt;\n           &lt;ref bean=&quot;transactionManager&quot;/&gt;\n       &lt;/property&gt;\n       &lt;property name=&quot;target&quot;&gt;\n           &lt;ref local=&quot;gttSessionUpdateTarget&quot;/&gt;\n       &lt;/property&gt;\n       &lt;property name=&quot;transactionAttributes&quot;&gt;\n           &lt;props&gt;\n               &lt;prop key=&quot;*&quot;&gt;\n                   PROPAGATION_MANDATORY\n               &lt;/prop&gt;\n           &lt;/props&gt;\n       &lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;gttSessionUpdateTarget&quot; class=&quot;net.abc.core.audit.GttSessionUpdate&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;audit&quot; class=&quot;net.abc.core.audit.AuditAspect&quot;&gt;\n        &lt;property name=&quot;gttSessionUpdate&quot; ref=&quot;gttSessionUpdate&quot;/&gt;\n        &lt;property name=&quot;order&quot; value=&quot;200&quot;/&gt;\n    &lt;/bean&gt;\n    \n    \n&lt;!-- LOGIN BEANS --&gt;    \n    &lt;bean id=&quot;loginDao&quot; class=&quot;net.abc.core.security.ProLoginDao&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n \n    &lt;bean id=&quot;proDao&quot; class=&quot;net.abc.core.legacy.ProDao&quot; /&gt;\n    \n    &lt;bean id=&quot;logoDao&quot; class=&quot;net.abc.core.dao.JdbcClientLogoDao&quot;&gt;\n            &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n            &lt;property name=&quot;lobHandler&quot;&gt;&lt;ref bean=&quot;lobHandler&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;  \n\n\n&lt;!-- IMPORT BEANS --&gt;        \n    &lt;bean id=&quot;dataImportManager&quot; class=&quot;net.abc.core.dao.JdbcDataImportDao&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; &gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n        &lt;property name=&quot;cloverUri&quot; value=&quot;WEB-INF/foundationModule/clover&quot; /&gt;\n     &lt;/bean&gt;\n\n    &lt;bean id=&quot;navigationUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n&lt;!-- MESSAGE AND LOB BEANS --&gt;\n    \n    &lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.SimpleNativeJdbcExtractor&quot; /&gt;\n    \n\n    &lt;!-- WebSphere specific--&gt;\n    &lt;!--&lt;bean id=&quot;extractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;\n    &lt;bean id=&quot;nativeJdbcExtractor&quot; class=&quot;org.springframework.jdbc.support.nativejdbc.WebSphereNativeJdbcExtractor&quot; /&gt;--&gt;\n    \n    &lt;bean id=&quot;lobHandler&quot; class=&quot;org.springframework.jdbc.support.lob.OracleLobHandler&quot;&gt;\n            &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;nativeJdbcExtractor&quot; /&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;messageDBInteraction&quot; class=&quot;net.taxstream.messages.biz.OracleSpringMessageDBInteraction&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n        &lt;property name=&quot;nativeJdbcExtractor&quot;&gt;&lt;ref local=&quot;extractor&quot; /&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n&lt;!-- INSTRUCTION BEANS --&gt;    \n    &lt;bean id=&quot;instructionDao&quot;  class=&quot;net.abc.instruction.dao.OracleJdbcInstructionDao&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt; \n        &lt;!--&lt;property name=&quot;nativeJdbcExtractor&quot; ref=&quot;nativeJdbcExtractor&quot; /&gt; --&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;instructionManager&quot; class=&quot;net.abc.instruction.biz.InstructionManager&quot;&gt;\n        &lt;property name=&quot;instructionDao&quot;&gt;&lt;ref local=&quot;instructionDao&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n&lt;!-- DOMAIN OBJECT MANAGERS --&gt;\n    &lt;bean id=&quot;clientManager&quot; class=&quot;net.abc.core.biz.JdbcClientManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;userManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;stateManager&quot; class=&quot;net.abc.core.biz.JdbcStateManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;unitManager&quot; class=&quot;net.abc.core.biz.JdbcUnitManager&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n &lt;bean id=&quot;userClientManager&quot; class=&quot;net.abc.admin.biz.AdminJdbcUserClientManager&quot;&gt;\n         &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n         &lt;property name=&quot;userManager&quot;&gt;&lt;ref local=&quot;userManager&quot;/&gt;&lt;/property&gt;\n         &lt;property name=&quot;clientManager&quot;&gt;&lt;ref local=&quot;clientManager&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n    \n    &lt;bean id=&quot;assignmentManager&quot; class=&quot;net.abc.admin.dao.JdbcAssignmentUtilsImpl&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;navUtils&quot; class=&quot;net.abc.core.util.JdbcNavigationUtils&quot;&gt;\n        &lt;property name=&quot;dataSource&quot;&gt;&lt;ref bean=&quot;dataSource&quot;/&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n       \n&lt;!-- SHARED CONTROLLERS --&gt;\n&lt;bean id=&quot;logoController&quot; class=&quot;net.abc.core.web.controller.LogoController&quot;&gt;\n    &lt;property name=&quot;methodNameResolver&quot;&gt;\n        &lt;bean class=&quot;net.abc.core.web.PrettyUrlItemActionMethodNameResolver&quot;&gt;\n            &lt;property name=&quot;items&quot;&gt;\n                &lt;map&gt;\n                    &lt;entry key=&quot;logo/name/*&quot; value=&quot;ClientLogoByName&quot; /&gt;\n                    &lt;entry key=&quot;logo/id/*&quot; value=&quot;ClientLogoByID&quot; /&gt;\n                    &lt;entry key=&quot;logo/ajax/*&quot; value=&quot;ClientLogoByAjax&quot; /&gt;\n                &lt;/map&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n    &lt;property name=&quot;clientLogoDao&quot;&gt;\n        &lt;ref bean=&quot;logoDao&quot;/&gt;\n    &lt;/property&gt;   \n&lt;/bean&gt;\n\n\n&lt;!-- ADVICE / AOP CONFIG --&gt;    \n    &lt;tx:advice id=&quot;txAdvice&quot;&gt;\n        &lt;!-- the transactional semantics... --&gt;\n        &lt;tx:attributes&gt;\n            &lt;tx:method name=&quot;create*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n            &lt;tx:method name=&quot;retrieve*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; read-only=&quot;true&quot; /&gt;\n            &lt;tx:method name=&quot;update*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n            &lt;tx:method name=&quot;delete*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n            &lt;tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot; isolation=&quot;READ_COMMITTED&quot; /&gt;\n        &lt;/tx:attributes&gt;\n    &lt;/tx:advice&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","html","selenium"],"comments":[{"owner":{"account_id":5764092,"reputation":51945,"user_id":4549554,"accept_rate":59,"display_name":"Andersson"},"score":0,"creation_date":1456738093,"post_id":35695647,"comment_id":59068723,"body_markdown":"you can try to find text for a link `By.xpath`: `//a[contains(href, &quot;DetailsZZ-&quot;)]`","body":"you can try to find text for a link <code>By.xpath</code>: <code>&#47;&#47;a[contains(href, &quot;DetailsZZ-&quot;)]</code>"}],"answers":[{"comments":[{"owner":{"account_id":5803909,"reputation":463,"user_id":4577214,"accept_rate":81,"display_name":"Michal"},"score":0,"creation_date":1456741130,"post_id":35695951,"comment_id":59070622,"body_markdown":"it works almost great, I just get the NullPointerException on the `String[] data = text.split(&quot;-&quot;);` line, so I&#39;m making to find out what&#39;s happens :)","body":"it works almost great, I just get the NullPointerException on the <code>String[] data = text.split(&quot;-&quot;);</code> line, so I&#39;m making to find out what&#39;s happens :)"},{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":0,"creation_date":1456743366,"post_id":35695951,"comment_id":59072078,"body_markdown":"@Michal with both versions of text extracting?","body":"@Michal with both versions of text extracting?"}],"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456739453,"creation_date":1456738168,"answer_id":35695951,"question_id":35695647,"body_markdown":"To locate the element you can use\r\n\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.partialLinkText(&quot;ZZ&quot;));\r\n    // or\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.cssSelector(&quot;[href*=&#39;ZZ&#39;]&quot;));\r\n\r\nTo get the href and text you can do\r\n\r\n    for (WebElement element : elements) {\r\n        String href = element.getAttribute(&quot;href&quot;);\r\n        String text = element.getText();\r\n        // or\r\n        String text = element.getAttribute(&quot;innerText&quot;);\r\n\r\n        // and to get the number\r\n        String[] data = text.split(&quot;-&quot;);\r\n        String number = data[1];\r\n    }","title":"Get link text using Selenium and Java","body":"<p>To locate the element you can use</p>\n\n<pre><code>List&lt;WebElement&gt; elements = driver.findElements(By.partialLinkText(\"ZZ\"));\n// or\nList&lt;WebElement&gt; elements = driver.findElements(By.cssSelector(\"[href*='ZZ']\"));\n</code></pre>\n\n<p>To get the href and text you can do</p>\n\n<pre><code>for (WebElement element : elements) {\n    String href = element.getAttribute(\"href\");\n    String text = element.getText();\n    // or\n    String text = element.getAttribute(\"innerText\");\n\n    // and to get the number\n    String[] data = text.split(\"-\");\n    String number = data[1];\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5803909,"reputation":463,"user_id":4577214,"accept_rate":81,"display_name":"Michal"},"score":0,"creation_date":1456741266,"post_id":35696258,"comment_id":59070732,"body_markdown":"works almost great, I think I know what you want to show :) I just got `&quot;java.lang.ArrayIndexOutOfBoundsException: 1&quot;` error on the return, so I just need to find out what&#39;s happend (but thanks for a rod :) )","body":"works almost great, I think I know what you want to show :) I just got <code>&quot;java.lang.ArrayIndexOutOfBoundsException: 1&quot;</code> error on the return, so I just need to find out what&#39;s happend (but thanks for a rod :) )"},{"owner":{"account_id":5248884,"reputation":4394,"user_id":4193730,"display_name":"Subh"},"score":1,"creation_date":1456741922,"post_id":35696258,"comment_id":59071192,"body_markdown":"@Michal : I am guessing there are some `a` element(s) without **the numerical value** in their `href` attribute; something like: &quot;DetailsZZ&quot; or &quot;DetailsZZ-&quot; or &quot;&lt;some other random text&gt;&quot;, and that&#39;s why it throws **ArrayOutOfBoundsException** since there is no second value in the array to display. Try in the above code, as **@Andersson** commented, by replacing with either of these `List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;//a[contains(@href, &quot;DetailsZZ-&quot;)]&quot;));`\n**or**\n `List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;//a[starts-with(href, &quot;DetailsZZ-&quot;)]&quot;));`","body":"@Michal : I am guessing there are some <code>a</code> element(s) without <b>the numerical value</b> in their <code>href</code> attribute; something like: &quot;DetailsZZ&quot; or &quot;DetailsZZ-&quot; or &quot;&lt;some other random text&gt;&quot;, and that&#39;s why it throws <b>ArrayOutOfBoundsException</b> since there is no second value in the array to display. Try in the above code, as <b>@Andersson</b> commented, by replacing with either of these <code>List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;&#47;&#47;a[contains(@href, &quot;DetailsZZ-&quot;)]&quot;));</code> <b>or</b>  <code>List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;&#47;&#47;a[starts-with(href, &quot;DetailsZZ-&quot;)]&quot;));</code>"},{"owner":{"account_id":5803909,"reputation":463,"user_id":4577214,"accept_rate":81,"display_name":"Michal"},"score":0,"creation_date":1456743569,"post_id":35696258,"comment_id":59072207,"body_markdown":"You guys are great, that&#39;s what it should do! :D Thank you!\n\nBut for the future if somebody will look here, it should be `&#39;DetailsZZ-&#39;` instead of `&quot;DetailsZZ-&quot;` :)","body":"You guys are great, that&#39;s what it should do! :D Thank you!  But for the future if somebody will look here, it should be <code>&#39;DetailsZZ-&#39;</code> instead of <code>&quot;DetailsZZ-&quot;</code> :)"},{"owner":{"account_id":3118078,"reputation":123,"user_id":2638437,"display_name":"Ankur Gupta"},"score":0,"creation_date":1456743726,"post_id":35696258,"comment_id":59072294,"body_markdown":"@Michael....thats sounds an array problem to me i.e Array[1]...it may happen when the value does not exist for an array and we trying to fetch it..","body":"@Michael....thats sounds an array problem to me i.e Array[1]...it may happen when the value does not exist for an array and we trying to fetch it.."}],"tags":[],"owner":{"account_id":3118078,"reputation":123,"user_id":2638437,"display_name":"Ankur Gupta"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1668046813,"creation_date":1456739037,"answer_id":35696258,"question_id":35695647,"body_markdown":"You can use the following code to extract the number:\r\n\r\n    public String splitfunc(String str)\r\n    {\r\n        str = str.replace(&quot;.html&quot;, &quot;&quot;);\r\n        String[] array = str.split(&quot;-&quot;);\r\n        return array[1];\r\n    }\r\n\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\r\n    for (int i = 0; i &lt; elements.size(); i++) {\r\n        System.out.println(splitfunc(elements.get(i).getAttribute(&quot;href&quot;)));\r\n    }\r\n\r\n","title":"Get link text using Selenium and Java","body":"<p>You can use the following code to extract the number:</p>\n<pre><code>public String splitfunc(String str)\n{\n    str = str.replace(&quot;.html&quot;, &quot;&quot;);\n    String[] array = str.split(&quot;-&quot;);\n    return array[1];\n}\n\nList&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\nfor (int i = 0; i &lt; elements.size(); i++) {\n    System.out.println(splitfunc(elements.get(i).getAttribute(&quot;href&quot;)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6710778,"reputation":1731,"user_id":5174292,"display_name":"Aaron Davis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469306205,"creation_date":1469306205,"answer_id":38546203,"question_id":35695647,"body_markdown":"Since you are looking for the text of the link and not the actual href URL itself, I think it is cleaner and less error prone to grab the element text and use that for parsing rather than pulling out the href attribute. Then, if the text is **always** in the form of `ZZ-someNumber` then you can make the parsing fairly simple.\r\n\r\nExample using Java 8 (assuming the driver has already been created and has loaded the correct page):\r\n\r\n    String leadingStr = &quot;ZZ-&quot;;\r\n    List&lt; Integer &gt; numbers = driver.findElements(By.tagName(&quot;a&quot;))\r\n                                    .stream()\r\n                                    .map(WebElement::getText)\r\n                                    .filter(str -&gt; null != str &amp;&amp; str.startsWith(leadingStr))\r\n                                    .map(str -&gt; str.replace(leadingStr,&quot;&quot;).trim())\r\n                                    .filter(str -&gt; !str.isEmpty())\r\n                                    .map(Integer::valueOf)\r\n                                    .collect(Collectors.toList());\r\n\r\nExample without streams:\r\n\r\n    String leadingStr = &quot;ZZ-&quot;;\r\n    List&lt; Integer &gt; numbers = new ArrayList&lt;&gt;();\r\n    for (WebElement elem : driver.findElements(By.tagName(&quot;a&quot;))) {\r\n        String text = elem.getText();\r\n        if (text.startsWith(leadingStr)) {\r\n            numbers.add(Integer.valueOf(text.replace(leadingStr,&quot;&quot;).trim()));\r\n        }\r\n    }\r\n\r\nOf course both of the above would need a bit more error handling if the assumption that they are always in the form of `ZZ-someNumber` isn&#39;t valid but then it is just a simple addition of some try catch blocks around the integer conversion, etc.\r\n","title":"Get link text using Selenium and Java","body":"<p>Since you are looking for the text of the link and not the actual href URL itself, I think it is cleaner and less error prone to grab the element text and use that for parsing rather than pulling out the href attribute. Then, if the text is <strong>always</strong> in the form of <code>ZZ-someNumber</code> then you can make the parsing fairly simple.</p>\n\n<p>Example using Java 8 (assuming the driver has already been created and has loaded the correct page):</p>\n\n<pre><code>String leadingStr = \"ZZ-\";\nList&lt; Integer &gt; numbers = driver.findElements(By.tagName(\"a\"))\n                                .stream()\n                                .map(WebElement::getText)\n                                .filter(str -&gt; null != str &amp;&amp; str.startsWith(leadingStr))\n                                .map(str -&gt; str.replace(leadingStr,\"\").trim())\n                                .filter(str -&gt; !str.isEmpty())\n                                .map(Integer::valueOf)\n                                .collect(Collectors.toList());\n</code></pre>\n\n<p>Example without streams:</p>\n\n<pre><code>String leadingStr = \"ZZ-\";\nList&lt; Integer &gt; numbers = new ArrayList&lt;&gt;();\nfor (WebElement elem : driver.findElements(By.tagName(\"a\"))) {\n    String text = elem.getText();\n    if (text.startsWith(leadingStr)) {\n        numbers.add(Integer.valueOf(text.replace(leadingStr,\"\").trim()));\n    }\n}\n</code></pre>\n\n<p>Of course both of the above would need a bit more error handling if the assumption that they are always in the form of <code>ZZ-someNumber</code> isn't valid but then it is just a simple addition of some try catch blocks around the integer conversion, etc.</p>\n"},{"tags":[],"owner":{"account_id":378731,"reputation":3103,"user_id":731636,"accept_rate":94,"display_name":"robx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474934873,"creation_date":1474934873,"answer_id":39714164,"question_id":35695647,"body_markdown":"A more elegant way to get it without risk of index out of bounds exception is to use a foreach if your language level allows.\r\n\r\nThis will allow you to get the text of the link as you requested, and not the href and do so much parsing.\r\n\r\nThe trim is just extra defensive coding. \r\n\r\n    List&lt;WebElement&gt; links = driver.findElements(By.tagName(&quot;a&quot;)); \r\n    for (WebElement link : links ) {\r\n       System.out.println(link.getText().replace(&quot;ZZ-&quot;,&quot;&quot;).trim());\r\n    }","title":"Get link text using Selenium and Java","body":"<p>A more elegant way to get it without risk of index out of bounds exception is to use a foreach if your language level allows.</p>\n\n<p>This will allow you to get the text of the link as you requested, and not the href and do so much parsing.</p>\n\n<p>The trim is just extra defensive coding. </p>\n\n<pre><code>List&lt;WebElement&gt; links = driver.findElements(By.tagName(\"a\")); \nfor (WebElement link : links ) {\n   System.out.println(link.getText().replace(\"ZZ-\",\"\").trim());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":508927,"reputation":2023,"user_id":1251613,"accept_rate":100,"display_name":"Markus"},"score":0,"creation_date":1496838536,"post_id":44411623,"comment_id":75824217,"body_markdown":"I am not sure, but element.element.getText() should not compile because element is not a public field in WebElement.","body":"I am not sure, but element.element.getText() should not compile because element is not a public field in WebElement."}],"tags":[],"owner":{"account_id":8843079,"reputation":127,"user_id":6604897,"display_name":"K.Krishnakanth"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496847852,"creation_date":1496835596,"answer_id":44411623,"question_id":35695647,"body_markdown":"    WebElement element = driver.findElement(By.partialLinkText(&quot;ZZ-10048&quot;));\r\n    String txt = element.getText();\r\n    String[] words = txt.split(&quot;-&quot;);\r\n    System.out.println(words[1]);","title":"Get link text using Selenium and Java","body":"<pre><code>WebElement element = driver.findElement(By.partialLinkText(\"ZZ-10048\"));\nString txt = element.getText();\nString[] words = txt.split(\"-\");\nSystem.out.println(words[1]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13976402,"reputation":1,"user_id":10093723,"display_name":"Suraj Choudhary"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1531840342,"creation_date":1531834947,"answer_id":51382967,"question_id":35695647,"body_markdown":"I think this is one of the simplest ways to fetch text, available from an anchor.\r\n\r\n    WebElement link  = driver.findElement(By.partialLinkText(&quot;ZZ&quot;));\r\n    System.out.println(link.getText());","title":"Get link text using Selenium and Java","body":"<p>I think this is one of the simplest ways to fetch text, available from an anchor.</p>\n\n<pre><code>WebElement link  = driver.findElement(By.partialLinkText(\"ZZ\"));\nSystem.out.println(link.getText());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668046998,"post_id":51385486,"comment_id":131314775,"body_markdown":"This will not compile.","body":"This will not compile."}],"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531843262,"creation_date":1531842206,"answer_id":51385486,"question_id":35695647,"body_markdown":"There exact solution of this problem would be something like :  \r\n\r\nAs you have mentioned you want to get the **number** after **-** \r\n\r\nFor that, you can use start-with which is available in xpath for matching the start text.  \r\n\r\n     List&lt;WebElement&gt; elements = driver.findElements(By.xpath(&quot;//a[starts-with(text(),&#39;ZZ-&#39;)]&quot;)); \r\n      for (int i = 0; i &lt; elements.size(); i++) {\r\n       System.out.println(elements.get(i).getAttribute(&quot;href&quot;)));  \r\n\r\n@Gupta answer is good hack though. IMO , it was not the proper solution regarding selenium.","title":"Get link text using Selenium and Java","body":"<p>There exact solution of this problem would be something like :  </p>\n\n<p>As you have mentioned you want to get the <strong>number</strong> after <strong>-</strong> </p>\n\n<p>For that, you can use start-with which is available in xpath for matching the start text.  </p>\n\n<pre><code> List&lt;WebElement&gt; elements = driver.findElements(By.xpath(\"//a[starts-with(text(),'ZZ-')]\")); \n  for (int i = 0; i &lt; elements.size(); i++) {\n   System.out.println(elements.get(i).getAttribute(\"href\")));  \n</code></pre>\n\n<p>@Gupta answer is good hack though. IMO , it was not the proper solution regarding selenium.</p>\n"}],"owner":{"account_id":5803909,"reputation":463,"user_id":4577214,"accept_rate":81,"display_name":"Michal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13003,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35696258,"answer_count":7,"score":2,"last_activity_date":1668046813,"creation_date":1456737192,"question_id":35695647,"body_markdown":"I have a problem with getting the text of a link.\r\n\r\nOn a site, I have the text link\r\n`&lt;a href=&quot;DetailsZZ-10048.html&quot;&gt;ZZ-10048&lt;/a&gt;`. The part with `ZZ-` is static, the number increments and it isn&#39;t known for me earlier. I need to get this number.\r\n\r\nI used looking at: *https://stackoverflow.com/questions/20036485/get-link-text-selenium-java*, but there I have all links, URLs (not the text of the links).\r\n\r\nI also tried: *https://stackoverflow.com/questions/22087952/how-to-gettext-of-an-element-in-selenium-webdriver*, but I got output *Printing null* every time I changed and looked for a solution.\r\n\r\nAnd the solution: *https://stackoverflow.com/questions/29796984/java-selenium-how-to-get-linktext-anchor-from-link-webelement* is not good either, because it doesn&#39;t recognise `&quot;a[href*=&#39;ZZ-&#39;]&quot;`.\r\n\r\nSo, the closest one is:\r\n\r\n    List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\r\n    for (int i = 0; i &lt; elements.size(); i++) {\r\n       System.out.println(elements.get(i).getAttribute(&quot;href&quot;));\r\n    }\r\n\r\nBut how can I change to view not only URLs, but names of the link? (especially one which starts from `ZZ-`)\r\n\r\n\r\n\r\n\r\n","title":"Get link text using Selenium and Java","body":"<p>I have a problem with getting the text of a link.</p>\n<p>On a site, I have the text link\n<code>&lt;a href=&quot;DetailsZZ-10048.html&quot;&gt;ZZ-10048&lt;/a&gt;</code>. The part with <code>ZZ-</code> is static, the number increments and it isn't known for me earlier. I need to get this number.</p>\n<p>I used looking at: <em><a href=\"https://stackoverflow.com/questions/20036485/get-link-text-selenium-java\">Get link text - Selenium, Java</a></em>, but there I have all links, URLs (not the text of the links).</p>\n<p>I also tried: <em><a href=\"https://stackoverflow.com/questions/22087952/how-to-gettext-of-an-element-in-selenium-webdriver\">How to gettext() of an element in Selenium Webdriver</a></em>, but I got output <em>Printing null</em> every time I changed and looked for a solution.</p>\n<p>And the solution: <em><a href=\"https://stackoverflow.com/questions/29796984/java-selenium-how-to-get-linktext-anchor-from-link-webelement\">Java Selenium, how to get linkText (anchor) from link WebElement</a></em> is not good either, because it doesn't recognise <code>&quot;a[href*='ZZ-']&quot;</code>.</p>\n<p>So, the closest one is:</p>\n<pre><code>List&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;a&quot;));\nfor (int i = 0; i &lt; elements.size(); i++) {\n   System.out.println(elements.get(i).getAttribute(&quot;href&quot;));\n}\n</code></pre>\n<p>But how can I change to view not only URLs, but names of the link? (especially one which starts from <code>ZZ-</code>)</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":200972,"reputation":1278,"user_id":447137,"display_name":"Ankur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668046358,"creation_date":1668046358,"answer_id":74383424,"question_id":74370708,"body_markdown":"Instead of:\r\n```\r\ngetApplication().setTheme(R.style.Theme_Defaults);\r\n```\r\nTry using:\r\n```\r\ngetLayoutInflater().getContext().setTheme(R.style.Theme_Defaults);\r\n```\r\n\r\nThis should work.\r\n","title":"Android theme is not changing","body":"<p>Instead of:</p>\n<pre><code>getApplication().setTheme(R.style.Theme_Defaults);\n</code></pre>\n<p>Try using:</p>\n<pre><code>getLayoutInflater().getContext().setTheme(R.style.Theme_Defaults);\n</code></pre>\n<p>This should work.</p>\n"}],"owner":{"account_id":25201724,"reputation":155,"user_id":19040512,"display_name":"redevil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668046358,"creation_date":1667975217,"question_id":74370708,"body_markdown":"I made a splash screen using two styles first is the default style without &#39;windowBackground&#39; and the second is splash screen style with &#39;windowBackground&#39;. The problem is that when I am changing style using getApplication().setTheme in the MainActivity using the code below:\r\n\r\n\r\n\r\n    @Override\r\n    protected final void onCreate(@Nullable Bundle savedInstanceState) {\r\n\r\n        // this line of code is not changing theme\r\n        getApplication().setTheme(R.style.Theme_Defaults);\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\nThe splash screen is not disappearing (&#39;windowBackground&#39; is not removed from &#39;SpScreen&#39; style)\r\n\r\n\r\n**Manifest:**\r\n   \r\n\r\n     &lt;application\r\n            android:hardwareAccelerated=&quot;true&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/SpScreen&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            android:largeHeap=&quot;true&quot;\r\n            android:extractNativeLibs=&quot;false&quot;\r\n            tools:ignore=&quot;UnusedAttribute&quot;&gt;\r\n\r\n\r\n**Theme.xml:**\r\n\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.Defaults&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;lollipop&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowLightStatusBar&quot; tools:targetApi=&quot;m&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorInt&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorInt&lt;/item&gt;\r\n        &lt;item name=&quot;android:supportsPerformanceGameMode&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:forceHasOverlappingRendering&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowEnableSplitTouch&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:splitMotionEvents&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:allowGameFpsOverride&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:largeHeap&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:allowGameAngleDriver&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n    \r\n    &lt;style name=&quot;SpScreen&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;lollipop&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowLightStatusBar&quot; tools:targetApi=&quot;m&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorInt&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorInt&lt;/item&gt;\r\n        &lt;item name=&quot;android:supportsPerformanceGameMode&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:forceHasOverlappingRendering&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowEnableSplitTouch&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:splitMotionEvents&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:allowGameFpsOverride&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:largeHeap&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:allowGameAngleDriver&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\r\n        \r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/backgroud_splashscreen&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n\r\nThe only difference between the styles is:\r\n\r\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/backgroud_splashscreen&lt;/item&gt;\r\n\r\n","title":"Android theme is not changing","body":"<p>I made a splash screen using two styles first is the default style without 'windowBackground' and the second is splash screen style with 'windowBackground'. The problem is that when I am changing style using getApplication().setTheme in the MainActivity using the code below:</p>\n<pre><code>@Override\nprotected final void onCreate(@Nullable Bundle savedInstanceState) {\n\n    // this line of code is not changing theme\n    getApplication().setTheme(R.style.Theme_Defaults);\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n</code></pre>\n<p>The splash screen is not disappearing ('windowBackground' is not removed from 'SpScreen' style)</p>\n<p><strong>Manifest:</strong></p>\n<pre><code> &lt;application\n        android:hardwareAccelerated=&quot;true&quot;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/SpScreen&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        android:largeHeap=&quot;true&quot;\n        android:extractNativeLibs=&quot;false&quot;\n        tools:ignore=&quot;UnusedAttribute&quot;&gt;\n</code></pre>\n<p><strong>Theme.xml:</strong></p>\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Theme.Defaults&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;lollipop&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:windowLightStatusBar&quot; tools:targetApi=&quot;m&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorInt&lt;/item&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/colorInt&lt;/item&gt;\n    &lt;item name=&quot;android:supportsPerformanceGameMode&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:forceHasOverlappingRendering&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:windowEnableSplitTouch&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:splitMotionEvents&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:allowGameFpsOverride&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:largeHeap&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:allowGameAngleDriver&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;SpScreen&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;lollipop&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:windowLightStatusBar&quot; tools:targetApi=&quot;m&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorInt&lt;/item&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/colorInt&lt;/item&gt;\n    &lt;item name=&quot;android:supportsPerformanceGameMode&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:forceHasOverlappingRendering&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:windowEnableSplitTouch&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:splitMotionEvents&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:allowGameFpsOverride&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:largeHeap&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:allowGameAngleDriver&quot; tools:ignore=&quot;NewApi&quot;&gt;true&lt;/item&gt;\n    \n    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/backgroud_splashscreen&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>The only difference between the styles is:</p>\n<pre><code>&lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/backgroud_splashscreen&lt;/item&gt;\n</code></pre>\n"},{"tags":["java","google-api","google-bigquery","google-cloud-platform"],"comments":[{"owner":{"account_id":3433659,"reputation":14473,"user_id":2877278,"accept_rate":88,"display_name":"Graham Polley"},"score":0,"creation_date":1478641980,"post_id":40484030,"comment_id":68238210,"body_markdown":"Possible duplicate of [How to safely inject parameter into string DB query java?](http://stackoverflow.com/questions/40365213/how-to-safely-inject-parameter-into-string-db-query-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/40365213/how-to-safely-inject-parameter-into-string-db-query-java\">How to safely inject parameter into string DB query java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3944798,"reputation":616,"user_id":3257867,"display_name":"Matthew Wesley"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478624404,"creation_date":1478624404,"answer_id":40492491,"question_id":40484030,"body_markdown":"Query parameter type names are required to be in canonical, fully-capitalized form: &quot;STRING&quot; instead of &quot;string&quot;.","title":"GoogleJsonResponseException: 400 Bad Request &quot;Invalid query parameter type&quot;","body":"<p>Query parameter type names are required to be in canonical, fully-capitalized form: \"STRING\" instead of \"string\".</p>\n"}],"owner":{"account_id":119440,"reputation":35402,"user_id":311130,"accept_rate":75,"display_name":"Elad Benda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668045623,"creation_date":1478599520,"question_id":40484030,"body_markdown":"I try to programaticaly inject params to my bigQuery query:\r\n\r\nThis is my code:\r\n\r\n\r\n    List&lt;QueryParameter&gt; params = new ArrayList&lt;&gt;();\r\n\r\n    QueryParameter param = new QueryParameter();\r\n    param.setName(&quot;@country&quot;);\r\n    param.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.country));\r\n    param.setParameterType(new QueryParameterType().setType(&quot;string&quot;));\r\n    params.add(param);\r\n\r\n    param = new QueryParameter();\r\n    param.setName(&quot;countryAbbr&quot;);\r\n    param.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.countryAbbr));\r\n    param.setParameterType(new QueryParameterType().setType(&quot;string&quot;));\r\n    params.add(param);\r\n\r\n    List&lt;String&gt; brands =  brandChangeDataUi.brands;\r\n    List&lt;String&gt; brands2 =  new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; brands.size(); i++) {\r\n\r\n        param = new QueryParameter();\r\n        param.setName(&quot;brand&quot; + i);\r\n        param.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.brands.get(i)));\r\n        param.setParameterType(new QueryParameterType().setType(&quot;string&quot;));\r\n        params.add(param);\r\n\r\n        brands2.add(&quot;@brand&quot; + i);\r\n    }\r\n\r\n    JobConfigurationQuery jobConfigurationQuery = new JobConfigurationQuery();\r\n    jobConfigurationQuery.setQueryParameters(params);\r\n    jobConfigurationQuery.setUseLegacySql(false);\r\n\r\n    String listString = brands2.stream().map(brand -&gt; &quot;venue3.brand.value=&#39;&quot;+ brand +&quot;&#39;&quot;).collect(Collectors.joining(&quot; or &quot;));\r\n\r\n    jobConfigurationQuery.setQuery(&quot;select * from [--table---] &quot; +\r\n            &quot;where (country = @country or country = @countryAbbr) and &quot; +\r\n            &quot;(&quot;+listString+&quot;) order by venue3.brand.value&quot;);\r\n   \r\n\r\n\r\n    System.out.format(&quot;\\nInserting Query Job: %s\\n&quot;, jobConfigurationQuery.getQuery());\r\n\r\n    Job job = new Job();\r\n    JobConfiguration config = new JobConfiguration();\r\n    config.setQuery(jobConfigurationQuery);\r\n\r\n    job.setConfiguration(config);\r\n\r\n    Insert insert = bigquery.jobs().insert(projectId, job);\r\n    insert.setProjectId(projectId);\r\n    JobReference jobId = insert.execute().getJobReference();\r\n\r\n    System.out.format(&quot;\\nJob ID of Query Job is: %s\\n&quot;, jobId.getJobId());\r\n\r\n    return jobId;\r\n\r\n\r\n\r\n\r\nWhat should I change? As i get an error and not sure if my syntax is correct anyhow\r\n\r\n@conuntry is the way to inject?\r\n\r\nI saw this [json][1] and thought `&quot;string&quot;` is a valid value for `type`\r\n\r\n\r\n\r\n\r\nI see this in my console:\r\n\r\n\r\n    Inserting Query Job: select * from [MY_TABLE] where (country = @country or country = @countryAbbr) and (venue3.brand.value=&#39;@brand0&#39;) order by venue3.brand.value\r\n    \r\n    com.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\r\n    {\r\n      &quot;code&quot; : 400,\r\n      &quot;errors&quot; : [ {\r\n        &quot;domain&quot; : &quot;global&quot;,\r\n        &quot;message&quot; : &quot;Invalid query parameter type&quot;,\r\n        &quot;reason&quot; : &quot;invalid&quot;,\r\n        &quot;debugInfo&quot; : &quot;[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\&quot;cloud.helix.ErrorDomain\\&quot;\\ncode: \\&quot;INVALID_VALUE\\&quot;\\nargument: \\&quot;Invalid query parameter type\\&quot;\\nlocation_type: PATH\\nlocation: \\&quot;configuration.query.query_options.parameters.parameter_type.type_kind\\&quot;\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz\\ncom.google.api.server.core.Fault: ImmutableErrorDefinition{base=INVALID_PARAMETER, category=USER_ERROR, cause=null, debugInfo=[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\&quot;cloud.helix.ErrorDomain\\&quot;\\ncode: \\&quot;INVALID_VALUE\\&quot;\\nargument: \\&quot;Invalid query parameter type\\&quot;\\nlocation_type: PATH\\nlocation: \\&quot;configuration.query.query_options.parameters.parameter_type.type_kind\\&quot;\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz, domain=global, extendedHelp=null, httpHeaders={}, httpStatus=badRequest, internalReason=Reason{arguments={}, cause=null, code=cloud.helix.ErrorDomain.INVALID_VALUE, createdByBackend=true, debugMessage=[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\&quot;cloud.helix.ErrorDomain\\&quot;\\ncode: \\&quot;INVALID_VALUE\\&quot;\\nargument: \\&quot;Invalid query parameter type\\&quot;\\nlocation_type: PATH\\nlocation: \\&quot;configuration.query.query_options.parameters.parameter_type.type_kind\\&quot;\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz, errorProtoCode=INVALID_VALUE, errorProtoDomain=cloud.helix.ErrorDomain, filteredMessage=null, location=entity.configuration.query.query_options.parameters.parameter_type.type_kind, message=null, unnamedArguments=[Invalid query parameter type]}, location=entity.configuration.query.query_options.parameters.parameter_type.type_kind, message=Invalid query parameter type, reason=invalid, rpcCode=400} Invalid query parameter type: [INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\&quot;cloud.helix.ErrorDomain\\&quot;\\ncode: \\&quot;INVALID_VALUE\\&quot;\\nargument: \\&quot;Invalid query parameter type\\&quot;\\nlocation_type: PATH\\nlocation: \\&quot;configuration.query.query_options.parameters.parameter_type.type_kind\\&quot;\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz\\n\\tat com.google.api.server.core.ErrorCollector.toFault(ErrorCollector.java:43)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyErrorConverter.toFault(RosyErrorConverter.java:62)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyHandler$2.call(RosyHandler.java:256)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyHandler$2.call(RosyHandler.java:237)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:439)\\n\\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:903)\\n\\tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:814)\\n\\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:656)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:439)\\n\\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:903)\\n\\tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:814)\\n\\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:656)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.api.server.thread.ThreadTrackers$ThreadTrackingRunnable.run(ThreadTrackers.java:126)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.api.server.server.CommonModule$ContextCarryingExecutorService$1.runInContext(CommonModule.java:801)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.gse.internal.DispatchQueueImpl$WorkerThread.run(DispatchQueueImpl.java:400)\\n&quot;\r\n      } ],\r\n      &quot;message&quot; : &quot;Invalid query parameter type&quot;\r\n    }\r\n\r\n\r\n  [1]: https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/query","title":"GoogleJsonResponseException: 400 Bad Request &quot;Invalid query parameter type&quot;","body":"<p>I try to programaticaly inject params to my bigQuery query:</p>\n\n<p>This is my code:</p>\n\n<pre><code>List&lt;QueryParameter&gt; params = new ArrayList&lt;&gt;();\n\nQueryParameter param = new QueryParameter();\nparam.setName(\"@country\");\nparam.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.country));\nparam.setParameterType(new QueryParameterType().setType(\"string\"));\nparams.add(param);\n\nparam = new QueryParameter();\nparam.setName(\"countryAbbr\");\nparam.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.countryAbbr));\nparam.setParameterType(new QueryParameterType().setType(\"string\"));\nparams.add(param);\n\nList&lt;String&gt; brands =  brandChangeDataUi.brands;\nList&lt;String&gt; brands2 =  new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; brands.size(); i++) {\n\n    param = new QueryParameter();\n    param.setName(\"brand\" + i);\n    param.setParameterValue(new QueryParameterValue().setValue(brandChangeDataUi.brands.get(i)));\n    param.setParameterType(new QueryParameterType().setType(\"string\"));\n    params.add(param);\n\n    brands2.add(\"@brand\" + i);\n}\n\nJobConfigurationQuery jobConfigurationQuery = new JobConfigurationQuery();\njobConfigurationQuery.setQueryParameters(params);\njobConfigurationQuery.setUseLegacySql(false);\n\nString listString = brands2.stream().map(brand -&gt; \"venue3.brand.value='\"+ brand +\"'\").collect(Collectors.joining(\" or \"));\n\njobConfigurationQuery.setQuery(\"select * from [--table---] \" +\n        \"where (country = @country or country = @countryAbbr) and \" +\n        \"(\"+listString+\") order by venue3.brand.value\");\n\n\n\nSystem.out.format(\"\\nInserting Query Job: %s\\n\", jobConfigurationQuery.getQuery());\n\nJob job = new Job();\nJobConfiguration config = new JobConfiguration();\nconfig.setQuery(jobConfigurationQuery);\n\njob.setConfiguration(config);\n\nInsert insert = bigquery.jobs().insert(projectId, job);\ninsert.setProjectId(projectId);\nJobReference jobId = insert.execute().getJobReference();\n\nSystem.out.format(\"\\nJob ID of Query Job is: %s\\n\", jobId.getJobId());\n\nreturn jobId;\n</code></pre>\n\n<p>What should I change? As i get an error and not sure if my syntax is correct anyhow</p>\n\n<p>@conuntry is the way to inject?</p>\n\n<p>I saw this <a href=\"https://cloud.google.com/bigquery/docs/reference/rest/v2/jobs/query\" rel=\"nofollow noreferrer\">json</a> and thought <code>\"string\"</code> is a valid value for <code>type</code></p>\n\n<p>I see this in my console:</p>\n\n<pre><code>Inserting Query Job: select * from [MY_TABLE] where (country = @country or country = @countryAbbr) and (venue3.brand.value='@brand0') order by venue3.brand.value\n\ncom.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\n{\n  \"code\" : 400,\n  \"errors\" : [ {\n    \"domain\" : \"global\",\n    \"message\" : \"Invalid query parameter type\",\n    \"reason\" : \"invalid\",\n    \"debugInfo\" : \"[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\\"cloud.helix.ErrorDomain\\\"\\ncode: \\\"INVALID_VALUE\\\"\\nargument: \\\"Invalid query parameter type\\\"\\nlocation_type: PATH\\nlocation: \\\"configuration.query.query_options.parameters.parameter_type.type_kind\\\"\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz\\ncom.google.api.server.core.Fault: ImmutableErrorDefinition{base=INVALID_PARAMETER, category=USER_ERROR, cause=null, debugInfo=[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\\"cloud.helix.ErrorDomain\\\"\\ncode: \\\"INVALID_VALUE\\\"\\nargument: \\\"Invalid query parameter type\\\"\\nlocation_type: PATH\\nlocation: \\\"configuration.query.query_options.parameters.parameter_type.type_kind\\\"\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz, domain=global, extendedHelp=null, httpHeaders={}, httpStatus=badRequest, internalReason=Reason{arguments={}, cause=null, code=cloud.helix.ErrorDomain.INVALID_VALUE, createdByBackend=true, debugMessage=[INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\\"cloud.helix.ErrorDomain\\\"\\ncode: \\\"INVALID_VALUE\\\"\\nargument: \\\"Invalid query parameter type\\\"\\nlocation_type: PATH\\nlocation: \\\"configuration.query.query_options.parameters.parameter_type.type_kind\\\"\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz, errorProtoCode=INVALID_VALUE, errorProtoDomain=cloud.helix.ErrorDomain, filteredMessage=null, location=entity.configuration.query.query_options.parameters.parameter_type.type_kind, message=null, unnamedArguments=[Invalid query parameter type]}, location=entity.configuration.query.query_options.parameters.parameter_type.type_kind, message=Invalid query parameter type, reason=invalid, rpcCode=400} Invalid query parameter type: [INVALID_INPUT], Reason: code=INVALID_INPUT message=Invalid query parameter type debug=null errorProto=domain: \\\"cloud.helix.ErrorDomain\\\"\\ncode: \\\"INVALID_VALUE\\\"\\nargument: \\\"Invalid query parameter type\\\"\\nlocation_type: PATH\\nlocation: \\\"configuration.query.query_options.parameters.parameter_type.type_kind\\\"\\n\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:138)\\n\\tat com.google.cloud.helix.common.Exceptions$Public.invalidInput(Exceptions.java:147)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.fail(Validator.java:362)\\n\\tat com.google.cloud.helix.server.common.Validator$Check.check(Validator.java:351)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1652)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1641)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1590)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:1501)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:910)\\n\\tat com.google.cloud.helix.server.common.Validator.validate(Validator.java:890)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy$JobValidator.validate(HelixJobRosy.java:512)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:903)\\n\\tat com.google.cloud.helix.server.rosy.HelixJobRosy.insert(HelixJobRosy.java:1488)\\n\\tat sun.reflect.GeneratedMethodAccessor1198.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$1.call(RosyRequestProxy.java:398)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestDapperHookFactory$TracingRequestHook.call(RosyRequestDapperHookFactory.java:83)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestVarzHookFactory$Hook.call(RosyRequestVarzHookFactory.java:232)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestAuditHookFactory$1.call(RosyRequestAuditHookFactory.java:39)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.server.rosy.RosyRequestContextHookFactory$1.call(RosyRequestContextHookFactory.java:66)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestCredsHookFactory$1.call(RosyRequestCredsHookFactory.java:44)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook$1.call(RosyRequestStatsRequestHookFactory.java:82)\\n\\tat com.google.tracing.LocalTraceSpanCallable.call(LocalTraceSpanCallable.java:67)\\n\\tat com.google.tracing.LocalTraceSpanCallable.callWithNoException(LocalTraceSpanCallable.java:85)\\n\\tat com.google.tracing.LocalTraceSpanBuilder.callWithNoException(LocalTraceSpanBuilder.java:632)\\n\\tat com.google.cloud.helix.common.StatsRequestLog.startTrace(StatsRequestLog.java:41)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestStatsRequestHookFactory$Hook.call(RosyRequestStatsRequestHookFactory.java:79)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestLogHookFactory$1.call(RosyRequestLogHookFactory.java:56)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy$2.call(RosyRequestProxy.java:421)\\n\\tat com.google.cloud.helix.common.rosy.RosyRequestProxy.invoke(RosyRequestProxy.java:565)\\n\\tat com.sun.proxy.$Proxy27.insert(Unknown Source)\\n\\tat com.google.cloud.helix.proto.proto2api.HelixJob$HelixJobService$ServiceParameters$1.handleRequest(HelixJob.java:23875)\\n\\tat com.google.net.rpc3.impl.server.RpcServerInternalContext.runRpcInApplication(RpcServerInternalContext.java:565)\\n\\tat com.google.net.rpc3.impl.server.RpcServerChannel$1$1.runInContext(RpcServerChannel.java:875)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:314)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\\n\\tat java.lang.Thread.run(Thread.java:745)\\n\\nRequest served by: /10.73.99.130:4774/statusz\\n\\tat com.google.api.server.core.ErrorCollector.toFault(ErrorCollector.java:43)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyErrorConverter.toFault(RosyErrorConverter.java:62)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyHandler$2.call(RosyHandler.java:256)\\n\\tat com.google.api.server.rest.adapter.rosy.RosyHandler$2.call(RosyHandler.java:237)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:439)\\n\\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:903)\\n\\tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:814)\\n\\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:656)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:439)\\n\\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:903)\\n\\tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:814)\\n\\tat com.google.common.util.concurrent.AbstractFuture.set(AbstractFuture.java:656)\\n\\tat com.google.api.server.core.util.CallableFuture.run(CallableFuture.java:62)\\n\\tat com.google.api.server.thread.ThreadTrackers$ThreadTrackingRunnable.run(ThreadTrackers.java:126)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.runInContext(TraceContext.java:446)\\n\\tat com.google.api.server.server.CommonModule$ContextCarryingExecutorService$1.runInContext(CommonModule.java:801)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable$1.run(TraceContext.java:453)\\n\\tat com.google.tracing.CurrentContext.runInContext(CurrentContext.java:274)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContextNoUnref(TraceContext.java:312)\\n\\tat com.google.tracing.TraceContext$AbstractTraceContextCallback.runInInheritedContext(TraceContext.java:304)\\n\\tat com.google.tracing.TraceContext$TraceContextRunnable.run(TraceContext.java:450)\\n\\tat com.google.gse.internal.DispatchQueueImpl$WorkerThread.run(DispatchQueueImpl.java:400)\\n\"\n  } ],\n  \"message\" : \"Invalid query parameter type\"\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":2,"creation_date":1667601503,"post_id":74323470,"comment_id":131213476,"body_markdown":"Looks like they were set using Gradle, in which case you should update the gradle build first, then have it regenerate the Eclipse project metadata like the Java Build Path.","body":"Looks like they were set using Gradle, in which case you should update the gradle build first, then have it regenerate the Eclipse project metadata like the Java Build Path."},{"owner":{"account_id":113319,"reputation":2649,"user_id":298511,"accept_rate":79,"display_name":"Mike Lowery"},"score":0,"creation_date":1668041680,"post_id":74323470,"comment_id":131314011,"body_markdown":"@nitind Post this as the answer and I&#39;ll accept it.","body":"@nitind Post this as the answer and I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668043625,"creation_date":1668043625,"answer_id":74383193,"question_id":74323470,"body_markdown":"Looks like they were set using Gradle, in which case you should update the gradle build first, then have it regenerate the Eclipse project metadata like the Java Build Path (using the `cleanEclipse` and `eclipse` tasks).","title":"Build path libraries cannot be manipulated in Eclipse","body":"<p>Looks like they were set using Gradle, in which case you should update the gradle build first, then have it regenerate the Eclipse project metadata like the Java Build Path (using the <code>cleanEclipse</code> and <code>eclipse</code> tasks).</p>\n"}],"owner":{"account_id":113319,"reputation":2649,"user_id":298511,"accept_rate":79,"display_name":"Mike Lowery"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74383193,"answer_count":1,"score":0,"last_activity_date":1668043625,"creation_date":1667599969,"question_id":74323470,"body_markdown":"I&#39;m working on a Java application that was developed using Eclipse Luna. There are multiple projects in the workspace and each has several dependencies on 3rd party libraries. The problem is I can&#39;t figure out how to change these. If I select a library under Project Explorer the Delete option is greyed out. If I open the the Java Build Path window Libraries tab and select one there, all the buttons on the right are greyed out. What&#39;s causing this?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4EIM3.png","title":"Build path libraries cannot be manipulated in Eclipse","body":"<p>I'm working on a Java application that was developed using Eclipse Luna. There are multiple projects in the workspace and each has several dependencies on 3rd party libraries. The problem is I can't figure out how to change these. If I select a library under Project Explorer the Delete option is greyed out. If I open the the Java Build Path window Libraries tab and select one there, all the buttons on the right are greyed out. What's causing this?</p>\n<p><a href=\"https://i.stack.imgur.com/4EIM3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4EIM3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":4710907,"reputation":2178,"user_id":3811763,"display_name":"uneq95"},"score":0,"creation_date":1608308380,"post_id":65360357,"comment_id":115552043,"body_markdown":"why dont you clone the object instead?","body":"why dont you clone the object instead?"},{"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"score":0,"creation_date":1608308441,"post_id":65360357,"comment_id":115552067,"body_markdown":"As I said, I want it to update an existing object not create a new one.","body":"As I said, I want it to update an existing object not create a new one."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1608308463,"post_id":65360357,"comment_id":115552072,"body_markdown":"You could do this with reflection...you could query the metadata for the class involved to find out what attributes it contains, and use that data to copy each variable programatically.  I do not know of an existing library that will do this.  I would suggest that your object store its fields in a single Map value.  You could write getters and setters that referenced the Map, and so you wouldn&#39;t know the difference there.  But when copying the object, you could just copy the map and you&#39;d get whatever values are stored in it.","body":"You could do this with reflection...you could query the metadata for the class involved to find out what attributes it contains, and use that data to copy each variable programatically.  I do not know of an existing library that will do this.  I would suggest that your object store its fields in a single Map value.  You could write getters and setters that referenced the Map, and so you wouldn&#39;t know the difference there.  But when copying the object, you could just copy the map and you&#39;d get whatever values are stored in it."},{"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"score":0,"creation_date":1608308640,"post_id":65360357,"comment_id":115552153,"body_markdown":"Right, this is the kind of solution I also had in mind, but I was wondering if there is anything existent already in the JDK or other libraries that do this.","body":"Right, this is the kind of solution I also had in mind, but I was wondering if there is anything existent already in the JDK or other libraries that do this."},{"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"score":0,"creation_date":1608308724,"post_id":65360357,"comment_id":115552189,"body_markdown":"Another approach would be to create the byte-code for such a setter, like what Lombok does with the @RequiredArgsConstructor....but I don&#39;t know a framework that has such an annotation either.","body":"Another approach would be to create the byte-code for such a setter, like what Lombok does with the @RequiredArgsConstructor....but I don&#39;t know a framework that has such an annotation either."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1608309129,"post_id":65360357,"comment_id":115552363,"body_markdown":"How often are you going to be adding fields to your. objects?  I wonder if it&#39;s worth all of this work and obfuscation just so that you don&#39;t have to remember to add a few extra assignment statements to your class defs.  This is especially true if you don&#39;t really want to copy all of your fields, but rather have that be configurable.  Now you&#39;re talking about a lot of extra stuff.  I don&#39;t have a problem with what you&#39;re looking to do.  I&#39;m just asking if it&#39;s worth the trouble.","body":"How often are you going to be adding fields to your. objects?  I wonder if it&#39;s worth all of this work and obfuscation just so that you don&#39;t have to remember to add a few extra assignment statements to your class defs.  This is especially true if you don&#39;t really want to copy all of your fields, but rather have that be configurable.  Now you&#39;re talking about a lot of extra stuff.  I don&#39;t have a problem with what you&#39;re looking to do.  I&#39;m just asking if it&#39;s worth the trouble."},{"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"score":0,"creation_date":1608310216,"post_id":65360357,"comment_id":115552868,"body_markdown":"Good question, I don&#39;t know for sure yet either but those mistakes of forgetting to include a field in the manual update method are often hard to detect because there is no warning/error at compile time. I am taking the `@RequiredArgsConstructor` as a model/example and don&#39;t consider it to be a lot of work. There you can also annotate fields with something like `@Exclude` which I find very handy. Also, the class we are talking about is rather huge and has more than 20 or 30 attributes.","body":"Good question, I don&#39;t know for sure yet either but those mistakes of forgetting to include a field in the manual update method are often hard to detect because there is no warning/error at compile time. I am taking the <code>@RequiredArgsConstructor</code> as a model/example and don&#39;t consider it to be a lot of work. There you can also annotate fields with something like <code>@Exclude</code> which I find very handy. Also, the class we are talking about is rather huge and has more than 20 or 30 attributes."}],"answers":[{"comments":[{"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"score":0,"creation_date":1608383715,"post_id":65364775,"comment_id":115569928,"body_markdown":"Thanks for putting in the effort! This solution does indeed seem like it would do the trick, even though there are probably still some edge cases we haven&#39;t thought about yet ;-). I won&#39;t mark it as accepted as it requires manual reflection code (which I&#39;d rather stay away from) but if there are no other solution, I&#39;ll try it out on Monday for our code. Thanks you!","body":"Thanks for putting in the effort! This solution does indeed seem like it would do the trick, even though there are probably still some edge cases we haven&#39;t thought about yet ;-). I won&#39;t mark it as accepted as it requires manual reflection code (which I&#39;d rather stay away from) but if there are no other solution, I&#39;ll try it out on Monday for our code. Thanks you!"},{"owner":{"account_id":9014473,"reputation":1027,"user_id":7858883,"display_name":"DarkMatter"},"score":0,"creation_date":1608389766,"post_id":65364775,"comment_id":115571627,"body_markdown":"@schrobe Fair enough :) I almost want to build it into a lib and push it to Maven central but then I&#39;d need to test it completely and that feels like too much work. :D","body":"@schrobe Fair enough :) I almost want to build it into a lib and push it to Maven central but then I&#39;d need to test it completely and that feels like too much work. :D"}],"tags":[],"owner":{"account_id":9014473,"reputation":1027,"user_id":7858883,"display_name":"DarkMatter"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608330774,"creation_date":1608330774,"answer_id":65364775,"question_id":65360357,"body_markdown":"I found your question interesting and decided to try it out. Here is a solution using reflection. It looks for fields that match by name and type and which are not excluded by annotation, then sets the values of any matching fields. \r\n\r\nDisclaimer: I haven&#39;t thoroughly tested this, only lightly. It may need some work. It also doesn&#39;t use setter methods but instead just sets the field value.\r\n\r\nAttribute copying method:\r\n\r\n    public class AttrCopy {\r\n    \r\n        public void copyAttributes(Object from, Object to) throws IllegalAccessException {\r\n            Map&lt;String, Field&gt; toFieldNameMap = new HashMap&lt;&gt;();\r\n            for(Field f : to.getClass().getDeclaredFields()) {\r\n                toFieldNameMap.put(f.getName(), f);\r\n            }\r\n            for(Field f : from.getClass().getDeclaredFields()) {\r\n                Field ff = toFieldNameMap.get(f.getName());\r\n                f.setAccessible(true);\r\n                boolean include = f.getDeclaredAnnotation(AttrCopyExclude.class) == null;\r\n                if(include &amp;&amp; ff != null &amp;&amp; ff.getType().equals(f.getType())) {\r\n                    ff.setAccessible(true);\r\n                    ff.set(to, f.get(from));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnnotation to exclude fields:\r\n\r\n    @Target(ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface AttrCopyExclude {\r\n    }\r\n\r\nTest classes:\r\n\r\n    public class ClassA {\r\n        private String attribute1;\r\n        private int attribute2;\r\n        private int attribute3;\r\n        private String attribute4;\r\n        private String attribute5;\r\n    \r\n        // toString()\r\n    }\r\n    \r\n    public class ClassB {\r\n        private String attribute1;\r\n        private int attribute2;\r\n        private String attribute3;\r\n        @AttrCopyExclude\r\n        private String attribute4;\r\n        private String attribute6;\r\n    \r\n        // toString()\r\n    }\r\n\r\nTest code:\r\n\r\n    public class Tester {\r\n        public static void main(String[] args) throws IllegalAccessException {\r\n            ClassA classA = new ClassA(&quot;aaa&quot;, 123, 456, &quot;ddd&quot;, &quot;eee&quot;);\r\n            ClassB classB = new ClassB(&quot;111&quot;, 789, &quot;333&quot;, &quot;444&quot;, &quot;555&quot;);\r\n    \r\n            System.out.println(&quot;Before&quot;);\r\n            System.out.println(classA);\r\n            System.out.println(classB);\r\n    \r\n            new AttrCopy().copyAttributes(classB, classA);\r\n    \r\n            System.out.println(&quot;After copy A -&gt; B&quot;);\r\n            System.out.println(classA);\r\n            System.out.println(classB);\r\n        }\r\n    }\r\n\r\nTest output:\r\n```\r\nBefore\r\nClassA{attribute1=&#39;aaa&#39;, attribute2=123, attribute3=456, attribute4=&#39;ddd&#39;, attribute5=&#39;eee&#39;}\r\nClassB{attribute1=&#39;111&#39;, attribute2=789, attribute3=&#39;333&#39;, attribute4=&#39;444&#39;, attribute6=&#39;555&#39;}\r\nAfter copy B -&gt; A\r\nClassA{attribute1=&#39;111&#39;, attribute2=789, attribute3=456, attribute4=&#39;ddd&#39;, attribute5=&#39;eee&#39;}\r\nClassB{attribute1=&#39;111&#39;, attribute2=789, attribute3=&#39;333&#39;, attribute4=&#39;444&#39;, attribute6=&#39;555&#39;}\r\n```\r\n\r\nAttributes 1 and 2 are copied. 3 is excluded as type does not match. 4 is excluded by annotation. The last is excluded as the name doesn&#39;t match. \r\n","title":"How to update all field of one java object with the values from another one?","body":"<p>I found your question interesting and decided to try it out. Here is a solution using reflection. It looks for fields that match by name and type and which are not excluded by annotation, then sets the values of any matching fields.</p>\n<p>Disclaimer: I haven't thoroughly tested this, only lightly. It may need some work. It also doesn't use setter methods but instead just sets the field value.</p>\n<p>Attribute copying method:</p>\n<pre><code>public class AttrCopy {\n\n    public void copyAttributes(Object from, Object to) throws IllegalAccessException {\n        Map&lt;String, Field&gt; toFieldNameMap = new HashMap&lt;&gt;();\n        for(Field f : to.getClass().getDeclaredFields()) {\n            toFieldNameMap.put(f.getName(), f);\n        }\n        for(Field f : from.getClass().getDeclaredFields()) {\n            Field ff = toFieldNameMap.get(f.getName());\n            f.setAccessible(true);\n            boolean include = f.getDeclaredAnnotation(AttrCopyExclude.class) == null;\n            if(include &amp;&amp; ff != null &amp;&amp; ff.getType().equals(f.getType())) {\n                ff.setAccessible(true);\n                ff.set(to, f.get(from));\n            }\n        }\n    }\n}\n</code></pre>\n<p>Annotation to exclude fields:</p>\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface AttrCopyExclude {\n}\n</code></pre>\n<p>Test classes:</p>\n<pre><code>public class ClassA {\n    private String attribute1;\n    private int attribute2;\n    private int attribute3;\n    private String attribute4;\n    private String attribute5;\n\n    // toString()\n}\n\npublic class ClassB {\n    private String attribute1;\n    private int attribute2;\n    private String attribute3;\n    @AttrCopyExclude\n    private String attribute4;\n    private String attribute6;\n\n    // toString()\n}\n</code></pre>\n<p>Test code:</p>\n<pre><code>public class Tester {\n    public static void main(String[] args) throws IllegalAccessException {\n        ClassA classA = new ClassA(&quot;aaa&quot;, 123, 456, &quot;ddd&quot;, &quot;eee&quot;);\n        ClassB classB = new ClassB(&quot;111&quot;, 789, &quot;333&quot;, &quot;444&quot;, &quot;555&quot;);\n\n        System.out.println(&quot;Before&quot;);\n        System.out.println(classA);\n        System.out.println(classB);\n\n        new AttrCopy().copyAttributes(classB, classA);\n\n        System.out.println(&quot;After copy A -&gt; B&quot;);\n        System.out.println(classA);\n        System.out.println(classB);\n    }\n}\n</code></pre>\n<p>Test output:</p>\n<pre><code>Before\nClassA{attribute1='aaa', attribute2=123, attribute3=456, attribute4='ddd', attribute5='eee'}\nClassB{attribute1='111', attribute2=789, attribute3='333', attribute4='444', attribute6='555'}\nAfter copy B -&gt; A\nClassA{attribute1='111', attribute2=789, attribute3=456, attribute4='ddd', attribute5='eee'}\nClassB{attribute1='111', attribute2=789, attribute3='333', attribute4='444', attribute6='555'}\n</code></pre>\n<p>Attributes 1 and 2 are copied. 3 is excluded as type does not match. 4 is excluded by annotation. The last is excluded as the name doesn't match.</p>\n"},{"tags":[],"owner":{"account_id":13874958,"reputation":77,"user_id":10016867,"display_name":"sone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668042191,"creation_date":1668042191,"answer_id":74383057,"question_id":65360357,"body_markdown":"you might want to use [mapstruct][1] to copy between java object. Great example [here][2]\r\n\r\n\r\n  [1]: https://mapstruct.org/\r\n  [2]: https://reflectoring.io/java-mapping-with-mapstruct/","title":"How to update all field of one java object with the values from another one?","body":"<p>you might want to use <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">mapstruct</a> to copy between java object. Great example <a href=\"https://reflectoring.io/java-mapping-with-mapstruct/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1959333,"reputation":767,"user_id":1761439,"accept_rate":57,"display_name":"schrobe"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1958,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1668042191,"creation_date":1608308088,"question_id":65360357,"body_markdown":"Assume the following class:\r\n```\r\npublic class TestClass {\r\n    String attr1;\r\n    String attr2;\r\n    String attr3;\r\n}\r\n```\r\nand a client code like:\r\n```\r\nfinal TestClass testClassA = new TestClass();\r\ntestClassA.attr1 = &quot;1&quot;;\r\ntestClassA.attr1 = &quot;2&quot;;\r\ntestClassA.attr1 = &quot;3&quot;;\r\n\r\nfinal TestClass testClassB = new TestClass();\r\n```\r\nI would like to find way/method that updates `testClassB` with all the values of `testClassA`.\r\n\r\n\r\n```\r\ntestClassB.updateAll(testClassA)\r\n```\r\nOne such solution would be:\r\n```\r\npublic void updateAll(TestClass testClass) {\r\n    this.attr1 = testClass.attr1;\r\n    this.attr2 = testClass.attr2;\r\n    this.attr3 = testClass.attr3;\r\n}\r\n```\r\nNow, here comes the thing: I would like to not have to write this method manually for it to be less resilient when e.g. a new attribute is added. In this case I might forget to add it to the update-method.\r\n\r\nThe solution does not need to assign the values directly, in fact I&#39;d prefer it to call setter methods.\r\n\r\nIt is also possible for me to use any 3rd party frameworks out there like Lombok. I am looking for something like the `@RequiredArgsConstructor`, however I need the new object to be *updated* and not created. \r\n\r\nSo something like a `@RequiredArgsSetter` or a `Object.updateInto(Object1 o, Object2 o)` method, but again, it should not create a new object but simply update all the fields of an existing object.\r\n\r\nBonus points, if it is somehow possible to annotate the fields which should be included or excluded from being set.","title":"How to update all field of one java object with the values from another one?","body":"<p>Assume the following class:</p>\n<pre><code>public class TestClass {\n    String attr1;\n    String attr2;\n    String attr3;\n}\n</code></pre>\n<p>and a client code like:</p>\n<pre><code>final TestClass testClassA = new TestClass();\ntestClassA.attr1 = &quot;1&quot;;\ntestClassA.attr1 = &quot;2&quot;;\ntestClassA.attr1 = &quot;3&quot;;\n\nfinal TestClass testClassB = new TestClass();\n</code></pre>\n<p>I would like to find way/method that updates <code>testClassB</code> with all the values of <code>testClassA</code>.</p>\n<pre><code>testClassB.updateAll(testClassA)\n</code></pre>\n<p>One such solution would be:</p>\n<pre><code>public void updateAll(TestClass testClass) {\n    this.attr1 = testClass.attr1;\n    this.attr2 = testClass.attr2;\n    this.attr3 = testClass.attr3;\n}\n</code></pre>\n<p>Now, here comes the thing: I would like to not have to write this method manually for it to be less resilient when e.g. a new attribute is added. In this case I might forget to add it to the update-method.</p>\n<p>The solution does not need to assign the values directly, in fact I'd prefer it to call setter methods.</p>\n<p>It is also possible for me to use any 3rd party frameworks out there like Lombok. I am looking for something like the <code>@RequiredArgsConstructor</code>, however I need the new object to be <em>updated</em> and not created.</p>\n<p>So something like a <code>@RequiredArgsSetter</code> or a <code>Object.updateInto(Object1 o, Object2 o)</code> method, but again, it should not create a new object but simply update all the fields of an existing object.</p>\n<p>Bonus points, if it is somehow possible to annotate the fields which should be included or excluded from being set.</p>\n"},{"tags":["java","ibm-mq","message-queue"],"comments":[{"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"score":0,"creation_date":1667948887,"post_id":74368056,"comment_id":131289333,"body_markdown":"Post the Java code for the app that is getting the message from the queue. Also, MQ v9.2.2. is no longer supported.  If you are going to use a CD rather than LTS release then you need to keep up with the releases.","body":"Post the Java code for the app that is getting the message from the queue. Also, MQ v9.2.2. is no longer supported.  If you are going to use a CD rather than LTS release then you need to keep up with the releases."},{"owner":{"account_id":1697587,"reputation":187,"user_id":1558628,"display_name":"hellerim"},"score":0,"creation_date":1667950943,"post_id":74368056,"comment_id":131289731,"body_markdown":"@Roger: The installation version is 9.2.","body":"@Roger: The installation version is 9.2."},{"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"score":0,"creation_date":1668042152,"post_id":74368056,"comment_id":131314080,"body_markdown":"Ok and make sure you apply the FixPack so that you are running v9.2.0.6.","body":"Ok and make sure you apply the FixPack so that you are running v9.2.0.6."}],"answers":[{"comments":[{"owner":{"account_id":1697587,"reputation":187,"user_id":1558628,"display_name":"hellerim"},"score":0,"creation_date":1667996422,"post_id":74372649,"comment_id":131299874,"body_markdown":"Indeed, that&#39;s it. Just need to use msg2Text from the responder module. Sometime, all you need is a second pair of eyes. Thank you!","body":"Indeed, that&#39;s it. Just need to use msg2Text from the responder module. Sometime, all you need is a second pair of eyes. Thank you!"}],"tags":[],"owner":{"account_id":25908232,"reputation":46,"user_id":19632961,"display_name":"Rich"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667986820,"creation_date":1667986514,"answer_id":74372649,"question_id":74368056,"body_markdown":"It looks like you have created a buffer the right size for the message data and printed that, without moving the data into it.\r\n\r\nIn retrieveMessage:\r\n\r\n    byte[] buf = new byte[msg.getDataLength()];\r\n    String message = new String(buf, charset);\r\n    System.out.println(&quot;Requester: message received:\\n&quot; + message);\r\n\r\nYou might need to call the readFully (or similar) method to get the data.","title":"Why do I get zero-filled messages from dynamic queue","body":"<p>It looks like you have created a buffer the right size for the message data and printed that, without moving the data into it.</p>\n<p>In retrieveMessage:</p>\n<pre><code>byte[] buf = new byte[msg.getDataLength()];\nString message = new String(buf, charset);\nSystem.out.println(&quot;Requester: message received:\\n&quot; + message);\n</code></pre>\n<p>You might need to call the readFully (or similar) method to get the data.</p>\n"},{"comments":[{"owner":{"account_id":1697587,"reputation":187,"user_id":1558628,"display_name":"hellerim"},"score":0,"creation_date":1668047396,"post_id":74383039,"comment_id":131314832,"body_markdown":"Is solved the problem by calling Msg2Text(MQMessage msg) from Responder.java in RetrieveMsg() - Rich/Goldcat hinted me to my omission. Thank you!","body":"Is solved the problem by calling Msg2Text(MQMessage msg) from Responder.java in RetrieveMsg() - Rich/Goldcat hinted me to my omission. Thank you!"}],"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668042048,"creation_date":1668042048,"answer_id":74383039,"question_id":74368056,"body_markdown":"If you know that your message payload is text (string) then you can do this:\r\n\r\n    String msgStr = msg.readStringOfByteLength(msg.getMessageLength());\r\n    System.out.println(&quot;Requester: message received:\\n&quot; + msgStr);\r\n\r\n","title":"Why do I get zero-filled messages from dynamic queue","body":"<p>If you know that your message payload is text (string) then you can do this:</p>\n<pre><code>String msgStr = msg.readStringOfByteLength(msg.getMessageLength());\nSystem.out.println(&quot;Requester: message received:\\n&quot; + msgStr);\n</code></pre>\n"}],"owner":{"account_id":1697587,"reputation":187,"user_id":1558628,"display_name":"hellerim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74372649,"answer_count":2,"score":2,"last_activity_date":1668042048,"creation_date":1667948033,"question_id":74368056,"body_markdown":"A requester is sending messages over a normal queue to a responder, indicating a dynamic queue it created as a reply queue. The responder puts these same messages on the reply queue. The responder retrieves all messages correctly.\r\n\r\nFor each message sent the requester obtains a message from the reply queue, but its body is filled with zeroes. Both programs are written in Java, using com.ibm.mq.allclient-9.2.2.0.jar. When I wrote the same in JavaScript with Node.js and ibmmq for node, everything worked fine.\r\n\r\nRequester.java:\r\n```\r\npackage com.hellerim.imq.comm.requester;\r\n\r\nimport static com.ibm.mq.constants.CMQC.MQENC_INTEGER_NORMAL;\r\nimport static com.ibm.mq.constants.CMQC.MQFMT_STRING;\r\nimport static com.ibm.mq.constants.CMQC.MQGMO_FAIL_IF_QUIESCING;\r\nimport static com.ibm.mq.constants.CMQC.MQGMO_NO_SYNCPOINT;\r\nimport static com.ibm.mq.constants.CMQC.MQGMO_NO_WAIT;\r\nimport static com.ibm.mq.constants.CMQC.MQGMO_WAIT;\r\nimport static com.ibm.mq.constants.CMQC.MQMT_REQUEST;\r\nimport static com.ibm.mq.constants.CMQC.MQOO_FAIL_IF_QUIESCING;\r\nimport static com.ibm.mq.constants.CMQC.MQOO_INPUT_EXCLUSIVE;\r\nimport static com.ibm.mq.constants.CMQC.MQOO_OUTPUT;\r\nimport static com.ibm.mq.constants.CMQC.MQPMO_NO_SYNCPOINT;\r\nimport static com.ibm.mq.constants.CMQC.MQRC_NO_MSG_AVAILABLE;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.charset.Charset;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.function.Consumer;\r\nimport java.util.stream.Collectors;\r\n\r\nimport com.ibm.mq.MQException;\r\nimport com.ibm.mq.MQGetMessageOptions;\r\nimport com.ibm.mq.MQMessage;\r\nimport com.ibm.mq.MQPutMessageOptions;\r\nimport com.ibm.mq.MQQueue;\r\nimport com.ibm.mq.MQQueueManager;\r\n\r\nimport io.netty.util.CharsetUtil;\r\nimport net.jcip.annotations.GuardedBy;\r\n\r\npublic class Requester \r\n{\r\n\tprivate static final int WAIT_WHILE_EMPTY = 100; // ms\r\n\tprivate static int MAX_MILLIS_BETWEEN_REQUESTS = 100;\r\n\tprivate static int LONG_WIDTH_IN_HEX_CHARS = 16;\r\n\tprivate static final Charset charset = CharsetUtil.ISO_8859_1;\r\n\tprivate MQQueueManager qMgr;\r\n\tprivate final MQQueue requestQueue;\r\n\tprivate final String queueNamePattern = &quot;TEST.SESSION.*&quot;;\r\n\tprivate String replyQueueName;\r\n\tprivate final MQQueue replyQueue;\r\n\tprivate final MQGetMessageOptions getOptions = new MQGetMessageOptions(); \r\n\r\n\tprivate static final String MQ_MANAGER = &quot;MY_QM&quot;;\r\n\tprivate static final String REQUEST_QUEUE = &quot;TEST.REQUESTS&quot;;\r\n\tprivate static final String MODEL_QUEUE = &quot;TEST.SESSION.MODEL&quot;;\r\n\t\r\n    final private Object locker = new Object();\r\n    @GuardedBy(&quot;this&quot;)\r\n    boolean stopped = false;\r\n    \r\n    int rcvd = 0;\r\n    \r\n    public static void main(String[] args) {\r\n    \ttry {\r\n\t\t\tRequester rq = new Requester(MQ_MANAGER, REQUEST_QUEUE, MODEL_QUEUE);\r\n\t\t\t\r\n\t\t\tList&lt;String&gt; poem = writePoem();\r\n\t\t\tRandom requestIds = new Random();\r\n\t\t\tRandom delays = new Random(1000);\r\n\t\t\t\r\n\t\t\tint cnt = 0;\r\n\t\t\tint position = 0;\r\n\t\t\tfor (int i = 0; i &lt; 50; ++i) {\r\n\t\t\t\tif (i == poem.size()) {\r\n\t\t\t\t\tint requestId = requestIds.nextInt(99999) + 1;\r\n\t\t\t\t\tString text = poem.stream().collect(Collectors.joining(&quot;\\n&quot;));\r\n\t\t\t\t\tString request = appRequestFrom(text, requestId);\r\n\t\t\t\t\trq.write(request);\r\n\t\t\t\t\tSystem.out.println(&quot;Requester: sent request no &quot; + (++cnt) + &quot; -  &quot; + requestId);\r\n\t\t\t\t}\r\n\t\t\t\tposition %= poem.size();\r\n\t\t\t\tString line = poem.get(position);\r\n\t\t\t\tint requestId = requestIds.nextInt(99999) + 1;\r\n\t\t\t\tString request = appRequestFrom(line, requestId);\r\n\t\t\t\trq.write(request);\r\n\t\t\t\tSystem.out.println(&quot;Requester: sent request no &quot; + (++cnt) + &quot; -  &quot; + requestId);\r\n\t\t\t\tposition++;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep((long) Math.ceil((Math.pow(\r\n\t\t\t\t\t\tdelays.nextDouble(), 4) * MAX_MILLIS_BETWEEN_REQUESTS) + 1));\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t// ignore\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(2000);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// ignore\r\n\t\t\t}\r\n\t\t\trq.close();\r\n\t\t} catch (MQException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n\r\n\tpublic Requester(String mqManagerName, String requestQueueName, String modelQueueName) throws MQException {\r\n\t\tsuper();\r\n\t\tSystem.out.println(&quot;Requester: establishing mq session (mq manager: &quot; + mqManagerName +\r\n\t\t\t&quot;/ request queue: &quot; + requestQueueName + &quot; / model queue: &quot; + modelQueueName +&quot;)&quot;);\r\n\t\tqMgr = new MQQueueManager(mqManagerName);\r\n\t\t// get request queue\r\n\t\tint openOptions = MQOO_OUTPUT + MQOO_FAIL_IF_QUIESCING;\r\n\t\trequestQueue = qMgr.accessQueue(requestQueueName, openOptions);\r\n\t\t// get dynamic reply queue\r\n\t\tint inputOptions = MQOO_INPUT_EXCLUSIVE + MQOO_FAIL_IF_QUIESCING;\r\n\t\treplyQueue = new MQQueue(qMgr,\r\n\t\t\t\tmodelQueueName,\r\n\t\t\t\tinputOptions,\r\n\t\t\t    &quot;&quot;,\r\n\t\t\t    queueNamePattern,\r\n\t\t\t    &quot;&quot;);\r\n\t\treplyQueueName = replyQueue.getName();\r\n\t\tSystem.out.println(&quot;Requester: created temporary reply queue &quot; + replyQueueName);\r\n    \tgetOptions.options = MQGMO_NO_SYNCPOINT +\r\n\t\t\t      MQGMO_NO_WAIT +\r\n\t\t\t      MQGMO_FAIL_IF_QUIESCING;\r\n\t\t\r\n        // catch-up (for those replies not retrieved after a request was put)\r\n\t\tExecutors.newSingleThreadExecutor().execute(new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\t// read options\r\n\t\t\t    MQGetMessageOptions getOptions = new MQGetMessageOptions();\r\n\t\t    \tgetOptions.options = MQGMO_NO_SYNCPOINT +\r\n\t\t\t\t      MQGMO_WAIT +\r\n\t\t\t\t      MQGMO_FAIL_IF_QUIESCING;\r\n\t\t    \tgetOptions.waitInterval = WAIT_WHILE_EMPTY;\r\n\t\t\t\twhile(proceed()) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (!retrieveMessage(getOptions)) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tThread.sleep(getOptions.waitInterval);\r\n\t\t\t\t\t\t\t} catch (InterruptedException e1) {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t});\r\n    }\r\n\t\r\n\tprivate boolean retrieveMessage(MQGetMessageOptions getOptions) throws IOException {\r\n\t\tMQMessage msg = new MQMessage();\r\n\t\ttry {\r\n\t\t\tmsg.clearMessage();\r\n\t\t\tmsg.seek(0);\r\n\t\t\treplyQueue.get(msg, getOptions);\r\n\t\t\tSystem.out.println(&quot;Requester: reply no &quot; + ++rcvd + &quot; received - id: &quot; +\r\n\t\t\t\tLong.parseLong(new String(msg.messageId, Charset.forName(&quot;ISO_8859_1&quot;)), 16));\r\n\t\t\tbyte[] buf = new byte[msg.getDataLength()];\r\n\t\t\tString message = new String(buf, charset);\r\n\t\t\tSystem.out.println(&quot;Requester: message received:\\n&quot; + message);\r\n\t\t} catch (MQException e) {\r\n\t\t\tif (e.reasonCode == MQRC_NO_MSG_AVAILABLE) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tpublic byte[] write(String message) {\r\n\t\tint positionRequestId = 24;\r\n\t\tint endIndex = positionRequestId + 16;\r\n\t\tCharSequence requestId = message.substring(positionRequestId, endIndex);\r\n\t\tStringBuffer sb = new StringBuffer(&quot;00000000&quot;);\r\n\t\tsb.append(requestId);\r\n\t\tbyte[] id = sb.toString().getBytes(charset);\r\n\t\tMQMessage mqMsg = new MQMessage();\r\n\t\tmqMsg.characterSet = 819;\r\n\t\tmqMsg.encoding = MQENC_INTEGER_NORMAL;\r\n\t\tmqMsg.format = MQFMT_STRING;\r\n\t\tmqMsg.messageType = MQMT_REQUEST;\r\n\t\tmqMsg.messageId = id;\r\n\t\tmqMsg.correlationId = id;\r\n\t\tmqMsg.replyToQueueName = replyQueueName;\r\n\t\ttry {\r\n\t\t\tmqMsg.writeString(message);\r\n\t\t\tmqMsg.seek(0);\r\n\t\t    MQPutMessageOptions pmo = new MQPutMessageOptions();\r\n\t\t    pmo.options = MQPMO_NO_SYNCPOINT;\r\n\t\t\trequestQueue.put(mqMsg, pmo);\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (MQException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t// try to read from reply queue fail immediately\r\n\t\ttry {\r\n\t\t\tretrieveMessage(getOptions);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn id;\r\n\t}\r\n\t\r\n\tpublic void close() {\r\n\t\tstop();\r\n\t\ttry {\r\n\t\t\tThread.sleep(2 * WAIT_WHILE_EMPTY);\r\n\t\t} catch (InterruptedException e1) {\r\n\t\t\t// ignore\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tif (requestQueue != null) {\r\n\t\t\t\trequestQueue.close();\r\n\t\t\t}\r\n\t\t\tif (qMgr != null) {\r\n\t\t\t\tqMgr.disconnect();\r\n\t\t\t}\r\n\t\t} catch (MQException e) {\r\n\t\t\t// ignore\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic boolean proceed() {\r\n\t\tsynchronized(locker) {\r\n\t\t\treturn !stopped;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void stop() {\r\n\t\tsynchronized(locker) {\r\n\t\t\tstopped = true;\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate static List&lt;String&gt; writePoem() {\r\n\t\tList&lt;String&gt; poem = new ArrayList&lt;&gt;();\r\n\t\tpoem.add(&quot;Das Nasobem&quot;);\r\n\t\tpoem.add(&quot;von Joachim Ringelnatz&quot;);\r\n\t\tpoem.add(&quot;&quot;);\r\n\t\tpoem.add(&quot;Auf seiner Nase schreitet&quot;);\r\n\t\tpoem.add(&quot;einher das Nasobem,&quot;);\r\n\t\tpoem.add(&quot;von seineme Kind begleitet -&quot;);\r\n\t\tpoem.add(&quot;es steht noch nicht im Brehm.&quot;);\r\n\t\tpoem.add(&quot;&quot;);\r\n\t\tpoem.add(&quot;Es steht noch nicht im Meyer&quot;);\r\n\t\tpoem.add(&quot;und auch im Brockhaus nicht -&quot;);\r\n\t\tpoem.add(&quot;es tritt aus meiner Leier&quot;);\r\n\t\tpoem.add(&quot;zum ersten Mal ans Licht.&quot;);\r\n\t\tpoem.add(&quot;&quot;);\r\n\t\tpoem.add(&quot;Auf seiner Nase schreitet&quot;);\r\n\t\tpoem.add(&quot;- wie schon gesagt - seitdem&quot;);\r\n\t\tpoem.add(&quot;von seinem Kind begleitet&quot;);\r\n\t\tpoem.add(&quot;einher das Nasobem.&quot;);\r\n\t\tpoem.add(&quot;&quot;);\r\n\t\tpoem.add(&quot;&quot;);\r\n\t\treturn poem;\r\n\t}\r\n\r\n\tprivate static String iToHex(int num, int places) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tchar[] digits = new char[] { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39; };\r\n\t\tfor (int i = 0; i &lt; places; ++i) {\r\n\t\t\tsb.append(digits[num % places]);\r\n\t\t\tnum /= places;\r\n\t\t}\r\n\t\treturn sb.reverse().toString();\r\n\t}\r\n\t\r\n\tprivate static String iToHex(int num) {\r\n\t\treturn iToHex(num, LONG_WIDTH_IN_HEX_CHARS);\r\n\t}\r\n\t\r\n\r\n\tprivate static String appRequestFrom(String msgBody, int requestId) {\r\n\t\tint headerLength = 72;\r\n        // includes message body length field here!\r\n\t\tint bodyLength = msgBody.length();\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tsb.append(&quot;GHI &quot;);                            // magic\r\n\t\tsb.append(&quot;1&quot;);                               // version major\r\n\t\tsb.append(&quot;0&quot;);                               // version minor\r\n\t\tsb.append(&quot;0&quot;);                               // flags\r\n\t\tsb.append(&quot;1&quot;);                               // app message type SYNCHRONOUS REQUEST\r\n\t\tsb.append(iToHex(headerLength + bodyLength)); // message length\r\n\t\tsb.append(iToHex(requestId));                 // request id\r\n\t\tsb.append(iToHex(0));                         // timeout\r\n\t\tsb.append(iToHex(bodyLength));                // message body length\r\n\t\tsb.append(msgBody);                           // message body\r\n\t\treturn sb.toString();\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\n\r\nResponder.java:\r\n\r\n```\r\npackage com.hellerim.imq.comm.responder;\r\n\r\nimport static com.ibm.mq.constants.CMQC.*;\r\n\r\nimport java.io.EOFException;\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport com.ibm.mq.MQException;\r\nimport com.ibm.mq.MQGetMessageOptions;\r\nimport com.ibm.mq.MQMessage;\r\nimport com.ibm.mq.MQPutMessageOptions;\r\nimport com.ibm.mq.MQQueue;\r\nimport com.ibm.mq.MQQueueManager;\r\n\r\nimport io.netty.util.CharsetUtil;\r\nimport net.jcip.annotations.GuardedBy;\r\n\r\npublic class Responder\r\n{\r\n\t\r\n\tprivate MQQueueManager qMgr;\r\n\tprivate MQQueue requestQueue;\r\n\tprivate Map&lt;String, MQQueue&gt; replyQueues = new HashMap&lt;&gt;();\r\n\tprivate final Object locker = new Object();\r\n\tstatic final private int WAIT_WHILE_EMPTY = 100; // ms\r\n\t@GuardedBy(&quot;locker&quot;)\r\n\tprivate boolean stopped = false;\r\n\tThread fetcherThread = null;\r\n\tprivate final static byte MESSAGE_TYPE_REPLY = 52; // &#39;4&#39;\r\n\t\r\n\tpublic final static String MQ_MANAGER = &quot;MY_QM&quot;;\r\n\tpublic final static String REQUEST_QUEUE = &quot;TEST.REQUESTS&quot;;\r\n\t\r\n    public static void main( String[] args ) throws MQException, IOException\r\n    {\r\n        System.out.println( &quot;running reponder application&quot; );\r\n        try {\r\n            new Responder(MQ_MANAGER, REQUEST_QUEUE).start();\r\n        } catch(Exception e) {\r\n        \te.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    public Responder(String mqManagerName, String requestQueueName) throws MQException {\r\n\t\tSystem.out.println(&quot;establishing mq session (mq manager: &quot; + mqManagerName +\r\n\t\t\t&quot; / request queue: &quot; + requestQueueName + &quot;)&quot;);\r\n\t\tqMgr = new MQQueueManager(mqManagerName);\r\n\t\tint openOptions = MQOO_INPUT_SHARED + MQOO_FAIL_IF_QUIESCING;\r\n\t\trequestQueue = qMgr.accessQueue(requestQueueName, openOptions);\r\n    }\r\n    \r\n    public MQQueue getReplyQueue(String replyQueueName) throws MQException {\r\n    \t\r\n    \tif (replyQueues.containsKey(replyQueueName)) {\r\n    \t\treturn replyQueues.get(replyQueueName);\r\n    \t}\r\n\t\tint openOptions = MQOO_OUTPUT + MQOO_FAIL_IF_QUIESCING;\r\n        MQQueue replyQueue =  qMgr.accessQueue(replyQueueName, openOptions);\r\n        \r\n        replyQueues.put(replyQueueName, replyQueue);\r\n        System.out.println(&quot;Responder: opened dynamic reply queue&quot;);\r\n        return replyQueue;\r\n    }\r\n    \r\n    private void start() throws IOException {\r\n    \t\r\n        Runnable fetcher = new Runnable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tint cnt = 0;\r\n\t\t\t\twhile(proceed()) {\r\n\t\t\t\t\tMQMessage msg = new MQMessage();\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t//msg.clearMessage();\r\n\t\t\t\t\t    MQGetMessageOptions getOptions = new MQGetMessageOptions();\r\n\t\t\t\t\t    \r\n\t\t\t\t    \tgetOptions.options = MQGMO_NO_SYNCPOINT +\r\n\t\t\t\t\t      MQGMO_WAIT +\r\n\t\t\t\t\t      MQGMO_FAIL_IF_QUIESCING;\r\n\t\t\t\t    \tgetOptions.waitInterval = WAIT_WHILE_EMPTY;\r\n\t\t\t\t\t\trequestQueue.get(msg, getOptions);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Responder: message no &quot; + ++cnt + &quot; received&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tMQQueue replyQueue = null;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\treplyQueue = getReplyQueue(msg.replyToQueueName);\r\n\t\t\t\t\t\t} catch(MQException e) {\r\n\t\t\t\t\t\t\tif (e.completionCode == MQCC_FAILED &amp;&amp; e.reasonCode == MQRC_UNKNOWN_OBJECT_NAME) {\r\n\t\t\t\t\t\t\t\t// dynamic reply queue does not exist any more =&gt; message out of date\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthrow e;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// set message type for reply\r\n\t\t\t\t\t\tif (msg.getDataLength() &lt; 56) {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;invalid message:&quot;);\r\n\t\t\t\t\t\t\tSystem.out.println(Msg2Text(msg));\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tSystem.out.println(Msg2Text(msg));\r\n\t\t\t\t\t\tint typePosition = 7;\r\n\t\t\t\t\t\tmsg.seek(typePosition);\r\n\t\t\t\t\t\tmsg.writeByte(MESSAGE_TYPE_REPLY);\r\n\t\t\t\t\t\tmsg.seek(0);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tString text = Msg2Text(msg);\r\n\t\t\t\t\t\tMQMessage msgOut = new MQMessage();\r\n\t\t\t\t\t\tmsgOut.characterSet = 819;\r\n\t\t\t\t\t\tmsgOut.encoding = MQENC_INTEGER_NORMAL;\r\n\t\t\t\t\t\tmsgOut.format = MQFMT_STRING;\r\n\t\t\t\t\t\tmsgOut.messageType = MQMT_REPLY;\r\n\t\t\t\t\t\tmsgOut.messageId = msg.messageId;\r\n\t\t\t\t\t\tmsgOut.correlationId = msg.correlationId;\r\n\t\t\t\t\t\tmsgOut.seek(0);\r\n\t\t\t\t\t\tmsgOut.writeString(text);\r\n\t\t\t\t\t\tmsgOut.seek(0);\r\n\t\t\t\t\t\tSystem.out.println(text);\r\n\t\t\t\t\t\t\r\n//\t\t\t\t\t\tSystem.out.println(&quot;Responder: message received&quot;);\r\n\t\t\t\t        MQPutMessageOptions pmo = new MQPutMessageOptions(); // accept the defaults, same\r\n\t\t\t\t        pmo.options = MQPMO_NO_SYNCPOINT;\r\n\t\t\t\t\t\treplyQueue.put(msgOut, pmo);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Responder: message no &quot; + cnt + &quot; returned&quot;);\r\n\t\t\t\t\t} catch (MQException e) {\r\n\t\t\t\t\t\tif (e.reasonCode == MQRC_NO_MSG_AVAILABLE) {\r\n\t\t\t\t\t\t\t; // NOOP\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tmsg.seek(0);\r\n\t\t\t\t\t\t\t\tSystem.out.println(msg);\r\n\t\t\t\t\t\t\t} catch (EOFException e2) {\r\n\t\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t\t\t\te2.printStackTrace();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t\t\t\t} catch (InterruptedException e1) {}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tshutdown();\r\n\t\t\t}\r\n\r\n        };\r\n        \r\n        Thread task = new Thread(fetcher);\r\n        task.run();\r\n        System.out.print(&quot;press &lt;ENTER&gt; to terminate &quot;);\r\n        System.in.read();\r\n        System.out.println();\r\n        synchronized(locker) {\r\n        \tstopped = true;\r\n        }\r\n        try {\r\n\t\t\ttask.join();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n    \r\n    private static String Msg2Text(MQMessage msg) {\r\n    \t\r\n\t\tint length;\r\n\t\tString text = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tlength = msg.getDataLength();\r\n\t\t\tbyte[] buf = new byte[length];\r\n\t\t\tmsg.seek(0);\r\n\t\t\tmsg.readFully(buf);\r\n\t\t\ttext = new String(buf, CharsetUtil.ISO_8859_1);\r\n\t\t\tmsg.seek(0);\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn text;\r\n    }\r\n    \r\n    private boolean proceed() {\r\n\t\tsynchronized(locker) {\r\n\t\t\treturn !stopped;\r\n\t\t}\r\n    \t\r\n    }\r\n    \r\n\tprivate void shutdown() {\r\n\t\t\r\n\t\tSystem.out.print(&quot;\\nshutting down responder... &quot;);\r\n\t\t\r\n\t\tfor (MQQueue queue : replyQueues.values()) {\r\n\t\t\ttry {\r\n\t\t\t\tqueue.close();\r\n\t\t\t} catch (MQException e) { }\r\n\t\t}\r\n\t\treplyQueues.clear();\r\n\t\ttry {\r\n\t\t\tqMgr.close();\r\n\t\t} catch (MQException e) { }\r\n\t\r\n\t\tSystem.out.println(&quot;done.&quot;);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nIs there any idea what might be wrong?\r\n\r\n\r\n","title":"Why do I get zero-filled messages from dynamic queue","body":"<p>A requester is sending messages over a normal queue to a responder, indicating a dynamic queue it created as a reply queue. The responder puts these same messages on the reply queue. The responder retrieves all messages correctly.</p>\n<p>For each message sent the requester obtains a message from the reply queue, but its body is filled with zeroes. Both programs are written in Java, using com.ibm.mq.allclient-9.2.2.0.jar. When I wrote the same in JavaScript with Node.js and ibmmq for node, everything worked fine.</p>\n<p>Requester.java:</p>\n<pre><code>package com.hellerim.imq.comm.requester;\n\nimport static com.ibm.mq.constants.CMQC.MQENC_INTEGER_NORMAL;\nimport static com.ibm.mq.constants.CMQC.MQFMT_STRING;\nimport static com.ibm.mq.constants.CMQC.MQGMO_FAIL_IF_QUIESCING;\nimport static com.ibm.mq.constants.CMQC.MQGMO_NO_SYNCPOINT;\nimport static com.ibm.mq.constants.CMQC.MQGMO_NO_WAIT;\nimport static com.ibm.mq.constants.CMQC.MQGMO_WAIT;\nimport static com.ibm.mq.constants.CMQC.MQMT_REQUEST;\nimport static com.ibm.mq.constants.CMQC.MQOO_FAIL_IF_QUIESCING;\nimport static com.ibm.mq.constants.CMQC.MQOO_INPUT_EXCLUSIVE;\nimport static com.ibm.mq.constants.CMQC.MQOO_OUTPUT;\nimport static com.ibm.mq.constants.CMQC.MQPMO_NO_SYNCPOINT;\nimport static com.ibm.mq.constants.CMQC.MQRC_NO_MSG_AVAILABLE;\n\nimport java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.concurrent.Executors;\nimport java.util.function.Consumer;\nimport java.util.stream.Collectors;\n\nimport com.ibm.mq.MQException;\nimport com.ibm.mq.MQGetMessageOptions;\nimport com.ibm.mq.MQMessage;\nimport com.ibm.mq.MQPutMessageOptions;\nimport com.ibm.mq.MQQueue;\nimport com.ibm.mq.MQQueueManager;\n\nimport io.netty.util.CharsetUtil;\nimport net.jcip.annotations.GuardedBy;\n\npublic class Requester \n{\n    private static final int WAIT_WHILE_EMPTY = 100; // ms\n    private static int MAX_MILLIS_BETWEEN_REQUESTS = 100;\n    private static int LONG_WIDTH_IN_HEX_CHARS = 16;\n    private static final Charset charset = CharsetUtil.ISO_8859_1;\n    private MQQueueManager qMgr;\n    private final MQQueue requestQueue;\n    private final String queueNamePattern = &quot;TEST.SESSION.*&quot;;\n    private String replyQueueName;\n    private final MQQueue replyQueue;\n    private final MQGetMessageOptions getOptions = new MQGetMessageOptions(); \n\n    private static final String MQ_MANAGER = &quot;MY_QM&quot;;\n    private static final String REQUEST_QUEUE = &quot;TEST.REQUESTS&quot;;\n    private static final String MODEL_QUEUE = &quot;TEST.SESSION.MODEL&quot;;\n    \n    final private Object locker = new Object();\n    @GuardedBy(&quot;this&quot;)\n    boolean stopped = false;\n    \n    int rcvd = 0;\n    \n    public static void main(String[] args) {\n        try {\n            Requester rq = new Requester(MQ_MANAGER, REQUEST_QUEUE, MODEL_QUEUE);\n            \n            List&lt;String&gt; poem = writePoem();\n            Random requestIds = new Random();\n            Random delays = new Random(1000);\n            \n            int cnt = 0;\n            int position = 0;\n            for (int i = 0; i &lt; 50; ++i) {\n                if (i == poem.size()) {\n                    int requestId = requestIds.nextInt(99999) + 1;\n                    String text = poem.stream().collect(Collectors.joining(&quot;\\n&quot;));\n                    String request = appRequestFrom(text, requestId);\n                    rq.write(request);\n                    System.out.println(&quot;Requester: sent request no &quot; + (++cnt) + &quot; -  &quot; + requestId);\n                }\n                position %= poem.size();\n                String line = poem.get(position);\n                int requestId = requestIds.nextInt(99999) + 1;\n                String request = appRequestFrom(line, requestId);\n                rq.write(request);\n                System.out.println(&quot;Requester: sent request no &quot; + (++cnt) + &quot; -  &quot; + requestId);\n                position++;\n                try {\n                    Thread.sleep((long) Math.ceil((Math.pow(\n                        delays.nextDouble(), 4) * MAX_MILLIS_BETWEEN_REQUESTS) + 1));\n                } catch (InterruptedException e) {\n                    // ignore\n                }\n\n            }\n            try {\n                Thread.sleep(2000);\n            } catch (InterruptedException e) {\n                // ignore\n            }\n            rq.close();\n        } catch (MQException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public Requester(String mqManagerName, String requestQueueName, String modelQueueName) throws MQException {\n        super();\n        System.out.println(&quot;Requester: establishing mq session (mq manager: &quot; + mqManagerName +\n            &quot;/ request queue: &quot; + requestQueueName + &quot; / model queue: &quot; + modelQueueName +&quot;)&quot;);\n        qMgr = new MQQueueManager(mqManagerName);\n        // get request queue\n        int openOptions = MQOO_OUTPUT + MQOO_FAIL_IF_QUIESCING;\n        requestQueue = qMgr.accessQueue(requestQueueName, openOptions);\n        // get dynamic reply queue\n        int inputOptions = MQOO_INPUT_EXCLUSIVE + MQOO_FAIL_IF_QUIESCING;\n        replyQueue = new MQQueue(qMgr,\n                modelQueueName,\n                inputOptions,\n                &quot;&quot;,\n                queueNamePattern,\n                &quot;&quot;);\n        replyQueueName = replyQueue.getName();\n        System.out.println(&quot;Requester: created temporary reply queue &quot; + replyQueueName);\n        getOptions.options = MQGMO_NO_SYNCPOINT +\n                  MQGMO_NO_WAIT +\n                  MQGMO_FAIL_IF_QUIESCING;\n        \n        // catch-up (for those replies not retrieved after a request was put)\n        Executors.newSingleThreadExecutor().execute(new Runnable() {\n\n            @Override\n            public void run() {\n                // read options\n                MQGetMessageOptions getOptions = new MQGetMessageOptions();\n                getOptions.options = MQGMO_NO_SYNCPOINT +\n                      MQGMO_WAIT +\n                      MQGMO_FAIL_IF_QUIESCING;\n                getOptions.waitInterval = WAIT_WHILE_EMPTY;\n                while(proceed()) {\n                    try {\n                        if (!retrieveMessage(getOptions)) {\n                            try {\n                                Thread.sleep(getOptions.waitInterval);\n                            } catch (InterruptedException e1) {}\n                        }\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }           \n        });\n    }\n    \n    private boolean retrieveMessage(MQGetMessageOptions getOptions) throws IOException {\n        MQMessage msg = new MQMessage();\n        try {\n            msg.clearMessage();\n            msg.seek(0);\n            replyQueue.get(msg, getOptions);\n            System.out.println(&quot;Requester: reply no &quot; + ++rcvd + &quot; received - id: &quot; +\n                Long.parseLong(new String(msg.messageId, Charset.forName(&quot;ISO_8859_1&quot;)), 16));\n            byte[] buf = new byte[msg.getDataLength()];\n            String message = new String(buf, charset);\n            System.out.println(&quot;Requester: message received:\\n&quot; + message);\n        } catch (MQException e) {\n            if (e.reasonCode == MQRC_NO_MSG_AVAILABLE) {\n                return false;\n            }\n        }\n        return true;\n    }\n    \n    public byte[] write(String message) {\n        int positionRequestId = 24;\n        int endIndex = positionRequestId + 16;\n        CharSequence requestId = message.substring(positionRequestId, endIndex);\n        StringBuffer sb = new StringBuffer(&quot;00000000&quot;);\n        sb.append(requestId);\n        byte[] id = sb.toString().getBytes(charset);\n        MQMessage mqMsg = new MQMessage();\n        mqMsg.characterSet = 819;\n        mqMsg.encoding = MQENC_INTEGER_NORMAL;\n        mqMsg.format = MQFMT_STRING;\n        mqMsg.messageType = MQMT_REQUEST;\n        mqMsg.messageId = id;\n        mqMsg.correlationId = id;\n        mqMsg.replyToQueueName = replyQueueName;\n        try {\n            mqMsg.writeString(message);\n            mqMsg.seek(0);\n            MQPutMessageOptions pmo = new MQPutMessageOptions();\n            pmo.options = MQPMO_NO_SYNCPOINT;\n            requestQueue.put(mqMsg, pmo);\n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (MQException e) {\n            e.printStackTrace();\n        }\n        // try to read from reply queue fail immediately\n        try {\n            retrieveMessage(getOptions);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return id;\n    }\n    \n    public void close() {\n        stop();\n        try {\n            Thread.sleep(2 * WAIT_WHILE_EMPTY);\n        } catch (InterruptedException e1) {\n            // ignore\n        }\n        try {\n            if (requestQueue != null) {\n                requestQueue.close();\n            }\n            if (qMgr != null) {\n                qMgr.disconnect();\n            }\n        } catch (MQException e) {\n            // ignore\n        }\n    }\n    \n    public boolean proceed() {\n        synchronized(locker) {\n            return !stopped;\n        }\n    }\n    \n    public void stop() {\n        synchronized(locker) {\n            stopped = true;\n        }\n    }\n    \n    private static List&lt;String&gt; writePoem() {\n        List&lt;String&gt; poem = new ArrayList&lt;&gt;();\n        poem.add(&quot;Das Nasobem&quot;);\n        poem.add(&quot;von Joachim Ringelnatz&quot;);\n        poem.add(&quot;&quot;);\n        poem.add(&quot;Auf seiner Nase schreitet&quot;);\n        poem.add(&quot;einher das Nasobem,&quot;);\n        poem.add(&quot;von seineme Kind begleitet -&quot;);\n        poem.add(&quot;es steht noch nicht im Brehm.&quot;);\n        poem.add(&quot;&quot;);\n        poem.add(&quot;Es steht noch nicht im Meyer&quot;);\n        poem.add(&quot;und auch im Brockhaus nicht -&quot;);\n        poem.add(&quot;es tritt aus meiner Leier&quot;);\n        poem.add(&quot;zum ersten Mal ans Licht.&quot;);\n        poem.add(&quot;&quot;);\n        poem.add(&quot;Auf seiner Nase schreitet&quot;);\n        poem.add(&quot;- wie schon gesagt - seitdem&quot;);\n        poem.add(&quot;von seinem Kind begleitet&quot;);\n        poem.add(&quot;einher das Nasobem.&quot;);\n        poem.add(&quot;&quot;);\n        poem.add(&quot;&quot;);\n        return poem;\n    }\n\n    private static String iToHex(int num, int places) {\n        StringBuilder sb = new StringBuilder();\n        char[] digits = new char[] { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F' };\n        for (int i = 0; i &lt; places; ++i) {\n            sb.append(digits[num % places]);\n            num /= places;\n        }\n        return sb.reverse().toString();\n    }\n    \n    private static String iToHex(int num) {\n        return iToHex(num, LONG_WIDTH_IN_HEX_CHARS);\n    }\n    \n\n    private static String appRequestFrom(String msgBody, int requestId) {\n        int headerLength = 72;\n        // includes message body length field here!\n        int bodyLength = msgBody.length();\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;GHI &quot;);                            // magic\n        sb.append(&quot;1&quot;);                               // version major\n        sb.append(&quot;0&quot;);                               // version minor\n        sb.append(&quot;0&quot;);                               // flags\n        sb.append(&quot;1&quot;);                               // app message type SYNCHRONOUS REQUEST\n        sb.append(iToHex(headerLength + bodyLength)); // message length\n        sb.append(iToHex(requestId));                 // request id\n        sb.append(iToHex(0));                         // timeout\n        sb.append(iToHex(bodyLength));                // message body length\n        sb.append(msgBody);                           // message body\n        return sb.toString();\n    }\n    \n\n}\n</code></pre>\n<p>Responder.java:</p>\n<pre><code>package com.hellerim.imq.comm.responder;\n\nimport static com.ibm.mq.constants.CMQC.*;\n\nimport java.io.EOFException;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport com.ibm.mq.MQException;\nimport com.ibm.mq.MQGetMessageOptions;\nimport com.ibm.mq.MQMessage;\nimport com.ibm.mq.MQPutMessageOptions;\nimport com.ibm.mq.MQQueue;\nimport com.ibm.mq.MQQueueManager;\n\nimport io.netty.util.CharsetUtil;\nimport net.jcip.annotations.GuardedBy;\n\npublic class Responder\n{\n    \n    private MQQueueManager qMgr;\n    private MQQueue requestQueue;\n    private Map&lt;String, MQQueue&gt; replyQueues = new HashMap&lt;&gt;();\n    private final Object locker = new Object();\n    static final private int WAIT_WHILE_EMPTY = 100; // ms\n    @GuardedBy(&quot;locker&quot;)\n    private boolean stopped = false;\n    Thread fetcherThread = null;\n    private final static byte MESSAGE_TYPE_REPLY = 52; // '4'\n    \n    public final static String MQ_MANAGER = &quot;MY_QM&quot;;\n    public final static String REQUEST_QUEUE = &quot;TEST.REQUESTS&quot;;\n    \n    public static void main( String[] args ) throws MQException, IOException\n    {\n        System.out.println( &quot;running reponder application&quot; );\n        try {\n            new Responder(MQ_MANAGER, REQUEST_QUEUE).start();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public Responder(String mqManagerName, String requestQueueName) throws MQException {\n        System.out.println(&quot;establishing mq session (mq manager: &quot; + mqManagerName +\n            &quot; / request queue: &quot; + requestQueueName + &quot;)&quot;);\n        qMgr = new MQQueueManager(mqManagerName);\n        int openOptions = MQOO_INPUT_SHARED + MQOO_FAIL_IF_QUIESCING;\n        requestQueue = qMgr.accessQueue(requestQueueName, openOptions);\n    }\n    \n    public MQQueue getReplyQueue(String replyQueueName) throws MQException {\n        \n        if (replyQueues.containsKey(replyQueueName)) {\n            return replyQueues.get(replyQueueName);\n        }\n        int openOptions = MQOO_OUTPUT + MQOO_FAIL_IF_QUIESCING;\n        MQQueue replyQueue =  qMgr.accessQueue(replyQueueName, openOptions);\n        \n        replyQueues.put(replyQueueName, replyQueue);\n        System.out.println(&quot;Responder: opened dynamic reply queue&quot;);\n        return replyQueue;\n    }\n    \n    private void start() throws IOException {\n        \n        Runnable fetcher = new Runnable() {\n\n            @Override\n            public void run() {\n                int cnt = 0;\n                while(proceed()) {\n                    MQMessage msg = new MQMessage();\n                    try {\n                        //msg.clearMessage();\n                        MQGetMessageOptions getOptions = new MQGetMessageOptions();\n                        \n                        getOptions.options = MQGMO_NO_SYNCPOINT +\n                          MQGMO_WAIT +\n                          MQGMO_FAIL_IF_QUIESCING;\n                        getOptions.waitInterval = WAIT_WHILE_EMPTY;\n                        requestQueue.get(msg, getOptions);\n                        System.out.println(&quot;Responder: message no &quot; + ++cnt + &quot; received&quot;);\n                        \n                        MQQueue replyQueue = null;\n                        try {\n                            replyQueue = getReplyQueue(msg.replyToQueueName);\n                        } catch(MQException e) {\n                            if (e.completionCode == MQCC_FAILED &amp;&amp; e.reasonCode == MQRC_UNKNOWN_OBJECT_NAME) {\n                                // dynamic reply queue does not exist any more =&gt; message out of date\n                                continue;\n                            }\n                            throw e;\n                        }\n                        // set message type for reply\n                        if (msg.getDataLength() &lt; 56) {\n                            System.out.println(&quot;invalid message:&quot;);\n                            System.out.println(Msg2Text(msg));\n                            continue;\n                        }\n                        System.out.println(Msg2Text(msg));\n                        int typePosition = 7;\n                        msg.seek(typePosition);\n                        msg.writeByte(MESSAGE_TYPE_REPLY);\n                        msg.seek(0);\n                        \n                        String text = Msg2Text(msg);\n                        MQMessage msgOut = new MQMessage();\n                        msgOut.characterSet = 819;\n                        msgOut.encoding = MQENC_INTEGER_NORMAL;\n                        msgOut.format = MQFMT_STRING;\n                        msgOut.messageType = MQMT_REPLY;\n                        msgOut.messageId = msg.messageId;\n                        msgOut.correlationId = msg.correlationId;\n                        msgOut.seek(0);\n                        msgOut.writeString(text);\n                        msgOut.seek(0);\n                        System.out.println(text);\n                        \n//                      System.out.println(&quot;Responder: message received&quot;);\n                        MQPutMessageOptions pmo = new MQPutMessageOptions(); // accept the defaults, same\n                        pmo.options = MQPMO_NO_SYNCPOINT;\n                        replyQueue.put(msgOut, pmo);\n                        System.out.println(&quot;Responder: message no &quot; + cnt + &quot; returned&quot;);\n                    } catch (MQException e) {\n                        if (e.reasonCode == MQRC_NO_MSG_AVAILABLE) {\n                            ; // NOOP\n                        } else {\n                            try {\n                                msg.seek(0);\n                                System.out.println(msg);\n                            } catch (EOFException e2) {\n                                // TODO Auto-generated catch block\n                                e2.printStackTrace();\n                            }\n                            e.printStackTrace();\n                            try {\n                                Thread.sleep(1000);\n                            } catch (InterruptedException e1) {}\n                        }\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n                shutdown();\n            }\n\n        };\n        \n        Thread task = new Thread(fetcher);\n        task.run();\n        System.out.print(&quot;press &lt;ENTER&gt; to terminate &quot;);\n        System.in.read();\n        System.out.println();\n        synchronized(locker) {\n            stopped = true;\n        }\n        try {\n            task.join();\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    \n    private static String Msg2Text(MQMessage msg) {\n        \n        int length;\n        String text = &quot;&quot;;\n        try {\n            length = msg.getDataLength();\n            byte[] buf = new byte[length];\n            msg.seek(0);\n            msg.readFully(buf);\n            text = new String(buf, CharsetUtil.ISO_8859_1);\n            msg.seek(0);\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return text;\n    }\n    \n    private boolean proceed() {\n        synchronized(locker) {\n            return !stopped;\n        }\n        \n    }\n    \n    private void shutdown() {\n        \n        System.out.print(&quot;\\nshutting down responder... &quot;);\n        \n        for (MQQueue queue : replyQueues.values()) {\n            try {\n                queue.close();\n            } catch (MQException e) { }\n        }\n        replyQueues.clear();\n        try {\n            qMgr.close();\n        } catch (MQException e) { }\n    \n        System.out.println(&quot;done.&quot;);\n    }\n\n}\n\n</code></pre>\n<p>Is there any idea what might be wrong?</p>\n"},{"tags":["java","ssl","tls1.2","filezilla","edtftpj"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1668017448,"post_id":74378457,"comment_id":131307960,"body_markdown":"What about the used runtime and OS environment of client and server (platform and versions used)?","body":"What about the used runtime and OS environment of client and server (platform and versions used)?"}],"answers":[{"comments":[{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1668068401,"post_id":74382979,"comment_id":131318591,"body_markdown":"Yes I change the auto generate certificat with my own and it&#39;s work thanks.","body":"Yes I change the auto generate certificat with my own and it&#39;s work thanks."}],"tags":[],"owner":{"account_id":54536,"reputation":1375,"user_id":163168,"accept_rate":67,"display_name":"HansA"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668041354,"creation_date":1668041354,"answer_id":74382979,"question_id":74378457,"body_markdown":"This is probably happening because FileZilla Server is using an ECC certificate, which isn&#39;t yet supported by edtFTPj/PRO. Try configuring the server with an RSA certificate.","title":"Connecting edtftpj/pro 7.3.0 to FileZilla server 1.5.1 with TLS 1.2 : No supported cipher suites have been found Error","body":"<p>This is probably happening because FileZilla Server is using an ECC certificate, which isn't yet supported by edtFTPj/PRO. Try configuring the server with an RSA certificate.</p>\n"}],"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74382979,"answer_count":1,"score":0,"last_activity_date":1668041354,"creation_date":1668012274,"question_id":74378457,"body_markdown":"We want to use edtftpj/PRO 7.3.0 to connect Filezilla server 1.5.1 with FTPS explicite TLS1.2 (edtftpj/PRO support TLS 1.2 max).\r\n\r\nI get that logs in filezilla server\r\n\r\n```\r\n FTP Session 51 127.0.0.1 [Trace] TLS handshakep: Received CLIENT HELLO\r\n FTP Session 51 127.0.0.1 [Trace] tls_layer_impl::failure(-87)\r\n FTP Session 51 127.0.0.1 [Error] GnuTLS error -87: No supported cipher suites have been found.\r\n```\r\nAnd that exception in java client :\r\n```\r\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.861 : 220-FileZilla Server 1.5.1\r\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.861 : 220 Please visit https://filezilla-project.org/\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.864 : DISABLE_CONTROL_SSL_CLOSURE=false\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.864 : DISABLE_CONTROL_WAIT_ON_CLOSE=false\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.865 : ALLOW_BASIC_CONSTRAINTS_IN_NON_CA=false\r\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.865 : ---&gt; AUTH TLS\r\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.869 : 234 Using authentication type TLS.\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.869 : Starting SSL handshake on control socket\r\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_TRACE=false\r\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_DEBUG=false\r\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_DEBUG_SLOW=false\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:49.065 : Caught: com.enterprisedt.net.puretls.SSLHandshakeFailedException\r\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:49.065 : Caught: com.enterprisedt.net.puretls.SSLHandshakeFailedException\r\nERROR 09-11-2022 17:29:49   com.enterprisedt.net.puretls.SSLPrematureCloseException: Short read - org.test.FtpUtilTest.downloadFileFTP(FtpUtilTest.java:174)\r\ncom.enterprisedt.net.puretls.SSLHandshakeFailedException: com.enterprisedt.net.puretls.SSLPrematureCloseException: Short read\r\n\tat com.enterprisedt.net.puretls.j.a(SSLConn.java:164)\r\n\tat com.enterprisedt.net.puretls.SSLSocket.handshake(SSLSocket.java:261)\r\n\tat com.enterprisedt.net.ftp.ssl.SSLFTPControlSocket.c(SSLFTPControlSocket.java:322)\r\n\tat com.enterprisedt.net.ftp.ssl.SSLFTPClient.auth(SSLFTPClient.java:1569)\r\n```\r\n\r\nClient code (adding all the cipher)\r\n\r\n  \r\n\r\n    ftpClient = new SSLFTPClient();\r\n    ftpClient.setRemoteHost(host);\r\n    ftpClient.setRemotePort(port);\r\n    //add all ciphers\r\n    ftpClient.disableAllCipherSuites();\r\n    ftpClient.enableCipherSuites(SSLFTPCipherSuite.getCipherSuites());\r\n    \r\n    ftpClient.setValidateServer(false);\r\n    ftpClient.connect();\r\n    ftpClient.auth(SSLFTPClient.AUTH_TLS); // -&gt; Excecption\r\n\r\n","title":"Connecting edtftpj/pro 7.3.0 to FileZilla server 1.5.1 with TLS 1.2 : No supported cipher suites have been found Error","body":"<p>We want to use edtftpj/PRO 7.3.0 to connect Filezilla server 1.5.1 with FTPS explicite TLS1.2 (edtftpj/PRO support TLS 1.2 max).</p>\n<p>I get that logs in filezilla server</p>\n<pre><code> FTP Session 51 127.0.0.1 [Trace] TLS handshakep: Received CLIENT HELLO\n FTP Session 51 127.0.0.1 [Trace] tls_layer_impl::failure(-87)\n FTP Session 51 127.0.0.1 [Error] GnuTLS error -87: No supported cipher suites have been found.\n</code></pre>\n<p>And that exception in java client :</p>\n<pre><code>DEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.861 : 220-FileZilla Server 1.5.1\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.861 : 220 Please visit https://filezilla-project.org/\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.864 : DISABLE_CONTROL_SSL_CLOSURE=false\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.864 : DISABLE_CONTROL_WAIT_ON_CLOSE=false\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.865 : ALLOW_BASIC_CONSTRAINTS_IN_NON_CA=false\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.865 : ---&gt; AUTH TLS\nDEBUG [FTPControlSocket] 9 nov. 2022 17:29:48.869 : 234 Using authentication type TLS.\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:48.869 : Starting SSL handshake on control socket\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_TRACE=false\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_DEBUG=false\nINFO [cryptix] 9 nov. 2022 17:29:48.990 : GLOBAL_DEBUG_SLOW=false\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:49.065 : Caught: com.enterprisedt.net.puretls.SSLHandshakeFailedException\nDEBUG [SSLFTPControlSocket] 9 nov. 2022 17:29:49.065 : Caught: com.enterprisedt.net.puretls.SSLHandshakeFailedException\nERROR 09-11-2022 17:29:49   com.enterprisedt.net.puretls.SSLPrematureCloseException: Short read - org.test.FtpUtilTest.downloadFileFTP(FtpUtilTest.java:174)\ncom.enterprisedt.net.puretls.SSLHandshakeFailedException: com.enterprisedt.net.puretls.SSLPrematureCloseException: Short read\n    at com.enterprisedt.net.puretls.j.a(SSLConn.java:164)\n    at com.enterprisedt.net.puretls.SSLSocket.handshake(SSLSocket.java:261)\n    at com.enterprisedt.net.ftp.ssl.SSLFTPControlSocket.c(SSLFTPControlSocket.java:322)\n    at com.enterprisedt.net.ftp.ssl.SSLFTPClient.auth(SSLFTPClient.java:1569)\n</code></pre>\n<p>Client code (adding all the cipher)</p>\n<pre><code>ftpClient = new SSLFTPClient();\nftpClient.setRemoteHost(host);\nftpClient.setRemotePort(port);\n//add all ciphers\nftpClient.disableAllCipherSuites();\nftpClient.enableCipherSuites(SSLFTPCipherSuite.getCipherSuites());\n\nftpClient.setValidateServer(false);\nftpClient.connect();\nftpClient.auth(SSLFTPClient.AUTH_TLS); // -&gt; Excecption\n</code></pre>\n"},{"tags":["java","spring-boot","redis","spring-data","jedis"],"answers":[{"tags":[],"owner":{"account_id":26659166,"reputation":1,"user_id":20272250,"display_name":"codetak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668040804,"creation_date":1668040804,"answer_id":74382913,"question_id":74382587,"body_markdown":"I figured out this is not a bug but a feature. \r\nWhen spring detects spring-data-redis in the dependencies, it automatically enables distributed caching using redis by default. Thus, I had to set spring.cache.type=simple in application.properties\r\n\r\n```\r\n&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\r\n```","title":"Springboot @Cacheable and @EnableRedisRepositories confict","body":"<p>I figured out this is not a bug but a feature.\nWhen spring detects spring-data-redis in the dependencies, it automatically enables distributed caching using redis by default. Thus, I had to set spring.cache.type=simple in application.properties</p>\n<pre><code>&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n&lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\n</code></pre>\n"}],"owner":{"account_id":26659166,"reputation":1,"user_id":20272250,"display_name":"codetak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74382913,"answer_count":1,"score":-1,"last_activity_date":1668040931,"creation_date":1668037023,"question_id":74382587,"body_markdown":"I have reached a conflict situation between Spring @Repository and @Cacheable.\r\n\r\n1. I&#39;m using @EnableCaching and have annotated a @Cacheable method. The expectation is that by default, it will create an in-memory cache without any additional configuration required.\r\n\r\n```\r\n@Service\r\npublic class ServiceA{\r\n\r\n  @Cacheable(&quot;cacheName&quot;)\r\n    public Response getResponse(){\r\n\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@EnableCaching\r\npublic class SpringBootApplication {\r\n...\r\n}\r\n```\r\n\r\n2. I have @Repository class and a configuration class @EnableRedisRepositories which performs some CRUD operations towards a Redis DB reachable in a remote IP address that does not require any caching.\r\n\r\n```\r\n@Repository\r\npublic class RedisRepository{\r\n\r\n    public void setSomething(){\r\n    }\r\n\r\n    public Something getSomething(){\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\n@EnableRedisRepositories\r\npublic class RedisConfig {\r\n  @Bean\r\n  public JedisConnectionFactory connectionFactory() {\r\n  }\r\n  @Bean\r\n  public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n  }\r\n}\r\n```\r\n\r\nThe case is that with that configuration, the In-Memory cache is ignored and my cache is stored in the remote Redis DB.\r\n\r\nHow can I keep the in-memory cache and don&#39;t use remote Redis for caching?\r\n","title":"Springboot @Cacheable and @EnableRedisRepositories confict","body":"<p>I have reached a conflict situation between Spring @Repository and @Cacheable.</p>\n<ol>\n<li>I'm using @EnableCaching and have annotated a @Cacheable method. The expectation is that by default, it will create an in-memory cache without any additional configuration required.</li>\n</ol>\n<pre><code>@Service\npublic class ServiceA{\n\n  @Cacheable(&quot;cacheName&quot;)\n    public Response getResponse(){\n\n    }\n}\n</code></pre>\n<pre><code>@EnableCaching\npublic class SpringBootApplication {\n...\n}\n</code></pre>\n<ol start=\"2\">\n<li>I have @Repository class and a configuration class @EnableRedisRepositories which performs some CRUD operations towards a Redis DB reachable in a remote IP address that does not require any caching.</li>\n</ol>\n<pre><code>@Repository\npublic class RedisRepository{\n\n    public void setSomething(){\n    }\n\n    public Something getSomething(){\n    }\n}\n</code></pre>\n<pre><code>@Configuration\n@EnableRedisRepositories\npublic class RedisConfig {\n  @Bean\n  public JedisConnectionFactory connectionFactory() {\n  }\n  @Bean\n  public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n  }\n}\n</code></pre>\n<p>The case is that with that configuration, the In-Memory cache is ignored and my cache is stored in the remote Redis DB.</p>\n<p>How can I keep the in-memory cache and don't use remote Redis for caching?</p>\n"},{"tags":["java","arrays","partition"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668037015,"post_id":74382528,"comment_id":131313278,"body_markdown":"hi &amp; welcome! `partition` looks ok, but your assumptions are wrong/expectations too high. &quot;Partition&quot; (known from quicksort algorithm) ensures (only) that all elements left to the pivot are lower(equal) and right of the pivot greater(equal)... (and returns the (new) index of pivot element) not more","body":"hi &amp; welcome! <code>partition</code> looks ok, but your assumptions are wrong/expectations too high. &quot;Partition&quot; (known from quicksort algorithm) ensures (only) that all elements left to the pivot are lower(equal) and right of the pivot greater(equal)... (and returns the (new) index of pivot element) not more"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668037585,"post_id":74382528,"comment_id":131313383,"body_markdown":"..so, there&#39;s nothing to fix: `[5, 3, 8, 9, 12]` is correct output!","body":"..so, there&#39;s nothing to fix: <code>[5, 3, 8, 9, 12]</code> is correct output!"},{"owner":{"account_id":22684839,"reputation":21,"user_id":17639597,"display_name":"Ezequiel Soler"},"score":0,"creation_date":1668038167,"post_id":74382528,"comment_id":131313470,"body_markdown":"@xerx593 it&#39;s not correct since the pivot element is 5 if should order the array so any numbers lower than 5 are to the left of it and any number greater than 5 are to the right of it.","body":"@xerx593 it&#39;s not correct since the pivot element is 5 if should order the array so any numbers lower than 5 are to the left of it and any number greater than 5 are to the right of it."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668038409,"post_id":74382528,"comment_id":131313506,"body_markdown":"No, pivot element is last (`12` for the given input)...if you want another pivot, you need to adjust (initialization+ loop)","body":"No, pivot element is last (<code>12</code> for the given input)...if you want another pivot, you need to adjust (initialization+ loop)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668038632,"post_id":74382528,"comment_id":131313543,"body_markdown":"`int left=1, right=a.length-1, pivot=0;` could work with same loop","body":"<code>int left=1, right=a.length-1, pivot=0;</code> could work with same loop"},{"owner":{"account_id":22684839,"reputation":21,"user_id":17639597,"display_name":"Ezequiel Soler"},"score":0,"creation_date":1668039338,"post_id":74382528,"comment_id":131313641,"body_markdown":"@xerx593 my problem should not stem from my variables. I have the same code for the Partition of the First element in the Array which makes use of int left = 1; and right = a.length; I have to use int left = 0, right = a.length-2, pivot = a.length-1;","body":"@xerx593 my problem should not stem from my variables. I have the same code for the Partition of the First element in the Array which makes use of int left = 1; and right = a.length; I have to use int left = 0, right = a.length-2, pivot = a.length-1;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668039472,"post_id":74382528,"comment_id":131313654,"body_markdown":"If you &quot;have to use int left = 0, right = a.length-2, pivot = a.length-1;&quot; how can you say &quot;the pivot element is 5&quot;?","body":"If you &quot;have to use int left = 0, right = a.length-2, pivot = a.length-1;&quot; how can you say &quot;the pivot element is 5&quot;?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668039585,"post_id":74382528,"comment_id":131313675,"body_markdown":"If you &quot;have to ... pivot = a.length-1;&quot; , then pivot is last element (of a).","body":"If you &quot;have to ... pivot = a.length-1;&quot; , then pivot is last element (of a)."},{"owner":{"account_id":22684839,"reputation":21,"user_id":17639597,"display_name":"Ezequiel Soler"},"score":0,"creation_date":1668039594,"post_id":74382528,"comment_id":131313677,"body_markdown":"@xerx593 that was my bad I was confused about the algorithm. Since for the first algorithm I have worked on I used the first element as my pivot, but not I&#39;m using the last element as the pivot.","body":"@xerx593 that was my bad I was confused about the algorithm. Since for the first algorithm I have worked on I used the first element as my pivot, but not I&#39;m using the last element as the pivot."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668074631,"post_id":74382528,"comment_id":131320745,"body_markdown":"so we can close as &quot;Not reproducible or was caused by a typo&quot; ? ;)","body":"so we can close as &quot;Not reproducible or was caused by a typo&quot; ? ;)"}],"owner":{"account_id":22684839,"reputation":21,"user_id":17639597,"display_name":"Ezequiel Soler"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1668039809,"creation_date":1668036429,"question_id":74382528,"body_markdown":"I&#39;m working on this program that is essentially using the partition algorithm but it&#39;s meant to run from the right and not the left. However, I am having problems as it&#39;s not running the correct code.\r\nIf my array was [64, 17, 7, 3, 33]; when I run partition my output should be [17, 7, 3, 33, 64] but instead I&#39;m getting [33, 17, 7, 3, 64]. Does someone know what the problem is? and How to fix it.\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class PartitionPivotOnRight {\r\n\r\n\tpublic static int partition(int[] a) {\r\n\t\tint left = 0;\r\n\t\tint right = a.length - 2;\r\n\t\tint pivot = a.length - 1;\r\n\r\n\t\twhile (left &lt;= right) {\r\n\t\t\twhile (left &lt; a.length &amp;&amp; a[left] &lt; a[pivot])\r\n\t\t\t\t++left;\r\n\t\t\twhile (a[right] &gt; a[pivot])\r\n\t\t\t\t--right;\r\n\t\t\tif (left &lt;= right)\r\n\t\t\t\tswap(a, left++, right--);\r\n\t\t}\r\n\t\tswap(a, left, pivot);\r\n\t\treturn left;\r\n\t}\r\n\r\n\tpublic static void swap(int[] a, int i, int j) {\r\n\t\tint temp = a[i];\r\n\t\ta[i] = a[j];\r\n\t\ta[j] = temp;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint N = 10;\r\n\t\tint[] a = new int[N];\r\n\r\n\t\tfor (int i = 0; i &lt; N; i++)\r\n\t\t\ta[i] = (int) (Math.random() * 100);\r\n\r\n\t\tSystem.out.println(Arrays.toString(a));\r\n\t\tSystem.out.println(partition(a));\r\n\t\tSystem.out.println(Arrays.toString(a));\r\n\t}\r\n}","title":"How can I partition from the right and not the left?","body":"<p>I'm working on this program that is essentially using the partition algorithm but it's meant to run from the right and not the left. However, I am having problems as it's not running the correct code.\nIf my array was [64, 17, 7, 3, 33]; when I run partition my output should be [17, 7, 3, 33, 64] but instead I'm getting [33, 17, 7, 3, 64]. Does someone know what the problem is? and How to fix it.</p>\n<pre><code>import java.util.Arrays;\n\npublic class PartitionPivotOnRight {\n\n    public static int partition(int[] a) {\n        int left = 0;\n        int right = a.length - 2;\n        int pivot = a.length - 1;\n\n        while (left &lt;= right) {\n            while (left &lt; a.length &amp;&amp; a[left] &lt; a[pivot])\n                ++left;\n            while (a[right] &gt; a[pivot])\n                --right;\n            if (left &lt;= right)\n                swap(a, left++, right--);\n        }\n        swap(a, left, pivot);\n        return left;\n    }\n\n    public static void swap(int[] a, int i, int j) {\n        int temp = a[i];\n        a[i] = a[j];\n        a[j] = temp;\n    }\n\n    public static void main(String[] args) {\n        int N = 10;\n        int[] a = new int[N];\n\n        for (int i = 0; i &lt; N; i++)\n            a[i] = (int) (Math.random() * 100);\n\n        System.out.println(Arrays.toString(a));\n        System.out.println(partition(a));\n        System.out.println(Arrays.toString(a));\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","cucumber","testng","cucumber-java"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1633986397,"post_id":69529914,"comment_id":122901275,"body_markdown":"I am not sure how you use testng.xml. Normally cucumber run does not require that file.","body":"I am not sure how you use testng.xml. Normally cucumber run does not require that file."},{"owner":{"account_id":10450994,"reputation":39,"user_id":7704630,"display_name":"Hari"},"score":0,"creation_date":1634057391,"post_id":69529914,"comment_id":122922275,"body_markdown":"Can you help me  this,  how to execute scripts without xml from maven? ( like should I remove the surefire configs in pom.xml )","body":"Can you help me  this,  how to execute scripts without xml from maven? ( like should I remove the surefire configs in pom.xml )"}],"answers":[{"comments":[{"owner":{"account_id":10450994,"reputation":39,"user_id":7704630,"display_name":"Hari"},"score":0,"creation_date":1634057435,"post_id":69534982,"comment_id":122922289,"body_markdown":"Thanks, do I need to modify anything in pom.xml? ,  am still struck in the same step","body":"Thanks, do I need to modify anything in pom.xml? ,  am still struck in the same step"},{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1634088715,"post_id":69534982,"comment_id":122930395,"body_markdown":"Not required. This is running fine for me.","body":"Not required. This is running fine for me."}],"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634021953,"creation_date":1634011758,"answer_id":69534982,"question_id":69529914,"body_markdown":"please use the following command, we should not use single quote \r\n\r\n    mvn test -DCucumber.Options=&quot;--tags @temp&quot;\r\n\r\nfor multiple,\r\n\r\n    mvn test -DCucumber.Options=&quot;--tags @ISEAdmin-View/Modify,@ISEAdmin-ReadOnly&quot;","title":"How to execute cucumber feature using tags from maven?","body":"<p>please use the following command, we should not use single quote</p>\n<pre><code>mvn test -DCucumber.Options=&quot;--tags @temp&quot;\n</code></pre>\n<p>for multiple,</p>\n<pre><code>mvn test -DCucumber.Options=&quot;--tags @ISEAdmin-View/Modify,@ISEAdmin-ReadOnly&quot;\n</code></pre>\n"}],"owner":{"account_id":10450994,"reputation":39,"user_id":7704630,"display_name":"Hari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2843,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668039703,"creation_date":1633971415,"question_id":69529914,"body_markdown":"How to execute cucumber from maven with tags?\r\n\r\nwhat I have tried is \r\n\r\n1. mvn clean test -Dcucumber.filter.tags=&quot;@TestTag&quot;\r\n2. mvn test -Dcucumber.options=&quot;--tags &#39;@TestTag&#39;&quot;\r\n\r\nmy pom.xml has for  testng.xml files, ( *is there is a way to avoid executing  scripts from.xml files and directly with a tag name of a scenario or feature file ?* ) \r\n```\r\n             &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.21.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;suiteXmlFiles&gt;\r\n\t\t\t\t\t\t&lt;!-- &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt; --&gt;\r\n\t\t\t\t\t\t&lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\r\n\t\t\t\t\t&lt;/suiteXmlFiles&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n*Am using cucumber.io 7.0.0*\r\n","title":"How to execute cucumber feature using tags from maven?","body":"<p>How to execute cucumber from maven with tags?</p>\n<p>what I have tried is</p>\n<ol>\n<li>mvn clean test -Dcucumber.filter.tags=&quot;@TestTag&quot;</li>\n<li>mvn test -Dcucumber.options=&quot;--tags '@TestTag'&quot;</li>\n</ol>\n<p>my pom.xml has for  testng.xml files, ( <em>is there is a way to avoid executing  scripts from.xml files and directly with a tag name of a scenario or feature file ?</em> )</p>\n<pre><code>             &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.21.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;!-- &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt; --&gt;\n                        &lt;suiteXmlFile&gt;${suiteXmlFile}&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p><em>Am using cucumber.io 7.0.0</em></p>\n"},{"tags":["java","sql-server","google-bigquery","google-cloud-dataflow"],"comments":[{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1667568997,"post_id":74301263,"comment_id":131203468,"body_markdown":"Hi @alex-mont, for your requirement, you can check this [StackOverflow question](https://stackoverflow.com/questions/25892417/caused-by-java-lang-classcastexception-java-sql-timestamp-cannot-be-cast-to-ja) . Let me know if that helps.","body":"Hi @alex-mont, for your requirement, you can check this <a href=\"https://stackoverflow.com/questions/25892417/caused-by-java-lang-classcastexception-java-sql-timestamp-cannot-be-cast-to-ja\">StackOverflow question</a> . Let me know if that helps."},{"owner":{"account_id":26542785,"reputation":75,"user_id":20173273,"display_name":"alex-mont"},"score":0,"creation_date":1667579450,"post_id":74301263,"comment_id":131207586,"body_markdown":"Hi @ShipraSarkar, it doesn&#39;t help. My problem is not on DATE type, but on DATETIME columns. Moreover, I don&#39;t write any line of code: I&#39;m using Dataflow&#39;s templates. I&#39;ve also tried to set Doracle.jdbc.V8Compatible=true, it still doesn&#39;t work.","body":"Hi @ShipraSarkar, it doesn&#39;t help. My problem is not on DATE type, but on DATETIME columns. Moreover, I don&#39;t write any line of code: I&#39;m using Dataflow&#39;s templates. I&#39;ve also tried to set Doracle.jdbc.V8Compatible=true, it still doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":2476175,"reputation":1309,"user_id":2156784,"display_name":"Rathish Kumar B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667722438,"creation_date":1667722438,"answer_id":74334228,"question_id":74301263,"body_markdown":"I could not use Dataflow due to some specific challenges, and I did it with Python to ingest data to BigQuery from SQL Server using ODBC driver, SQLAlchemy and BigQuery client libraries.\r\n\r\nFor me, the issue was due to hierarchy column, it was handled through a function and returned as string column. Code given below for your reference.\r\n\r\n\r\n\r\n\r\n    import pyodbc \r\n    import sqlalchemy\r\n    from sqlalchemy.engine import URL\r\n    import datetime\r\n    from google.cloud import bigquery\r\n    from google.oauth2 import service_account\r\n    \r\n    print(&quot;Sync job started at :&quot;, datetime.datetime.now())\r\n    \r\n    credentials = service_account.Credentials.from_service_account_file(&#39;sa-key.json&#39;)\r\n    projectid = &quot;myproject&quot;\r\n    tableid = &quot;projectid.dataset.table&quot;\r\n    client = bigquery.Client(credentials= credentials,project=projectid)\r\n    \r\n    server = &#39;cloudsql-proxyip&#39; \r\n    database = &#39;db&#39; \r\n    username = &#39;user&#39; \r\n    password = &#39;pwd&#39; \r\n    driver = &quot;{ODBC Driver 18 for SQL Server}&quot;\r\n    port = 1433\r\n    \r\n    cnxn = pyodbc.connect(&#39;DRIVER={ODBC Driver 18 for SQL Server};SERVER=&#39;+server+&#39;;DATABASE=&#39;+database+&#39;;UID=&#39;+username+&#39;;PWD=&#39;+ password+&#39;;TrustServerCertificate=YES;&#39;)\r\n    cursor = cnxn.cursor()\r\n    \r\n    def HandleHierarchyId(v):\r\n        return str(v)\r\n    \r\n    connection_string = f&quot;DRIVER={driver};SERVER={server};DATABASE={database};UID={username};PWD={password};TrustServerCertificate=YES;&quot;\r\n    connection_url = URL.create(&quot;mssql+pyodbc&quot;, query={&quot;odbc_connect&quot;: connection_string})\r\n    sql_engine = sqlalchemy.create_engine(connection_url)\r\n    \r\n    select_stmt = (&quot;SELECT * FROM [db].[schema].[view]&quot;)\r\n    \r\n    print(&quot;Creating connetion&quot;)\r\n    db = sql_engine.connect().connection\r\n    db.add_output_converter(-151, HandleHierarchyId)\r\n        \r\n    print(&quot;Fetching data&quot;)\r\n    data = db.execute(select_stmt).fetchall()\r\n    md = sqlalchemy.MetaData()\r\n    table = sqlalchemy.Table(&#39;view&#39;, md, autoload=True, autoload_with=sql_engine)\r\n    columns = table.c\r\n    \r\n    column_list = []\r\n    for column in columns:\r\n        column_list.append(column.name)\r\n    \r\n    \r\n    def split(a, n):\r\n        k, m = divmod(len(a), n)\r\n        return (a[i*k+min(i, m):(i+1)*k+min(i+1, m)] for i in range(n))\r\n    \r\n    \r\n    def to_json(row, columns):\r\n        newlist = list(row)\r\n        newdicts = dict(zip(columns, newlist))\r\n        return newdicts\r\n    \r\n    def ingestdata(tableid, data):\r\n        table = bigquery.Table.from_string(tableid)\r\n        print(&quot;Data ingestion started&quot;)\r\n        errors = client.insert_rows_json(table, data)  # Make an API request.\r\n        if errors == []:\r\n            print(&quot;New rows have been added.&quot;)\r\n        else:\r\n            print(&quot;Encountered errors while inserting rows: {}&quot;.format(errors))\r\n    \r\n    insertdata = []\r\n    for row in data:\r\n        newdict = to_json(row, column_list)\r\n        insertdata.append(newdict)\r\n    \r\n    print(&quot;Total record count :&quot;, len(insertdata))\r\n    \r\n    # BigQuery POST API limitations - split the list into multiple smaller chunks\r\n    records = split(insertdata, 10)\r\n    \r\n    \r\n    for r in records:\r\n        print(&quot;Batch record count :&quot;, len(r))\r\n        ingestdata(tableid=tableid, data=r)\r\n    \r\n    \r\n    print(&quot;Total records inserted : &quot;, len(insertdata))\r\n    print(&quot;Sync job ended at :&quot;, datetime.datetime.now())\r\n\r\n\r\n","title":"Error ingesting data from MSSQL to Bigquery","body":"<p>I could not use Dataflow due to some specific challenges, and I did it with Python to ingest data to BigQuery from SQL Server using ODBC driver, SQLAlchemy and BigQuery client libraries.</p>\n<p>For me, the issue was due to hierarchy column, it was handled through a function and returned as string column. Code given below for your reference.</p>\n<pre><code>import pyodbc \nimport sqlalchemy\nfrom sqlalchemy.engine import URL\nimport datetime\nfrom google.cloud import bigquery\nfrom google.oauth2 import service_account\n\nprint(&quot;Sync job started at :&quot;, datetime.datetime.now())\n\ncredentials = service_account.Credentials.from_service_account_file('sa-key.json')\nprojectid = &quot;myproject&quot;\ntableid = &quot;projectid.dataset.table&quot;\nclient = bigquery.Client(credentials= credentials,project=projectid)\n\nserver = 'cloudsql-proxyip' \ndatabase = 'db' \nusername = 'user' \npassword = 'pwd' \ndriver = &quot;{ODBC Driver 18 for SQL Server}&quot;\nport = 1433\n\ncnxn = pyodbc.connect('DRIVER={ODBC Driver 18 for SQL Server};SERVER='+server+';DATABASE='+database+';UID='+username+';PWD='+ password+';TrustServerCertificate=YES;')\ncursor = cnxn.cursor()\n\ndef HandleHierarchyId(v):\n    return str(v)\n\nconnection_string = f&quot;DRIVER={driver};SERVER={server};DATABASE={database};UID={username};PWD={password};TrustServerCertificate=YES;&quot;\nconnection_url = URL.create(&quot;mssql+pyodbc&quot;, query={&quot;odbc_connect&quot;: connection_string})\nsql_engine = sqlalchemy.create_engine(connection_url)\n\nselect_stmt = (&quot;SELECT * FROM [db].[schema].[view]&quot;)\n\nprint(&quot;Creating connetion&quot;)\ndb = sql_engine.connect().connection\ndb.add_output_converter(-151, HandleHierarchyId)\n    \nprint(&quot;Fetching data&quot;)\ndata = db.execute(select_stmt).fetchall()\nmd = sqlalchemy.MetaData()\ntable = sqlalchemy.Table('view', md, autoload=True, autoload_with=sql_engine)\ncolumns = table.c\n\ncolumn_list = []\nfor column in columns:\n    column_list.append(column.name)\n\n\ndef split(a, n):\n    k, m = divmod(len(a), n)\n    return (a[i*k+min(i, m):(i+1)*k+min(i+1, m)] for i in range(n))\n\n\ndef to_json(row, columns):\n    newlist = list(row)\n    newdicts = dict(zip(columns, newlist))\n    return newdicts\n\ndef ingestdata(tableid, data):\n    table = bigquery.Table.from_string(tableid)\n    print(&quot;Data ingestion started&quot;)\n    errors = client.insert_rows_json(table, data)  # Make an API request.\n    if errors == []:\n        print(&quot;New rows have been added.&quot;)\n    else:\n        print(&quot;Encountered errors while inserting rows: {}&quot;.format(errors))\n\ninsertdata = []\nfor row in data:\n    newdict = to_json(row, column_list)\n    insertdata.append(newdict)\n\nprint(&quot;Total record count :&quot;, len(insertdata))\n\n# BigQuery POST API limitations - split the list into multiple smaller chunks\nrecords = split(insertdata, 10)\n\n\nfor r in records:\n    print(&quot;Batch record count :&quot;, len(r))\n    ingestdata(tableid=tableid, data=r)\n\n\nprint(&quot;Total records inserted : &quot;, len(insertdata))\nprint(&quot;Sync job ended at :&quot;, datetime.datetime.now())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26542785,"reputation":75,"user_id":20173273,"display_name":"alex-mont"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668036633,"creation_date":1667830282,"answer_id":74347960,"question_id":74301263,"body_markdown":"Solved in this way:\r\n\r\n 1. Parse datetime columns when reading tables with SQL function `CONVERT`.\r\n 2. Create tables in BigQuery and specify DATETIME datatype for the parsed columns in step 1.\r\n3. Bigquery will cast that columns automatically.\r\n\r\nConsider this example. You have the SQL Server table\r\n    \r\n    CREATE TABLE User(id varchar(N), date_insert datatime);\r\n\r\nStep n.1: \r\n\r\n    SELECT id, CONVERT(varchar, date_insert, 20) as date_insert FROM User; \r\naccording to: [date &amp; time conversion][1].\r\n\r\nStep n.2 Create User table in BigQuery with `id` as `STRING(N)` and `date_insert` as `DATETIME`. \r\n\r\nStep n.3 Ingest your data.\r\n\r\n  [1]: https://www.mssqltips.com/sqlservertip/1145/date-and-time-conversions-using-sql-server/","title":"Error ingesting data from MSSQL to Bigquery","body":"<p>Solved in this way:</p>\n<ol>\n<li>Parse datetime columns when reading tables with SQL function <code>CONVERT</code>.</li>\n<li>Create tables in BigQuery and specify DATETIME datatype for the parsed columns in step 1.</li>\n<li>Bigquery will cast that columns automatically.</li>\n</ol>\n<p>Consider this example. You have the SQL Server table</p>\n<pre><code>CREATE TABLE User(id varchar(N), date_insert datatime);\n</code></pre>\n<p>Step n.1:</p>\n<pre><code>SELECT id, CONVERT(varchar, date_insert, 20) as date_insert FROM User; \n</code></pre>\n<p>according to: <a href=\"https://www.mssqltips.com/sqlservertip/1145/date-and-time-conversions-using-sql-server/\" rel=\"nofollow noreferrer\">date &amp; time conversion</a>.</p>\n<p>Step n.2 Create User table in BigQuery with <code>id</code> as <code>STRING(N)</code> and <code>date_insert</code> as <code>DATETIME</code>.</p>\n<p>Step n.3 Ingest your data.</p>\n"}],"owner":{"account_id":26542785,"reputation":75,"user_id":20173273,"display_name":"alex-mont"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74347960,"answer_count":2,"score":0,"last_activity_date":1668036633,"creation_date":1667470192,"question_id":74301263,"body_markdown":"I&#39;m trying to import a table from a SQL Sever DB to Bigquery. This table has a Datetime column that I&#39;ve mapped with Bigquery DATETIME. I&#39;m using Dataflow to ingest the table with default template (JDBC to Bigquery).  \r\nThis is the connection string:  \r\n`jdbc:sqlserver://&lt;hostIP&gt;:1433;instanceName=SQLSERVER;databaseName=&lt;dbName&gt;;encrypt=true;trustServerCertificate=true;`  \r\nI&#39;ve also added user and pwd (my credentials) in the job&#39;s parameters.   \r\nBut Dataflow gives me the following error: \r\n```\r\nError message from worker: java.lang.ClassCastException: class java.sql.Timestamp cannot be cast to class java.time.temporal.TemporalAccessor (java.sql.Timestamp is in module java.sql of loader &#39;platform&#39;; java.time.temporal.TemporalAccessor is in module java.base of loader &#39;bootstrap&#39;)\r\ncom.google.cloud.teleport.templates.common.JdbcConverters$ResultSetToTableRow.mapRow(JdbcConverters.java:157)\r\ncom.google.cloud.teleport.templates.common.JdbcConverters$ResultSetToTableRow.mapRow(JdbcConverters.java:115)\r\ncom.google.cloud.teleport.io.DynamicJdbcIO$DynamicReadFn.processElement(DynamicJdbcIO.java:388)  \r\n```\r\nI&#39;ve also tried to map the datetime column with the Bigquery TIMESTAMP datatype, but I&#39;ve got the same error.  \r\nIt&#39;s not a connection problem, because I&#39;ve tried to read other columns (except the datetime column) and the dataflow job works.\r\n\r\nWhat do I have to do? What&#39;s the problem?\r\n\r\nI&#39;m using `com.microsoft.sqlserver.jdbc.SQLServerDriver` as JDBC Driver name and I&#39;ve downloaded from Maven the jar version `mssql-jdbc-11.2.1.jre8.jar`.","title":"Error ingesting data from MSSQL to Bigquery","body":"<p>I'm trying to import a table from a SQL Sever DB to Bigquery. This table has a Datetime column that I've mapped with Bigquery DATETIME. I'm using Dataflow to ingest the table with default template (JDBC to Bigquery).<br />\nThis is the connection string:<br />\n<code>jdbc:sqlserver://&lt;hostIP&gt;:1433;instanceName=SQLSERVER;databaseName=&lt;dbName&gt;;encrypt=true;trustServerCertificate=true;</code><br />\nI've also added user and pwd (my credentials) in the job's parameters.<br />\nBut Dataflow gives me the following error:</p>\n<pre><code>Error message from worker: java.lang.ClassCastException: class java.sql.Timestamp cannot be cast to class java.time.temporal.TemporalAccessor (java.sql.Timestamp is in module java.sql of loader 'platform'; java.time.temporal.TemporalAccessor is in module java.base of loader 'bootstrap')\ncom.google.cloud.teleport.templates.common.JdbcConverters$ResultSetToTableRow.mapRow(JdbcConverters.java:157)\ncom.google.cloud.teleport.templates.common.JdbcConverters$ResultSetToTableRow.mapRow(JdbcConverters.java:115)\ncom.google.cloud.teleport.io.DynamicJdbcIO$DynamicReadFn.processElement(DynamicJdbcIO.java:388)  \n</code></pre>\n<p>I've also tried to map the datetime column with the Bigquery TIMESTAMP datatype, but I've got the same error.<br />\nIt's not a connection problem, because I've tried to read other columns (except the datetime column) and the dataflow job works.</p>\n<p>What do I have to do? What's the problem?</p>\n<p>I'm using <code>com.microsoft.sqlserver.jdbc.SQLServerDriver</code> as JDBC Driver name and I've downloaded from Maven the jar version <code>mssql-jdbc-11.2.1.jre8.jar</code>.</p>\n"},{"tags":["java","spring-boot","rest","resttemplate"],"comments":[{"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"score":1,"creation_date":1668036480,"post_id":74381784,"comment_id":131313189,"body_markdown":"`RestTemplate` is for `HTTP` Requests, but your Server expects a `WebSocket` connection, those are 2 completely different things:\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/web.html#websocket-stomp-client","body":"<code>RestTemplate</code> is for <code>HTTP</code> Requests, but your Server expects a <code>WebSocket</code> connection, those are 2 completely different things: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#websocket-stomp-client\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":21417409,"reputation":95,"user_id":15776425,"display_name":"Valentin Leblanc"},"score":0,"creation_date":1668067886,"post_id":74381784,"comment_id":131318435,"body_markdown":"My server doesn&#39;t expect a WebSocket connection, is just prepares a future webSocket connection but the message received comes from a HTTP request. I was thinking maybe because the first HTTP request  is not completed yet, we cannot perform another HTTP request before the current one is not completed ?","body":"My server doesn&#39;t expect a WebSocket connection, is just prepares a future webSocket connection but the message received comes from a HTTP request. I was thinking maybe because the first HTTP request  is not completed yet, we cannot perform another HTTP request before the current one is not completed ?"},{"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1668092437,"post_id":74381784,"comment_id":131327192,"body_markdown":"In general a Socket Connection has 2 channels, one to read and one to write.\nIn `HTTP` you write once and then read once (`Request` -&gt; `Response`).\n\nIn `WebSocket` you can `read`/`write` multiple times (`Publish`/`Subscribe`).\n\nSo if you send a `HTTP` Request with header `&quot;Upgrade: websocket&quot;` the server should keep both channels open and dispatch the connection to a `WebWocket` handler.","body":"In general a Socket Connection has 2 channels, one to read and one to write. In <code>HTTP</code> you write once and then read once (<code>Request</code> -&gt; <code>Response</code>).  In <code>WebSocket</code> you can <code>read</code>/<code>write</code> multiple times (<code>Publish</code>/<code>Subscribe</code>).  So if you send a <code>HTTP</code> Request with header <code>&quot;Upgrade: websocket&quot;</code> the server should keep both channels open and dispatch the connection to a <code>WebWocket</code> handler."}],"owner":{"account_id":21417409,"reputation":95,"user_id":15776425,"display_name":"Valentin Leblanc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668036607,"creation_date":1668030715,"question_id":74381784,"body_markdown":"I have 2 services: \r\n\r\nService Web on http://localhost:8080 and Service Engine on http://localhost:8081\r\n\r\nService Web sends a `POST` request to Service Engine through this code :\r\n\r\n        String checkWinUrl = customProperties.getEngineUrl() + &quot;/checkWin&quot;;\r\n\t\t\r\n\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\tHttpEntity&lt;GameDto&gt; request = new HttpEntity&lt;&gt;(new GameDto(game));\r\n\t\t\r\n\t\ttry {\r\n\t\t\tResponseEntity&lt;CheckWinResult&gt; response = restTemplate.exchange(\r\n\t\t\t\t\tcheckWinUrl, \r\n\t\t\t\t\tHttpMethod.POST, \r\n\t\t\t\t\trequest, \r\n\t\t\t\t\tCheckWinResult.class);\r\n\t\t\t\r\n\t\t\tCheckWinResult checkWinResult = response.getBody();\r\n\t\t\tif (checkWinResult != null &amp;&amp; checkWinResult.isWin()) {\r\n\t\t\t\t\r\n\t\t\t\tSet&lt;Move&gt; result = new HashSet&lt;&gt;();\r\n\t\t\t\tfor (MoveDto move : checkWinResult.getWinMoves()) {\r\n\t\t\t\t\tresult.add(Move.builder().color(GomokuColor.GREEN).columnIndex(move.getColumnIndex()).rowIndex(move.getRowIndex()).build());\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t} catch (RestClientException e) {\r\n\t\t\tlog.error(&quot;Error while computing checkWin : &quot; + e.getMessage());\r\n\t\t}\r\n\r\n-----\r\n**RestController**\r\n\r\n\t@PostMapping(&quot;/checkWin&quot;)\r\n\tpublic CheckWinResult checkWin(@RequestBody GameDto game) {\r\n\t\treturn engineService.checkWin(game);\r\n\t}\r\n\r\nand it works fine, Engine Service receives the request properly.\r\n\r\nBut when Engine Service sends a request to Web Service :\r\n\r\n\t\tString webAppUrl = customProperties.getWebAppUrl() + &quot;/engineMessage&quot;;\r\n\r\n\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\tHttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(message.toString());\r\n\r\n\t\trestTemplate.exchange(webAppUrl, HttpMethod.POST, request, Void.class);\r\n\r\n---------\r\n**RestController**\r\n\r\n\t@PostMapping(&quot;/engineMessage&quot;)\r\n    public void engineMessage(@RequestBody String engineMessage) {\r\n\t\t\r\n\t\tJSONObject jsonMessage = new JSONObject(engineMessage);\r\n\r\n\t\tWebSocketMessage webSocketMessage = new WebSocketMessage();\r\n\t\t\r\n\t\twebSocketMessage.setType(MessageType.valueOf(jsonMessage.getString(&quot;type&quot;)));\r\n\t\twebSocketMessage.setContent(jsonMessage.getString(&quot;content&quot;));\r\n\t\t\r\n\t\twebSocketController.sendMessage(webSocketMessage);\r\n    }\r\nWeb Service just never receives the request.\r\n\r\nAny ideas? \r\n\r\nThank you.","title":"Cannot send POST request with RestTemplate","body":"<p>I have 2 services:</p>\n<p>Service Web on http://localhost:8080 and Service Engine on http://localhost:8081</p>\n<p>Service Web sends a <code>POST</code> request to Service Engine through this code :</p>\n<pre><code>    String checkWinUrl = customProperties.getEngineUrl() + &quot;/checkWin&quot;;\n    \n    RestTemplate restTemplate = new RestTemplate();\n    HttpEntity&lt;GameDto&gt; request = new HttpEntity&lt;&gt;(new GameDto(game));\n    \n    try {\n        ResponseEntity&lt;CheckWinResult&gt; response = restTemplate.exchange(\n                checkWinUrl, \n                HttpMethod.POST, \n                request, \n                CheckWinResult.class);\n        \n        CheckWinResult checkWinResult = response.getBody();\n        if (checkWinResult != null &amp;&amp; checkWinResult.isWin()) {\n            \n            Set&lt;Move&gt; result = new HashSet&lt;&gt;();\n            for (MoveDto move : checkWinResult.getWinMoves()) {\n                result.add(Move.builder().color(GomokuColor.GREEN).columnIndex(move.getColumnIndex()).rowIndex(move.getRowIndex()).build());\n            }\n            \n            return result;\n        }\n    } catch (RestClientException e) {\n        log.error(&quot;Error while computing checkWin : &quot; + e.getMessage());\n    }\n</code></pre>\n<hr />\n<p><strong>RestController</strong></p>\n<pre><code>@PostMapping(&quot;/checkWin&quot;)\npublic CheckWinResult checkWin(@RequestBody GameDto game) {\n    return engineService.checkWin(game);\n}\n</code></pre>\n<p>and it works fine, Engine Service receives the request properly.</p>\n<p>But when Engine Service sends a request to Web Service :</p>\n<pre><code>    String webAppUrl = customProperties.getWebAppUrl() + &quot;/engineMessage&quot;;\n\n    RestTemplate restTemplate = new RestTemplate();\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;&gt;(message.toString());\n\n    restTemplate.exchange(webAppUrl, HttpMethod.POST, request, Void.class);\n</code></pre>\n<hr />\n<p><strong>RestController</strong></p>\n<pre><code>@PostMapping(&quot;/engineMessage&quot;)\npublic void engineMessage(@RequestBody String engineMessage) {\n    \n    JSONObject jsonMessage = new JSONObject(engineMessage);\n\n    WebSocketMessage webSocketMessage = new WebSocketMessage();\n    \n    webSocketMessage.setType(MessageType.valueOf(jsonMessage.getString(&quot;type&quot;)));\n    webSocketMessage.setContent(jsonMessage.getString(&quot;content&quot;));\n    \n    webSocketController.sendMessage(webSocketMessage);\n}\n</code></pre>\n<p>Web Service just never receives the request.</p>\n<p>Any ideas?</p>\n<p>Thank you.</p>\n"},{"tags":["c#","java",".net","language-features","enumerable"],"answers":[{"comments":[{"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"score":0,"creation_date":1275401630,"post_id":2950460,"comment_id":3007117,"body_markdown":"Thanks Andreas. So there isn&#39;t?","body":"Thanks Andreas. So there isn&#39;t?"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1275401704,"post_id":2950460,"comment_id":3007128,"body_markdown":"Not in the basic Java API, afaik, but there maybe something in one of the numerous apache commons libraries. That&#39;s where I would look first.","body":"Not in the basic Java API, afaik, but there maybe something in one of the numerous apache commons libraries. That&#39;s where I would look first."},{"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"score":0,"creation_date":1275401889,"post_id":2950460,"comment_id":3007157,"body_markdown":"Ok... add your comment to your answer, so I can upvote it and mark it as answer. :)","body":"Ok... add your comment to your answer, so I can upvote it and mark it as answer. :)"},{"owner":{"account_id":50123,"reputation":365473,"user_id":149392,"display_name":"sepp2k"},"score":5,"creation_date":1275402611,"post_id":2950460,"comment_id":3007273,"body_markdown":"Note that this solution will actually take up space proportional to the length of the range (unlike Enumerable.Range which only stores the start and the end value), which might not be acceptable for large ranges.","body":"Note that this solution will actually take up space proportional to the length of the range (unlike Enumerable.Range which only stores the start and the end value), which might not be acceptable for large ranges."},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1275403104,"post_id":2950460,"comment_id":3007358,"body_markdown":"There are much more withdraws (and I wouldn&#39;t use that code in own projects) but the OP didn&#39;t tell why he wants to use/emulate the Enumerable type from C#. Better requirements, better solutions.","body":"There are much more withdraws (and I wouldn&#39;t use that code in own projects) but the OP didn&#39;t tell why he wants to use/emulate the Enumerable type from C#. Better requirements, better solutions."},{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1275406141,"post_id":2950460,"comment_id":3007872,"body_markdown":"@sepp2k: No, the memory usage is only deferred.  As soon as you call `GetEnumerator` or use it in a `foreach`, the `IEnumerable` is populated with actual values.  MSDN docs: http://msdn.microsoft.com/en-us/library/system.linq.enumerable.range.aspx","body":"@sepp2k: No, the memory usage is only deferred.  As soon as you call <code>GetEnumerator</code> or use it in a <code>foreach</code>, the <code>IEnumerable</code> is populated with actual values.  MSDN docs: <a href=\"http://msdn.microsoft.com/en-us/library/system.linq.enumerable.range.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"},{"owner":{"account_id":50123,"reputation":365473,"user_id":149392,"display_name":"sepp2k"},"score":0,"creation_date":1275414145,"post_id":2950460,"comment_id":3009019,"body_markdown":"@R.Bemrose: I&#39;ve just run `foreach(int i in Enumerable.Range(0, 1000000000)) {/*...*/}` without any visible increase in memory consumption, so I&#39;m convinced that it doesn&#39;t store all the values between 0 and 1000000000 in memory.","body":"@R.Bemrose: I&#39;ve just run <code>foreach(int i in Enumerable.Range(0, 1000000000)) {&#47;*...*&#47;}</code> without any visible increase in memory consumption, so I&#39;m convinced that it doesn&#39;t store all the values between 0 and 1000000000 in memory."}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1275403325,"creation_date":1275401496,"answer_id":2950460,"question_id":2950386,"body_markdown":"You could subclass an Arraylist to achieve the same:\r\n\r\n    public class Enumerable extends ArrayList&lt;Integer&gt; {   \r\n       public Enumerable(int min, int max) {\r\n         for (int i=min; i&lt;=max; i++) {\r\n           add(i);\r\n         }\r\n       }    \r\n    }\r\n\r\nThen use the iterator to get a sequence of Integers from min to max (both including)\r\n\r\n**EDIT**\r\n\r\nAs sepp2k mentioned - the solution above is quick, dirty and practical but has some serious withdraws (not only O(n) in space while it should have O(1)). For a more serious emulation of the C# class I&#39;d rather write a custom Enumerable class that implements Iterable and a custom iterator (but not here and now ;) ).","title":"Is there anything like Enumerable.Range(x,y) in Java?","body":"<p>You could subclass an Arraylist to achieve the same:</p>\n\n<pre><code>public class Enumerable extends ArrayList&lt;Integer&gt; {   \n   public Enumerable(int min, int max) {\n     for (int i=min; i&lt;=max; i++) {\n       add(i);\n     }\n   }    \n}\n</code></pre>\n\n<p>Then use the iterator to get a sequence of Integers from min to max (both including)</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>As sepp2k mentioned - the solution above is quick, dirty and practical but has some serious withdraws (not only O(n) in space while it should have O(1)). For a more serious emulation of the C# class I'd rather write a custom Enumerable class that implements Iterable and a custom iterator (but not here and now ;) ).</p>\n"},{"comments":[{"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"score":0,"creation_date":1275402907,"post_id":2950638,"comment_id":3007323,"body_markdown":"Yeah, you&#39;re right. Just wanted to know if there&#39;s something built-in.","body":"Yeah, you&#39;re right. Just wanted to know if there&#39;s something built-in."}],"tags":[],"owner":{"account_id":2164,"reputation":25680,"user_id":2979,"display_name":"Tendayi Mawushe"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1275407909,"creation_date":1275402798,"answer_id":2950638,"question_id":2950386,"body_markdown":"**There is no built in support for this in Java**, however it is very easy to build it yourself. By and large the Java APIs provide all the bits you need for this kind of functionality but do not combine them out of the box. \r\n\r\nJava takes the approach that there is an infinite number of ways to combine things so why privilege a few combinations over others. With the right set of building blocks everything else can be easily built (this is also the Unix philosophy).\r\n\r\nOther language API&#39;s (C# and Python for example) take a more measured view, they do pick a few things to make really easy, but still allow more esoteric combinations. \r\n\r\nA typical example of the problem with the Java approach can be seen in the [Java IO][1] library. The canonical way to create a text file for output is: \r\n\r\n    BufferedWriter out = new BufferedWriter(new FileWriter(&quot;out.txt&quot;));\r\n\r\nThe Java IO library uses the [Decorator Pattern][2] which is a really good idea for flexibility, but surely more often than not you need a buffered file? Compare that to the equivalent in Python, which makes the typical use case really simple:\r\n\r\n    out = file(&quot;out.txt&quot;,&quot;w&quot;)\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/io/package-summary.html\r\n  [2]: http://www.java2s.com/Code/Java/Design-Pattern/DecoratorDesignPatterninJava.htm","title":"Is there anything like Enumerable.Range(x,y) in Java?","body":"<p><strong>There is no built in support for this in Java</strong>, however it is very easy to build it yourself. By and large the Java APIs provide all the bits you need for this kind of functionality but do not combine them out of the box. </p>\n\n<p>Java takes the approach that there is an infinite number of ways to combine things so why privilege a few combinations over others. With the right set of building blocks everything else can be easily built (this is also the Unix philosophy).</p>\n\n<p>Other language API's (C# and Python for example) take a more measured view, they do pick a few things to make really easy, but still allow more esoteric combinations. </p>\n\n<p>A typical example of the problem with the Java approach can be seen in the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/package-summary.html\" rel=\"nofollow noreferrer\">Java IO</a> library. The canonical way to create a text file for output is: </p>\n\n<pre><code>BufferedWriter out = new BufferedWriter(new FileWriter(\"out.txt\"));\n</code></pre>\n\n<p>The Java IO library uses the <a href=\"http://www.java2s.com/Code/Java/Design-Pattern/DecoratorDesignPatterninJava.htm\" rel=\"nofollow noreferrer\">Decorator Pattern</a> which is a really good idea for flexibility, but surely more often than not you need a buffered file? Compare that to the equivalent in Python, which makes the typical use case really simple:</p>\n\n<pre><code>out = file(\"out.txt\",\"w\")\n</code></pre>\n"},{"comments":[{"owner":{"account_id":64324,"reputation":76490,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"score":0,"creation_date":1331258491,"post_id":9627911,"comment_id":12219575,"body_markdown":"Nicely done.  Find an old question and provide a superior answer. :)","body":"Nicely done.  Find an old question and provide a superior answer. :)"},{"owner":{"account_id":391957,"reputation":8860,"user_id":752918,"accept_rate":100,"display_name":"Ibrahim Arief"},"score":1,"creation_date":1410267391,"post_id":9627911,"comment_id":40254805,"body_markdown":"A small addition, the contract for `next()` is to throw a `NoSuchElementException` in case the method is being invoked while the iterator has no more element, so my suggestion is to add `if (!hasNext()) throw new NoSuchElementException()` as the first thing to do on `next()`. :)","body":"A small addition, the contract for <code>next()</code> is to throw a <code>NoSuchElementException</code> in case the method is being invoked while the iterator has no more element, so my suggestion is to add <code>if (!hasNext()) throw new NoSuchElementException()</code> as the first thing to do on <code>next()</code>. :)"}],"tags":[],"owner":{"account_id":434721,"reputation":10478,"user_id":1414809,"accept_rate":100,"display_name":"Ebrahim Byagowi"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1668036134,"creation_date":1331258053,"answer_id":9627911,"question_id":2950386,"body_markdown":"As Java 8, this is possible with `java.util.stream.IntStream.range(int startInclusive, int endExclusive)`\r\n\r\nBefore Java8:\r\n----\r\n**There is not such thing in Java** but you can have something like this:\r\n\r\n\timport java.util.Iterator;\r\n\t\r\n\tpublic class Range implements Iterable&lt;Integer&gt; {\r\n\t\tprivate int min;\r\n\t\tprivate int count;\r\n\t\r\n\t\tpublic Range(int min, int count) {\r\n\t\t\tthis.min = min;\r\n\t\t\tthis.count = count;\r\n\t\t}\r\n\t\r\n\t\tpublic Iterator&lt;Integer&gt; iterator() {\r\n\t\t\treturn new Iterator&lt;Integer&gt;() {\r\n\t\t\t\tprivate int cur = min;\r\n\t\t\t\tprivate int count = Range.this.count;\r\n\t\t\t\tpublic boolean hasNext() {\r\n\t\t\t\t\treturn count != 0;\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tpublic Integer next() {\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t\treturn cur++; // first return the cur, then increase it.\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tpublic void remove() {\r\n\t\t\t\t\tthrow new UnsupportedOperationException();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\nFor example you can use Range by this way:\r\n\r\n\tpublic class TestRange {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tfor (int i : new Range(1, 10)) {\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nAlso if you don&#39;t like use `new Range(1, 10)` directly, you can use factory class for it:\r\n\r\n\tpublic final class RangeFactory {\r\n\t\tpublic static Iterable&lt;Integer&gt; range(int a, int b) {\r\n\t\t\treturn new Range(a, b);\r\n\t\t}\r\n\t}\r\n\r\nAnd here is our factory test:\r\n\r\n\tpublic class TestRangeFactory {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tfor (int i : RangeFactory.range(1, 10)) {\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n","title":"Is there anything like Enumerable.Range(x,y) in Java?","body":"<p>As Java 8, this is possible with <code>java.util.stream.IntStream.range(int startInclusive, int endExclusive)</code></p>\n<h2>Before Java8:</h2>\n<p><strong>There is not such thing in Java</strong> but you can have something like this:</p>\n<pre><code>import java.util.Iterator;\n\npublic class Range implements Iterable&lt;Integer&gt; {\n    private int min;\n    private int count;\n\n    public Range(int min, int count) {\n        this.min = min;\n        this.count = count;\n    }\n\n    public Iterator&lt;Integer&gt; iterator() {\n        return new Iterator&lt;Integer&gt;() {\n            private int cur = min;\n            private int count = Range.this.count;\n            public boolean hasNext() {\n                return count != 0;\n            }\n\n            public Integer next() {\n                count--;\n                return cur++; // first return the cur, then increase it.\n            }\n\n            public void remove() {\n                throw new UnsupportedOperationException();\n            }\n        };\n    }\n}\n</code></pre>\n<p>For example you can use Range by this way:</p>\n<pre><code>public class TestRange {\n\n    public static void main(String[] args) {\n        for (int i : new Range(1, 10)) {\n            System.out.println(i);\n        }\n    }\n\n}\n</code></pre>\n<p>Also if you don't like use <code>new Range(1, 10)</code> directly, you can use factory class for it:</p>\n<pre><code>public final class RangeFactory {\n    public static Iterable&lt;Integer&gt; range(int a, int b) {\n        return new Range(a, b);\n    }\n}\n</code></pre>\n<p>And here is our factory test:</p>\n<pre><code>public class TestRangeFactory {\n\n    public static void main(String[] args) {\n        for (int i : RangeFactory.range(1, 10)) {\n            System.out.println(i);\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":86753,"reputation":9285,"user_id":241022,"accept_rate":100,"display_name":"Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5940,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":9627911,"answer_count":3,"score":16,"last_activity_date":1668036134,"creation_date":1275400917,"question_id":2950386,"body_markdown":"Is there something like C#/.NET&#39;s\r\n\r\n    IEnumerable&lt;int&gt; range = Enumerable.Range(0, 100); //.NET\r\n\r\nin Java?","title":"Is there anything like Enumerable.Range(x,y) in Java?","body":"<p>Is there something like C#/.NET's</p>\n\n<pre><code>IEnumerable&lt;int&gt; range = Enumerable.Range(0, 100); //.NET\n</code></pre>\n\n<p>in Java?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"score":0,"creation_date":1668024699,"post_id":74380235,"comment_id":131310156,"body_markdown":"You should create some concurrent queue (e.g. https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html), put all strings to process to this queue (instead of listExe) and change your runnable to take next string from queue `queue.take()` . No other synchronization is required","body":"You should create some concurrent queue (e.g. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedQueue.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/&hellip;</a>), put all strings to process to this queue (instead of listExe) and change your runnable to take next string from queue <code>queue.take()</code> . No other synchronization is required"}],"answers":[{"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1668026301,"post_id":74380888,"comment_id":131310683,"body_markdown":"The `ExecutorService` already has a `BlockingQueue` which can be used per my solution.  Creating another collection seems wasteful.","body":"The <code>ExecutorService</code> already has a <code>BlockingQueue</code> which can be used per my solution.  Creating another collection seems wasteful."},{"owner":{"account_id":26506556,"reputation":15,"user_id":20142626,"display_name":"Emre Terzi"},"score":0,"creation_date":1668102933,"post_id":74380888,"comment_id":131331019,"body_markdown":"Using queue made the job much easier.Thank you so much for helping.","body":"Using queue made the job much easier.Thank you so much for helping."}],"tags":[],"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668025414,"creation_date":1668025088,"answer_id":74380888,"question_id":74380235,"body_markdown":"```java\r\npublic static void main(String[]args){\r\n    final ConcurrentLinkedQueue&lt;String&gt; queue=new ConcurrentLinkedQueue&lt;&gt;();\r\n    // fill the queue\r\n    // ...\r\n\r\n    final String s = ...; //\r\n\r\n    Runnable runnable=()-&gt;{\r\n        try {\r\n          for (String i =queue.poll(); i != null; i=queue.poll()) {\r\n            System.out.println(&quot;Similarity &quot; + solution.findSimilarityRatio(s, i));\r\n            System.out.println(Thread.currentThread().getName());\r\n            System.out.println();\r\n          }\r\n        } catch (Exception e){\r\n            e.printStackTrace();\r\n            System.out.println(e.getMessage());\r\n        }\r\n    };\r\n    \r\n    ExecutorService pool=Executors.newFixedThreadPool(10);\r\n\r\n    for(int i=0;i&lt;10;i++){\r\n        pool.execute(runnable);\r\n    }\r\n}\r\n\r\n```","title":"Run the function in thread(Multi-Thread)","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[]args){\n    final ConcurrentLinkedQueue&lt;String&gt; queue=new ConcurrentLinkedQueue&lt;&gt;();\n    // fill the queue\n    // ...\n\n    final String s = ...; //\n\n    Runnable runnable=()-&gt;{\n        try {\n          for (String i =queue.poll(); i != null; i=queue.poll()) {\n            System.out.println(&quot;Similarity &quot; + solution.findSimilarityRatio(s, i));\n            System.out.println(Thread.currentThread().getName());\n            System.out.println();\n          }\n        } catch (Exception e){\n            e.printStackTrace();\n            System.out.println(e.getMessage());\n        }\n    };\n    \n    ExecutorService pool=Executors.newFixedThreadPool(10);\n\n    for(int i=0;i&lt;10;i++){\n        pool.execute(runnable);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668035885,"creation_date":1668025851,"answer_id":74381030,"question_id":74380235,"body_markdown":"I&#39;d do something like the following.  You submit one `Runnable` per string in the list.  Then your 10 threads will work in parallel to find the similarity of that one string against all of the elements in the list.  This is a typical pattern of how to use the Java thread-pools.\r\n\r\n    public static void main(String[] args) {\r\n        ExecutorService pool = Executors.newFixedThreadPool(10);\r\n        List&lt;String&gt; stringList = listExe.getStringList();\r\n        for (String str : stringList) {\r\n            pool.submit(new SimilarityRunnable(str, stringList));\r\n        }\r\n        // after we submit the last job to the pool we should shut it down\r\n        pool.shutdown();\r\n    }\r\n\r\n    private static class SimilarityRunnable implements Runnable {\r\n        private final String str;\r\n        private final List&lt;String&gt; stringList;\r\n\r\n        public SimilarityRunnable(String str, List&lt;String&gt; stringList) {\r\n            this.str = str;\r\n            this.stringList = stringList;\r\n        }\r\n\r\n        public void run() {\r\n            for (String listStr : stringList) {\r\n                // we deliberately use == here to skip the same list element\r\n                if (listStr == str) {\r\n                    continue;\r\n                }\r\n                // if solution object is not reentrant, synchronize on it here\r\n                System.out.println(Thread.currentThread().getName()\r\n                    + &quot;: similarity of &quot; + str + &quot; to &quot; + listStr + &quot; is &quot;\r\n                    + solution.findSimilarityRatio(str, listStr));\r\n            }\r\n        }\r\n    }\r\n","title":"Run the function in thread(Multi-Thread)","body":"<p>I'd do something like the following.  You submit one <code>Runnable</code> per string in the list.  Then your 10 threads will work in parallel to find the similarity of that one string against all of the elements in the list.  This is a typical pattern of how to use the Java thread-pools.</p>\n<pre><code>public static void main(String[] args) {\n    ExecutorService pool = Executors.newFixedThreadPool(10);\n    List&lt;String&gt; stringList = listExe.getStringList();\n    for (String str : stringList) {\n        pool.submit(new SimilarityRunnable(str, stringList));\n    }\n    // after we submit the last job to the pool we should shut it down\n    pool.shutdown();\n}\n\nprivate static class SimilarityRunnable implements Runnable {\n    private final String str;\n    private final List&lt;String&gt; stringList;\n\n    public SimilarityRunnable(String str, List&lt;String&gt; stringList) {\n        this.str = str;\n        this.stringList = stringList;\n    }\n\n    public void run() {\n        for (String listStr : stringList) {\n            // we deliberately use == here to skip the same list element\n            if (listStr == str) {\n                continue;\n            }\n            // if solution object is not reentrant, synchronize on it here\n            System.out.println(Thread.currentThread().getName()\n                + &quot;: similarity of &quot; + str + &quot; to &quot; + listStr + &quot; is &quot;\n                + solution.findSimilarityRatio(str, listStr));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26506556,"reputation":15,"user_id":20142626,"display_name":"Emre Terzi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74380888,"answer_count":2,"score":0,"last_activity_date":1668035885,"creation_date":1668021330,"question_id":74380235,"body_markdown":"I am running a function with string similarity to find the similarity of the strings in the list. But I want to do this in a synchronized way by using multi threads in this list.\r\n\r\nEach thread does the whole task by itself. I want to do the task once, with multiple thread\r\n\r\n```\r\n public class Runn implements Runnable {\r\n public void run() {\r\n\r\n      synchronized (LOCK){\r\n          \r\n          newList=listExe.getStringList();\r\n          try {\r\n\r\n              int i=1;\r\n              for (String s: newList) {\r\n                  //System.out.println(s);\r\n                  //System.out.println(newList.get(i));\r\n                  System.out.println(&quot;Similarity &quot;+ solution.findSimilarityRatio(s,newList.get(i)));\r\n                  System.out.println(Thread.currentThread().getName());\r\n                  System.out.println();\r\n                  i++;\r\n                  if(i==newList.size()){\r\n                      break;\r\n                  }\r\n\r\n              }\r\n              Thread.sleep(200);\r\n          }\r\n          catch (Exception e){\r\n              e.printStackTrace();\r\n              System.out.println(e.getMessage());\r\n          }\r\n          \r\n      }\r\n      \r\n    }\r\n }\r\n\r\npublic static void main(String[] args) {\r\n\r\n\r\n   Runn runnable=new Runn();\r\n        ExecutorService pool= Executors.newFixedThreadPool(10);\r\n\r\n        for (int i=0;i&lt;10;i++){\r\n\r\n\r\n            pool.execute(runnable);\r\n        }\r\n        }\r\n```","title":"Run the function in thread(Multi-Thread)","body":"<p>I am running a function with string similarity to find the similarity of the strings in the list. But I want to do this in a synchronized way by using multi threads in this list.</p>\n<p>Each thread does the whole task by itself. I want to do the task once, with multiple thread</p>\n<pre><code> public class Runn implements Runnable {\n public void run() {\n\n      synchronized (LOCK){\n          \n          newList=listExe.getStringList();\n          try {\n\n              int i=1;\n              for (String s: newList) {\n                  //System.out.println(s);\n                  //System.out.println(newList.get(i));\n                  System.out.println(&quot;Similarity &quot;+ solution.findSimilarityRatio(s,newList.get(i)));\n                  System.out.println(Thread.currentThread().getName());\n                  System.out.println();\n                  i++;\n                  if(i==newList.size()){\n                      break;\n                  }\n\n              }\n              Thread.sleep(200);\n          }\n          catch (Exception e){\n              e.printStackTrace();\n              System.out.println(e.getMessage());\n          }\n          \n      }\n      \n    }\n }\n\npublic static void main(String[] args) {\n\n\n   Runn runnable=new Runn();\n        ExecutorService pool= Executors.newFixedThreadPool(10);\n\n        for (int i=0;i&lt;10;i++){\n\n\n            pool.execute(runnable);\n        }\n        }\n</code></pre>\n"},{"tags":["java","list","hashmap","java-stream","collectors"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668032430,"creation_date":1668031723,"answer_id":74381931,"question_id":74380294,"body_markdown":"While using Collector [`toMap()`][1] you need to provide at least two arguments:\r\n\r\n * *keyMapper* - a function generating a *Key* from the stream element;\r\n * *valueMapper* - a function that produces a *Value* from the stream element.\r\n\r\nAnd there are overloaded versions which allows you to specify *mergeFunction* and *mapFactory*. A *mergeFunction* would be useful if `productKeyList` can contain duplicates, and consequently there would be more than one element producing the identical *key*.\r\n\r\nThe call `findProductKey()` should be done in stream (before the collector). You can place into a `map()` operation. Then filter out empty optionals, extract the values, and apply `collect()`.\r\n\r\n```\r\nList&lt;ProductKey&gt; productKeyList = // initilizing the list\r\n        \r\nMap&lt;Long, ProductDetail&gt; productDetailMap = // initializing the map\r\n        \r\nMap&lt;ProductKey, ProductDetail&gt; prodDetailByKey = productKeyList.stream()\r\n    .map(productKey -&gt;\r\n        findProductKey(productKey.getProductCode(), productKeyList)\r\n    )\r\n    .filter(Optional::isPresent)\r\n    .map(Optional::get)\r\n    .collect(Collectors.toMap(\r\n        Function.identity(),\r\n        productKey -&gt; productDetailMap.get(productKey.getProductCode()),\r\n        (left, rirgt) -&gt; left // precaution against duplicated elements in the productKeyList\r\n    ));\r\n```\r\n\r\nIn order to set the `ProductDetail` from the Map to the `Product` with the corresponding product key `Iterable.forEach()` would be more suitable than a stream.\r\n\r\n```\r\nList&lt;Product&gt; products = service.readProducts();\r\n    \r\nproducts.forEach(product -&gt; \r\n    product.setProductDetail(prodDetailByKey.get(product.getProductKey()))\r\n);\r\n```\r\n\r\nRegarding the `null` Values, they can be easily eliminated from any Map:\r\n\r\n```\r\nproductDetailMap.values().removeIf(Objects::isNull);\r\n```\r\n\r\n**Note** that if a particular product key is not present is the Map, there&#39;s little you can do. The call `get()` would return `null` and `productDetail` property would remain unchanged.\r\n\r\n   [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)","title":"How to create a Map whose keys could potentially have null values in Java 8","body":"<p>While using Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>toMap()</code></a> you need to provide at least two arguments:</p>\n<ul>\n<li><em>keyMapper</em> - a function generating a <em>Key</em> from the stream element;</li>\n<li><em>valueMapper</em> - a function that produces a <em>Value</em> from the stream element.</li>\n</ul>\n<p>And there are overloaded versions which allows you to specify <em>mergeFunction</em> and <em>mapFactory</em>. A <em>mergeFunction</em> would be useful if <code>productKeyList</code> can contain duplicates, and consequently there would be more than one element producing the identical <em>key</em>.</p>\n<p>The call <code>findProductKey()</code> should be done in stream (before the collector). You can place into a <code>map()</code> operation. Then filter out empty optionals, extract the values, and apply <code>collect()</code>.</p>\n<pre><code>List&lt;ProductKey&gt; productKeyList = // initilizing the list\n        \nMap&lt;Long, ProductDetail&gt; productDetailMap = // initializing the map\n        \nMap&lt;ProductKey, ProductDetail&gt; prodDetailByKey = productKeyList.stream()\n    .map(productKey -&gt;\n        findProductKey(productKey.getProductCode(), productKeyList)\n    )\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .collect(Collectors.toMap(\n        Function.identity(),\n        productKey -&gt; productDetailMap.get(productKey.getProductCode()),\n        (left, rirgt) -&gt; left // precaution against duplicated elements in the productKeyList\n    ));\n</code></pre>\n<p>In order to set the <code>ProductDetail</code> from the Map to the <code>Product</code> with the corresponding product key <code>Iterable.forEach()</code> would be more suitable than a stream.</p>\n<pre><code>List&lt;Product&gt; products = service.readProducts();\n    \nproducts.forEach(product -&gt; \n    product.setProductDetail(prodDetailByKey.get(product.getProductKey()))\n);\n</code></pre>\n<p>Regarding the <code>null</code> Values, they can be easily eliminated from any Map:</p>\n<pre><code>productDetailMap.values().removeIf(Objects::isNull);\n</code></pre>\n<p><strong>Note</strong> that if a particular product key is not present is the Map, there's little you can do. The call <code>get()</code> would return <code>null</code> and <code>productDetail</code> property would remain unchanged.</p>\n"}],"owner":{"account_id":2425828,"reputation":596,"user_id":2117774,"accept_rate":63,"display_name":"BreenDeen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74381931,"answer_count":1,"score":0,"last_activity_date":1668032430,"creation_date":1668021610,"question_id":74380294,"body_markdown":"I am attempting to create a Map&lt;ProductKey, ProductDetail&gt; for a list of Products that need to have their ProductDetail added to them. The ProductDetail object is read from a database from a service ProductDetailLookUpService. I have not added the service because it needs a lot of exposure to internal info. Products may or may not have the ProductDetail and similar Products may share the same ProductDetail.  Here are the basic classes that make up the relationships.\r\n\r\n```java\r\n\r\n                    @Data\r\n                    static class ProductKey{\r\n                      @EqualsAndHashCode.Include\r\n                      private Long productCode;\r\n                      @EqualsAndHashCode.Include\r\n                      private Long productDetailCode;\r\n                    }\r\n                   \r\n                    @Data\r\n                    class Product {\r\n                      @EqualsAndHashCode.Include\r\n                      private ProductKey productKey;\r\n                      @EqualsAndHashCode.Include\r\n                      private ProductDetail productDetail;\r\n                   }\r\n\r\n                   @Data\r\n                   class ProductDetail{\r\n                     @EqualsAndHashCode.Include\r\n                     private Long productCode;\r\n                     private String description;\r\n                     private BigDecimal price;\r\n                     private String category;\r\n                  }\r\n\r\n                  public static Optional&lt;ProductKey&gt; findProductKey(Long productCode, \r\n                    List&lt;ProductKey&gt; productKeys){\r\n            \r\n                   return  productKeys.stream().\r\n                    filter(productKey -&gt; productCode.equals(productKey.getProductCode()))\r\n                    .takeWhile(productKey -&gt; productKey != null).findFirst();\r\n                  }\r\n\r\n\r\n```\r\nHere is my attempt to create the map of Map&lt;ProductKey, ProductDetail&gt;. I do not know how to deal with the potential null values when a Product does not have a ProductDetail. Also, the method productKey.getProductCode() does not seem to be recognized.\r\n\r\nHere is my attempt:\r\n\r\n``` java\r\n\r\n           public static void main(String[] args) {\r\n          //Service that uses database configuration to obtain ProductDetails based on \r\n          //ProductCodes\r\n            \r\n            ProductDetailLookUpService service = ....\r\n            List&lt;ProductKey&gt; productKeyList  = service.findProductKeys();\r\n            List&lt;Long&gt; productCodes = Arrays.toList(new Long []{23334L, 667777L, \r\n       55009L});\r\n             List&lt;ProductDetail&gt; productDetailList = \r\n                                   service.getProductDetailList(productCodes);\r\n             Map&lt;Long, ProductDetail&gt; productDetailMap = \r\n                                         \r\n                          mapProductCodeToProductDetail(productDetailList);\r\n           \r\n            // At start Product does not have ProductDetails\r\n            // Products may share ProductDetails\r\n            // Products which do not yet have ProductDetails defined will return a null \r\n            // value in the productDetailMap\r\n           \r\n               Map&lt;ProductKey, ProductDetail&gt; map = \r\n                    productKeyList.stream().collect(toMap(productKey -&gt; {\r\n                \r\n                Optional&lt;ProductKey&gt; optKey = \r\n                                     findProductKey(productKey.getProductCode(),            \r\n                                                                        productKeyList)\r\n                           optKey.isEmpty()? null :\r\n                                                    optKey.get(), \r\n                                   productDetailMap.get(productKey.getProductCode());\r\n        });\r\n    }\r\n\r\n\r\n    public static Optional&lt;ProductKey&gt; findProductKey(Long \r\n         productCode, List&lt;ProductKey&gt; productKeys){\r\n         return  productKeys.stream().\r\n                filter(productKey -&gt; \r\n                   productCode.equals(productKey.getProductCode()))\r\n                .takeWhile(productKey -&gt; productKey != \r\n              null).findFirst();\r\n    }\r\n\r\n```\r\nI want to use Java 8 lambda to get the map to use to add the ProductDetail to Product. Here is what I want to use below, to produce a Map&lt;ProductKey, ProductDetail&gt;\r\n\r\n```java\r\n\r\n          Map&lt;ProductKey, ProductDetail&gt; hashMap = new HashMap&lt;&gt;();\r\n          \r\n       productKeyList.stream().forEach( productKey -&gt; {\r\n            Optional&lt;ProductKey&gt; optKey = \r\n                      findProductKey(productKey.getProductCode(), \r\n                                                     productKeyList);\r\n            if(optKey.isPresent()) {\r\n                hashMap.put(optKey.get(), \r\n                                productDetailMap.get(optKey.get()));\r\n            }\r\n        });\r\n\r\n```\r\nFinally I want to use the map to add the ProductDetail to Product like this:\r\n\r\n```java\r\n\r\n   \r\n\r\n    List&lt;Product&gt; products = service.readProducts();\r\n       \r\n      products.stream().map( product -&gt; {                                     \r\n       \r\n      product.setProductDetail(hashMap.get(product.getProductKey()));\r\n                        return product;\r\n       }        \r\n     ).collect(toList());\r\n\r\n\r\n```","title":"How to create a Map whose keys could potentially have null values in Java 8","body":"<p>I am attempting to create a Map&lt;ProductKey, ProductDetail&gt; for a list of Products that need to have their ProductDetail added to them. The ProductDetail object is read from a database from a service ProductDetailLookUpService. I have not added the service because it needs a lot of exposure to internal info. Products may or may not have the ProductDetail and similar Products may share the same ProductDetail.  Here are the basic classes that make up the relationships.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n                    @Data\n                    static class ProductKey{\n                      @EqualsAndHashCode.Include\n                      private Long productCode;\n                      @EqualsAndHashCode.Include\n                      private Long productDetailCode;\n                    }\n                   \n                    @Data\n                    class Product {\n                      @EqualsAndHashCode.Include\n                      private ProductKey productKey;\n                      @EqualsAndHashCode.Include\n                      private ProductDetail productDetail;\n                   }\n\n                   @Data\n                   class ProductDetail{\n                     @EqualsAndHashCode.Include\n                     private Long productCode;\n                     private String description;\n                     private BigDecimal price;\n                     private String category;\n                  }\n\n                  public static Optional&lt;ProductKey&gt; findProductKey(Long productCode, \n                    List&lt;ProductKey&gt; productKeys){\n            \n                   return  productKeys.stream().\n                    filter(productKey -&gt; productCode.equals(productKey.getProductCode()))\n                    .takeWhile(productKey -&gt; productKey != null).findFirst();\n                  }\n\n\n</code></pre>\n<p>Here is my attempt to create the map of Map&lt;ProductKey, ProductDetail&gt;. I do not know how to deal with the potential null values when a Product does not have a ProductDetail. Also, the method productKey.getProductCode() does not seem to be recognized.</p>\n<p>Here is my attempt:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n           public static void main(String[] args) {\n          //Service that uses database configuration to obtain ProductDetails based on \n          //ProductCodes\n            \n            ProductDetailLookUpService service = ....\n            List&lt;ProductKey&gt; productKeyList  = service.findProductKeys();\n            List&lt;Long&gt; productCodes = Arrays.toList(new Long []{23334L, 667777L, \n       55009L});\n             List&lt;ProductDetail&gt; productDetailList = \n                                   service.getProductDetailList(productCodes);\n             Map&lt;Long, ProductDetail&gt; productDetailMap = \n                                         \n                          mapProductCodeToProductDetail(productDetailList);\n           \n            // At start Product does not have ProductDetails\n            // Products may share ProductDetails\n            // Products which do not yet have ProductDetails defined will return a null \n            // value in the productDetailMap\n           \n               Map&lt;ProductKey, ProductDetail&gt; map = \n                    productKeyList.stream().collect(toMap(productKey -&gt; {\n                \n                Optional&lt;ProductKey&gt; optKey = \n                                     findProductKey(productKey.getProductCode(),            \n                                                                        productKeyList)\n                           optKey.isEmpty()? null :\n                                                    optKey.get(), \n                                   productDetailMap.get(productKey.getProductCode());\n        });\n    }\n\n\n    public static Optional&lt;ProductKey&gt; findProductKey(Long \n         productCode, List&lt;ProductKey&gt; productKeys){\n         return  productKeys.stream().\n                filter(productKey -&gt; \n                   productCode.equals(productKey.getProductCode()))\n                .takeWhile(productKey -&gt; productKey != \n              null).findFirst();\n    }\n\n</code></pre>\n<p>I want to use Java 8 lambda to get the map to use to add the ProductDetail to Product. Here is what I want to use below, to produce a Map&lt;ProductKey, ProductDetail&gt;</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n          Map&lt;ProductKey, ProductDetail&gt; hashMap = new HashMap&lt;&gt;();\n          \n       productKeyList.stream().forEach( productKey -&gt; {\n            Optional&lt;ProductKey&gt; optKey = \n                      findProductKey(productKey.getProductCode(), \n                                                     productKeyList);\n            if(optKey.isPresent()) {\n                hashMap.put(optKey.get(), \n                                productDetailMap.get(optKey.get()));\n            }\n        });\n\n</code></pre>\n<p>Finally I want to use the map to add the ProductDetail to Product like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n   \n\n    List&lt;Product&gt; products = service.readProducts();\n       \n      products.stream().map( product -&gt; {                                     \n       \n      product.setProductDetail(hashMap.get(product.getProductKey()));\n                        return product;\n       }        \n     ).collect(toList());\n\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9327,"page":896,"page_size":100}
