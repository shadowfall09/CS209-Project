{"items":[{"tags":["java","kotlin","reactive-programming","rx-java2"],"answers":[{"tags":[],"owner":{"account_id":1288640,"reputation":8167,"user_id":1241193,"display_name":"Bob Dalgleish"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1513012370,"creation_date":1513012370,"answer_id":47757957,"question_id":47756750,"body_markdown":"When you need to perform RxJava operations using metadata (absence of cached result), you may have to transform your observer chain into a metadata stream, using `materialize()`.\r\n\r\n(Apologies for my lack of fluency in Kotlin)\r\n\r\n    fun getSomething(): Single&lt;Something&gt; {\r\n      return cache.getSomething()\r\n        .toObservable()\r\n        .materialize()\r\n        .take(1)\r\n        .flatMap( it.hasValue() ? Single.just( it.getValue() )\r\n                  : Single.fromCallable( apiCall() )\r\n          );\r\n    }\r\n\r\nThe `materialize()` operator turns the observer stream into a stream of `Notification`s. You can then inspect the first notification, and if it has a value, use that. Otherwise, make your network call.","title":"Convert Maybe to Single from another source if Maybe completes","body":"<p>When you need to perform RxJava operations using metadata (absence of cached result), you may have to transform your observer chain into a metadata stream, using <code>materialize()</code>.</p>\n\n<p>(Apologies for my lack of fluency in Kotlin)</p>\n\n<pre><code>fun getSomething(): Single&lt;Something&gt; {\n  return cache.getSomething()\n    .toObservable()\n    .materialize()\n    .take(1)\n    .flatMap( it.hasValue() ? Single.just( it.getValue() )\n              : Single.fromCallable( apiCall() )\n      );\n}\n</code></pre>\n\n<p>The <code>materialize()</code> operator turns the observer stream into a stream of <code>Notification</code>s. You can then inspect the first notification, and if it has a value, use that. Otherwise, make your network call.</p>\n"},{"tags":[],"owner":{"account_id":3111746,"reputation":2022,"user_id":2633359,"accept_rate":75,"display_name":"enyciaa"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1513077379,"creation_date":1513077379,"answer_id":47771304,"question_id":47756750,"body_markdown":"Here are two fairly simple options you could use. The first I find more explicit. The second has the benefit that you will call the network on any error in the cache.\r\n\r\nThese assume a Maybe is returned from the cache. For example if no value is found in the cache, return Maybe.empty()\r\n\r\n1) If there is an empty in the stream, switchIfEmpty() will use the alternate observable which calls the network. If no empty is in the stream, the network will never be called.\r\n\r\n\r\n    override fun getSomething(): Single&lt;Something&gt; {\r\n          return cache.getSomething()\r\n            .switchIfEmpty(\r\n              Maybe.defer {\r\n                feed.getSomething().toMaybe()\r\n              }\r\n            )\r\n            .toSingle()\r\n      }\r\n\r\n2) An empty maybe will return an error when cast toSingle(), triggering the network call.\r\n\r\n    override fun getSomething(): Single&lt;Something&gt; {\r\n          return cache.getSomething()\r\n            .toSingle()\r\n            .onErrorResumeNext {\r\n               feed.getSomething()\r\n            }\r\n      }","title":"Convert Maybe to Single from another source if Maybe completes","body":"<p>Here are two fairly simple options you could use. The first I find more explicit. The second has the benefit that you will call the network on any error in the cache.</p>\n\n<p>These assume a Maybe is returned from the cache. For example if no value is found in the cache, return Maybe.empty()</p>\n\n<p>1) If there is an empty in the stream, switchIfEmpty() will use the alternate observable which calls the network. If no empty is in the stream, the network will never be called.</p>\n\n<pre><code>override fun getSomething(): Single&lt;Something&gt; {\n      return cache.getSomething()\n        .switchIfEmpty(\n          Maybe.defer {\n            feed.getSomething().toMaybe()\n          }\n        )\n        .toSingle()\n  }\n</code></pre>\n\n<p>2) An empty maybe will return an error when cast toSingle(), triggering the network call.</p>\n\n<pre><code>override fun getSomething(): Single&lt;Something&gt; {\n      return cache.getSomething()\n        .toSingle()\n        .onErrorResumeNext {\n           feed.getSomething()\n        }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3839750,"reputation":442,"user_id":3183202,"display_name":"guest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615760913,"creation_date":1615760913,"answer_id":66630189,"question_id":47756750,"body_markdown":"Use the following flatMap call with 3 params for Maybe\r\n\r\n    public final &lt;R&gt; Maybe&lt;R&gt; flatMap(\r\n            Function&lt;? super T, ? extends MaybeSource&lt;? extends R&gt;&gt; onSuccessMapper,\r\n            Function&lt;? super Throwable, ? extends MaybeSource&lt;? extends R&gt;&gt; onErrorMapper,\r\n            Callable&lt;? extends MaybeSource&lt;? extends R&gt;&gt; onCompleteSupplier)\r\n\r\nExample\r\n\r\n    class Repository (\r\n        private val cache: Cache,\r\n        private val service: Service\r\n    ) {\r\n    \r\n        fun getSomething(): Single&lt;Something&gt; {\r\n          return cache.getSomething()\r\n                    .flatMap(\r\n                        Function {\r\n                            Single.just(it) // onSuccess\r\n                        },\r\n                        Function {\r\n                            Single.error(it) // onError\r\n                        },\r\n                        Callable {\r\n                            feed.getSomething() // onComplete\r\n                        }\r\n                    \r\n        }\r\n\r\nOr \r\n\r\n    class Repository (\r\n        private val cache: Cache,\r\n        private val service: Service\r\n    ) {\r\n    \r\n        fun getSomething(): Single&lt;Something&gt; {\r\n          return cache.getSomething()\r\n                    .flatMap(\r\n                        {\r\n                            Single.just&lt;Something&gt;(it) // onSuccess\r\n                        },\r\n                        {\r\n                            Single.error(it) // onError\r\n                        },\r\n                        {\r\n                            feed.getSomething() // onComplete\r\n                        }\r\n                    \r\n        }\r\n    }    \r\n\r\n\r\n","title":"Convert Maybe to Single from another source if Maybe completes","body":"<p>Use the following flatMap call with 3 params for Maybe</p>\n<pre><code>public final &lt;R&gt; Maybe&lt;R&gt; flatMap(\n        Function&lt;? super T, ? extends MaybeSource&lt;? extends R&gt;&gt; onSuccessMapper,\n        Function&lt;? super Throwable, ? extends MaybeSource&lt;? extends R&gt;&gt; onErrorMapper,\n        Callable&lt;? extends MaybeSource&lt;? extends R&gt;&gt; onCompleteSupplier)\n</code></pre>\n<p>Example</p>\n<pre><code>class Repository (\n    private val cache: Cache,\n    private val service: Service\n) {\n\n    fun getSomething(): Single&lt;Something&gt; {\n      return cache.getSomething()\n                .flatMap(\n                    Function {\n                        Single.just(it) // onSuccess\n                    },\n                    Function {\n                        Single.error(it) // onError\n                    },\n                    Callable {\n                        feed.getSomething() // onComplete\n                    }\n                \n    }\n</code></pre>\n<p>Or</p>\n<pre><code>class Repository (\n    private val cache: Cache,\n    private val service: Service\n) {\n\n    fun getSomething(): Single&lt;Something&gt; {\n      return cache.getSomething()\n                .flatMap(\n                    {\n                        Single.just&lt;Something&gt;(it) // onSuccess\n                    },\n                    {\n                        Single.error(it) // onError\n                    },\n                    {\n                        feed.getSomething() // onComplete\n                    }\n                \n    }\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":403980,"reputation":81,"user_id":6179018,"display_name":"ersegun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674496909,"creation_date":1674496909,"answer_id":75213313,"question_id":47756750,"body_markdown":"**defaultIfEmpty** can be used to handle empty Maybe result when converting it to a Single.\r\n\r\nHere is an example of how it can be done:\r\n\r\n        override fun getSomething(): Single&lt;Something&gt; {\r\n          return cache.getSomething()\r\n            .defaultIfEmpty(feed.getSomething())\r\n      }","title":"Convert Maybe to Single from another source if Maybe completes","body":"<p><strong>defaultIfEmpty</strong> can be used to handle empty Maybe result when converting it to a Single.</p>\n<p>Here is an example of how it can be done:</p>\n<pre><code>    override fun getSomething(): Single&lt;Something&gt; {\n      return cache.getSomething()\n        .defaultIfEmpty(feed.getSomething())\n  }\n</code></pre>\n"}],"owner":{"account_id":3986034,"reputation":4137,"user_id":3286569,"accept_rate":94,"display_name":"JDurstberger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11705,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":47771304,"answer_count":4,"score":12,"last_activity_date":1674496909,"creation_date":1513008144,"question_id":47756750,"body_markdown":"I would like to build a `Repository` class that returns a `Single&lt;Something&gt;`.\r\n\r\nThe class should first look in a `Cache` which returns `Maybe&lt;Something&gt;` and if the `Maybe` completes go off to my `Service` that returns `Single&lt;Something&gt;` \r\n\r\n    interface Cache {\r\n        fun getSomething(): Maybe&lt;Something&gt;   \r\n    }\r\n\r\n    interface Service {\r\n        fun getSomething(): Single&lt;Something&gt;   \r\n    }\r\n\r\n    class Repository (\r\n        private val cache: Cache,\r\n        private val service: Service\r\n    ) {\r\n    \r\n        fun getSomething(): Single&lt;Something&gt; {\r\n          return cache.getSomething()\r\n                   .????(feed.getSomething()) //onCompleteTransformToSingle() or similar\r\n        }\r\n    }    \r\n\r\nI have searched through the JavaDoc but it does not seem that a transformer for this scenario exists.  \r\n\r\nIs there a nice way of handling this?  ","title":"Convert Maybe to Single from another source if Maybe completes","body":"<p>I would like to build a <code>Repository</code> class that returns a <code>Single&lt;Something&gt;</code>.</p>\n\n<p>The class should first look in a <code>Cache</code> which returns <code>Maybe&lt;Something&gt;</code> and if the <code>Maybe</code> completes go off to my <code>Service</code> that returns <code>Single&lt;Something&gt;</code> </p>\n\n<pre><code>interface Cache {\n    fun getSomething(): Maybe&lt;Something&gt;   \n}\n\ninterface Service {\n    fun getSomething(): Single&lt;Something&gt;   \n}\n\nclass Repository (\n    private val cache: Cache,\n    private val service: Service\n) {\n\n    fun getSomething(): Single&lt;Something&gt; {\n      return cache.getSomething()\n               .????(feed.getSomething()) //onCompleteTransformToSingle() or similar\n    }\n}    \n</code></pre>\n\n<p>I have searched through the JavaDoc but it does not seem that a transformer for this scenario exists.  </p>\n\n<p>Is there a nice way of handling this?  </p>\n"},{"tags":["java","android",".so","libs"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674496749,"post_id":75213277,"comment_id":132721867,"body_markdown":"`x2.X` is a class named `X` in the **package** `x2`. What you showed in new code is a class `X` inside *another class named `x2`* **inside the unnamed package** (that name would usually encode as `x2$X`). If you want a drop-in replacement for the old class the .java file should start with `package x2; public class X { ... }`.","body":"<code>x2.X</code> is a class named <code>X</code> in the <b>package</b> <code>x2</code>. What you showed in new code is a class <code>X</code> inside <i>another class named <code>x2</code></i> <b>inside the unnamed package</b> (that name would usually encode as <code>x2$X</code>). If you want a drop-in replacement for the old class the .java file should start with <code>package x2; public class X { ... }</code>."},{"owner":{"account_id":25988637,"reputation":13,"user_id":19701224,"display_name":"Master"},"score":0,"creation_date":1674497020,"post_id":75213277,"comment_id":132721961,"body_markdown":"Huge huge thanks! How can I donate to you? You saved my app!","body":"Huge huge thanks! How can I donate to you? You saved my app!"}],"owner":{"account_id":25988637,"reputation":13,"user_id":19701224,"display_name":"Master"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674496590,"creation_date":1674496590,"question_id":75213277,"body_markdown":"I&#39;m using scripts from an old project, but the sources are already lost\r\n[![I addded libraries files to project](https://i.stack.imgur.com/l53Zy.png)](https://i.stack.imgur.com/l53Zy.png)\r\n\r\nIn an old application, I used the library like this:\r\n\r\n```\r\npublic class x2.X {\r\nstatic {\r\nSystem.loadLibrary(&quot;x2&quot;);\r\n}\r\n\r\npublic static String m0do(String str) {\r\nreturn Base64.getEncoder().encodeToString(x01(str).getBytes());\r\n}\r\n\r\npublic static native String x01(String str);\r\n\r\n}\r\n```\r\n\r\nAnd in the new one like this:\r\n\r\n```\r\npublic class x2 {\r\npublic static class X {\r\nstatic {\r\nSystem.loadLibrary(&quot;x2&quot;);\r\n}\r\n\r\n    public static String m0do(String str) {\r\n        if (Build.VERSION.SDK_INT \\&gt;= Build.VERSION_CODES.O) {\r\n            return Base64.getEncoder().encodeToString(x01(str).getBytes());\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    public static native String x01(String str);\r\n}\r\n\r\n}\r\n```\r\n\r\nbut i get error:\r\n\r\nfull error: https://pastebin.com/696XMPHe\r\n\r\nshort: ```Pending exception java.lang.ClassNotFoundException: Didn&#39;t find class &quot;x2.X&quot; on path: DexPathList[[dex file &quot;/data/data/com.alex.materialdiary/code_cache/.overlay/base.apk/classes3.dex&quot;, dex file &quot;/data/data/com.alex.materialdiary/code_cache/.overlay/base.apk/classes9.dex&quot;, zip file &quot;/data/app/~~udenJ-l_lr574UqmKQionQ==/com.alex.materialdiary-8pbNPHfMtMQMEkE0VpgYkw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~udenJ-l_lr574UqmKQionQ==/com.alex.materialdiary-8pbNPHfMtMQMEkE0VpgYkw==/lib/arm64, /data/app/~~udenJ-l_lr574UqmKQionQ==/com.alex.materialdiary-8pbNPHfMtMQMEkE0VpgYkw==/base.apk!/lib/arm64-v8a, /system/lib64, /system_ext/lib64]]```\r\n\r\nI tried rename classes, disassemble .so files","title":".so libraries in Android Studio","body":"<p>I'm using scripts from an old project, but the sources are already lost\n<a href=\"https://i.stack.imgur.com/l53Zy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l53Zy.png\" alt=\"I addded libraries files to project\" /></a></p>\n<p>In an old application, I used the library like this:</p>\n<pre><code>public class x2.X {\nstatic {\nSystem.loadLibrary(&quot;x2&quot;);\n}\n\npublic static String m0do(String str) {\nreturn Base64.getEncoder().encodeToString(x01(str).getBytes());\n}\n\npublic static native String x01(String str);\n\n}\n</code></pre>\n<p>And in the new one like this:</p>\n<pre><code>public class x2 {\npublic static class X {\nstatic {\nSystem.loadLibrary(&quot;x2&quot;);\n}\n\n    public static String m0do(String str) {\n        if (Build.VERSION.SDK_INT \\&gt;= Build.VERSION_CODES.O) {\n            return Base64.getEncoder().encodeToString(x01(str).getBytes());\n        }\n        return &quot;&quot;;\n    }\n\n    public static native String x01(String str);\n}\n\n}\n</code></pre>\n<p>but i get error:</p>\n<p>full error: <a href=\"https://pastebin.com/696XMPHe\" rel=\"nofollow noreferrer\">https://pastebin.com/696XMPHe</a></p>\n<p>short: <code>Pending exception java.lang.ClassNotFoundException: Didn't find class &quot;x2.X&quot; on path: DexPathList[[dex file &quot;/data/data/com.alex.materialdiary/code_cache/.overlay/base.apk/classes3.dex&quot;, dex file &quot;/data/data/com.alex.materialdiary/code_cache/.overlay/base.apk/classes9.dex&quot;, zip file &quot;/data/app/~~udenJ-l_lr574UqmKQionQ==/com.alex.materialdiary-8pbNPHfMtMQMEkE0VpgYkw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~udenJ-l_lr574UqmKQionQ==/com.alex.materialdiary-8pbNPHfMtMQMEkE0VpgYkw==/lib/arm64, /data/app/~~udenJ-l_lr574UqmKQionQ==/com.alex.materialdiary-8pbNPHfMtMQMEkE0VpgYkw==/base.apk!/lib/arm64-v8a, /system/lib64, /system_ext/lib64]]</code></p>\n<p>I tried rename classes, disassemble .so files</p>\n"},{"tags":["java","spring-boot","spring-security","microservices","spring-cloud-gateway"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":2,"creation_date":1674503921,"post_id":75213230,"comment_id":132724036,"body_markdown":"Configure your firewall or your routing tables.","body":"Configure your firewall or your routing tables."}],"owner":{"account_id":18076677,"reputation":61,"user_id":13139745,"display_name":"Vicardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674496244,"creation_date":1674496244,"question_id":75213230,"body_markdown":"I&#39;m working on the application written in Spring Boot with microservice architecture. I have a gateway, where the whole authentication is done using *Keycloak*. How can I allow only requests from gateway in my microservices?\r\n\r\nIs it a good approach to prevent request from different IP Address?\r\n\r\nIt&#39;s a personal project, so all the services will be ran locally.","title":"Microservices - allow request only from API Gateway","body":"<p>I'm working on the application written in Spring Boot with microservice architecture. I have a gateway, where the whole authentication is done using <em>Keycloak</em>. How can I allow only requests from gateway in my microservices?</p>\n<p>Is it a good approach to prevent request from different IP Address?</p>\n<p>It's a personal project, so all the services will be ran locally.</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1674412094,"post_id":75202581,"comment_id":132704268,"body_markdown":"not near my IDE currently but: never-ever change the table state from inside a renderer/editor, that&#39;s the task of the table itself","body":"not near my IDE currently but: never-ever change the table state from inside a renderer/editor, that&#39;s the task of the table itself"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1674437377,"post_id":75202581,"comment_id":132707916,"body_markdown":"Maybe you can use a popup dialog to edit the data in the cell. See: https://stackoverflow.com/a/20590066/131872 for a basic example.","body":"Maybe you can use a popup dialog to edit the data in the cell. See: <a href=\"https://stackoverflow.com/a/20590066/131872\">stackoverflow.com/a/20590066/131872</a> for a basic example."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1674463573,"post_id":75202581,"comment_id":132711253,"body_markdown":"@camickr I&#39;ve came across this one, but design should be like what the other part of the product is, and rows can be expanded.","body":"@camickr I&#39;ve came across this one, but design should be like what the other part of the product is, and rows can be expanded."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1674463940,"post_id":75202581,"comment_id":132711352,"body_markdown":"@kleopatra yeah that&#39;s not great indeed! But I don&#39;t know how else I can do that. Would it be preferable to set the row hieght in `prepareRenderer` / `prepareEditor`, but then the row height might not be updated when the component expands ?","body":"@kleopatra yeah that&#39;s not great indeed! But I don&#39;t know how else I can do that. Would it be preferable to set the row hieght in <code>prepareRenderer</code> / <code>prepareEditor</code>, but then the row height might not be updated when the component expands ?"},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1674479863,"post_id":75202581,"comment_id":132716069,"body_markdown":"@kleopatra Or should I perform the `setRowSize(row, height)` in the `doLayout` (iterating on rows) ? Although there are several considerations to handle such as the visible cells or scroll position.","body":"@kleopatra Or should I perform the <code>setRowSize(row, height)</code> in the <code>doLayout</code> (iterating on rows) ? Although there are several considerations to handle such as the visible cells or scroll position."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1674490213,"post_id":75202581,"comment_id":132719837,"body_markdown":"hmm .. a bit tricky (read: I couldn&#39;t make it work reliably - my Swing skills seem to be more rusty than I thought ;). Could you clarify a bit when exactly you want to expand/collapse? Only in the editor (also while editing or only at its start/end?) or also in the renderer? If the latter: how do you control the expanded state?","body":"hmm .. a bit tricky (read: I couldn&#39;t make it work reliably - my Swing skills seem to be more rusty than I thought ;). Could you clarify a bit when exactly you want to expand/collapse? Only in the editor (also while editing or only at its start/end?) or also in the renderer? If the latter: how do you control the expanded state?"},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1674495957,"post_id":75202581,"comment_id":132721643,"body_markdown":"@kleopatra Actually your first comment helped me [answer the question](https://stackoverflow.com/a/75213166/48136), thanks a lot.","body":"@kleopatra Actually your first comment helped me <a href=\"https://stackoverflow.com/a/75213166/48136\">answer the question</a>, thanks a lot."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":1,"creation_date":1674510940,"post_id":75202581,"comment_id":132725886,"body_markdown":"@kleopatra about expansion: currently it&#39;s the editor only, but the question remains open (whether the component should stay expanded when rendered). Currently I chose to collapse when editing stops. But for sure if component details have to be maintained when switching from editor to renderer I&#39;ll probably need to capture the state in the model.","body":"@kleopatra about expansion: currently it&#39;s the editor only, but the question remains open (whether the component should stay expanded when rendered). Currently I chose to collapse when editing stops. But for sure if component details have to be maintained when switching from editor to renderer I&#39;ll probably need to capture the state in the model."}],"answers":[{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674495902,"creation_date":1674495902,"answer_id":75213166,"question_id":75202581,"body_markdown":"@kleopatra Thank you! Your tip got me on the right track. I made the following code to precompute the row height during the layout operation.\r\n\r\nAnd when a cell gets edited, the editor is added to the table, when then do a revalidation, and computes the height accordingly.\r\n\r\nI had a problem before because setting the height in the renderer actually prevented the correct display of the cell component.\r\n\r\nIn the following code, notice how `doLayout` is adjusting the row height, according to cell component preferred size (wether the cell is rendered or edited).\r\n\r\n\r\n_Note I choose to collapse the component once editing is stopped, hence the listener in the `DynamicExpndablePanelCellEditor`._\r\n\r\n\r\n```\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.border.TitledBorder;\r\nimport javax.swing.event.CellEditorListener;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.table.TableCellEditor;\r\nimport javax.swing.table.TableCellRenderer;\r\nimport java.awt.*;\r\n\r\npublic class DynamicCellRow {\r\n    public static void main(String[] args) {\r\n\r\n        var contentPane = new JPanel(new BorderLayout());\r\n        contentPane.add(new JScrollPane(makeTable()));\r\n\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame(&quot;DynamicCellRow&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(contentPane);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n\r\n    @NotNull\r\n    private static JTable makeTable() {\r\n        var jTable = new JTable(\r\n                new Object[][]{\r\n                        {&quot;a&quot;, &quot;charly&quot;},\r\n                        {&quot;b&quot;, &quot;tango&quot;}\r\n                },\r\n                new Object[]{&quot;id&quot;, &quot;control&quot;}\r\n        ) {\r\n            @Override\r\n            public void doLayout() {\r\n                super.doLayout();\r\n                adjustRowHeights();\r\n            }\r\n\r\n            private void adjustRowHeights() {\r\n                for (int row = 0; row &lt; getRowCount(); row++) {\r\n                    int rowHeight = getRowHeight();\r\n\r\n                    for (int column = 0; column &lt; getColumnCount(); column++) {\r\n                        var editorComponent = getEditorComponent();\r\n                        if (getEditingRow() == row &amp;&amp; getEditingColumn() == column &amp;&amp; editorComponent != null) {\r\n                            editorComponent.setSize(getColumnModel().getColumn(column).getWidth(), 0);\r\n                            rowHeight = Math.max(rowHeight, editorComponent.getPreferredSize().height);\r\n                        } else {\r\n                            var comp = prepareRenderer(getCellRenderer(row, column), row, column);\r\n                            rowHeight = Math.max(rowHeight, comp.getPreferredSize().height);\r\n                        }\r\n                    }\r\n\r\n                    setRowHeight(row, rowHeight);\r\n                }\r\n            }\r\n        };\r\n        {\r\n            var richColumn = jTable.getColumnModel().getColumn(1);\r\n            richColumn.setCellRenderer(new ExpandablePanelCellRenderer());\r\n            richColumn.setCellEditor(new DynamicExpndablePanelCellEditor());\r\n        }\r\n        return jTable;\r\n    }\r\n\r\n\r\n    static class ExpandablePanel extends JPanel {\r\n\r\n        private final JLabel comp;\r\n        private final JPanel advanced;\r\n\r\n        ExpandablePanel() {\r\n            setBorder(BorderFactory.createLineBorder(Color.black));\r\n            setLayout(new GridBagLayout());\r\n\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            // horizontal left-to-right layout\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 0;\r\n\r\n            // resizing behavior\r\n            gbc.weightx = 1;\r\n            gbc.weighty = 1;\r\n\r\n            gbc.insets = new Insets(2, 2, 2, 2);\r\n            gbc.fill = GridBagConstraints.BOTH;\r\n\r\n            advanced = new JPanel();\r\n            {\r\n                advanced.setLayout(new BoxLayout(advanced, BoxLayout.Y_AXIS));\r\n                advanced.setBorder(new TitledBorder(&quot;Advance Settings&quot;));\r\n                advanced.add(new JCheckBox(&quot;Live&quot;));\r\n                advanced.add(new JCheckBox(&quot;Condition&quot;));\r\n                advanced.add(new JCheckBox(&quot;Disable&quot;));\r\n            }\r\n            advanced.setVisible(false);\r\n\r\n            var standard = new JPanel();\r\n            {\r\n                standard.setLayout(new BoxLayout(standard, BoxLayout.X_AXIS));\r\n                comp = new JLabel(&quot;Label 1&quot;);\r\n                standard.add(comp);\r\n                standard.add(new JButton(&quot;Button 1&quot;));\r\n                var expandButton = new JButton(&quot;+&quot;);\r\n                expandButton.addActionListener(e -&gt; {\r\n                    if (advanced.isVisible()) {\r\n                        advanced.setVisible(false);\r\n                        expandButton.setText(&quot;+&quot;);\r\n                    } else {\r\n                        advanced.setVisible(true);\r\n                        expandButton.setText(&quot;-&quot;);\r\n                    }\r\n                });\r\n                standard.add(expandButton);\r\n            }\r\n            add(standard, gbc);\r\n\r\n\r\n            gbc.gridy++;\r\n            gbc.weighty = 0;\r\n            add(advanced, gbc);\r\n        }\r\n\r\n        public void setValue(Object value) {\r\n            comp.setText(value.toString());\r\n        }\r\n\r\n        public void setAdvancedVisibility(boolean visible) {\r\n            advanced.setVisible(visible);\r\n        }\r\n    }\r\n\r\n    private static class DynamicExpndablePanelCellEditor extends AbstractCellEditor implements TableCellEditor {\r\n        Object value;\r\n        @Override\r\n        public Object getCellEditorValue() {\r\n            return value; // not changing\r\n        }\r\n\r\n        private final ExpandablePanel expandablePanel = new ExpandablePanel();\r\n        {\r\n            addCellEditorListener(new CellEditorListener() {\r\n                @Override\r\n                public void editingStopped(ChangeEvent e) {\r\n                    expandablePanel.setAdvancedVisibility(false);\r\n                }\r\n\r\n                @Override\r\n                public void editingCanceled(ChangeEvent e) {\r\n                    expandablePanel.setAdvancedVisibility(false);\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\r\n            this.value = value;\r\n            expandablePanel.setValue(value);\r\n\r\n            return expandablePanel;\r\n        }\r\n    }\r\n\r\n    private static class ExpandablePanelCellRenderer implements TableCellRenderer {\r\n        private final ExpandablePanel expandablePanelRenderComponent = new ExpandablePanel();\r\n\r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n            expandablePanelRenderComponent.setValue(value);\r\n            return expandablePanelRenderComponent;\r\n        }\r\n    }\r\n}\r\n```","title":"Expandable JTable Cell Editor","body":"<p>@kleopatra Thank you! Your tip got me on the right track. I made the following code to precompute the row height during the layout operation.</p>\n<p>And when a cell gets edited, the editor is added to the table, when then do a revalidation, and computes the height accordingly.</p>\n<p>I had a problem before because setting the height in the renderer actually prevented the correct display of the cell component.</p>\n<p>In the following code, notice how <code>doLayout</code> is adjusting the row height, according to cell component preferred size (wether the cell is rendered or edited).</p>\n<p><em>Note I choose to collapse the component once editing is stopped, hence the listener in the <code>DynamicExpndablePanelCellEditor</code>.</em></p>\n<pre><code>import org.jetbrains.annotations.NotNull;\n\nimport javax.swing.*;\nimport javax.swing.border.TitledBorder;\nimport javax.swing.event.CellEditorListener;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.table.TableCellEditor;\nimport javax.swing.table.TableCellRenderer;\nimport java.awt.*;\n\npublic class DynamicCellRow {\n    public static void main(String[] args) {\n\n        var contentPane = new JPanel(new BorderLayout());\n        contentPane.add(new JScrollPane(makeTable()));\n\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;DynamicCellRow&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(contentPane);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n\n    @NotNull\n    private static JTable makeTable() {\n        var jTable = new JTable(\n                new Object[][]{\n                        {&quot;a&quot;, &quot;charly&quot;},\n                        {&quot;b&quot;, &quot;tango&quot;}\n                },\n                new Object[]{&quot;id&quot;, &quot;control&quot;}\n        ) {\n            @Override\n            public void doLayout() {\n                super.doLayout();\n                adjustRowHeights();\n            }\n\n            private void adjustRowHeights() {\n                for (int row = 0; row &lt; getRowCount(); row++) {\n                    int rowHeight = getRowHeight();\n\n                    for (int column = 0; column &lt; getColumnCount(); column++) {\n                        var editorComponent = getEditorComponent();\n                        if (getEditingRow() == row &amp;&amp; getEditingColumn() == column &amp;&amp; editorComponent != null) {\n                            editorComponent.setSize(getColumnModel().getColumn(column).getWidth(), 0);\n                            rowHeight = Math.max(rowHeight, editorComponent.getPreferredSize().height);\n                        } else {\n                            var comp = prepareRenderer(getCellRenderer(row, column), row, column);\n                            rowHeight = Math.max(rowHeight, comp.getPreferredSize().height);\n                        }\n                    }\n\n                    setRowHeight(row, rowHeight);\n                }\n            }\n        };\n        {\n            var richColumn = jTable.getColumnModel().getColumn(1);\n            richColumn.setCellRenderer(new ExpandablePanelCellRenderer());\n            richColumn.setCellEditor(new DynamicExpndablePanelCellEditor());\n        }\n        return jTable;\n    }\n\n\n    static class ExpandablePanel extends JPanel {\n\n        private final JLabel comp;\n        private final JPanel advanced;\n\n        ExpandablePanel() {\n            setBorder(BorderFactory.createLineBorder(Color.black));\n            setLayout(new GridBagLayout());\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            // horizontal left-to-right layout\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n\n            // resizing behavior\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n\n            gbc.insets = new Insets(2, 2, 2, 2);\n            gbc.fill = GridBagConstraints.BOTH;\n\n            advanced = new JPanel();\n            {\n                advanced.setLayout(new BoxLayout(advanced, BoxLayout.Y_AXIS));\n                advanced.setBorder(new TitledBorder(&quot;Advance Settings&quot;));\n                advanced.add(new JCheckBox(&quot;Live&quot;));\n                advanced.add(new JCheckBox(&quot;Condition&quot;));\n                advanced.add(new JCheckBox(&quot;Disable&quot;));\n            }\n            advanced.setVisible(false);\n\n            var standard = new JPanel();\n            {\n                standard.setLayout(new BoxLayout(standard, BoxLayout.X_AXIS));\n                comp = new JLabel(&quot;Label 1&quot;);\n                standard.add(comp);\n                standard.add(new JButton(&quot;Button 1&quot;));\n                var expandButton = new JButton(&quot;+&quot;);\n                expandButton.addActionListener(e -&gt; {\n                    if (advanced.isVisible()) {\n                        advanced.setVisible(false);\n                        expandButton.setText(&quot;+&quot;);\n                    } else {\n                        advanced.setVisible(true);\n                        expandButton.setText(&quot;-&quot;);\n                    }\n                });\n                standard.add(expandButton);\n            }\n            add(standard, gbc);\n\n\n            gbc.gridy++;\n            gbc.weighty = 0;\n            add(advanced, gbc);\n        }\n\n        public void setValue(Object value) {\n            comp.setText(value.toString());\n        }\n\n        public void setAdvancedVisibility(boolean visible) {\n            advanced.setVisible(visible);\n        }\n    }\n\n    private static class DynamicExpndablePanelCellEditor extends AbstractCellEditor implements TableCellEditor {\n        Object value;\n        @Override\n        public Object getCellEditorValue() {\n            return value; // not changing\n        }\n\n        private final ExpandablePanel expandablePanel = new ExpandablePanel();\n        {\n            addCellEditorListener(new CellEditorListener() {\n                @Override\n                public void editingStopped(ChangeEvent e) {\n                    expandablePanel.setAdvancedVisibility(false);\n                }\n\n                @Override\n                public void editingCanceled(ChangeEvent e) {\n                    expandablePanel.setAdvancedVisibility(false);\n                }\n            });\n        }\n\n        @Override\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\n            this.value = value;\n            expandablePanel.setValue(value);\n\n            return expandablePanel;\n        }\n    }\n\n    private static class ExpandablePanelCellRenderer implements TableCellRenderer {\n        private final ExpandablePanel expandablePanelRenderComponent = new ExpandablePanel();\n\n        @Override\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            expandablePanelRenderComponent.setValue(value);\n            return expandablePanelRenderComponent;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75213166,"answer_count":1,"score":1,"last_activity_date":1674495902,"creation_date":1674409423,"question_id":75202581,"body_markdown":"I have a rows of data, where I can make actions on a remote server.\r\n\r\nI&#39;m displaying these data in a `JTable` as it avoids the cost of creating a component for each row, and there&#39;s a lot.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have managed to show the component and be able to interact with the cell, (however I still a first click).\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut what I&#39;m struggling with is that I want my editor component to be expandable, and of course update the current row height. And of course to revert to regular row height when collapsed. I think I need to register some listeners to the cell editor, but I&#39;m currently not able to correctly do that.\r\n\r\n* `ComponentListner::componentResized` make the whole table being constantly repainted.\r\n* `editorComponent.addPropertyChangeListener(&quot;preferredSize&quot;, propertyChangeListener)`, doesn&#39;t always repaint the table\r\n* `editorComponent.addPropertyChangeListener(&quot;preferredSize&quot;, propertyChangeListener)`, doesn&#39;t always repaint the table\r\n\r\nHence this question.\r\n\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\nSomewhat out of scope, I&#39;m currently debating if the component should stay expanded when going to another cell (but this can be an `expanded` property that is part of the model).\r\n\r\nHere&#39;s a minimal example without my attempts to register listeners on the editor component (in `getTableCellEditorComponent`).\r\n\r\nThanks in advance for ay pointers.\r\n\r\n\r\n```java\r\npackage io.github.bric3.fireplace.ui;\r\n\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.border.TitledBorder;\r\nimport javax.swing.table.TableCellEditor;\r\nimport javax.swing.table.TableCellRenderer;\r\nimport java.awt.*;\r\n\r\npublic class DynamicCellRow {\r\n    @NotNull\r\n    private static JTable makeTable() {\r\n        var jTable = new JTable(\r\n                new Object[][]{\r\n                        {&quot;a&quot;, &quot;charly&quot;},\r\n                        {&quot;b&quot;, &quot;tango&quot;}\r\n                },\r\n                new Object[]{&quot;id&quot;, &quot;control&quot;}\r\n        );\r\n        {\r\n            var richColumn = jTable.getColumnModel().getColumn(1);\r\n            richColumn.setCellRenderer(new TableCellRenderer() {\r\n                private final ExpandablePanel expandablePanelRenderComponent = new ExpandablePanel();\r\n                @Override\r\n                public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n                    expandablePanelRenderComponent.setValue(value);\r\n                    return updatePreferredRowHeight(table, expandablePanelRenderComponent, row, column);\r\n                }\r\n            });\r\n\r\n            richColumn.setCellEditor(new DynamicCellEditor());\r\n        }\r\n        return jTable;\r\n    }\r\n\r\n    public static &lt;T extends JComponent&gt; T updatePreferredRowHeight(JTable table, T cellComponent, int row, int column) {\r\n        // Adjust cell height per component\r\n        int originalPreferredHeight = cellComponent.getPreferredSize().height;\r\n        cellComponent.setSize(\r\n                table.getColumnModel().getColumn(column).getWidth(),\r\n                originalPreferredHeight\r\n        );\r\n        int newPreferredHeight = cellComponent.getPreferredSize().height;\r\n        if (table.getRowHeight(row) &lt; newPreferredHeight) {\r\n            table.setRowHeight(row, newPreferredHeight);\r\n        }\r\n        return cellComponent;\r\n    }\r\n\r\n    static class ExpandablePanel extends JPanel {\r\n\r\n        private final JLabel comp;\r\n\r\n        ExpandablePanel() {\r\n            setBorder(BorderFactory.createLineBorder(Color.black));\r\n            setLayout(new GridBagLayout());\r\n\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            // horizontal left-to-right layout\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 0;\r\n\r\n            // resizing behavior\r\n            gbc.weightx = 1;\r\n            gbc.weighty = 1;\r\n\r\n            gbc.insets = new Insets(2, 2, 2, 2);\r\n            gbc.fill = GridBagConstraints.BOTH;\r\n\r\n            JPanel advanced = new JPanel();\r\n            {\r\n                advanced.setLayout(new BoxLayout(advanced, BoxLayout.Y_AXIS));\r\n                advanced.setBorder(new TitledBorder(&quot;Advance Settings&quot;));\r\n                advanced.add(new JCheckBox(&quot;Live&quot;));\r\n                advanced.add(new JCheckBox(&quot;Condition&quot;));\r\n                advanced.add(new JCheckBox(&quot;Disable&quot;));\r\n            }\r\n            advanced.setVisible(false);\r\n\r\n            var standard = new JPanel();\r\n            {\r\n                standard.setLayout(new BoxLayout(standard, BoxLayout.X_AXIS));\r\n                comp = new JLabel(&quot;Label 1&quot;);\r\n                standard.add(comp);\r\n                standard.add(new JButton(&quot;Button 1&quot;));\r\n                var expandButton = new JButton(&quot;+&quot;);\r\n                expandButton.addActionListener(e -&gt; {\r\n                    if (advanced.isVisible()) {\r\n                        advanced.setVisible(false);\r\n                        expandButton.setText(&quot;+&quot;);\r\n                    } else {\r\n                        advanced.setVisible(true);\r\n                        expandButton.setText(&quot;-&quot;);\r\n                    }\r\n                });\r\n                standard.add(expandButton);\r\n            }\r\n            add(standard, gbc);\r\n\r\n\r\n            gbc.gridy++;\r\n            gbc.weighty = 0;\r\n            add(advanced, gbc);\r\n        }\r\n\r\n        public void setValue(Object value) {\r\n            comp.setText(value.toString());\r\n        }\r\n    }\r\n\r\n    private static class DynamicCellEditor extends AbstractCellEditor implements TableCellEditor {\r\n        Object value;\r\n        @Override\r\n        public Object getCellEditorValue() {\r\n            return value; // not changing\r\n        }\r\n\r\n        private final ExpandablePanel expandablePanel = new ExpandablePanel();\r\n\r\n        @Override\r\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\r\n            this.value = value;\r\n            expandablePanel.setValue(value);\r\n            return updatePreferredRowHeight(table, expandablePanel, row, column);\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        var contentPane = new JPanel(new BorderLayout());\r\n        contentPane.add(new JScrollPane(makeTable()));\r\n\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            JFrame frame = new JFrame(&quot;DynamicCellRow&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(contentPane);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0ax5F.png\r\n  [2]: https://i.stack.imgur.com/psnGz.png\r\n  [3]: https://i.stack.imgur.com/uPTPY.png\r\n  [4]: https://i.stack.imgur.com/1DZ4z.png","title":"Expandable JTable Cell Editor","body":"<p>I have a rows of data, where I can make actions on a remote server.</p>\n<p>I'm displaying these data in a <code>JTable</code> as it avoids the cost of creating a component for each row, and there's a lot.</p>\n<p><a href=\"https://i.stack.imgur.com/0ax5F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0ax5F.png\" alt=\"enter image description here\" /></a></p>\n<p>I have managed to show the component and be able to interact with the cell, (however I still a first click).</p>\n<p><a href=\"https://i.stack.imgur.com/psnGz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/psnGz.png\" alt=\"enter image description here\" /></a></p>\n<p>But what I'm struggling with is that I want my editor component to be expandable, and of course update the current row height. And of course to revert to regular row height when collapsed. I think I need to register some listeners to the cell editor, but I'm currently not able to correctly do that.</p>\n<ul>\n<li><code>ComponentListner::componentResized</code> make the whole table being constantly repainted.</li>\n<li><code>editorComponent.addPropertyChangeListener(&quot;preferredSize&quot;, propertyChangeListener)</code>, doesn't always repaint the table</li>\n<li><code>editorComponent.addPropertyChangeListener(&quot;preferredSize&quot;, propertyChangeListener)</code>, doesn't always repaint the table</li>\n</ul>\n<p>Hence this question.</p>\n<p><a href=\"https://i.stack.imgur.com/uPTPY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uPTPY.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/1DZ4z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1DZ4z.png\" alt=\"enter image description here\" /></a></p>\n<p>Somewhat out of scope, I'm currently debating if the component should stay expanded when going to another cell (but this can be an <code>expanded</code> property that is part of the model).</p>\n<p>Here's a minimal example without my attempts to register listeners on the editor component (in <code>getTableCellEditorComponent</code>).</p>\n<p>Thanks in advance for ay pointers.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.github.bric3.fireplace.ui;\n\nimport org.jetbrains.annotations.NotNull;\n\nimport javax.swing.*;\nimport javax.swing.border.TitledBorder;\nimport javax.swing.table.TableCellEditor;\nimport javax.swing.table.TableCellRenderer;\nimport java.awt.*;\n\npublic class DynamicCellRow {\n    @NotNull\n    private static JTable makeTable() {\n        var jTable = new JTable(\n                new Object[][]{\n                        {&quot;a&quot;, &quot;charly&quot;},\n                        {&quot;b&quot;, &quot;tango&quot;}\n                },\n                new Object[]{&quot;id&quot;, &quot;control&quot;}\n        );\n        {\n            var richColumn = jTable.getColumnModel().getColumn(1);\n            richColumn.setCellRenderer(new TableCellRenderer() {\n                private final ExpandablePanel expandablePanelRenderComponent = new ExpandablePanel();\n                @Override\n                public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n                    expandablePanelRenderComponent.setValue(value);\n                    return updatePreferredRowHeight(table, expandablePanelRenderComponent, row, column);\n                }\n            });\n\n            richColumn.setCellEditor(new DynamicCellEditor());\n        }\n        return jTable;\n    }\n\n    public static &lt;T extends JComponent&gt; T updatePreferredRowHeight(JTable table, T cellComponent, int row, int column) {\n        // Adjust cell height per component\n        int originalPreferredHeight = cellComponent.getPreferredSize().height;\n        cellComponent.setSize(\n                table.getColumnModel().getColumn(column).getWidth(),\n                originalPreferredHeight\n        );\n        int newPreferredHeight = cellComponent.getPreferredSize().height;\n        if (table.getRowHeight(row) &lt; newPreferredHeight) {\n            table.setRowHeight(row, newPreferredHeight);\n        }\n        return cellComponent;\n    }\n\n    static class ExpandablePanel extends JPanel {\n\n        private final JLabel comp;\n\n        ExpandablePanel() {\n            setBorder(BorderFactory.createLineBorder(Color.black));\n            setLayout(new GridBagLayout());\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            // horizontal left-to-right layout\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n\n            // resizing behavior\n            gbc.weightx = 1;\n            gbc.weighty = 1;\n\n            gbc.insets = new Insets(2, 2, 2, 2);\n            gbc.fill = GridBagConstraints.BOTH;\n\n            JPanel advanced = new JPanel();\n            {\n                advanced.setLayout(new BoxLayout(advanced, BoxLayout.Y_AXIS));\n                advanced.setBorder(new TitledBorder(&quot;Advance Settings&quot;));\n                advanced.add(new JCheckBox(&quot;Live&quot;));\n                advanced.add(new JCheckBox(&quot;Condition&quot;));\n                advanced.add(new JCheckBox(&quot;Disable&quot;));\n            }\n            advanced.setVisible(false);\n\n            var standard = new JPanel();\n            {\n                standard.setLayout(new BoxLayout(standard, BoxLayout.X_AXIS));\n                comp = new JLabel(&quot;Label 1&quot;);\n                standard.add(comp);\n                standard.add(new JButton(&quot;Button 1&quot;));\n                var expandButton = new JButton(&quot;+&quot;);\n                expandButton.addActionListener(e -&gt; {\n                    if (advanced.isVisible()) {\n                        advanced.setVisible(false);\n                        expandButton.setText(&quot;+&quot;);\n                    } else {\n                        advanced.setVisible(true);\n                        expandButton.setText(&quot;-&quot;);\n                    }\n                });\n                standard.add(expandButton);\n            }\n            add(standard, gbc);\n\n\n            gbc.gridy++;\n            gbc.weighty = 0;\n            add(advanced, gbc);\n        }\n\n        public void setValue(Object value) {\n            comp.setText(value.toString());\n        }\n    }\n\n    private static class DynamicCellEditor extends AbstractCellEditor implements TableCellEditor {\n        Object value;\n        @Override\n        public Object getCellEditorValue() {\n            return value; // not changing\n        }\n\n        private final ExpandablePanel expandablePanel = new ExpandablePanel();\n\n        @Override\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\n            this.value = value;\n            expandablePanel.setValue(value);\n            return updatePreferredRowHeight(table, expandablePanel, row, column);\n        }\n    }\n\n\n    public static void main(String[] args) {\n\n        var contentPane = new JPanel(new BorderLayout());\n        contentPane.add(new JScrollPane(makeTable()));\n\n        SwingUtilities.invokeLater(() -&gt; {\n            JFrame frame = new JFrame(&quot;DynamicCellRow&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(contentPane);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n\n</code></pre>\n"},{"tags":["java","blackjack"],"comments":[{"owner":{"account_id":24142081,"reputation":78,"user_id":18108156,"display_name":"Daniel Scerpa"},"score":0,"creation_date":1674139372,"post_id":75173560,"comment_id":132654634,"body_markdown":"see also [Print in bold on a terminal](https://stackoverflow.com/questions/29109678/print-in-bold-on-a-terminal#:~:text=(Try%20%22%5Cu001B%5B1m,%22I%20am%20bold%22%20.))","body":"see also <a href=\"https://stackoverflow.com/questions/29109678/print-in-bold-on-a-terminal#:~:text=(Try%20%22%5Cu001B%5B1m,%22I%20am%20bold%22%20.)\">Print in bold on a terminal</a>"}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1674141186,"post_id":75173648,"comment_id":132655300,"body_markdown":"Will this work in Windows?","body":"Will this work in Windows?"},{"owner":{"display_name":"user20523676"},"score":0,"creation_date":1674142181,"post_id":75173648,"comment_id":132655700,"body_markdown":"Thank you! It took me a while to figure out how to use it, but it works! :)","body":"Thank you! It took me a while to figure out how to use it, but it works! :)"}],"tags":[],"owner":{"account_id":22228567,"reputation":177,"user_id":16465140,"display_name":"Amr Mashrah"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674137811,"creation_date":1674137811,"answer_id":75173648,"question_id":75173560,"body_markdown":"\r\nHere is one way to write texts bold on console for IDEs like NetBeans and Eclipse\r\n\r\n    String boldText= &quot;Java_Bold_Text&quot;;\r\n    System.out.print(&quot;\\033[0;1m&quot; + boldText);","title":"How can I write bold text in the console for Java?","body":"<p>Here is one way to write texts bold on console for IDEs like NetBeans and Eclipse</p>\n<pre><code>String boldText= &quot;Java_Bold_Text&quot;;\nSystem.out.print(&quot;\\033[0;1m&quot; + boldText);\n</code></pre>\n"}],"owner":{"display_name":"user20523676"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674495694,"accepted_answer_id":75173648,"answer_count":1,"score":0,"last_activity_date":1674495680,"creation_date":1674137452,"question_id":75173560,"body_markdown":"I am making a Blackjack program using Java, and I want to add bold text to it; however, I am having trouble knowing how to do that. Can anyone help?\r\n\r\nI have tried to look up escape codes for it (I know they exist, I just don&#39;t remember them) on here and on the web, but couldn&#39;t find anything useful.","title":"How can I write bold text in the console for Java?","body":"<p>I am making a Blackjack program using Java, and I want to add bold text to it; however, I am having trouble knowing how to do that. Can anyone help?</p>\n<p>I have tried to look up escape codes for it (I know they exist, I just don't remember them) on here and on the web, but couldn't find anything useful.</p>\n"},{"tags":["java","tfs","shelve","tfvc","shelveset"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1503039531,"post_id":45749658,"comment_id":78457929,"body_markdown":"Possible duplicate of [how to update existing shelve set in tfs](https://stackoverflow.com/questions/33883628/how-to-update-existing-shelve-set-in-tfs)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/33883628/how-to-update-existing-shelve-set-in-tfs\">how to update existing shelve set in tfs</a>"},{"owner":{"account_id":5537973,"reputation":73,"user_id":4395614,"accept_rate":75,"display_name":"sebastian89n"},"score":0,"creation_date":1503040463,"post_id":45749658,"comment_id":78458502,"body_markdown":"Unfortunately, it&#39;s not. All I know is that our client has a gated-build for .resx files. We couldn&#39;t upload them directly into the repository, so we had to create a shelvesets. We had this working, but once they&#39;ve checked in translations, we can no longer replace existing shelveset or even create a new one. I try to reproduce this problem on my local instance of TFS, but it seems to be working here. Is it possible that their configuration is somehow blocking it?","body":"Unfortunately, it&#39;s not. All I know is that our client has a gated-build for .resx files. We couldn&#39;t upload them directly into the repository, so we had to create a shelvesets. We had this working, but once they&#39;ve checked in translations, we can no longer replace existing shelveset or even create a new one. I try to reproduce this problem on my local instance of TFS, but it seems to be working here. Is it possible that their configuration is somehow blocking it?"},{"owner":{"account_id":7037568,"reputation":49946,"user_id":5391065,"display_name":"PatrickLu-MSFT"},"score":0,"creation_date":1503334881,"post_id":45749658,"comment_id":78562577,"body_markdown":"Sorry, didn&#39;t get your point. Did you just want to bypass the gated check in? How would you use shelveset to do this ? And why you need to replace the existing shelveset?","body":"Sorry, didn&#39;t get your point. Did you just want to bypass the gated check in? How would you use shelveset to do this ? And why you need to replace the existing shelveset?"},{"owner":{"account_id":5537973,"reputation":73,"user_id":4395614,"accept_rate":75,"display_name":"sebastian89n"},"score":0,"creation_date":1503495401,"post_id":45749658,"comment_id":78640051,"body_markdown":"It&#39;s not like I want to by pass gated check-in. What I really want is to discover why new shelvesets are not being created on the client TFS repository after the file has been unshelved and checked-in. What we are doing is that we automate the translation process of the files from repository and we upload the translated version back to repo. We have agreed to do that as shelvesets, so we create a shelveset of each file and if the newer version is uploaded, we replace the shelveset with the updated content. Client has unshelved changes and checked them in, the shelvesets are no longer created.","body":"It&#39;s not like I want to by pass gated check-in. What I really want is to discover why new shelvesets are not being created on the client TFS repository after the file has been unshelved and checked-in. What we are doing is that we automate the translation process of the files from repository and we upload the translated version back to repo. We have agreed to do that as shelvesets, so we create a shelveset of each file and if the newer version is uploaded, we replace the shelveset with the updated content. Client has unshelved changes and checked them in, the shelvesets are no longer created."}],"owner":{"account_id":5537973,"reputation":73,"user_id":4395614,"accept_rate":75,"display_name":"sebastian89n"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674495442,"creation_date":1503036776,"question_id":45749658,"body_markdown":"I have an application that is uploading a translation to the TFVC repository. We have added two modes of update, check in and shelve. Shelving was supposed to create a file on a shelveset, but we have discovered, that once the same file exists on the repository (it was checked in before), shelvesets are not being created. \r\n\r\nIt is most likely caused by &quot;gated-build&quot;, which is blocking check-in of any *resx files that already exists. It looks like shelvesets are also blocked, if the file already exists in the repsitory. \r\nCould this be a potential reason? Is there a way to avoid this problem using Java SDK or perhaps by changing the configuration on the repository?\r\n\r\nOn my local-testing TFS repository it works well. We want to create shelvesets everytime on the client server as well.\r\n\r\n","title":"TFS Java SDK - shelving file that already exists on the repository","body":"<p>I have an application that is uploading a translation to the TFVC repository. We have added two modes of update, check in and shelve. Shelving was supposed to create a file on a shelveset, but we have discovered, that once the same file exists on the repository (it was checked in before), shelvesets are not being created.</p>\n<p>It is most likely caused by &quot;gated-build&quot;, which is blocking check-in of any *resx files that already exists. It looks like shelvesets are also blocked, if the file already exists in the repsitory.\nCould this be a potential reason? Is there a way to avoid this problem using Java SDK or perhaps by changing the configuration on the repository?</p>\n<p>On my local-testing TFS repository it works well. We want to create shelvesets everytime on the client server as well.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1674491262,"post_id":75212286,"comment_id":132720195,"body_markdown":"What if you were to uninstall the Java binaries from your system and then reinstall only the one you cared about?  It&#39;s been pretty much 10 years since I tried to do Java on Windows but I think the sentiment is, if you have two conflicting binaries on your system, removing them both and then replacing only the one you want would usually do the trick.","body":"What if you were to uninstall the Java binaries from your system and then reinstall only the one you cared about?  It&#39;s been pretty much 10 years since I tried to do Java on Windows but I think the sentiment is, if you have two conflicting binaries on your system, removing them both and then replacing only the one you want would usually do the trick."},{"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"score":0,"creation_date":1674492075,"post_id":75212286,"comment_id":132720486,"body_markdown":"Actually, I need both systems to be used with different applications. I can uninstall one and that would work.  But I would like to keep both systems.","body":"Actually, I need both systems to be used with different applications. I can uninstall one and that would work.  But I would like to keep both systems."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1674492267,"post_id":75212286,"comment_id":132720535,"body_markdown":"1.8.0_361 and 1.8.0_202 are both the same version 1.8, just different security patch levels. You don&#39;t need both. Actually, what you have is 1.8.0_361 JRE only and 1.8.0_202 JDK and JRE. Things that need the JDK are using patch 202 because you haven&#39;t updated the JDK, you&#39;ve only updated the JRE.","body":"1.8.0_361 and 1.8.0_202 are both the same version 1.8, just different security patch levels. You don&#39;t need both. Actually, what you have is 1.8.0_361 JRE only and 1.8.0_202 JDK and JRE. Things that need the JDK are using patch 202 because you haven&#39;t updated the JDK, you&#39;ve only updated the JRE."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1674492280,"post_id":75212286,"comment_id":132720540,"body_markdown":"Java 1.8 is backwards-compatible with those point changes, so there&#39;s no real value in keeping the slightly older _202 version over the _361 version.  Otherwise...your environment is &quot;ideal&quot; in that it has all of the Java versions it needs...","body":"Java 1.8 is backwards-compatible with those point changes, so there&#39;s no real value in keeping the slightly older _202 version over the _361 version.  Otherwise...your environment is &quot;ideal&quot; in that it has all of the Java versions it needs..."},{"owner":{"account_id":1345845,"reputation":3244,"user_id":1286621,"accept_rate":80,"display_name":"Mike"},"score":0,"creation_date":1674493017,"post_id":75212286,"comment_id":132720762,"body_markdown":"You can open a dos or ps window and type in java -version and that will tell you which one your using.  Typically the first one to show up in your path variable is the one it will use, unless it is installed as part of the application.","body":"You can open a dos or ps window and type in java -version and that will tell you which one your using.  Typically the first one to show up in your path variable is the one it will use, unless it is installed as part of the application."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674495172,"creation_date":1674495172,"answer_id":75213046,"question_id":75212286,"body_markdown":"When you type `java` at the command prompt, Windows will look for `java.exe` in the directories specified by the `PATH` environment variable, starting with the first one. In your case, that&#39;s `C:\\Program Files(x86)\\Common Files\\Oracle\\Java\\javapath`. That folder contains a few files which are nothing more than symbolic links to executables found in the latest installed JRE. In your case, that will be `C:\\Program Files\\Java\\jre1.8.0_361\\bin`.\r\n\r\nWhat seems to be happening is that the JRE gets automatically updated, and you&#39;ve got the latest JRE installed. But the JDK is _not_ automatically updated: you have to do that manually. You still have version 1.8.0_202 of the JDK. So when you type `javac` (to compile a Java source file), you are using the JDK, and that&#39;s found in `C:\\Program Files\\Java\\jdk1.8.0_202\\bin` which is the last directory specified in your `PATH` environment variable.\r\n\r\nYou can clean up by removing the current versions of JRE and JDK and install the latest JDK.","title":"Which Java am I using on my Windows 10 system?","body":"<p>When you type <code>java</code> at the command prompt, Windows will look for <code>java.exe</code> in the directories specified by the <code>PATH</code> environment variable, starting with the first one. In your case, that's <code>C:\\Program Files(x86)\\Common Files\\Oracle\\Java\\javapath</code>. That folder contains a few files which are nothing more than symbolic links to executables found in the latest installed JRE. In your case, that will be <code>C:\\Program Files\\Java\\jre1.8.0_361\\bin</code>.</p>\n<p>What seems to be happening is that the JRE gets automatically updated, and you've got the latest JRE installed. But the JDK is <em>not</em> automatically updated: you have to do that manually. You still have version 1.8.0_202 of the JDK. So when you type <code>javac</code> (to compile a Java source file), you are using the JDK, and that's found in <code>C:\\Program Files\\Java\\jdk1.8.0_202\\bin</code> which is the last directory specified in your <code>PATH</code> environment variable.</p>\n<p>You can clean up by removing the current versions of JRE and JDK and install the latest JDK.</p>\n"},{"tags":[],"owner":{"account_id":27540191,"reputation":1,"user_id":21017076,"display_name":"Mayur Khare"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674495411,"creation_date":1674495411,"answer_id":75213080,"question_id":75212286,"body_markdown":"Do you use any IDE?\r\nIf you are using eclipse then right-click on the project select build path then configure the build path there is an option JRE system library edit it and choose the latest java version. ","title":"Which Java am I using on my Windows 10 system?","body":"<p>Do you use any IDE?\nIf you are using eclipse then right-click on the project select build path then configure the build path there is an option JRE system library edit it and choose the latest java version.</p>\n"}],"owner":{"account_id":2435943,"reputation":1275,"user_id":2125853,"accept_rate":77,"display_name":"user2125853"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674556839,"accepted_answer_id":75213046,"answer_count":2,"score":0,"last_activity_date":1674495411,"creation_date":1674490943,"question_id":75212286,"body_markdown":"I have installed multiple versions of Java on my Windows 10 system. \r\n[![enter image description here][1]][1]\r\n\r\nI am not sure how Java is set up.  I see the following entry under environment variables\r\n[![enter image description here][2]][2]\r\n\r\nI see the following files in the directory above\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThen there are the installations in the &#39;Program Files&#39; directory\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nI had 1.8.0_202 on my system.  Then I installed update 1.8.0_361.  The system continues to be using update 202.  What I need to do to make the system use update 361.  Disabling update 202 does not to the job. Also, if you can explain how all these different entries (the environment variables, the files in the C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath)  are used.\r\n\r\n  [1]: https://i.stack.imgur.com/QFN9Q.png\r\n  [2]: https://i.stack.imgur.com/7QDFL.png\r\n  [3]: https://i.stack.imgur.com/DYmiw.png\r\n  [4]: https://i.stack.imgur.com/XaMbt.png","title":"Which Java am I using on my Windows 10 system?","body":"<p>I have installed multiple versions of Java on my Windows 10 system.\n<a href=\"https://i.stack.imgur.com/QFN9Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QFN9Q.png\" alt=\"enter image description here\" /></a></p>\n<p>I am not sure how Java is set up.  I see the following entry under environment variables\n<a href=\"https://i.stack.imgur.com/7QDFL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7QDFL.png\" alt=\"enter image description here\" /></a></p>\n<p>I see the following files in the directory above</p>\n<p><a href=\"https://i.stack.imgur.com/DYmiw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DYmiw.png\" alt=\"enter image description here\" /></a></p>\n<p>Then there are the installations in the 'Program Files' directory</p>\n<p><a href=\"https://i.stack.imgur.com/XaMbt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XaMbt.png\" alt=\"enter image description here\" /></a></p>\n<p>I had 1.8.0_202 on my system.  Then I installed update 1.8.0_361.  The system continues to be using update 202.  What I need to do to make the system use update 361.  Disabling update 202 does not to the job. Also, if you can explain how all these different entries (the environment variables, the files in the C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath)  are used.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1620988627,"post_id":67518426,"comment_id":119366058,"body_markdown":"Please add the full stack trace. Also, why can&#39;t you update?","body":"Please add the full stack trace. Also, why can&#39;t you update?"},{"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"score":0,"creation_date":1621000357,"post_id":67518426,"comment_id":119370700,"body_markdown":"This is a WARN level output that is getting printed in the console before the application kills itself. I tried to change log level to TRACE/DEBUG for root/hibernate/spring boot but still had no success with the stack trace. Can you help me with a way to print that ?","body":"This is a WARN level output that is getting printed in the console before the application kills itself. I tried to change log level to TRACE/DEBUG for root/hibernate/spring boot but still had no success with the stack trace. Can you help me with a way to print that ?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1621063743,"post_id":67518426,"comment_id":119386354,"body_markdown":"How can this be a warning? In your question you were writing that the app fails to boot. Not sure which warning you mean.","body":"How can this be a warning? In your question you were writing that the app fails to boot. Not sure which warning you mean."},{"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"score":0,"creation_date":1621068964,"post_id":67518426,"comment_id":119387561,"body_markdown":"Added raw console log output in the end for more info. Added few lines above and below it, if those could relate.","body":"Added raw console log output in the end for more info. Added few lines above and below it, if those could relate."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1621114946,"post_id":67518426,"comment_id":119399359,"body_markdown":"Why can&#39;t you just use the latest Hibernate version?","body":"Why can&#39;t you just use the latest Hibernate version?"},{"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"score":0,"creation_date":1621144864,"post_id":67518426,"comment_id":119403031,"body_markdown":"If by latest, you mean latest `5.x`, since I am planning to switch to `hibernate-core` that comes along with `spring-boot-starter-data-jpa`, I tried to upgrade spring jpa to latest stable. It still failed with same error.","body":"If by latest, you mean latest <code>5.x</code>, since I am planning to switch to <code>hibernate-core</code> that comes along with <code>spring-boot-starter-data-jpa</code>, I tried to upgrade spring jpa to latest stable. It still failed with same error."},{"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"score":0,"creation_date":1621145193,"post_id":67518426,"comment_id":119403095,"body_markdown":"Also, found out changing this part of query : `or x.messageEntity.applicationParameter.parameterName like ?1` to something like `or x.messageEntity.field2 like ?1` solves the problem too. Is there any limit on the mapping from hibernate ? Or could this imply possible errors in the DB schema?","body":"Also, found out changing this part of query : <code>or x.messageEntity.applicationParameter.parameterName like ?1</code> to something like <code>or x.messageEntity.field2 like ?1</code> solves the problem too. Is there any limit on the mapping from hibernate ? Or could this imply possible errors in the DB schema?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1621152128,"post_id":67518426,"comment_id":119404375,"body_markdown":"The query should be fine, but there must be some stack trace for the error you are seeing. Without this, it&#39;s impossible to figure out what is wrong.","body":"The query should be fine, but there must be some stack trace for the error you are seeing. Without this, it&#39;s impossible to figure out what is wrong."},{"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"score":0,"creation_date":1621235742,"post_id":67518426,"comment_id":119424004,"body_markdown":"This application is using Postgres DB for persistence. Will that be okay to try to reproduce the issue with H2? That shouldn&#39;t be a problem, right ?","body":"This application is using Postgres DB for persistence. Will that be okay to try to reproduce the issue with H2? That shouldn&#39;t be a problem, right ?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1621236585,"post_id":67518426,"comment_id":119424256,"body_markdown":"Sure, that&#39;s fine.","body":"Sure, that&#39;s fine."},{"owner":{"account_id":17705436,"reputation":731,"user_id":12854146,"display_name":"tremendous7"},"score":0,"creation_date":1621383551,"post_id":67518426,"comment_id":119477881,"body_markdown":"can you share your MessageKey class? could you use a Long field instead of an ApplicationParameterEntity? so in MessageEntity i would remove @Id from the field ApplicationParameterEntity and i would add the new field `private Long applicationParameterId;` annotated `@Id` and `@Column(name = &quot;MSG_P_I&quot;, nullable = false, updatable = false, insertable = false)`","body":"can you share your MessageKey class? could you use a Long field instead of an ApplicationParameterEntity? so in MessageEntity i would remove @Id from the field ApplicationParameterEntity and i would add the new field <code>private Long applicationParameterId;</code> annotated <code>@Id</code> and <code>@Column(name = &quot;MSG_P_I&quot;, nullable = false, updatable = false, insertable = false)</code>"},{"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"score":0,"creation_date":1622007763,"post_id":67518426,"comment_id":119662204,"body_markdown":"@tremendous7 I have added `MessageKey` to the question body. Changing schema is a bit costly here. Since this is an RDBMS. I can&#39;t really do it unless I can prove that it is absolutely needed.","body":"@tremendous7 I have added <code>MessageKey</code> to the question body. Changing schema is a bit costly here. Since this is an RDBMS. I can&#39;t really do it unless I can prove that it is absolutely needed."},{"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"score":0,"creation_date":1622007864,"post_id":67518426,"comment_id":119662230,"body_markdown":"@ChristianBeikov As you had suggested, I isolated the relevant code and tried to reproduce the issue with H2 and latest Spring boot. Finally was able to see stack trace here for some reason, which wasn&#39;t the case earlier. I have added the complete stack trace in question body.","body":"@ChristianBeikov As you had suggested, I isolated the relevant code and tried to reproduce the issue with H2 and latest Spring boot. Finally was able to see stack trace here for some reason, which wasn&#39;t the case earlier. I have added the complete stack trace in question body."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1622447592,"post_id":67518426,"comment_id":119786292,"body_markdown":"Please create an issue in the issue tracker(https://hibernate.atlassian.net) with a test case(https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java) that reproduces the issue.","body":"Please create an issue in the issue tracker(<a href=\"https://hibernate.atlassian.net\" rel=\"nofollow noreferrer\">hibernate.atlassian.net</a>) with a test case(<a href=\"https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-test-case-templates/blob&zwnj;&#8203;/master/&hellip;</a>) that reproduces the issue."}],"answers":[{"tags":[],"owner":{"account_id":17705436,"reputation":731,"user_id":12854146,"display_name":"tremendous7"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621179609,"creation_date":1621179609,"answer_id":67558591,"question_id":67518426,"body_markdown":"try the following query\r\n\r\n    @Override\r\n    @Query(&quot;select x from MessageBZCEntity x join x.messageEntity as me join fetch me.applicationParamter as ap &quot; +\r\n            &quot;where me.comments like ?1 or ap.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1&quot;)\r\n    Page&lt;MessageBZCEntity&gt; searchByText(String searchText, Pageable pageable);","title":"Spring JPA : Validation failed for query for method public abstract method","body":"<p>try the following query</p>\n<pre><code>@Override\n@Query(&quot;select x from MessageBZCEntity x join x.messageEntity as me join fetch me.applicationParamter as ap &quot; +\n        &quot;where me.comments like ?1 or ap.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1&quot;)\nPage&lt;MessageBZCEntity&gt; searchByText(String searchText, Pageable pageable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16608611,"reputation":123,"user_id":12002311,"display_name":"Prince"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674495281,"creation_date":1674495281,"answer_id":75213062,"question_id":67518426,"body_markdown":"I was getting the same error with the below query. \r\n\r\n```\r\n\t@Query(&quot;SELECT * FROM Feedback f&quot;)\r\n```\r\nI changed the * with an alias and it worked\r\n```\r\n\t@Query(&quot;SELECT f FROM Feedback f&quot;)\r\n```","title":"Spring JPA : Validation failed for query for method public abstract method","body":"<p>I was getting the same error with the below query.</p>\n<pre><code>    @Query(&quot;SELECT * FROM Feedback f&quot;)\n</code></pre>\n<p>I changed the * with an alias and it worked</p>\n<pre><code>    @Query(&quot;SELECT f FROM Feedback f&quot;)\n</code></pre>\n"}],"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674495281,"creation_date":1620905116,"question_id":67518426,"body_markdown":"\r\nApplication is working fine when it has external `hibernate-core : 5.3.14.Final` added to it, along with `spring-boot-starter-data-jpa : 2.4.3`.\r\nWhen I try to remove the externally added `hibernate-core` it fails with following error while booting up:\r\n```\r\n...\r\nInvocation of init method failed; nested exception is java.lang.IllegalArgumentException:\r\nValidation failed for query for method public abstract org.springframework.data.domain.Page\r\ncom.my_app.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\r\n```\r\n\r\n*NOTE*: Internally `spring-boot-starter-data-jpa : 2.4.3` has `Hibernate ORM core version 5.4.28.Final` added as a dependency. It shows so in logs and dependency tree.\r\n\r\n\r\n\r\n### JPA Repository:\r\n```\r\n@Repository\r\npublic interface MessageBZCRepository extends JpaRepository&lt;MessageBZCEntity, MessageBZCKey&gt;, Searchable&lt;MessageBZCEntity&gt; {\r\n\r\n    ...\r\n\r\n    @Override\r\n    @EntityGraph(attributePaths = &quot;messageEntity.applicationParameter&quot;)\r\n    @Query(&quot;select x from MessageBZCEntity x where x.messageEntity.comments like ?1 or x.messageEntity.applicationParameter.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1&quot;)\r\n    Page&lt;MessageBZCEntity&gt; searchByText(String searchText, Pageable pageable);\r\n\r\n    ...\r\n\r\n}\r\n```\r\n\r\nI found out that removing `or x.messageEntity.applicationParameter.parameterName like ?1` from the above mentioned query eleminates the `IllegalArgumentException` from application boot log and application boots up properly.\r\n\r\n\r\n\r\n### Entities:\r\n```\r\n@Entity\r\n@Table(name = &quot;MSG_Z&quot;)\r\n@IdClass(MessageBZCKey.class)\r\npublic class MessageBZCEntity implements Serializable {\r\n\r\n    @Id\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumns({\r\n            @JoinColumn(name = &quot;APPL_C&quot;, referencedColumnName = &quot;APPL_C&quot;\r\n                    , nullable = false),\r\n            @JoinColumn(name = &quot;MSG_P_I&quot;, referencedColumnName = &quot;MSG_P_I&quot;\r\n                    , nullable = false)\r\n\r\n    })\r\n    private MessageEntity messageEntity;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;MSG&quot;)\r\n@IdClass(MessageKey.class)\r\npublic class MessageEntity {\r\n\r\n    @Id\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;APPL_C&quot;, nullable = false)\r\n    private ApplicationCode applicationCode;\r\n\r\n    @Id\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;MSG_P_I&quot;, nullable = false)\r\n    private ApplicationParameterEntity applicationParameter;\r\n\r\n    ...\r\n\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;APPL_PARM&quot;)\r\npublic class ApplicationParameterEntity implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;APPL_PARM_I&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;PARM_TYPE_C&quot;, nullable = false)\r\n    private ApplicationParameterType parameterType;\r\n\r\n    @Column(name = &quot;PARM_N&quot;, nullable = false)\r\n    private String parameterName;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n```\r\npublic class MessageKey implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    private ApplicationCode applicationCode;\r\n    private Long applicationParameter;\r\n\r\n}\r\n```\r\n\r\n\r\nI went through `hibernate-core` release notes, migration guides for hibernate-core:5.4.x but couldn&#39;t understand the root cause.\r\n\r\nNeed help in getting rid of this error. If anyone can route me towards the right direction, that would be certainly be helpful.\r\n\r\n### Update 1:\r\nAdding raw console log output:\r\n```\r\n[TRACE] 2021-05-15 14:13:17,669 main org.hibernate.type.descriptor.sql.BasicBinder - {} - binding parameter [1] as [VARCHAR] - [ABC]\r\n[TRACE] 2021-05-15 14:13:17,669 main org.hibernate.type.descriptor.sql.BasicBinder - {} - binding parameter [2] as [VARCHAR] - [XYZ]\r\n[WARN] 2021-05-15 14:13:18,926 main org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - {} - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;messageBZCServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;messageBZCRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;messageBZCRepository&#39; defined in com.my_app.repository.MessageBZCRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.my_app.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\r\n[INFO] 2021-05-15 14:13:18,931 main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - {} - Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n[INFO] 2021-05-15 14:13:18,932 main com.zaxxer.hikari.HikariDataSource - {} - HikariPool-1 - Shutdown initiated...\r\n[INFO] 2021-05-15 14:13:19,268 main com.zaxxer.hikari.HikariDataSource - {} - HikariPool-1 - Shutdown completed.\r\nMay 15, 2021 2:13:19 PM org.apache.catalina.core.StandardService stopInternal\r\nINFO: Stopping service [Tomcat]\r\n```\r\n\r\n### Update 2:\r\n### Update 2:\r\n* Added MessageKey class\r\n* I was able to isolate the relevant code in a new application with H2 database and found the complete stacktrace (`hibernate-core-5.4.30.Final` is being used with latest spring):\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;messageBZCRepository&#39; defined in com.example.JPAIssueDemo.repository.MessageBZCRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.example.JPAIssueDemo.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:925) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.6.jar:5.3.6]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.6.jar:5.3.6]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:339) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1340) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1329) ~[spring-boot-2.4.5.jar:2.4.5]\r\n\tat com.example.JPAIssueDemo.JpaIssueDemoApplication.main(JpaIssueDemoApplication.java:10) ~[main/:na]\r\nCaused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.example.JPAIssueDemo.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:63) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:100) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:93) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\r\n\tat java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054) ~[na:na]\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:95) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:85) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat java.base/java.util.Optional.map(Optional.java:265) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:85) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:303) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.6.jar:5.3.6]\r\n\t... 17 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: org.hibernate.QueryException: could not resolve property: parameterName of: com.example.JPAIssueDemo.entity.sl.MessageBZCEntity [select x from com.example.JPAIssueDemo.entity.sl.MessageBZCEntity x where x.messageEntity.comments like ?1 or x.messageEntity.applicationParameter.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1]\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:734) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.6.jar:5.3.6]\r\n\tat com.sun.proxy.$Proxy89.createQuery(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\t... 46 common frames omitted\r\nCaused by: org.hibernate.QueryException: could not resolve property: parameterName of: com.example.JPAIssueDemo.entity.sl.MessageBZCEntity [select x from com.example.JPAIssueDemo.entity.sl.MessageBZCEntity x where x.messageEntity.comments like ?1 or x.messageEntity.applicationParameter.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1]\r\n\tat org.hibernate.QueryException.generateQueryException(QueryException.java:120) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:220) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:613) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:725) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\t... 54 common frames omitted\r\nCaused by: org.hibernate.QueryException: could not resolve property: parameterName of: com.example.JPAIssueDemo.entity.sl.MessageBZCEntity\r\n\tat org.hibernate.persister.entity.AbstractPropertyMapping.propertyException(AbstractPropertyMapping.java:77) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.persister.entity.AbstractPropertyMapping.toType(AbstractPropertyMapping.java:71) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.toType(AbstractEntityPersister.java:2038) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.tree.FromElementType.getPropertyType(FromElementType.java:412) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.tree.FromElement.getPropertyType(FromElement.java:520) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.tree.DotNode.getDataType(DotNode.java:695) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.tree.DotNode.prepareLhs(DotNode.java:269) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.tree.DotNode.resolve(DotNode.java:209) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1055) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1308) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4778) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4388) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2166) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2119) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2116) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2116) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:832) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:626) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:330) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:278) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\r\n\t... 60 common frames omitted\r\n```","title":"Spring JPA : Validation failed for query for method public abstract method","body":"<p>Application is working fine when it has external <code>hibernate-core : 5.3.14.Final</code> added to it, along with <code>spring-boot-starter-data-jpa : 2.4.3</code>.\nWhen I try to remove the externally added <code>hibernate-core</code> it fails with following error while booting up:</p>\n<pre><code>...\nInvocation of init method failed; nested exception is java.lang.IllegalArgumentException:\nValidation failed for query for method public abstract org.springframework.data.domain.Page\ncom.my_app.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\n</code></pre>\n<p><em>NOTE</em>: Internally <code>spring-boot-starter-data-jpa : 2.4.3</code> has <code>Hibernate ORM core version 5.4.28.Final</code> added as a dependency. It shows so in logs and dependency tree.</p>\n<h3>JPA Repository:</h3>\n<pre><code>@Repository\npublic interface MessageBZCRepository extends JpaRepository&lt;MessageBZCEntity, MessageBZCKey&gt;, Searchable&lt;MessageBZCEntity&gt; {\n\n    ...\n\n    @Override\n    @EntityGraph(attributePaths = &quot;messageEntity.applicationParameter&quot;)\n    @Query(&quot;select x from MessageBZCEntity x where x.messageEntity.comments like ?1 or x.messageEntity.applicationParameter.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1&quot;)\n    Page&lt;MessageBZCEntity&gt; searchByText(String searchText, Pageable pageable);\n\n    ...\n\n}\n</code></pre>\n<p>I found out that removing <code>or x.messageEntity.applicationParameter.parameterName like ?1</code> from the above mentioned query eleminates the <code>IllegalArgumentException</code> from application boot log and application boots up properly.</p>\n<h3>Entities:</h3>\n<pre><code>@Entity\n@Table(name = &quot;MSG_Z&quot;)\n@IdClass(MessageBZCKey.class)\npublic class MessageBZCEntity implements Serializable {\n\n    @Id\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumns({\n            @JoinColumn(name = &quot;APPL_C&quot;, referencedColumnName = &quot;APPL_C&quot;\n                    , nullable = false),\n            @JoinColumn(name = &quot;MSG_P_I&quot;, referencedColumnName = &quot;MSG_P_I&quot;\n                    , nullable = false)\n\n    })\n    private MessageEntity messageEntity;\n\n    ...\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;MSG&quot;)\n@IdClass(MessageKey.class)\npublic class MessageEntity {\n\n    @Id\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;APPL_C&quot;, nullable = false)\n    private ApplicationCode applicationCode;\n\n    @Id\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;MSG_P_I&quot;, nullable = false)\n    private ApplicationParameterEntity applicationParameter;\n\n    ...\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;APPL_PARM&quot;)\npublic class ApplicationParameterEntity implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;APPL_PARM_I&quot;, nullable = false)\n    private Long id;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;PARM_TYPE_C&quot;, nullable = false)\n    private ApplicationParameterType parameterType;\n\n    @Column(name = &quot;PARM_N&quot;, nullable = false)\n    private String parameterName;\n\n    ...\n}\n</code></pre>\n<pre><code>public class MessageKey implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    private ApplicationCode applicationCode;\n    private Long applicationParameter;\n\n}\n</code></pre>\n<p>I went through <code>hibernate-core</code> release notes, migration guides for hibernate-core:5.4.x but couldn't understand the root cause.</p>\n<p>Need help in getting rid of this error. If anyone can route me towards the right direction, that would be certainly be helpful.</p>\n<h3>Update 1:</h3>\n<p>Adding raw console log output:</p>\n<pre><code>[TRACE] 2021-05-15 14:13:17,669 main org.hibernate.type.descriptor.sql.BasicBinder - {} - binding parameter [1] as [VARCHAR] - [ABC]\n[TRACE] 2021-05-15 14:13:17,669 main org.hibernate.type.descriptor.sql.BasicBinder - {} - binding parameter [2] as [VARCHAR] - [XYZ]\n[WARN] 2021-05-15 14:13:18,926 main org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - {} - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'messageBZCServiceImpl': Unsatisfied dependency expressed through field 'messageBZCRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'messageBZCRepository' defined in com.my_app.repository.MessageBZCRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.my_app.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\n[INFO] 2021-05-15 14:13:18,931 main org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - {} - Closing JPA EntityManagerFactory for persistence unit 'default'\n[INFO] 2021-05-15 14:13:18,932 main com.zaxxer.hikari.HikariDataSource - {} - HikariPool-1 - Shutdown initiated...\n[INFO] 2021-05-15 14:13:19,268 main com.zaxxer.hikari.HikariDataSource - {} - HikariPool-1 - Shutdown completed.\nMay 15, 2021 2:13:19 PM org.apache.catalina.core.StandardService stopInternal\nINFO: Stopping service [Tomcat]\n</code></pre>\n<h3>Update 2:</h3>\n<h3>Update 2:</h3>\n<ul>\n<li>Added MessageKey class</li>\n<li>I was able to isolate the relevant code in a new application with H2 database and found the complete stacktrace (<code>hibernate-core-5.4.30.Final</code> is being used with latest spring):</li>\n</ul>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'messageBZCRepository' defined in com.example.JPAIssueDemo.repository.MessageBZCRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.example.JPAIssueDemo.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:925) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.6.jar:5.3.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.6.jar:5.3.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:339) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1340) ~[spring-boot-2.4.5.jar:2.4.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1329) ~[spring-boot-2.4.5.jar:2.4.5]\n    at com.example.JPAIssueDemo.JpaIssueDemoApplication.main(JpaIssueDemoApplication.java:10) ~[main/:na]\nCaused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract org.springframework.data.domain.Page com.example.JPAIssueDemo.repository.MessageBZCRepository.searchByText(java.lang.String,org.springframework.data.domain.Pageable)!\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:93) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:63) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:76) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromQueryAnnotation(JpaQueryFactory.java:56) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:146) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:216) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:81) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:100) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:93) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\n    at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1054) ~[na:na]\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:95) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:85) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at java.base/java.util.Optional.map(Optional.java:265) ~[na:na]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.&lt;init&gt;(QueryExecutorMethodInterceptor.java:85) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:303) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.6.jar:5.3.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.6.jar:5.3.6]\n    ... 17 common frames omitted\nCaused by: java.lang.IllegalArgumentException: org.hibernate.QueryException: could not resolve property: parameterName of: com.example.JPAIssueDemo.entity.sl.MessageBZCEntity [select x from com.example.JPAIssueDemo.entity.sl.MessageBZCEntity x where x.messageEntity.comments like ?1 or x.messageEntity.applicationParameter.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:734) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.6.jar:5.3.6]\n    at com.sun.proxy.$Proxy89.createQuery(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:87) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    ... 46 common frames omitted\nCaused by: org.hibernate.QueryException: could not resolve property: parameterName of: com.example.JPAIssueDemo.entity.sl.MessageBZCEntity [select x from com.example.JPAIssueDemo.entity.sl.MessageBZCEntity x where x.messageEntity.comments like ?1 or x.messageEntity.applicationParameter.parameterName like ?1 or x.zipCode like ?1 or x.userUpdated like ?1]\n    at org.hibernate.QueryException.generateQueryException(QueryException.java:120) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:220) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:613) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:725) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    ... 54 common frames omitted\nCaused by: org.hibernate.QueryException: could not resolve property: parameterName of: com.example.JPAIssueDemo.entity.sl.MessageBZCEntity\n    at org.hibernate.persister.entity.AbstractPropertyMapping.propertyException(AbstractPropertyMapping.java:77) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.persister.entity.AbstractPropertyMapping.toType(AbstractPropertyMapping.java:71) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.persister.entity.AbstractEntityPersister.toType(AbstractEntityPersister.java:2038) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.tree.FromElementType.getPropertyType(FromElementType.java:412) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.tree.FromElement.getPropertyType(FromElement.java:520) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.tree.DotNode.getDataType(DotNode.java:695) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.tree.DotNode.prepareLhs(DotNode.java:269) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.tree.DotNode.resolve(DotNode.java:209) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1055) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1308) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4778) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4388) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2166) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2119) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2116) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2116) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:832) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:626) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:330) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:278) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.4.30.Final.jar:5.4.30.Final]\n    ... 60 common frames omitted\n</code></pre>\n"},{"tags":["java","stringtokenizer"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1674470895,"post_id":75208237,"comment_id":132713320,"body_markdown":"You&#39;d be better off using an off-the-shelf CSV reader, such as OpenCSV (or any of the many available Open Source CSV readers).","body":"You&#39;d be better off using an off-the-shelf CSV reader, such as OpenCSV (or any of the many available Open Source CSV readers)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1674471713,"post_id":75208237,"comment_id":132713544,"body_markdown":"*You&#39;d be better off using an off-the-shelf CSV reader* that&#39;s quite true, but in any case, if it&#39;s an otherwise simple csv, `String.split` would in any case detect the empty field, so there&#39;s no problem","body":"<i>You&#39;d be better off using an off-the-shelf CSV reader</i> that&#39;s quite true, but in any case, if it&#39;s an otherwise simple csv, <code>String.split</code> would in any case detect the empty field, so there&#39;s no problem"}],"answers":[{"comments":[{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":2,"creation_date":1674473118,"post_id":75208720,"comment_id":132713962,"body_markdown":"`List&lt;String&gt; al = Arrays.asList(line.split(&quot;\\t&quot;));` and then `al.replaceAll(s -&gt; s.isBlank() ? &quot;BLANK&quot; : s);` if you don&#39;t like Stream API.","body":"<code>List&lt;String&gt; al = Arrays.asList(line.split(&quot;\\t&quot;));</code> and then <code>al.replaceAll(s -&gt; s.isBlank() ? &quot;BLANK&quot; : s);</code> if you don&#39;t like Stream API."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674472555,"creation_date":1674472555,"answer_id":75208720,"question_id":75208237,"body_markdown":"StringTokenizer is not great with blanks, use String.split() instead. Try this:\r\n\r\n    String[] strings = line.split(&quot;\\t&quot;);\r\n    ArrayList&lt;String&gt; al = new ArrayList&lt;&gt;();\r\n    for (String string : strings) {\r\n        al.add(string );\r\n    }\r\n    System.out.println(al.size() + &quot; &gt;&gt; &quot; + al);\r\n\r\nAs per k314159 - using [opencsv][1] is much smarter.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.opencsv/opencsv/5.7.1","title":"How to detect two consecutive delimiters in a line with StringTokenizer and fill blank value","body":"<p>StringTokenizer is not great with blanks, use String.split() instead. Try this:</p>\n<pre><code>String[] strings = line.split(&quot;\\t&quot;);\nArrayList&lt;String&gt; al = new ArrayList&lt;&gt;();\nfor (String string : strings) {\n    al.add(string );\n}\nSystem.out.println(al.size() + &quot; &gt;&gt; &quot; + al);\n</code></pre>\n<p>As per k314159 - using <a href=\"https://mvnrepository.com/artifact/com.opencsv/opencsv/5.7.1\" rel=\"nofollow noreferrer\">opencsv</a> is much smarter.</p>\n"}],"owner":{"account_id":15892628,"reputation":89,"user_id":11467296,"display_name":"Vasilis Iak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674495278,"accepted_answer_id":75208720,"answer_count":1,"score":0,"last_activity_date":1674495236,"creation_date":1674469958,"question_id":75208237,"body_markdown":"I am reading a .dat file line by line and I want to separate fields using the delimiter (&quot;\\t&quot;), because every field is separated by tab.\r\n\r\nHowever, there are some non-required fields and they can be blank, so if there are two consecutive tabs (&quot;\\t&quot;), I want to detect the second one and store a blank String.\r\n\r\n```java\r\nStringTokenizer stringTokenizer = new StringTokenizer(line, &quot;\\t&quot;);\r\nArrayList&lt;String&gt; al = new ArrayList&lt;&gt;();\r\nwhile (stringTokenizer.hasMoreTokens()) {\r\n\tal.add(stringTokenizer.nextToken());\r\n}\r\nSystem.out.println(al.size() + &quot; &gt;&gt; &quot; + al);\r\n```\r\n\r\nWhen I try the above and I have the following input lines:\r\n```none\r\nR\t900081458\t22222-22-2\t\t\t1\t-1\t1\t0\t0\t1\r\nR\t245047685\t7250-46-6\t\t\t0\t-1\t0\t0\t0\t0\r\nR\t245048731\t13755-29-8\t\t237-340-6\t0\t-1\t0\t0\t0\t0\r\nR\t245047201\t1080-12-2\t\t214-096-9\t0\t-1\t0\t0\t0\t0\r\nR\t1\t118725-24-9\t612-118-00-5\t405-080-4\t0\t0\t0\t0\t0\t0\r\n```\r\n\r\nI can&#39;t handle the two consecutive tabs, so I have the following output:\r\n```none\r\n9 &gt;&gt; [R, 900081458, 22222-22-2, 1, -1, 1, 0, 0, 1]\r\n9 &gt;&gt; [R, 245047685, 7250-46-6, 0, -1, 0, 0, 0, 0]\r\n10 &gt;&gt; [R, 245048731, 13755-29-8, 237-340-6, 0, -1, 0, 0, 0, 0]\r\n10 &gt;&gt; [R, 245047201, 1080-12-2, 214-096-9, 0, -1, 0, 0, 0, 0]\r\n11 &gt;&gt; [R, 1, 118725-24-9, 612-118-00-5, 405-080-4, 0, 0, 0, 0, 0, 0]\r\n```\r\nWhile the desired output would be something like this (in case I fill the two consecutive blanks with &quot;BLANK&quot;):\r\n\r\n```none\r\n11 &gt;&gt; [R, 900081458, 22222-22-2, &quot;BLANK&quot;, &quot;BLANK&quot;, 1, -1, 1, 0, 0, 1]\r\n11 &gt;&gt; [R, 245047685, 7250-46-6, &quot;BLANK&quot;, &quot;BLANK&quot;, 0, -1, 0, 0, 0, 0]\r\n11 &gt;&gt; [R, 245048731, 13755-29-8, 237-340-6, &quot;BLANK&quot;, 0, -1, 0, 0, 0, 0]\r\n11 &gt;&gt; [R, 245047201, 1080-12-2, 214-096-9, &quot;BLANK&quot;, 0, -1, 0, 0, 0, 0]\r\n11 &gt;&gt; [R, 1, 118725-24-9, 612-118-00-5, 405-080-4, 0, 0, 0, 0, 0, 0]\r\n```\r\n","title":"How to detect two consecutive delimiters in a line with StringTokenizer and fill blank value","body":"<p>I am reading a .dat file line by line and I want to separate fields using the delimiter (&quot;\\t&quot;), because every field is separated by tab.</p>\n<p>However, there are some non-required fields and they can be blank, so if there are two consecutive tabs (&quot;\\t&quot;), I want to detect the second one and store a blank String.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringTokenizer stringTokenizer = new StringTokenizer(line, &quot;\\t&quot;);\nArrayList&lt;String&gt; al = new ArrayList&lt;&gt;();\nwhile (stringTokenizer.hasMoreTokens()) {\n    al.add(stringTokenizer.nextToken());\n}\nSystem.out.println(al.size() + &quot; &gt;&gt; &quot; + al);\n</code></pre>\n<p>When I try the above and I have the following input lines:</p>\n<pre class=\"lang-none prettyprint-override\"><code>R   900081458   22222-22-2          1   -1  1   0   0   1\nR   245047685   7250-46-6           0   -1  0   0   0   0\nR   245048731   13755-29-8      237-340-6   0   -1  0   0   0   0\nR   245047201   1080-12-2       214-096-9   0   -1  0   0   0   0\nR   1   118725-24-9 612-118-00-5    405-080-4   0   0   0   0   0   0\n</code></pre>\n<p>I can't handle the two consecutive tabs, so I have the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>9 &gt;&gt; [R, 900081458, 22222-22-2, 1, -1, 1, 0, 0, 1]\n9 &gt;&gt; [R, 245047685, 7250-46-6, 0, -1, 0, 0, 0, 0]\n10 &gt;&gt; [R, 245048731, 13755-29-8, 237-340-6, 0, -1, 0, 0, 0, 0]\n10 &gt;&gt; [R, 245047201, 1080-12-2, 214-096-9, 0, -1, 0, 0, 0, 0]\n11 &gt;&gt; [R, 1, 118725-24-9, 612-118-00-5, 405-080-4, 0, 0, 0, 0, 0, 0]\n</code></pre>\n<p>While the desired output would be something like this (in case I fill the two consecutive blanks with &quot;BLANK&quot;):</p>\n<pre class=\"lang-none prettyprint-override\"><code>11 &gt;&gt; [R, 900081458, 22222-22-2, &quot;BLANK&quot;, &quot;BLANK&quot;, 1, -1, 1, 0, 0, 1]\n11 &gt;&gt; [R, 245047685, 7250-46-6, &quot;BLANK&quot;, &quot;BLANK&quot;, 0, -1, 0, 0, 0, 0]\n11 &gt;&gt; [R, 245048731, 13755-29-8, 237-340-6, &quot;BLANK&quot;, 0, -1, 0, 0, 0, 0]\n11 &gt;&gt; [R, 245047201, 1080-12-2, 214-096-9, &quot;BLANK&quot;, 0, -1, 0, 0, 0, 0]\n11 &gt;&gt; [R, 1, 118725-24-9, 612-118-00-5, 405-080-4, 0, 0, 0, 0, 0, 0]\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":1,"creation_date":1674420427,"post_id":75203562,"comment_id":132705769,"body_markdown":"You&#39;re on the right track. Use `TypeAdaptorFactory` to pass the `Gson` instance to your `TypeAdaptor`.","body":"You&#39;re on the right track. Use <code>TypeAdaptorFactory</code> to pass the <code>Gson</code> instance to your <code>TypeAdaptor</code>."},{"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"score":0,"creation_date":1674420502,"post_id":75203562,"comment_id":132705782,"body_markdown":"Here, I found an example: https://stackoverflow.com/a/58043010/15224052. Probably a duplicate.","body":"Here, I found an example: <a href=\"https://stackoverflow.com/a/58043010/15224052\">stackoverflow.com/a/58043010/15224052</a>. Probably a duplicate."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1674428897,"post_id":75203562,"comment_id":132706957,"body_markdown":"Adding to what @Oliver wrote, your `TypeAdapterFactory` would look up the adapter for `B`, then create and return an adapter for `A` which delegates handling for `&quot;b_json_value&quot;` to the methods `TypeAdapter.toJson` and `TypeAdapter.fromJson` of `B`&#39;s adapter. (assuming that I understood you correctly and you actually want a nested JSON document string)","body":"Adding to what @Oliver wrote, your <code>TypeAdapterFactory</code> would look up the adapter for <code>B</code>, then create and return an adapter for <code>A</code> which delegates handling for <code>&quot;b_json_value&quot;</code> to the methods <code>TypeAdapter.toJson</code> and <code>TypeAdapter.fromJson</code> of <code>B</code>&#39;s adapter. (assuming that I understood you correctly and you actually want a nested JSON document string)"}],"owner":{"account_id":25636459,"reputation":1,"user_id":19405975,"display_name":"Tartur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674495129,"answer_count":0,"score":0,"last_activity_date":1674495106,"creation_date":1674418234,"question_id":75203562,"body_markdown":"I have a `TypeAdapter&lt;A&gt;` for a class A, and another one for a class B. The A class contains a field of type B. Now, here is the problem: when I write the serialization of my `TypeAdapter&lt;A&gt;`, I would like to get the serialization result of my B class as String to put it as a value for the field of my A class.\r\n\r\nExample:\r\n\r\n```java\r\npublic class A {\r\n    private final B b;\r\n    // ...\r\n}\r\n\r\npublic class B {\r\n    // ...\r\n}\r\n\r\npublic class ATypeAdapter extends TypeAdapter&lt;A&gt; {\r\n    public void write(JsonWriter out, EconomyContainer container) throws IOException {\r\n        out.beginObject();\r\n\r\n        out.name(&quot;b_json_value&quot;).value(/* Here, I want to set the JSON serialization of my B class as String*/);\r\n\r\n        out.endObject();\r\n    }\r\n\r\n    @Override\r\n    public EconomyContainer read(JsonReader in) throws IOException {\r\n        out.beginObject();\r\n\r\n        while (in.hasNext()) {\r\n            if (in.nextName().equals(&quot;b_json_value&quot;)) {\r\n                // Here, I want to use the read the String and deserialize it with the JSON value\r\n            }\r\n        }\r\n\r\n        out.name(&quot;b_json_value&quot;).value(/* Here, I want to set the JSON serialization of my B class as String*/);\r\n\r\n        out.endObject();\r\n    }\r\n}\r\n```\r\n\r\nHow can I fix this problem?\r\n\r\nI tried passing an instance of Gson into my class constructor to use the required TypeAdapter, but this couldn&#39;t work as when I create a new GsonBuilder, that&#39;s when I have to fill in my TypeAdapters, so I can&#39;t pass a Gson instance onto the classes that would need it as the variable containing it is not yet initialised.","title":"Gson TypeAdapters cross-reference problem","body":"<p>I have a <code>TypeAdapter&lt;A&gt;</code> for a class A, and another one for a class B. The A class contains a field of type B. Now, here is the problem: when I write the serialization of my <code>TypeAdapter&lt;A&gt;</code>, I would like to get the serialization result of my B class as String to put it as a value for the field of my A class.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    private final B b;\n    // ...\n}\n\npublic class B {\n    // ...\n}\n\npublic class ATypeAdapter extends TypeAdapter&lt;A&gt; {\n    public void write(JsonWriter out, EconomyContainer container) throws IOException {\n        out.beginObject();\n\n        out.name(&quot;b_json_value&quot;).value(/* Here, I want to set the JSON serialization of my B class as String*/);\n\n        out.endObject();\n    }\n\n    @Override\n    public EconomyContainer read(JsonReader in) throws IOException {\n        out.beginObject();\n\n        while (in.hasNext()) {\n            if (in.nextName().equals(&quot;b_json_value&quot;)) {\n                // Here, I want to use the read the String and deserialize it with the JSON value\n            }\n        }\n\n        out.name(&quot;b_json_value&quot;).value(/* Here, I want to set the JSON serialization of my B class as String*/);\n\n        out.endObject();\n    }\n}\n</code></pre>\n<p>How can I fix this problem?</p>\n<p>I tried passing an instance of Gson into my class constructor to use the required TypeAdapter, but this couldn't work as when I create a new GsonBuilder, that's when I have to fill in my TypeAdapters, so I can't pass a Gson instance onto the classes that would need it as the variable containing it is not yet initialised.</p>\n"},{"tags":["java","android"],"owner":{"account_id":13547561,"reputation":3338,"user_id":9773423,"display_name":"Taki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674495054,"creation_date":1674495054,"question_id":75213031,"body_markdown":"I have a recording call app in which i would like to track the call duration in realtime , i have looked up some codes online but none of them does what i want , i&#39;m here seeking help from those who are expert in this , any way to do that please , Thank you .\r\n\r\nBasically when the call is answered , track call timing 0 1 2 3 and so on .\r\n\r\n * Tried this code but only gets the final duration \r\n\r\n```\r\n private void getCallDetails() {\r\n        StringBuffer sb = new StringBuffer();\r\n        Uri contacts = CallLog.Calls.CONTENT_URI;\r\n        Cursor managedCursor = this.getContentResolver().query(contacts, null, null, null, null);\r\n        int number = managedCursor.getColumnIndex(CallLog.Calls.NUMBER);\r\n        int type = managedCursor.getColumnIndex(CallLog.Calls.TYPE);\r\n        int date = managedCursor.getColumnIndex(CallLog.Calls.DATE);\r\n        int duration = managedCursor.getColumnIndex(CallLog.Calls.DURATION);\r\n        sb.append(&quot;Call Details :&quot;);\r\n        while (managedCursor.moveToNext()) {\r\n\r\n            HashMap rowDataCall = new HashMap&lt;String, String&gt;();\r\n\r\n            String phNumber = managedCursor.getString(number);\r\n            String callType = managedCursor.getString(type);\r\n            String callDate = managedCursor.getString(date);\r\n            String callDayTime = new Date(Long.valueOf(callDate)).toString();\r\n            // long timestamp = convertDateToTimestamp(callDayTime);\r\n            String callDuration = managedCursor.getString(duration);\r\n            String dir = null;\r\n            int dircode = Integer.parseInt(callType);\r\n            switch (dircode) {\r\n                case CallLog.Calls.OUTGOING_TYPE:\r\n                    dir = &quot;OUTGOING&quot;;\r\n                    break;\r\n\r\n                case CallLog.Calls.INCOMING_TYPE:\r\n                    dir = &quot;INCOMING&quot;;\r\n                    break;\r\n\r\n                case CallLog.Calls.MISSED_TYPE:\r\n                    dir = &quot;MISSED&quot;;\r\n                    break;\r\n            }\r\n\r\n            Log.d(&quot;TAG&quot;,&quot;Call Duration&quot; + callDuration);\r\n\r\n\r\n        }\r\n        managedCursor.close();\r\n        System.out.println(sb);\r\n    }\r\n```","title":"Tracking phone call time in real time","body":"<p>I have a recording call app in which i would like to track the call duration in realtime , i have looked up some codes online but none of them does what i want , i'm here seeking help from those who are expert in this , any way to do that please , Thank you .</p>\n<p>Basically when the call is answered , track call timing 0 1 2 3 and so on .</p>\n<ul>\n<li>Tried this code but only gets the final duration</li>\n</ul>\n<pre><code> private void getCallDetails() {\n        StringBuffer sb = new StringBuffer();\n        Uri contacts = CallLog.Calls.CONTENT_URI;\n        Cursor managedCursor = this.getContentResolver().query(contacts, null, null, null, null);\n        int number = managedCursor.getColumnIndex(CallLog.Calls.NUMBER);\n        int type = managedCursor.getColumnIndex(CallLog.Calls.TYPE);\n        int date = managedCursor.getColumnIndex(CallLog.Calls.DATE);\n        int duration = managedCursor.getColumnIndex(CallLog.Calls.DURATION);\n        sb.append(&quot;Call Details :&quot;);\n        while (managedCursor.moveToNext()) {\n\n            HashMap rowDataCall = new HashMap&lt;String, String&gt;();\n\n            String phNumber = managedCursor.getString(number);\n            String callType = managedCursor.getString(type);\n            String callDate = managedCursor.getString(date);\n            String callDayTime = new Date(Long.valueOf(callDate)).toString();\n            // long timestamp = convertDateToTimestamp(callDayTime);\n            String callDuration = managedCursor.getString(duration);\n            String dir = null;\n            int dircode = Integer.parseInt(callType);\n            switch (dircode) {\n                case CallLog.Calls.OUTGOING_TYPE:\n                    dir = &quot;OUTGOING&quot;;\n                    break;\n\n                case CallLog.Calls.INCOMING_TYPE:\n                    dir = &quot;INCOMING&quot;;\n                    break;\n\n                case CallLog.Calls.MISSED_TYPE:\n                    dir = &quot;MISSED&quot;;\n                    break;\n            }\n\n            Log.d(&quot;TAG&quot;,&quot;Call Duration&quot; + callDuration);\n\n\n        }\n        managedCursor.close();\n        System.out.println(sb);\n    }\n</code></pre>\n"},{"tags":["java","redis","quarkus"],"comments":[{"owner":{"account_id":3568344,"reputation":639,"user_id":2979325,"display_name":"Serkan"},"score":0,"creation_date":1675757286,"post_id":75212797,"comment_id":132992021,"body_markdown":"I think it’s a default behavior of SSE. As soon as the server doesn’t send anything anymore the connection is closed.","body":"I think it’s a default behavior of SSE. As soon as the server doesn’t send anything anymore the connection is closed."}],"owner":{"account_id":27602413,"reputation":1,"user_id":21067365,"display_name":"jujobridge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674494215,"creation_date":1674493689,"question_id":75212797,"body_markdown":"I have a redis cache that gets populated by items asynchronously. I&#39;m trying to get this endpoint to return a stream to that redis cache once an item has appeared. \r\n\r\n\r\n\r\n```java\r\n  @GET\r\n  @Path(&quot;/myRedis/{id}&quot;)\r\n  @Produces(MediaType.SERVER_SENT_EVENTS)\r\n  public Multi&lt;String&gt; stream(@PathParam String id) {\r\n    return redisCache.get(id); // this returns a string\r\n  }\r\n```\r\n\r\nSo say we have two users A and B\r\n\r\nA requests item a by calling localhost:8080/myRedis/1 the item does not exist yet but a connection has been created to the streaming endpoint and after say 2 seconds the item appears and A gets it\r\n\r\nMeanwhile B also requests an item b by calling localhost:8080/myRedis/2 the item exist directly and B gets it\r\n\r\nHow can I modifiy the code above to achieve this?","title":"Java Quarkus streaming endpoint how to handle parameters?","body":"<p>I have a redis cache that gets populated by items asynchronously. I'm trying to get this endpoint to return a stream to that redis cache once an item has appeared.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @GET\n  @Path(&quot;/myRedis/{id}&quot;)\n  @Produces(MediaType.SERVER_SENT_EVENTS)\n  public Multi&lt;String&gt; stream(@PathParam String id) {\n    return redisCache.get(id); // this returns a string\n  }\n</code></pre>\n<p>So say we have two users A and B</p>\n<p>A requests item a by calling localhost:8080/myRedis/1 the item does not exist yet but a connection has been created to the streaming endpoint and after say 2 seconds the item appears and A gets it</p>\n<p>Meanwhile B also requests an item b by calling localhost:8080/myRedis/2 the item exist directly and B gets it</p>\n<p>How can I modifiy the code above to achieve this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1674494327,"post_id":75212882,"comment_id":132721149,"body_markdown":"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html#%3Cinit%3E(long) cause this constructor return date after 1/1/1970 by those long value as seconds","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html#%3Cinit%3E(long)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a> cause this constructor return date after 1/1/1970 by those long value as seconds"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1674494528,"post_id":75212882,"comment_id":132721206,"body_markdown":"`new Date(timeStamp*1000)` might work. But you would be even better of not using the deprecated `java.util.Date` class.","body":"<code>new Date(timeStamp*1000)</code> might work. But you would be even better of not using the deprecated <code>java.util.Date</code> class."},{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1674494842,"post_id":75212882,"comment_id":132721282,"body_markdown":"sorry ops i mean milliseconds","body":"sorry ops i mean milliseconds"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1674496077,"post_id":75212882,"comment_id":132721685,"body_markdown":"*but its giving wrong date &quot;Tue Jan 20 13:23:33 IST 1970&quot;* Because that&#39;s your time zone. You should be using `ZonedDateTime` though","body":"<i>but its giving wrong date &quot;Tue Jan 20 13:23:33 IST 1970&quot;</i> Because that&#39;s your time zone. You should be using <code>ZonedDateTime</code> though"}],"owner":{"account_id":9528766,"reputation":59,"user_id":7081190,"display_name":"Mohammed Imran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674494737,"answer_count":0,"score":0,"last_activity_date":1674494154,"creation_date":1674494154,"question_id":75212882,"body_markdown":"I have Hex &quot;63 8a 60 f7&quot; I need to convert it into Date. &lt;Friday, December 2, 2022 20:33:02 UTC&gt;\r\n\r\n     long timeStamp = Long.parseLong(&quot;638a60f7&quot;, 16);\r\n    new Date(timeStamp);\r\nbut its giving wrong date &quot;Tue Jan 20 13:23:33 IST 1970&quot;\r\n\r\n","title":"How to convert Hex String into Date","body":"<p>I have Hex &quot;63 8a 60 f7&quot; I need to convert it into Date. &lt;Friday, December 2, 2022 20:33:02 UTC&gt;</p>\n<pre><code> long timeStamp = Long.parseLong(&quot;638a60f7&quot;, 16);\nnew Date(timeStamp);\n</code></pre>\n<p>but its giving wrong date &quot;Tue Jan 20 13:23:33 IST 1970&quot;</p>\n"},{"tags":["java","android","speech-recognition","okhttp"],"comments":[{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1674494289,"post_id":75212874,"comment_id":132721136,"body_markdown":"Is your TextView a single-line textview, and your response has more than one line so the `{` would be the opening brace of a json object with the rest truncated?","body":"Is your TextView a single-line textview, and your response has more than one line so the <code>{</code> would be the opening brace of a json object with the rest truncated?"},{"owner":{"account_id":16955543,"reputation":165,"user_id":12264042,"display_name":"Rikudou"},"score":0,"creation_date":1674495208,"post_id":75212874,"comment_id":132721421,"body_markdown":"@laalto That helped. I am getting results now. However, there is still the issue that my first set of words don&#39;t seem to make the request or return any results.","body":"@laalto That helped. I am getting results now. However, there is still the issue that my first set of words don&#39;t seem to make the request or return any results."},{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1674497887,"post_id":75212874,"comment_id":132722178,"body_markdown":"That problem is likely somewhere else in your code","body":"That problem is likely somewhere else in your code"}],"owner":{"account_id":16955543,"reputation":165,"user_id":12264042,"display_name":"Rikudou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674494107,"creation_date":1674494107,"question_id":75212874,"body_markdown":"I am developing an app in Android Studio (Java) that uses the Google speech recognition API and a certain other API that I am trying to make a POST request to. Here is an excerpt of my code.\r\n\r\n```\r\nString url = MY_URL;\r\nString jsonSpeechResults = &quot;{\\&quot;prompt\\&quot;: \\&quot;&quot; + speechResults + &quot;\\&quot;}&quot;;\r\n\r\nOkHttpClient client = new OkHttpClient();\r\nRequestBody body = RequestBody.create(jsonSpeechResults, MediaType.parse(&quot;application/json&quot;));\r\nRequest request = new Request.Builder().url(url).addHeader(&quot;Authorization&quot;, API_KEY).post(body).build();\r\n\r\ntry  {\r\n    client.newCall(request).enqueue(new Callback() {\r\n        @Override\r\n        public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                      \r\n       }\r\n\r\n       @Override\r\n       public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n           try {\r\n               String theResponse = response.body().string();\r\n               errorView.setText(theResponse);\r\n           } catch(Exception f) {\r\n               errorView.setText(f.getMessage());\r\n           }\r\n\r\n       }\r\n   });\r\n} catch (Exception g) {\r\n   errorView.setText(g.getMessage());\r\n}\r\n\r\n```\r\nHere is how this part of the app is supposed to work. When I speak some words, the speech recognition API picks up my words, and when the speech recognition results are returned, those results get sent to my other API (the one that corresponds to MY_URL) in a POST request, and then that API should return some JSON, which is then supposed to print out in string format in the errorView TextView field. If it is not apparent by this explanation, this excerpt of code is inside of the onResults method of a RecognitionListener object that is defined in the onCreate method.\r\n\r\n\r\nWhenever I run this on my Android phone, I am expecting the response results to appear in my errorView TextView field, but instead all that appears is a single &quot;{&quot;. Furthermore, the request doesn&#39;t even seem to get made at all the first time I speak into the phone. I have to speak again for the request to even get made (even though I know for certain that the speech recognition does work the first time; it is just the other API that doesn&#39;t seem to receive my request the first time I speak).\r\n\r\nI don&#39;t understand why, and this is annoying me. Furthermore, I can&#39;t use\r\n```\r\nclient.newCall(request).execute()\r\n```  \r\nbecause this just returns an exception. Even the message from a try catch does not tell me what the problem is.\r\n\r\nCan someone please help me?","title":"Okhttp3 (Android Java) is not reliably returning responses","body":"<p>I am developing an app in Android Studio (Java) that uses the Google speech recognition API and a certain other API that I am trying to make a POST request to. Here is an excerpt of my code.</p>\n<pre><code>String url = MY_URL;\nString jsonSpeechResults = &quot;{\\&quot;prompt\\&quot;: \\&quot;&quot; + speechResults + &quot;\\&quot;}&quot;;\n\nOkHttpClient client = new OkHttpClient();\nRequestBody body = RequestBody.create(jsonSpeechResults, MediaType.parse(&quot;application/json&quot;));\nRequest request = new Request.Builder().url(url).addHeader(&quot;Authorization&quot;, API_KEY).post(body).build();\n\ntry  {\n    client.newCall(request).enqueue(new Callback() {\n        @Override\n        public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                      \n       }\n\n       @Override\n       public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n           try {\n               String theResponse = response.body().string();\n               errorView.setText(theResponse);\n           } catch(Exception f) {\n               errorView.setText(f.getMessage());\n           }\n\n       }\n   });\n} catch (Exception g) {\n   errorView.setText(g.getMessage());\n}\n\n</code></pre>\n<p>Here is how this part of the app is supposed to work. When I speak some words, the speech recognition API picks up my words, and when the speech recognition results are returned, those results get sent to my other API (the one that corresponds to MY_URL) in a POST request, and then that API should return some JSON, which is then supposed to print out in string format in the errorView TextView field. If it is not apparent by this explanation, this excerpt of code is inside of the onResults method of a RecognitionListener object that is defined in the onCreate method.</p>\n<p>Whenever I run this on my Android phone, I am expecting the response results to appear in my errorView TextView field, but instead all that appears is a single &quot;{&quot;. Furthermore, the request doesn't even seem to get made at all the first time I speak into the phone. I have to speak again for the request to even get made (even though I know for certain that the speech recognition does work the first time; it is just the other API that doesn't seem to receive my request the first time I speak).</p>\n<p>I don't understand why, and this is annoying me. Furthermore, I can't use</p>\n<pre><code>client.newCall(request).execute()\n</code></pre>\n<p>because this just returns an exception. Even the message from a try catch does not tell me what the problem is.</p>\n<p>Can someone please help me?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1674437952,"post_id":75187461,"comment_id":132707961,"body_markdown":"What can you get if you run `System.out.println(System.getProperty(&quot;java.class.path&quot;));`","body":"What can you get if you run <code>System.out.println(System.getProperty(&quot;java.class.path&quot;));</code>"}],"answers":[{"tags":[],"owner":{"account_id":21596317,"reputation":61,"user_id":15925222,"display_name":"Luke Autry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674493761,"creation_date":1674493761,"answer_id":75212812,"question_id":75187461,"body_markdown":"I fixed the problem. I deleted everything within windows and recreated the following directory structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NzHLS.jpg\r\n\r\nMy settings.json file:\r\n\r\n```\r\n{\r\n    &quot;java.project.referencedLibraries&quot;: [\r\n        &quot;lib/**/*.jar&quot;,\r\n        &quot;src/jar/jackson_annotations.jar&quot;,\r\n        &quot;src/jar/jackson_databind.jar&quot;,\r\n        &quot;src/jar/jackson-core-2.14.1.jar&quot;,\r\n    ],\r\n    &quot;java.project.sourcePaths&quot;: [\r\n        &quot;src\\\\jar&quot;,\r\n        &quot;.&quot;\r\n    ],\r\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;\r\n}\r\n```\r\nI can build and run this code. The Powershell run command that VSCode implements is:\r\n```\r\n&amp; &#39;C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&#39; &#39;@C:\\Users\\LUKESL~1\\AppData\\Local\\Temp\\cp_1u6y7pr0vey3xwzkph587nlcw.argfile&#39; &#39;src.JacksonTester&#39;\r\n```\r\nHowever, the issue comes when I delete the bin directory and click run (without pre-compiling). I get the following:\r\n```\r\nError: Could not find or load main class src.JacksonTester\r\nCaused by: java.lang.ClassNotFoundException: src.JacksonTester\r\n```\r\nThis is so weird. Does anybody know what&#39;s going on? I can still operate, but this behavior makes using VSCode awkward. \r\n\r\nThanks\r\n\r\n\r\n\r\n","title":"Java/VSCode. Error Package Does Not Exist","body":"<p>I fixed the problem. I deleted everything within windows and recreated the following directory structure:</p>\n<p><a href=\"https://i.stack.imgur.com/NzHLS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NzHLS.jpg\" alt=\"enter image description here\" /></a></p>\n<p>My settings.json file:</p>\n<pre><code>{\n    &quot;java.project.referencedLibraries&quot;: [\n        &quot;lib/**/*.jar&quot;,\n        &quot;src/jar/jackson_annotations.jar&quot;,\n        &quot;src/jar/jackson_databind.jar&quot;,\n        &quot;src/jar/jackson-core-2.14.1.jar&quot;,\n    ],\n    &quot;java.project.sourcePaths&quot;: [\n        &quot;src\\\\jar&quot;,\n        &quot;.&quot;\n    ],\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;\n}\n</code></pre>\n<p>I can build and run this code. The Powershell run command that VSCode implements is:</p>\n<pre><code>&amp; 'C:\\Program Files\\Java\\jdk-19\\bin\\java.exe' '@C:\\Users\\LUKESL~1\\AppData\\Local\\Temp\\cp_1u6y7pr0vey3xwzkph587nlcw.argfile' 'src.JacksonTester'\n</code></pre>\n<p>However, the issue comes when I delete the bin directory and click run (without pre-compiling). I get the following:</p>\n<pre><code>Error: Could not find or load main class src.JacksonTester\nCaused by: java.lang.ClassNotFoundException: src.JacksonTester\n</code></pre>\n<p>This is so weird. Does anybody know what's going on? I can still operate, but this behavior makes using VSCode awkward.</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":21596317,"reputation":61,"user_id":15925222,"display_name":"Luke Autry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674493761,"creation_date":1674235830,"question_id":75187461,"body_markdown":"I have the following directory structure. I&#39;m trying to import .jar files downloaded from the Maven repository. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HCshA.jpg\r\n\r\nUnfortunately, I&#39;m getting a &quot;Package Does Not Exist Error&quot; for databind and annotation. I want to compile the following code in the file Test.java:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\npublic class Test {\r\n   public static void main(String args[]) throws IOException {\r\n      ObjectMapper mapper = new ObjectMapper();\r\n      String json = &quot;{\\&quot;id\\&quot; : 1}&quot;;\r\n      Student student = mapper.readerFor(Student.class).readValue(json);\r\n      System.out.println(student.getTheId());\r\n   }\r\n}\r\nclass Student {\r\n   private int id;\r\n   Student(){}\r\n   Student(int id){\r\n      this.id = id;\r\n   }\r\n   @JsonProperty(&quot;id&quot;)\r\n   public int getTheId() {\r\n      return id;\r\n   }\r\n   @JsonProperty(&quot;id&quot;)\r\n   public void setTheId(int id) {\r\n      this.id = id;\r\n   }   \r\n}\r\n```\r\n\r\nWhat&#39;s weird is that IntelliSense detects the package; however, when I compile Test.java the java compiler cannot find the packages within the .jar files. \r\n\r\nHere is a copy of my settings.json:\r\n\r\n```\r\n{\r\n    &quot;java.project.sourcePaths&quot;: [\r\n        &quot;.&quot;,\r\n        &quot;lib\\\\jar&quot;\r\n    ],\r\n    &quot;java.project.referencedLibraries&quot;: {\r\n        &quot;include&quot;: [\r\n            &quot;lib/**/*.jar&quot;\r\n        ],\r\n    }\r\n}\r\n```\r\nThe .jar files are in my Project library, and the ClassPath targets the folder containing the .jar files. Any idea what could be going on? Why would there be a disconnect between IntelliSense and the Java compiler?\r\n\r\nThanks!\r\n","title":"Java/VSCode. Error Package Does Not Exist","body":"<p>I have the following directory structure. I'm trying to import .jar files downloaded from the Maven repository.</p>\n<p><a href=\"https://i.stack.imgur.com/HCshA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HCshA.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Unfortunately, I'm getting a &quot;Package Does Not Exist Error&quot; for databind and annotation. I want to compile the following code in the file Test.java:</p>\n<pre><code>import java.io.IOException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\npublic class Test {\n   public static void main(String args[]) throws IOException {\n      ObjectMapper mapper = new ObjectMapper();\n      String json = &quot;{\\&quot;id\\&quot; : 1}&quot;;\n      Student student = mapper.readerFor(Student.class).readValue(json);\n      System.out.println(student.getTheId());\n   }\n}\nclass Student {\n   private int id;\n   Student(){}\n   Student(int id){\n      this.id = id;\n   }\n   @JsonProperty(&quot;id&quot;)\n   public int getTheId() {\n      return id;\n   }\n   @JsonProperty(&quot;id&quot;)\n   public void setTheId(int id) {\n      this.id = id;\n   }   \n}\n</code></pre>\n<p>What's weird is that IntelliSense detects the package; however, when I compile Test.java the java compiler cannot find the packages within the .jar files.</p>\n<p>Here is a copy of my settings.json:</p>\n<pre><code>{\n    &quot;java.project.sourcePaths&quot;: [\n        &quot;.&quot;,\n        &quot;lib\\\\jar&quot;\n    ],\n    &quot;java.project.referencedLibraries&quot;: {\n        &quot;include&quot;: [\n            &quot;lib/**/*.jar&quot;\n        ],\n    }\n}\n</code></pre>\n<p>The .jar files are in my Project library, and the ClassPath targets the folder containing the .jar files. Any idea what could be going on? Why would there be a disconnect between IntelliSense and the Java compiler?</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing","awt","number-formatting","jformattedtextfield"],"answers":[{"tags":[],"owner":{"account_id":3149253,"reputation":1255,"user_id":2663029,"accept_rate":29,"display_name":"bitdancer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674199989,"creation_date":1674176066,"answer_id":75179683,"question_id":75179518,"body_markdown":"Please use `setText` instead of `setValue`. You should put a number inside `setValue` method like `setValue(99)`.\r\n\r\n```java\r\nftf.setText(&quot;I want this as my ftfs value before it gets changed&quot;);\r\n```\r\n\r\nAnd don&#39;t forget `nfr.setCommitsOnValidEdit(true)` if you want your default text to be formatted as a number at beginning. Otherwise you will get `null` value before you typing something.","title":"How can I set the value of a JFormatedTextField to an invalid String before it gets changed by the user?","body":"<p>Please use <code>setText</code> instead of <code>setValue</code>. You should put a number inside <code>setValue</code> method like <code>setValue(99)</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ftf.setText(&quot;I want this as my ftfs value before it gets changed&quot;);\n</code></pre>\n<p>And don't forget <code>nfr.setCommitsOnValidEdit(true)</code> if you want your default text to be formatted as a number at beginning. Otherwise you will get <code>null</code> value before you typing something.</p>\n"}],"owner":{"account_id":27576757,"reputation":1,"user_id":21046775,"display_name":"codenoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674493222,"creation_date":1674173526,"question_id":75179518,"body_markdown":"Because of a project, I want to know how to set the value of a JFormatedTextField, in a Java Swing GUI, to an invalid String, before the user changes the value by himself/herself.\r\n\r\nConsidering the fact that all the iddentifer names in the original code, which contains additional code, which is not useful for this question, I decided to write a new short code, which contains the important part, for my question.  \r\n\r\nThis is a shortened version of my code:\r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.text.*;\r\nimport java.text.*;\r\nimport java.awt.*;\r\npublic class myGUI{\r\n    private JFrame f;\r\n    private JPanel p;\r\n    private JFormattedTextField ftf;\r\n    private NumberFormat nf;\r\n    private NumberFormatter nfter;\r\n    public myGUI(){\r\n        f = new JFrame(&quot;My Window&quot;);\r\n        f.setSize(960,450);\r\n        f.setDefaultCloseOperation(f.EXIT_ON_CLOSE);\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n        p = new JPanel();\r\n        f.add(p);\r\n        p.setLayout(new FlowLayout());\r\n        nf = NumberFormat.getInstance();\r\n        nfter = new NumberFormatter(nf);\r\n        nfter.setAllowsInvalid(false);\r\n        ftf = new JFormattedTextField(nfter);\r\n        p.add(ftf);\r\n        ftf.setValue(&quot;I want this as my ftfs value before it gets changed&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWhen I execute this code, I get this error message:\r\n\r\n&gt; java.lang.IllegalArgumentException: Cannot format given Object as a Number (in java.text.DecimalFormat)\r\n\r\nI tried to solve this problem by myself by changing &quot;nfter.setAllowsInvalid(false);&quot; to &quot;nfter.setAllowsInvalid(true);&quot;, but I received the same result.\r\n\r\nSince I am not really familiar to Swing and only familiar to the most basic things about Java, I hope you can help me, with your experance and knowledge.\r\n\r\n","title":"How can I set the value of a JFormatedTextField to an invalid String before it gets changed by the user?","body":"<p>Because of a project, I want to know how to set the value of a JFormatedTextField, in a Java Swing GUI, to an invalid String, before the user changes the value by himself/herself.</p>\n<p>Considering the fact that all the iddentifer names in the original code, which contains additional code, which is not useful for this question, I decided to write a new short code, which contains the important part, for my question.</p>\n<p>This is a shortened version of my code:</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.text.*;\nimport java.text.*;\nimport java.awt.*;\npublic class myGUI{\n    private JFrame f;\n    private JPanel p;\n    private JFormattedTextField ftf;\n    private NumberFormat nf;\n    private NumberFormatter nfter;\n    public myGUI(){\n        f = new JFrame(&quot;My Window&quot;);\n        f.setSize(960,450);\n        f.setDefaultCloseOperation(f.EXIT_ON_CLOSE);\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n        p = new JPanel();\n        f.add(p);\n        p.setLayout(new FlowLayout());\n        nf = NumberFormat.getInstance();\n        nfter = new NumberFormatter(nf);\n        nfter.setAllowsInvalid(false);\n        ftf = new JFormattedTextField(nfter);\n        p.add(ftf);\n        ftf.setValue(&quot;I want this as my ftfs value before it gets changed&quot;);\n    }\n}\n</code></pre>\n<p>When I execute this code, I get this error message:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Cannot format given Object as a Number (in java.text.DecimalFormat)</p>\n</blockquote>\n<p>I tried to solve this problem by myself by changing &quot;nfter.setAllowsInvalid(false);&quot; to &quot;nfter.setAllowsInvalid(true);&quot;, but I received the same result.</p>\n<p>Since I am not really familiar to Swing and only familiar to the most basic things about Java, I hope you can help me, with your experance and knowledge.</p>\n"},{"tags":["java","android-studio","kotlin"],"comments":[{"owner":{"account_id":17894172,"reputation":1,"user_id":12999996,"display_name":"Armand Baglin"},"score":0,"creation_date":1674472000,"post_id":75208181,"comment_id":132713609,"body_markdown":"1.4.0 is the latest version of the library","body":"1.4.0 is the latest version of the library"}],"owner":{"account_id":17894172,"reputation":1,"user_id":12999996,"display_name":"Armand Baglin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674493110,"creation_date":1674469687,"question_id":75208181,"body_markdown":"I&#39;m having an issue with this library : https://github.com/wg/scrypt\r\nI&#39;m currently trying to implemente the library to my kotlin app\r\n\r\n\r\n\r\nIn my gradle script i added this line :\r\nimplementation &#39;com.lambdaworks:scrypt:1.4.0&#39;\r\n\r\nand the issue occured. I searched and found that adding those lines in the android part of the gradle should resolve the issue :\r\n\r\n    splits {\r\n        abi {\r\n            enable true\r\n            reset()\r\n            include &#39;x86&#39;, &#39;x86_64&#39;, &#39;armeabi&#39;, &#39;armeabi-v7a&#39;, &#39;mips&#39;, &#39;mips64&#39;, &#39;arm64-v8a&#39;\r\n            universalApk true\r\n        }\r\n    }\r\n\r\nBut in my case it doesn&#39;t resolve the issue, it&#39;s still crashing when installing the app on my device...\r\n\r\nAnyone have a clue?\r\n\r\nAny help will be appreciated :)","title":"Error INSTALL_FAILED_NO_MATCHING_ABIS: INSTALL_FAILED_NO_MATCHING_ABIS: Failed to extract native libraries, res=-113 on mobile","body":"<p>I'm having an issue with this library : <a href=\"https://github.com/wg/scrypt\" rel=\"nofollow noreferrer\">https://github.com/wg/scrypt</a>\nI'm currently trying to implemente the library to my kotlin app</p>\n<p>In my gradle script i added this line :\nimplementation 'com.lambdaworks:scrypt:1.4.0'</p>\n<p>and the issue occured. I searched and found that adding those lines in the android part of the gradle should resolve the issue :</p>\n<pre><code>splits {\n    abi {\n        enable true\n        reset()\n        include 'x86', 'x86_64', 'armeabi', 'armeabi-v7a', 'mips', 'mips64', 'arm64-v8a'\n        universalApk true\n    }\n}\n</code></pre>\n<p>But in my case it doesn't resolve the issue, it's still crashing when installing the app on my device...</p>\n<p>Anyone have a clue?</p>\n<p>Any help will be appreciated :)</p>\n"},{"tags":["java","spring-boot","jpa"],"owner":{"account_id":23445068,"reputation":1,"user_id":17502348,"display_name":"Bernardo Morais"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674492971,"creation_date":1674492865,"question_id":75212640,"body_markdown":"Why is this giving me this error ? I think I have the right relationship here.\r\n\r\n```\r\n2023-01-23T16:52:13.910Z ERROR 13892 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.proj.my.model.CloudProduct] with root cause\r\n\r\norg.hibernate.PersistentObjectException: detached entity passed to persist: com.proj.my.model.CloudProduct\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:121) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:777) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:725) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:299) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:289) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:511) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:432) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:218) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:545) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:475) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:435) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:218) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:151) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:474) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:298) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:735) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:719) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.2.jar:6.0.2]\r\n        at jdk.proxy2/jdk.proxy2.$Proxy125.persist(Unknown Source) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:307) ~[spring-orm-6.0.2.jar:6.0.2]\r\n        at jdk.proxy2/jdk.proxy2.$Proxy125.persist(Unknown Source) ~[na:na]\r\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:610) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.2.jar:6.0.2]\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.2.jar:6.0.2]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.2.jar:6.0.2]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.2.jar:6.0.2]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.2.jar:6.0.2]\r\n        at jdk.proxy2/jdk.proxy2.$Proxy133.save(Unknown Source) ~[na:na]\r\n        at com.proj.my.service.OrderService.saveOrder(OrderService.java:57) ~[classes/:na]\r\n        at com.proj.my.controller.OrderController.placeOrder(OrderController.java:86) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731) ~[tomcat-embed-core-10.1.1.jar:6.0]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.1.jar:6.0]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\n\r\nMy CloudProduct.java\r\n```\r\npackage com.proj.my.model;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.EntityListeners;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\nimport java.sql.Date;\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.SQLDelete;\r\nimport org.hibernate.annotations.Where;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport jakarta.persistence.Table;\r\nimport jakarta.validation.constraints.Pattern;\r\n\r\n@Entity\r\n@Table(name=&quot;cloud_product_info&quot;)\r\n@SQLDelete(sql = &quot;UPDATE cloud_product_info SET deleted = true WHERE product_id=?&quot;)\r\n@Where(clause = &quot;deleted=false&quot;)\r\n//@FilterDef(name=&quot;&quot;, parameters = @ParamDef(name=&quot;isDeleted&quot;, type = &quot;boolean&quot;))\r\n//@Filter(name=&quot;deletedBookFilter&quot;, condition = &quot;deleted = :isDeleted&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;, &quot;updatedAt&quot;}, \r\n        allowGetters = true)\r\n\r\n\r\n\r\npublic class CloudProduct {\r\n\r\n    public static Integer id;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer productId;\r\n    @Column(unique=true)\r\n    private String productName;\r\n    private Float priceInEuros;\r\n    @CreationTimestamp\r\n    @Column(updatable = false, name = &quot;created_at&quot;)\r\n    private Date createdAt;\r\n    private Boolean deleted = Boolean.FALSE;\r\n    private int quantity;\r\n    private float amount;\r\n\r\n    @JsonIgnore\r\n    public int getQuantity() {\r\n        return quantity;\r\n    }\r\n    @JsonIgnore\r\n    public void setQuantity(int quantity) {\r\n        this.quantity = quantity;\r\n    }\r\n    @JsonIgnore\r\n    public float getAmount() {\r\n        return amount;\r\n    }\r\n    @JsonIgnore\r\n    public void setAmount(float amount) {\r\n        this.amount = amount;\r\n    }\r\n    @JsonIgnore\r\n    public Boolean getdeleted() {\r\n        return deleted;\r\n    }\r\n    @JsonIgnore\r\n    public void setdeleted(Boolean deleted) {\r\n        this.deleted = deleted;\r\n    }\r\n\r\n    public CloudProduct(Integer productId, String productName, Float priceInEuros) {\r\n        this.productId = productId;\r\n        this.productName = productName;\r\n        this.priceInEuros = priceInEuros;\r\n    }\r\n\r\n    public CloudProduct() {\r\n\r\n    } \r\n    \r\n    public Integer getProductId() {\r\n        return productId;\r\n    }\r\n    public void setProductId(Integer productId) {\r\n        this.productId = productId;\r\n    }\r\n    public String getProductName() {\r\n        return productName;\r\n    }\r\n    public void setProductName(String productName) {\r\n        this.productName = productName;\r\n    }\r\n    public Float getpriceInEuros() {\r\n        return priceInEuros;\r\n    }\r\n    public void setProductPrice(Float priceInEuros) {\r\n        this.priceInEuros = priceInEuros;\r\n    }\r\n\r\n    public Date getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(Date createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Product{&quot; +\r\n                &quot;id=&quot; + productId +\r\n                &quot;, name=&#39;&quot; + productName + &#39;\\&#39;&#39; +\r\n                &quot;, price=&quot; + priceInEuros +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nMy order.java\r\n```\r\npackage com.proj.my.model;\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport jakarta.persistence.CascadeType;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.EntityListeners;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.ManyToMany;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.OneToOne;\r\nimport jakarta.persistence.Table;\r\nimport jakarta.validation.constraints.NotEmpty;\r\nimport jakarta.validation.constraints.NotNull;\r\nimport lombok.ToString;\r\n\r\n@ToString\r\n@Entity\r\n@Table(name = &quot;myorder&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;}, \r\n    allowGetters = true)  \r\npublic class Order {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    \r\n    @OneToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;userId&quot;)\r\n    private User user;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = CloudProduct.class)\r\n    @JoinColumn(name = &quot;order_id&quot;)\r\n    private List&lt;CloudProduct&gt; cartItems;\r\n    @CreationTimestamp\r\n    @Column(updatable = false, name = &quot;createdAt&quot;)\r\n    private LocalDate createdAt;\r\n\r\n    public LocalDate getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(LocalDate createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Order() {\r\n    }\r\n\r\n    public Order(User user, LocalDate createdAt, List&lt;CloudProduct&gt; cartItems) {\r\n        this.user = user;\r\n        this.cartItems = cartItems;\r\n        this.createdAt = createdAt;\r\n    }\r\n\r\n    public Order(int Id, LocalDate createdAt, List&lt;CloudProduct&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n        this.createdAt =  createdAt;\r\n        this.id = Id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setCustomer(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public List&lt;CloudProduct&gt; getCartItems() {\r\n        return cartItems;\r\n    }\r\n\r\n    public void setCartItems(List&lt;CloudProduct&gt; cartItems) {\r\n        this.cartItems = cartItems;\r\n    }\r\n}\r\n\r\n\r\n```\r\nMy OrderService.java\r\n```\r\npackage com.proj.my.service;\r\n\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.repository.OrderRepository;\r\nimport com.proj.my.repository.CloudProductRepository;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class OrderService {\r\n\r\n    private OrderRepository orderRepository;\r\n    private CloudProductRepository cloudProductRepository;\r\n\r\n    public OrderService(OrderRepository orderRepository, CloudProductRepository cloudProductRepository) {\r\n        this.orderRepository = orderRepository;\r\n        this.cloudProductRepository = cloudProductRepository;\r\n    }\r\n\r\n    public Order getOrderDetail(int orderId) {\r\n        Optional&lt;Order&gt; order = this.orderRepository.findById(orderId);\r\n        return order.isPresent() ? order.get() : null;\r\n    }\r\n    \r\n   public List&lt;Order&gt; getAllOrderDetail(LocalDate dataaa) {\r\n        return orderRepository.findAllByCreatedAt(dataaa);\r\n    }\r\n\r\n    public float getCartAmount(List&lt;CloudProduct&gt; shoppingCartList) {\r\n\r\n        float totalCartAmount = 0f;\r\n        float singleCartAmount = 0f;\r\n\r\n        for (CloudProduct cart : shoppingCartList) {\r\n\r\n            String cloudProductName = cart.getProductName();\r\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\r\n            if (product.isPresent()) {\r\n                CloudProduct cloudproduct = product.get();\r\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\r\n                \r\n                totalCartAmount = totalCartAmount + singleCartAmount;\r\n                cart.setProductId(cloudproduct.getProductId());\r\n                cart.setAmount(singleCartAmount);\r\n                cloudProductRepository.save(cloudproduct);\r\n            }\r\n        }\r\n        return totalCartAmount;\r\n    }\r\n\r\n    public Order saveOrder(Order order) {\r\n        return orderRepository.save(order);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nMy OrderController.java\r\n\r\n```\r\n\r\n`package com.proj.my.controller;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.proj.my.dto.OrderDTO;\r\nimport com.proj.my.dto.ResponseOrderDTO;\r\nimport com.proj.my.model.CloudProduct;\r\nimport com.proj.my.model.Order;\r\nimport com.proj.my.model.User;\r\nimport com.proj.my.repository.CloudProductRepository;\r\nimport com.proj.my.service.CloudProductService;\r\nimport com.proj.my.service.OrderService;\r\nimport com.proj.my.service.UserService;\r\n\r\nimport jakarta.validation.Valid;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class OrderController {\r\n\r\n    private OrderService orderService;\r\n    private CloudProductService cloudProductService;\r\n    private UserService userService;\r\n    @Autowired\r\n    private CloudProductRepository cloudProductRepository;\r\n\r\n\r\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\r\n        this.orderService = orderService;\r\n        this.cloudProductService = cloudProductService;\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\r\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\r\n        Order order = orderService.getOrderDetail(orderId);\r\n        return ResponseEntity.ok(order);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getOrders/{dataaa}&quot;)\r\n    public List&lt;Order&gt; getAllOrderDetails(@PathVariable LocalDate dataaa) {\r\n        return orderService.getAllOrderDetail(dataaa);\r\n    }\r\n\r\n    @PostMapping(&quot;/placeOrder&quot;)\r\n    public ResponseEntity&lt;?&gt; placeOrder(@RequestBody @Valid OrderDTO orderDTO) {\r\n\r\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\r\n        List&lt;CloudProduct&gt; cloudProductList = orderDTO.getCartItems();\r\n        if(cloudProductList.isEmpty()){\r\n            return new ResponseEntity&lt;&gt;(&quot;Can&#39;t create an order without products.&quot;, HttpStatus.OK);\r\n        }\r\n        else{\r\n            for (CloudProduct cart : cloudProductList) {\r\n                String cloudProductName = cart.getProductName();\r\n                Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\r\n                if (product.isPresent()){\r\n                    float amount = orderService.getCartAmount(orderDTO.getCartItems());\r\n                        User user = new User(orderDTO.getuserEmail());\r\n                        \r\n                        Integer userIdFromDb = userService.isUserPresent(user);\r\n\r\n                        if (userIdFromDb != null) {\r\n                            user.setUserId(userIdFromDb);\r\n                        }else{\r\n                            user = userService.createUser(user);\r\n                        }\r\n                        LocalDate createdAt = LocalDate.now(); \r\n                        \r\n\r\n                        Order order = new Order(user, createdAt, orderDTO.getCartItems());\r\n\r\n                        order = orderService.saveOrder(order);\r\n\r\n                        responseOrderDTO.setAmount(amount);\r\n\r\n                        responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\r\n                        \r\n                        responseOrderDTO.setOrderId(order.getId());\r\n\r\n\r\n                        return ResponseEntity.ok(responseOrderDTO);\r\n                }\r\n                else{\r\n                    return new ResponseEntity&lt;&gt;(&quot;No Product with such name found.&quot;, HttpStatus.OK);\r\n                }\r\n            }\r\n        }\r\n            return null;\r\n    }}`\r\n\r\n```\r\n\r\nHow can I solve this?\r\nThanks.\r\n\r\nThis is happening because before, everytime I used to make an order, a cartItem would be created out of each product chosen, but I was told to delete that, and use the products themselves instead of creating cartItems.","title":"org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.proj.my.model.CloudProduct] with root cause","body":"<p>Why is this giving me this error ? I think I have the right relationship here.</p>\n<pre><code>2023-01-23T16:52:13.910Z ERROR 13892 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.proj.my.model.CloudProduct] with root cause\n\norg.hibernate.PersistentObjectException: detached entity passed to persist: com.proj.my.model.CloudProduct\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:121) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:777) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:725) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:299) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.spi.CascadingActions$7.cascade(CascadingActions.java:289) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:511) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:432) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:218) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:545) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:475) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:435) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:218) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:151) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.internal.AbstractSaveEventListener.cascadeAfterSave(AbstractSaveEventListener.java:474) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:298) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:192) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:122) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:735) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:719) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.2.jar:6.0.2]\n        at jdk.proxy2/jdk.proxy2.$Proxy125.persist(Unknown Source) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:307) ~[spring-orm-6.0.2.jar:6.0.2]\n        at jdk.proxy2/jdk.proxy2.$Proxy125.persist(Unknown Source) ~[na:na]\n        at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:610) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.0.jar:3.0.0]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.2.jar:6.0.2]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.2.jar:6.0.2]\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.2.jar:6.0.2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.2.jar:6.0.2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.2.jar:6.0.2]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.2.jar:6.0.2]\n        at jdk.proxy2/jdk.proxy2.$Proxy133.save(Unknown Source) ~[na:na]\n        at com.proj.my.service.OrderService.saveOrder(OrderService.java:57) ~[classes/:na]\n        at com.proj.my.controller.OrderController.placeOrder(OrderController.java:86) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731) ~[tomcat-embed-core-10.1.1.jar:6.0]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880) ~[spring-webmvc-6.0.2.jar:6.0.2]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.1.jar:6.0]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>My CloudProduct.java</p>\n<pre><code>package com.proj.my.model;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\nimport java.sql.Date;\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.SQLDelete;\nimport org.hibernate.annotations.Where;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport jakarta.persistence.Table;\nimport jakarta.validation.constraints.Pattern;\n\n@Entity\n@Table(name=&quot;cloud_product_info&quot;)\n@SQLDelete(sql = &quot;UPDATE cloud_product_info SET deleted = true WHERE product_id=?&quot;)\n@Where(clause = &quot;deleted=false&quot;)\n//@FilterDef(name=&quot;&quot;, parameters = @ParamDef(name=&quot;isDeleted&quot;, type = &quot;boolean&quot;))\n//@Filter(name=&quot;deletedBookFilter&quot;, condition = &quot;deleted = :isDeleted&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;, &quot;updatedAt&quot;}, \n        allowGetters = true)\n\n\n\npublic class CloudProduct {\n\n    public static Integer id;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer productId;\n    @Column(unique=true)\n    private String productName;\n    private Float priceInEuros;\n    @CreationTimestamp\n    @Column(updatable = false, name = &quot;created_at&quot;)\n    private Date createdAt;\n    private Boolean deleted = Boolean.FALSE;\n    private int quantity;\n    private float amount;\n\n    @JsonIgnore\n    public int getQuantity() {\n        return quantity;\n    }\n    @JsonIgnore\n    public void setQuantity(int quantity) {\n        this.quantity = quantity;\n    }\n    @JsonIgnore\n    public float getAmount() {\n        return amount;\n    }\n    @JsonIgnore\n    public void setAmount(float amount) {\n        this.amount = amount;\n    }\n    @JsonIgnore\n    public Boolean getdeleted() {\n        return deleted;\n    }\n    @JsonIgnore\n    public void setdeleted(Boolean deleted) {\n        this.deleted = deleted;\n    }\n\n    public CloudProduct(Integer productId, String productName, Float priceInEuros) {\n        this.productId = productId;\n        this.productName = productName;\n        this.priceInEuros = priceInEuros;\n    }\n\n    public CloudProduct() {\n\n    } \n    \n    public Integer getProductId() {\n        return productId;\n    }\n    public void setProductId(Integer productId) {\n        this.productId = productId;\n    }\n    public String getProductName() {\n        return productName;\n    }\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n    public Float getpriceInEuros() {\n        return priceInEuros;\n    }\n    public void setProductPrice(Float priceInEuros) {\n        this.priceInEuros = priceInEuros;\n    }\n\n    public Date getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Date createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Product{&quot; +\n                &quot;id=&quot; + productId +\n                &quot;, name='&quot; + productName + '\\'' +\n                &quot;, price=&quot; + priceInEuros +\n                '}';\n    }\n}\n</code></pre>\n<p>My order.java</p>\n<pre><code>package com.proj.my.model;\nimport java.time.LocalDate;\nimport java.util.List;\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.springframework.data.jpa.domain.support.AuditingEntityListener;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport jakarta.persistence.CascadeType;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.EntityListeners;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToMany;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.OneToOne;\nimport jakarta.persistence.Table;\nimport jakarta.validation.constraints.NotEmpty;\nimport jakarta.validation.constraints.NotNull;\nimport lombok.ToString;\n\n@ToString\n@Entity\n@Table(name = &quot;myorder&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@JsonIgnoreProperties(value = {&quot;createdAt&quot;}, \n    allowGetters = true)  \npublic class Order {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    \n    @OneToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;userId&quot;)\n    private User user;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, targetEntity = CloudProduct.class)\n    @JoinColumn(name = &quot;order_id&quot;)\n    private List&lt;CloudProduct&gt; cartItems;\n    @CreationTimestamp\n    @Column(updatable = false, name = &quot;createdAt&quot;)\n    private LocalDate createdAt;\n\n    public LocalDate getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(LocalDate createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public Order() {\n    }\n\n    public Order(User user, LocalDate createdAt, List&lt;CloudProduct&gt; cartItems) {\n        this.user = user;\n        this.cartItems = cartItems;\n        this.createdAt = createdAt;\n    }\n\n    public Order(int Id, LocalDate createdAt, List&lt;CloudProduct&gt; cartItems) {\n        this.cartItems = cartItems;\n        this.createdAt =  createdAt;\n        this.id = Id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setCustomer(User user) {\n        this.user = user;\n    }\n\n    public List&lt;CloudProduct&gt; getCartItems() {\n        return cartItems;\n    }\n\n    public void setCartItems(List&lt;CloudProduct&gt; cartItems) {\n        this.cartItems = cartItems;\n    }\n}\n\n\n</code></pre>\n<p>My OrderService.java</p>\n<pre><code>package com.proj.my.service;\n\nimport com.proj.my.model.Order;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.repository.OrderRepository;\nimport com.proj.my.repository.CloudProductRepository;\n\nimport org.springframework.stereotype.Service;\n\nimport java.time.LocalDate;\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class OrderService {\n\n    private OrderRepository orderRepository;\n    private CloudProductRepository cloudProductRepository;\n\n    public OrderService(OrderRepository orderRepository, CloudProductRepository cloudProductRepository) {\n        this.orderRepository = orderRepository;\n        this.cloudProductRepository = cloudProductRepository;\n    }\n\n    public Order getOrderDetail(int orderId) {\n        Optional&lt;Order&gt; order = this.orderRepository.findById(orderId);\n        return order.isPresent() ? order.get() : null;\n    }\n    \n   public List&lt;Order&gt; getAllOrderDetail(LocalDate dataaa) {\n        return orderRepository.findAllByCreatedAt(dataaa);\n    }\n\n    public float getCartAmount(List&lt;CloudProduct&gt; shoppingCartList) {\n\n        float totalCartAmount = 0f;\n        float singleCartAmount = 0f;\n\n        for (CloudProduct cart : shoppingCartList) {\n\n            String cloudProductName = cart.getProductName();\n            Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\n            if (product.isPresent()) {\n                CloudProduct cloudproduct = product.get();\n                singleCartAmount = cart.getQuantity() * cloudproduct.getpriceInEuros();\n                \n                totalCartAmount = totalCartAmount + singleCartAmount;\n                cart.setProductId(cloudproduct.getProductId());\n                cart.setAmount(singleCartAmount);\n                cloudProductRepository.save(cloudproduct);\n            }\n        }\n        return totalCartAmount;\n    }\n\n    public Order saveOrder(Order order) {\n        return orderRepository.save(order);\n    }\n}\n\n\n</code></pre>\n<p>My OrderController.java</p>\n<pre><code>\n`package com.proj.my.controller;\n\nimport java.time.LocalDate;\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.proj.my.dto.OrderDTO;\nimport com.proj.my.dto.ResponseOrderDTO;\nimport com.proj.my.model.CloudProduct;\nimport com.proj.my.model.Order;\nimport com.proj.my.model.User;\nimport com.proj.my.repository.CloudProductRepository;\nimport com.proj.my.service.CloudProductService;\nimport com.proj.my.service.OrderService;\nimport com.proj.my.service.UserService;\n\nimport jakarta.validation.Valid;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class OrderController {\n\n    private OrderService orderService;\n    private CloudProductService cloudProductService;\n    private UserService userService;\n    @Autowired\n    private CloudProductRepository cloudProductRepository;\n\n\n    public OrderController(OrderService orderService, CloudProductService cloudProductService, UserService userService) {\n        this.orderService = orderService;\n        this.cloudProductService = cloudProductService;\n        this.userService = userService;\n    }\n\n    @GetMapping(value = &quot;/getOrder/{orderId}&quot;)\n    public ResponseEntity&lt;Order&gt; getOrderDetails(@PathVariable int orderId) {\n        Order order = orderService.getOrderDetail(orderId);\n        return ResponseEntity.ok(order);\n    }\n\n    @GetMapping(value = &quot;/getOrders/{dataaa}&quot;)\n    public List&lt;Order&gt; getAllOrderDetails(@PathVariable LocalDate dataaa) {\n        return orderService.getAllOrderDetail(dataaa);\n    }\n\n    @PostMapping(&quot;/placeOrder&quot;)\n    public ResponseEntity&lt;?&gt; placeOrder(@RequestBody @Valid OrderDTO orderDTO) {\n\n        ResponseOrderDTO responseOrderDTO = new ResponseOrderDTO();\n        List&lt;CloudProduct&gt; cloudProductList = orderDTO.getCartItems();\n        if(cloudProductList.isEmpty()){\n            return new ResponseEntity&lt;&gt;(&quot;Can't create an order without products.&quot;, HttpStatus.OK);\n        }\n        else{\n            for (CloudProduct cart : cloudProductList) {\n                String cloudProductName = cart.getProductName();\n                Optional&lt;CloudProduct&gt; product = cloudProductRepository.findByProductName(cloudProductName);\n                if (product.isPresent()){\n                    float amount = orderService.getCartAmount(orderDTO.getCartItems());\n                        User user = new User(orderDTO.getuserEmail());\n                        \n                        Integer userIdFromDb = userService.isUserPresent(user);\n\n                        if (userIdFromDb != null) {\n                            user.setUserId(userIdFromDb);\n                        }else{\n                            user = userService.createUser(user);\n                        }\n                        LocalDate createdAt = LocalDate.now(); \n                        \n\n                        Order order = new Order(user, createdAt, orderDTO.getCartItems());\n\n                        order = orderService.saveOrder(order);\n\n                        responseOrderDTO.setAmount(amount);\n\n                        responseOrderDTO.setDate(com.proj.my.util.DateUtil.getCurrentDateTime());\n                        \n                        responseOrderDTO.setOrderId(order.getId());\n\n\n                        return ResponseEntity.ok(responseOrderDTO);\n                }\n                else{\n                    return new ResponseEntity&lt;&gt;(&quot;No Product with such name found.&quot;, HttpStatus.OK);\n                }\n            }\n        }\n            return null;\n    }}`\n\n</code></pre>\n<p>How can I solve this?\nThanks.</p>\n<p>This is happening because before, everytime I used to make an order, a cartItem would be created out of each product chosen, but I was told to delete that, and use the products themselves instead of creating cartItems.</p>\n"},{"tags":["java","android","sqlite","android-sqlite","android-api-levels"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674357446,"post_id":75187566,"comment_id":132696587,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75187566/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25909949,"reputation":1,"user_id":19634391,"display_name":"Jo&#227;o Afonso"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674236564,"creation_date":1674236455,"answer_id":75187566,"question_id":75187355,"body_markdown":"Maybe the problem be in your manifest you have read and write permissions?\r\n\r\nSee if the database is created in this version.\r\n\r\nGL","title":"Android Api 28 - crash_report=Exception is: android.database.sqlite.SQLiteException","body":"<p>Maybe the problem be in your manifest you have read and write permissions?</p>\n<p>See if the database is created in this version.</p>\n<p>GL</p>\n"},{"tags":[],"owner":{"account_id":14535244,"reputation":161564,"user_id":10498828,"display_name":"forpas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674236621,"creation_date":1674236621,"answer_id":75187604,"question_id":75187355,"body_markdown":"The version of SQLite used in API 28 is 3.22.0 (check [this thread][1]), but the constants `true` and `false` were introduced as aliases of `1` and `0` respectively in SQLite in [version 3.23.0][2].&lt;br/&gt;\r\n\r\nIn your statement you must change `isFiled` which returns `true` or `false` to an integer `1` or `0`:\r\n\r\n    query = &quot;update &quot; + TABLE_DOCTOR + &quot; set &quot; +\r\n            Queryclass.DOCTOR_ROGSP_STATUS + &quot; = &quot; + (isFiled ? 1 : 0) + \r\n            &quot; where &quot; + Queryclass.DOCTOR_CONTACTID + &quot; = &quot; + gspid;\r\n\r\nBut, concatenating parameters to SQL statement is always a bad idea.&lt;br/&gt;\r\nYou should use the method [`update()`][3] where you use `?` placeholders to pass the parameters.\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4377116/10498828\r\n  [2]: https://sqlite.org/changes.html\r\n  [3]: https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#update(java.lang.String,%20android.content.ContentValues,%20java.lang.String,%20java.lang.String[])","title":"Android Api 28 - crash_report=Exception is: android.database.sqlite.SQLiteException","body":"<p>The version of SQLite used in API 28 is 3.22.0 (check <a href=\"https://stackoverflow.com/a/4377116/10498828\">this thread</a>), but the constants <code>true</code> and <code>false</code> were introduced as aliases of <code>1</code> and <code>0</code> respectively in SQLite in <a href=\"https://sqlite.org/changes.html\" rel=\"nofollow noreferrer\">version 3.23.0</a>.<br/></p>\n<p>In your statement you must change <code>isFiled</code> which returns <code>true</code> or <code>false</code> to an integer <code>1</code> or <code>0</code>:</p>\n<pre><code>query = &quot;update &quot; + TABLE_DOCTOR + &quot; set &quot; +\n        Queryclass.DOCTOR_ROGSP_STATUS + &quot; = &quot; + (isFiled ? 1 : 0) + \n        &quot; where &quot; + Queryclass.DOCTOR_CONTACTID + &quot; = &quot; + gspid;\n</code></pre>\n<p>But, concatenating parameters to SQL statement is always a bad idea.<br/>\nYou should use the method <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#update(java.lang.String,%20android.content.ContentValues,%20java.lang.String,%20java.lang.String%5B%5D)\" rel=\"nofollow noreferrer\"><code>update()</code></a> where you use <code>?</code> placeholders to pass the parameters.</p>\n"}],"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75187604,"answer_count":2,"score":1,"last_activity_date":1674492885,"creation_date":1674235267,"question_id":75187355,"body_markdown":"I have written the below query which is working fine on Api 29 and 30 but app is crashing on Api 28 only with the following log System.out: crash_report=Exception is: android.database.sqlite.SQLiteException: no such column: true (code 1 SQLITE_ERROR): , while compiling: update doctor set is_rogspFiled = true where doctor_contactid = 784829\r\nHere is my query. What do I need to change?\r\n\r\n     query = &quot; update &quot; + TABLE_DOCTOR + &quot; set &quot; + Queryclass.DOCTOR_ROGSP_STATUS + &quot; = &quot; + isFiled + &quot; where &quot; + Queryclass.DOCTOR_CONTACTID + &quot; = &quot; + gspid ;\r\n        cursor = sd.getData(query);\r\n\r\n        if (cursor.moveToNext()) {\r\n            isFiled = true;\r\n            ContentValues contentValues = new ContentValues();\r\n            contentValues.put(Queryclass.DOCTOR_ROGSP_STATUS, isFiled);\r\n            sd.update(Queryclass.TABLE_DOCTOR, contentValues, query);\r\n        }\r\n\r\n        cursor.close();\r\n        sd.close();","title":"Android Api 28 - crash_report=Exception is: android.database.sqlite.SQLiteException","body":"<p>I have written the below query which is working fine on Api 29 and 30 but app is crashing on Api 28 only with the following log System.out: crash_report=Exception is: android.database.sqlite.SQLiteException: no such column: true (code 1 SQLITE_ERROR): , while compiling: update doctor set is_rogspFiled = true where doctor_contactid = 784829\nHere is my query. What do I need to change?</p>\n<pre><code> query = &quot; update &quot; + TABLE_DOCTOR + &quot; set &quot; + Queryclass.DOCTOR_ROGSP_STATUS + &quot; = &quot; + isFiled + &quot; where &quot; + Queryclass.DOCTOR_CONTACTID + &quot; = &quot; + gspid ;\n    cursor = sd.getData(query);\n\n    if (cursor.moveToNext()) {\n        isFiled = true;\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(Queryclass.DOCTOR_ROGSP_STATUS, isFiled);\n        sd.update(Queryclass.TABLE_DOCTOR, contentValues, query);\n    }\n\n    cursor.close();\n    sd.close();\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1674493461,"post_id":75212534,"comment_id":132720893,"body_markdown":"We are not aware of any changes that might cause this (although it does come with a newer Kafka version - 3.3.x); does this happen with the latest Boot version (3.0.2, released last week), which comes with the latest Kafka version (3.3.2)?","body":"We are not aware of any changes that might cause this (although it does come with a newer Kafka version - 3.3.x); does this happen with the latest Boot version (3.0.2, released last week), which comes with the latest Kafka version (3.3.2)?"},{"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"score":0,"creation_date":1674494178,"post_id":75212534,"comment_id":132721099,"body_markdown":"I&#39;ve just checked. The version we&#39;re using is 3.0.0 for spring-kafka and boot. Do you recommend upgrading to 3.0.2? We have the issue since moving from 2.7.7 to 3.0.0.","body":"I&#39;ve just checked. The version we&#39;re using is 3.0.0 for spring-kafka and boot. Do you recommend upgrading to 3.0.2? We have the issue since moving from 2.7.7 to 3.0.0."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1674494416,"post_id":75212534,"comment_id":132721173,"body_markdown":"Yes; it&#39;s always best practice to use the latest patch version within a major/minor version, but I don&#39;t know if it will solve your problem.","body":"Yes; it&#39;s always best practice to use the latest patch version within a major/minor version, but I don&#39;t know if it will solve your problem."},{"owner":{"account_id":1076689,"reputation":948,"user_id":1074677,"display_name":"Stuart McIntyre"},"score":0,"creation_date":1700438690,"post_id":75212534,"comment_id":136651153,"body_markdown":"Did you find a solution to this? We are upgrading to springboot 3 and have just hit the same socket timeout problem.","body":"Did you find a solution to this? We are upgrading to springboot 3 and have just hit the same socket timeout problem."}],"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674492197,"creation_date":1674492197,"question_id":75212534,"body_markdown":"After the Migration to Spring Boot 3 we&#39;re getting a Timeout Exception when starting certain Integration Tests. The Broker seems to work as usual though. \r\n\r\nI&#39;am curious what was changed in the current spring kafka version, that results in this behaviour and how i can clean my logs again?\r\n\r\n        2023-01-23 17:02:54,106 [main] ERROR  o.s.kafka.core.KafkaAdmin -  -  - Could not configure topics\r\n    java.util.concurrent.TimeoutException: null\r\n    \tat java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1960)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2095)\r\n    \tat org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:180)\r\n    \tat org.springframework.kafka.core.KafkaAdmin.initialize(KafkaAdmin.java:205)\r\n    \tat org.springframework.kafka.core.KafkaAdmin.afterSingletonsInstantiated(KafkaAdmin.java:174)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:972)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\r\n    \tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:183)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n    \tat org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener.applicationContextBroken(WireMockTestExecutionListener.java:120)\r\n    \tat org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener.beforeTestClass(WireMockTestExecutionListener.java:43)\r\n    \tat org.springframework.test.context.TestContextManager.beforeTestClass(TestContextManager.java:214)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.beforeAll(SpringExtension.java:113)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllCallbacks$12(ClassBasedTestDescriptor.java:395)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllCallbacks(ClassBasedTestDescriptor.java:395)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:211)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)","title":"After migration to spring boot 3 we&#39;re getting could not configure Topics Error","body":"<p>After the Migration to Spring Boot 3 we're getting a Timeout Exception when starting certain Integration Tests. The Broker seems to work as usual though.</p>\n<p>I'am curious what was changed in the current spring kafka version, that results in this behaviour and how i can clean my logs again?</p>\n<pre><code>    2023-01-23 17:02:54,106 [main] ERROR  o.s.kafka.core.KafkaAdmin -  -  - Could not configure topics\njava.util.concurrent.TimeoutException: null\n    at java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1960)\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2095)\n    at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:180)\n    at org.springframework.kafka.core.KafkaAdmin.initialize(KafkaAdmin.java:205)\n    at org.springframework.kafka.core.KafkaAdmin.afterSingletonsInstantiated(KafkaAdmin.java:174)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:972)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1386)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:543)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:183)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n    at org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener.applicationContextBroken(WireMockTestExecutionListener.java:120)\n    at org.springframework.cloud.contract.wiremock.WireMockTestExecutionListener.beforeTestClass(WireMockTestExecutionListener.java:43)\n    at org.springframework.test.context.TestContextManager.beforeTestClass(TestContextManager.java:214)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.beforeAll(SpringExtension.java:113)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeBeforeAllCallbacks$12(ClassBasedTestDescriptor.java:395)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeBeforeAllCallbacks(ClassBasedTestDescriptor.java:395)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:211)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.before(ClassBasedTestDescriptor.java:84)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:148)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n"},{"tags":["java","javafx","eventhandler"],"comments":[{"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"score":0,"creation_date":1438607387,"post_id":31788180,"comment_id":51504627,"body_markdown":"You define your `Circle` instance OUTSIDE of `handle` method and `EventHandler` scope.","body":"You define your <code>Circle</code> instance OUTSIDE of <code>handle</code> method and <code>EventHandler</code> scope."},{"owner":{"account_id":4790832,"reputation":141,"user_id":3870075,"accept_rate":29,"display_name":"user3870075"},"score":0,"creation_date":1438608375,"post_id":31788180,"comment_id":51505330,"body_markdown":"@BranislavLazic  My Circle instance is defined OUTSIDE of handle method if you meant the second handle method , and i can&#39;t declare outside the first handle method because the circle must be created after clicking the button.","body":"@BranislavLazic  My Circle instance is defined OUTSIDE of handle method if you meant the second handle method , and i can&#39;t declare outside the first handle method because the circle must be created after clicking the button."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1438608706,"post_id":31788180,"comment_id":51505571,"body_markdown":"Can&#39;t you just declare it to be `final`? I.e. `final Circle circle1 = new Circle();`?","body":"Can&#39;t you just declare it to be <code>final</code>? I.e. <code>final Circle circle1 = new Circle();</code>?"},{"owner":{"account_id":4992892,"reputation":4470,"user_id":4014509,"accept_rate":77,"display_name":"Sebastian S"},"score":1,"creation_date":1438609098,"post_id":31788180,"comment_id":51505860,"body_markdown":"&quot;i can&#39;t declare &quot;circle1&quot; final because i will need to change it.&quot; **final does not mean immutable**. it just means you can not re-assign it.","body":"&quot;i can&#39;t declare &quot;circle1&quot; final because i will need to change it.&quot; <b>final does not mean immutable</b>. it just means you can not re-assign it."},{"owner":{"account_id":4790832,"reputation":141,"user_id":3870075,"accept_rate":29,"display_name":"user3870075"},"score":0,"creation_date":1438611342,"post_id":31788180,"comment_id":51507459,"body_markdown":"ok , thank you very much.","body":"ok , thank you very much."}],"answers":[{"tags":[],"owner":{"account_id":348041,"reputation":48805,"user_id":682495,"accept_rate":77,"display_name":"Uluk Biy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674492172,"creation_date":1438608767,"answer_id":31788732,"question_id":31788180,"body_markdown":"Use [event.getSource()][1], by this can write a common event handler for multiple cicrles without worrying which exact one was clicked:\r\n\r\n    EventHandler&lt;MouseEvent&gt; handler = new EventHandler&lt;&gt;()\r\n    {\r\n        @Override\r\n        public void handle( MouseEvent event )\r\n        {\r\n            if (event.getSource() instanceof Circle) { // to be on safe side, you may \r\n                                                       // remove this if-statement \r\n                                                       // if you are sure\r\n                Circle c = (Circle) event.getSource();\r\n                c.setCenterX( event.getX() );\r\n            }\r\n        }\r\n    };\r\n\r\n    // use it on multiple circles\r\n    circle1.setOnMouseDragged(handler);\r\n    circle2.setOnMouseDragged(handler);\r\n    ...\r\n    circleN.setOnMouseDragged(handler);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/EventObject.html?is-external=true#getSource--","title":"JavaFx: Access an object from Event handler","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/EventObject.html?is-external=true#getSource--\" rel=\"nofollow noreferrer\">event.getSource()</a>, by this can write a common event handler for multiple cicrles without worrying which exact one was clicked:</p>\n<pre><code>EventHandler&lt;MouseEvent&gt; handler = new EventHandler&lt;&gt;()\n{\n    @Override\n    public void handle( MouseEvent event )\n    {\n        if (event.getSource() instanceof Circle) { // to be on safe side, you may \n                                                   // remove this if-statement \n                                                   // if you are sure\n            Circle c = (Circle) event.getSource();\n            c.setCenterX( event.getX() );\n        }\n    }\n};\n\n// use it on multiple circles\ncircle1.setOnMouseDragged(handler);\ncircle2.setOnMouseDragged(handler);\n...\ncircleN.setOnMouseDragged(handler);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438609121,"creation_date":1438608775,"answer_id":31788736,"question_id":31788180,"body_markdown":"Nowhere in the code you show do you reassign `circle1`, so you can just declare it as `final`:\r\n\r\n    createCircleBtn.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\r\n        @Override\r\n            public void handle(MouseEvent event) {\r\n                final Circle circle1 = new Circle();\r\n                shapes.add(circle1);\r\n                circle1.setCenterX(event.getX());\r\n                circle1.setCenterY(event.getY());\r\n                circle1.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\r\n                    @Override\r\n                    public void handle(MouseEvent event) {\r\n                        circle1.setCenterX(event.getX());\r\n                    }\r\n                });\r\n                mainPane.getChildren().add(circle1);\r\n            }\r\n        });\r\n\r\nNote that in Java 8 your code would compile just as you have it, because `circle1` is *effectively final* (meaning that it is only assigned once and is never reassigned).\r\n","title":"JavaFx: Access an object from Event handler","body":"<p>Nowhere in the code you show do you reassign <code>circle1</code>, so you can just declare it as <code>final</code>:</p>\n\n<pre><code>createCircleBtn.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\n    @Override\n        public void handle(MouseEvent event) {\n            final Circle circle1 = new Circle();\n            shapes.add(circle1);\n            circle1.setCenterX(event.getX());\n            circle1.setCenterY(event.getY());\n            circle1.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\n                @Override\n                public void handle(MouseEvent event) {\n                    circle1.setCenterX(event.getX());\n                }\n            });\n            mainPane.getChildren().add(circle1);\n        }\n    });\n</code></pre>\n\n<p>Note that in Java 8 your code would compile just as you have it, because <code>circle1</code> is <em>effectively final</em> (meaning that it is only assigned once and is never reassigned).</p>\n"}],"owner":{"account_id":4790832,"reputation":141,"user_id":3870075,"accept_rate":29,"display_name":"user3870075"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3872,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1674492172,"creation_date":1438607328,"question_id":31788180,"body_markdown":"I want to make a program in JavaFX that contains a button which, when clicked, a circle gets created and added to an ArrayList of shapes. The following is my code:\r\n\r\n    \r\n    createCircleBtn.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\r\n        @Override\r\n            public void handle(MouseEvent event) {\r\n                Circle circle1 = new Circle();\r\n                shapes.add(circle1);\r\n                circle1.setCenterX(event.getX());\r\n                circle1.setCenterY(event.getY());\r\n                circle1.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\r\n                    @Override\r\n                    public void handle(MouseEvent event) {\r\n             // doesn&#39;t work because &quot;circle1&quot; must be declared final (constant) \r\n                        circle1.setCenterX(event.getX());\r\n                        // &quot;this&quot; doesn&#39;t refer to &quot;circle1&quot;\r\n                        this.setCenterY(event.getY());\r\n                    }\r\n                });\r\n                mainPane.getChildren().add(circle1);\r\n            }\r\n        });\r\n\r\nMy question is - How can I access &quot;circle1&quot; from inside handle method?\r\nIn JavaScript we use `e.currentTarget`.\r\n\r\nI&#39;m unable to declare &quot;circle1&quot; final because I will need to change it afterwards.","title":"JavaFx: Access an object from Event handler","body":"<p>I want to make a program in JavaFX that contains a button which, when clicked, a circle gets created and added to an ArrayList of shapes. The following is my code:</p>\n\n<pre><code>createCircleBtn.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\n    @Override\n        public void handle(MouseEvent event) {\n            Circle circle1 = new Circle();\n            shapes.add(circle1);\n            circle1.setCenterX(event.getX());\n            circle1.setCenterY(event.getY());\n            circle1.setOnMouseDragged(new EventHandler&lt;MouseEvent&gt;() {\n                @Override\n                public void handle(MouseEvent event) {\n         // doesn't work because \"circle1\" must be declared final (constant) \n                    circle1.setCenterX(event.getX());\n                    // \"this\" doesn't refer to \"circle1\"\n                    this.setCenterY(event.getY());\n                }\n            });\n            mainPane.getChildren().add(circle1);\n        }\n    });\n</code></pre>\n\n<p>My question is - How can I access \"circle1\" from inside handle method?\nIn JavaScript we use <code>e.currentTarget</code>.</p>\n\n<p>I'm unable to declare \"circle1\" final because I will need to change it afterwards.</p>\n"},{"tags":["java","winapi","com","jna"],"comments":[{"owner":{"account_id":174359,"reputation":133440,"user_id":403671,"display_name":"Simon Mourier"},"score":0,"creation_date":1674316483,"post_id":75194481,"comment_id":132690724,"body_markdown":"Have you tried CoInitialize(Pointer.NULL) instead (STA)?","body":"Have you tried CoInitialize(Pointer.NULL) instead (STA)?"},{"owner":{"account_id":8893758,"reputation":129,"user_id":6639500,"accept_rate":75,"display_name":"SerVB"},"score":0,"creation_date":1674395567,"post_id":75194481,"comment_id":132701189,"body_markdown":"@SimonMourier, just tried, but changing `Ole32.INSTANCE.CoInitializeEx(Pointer.NULL, Ole32.COINIT_MULTITHREADED)` to `Ole32.INSTANCE.CoInitialize(null)` and `Ole32.INSTANCE.CoInitialize(new WinDef.LPVOID(Pointer.NULL))` doesn&#39;t change anything visibly: there is the same crash.","body":"@SimonMourier, just tried, but changing <code>Ole32.INSTANCE.CoInitializeEx(Pointer.NULL, Ole32.COINIT_MULTITHREADED)</code> to <code>Ole32.INSTANCE.CoInitialize(null)</code> and <code>Ole32.INSTANCE.CoInitialize(new WinDef.LPVOID(Pointer.NULL))</code> doesn&#39;t change anything visibly: there is the same crash."}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674492056,"creation_date":1674335825,"answer_id":75196620,"question_id":75194481,"body_markdown":"The [docs you linked][1] show how to create using `CoCreateInstance`:\r\n```c++\r\nconst CLSID CLSID_MMDeviceEnumerator = __uuidof(MMDeviceEnumerator);\r\nconst IID IID_IMMDeviceEnumerator = __uuidof(IMMDeviceEnumerator);\r\nhr = CoCreateInstance(\r\n       CLSID_MMDeviceEnumerator, NULL,\r\n       CLSCTX_ALL, IID_IMMDeviceEnumerator,\r\n       (void**)&amp;pEnumerator);\r\n```\r\n\r\nThis should get you somewhere close with JNA.  \r\n```java\r\nclass MMDeviceEnumerator extends Unknown {\r\n    public static final CLSID CLSID_MMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\r\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\r\n\r\n    public MMDeviceEnumerator(Pointer p) {\r\n        super(p);\r\n    }\r\n\r\n    public static MMDeviceEnumerator create() {\r\n        PointerByReference pEnumerator = new PointerByReference();\r\n\r\n        HRESULT hres = Ole32.INSTANCE.CoCreateInstance(\r\n            CLSID_MMDeviceEnumerator, null,\r\n            WTypes.CLSCTX_ALL, IID_IMMDeviceEnumerator,\r\n            pEnumerator);\r\n        if (COMUtils.FAILED(hres)) {\r\n            return null;\r\n        }\r\n\r\n        return new MMDeviceEnumerator(pEnumerator.getValue());\r\n    }\r\n\r\n    // map functions as needed\r\n}\r\n```\r\nI used the implementation of [`IWbemContext`][2] in JNA as a template above. You can consult that class for example COM function mappings.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/coreaudio/mmdevice-api\r\n  [2]: https://github.com/java-native-access/jna/blob/8f9886fb766b43700941c878a264a9d0302f7517/contrib/platform/src/com/sun/jna/platform/win32/COM/Wbemcli.java#L399","title":"A way of accessing Windows MMDevice API from Java?","body":"<p>The <a href=\"https://learn.microsoft.com/en-us/windows/win32/coreaudio/mmdevice-api\" rel=\"nofollow noreferrer\">docs you linked</a> show how to create using <code>CoCreateInstance</code>:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>const CLSID CLSID_MMDeviceEnumerator = __uuidof(MMDeviceEnumerator);\nconst IID IID_IMMDeviceEnumerator = __uuidof(IMMDeviceEnumerator);\nhr = CoCreateInstance(\n       CLSID_MMDeviceEnumerator, NULL,\n       CLSCTX_ALL, IID_IMMDeviceEnumerator,\n       (void**)&amp;pEnumerator);\n</code></pre>\n<p>This should get you somewhere close with JNA.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MMDeviceEnumerator extends Unknown {\n    public static final CLSID CLSID_MMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\n\n    public MMDeviceEnumerator(Pointer p) {\n        super(p);\n    }\n\n    public static MMDeviceEnumerator create() {\n        PointerByReference pEnumerator = new PointerByReference();\n\n        HRESULT hres = Ole32.INSTANCE.CoCreateInstance(\n            CLSID_MMDeviceEnumerator, null,\n            WTypes.CLSCTX_ALL, IID_IMMDeviceEnumerator,\n            pEnumerator);\n        if (COMUtils.FAILED(hres)) {\n            return null;\n        }\n\n        return new MMDeviceEnumerator(pEnumerator.getValue());\n    }\n\n    // map functions as needed\n}\n</code></pre>\n<p>I used the implementation of <a href=\"https://github.com/java-native-access/jna/blob/8f9886fb766b43700941c878a264a9d0302f7517/contrib/platform/src/com/sun/jna/platform/win32/COM/Wbemcli.java#L399\" rel=\"nofollow noreferrer\"><code>IWbemContext</code></a> in JNA as a template above. You can consult that class for example COM function mappings.</p>\n"},{"tags":[],"owner":{"account_id":8893758,"reputation":129,"user_id":6639500,"accept_rate":75,"display_name":"SerVB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674398897,"creation_date":1674398897,"answer_id":75201347,"question_id":75194481,"body_markdown":"For some reason I can&#39;t suggest edits to the answer of **Daniel Widdis**. The answer worked for me, many thanks! Just wanted to show how to map one method as an example:\r\n```java\r\nclass MMDeviceEnumerator extends Unknown {\r\n    public static final CLSID CLSID_MMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\r\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\r\n\r\n    public MMDeviceEnumerator(Pointer p) {\r\n        super(p);\r\n    }\r\n\r\n    public static MMDeviceEnumerator create() {\r\n        PointerByReference pEnumerator = new PointerByReference();\r\n\r\n        HRESULT hres = Ole32.INSTANCE.CoCreateInstance(\r\n            CLSID_MMDeviceEnumerator, null,\r\n            WTypes.CLSCTX_ALL, IID_IMMDeviceEnumerator, pEnumerator);\r\n        if (COMUtils.FAILED(hres)) {\r\n            return null;\r\n        }\r\n\r\n        return new MMDeviceEnumerator(pEnumerator.getValue());\r\n    }\r\n\r\n    public static final int EDataFlow_eRender = 0;\r\n    public static final int EDataFlow_eCapture = 1;\r\n    public static final int EDataFlow_eAll = 2;\r\n    public static final int EDataFlow_enum_count = 3;\r\n\r\n    public static final int DEVICE_STATE_ACTIVE = 0x1;\r\n    public static final int DEVICE_STATE_DISABLED = 0x2;\r\n    public static final int DEVICE_STATE_NOTPRESENT = 0x4;\r\n    public static final int DEVICE_STATE_UNPLUGGED = 0x8;\r\n    public static final int DEVICE_STATEMASK_ALL = 0xF;\r\n\r\n    public void EnumAudioEndpoints(int dataFlow, int dwStateMask, PointerByReference ppDevices) {\r\n        WinNT.HRESULT res = (WinNT.HRESULT) _invokeNativeObject(\r\n            3,  // `EnumAudioEndpoints` is the 3rd method of `IMMDeviceEnumeratorVtbl` in `mmdeviceapi.h`\r\n            new Object[] { getPointer(), dataFlow, new WinDef.DWORD(dwStateMask), ppDevices},\r\n            WinNT.HRESULT.class\r\n        );\r\n        COMUtils.checkRC(res);\r\n    }\r\n\r\n    // map other functions as needed\r\n}\r\n```","title":"A way of accessing Windows MMDevice API from Java?","body":"<p>For some reason I can't suggest edits to the answer of <strong>Daniel Widdis</strong>. The answer worked for me, many thanks! Just wanted to show how to map one method as an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MMDeviceEnumerator extends Unknown {\n    public static final CLSID CLSID_MMDeviceEnumerator = new CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;);\n    public static final GUID IID_IMMDeviceEnumerator = new GUID(&quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;);\n\n    public MMDeviceEnumerator(Pointer p) {\n        super(p);\n    }\n\n    public static MMDeviceEnumerator create() {\n        PointerByReference pEnumerator = new PointerByReference();\n\n        HRESULT hres = Ole32.INSTANCE.CoCreateInstance(\n            CLSID_MMDeviceEnumerator, null,\n            WTypes.CLSCTX_ALL, IID_IMMDeviceEnumerator, pEnumerator);\n        if (COMUtils.FAILED(hres)) {\n            return null;\n        }\n\n        return new MMDeviceEnumerator(pEnumerator.getValue());\n    }\n\n    public static final int EDataFlow_eRender = 0;\n    public static final int EDataFlow_eCapture = 1;\n    public static final int EDataFlow_eAll = 2;\n    public static final int EDataFlow_enum_count = 3;\n\n    public static final int DEVICE_STATE_ACTIVE = 0x1;\n    public static final int DEVICE_STATE_DISABLED = 0x2;\n    public static final int DEVICE_STATE_NOTPRESENT = 0x4;\n    public static final int DEVICE_STATE_UNPLUGGED = 0x8;\n    public static final int DEVICE_STATEMASK_ALL = 0xF;\n\n    public void EnumAudioEndpoints(int dataFlow, int dwStateMask, PointerByReference ppDevices) {\n        WinNT.HRESULT res = (WinNT.HRESULT) _invokeNativeObject(\n            3,  // `EnumAudioEndpoints` is the 3rd method of `IMMDeviceEnumeratorVtbl` in `mmdeviceapi.h`\n            new Object[] { getPointer(), dataFlow, new WinDef.DWORD(dwStateMask), ppDevices},\n            WinNT.HRESULT.class\n        );\n        COMUtils.checkRC(res);\n    }\n\n    // map other functions as needed\n}\n</code></pre>\n"}],"owner":{"account_id":8893758,"reputation":129,"user_id":6639500,"accept_rate":75,"display_name":"SerVB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75196620,"answer_count":2,"score":1,"last_activity_date":1674492056,"creation_date":1674315243,"question_id":75194481,"body_markdown":"I would like to use the [MMDevice API][1] from my Java app. What are my options?\r\n\r\nI tried to use JNA. Looks like I can&#39;t use [JNA Typelib parsing][2] because there no types for this API (&lt;https://stackoverflow.com/questions/20516835/is-there-a-com-type-library-for-windows-core-audio&gt;). As suggested, I need to provide my own declarations of the API.\r\n\r\nSo I also tried both JNA examples with manual declarations but they give &quot;Interface not supported HRESULT=80004002&quot; error:\r\n\r\n```java\r\npublic class MMDeviceAPITest {\r\n    public static void test1() {\r\n        try {\r\n            Ole32.INSTANCE.CoInitializeEx(Pointer.NULL, Ole32.COINIT_MULTITHREADED);\r\n            var obj = new Test1.MMDeviceEnumerator();  // exception E_NOINTERFACE (HRESULT: 80004002)\r\n            // ...\r\n        } finally {\r\n            Ole32.INSTANCE.CoUninitialize();\r\n        }\r\n    }\r\n    public static void test2() {\r\n        try {\r\n            Ole32.INSTANCE.CoInitializeEx(Pointer.NULL, Ole32.COINIT_MULTITHREADED);\r\n            var factory = new Factory();\r\n            var obj = factory.createObject(Test2.MMDeviceEnumerator.class);  // exception E_NOINTERFACE (HRESULT: 80004002)\r\n            var in = obj.queryInterface(Test2.IMMDeviceEnumerator.class);\r\n            // ...\r\n        } finally {\r\n            Ole32.INSTANCE.CoUninitialize();\r\n        }\r\n    }\r\n}\r\n\r\ninterface Test1 {\r\n    class MMDeviceEnumerator extends COMLateBindingObject {\r\n        public MMDeviceEnumerator() {\r\n            super(new Guid.CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;), true);\r\n        }\r\n    }\r\n}\r\n\r\ninterface Test2 {\r\n    @ComObject(clsId = &quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;)\r\n    interface MMDeviceEnumerator extends IUnknown {}  // doesn&#39;t extend IUnknown in C sources, probably it&#39;s the problem...\r\n    @ComInterface(iid = &quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;)\r\n    interface IMMDeviceEnumerator extends IUnknown {}\r\n}\r\n```\r\n\r\nAny ideas how I could access this API from Java? Can I somehow create working declarations for JNA? Or use another framework maybe?\r\n\r\nMy last idea is to create/find a micro native app/library that wraps the needed COM calls, so I could call this app/library easily (via subprocesses or simple JNA declarations). I&#39;m new to COM world, but it sounds working for me...\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/coreaudio/mmdevice-api\r\n  [2]: https://github.com/java-native-access/jna/blob/e64b429/www/PlatformLibrary.md#typelib-parsing","title":"A way of accessing Windows MMDevice API from Java?","body":"<p>I would like to use the <a href=\"https://learn.microsoft.com/en-us/windows/win32/coreaudio/mmdevice-api\" rel=\"nofollow noreferrer\">MMDevice API</a> from my Java app. What are my options?</p>\n<p>I tried to use JNA. Looks like I can't use <a href=\"https://github.com/java-native-access/jna/blob/e64b429/www/PlatformLibrary.md#typelib-parsing\" rel=\"nofollow noreferrer\">JNA Typelib parsing</a> because there no types for this API (<a href=\"https://stackoverflow.com/questions/20516835/is-there-a-com-type-library-for-windows-core-audio\">Is there a COM type library for Windows Core Audio</a>). As suggested, I need to provide my own declarations of the API.</p>\n<p>So I also tried both JNA examples with manual declarations but they give &quot;Interface not supported HRESULT=80004002&quot; error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MMDeviceAPITest {\n    public static void test1() {\n        try {\n            Ole32.INSTANCE.CoInitializeEx(Pointer.NULL, Ole32.COINIT_MULTITHREADED);\n            var obj = new Test1.MMDeviceEnumerator();  // exception E_NOINTERFACE (HRESULT: 80004002)\n            // ...\n        } finally {\n            Ole32.INSTANCE.CoUninitialize();\n        }\n    }\n    public static void test2() {\n        try {\n            Ole32.INSTANCE.CoInitializeEx(Pointer.NULL, Ole32.COINIT_MULTITHREADED);\n            var factory = new Factory();\n            var obj = factory.createObject(Test2.MMDeviceEnumerator.class);  // exception E_NOINTERFACE (HRESULT: 80004002)\n            var in = obj.queryInterface(Test2.IMMDeviceEnumerator.class);\n            // ...\n        } finally {\n            Ole32.INSTANCE.CoUninitialize();\n        }\n    }\n}\n\ninterface Test1 {\n    class MMDeviceEnumerator extends COMLateBindingObject {\n        public MMDeviceEnumerator() {\n            super(new Guid.CLSID(&quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;), true);\n        }\n    }\n}\n\ninterface Test2 {\n    @ComObject(clsId = &quot;bcde0395-e52f-467c-8e3d-c4579291692e&quot;)\n    interface MMDeviceEnumerator extends IUnknown {}  // doesn't extend IUnknown in C sources, probably it's the problem...\n    @ComInterface(iid = &quot;a95664d2-9614-4f35-a746-de8db63617e6&quot;)\n    interface IMMDeviceEnumerator extends IUnknown {}\n}\n</code></pre>\n<p>Any ideas how I could access this API from Java? Can I somehow create working declarations for JNA? Or use another framework maybe?</p>\n<p>My last idea is to create/find a micro native app/library that wraps the needed COM calls, so I could call this app/library easily (via subprocesses or simple JNA declarations). I'm new to COM world, but it sounds working for me...</p>\n"},{"tags":["java","spring-boot","jackson","apache-camel","objectmapper"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1633693026,"post_id":69495043,"comment_id":122833897,"body_markdown":"Probably library problem, please include your gradle / maven setting.","body":"Probably library problem, please include your gradle / maven setting."},{"owner":{"account_id":11026225,"reputation":41,"user_id":8099064,"display_name":"ironside"},"score":0,"creation_date":1633693597,"post_id":69495043,"comment_id":122834107,"body_markdown":"I upgraded to SpringBoot 2.5.5 and it works now.","body":"I upgraded to SpringBoot 2.5.5 and it works now."}],"answers":[{"tags":[],"owner":{"account_id":11026225,"reputation":41,"user_id":8099064,"display_name":"ironside"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633693667,"creation_date":1633693667,"answer_id":69495357,"question_id":69495043,"body_markdown":"Camel 3.11.2 and SpringBoot 2.2.7 are not compatible, needed to upgrade SpringBoot to 2.5.5.","title":"Jackson ObjectMapper NoSuchMethodError problem wiht SpringBoot 2.2.7 and Camel 3.11.2","body":"<p>Camel 3.11.2 and SpringBoot 2.2.7 are not compatible, needed to upgrade SpringBoot to 2.5.5.</p>\n"},{"tags":[],"owner":{"account_id":1896439,"reputation":663,"user_id":1713298,"display_name":"ankitkpd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674492007,"creation_date":1674492007,"answer_id":75212490,"question_id":69495043,"body_markdown":"Upgrading version for `jackson-core` &amp; `jackson-databind` fixed the issue for me. Upgrade for me was 2.9.10 to 2.13.4.","title":"Jackson ObjectMapper NoSuchMethodError problem wiht SpringBoot 2.2.7 and Camel 3.11.2","body":"<p>Upgrading version for <code>jackson-core</code> &amp; <code>jackson-databind</code> fixed the issue for me. Upgrade for me was 2.9.10 to 2.13.4.</p>\n"}],"owner":{"account_id":11026225,"reputation":41,"user_id":8099064,"display_name":"ironside"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69495357,"answer_count":2,"score":0,"last_activity_date":1674492007,"creation_date":1633692118,"question_id":69495043,"body_markdown":"I am trying to setup project with simple post route:\r\n\r\n            rest(&quot;/as2/&quot;)\r\n                .post(&quot;invoice&quot;)\r\n                .description(&quot;Receive invoice for sending to AS2&quot;)\r\n                .param().name(&quot;body&quot;).type(RestParamType.body).description(&quot;Post message&quot;).endParam()\r\n                .route().id(&quot;as2-post-route&quot;).log(&quot;${body}&quot;);\r\n\r\nThe application should accept invoices in XML format, convert them and send them to an external system. First I just want to accept the input string and print it.\r\n\r\nError I am getting:\r\n\r\n    org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\r\n        at org.apache.camel.CamelExecutionException.wrapCamelExecutionException(CamelExecutionException.java:45) ~[camel-api-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.support.AbstractExchange.setException(AbstractExchange.java:589) ~[camel-support-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.support.DefaultExchange.setException(DefaultExchange.java:27) ~[camel-support-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.support.processor.UnmarshalProcessor.process(UnmarshalProcessor.java:81) ~[camel-support-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83) ~[camel-base-engine-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41) ~[camel-support-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.processor.RestBindingAdvice.unmarshal(RestBindingAdvice.java:307) ~[camel-core-processor-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.processor.RestBindingAdvice.before(RestBindingAdvice.java:142) ~[camel-core-processor-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.processor.RestBindingAdvice.before(RestBindingAdvice.java:51) ~[camel-core-processor-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:340) ~[camel-base-engine-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83) ~[camel-base-engine-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41) ~[camel-support-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.http.common.CamelServlet.doExecute(CamelServlet.java:319) ~[camel-http-common-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.http.common.CamelServlet.doService(CamelServlet.java:214) ~[camel-http-common-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:130) ~[camel-http-common-3.11.2.jar:3.11.2]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\r\n        at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n    Caused by: java.lang.NoSuchMethodError: &#39;java.lang.Object com.fasterxml.jackson.databind.ObjectReader.readValue(java.io.InputStream, java.lang.Class)&#39;\r\n        at org.apache.camel.component.jackson.AbstractJacksonDataFormat.unmarshal(AbstractJacksonDataFormat.java:185) ~[camel-jackson-3.11.2.jar:3.11.2]\r\n        at org.apache.camel.support.processor.UnmarshalProcessor.process(UnmarshalProcessor.java:64) ~[camel-support-3.11.2.jar:3.11.2]\r\n        ... 45 common frames omitted\r\n\r\nI am using Java 11. Any suggestions? It seams like a libraries clash.","title":"Jackson ObjectMapper NoSuchMethodError problem wiht SpringBoot 2.2.7 and Camel 3.11.2","body":"<p>I am trying to setup project with simple post route:</p>\n<pre><code>        rest(&quot;/as2/&quot;)\n            .post(&quot;invoice&quot;)\n            .description(&quot;Receive invoice for sending to AS2&quot;)\n            .param().name(&quot;body&quot;).type(RestParamType.body).description(&quot;Post message&quot;).endParam()\n            .route().id(&quot;as2-post-route&quot;).log(&quot;${body}&quot;);\n</code></pre>\n<p>The application should accept invoices in XML format, convert them and send them to an external system. First I just want to accept the input string and print it.</p>\n<p>Error I am getting:</p>\n<pre><code>org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\n    at org.apache.camel.CamelExecutionException.wrapCamelExecutionException(CamelExecutionException.java:45) ~[camel-api-3.11.2.jar:3.11.2]\n    at org.apache.camel.support.AbstractExchange.setException(AbstractExchange.java:589) ~[camel-support-3.11.2.jar:3.11.2]\n    at org.apache.camel.support.DefaultExchange.setException(DefaultExchange.java:27) ~[camel-support-3.11.2.jar:3.11.2]\n    at org.apache.camel.support.processor.UnmarshalProcessor.process(UnmarshalProcessor.java:81) ~[camel-support-3.11.2.jar:3.11.2]\n    at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83) ~[camel-base-engine-3.11.2.jar:3.11.2]\n    at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41) ~[camel-support-3.11.2.jar:3.11.2]\n    at org.apache.camel.processor.RestBindingAdvice.unmarshal(RestBindingAdvice.java:307) ~[camel-core-processor-3.11.2.jar:3.11.2]\n    at org.apache.camel.processor.RestBindingAdvice.before(RestBindingAdvice.java:142) ~[camel-core-processor-3.11.2.jar:3.11.2]\n    at org.apache.camel.processor.RestBindingAdvice.before(RestBindingAdvice.java:51) ~[camel-core-processor-3.11.2.jar:3.11.2]\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:340) ~[camel-base-engine-3.11.2.jar:3.11.2]\n    at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83) ~[camel-base-engine-3.11.2.jar:3.11.2]\n    at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41) ~[camel-support-3.11.2.jar:3.11.2]\n    at org.apache.camel.http.common.CamelServlet.doExecute(CamelServlet.java:319) ~[camel-http-common-3.11.2.jar:3.11.2]\n    at org.apache.camel.http.common.CamelServlet.doService(CamelServlet.java:214) ~[camel-http-common-3.11.2.jar:3.11.2]\n    at org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:130) ~[camel-http-common-3.11.2.jar:3.11.2]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1590) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.34.jar:9.0.34]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n\nCaused by: java.lang.NoSuchMethodError: 'java.lang.Object com.fasterxml.jackson.databind.ObjectReader.readValue(java.io.InputStream, java.lang.Class)'\n    at org.apache.camel.component.jackson.AbstractJacksonDataFormat.unmarshal(AbstractJacksonDataFormat.java:185) ~[camel-jackson-3.11.2.jar:3.11.2]\n    at org.apache.camel.support.processor.UnmarshalProcessor.process(UnmarshalProcessor.java:64) ~[camel-support-3.11.2.jar:3.11.2]\n    ... 45 common frames omitted\n</code></pre>\n<p>I am using Java 11. Any suggestions? It seams like a libraries clash.</p>\n"},{"tags":["java","sql","json","postgresql"],"comments":[{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":1,"creation_date":1674492802,"post_id":75212398,"comment_id":132720702,"body_markdown":"1)  What is the data type for `USER_DATA` in the Postgres table? 2) What is the value of `UserData userData`?","body":"1)  What is the data type for <code>USER_DATA</code> in the Postgres table? 2) What is the value of <code>UserData userData</code>?"},{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1674494192,"post_id":75212398,"comment_id":132721103,"body_markdown":"Yes, but what is the actual value for `userData.userData`?","body":"Yes, but what is the actual value for <code>userData.userData</code>?"},{"owner":{"account_id":19772987,"reputation":53,"user_id":14479613,"display_name":"Code Junkie"},"score":0,"creation_date":1674494913,"post_id":75212398,"comment_id":132721304,"body_markdown":"The data type for USER_DATA column is JSON and the userData.userData is:\n\n&quot;{&quot;user_id&quot;: &quot;12345&quot;, &quot;user_name&quot;: &quot;test_name&quot;, &quot;email&quot;: &quot;test@test.com&quot;}&quot;","body":"The data type for USER_DATA column is JSON and the userData.userData is:  &quot;{&quot;user_id&quot;: &quot;12345&quot;, &quot;user_name&quot;: &quot;test_name&quot;, &quot;email&quot;: &quot;test@test.com&quot;}&quot;"},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1674498616,"post_id":75212398,"comment_id":132722395,"body_markdown":"The query is invalid to begin with. After the values keyword you need parentheses: `values (...)`. If you pass a String, try `values (cast(:userData as jsonb))`  if the column is defined as `jsonb` (which it should be) or `cast(... as json)` if the column is defined as `json`","body":"The query is invalid to begin with. After the values keyword you need parentheses: <code>values (...)</code>. If you pass a String, try <code>values (cast(:userData as jsonb))</code>  if the column is defined as <code>jsonb</code> (which it should be) or <code>cast(... as json)</code> if the column is defined as <code>json</code>"},{"owner":{"account_id":19772987,"reputation":53,"user_id":14479613,"display_name":"Code Junkie"},"score":0,"creation_date":1674501786,"post_id":75212398,"comment_id":132723371,"body_markdown":"This solution worked, thank you for your help! It was casting incorrectly. cast(:#{#userData.userData} as json) worked!","body":"This solution worked, thank you for your help! It was casting incorrectly. cast(:#{#userData.userData} as json) worked!"}],"owner":{"account_id":19772987,"reputation":53,"user_id":14479613,"display_name":"Code Junkie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674491470,"creation_date":1674491470,"question_id":75212398,"body_markdown":"I have a service that processes user data. We are batch testing against PostgreSQL native query for performance, but are having trouble storing JSON values the way we anticipate. The JSON value is being passed to the native query, but the query is processing and storing the JSON data improperly. \r\n\r\nThe query is currently storing the JSON data into our PostgreSQL table as such:\r\n\r\n    &quot;{\\&quot;user_id\\&quot;:\\&quot;12345\\&quot;,\\&quot;user_name\\&quot;:\\&quot;test_name\\&quot;,\\&quot;email\\&quot;:\\&quot;test@test.com\\&quot;}&quot;\r\n\r\n\r\n\r\nThis is our native query:\r\n\r\n    @Transactional\r\n    @Modifying\r\n    @Query(value = &quot;INSERT INTO USER_DATA_TEST (USER_DATA) VALUES to_json(:#{#userData.userData})&quot;,\r\n            nativeQuery = true)\r\n    public void saveUserData(@Param(&quot;userData&quot;) UserData userData);\r\n\r\n\r\n\r\n\r\nWe would like our data to be stored properly in JSON format, such as:\r\n\r\n    {&quot;user_id&quot;: &quot;12345&quot;, &quot;user_name&quot;: &quot;test_name&quot;, &quot;email&quot;: &quot;test@test.com&quot;}\r\n\r\n","title":"PostgreSQL Native Query: JSON value not storing properly","body":"<p>I have a service that processes user data. We are batch testing against PostgreSQL native query for performance, but are having trouble storing JSON values the way we anticipate. The JSON value is being passed to the native query, but the query is processing and storing the JSON data improperly.</p>\n<p>The query is currently storing the JSON data into our PostgreSQL table as such:</p>\n<pre><code>&quot;{\\&quot;user_id\\&quot;:\\&quot;12345\\&quot;,\\&quot;user_name\\&quot;:\\&quot;test_name\\&quot;,\\&quot;email\\&quot;:\\&quot;test@test.com\\&quot;}&quot;\n</code></pre>\n<p>This is our native query:</p>\n<pre><code>@Transactional\n@Modifying\n@Query(value = &quot;INSERT INTO USER_DATA_TEST (USER_DATA) VALUES to_json(:#{#userData.userData})&quot;,\n        nativeQuery = true)\npublic void saveUserData(@Param(&quot;userData&quot;) UserData userData);\n</code></pre>\n<p>We would like our data to be stored properly in JSON format, such as:</p>\n<pre><code>{&quot;user_id&quot;: &quot;12345&quot;, &quot;user_name&quot;: &quot;test_name&quot;, &quot;email&quot;: &quot;test@test.com&quot;}\n</code></pre>\n"},{"tags":["java","sockets","objectinputstream"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1674499184,"post_id":75212391,"comment_id":132722549,"body_markdown":"Java serialization is bad. Even the Oracle architects hate it. It&#39;s unsafe, and as you&#39;ve noticed not very good when it comes to adding fields. It&#39;s better to use a completely different format, like JSON, XML or protobuf. You&#39;ll have to put in some more effort to get your polymorphism to work though.","body":"Java serialization is bad. Even the Oracle architects hate it. It&#39;s unsafe, and as you&#39;ve noticed not very good when it comes to adding fields. It&#39;s better to use a completely different format, like JSON, XML or protobuf. You&#39;ll have to put in some more effort to get your polymorphism to work though."}],"owner":{"account_id":17166208,"reputation":75,"user_id":12479599,"display_name":"Bocho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674491427,"creation_date":1674491427,"question_id":75212391,"body_markdown":"I have a socket communication between clients and a server. I design the server side in order to create a new thread every time a client connects to the server. The problem is that, sometimes, ObjectInputStream throws StreamCorruptedException when I try to read and object.\r\n\r\nThe involved classes implement serializable, and have correct serialVersionUIDs. Also, I used synchronized to avoid problems of synchronization. I tried to flush the objectOutputStream every time I write and object. The problem persist, so it is possible to send objects via a socket communication without use ObjectOutputStream? Send a byte array directly or something like this?\r\n\r\nI let some code in case someone sees something I&#39;m doing wrong.\r\n\r\nserver side\r\n\r\n    public class ClientHandler implements Runnable {\r\n\r\n\tpublic static ArrayList&lt;ClientHandler&gt; clientsHandlers = new ArrayList&lt;&gt;();\r\n\tprivate Socket socket;\r\n\tprivate Server server;\r\n\tprivate Usuario usuario;\r\n\tprivate ObjectInputStream objectInputStream;\r\n\tprivate ObjectOutputStream objectOutputStream;\r\n\r\n\tpublic ClientHandler(Socket socket, Server server) {\r\n\r\n\t\ttry {\r\n\t\t\tthis.socket = socket;\r\n\t\t\tthis.server = server;\r\n\t\t\tobjectInputStream = new ObjectInputStream(socket.getInputStream());\r\n\t\t\tobjectOutputStream = new ObjectOutputStream(socket.getOutputStream());\r\n\t\t\tclientsHandlers.add(this);\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tdisconnect();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\twhile (!socket.isClosed() &amp;&amp; socket.isConnected()) {\r\n\t\t\ttry {\r\n\t\t\t\tsynchronized (objectInputStream) {\r\n\t\t\t\t\tObject object = objectInputStream.readObject();  // &lt;---PROBLEM\r\n\t\t\t\t\tif (object instanceof AccionOnline) {\r\n\t\t\t\t\t\tswitch (((AccionOnline) object).getTipoAccionOnline()) {\r\n\t\t\t\t\t\tcase DESCONECTAR:\r\n\t\t\t\t\t\t\tdisconnect();\r\n\t\t\t\t\t\t\tif (server.numConnection == 0) {\r\n\t\t\t\t\t\t\t\tserver.closeServerSocket();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsendObject(object);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase INICIARPARTIDA:\r\n\t\t\t\t\t\tcase DODECAEDRO:\r\n\t\t\t\t\t\tcase SIGUIENTE:\r\n\t\t\t\t\t\tcase DADO:\r\n\t\t\t\t\t\tcase ITEMDADO:\r\n\t\t\t\t\t\tcase RULETA:\r\n\t\t\t\t\t\tcase TEST:\r\n\t\t\t\t\t\tcase DRAWSTART:\r\n\t\t\t\t\t\tcase DRAW:\r\n\t\t\t\t\t\tcase DRAWUP:\r\n\t\t\t\t\t\t\tsendObject(object);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (object instanceof Usuario) {\r\n\t\t\t\t\t\tthis.usuario = (Usuario) object;\r\n\t\t\t\t\t\tfor (ClientHandler clientHandler : clientsHandlers) {\r\n\t\t\t\t\t\t\tif (!clientHandler.equals(this)) {\r\n\t\t\t\t\t\t\t\tthis.objectOutputStream.writeObject(clientHandler.usuario);\r\n\t\t\t\t\t\t\t\tthis.objectOutputStream.flush();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsendObject(object);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e) { // TODO: handle exception closeAll(socket, bufferedReader,\r\n\t\t\t\tdisconnect();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tpublic &lt;T&gt; void sendObject(T object) {\r\n\t\tfor (ClientHandler clientHandler : clientsHandlers) {\r\n\t\t\ttry {\r\n\t\t\t\tclientHandler.objectOutputStream.writeObject(object);\r\n\t\t\t\tclientHandler.objectOutputStream.flush();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t// TODO: handle exception\r\n\t\t\t\tdisconnect();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void disconnect() {\r\n\t\tSystem.out.println(&quot;cerrar conexion&quot;);\r\n\t\tclientsHandlers.remove(this);\r\n\t\ttry {\r\n\t\t\tif (objectInputStream != null) {\r\n\t\t\t\tobjectInputStream.close();\r\n\t\t\t}\r\n\t\t\tif (objectOutputStream != null) {\r\n\t\t\t\tobjectOutputStream.close();\r\n\t\t\t}\r\n\t\t\tif (socket != null) {\r\n\t\t\t\tsocket.close();\r\n\t\t\t}\r\n\t\t\tserver.numConnection--;\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclient side\r\n\r\n    public class Client {\r\n\r\n    private Socket socket;\r\n    private ObjectOutputStream objectOutputStream;\r\n    private ObjectInputStream objectInputStream;\r\n    private ArrayList&lt;GetObject&gt; listeners = new ArrayList&lt;&gt;();\r\n\r\n    public Client(Socket socket, GetObject listener) {\r\n        listeners.add(listener);\r\n        try {\r\n            this.socket = socket;\r\n            this.objectOutputStream = new ObjectOutputStream(socket.getOutputStream());\r\n            this.objectInputStream = new ObjectInputStream(socket.getInputStream());\r\n\r\n        } catch (Exception e) {\r\n            // TODO: handle exception\r\n            closeAll();\r\n        }\r\n    }\r\n\r\n    public void addListener(GetObject listener) {\r\n        listeners.add(listener);\r\n    }\r\n\r\n    public void removeListener(GetObject listener) {\r\n        listeners.remove(listener);\r\n    }\r\n\r\n    public &lt;T&gt; void sendObject(T object) {\r\n        Thread thread = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    objectOutputStream.writeObject(object);\r\n                } catch (Exception e) {\r\n                    closeAll();\r\n                }\r\n            }\r\n        });\r\n        thread.start();\r\n    }\r\n\r\n    public void listenServer() {\r\n        new Thread(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                // TODO Auto-generated method stub\r\n                while (socket.isConnected()) {\r\n                    try {\r\n                        Object o = objectInputStream.readObject();\r\n                        for (GetObject listener : listeners) {\r\n                            listener.getObject(o);\r\n                        }\r\n                    } catch (Exception e) {\r\n                        // TODO: handle exception\r\n                        closeAll();\r\n                    }\r\n                }\r\n\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    public void closeAll() {\r\n        try {\r\n            if (objectInputStream != null) {\r\n                objectInputStream.close();\r\n            }\r\n            if (objectOutputStream != null) {\r\n                objectOutputStream.close();\r\n            }\r\n            if (socket != null) {\r\n                socket.close();\r\n            }\r\n        } catch (Exception e) {\r\n            // TODO: handle exception\r\n        }\r\n    }\r\n}","title":"Send objects via java sockets without ObjectOutputStream","body":"<p>I have a socket communication between clients and a server. I design the server side in order to create a new thread every time a client connects to the server. The problem is that, sometimes, ObjectInputStream throws StreamCorruptedException when I try to read and object.</p>\n<p>The involved classes implement serializable, and have correct serialVersionUIDs. Also, I used synchronized to avoid problems of synchronization. I tried to flush the objectOutputStream every time I write and object. The problem persist, so it is possible to send objects via a socket communication without use ObjectOutputStream? Send a byte array directly or something like this?</p>\n<p>I let some code in case someone sees something I'm doing wrong.</p>\n<p>server side</p>\n<pre><code>public class ClientHandler implements Runnable {\n\npublic static ArrayList&lt;ClientHandler&gt; clientsHandlers = new ArrayList&lt;&gt;();\nprivate Socket socket;\nprivate Server server;\nprivate Usuario usuario;\nprivate ObjectInputStream objectInputStream;\nprivate ObjectOutputStream objectOutputStream;\n\npublic ClientHandler(Socket socket, Server server) {\n\n    try {\n        this.socket = socket;\n        this.server = server;\n        objectInputStream = new ObjectInputStream(socket.getInputStream());\n        objectOutputStream = new ObjectOutputStream(socket.getOutputStream());\n        clientsHandlers.add(this);\n    } catch (Exception e) {\n        // TODO: handle exception\n        disconnect();\n    }\n\n}\n\n@Override\npublic void run() {\n    // TODO Auto-generated method stub\n    while (!socket.isClosed() &amp;&amp; socket.isConnected()) {\n        try {\n            synchronized (objectInputStream) {\n                Object object = objectInputStream.readObject();  // &lt;---PROBLEM\n                if (object instanceof AccionOnline) {\n                    switch (((AccionOnline) object).getTipoAccionOnline()) {\n                    case DESCONECTAR:\n                        disconnect();\n                        if (server.numConnection == 0) {\n                            server.closeServerSocket();\n                        } else {\n                            sendObject(object);\n                        }\n                        break;\n                    case INICIARPARTIDA:\n                    case DODECAEDRO:\n                    case SIGUIENTE:\n                    case DADO:\n                    case ITEMDADO:\n                    case RULETA:\n                    case TEST:\n                    case DRAWSTART:\n                    case DRAW:\n                    case DRAWUP:\n                        sendObject(object);\n                        break;\n                    }\n                }\n                if (object instanceof Usuario) {\n                    this.usuario = (Usuario) object;\n                    for (ClientHandler clientHandler : clientsHandlers) {\n                        if (!clientHandler.equals(this)) {\n                            this.objectOutputStream.writeObject(clientHandler.usuario);\n                            this.objectOutputStream.flush();\n                        }\n                    }\n                    sendObject(object);\n                }\n            }\n        } catch (Exception e) { // TODO: handle exception closeAll(socket, bufferedReader,\n            disconnect();\n        }\n    }\n\n}\n\npublic &lt;T&gt; void sendObject(T object) {\n    for (ClientHandler clientHandler : clientsHandlers) {\n        try {\n            clientHandler.objectOutputStream.writeObject(object);\n            clientHandler.objectOutputStream.flush();\n        } catch (Exception e) {\n            // TODO: handle exception\n            disconnect();\n        }\n    }\n}\n\npublic void disconnect() {\n    System.out.println(&quot;cerrar conexion&quot;);\n    clientsHandlers.remove(this);\n    try {\n        if (objectInputStream != null) {\n            objectInputStream.close();\n        }\n        if (objectOutputStream != null) {\n            objectOutputStream.close();\n        }\n        if (socket != null) {\n            socket.close();\n        }\n        server.numConnection--;\n    } catch (Exception e) {\n        // TODO: handle exception\n    }\n}\n</code></pre>\n<p>}</p>\n<p>client side</p>\n<pre><code>public class Client {\n\nprivate Socket socket;\nprivate ObjectOutputStream objectOutputStream;\nprivate ObjectInputStream objectInputStream;\nprivate ArrayList&lt;GetObject&gt; listeners = new ArrayList&lt;&gt;();\n\npublic Client(Socket socket, GetObject listener) {\n    listeners.add(listener);\n    try {\n        this.socket = socket;\n        this.objectOutputStream = new ObjectOutputStream(socket.getOutputStream());\n        this.objectInputStream = new ObjectInputStream(socket.getInputStream());\n\n    } catch (Exception e) {\n        // TODO: handle exception\n        closeAll();\n    }\n}\n\npublic void addListener(GetObject listener) {\n    listeners.add(listener);\n}\n\npublic void removeListener(GetObject listener) {\n    listeners.remove(listener);\n}\n\npublic &lt;T&gt; void sendObject(T object) {\n    Thread thread = new Thread(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                objectOutputStream.writeObject(object);\n            } catch (Exception e) {\n                closeAll();\n            }\n        }\n    });\n    thread.start();\n}\n\npublic void listenServer() {\n    new Thread(new Runnable() {\n\n        @Override\n        public void run() {\n            // TODO Auto-generated method stub\n            while (socket.isConnected()) {\n                try {\n                    Object o = objectInputStream.readObject();\n                    for (GetObject listener : listeners) {\n                        listener.getObject(o);\n                    }\n                } catch (Exception e) {\n                    // TODO: handle exception\n                    closeAll();\n                }\n            }\n\n        }\n    }).start();\n}\n\npublic void closeAll() {\n    try {\n        if (objectInputStream != null) {\n            objectInputStream.close();\n        }\n        if (objectOutputStream != null) {\n            objectOutputStream.close();\n        }\n        if (socket != null) {\n            socket.close();\n        }\n    } catch (Exception e) {\n        // TODO: handle exception\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","jakarta-mail","imap","gmail-imap"],"comments":[{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1674488442,"post_id":75211412,"comment_id":132719236,"body_markdown":"These errors are mostly related to jar versions being old or mismatched. Try with newer version of `mail` and `jsoup` and see what you get.","body":"These errors are mostly related to jar versions being old or mismatched. Try with newer version of <code>mail</code> and <code>jsoup</code> and see what you get."},{"owner":{"account_id":19200660,"reputation":19,"user_id":14028685,"display_name":"bitwiseBro"},"score":0,"creation_date":1674814531,"post_id":75211412,"comment_id":132797798,"body_markdown":"@hell_storm2004 thanks for reply. I&#39;ve tried with latest dependencies, but no luck","body":"@hell_storm2004 thanks for reply. I&#39;ve tried with latest dependencies, but no luck"}],"owner":{"account_id":19200660,"reputation":19,"user_id":14028685,"display_name":"bitwiseBro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674491134,"creation_date":1674486758,"question_id":75211412,"body_markdown":"So I&#39;m automating gmail using JavaMail for Office Framework. When I tried it in my personal project it worked. But it doesn&#39;t work when used in Framework.\r\n\r\nMy noob code looks like this:\r\n\r\n```\r\n     public class EmailUtils {\r\n\t    Properties props = new Properties();\r\n\t    Session session;\r\n\t    Folder inbox;\r\n\t    Store store;\r\n\t    private String imapProtocol = &quot;imap&quot;;\r\n\t    private String imapHost = &quot;imap.gmail.com&quot;;\r\n\r\n\t    private void connect(String email, String appPassword) throws MessagingException {\r\n\t\t    try {\r\n\t\t\t setProperties_IMAP();\r\n\t\t\t session = Session.getDefaultInstance(props, null);\r\n\t                 store = session.getStore(imapProtocol);\r\n\t\t\t store.connect(imapHost, email, appPassword);\r\n\t\t\t session.setDebug(true);\r\n\t\t\t inbox = store.getFolder(&quot;INBOX&quot;);\r\n\t\t\t inbox.open(Folder.READ_ONLY);\r\n\t\t    } catch (Exception e) {\r\n\t\t\t e.printStackTrace();\r\n\t\t\t Reporter.fail(&quot;Email Utility Initilisation Failed&quot;);\r\n\t\t\t GenericMethods.printStacktrace(e);\r\n\t\t    }\r\n\t    }\r\n\r\n\t    private void setProperties_IMAP() {\r\n\t\t    props.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n\t\t    props.put(&quot;mail.store.protocol&quot;,&quot;imap&quot;);\r\n\t\t    props.put(&quot;mail.imaps.ssl.protocols&quot;, &quot;TLSv1.1&quot;);\r\n\t    }\r\n\r\n\t    public void search(String email, String appPassword) {\r\n\t\t    try {\r\n\t\t\t connect(email, appPassword);\r\n\t\t\t SearchTerm sender = newFromTerm(new InternetAddress(&quot;example@gmail.com&quot;));\r\n\r\n\t\t\t Message[] messages = inbox.search(sender);\r\n\t\t\t for (int i = 0; i &lt; messages.length; i++) {\r\n\t\t\t\t  Message message = messages[i];\r\n\t\t\t\t  System.out.println(&quot;-----------------------&quot;);\r\n\t\t\t\t  getTextFromMessage(message);\r\n\t\t\t\t  some_code();\r\n\t\t\t\t  System.out.println(&quot;-----------------------&quot;);\r\n\t\t\t  }\r\n\t\t\t  System.out.println(&quot;no more messages&quot;);\r\n\t\t\t  store.close();\r\n\t\t  } catch (Exception e) {\r\n\t\t\t  GenericMethods.printStacktrace(e);\r\n\t\t  }\r\n\t  }\r\n```\r\n\r\n\r\nError I get is:\r\n\r\n&gt; java.lang.NoSuchMethodError: com.sun.mail.util.TraceInputStream.\\&lt;init\\&gt;(Ljava/io/InputStream;Lcom/sun/mail/util/MailLogger;)V\r\n&gt; at com.sun.mail.iap.Protocol.initStreams(Protocol.java:148)\r\n&gt; at com.sun.mail.iap.Protocol.\\&lt;init\\&gt;(Protocol.java:127)\r\n&gt; at com.sun.mail.imap.protocol.IMAPProtocol.\\&lt;init\\&gt;(IMAPProtocol.java:126)\r\n&gt; at com.sun.mail.imap.IMAPStore.newIMAPProtocol(IMAPStore.java:756)\r\n&gt; at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:691)\r\n&gt; at javax.mail.Service.connect(Service.java:291)\r\n&gt; at javax.mail.Service.connect(Service.java:172)\r\n&gt; at utils.EmailUtils.connect(EmailUtils.java:45)\r\n&gt; at utils.EmailUtils.search(EmailUtils.java:78)\r\n&gt; at pageObjects.pages.EmailContentVerificationPage.verifyEmailContent(EmailContentVerificationPage.java:129)\r\n&gt; at shoppe.tests.EmailContentVerification.emailVerification(EmailContentVerification.java:18)\r\n&gt; at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n&gt; at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n&gt; at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n&gt; at java.lang.reflect.Method.invoke(Unknown Source)\r\n&gt; at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n&gt; at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\r\n&gt; at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n&gt; at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n&gt; at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n&gt; at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n&gt; at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n&gt; at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n&gt; at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n&gt; at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n&gt; at java.lang.Thread.run(Unknown Source)\r\n\r\nWhen I used the code in Framework I got: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate\r\n\r\nI was able to resolve it By modifying java.security file, thanks to stack overflow. but immediately after that I got above said error.\r\n\r\nMy environment is:\r\n\r\nJDK 1.8, Windows 10 pro\r\n\r\nMaven dependencies:\r\n\r\n```\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.7&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.13.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n```\r\n\r\nPls Help. Also Code critics are most welcome","title":"Issues with Javamail with Gmail: java.lang.NoSuchMethodError: com.sun.mail.util.TraceInputStream","body":"<p>So I'm automating gmail using JavaMail for Office Framework. When I tried it in my personal project it worked. But it doesn't work when used in Framework.</p>\n<p>My noob code looks like this:</p>\n<pre><code>     public class EmailUtils {\n        Properties props = new Properties();\n        Session session;\n        Folder inbox;\n        Store store;\n        private String imapProtocol = &quot;imap&quot;;\n        private String imapHost = &quot;imap.gmail.com&quot;;\n\n        private void connect(String email, String appPassword) throws MessagingException {\n            try {\n             setProperties_IMAP();\n             session = Session.getDefaultInstance(props, null);\n                     store = session.getStore(imapProtocol);\n             store.connect(imapHost, email, appPassword);\n             session.setDebug(true);\n             inbox = store.getFolder(&quot;INBOX&quot;);\n             inbox.open(Folder.READ_ONLY);\n            } catch (Exception e) {\n             e.printStackTrace();\n             Reporter.fail(&quot;Email Utility Initilisation Failed&quot;);\n             GenericMethods.printStacktrace(e);\n            }\n        }\n\n        private void setProperties_IMAP() {\n            props.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n            props.put(&quot;mail.store.protocol&quot;,&quot;imap&quot;);\n            props.put(&quot;mail.imaps.ssl.protocols&quot;, &quot;TLSv1.1&quot;);\n        }\n\n        public void search(String email, String appPassword) {\n            try {\n             connect(email, appPassword);\n             SearchTerm sender = newFromTerm(new InternetAddress(&quot;example@gmail.com&quot;));\n\n             Message[] messages = inbox.search(sender);\n             for (int i = 0; i &lt; messages.length; i++) {\n                  Message message = messages[i];\n                  System.out.println(&quot;-----------------------&quot;);\n                  getTextFromMessage(message);\n                  some_code();\n                  System.out.println(&quot;-----------------------&quot;);\n              }\n              System.out.println(&quot;no more messages&quot;);\n              store.close();\n          } catch (Exception e) {\n              GenericMethods.printStacktrace(e);\n          }\n      }\n</code></pre>\n<p>Error I get is:</p>\n<blockquote>\n<p>java.lang.NoSuchMethodError: com.sun.mail.util.TraceInputStream.&lt;init&gt;(Ljava/io/InputStream;Lcom/sun/mail/util/MailLogger;)V\nat com.sun.mail.iap.Protocol.initStreams(Protocol.java:148)\nat com.sun.mail.iap.Protocol.&lt;init&gt;(Protocol.java:127)\nat com.sun.mail.imap.protocol.IMAPProtocol.&lt;init&gt;(IMAPProtocol.java:126)\nat com.sun.mail.imap.IMAPStore.newIMAPProtocol(IMAPStore.java:756)\nat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:691)\nat javax.mail.Service.connect(Service.java:291)\nat javax.mail.Service.connect(Service.java:172)\nat utils.EmailUtils.connect(EmailUtils.java:45)\nat utils.EmailUtils.search(EmailUtils.java:78)\nat pageObjects.pages.EmailContentVerificationPage.verifyEmailContent(EmailContentVerificationPage.java:129)\nat shoppe.tests.EmailContentVerification.emailVerification(EmailContentVerification.java:18)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\nat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\nat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\nat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\nat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\nat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)</p>\n</blockquote>\n<p>When I used the code in Framework I got: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate</p>\n<p>I was able to resolve it By modifying java.security file, thanks to stack overflow. but immediately after that I got above said error.</p>\n<p>My environment is:</p>\n<p>JDK 1.8, Windows 10 pro</p>\n<p>Maven dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;1.13.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Pls Help. Also Code critics are most welcome</p>\n"},{"tags":["java","json","apache-commons-configuration"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1674496532,"post_id":75212311,"comment_id":132721807,"body_markdown":"If you want to have a single `CombinedConfiguration` using a standard properties file and also a JSON file, then I don&#39;t think that is supported. You _can_ do this with an XML file, using `&lt;xml fileName=&quot;whatever.xml&quot;/&gt;` - see the examples [here](https://commons.apache.org/proper/commons-configuration/userguide/howto_combinedbuilder.html). But there is nothing like `&lt;json fileName=.../&gt;`. Maybe there is another way - if so that would get my vote.","body":"If you want to have a single <code>CombinedConfiguration</code> using a standard properties file and also a JSON file, then I don&#39;t think that is supported. You <i>can</i> do this with an XML file, using <code>&lt;xml fileName=&quot;whatever.xml&quot;&#47;&gt;</code> - see the examples <a href=\"https://commons.apache.org/proper/commons-configuration/userguide/howto_combinedbuilder.html\" rel=\"nofollow noreferrer\">here</a>. But there is nothing like <code>&lt;json fileName=...&#47;&gt;</code>. Maybe there is another way - if so that would get my vote."},{"owner":{"account_id":318541,"reputation":758,"user_id":635831,"accept_rate":47,"display_name":"Adrian Herscu"},"score":0,"creation_date":1674539139,"post_id":75212311,"comment_id":132729852,"body_markdown":"Yes, I want to have a single CombinedConfiguration referencing multiple property files with different formats.","body":"Yes, I want to have a single CombinedConfiguration referencing multiple property files with different formats."}],"owner":{"account_id":318541,"reputation":758,"user_id":635831,"accept_rate":47,"display_name":"Adrian Herscu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674491072,"creation_date":1674491072,"question_id":75212311,"body_markdown":"I am trying to enable usage of JSON for configuration properties.\r\nUpgraded to Commons Configuration2 (2.8) hoping that this will work out-of-the box.\r\nI am initializing like this:\r\n\r\n```java\r\nnew CombinedConfigurationBuilder()\r\n            .configure(new Parameters()\r\n                .fileBased()\r\n                .setFileName(CONFIGURATION_SOURCES)\r\n                .setEncoding(UTF_8.toString()))\r\n            .getConfiguration();\r\n```\r\n\r\nThis is my `CONFIGURATION_SOURCES` file:\r\n```xml\r\n&lt;configuration&gt;\r\n  &lt;properties fileName=&quot;this-works.properties&quot; /&gt;\r\n  &lt;properties fileName=&quot;this-does-not-work.json&quot; /&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nMy JSON properties file (which does not get loaded):\r\n```json\r\n{\r\n  &quot;foo&quot;: &quot;bar&quot;\r\n}\r\n```\r\n\r\nWhen testing it with\r\n```java\r\n    @Test\r\n    public void shouldLoadPropertiesFromJson() {\r\n        assertThat(configuration.getString(&quot;foo&quot;), is(&quot;bar&quot;));\r\n    }\r\n```\r\nfails because `foo` is `null` instead of `bar` :(\r\n\r\nAny suggestion(s)?\r\n\r\n","title":"using json files for properties with apache commons configuration2","body":"<p>I am trying to enable usage of JSON for configuration properties.\nUpgraded to Commons Configuration2 (2.8) hoping that this will work out-of-the box.\nI am initializing like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new CombinedConfigurationBuilder()\n            .configure(new Parameters()\n                .fileBased()\n                .setFileName(CONFIGURATION_SOURCES)\n                .setEncoding(UTF_8.toString()))\n            .getConfiguration();\n</code></pre>\n<p>This is my <code>CONFIGURATION_SOURCES</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;properties fileName=&quot;this-works.properties&quot; /&gt;\n  &lt;properties fileName=&quot;this-does-not-work.json&quot; /&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>My JSON properties file (which does not get loaded):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;foo&quot;: &quot;bar&quot;\n}\n</code></pre>\n<p>When testing it with</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void shouldLoadPropertiesFromJson() {\n        assertThat(configuration.getString(&quot;foo&quot;), is(&quot;bar&quot;));\n    }\n</code></pre>\n<p>fails because <code>foo</code> is <code>null</code> instead of <code>bar</code> :(</p>\n<p>Any suggestion(s)?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1674378261,"post_id":75199159,"comment_id":132698428,"body_markdown":"Create a class to encapsulate that data. Create an empty list before the while loop. Inside the while loop, create a new instance of your data class with the data taken from the result set; add that object to your list. After the loop, you now have a list of objects.","body":"Create a class to encapsulate that data. Create an empty list before the while loop. Inside the while loop, create a new instance of your data class with the data taken from the result set; add that object to your list. After the loop, you now have a list of objects."}],"answers":[{"tags":[],"owner":{"account_id":5441459,"reputation":127,"user_id":4329439,"display_name":"Timor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674490971,"creation_date":1674421716,"answer_id":75203932,"question_id":75199159,"body_markdown":"As [Slaw](https://stackoverflow.com/users/6395627/slaw) already pointed out, create a class that is able to store one row from the database, iterate over the result set and add a new instance to a list for each row read. Close the connection, iterate over your list and dump the objects to standard output. \r\n\r\nAssuming you are using Java 14 or higher, it would be even easier to create a `record` for that (basically a class with only final fields and getters and an all arguments constructor, that the compiler generates for you). The following code is based on yours with minimal changes to adopt the idea outlined in the first paragraph.\r\n\r\n```java\r\nimport java.sql.*;\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\n\r\npublic class JDCB {\r\n  record Student(String name, int contact, int age) {\r\n    // might want to override toString() to make it prettier on console\r\n  }\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\r\n    Connection con= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mydatabase&quot;,&quot;root&quot;,&quot;root&quot;);\r\n    Statement st = con.createStatement();\r\n    ResultSet rs = st.executeQuery(&quot;select * from student&quot;);\r\n\r\n    final List&lt;Student&gt; students = new LinkedList&lt;&gt;(); // better suited for adding elements one by one than ArrayList&lt;&gt;\r\n\r\n    while(rs.next()) {\r\n      students.add(new Student(\r\n          rs.getString(&quot;name&quot;),\r\n          rs.getInt(&quot;contact&quot;),\r\n          rs.getInt(&quot;age&quot;)\r\n      ));\r\n    }\r\n\r\n    st.close();\r\n    con.close();\r\n\r\n    students.forEach(System.out::println);\r\n  }\r\n}\r\n```","title":"How to get all users from a table into an array or list and print it","body":"<p>As <a href=\"https://stackoverflow.com/users/6395627/slaw\">Slaw</a> already pointed out, create a class that is able to store one row from the database, iterate over the result set and add a new instance to a list for each row read. Close the connection, iterate over your list and dump the objects to standard output.</p>\n<p>Assuming you are using Java 14 or higher, it would be even easier to create a <code>record</code> for that (basically a class with only final fields and getters and an all arguments constructor, that the compiler generates for you). The following code is based on yours with minimal changes to adopt the idea outlined in the first paragraph.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.*;\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic class JDCB {\n  record Student(String name, int contact, int age) {\n    // might want to override toString() to make it prettier on console\n  }\n\n  public static void main(String[] args) throws Exception {\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n\n    Connection con= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mydatabase&quot;,&quot;root&quot;,&quot;root&quot;);\n    Statement st = con.createStatement();\n    ResultSet rs = st.executeQuery(&quot;select * from student&quot;);\n\n    final List&lt;Student&gt; students = new LinkedList&lt;&gt;(); // better suited for adding elements one by one than ArrayList&lt;&gt;\n\n    while(rs.next()) {\n      students.add(new Student(\n          rs.getString(&quot;name&quot;),\n          rs.getInt(&quot;contact&quot;),\n          rs.getInt(&quot;age&quot;)\n      ));\n    }\n\n    st.close();\n    con.close();\n\n    students.forEach(System.out::println);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":23855851,"reputation":1,"user_id":17859343,"display_name":"Ahmed Yusuf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674490971,"creation_date":1674377288,"question_id":75199159,"body_markdown":"I have to create an application using Java and JDBC in Eclipse IDE which stores user details in a MySQL database and is able to perform operations like insert, delete, display, etc.\r\n\r\nI know how to display all user details without putting it in an ArrayList like below: \r\n\r\n```lang-java\r\nimport java.sql.*;\r\n\r\npublic class JDBC {\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n    \tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    \tConnection con= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mydatabase&quot;,&quot;root&quot;,&quot;root&quot;);\r\n    \tStatement st = con.createStatement();\r\n    \tResultSet rs = st.executeQuery(&quot;select * from student&quot;);\r\n    \t\r\n    \twhile(rs.next())\r\n    \t{\r\n        \tString name1 = rs.getString(&quot;name&quot;);\r\n        \tint contact1 = rs.getInt(&quot;contact&quot;);\r\n        \tint age1 = rs.getInt(&quot;age&quot;);\r\n        \t\r\n        \tSystem.out.println(name1 + &quot; &quot; + contact1 + &quot; &quot; + age1);\r\n    \t}\r\n    \t\r\n    \tst.close();\r\n    \tcon.close();\r\n\t}\r\n}\r\n```\r\n\r\nHowever, I am required to display user details after putting it in an array or ArrayList. I don&#39;t know how to put it in an array or ArrayList and then print it.\r\n\r\n\r\n\r\n","title":"How to get all users from a table into an array or list and print it","body":"<p>I have to create an application using Java and JDBC in Eclipse IDE which stores user details in a MySQL database and is able to perform operations like insert, delete, display, etc.</p>\n<p>I know how to display all user details without putting it in an ArrayList like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.*;\n\npublic class JDBC {\n    \n    public static void main(String[] args) throws Exception {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        Connection con= DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/mydatabase&quot;,&quot;root&quot;,&quot;root&quot;);\n        Statement st = con.createStatement();\n        ResultSet rs = st.executeQuery(&quot;select * from student&quot;);\n        \n        while(rs.next())\n        {\n            String name1 = rs.getString(&quot;name&quot;);\n            int contact1 = rs.getInt(&quot;contact&quot;);\n            int age1 = rs.getInt(&quot;age&quot;);\n            \n            System.out.println(name1 + &quot; &quot; + contact1 + &quot; &quot; + age1);\n        }\n        \n        st.close();\n        con.close();\n    }\n}\n</code></pre>\n<p>However, I am required to display user details after putting it in an array or ArrayList. I don't know how to put it in an array or ArrayList and then print it.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-roo"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1500109140,"post_id":14699087,"comment_id":77203896,"body_markdown":"You mean with HIBERNATE. Other JPA providers do NOT add in all unchanged fields into the UPDATE clause","body":"You mean with HIBERNATE. Other JPA providers do NOT add in all unchanged fields into the UPDATE clause"}],"answers":[{"comments":[{"owner":{"account_id":51768,"reputation":1485,"user_id":154703,"accept_rate":90,"display_name":"Eric Freese"},"score":1,"creation_date":1360450240,"post_id":14701129,"comment_id":20714331,"body_markdown":"Thanks for the suggestion. This doesn&#39;t quite solve my problem though. I was using Hibernate 3.6, but upgraded to 4.1 to get the @DynamicUpdate annotation. I added it to my entity, but it still overwrites in the database the model attributes not included in the form. It looks like the `User` entity&#39;s password attribute is set as null when it comes into the request handler (because it wasn&#39;t included in the form), so Hibernate thinks it has changed (from some value to null), and includes it in the UPDATE query.","body":"Thanks for the suggestion. This doesn&#39;t quite solve my problem though. I was using Hibernate 3.6, but upgraded to 4.1 to get the @DynamicUpdate annotation. I added it to my entity, but it still overwrites in the database the model attributes not included in the form. It looks like the <code>User</code> entity&#39;s password attribute is set as null when it comes into the request handler (because it wasn&#39;t included in the form), so Hibernate thinks it has changed (from some value to null), and includes it in the UPDATE query."},{"owner":{"account_id":981663,"reputation":17502,"user_id":1001224,"accept_rate":82,"display_name":"lolo"},"score":0,"creation_date":1474200806,"post_id":14701129,"comment_id":66425688,"body_markdown":"if if we not using Hibernate?","body":"if if we not using Hibernate?"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1360044149,"creation_date":1360044149,"answer_id":14701129,"question_id":14699087,"body_markdown":"If your persistence provider is Hibernate, use the hibernate-specific annotation: [`@DynamicUpdate`][1] on the entity:\r\n\r\n&gt; For updating, should this entity use dynamic sql generation where only changed columns get referenced in the prepared sql statement?\r\n&gt; \r\n&gt; Note, for re-attachment of detached entities this is not possible without select-before-update being enabled.\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/annotations/DynamicUpdate.html","title":"Is it possible to update only a subset of attributes on an entity using Spring MVC with JPA?","body":"<p>If your persistence provider is Hibernate, use the hibernate-specific annotation: <a href=\"http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/annotations/DynamicUpdate.html\" rel=\"nofollow\"><code>@DynamicUpdate</code></a> on the entity:</p>\n\n<blockquote>\n  <p>For updating, should this entity use dynamic sql generation where only changed columns get referenced in the prepared sql statement?</p>\n  \n  <p>Note, for re-attachment of detached entities this is not possible without select-before-update being enabled.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":51768,"reputation":1485,"user_id":154703,"accept_rate":90,"display_name":"Eric Freese"},"score":0,"creation_date":1360458343,"post_id":14702971,"comment_id":20716087,"body_markdown":"This worked, Thank you! But I can&#39;t help but feel like there should be a cleaner way of doing it. It&#39;s going to be painful to have to define a function like this for every form. I added the `mergeWithExistingAndUpdate` method to my User model (see the edit on my question for the final code). I don&#39;t think I need all the session stuff, since I can use the EntityManager that Roo set up for me. I&#39;m unfamiliar with the concept of a &quot;service layer&quot;. Where would you put this UserService class? And how would you call the mergeWithExistingAndUpdate method from the controller action?","body":"This worked, Thank you! But I can&#39;t help but feel like there should be a cleaner way of doing it. It&#39;s going to be painful to have to define a function like this for every form. I added the <code>mergeWithExistingAndUpdate</code> method to my User model (see the edit on my question for the final code). I don&#39;t think I need all the session stuff, since I can use the EntityManager that Roo set up for me. I&#39;m unfamiliar with the concept of a &quot;service layer&quot;. Where would you put this UserService class? And how would you call the mergeWithExistingAndUpdate method from the controller action?"},{"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"score":0,"creation_date":1360576066,"post_id":14702971,"comment_id":20743363,"body_markdown":"I agree with you that it&#39;s not 100% clean :-) The &quot;Service Layer&quot; idea is nicely visible in this blog post: http://krams915.blogspot.com/2011/01/spring-mvc-3-hibernate-annotations.html The method _mergeWithExistingAndUpdate_ is called from the Controller which get&#39;s the update-request by POST. HTH","body":"I agree with you that it&#39;s not 100% clean :-) The &quot;Service Layer&quot; idea is nicely visible in this blog post: <a href=\"http://krams915.blogspot.com/2011/01/spring-mvc-3-hibernate-annotations.html\" rel=\"nofollow noreferrer\">krams915.blogspot.com/2011/01/&hellip;</a> The method <i>mergeWithExistingAndUpdate</i> is called from the Controller which get&#39;s the update-request by POST. HTH"}],"tags":[],"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1494488712,"creation_date":1360052571,"answer_id":14702971,"question_id":14699087,"body_markdown":"I usually solve this in the service layer.\r\n\r\nYou can read the entity you want to update from the DB, and overwrite the attributes which you are getting from your form.\r\n\r\nThis way you change only the attributes you want.\r\n\r\nCode example:\r\n\r\n\r\n    @Service\r\n    @Transactional\r\n    public class UserService {\r\n    \r\n    \t@Resource(name = &quot;sessionFactory&quot;)\r\n    \tprivate SessionFactory\tsessionFactory;\r\n    \r\n    \tpublic void mergeWithExistingAndUpdate(final Person personFromPost) {\r\n    \r\n    \t\tSession session = sessionFactory.getCurrentSession();\r\n    \r\n    \t\tPerson existingPerson = (Person) session.get(Person.class, personFromPost.getId());\r\n    \r\n    \t\t// set here explicitly what must/can be overwritten by the html form POST\r\n    \t\texistingPerson.setName(personFromPost.getName());\r\n    \t\texistingPerson.setEmail(personFromPost.getEmail());\r\n    \t\texistingPerson.setDateModified(new Date());\r\n    \t\texistingPerson.setUserModified(Utils.getCurrentUser());\r\n    \r\n    \t\tsession.update(existingPerson);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**EDIT 1**\r\n\r\nThere is in fact a Spring-way to solve this issue, using `@SessionAttributes`, see this anwer:\r\n\r\nhttps://stackoverflow.com/a/3675919/272180\r\n\r\nI did not yet test it, but it looks promising.\r\n\r\n**EDIT 2**\r\n\r\nEventually I tested it and it works as expected.\r\n\r\nThere is one thing however which can make you shoot in your foot:\r\n\r\nIf you open several tabs with the same form, the opening of the last tab overwrites the `sessionAttribute` of the others, and, on submit, can potentially corrupt your data. There is a solution in this blog post: http://marty-java-dev.blogspot.com/2010/09/spring-3-session-level-model-attributes.html\r\n\r\nBut at the end, if you never open multiple tabs for editing, you will not have a problem anyway.\r\n","title":"Is it possible to update only a subset of attributes on an entity using Spring MVC with JPA?","body":"<p>I usually solve this in the service layer.</p>\n\n<p>You can read the entity you want to update from the DB, and overwrite the attributes which you are getting from your form.</p>\n\n<p>This way you change only the attributes you want.</p>\n\n<p>Code example:</p>\n\n<pre><code>@Service\n@Transactional\npublic class UserService {\n\n    @Resource(name = \"sessionFactory\")\n    private SessionFactory  sessionFactory;\n\n    public void mergeWithExistingAndUpdate(final Person personFromPost) {\n\n        Session session = sessionFactory.getCurrentSession();\n\n        Person existingPerson = (Person) session.get(Person.class, personFromPost.getId());\n\n        // set here explicitly what must/can be overwritten by the html form POST\n        existingPerson.setName(personFromPost.getName());\n        existingPerson.setEmail(personFromPost.getEmail());\n        existingPerson.setDateModified(new Date());\n        existingPerson.setUserModified(Utils.getCurrentUser());\n\n        session.update(existingPerson);\n    }\n\n}\n</code></pre>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>There is in fact a Spring-way to solve this issue, using <code>@SessionAttributes</code>, see this anwer:</p>\n\n<p><a href=\"https://stackoverflow.com/a/3675919/272180\">https://stackoverflow.com/a/3675919/272180</a></p>\n\n<p>I did not yet test it, but it looks promising.</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>Eventually I tested it and it works as expected.</p>\n\n<p>There is one thing however which can make you shoot in your foot:</p>\n\n<p>If you open several tabs with the same form, the opening of the last tab overwrites the <code>sessionAttribute</code> of the others, and, on submit, can potentially corrupt your data. There is a solution in this blog post: <a href=\"http://marty-java-dev.blogspot.com/2010/09/spring-3-session-level-model-attributes.html\" rel=\"noreferrer\">http://marty-java-dev.blogspot.com/2010/09/spring-3-session-level-model-attributes.html</a></p>\n\n<p>But at the end, if you never open multiple tabs for editing, you will not have a problem anyway.</p>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1610232514,"creation_date":1476170083,"answer_id":39972124,"question_id":14699087,"body_markdown":"If you never want to update a particular attribute, you can mark it with [`updatable=false`](https://vladmihalcea.com/how-to-update-only-a-subset-of-entity-attributes-using-jpa-and-hibernate/):\r\n\r\n    @Column(name=&quot;CREATED_ON&quot;, updatable=false)\r\n    private Date createdOn;\r\n\r\nOnce you load an entity and you modify it, as long as the current `Session` or `EntityManager` is open, Hibernate can track changes through the dirty checking mechanism. Then, during `flush`, an SQL UPDATE will be executed.\r\n\r\nIf you don&#39;t like that all columns are included in the `UPDATE` statement, you can use dynamic update:\r\n\r\n    @Entity\r\n    @DynamicUpdate\r\n    public class Product {\r\n       //code omitted for brevity\r\n    }\r\n\r\nThen, only the modified columns will be included in the `UPDATE` statement.","title":"Is it possible to update only a subset of attributes on an entity using Spring MVC with JPA?","body":"<p>If you never want to update a particular attribute, you can mark it with <a href=\"https://vladmihalcea.com/how-to-update-only-a-subset-of-entity-attributes-using-jpa-and-hibernate/\" rel=\"noreferrer\"><code>updatable=false</code></a>:</p>\n<pre><code>@Column(name=&quot;CREATED_ON&quot;, updatable=false)\nprivate Date createdOn;\n</code></pre>\n<p>Once you load an entity and you modify it, as long as the current <code>Session</code> or <code>EntityManager</code> is open, Hibernate can track changes through the dirty checking mechanism. Then, during <code>flush</code>, an SQL UPDATE will be executed.</p>\n<p>If you don't like that all columns are included in the <code>UPDATE</code> statement, you can use dynamic update:</p>\n<pre><code>@Entity\n@DynamicUpdate\npublic class Product {\n   //code omitted for brevity\n}\n</code></pre>\n<p>Then, only the modified columns will be included in the <code>UPDATE</code> statement.</p>\n"}],"owner":{"account_id":51768,"reputation":1485,"user_id":154703,"accept_rate":90,"display_name":"Eric Freese"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30871,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":14702971,"answer_count":3,"score":17,"last_activity_date":1674490930,"creation_date":1360030561,"question_id":14699087,"body_markdown":"I&#39;m working with Spring Roo, using Spring MVC and JPA for persistence with a MySQL database. I&#39;m very new to Spring MVC and Java in general but have worked with CakePHP and Rails.\r\n\r\nI have a `User` entity that contains personal details in addition to a password. Something like this (excluding a lot of Roo-generated functionality in additional .aj files):\r\n\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;ID&quot;)\r\n        private Long id;\r\n\r\n        @Column(name = &quot;PASSWORD&quot;, length = 32)\r\n        private String password;\r\n        \r\n        @Column(name = &quot;FIRST_NAME&quot;, length = 25)\r\n        private String firstName;\r\n            \r\n        @Column(name = &quot;LAST_NAME&quot;, length = 25)\r\n        private String lastName;\r\n        \r\n        @Column(name = &quot;ADDRESS&quot;, length = 255)\r\n        private String address;\r\n        \r\n        // The appropriate getters and setters\r\n        ...\r\n    }\r\n\r\nThen I have an edit action in my `User` controller that I created following conventions from Roo&#39;s auto-generated scaffolding:\r\n\r\n    @RequestMapping(value=&quot;/edit&quot;, method = RequestMethod.GET)\r\n    public String editForm(Model uiModel) {\r\n    \tString username = (String) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n    \tuiModel.addAttribute(&quot;user&quot;, User.findUserByUsername(username).getSingleResult());\r\n        return &quot;account/edit&quot;;\r\n    }\r\n\r\nAnd a JSPX view to render the form, again following Roo&#39;s conventions:\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n\t&lt;div xmlns:field=&quot;urn:jsptagdir:/WEB-INF/tags/form/fields&quot; xmlns:form=&quot;urn:jsptagdir:/WEB-INF/tags/form&quot; xmlns:jsp=&quot;http://java.sun.com/JSP/Page&quot; version=&quot;2.0&quot;&gt;\r\n\t    &lt;jsp:directive.page contentType=&quot;text/html;charset=UTF-8&quot;/&gt;\r\n\t    &lt;jsp:output omit-xml-declaration=&quot;yes&quot;/&gt;\r\n\t    &lt;form:update id=&quot;&quot; label=&quot;Personal Details&quot; modelAttribute=&quot;user&quot; path=&quot;/account&quot; versionField=&quot;none&quot;&gt;\r\n\t        &lt;field:input id=&quot;&quot; field=&quot;firstName&quot; label=&quot;First Name&quot; /&gt;\r\n\t        &lt;field:input id=&quot;&quot; field=&quot;lastName&quot; label=&quot;Last Name&quot; /&gt;\r\n\t        &lt;field:textarea id=&quot;&quot; field=&quot;address&quot; label=&quot;Street Address&quot; /&gt;\r\n\t    &lt;/form:update&gt;\r\n\t&lt;/div&gt;\r\n\r\nI do *not* want the form to update the password, just the provided fields (first name, last name, and address).\r\n\r\nThe update action, again following Roo convention:\r\n\r\n    @RequestMapping(method = RequestMethod.PUT, produces = &quot;text/html&quot;)\r\n    public String edit(@Valid User user, BindingResult bindingResult, Model uiModel, HttpServletRequest httpServletRequest) {\r\n    \tif (bindingResult.hasErrors()) {\r\n    \t\tuiModel.addAttribute(&quot;user&quot;, user);\r\n    \t\treturn &quot;account/edit&quot;;\r\n    \t}\r\n        uiModel.asMap().clear();\r\n    \tuser.merge();\r\n        return &quot;redirect:/account&quot;;\r\n    }\r\n\r\nThe user object is updated perfectly, but the problem is that it overwrites the password field with null because it&#39;s not provided as an input in the form, and thus set to null in the User object passed to the form submit request handler. The problem doesn&#39;t show up with the Roo generated scaffolding because they provide form inputs for all of the columns. So I could add it as a hidden field but that doesn&#39;t sound like a good idea. And I get the feeling there&#39;s a much better way to do it...\r\n\r\n\r\n----------\r\n\r\n\r\n**TL;DR How can I update only the entity attributes provided in a form without overwriting the other attributes?**\r\n------------------------------------------------------------------------\r\n\r\nIn other words, how can I make Spring/JPA generate the SQL\r\n\r\n    UPDATE user SET firstname=?, lastname=?, address=?\r\n\r\ninstead of\r\n\r\n    UPDATE user SET firstname=?, lastname=?, address=?, password=?\r\n\r\nCode samples would be fantastic since I&#39;m new to all of this :)\r\n\r\n\r\n----------\r\n\r\n\r\nThank you!\r\n\r\n----------\r\n\r\n**UPDATE:** I was able to make it work using yglodt&#39;s suggestion, adding the following method to my User model:\r\n\r\n    @Transactional\r\n    public void mergeWithExistingAndUpdate() {\r\n        final User existingUser = User.findUser(this.getId());\r\n\r\n        existingUser.setFirstName(this.getFirstName());\r\n        existingUser.setLastName(this.getLastName());\r\n        existingUser.setAddress(this.getAddress());\r\n\r\n        existingUser.flush();\r\n    }\r\n\r\nand calling that from my controller action instead of user.merge():\r\n\r\n    user.mergeWithExistingAndUpdate();","title":"Is it possible to update only a subset of attributes on an entity using Spring MVC with JPA?","body":"<p>I'm working with Spring Roo, using Spring MVC and JPA for persistence with a MySQL database. I'm very new to Spring MVC and Java in general but have worked with CakePHP and Rails.</p>\n\n<p>I have a <code>User</code> entity that contains personal details in addition to a password. Something like this (excluding a lot of Roo-generated functionality in additional .aj files):</p>\n\n<pre><code>public class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = \"ID\")\n    private Long id;\n\n    @Column(name = \"PASSWORD\", length = 32)\n    private String password;\n\n    @Column(name = \"FIRST_NAME\", length = 25)\n    private String firstName;\n\n    @Column(name = \"LAST_NAME\", length = 25)\n    private String lastName;\n\n    @Column(name = \"ADDRESS\", length = 255)\n    private String address;\n\n    // The appropriate getters and setters\n    ...\n}\n</code></pre>\n\n<p>Then I have an edit action in my <code>User</code> controller that I created following conventions from Roo's auto-generated scaffolding:</p>\n\n<pre><code>@RequestMapping(value=\"/edit\", method = RequestMethod.GET)\npublic String editForm(Model uiModel) {\n    String username = (String) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n    uiModel.addAttribute(\"user\", User.findUserByUsername(username).getSingleResult());\n    return \"account/edit\";\n}\n</code></pre>\n\n<p>And a JSPX view to render the form, again following Roo's conventions:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;div xmlns:field=\"urn:jsptagdir:/WEB-INF/tags/form/fields\" xmlns:form=\"urn:jsptagdir:/WEB-INF/tags/form\" xmlns:jsp=\"http://java.sun.com/JSP/Page\" version=\"2.0\"&gt;\n    &lt;jsp:directive.page contentType=\"text/html;charset=UTF-8\"/&gt;\n    &lt;jsp:output omit-xml-declaration=\"yes\"/&gt;\n    &lt;form:update id=\"\" label=\"Personal Details\" modelAttribute=\"user\" path=\"/account\" versionField=\"none\"&gt;\n        &lt;field:input id=\"\" field=\"firstName\" label=\"First Name\" /&gt;\n        &lt;field:input id=\"\" field=\"lastName\" label=\"Last Name\" /&gt;\n        &lt;field:textarea id=\"\" field=\"address\" label=\"Street Address\" /&gt;\n    &lt;/form:update&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I do <em>not</em> want the form to update the password, just the provided fields (first name, last name, and address).</p>\n\n<p>The update action, again following Roo convention:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.PUT, produces = \"text/html\")\npublic String edit(@Valid User user, BindingResult bindingResult, Model uiModel, HttpServletRequest httpServletRequest) {\n    if (bindingResult.hasErrors()) {\n        uiModel.addAttribute(\"user\", user);\n        return \"account/edit\";\n    }\n    uiModel.asMap().clear();\n    user.merge();\n    return \"redirect:/account\";\n}\n</code></pre>\n\n<p>The user object is updated perfectly, but the problem is that it overwrites the password field with null because it's not provided as an input in the form, and thus set to null in the User object passed to the form submit request handler. The problem doesn't show up with the Roo generated scaffolding because they provide form inputs for all of the columns. So I could add it as a hidden field but that doesn't sound like a good idea. And I get the feeling there's a much better way to do it...</p>\n\n<hr>\n\n<h2><strong>TL;DR How can I update only the entity attributes provided in a form without overwriting the other attributes?</strong></h2>\n\n<p>In other words, how can I make Spring/JPA generate the SQL</p>\n\n<pre><code>UPDATE user SET firstname=?, lastname=?, address=?\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>UPDATE user SET firstname=?, lastname=?, address=?, password=?\n</code></pre>\n\n<p>Code samples would be fantastic since I'm new to all of this :)</p>\n\n<hr>\n\n<p>Thank you!</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong> I was able to make it work using yglodt's suggestion, adding the following method to my User model:</p>\n\n<pre><code>@Transactional\npublic void mergeWithExistingAndUpdate() {\n    final User existingUser = User.findUser(this.getId());\n\n    existingUser.setFirstName(this.getFirstName());\n    existingUser.setLastName(this.getLastName());\n    existingUser.setAddress(this.getAddress());\n\n    existingUser.flush();\n}\n</code></pre>\n\n<p>and calling that from my controller action instead of user.merge():</p>\n\n<pre><code>user.mergeWithExistingAndUpdate();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1674483525,"post_id":75210680,"comment_id":132717342,"body_markdown":"What is the rest of your loop? I think you are hiding the crucial parts – do you somewhere call `shiftDatesMap.get(accounts)`?","body":"What is the rest of your loop? I think you are hiding the crucial parts – do you somewhere call <code>shiftDatesMap.get(accounts)</code>?"},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":1,"creation_date":1674483630,"post_id":75210680,"comment_id":132717387,"body_markdown":"shiftList hast no been declared in this part of the code - I feel like that might also be important","body":"shiftList hast no been declared in this part of the code - I feel like that might also be important"},{"owner":{"account_id":27600859,"reputation":3,"user_id":21066109,"display_name":"user21066109"},"score":0,"creation_date":1674483818,"post_id":75210680,"comment_id":132717474,"body_markdown":"Yes, I do call that","body":"Yes, I do call that"},{"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"score":0,"creation_date":1674483858,"post_id":75210680,"comment_id":132717494,"body_markdown":"On which map/line of code does it notify you? Could you indicate this with a comment in your code please.\nAlso do you understand the described code smell in general already? Sonarqube should be able to show you a description with good and bad example.","body":"On which map/line of code does it notify you? Could you indicate this with a comment in your code please. Also do you understand the described code smell in general already? Sonarqube should be able to show you a description with good and bad example."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1674484000,"post_id":75210680,"comment_id":132717553,"body_markdown":"Is there something in SonarQube&#39;s description of the rule, https://rules.sonarsource.com/java/RSPEC-2864, that you don&#39;t understand?","body":"Is there something in SonarQube&#39;s description of the rule, <a href=\"https://rules.sonarsource.com/java/RSPEC-2864\" rel=\"nofollow noreferrer\">rules.sonarsource.com/java/RSPEC-2864</a>, that you don&#39;t understand?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1674485343,"post_id":75210680,"comment_id":132718099,"body_markdown":"This question is incomplete. It does not include a [mre]. Please [edit] it to include the complete code required to reproduce the &quot;problem&quot;. (The SonarQube rule should be pretty clear about it and even contain one compliant example and one non-compliant example)","body":"This question is incomplete. It does not include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Please <a href=\"https://stackoverflow.com/posts/75210680/edit\">edit</a> it to include the complete code required to reproduce the &quot;problem&quot;. (The SonarQube rule should be pretty clear about it and even contain one compliant example and one non-compliant example)"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1674488925,"post_id":75210680,"comment_id":132719409,"body_markdown":"https://stackoverflow.com/questions/27785958/iterating-over-key-set-vs-iterating-over-entry-set","body":"<a href=\"https://stackoverflow.com/questions/27785958/iterating-over-key-set-vs-iterating-over-entry-set\" title=\"iterating over key set vs iterating over entry set\">stackoverflow.com/questions/27785958/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1674484483,"creation_date":1674484123,"answer_id":75210904,"question_id":75210680,"body_markdown":"If you iterate over `shiftDatesMap.keySet()` and later on call in your loop `shiftDatesMap.get(accounts)` you execute an unnecessary `get` operation for each entry.  \r\nTry to read an understand [the description of the metioned code smell][1] from SonarQube.\r\n\r\nInstead you should use [`shiftDatesMap.entrySet()`][2] which gives you an Entry, i.e. as pair of the key and the value. So if you later on in your loop want to access the value for your given `accounts` key, you must only access the value from your entry, which is cheaper than calling a `get` operation on the map for each value.\r\n\r\nBefore:\r\n\r\n    for (String accounts : shiftDatesMap.keySet()) {\r\n        Set&lt;String&gt; shiftDates = shiftDatesMap.get(accounts); // unnecessary operation\r\n    }\r\n\r\nAfter:\r\n\r\n    for (Map.Entry&lt;String, Set&lt;String&gt;&gt; entry: shiftDatesMap.entrySet()) {\r\n        String accounts = entry.getKey();\r\n        Set&lt;String&gt; shiftDates = entry.getValue(); // access value for free without &#39;get&#39; on map\r\n   \r\n    }\r\n\r\n\r\n  [1]: https://rules.sonarsource.com/java/RSPEC-2864\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#entrySet()","title":"Iterate over the &quot;entrySet&quot; instead of &quot;keySet&quot;","body":"<p>If you iterate over <code>shiftDatesMap.keySet()</code> and later on call in your loop <code>shiftDatesMap.get(accounts)</code> you execute an unnecessary <code>get</code> operation for each entry.<br />\nTry to read an understand <a href=\"https://rules.sonarsource.com/java/RSPEC-2864\" rel=\"nofollow noreferrer\">the description of the metioned code smell</a> from SonarQube.</p>\n<p>Instead you should use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#entrySet()\" rel=\"nofollow noreferrer\"><code>shiftDatesMap.entrySet()</code></a> which gives you an Entry, i.e. as pair of the key and the value. So if you later on in your loop want to access the value for your given <code>accounts</code> key, you must only access the value from your entry, which is cheaper than calling a <code>get</code> operation on the map for each value.</p>\n<p>Before:</p>\n<pre><code>for (String accounts : shiftDatesMap.keySet()) {\n    Set&lt;String&gt; shiftDates = shiftDatesMap.get(accounts); // unnecessary operation\n}\n</code></pre>\n<p>After:</p>\n<pre><code>for (Map.Entry&lt;String, Set&lt;String&gt;&gt; entry: shiftDatesMap.entrySet()) {\n    String accounts = entry.getKey();\n    Set&lt;String&gt; shiftDates = entry.getValue(); // access value for free without 'get' on map\n\n}\n</code></pre>\n"}],"owner":{"account_id":27600859,"reputation":3,"user_id":21066109,"display_name":"user21066109"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1674490665,"accepted_answer_id":75210904,"answer_count":1,"score":-1,"last_activity_date":1674490709,"creation_date":1674483006,"question_id":75210680,"body_markdown":"I&#39;m scanning my code through SonarQube and it shows this code smell _&quot;Iterate over the &quot;entrySet&quot; instead of &quot;keySet&quot;&quot;_. I tried, but I can&#39;t figure it out.\r\n\r\nSample code:\r\n```java\r\npublic Set&lt;Date&gt; getAccountShiftDate(Map&lt;String, Set&lt;String&gt;&gt; shiftDatesMap, List&lt;Groups&gt; shiftSchedule) {\r\n\r\n    // set that has the account shift dates \r\n    Set&lt;Date&gt; accountShiftDatesTemplate = new Hashset&lt;&gt;();\r\n\r\n    // iterate on accounts\r\n    for (String accounts : shiftDatesMap.keySet()) {\r\n        //get group of an account\r\n        Optional &lt;Groups&gt; shiftOptional = shiftList\r\n                                             .stream()\r\n                                             .filter(g -&gt; StringUtils.equalsIgnoreCase(accounts,g.getLongName()))\r\n                                             .findFirst();\r\n        // ...\r\n```\r\n\r\nCan someone give me a reference to understand this.","title":"Iterate over the &quot;entrySet&quot; instead of &quot;keySet&quot;","body":"<p>I'm scanning my code through SonarQube and it shows this code smell <em>&quot;Iterate over the &quot;entrySet&quot; instead of &quot;keySet&quot;&quot;</em>. I tried, but I can't figure it out.</p>\n<p>Sample code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Set&lt;Date&gt; getAccountShiftDate(Map&lt;String, Set&lt;String&gt;&gt; shiftDatesMap, List&lt;Groups&gt; shiftSchedule) {\n\n    // set that has the account shift dates \n    Set&lt;Date&gt; accountShiftDatesTemplate = new Hashset&lt;&gt;();\n\n    // iterate on accounts\n    for (String accounts : shiftDatesMap.keySet()) {\n        //get group of an account\n        Optional &lt;Groups&gt; shiftOptional = shiftList\n                                             .stream()\n                                             .filter(g -&gt; StringUtils.equalsIgnoreCase(accounts,g.getLongName()))\n                                             .findFirst();\n        // ...\n</code></pre>\n<p>Can someone give me a reference to understand this.</p>\n"},{"tags":["java","jakarta-ee","jpa"],"comments":[{"owner":{"account_id":136194,"reputation":2562,"user_id":339545,"display_name":"LINEMAN78"},"score":6,"creation_date":1392153942,"post_id":21657978,"comment_id":32833368,"body_markdown":"Ensure that you are modifying something that is persisted to EntityA and therefore invalidates the state. If you change a transient it will not call preUpdate.","body":"Ensure that you are modifying something that is persisted to EntityA and therefore invalidates the state. If you change a transient it will not call preUpdate."}],"answers":[{"comments":[{"owner":{"account_id":1148819,"reputation":2299,"user_id":1130975,"accept_rate":32,"display_name":"kboom"},"score":0,"creation_date":1392017105,"post_id":21666525,"comment_id":32757566,"body_markdown":"So why PreUpdate callback isn&#39;t called? It&#39;s persisted in one transaction (then @PrePersist is called), and modified in the other (but then PreUpdate is not called).","body":"So why PreUpdate callback isn&#39;t called? It&#39;s persisted in one transaction (then @PrePersist is called), and modified in the other (but then PreUpdate is not called)."},{"owner":{"account_id":3090566,"reputation":11682,"user_id":2616755,"accept_rate":50,"display_name":"cmd"},"score":0,"creation_date":1392046782,"post_id":21666525,"comment_id":32775729,"body_markdown":"If you turn on tracing, do you see actual database update occur in the second transaction?","body":"If you turn on tracing, do you see actual database update occur in the second transaction?"},{"owner":{"account_id":1148819,"reputation":2299,"user_id":1130975,"accept_rate":32,"display_name":"kboom"},"score":0,"creation_date":1392060165,"post_id":21666525,"comment_id":32783978,"body_markdown":"Please see my updated question. It does not suggest anything is being updated... does it? And it surely is java-wise. Three fields that are mapped into the database are changed.","body":"Please see my updated question. It does not suggest anything is being updated... does it? And it surely is java-wise. Three fields that are mapped into the database are changed."},{"owner":{"account_id":3090566,"reputation":11682,"user_id":2616755,"accept_rate":50,"display_name":"cmd"},"score":0,"creation_date":1392153371,"post_id":21666525,"comment_id":32832993,"body_markdown":"i added some additional information to my answer that may help","body":"i added some additional information to my answer that may help"},{"owner":{"account_id":1148819,"reputation":2299,"user_id":1130975,"accept_rate":32,"display_name":"kboom"},"score":0,"creation_date":1393878255,"post_id":21666525,"comment_id":33623928,"body_markdown":"Didn&#39;t help. I&#39;d rather not use an extended persistence context.","body":"Didn&#39;t help. I&#39;d rather not use an extended persistence context."}],"tags":[],"owner":{"account_id":3090566,"reputation":11682,"user_id":2616755,"accept_rate":50,"display_name":"cmd"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1392092883,"creation_date":1391988376,"answer_id":21666525,"question_id":21657978,"body_markdown":"In the new transaction, `@PrePersist` would be called if you performed a `merge` to update `EntityA`&#39;s state. Simply modifying `EntityA`&#39;s persistent fields without a merge will not result in a call to `@PrePersist`\r\n\r\nIt is similar for `@PreUpdate`, however is not guaranteed that the `PreUpdate` callback is invoked when an entity is persisted and then modified in a single transaction (which is not the case in your example).\r\n\r\nIf you are using a *transaction-scoped container-managed entity manager*, then when a transaction ends, those entities become detached. This is likely what is happening when your first transaction completes. These detached entities  will continue to live outside of the persistence context in which they were persisted, however the state of those entities are **no longer** guaranteed to be synchronized with the database. To ensure their state is synchronized, you should perform a `merge` in your second transaction. This will cause the resulting entity to be managed by the persistence context and thus able to be synchronized with the database.\r\n\r\nIf you don&#39;t like this behavior you can choose to use an *extended persistence context*.","title":"JPA @PreUpdate is not called","body":"<p>In the new transaction, <code>@PrePersist</code> would be called if you performed a <code>merge</code> to update <code>EntityA</code>'s state. Simply modifying <code>EntityA</code>'s persistent fields without a merge will not result in a call to <code>@PrePersist</code></p>\n\n<p>It is similar for <code>@PreUpdate</code>, however is not guaranteed that the <code>PreUpdate</code> callback is invoked when an entity is persisted and then modified in a single transaction (which is not the case in your example).</p>\n\n<p>If you are using a <em>transaction-scoped container-managed entity manager</em>, then when a transaction ends, those entities become detached. This is likely what is happening when your first transaction completes. These detached entities  will continue to live outside of the persistence context in which they were persisted, however the state of those entities are <strong>no longer</strong> guaranteed to be synchronized with the database. To ensure their state is synchronized, you should perform a <code>merge</code> in your second transaction. This will cause the resulting entity to be managed by the persistence context and thus able to be synchronized with the database.</p>\n\n<p>If you don't like this behavior you can choose to use an <em>extended persistence context</em>.</p>\n"},{"tags":[],"owner":{"account_id":83518,"reputation":6215,"user_id":234110,"accept_rate":67,"display_name":"Anand Rockzz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674490457,"creation_date":1674490457,"answer_id":75212186,"question_id":21657978,"body_markdown":"In my case `@Transactional` &amp; `@Modifying` were missing in Service layer update method.","title":"JPA @PreUpdate is not called","body":"<p>In my case <code>@Transactional</code> &amp; <code>@Modifying</code> were missing in Service layer update method.</p>\n"}],"owner":{"account_id":1148819,"reputation":2299,"user_id":1130975,"accept_rate":32,"display_name":"kboom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16279,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1674490457,"creation_date":1391942020,"question_id":21657978,"body_markdown":"Could someone explain to me the reason of the following behavior?\r\n\r\n`EntityA` is being first created and then persisted using `em.persist(..)` method. `@PrePersist` callback is executed before the transaction ends. It works fine.\r\n\r\nIn the new transaction `EntityA` is obtained using em query. Then, some operations modifying its persistable fields are executed and this transaction ends. But on `em.flush()`, the `@PreUpdate` method is never called nor is `@PrePersist` (the latter I anticipated). Why? \r\n\r\n**// EDIT**\r\n\r\nThat&#39;s the trace just before failure. &quot;Done materializing entity&quot; is the effect of the first operation in the transaction that fails.\r\n\r\n    DEBUG: org.hibernate.engine.internal.TwoPhaseLoad - Done materializing entity [com.example.entity#1]\r\n    DEBUG: org.hibernate.event.internal.AbstractFlushingEventListener - Processing flush-time cascades\r\n    DEBUG: org.hibernate.ejb.AbstractEntityManagerImpl - Mark transaction for rollback\r\n    DEBUG: org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback\r\n    DEBUG: org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [org.hibernate.ejb.EntityManagerImpl@341a736]\r\n    DEBUG: org.hibernate.engine.transaction.spi.AbstractTransactionImpl - rolling back\r\n    DEBUG: org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction - rolled JDBC Connection\r\n\r\nThanks!","title":"JPA @PreUpdate is not called","body":"<p>Could someone explain to me the reason of the following behavior?</p>\n\n<p><code>EntityA</code> is being first created and then persisted using <code>em.persist(..)</code> method. <code>@PrePersist</code> callback is executed before the transaction ends. It works fine.</p>\n\n<p>In the new transaction <code>EntityA</code> is obtained using em query. Then, some operations modifying its persistable fields are executed and this transaction ends. But on <code>em.flush()</code>, the <code>@PreUpdate</code> method is never called nor is <code>@PrePersist</code> (the latter I anticipated). Why? </p>\n\n<p><strong>// EDIT</strong></p>\n\n<p>That's the trace just before failure. \"Done materializing entity\" is the effect of the first operation in the transaction that fails.</p>\n\n<pre><code>DEBUG: org.hibernate.engine.internal.TwoPhaseLoad - Done materializing entity [com.example.entity#1]\nDEBUG: org.hibernate.event.internal.AbstractFlushingEventListener - Processing flush-time cascades\nDEBUG: org.hibernate.ejb.AbstractEntityManagerImpl - Mark transaction for rollback\nDEBUG: org.springframework.orm.jpa.JpaTransactionManager - Initiating transaction rollback\nDEBUG: org.springframework.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [org.hibernate.ejb.EntityManagerImpl@341a736]\nDEBUG: org.hibernate.engine.transaction.spi.AbstractTransactionImpl - rolling back\nDEBUG: org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction - rolled JDBC Connection\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","amazon-dynamodb","dynamodb-queries"],"comments":[{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1674488582,"post_id":75211535,"comment_id":132719279,"body_markdown":"Can you first state what is your tables partition and sort key. Also share the values you have to make the request. I know what you need to do but I need more info to explain it more clearly to you.","body":"Can you first state what is your tables partition and sort key. Also share the values you have to make the request. I know what you need to do but I need more info to explain it more clearly to you."},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1674490437,"post_id":75211535,"comment_id":132719910,"body_markdown":"I edited the question and provided the table details. Can you please help now?","body":"I edited the question and provided the table details. Can you please help now?"},{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1674492552,"post_id":75211535,"comment_id":132720627,"body_markdown":"my answer below should work for you","body":"my answer below should work for you"}],"answers":[{"tags":[],"owner":{"account_id":9225176,"reputation":1092,"user_id":6853216,"display_name":"Brian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674488668,"creation_date":1674488668,"answer_id":75211781,"question_id":75211535,"body_markdown":"If you only know the beginning of the sort key, you can use `BEGINS_WITH` query.\r\n\r\n```\r\naws dynamodb query \\\r\n    --table-name TABLE \\\r\n    --key-condition-expression &quot;Id = :id and begins_with(Key, :key)&quot; \\\r\n    --expression-attribute-values &#39;{&quot;:id&quot;:{&quot;S&quot;:&quot;1&quot;}, &quot;:key&quot;:{&quot;S&quot;:&quot;KEY-BEGINNING&quot;}}&#39;\r\n```\r\n\r\nYou need to provide the primary key and the beginning of the sort key for this query.\r\n\r\nSee [Key condition expressions for query](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.html#Query.KeyConditionExpressions)","title":"Retrieve Data from DynamoDB if complete sort key not known","body":"<p>If you only know the beginning of the sort key, you can use <code>BEGINS_WITH</code> query.</p>\n<pre><code>aws dynamodb query \\\n    --table-name TABLE \\\n    --key-condition-expression &quot;Id = :id and begins_with(Key, :key)&quot; \\\n    --expression-attribute-values '{&quot;:id&quot;:{&quot;S&quot;:&quot;1&quot;}, &quot;:key&quot;:{&quot;S&quot;:&quot;KEY-BEGINNING&quot;}}'\n</code></pre>\n<p>You need to provide the primary key and the beginning of the sort key for this query.</p>\n<p>See <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.html#Query.KeyConditionExpressions\" rel=\"nofollow noreferrer\">Key condition expressions for query</a></p>\n"},{"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674489717,"creation_date":1674489717,"answer_id":75212007,"question_id":75211535,"body_markdown":"You need to use [`QueryConditional`](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/model/QueryConditional.html) with [`sortBeginsWith()`](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/model/QueryConditional.html#sortBeginsWith(software.amazon.awssdk.enhanced.dynamodb.Key)):\r\n\r\nFor example, imagine you have the following information\r\n\r\npartition key `pk` = `&quot;key#23456&quot;`\r\n\r\nsort key `sk` begins with `&quot;abcd&quot;`\r\n\r\nyou are unsure of the remainder of the sort key:\r\n\r\n```\r\n        QueryConditional condition = QueryConditional.sortBeginsWith(\r\n                Key.builder()\r\n                        .partitionValue(&quot;key#23456&quot;)\r\n                        .sortValue(&quot;abcd&quot;)\r\n                        .build()\r\n        );\r\n\r\n        QueryEnhancedRequest request = QueryEnhancedRequest.builder()\r\n                .queryConditional(condition)\r\n                .build();\r\n\r\n\r\n        table.query(request);\r\n\r\n```","title":"Retrieve Data from DynamoDB if complete sort key not known","body":"<p>You need to use <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/model/QueryConditional.html\" rel=\"nofollow noreferrer\"><code>QueryConditional</code></a> with <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/model/QueryConditional.html#sortBeginsWith(software.amazon.awssdk.enhanced.dynamodb.Key)\" rel=\"nofollow noreferrer\"><code>sortBeginsWith()</code></a>:</p>\n<p>For example, imagine you have the following information</p>\n<p>partition key <code>pk</code> = <code>&quot;key#23456&quot;</code></p>\n<p>sort key <code>sk</code> begins with <code>&quot;abcd&quot;</code></p>\n<p>you are unsure of the remainder of the sort key:</p>\n<pre><code>        QueryConditional condition = QueryConditional.sortBeginsWith(\n                Key.builder()\n                        .partitionValue(&quot;key#23456&quot;)\n                        .sortValue(&quot;abcd&quot;)\n                        .build()\n        );\n\n        QueryEnhancedRequest request = QueryEnhancedRequest.builder()\n                .queryConditional(condition)\n                .build();\n\n\n        table.query(request);\n\n</code></pre>\n"}],"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75212007,"answer_count":2,"score":1,"last_activity_date":1674490406,"creation_date":1674487266,"question_id":75211535,"body_markdown":"I am new to DyanmoDB. I am creating partition key and sort key when pushing data into DynamoDb but when i want to retrieve the data i have the partition key but not the complete sort key. I know the beginning of the sort key but not the complete key.&lt;br /&gt;\r\n\r\n    table.query(QueryEnhancedRequest.builder().queryConditional(QueryConditional.keyEqualTo(Key.builder().partitionValue(&quot;KEY#&quot; + id).build())).build())  \r\nBelow are the tables partition and sort key:\r\n\r\n    private static final String TEMPLATE = &quot;%s#%s&quot;;    \r\n    @DynamoDbPartitionKey\r\n          @Override\r\n          public String getPk() {\r\n            return String.format(TEMPLATE, &quot;KEY&quot;, getId());\r\n          }\r\n        \r\n          @DynamoDbSortKey\r\n          @Override\r\n          public String getSk() {\r\n            return String.format(TEMPLATE, &quot;KEY_SORT&quot;, getName());\r\n          }\r\n\r\n I used what i provided above but its showing this error:\r\nThe provided key element does not match the schema (Service: DynamoDb, Status Code: 400, Request ID: response id)&lt;br/&gt;\r\nAfter looking into the issue i found out that key should be the combination of partition and sort key. But the issue is i don&#39;t know the complete sort key for the second request.","title":"Retrieve Data from DynamoDB if complete sort key not known","body":"<p>I am new to DyanmoDB. I am creating partition key and sort key when pushing data into DynamoDb but when i want to retrieve the data i have the partition key but not the complete sort key. I know the beginning of the sort key but not the complete key.<br /></p>\n<pre><code>table.query(QueryEnhancedRequest.builder().queryConditional(QueryConditional.keyEqualTo(Key.builder().partitionValue(&quot;KEY#&quot; + id).build())).build())  \n</code></pre>\n<p>Below are the tables partition and sort key:</p>\n<pre><code>private static final String TEMPLATE = &quot;%s#%s&quot;;    \n@DynamoDbPartitionKey\n      @Override\n      public String getPk() {\n        return String.format(TEMPLATE, &quot;KEY&quot;, getId());\n      }\n    \n      @DynamoDbSortKey\n      @Override\n      public String getSk() {\n        return String.format(TEMPLATE, &quot;KEY_SORT&quot;, getName());\n      }\n</code></pre>\n<p>I used what i provided above but its showing this error:\nThe provided key element does not match the schema (Service: DynamoDb, Status Code: 400, Request ID: response id)<br/>\nAfter looking into the issue i found out that key should be the combination of partition and sort key. But the issue is i don't know the complete sort key for the second request.</p>\n"},{"tags":["java","jpa"],"answers":[{"comments":[{"owner":{"account_id":273777,"reputation":2483,"user_id":565605,"accept_rate":88,"display_name":"reen"},"score":0,"creation_date":1301901632,"post_id":5535372,"comment_id":6290578,"body_markdown":"I want to use the like operator with an integer. For the query 2% I want all values like 2, 20, 21, 222, etc... Thats why I tried to convert the Integer to String.","body":"I want to use the like operator with an integer. For the query 2% I want all values like 2, 20, 21, 222, etc... Thats why I tried to convert the Integer to String."}],"tags":[],"owner":{"account_id":271663,"reputation":749,"user_id":562319,"display_name":"Twister"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301899697,"creation_date":1301899697,"answer_id":5535372,"question_id":5535084,"body_markdown":"My guess : you are trying to put a String in integerId which is a Integer.\r\n\r\nMoreover, a like on an integer value is not possible.\r\n\r\nChange your String.class to Integer.class. and &quot;2%&quot; by an integer value","title":"JPA Like Operator with Integer","body":"<p>My guess : you are trying to put a String in integerId which is a Integer.</p>\n\n<p>Moreover, a like on an integer value is not possible.</p>\n\n<p>Change your String.class to Integer.class. and \"2%\" by an integer value</p>\n"},{"comments":[{"owner":{"account_id":273777,"reputation":2483,"user_id":565605,"accept_rate":88,"display_name":"reen"},"score":0,"creation_date":1301981517,"post_id":5539059,"comment_id":6306704,"body_markdown":"Thanks a lot. I was testing with the derby db. So I will check it with our production db (postgres).","body":"Thanks a lot. I was testing with the derby db. So I will check it with our production db (postgres)."}],"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1301923172,"creation_date":1301923172,"answer_id":5539059,"question_id":5535084,"body_markdown":"JPA does not support like() with Integers, only Strings.  Some databases do support like with integer and others do not.\r\n\r\nEclipseLink should allow usage of like() with Integer (provided your database supports it).  What version are you using?  May need to use &gt;= 2.1.  If it fails on the latest version, then please log a bug.\r\n\r\nYou can also convert the integer to a string using a &quot;CHAR, &quot;TO_CHAR&quot; or &quot;CONVERT&quot; function depending on your database.  The criteria API supports a function() API to call a native function.\r\n\r\nNote that the as() API is not intended for converting from Integer to String, it is for casting to a subclass entity.\r\n","title":"JPA Like Operator with Integer","body":"<p>JPA does not support like() with Integers, only Strings.  Some databases do support like with integer and others do not.</p>\n\n<p>EclipseLink should allow usage of like() with Integer (provided your database supports it).  What version are you using?  May need to use >= 2.1.  If it fails on the latest version, then please log a bug.</p>\n\n<p>You can also convert the integer to a string using a \"CHAR, \"TO_CHAR\" or \"CONVERT\" function depending on your database.  The criteria API supports a function() API to call a native function.</p>\n\n<p>Note that the as() API is not intended for converting from Integer to String, it is for casting to a subclass entity.</p>\n"},{"tags":[],"owner":{"account_id":1297296,"reputation":1073,"user_id":1248025,"display_name":"Kaalras"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337170598,"creation_date":1337170598,"answer_id":10618327,"question_id":5535084,"body_markdown":"I have faced the same issue. I use JPA2.0 and EclipseLink 2.3 as implementation.\r\n\r\nThe column *codeClient* is actually an Integer in my DataBase.\r\n\r\nThe annotation @Convert simply convert my Integer column to a String column.\r\n\r\nIn that way i can use a like predicate over numbers.\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;COLIS_SO_VM&quot;)\r\n    public class Colis implements Serializable {\r\n       \r\n        ...\r\n    \r\n  \t    @Convert\r\n    \tprivate String codeClient;\r\n\r\n        ...\r\n    }\r\n\r\nI know this is an old post but if it can help someone else !","title":"JPA Like Operator with Integer","body":"<p>I have faced the same issue. I use JPA2.0 and EclipseLink 2.3 as implementation.</p>\n\n<p>The column <em>codeClient</em> is actually an Integer in my DataBase.</p>\n\n<p>The annotation @Convert simply convert my Integer column to a String column.</p>\n\n<p>In that way i can use a like predicate over numbers.</p>\n\n<pre><code>@Entity\n@Table(name=\"COLIS_SO_VM\")\npublic class Colis implements Serializable {\n\n    ...\n\n    @Convert\n    private String codeClient;\n\n    ...\n}\n</code></pre>\n\n<p>I know this is an old post but if it can help someone else !</p>\n"},{"tags":[],"owner":{"account_id":7640648,"reputation":1958,"user_id":5792859,"accept_rate":50,"display_name":"mibrahim.iti"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1488957426,"creation_date":1488957426,"answer_id":42665206,"question_id":5535084,"body_markdown":"Here are example of how it work with JPA, so u can use LIKE with integer inside your JPQL.\r\n\r\n    public List&lt;MyEntity&gt; getMyEntities(String idStr) {\r\n       return entityManager.createQuery(&quot;SELECT m FROM MyEntity m WHERE CAST( m.id AS string ) LIKE :idStr&quot;)\r\n             .setParameter(&quot;idStr&quot;, &quot;%&quot; + idStr+ &quot;%&quot;).getResultList();\r\n    }\r\n\r\n&gt; Note: i tested it and worked fine with me, i am using JPA 2.1 with\r\n&gt; Hibernate provider.","title":"JPA Like Operator with Integer","body":"<p>Here are example of how it work with JPA, so u can use LIKE with integer inside your JPQL.</p>\n\n<pre><code>public List&lt;MyEntity&gt; getMyEntities(String idStr) {\n   return entityManager.createQuery(\"SELECT m FROM MyEntity m WHERE CAST( m.id AS string ) LIKE :idStr\")\n         .setParameter(\"idStr\", \"%\" + idStr+ \"%\").getResultList();\n}\n</code></pre>\n\n<blockquote>\n  <p>Note: i tested it and worked fine with me, i am using JPA 2.1 with\n  Hibernate provider.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1986826,"reputation":2226,"user_id":4175822,"display_name":"spacether"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674490313,"creation_date":1674158500,"answer_id":75177664,"question_id":5535084,"body_markdown":"One can do this by converting the integer to a string using `cast` and then using `like` matching.\r\n\r\nThe below query counts records where an integer receiverUserId matches a numeric substring:\r\n\r\n`\r\n@Query(&quot;select count(s.id) from SupportCouponInfo s where cast(s.receiverUserId as string) like concat(&#39;%&#39;,:numericSubstring,&#39;%&#39;)&quot;)\r\nfun countByReceiverUserIdContaining(numericSubstring: String): Long\r\n`","title":"JPA Like Operator with Integer","body":"<p>One can do this by converting the integer to a string using <code>cast</code> and then using <code>like</code> matching.</p>\n<p>The below query counts records where an integer receiverUserId matches a numeric substring:</p>\n<p><code>@Query(&quot;select count(s.id) from SupportCouponInfo s where cast(s.receiverUserId as string) like concat('%',:numericSubstring,'%')&quot;) fun countByReceiverUserIdContaining(numericSubstring: String): Long</code></p>\n"}],"owner":{"account_id":273777,"reputation":2483,"user_id":565605,"accept_rate":88,"display_name":"reen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15002,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":5539059,"answer_count":5,"score":6,"last_activity_date":1674490313,"creation_date":1301897136,"question_id":5535084,"body_markdown":"Can someone tell me, why this is not working:\r\n\r\n    criteria.add(cb.like((myentity.&lt;Integer&gt;get(&quot;integerid&quot;)).as(String.class), &quot;2%&quot;))\r\n\r\nI get the following error:\r\n\r\n    The object [2%], of class [class java.lang.String], from mapping [org.eclipse.persistence.mappings.DirectToFieldMapping[integerid--&gt;MYENTITY.INTEGERID]] with descriptor [RelationalDescriptor(org.example.model.MyEntity --&gt; [DatabaseTable(MYENTITY)])], could not be converted to [class java.lang.Integer]\r\n\r\nIs the only solution to change the `myinteger` property to a string in the model, in order that I can use the `like` operator?\r\n\r\nBR","title":"JPA Like Operator with Integer","body":"<p>Can someone tell me, why this is not working:</p>\n\n<pre><code>criteria.add(cb.like((myentity.&lt;Integer&gt;get(\"integerid\")).as(String.class), \"2%\"))\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>The object [2%], of class [class java.lang.String], from mapping [org.eclipse.persistence.mappings.DirectToFieldMapping[integerid--&gt;MYENTITY.INTEGERID]] with descriptor [RelationalDescriptor(org.example.model.MyEntity --&gt; [DatabaseTable(MYENTITY)])], could not be converted to [class java.lang.Integer]\n</code></pre>\n\n<p>Is the only solution to change the <code>myinteger</code> property to a string in the model, in order that I can use the <code>like</code> operator?</p>\n\n<p>BR</p>\n"},{"tags":["java","spring","kubernetes","memory-leaks","out-of-memory"],"comments":[{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":0,"creation_date":1674053904,"post_id":75160702,"comment_id":132633287,"body_markdown":"Beside it&#39;s a common error, it&#39;s impossible to answer this question without more detailled metrics/source code and/or infrastructure details... A minimal runnable example to reproduce the error is required.","body":"Beside it&#39;s a common error, it&#39;s impossible to answer this question without more detailled metrics/source code and/or infrastructure details... A minimal runnable example to reproduce the error is required."},{"owner":{"account_id":17332701,"reputation":86,"user_id":12555370,"display_name":"Artique"},"score":0,"creation_date":1674134885,"post_id":75160702,"comment_id":132652942,"body_markdown":"@1C1B That&#39;s the thing I&#39;m struggling over right now - trying to reproduce it and understand what happens there. Without any result so far, I&#39;ll post updates if there will be something. Do you know by any chance some tools that can help me out with that? We have Instana setup but it&#39;s not much helpful in that specific case...","body":"@1C1B That&#39;s the thing I&#39;m struggling over right now - trying to reproduce it and understand what happens there. Without any result so far, I&#39;ll post updates if there will be something. Do you know by any chance some tools that can help me out with that? We have Instana setup but it&#39;s not much helpful in that specific case..."}],"answers":[{"tags":[],"owner":{"account_id":17332701,"reputation":86,"user_id":12555370,"display_name":"Artique"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674490186,"creation_date":1674490186,"answer_id":75212130,"question_id":75160702,"body_markdown":"We were able to catch metrics at the time when it&#39;s happening. Turned out, that memory limits were misconfigured in helm charts and default values were taken by JVM. This leaded to situtation when JVM had a lot (around 3GB) memory allocated but only used some (150MB). So our K8s node was experiencing some memory starvation at the time when it was running lots of in the mode like that mode.\r\n\r\nAnd yes, Instana turned out to be quite helpful tool to debug that. See metrics listed below:\r\n[![Memory consumption][1]][1]\r\n[![JVM memory metrics][2]][2]\r\n[![JVM memory configs][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T4PgY.png\r\n  [2]: https://i.stack.imgur.com/OEDMr.png\r\n  [3]: https://i.stack.imgur.com/F2xb3.png","title":"Why does containerized Spring Application allocates too much memory in Kubernetes Cluster?","body":"<p>We were able to catch metrics at the time when it's happening. Turned out, that memory limits were misconfigured in helm charts and default values were taken by JVM. This leaded to situtation when JVM had a lot (around 3GB) memory allocated but only used some (150MB). So our K8s node was experiencing some memory starvation at the time when it was running lots of in the mode like that mode.</p>\n<p>And yes, Instana turned out to be quite helpful tool to debug that. See metrics listed below:\n<a href=\"https://i.stack.imgur.com/T4PgY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T4PgY.png\" alt=\"Memory consumption\" /></a>\n<a href=\"https://i.stack.imgur.com/OEDMr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OEDMr.png\" alt=\"JVM memory metrics\" /></a>\n<a href=\"https://i.stack.imgur.com/F2xb3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F2xb3.png\" alt=\"JVM memory configs\" /></a></p>\n"}],"owner":{"account_id":17332701,"reputation":86,"user_id":12555370,"display_name":"Artique"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75212130,"answer_count":1,"score":1,"last_activity_date":1674490255,"creation_date":1674051788,"question_id":75160702,"body_markdown":"I have an issue that some of our microservices have a memory allocation spike that triggers an OOMKiller Kubernetes event.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n[![Instana incident page](https://i.stack.imgur.com/8bBNc.png)](https://i.stack.imgur.com/8bBNc.png)\r\n\r\nThe issue doesn&#39;t happen that often but enought to be noticed.\r\nThe service is not doing anything crazy at the moment when it&#39;s happening, just normal load.\r\nAlso, interesting fact that memory doesn&#39;t gradually increase, on the contrary - it&#39;s like a sudden explosion.\r\n\r\nI also did some deep analysis on what apps are doing at the time of mem explosion - all seem normal to be normal which is why I don&#39;t think it&#39;s some problem or memory leak in the code. Plus same behaviour happens across different services that are not connected with each other in almost any way. Also, i most of the cases after restarting service proceeding with the work where it was left off. Which is why I&#39;m leaning towards the idea that it&#39;s some kind of Framework or Software problem.\r\n\r\n**More on the setup**:\r\n- Spring Boot (2.4.x - 2.5.x). Different stacks(Web and WebFlux) and dependencies (Spring Cloud, Spring Kafka, ElasticSearch, Postgres, etc) are used accross microservices. \r\n- Java 11 (latest OpenJDK image)\r\n- The apps are running on one of the newest versions of Kubernetes cluster(AKS).\r\n- Before we had no resource limits implemented for microservices. So in case of an incident, we had an infinite memory allocation until it eats all of the memory of K8S node which forces everything to get down &amp; restart.\r\nCurrently we have resource limits for pods implemented to avoid that behaviour.\r\n\r\n\r\n**Questions**:\r\n1) I&#39;m wondering if it&#39;s a JVM/Spring issue / memory leak. Maybe someone had a similar experience?\r\n2) Are there any tools / approaches you can recommend to take a snapshot of the pod before it&#39;s getting killed to have an ability to analyze that later?\r\n\r\n","title":"Why does containerized Spring Application allocates too much memory in Kubernetes Cluster?","body":"<p>I have an issue that some of our microservices have a memory allocation spike that triggers an OOMKiller Kubernetes event.</p>\n<p><a href=\"https://i.stack.imgur.com/8bBNc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8bBNc.png\" alt=\"Instana incident page\" /></a></p>\n<p>The issue doesn't happen that often but enought to be noticed.\nThe service is not doing anything crazy at the moment when it's happening, just normal load.\nAlso, interesting fact that memory doesn't gradually increase, on the contrary - it's like a sudden explosion.</p>\n<p>I also did some deep analysis on what apps are doing at the time of mem explosion - all seem normal to be normal which is why I don't think it's some problem or memory leak in the code. Plus same behaviour happens across different services that are not connected with each other in almost any way. Also, i most of the cases after restarting service proceeding with the work where it was left off. Which is why I'm leaning towards the idea that it's some kind of Framework or Software problem.</p>\n<p><strong>More on the setup</strong>:</p>\n<ul>\n<li>Spring Boot (2.4.x - 2.5.x). Different stacks(Web and WebFlux) and dependencies (Spring Cloud, Spring Kafka, ElasticSearch, Postgres, etc) are used accross microservices.</li>\n<li>Java 11 (latest OpenJDK image)</li>\n<li>The apps are running on one of the newest versions of Kubernetes cluster(AKS).</li>\n<li>Before we had no resource limits implemented for microservices. So in case of an incident, we had an infinite memory allocation until it eats all of the memory of K8S node which forces everything to get down &amp; restart.\nCurrently we have resource limits for pods implemented to avoid that behaviour.</li>\n</ul>\n<p><strong>Questions</strong>:</p>\n<ol>\n<li>I'm wondering if it's a JVM/Spring issue / memory leak. Maybe someone had a similar experience?</li>\n<li>Are there any tools / approaches you can recommend to take a snapshot of the pod before it's getting killed to have an ability to analyze that later?</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1674489858,"post_id":75212046,"comment_id":132719729,"body_markdown":"It means you have to assign the result of that call to a variable, otherwise you&#39;re doing nothing with what is returned by the method you&#39;re calling.","body":"It means you have to assign the result of that call to a variable, otherwise you&#39;re doing nothing with what is returned by the method you&#39;re calling."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1674489873,"post_id":75212046,"comment_id":132719736,"body_markdown":"What is unclear about sonar&#39;s message?","body":"What is unclear about sonar&#39;s message?"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1674490143,"post_id":75212046,"comment_id":132719814,"body_markdown":"sonarqube also provides example of what to do to fix the issue","body":"sonarqube also provides example of what to do to fix the issue"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674489987,"creation_date":1674489987,"answer_id":75212087,"question_id":75212046,"body_markdown":"`format` is not mutating the Date, but rater returns a new String with the provided pattern. Sonarqube is telling you, that you do nothing with the return value. So either assign it to a variable, which you will use or remove the invocations altogether.","title":"Why does SonarQube report: The return value of &quot;format&quot; must be used","body":"<p><code>format</code> is not mutating the Date, but rater returns a new String with the provided pattern. Sonarqube is telling you, that you do nothing with the return value. So either assign it to a variable, which you will use or remove the invocations altogether.</p>\n"}],"owner":{"account_id":27600859,"reputation":3,"user_id":21066109,"display_name":"user21066109"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1674510201,"accepted_answer_id":75212087,"answer_count":1,"score":-5,"last_activity_date":1674490133,"creation_date":1674489807,"question_id":75212046,"body_markdown":"I&#39;m getting this code smell in SonarQube _&quot;the return value of &quot;format&quot; must be used&quot;_.\r\n\r\nSample code: \r\n\r\n    ShiftStartDate.format(DateTimeFormatter.ofPattern(&quot;MMddyyy&quot;)\r\n    ShiftEndDate.format(DateTimeFormatter.ofPattern(&quot;MMddyyyy&quot;)):\r\n\r\nI tried, but I&#39;m not sure what to return.","title":"Why does SonarQube report: The return value of &quot;format&quot; must be used","body":"<p>I'm getting this code smell in SonarQube <em>&quot;the return value of &quot;format&quot; must be used&quot;</em>.</p>\n<p>Sample code:</p>\n<pre><code>ShiftStartDate.format(DateTimeFormatter.ofPattern(&quot;MMddyyy&quot;)\nShiftEndDate.format(DateTimeFormatter.ofPattern(&quot;MMddyyyy&quot;)):\n</code></pre>\n<p>I tried, but I'm not sure what to return.</p>\n"},{"tags":["java","multithreading","java.util.concurrent","completable-future"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1609983660,"post_id":65605550,"comment_id":115993310,"body_markdown":"Why wouldn&#39;t you expect it to get run?","body":"Why wouldn&#39;t you expect it to get run?"},{"owner":{"account_id":15969521,"reputation":243,"user_id":11524087,"display_name":"SangHoon Lee"},"score":2,"creation_date":1609984006,"post_id":65605550,"comment_id":115993371,"body_markdown":"@LouisWasserman There was nothing in the material I learned that I didn&#39;t write them down. So I expected that it would not work. Like the Terminal Operations of Stream Api.","body":"@LouisWasserman There was nothing in the material I learned that I didn&#39;t write them down. So I expected that it would not work. Like the Terminal Operations of Stream Api."},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":5,"creation_date":1609984902,"post_id":65605550,"comment_id":115993517,"body_markdown":"@LouisWasserman With designs like Reactive Streams being commonplace, it&#39;s not always obvious to beginners the difference between &quot;push&quot; and &quot;pull&quot; approaches.","body":"@LouisWasserman With designs like Reactive Streams being commonplace, it&#39;s not always obvious to beginners the difference between &quot;push&quot; and &quot;pull&quot; approaches."},{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":1,"creation_date":1609984949,"post_id":65605550,"comment_id":115993524,"body_markdown":"Great question. Other examples of &quot;pull&quot; behavior: In Python, a generator doesn&#39;t actually do anything until it is executed. If you create a generator but don&#39;t run it, nothing happens. The same goes for futures in Rust. They only run when you `.await` them.","body":"Great question. Other examples of &quot;pull&quot; behavior: In Python, a generator doesn&#39;t actually do anything until it is executed. If you create a generator but don&#39;t run it, nothing happens. The same goes for futures in Rust. They only run when you <code>.await</code> them."},{"owner":{"account_id":15969521,"reputation":243,"user_id":11524087,"display_name":"SangHoon Lee"},"score":0,"creation_date":1609985807,"post_id":65605550,"comment_id":115993689,"body_markdown":"@chrylis-cautiouslyoptimistic- That&#39;s right. I didn&#39;t understand the &quot;pull&quot; and &quot;push&quot; method. Let&#39;s learn about these two concepts. Thank you.","body":"@chrylis-cautiouslyoptimistic- That&#39;s right. I didn&#39;t understand the &quot;pull&quot; and &quot;push&quot; method. Let&#39;s learn about these two concepts. Thank you."},{"owner":{"account_id":15969521,"reputation":243,"user_id":11524087,"display_name":"SangHoon Lee"},"score":0,"creation_date":1609985940,"post_id":65605550,"comment_id":115993714,"body_markdown":"@JohnKugelman I thought it was done when I called get or join. Thank you for your good answer.","body":"@JohnKugelman I thought it was done when I called get or join. Thank you for your good answer."}],"answers":[{"comments":[{"owner":{"account_id":15969521,"reputation":243,"user_id":11524087,"display_name":"SangHoon Lee"},"score":0,"creation_date":1609984724,"post_id":65605629,"comment_id":115993500,"body_markdown":"Okay, thank you. Then does the runnable code that used get() or not work?","body":"Okay, thank you. Then does the runnable code that used get() or not work?"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1609984801,"post_id":65605629,"comment_id":115993507,"body_markdown":"@SangHoonLee In the second example, it won&#39;t work as it didn&#39;t have enough time to finish. get() just guarantees the caller thread to block until the runnable has finished. Without it, is just an async process, so the main thread won&#39;t wait for it: it will just call it and continue its process.","body":"@SangHoonLee In the second example, it won&#39;t work as it didn&#39;t have enough time to finish. get() just guarantees the caller thread to block until the runnable has finished. Without it, is just an async process, so the main thread won&#39;t wait for it: it will just call it and continue its process."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1609990112,"post_id":65605629,"comment_id":115994465,"body_markdown":"_Not even the runnable&#39;s sleep would be able to finish sleeping_. this is not entirely correct. Just change it to `CompletableFuture.runAsync(() -&gt; {\n            try {\n                Thread.sleep(1_000L);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            System.out.println(&quot;Hello&quot;);\n        }, Executors.newSingleThreadExecutor());` and see what happens.","body":"<i>Not even the runnable&#39;s sleep would be able to finish sleeping</i>. this is not entirely correct. Just change it to <code>CompletableFuture.runAsync(() -&gt; {             try {                 Thread.sleep(1_000L);             } catch (InterruptedException e) {                 e.printStackTrace();             }             System.out.println(&quot;Hello&quot;);         }, Executors.newSingleThreadExecutor());</code> and see what happens."},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1609990161,"post_id":65605629,"comment_id":115994473,"body_markdown":"Totally true, wrote that because in this case the async is executed without an specific executor, so it uses the forkJoinPool. But you are right there, so I&#39;ll edit that part to avoid confusion","body":"Totally true, wrote that because in this case the async is executed without an specific executor, so it uses the forkJoinPool. But you are right there, so I&#39;ll edit that part to avoid confusion"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1609990255,"post_id":65605629,"comment_id":115994489,"body_markdown":"@Eugene this is a doubt that just hammered me now... how is the &quot;false&quot; async behaviour happen in this cases? Is just a &quot;shallow&quot; thread?","body":"@Eugene this is a doubt that just hammered me now... how is the &quot;false&quot; async behaviour happen in this cases? Is just a &quot;shallow&quot; thread?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1609990343,"post_id":65605629,"comment_id":115994497,"body_markdown":"where does `runAsync` executes _without_ an executor being specified?","body":"where does <code>runAsync</code> executes <i>without</i> an executor being specified?"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1609990800,"post_id":65605629,"comment_id":115994558,"body_markdown":"*ForkJoinTask is a thread-like entity that is much lighter weight than a normal thread*. But the singleThreadExecutor would create a &quot;real&quot; thread. --&gt;am I going in the correct path? Im intrigued now, seriously","body":"<i>ForkJoinTask is a thread-like entity that is much lighter weight than a normal thread</i>. But the singleThreadExecutor would create a &quot;real&quot; thread. --&gt;am I going in the correct path? Im intrigued now, seriously"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1609992309,"post_id":65605629,"comment_id":115994792,"body_markdown":"The forkJoinPool would create Daemon threads, which  are low priority threads. Threads such as created on the newSingleThreadExecutor, on the other hand, are high priority. So even if the main process is stopped, the high priority threads would continue its execution. (and if you can&#39;t stop them later they become zombie threads)","body":"The forkJoinPool would create Daemon threads, which  are low priority threads. Threads such as created on the newSingleThreadExecutor, on the other hand, are high priority. So even if the main process is stopped, the high priority threads would continue its execution. (and if you can&#39;t stop them later they become zombie threads)"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1609992605,"post_id":65605629,"comment_id":115994841,"body_markdown":"*JVM will wait for all active user threads to finish their execution before it shutdown itself. On the other hand, a daemon thread doesn&#39;t get that preference, JVM will exit and close the Java program even if there is a daemon thread running in the background.* --  yay?","body":"<i>JVM will wait for all active user threads to finish their execution before it shutdown itself. On the other hand, a daemon thread doesn&#39;t get that preference, JVM will exit and close the Java program even if there is a daemon thread running in the background.</i> --  yay?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1609992634,"post_id":65605629,"comment_id":115994843,"body_markdown":"it seems you confuse a lot of notions here, when the reality is that this is simple. I would suggest you read what a daemon thread is (it isn&#39;t a _low priority thread_). Priority for threads is an entirely different thing.","body":"it seems you confuse a lot of notions here, when the reality is that this is simple. I would suggest you read what a daemon thread is (it isn&#39;t a <i>low priority thread</i>). Priority for threads is an entirely different thing."},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1609992772,"post_id":65605629,"comment_id":115994868,"body_markdown":"Okay, true. Not to confuse with the priority levels of threads. The term &quot;low priority&quot; for the context is *&quot;even if you are running, you stop here once the main thread finishes&quot;*. My bad for using that term when there&#39;s another specification for priority regarding threads","body":"Okay, true. Not to confuse with the priority levels of threads. The term &quot;low priority&quot; for the context is <i>&quot;even if you are running, you stop here once the main thread finishes&quot;</i>. My bad for using that term when there&#39;s another specification for priority regarding threads"},{"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"score":0,"creation_date":1609992968,"post_id":65605629,"comment_id":115994903,"body_markdown":"Daemon threads are meant to **serve user threads** and are only needed while user threads are running-that&#39;s why once &quot;their&quot; user thread finishes, it also finishes itself, because there&#39;s nothing to support or serve anymore, becoming useless. The executor would create a new Thread, meaning *&quot;this is not to support this other thread, but an independent process by itself&quot;*. So even if the other one stopped, I must continue my job, since I was not created to support or help the main thread.","body":"Daemon threads are meant to <b>serve user threads</b> and are only needed while user threads are running-that&#39;s why once &quot;their&quot; user thread finishes, it also finishes itself, because there&#39;s nothing to support or serve anymore, becoming useless. The executor would create a new Thread, meaning <i>&quot;this is not to support this other thread, but an independent process by itself&quot;</i>. So even if the other one stopped, I must continue my job, since I was not created to support or help the main thread."}],"tags":[],"owner":{"account_id":2465829,"reputation":11057,"user_id":2148953,"accept_rate":96,"display_name":"aran"},"comment_count":12,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1610019943,"creation_date":1609984261,"answer_id":65605629,"question_id":65605550,"body_markdown":"The second case is &quot;*working*&quot; because you sleep the main thread long enough (5 seconds). Working is between quotes because it *isn&#39;t really working*, just finishing. I&#39;m assuming here the code should output `Hello World!` in order to be considered &quot;*working properly*&quot;.\r\n\r\n-------\r\nTry the same code with this sleep time at the end of the main thread in both cases:\r\n\r\n`Thread.sleep(100);` \r\n\r\n\r\n **1**. The first one would behave in the same way, as the get operation blocks the main thread. In fact, for the first case, you don&#39;t even need the last sleep time. \r\n\r\n**Output: `Hello World!`**\r\n\r\n---\r\n\r\n **2**. The second case won&#39;t output `Hello`, as no one told the main thread: &quot;*hey, wait for this to finish*&quot;. That&#39;s what `get()` does: block the caller in order to wait for the task to finish. Without it, and setting a low sleep time at the end, the runnable is called, but couldn&#39;t finish its job before the main thread stops.\r\n\r\n**Output: `World!`**\r\n\r\n----\r\n\r\n\r\nThat&#39;s also the reason why in the first case `Hello World!` (*first the runnable&#39;s output, and then main&#39;s one- meaning the main thread was blocked until `get()` returned*) is written, while the second one shows subtle signs of dyslexia: `World Hello!` \r\n\r\nBut it&#39;s not dyslexic, it just executes what it is told to. In the second case, this happens:\r\n\r\n **1.** The runnable is **called**.\r\n\r\n **2.** Main thread continues its process, **printing (&quot;World!)**\r\n\r\n **3.** `Sleep` times are set: 1 second on the runnable / 5 seconds on main. (*runnable&#39;s sleep could also be executed during the 2nd step, but I put it here in order to clarify the behaviour*)\r\n\r\n **4.** The runnable task **prints (&quot;Hello&quot;)** after 1 second and the CompletableFuture is finished.\r\n\r\n **5.** 5 Seconds passed, main thread stops.\r\n\r\nSo your runnable could print `Hello` because it was able to execute the command in between those 5 seconds timeout.\r\n\r\n    World! . . . . . .(1)Hello. . . . . . . . . . .(5)[END]\r\n\r\nIf you decrease the last 5 seconds timeout, for example, to 0.5 seconds, you get\r\n\r\n    World!. . (0.5)[END]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\r\n","title":"Why does this CompletableFuture work even when I don&#39;t call get() or join()?","body":"<p>The second case is &quot;<em>working</em>&quot; because you sleep the main thread long enough (5 seconds). Working is between quotes because it <em>isn't really working</em>, just finishing. I'm assuming here the code should output <code>Hello World!</code> in order to be considered &quot;<em>working properly</em>&quot;.</p>\n<hr />\n<p>Try the same code with this sleep time at the end of the main thread in both cases:</p>\n<p><code>Thread.sleep(100);</code></p>\n<p><strong>1</strong>. The first one would behave in the same way, as the get operation blocks the main thread. In fact, for the first case, you don't even need the last sleep time.</p>\n<p><strong>Output: <code>Hello World!</code></strong></p>\n<hr />\n<p><strong>2</strong>. The second case won't output <code>Hello</code>, as no one told the main thread: &quot;<em>hey, wait for this to finish</em>&quot;. That's what <code>get()</code> does: block the caller in order to wait for the task to finish. Without it, and setting a low sleep time at the end, the runnable is called, but couldn't finish its job before the main thread stops.</p>\n<p><strong>Output: <code>World!</code></strong></p>\n<hr />\n<p>That's also the reason why in the first case <code>Hello World!</code> (<em>first the runnable's output, and then main's one- meaning the main thread was blocked until <code>get()</code> returned</em>) is written, while the second one shows subtle signs of dyslexia: <code>World Hello!</code></p>\n<p>But it's not dyslexic, it just executes what it is told to. In the second case, this happens:</p>\n<p><strong>1.</strong> The runnable is <strong>called</strong>.</p>\n<p><strong>2.</strong> Main thread continues its process, <strong>printing (&quot;World!)</strong></p>\n<p><strong>3.</strong> <code>Sleep</code> times are set: 1 second on the runnable / 5 seconds on main. (<em>runnable's sleep could also be executed during the 2nd step, but I put it here in order to clarify the behaviour</em>)</p>\n<p><strong>4.</strong> The runnable task <strong>prints (&quot;Hello&quot;)</strong> after 1 second and the CompletableFuture is finished.</p>\n<p><strong>5.</strong> 5 Seconds passed, main thread stops.</p>\n<p>So your runnable could print <code>Hello</code> because it was able to execute the command in between those 5 seconds timeout.</p>\n<pre><code>World! . . . . . .(1)Hello. . . . . . . . . . .(5)[END]\n</code></pre>\n<p>If you decrease the last 5 seconds timeout, for example, to 0.5 seconds, you get</p>\n<pre><code>World!. . (0.5)[END]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1610439674,"post_id":65605671,"comment_id":116125930,"body_markdown":"You don’t need an external agent to selectively pause the thread, having a high system load would already have the same effect; when no thread makes progress, the time will continue to tick, allowing `sleep` to return once the application gets CPU time again.","body":"You don’t need an external agent to selectively pause the thread, having a high system load would already have the same effect; when no thread makes progress, the time will continue to tick, allowing <code>sleep</code> to return once the application gets CPU time again."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1610441102,"post_id":65605671,"comment_id":116126542,"body_markdown":"Yes.  There are other ways it could happen.","body":"Yes.  There are other ways it could happen."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1609985750,"creation_date":1609984621,"answer_id":65605671,"question_id":65605550,"body_markdown":"&gt; I don&#39;t know why the `Runnable` block of case2 is working.\r\n\r\nThere is no reason why it would NOT work.\r\n\r\nThe `runAsync(...)` method says to do a task asynchronously.  Assuming that the application doesn&#39;t end prematurely the task will be done eventually, *whether you wait for it to be done or not*.\r\n\r\nThe `CompletableFuture` provides various ways of waiting for the task to complete.  But in your example, you are not using it for that purpose.  Instead, the `Thread.sleep(...)` call in your main method is *having the same effect*; i.e. it is waiting long enough that the task has (probably) finished.  So `&quot;Hello&quot;` is output before `&quot;World&quot;`.\r\n\r\nJust to reiterate, the `get()` call doesn&#39;t *cause* the task to happen.  Rather it *waits* for it to *have happened*.\r\n\r\n-----------\r\n\r\nUsing `sleep` to wait for an event (e.g. completion of a task) to happen is a bad idea:\r\n\r\n  1.  Sleep doesn&#39;t tell if the event has happened!\r\n  2.  You typically don&#39;t know exactly how long it will take for the event to happen, you don&#39;t know how long to sleep.\r\n  3.  If you sleep too long you have &quot;dead time&quot; (see below).\r\n  4.  If you don&#39;t sleep long enough, the event may not have happened yet.  So you need to test and sleep again, and again, and ...\r\n\r\nEven in this example, it is theoretically possible&lt;sup&gt;1&lt;/sup&gt; for the `sleep` in main to finish before the `sleep` in the task.\r\n\r\nBasically, the purpose of the `CompletableFuture` is to provide an efficient way to wait for a task to finish and deliver a result.  You should use it ...\r\n\r\nTo illustrate.  Your application is waiting (and wasting) ~4 seconds between outputting `&quot;Hello&quot;` and `&quot;World!&quot;`.  If you used the `CompletableFuture` as it is intended to be used, you wouldn&#39;t have those 4 seconds of &quot;dead time&quot;.\r\n\r\n---------------\r\n\r\n&lt;sup&gt;1 - For example, some external agent might be able to selectively  &quot;pause&quot; the thread that is running the task.  It might be done by setting a breakpoint ... &lt;/sup&gt;\r\n","title":"Why does this CompletableFuture work even when I don&#39;t call get() or join()?","body":"<blockquote>\n<p>I don't know why the <code>Runnable</code> block of case2 is working.</p>\n</blockquote>\n<p>There is no reason why it would NOT work.</p>\n<p>The <code>runAsync(...)</code> method says to do a task asynchronously.  Assuming that the application doesn't end prematurely the task will be done eventually, <em>whether you wait for it to be done or not</em>.</p>\n<p>The <code>CompletableFuture</code> provides various ways of waiting for the task to complete.  But in your example, you are not using it for that purpose.  Instead, the <code>Thread.sleep(...)</code> call in your main method is <em>having the same effect</em>; i.e. it is waiting long enough that the task has (probably) finished.  So <code>&quot;Hello&quot;</code> is output before <code>&quot;World&quot;</code>.</p>\n<p>Just to reiterate, the <code>get()</code> call doesn't <em>cause</em> the task to happen.  Rather it <em>waits</em> for it to <em>have happened</em>.</p>\n<hr />\n<p>Using <code>sleep</code> to wait for an event (e.g. completion of a task) to happen is a bad idea:</p>\n<ol>\n<li>Sleep doesn't tell if the event has happened!</li>\n<li>You typically don't know exactly how long it will take for the event to happen, you don't know how long to sleep.</li>\n<li>If you sleep too long you have &quot;dead time&quot; (see below).</li>\n<li>If you don't sleep long enough, the event may not have happened yet.  So you need to test and sleep again, and again, and ...</li>\n</ol>\n<p>Even in this example, it is theoretically possible<sup>1</sup> for the <code>sleep</code> in main to finish before the <code>sleep</code> in the task.</p>\n<p>Basically, the purpose of the <code>CompletableFuture</code> is to provide an efficient way to wait for a task to finish and deliver a result.  You should use it ...</p>\n<p>To illustrate.  Your application is waiting (and wasting) ~4 seconds between outputting <code>&quot;Hello&quot;</code> and <code>&quot;World!&quot;</code>.  If you used the <code>CompletableFuture</code> as it is intended to be used, you wouldn't have those 4 seconds of &quot;dead time&quot;.</p>\n<hr />\n<p><sup>1 - For example, some external agent might be able to selectively  &quot;pause&quot; the thread that is running the task.  It might be done by setting a breakpoint ... </sup></p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1610439444,"post_id":65606195,"comment_id":116125839,"body_markdown":"To be more precise, those factory methods will schedule the action or supplier immediately whereas the `CompletionStage` methods will schedule immediately when the prerequisites are fulfilled. In contrast, the idea of the `CompletableFuture` itself is different; as its name suggests, it is just a future that can be completed, i.e. when you construct an instance via the default constructor, nothing will happen unless someone explicitly completes it. The second part of your answer should not forget `cancel`, which is nothing but an exceptional completion.","body":"To be more precise, those factory methods will schedule the action or supplier immediately whereas the <code>CompletionStage</code> methods will schedule immediately when the prerequisites are fulfilled. In contrast, the idea of the <code>CompletableFuture</code> itself is different; as its name suggests, it is just a future that can be completed, i.e. when you construct an instance via the default constructor, nothing will happen unless someone explicitly completes it. The second part of your answer should not forget <code>cancel</code>, which is nothing but an exceptional completion."}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1610456897,"creation_date":1609989542,"answer_id":65606195,"question_id":65605550,"body_markdown":"The entire idea of `CompletableFuture` is that they are immediately scheduled to be started (though you can&#39;t reliably tell in which thread they will execute), and by the time you reach `get` or `join`, the result might already be ready, i.e.: the `CompletableFuture` might already be _completed_. Internally, as soon as a certain stage in the pipeline is ready, that particular `CompletableFuture` will be set to completed. For example:\r\n\r\n\r\n    String result = \r\n       CompletableFuture.supplyAsync(() -&gt; &quot;ab&quot;)\r\n                        .thenApply(String::toUpperCase)\r\n                        .thenApply(x -&gt; x.substring(1))\r\n                        .join();\r\n\r\nis the same thing as:\r\n\r\n    CompletableFuture&lt;String&gt; cf1 = CompletableFuture.supplyAsync(() -&gt; &quot;ab&quot;);\r\n    CompletableFuture&lt;String&gt; cf2 = cf1.thenApply(String::toUpperCase);\r\n    CompletableFuture&lt;String&gt; cf3 = cf2.thenApply(x -&gt; x.substring(1));\r\n    String result = cf3.join();\r\n\r\nBy the time you reach to actually invoke `join`, `cf3` might already finish. `get` and `join` just _block_ until all the stages are done, it does not trigger the computation; the computation is scheduled immediately. \r\n\r\n---\r\n                     \r\n\r\nA minor addition is that you can complete a `CompletableFuture` without waiting for the execution of the pipelines to finish: like `complete`, `completeExceptionally`, `obtrudeValue` (this one sets it even if it was already completed), `obtrudeException` or `cancel`. Here is an interesting example:\r\n\r\n     public static void main(String[] args) {\r\n        CompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\r\n            System.out.println(&quot;started work&quot;);\r\n            LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\r\n            System.out.println(&quot;done work&quot;);\r\n            return &quot;a&quot;;\r\n        });\r\n\r\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(1));\r\n        cf.complete(&quot;b&quot;);\r\n        System.out.println(cf.join());\r\n    }\r\n\r\nThis will output:\r\n\r\n    started work\r\n    b\r\n\r\nSo even if the work started, the final value is `b`, not `a`.","title":"Why does this CompletableFuture work even when I don&#39;t call get() or join()?","body":"<p>The entire idea of <code>CompletableFuture</code> is that they are immediately scheduled to be started (though you can't reliably tell in which thread they will execute), and by the time you reach <code>get</code> or <code>join</code>, the result might already be ready, i.e.: the <code>CompletableFuture</code> might already be <em>completed</em>. Internally, as soon as a certain stage in the pipeline is ready, that particular <code>CompletableFuture</code> will be set to completed. For example:</p>\n<pre><code>String result = \n   CompletableFuture.supplyAsync(() -&gt; &quot;ab&quot;)\n                    .thenApply(String::toUpperCase)\n                    .thenApply(x -&gt; x.substring(1))\n                    .join();\n</code></pre>\n<p>is the same thing as:</p>\n<pre><code>CompletableFuture&lt;String&gt; cf1 = CompletableFuture.supplyAsync(() -&gt; &quot;ab&quot;);\nCompletableFuture&lt;String&gt; cf2 = cf1.thenApply(String::toUpperCase);\nCompletableFuture&lt;String&gt; cf3 = cf2.thenApply(x -&gt; x.substring(1));\nString result = cf3.join();\n</code></pre>\n<p>By the time you reach to actually invoke <code>join</code>, <code>cf3</code> might already finish. <code>get</code> and <code>join</code> just <em>block</em> until all the stages are done, it does not trigger the computation; the computation is scheduled immediately.</p>\n<hr />\n<p>A minor addition is that you can complete a <code>CompletableFuture</code> without waiting for the execution of the pipelines to finish: like <code>complete</code>, <code>completeExceptionally</code>, <code>obtrudeValue</code> (this one sets it even if it was already completed), <code>obtrudeException</code> or <code>cancel</code>. Here is an interesting example:</p>\n<pre><code> public static void main(String[] args) {\n    CompletableFuture&lt;String&gt; cf = CompletableFuture.supplyAsync(() -&gt; {\n        System.out.println(&quot;started work&quot;);\n        LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(5));\n        System.out.println(&quot;done work&quot;);\n        return &quot;a&quot;;\n    });\n\n    LockSupport.parkNanos(TimeUnit.SECONDS.toNanos(1));\n    cf.complete(&quot;b&quot;);\n    System.out.println(cf.join());\n}\n</code></pre>\n<p>This will output:</p>\n<pre><code>started work\nb\n</code></pre>\n<p>So even if the work started, the final value is <code>b</code>, not <code>a</code>.</p>\n"}],"owner":{"account_id":15969521,"reputation":243,"user_id":11524087,"display_name":"SangHoon Lee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10203,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":65606195,"answer_count":3,"score":24,"last_activity_date":1674490068,"creation_date":1609983609,"question_id":65605550,"body_markdown":"I had a question while studying `CompletableFuture`. The `get()`/`join()` methods are blocking calls. What if I don&#39;t call either of them?\r\n\r\nThis code calls `get()`:\r\n\r\n    // Case 1 - Use get()\r\n    CompletableFuture.runAsync(() -&gt; {\r\n        try {\r\n            Thread.sleep(1_000L);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;Hello&quot;);\r\n    }).get();\r\n    System.out.println(&quot;World!&quot;);\r\n\r\n    Thread.sleep(5_000L); // Don&#39;t finish the main thread\r\n\r\nOutput:\r\n\r\n    Hello\r\n    World!\r\n\r\nThis code calls neither `get()` nor `join()`:\r\n\r\n    // Case 2 - Don&#39;t use get()\r\n    CompletableFuture.runAsync(() -&gt; {\r\n        try {\r\n            Thread.sleep(1_000L);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;Hello&quot;);\r\n    });\r\n    System.out.println(&quot;World!&quot;);\r\n\r\n    Thread.sleep(5_000L); // For don&#39;t finish main thread\r\n\r\nOutput:\r\n\r\n    World!\r\n    Hello\r\n\r\nI don&#39;t know why the runnable block of case 2 is working. ","title":"Why does this CompletableFuture work even when I don&#39;t call get() or join()?","body":"<p>I had a question while studying <code>CompletableFuture</code>. The <code>get()</code>/<code>join()</code> methods are blocking calls. What if I don't call either of them?</p>\n<p>This code calls <code>get()</code>:</p>\n<pre><code>// Case 1 - Use get()\nCompletableFuture.runAsync(() -&gt; {\n    try {\n        Thread.sleep(1_000L);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    System.out.println(&quot;Hello&quot;);\n}).get();\nSystem.out.println(&quot;World!&quot;);\n\nThread.sleep(5_000L); // Don't finish the main thread\n</code></pre>\n<p>Output:</p>\n<pre><code>Hello\nWorld!\n</code></pre>\n<p>This code calls neither <code>get()</code> nor <code>join()</code>:</p>\n<pre><code>// Case 2 - Don't use get()\nCompletableFuture.runAsync(() -&gt; {\n    try {\n        Thread.sleep(1_000L);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    System.out.println(&quot;Hello&quot;);\n});\nSystem.out.println(&quot;World!&quot;);\n\nThread.sleep(5_000L); // For don't finish main thread\n</code></pre>\n<p>Output:</p>\n<pre><code>World!\nHello\n</code></pre>\n<p>I don't know why the runnable block of case 2 is working.</p>\n"},{"tags":["java","caching","ehcache","ehcache-3"],"answers":[{"tags":[],"owner":{"account_id":1267127,"reputation":1663,"user_id":1224205,"accept_rate":20,"display_name":"Marceau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674489899,"creation_date":1674488827,"answer_id":75211812,"question_id":57922960,"body_markdown":"The following manages to capture the internal epoch timestamp of creation of the Ehcache cache entry:\r\n\r\n```java\r\nvar method = Ehcache.class.getDeclaredMethod(&quot;doGet&quot;, Object.class);\r\nmethod.setAccessible(true);\r\nvar valueHolder = (Store.ValueHolder&lt;?&gt;) method.invoke(ehcache, key);\r\nreturn valueHolder.creationTime();\r\n```\r\n\r\nThe use of reflection is unfortunate but this was sufficient for my debugging purposes.\r\n\r\nThe `org.ehcache.core.Ehcache` instance in my specific scenario was retrieved inside a custom `org.ehcache.event.CacheEventListener`:\r\n\r\n```java\r\n@Override\r\npublic void onEvent(CacheEvent&lt;? extends String, ? extends Object&gt; cacheEvent) {\r\n\tvar ehcache = (Ehcache&lt;?, ?&gt;) cacheEvent.getSource();\r\n\t...\r\n}\r\n```","title":"Get age of cache entry in Ehcache 3.x","body":"<p>The following manages to capture the internal epoch timestamp of creation of the Ehcache cache entry:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var method = Ehcache.class.getDeclaredMethod(&quot;doGet&quot;, Object.class);\nmethod.setAccessible(true);\nvar valueHolder = (Store.ValueHolder&lt;?&gt;) method.invoke(ehcache, key);\nreturn valueHolder.creationTime();\n</code></pre>\n<p>The use of reflection is unfortunate but this was sufficient for my debugging purposes.</p>\n<p>The <code>org.ehcache.core.Ehcache</code> instance in my specific scenario was retrieved inside a custom <code>org.ehcache.event.CacheEventListener</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onEvent(CacheEvent&lt;? extends String, ? extends Object&gt; cacheEvent) {\n    var ehcache = (Ehcache&lt;?, ?&gt;) cacheEvent.getSource();\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":2579094,"reputation":3415,"user_id":2236166,"display_name":"morten.c"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1674489899,"creation_date":1568374688,"question_id":57922960,"body_markdown":"I&#39;m using Ehcache 3.8.0 with my Spring 5.x application for caching long running data aggregation. The aggregated data is displayed in a web frontend. \r\n\r\nI&#39;m now looking for a way to get the age of an cached element to display it alongside with the data. \r\n\r\nEhcache 2.x stored cache entries as `Element` ([see javadoc][1]) which had the public method [getLatestOfCreationAndUpdateTime()][2] to retrieve the timestamp, at which the cache entry was created or last updated (= the age/freshness of the cached data).\r\n\r\nBut in Ehcache 3.x cache entries are stored as `Cache.Entry&lt;V,K&gt;` ([see javadoc][3]) which is nothing more than a key/value tuple which doesn&#39;t provide something like the `getLatestOfCreationAndUpdateTime()` method.\r\n\r\nI know that I could use something like cache eventlisteners to store the timestamp seperatly whenever a cache entry is created or updated, but I like to know if there&#39;s a more direct way to get the timestamp formerly provided with `getLatestOfCreationAndUpdateTime()`.\r\n\r\n\r\n  [1]: https://www.ehcache.org/apidocs/2.9/net/sf/ehcache/Element.html\r\n  [2]: https://www.ehcache.org/apidocs/2.9/net/sf/ehcache/Element.html#getLatestOfCreationAndUpdateTime()\r\n  [3]: https://www.ehcache.org/apidocs/3.8.0/org/ehcache/Cache.Entry.html","title":"Get age of cache entry in Ehcache 3.x","body":"<p>I'm using Ehcache 3.8.0 with my Spring 5.x application for caching long running data aggregation. The aggregated data is displayed in a web frontend. </p>\n\n<p>I'm now looking for a way to get the age of an cached element to display it alongside with the data. </p>\n\n<p>Ehcache 2.x stored cache entries as <code>Element</code> (<a href=\"https://www.ehcache.org/apidocs/2.9/net/sf/ehcache/Element.html\" rel=\"nofollow noreferrer\">see javadoc</a>) which had the public method <a href=\"https://www.ehcache.org/apidocs/2.9/net/sf/ehcache/Element.html#getLatestOfCreationAndUpdateTime()\" rel=\"nofollow noreferrer\">getLatestOfCreationAndUpdateTime()</a> to retrieve the timestamp, at which the cache entry was created or last updated (= the age/freshness of the cached data).</p>\n\n<p>But in Ehcache 3.x cache entries are stored as <code>Cache.Entry&lt;V,K&gt;</code> (<a href=\"https://www.ehcache.org/apidocs/3.8.0/org/ehcache/Cache.Entry.html\" rel=\"nofollow noreferrer\">see javadoc</a>) which is nothing more than a key/value tuple which doesn't provide something like the <code>getLatestOfCreationAndUpdateTime()</code> method.</p>\n\n<p>I know that I could use something like cache eventlisteners to store the timestamp seperatly whenever a cache entry is created or updated, but I like to know if there's a more direct way to get the timestamp formerly provided with <code>getLatestOfCreationAndUpdateTime()</code>.</p>\n"},{"tags":["java","opengl-es","vao","vertex-array","vertex-array-object"],"comments":[{"owner":{"account_id":7322082,"reputation":205330,"user_id":5577765,"display_name":"Rabbid76"},"score":0,"creation_date":1674400099,"post_id":75201395,"comment_id":132701944,"body_markdown":"You have repeated your question: [Would it be possible to change Vertex array structure into a Vertex Array Object structure and how](https://stackoverflow.com/questions/75102674/would-it-be-possible-to-change-vertex-array-structure-into-a-vertex-array-object). If you want to improve a question, you must edit the original question. Repeating questions to attract attention is not welcome. So this is a duplicate question, because you have already asked it before.","body":"You have repeated your question: <a href=\"https://stackoverflow.com/questions/75102674/would-it-be-possible-to-change-vertex-array-structure-into-a-vertex-array-object\">Would it be possible to change Vertex array structure into a Vertex Array Object structure and how</a>. If you want to improve a question, you must edit the original question. Repeating questions to attract attention is not welcome. So this is a duplicate question, because you have already asked it before."},{"owner":{"account_id":7322082,"reputation":205330,"user_id":5577765,"display_name":"Rabbid76"},"score":0,"creation_date":1674400273,"post_id":75201395,"comment_id":132701978,"body_markdown":"*&quot;Problem is I have no idea how Vertex Array Object works ...&quot;* - So you are actually looking for a tutorial. Such questions are off-topic. See [What topics can I ask about here?](https://stackoverflow.com/help/on-topic) and also consider [How much research effort is expected of Stack Overflow users?](https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users).","body":"<i>&quot;Problem is I have no idea how Vertex Array Object works ...&quot;</i> - So you are actually looking for a tutorial. Such questions are off-topic. See <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a> and also consider <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\">How much research effort is expected of Stack Overflow users?</a>."},{"owner":{"account_id":27319974,"reputation":43,"user_id":20833857,"display_name":"apo"},"score":0,"creation_date":1674400687,"post_id":75201395,"comment_id":132702046,"body_markdown":"@Rabbid76 what could I do to improve this question? Or are these questions just totally off topic?","body":"@Rabbid76 what could I do to improve this question? Or are these questions just totally off topic?"},{"owner":{"account_id":7322082,"reputation":205330,"user_id":5577765,"display_name":"Rabbid76"},"score":0,"creation_date":1674400777,"post_id":75201395,"comment_id":132702063,"body_markdown":"I recommend reading a good tutorial. Bevor using a [VAO](https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Array_Object) I suggest using [Vertex Buffer Objects](https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Buffer_Object).","body":"I recommend reading a good tutorial. Bevor using a <a href=\"https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Array_Object\" rel=\"nofollow noreferrer\">VAO</a> I suggest using <a href=\"https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Buffer_Object\" rel=\"nofollow noreferrer\">Vertex Buffer Objects</a>."}],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205330,"user_id":5577765,"display_name":"Rabbid76"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674401792,"creation_date":1674401792,"answer_id":75201674,"question_id":75201395,"body_markdown":"When you want to use a [Vertex Array Object](https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Array_Object), you must create and bind the VAO. The vertex specification is stored in the state vector of the currently bound VAO. Therefore, you must do the vertex specification when the VAO is bound. I also suggest to put the attributes in [Vertex Buffer Objects](https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Buffer_Object):\r\n\r\n```java\r\nint vao;\r\nint vboVertices;\r\nint vboNormals;\r\n```\r\n\r\n```java\r\nvao = GLES30.glGenVertexArray();\r\nGLES30.glBindVertexArray(vao);\r\n\r\nvboVertices = GLES30.glGenBuffer();\r\nGLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, vboVertices);\r\nGLES30.glBufferData(GLES30.GL_ARRAY_BUFFER, mVertices.remaining() * 4, mVertices, GLES30.GL_STATIC_DRAW);\r\nGLES30.glVertexAttribPointer(0, 4, GLES30.GL_FLOAT, false, 0, 0);\r\nGLES30.glEnableVertexAttribArray(0);\r\n\r\nvboNormals = GLES30.glGenBuffer();\r\nGLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, vboNormals);\r\nGLES30.glBufferData(GLES30.GL_ARRAY_BUFFER, mNormals.remaining() * 4, mNormals, GLES30.GL_STATIC_DRAW);\r\nGLES30.glVertexAttribPointer(1, 4, GLES30.GL_FLOAT, false, 0, 0);\r\nGLES30.glEnableVertexAttribArray(1);\r\n```\r\n\r\nLater you can use the VAO to draw the geometry. For this it is enough to bind the VAO:\r\n\r\n```java\r\nGLES30.glBindVertexArray(vao);\r\nGLES30.glDrawArrays (GLES30.GL_TRIANGLES, 0, nbrOfVertices);\r\n```\r\n","title":"How to refactor code from Vertex Array to Vertex Array Object methods","body":"<p>When you want to use a <a href=\"https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Array_Object\" rel=\"nofollow noreferrer\">Vertex Array Object</a>, you must create and bind the VAO. The vertex specification is stored in the state vector of the currently bound VAO. Therefore, you must do the vertex specification when the VAO is bound. I also suggest to put the attributes in <a href=\"https://www.khronos.org/opengl/wiki/Vertex_Specification#Vertex_Buffer_Object\" rel=\"nofollow noreferrer\">Vertex Buffer Objects</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int vao;\nint vboVertices;\nint vboNormals;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>vao = GLES30.glGenVertexArray();\nGLES30.glBindVertexArray(vao);\n\nvboVertices = GLES30.glGenBuffer();\nGLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, vboVertices);\nGLES30.glBufferData(GLES30.GL_ARRAY_BUFFER, mVertices.remaining() * 4, mVertices, GLES30.GL_STATIC_DRAW);\nGLES30.glVertexAttribPointer(0, 4, GLES30.GL_FLOAT, false, 0, 0);\nGLES30.glEnableVertexAttribArray(0);\n\nvboNormals = GLES30.glGenBuffer();\nGLES30.glBindBuffer(GLES30.GL_ARRAY_BUFFER, vboNormals);\nGLES30.glBufferData(GLES30.GL_ARRAY_BUFFER, mNormals.remaining() * 4, mNormals, GLES30.GL_STATIC_DRAW);\nGLES30.glVertexAttribPointer(1, 4, GLES30.GL_FLOAT, false, 0, 0);\nGLES30.glEnableVertexAttribArray(1);\n</code></pre>\n<p>Later you can use the VAO to draw the geometry. For this it is enough to bind the VAO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GLES30.glBindVertexArray(vao);\nGLES30.glDrawArrays (GLES30.GL_TRIANGLES, 0, nbrOfVertices);\n</code></pre>\n"}],"owner":{"account_id":27319974,"reputation":43,"user_id":20833857,"display_name":"apo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674489721,"creation_date":1674399356,"question_id":75201395,"body_markdown":"I&#39;m studying Opengl and the book i&#39;ve been using is OpenGL(R) ES 3.0 Programming Guide, 2nd Edition. And at chapter 6 they talk about Vertex arrays and they have a example code that uses Vertex Array methods, which is the code below. Later down that chapter they are talking about Vertex Array Object and what I wanted to try is to take this example code and refactor the code into something that uses the Vertex Array Object methods.\r\nProblem is I have no idea how Vertex Array Object works and would be gratful if anyone could push me in the right direction.\r\n\r\nThe example code is here: \r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.ByteOrder;\r\nimport java.nio.FloatBuffer;\r\n\r\nimport javax.microedition.khronos.egl.EGLConfig;\r\nimport javax.microedition.khronos.opengles.GL10;\r\n\r\nimport android.content.Context;\r\nimport android.opengl.GLES30;\r\nimport android.opengl.GLSurfaceView;\r\nimport android.opengl.Matrix;\r\nimport android.util.Log;\r\n\r\nimport se.hig.dvg306.modul3app.R;\r\nimport se.hig.dvg306.modul3app.tools.ResourceHandler;\r\n\r\npublic class Modul3Renderer implements GLSurfaceView.Renderer\r\n{\r\n    //\r\n    // Constructor - loads model data from a res file and creates byte buffers for\r\n    // vertex data and for normal data\r\n    //\r\n    public Modul3Renderer (Context context)\r\n    {\r\n        appContext = context;\r\n\r\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Creating ModelLoader...&quot;);\r\n        ModelLoader modelLoader = new ModelLoaderImpl ();\r\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      ...finished.&quot;);\r\n\r\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Loading model...&quot;);\r\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Starting with vertices...&quot;);\r\n        float[] mVerticesData; //= new float[0];\r\n\r\n        try {\r\n            mVerticesData = modelLoader.loadModel (context, R.raw.torus2, 0, 4, 6);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException (e);\r\n        }\r\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      ...finished.&quot;);\r\n\r\n        // Process vertex data\r\n        // 4: because of 4 elements per vertex position\r\n        nbrOfVertices = mVerticesData.length / 4;\r\n\r\n        mVertices = ByteBuffer.allocateDirect(mVerticesData.length * 4)\r\n                .order(ByteOrder.nativeOrder()).asFloatBuffer();\r\n        mVertices.put(mVerticesData).position(0);\r\n\r\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Starting with normals...&quot;);\r\n        float[] mNormalData; //= new float[0];\r\n\r\n        try {\r\n            mNormalData = modelLoader.loadModel (context, R.raw.torus2, 4, 4, 6);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException (e);\r\n        }\r\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      ...finished.&quot;);\r\n\r\n        // Process normal data\r\n        // 4: because of 4 elements per vertex position\r\n        nbrOfNormals = mNormalData.length / 4;\r\n\r\n        mNormals = ByteBuffer.allocateDirect(mNormalData.length * 4)\r\n                .order(ByteOrder.nativeOrder()).asFloatBuffer();\r\n        mNormals.put(mNormalData).position(0);\r\n    }\r\n\r\n    ///\r\n    // Create a shader object, load the shader source, and\r\n    // compile the shader.\r\n    //\r\n    private int createShader(int type, String shaderSrc )\r\n    {\r\n        int shader;\r\n        int[] compiled = new int[1];\r\n\r\n        // Create the shader object\r\n        shader = GLES30.glCreateShader ( type );\r\n\r\n        if ( shader == 0 )\r\n        {\r\n            return 0;\r\n        }\r\n\r\n        // Load the shader source\r\n        GLES30.glShaderSource ( shader, shaderSrc );\r\n\r\n        // Compile the shader\r\n        GLES30.glCompileShader ( shader );\r\n\r\n        // Check the compile status\r\n        GLES30.glGetShaderiv ( shader, GLES30.GL_COMPILE_STATUS, compiled, 0 );\r\n\r\n        if ( compiled[0] == 0 )\r\n        {\r\n            Log.e ( TAG, GLES30.glGetShaderInfoLog ( shader ) );\r\n            GLES30.glDeleteShader ( shader );\r\n            return 0;\r\n        }\r\n\r\n        return shader;\r\n    }\r\n\r\n    ///\r\n    // Initialize the shader and program object\r\n    //\r\n    public void onSurfaceCreated ( GL10 glUnused, EGLConfig config )\r\n    {\r\n\r\n        int vertexShader;\r\n        int fragmentShader;\r\n        int programObject;\r\n        int[] linked = new int[1];\r\n\r\n\r\n        // Load the source code for the vertex shader program from a res file:\r\n        try {\r\n            vShaderStr = ResourceHandler.readTextData(appContext, R.raw.vertex_shader);\r\n        } catch (IOException e) {\r\n            Log.e ( TAG, &quot;---&gt;&gt;&gt;      Could not load source code for vertex shader.&quot;);\r\n            throw new RuntimeException (e);\r\n        }\r\n        Log.e ( TAG, &quot;---&gt;&gt;&gt;      Loaded vertex shader: &quot; + vShaderStr);\r\n\r\n        // Load the source code for the fragment shader program from a res file:\r\n        try {\r\n            fShaderStr = ResourceHandler.readTextData(appContext, R.raw.fragment_shader);\r\n        } catch (IOException e) {\r\n            Log.e ( TAG, &quot;---&gt;&gt;&gt;      Could not load source code for fragment shader.&quot;);\r\n            throw new RuntimeException (e);\r\n        }\r\n        Log.e ( TAG, &quot;---&gt;&gt;&gt;      Loaded fragment shader: &quot; + fShaderStr);\r\n\r\n        // Create the vertex/fragment shaders\r\n        vertexShader = createShader( GLES30.GL_VERTEX_SHADER, vShaderStr );\r\n        fragmentShader = createShader( GLES30.GL_FRAGMENT_SHADER, fShaderStr );\r\n\r\n        // Create the program object\r\n        programObject = GLES30.glCreateProgram();\r\n\r\n        if ( programObject == 0 )\r\n        {\r\n            return;\r\n        }\r\n\r\n        GLES30.glAttachShader ( programObject, vertexShader );\r\n        GLES30.glAttachShader ( programObject, fragmentShader );\r\n\r\n        // Bind vPosition to attribute 0\r\n        GLES30.glBindAttribLocation ( programObject, 0, &quot;vPosition&quot; );\r\n\r\n        // Bind vNormal to attribute 1\r\n        GLES30.glBindAttribLocation ( programObject, 1, &quot;vNormal&quot; );\r\n\r\n        // Link the program\r\n        GLES30.glLinkProgram ( programObject );\r\n\r\n        // Check the link status\r\n        GLES30.glGetProgramiv ( programObject, GLES30.GL_LINK_STATUS, linked, 0 );\r\n\r\n        if ( linked[0] == 0 )\r\n        {\r\n            Log.e ( TAG, &quot;Error linking program:&quot; );\r\n            Log.e ( TAG, GLES30.glGetProgramInfoLog ( programObject ) );\r\n            GLES30.glDeleteProgram ( programObject );\r\n            return;\r\n        }\r\n\r\n        // Store the program object\r\n        mProgramObject = programObject;\r\n\r\n        GLES30.glClearColor ( 0.15f, 0.15f, 0.15f, 1.0f );\r\n        GLES30.glEnable(GLES30.GL_DEPTH_TEST);\r\n    }\r\n\r\n    //\r\n    // Draw a torus using the shader pair created in onSurfaceCreated()\r\n    //\r\n    public void onDrawFrame ( GL10 glUnused )\r\n    {\r\n        // Initiate the model-view matrix as identity matrix\r\n        Matrix.setIdentityM(mViewMatrix, 0);\r\n\r\n        // Define a translation transformation\r\n        Matrix.translateM(mViewMatrix, 0, 0.0f, 0.0f, -60.0f);\r\n        // Define a rotation transformation\r\n        Matrix.rotateM(mViewMatrix, 0, 90.0f, 1.0f, 0.0f, 0.0f);\r\n\r\n        // Calculate the model-view and projection transformation as composite transformation\r\n        Matrix.multiplyMM (mMVPMatrix, 0, mProjectionMatrix, 0, mViewMatrix, 0);\r\n\r\n        // Clear the color buffer\r\n        GLES30.glClear ( GLES30.GL_COLOR_BUFFER_BIT | GLES30.GL_DEPTH_BUFFER_BIT );\r\n\r\n        // Use the program object\r\n        GLES30.glUseProgram ( mProgramObject );\r\n\r\n        // Make MVP matrix accessible in the vertex shader\r\n        mMVPMatrixHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;uMVPMatrix&quot;);\r\n        GLES30.glUniformMatrix4fv(mMVPMatrixHandle, 1, false, mMVPMatrix, 0);\r\n\r\n        // Light position:\r\n        vLightPositionHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;vLightPosition&quot;);\r\n        GLES30.glUniform4fv(vLightPositionHandle, 1, lightPosition, 0);\r\n\r\n        // Light color:\r\n        vLightColorDfHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;vLightColorDf&quot;);\r\n        GLES30.glUniform4fv(vLightColorDfHandle, 1, lightColorDf, 0);\r\n\r\n        // Material color:\r\n        vMaterialColorDfHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;vMaterialColorDf&quot;);\r\n        GLES30.glUniform4fv(vMaterialColorDfHandle, 1, materialColorDf, 0);\r\n\r\n        // Load the vertex data from mVertices\r\n        GLES30.glVertexAttribPointer ( 0, 4, GLES30.GL_FLOAT, false, 0, mVertices );\r\n\r\n\r\n\r\n        // Assign vertex data to &#39;in&#39; variable bound to attribute with index 0:\r\n        GLES30.glEnableVertexAttribArray ( 0 );\r\n\r\n        // Load the normal data from mNormals\r\n        GLES30.glVertexAttribPointer ( 1, 4, GLES30.GL_FLOAT, false, 0, mNormals );\r\n        // Assign normal data to &#39;in&#39; variable bound to attribute with index 1:\r\n        GLES30.glEnableVertexAttribArray ( 1 );\r\n\r\n        GLES30.glDrawArrays (GLES30.GL_TRIANGLES, 0, nbrOfVertices);\r\n\r\n        GLES30.glDisableVertexAttribArray ( 1 );\r\n        GLES30.glDisableVertexAttribArray ( 0 );\r\n    }\r\n\r\n    //\r\n    // Handle surface changes\r\n    //\r\n    public void onSurfaceChanged ( GL10 glUnused, int width, int height )\r\n    {\r\n        mWidth = width;\r\n        mHeight = height;\r\n\r\n        GLES30.glViewport(0, 0, width, height);\r\n\r\n        float ratio = (float) width / height;\r\n\r\n        // this projection matrix is applied to object coordinates\r\n        Matrix.frustumM(mProjectionMatrix, 0, -ratio, ratio, -1.0f, 1.0f, 0.5f, 1000.0f);\r\n    }\r\n\r\n    // Member variables\r\n\r\n    private Context appContext;\r\n\r\n    private int mWidth;\r\n    private int mHeight;\r\n\r\n    private int nbrOfVertices;\r\n    private FloatBuffer mVertices;\r\n\r\n    private int nbrOfNormals;\r\n    private FloatBuffer mNormals;\r\n\r\n    private int mProgramObject;\r\n    private int mMVPMatrixHandle;\r\n\r\n    // Transformation data:\r\n    private final float[] mMVPMatrix = new float[16];\r\n    private final float[] mProjectionMatrix = new float[16];\r\n    private final float[] mViewMatrix = new float[16];\r\n\r\n    // Light position and color (only diffuse term now):\r\n    private int vLightPositionHandle;\r\n    private final float lightPosition [] = {175.0f, 75.0f, 125.0f, 0.0f};\r\n    // Light color (only diffuse term now):\r\n    private int vLightColorDfHandle;\r\n    private final float lightColorDf [] = {0.98f, 0.98f, 0.98f, 1.0f};\r\n    // Material color (only diffuse term now):\r\n    private int vMaterialColorDfHandle;\r\n    private final float materialColorDf [] = {0.62f, 0.773f, 0.843f, 1.0f};\r\n\r\n    // To be read when creating the instance:\r\n    private String vShaderStr;\r\n    private String fShaderStr;\r\n\r\n    private static String TAG = &quot;Modul3Renderer&quot;;\r\n}\r\n```\r\nI&#39;ve tried for the past days now to understand how to write a code that uses the Object methods but I cant wrap my head around it and decided to ask. So I hope by asking I can get some understanding how to begin.","title":"How to refactor code from Vertex Array to Vertex Array Object methods","body":"<p>I'm studying Opengl and the book i've been using is OpenGL(R) ES 3.0 Programming Guide, 2nd Edition. And at chapter 6 they talk about Vertex arrays and they have a example code that uses Vertex Array methods, which is the code below. Later down that chapter they are talking about Vertex Array Object and what I wanted to try is to take this example code and refactor the code into something that uses the Vertex Array Object methods.\nProblem is I have no idea how Vertex Array Object works and would be gratful if anyone could push me in the right direction.</p>\n<p>The example code is here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.nio.FloatBuffer;\n\nimport javax.microedition.khronos.egl.EGLConfig;\nimport javax.microedition.khronos.opengles.GL10;\n\nimport android.content.Context;\nimport android.opengl.GLES30;\nimport android.opengl.GLSurfaceView;\nimport android.opengl.Matrix;\nimport android.util.Log;\n\nimport se.hig.dvg306.modul3app.R;\nimport se.hig.dvg306.modul3app.tools.ResourceHandler;\n\npublic class Modul3Renderer implements GLSurfaceView.Renderer\n{\n    //\n    // Constructor - loads model data from a res file and creates byte buffers for\n    // vertex data and for normal data\n    //\n    public Modul3Renderer (Context context)\n    {\n        appContext = context;\n\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Creating ModelLoader...&quot;);\n        ModelLoader modelLoader = new ModelLoaderImpl ();\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      ...finished.&quot;);\n\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Loading model...&quot;);\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Starting with vertices...&quot;);\n        float[] mVerticesData; //= new float[0];\n\n        try {\n            mVerticesData = modelLoader.loadModel (context, R.raw.torus2, 0, 4, 6);\n        } catch (IOException e) {\n            throw new RuntimeException (e);\n        }\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      ...finished.&quot;);\n\n        // Process vertex data\n        // 4: because of 4 elements per vertex position\n        nbrOfVertices = mVerticesData.length / 4;\n\n        mVertices = ByteBuffer.allocateDirect(mVerticesData.length * 4)\n                .order(ByteOrder.nativeOrder()).asFloatBuffer();\n        mVertices.put(mVerticesData).position(0);\n\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      Starting with normals...&quot;);\n        float[] mNormalData; //= new float[0];\n\n        try {\n            mNormalData = modelLoader.loadModel (context, R.raw.torus2, 4, 4, 6);\n        } catch (IOException e) {\n            throw new RuntimeException (e);\n        }\n        Log.e(TAG, &quot;---&gt;&gt;&gt;      ...finished.&quot;);\n\n        // Process normal data\n        // 4: because of 4 elements per vertex position\n        nbrOfNormals = mNormalData.length / 4;\n\n        mNormals = ByteBuffer.allocateDirect(mNormalData.length * 4)\n                .order(ByteOrder.nativeOrder()).asFloatBuffer();\n        mNormals.put(mNormalData).position(0);\n    }\n\n    ///\n    // Create a shader object, load the shader source, and\n    // compile the shader.\n    //\n    private int createShader(int type, String shaderSrc )\n    {\n        int shader;\n        int[] compiled = new int[1];\n\n        // Create the shader object\n        shader = GLES30.glCreateShader ( type );\n\n        if ( shader == 0 )\n        {\n            return 0;\n        }\n\n        // Load the shader source\n        GLES30.glShaderSource ( shader, shaderSrc );\n\n        // Compile the shader\n        GLES30.glCompileShader ( shader );\n\n        // Check the compile status\n        GLES30.glGetShaderiv ( shader, GLES30.GL_COMPILE_STATUS, compiled, 0 );\n\n        if ( compiled[0] == 0 )\n        {\n            Log.e ( TAG, GLES30.glGetShaderInfoLog ( shader ) );\n            GLES30.glDeleteShader ( shader );\n            return 0;\n        }\n\n        return shader;\n    }\n\n    ///\n    // Initialize the shader and program object\n    //\n    public void onSurfaceCreated ( GL10 glUnused, EGLConfig config )\n    {\n\n        int vertexShader;\n        int fragmentShader;\n        int programObject;\n        int[] linked = new int[1];\n\n\n        // Load the source code for the vertex shader program from a res file:\n        try {\n            vShaderStr = ResourceHandler.readTextData(appContext, R.raw.vertex_shader);\n        } catch (IOException e) {\n            Log.e ( TAG, &quot;---&gt;&gt;&gt;      Could not load source code for vertex shader.&quot;);\n            throw new RuntimeException (e);\n        }\n        Log.e ( TAG, &quot;---&gt;&gt;&gt;      Loaded vertex shader: &quot; + vShaderStr);\n\n        // Load the source code for the fragment shader program from a res file:\n        try {\n            fShaderStr = ResourceHandler.readTextData(appContext, R.raw.fragment_shader);\n        } catch (IOException e) {\n            Log.e ( TAG, &quot;---&gt;&gt;&gt;      Could not load source code for fragment shader.&quot;);\n            throw new RuntimeException (e);\n        }\n        Log.e ( TAG, &quot;---&gt;&gt;&gt;      Loaded fragment shader: &quot; + fShaderStr);\n\n        // Create the vertex/fragment shaders\n        vertexShader = createShader( GLES30.GL_VERTEX_SHADER, vShaderStr );\n        fragmentShader = createShader( GLES30.GL_FRAGMENT_SHADER, fShaderStr );\n\n        // Create the program object\n        programObject = GLES30.glCreateProgram();\n\n        if ( programObject == 0 )\n        {\n            return;\n        }\n\n        GLES30.glAttachShader ( programObject, vertexShader );\n        GLES30.glAttachShader ( programObject, fragmentShader );\n\n        // Bind vPosition to attribute 0\n        GLES30.glBindAttribLocation ( programObject, 0, &quot;vPosition&quot; );\n\n        // Bind vNormal to attribute 1\n        GLES30.glBindAttribLocation ( programObject, 1, &quot;vNormal&quot; );\n\n        // Link the program\n        GLES30.glLinkProgram ( programObject );\n\n        // Check the link status\n        GLES30.glGetProgramiv ( programObject, GLES30.GL_LINK_STATUS, linked, 0 );\n\n        if ( linked[0] == 0 )\n        {\n            Log.e ( TAG, &quot;Error linking program:&quot; );\n            Log.e ( TAG, GLES30.glGetProgramInfoLog ( programObject ) );\n            GLES30.glDeleteProgram ( programObject );\n            return;\n        }\n\n        // Store the program object\n        mProgramObject = programObject;\n\n        GLES30.glClearColor ( 0.15f, 0.15f, 0.15f, 1.0f );\n        GLES30.glEnable(GLES30.GL_DEPTH_TEST);\n    }\n\n    //\n    // Draw a torus using the shader pair created in onSurfaceCreated()\n    //\n    public void onDrawFrame ( GL10 glUnused )\n    {\n        // Initiate the model-view matrix as identity matrix\n        Matrix.setIdentityM(mViewMatrix, 0);\n\n        // Define a translation transformation\n        Matrix.translateM(mViewMatrix, 0, 0.0f, 0.0f, -60.0f);\n        // Define a rotation transformation\n        Matrix.rotateM(mViewMatrix, 0, 90.0f, 1.0f, 0.0f, 0.0f);\n\n        // Calculate the model-view and projection transformation as composite transformation\n        Matrix.multiplyMM (mMVPMatrix, 0, mProjectionMatrix, 0, mViewMatrix, 0);\n\n        // Clear the color buffer\n        GLES30.glClear ( GLES30.GL_COLOR_BUFFER_BIT | GLES30.GL_DEPTH_BUFFER_BIT );\n\n        // Use the program object\n        GLES30.glUseProgram ( mProgramObject );\n\n        // Make MVP matrix accessible in the vertex shader\n        mMVPMatrixHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;uMVPMatrix&quot;);\n        GLES30.glUniformMatrix4fv(mMVPMatrixHandle, 1, false, mMVPMatrix, 0);\n\n        // Light position:\n        vLightPositionHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;vLightPosition&quot;);\n        GLES30.glUniform4fv(vLightPositionHandle, 1, lightPosition, 0);\n\n        // Light color:\n        vLightColorDfHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;vLightColorDf&quot;);\n        GLES30.glUniform4fv(vLightColorDfHandle, 1, lightColorDf, 0);\n\n        // Material color:\n        vMaterialColorDfHandle = GLES30.glGetUniformLocation(mProgramObject, &quot;vMaterialColorDf&quot;);\n        GLES30.glUniform4fv(vMaterialColorDfHandle, 1, materialColorDf, 0);\n\n        // Load the vertex data from mVertices\n        GLES30.glVertexAttribPointer ( 0, 4, GLES30.GL_FLOAT, false, 0, mVertices );\n\n\n\n        // Assign vertex data to 'in' variable bound to attribute with index 0:\n        GLES30.glEnableVertexAttribArray ( 0 );\n\n        // Load the normal data from mNormals\n        GLES30.glVertexAttribPointer ( 1, 4, GLES30.GL_FLOAT, false, 0, mNormals );\n        // Assign normal data to 'in' variable bound to attribute with index 1:\n        GLES30.glEnableVertexAttribArray ( 1 );\n\n        GLES30.glDrawArrays (GLES30.GL_TRIANGLES, 0, nbrOfVertices);\n\n        GLES30.glDisableVertexAttribArray ( 1 );\n        GLES30.glDisableVertexAttribArray ( 0 );\n    }\n\n    //\n    // Handle surface changes\n    //\n    public void onSurfaceChanged ( GL10 glUnused, int width, int height )\n    {\n        mWidth = width;\n        mHeight = height;\n\n        GLES30.glViewport(0, 0, width, height);\n\n        float ratio = (float) width / height;\n\n        // this projection matrix is applied to object coordinates\n        Matrix.frustumM(mProjectionMatrix, 0, -ratio, ratio, -1.0f, 1.0f, 0.5f, 1000.0f);\n    }\n\n    // Member variables\n\n    private Context appContext;\n\n    private int mWidth;\n    private int mHeight;\n\n    private int nbrOfVertices;\n    private FloatBuffer mVertices;\n\n    private int nbrOfNormals;\n    private FloatBuffer mNormals;\n\n    private int mProgramObject;\n    private int mMVPMatrixHandle;\n\n    // Transformation data:\n    private final float[] mMVPMatrix = new float[16];\n    private final float[] mProjectionMatrix = new float[16];\n    private final float[] mViewMatrix = new float[16];\n\n    // Light position and color (only diffuse term now):\n    private int vLightPositionHandle;\n    private final float lightPosition [] = {175.0f, 75.0f, 125.0f, 0.0f};\n    // Light color (only diffuse term now):\n    private int vLightColorDfHandle;\n    private final float lightColorDf [] = {0.98f, 0.98f, 0.98f, 1.0f};\n    // Material color (only diffuse term now):\n    private int vMaterialColorDfHandle;\n    private final float materialColorDf [] = {0.62f, 0.773f, 0.843f, 1.0f};\n\n    // To be read when creating the instance:\n    private String vShaderStr;\n    private String fShaderStr;\n\n    private static String TAG = &quot;Modul3Renderer&quot;;\n}\n</code></pre>\n<p>I've tried for the past days now to understand how to write a code that uses the Object methods but I cant wrap my head around it and decided to ask. So I hope by asking I can get some understanding how to begin.</p>\n"},{"tags":["java","eclipse","user-interface","ubuntu","freeze"],"comments":[{"owner":{"account_id":5191806,"reputation":740,"user_id":4779852,"accept_rate":76,"display_name":"Jeet Parekh"},"score":0,"creation_date":1448973830,"post_id":34020576,"comment_id":55796289,"body_markdown":"eclipse freezing is not a Java problem... try running the project from command line instead of eclipse","body":"eclipse freezing is not a Java problem... try running the project from command line instead of eclipse"},{"owner":{"account_id":7366675,"reputation":1321,"user_id":5608226,"accept_rate":100,"display_name":"Mayuso"},"score":0,"creation_date":1448973866,"post_id":34020576,"comment_id":55796309,"body_markdown":"Already tried this. And yes, using sudo command too :)","body":"Already tried this. And yes, using sudo command too :)"},{"owner":{"account_id":5191806,"reputation":740,"user_id":4779852,"accept_rate":76,"display_name":"Jeet Parekh"},"score":0,"creation_date":1448973991,"post_id":34020576,"comment_id":55796388,"body_markdown":"about UI freezing... after you run the project, does it freeze instantly when the project starts or after you do something?","body":"about UI freezing... after you run the project, does it freeze instantly when the project starts or after you do something?"},{"owner":{"account_id":7366675,"reputation":1321,"user_id":5608226,"accept_rate":100,"display_name":"Mayuso"},"score":0,"creation_date":1448974232,"post_id":34020576,"comment_id":55796529,"body_markdown":"Only when i do something, and as I already said, and I think is the &quot;funny&quot; part, it does every task well, it just freezes the UI and i have to restart it again.","body":"Only when i do something, and as I already said, and I think is the &quot;funny&quot; part, it does every task well, it just freezes the UI and i have to restart it again."},{"owner":{"account_id":5191806,"reputation":740,"user_id":4779852,"accept_rate":76,"display_name":"Jeet Parekh"},"score":0,"creation_date":1448974485,"post_id":34020576,"comment_id":55796674,"body_markdown":"I may be wrong, but maybe there is an infinite loop somewhere which you don&#39;t know about and that is causing the UI to freeze... try debugging it in eclipse doing the same things which makes it freeze. I program in notepad++ so i used the poor man&#39;s debugger... System.out.println() statements throughout the code.","body":"I may be wrong, but maybe there is an infinite loop somewhere which you don&#39;t know about and that is causing the UI to freeze... try debugging it in eclipse doing the same things which makes it freeze. I program in notepad++ so i used the poor man&#39;s debugger... System.out.println() statements throughout the code."},{"owner":{"account_id":7366675,"reputation":1321,"user_id":5608226,"accept_rate":100,"display_name":"Mayuso"},"score":0,"creation_date":1448974670,"post_id":34020576,"comment_id":55796784,"body_markdown":"You mean on my code? The only project i have at the moment is a project with only one Main class that has a main with System.out.println(&quot;Test&quot;);, nothing else.  (I tried deleting the workspace, thats why I only have this now)","body":"You mean on my code? The only project i have at the moment is a project with only one Main class that has a main with System.out.println(&quot;Test&quot;);, nothing else.  (I tried deleting the workspace, thats why I only have this now)"},{"owner":{"account_id":5191806,"reputation":740,"user_id":4779852,"accept_rate":76,"display_name":"Jeet Parekh"},"score":0,"creation_date":1448974875,"post_id":34020576,"comment_id":55796920,"body_markdown":"well then I don&#39;t know what may be wrong","body":"well then I don&#39;t know what may be wrong"},{"owner":{"account_id":3150862,"reputation":11755,"user_id":2664350,"display_name":"piet.t"},"score":0,"creation_date":1449218010,"post_id":34020576,"comment_id":55920421,"body_markdown":"You might take a look at your eclipse log in your workspace under `.metadata/.log` - you might find something helpful there.","body":"You might take a look at your eclipse log in your workspace under <code>.metadata&#47;.log</code> - you might find something helpful there."},{"owner":{"account_id":7366675,"reputation":1321,"user_id":5608226,"accept_rate":100,"display_name":"Mayuso"},"score":0,"creation_date":1449226658,"post_id":34020576,"comment_id":55925592,"body_markdown":"Thanks for your answer, there is not .metadata folder in my workspace. Could that be the problem?","body":"Thanks for your answer, there is not .metadata folder in my workspace. Could that be the problem?"},{"owner":{"account_id":3150862,"reputation":11755,"user_id":2664350,"display_name":"piet.t"},"score":0,"creation_date":1449231104,"post_id":34020576,"comment_id":55928207,"body_markdown":"Note that the name starts with `.`, so it&#39;s a hidden folder. `ls -la` in a terminal should show it.","body":"Note that the name starts with <code>.</code>, so it&#39;s a hidden folder. <code>ls -la</code> in a terminal should show it."},{"owner":{"account_id":7366675,"reputation":1321,"user_id":5608226,"accept_rate":100,"display_name":"Mayuso"},"score":0,"creation_date":1449232296,"post_id":34020576,"comment_id":55928924,"body_markdown":"Updated with Log file.","body":"Updated with Log file."}],"answers":[{"comments":[{"owner":{"account_id":7366675,"reputation":1321,"user_id":5608226,"accept_rate":100,"display_name":"Mayuso"},"score":0,"creation_date":1449646825,"post_id":34103354,"comment_id":56093178,"body_markdown":"I tried this. Only prints a bunch of Theads are waiting, a couple Runnable and a few others Timed_Waiting. (I&#180;m  guessing this last one is an error? I can&#180;t find any information about this)","body":"I tried this. Only prints a bunch of Theads are waiting, a couple Runnable and a few others Timed_Waiting. (I&#180;m  guessing this last one is an error? I can&#180;t find any information about this)"},{"owner":{"account_id":1768581,"reputation":13132,"user_id":1613867,"display_name":"dan"},"score":0,"creation_date":1449650481,"post_id":34103354,"comment_id":56095184,"body_markdown":"@Mayuso You should check if your `Main` thread is in a waiting/locked state. The order of the stack traces in the thread dump is not relevant. But, if you will not find your `Main` thread in the list and you are saying that this is happening with NetBeans, then it means that you java a `JVM` issue, have you tried with another `JVM`? Maybe try `1.7` or `OpenJVM`.","body":"@Mayuso You should check if your <code>Main</code> thread is in a waiting/locked state. The order of the stack traces in the thread dump is not relevant. But, if you will not find your <code>Main</code> thread in the list and you are saying that this is happening with NetBeans, then it means that you java a <code>JVM</code> issue, have you tried with another <code>JVM</code>? Maybe try <code>1.7</code> or <code>OpenJVM</code>."},{"owner":{"account_id":7366675,"reputation":1321,"user_id":5608226,"accept_rate":100,"display_name":"Mayuso"},"score":0,"creation_date":1449650748,"post_id":34103354,"comment_id":56095346,"body_markdown":"Main is in &quot;Runnable&quot; State.","body":"Main is in &quot;Runnable&quot; State."},{"owner":{"account_id":7366675,"reputation":1321,"user_id":5608226,"accept_rate":100,"display_name":"Mayuso"},"score":0,"creation_date":1449653952,"post_id":34103354,"comment_id":56097461,"body_markdown":"Updated. There it is :)","body":"Updated. There it is :)"},{"owner":{"account_id":1768581,"reputation":13132,"user_id":1613867,"display_name":"dan"},"score":0,"creation_date":1449654255,"post_id":34103354,"comment_id":56097664,"body_markdown":"@Mayuso Have you tried disabling GTK? it seems related to GTK like Zoltan suggested. And then change the change the GTK2 theme to something else than oxygen, it seems that there are reports that the oxygen theme is affecting eclipse too.","body":"@Mayuso Have you tried disabling GTK? it seems related to GTK like Zoltan suggested. And then change the change the GTK2 theme to something else than oxygen, it seems that there are reports that the oxygen theme is affecting eclipse too."}],"tags":[],"owner":{"account_id":1768581,"reputation":13132,"user_id":1613867,"display_name":"dan"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1449308212,"creation_date":1449308212,"answer_id":34103354,"question_id":34020576,"body_markdown":"You should generate a java thread dump of the eclipse process, like:\r\n\r\n 1. Establish the process id:\r\n \r\n        jps -lv\r\n    Identify the line that is representing the eclipse instance and remember the first number on the line, the process id.\r\n 2. Trigger the thread dump, using the process id:\r\n\r\n        jstack -l process_id &gt; jstack.out\r\n\r\nThis way you will get a stack trace for each thread that is alive in that `JVM` at that moment. From here you should be able to identify why your program is not running. ","title":"Eclipse freezes UI on Ubuntu","body":"<p>You should generate a java thread dump of the eclipse process, like:</p>\n\n<ol>\n<li><p>Establish the process id:</p>\n\n<pre><code>jps -lv\n</code></pre>\n\n<p>Identify the line that is representing the eclipse instance and remember the first number on the line, the process id.</p></li>\n<li><p>Trigger the thread dump, using the process id:</p>\n\n<pre><code>jstack -l process_id &gt; jstack.out\n</code></pre></li>\n</ol>\n\n<p>This way you will get a stack trace for each thread that is alive in that <code>JVM</code> at that moment. From here you should be able to identify why your program is not running. </p>\n"},{"comments":[{"owner":{"account_id":33004,"reputation":5149,"user_id":92018,"accept_rate":100,"display_name":"KarlP"},"score":0,"creation_date":1461263724,"post_id":34152376,"comment_id":61131998,"body_markdown":"This cured eclipse 4.5.2 that appeared to be spinning on one core on a call to org.eclipse.swt.internal.gtk.os.Call[native].  The particular version is  libgtk 3.18.9-1ubuntu3. Thanks! I was seriously considering to boot windows 10.","body":"This cured eclipse 4.5.2 that appeared to be spinning on one core on a call to org.eclipse.swt.internal.gtk.os.Call[native].  The particular version is  libgtk 3.18.9-1ubuntu3. Thanks! I was seriously considering to boot windows 10."}],"tags":[],"owner":{"account_id":39605,"reputation":13788,"user_id":114313,"display_name":"Zolt&#225;n Ujhelyi"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1449567339,"creation_date":1449567339,"answer_id":34152376,"question_id":34020576,"body_markdown":"The Eclipse UI on Linux is by default using GTK 3 to display contents, but I have found that there are often issues. I am not exactly sure whether this is the source of the issue, but you could check it by disabling the GTK 3 support using an environment variable setting: `export SWT_GTK3=0`. However, until you have found out, this is the source of the issue, I would not turn it on permanently.","title":"Eclipse freezes UI on Ubuntu","body":"<p>The Eclipse UI on Linux is by default using GTK 3 to display contents, but I have found that there are often issues. I am not exactly sure whether this is the source of the issue, but you could check it by disabling the GTK 3 support using an environment variable setting: <code>export SWT_GTK3=0</code>. However, until you have found out, this is the source of the issue, I would not turn it on permanently.</p>\n"},{"comments":[{"owner":{"account_id":5952173,"reputation":1249,"user_id":4679838,"accept_rate":91,"display_name":"MouTio"},"score":0,"creation_date":1464729616,"post_id":34175884,"comment_id":62600434,"body_markdown":"I tried this but the problem remains.\nDownloading the eclipse neon version fixed the problem for me.","body":"I tried this but the problem remains. Downloading the eclipse neon version fixed the problem for me."},{"owner":{"account_id":1010747,"reputation":4543,"user_id":1023375,"accept_rate":100,"display_name":"Bram"},"score":0,"creation_date":1470140662,"post_id":34175884,"comment_id":64816830,"body_markdown":"this solved the problem for me. I am running ubuntu 16.04 too :)","body":"this solved the problem for me. I am running ubuntu 16.04 too :)"}],"tags":[],"owner":{"account_id":7366675,"reputation":1321,"user_id":5608226,"accept_rate":100,"display_name":"Mayuso"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1452775394,"creation_date":1449655385,"answer_id":34175884,"question_id":34020576,"body_markdown":"I already found the problem. As Zolt&#225;n and Dan pointed out, GTK was the problem. \r\n\r\n**Solution:** (Only tested on Eclipse): \r\n\r\n 1. Go to Window&gt;Preferences&gt;General&gt;Appearance.\r\n 2. Change &quot;GTK&quot; Theme for any other theme you like.\r\n\r\n\r\nThis fixed the problem for me.","title":"Eclipse freezes UI on Ubuntu","body":"<p>I already found the problem. As Zoltán and Dan pointed out, GTK was the problem. </p>\n\n<p><strong>Solution:</strong> (Only tested on Eclipse): </p>\n\n<ol>\n<li>Go to Window>Preferences>General>Appearance.</li>\n<li>Change \"GTK\" Theme for any other theme you like.</li>\n</ol>\n\n<p>This fixed the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":185100,"reputation":3489,"user_id":421602,"accept_rate":40,"display_name":"vorburger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462201095,"creation_date":1462201095,"answer_id":36985512,"question_id":34020576,"body_markdown":"Opened https://bugs.eclipse.org/bugs/show_bug.cgi?id=492829 to track this as likely bug in SWT / GTK3 interaction.","title":"Eclipse freezes UI on Ubuntu","body":"<p>Opened <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=492829\" rel=\"nofollow\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=492829</a> to track this as likely bug in SWT / GTK3 interaction.</p>\n"},{"tags":[],"owner":{"account_id":449158,"reputation":1,"user_id":7869973,"display_name":"rajakanthan ramalingam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492228634,"creation_date":1492228634,"answer_id":43422041,"question_id":34020576,"body_markdown":"I think this problem occurs with earlier version of Eclipse. I tried with Eclipse Mars for Java and J2ee both. \r\nI checked in the Neon version; this issue is not occurring. Eclipse is not freezing.","title":"Eclipse freezes UI on Ubuntu","body":"<p>I think this problem occurs with earlier version of Eclipse. I tried with Eclipse Mars for Java and J2ee both. \nI checked in the Neon version; this issue is not occurring. Eclipse is not freezing.</p>\n"},{"tags":[],"owner":{"account_id":2463162,"reputation":37,"user_id":2146837,"display_name":"SamL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674489470,"creation_date":1674489470,"answer_id":75211950,"question_id":34020576,"body_markdown":"In eclipse.ini increasing heap to 1GB seems to slove the issue for me. You can see how much heap is utilized when enabled heap usage in \r\nGo to Window&gt;Preferences&gt;General\r\n\r\n[![enter image description here][1]][1]\r\n\r\nInfo displays at the bottom of UI\r\n[![enter image description here][2]][2]\r\n\r\neclipse.ini changes\r\n\r\n[![enter image description here][3]][3]\r\n\r\nHope this will help. (Mine was 256m and increased to 1024m -- some time I can see it goes over 600m)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hyDMM.png\r\n  [2]: https://i.stack.imgur.com/IJ1jf.png\r\n  [3]: https://i.stack.imgur.com/iJ6Nj.png","title":"Eclipse freezes UI on Ubuntu","body":"<p>In eclipse.ini increasing heap to 1GB seems to slove the issue for me. You can see how much heap is utilized when enabled heap usage in\nGo to Window&gt;Preferences&gt;General</p>\n<p><a href=\"https://i.stack.imgur.com/hyDMM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hyDMM.png\" alt=\"enter image description here\" /></a></p>\n<p>Info displays at the bottom of UI\n<a href=\"https://i.stack.imgur.com/IJ1jf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IJ1jf.png\" alt=\"enter image description here\" /></a></p>\n<p>eclipse.ini changes</p>\n<p><a href=\"https://i.stack.imgur.com/iJ6Nj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iJ6Nj.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope this will help. (Mine was 256m and increased to 1024m -- some time I can see it goes over 600m)</p>\n"}],"owner":{"account_id":7366675,"reputation":1321,"user_id":5608226,"accept_rate":100,"display_name":"Mayuso"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13017,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":34175884,"answer_count":6,"score":12,"last_activity_date":1674489470,"creation_date":1448973286,"question_id":34020576,"body_markdown":"I have recently installed ubuntu 16.04 (updated automatically to this version) and I usually develop in Java, and I know eclipse, so I installed it, all fine.\r\n\r\nI configured everything needed (Java path, JDK...nothing special), works fine, except for the Eclipse UI.\r\n\r\nThe UI freezes every time I create a project (Although the project is created correctly), every time I run any program (Although the program runs as it should (not always correctly xD, but thats my fault)), and with many other tasks.\r\n\r\nAny idea why this can happen? And even better, how to solve it?\r\n\r\nI also double checked what JRE I&#180;m using (As I found people having problems with open source software), I use oracle&#180;s version (Not sure about the name right now, sorry, version 8).\r\nEverything on it&#180;s 64 bit version.\r\n\r\nEdit: I forgot to mention I use Mars version. Also, I just installed NetBeans (8.1), exact same problem, then I thought it was graphics drivers problems, installed that again, still have the same problem. No idea what to try now.\r\n\r\n**UPDATE:** Checked log file. I see nothing strange, but might be missing something:\r\n\r\n    !SESSION 2015-12-04 13:24:38.930     -----------------------------------------------\r\n     eclipse.buildId=4.5.1.M20150904-0015\r\n     java.version=1.8.0_66\r\n     java.vendor=Oracle Corporation\r\n     BootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=es_ES\r\n     Command-line arguments:  -os linux -ws gtk -arch x86_64\r\n\r\n     !ENTRY org.eclipse.core.resources 2 10035 2015-12-04 13:24:40.542\r\n     !MESSAGE The workspace exited with unsaved changes in the previous session; refreshing workspace to recover changes.\r\n\r\n\r\n**UPDATE 2:** I just run the commands @dan suggested. Here is the result\r\n\r\n   \r\n\r\n     &quot;main&quot; #1 prio=6 os_prio=0 tid=0x00007f0ec000a000 nid=0x26e0 runnable [0x00007f0ec9a18000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \tat org.eclipse.swt.internal.gtk.OS._gtk_widget_get_allocation(Native Method)\r\n    \tat org.eclipse.swt.internal.gtk.OS.gtk_widget_get_allocation(OS.java:14234)\r\n    \tat org.eclipse.swt.widgets.Control.getBounds(Control.java:832)\r\n    \tat org.eclipse.jface.fieldassist.ControlDecoration.getDecorationRectangle(ControlDecoration.java:1185)\r\n    \tat org.eclipse.jface.fieldassist.ControlDecoration$3.paintControl(ControlDecoration.java:635)\r\n    \tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:230)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\r\n    \tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4481)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1329)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1353)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1338)\r\n    \tat org.eclipse.swt.widgets.Control.gtk_draw(Control.java:3219)\r\n    \tat org.eclipse.swt.widgets.Canvas.gtk_draw(Canvas.java:171)\r\n    \tat org.eclipse.swt.widgets.Shell.gtk_draw(Shell.java:1306)\r\n    \tat org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1942)\r\n    \tat org.eclipse.swt.widgets.Control.windowProc(Control.java:5590)\r\n    \tat org.eclipse.swt.widgets.Display.windowProc(Display.java:4717)\r\n    \tat org.eclipse.swt.internal.gtk.OS._gtk_main_do_event(Native Method)\r\n    \tat org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(OS.java:9279)\r\n    \tat org.eclipse.swt.widgets.Display.eventProc(Display.java:1225)\r\n    \tat org.eclipse.swt.internal.gtk.OS._g_main_context_iteration(Native Method)\r\n    \tat org.eclipse.swt.internal.gtk.OS.g_main_context_iteration(OS.java:2425)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3428)\r\n    \tat org.eclipse.jface.operation.ModalContext$ModalContextThread.block(ModalContext.java:172)\r\n    \tat org.eclipse.jface.operation.ModalContext.run(ModalContext.java:387)\r\n    \tat org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:1002)\r\n    \tat org.eclipse.jdt.internal.ui.wizards.NewElementWizard.performFinish(NewElementWizard.java:134)\r\n    \tat org.eclipse.jdt.internal.ui.wizards.NewClassCreationWizard.performFinish(NewClassCreationWizard.java:80)\r\n    \tat org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:799)\r\n    \tat org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:429)\r\n    \tat org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:619)\r\n    \tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:248)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\r\n    \tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4481)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1329)\r\n    \tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3819)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3430)\r\n    \tat org.eclipse.jface.window.Window.runEventLoop(Window.java:827)\r\n    \tat org.eclipse.jface.window.Window.open(Window.java:803)\r\n    \tat org.eclipse.ui.internal.navigator.wizards.WizardShortcutAction.run(WizardShortcutAction.java:99)\r\n    \tat org.eclipse.jface.action.Action.runWithEvent(Action.java:473)\r\n    \tat org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:595)\r\n    \tat org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:511)\r\n    \tat org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:420)\r\n    \tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\r\n    \tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4481)\r\n    \tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1329)\r\n    \tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3819)\r\n    \tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3430)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$4.run(PartRenderingEngine.java:1127)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:337)\r\n    \tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1018)\r\n    \tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:156)\r\n    \tat org.eclipse.ui.internal.Workbench$5.run(Workbench.java:654)\r\n    \tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:337)\r\n    \tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:598)\r\n    \tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150)\r\n    \tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:139)\r\n    \tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:380)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:235)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:669)\r\n    \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:608)\r\n    \tat org.eclipse.equinox.launcher.Main.run(Main.java:1515)\r\n    \tat org.eclipse.equinox.launcher.Main.main(Main.java:1488)\r\n    \r\n       Locked ownable synchronizers:\r\n    \t- None","title":"Eclipse freezes UI on Ubuntu","body":"<p>I have recently installed ubuntu 16.04 (updated automatically to this version) and I usually develop in Java, and I know eclipse, so I installed it, all fine.</p>\n\n<p>I configured everything needed (Java path, JDK...nothing special), works fine, except for the Eclipse UI.</p>\n\n<p>The UI freezes every time I create a project (Although the project is created correctly), every time I run any program (Although the program runs as it should (not always correctly xD, but thats my fault)), and with many other tasks.</p>\n\n<p>Any idea why this can happen? And even better, how to solve it?</p>\n\n<p>I also double checked what JRE I´m using (As I found people having problems with open source software), I use oracle´s version (Not sure about the name right now, sorry, version 8).\nEverything on it´s 64 bit version.</p>\n\n<p>Edit: I forgot to mention I use Mars version. Also, I just installed NetBeans (8.1), exact same problem, then I thought it was graphics drivers problems, installed that again, still have the same problem. No idea what to try now.</p>\n\n<p><strong>UPDATE:</strong> Checked log file. I see nothing strange, but might be missing something:</p>\n\n<pre><code>!SESSION 2015-12-04 13:24:38.930     -----------------------------------------------\n eclipse.buildId=4.5.1.M20150904-0015\n java.version=1.8.0_66\n java.vendor=Oracle Corporation\n BootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=es_ES\n Command-line arguments:  -os linux -ws gtk -arch x86_64\n\n !ENTRY org.eclipse.core.resources 2 10035 2015-12-04 13:24:40.542\n !MESSAGE The workspace exited with unsaved changes in the previous session; refreshing workspace to recover changes.\n</code></pre>\n\n<p><strong>UPDATE 2:</strong> I just run the commands @dan suggested. Here is the result</p>\n\n<pre><code> \"main\" #1 prio=6 os_prio=0 tid=0x00007f0ec000a000 nid=0x26e0 runnable [0x00007f0ec9a18000]\n   java.lang.Thread.State: RUNNABLE\n    at org.eclipse.swt.internal.gtk.OS._gtk_widget_get_allocation(Native Method)\n    at org.eclipse.swt.internal.gtk.OS.gtk_widget_get_allocation(OS.java:14234)\n    at org.eclipse.swt.widgets.Control.getBounds(Control.java:832)\n    at org.eclipse.jface.fieldassist.ControlDecoration.getDecorationRectangle(ControlDecoration.java:1185)\n    at org.eclipse.jface.fieldassist.ControlDecoration$3.paintControl(ControlDecoration.java:635)\n    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:230)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4481)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1329)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1353)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1338)\n    at org.eclipse.swt.widgets.Control.gtk_draw(Control.java:3219)\n    at org.eclipse.swt.widgets.Canvas.gtk_draw(Canvas.java:171)\n    at org.eclipse.swt.widgets.Shell.gtk_draw(Shell.java:1306)\n    at org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1942)\n    at org.eclipse.swt.widgets.Control.windowProc(Control.java:5590)\n    at org.eclipse.swt.widgets.Display.windowProc(Display.java:4717)\n    at org.eclipse.swt.internal.gtk.OS._gtk_main_do_event(Native Method)\n    at org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(OS.java:9279)\n    at org.eclipse.swt.widgets.Display.eventProc(Display.java:1225)\n    at org.eclipse.swt.internal.gtk.OS._g_main_context_iteration(Native Method)\n    at org.eclipse.swt.internal.gtk.OS.g_main_context_iteration(OS.java:2425)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3428)\n    at org.eclipse.jface.operation.ModalContext$ModalContextThread.block(ModalContext.java:172)\n    at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:387)\n    at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:1002)\n    at org.eclipse.jdt.internal.ui.wizards.NewElementWizard.performFinish(NewElementWizard.java:134)\n    at org.eclipse.jdt.internal.ui.wizards.NewClassCreationWizard.performFinish(NewClassCreationWizard.java:80)\n    at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:799)\n    at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:429)\n    at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:619)\n    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:248)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4481)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1329)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3819)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3430)\n    at org.eclipse.jface.window.Window.runEventLoop(Window.java:827)\n    at org.eclipse.jface.window.Window.open(Window.java:803)\n    at org.eclipse.ui.internal.navigator.wizards.WizardShortcutAction.run(WizardShortcutAction.java:99)\n    at org.eclipse.jface.action.Action.runWithEvent(Action.java:473)\n    at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:595)\n    at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:511)\n    at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:420)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4481)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1329)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3819)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3430)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$4.run(PartRenderingEngine.java:1127)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:337)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1018)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:156)\n    at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:654)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:337)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:598)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:139)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:380)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:235)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:669)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:608)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1515)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1488)\n\n   Locked ownable synchronizers:\n    - None\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"comments":[{"owner":{"account_id":25382545,"reputation":49,"user_id":19194731,"display_name":"Lemon_prog"},"score":0,"creation_date":1674489651,"post_id":75211916,"comment_id":132719660,"body_markdown":"Thanks man, it worked. I thought i could just send the primary key, good to know. The null fields i just used to create the full request, i&#39;m not actually saving this way.","body":"Thanks man, it worked. I thought i could just send the primary key, good to know. The null fields i just used to create the full request, i&#39;m not actually saving this way."}],"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674489347,"creation_date":1674489347,"answer_id":75211916,"question_id":75211803,"body_markdown":"You&#39;re getting this error because you&#39;re sending the value of `&quot;1&quot;` for the object `Pessoa`.  You need to pass the fields in the object, something like this should work.\r\n\r\n`{ &quot;logradouro&quot;: &quot;null&quot;, &quot;cep&quot;: &quot;354&quot;, &quot;numero&quot;: &quot;null&quot;, &quot;cidade&quot;: &quot;null&quot;, &quot;pessoa&quot;: {&quot;id&quot;: 1} }`\r\n\r\nAlso, I&#39;m not sure what &quot;null&quot; means here, but if you want those fields to be null, don&#39;t send them.  The way this is written, you&#39;re going to end up with the word `null` everywhere.\r\n\r\n\r\n","title":"Error when trying to map foreing key in SpringBoot","body":"<p>You're getting this error because you're sending the value of <code>&quot;1&quot;</code> for the object <code>Pessoa</code>.  You need to pass the fields in the object, something like this should work.</p>\n<p><code>{ &quot;logradouro&quot;: &quot;null&quot;, &quot;cep&quot;: &quot;354&quot;, &quot;numero&quot;: &quot;null&quot;, &quot;cidade&quot;: &quot;null&quot;, &quot;pessoa&quot;: {&quot;id&quot;: 1} }</code></p>\n<p>Also, I'm not sure what &quot;null&quot; means here, but if you want those fields to be null, don't send them.  The way this is written, you're going to end up with the word <code>null</code> everywhere.</p>\n"}],"owner":{"account_id":25382545,"reputation":49,"user_id":19194731,"display_name":"Lemon_prog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75211916,"answer_count":1,"score":1,"last_activity_date":1674489347,"creation_date":1674488809,"question_id":75211803,"body_markdown":"I&#39;m trying to create an API for saving a Person and its Address, like in this model:\r\n\r\n![Text](https://i.ibb.co/zfydx22/arw.png)\r\n\r\nAnd i&#39;m getting this error when trying to save an address with a foreing key:\r\n\r\n```\r\nResolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: \r\nCannot construct instance of `com.apitest.api.model.Pessoa` (although at least one Creator exists): \r\nno int/Int-argument constructor/factory method to deserialize from Number value (1)]\r\n\r\n```\r\n\r\nI know it seems like a parser error, but it just happens when i do a request that contains the fk field, so:\r\n\r\nThis is a valid request:\r\n\r\n{\r\n    &quot;logradouro&quot;: &quot;test&quot;,\r\n    &quot;cep&quot;: &quot;354&quot;,\r\n    &quot;numero&quot;: &quot;test&quot;,\r\n    &quot;cidade&quot;: &quot;test&quot;\r\n}\r\n\r\nThis one i get a 400 bad request:\r\n\r\n{\r\n    &quot;logradouro&quot;: &quot;null&quot;,\r\n    &quot;cep&quot;: &quot;354&quot;,\r\n    &quot;numero&quot;: &quot;null&quot;,\r\n    &quot;cidade&quot;: &quot;null&quot;,\r\n    &quot;pessoa&quot;: 1\r\n}\r\n\r\nJust by adding the fk field, like i said.\r\n\r\nModels:\r\n\r\nPerson\r\n```\r\npackage com.apitest.api.model;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.FetchType;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.OneToMany;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;pessoa&quot;)\r\npublic class Pessoa {\r\n\r\n\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n\r\n    @Column(name = &quot;nome&quot;)\r\n    private String nome;\r\n\r\n    @Column(name = &quot;dataNascimento&quot;)\r\n    private Date dataNascimento;\r\n\r\n    \r\n    public Pessoa(Integer id, String nome, Date dataNascimento) {\r\n        this.id = id;\r\n        this.nome = nome;\r\n        this.dataNascimento = dataNascimento;\r\n    }\r\n\r\n    public Pessoa(){\r\n\r\n    };\r\n\r\n\r\n    public Integer getId() {\r\n        return this.id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getNome() {\r\n        return nome;\r\n    }\r\n\r\n    public void setNome(String nome) {\r\n        this.nome = nome;\r\n    }\r\n\r\n    public Date getDataNascimento() {\r\n        return dataNascimento;\r\n    }\r\n\r\n    public void setDataNascimento(Date dataNascimento) {\r\n        this.dataNascimento = dataNascimento;\r\n    }\r\n\r\n   \r\n\r\n \r\n\r\n}\r\n```\r\n\r\nAddress\r\n```\r\n\r\npackage com.apitest.api.model;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.JoinColumn;\r\nimport jakarta.persistence.ManyToOne;\r\nimport jakarta.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;endereco&quot;)\r\npublic class Endereco {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer id_endereco;\r\n\r\n    @Column(name = &quot;logradouro&quot;)\r\n    private String logradouro;\r\n\r\n    @Column(name = &quot;cep&quot;)\r\n    private String cep;\r\n\r\n    @Column(name = &quot;numero&quot;)\r\n    private String numero;\r\n\r\n\r\n    @Column(name = &quot;cidade&quot;)\r\n    private String cidade;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;id&quot;)\r\n    private Pessoa pessoa;\r\n\r\n    \r\n\r\n    public Endereco(Integer id_endereco, String logradouro, String cep, String numero, String cidade, Pessoa pessoa) {\r\n        this.id_endereco = id_endereco;\r\n        this.logradouro = logradouro;\r\n        this.cep = cep;\r\n        this.numero = numero;\r\n        this.cidade = cidade;\r\n        this.pessoa = pessoa;\r\n    }\r\n\r\n    public Endereco(){\r\n\r\n    };\r\n\r\n\r\n    public String getLogradouro() {\r\n        return logradouro;\r\n    }\r\n\r\n\r\n    public void setLogradouro(String logradouro) {\r\n        this.logradouro = logradouro;\r\n    }\r\n\r\n\r\n    public String getCep() {\r\n        return cep;\r\n    }\r\n\r\n\r\n    public void setCep(String cep) {\r\n        this.cep = cep;\r\n    }\r\n\r\n\r\n    public String getNumero() {\r\n        return numero;\r\n    }\r\n\r\n\r\n    public void setNumero(String numero) {\r\n        this.numero = numero;\r\n    }\r\n\r\n\r\n    public String getCidade() {\r\n        return cidade;\r\n    }\r\n\r\n\r\n    public void setCidade(String cidade) {\r\n        this.cidade = cidade;\r\n    }\r\n\r\n\r\n    public Pessoa getPessoa() {\r\n        return pessoa;\r\n    }\r\n\r\n\r\n    public void setPessoa(Pessoa pessoa) {\r\n        this.pessoa = pessoa;\r\n    }\r\n\r\n\r\n    public Integer getId_endereco() {\r\n        return id_endereco;\r\n    }\r\n\r\n\r\n    public void setId_endereco(Integer id_endereco) {\r\n        this.id_endereco = id_endereco;\r\n    }\r\n\r\n    \r\n}\r\n\r\n\r\n\r\n```\r\n\r\nControllers:\r\n\r\nPerson\r\n```\r\npackage com.apitest.api.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.apitest.api.model.Pessoa;\r\n\r\nimport com.apitest.api.service.PessoaService;\r\n\r\n@RestController\r\npublic class PessoaController {\r\n\r\n    @Autowired\r\n    private PessoaService pessoaService;\r\n\r\n    @PostMapping(&quot;/pessoas&quot;)\r\n    public ResponseEntity&lt;Pessoa&gt; createPessoa(@RequestBody Pessoa pessoa){\r\n\r\n        return ResponseEntity.ok().body(this.pessoaService.createPessoa(pessoa));\r\n\r\n    }\r\n    \r\n}\r\n\r\n\r\n```\r\nAddress\r\n```\r\npackage com.apitest.api.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.apitest.api.model.Endereco;\r\nimport com.apitest.api.service.EnderecoService;\r\n\r\n@RestController\r\npublic class EnderecoController {\r\n\r\n    @Autowired\r\n    private EnderecoService enderecoService;\r\n\r\n\r\n    @PostMapping(&quot;/endereco&quot;)\r\n    public ResponseEntity&lt;Endereco&gt; createEndereco(@RequestBody Endereco endereco){\r\n\r\n        return ResponseEntity.ok().body(this.enderecoService.createEndereco(endereco));\r\n\r\n    }\r\n\r\n\r\n    \r\n}\r\n\r\n```\r\nService:\r\n\r\nPerson\r\n```\r\npackage com.apitest.api.service;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport com.apitest.api.model.Pessoa;\r\nimport com.apitest.api.repository.PessoaRepository;\r\n\r\n@Service\r\n@Transactional\r\npublic class PessoaServiceImpl implements PessoaService {\r\n\r\n    @Autowired\r\n    private PessoaRepository pessoaRepository;\r\n\r\n    @Override\r\n    public Pessoa createPessoa(Pessoa pessoa) {\r\n        return pessoaRepository.save(pessoa);\r\n    }\r\n\r\n    @Override\r\n    public Pessoa updatePessoa(Pessoa pessoa) {\r\n        Optional&lt;Pessoa&gt; pessoaDb = this.pessoaRepository.findById(pessoa.getId());\r\n        \r\n        Pessoa pessoaUpdate = pessoaDb.get();\r\n        pessoaUpdate.setId(pessoa.getId());\r\n        pessoaUpdate.setNome(pessoa.getNome());\r\n\r\n        return pessoaUpdate;\r\n    }\r\n\r\n    @Override\r\n    public Pessoa getPessoaById(Pessoa pessoa) {\r\n        // TODO Auto-generated method stub\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Pessoa&gt; getAllPessoa() {\r\n        // TODO Auto-generated method stub\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void deletePessoa(long pessoaId) {\r\n        // TODO Auto-generated method stub\r\n        \r\n    }\r\n    \r\n}\r\n\r\n```\r\nAddress\r\n```\r\npackage com.apitest.api.service;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.apitest.api.model.Endereco;\r\nimport com.apitest.api.repository.EnderecoRepository;\r\nimport com.apitest.api.repository.PessoaRepository;\r\n\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n@Service\r\n@Transactional\r\npublic class EnderecoServiceImpl implements EnderecoService {\r\n\r\n    @Autowired\r\n    private EnderecoRepository enderecoRepository;\r\n\r\n\r\n    @Override\r\n    public Endereco createEndereco(Endereco endereco) {\r\n\r\n        return enderecoRepository.save(endereco);\r\n\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nI have already tried to use JsonCreator and JsonProperty annotations but did not worked for me...\r\nAny help would be appreciated.\r\n\r\n\r\n","title":"Error when trying to map foreing key in SpringBoot","body":"<p>I'm trying to create an API for saving a Person and its Address, like in this model:</p>\n<p><img src=\"https://i.ibb.co/zfydx22/arw.png\" alt=\"Text\" /></p>\n<p>And i'm getting this error when trying to save an address with a foreing key:</p>\n<pre><code>Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: \nCannot construct instance of `com.apitest.api.model.Pessoa` (although at least one Creator exists): \nno int/Int-argument constructor/factory method to deserialize from Number value (1)]\n\n</code></pre>\n<p>I know it seems like a parser error, but it just happens when i do a request that contains the fk field, so:</p>\n<p>This is a valid request:</p>\n<p>{\n&quot;logradouro&quot;: &quot;test&quot;,\n&quot;cep&quot;: &quot;354&quot;,\n&quot;numero&quot;: &quot;test&quot;,\n&quot;cidade&quot;: &quot;test&quot;\n}</p>\n<p>This one i get a 400 bad request:</p>\n<p>{\n&quot;logradouro&quot;: &quot;null&quot;,\n&quot;cep&quot;: &quot;354&quot;,\n&quot;numero&quot;: &quot;null&quot;,\n&quot;cidade&quot;: &quot;null&quot;,\n&quot;pessoa&quot;: 1\n}</p>\n<p>Just by adding the fk field, like i said.</p>\n<p>Models:</p>\n<p>Person</p>\n<pre><code>package com.apitest.api.model;\n\nimport java.util.Date;\nimport java.util.List;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.OneToMany;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;pessoa&quot;)\npublic class Pessoa {\n\n\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n\n    @Column(name = &quot;nome&quot;)\n    private String nome;\n\n    @Column(name = &quot;dataNascimento&quot;)\n    private Date dataNascimento;\n\n    \n    public Pessoa(Integer id, String nome, Date dataNascimento) {\n        this.id = id;\n        this.nome = nome;\n        this.dataNascimento = dataNascimento;\n    }\n\n    public Pessoa(){\n\n    };\n\n\n    public Integer getId() {\n        return this.id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public Date getDataNascimento() {\n        return dataNascimento;\n    }\n\n    public void setDataNascimento(Date dataNascimento) {\n        this.dataNascimento = dataNascimento;\n    }\n\n   \n\n \n\n}\n</code></pre>\n<p>Address</p>\n<pre><code>\npackage com.apitest.api.model;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;endereco&quot;)\npublic class Endereco {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id_endereco;\n\n    @Column(name = &quot;logradouro&quot;)\n    private String logradouro;\n\n    @Column(name = &quot;cep&quot;)\n    private String cep;\n\n    @Column(name = &quot;numero&quot;)\n    private String numero;\n\n\n    @Column(name = &quot;cidade&quot;)\n    private String cidade;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;id&quot;)\n    private Pessoa pessoa;\n\n    \n\n    public Endereco(Integer id_endereco, String logradouro, String cep, String numero, String cidade, Pessoa pessoa) {\n        this.id_endereco = id_endereco;\n        this.logradouro = logradouro;\n        this.cep = cep;\n        this.numero = numero;\n        this.cidade = cidade;\n        this.pessoa = pessoa;\n    }\n\n    public Endereco(){\n\n    };\n\n\n    public String getLogradouro() {\n        return logradouro;\n    }\n\n\n    public void setLogradouro(String logradouro) {\n        this.logradouro = logradouro;\n    }\n\n\n    public String getCep() {\n        return cep;\n    }\n\n\n    public void setCep(String cep) {\n        this.cep = cep;\n    }\n\n\n    public String getNumero() {\n        return numero;\n    }\n\n\n    public void setNumero(String numero) {\n        this.numero = numero;\n    }\n\n\n    public String getCidade() {\n        return cidade;\n    }\n\n\n    public void setCidade(String cidade) {\n        this.cidade = cidade;\n    }\n\n\n    public Pessoa getPessoa() {\n        return pessoa;\n    }\n\n\n    public void setPessoa(Pessoa pessoa) {\n        this.pessoa = pessoa;\n    }\n\n\n    public Integer getId_endereco() {\n        return id_endereco;\n    }\n\n\n    public void setId_endereco(Integer id_endereco) {\n        this.id_endereco = id_endereco;\n    }\n\n    \n}\n\n\n\n</code></pre>\n<p>Controllers:</p>\n<p>Person</p>\n<pre><code>package com.apitest.api.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.apitest.api.model.Pessoa;\n\nimport com.apitest.api.service.PessoaService;\n\n@RestController\npublic class PessoaController {\n\n    @Autowired\n    private PessoaService pessoaService;\n\n    @PostMapping(&quot;/pessoas&quot;)\n    public ResponseEntity&lt;Pessoa&gt; createPessoa(@RequestBody Pessoa pessoa){\n\n        return ResponseEntity.ok().body(this.pessoaService.createPessoa(pessoa));\n\n    }\n    \n}\n\n\n</code></pre>\n<p>Address</p>\n<pre><code>package com.apitest.api.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.apitest.api.model.Endereco;\nimport com.apitest.api.service.EnderecoService;\n\n@RestController\npublic class EnderecoController {\n\n    @Autowired\n    private EnderecoService enderecoService;\n\n\n    @PostMapping(&quot;/endereco&quot;)\n    public ResponseEntity&lt;Endereco&gt; createEndereco(@RequestBody Endereco endereco){\n\n        return ResponseEntity.ok().body(this.enderecoService.createEndereco(endereco));\n\n    }\n\n\n    \n}\n\n</code></pre>\n<p>Service:</p>\n<p>Person</p>\n<pre><code>package com.apitest.api.service;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.apitest.api.model.Pessoa;\nimport com.apitest.api.repository.PessoaRepository;\n\n@Service\n@Transactional\npublic class PessoaServiceImpl implements PessoaService {\n\n    @Autowired\n    private PessoaRepository pessoaRepository;\n\n    @Override\n    public Pessoa createPessoa(Pessoa pessoa) {\n        return pessoaRepository.save(pessoa);\n    }\n\n    @Override\n    public Pessoa updatePessoa(Pessoa pessoa) {\n        Optional&lt;Pessoa&gt; pessoaDb = this.pessoaRepository.findById(pessoa.getId());\n        \n        Pessoa pessoaUpdate = pessoaDb.get();\n        pessoaUpdate.setId(pessoa.getId());\n        pessoaUpdate.setNome(pessoa.getNome());\n\n        return pessoaUpdate;\n    }\n\n    @Override\n    public Pessoa getPessoaById(Pessoa pessoa) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public List&lt;Pessoa&gt; getAllPessoa() {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public void deletePessoa(long pessoaId) {\n        // TODO Auto-generated method stub\n        \n    }\n    \n}\n\n</code></pre>\n<p>Address</p>\n<pre><code>package com.apitest.api.service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.apitest.api.model.Endereco;\nimport com.apitest.api.repository.EnderecoRepository;\nimport com.apitest.api.repository.PessoaRepository;\n\nimport org.springframework.transaction.annotation.Transactional;\n\n@Service\n@Transactional\npublic class EnderecoServiceImpl implements EnderecoService {\n\n    @Autowired\n    private EnderecoRepository enderecoRepository;\n\n\n    @Override\n    public Endereco createEndereco(Endereco endereco) {\n\n        return enderecoRepository.save(endereco);\n\n    }\n    \n}\n\n</code></pre>\n<p>I have already tried to use JsonCreator and JsonProperty annotations but did not worked for me...\nAny help would be appreciated.</p>\n"},{"tags":["java","constructor","null"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":22,"creation_date":1340117251,"post_id":11103444,"comment_id":14542529,"body_markdown":"Not relevant. The question is very simple: can a constructor return null? You don&#39;t need to know what it is used for.","body":"Not relevant. The question is very simple: can a constructor return null? You don&#39;t need to know what it is used for."},{"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"score":5,"creation_date":1340117833,"post_id":11103444,"comment_id":14542852,"body_markdown":"The OP asked &quot;why this is there&quot;. Do you have an answer for that question?","body":"The OP asked &quot;why this is there&quot;. Do you have an answer for that question?"},{"owner":{"account_id":146235,"reputation":2375,"user_id":777890,"accept_rate":90,"display_name":"Jonathan Pitre"},"score":0,"creation_date":1340119942,"post_id":11103444,"comment_id":14543900,"body_markdown":"@AlexLockwood The answer, as everyone below gently put it, is that this is there for no real reason, as what it does is completely useless. There is no reason since o can never be null, and that&#39;s what I wanted to know.","body":"@AlexLockwood The answer, as everyone below gently put it, is that this is there for no real reason, as what it does is completely useless. There is no reason since o can never be null, and that&#39;s what I wanted to know."},{"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"score":1,"creation_date":1340120029,"post_id":11103444,"comment_id":14543947,"body_markdown":"Oh... well since you asked &quot;why this is there?&quot;, I assumed that it wasn&#39;t your code. That&#39;s why I asked &quot;what is this code for...&quot;","body":"Oh... well since you asked &quot;why this is there?&quot;, I assumed that it wasn&#39;t your code. That&#39;s why I asked &quot;what is this code for...&quot;"}],"answers":[{"comments":[{"owner":{"account_id":2387854,"reputation":334,"user_id":2088427,"display_name":"Oke Uwechue"},"score":0,"creation_date":1697318616,"post_id":11103481,"comment_id":136265686,"body_markdown":"Incorrect. It&#39;s very possible for a constructor to return a Null. \nTry running the following code and see what you get:\nandroid.net.wifi.WifiEnterpriseConfig conf = new android.net.wifi.WifiEnterpriseConfig();\n\nAlso, see the response from @PhantomLord below in the thread","body":"Incorrect. It&#39;s very possible for a constructor to return a Null.  Try running the following code and see what you get: android.net.wifi.WifiEnterpriseConfig conf = new android.net.wifi.WifiEnterpriseConfig();  Also, see the response from @PhantomLord below in the thread"},{"owner":{"account_id":1474146,"reputation":7887,"user_id":1384984,"accept_rate":100,"display_name":"tibtof"},"score":0,"creation_date":1698054713,"post_id":11103481,"comment_id":136352084,"body_markdown":"@OkeUwechue PhantomLord&#39;s example returns null from a static factory method, not from a constructor. I also cannot reproduce what you&#39;re saying with your example, please add more context to it.","body":"@OkeUwechue PhantomLord&#39;s example returns null from a static factory method, not from a constructor. I also cannot reproduce what you&#39;re saying with your example, please add more context to it."}],"tags":[],"owner":{"account_id":1474146,"reputation":7887,"user_id":1384984,"accept_rate":100,"display_name":"tibtof"},"comment_count":2,"down_vote_count":0,"up_vote_count":105,"is_accepted":true,"score":105,"last_activity_date":1555577086,"creation_date":1340117185,"answer_id":11103481,"question_id":11103444,"body_markdown":"The code is dead in any version of Java. It&#39;s not possible for a constructor to return `null`, and even if an exception would be thrown from the constructor, the next line won&#39;t be called.","title":"Can constructor return a null object?","body":"<p>The code is dead in any version of Java. It's not possible for a constructor to return <code>null</code>, and even if an exception would be thrown from the constructor, the next line won't be called.</p>\n"},{"tags":[],"owner":{"account_id":1578571,"reputation":4109,"user_id":1464455,"accept_rate":38,"display_name":"Yair Zaslavsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1340117197,"creation_date":1340117197,"answer_id":11103488,"question_id":11103444,"body_markdown":"This was simply usesless dead code. Once CTOR has executed successfully, you have reference to the object.","title":"Can constructor return a null object?","body":"<p>This was simply usesless dead code. Once CTOR has executed successfully, you have reference to the object.</p>\n"},{"tags":[],"owner":{"account_id":467422,"reputation":1264,"user_id":872803,"accept_rate":43,"display_name":"cl-r"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1340117210,"creation_date":1340117210,"answer_id":11103494,"question_id":11103444,"body_markdown":"When you create a *new Object()*, you create an address in memory, and this address is not &#39;null&#39;, but your Object may be empty.\r\n\r\nYou have to test &#39;null&#39; for Object transmitted by parameters.","title":"Can constructor return a null object?","body":"<p>When you create a <em>new Object()</em>, you create an address in memory, and this address is not 'null', but your Object may be empty.</p>\n\n<p>You have to test 'null' for Object transmitted by parameters.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1340117247,"creation_date":1340117247,"answer_id":11103512,"question_id":11103444,"body_markdown":"No, it has never been possible. Maybe a previous version of the code used some factory method which could return null:\r\n\r\n    MyObject o = createMyObject(&quot;parameter&quot;);\r\n    if (o == null) o = createMyObject(&quot;fallback parameter&quot;);","title":"Can constructor return a null object?","body":"<p>No, it has never been possible. Maybe a previous version of the code used some factory method which could return null:</p>\n\n<pre><code>MyObject o = createMyObject(\"parameter\");\nif (o == null) o = createMyObject(\"fallback parameter\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1340117263,"creation_date":1340117263,"answer_id":11103521,"question_id":11103444,"body_markdown":"It&#39;s simply dead code.\r\n\r\n`new MyObject(&quot;parameter&quot;)` will not return `null` in any version of java.","title":"Can constructor return a null object?","body":"<p>It's simply dead code.</p>\n\n<p><code>new MyObject(\"parameter\")</code> will not return <code>null</code> in any version of java.</p>\n"},{"comments":[{"owner":{"account_id":7502159,"reputation":9977,"user_id":7594961,"accept_rate":57,"display_name":"Bertram Gilfoyle"},"score":0,"creation_date":1516876616,"post_id":11103587,"comment_id":83872719,"body_markdown":"Thanks. I know it sounds crazy.. but in my code, a constructor somehow returns null. (Java, Android)","body":"Thanks. I know it sounds crazy.. but in my code, a constructor somehow returns null. (Java, Android)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1516877954,"post_id":11103587,"comment_id":83873564,"body_markdown":"@AhamadAnees: That sounds very unlikely to me. If you still think it&#39;s the case, I suggest you post a [mcve] as a new question.","body":"@AhamadAnees: That sounds very unlikely to me. If you still think it&#39;s the case, I suggest you post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as a new question."},{"owner":{"account_id":7502159,"reputation":9977,"user_id":7594961,"accept_rate":57,"display_name":"Bertram Gilfoyle"},"score":0,"creation_date":1516878092,"post_id":11103587,"comment_id":83873651,"body_markdown":"Thank you for the quick responds. But unfortunately I can&#39;t post new questions here.","body":"Thank you for the quick responds. But unfortunately I can&#39;t post new questions here."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1516878168,"post_id":11103587,"comment_id":83873708,"body_markdown":"@AhamadAnees: Well adding comments instead isn&#39;t going to help. As I say, I think it&#39;s far more likely that you&#39;ve misdiagnosed what&#39;s going on than that Java on Android is *actually* behaving that way... but maybe you need to ask on an Android help forum instead if you can&#39;t ask here. (Or maybe you should improve your old questions so that you *can* post new questions here...)","body":"@AhamadAnees: Well adding comments instead isn&#39;t going to help. As I say, I think it&#39;s far more likely that you&#39;ve misdiagnosed what&#39;s going on than that Java on Android is <i>actually</i> behaving that way... but maybe you need to ask on an Android help forum instead if you can&#39;t ask here. (Or maybe you should improve your old questions so that you <i>can</i> post new questions here...)"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":4,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1340117438,"creation_date":1340117438,"answer_id":11103587,"question_id":11103444,"body_markdown":"From [section 15.9.4 of the JLS][1]:\r\n\r\n&gt; The value of a class instance creation expression is a reference to the newly created object of the specified class. Every time the expression is evaluated, a fresh object is created.\r\n\r\nSo no, it can never return null.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.9.4","title":"Can constructor return a null object?","body":"<p>From <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.9.4\">section 15.9.4 of the JLS</a>:</p>\n\n<blockquote>\n  <p>The value of a class instance creation expression is a reference to the newly created object of the specified class. Every time the expression is evaluated, a fresh object is created.</p>\n</blockquote>\n\n<p>So no, it can never return null.</p>\n"},{"tags":[],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1340119351,"creation_date":1340119351,"answer_id":11104210,"question_id":11103444,"body_markdown":"The answer is simple: person who wrote the code was a paranoid c++ programmer. In C++  you may overload operator new and use it as a simple memory allocator (aka malloc).","title":"Can constructor return a null object?","body":"<p>The answer is simple: person who wrote the code was a paranoid c++ programmer. In C++  you may overload operator new and use it as a simple memory allocator (aka malloc).</p>\n"},{"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":5,"creation_date":1340175240,"post_id":11106920,"comment_id":14560313,"body_markdown":"Actually it&#39;s an [`OutOfMemoryError`](http://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html) ;-)","body":"Actually it&#39;s an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/OutOfMemoryError.html\" rel=\"nofollow noreferrer\"><code>OutOfMemoryError</code></a> ;-)"},{"owner":{"account_id":24285,"reputation":32181,"user_id":61663,"accept_rate":92,"display_name":"Jack Edmonds"},"score":0,"creation_date":1340203930,"post_id":11106920,"comment_id":14573088,"body_markdown":"@JoachimSauer Oops. Good catch.","body":"@JoachimSauer Oops. Good catch."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1589630232,"post_id":11106920,"comment_id":109372349,"body_markdown":"This should be the answer.","body":"This should be the answer."}],"tags":[],"owner":{"account_id":24285,"reputation":32181,"user_id":61663,"accept_rate":92,"display_name":"Jack Edmonds"},"comment_count":3,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1472304628,"creation_date":1340129833,"answer_id":11106920,"question_id":11103444,"body_markdown":"My guess is that it was written by a C programmer who is used to testing the return value of `malloc()` for `NULL`,  `malloc()` can return `NULL` if your system runs out of memory.\r\n\r\nThe code doesn&#39;t make sense in Java since Java will throw an OutOfMemoryError` if it runs out of memory.","title":"Can constructor return a null object?","body":"<p>My guess is that it was written by a C programmer who is used to testing the return value of <code>malloc()</code> for <code>NULL</code>,  <code>malloc()</code> can return <code>NULL</code> if your system runs out of memory.</p>\n\n<p>The code doesn't make sense in Java since Java will throw an OutOfMemoryError` if it runs out of memory.</p>\n"},{"tags":[],"owner":{"account_id":23387,"reputation":12468,"user_id":58549,"accept_rate":62,"display_name":"Zac Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1445387218,"creation_date":1445387218,"answer_id":33249004,"question_id":11103444,"body_markdown":"As I discovered today, despite what&#39;s said in all the other answers, `Foo x = new Foo(...)` can indeed return null, if said code is running inside a test that uses [PowerMock][1] (or some other mocking framework with similar effects):\r\n\r\n    PowerMockito.whenNew(Foo.class).withAnyArguments().thenReturn(mockFoo);\r\n\r\nIn this case, the code in the constructor(s) of Foo is bypassed altogether for `new Foo(...)`. But if you write a test where you fail to specify the mock in the manner above, you may end up with `null` instead.\r\n\r\nBut *even if* you are using such a framework, you don&#39;t want extra code in your classes, just to gracefully handle the case that you forgot to properly mock the objects in a test! It is *not* a real-world scenario where your code is intended to run. Code that is only ever active when testing should be eliminated anyway, and in this case it would only ever be active for a broken test.\r\n\r\nSo even if you&#39;re using PowerMock, that second line should rightly be considered &quot;dead code&quot; and removed.\r\n\r\n  [1]: https://powermock.googlecode.com/svn/docs/powermock-1.5/apidocs/org/powermock/api/mockito/PowerMockito.html#whenNew%28java.lang.Class%29","title":"Can constructor return a null object?","body":"<p>As I discovered today, despite what's said in all the other answers, <code>Foo x = new Foo(...)</code> can indeed return null, if said code is running inside a test that uses <a href=\"https://powermock.googlecode.com/svn/docs/powermock-1.5/apidocs/org/powermock/api/mockito/PowerMockito.html#whenNew%28java.lang.Class%29\" rel=\"noreferrer\">PowerMock</a> (or some other mocking framework with similar effects):</p>\n\n<pre><code>PowerMockito.whenNew(Foo.class).withAnyArguments().thenReturn(mockFoo);\n</code></pre>\n\n<p>In this case, the code in the constructor(s) of Foo is bypassed altogether for <code>new Foo(...)</code>. But if you write a test where you fail to specify the mock in the manner above, you may end up with <code>null</code> instead.</p>\n\n<p>But <em>even if</em> you are using such a framework, you don't want extra code in your classes, just to gracefully handle the case that you forgot to properly mock the objects in a test! It is <em>not</em> a real-world scenario where your code is intended to run. Code that is only ever active when testing should be eliminated anyway, and in this case it would only ever be active for a broken test.</p>\n\n<p>So even if you're using PowerMock, that second line should rightly be considered \"dead code\" and removed.</p>\n"},{"tags":[],"owner":{"account_id":14008507,"reputation":581,"user_id":10117882,"display_name":"Phantom Lord"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609580499,"creation_date":1609580499,"answer_id":65537755,"question_id":11103444,"body_markdown":"The question is absolutely legitimate. You can add a static method in `MyObject` like so:\r\n\r\n    static MyObject create(String parameter)) {\r\n           if (parameter.satisfySomething())\r\n              return new MyObject(parameter);\r\n           else\r\n              return null;\r\n    }","title":"Can constructor return a null object?","body":"<p>The question is absolutely legitimate. You can add a static method in <code>MyObject</code> like so:</p>\n<pre><code>static MyObject create(String parameter)) {\n       if (parameter.satisfySomething())\n          return new MyObject(parameter);\n       else\n          return null;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1628184,"reputation":9512,"user_id":1503237,"accept_rate":67,"display_name":"Matthias Ronge"},"score":0,"creation_date":1674489399,"post_id":69058559,"comment_id":132719558,"body_markdown":"BTW, spelling standard for classes is (upper) camel case, that is, it should be `ObjectClass`, not `object_class` in Java.","body":"BTW, spelling standard for classes is (upper) camel case, that is, it should be <code>ObjectClass</code>, not <code>object_class</code> in Java."}],"tags":[],"owner":{"account_id":426309,"reputation":4353,"user_id":807452,"accept_rate":67,"display_name":"3c71"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630785618,"creation_date":1630785618,"answer_id":69058559,"question_id":11103444,"body_markdown":"All the answers are based on theoretical and editor&#39;s warnings.\r\n\r\nIndeed most editors will report a dead code when testing the results of a new object() against null.\r\n\r\nHowever, at least on Android, I have many crash reports of a new xxx() returning null, and I assume because of lack of memory in most cases.\r\n\r\nA simple example is like so:\r\n\r\n    object_class obj = new object_class(context);\r\n    obj.getCount();\r\n\r\n\r\nAnd I get such report on the getCount() line:\r\n\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;int object_class.getCount()&#39; on a null object reference\r\n\r\nSo it&#39;s possible, but most editors/compilers won&#39;t let you check for such condition.","title":"Can constructor return a null object?","body":"<p>All the answers are based on theoretical and editor's warnings.</p>\n<p>Indeed most editors will report a dead code when testing the results of a new object() against null.</p>\n<p>However, at least on Android, I have many crash reports of a new xxx() returning null, and I assume because of lack of memory in most cases.</p>\n<p>A simple example is like so:</p>\n<pre><code>object_class obj = new object_class(context);\nobj.getCount();\n</code></pre>\n<p>And I get such report on the getCount() line:</p>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'int object_class.getCount()' on a null object reference</p>\n<p>So it's possible, but most editors/compilers won't let you check for such condition.</p>\n"},{"tags":[],"owner":{"account_id":5325235,"reputation":623,"user_id":4247449,"display_name":"Serg Smyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671821338,"creation_date":1671821338,"answer_id":74903060,"question_id":11103444,"body_markdown":"    import java.util.Enumeration;\r\n    import javax.swing.AbstractButton;\r\n    import javax.swing.ButtonGroup;\r\n    \r\n    public class GroupButtonSelection {\r\n        public int index = -1;\r\n        public AbstractButton button = null;\r\n    \r\n        public static GroupButtonSelection from(ButtonGroup buttonGroup) {\r\n            GroupButtonSelection result = new GroupButtonSelection();\r\n    \r\n            Enumeration&lt;AbstractButton&gt; buttons = buttonGroup.getElements();\r\n            for (int i = 0; buttons.hasMoreElements(); i++) {\r\n                AbstractButton button = buttons.nextElement();\r\n                if (button.isSelected()) {\r\n                    result.index = i;\r\n                    result.button = button;\r\n                    break;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n    }\r\n\r\nUsing:\r\n\r\n    Boolean isMyValueSelected = GroupButtonSelection.from(myGroup).index == searchingIndex;\r\n\r\n","title":"Can constructor return a null object?","body":"<pre><code>import java.util.Enumeration;\nimport javax.swing.AbstractButton;\nimport javax.swing.ButtonGroup;\n\npublic class GroupButtonSelection {\n    public int index = -1;\n    public AbstractButton button = null;\n\n    public static GroupButtonSelection from(ButtonGroup buttonGroup) {\n        GroupButtonSelection result = new GroupButtonSelection();\n\n        Enumeration&lt;AbstractButton&gt; buttons = buttonGroup.getElements();\n        for (int i = 0; buttons.hasMoreElements(); i++) {\n            AbstractButton button = buttons.nextElement();\n            if (button.isSelected()) {\n                result.index = i;\n                result.button = button;\n                break;\n            }\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>Using:</p>\n<pre><code>Boolean isMyValueSelected = GroupButtonSelection.from(myGroup).index == searchingIndex;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628184,"reputation":9512,"user_id":1503237,"accept_rate":67,"display_name":"Matthias Ronge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674489220,"creation_date":1674489220,"answer_id":75211885,"question_id":11103444,"body_markdown":"A constructor should never return `null`, when being called with valid arguments. If your constructor isn’t able to create an instance of that class as one would expect it, it should throw an appropiate `Exception`. The calling code should handle that exception.\r\n\r\n    MyObject myObjectInstance;\r\n    try {\r\n        myObjectInstance = new MyObject(params);\r\n    } catch (ExpectableException e) {\r\n        myObjectInstance = null;\r\n    }","title":"Can constructor return a null object?","body":"<p>A constructor should never return <code>null</code>, when being called with valid arguments. If your constructor isn’t able to create an instance of that class as one would expect it, it should throw an appropiate <code>Exception</code>. The calling code should handle that exception.</p>\n<pre><code>MyObject myObjectInstance;\ntry {\n    myObjectInstance = new MyObject(params);\n} catch (ExpectableException e) {\n    myObjectInstance = null;\n}\n</code></pre>\n"}],"owner":{"account_id":146235,"reputation":2375,"user_id":777890,"accept_rate":90,"display_name":"Jonathan Pitre"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56545,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":11103481,"answer_count":13,"score":83,"last_activity_date":1674489220,"creation_date":1340117055,"question_id":11103444,"body_markdown":"While looking through some old code I came across this gem:\r\n\r\n    MyObject o = new MyObject(&quot;parameter&quot;);\r\n    if (o == null) o = new MyObject(&quot;fallback parameter&quot;);\r\n\r\nThe second line is marked in Eclipse as dead code, and I understand why. No exception seems to be explicitly thrown, and it isn&#39;t possible for the `MyObject` constructor to throw any kind of exception (such as `NullPointerException`s).\r\n\r\nMy question is *why* there is a null check? Was it previously possible in an old version of Java for a constructor to return null? Or is this simply useless and dead code?","title":"Can constructor return a null object?","body":"<p>While looking through some old code I came across this gem:</p>\n\n<pre><code>MyObject o = new MyObject(\"parameter\");\nif (o == null) o = new MyObject(\"fallback parameter\");\n</code></pre>\n\n<p>The second line is marked in Eclipse as dead code, and I understand why. No exception seems to be explicitly thrown, and it isn't possible for the <code>MyObject</code> constructor to throw any kind of exception (such as <code>NullPointerException</code>s).</p>\n\n<p>My question is <em>why</em> there is a null check? Was it previously possible in an old version of Java for a constructor to return null? Or is this simply useless and dead code?</p>\n"},{"tags":["java","spring-boot","maven","grpc"],"comments":[{"owner":{"account_id":1957539,"reputation":5468,"user_id":1760179,"accept_rate":56,"display_name":"Espresso"},"score":0,"creation_date":1602030576,"post_id":60878147,"comment_id":113589045,"body_markdown":"Intellij wasted couple of hours of my time by adding super()!","body":"Intellij wasted couple of hours of my time by adding super()!"},{"owner":{"account_id":8819821,"reputation":1674,"user_id":7492795,"display_name":"TheKingElessar"},"score":0,"creation_date":1686065876,"post_id":60878147,"comment_id":134746726,"body_markdown":"And if you&#39;re using Spring, make sure you add the correct `@Service` (or similar) annotation to actually instantiate the binding class... oops.","body":"And if you&#39;re using Spring, make sure you add the correct <code>@Service</code> (or similar) annotation to actually instantiate the binding class... oops."}],"answers":[{"comments":[{"owner":{"account_id":1957539,"reputation":5468,"user_id":1760179,"accept_rate":56,"display_name":"Espresso"},"score":1,"creation_date":1602032494,"post_id":60888614,"comment_id":113589405,"body_markdown":"It is a general convention to call super(), that&#39;s why you/I did not delete it.  Looks like Intellij followed that convension - and grpc design uses that to say &quot;unimplemented&quot;. Bad.  Perhaps grpc must remove this &quot;feature&quot; that wastes people&#39;s time instead of helping.","body":"It is a general convention to call super(), that&#39;s why you/I did not delete it.  Looks like Intellij followed that convension - and grpc design uses that to say &quot;unimplemented&quot;. Bad.  Perhaps grpc must remove this &quot;feature&quot; that wastes people&#39;s time instead of helping."}],"tags":[],"owner":{"account_id":235236,"reputation":372,"user_id":501913,"display_name":"Mozart Brocchini"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1613668558,"creation_date":1585321339,"answer_id":60888614,"question_id":60878147,"body_markdown":"It turns out that I had not posted my server code and that is where the problem was.\r\n\r\nI&#39;ll post my mistake here so that no one else has to spend time with this silly mistake:\r\n```\r\n@Override\r\npublic void newRfqNotification(RfqNotificationEvent request, StreamObserver&lt;RfqNotificationResponse&gt; responseObserver) {\r\n    \r\n    super.newRfqNotification(request, responseObserver);\r\n\r\n    \r\n   /*\r\n\r\n    My business logic to process the incoming request omitted.\r\n\r\n   */\r\n\r\n}\r\n```\r\n\r\nThe call to `super.newRfqNotification()` above had been created when I invoked IntelliJ&#39;s `[Override Methods... ^O]` to create a template method for me to fill in with business logic.\r\n\r\nI somehow started to write my business logic without deleting the call to super which is good in many cases but catastrophic in this case. \r\nSo what happens is that the super method processes normally and sends an answer to the client saying that the method has not been implemented and continues with the business logic written after the call to super().\r\nSee the implementations below:\r\n\r\nGenerated method(super):\r\n```\r\n    /**\r\n     */\r\n    public void newRfqNotification(e2log.api.RfqNotificationEvent request,\r\n        io.grpc.stub.StreamObserver&lt;e2log.nsub.bridge.RfqNotificationResponse&gt; responseObserver) {\r\n      asyncUnimplementedUnaryCall(getNewRfqNotificationMethod(), responseObserver);\r\n    }\r\n```\r\nWhich calls:\r\n\r\n```\r\n/**\r\n   * Sets unimplemented status for method on given response stream for unary call.\r\n   *\r\n   * @param methodDescriptor of method for which error will be thrown.\r\n   * @param responseObserver on which error will be set.\r\n   */\r\n  public static void asyncUnimplementedUnaryCall(\r\n      MethodDescriptor&lt;?, ?&gt; methodDescriptor, StreamObserver&lt;?&gt; responseObserver) {\r\n    checkNotNull(methodDescriptor, &quot;methodDescriptor&quot;);\r\n    checkNotNull(responseObserver, &quot;responseObserver&quot;);\r\n    responseObserver.onError(Status.UNIMPLEMENTED\r\n        .withDescription(String.format(&quot;Method %s is unimplemented&quot;,\r\n            methodDescriptor.getFullMethodName()))\r\n        .asRuntimeException());\r\n  }\r\n\r\n``` \r\nSo then the client receives the `Status.UNIPLEMENTED` response and closes the stream which then leads to the server error.","title":"gRpc, client getting io.grpc.StatusRuntimeException: UNIMPLEMENTED: Method even when the message is received and deserialized by the server","body":"<p>It turns out that I had not posted my server code and that is where the problem was.</p>\n<p>I'll post my mistake here so that no one else has to spend time with this silly mistake:</p>\n<pre><code>@Override\npublic void newRfqNotification(RfqNotificationEvent request, StreamObserver&lt;RfqNotificationResponse&gt; responseObserver) {\n    \n    super.newRfqNotification(request, responseObserver);\n\n    \n   /*\n\n    My business logic to process the incoming request omitted.\n\n   */\n\n}\n</code></pre>\n<p>The call to <code>super.newRfqNotification()</code> above had been created when I invoked IntelliJ's <code>[Override Methods... ^O]</code> to create a template method for me to fill in with business logic.</p>\n<p>I somehow started to write my business logic without deleting the call to super which is good in many cases but catastrophic in this case.\nSo what happens is that the super method processes normally and sends an answer to the client saying that the method has not been implemented and continues with the business logic written after the call to super().\nSee the implementations below:</p>\n<p>Generated method(super):</p>\n<pre><code>    /**\n     */\n    public void newRfqNotification(e2log.api.RfqNotificationEvent request,\n        io.grpc.stub.StreamObserver&lt;e2log.nsub.bridge.RfqNotificationResponse&gt; responseObserver) {\n      asyncUnimplementedUnaryCall(getNewRfqNotificationMethod(), responseObserver);\n    }\n</code></pre>\n<p>Which calls:</p>\n<pre><code>/**\n   * Sets unimplemented status for method on given response stream for unary call.\n   *\n   * @param methodDescriptor of method for which error will be thrown.\n   * @param responseObserver on which error will be set.\n   */\n  public static void asyncUnimplementedUnaryCall(\n      MethodDescriptor&lt;?, ?&gt; methodDescriptor, StreamObserver&lt;?&gt; responseObserver) {\n    checkNotNull(methodDescriptor, &quot;methodDescriptor&quot;);\n    checkNotNull(responseObserver, &quot;responseObserver&quot;);\n    responseObserver.onError(Status.UNIMPLEMENTED\n        .withDescription(String.format(&quot;Method %s is unimplemented&quot;,\n            methodDescriptor.getFullMethodName()))\n        .asRuntimeException());\n  }\n\n</code></pre>\n<p>So then the client receives the <code>Status.UNIPLEMENTED</code> response and closes the stream which then leads to the server error.</p>\n"}],"owner":{"account_id":235236,"reputation":372,"user_id":501913,"display_name":"Mozart Brocchini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21214,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60888614,"answer_count":1,"score":3,"last_activity_date":1674489169,"creation_date":1585268312,"question_id":60878147,"body_markdown":"I&#39;m new to gRpc, I&#39;m trying to use it between a Java 11(Spring Boot 2) server  and a Java 8 (Spring Boot 1.5) client using gRpc 1.27.1 and protobuf 3.11.\r\n\r\nHere is my setup:\r\n\r\nI have data model library with just 1 proto definition file and maven files to generate java source code that is shared between the client and the server \r\n\r\nThe _relevant_ parts of the `pom.xml`:\r\n```\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;grpcVersion&gt;1.27.1&lt;/grpcVersion&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;/properties&gt;\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n    &lt;version&gt;${grpcVersion}&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;extensions&gt;\r\n      &lt;extension&gt;\r\n        &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.1&lt;/version&gt;\r\n      &lt;/extension&gt;\r\n    &lt;/extensions&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.6.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;protocArtifact&gt;\r\n            com.google.protobuf:protoc:3.11.4:exe:${os.detected.classifier}\r\n          &lt;/protocArtifact&gt;\r\n          &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\r\n          &lt;pluginArtifact&gt;\r\n            io.grpc:protoc-gen-grpc-java:1.27.1:exe:${os.detected.classifier}\r\n          &lt;/pluginArtifact&gt;\r\n          &lt;clearOutputDirectory&gt;false&lt;/clearOutputDirectory&gt;\r\n          &lt;outputDirectory&gt;${basedir}/src/main/java&lt;/outputDirectory&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;compile&lt;/goal&gt;\r\n              &lt;goal&gt;compile-custom&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```\r\n\r\n\r\nSnippets of server pom.xml:\r\n```\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;grpcVersion&gt;1.27.1&lt;/grpcVersion&gt;\r\n\t\t&lt;local.repository.folder&gt;${pom.basedir}/lib/&lt;/local.repository.folder&gt;\r\n\t&lt;/properties&gt;\r\n```\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;!-- Java 9+ compatibility --&gt;\r\n\t\t\t&lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n                &lt;version&gt;${grpcVersion}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n           &lt;dependency&gt;\r\n                &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n                &lt;version&gt;${grpcVersion}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n                &lt;version&gt;${grpcVersion}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n          \r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.devh&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n&lt;!-- For the server (only) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.devh&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-server-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```\r\n\r\n\r\nThe relevant parts of the client project pom.xml:\r\n```\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;1.5.10.RELEASE&lt;/version&gt;\r\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;local.repository.folder&gt;${pom.basedir}/lib/&lt;/local.repository.folder&gt;\r\n    &lt;grpcVersion&gt;1.27.1&lt;/grpcVersion&gt;\r\n  &lt;/properties&gt;\r\n\r\n\r\n  &lt;dependencies&gt;\r\n\r\n&lt;!-- This is the data model protobuf project --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;e2log&lt;/groupId&gt;\r\n      &lt;artifactId&gt;nsub-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- This is the service definition protobuf project --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;e2log&lt;/groupId&gt;\r\n      &lt;artifactId&gt;e2log-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\r\n      &lt;version&gt;${grpcVersion}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n      &lt;version&gt;${grpcVersion}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n      &lt;version&gt;${grpcVersion}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;!-- There are a ton of other dependencies here that i am omitting for brevity--&gt;\r\n```\r\n\r\nMy service has just one very simple rpc definition for now:  \r\n```\r\nsyntax = &quot;proto3&quot;;\r\nimport &quot;E2logData.proto&quot;;\r\noption java_multiple_files = true;\r\npackage e2log.nsub.bridge;\r\n\r\nservice EventBridgeService {\r\n    rpc RfqNotification( e2log.api.RfqNotificationEvent ) returns ( RfqNotificationResponse ) {}\r\n}\r\n\r\nmessage RfqNotificationResponse{\r\n    bool relay_message = 1;\r\n    e2log.api.RfqNotificationEvent request = 2;\r\n}\r\n```\r\n\r\nThe relevant parts of the client implementation which is in a in class annotated as a Spring `@Component`:\r\n```\r\n // Connection with gRpc server\r\n @PostConstruct\r\n  void init(){\r\n    channel = nSubConnection();\r\n    log.info(&quot;Established NSub gRpc connection for address={} with max-retries={}.&quot;, nsubServer, nSubMaxRetryAttempts);\r\n    eventBridgeSvcBlockingStub = EventBridgeServiceGrpc.newBlockingStub(channel);\r\n  }\r\n  \r\n\r\n  @VisibleForTesting\r\n  ManagedChannel nSubConnection() {\r\n    return ManagedChannelBuilder.forTarget(nsubServer )\r\n                                .enableRetry()\r\n                                .maxRetryAttempts(nSubMaxRetryAttempts)\r\n                                .usePlaintext() // for now until it works\r\n                                .build();\r\n  }\r\n\r\n\r\n// Actual gRpc call\r\n@EventListener\r\n  public void nSubBridge(RfqEvent event){\r\n    val wireEvent = rfqEventMapper.map(event);\r\n    val resp = eventBridgeSvcBlockingStub.rfqNotification( wireEvent);\r\n   //\r\n   System.err.println(resp);\r\n  } \r\n\r\n ```  \r\n \r\nEverything compiles and starts up just fine, when the client makes a call to the server, the server receives the call and prints out the received email address sent in the payload serialized as protbuf  by the client.\r\nHowever right after the message is printed out on the server I get an error from on the client side 1st, then an error on the server side.\r\n\r\n1) Client error:\r\n```\r\nndler | Not auditing event RfqAwardedEvent for RFQ 1023-2020 action=false, user=true\r\n23:26:00.193 | ERROR | c.e.s.i.LoginServiceImpl | error in handleException :: UNIMPLEMENTED: Method e2log.nsub.bridge.EventBridgeService/RfqNotification is unimplemented\r\nio.grpc.StatusRuntimeException: UNIMPLEMENTED: Method e2log.nsub.bridge.EventBridgeService/RfqNotification is unimplemented\r\n\tat io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:240)\r\n\tat io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:221)\r\n\tat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:140)\r\n\tat e2log.nsub.bridge.EventBridgeServiceGrpc$EventBridgeServiceBlockingStub.rfqNotification(EventBridgeServiceGrpc.java:169)\r\n\tat com.e2log.rfq.event.RfqEventHandler.nSubBridge(RfqEventHandler.java:103)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:256)\r\n\tat org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:177)\r\n\tat org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:140)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:393)\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:360)\r\n\tat com.e2log.service.impl.PreawardToAwardTransition.notifyLspAndShipper(PreawardToAwardTransition.java:124)\r\n\tat com.e2log.service.impl.PreawardToAwardTransition.preAwardedToAwarded(PreawardToAwardTransition.java:75)\r\n\tat com.e2log.service.impl.CustomerServiceImpl.customerPreAwardedtoAward(CustomerServiceImpl.java:545)\r\n\tat com.e2log.service.impl.CustomerServiceImpl$$FastClassBySpringCGLIB$$c32e4446.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:669)\r\n\tat com.e2log.service.impl.CustomerServiceImpl$$EnhancerBySpringCGLIB$$eee40a0b.customerPreAwardedtoAward(&lt;generated&gt;)\r\n\tat com.e2log.controller.CustomerController.customerPreAwardedtoAward(CustomerController.java:235)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:664)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:244)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat com.e2log.exception.BadRequestFilter.doFilterInternal(BadRequestFilter.java:43)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:110)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat com.e2log.security.AuthenticationFilter.doFilterInternal(AuthenticationFilter.java:57)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat io.micrometer.spring.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:107)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:106)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n\r\n2) Server error:\r\n\r\n```\r\n2020-03-26 16:47:57.218  INFO 90080 --- [           main] e2log.nsub.NSubApp                       : Started NSubApp in 4.789 seconds (JVM running for 5.212)\r\ntest.eamil@mailinator.com\r\n2020-03-26 18:26:00.189 ERROR 90080 --- [ault-executor-0] io.grpc.internal.SerializingExecutor     : Exception while executing runnable io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed@2110c8d4\r\n\r\njava.lang.IllegalStateException: Stream was terminated by error, no further calls are allowed\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:511) ~[guava-28.1-android.jar:na]\r\n\tat io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onNext(ServerCalls.java:345) ~[grpc-stub-1.27.1.jar:1.27.1]\r\n\tat e2log.nsub.bridge.impl.EventBridgeService.rfqNotification(EventBridgeService.java:24) ~[classes/:na]\r\n\tat e2log.nsub.bridge.EventBridgeServiceGrpc$MethodHandlers.invoke(EventBridgeServiceGrpc.java:217) ~[nsub-api-1.0-SNAPSHOT.jar:na]\r\n\tat io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:172) ~[grpc-stub-1.27.1.jar:1.27.1]\r\n\tat io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35) ~[grpc-api-1.27.1.jar:1.27.1]\r\n\tat io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23) ~[grpc-api-1.27.1.jar:1.27.1]\r\n\tat io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40) ~[grpc-api-1.27.1.jar:1.27.1]\r\n\tat io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35) ~[grpc-api-1.27.1.jar:1.27.1]\r\n\tat io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23) ~[grpc-api-1.27.1.jar:1.27.1]\r\n\tat io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40) ~[grpc-api-1.27.1.jar:1.27.1]\r\n\tat io.grpc.Contexts$ContextualizedServerCallListener.onHalfClose(Contexts.java:86) ~[grpc-api-1.27.1.jar:1.27.1]\r\n\tat io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:331) ~[grpc-core-1.27.1.jar:1.27.1]\r\n\tat io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:817) ~[grpc-core-1.27.1.jar:1.27.1]\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.27.1.jar:1.27.1]\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) ~[grpc-core-1.27.1.jar:1.27.1]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n```\r\n\r\nAny idea of what is going wrong with my client code or setup ?\r\n","title":"gRpc, client getting io.grpc.StatusRuntimeException: UNIMPLEMENTED: Method even when the message is received and deserialized by the server","body":"<p>I'm new to gRpc, I'm trying to use it between a Java 11(Spring Boot 2) server  and a Java 8 (Spring Boot 1.5) client using gRpc 1.27.1 and protobuf 3.11.</p>\n<p>Here is my setup:</p>\n<p>I have data model library with just 1 proto definition file and maven files to generate java source code that is shared between the client and the server</p>\n<p>The <em>relevant</em> parts of the <code>pom.xml</code>:</p>\n<pre><code>\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;grpcVersion&gt;1.27.1&lt;/grpcVersion&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n    &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n    &lt;version&gt;${grpcVersion}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;extensions&gt;\n      &lt;extension&gt;\n        &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.6.1&lt;/version&gt;\n      &lt;/extension&gt;\n    &lt;/extensions&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.6.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;protocArtifact&gt;\n            com.google.protobuf:protoc:3.11.4:exe:${os.detected.classifier}\n          &lt;/protocArtifact&gt;\n          &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\n          &lt;pluginArtifact&gt;\n            io.grpc:protoc-gen-grpc-java:1.27.1:exe:${os.detected.classifier}\n          &lt;/pluginArtifact&gt;\n          &lt;clearOutputDirectory&gt;false&lt;/clearOutputDirectory&gt;\n          &lt;outputDirectory&gt;${basedir}/src/main/java&lt;/outputDirectory&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n              &lt;goal&gt;compile-custom&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>Snippets of server pom.xml:</p>\n<pre><code>    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;grpcVersion&gt;1.27.1&lt;/grpcVersion&gt;\n        &lt;local.repository.folder&gt;${pom.basedir}/lib/&lt;/local.repository.folder&gt;\n    &lt;/properties&gt;\n</code></pre>\n<pre><code>        &lt;dependency&gt;\n            &lt;!-- Java 9+ compatibility --&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n                &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n                &lt;version&gt;${grpcVersion}&lt;/version&gt;\n            &lt;/dependency&gt;\n           &lt;dependency&gt;\n                &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n                &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n                &lt;version&gt;${grpcVersion}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n                &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n                &lt;version&gt;${grpcVersion}&lt;/version&gt;\n            &lt;/dependency&gt;\n          \n        &lt;dependency&gt;\n            &lt;groupId&gt;net.devh&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n&lt;!-- For the server (only) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.devh&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-server-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>The relevant parts of the client project pom.xml:</p>\n<pre><code>  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.10.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;local.repository.folder&gt;${pom.basedir}/lib/&lt;/local.repository.folder&gt;\n    &lt;grpcVersion&gt;1.27.1&lt;/grpcVersion&gt;\n  &lt;/properties&gt;\n\n\n  &lt;dependencies&gt;\n\n&lt;!-- This is the data model protobuf project --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;e2log&lt;/groupId&gt;\n      &lt;artifactId&gt;nsub-api&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;!-- This is the service definition protobuf project --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;e2log&lt;/groupId&gt;\n      &lt;artifactId&gt;e2log-api&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n      &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\n      &lt;version&gt;${grpcVersion}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n      &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n      &lt;version&gt;${grpcVersion}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n      &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n      &lt;version&gt;${grpcVersion}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;!-- There are a ton of other dependencies here that i am omitting for brevity--&gt;\n</code></pre>\n<p>My service has just one very simple rpc definition for now:</p>\n<pre><code>syntax = &quot;proto3&quot;;\nimport &quot;E2logData.proto&quot;;\noption java_multiple_files = true;\npackage e2log.nsub.bridge;\n\nservice EventBridgeService {\n    rpc RfqNotification( e2log.api.RfqNotificationEvent ) returns ( RfqNotificationResponse ) {}\n}\n\nmessage RfqNotificationResponse{\n    bool relay_message = 1;\n    e2log.api.RfqNotificationEvent request = 2;\n}\n</code></pre>\n<p>The relevant parts of the client implementation which is in a in class annotated as a Spring <code>@Component</code>:</p>\n<pre><code> // Connection with gRpc server\n @PostConstruct\n  void init(){\n    channel = nSubConnection();\n    log.info(&quot;Established NSub gRpc connection for address={} with max-retries={}.&quot;, nsubServer, nSubMaxRetryAttempts);\n    eventBridgeSvcBlockingStub = EventBridgeServiceGrpc.newBlockingStub(channel);\n  }\n  \n\n  @VisibleForTesting\n  ManagedChannel nSubConnection() {\n    return ManagedChannelBuilder.forTarget(nsubServer )\n                                .enableRetry()\n                                .maxRetryAttempts(nSubMaxRetryAttempts)\n                                .usePlaintext() // for now until it works\n                                .build();\n  }\n\n\n// Actual gRpc call\n@EventListener\n  public void nSubBridge(RfqEvent event){\n    val wireEvent = rfqEventMapper.map(event);\n    val resp = eventBridgeSvcBlockingStub.rfqNotification( wireEvent);\n   //\n   System.err.println(resp);\n  } \n\n</code></pre>\n<p>Everything compiles and starts up just fine, when the client makes a call to the server, the server receives the call and prints out the received email address sent in the payload serialized as protbuf  by the client.\nHowever right after the message is printed out on the server I get an error from on the client side 1st, then an error on the server side.</p>\n<ol>\n<li>Client error:</li>\n</ol>\n<pre><code>ndler | Not auditing event RfqAwardedEvent for RFQ 1023-2020 action=false, user=true\n23:26:00.193 | ERROR | c.e.s.i.LoginServiceImpl | error in handleException :: UNIMPLEMENTED: Method e2log.nsub.bridge.EventBridgeService/RfqNotification is unimplemented\nio.grpc.StatusRuntimeException: UNIMPLEMENTED: Method e2log.nsub.bridge.EventBridgeService/RfqNotification is unimplemented\n    at io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:240)\n    at io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:221)\n    at io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:140)\n    at e2log.nsub.bridge.EventBridgeServiceGrpc$EventBridgeServiceBlockingStub.rfqNotification(EventBridgeServiceGrpc.java:169)\n    at com.e2log.rfq.event.RfqEventHandler.nSubBridge(RfqEventHandler.java:103)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:256)\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:177)\n    at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:140)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:393)\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:360)\n    at com.e2log.service.impl.PreawardToAwardTransition.notifyLspAndShipper(PreawardToAwardTransition.java:124)\n    at com.e2log.service.impl.PreawardToAwardTransition.preAwardedToAwarded(PreawardToAwardTransition.java:75)\n    at com.e2log.service.impl.CustomerServiceImpl.customerPreAwardedtoAward(CustomerServiceImpl.java:545)\n    at com.e2log.service.impl.CustomerServiceImpl$$FastClassBySpringCGLIB$$c32e4446.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:669)\n    at com.e2log.service.impl.CustomerServiceImpl$$EnhancerBySpringCGLIB$$eee40a0b.customerPreAwardedtoAward(&lt;generated&gt;)\n    at com.e2log.controller.CustomerController.customerPreAwardedtoAward(CustomerController.java:235)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n    at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:664)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:244)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at com.e2log.exception.BadRequestFilter.doFilterInternal(BadRequestFilter.java:43)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:110)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at com.e2log.security.AuthenticationFilter.doFilterInternal(AuthenticationFilter.java:57)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:108)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at io.micrometer.spring.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:107)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:106)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:504)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1459)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<ol start=\"2\">\n<li>Server error:</li>\n</ol>\n<pre><code>2020-03-26 16:47:57.218  INFO 90080 --- [           main] e2log.nsub.NSubApp                       : Started NSubApp in 4.789 seconds (JVM running for 5.212)\ntest.eamil@mailinator.com\n2020-03-26 18:26:00.189 ERROR 90080 --- [ault-executor-0] io.grpc.internal.SerializingExecutor     : Exception while executing runnable io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed@2110c8d4\n\njava.lang.IllegalStateException: Stream was terminated by error, no further calls are allowed\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:511) ~[guava-28.1-android.jar:na]\n    at io.grpc.stub.ServerCalls$ServerCallStreamObserverImpl.onNext(ServerCalls.java:345) ~[grpc-stub-1.27.1.jar:1.27.1]\n    at e2log.nsub.bridge.impl.EventBridgeService.rfqNotification(EventBridgeService.java:24) ~[classes/:na]\n    at e2log.nsub.bridge.EventBridgeServiceGrpc$MethodHandlers.invoke(EventBridgeServiceGrpc.java:217) ~[nsub-api-1.0-SNAPSHOT.jar:na]\n    at io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:172) ~[grpc-stub-1.27.1.jar:1.27.1]\n    at io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35) ~[grpc-api-1.27.1.jar:1.27.1]\n    at io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23) ~[grpc-api-1.27.1.jar:1.27.1]\n    at io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40) ~[grpc-api-1.27.1.jar:1.27.1]\n    at io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35) ~[grpc-api-1.27.1.jar:1.27.1]\n    at io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23) ~[grpc-api-1.27.1.jar:1.27.1]\n    at io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40) ~[grpc-api-1.27.1.jar:1.27.1]\n    at io.grpc.Contexts$ContextualizedServerCallListener.onHalfClose(Contexts.java:86) ~[grpc-api-1.27.1.jar:1.27.1]\n    at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:331) ~[grpc-core-1.27.1.jar:1.27.1]\n    at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:817) ~[grpc-core-1.27.1.jar:1.27.1]\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.27.1.jar:1.27.1]\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123) ~[grpc-core-1.27.1.jar:1.27.1]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n\n</code></pre>\n<p>Any idea of what is going wrong with my client code or setup ?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1674483755,"post_id":75210704,"comment_id":132717448,"body_markdown":"Java natively doesn&#39;t support JSON parsing. Using an ObjectMapper is probably the most optimal solution.","body":"Java natively doesn&#39;t support JSON parsing. Using an ObjectMapper is probably the most optimal solution."},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1674483800,"post_id":75210704,"comment_id":132717463,"body_markdown":"All the endpoints go through Jackson. Since that is what spring uses. Maybe some jackson xconfig can help here or some annotation?","body":"All the endpoints go through Jackson. Since that is what spring uses. Maybe some jackson xconfig can help here or some annotation?"}],"answers":[{"comments":[{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1674484997,"post_id":75210947,"comment_id":132717964,"body_markdown":"But can i make somesort of a generic serializer? Or do i need a spesific serializer for each instance?","body":"But can i make somesort of a generic serializer? Or do i need a spesific serializer for each instance?"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1674485362,"post_id":75210947,"comment_id":132718107,"body_markdown":"Theoretically you can, if your object would be wrapped into something generic (like in your case `CSVParams` then T could possibly be generic I think). Then you would register only this one converter for your wrapper type. Because you can deserialise generic types with `ObjectMapper` https://stackoverflow.com/questions/11664894/jackson-deserialize-using-generic-class. But I&#39;m not sure and I don&#39;t have the means to try out if it really works and I&#39;m not sure if it&#39;s possible to make it play well with validation.","body":"Theoretically you can, if your object would be wrapped into something generic (like in your case <code>CSVParams</code> then T could possibly be generic I think). Then you would register only this one converter for your wrapper type. Because you can deserialise generic types with <code>ObjectMapper</code> <a href=\"https://stackoverflow.com/questions/11664894/jackson-deserialize-using-generic-class\" title=\"jackson deserialize using generic class\">stackoverflow.com/questions/11664894/&hellip;</a>. But I&#39;m not sure and I don&#39;t have the means to try out if it really works and I&#39;m not sure if it&#39;s possible to make it play well with validation."},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1674488542,"post_id":75210947,"comment_id":132719265,"body_markdown":"It seems that i cannot get the class data into the deserialziers. Its lost on the way...","body":"It seems that i cannot get the class data into the deserialziers. Its lost on the way..."}],"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674484318,"creation_date":1674484318,"answer_id":75210947,"question_id":75210704,"body_markdown":"Any single value of a query param can&#39;t be automatically converted to a non-primitive type. You can convert multiple params to a class, but not one that happens to be a JSON AFAIK. But you can create a converter custom deserialiser and then use it in different controllers, but in the end you&#39;d still use an `ObjectMapper`. \r\n\r\nMore info on how to do the latter here: https://www.baeldung.com/spring-mvc-send-json-parameters","title":"How to convert JSON in QueryParams into Object in Java Spring?","body":"<p>Any single value of a query param can't be automatically converted to a non-primitive type. You can convert multiple params to a class, but not one that happens to be a JSON AFAIK. But you can create a converter custom deserialiser and then use it in different controllers, but in the end you'd still use an <code>ObjectMapper</code>.</p>\n<p>More info on how to do the latter here: <a href=\"https://www.baeldung.com/spring-mvc-send-json-parameters\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-mvc-send-json-parameters</a></p>\n"},{"comments":[{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1674551338,"post_id":75211853,"comment_id":132732592,"body_markdown":"Right but what if i unest the Object. like @GetMaping() public void method(SearchType search, /* other params */){} Can i create somsoert of a formatter for this situation? Something generic that can handle this, since This way its not a generic object there, its a concrete object that i need to convert form JSON. (Spring already uses Jackson)","body":"Right but what if i unest the Object. like @GetMaping() public void method(SearchType search, /* other params */){} Can i create somsoert of a formatter for this situation? Something generic that can handle this, since This way its not a generic object there, its a concrete object that i need to convert form JSON. (Spring already uses Jackson)"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1674560269,"post_id":75211853,"comment_id":132735269,"body_markdown":"@MarkoTaht I am not sure I undestand your comment. First while Spring doers use Jackson by default it could be configured to Gson as well and for method GET it is irrelevant as query parameters you always get one by one as primitives. They are not converted. I think you can get them as a Single map and that may make your life a bit easier","body":"@MarkoTaht I am not sure I undestand your comment. First while Spring doers use Jackson by default it could be configured to Gson as well and for method GET it is irrelevant as query parameters you always get one by one as primitives. They are not converted. I think you can get them as a Single map and that may make your life a bit easier"},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1674570608,"post_id":75211853,"comment_id":132738892,"body_markdown":"I have 1 parameter that is JSON. I want it to be a spesific object. So if instead of using  String and Int and what not, could i use my className there and have Spring convert this json into the object. Like i have 10 parameters coming in. 1 of them is a JSON.","body":"I have 1 parameter that is JSON. I want it to be a spesific object. So if instead of using  String and Int and what not, could i use my className there and have Spring convert this json into the object. Like i have 10 parameters coming in. 1 of them is a JSON."},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1674572948,"post_id":75211853,"comment_id":132739864,"body_markdown":"If you use GET method than no you won&#39;t be able to have Spring convert your param automatically. Say if you know in your code that param by certain name comes as JSON representation of a particular class you can parse the param value by one of the ways I mentioned in the answer. If you don&#39;t know the name of the class add the classname as additional param and than parse it. Or you can always parse it into a Map. But either way you will have to do it on your own. You will have to take your param as a string and parse it in your code.","body":"If you use GET method than no you won&#39;t be able to have Spring convert your param automatically. Say if you know in your code that param by certain name comes as JSON representation of a particular class you can parse the param value by one of the ways I mentioned in the answer. If you don&#39;t know the name of the class add the classname as additional param and than parse it. Or you can always parse it into a Map. But either way you will have to do it on your own. You will have to take your param as a string and parse it in your code."},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1674582001,"post_id":75211853,"comment_id":132743076,"body_markdown":"Well thats just sad.","body":"Well thats just sad."}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674489121,"creation_date":1674489121,"answer_id":75211853,"question_id":75210704,"body_markdown":"If you have to work with query params than I don&#39;t think you can have it converted automatically by Spring boot. But if you work with POST or PUT methods and can pass your params as request params in request body your JSON params can be automatically converted to class instances by Spring boot and no effort required from you. However, if you have to work with query param (say you have to use method GET so you have no request body) than you can use Json-Jackson library or Gson library to parse your Json into class instance. If you use Jackson you will need to use class ObjectMapper. For Jackson lib info see [this site][1], for `ObjectMapper` class see [Javadoc here][2]. However, I wrote my own JsonUtils that is very good for simple usecases like yours. It allows to to parse simple JSON into a class with a single method. It is very simple and strait forward. It is a thin wrapper over Jackson library. See the Javadoc for method [readObjectFromJsonString][3]. Class JsonUtils is part of Open Source MgntUtils library. You can get it as Maven artifact on [Maven Central][4] and as a jar (with source code and Javadoc) on [Github][5]\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: http://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectMapper.html\r\n  [3]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html#readObjectFromJsonString-java.lang.String-java.lang.Class-\r\n  [4]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [5]: https://github.com/michaelgantman/Mgnt/releases","title":"How to convert JSON in QueryParams into Object in Java Spring?","body":"<p>If you have to work with query params than I don't think you can have it converted automatically by Spring boot. But if you work with POST or PUT methods and can pass your params as request params in request body your JSON params can be automatically converted to class instances by Spring boot and no effort required from you. However, if you have to work with query param (say you have to use method GET so you have no request body) than you can use Json-Jackson library or Gson library to parse your Json into class instance. If you use Jackson you will need to use class ObjectMapper. For Jackson lib info see <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">this site</a>, for <code>ObjectMapper</code> class see <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">Javadoc here</a>. However, I wrote my own JsonUtils that is very good for simple usecases like yours. It allows to to parse simple JSON into a class with a single method. It is very simple and strait forward. It is a thin wrapper over Jackson library. See the Javadoc for method <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html#readObjectFromJsonString-java.lang.String-java.lang.Class-\" rel=\"nofollow noreferrer\">readObjectFromJsonString</a>. Class JsonUtils is part of Open Source MgntUtils library. You can get it as Maven artifact on <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven Central</a> and as a jar (with source code and Javadoc) on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a></p>\n"}],"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674489121,"creation_date":1674483125,"question_id":75210704,"body_markdown":"I have this query\r\n\r\n    http://localhost:8555/list/csv?search={}\r\n\r\nWhere search is a json object (omitted other params as they are irrelevant here).\r\nHow can i convert this into a nested object?\r\n\r\n    public record CsvParams&lt;T&gt;(\r\n        T search,\r\n        /* Other query params */ ) {}\r\n\r\nRight now im getting error that string cannot be cast into object. \r\n\r\n    class java.lang.String cannot be cast to class classname\r\n\r\nIs there anyway to do this? Old solution uses ObjectMapper to convert string into corresbonding object. I was hoping that maybe there is a way to do it more simpli and remove this boilerplate.","title":"How to convert JSON in QueryParams into Object in Java Spring?","body":"<p>I have this query</p>\n<pre><code>http://localhost:8555/list/csv?search={}\n</code></pre>\n<p>Where search is a json object (omitted other params as they are irrelevant here).\nHow can i convert this into a nested object?</p>\n<pre><code>public record CsvParams&lt;T&gt;(\n    T search,\n    /* Other query params */ ) {}\n</code></pre>\n<p>Right now im getting error that string cannot be cast into object.</p>\n<pre><code>class java.lang.String cannot be cast to class classname\n</code></pre>\n<p>Is there anyway to do this? Old solution uses ObjectMapper to convert string into corresbonding object. I was hoping that maybe there is a way to do it more simpli and remove this boilerplate.</p>\n"},{"tags":["java","android","kotlin","android-permissions"],"owner":{"account_id":27601819,"reputation":47,"user_id":21066904,"display_name":"Chibako"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674488899,"creation_date":1674488899,"question_id":75211821,"body_markdown":"i wrote a class for requesting permissions for reading/writing storage i think this is not working correctly, everytime i open my app settings will be opened and ask user for granting permission (permission alrady granted)\r\n\r\nsince we know that we have permissions for read/write we can create directory or do nothing\r\n\r\n`    private lateinit var context : Context\r\n    private lateinit var activity: Activity\r\n    private val READ_PERMISSION_CODE = 1\r\n\r\n    fun requestPermissions(activity : Activity, context: Context) {\r\n        this.activity = activity\r\n        this.context = context\r\n\r\n        activity.askForPermissions(\r\n            Permission.ACCESS_COARSE_LOCATION,\r\n            Permission.READ_EXTERNAL_STORAGE,\r\n            Permission.WRITE_EXTERNAL_STORAGE\r\n        ){ result-&gt;\r\n            if ( result.isAllGranted(Permission.WRITE_EXTERNAL_STORAGE, Permission.READ_EXTERNAL_STORAGE)) {\r\n                createNewDirectory()\r\n            } else {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n                    if (!result.isAllGranted(Permission.READ_EXTERNAL_STORAGE) &amp;&amp; !result.isAllGranted(Permission.WRITE_EXTERNAL_STORAGE)) {\r\n                        requestLegacyPermission()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun requestLegacyPermission() {\r\n        val intent : Intent\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P){\r\n            intent = Intent(ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION)\r\n            intent.setData(Uri.parse(&quot;package:${BuildConfig.APPLICATION_ID}&quot;))\r\n        }else{\r\n            intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)\r\n        }\r\n\r\n        activity.startActivityForResult(intent, READ_PERMISSION_CODE)\r\n    }\r\n\r\n    private fun createNewDirectory() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            val path = context.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)\r\n            val newDirectory = File(path, Constants.baseDirectory)\r\n            if (!newDirectory.exists()) {\r\n                newDirectory.mkdirs()\r\n            }\r\n        } else {\r\n            val path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\r\n            val newDirectory = File(path, Constants.baseDirectory)\r\n            if (!newDirectory.exists()) {\r\n                newDirectory.mkdirs()\r\n            }\r\n        }\r\n    }`","title":"request permissions for Read/Write Storage that support all android device","body":"<p>i wrote a class for requesting permissions for reading/writing storage i think this is not working correctly, everytime i open my app settings will be opened and ask user for granting permission (permission alrady granted)</p>\n<p>since we know that we have permissions for read/write we can create directory or do nothing</p>\n<p>`    private lateinit var context : Context\nprivate lateinit var activity: Activity\nprivate val READ_PERMISSION_CODE = 1</p>\n<pre><code>fun requestPermissions(activity : Activity, context: Context) {\n    this.activity = activity\n    this.context = context\n\n    activity.askForPermissions(\n        Permission.ACCESS_COARSE_LOCATION,\n        Permission.READ_EXTERNAL_STORAGE,\n        Permission.WRITE_EXTERNAL_STORAGE\n    ){ result-&gt;\n        if ( result.isAllGranted(Permission.WRITE_EXTERNAL_STORAGE, Permission.READ_EXTERNAL_STORAGE)) {\n            createNewDirectory()\n        } else {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n                if (!result.isAllGranted(Permission.READ_EXTERNAL_STORAGE) &amp;&amp; !result.isAllGranted(Permission.WRITE_EXTERNAL_STORAGE)) {\n                    requestLegacyPermission()\n                }\n            }\n        }\n    }\n}\n\nprivate fun requestLegacyPermission() {\n    val intent : Intent\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P){\n        intent = Intent(ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION)\n        intent.setData(Uri.parse(&quot;package:${BuildConfig.APPLICATION_ID}&quot;))\n    }else{\n        intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE)\n    }\n\n    activity.startActivityForResult(intent, READ_PERMISSION_CODE)\n}\n\nprivate fun createNewDirectory() {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        val path = context.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS)\n        val newDirectory = File(path, Constants.baseDirectory)\n        if (!newDirectory.exists()) {\n            newDirectory.mkdirs()\n        }\n    } else {\n        val path = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\n        val newDirectory = File(path, Constants.baseDirectory)\n        if (!newDirectory.exists()) {\n            newDirectory.mkdirs()\n        }\n    }\n}`\n</code></pre>\n"},{"tags":["java","mysql","concurrency","dao"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1674232083,"post_id":75186770,"comment_id":132677522,"body_markdown":"I recommend reading about [ACID (`en.wikipedia.org`)](https://en.wikipedia.org/wiki/ACID) and [isolation levels (`en.wikipedia.org`)](https://en.wikipedia.org/wiki/Isolation_(database_systems)). --- As I see it, the question is not really about java, but DBMS and most probably off-topic for StackOverflow.","body":"I recommend reading about <a href=\"https://en.wikipedia.org/wiki/ACID\" rel=\"nofollow noreferrer\">ACID (<code>en.wikipedia.org</code>)</a> and <a href=\"https://en.wikipedia.org/wiki/Isolation_(database_systems)\" rel=\"nofollow noreferrer\">isolation levels (<code>en.wikipedia.org</code>)</a>. --- As I see it, the question is not really about java, but DBMS and most probably off-topic for StackOverflow."},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1674232276,"post_id":75186770,"comment_id":132677597,"body_markdown":"This question will most likely get closed as opinion based, but in general, reads don&#39;t need transactions.  Transactions are needed for writing (insert, update, delete) operations and transactions are normally handled by the Service Layer.  I would look into application layers (UI, Services, DAO/Repositories) and go from there.  Good luck.","body":"This question will most likely get closed as opinion based, but in general, reads don&#39;t need transactions.  Transactions are needed for writing (insert, update, delete) operations and transactions are normally handled by the Service Layer.  I would look into application layers (UI, Services, DAO/Repositories) and go from there.  Good luck."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1674232830,"post_id":75186770,"comment_id":132677810,"body_markdown":"@hooknc everything is transactional. If we do not create an explicit transaction, an implicit one is created.","body":"@hooknc everything is transactional. If we do not create an explicit transaction, an implicit one is created."},{"owner":{"account_id":3273747,"reputation":20852,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1674234892,"post_id":75186770,"comment_id":132678448,"body_markdown":"What database technology are you using? A flavor of SQL?","body":"What database technology are you using? A flavor of SQL?"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1674237054,"post_id":75186770,"comment_id":132679159,"body_markdown":"@Turing85 thank you for the correction.  I have to admit that some of my transaction knowledge is a bit shaky, but I could see there always being a transaction.","body":"@Turing85 thank you for the correction.  I have to admit that some of my transaction knowledge is a bit shaky, but I could see there always being a transaction."},{"owner":{"account_id":1249752,"reputation":357,"user_id":1210397,"accept_rate":33,"display_name":"MFH"},"score":0,"creation_date":1674313607,"post_id":75186770,"comment_id":132690233,"body_markdown":"@TylerH, I am using MySQL.","body":"@TylerH, I am using MySQL."},{"owner":{"account_id":3273747,"reputation":20852,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1674487901,"post_id":75186770,"comment_id":132719026,"body_markdown":"Note that it is important to avoid opinion-based language like &quot;should I&quot;--opinion-based questions are off-topic on Stack Overflow.","body":"Note that it is important to avoid opinion-based language like &quot;should I&quot;--opinion-based questions are off-topic on Stack Overflow."}],"owner":{"account_id":1249752,"reputation":357,"user_id":1210397,"accept_rate":33,"display_name":"MFH"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674488638,"creation_date":1674231945,"question_id":75186770,"body_markdown":"I have a simple web application built on Servlet and simple DAO classes to handle database (MySQL) operations.\r\n\r\nMy servlet may receive multiple requests at the same time. How will the database handle multiple requests? \r\n\r\nSuppose I have an &quot;item&quot; database table. Multiple requests may update or delete from the &quot;item&quot; table at the same time. \r\n\r\nIs it required to use [Transactions][1] and [lock][2] the table explicitly during update and delete operations in the DAO class, or will concurrency be handled by the database automatically?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html\r\n  [2]: https://www.javatpoint.com/mysql-table-locking","title":"Is it required to have concurrency control in the DAO class of the Web Application?","body":"<p>I have a simple web application built on Servlet and simple DAO classes to handle database (MySQL) operations.</p>\n<p>My servlet may receive multiple requests at the same time. How will the database handle multiple requests?</p>\n<p>Suppose I have an &quot;item&quot; database table. Multiple requests may update or delete from the &quot;item&quot; table at the same time.</p>\n<p>Is it required to use <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html\" rel=\"nofollow noreferrer\">Transactions</a> and <a href=\"https://www.javatpoint.com/mysql-table-locking\" rel=\"nofollow noreferrer\">lock</a> the table explicitly during update and delete operations in the DAO class, or will concurrency be handled by the database automatically?</p>\n"},{"tags":["java","mockito","knox-amazon-s3-client"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1674486227,"post_id":75211283,"comment_id":132718421,"body_markdown":"`deleteObjects` vs `deleteObject` like the error message says?","body":"<code>deleteObjects</code> vs <code>deleteObject</code> like the error message says?"},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1674486431,"post_id":75211283,"comment_id":132718480,"body_markdown":"@DaveNewton thanks for catch. Still error now but different. Updating post","body":"@DaveNewton thanks for catch. Still error now but different. Updating post"}],"answers":[{"tags":[],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674488409,"creation_date":1674488409,"answer_id":75211746,"question_id":75211283,"body_markdown":"this worked:\r\n\r\n    doNothing().when(s3Client).deleteObject(any(DeleteObjectRequest.class));","title":"Java - Skip line of mocked s3Client class from a junit","body":"<p>this worked:</p>\n<pre><code>doNothing().when(s3Client).deleteObject(any(DeleteObjectRequest.class));\n</code></pre>\n"}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75211746,"answer_count":1,"score":0,"last_activity_date":1674488409,"creation_date":1674486010,"question_id":75211283,"body_markdown":"I need to be able to skip over the s3Client line below when myMethod is executed from a junit. MyClass is NOT mocked, nor is myMethod:\r\n    \r\n    MyClass {\r\n        myMethod(String bucketName, String path) {\r\n \r\n            // do stuff\r\n\r\n            // skip below when mocked in junit\r\n            s3Client.deleteObject(new DeleteObjectRequest(bucketName, path));\r\n\r\n            // more stuff\r\n        {\r\n    {\r\n\r\nIn the junit I have:\r\n\r\n    s3Client = mock(AmazonS3.class);\r\n    when(s3Client.deleteObject(any(DeleteObjectRequest.class))).thenReturn(null);\r\n\r\nThe &quot;when&quot; does not compile: \r\n\r\n    when(T) cannot be applied to void. reason: no instances of type variable T exist so that void conforms to T.\r\n\r\nAgain, I just need to skip this line when from a junit. Any solutions appreciated. Thank you.","title":"Java - Skip line of mocked s3Client class from a junit","body":"<p>I need to be able to skip over the s3Client line below when myMethod is executed from a junit. MyClass is NOT mocked, nor is myMethod:</p>\n<pre><code>MyClass {\n    myMethod(String bucketName, String path) {\n\n        // do stuff\n\n        // skip below when mocked in junit\n        s3Client.deleteObject(new DeleteObjectRequest(bucketName, path));\n\n        // more stuff\n    {\n{\n</code></pre>\n<p>In the junit I have:</p>\n<pre><code>s3Client = mock(AmazonS3.class);\nwhen(s3Client.deleteObject(any(DeleteObjectRequest.class))).thenReturn(null);\n</code></pre>\n<p>The &quot;when&quot; does not compile:</p>\n<pre><code>when(T) cannot be applied to void. reason: no instances of type variable T exist so that void conforms to T.\n</code></pre>\n<p>Again, I just need to skip this line when from a junit. Any solutions appreciated. Thank you.</p>\n"},{"tags":["java","date","timezone","java.util.date"],"comments":[{"owner":{"account_id":61562,"reputation":14771,"user_id":183397,"accept_rate":100,"display_name":"clstrfsck"},"score":8,"creation_date":1274611245,"post_id":2891361,"comment_id":2940015,"body_markdown":"While not really an answer to your question, I&#39;ve used Joda Time after seeing it mentioned here a few times.  It seems more rational to me than the standard APIs, and can do this sort of thing quite easily.","body":"While not really an answer to your question, I&#39;ve used Joda Time after seeing it mentioned here a few times.  It seems more rational to me than the standard APIs, and can do this sort of thing quite easily."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1516304982,"post_id":2891361,"comment_id":83644101,"body_markdown":"@msandiford Nowadays, use *java.time* classes rather than Joda-Time. The [Joda-Time](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes. See [Tutorial by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"@msandiford Nowadays, use <i>java.time</i> classes rather than Joda-Time. The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Tutorial by Oracle</a>."}],"answers":[{"comments":[{"owner":{"account_id":459435,"reputation":577,"user_id":859911,"display_name":"Joshua Hutchison"},"score":0,"creation_date":1361185672,"post_id":2891382,"comment_id":20958144,"body_markdown":"+1 for Joda Time. While it doesn&#39;t provide any additional functionality that you couldn&#39;t get from the standard Java API (that I&#39;ve found in any case - happy to be shown otherwise), Joda Time does make some tasks easier.","body":"+1 for Joda Time. While it doesn&#39;t provide any additional functionality that you couldn&#39;t get from the standard Java API (that I&#39;ve found in any case - happy to be shown otherwise), Joda Time does make some tasks easier."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1393756371,"post_id":2891382,"comment_id":33570278,"body_markdown":"@JoshuaHutchison Joda-Time has *tons* of additional functionality. Example: Representing spans of time with the classes `Period`, `Duration`, and [`Interval`](http://www.joda.org/joda-time/apidocs/org/joda/time/Interval.html). Those spans include comparison methods such as `contains`, `abuts`, `overlap`, and `gap`. And [`PeriodFormatterBuilder`](http://www.joda.org/joda-time/apidocs/org/joda/time/format/PeriodFormatterBuilder.html) can build descriptive phrases such as &quot;15 years and 8 months&quot;.","body":"@JoshuaHutchison Joda-Time has <i>tons</i> of additional functionality. Example: Representing spans of time with the classes <code>Period</code>, <code>Duration</code>, and <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>. Those spans include comparison methods such as <code>contains</code>, <code>abuts</code>, <code>overlap</code>, and <code>gap</code>. And <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/format/PeriodFormatterBuilder.html\" rel=\"nofollow noreferrer\"><code>PeriodFormatterBuilder</code></a> can build descriptive phrases such as &quot;15 years and 8 months&quot;."}],"tags":[],"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1393756243,"creation_date":1274611016,"answer_id":2891382,"question_id":2891361,"body_markdown":"[`java.util.Calendar`][1] is the usual way to handle time zones using just JDK classes. [Apache Commons][2] has some further alternatives/utilities that may be helpful. **Edit** Spong&#39;s note reminded me that I&#39;ve heard really good things about [Joda-Time][3] (though I haven&#39;t used it myself).\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Calendar.html\r\n  [2]: http://commons.apache.org/lang/\r\n  [3]: http://www.joda.org/joda-time/","title":"How to set time zone of a java.util.Date?","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a> is the usual way to handle time zones using just JDK classes. <a href=\"http://commons.apache.org/lang/\" rel=\"nofollow noreferrer\">Apache Commons</a> has some further alternatives/utilities that may be helpful. <strong>Edit</strong> Spong's note reminded me that I've heard really good things about <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> (though I haven't used it myself).</p>\n"},{"comments":[{"owner":{"account_id":178358,"reputation":25369,"user_id":410289,"accept_rate":0,"display_name":"Jackie"},"score":7,"creation_date":1357873667,"post_id":2891412,"comment_id":19811549,"body_markdown":"if the date is created from Calendar class, you can set the timezone for Calendar.","body":"if the date is created from Calendar class, you can set the timezone for Calendar."},{"owner":{"account_id":357865,"reputation":5380,"user_id":1827734,"accept_rate":90,"display_name":"BrDaHa"},"score":37,"creation_date":1418074666,"post_id":2891412,"comment_id":43186739,"body_markdown":"@lwpro2 that statement is misleading; You can set the timezone for a Calendar object, but getting a Date object from it using the getTime() method will return a Date object with the host computer&#39;s time zone.","body":"@lwpro2 that statement is misleading; You can set the timezone for a Calendar object, but getting a Date object from it using the getTime() method will return a Date object with the host computer&#39;s time zone."},{"owner":{"account_id":7647173,"reputation":2122,"user_id":5797400,"display_name":"jpllosa"},"score":2,"creation_date":1494322168,"post_id":2891412,"comment_id":74767278,"body_markdown":"@BrDaHa is correct.You&#39;ll need to `TimeZone.setDefault()` before calling `getTime()` so that the new date object will be in the time zone that you want. In JDK 1.8, `Calendar.getTime()` calls `return new Date(getTimeInMillis());`.","body":"@BrDaHa is correct.You&#39;ll need to <code>TimeZone.setDefault()</code> before calling <code>getTime()</code> so that the new date object will be in the time zone that you want. In JDK 1.8, <code>Calendar.getTime()</code> calls <code>return new Date(getTimeInMillis());</code>."},{"owner":{"account_id":13309392,"reputation":190,"user_id":9653526,"display_name":"Angel"},"score":0,"creation_date":1632291865,"post_id":2891412,"comment_id":122448927,"body_markdown":"Warning at: new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;); \nTo get local formatting use getDateInstance(), getDateTimeInstance(), or getTimeInstance(), or use new SimpleDateFormat(String template, Locale locale) with for example Locale.US for ASCII dates.","body":"Warning at: new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);  To get local formatting use getDateInstance(), getDateTimeInstance(), or getTimeInstance(), or use new SimpleDateFormat(String template, Locale locale) with for example Locale.US for ASCII dates."},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1676578104,"post_id":2891412,"comment_id":133170584,"body_markdown":"This answer seems to be of limited usefulness, as the resulting Date object appears to always be the host computer&#39;s time zone (as per @BrDaHa&#39;s comment above), regardless of what timezone you set for the SimpleDateFormat.","body":"This answer seems to be of limited usefulness, as the resulting Date object appears to always be the host computer&#39;s time zone (as per @BrDaHa&#39;s comment above), regardless of what timezone you set for the SimpleDateFormat."},{"owner":{"account_id":337419,"reputation":2276,"user_id":665679,"accept_rate":74,"display_name":"Chris W."},"score":1,"creation_date":1686418273,"post_id":2891412,"comment_id":134797233,"body_markdown":"@Woodchuck is absolutely right.....","body":"@Woodchuck is absolutely right....."}],"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"comment_count":6,"down_vote_count":5,"up_vote_count":371,"is_accepted":true,"score":366,"last_activity_date":1452259353,"creation_date":1274611796,"answer_id":2891412,"question_id":2891361,"body_markdown":"Use DateFormat. For example,\r\n\r\n\tSimpleDateFormat isoFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n\tisoFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\tDate date = isoFormat.parse(&quot;2010-05-23T09:01:02&quot;);\r\n\r\n","title":"How to set time zone of a java.util.Date?","body":"<p>Use DateFormat. For example,</p>\n\n<pre><code>SimpleDateFormat isoFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss\");\nisoFormat.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\nDate date = isoFormat.parse(\"2010-05-23T09:01:02\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":373701,"reputation":1606,"user_id":723506,"accept_rate":75,"display_name":"David Carboni"},"score":98,"creation_date":1342014074,"post_id":2892156,"comment_id":15084399,"body_markdown":"After a Googling, experimenting and expleting, I&#39;ve realised this is a precise and helpful addition to the answer - and worth highlighting: **Date _only_ contains the millisecond value**. If you look at the source, there&#39;s pretty much just a `long` field called `fastTime`. `Date.toString()` actually uses a `Calendar` to interpret this millisecond time. So printing out a `Date` makes it _appear_ to have a (default) timezone, leading to understandable questions about how to set that timezone.","body":"After a Googling, experimenting and expleting, I&#39;ve realised this is a precise and helpful addition to the answer - and worth highlighting: <b>Date <i>only</i> contains the millisecond value</b>. If you look at the source, there&#39;s pretty much just a <code>long</code> field called <code>fastTime</code>. <code>Date.toString()</code> actually uses a <code>Calendar</code> to interpret this millisecond time. So printing out a <code>Date</code> makes it <i>appear</i> to have a (default) timezone, leading to understandable questions about how to set that timezone."},{"owner":{"account_id":178358,"reputation":25369,"user_id":410289,"accept_rate":0,"display_name":"Jackie"},"score":4,"creation_date":1357873773,"post_id":2892156,"comment_id":19811575,"body_markdown":"there IS timezone info inside the Date objects. But it might be true, you cannot change it.","body":"there IS timezone info inside the Date objects. But it might be true, you cannot change it."},{"owner":{"account_id":67250,"reputation":3526,"user_id":196869,"accept_rate":100,"display_name":"Jim"},"score":3,"creation_date":1377028630,"post_id":2892156,"comment_id":26927656,"body_markdown":"@Iwpro2, Jesper claims (and I agree) that the Date object does not store a time zone.  If you are claiming that the time zone is stored inside java.util.Date please provide a reference.","body":"@Iwpro2, Jesper claims (and I agree) that the Date object does not store a time zone.  If you are claiming that the time zone is stored inside java.util.Date please provide a reference."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":8,"creation_date":1378392611,"post_id":2892156,"comment_id":27442527,"body_markdown":"@Jim, [this](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Date.java) is the source code for java.util.Date. It contains fastTime as unix epoch as well as BaseCalendar.Date cdate that is used in favor of fastTime, if it is defined. That one contains timezone information. I understand it so that a Date instance can contain timezone information, but it might not.","body":"@Jim, <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/Date.java\" rel=\"nofollow noreferrer\">this</a> is the source code for java.util.Date. It contains fastTime as unix epoch as well as BaseCalendar.Date cdate that is used in favor of fastTime, if it is defined. That one contains timezone information. I understand it so that a Date instance can contain timezone information, but it might not."},{"owner":{"account_id":67250,"reputation":3526,"user_id":196869,"accept_rate":100,"display_name":"Jim"},"score":1,"creation_date":1378754418,"post_id":2892156,"comment_id":27559419,"body_markdown":"@eis Interesting.  Where do you see that you can set the time zone of that internal cdate?  As far as I can tell, it uses the user&#39;s default timezone, which sounds like the OPs problem.  Also cdate is used with a bunch of the deprecated parts of Date, which seems like it would be better to stay away from.","body":"@eis Interesting.  Where do you see that you can set the time zone of that internal cdate?  As far as I can tell, it uses the user&#39;s default timezone, which sounds like the OPs problem.  Also cdate is used with a bunch of the deprecated parts of Date, which seems like it would be better to stay away from."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":2,"creation_date":1378756264,"post_id":2892156,"comment_id":27560284,"body_markdown":"@Jim I didn&#39;t say you could set it, I was saying that it contains this information. I don&#39;t see any way of setting it as user either. I think OP is correct in that it seems to always be the user/system default timezone.","body":"@Jim I didn&#39;t say you could set it, I was saying that it contains this information. I don&#39;t see any way of setting it as user either. I think OP is correct in that it seems to always be the user/system default timezone."},{"owner":{"account_id":85878,"reputation":44865,"user_id":239168,"accept_rate":87,"display_name":"Eran Medan"},"score":0,"creation_date":1423527200,"post_id":2892156,"comment_id":45176898,"body_markdown":"It seems the only place where it mentions timezone is for the toString methods... using the user&#39;s time zone... It does contain a time zone by the way, the timezone is always UTC (Epoc is 1/1/1970 00:00:00 *UTC*, no?)","body":"It seems the only place where it mentions timezone is for the toString methods... using the user&#39;s time zone... It does contain a time zone by the way, the timezone is always UTC (Epoc is 1/1/1970 00:00:00 <i>UTC</i>, no?)"},{"owner":{"account_id":2078753,"reputation":2150,"user_id":1851358,"accept_rate":64,"display_name":"faisalbhagat"},"score":0,"creation_date":1604994599,"post_id":2892156,"comment_id":114509892,"body_markdown":"when you say &quot;number of milliseconds since the &quot;epoch&quot; - 1 January 1970, 00:00:00 UTC.&quot;  Then you are saying TimeZone is UTC or GMT isnt it?","body":"when you say &quot;number of milliseconds since the &quot;epoch&quot; - 1 January 1970, 00:00:00 UTC.&quot;  Then you are saying TimeZone is UTC or GMT isnt it?"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1605086426,"post_id":2892156,"comment_id":114541897,"body_markdown":"@faisalbhagat The only real information in a `java.util.Date` object is the number of milliseconds since a fixed point in time, which happens to be 01-01-1970, 00:00:00 UTC. The point is that you cannot change the timezone of a `Date` object.","body":"@faisalbhagat The only real information in a <code>java.util.Date</code> object is the number of milliseconds since a fixed point in time, which happens to be 01-01-1970, 00:00:00 UTC. The point is that you cannot change the timezone of a <code>Date</code> object."},{"owner":{"account_id":7852595,"reputation":161,"user_id":6146133,"display_name":"Ray O&#39;Kalahjan"},"score":1,"creation_date":1627302603,"post_id":2892156,"comment_id":121111798,"body_markdown":"I know this is old, but I wanted to clarify, as this is something I have just been &quot;fighting&quot; with. tl;dr: all Dates have the same instance of ZoneInfo, which can be changed with TimeZone.setDefault().\njava.util.Date **does** have a BaseCalendar.Date in it, which **does** have a ZoneInfo, which is used in the Date&#39;s toString() method. However, even if the BaseCalendar.Date is unique for each java.util.Date, the ZoneInfo is one and the same for every java.util.Date. If you change default TimeZone via TimeZone.setDefault(), it changes this ZoneInfo, and thus changes all Date&#39;s TimeZone.","body":"I know this is old, but I wanted to clarify, as this is something I have just been &quot;fighting&quot; with. tl;dr: all Dates have the same instance of ZoneInfo, which can be changed with TimeZone.setDefault(). java.util.Date <b>does</b> have a BaseCalendar.Date in it, which <b>does</b> have a ZoneInfo, which is used in the Date&#39;s toString() method. However, even if the BaseCalendar.Date is unique for each java.util.Date, the ZoneInfo is one and the same for every java.util.Date. If you change default TimeZone via TimeZone.setDefault(), it changes this ZoneInfo, and thus changes all Date&#39;s TimeZone."}],"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":10,"down_vote_count":1,"up_vote_count":227,"is_accepted":false,"score":226,"last_activity_date":1274625921,"creation_date":1274625921,"answer_id":2892156,"question_id":2891361,"body_markdown":"Be aware that `java.util.Date` objects do not contain any timezone information by themselves - you cannot set the timezone on a `Date` object. The only thing that a `Date` object contains is a number of milliseconds since the &quot;epoch&quot; - 1 January 1970, 00:00:00 UTC.\r\n\r\nAs ZZ Coder shows, you set the timezone on the `DateFormat` object, to tell it in which timezone you want to display the date and time.","title":"How to set time zone of a java.util.Date?","body":"<p>Be aware that <code>java.util.Date</code> objects do not contain any timezone information by themselves - you cannot set the timezone on a <code>Date</code> object. The only thing that a <code>Date</code> object contains is a number of milliseconds since the \"epoch\" - 1 January 1970, 00:00:00 UTC.</p>\n\n<p>As ZZ Coder shows, you set the timezone on the <code>DateFormat</code> object, to tell it in which timezone you want to display the date and time.</p>\n"},{"comments":[{"owner":{"account_id":462359,"reputation":3794,"user_id":864624,"accept_rate":84,"display_name":"vishnu viswanath"},"score":1,"creation_date":1387382287,"post_id":18638742,"comment_id":30935983,"body_markdown":"This helped me. setting timeZone in SDF didn&#39;t make any diff","body":"This helped me. setting timeZone in SDF didn&#39;t make any diff"},{"owner":{"account_id":2255503,"reputation":2895,"user_id":1986779,"accept_rate":61,"display_name":"foobar"},"score":0,"creation_date":1387542206,"post_id":18638742,"comment_id":31009372,"body_markdown":"I think its more reliable. (+1)","body":"I think its more reliable. (+1)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":28,"creation_date":1393757620,"post_id":18638742,"comment_id":33570585,"body_markdown":"Beware: Calling `TimeZone.setDefault` is rather drastic, as it affects the entire JVM, affects all other objects and threads. See [this answer](http://stackoverflow.com/a/9891971/642706) for details including even more complications if you are running with a SecurityManager. Adding even more complication: This behavior has changed in various versions of Java, as discussed in [this Question](http://stackoverflow.com/q/2176784/642706).","body":"Beware: Calling <code>TimeZone.setDefault</code> is rather drastic, as it affects the entire JVM, affects all other objects and threads. See <a href=\"http://stackoverflow.com/a/9891971/642706\">this answer</a> for details including even more complications if you are running with a SecurityManager. Adding even more complication: This behavior has changed in various versions of Java, as discussed in <a href=\"http://stackoverflow.com/q/2176784/642706\">this Question</a>."},{"owner":{"account_id":5357268,"reputation":1794,"user_id":4269615,"display_name":"Jaydev"},"score":0,"creation_date":1463124994,"post_id":18638742,"comment_id":61939535,"body_markdown":"This sets a common timezone across all threads spawned after this statement, right ?","body":"This sets a common timezone across all threads spawned after this statement, right ?"},{"owner":{"display_name":"user2587965"},"score":1,"creation_date":1534429808,"post_id":18638742,"comment_id":90710403,"body_markdown":"This is a better answer to the question than the accepted one.","body":"This is a better answer to the question than the accepted one."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1626284070,"post_id":18638742,"comment_id":120854174,"body_markdown":"@francogrex I beg to differ. Setting the default time zone, potentially disturbing time operations anywhere in your program and in other programs running in the JVM, is not encouraged. Neither is using `Date` nor `TimeZone`, two poorly designed and outdated classes.","body":"@francogrex I beg to differ. Setting the default time zone, potentially disturbing time operations anywhere in your program and in other programs running in the JVM, is not encouraged. Neither is using <code>Date</code> nor <code>TimeZone</code>, two poorly designed and outdated classes."}],"tags":[],"owner":{"account_id":221556,"reputation":2217,"user_id":479615,"display_name":"starmer"},"comment_count":6,"down_vote_count":5,"up_vote_count":88,"is_accepted":false,"score":83,"last_activity_date":1452259435,"creation_date":1378390518,"answer_id":18638742,"question_id":2891361,"body_markdown":"You could also set the timezone at the JVM level\r\n\r\n\r\n    Date date1 = new Date();\r\n    System.out.println(date1);\r\n\r\n    TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    // or pass in a command line arg: -Duser.timezone=&quot;UTC&quot;\r\n\r\n    Date date2 = new Date();\r\n    System.out.println(date2);\r\n\r\noutput:\r\n\r\n    Thu Sep 05 10:11:12 EDT 2013\r\n    Thu Sep 05 14:11:12 UTC 2013","title":"How to set time zone of a java.util.Date?","body":"<p>You could also set the timezone at the JVM level</p>\n\n<pre><code>Date date1 = new Date();\nSystem.out.println(date1);\n\nTimeZone.setDefault(TimeZone.getTimeZone(\"UTC\"));\n// or pass in a command line arg: -Duser.timezone=\"UTC\"\n\nDate date2 = new Date();\nSystem.out.println(date2);\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Thu Sep 05 10:11:12 EDT 2013\nThu Sep 05 14:11:12 UTC 2013\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3609547,"reputation":151,"user_id":3010895,"display_name":"Thai Bui"},"score":3,"creation_date":1420752123,"post_id":22126586,"comment_id":44103448,"body_markdown":"&quot;No Time Zone in j.u.Date&quot; is wrong. There is a timezone information in j.u.Date stored in its `BaseCalendar.Date cdate` property if set. Take a look at the source code [here](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7u40-b43/java/util/Date.java). \n\nYou can&#39;t set the timezone of a j.u.Date object except by changing the default timezone of the JVM by calling `TimeZone.setDefault(TimeZone.getTimeZone(&quot;NEW_TIME_ZONE&quot;));`.\n\nThus, there is a timezone offset and you can get the offset by calling the deprecated method j.u.Date.getTimezoneOffset()","body":"&quot;No Time Zone in j.u.Date&quot; is wrong. There is a timezone information in j.u.Date stored in its <code>BaseCalendar.Date cdate</code> property if set. Take a look at the source code <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7u40-b43/java/util/Date.java\" rel=\"nofollow noreferrer\">here</a>.   You can&#39;t set the timezone of a j.u.Date object except by changing the default timezone of the JVM by calling <code>TimeZone.setDefault(TimeZone.getTimeZone(&quot;NEW_TIME_ZONE&quot;));</code>.  Thus, there is a timezone offset and you can get the offset by calling the deprecated method j.u.Date.getTimezoneOffset()"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":5,"creation_date":1420781641,"post_id":22126586,"comment_id":44112444,"body_markdown":"@blquythai Correct, you did your homework. As did I, having seen that source code before. There *is* a time zone buried in there. But for all practical purposes that time zone is ignored. A java.util.Date works without any time zone, in effect being in UTC, while ignoring that buried time zone. Except for the `toString` method which applies the JVM’s current default time zone; again ignoring the buried time zone. So for brevity, we say a java.util.Date has no time zone. [Like Art](https://www.goodreads.com/quotes/67884-we-all-know-that-art-is-not-truth-art-is), it&#39;s a lie that tells the truth.","body":"@blquythai Correct, you did your homework. As did I, having seen that source code before. There <i>is</i> a time zone buried in there. But for all practical purposes that time zone is ignored. A java.util.Date works without any time zone, in effect being in UTC, while ignoring that buried time zone. Except for the <code>toString</code> method which applies the JVM’s current default time zone; again ignoring the buried time zone. So for brevity, we say a java.util.Date has no time zone. <a href=\"https://www.goodreads.com/quotes/67884-we-all-know-that-art-is-not-truth-art-is\" rel=\"nofollow noreferrer\">Like Art</a>, it&#39;s a lie that tells the truth."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1420782098,"post_id":22126586,"comment_id":44112564,"body_markdown":"@blquythai As for calling `TimeZone.setDefault`, you are *not* setting the time zone of the java.util.Date object -- the Date object still ignores its buried time zone, acting effectively in UTC. You would affect Date’s `toString` method. Setting the default changes the JVM’s default time zone which is usually set to the host operating system’s time zone. **That call is not recommended** as it affects all the code in all the threads of all the apps running in that JVM, and does so on-the-fly as they are executing. Being rude and dangerous, that call should only be considered as a last resort.","body":"@blquythai As for calling <code>TimeZone.setDefault</code>, you are <i>not</i> setting the time zone of the java.util.Date object -- the Date object still ignores its buried time zone, acting effectively in UTC. You would affect Date’s <code>toString</code> method. Setting the default changes the JVM’s default time zone which is usually set to the host operating system’s time zone. <b>That call is not recommended</b> as it affects all the code in all the threads of all the apps running in that JVM, and does so on-the-fly as they are executing. Being rude and dangerous, that call should only be considered as a last resort."},{"owner":{"account_id":3609547,"reputation":151,"user_id":3010895,"display_name":"Thai Bui"},"score":5,"creation_date":1420828059,"post_id":22126586,"comment_id":44136159,"body_markdown":"That time zone is used very often (used in `equals`, `hashcode`, `getTime`..)\n\nIf you take a look at the `equals` method, it calls `getTime()` which calls `getTimeImpl()`, which calls `normalize()` if the `cdate` property is not normalized.\n\nIn `normalize()` method, the last if condition re-calculates the milliseconds since 1/1/70 based on its stored timezone information if the timezone of `cdate` is different from the timezone of the current JVM environment it is running on. (Take a look at `sun.util.calendar.AbstractCalendar getCalendarDate(long millis, CalendarDate date)`)","body":"That time zone is used very often (used in <code>equals</code>, <code>hashcode</code>, <code>getTime</code>..)  If you take a look at the <code>equals</code> method, it calls <code>getTime()</code> which calls <code>getTimeImpl()</code>, which calls <code>normalize()</code> if the <code>cdate</code> property is not normalized.  In <code>normalize()</code> method, the last if condition re-calculates the milliseconds since 1/1/70 based on its stored timezone information if the timezone of <code>cdate</code> is different from the timezone of the current JVM environment it is running on. (Take a look at <code>sun.util.calendar.AbstractCalendar getCalendarDate(long millis, CalendarDate date)</code>)"},{"owner":{"account_id":517074,"reputation":1529,"user_id":1050787,"accept_rate":50,"display_name":"Michal M"},"score":0,"creation_date":1444823451,"post_id":22126586,"comment_id":54061461,"body_markdown":"Well, we are engineers, not artists here (though many claim that programming is a form of art), so in my humble opinion it would be fair to at least leave a few words of disclaimer... No downvote, but in such a well and detailed answer I think it should be included.","body":"Well, we are engineers, not artists here (though many claim that programming is a form of art), so in my humble opinion it would be fair to at least leave a few words of disclaimer... No downvote, but in such a well and detailed answer I think it should be included."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1513966232,"post_id":22126586,"comment_id":82861015,"body_markdown":"@MichalM Per your advice, some time ago I added an afterword about the embedded zone.","body":"@MichalM Per your advice, some time ago I added an afterword about the embedded zone."},{"owner":{"account_id":680482,"reputation":26161,"user_id":664364,"accept_rate":82,"display_name":"Ariel"},"score":1,"creation_date":1614647923,"post_id":22126586,"comment_id":117443805,"body_markdown":"The answer is great, however there is something lacking from the Modern classes: They don&#39;t handle the Julian-Gregorian cutover, and if you use them with such early dates you will have errors. Any advice or suggestions?","body":"The answer is great, however there is something lacking from the Modern classes: They don&#39;t handle the Julian-Gregorian cutover, and if you use them with such early dates you will have errors. Any advice or suggestions?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1614651969,"post_id":22126586,"comment_id":117444566,"body_markdown":"@Ariel There are thorny issues involved in historic date-time handling such as the Julian cutover and birth-of-Christ year zero. As a programmer working on business-oriented apps, I have little knowledge of, and little interest in, those issues. If one does care about those issues, be sure to read the documentation carefully to understand the design decisions made by the *java.time* authors. For contemporary usage, the *java.time* classes certainly work very well, leading the industry as far as I know.","body":"@Ariel There are thorny issues involved in historic date-time handling such as the Julian cutover and birth-of-Christ year zero. As a programmer working on business-oriented apps, I have little knowledge of, and little interest in, those issues. If one does care about those issues, be sure to read the documentation carefully to understand the design decisions made by the <i>java.time</i> authors. For contemporary usage, the <i>java.time</i> classes certainly work very well, leading the industry as far as I know."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1626383013,"post_id":22126586,"comment_id":120885539,"body_markdown":"@Ariel You may be interested in this alternate chronology implementation that you can plug into the *java.time* framework: [`org.threeten.extra.chrono.JulianChronology`](https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/chrono/JulianChronology.html). This chronology defines the rules of the proleptic Julian calendar system, forerunner to the modern Gregorian and ISO calendars. This class comes in the [*ThreeTen-Extra*](https://www.threeten.org/threeten-extra/) library.","body":"@Ariel You may be interested in this alternate chronology implementation that you can plug into the <i>java.time</i> framework: <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/chrono/JulianChronology.html\" rel=\"nofollow noreferrer\"><code>org.threeten.extra.chrono.JulianChronology</code></a>. This chronology defines the rules of the proleptic Julian calendar system, forerunner to the modern Gregorian and ISO calendars. This class comes in the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><i>ThreeTen-Extra</i></a> library."},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1629944074,"post_id":22126586,"comment_id":121822886,"body_markdown":"I appreciated this _j.u.Date_ detail very much, and just want to add emphasis to it here: [`java.util.Date` is] **&quot;Very confusing because its toString method applies the JVM&#39;s default time zone&quot;**! (and of course, a JVM is running on some physical machine, which is physically located somewhere in the world in some time zone!)","body":"I appreciated this <i>j.u.Date</i> detail very much, and just want to add emphasis to it here: [<code>java.util.Date</code> is] <b>&quot;Very confusing because its toString method applies the JVM&#39;s default time zone&quot;</b>! (and of course, a JVM is running on some physical machine, which is physically located somewhere in the world in some time zone!)"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":10,"down_vote_count":0,"up_vote_count":157,"is_accepted":false,"score":157,"last_activity_date":1594935637,"creation_date":1393757136,"answer_id":22126586,"question_id":2891361,"body_markdown":"# tl;dr\r\n\r\n&gt;…parsed … from a String … time zone is not specified … I want to set a specific time zone\r\n\r\n    LocalDateTime.parse( &quot;2018-01-23T01:23:45.123456789&quot; )  // Parse string, lacking an offset-from-UTC and lacking a time zone, as a `LocalDateTime`.\r\n        .atZone( ZoneId.of( &quot;Africa/Tunis&quot; ) )              // Assign the time zone for which you are certain this date-time was intended. Instantiates a `ZonedDateTime` object.\r\n\r\n# No Time Zone in j.u.Date\r\n\r\nAs the other correct answers stated, a java.util.Date has no time zone&lt;sup&gt;†&lt;/sup&gt;. It represents [UTC][1]/GMT (no time zone offset). Very confusing because its `toString` method applies the JVM&#39;s default time zone when generating a String representation. \r\n\r\n# Avoid j.u.Date\r\n\r\nFor this and many other reasons, you should avoid using the built-in java.util.Date &amp; .Calendar &amp; java.text.SimpleDateFormat. They are notoriously troublesome. \r\n\r\nInstead use the [java.time package][2] bundled with [Java 8][3]. \r\n\r\n# java.time\r\n\r\nThe java.time classes can represent a moment on the timeline in three ways: \r\n\r\n - UTC (`Instant`)\r\n - With an offset (`OffsetDateTime` with `ZoneOffset`)\r\n - With a time zone (`ZonedDateTime` with `ZoneId`)\r\n\r\n## `Instant`\r\n\r\nIn [java.time][2], the basic building block is [`Instant`][4], a moment on the time line in UTC. Use `Instant` objects for much of your business logic.\r\n\r\n    Instant instant = Instant.now();\r\n\r\n## `OffsetDateTime`\r\n\r\nApply an [offset-from-UTC][5] to adjust into some locality’s [wall-clock time][6]. \r\n\r\nApply a [`ZoneOffset`](https://docs.oracle.com/javase/9/docs/api/java/time/ZoneOffset.html) to get an [`OffsetDateTime`][7].\r\n\r\n    ZoneOffset zoneOffset = ZoneOffset.of( &quot;-04:00&quot; );\r\n    OffsetDateTime odt = OffsetDateTime.ofInstant( instant , zoneOffset );\r\n\r\n## `ZonedDateTime`\r\n\r\nBetter is to apply a [time zone][8], an offset *plus* the rules for handling anomalies such as [Daylight Saving Time (DST)][9]. \r\n\r\nApply a [`ZoneId`][10] to an `Instant` to get a [`ZonedDateTime`][11]. Always specify a [proper time zone name][12]. Never use 3-4 abbreviations such as `EST` or `IST` that are neither unique nor standardized.\r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );\r\n\r\n## `LocalDateTime`\r\n\r\nIf the input string lacked any indicator of offset or zone, parse as a [`LocalDateTime`][13]. \r\n\r\nIf you are certain of the intended time zone, assign a `ZoneId` to produce a `ZonedDateTime`. See code example above in *tl;dr* section at top.\r\n\r\n## Formatted Strings\r\n\r\nCall the `toString` method on any of these three classes to generate a String representing the date-time value in standard [ISO 8601][14] format. The `ZonedDateTime` class extends standard format by appending the name of the time zone in brackets.\r\n\r\n    String outputInstant = instant.toString(); // Ex: 2011-12-03T10:15:30Z\r\n    String outputOdt = odt.toString(); // Ex: 2007-12-03T10:15:30+01:00\r\n    String outputZdt = zdt.toString(); // Ex: 2007-12-03T10:15:30+01:00[Europe/Paris]\r\n\r\nFor other formats use the [`DateTimeFormatter`][15] class. Generally best to let that class generate localized formats using the user’s expected human language and cultural norms. Or you can specify a particular format.\r\n\r\n\r\n----------\r\n[![Table of all date-time types in Java, both modern and legacy][16]][16]\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), a process known as [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n# Joda-Time\r\n\r\nWhile [Joda-Time][17] is still actively maintained, its makers have told us to migrate to java.time as soon as is convenient. I leave this section intact as a reference, but I suggest using the `java.time` section above instead.\r\n\r\nIn [Joda-Time][17], a date-time object ([`DateTime`][18]) truly does know its assigned time zone. That means an offset from UTC *and* the rules and history of that time zone’s Daylight Saving Time (DST) and other such anomalies.\r\n\r\n    String input = &quot;2014-01-02T03:04:05&quot;;\r\n    DateTimeZone timeZone = DateTimeZone.forID( &quot;Asia/Kolkata&quot; );\r\n    DateTime dateTimeIndia = new DateTime( input, timeZone );\r\n    DateTime dateTimeUtcGmt = dateTimeIndia.withZone( DateTimeZone.UTC );\r\n\r\nCall the `toString` method to generate a String in [ISO 8601][14] format.\r\n\r\n    String output = dateTimeIndia.toString();\r\n\r\nJoda-Time also offers rich capabilities for generating all kinds of other String formats.\r\n\r\nIf required, you can convert from Joda-Time DateTime to a java.util.Date.\r\n\r\n    Java.util.Date date = dateTimeIndia.toDate();\r\n\r\nSearch StackOverflow for &quot;joda date&quot; to find many more examples, some quite detailed.\r\n\r\n\r\n----------\r\n\r\n&lt;sup&gt;†&lt;/sup&gt;Actually there *is* a time zone embedded in a java.util.Date, used for some internal functions (see comments on this Answer). But this internal time zone is not exposed as a property, and cannot be set. This internal time zone is *not* the one used by the [`toString`][19] method in generating a string representation of the date-time value; instead the JVM’s current default time zone is applied on-the-fly. So, as shorthand, we often say “j.u.Date has no time zone”. Confusing? Yes. Yet another reason to avoid these tired old classes.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [2]: http://download.java.net/jdk8/docs/api/java/time/package-summary.html\r\n  [3]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\r\n  [4]: http://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\r\n  [5]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [6]: https://en.wikipedia.org/wiki/Wall_clock_time\r\n  [7]: http://docs.oracle.com/javase/9/docs/api/java/time/OffsetDateTime.html\r\n  [8]: https://en.wikipedia.org/wiki/Time_zone\r\n  [9]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [10]: http://docs.oracle.com/javase/9/docs/api/java/time/ZoneId.html\r\n  [11]: http://docs.oracle.com/javase/9/docs/api/java/time/ZonedDateTime.html\r\n  [12]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [13]: https://docs.oracle.com/javase/9/docs/api/java/time/LocalDateTime.html\r\n  [14]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [15]: http://docs.oracle.com/javase/9/docs/api/java/time/format/DateTimeFormatter.html\r\n  [16]: https://i.stack.imgur.com/o48bV.png\r\n  [17]: http://www.joda.org/joda-time\r\n  [18]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\r\n  [19]: http://docs.oracle.com/javase/9/docs/api/java/util/Date.html#toString--","title":"How to set time zone of a java.util.Date?","body":"<h1>tl;dr</h1>\n<blockquote>\n<p>…parsed … from a String … time zone is not specified … I want to set a specific time zone</p>\n</blockquote>\n<pre><code>LocalDateTime.parse( &quot;2018-01-23T01:23:45.123456789&quot; )  // Parse string, lacking an offset-from-UTC and lacking a time zone, as a `LocalDateTime`.\n    .atZone( ZoneId.of( &quot;Africa/Tunis&quot; ) )              // Assign the time zone for which you are certain this date-time was intended. Instantiates a `ZonedDateTime` object.\n</code></pre>\n<h1>No Time Zone in j.u.Date</h1>\n<p>As the other correct answers stated, a java.util.Date has no time zone<sup>†</sup>. It represents <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>/GMT (no time zone offset). Very confusing because its <code>toString</code> method applies the JVM's default time zone when generating a String representation.</p>\n<h1>Avoid j.u.Date</h1>\n<p>For this and many other reasons, you should avoid using the built-in java.util.Date &amp; .Calendar &amp; java.text.SimpleDateFormat. They are notoriously troublesome.</p>\n<p>Instead use the <a href=\"http://download.java.net/jdk8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time package</a> bundled with <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\">Java 8</a>.</p>\n<h1>java.time</h1>\n<p>The java.time classes can represent a moment on the timeline in three ways:</p>\n<ul>\n<li>UTC (<code>Instant</code>)</li>\n<li>With an offset (<code>OffsetDateTime</code> with <code>ZoneOffset</code>)</li>\n<li>With a time zone (<code>ZonedDateTime</code> with <code>ZoneId</code>)</li>\n</ul>\n<h2><code>Instant</code></h2>\n<p>In <a href=\"http://download.java.net/jdk8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a>, the basic building block is <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a>, a moment on the time line in UTC. Use <code>Instant</code> objects for much of your business logic.</p>\n<pre><code>Instant instant = Instant.now();\n</code></pre>\n<h2><code>OffsetDateTime</code></h2>\n<p>Apply an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a> to adjust into some locality’s <a href=\"https://en.wikipedia.org/wiki/Wall_clock_time\" rel=\"noreferrer\">wall-clock time</a>.</p>\n<p>Apply a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/ZoneOffset.html\" rel=\"noreferrer\"><code>ZoneOffset</code></a> to get an <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a>.</p>\n<pre><code>ZoneOffset zoneOffset = ZoneOffset.of( &quot;-04:00&quot; );\nOffsetDateTime odt = OffsetDateTime.ofInstant( instant , zoneOffset );\n</code></pre>\n<h2><code>ZonedDateTime</code></h2>\n<p>Better is to apply a <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"noreferrer\">time zone</a>, an offset <em>plus</em> the rules for handling anomalies such as <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"noreferrer\">Daylight Saving Time (DST)</a>.</p>\n<p>Apply a <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a> to an <code>Instant</code> to get a <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>. Always specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"noreferrer\">proper time zone name</a>. Never use 3-4 abbreviations such as <code>EST</code> or <code>IST</code> that are neither unique nor standardized.</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\nZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );\n</code></pre>\n<h2><code>LocalDateTime</code></h2>\n<p>If the input string lacked any indicator of offset or zone, parse as a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a>.</p>\n<p>If you are certain of the intended time zone, assign a <code>ZoneId</code> to produce a <code>ZonedDateTime</code>. See code example above in <em>tl;dr</em> section at top.</p>\n<h2>Formatted Strings</h2>\n<p>Call the <code>toString</code> method on any of these three classes to generate a String representing the date-time value in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> format. The <code>ZonedDateTime</code> class extends standard format by appending the name of the time zone in brackets.</p>\n<pre><code>String outputInstant = instant.toString(); // Ex: 2011-12-03T10:15:30Z\nString outputOdt = odt.toString(); // Ex: 2007-12-03T10:15:30+01:00\nString outputZdt = zdt.toString(); // Ex: 2007-12-03T10:15:30+01:00[Europe/Paris]\n</code></pre>\n<p>For other formats use the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a> class. Generally best to let that class generate localized formats using the user’s expected human language and cultural norms. Or you can specify a particular format.</p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/o48bV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/o48bV.png\" alt=\"Table of all date-time types in Java, both modern and legacy\" /></a></p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n<h1>Joda-Time</h1>\n<p>While <a href=\"http://www.joda.org/joda-time\" rel=\"noreferrer\">Joda-Time</a> is still actively maintained, its makers have told us to migrate to java.time as soon as is convenient. I leave this section intact as a reference, but I suggest using the <code>java.time</code> section above instead.</p>\n<p>In <a href=\"http://www.joda.org/joda-time\" rel=\"noreferrer\">Joda-Time</a>, a date-time object (<a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"noreferrer\"><code>DateTime</code></a>) truly does know its assigned time zone. That means an offset from UTC <em>and</em> the rules and history of that time zone’s Daylight Saving Time (DST) and other such anomalies.</p>\n<pre><code>String input = &quot;2014-01-02T03:04:05&quot;;\nDateTimeZone timeZone = DateTimeZone.forID( &quot;Asia/Kolkata&quot; );\nDateTime dateTimeIndia = new DateTime( input, timeZone );\nDateTime dateTimeUtcGmt = dateTimeIndia.withZone( DateTimeZone.UTC );\n</code></pre>\n<p>Call the <code>toString</code> method to generate a String in <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> format.</p>\n<pre><code>String output = dateTimeIndia.toString();\n</code></pre>\n<p>Joda-Time also offers rich capabilities for generating all kinds of other String formats.</p>\n<p>If required, you can convert from Joda-Time DateTime to a java.util.Date.</p>\n<pre><code>Java.util.Date date = dateTimeIndia.toDate();\n</code></pre>\n<p>Search StackOverflow for &quot;joda date&quot; to find many more examples, some quite detailed.</p>\n<hr />\n<p><sup>†</sup>Actually there <em>is</em> a time zone embedded in a java.util.Date, used for some internal functions (see comments on this Answer). But this internal time zone is not exposed as a property, and cannot be set. This internal time zone is <em>not</em> the one used by the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/util/Date.html#toString--\" rel=\"noreferrer\"><code>toString</code></a> method in generating a string representation of the date-time value; instead the JVM’s current default time zone is applied on-the-fly. So, as shorthand, we often say “j.u.Date has no time zone”. Confusing? Yes. Yet another reason to avoid these tired old classes.</p>\n"},{"comments":[{"owner":{"account_id":23404,"reputation":447,"user_id":58633,"display_name":"andrerobot"},"score":4,"creation_date":1480447703,"post_id":30403673,"comment_id":68963505,"body_markdown":"The offset of timezones are not always constant. In fact, they may change due to geopolitical reasons. TimeZone.getDSTSavings() doesn&#39;t take this into account, and always returns the _current_ offset. This means that you may get a wrong conversion in case you&#39;re dealing with a historical date with a fromTimeZone/toTimeZone that has changed offsets since that date.","body":"The offset of timezones are not always constant. In fact, they may change due to geopolitical reasons. TimeZone.getDSTSavings() doesn&#39;t take this into account, and always returns the <i>current</i> offset. This means that you may get a wrong conversion in case you&#39;re dealing with a historical date with a fromTimeZone/toTimeZone that has changed offsets since that date."}],"tags":[],"owner":{"account_id":179033,"reputation":4058,"user_id":411401,"display_name":"diadyne"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1432319820,"creation_date":1432319820,"answer_id":30403673,"question_id":2891361,"body_markdown":"If you must work with only standard JDK classes you can use this:\r\n\r\n\t/**\r\n\t * Converts the given &lt;code&gt;date&lt;/code&gt; from the &lt;code&gt;fromTimeZone&lt;/code&gt; to the\r\n\t * &lt;code&gt;toTimeZone&lt;/code&gt;.  Since java.util.Date has does not really store time zome\r\n\t * information, this actually converts the date to the date that it would be in the\r\n\t * other time zone.\r\n\t * @param date\r\n\t * @param fromTimeZone\r\n\t * @param toTimeZone\r\n\t * @return\r\n\t */\r\n\tpublic static Date convertTimeZone(Date date, TimeZone fromTimeZone, TimeZone toTimeZone)\r\n\t{\r\n\t    long fromTimeZoneOffset = getTimeZoneUTCAndDSTOffset(date, fromTimeZone);\r\n\t    long toTimeZoneOffset = getTimeZoneUTCAndDSTOffset(date, toTimeZone);\r\n\t    \r\n\t    return new Date(date.getTime() + (toTimeZoneOffset - fromTimeZoneOffset));\r\n\t}\r\n\r\n\t/**\r\n\t * Calculates the offset of the &lt;code&gt;timeZone&lt;/code&gt; from UTC, factoring in any\r\n\t * additional offset due to the time zone being in daylight savings time as of\r\n\t * the given &lt;code&gt;date&lt;/code&gt;.\r\n\t * @param date\r\n\t * @param timeZone\r\n\t * @return\r\n\t */\r\n\tprivate static long getTimeZoneUTCAndDSTOffset(Date date, TimeZone timeZone)\r\n\t{\r\n\t\tlong timeZoneDSTOffset = 0;\r\n\t    if(timeZone.inDaylightTime(date))\r\n\t    {\r\n\t        timeZoneDSTOffset = timeZone.getDSTSavings();\r\n\t    }\r\n\t \r\n\t    return timeZone.getRawOffset() + timeZoneDSTOffset;\r\n\t}\r\n\r\nCredit goes to this [post][1].\r\n\r\n\r\n  [1]: http://www.coderanch.com/t/417443/java/java/Convert-Date-timezone","title":"How to set time zone of a java.util.Date?","body":"<p>If you must work with only standard JDK classes you can use this:</p>\n\n<pre><code>/**\n * Converts the given &lt;code&gt;date&lt;/code&gt; from the &lt;code&gt;fromTimeZone&lt;/code&gt; to the\n * &lt;code&gt;toTimeZone&lt;/code&gt;.  Since java.util.Date has does not really store time zome\n * information, this actually converts the date to the date that it would be in the\n * other time zone.\n * @param date\n * @param fromTimeZone\n * @param toTimeZone\n * @return\n */\npublic static Date convertTimeZone(Date date, TimeZone fromTimeZone, TimeZone toTimeZone)\n{\n    long fromTimeZoneOffset = getTimeZoneUTCAndDSTOffset(date, fromTimeZone);\n    long toTimeZoneOffset = getTimeZoneUTCAndDSTOffset(date, toTimeZone);\n\n    return new Date(date.getTime() + (toTimeZoneOffset - fromTimeZoneOffset));\n}\n\n/**\n * Calculates the offset of the &lt;code&gt;timeZone&lt;/code&gt; from UTC, factoring in any\n * additional offset due to the time zone being in daylight savings time as of\n * the given &lt;code&gt;date&lt;/code&gt;.\n * @param date\n * @param timeZone\n * @return\n */\nprivate static long getTimeZoneUTCAndDSTOffset(Date date, TimeZone timeZone)\n{\n    long timeZoneDSTOffset = 0;\n    if(timeZone.inDaylightTime(date))\n    {\n        timeZoneDSTOffset = timeZone.getDSTSavings();\n    }\n\n    return timeZone.getRawOffset() + timeZoneDSTOffset;\n}\n</code></pre>\n\n<p>Credit goes to this <a href=\"http://www.coderanch.com/t/417443/java/java/Convert-Date-timezone\" rel=\"noreferrer\">post</a>.</p>\n"},{"tags":[],"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452259327,"creation_date":1440582295,"answer_id":32223188,"question_id":2891361,"body_markdown":"If anyone ever needs this, if you need to convert an `XMLGregorianCalendar` timezone to your current timezone from UTC, then all you need to do is set the timezone to `0`, then call `toGregorianCalendar()` - it will stay the same timezone, but the `Date` knows how to convert it to yours, so you can get the data from there. \r\n\r\n    XMLGregorianCalendar xmlStartTime = DatatypeFactory.newInstance()\r\n        .newXMLGregorianCalendar(\r\n            ((GregorianCalendar)GregorianCalendar.getInstance());\r\n    xmlStartTime.setTimezone(0);\r\n    GregorianCalendar startCalendar = xmlStartTime.toGregorianCalendar();\r\n    Date startDate = startCalendar.getTime();\r\n    XMLGregorianCalendar xmlStartTime = DatatypeFactory.newInstance()\r\n        .newXMLGregorianCalendar(startCalendar);\r\n    xmlStartTime.setHour(startDate.getHours());\r\n    xmlStartTime.setDay(startDate.getDate());\r\n    xmlStartTime.setMinute(startDate.getMinutes());\r\n    xmlStartTime.setMonth(startDate.getMonth()+1);\r\n    xmlStartTime.setTimezone(-startDate.getTimezoneOffset());\r\n    xmlStartTime.setSecond(startDate.getSeconds());\r\n    xmlStartTime.setYear(startDate.getYear() + 1900);\r\n    System.out.println(xmlStartTime.toString());\r\n\r\nResult:\r\n\r\n    2015-08-26T12:02:27.183Z\r\n    2015-08-26T14:02:27.183+02:00\r\n\r\n","title":"How to set time zone of a java.util.Date?","body":"<p>If anyone ever needs this, if you need to convert an <code>XMLGregorianCalendar</code> timezone to your current timezone from UTC, then all you need to do is set the timezone to <code>0</code>, then call <code>toGregorianCalendar()</code> - it will stay the same timezone, but the <code>Date</code> knows how to convert it to yours, so you can get the data from there. </p>\n\n<pre><code>XMLGregorianCalendar xmlStartTime = DatatypeFactory.newInstance()\n    .newXMLGregorianCalendar(\n        ((GregorianCalendar)GregorianCalendar.getInstance());\nxmlStartTime.setTimezone(0);\nGregorianCalendar startCalendar = xmlStartTime.toGregorianCalendar();\nDate startDate = startCalendar.getTime();\nXMLGregorianCalendar xmlStartTime = DatatypeFactory.newInstance()\n    .newXMLGregorianCalendar(startCalendar);\nxmlStartTime.setHour(startDate.getHours());\nxmlStartTime.setDay(startDate.getDate());\nxmlStartTime.setMinute(startDate.getMinutes());\nxmlStartTime.setMonth(startDate.getMonth()+1);\nxmlStartTime.setTimezone(-startDate.getTimezoneOffset());\nxmlStartTime.setSecond(startDate.getSeconds());\nxmlStartTime.setYear(startDate.getYear() + 1900);\nSystem.out.println(xmlStartTime.toString());\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>2015-08-26T12:02:27.183Z\n2015-08-26T14:02:27.183+02:00\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1516207119,"post_id":48302012,"comment_id":83596889,"body_markdown":"Answers on Stack Overflow are expected to have some discussion or explanation. This site is meant to be more than a code snippet library.","body":"Answers on Stack Overflow are expected to have some discussion or explanation. This site is meant to be more than a code snippet library."},{"owner":{"account_id":3183488,"reputation":878,"user_id":2689703,"display_name":"avisper"},"score":0,"creation_date":1516304041,"post_id":48302012,"comment_id":83643627,"body_markdown":"thank you @Basil Bourque for your comment.\nI edit the answer","body":"thank you @Basil Bourque for your comment. I edit the answer"}],"tags":[],"owner":{"account_id":3183488,"reputation":878,"user_id":2689703,"display_name":"avisper"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1516303919,"creation_date":1516194696,"answer_id":48302012,"question_id":2891361,"body_markdown":"Convert the Date to String and do it with SimpleDateFormat.\r\n\r\n\r\n        SimpleDateFormat readFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n        readFormat.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot; + timezoneOffset));\r\n        String dateStr = readFormat.format(date);\r\n        SimpleDateFormat writeFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n        Date date = writeFormat.parse(dateStr);\r\n","title":"How to set time zone of a java.util.Date?","body":"<p>Convert the Date to String and do it with SimpleDateFormat.</p>\n\n<pre><code>    SimpleDateFormat readFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss\");\n    readFormat.setTimeZone(TimeZone.getTimeZone(\"GMT\" + timezoneOffset));\n    String dateStr = readFormat.format(date);\n    SimpleDateFormat writeFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss\");\n    Date date = writeFormat.parse(dateStr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":151239,"reputation":4896,"user_id":364966,"accept_rate":56,"display_name":"VikR"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547753803,"creation_date":1547753803,"answer_id":54243106,"question_id":2891361,"body_markdown":"This code was helpful in an app I&#39;m working on:\r\n\r\n        Instant date = null;\r\n        Date sdf = null;\r\n        String formatTemplate = &quot;EEE MMM dd yyyy HH:mm:ss&quot;;\r\n        try {\r\n            SimpleDateFormat isoFormat = new SimpleDateFormat(&quot;EEE MMM dd yyyy HH:mm:ss&quot;);\r\n            isoFormat.setTimeZone(TimeZone.getTimeZone(ZoneId.of(&quot;US/Pacific&quot;)));\r\n            sdf = isoFormat.parse(timeAtWhichToMakeAvailable);\r\n            date = sdf.toInstant();\r\n\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;did not parse: &quot; + timeAtWhichToMakeAvailable);\r\n        }\r\n\r\n        LOGGER.info(&quot;timeAtWhichToMakeAvailable: &quot; + timeAtWhichToMakeAvailable);\r\n        LOGGER.info(&quot;sdf: &quot; + sdf);\r\n        LOGGER.info(&quot;parsed to: &quot; + date);\r\n","title":"How to set time zone of a java.util.Date?","body":"<p>This code was helpful in an app I'm working on:</p>\n\n<pre><code>    Instant date = null;\n    Date sdf = null;\n    String formatTemplate = \"EEE MMM dd yyyy HH:mm:ss\";\n    try {\n        SimpleDateFormat isoFormat = new SimpleDateFormat(\"EEE MMM dd yyyy HH:mm:ss\");\n        isoFormat.setTimeZone(TimeZone.getTimeZone(ZoneId.of(\"US/Pacific\")));\n        sdf = isoFormat.parse(timeAtWhichToMakeAvailable);\n        date = sdf.toInstant();\n\n    } catch (Exception e) {\n        System.out.println(\"did not parse: \" + timeAtWhichToMakeAvailable);\n    }\n\n    LOGGER.info(\"timeAtWhichToMakeAvailable: \" + timeAtWhichToMakeAvailable);\n    LOGGER.info(\"sdf: \" + sdf);\n    LOGGER.info(\"parsed to: \" + date);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1597979081,"post_id":63512141,"comment_id":112314760,"body_markdown":"`TimeZone.getTimeZone(&quot;UTC-03&quot;)` yields GMT. I suspect that this is now what you thought. It’s not you. It’s the `TImeZone` class being troublesome. I recommend that we don’t use `Date`, `SimpleDateFormat` nor `TimeZone`. Instead use java.time as explained in [the answer by Basil Bourque](https://stackoverflow.com/a/22126586/5772882).","body":"<code>TimeZone.getTimeZone(&quot;UTC-03&quot;)</code> yields GMT. I suspect that this is now what you thought. It’s not you. It’s the <code>TImeZone</code> class being troublesome. I recommend that we don’t use <code>Date</code>, <code>SimpleDateFormat</code> nor <code>TimeZone</code>. Instead use java.time as explained in <a href=\"https://stackoverflow.com/a/22126586/5772882\">the answer by Basil Bourque</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1597979506,"post_id":63512141,"comment_id":112314837,"body_markdown":"On my computer your code gave `11/mar./2020 - 21:16`. Note that the time is 21:16, it is wrong. I suggest `LocalDateTime.parse(&quot;2020-03-11T20:16:17&quot;).atZone(ZoneId.of(&quot;America/Bahia&quot;))`. It yields `2020-03-11T20:16:17-03:00[America/Bahia]`. You may of course format it the way you want. Use a `DateTimeFormatter` for that.","body":"On my computer your code gave <code>11&#47;mar.&#47;2020 - 21:16</code>. Note that the time is 21:16, it is wrong. I suggest <code>LocalDateTime.parse(&quot;2020-03-11T20:16:17&quot;).atZone(ZoneId.of(&zwnj;&#8203;&quot;America&#47;Bahia&quot;))</code>. It yields <code>2020-03-11T20:16:17-03:00[America&#47;Bahia]</code>. You may of course format it the way you want. Use a <code>DateTimeFormatter</code> for that."}],"tags":[],"owner":{"account_id":15958536,"reputation":309,"user_id":11516226,"display_name":"Bruno Camargos"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597953330,"creation_date":1597952467,"answer_id":63512141,"question_id":2891361,"body_markdown":"Here you be able to get date like &quot;2020-03-11T20:16:17&quot; and return &quot;11/Mar/2020 - 20:16&quot;\r\n\r\n     private String transformLocalDateTimeBrazillianUTC(String dateJson) throws  ParseException {\r\n        String localDateTimeFormat = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;;\r\n        SimpleDateFormat formatInput = new SimpleDateFormat(localDateTimeFormat);\r\n\r\n        //Here is will set the time zone\r\n        formatInput.setTimeZone(TimeZone.getTimeZone(&quot;UTC-03&quot;));\r\n\r\n        String brazilianFormat = &quot;dd/MMM/yyyy - HH:mm&quot;;\r\n        SimpleDateFormat formatOutput = new SimpleDateFormat(brazilianFormat);\r\n        Date date = formatInput.parse(dateJson);\r\n        return formatOutput.format(date);\r\n    }","title":"How to set time zone of a java.util.Date?","body":"<p>Here you be able to get date like &quot;2020-03-11T20:16:17&quot; and return &quot;11/Mar/2020 - 20:16&quot;</p>\n<pre><code> private String transformLocalDateTimeBrazillianUTC(String dateJson) throws  ParseException {\n    String localDateTimeFormat = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;;\n    SimpleDateFormat formatInput = new SimpleDateFormat(localDateTimeFormat);\n\n    //Here is will set the time zone\n    formatInput.setTimeZone(TimeZone.getTimeZone(&quot;UTC-03&quot;));\n\n    String brazilianFormat = &quot;dd/MMM/yyyy - HH:mm&quot;;\n    SimpleDateFormat formatOutput = new SimpleDateFormat(brazilianFormat);\n    Date date = formatInput.parse(dateJson);\n    return formatOutput.format(date);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1626279904,"post_id":68377736,"comment_id":120852507,"body_markdown":"But it’s wrong. It’s fake. You are formatting a different point in time to make it *look like* it’s in a different time zone than it is.","body":"But it’s wrong. It’s fake. You are formatting a different point in time to make it <i>look like</i> it’s in a different time zone than it is."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1626330367,"post_id":68377736,"comment_id":120864864,"body_markdown":"*But, if you can, use more modern ways to doing the same.* I very strongly agree. And you can. If you don’t have an evil boss forcing you to use Java 1.4 or earlier, you can. It’s all in [the good answer by Basil Bourque](https://stackoverflow.com/a/22126586/5772882).","body":"<i>But, if you can, use more modern ways to doing the same.</i> I very strongly agree. And you can. If you don’t have an evil boss forcing you to use Java 1.4 or earlier, you can. It’s all in <a href=\"https://stackoverflow.com/a/22126586/5772882\">the good answer by Basil Bourque</a>."}],"tags":[],"owner":{"account_id":9888762,"reputation":750,"user_id":7918717,"display_name":"antaki93"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626450995,"creation_date":1626264248,"answer_id":68377736,"question_id":2891361,"body_markdown":"This answer is probably the shortest and it uses only the Date class:\r\n\r\n    long current = new Date().getTime() + 3_600_000;              //e.g. your JVM time zone +1 hour (3600000 milliseconds)\r\n    System.out.printf(&quot;%1$td.%1$tm.%1$tY %1$tH:%1$tM\\n&quot;, current);//european time format\r\n\r\nBut, if you can, use more modern ways to doing the same.","title":"How to set time zone of a java.util.Date?","body":"<p>This answer is probably the shortest and it uses only the Date class:</p>\n<pre><code>long current = new Date().getTime() + 3_600_000;              //e.g. your JVM time zone +1 hour (3600000 milliseconds)\nSystem.out.printf(&quot;%1$td.%1$tm.%1$tY %1$tH:%1$tM\\n&quot;, current);//european time format\n</code></pre>\n<p>But, if you can, use more modern ways to doing the same.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1655100328,"post_id":72594875,"comment_id":128241081,"body_markdown":"Thanks for wanting to contribute. I fail to see that this adds anything that isn’t already in the accepted answer and other answers? Also I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `ZonedDateTime`, `ZoneId` and `DateTimeFormatter`, all from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"Thanks for wanting to contribute. I fail to see that this adds anything that isn’t already in the accepted answer and other answers? Also I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>ZonedDateTime</code>, <code>ZoneId</code> and <code>DateTimeFormatter</code>, all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":17969054,"reputation":1,"user_id":13058284,"display_name":"akhesh"},"score":1,"creation_date":1655386513,"post_id":72594875,"comment_id":128323870,"body_markdown":"thanks  for the reply i will check on this ZonedDateTime, ZoneId and DateTimeFormatter","body":"thanks  for the reply i will check on this ZonedDateTime, ZoneId and DateTimeFormatter"}],"tags":[],"owner":{"account_id":17969054,"reputation":1,"user_id":13058284,"display_name":"akhesh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655100160,"creation_date":1655058714,"answer_id":72594875,"question_id":2891361,"body_markdown":"    package org.example;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.TimeZone;\r\n    \r\n    public class time {\r\n       public static void main(String[] args) {\r\n           SimpleDateFormat sdf=new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm&quot;);\r\n           sdf.setTimeZone(TimeZone.getTimeZone(&quot;Asia/Jakarta&quot;));\r\n           Date date=new Date();\r\n           sdf.format(date);\r\n           System.out.println(sdf.format(date));\r\n       }\r\n    }\r\n    \r\n","title":"How to set time zone of a java.util.Date?","body":"<pre><code>package org.example;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.TimeZone;\n\npublic class time {\n   public static void main(String[] args) {\n       SimpleDateFormat sdf=new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm&quot;);\n       sdf.setTimeZone(TimeZone.getTimeZone(&quot;Asia/Jakarta&quot;));\n       Date date=new Date();\n       sdf.format(date);\n       System.out.println(sdf.format(date));\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":52535,"reputation":34017,"user_id":157027,"accept_rate":67,"display_name":"Amit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674557,"favorite_count":0,"down_vote_count":1,"up_vote_count":288,"accepted_answer_id":2891412,"answer_count":12,"score":287,"last_activity_date":1674488357,"creation_date":1274610590,"question_id":2891361,"body_markdown":"I have parsed a `java.util.Date` from a `String` but it is setting the local time zone as the time zone of the `date` object.\r\n\r\nThe time zone is not specified in the `String` from which `Date ` is parsed. I want to set a specific time zone of the `date` object.\r\n\r\nHow can I do that?","title":"How to set time zone of a java.util.Date?","body":"<p>I have parsed a <code>java.util.Date</code> from a <code>String</code> but it is setting the local time zone as the time zone of the <code>date</code> object.</p>\n\n<p>The time zone is not specified in the <code>String</code> from which <code>Date</code> is parsed. I want to set a specific time zone of the <code>date</code> object.</p>\n\n<p>How can I do that?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1674489820,"post_id":75210335,"comment_id":132719719,"body_markdown":"Try printing out the filenames in your `for` loop. It&#39;s probably not finding the required file, or the list is empty.","body":"Try printing out the filenames in your <code>for</code> loop. It&#39;s probably not finding the required file, or the list is empty."},{"owner":{"account_id":22139103,"reputation":1,"user_id":16389371,"display_name":"Boub Leon"},"score":0,"creation_date":1674502046,"post_id":75210335,"comment_id":132723456,"body_markdown":"I tried and it seems that the FTP client is not able to fetch any file, the list is indeed empty","body":"I tried and it seems that the FTP client is not able to fetch any file, the list is indeed empty"}],"owner":{"account_id":22139103,"reputation":1,"user_id":16389371,"display_name":"Boub Leon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674488238,"creation_date":1674481214,"question_id":75210335,"body_markdown":"I&#39;m trying to connect to my FTP server in Java SE 1.8. To do so I use this method : \r\n\r\n\r\n\t\r\n```\r\nprivate void connectFTP() {\r\n\tString server = &quot;ftp.XXXXXXXXXX.site&quot;;\r\n        int port = 21;\r\n        String user = &quot;XXXX&quot;;\r\n        String pass = &quot;XXXX&quot;;\r\n        \r\n        if(!ftpConnexionSuccess.get())\r\n        {\r\n        \t client = new FTPClient();\r\n             client.configure(new FTPClientConfig(FTPClientConfig.SYST_UNIX));\r\n             try {\r\n             \t\r\n             \tclient.connect(server, port);\r\n\r\n             \tftpConnexionSuccess.set(client.login(user, pass));\r\n                 \r\n                 if (!ftpConnexionSuccess.get()) {\r\n                     System.out.println(&quot;Could not login to the server&quot;);\r\n                     return;\r\n                     \r\n                 } \r\n                 else \r\n                 {\r\n                     System.out.println(&quot;LOGGED IN SERVER&quot;);\r\n                     \r\n                     client.changeWorkingDirectory(&quot;/crypto&quot;);\r\n     \t\t\t    \r\n                     \r\n     \t\t\t    listenedFile = getListenedFile();\r\n     \t\t\t    System.out.println(listenedFile.getName());\r\n     \t\t\t    if(listenedFile != null)\r\n     \t\t\t    {\r\n     \t\t\t    \tbaseFileTimeStamp.set(listenedFile.getTimestamp().getTimeInMillis());\r\n     \t\t\t    }\r\n     \t\t\t   System.out.println(baseFileTimeStamp);\r\n     \t\t\t   \r\n                \r\n                 }\r\n                 \r\n                 \r\n             } catch (Exception ex) { \r\n             \t\r\n             \tSystem.err.println(&quot;FTP connection error : Sleeping for 5 seconds before trying again (&quot; + ex.getMessage() + &quot;)&quot;);\r\n             \tex.printStackTrace();\r\n             \ttry {\r\n             \t\t\r\n     \t\t\t\tThread.sleep(5000);\r\n     \t\t\t} catch (InterruptedException e) {e.printStackTrace();}\r\n             \t\r\n             \ttry {\r\n     \t\t\t\r\n             \t\tclient.disconnect();\r\n     \t\t\t\t\r\n     \t\t\t} catch (IOException e) {e.printStackTrace();}\r\n             \tconnectFTP();\r\n             \t\r\n             \t\r\n             }\r\n        }\r\n       \r\n\t\t\r\n\t}\r\n```\r\n\r\nIt works great when I&#39;m on Eclipse and when I export the app on my Windows 10.\r\n\r\nNonetheless, when I try to launch the app on my AWS Webmachine I get a null pointer exception at &quot;listenedFile&quot;. The method to listen to this file is the one below. \r\n\r\n\t\r\n```\r\nprivate FTPFile getListenedFile() {\r\n\t\t\r\n\t\tFTPFile returnedFile = null;\r\n\t    try {\r\n\t\t\tfor(FTPFile file : client.listFiles())\r\n\t\t\t{\r\n\t\t\t\tif(file.getName().contains(&quot;filetolisten.txt&quot;))\r\n\t\t\t\t\treturnedFile = file;\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t\ttry {\r\n\t\t\t\r\n\t\t\t\tclient.disconnect();\r\n\t\t\t\t\r\n\t\t\t} catch (IOException e1) {e1.printStackTrace();}\r\n\t\t\t\r\n\t\t\tconnectFTP();\r\n\t\t\treturn getListenedFile();\r\n\t\t\t\r\n\t\t}\r\n\t    \r\n\t\treturn returnedFile;\r\n\t}\r\n```\r\n\r\nI thought it was because of the line\r\n \r\n  \r\n```\r\nclient.configure(new FTPClientConfig(FTPClientConfig.SYST_UNIX));\r\n```\r\n\r\nI tried to delete the line, and to replace SYST_UNIX with SYST_NT, but nothing worked. \r\n\r\nI tried to delete the line, and to replace SYST_UNIX with SYST_NT, but nothing worked. Also updated Java, updated the common-nets library. Nothing worked","title":"FTPClient connection with Java on AWS Virtual Machine","body":"<p>I'm trying to connect to my FTP server in Java SE 1.8. To do so I use this method :</p>\n<pre><code>private void connectFTP() {\n    String server = &quot;ftp.XXXXXXXXXX.site&quot;;\n        int port = 21;\n        String user = &quot;XXXX&quot;;\n        String pass = &quot;XXXX&quot;;\n        \n        if(!ftpConnexionSuccess.get())\n        {\n             client = new FTPClient();\n             client.configure(new FTPClientConfig(FTPClientConfig.SYST_UNIX));\n             try {\n                \n                client.connect(server, port);\n\n                ftpConnexionSuccess.set(client.login(user, pass));\n                 \n                 if (!ftpConnexionSuccess.get()) {\n                     System.out.println(&quot;Could not login to the server&quot;);\n                     return;\n                     \n                 } \n                 else \n                 {\n                     System.out.println(&quot;LOGGED IN SERVER&quot;);\n                     \n                     client.changeWorkingDirectory(&quot;/crypto&quot;);\n                    \n                     \n                    listenedFile = getListenedFile();\n                    System.out.println(listenedFile.getName());\n                    if(listenedFile != null)\n                    {\n                        baseFileTimeStamp.set(listenedFile.getTimestamp().getTimeInMillis());\n                    }\n                   System.out.println(baseFileTimeStamp);\n                   \n                \n                 }\n                 \n                 \n             } catch (Exception ex) { \n                \n                System.err.println(&quot;FTP connection error : Sleeping for 5 seconds before trying again (&quot; + ex.getMessage() + &quot;)&quot;);\n                ex.printStackTrace();\n                try {\n                    \n                    Thread.sleep(5000);\n                } catch (InterruptedException e) {e.printStackTrace();}\n                \n                try {\n                \n                    client.disconnect();\n                    \n                } catch (IOException e) {e.printStackTrace();}\n                connectFTP();\n                \n                \n             }\n        }\n       \n        \n    }\n</code></pre>\n<p>It works great when I'm on Eclipse and when I export the app on my Windows 10.</p>\n<p>Nonetheless, when I try to launch the app on my AWS Webmachine I get a null pointer exception at &quot;listenedFile&quot;. The method to listen to this file is the one below.</p>\n<pre><code>private FTPFile getListenedFile() {\n        \n        FTPFile returnedFile = null;\n        try {\n            for(FTPFile file : client.listFiles())\n            {\n                if(file.getName().contains(&quot;filetolisten.txt&quot;))\n                    returnedFile = file;\n            }\n        } catch (Exception e) {\n            \n            System.out.println(e.getMessage());\n            e.printStackTrace();\n            try {\n            \n                client.disconnect();\n                \n            } catch (IOException e1) {e1.printStackTrace();}\n            \n            connectFTP();\n            return getListenedFile();\n            \n        }\n        \n        return returnedFile;\n    }\n</code></pre>\n<p>I thought it was because of the line</p>\n<pre><code>client.configure(new FTPClientConfig(FTPClientConfig.SYST_UNIX));\n</code></pre>\n<p>I tried to delete the line, and to replace SYST_UNIX with SYST_NT, but nothing worked.</p>\n<p>I tried to delete the line, and to replace SYST_UNIX with SYST_NT, but nothing worked. Also updated Java, updated the common-nets library. Nothing worked</p>\n"},{"tags":["java","jakarta-ee","jax-rs","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1674242982,"post_id":75188341,"comment_id":132680815,"body_markdown":"What version of WildFly are you using?","body":"What version of WildFly are you using?"},{"owner":{"account_id":4095402,"reputation":2030,"user_id":3362334,"accept_rate":28,"display_name":"user3362334"},"score":0,"creation_date":1674477854,"post_id":75188341,"comment_id":132715352,"body_markdown":"The version of Wildfly is WildFly Full 25.0.0.Final","body":"The version of Wildfly is WildFly Full 25.0.0.Final"}],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674488227,"creation_date":1674488227,"answer_id":75211709,"question_id":75188341,"body_markdown":"You&#39;d need to use WildFly 27. WildFly 25 is a Jakarta EE 8 container while WildFly 27 is a Jakarta EE 10 container. You could use WildFly 25 Preview, but I would suggest using WildFly 27.","title":"JAX-RS resources return 404","body":"<p>You'd need to use WildFly 27. WildFly 25 is a Jakarta EE 8 container while WildFly 27 is a Jakarta EE 10 container. You could use WildFly 25 Preview, but I would suggest using WildFly 27.</p>\n"}],"owner":{"account_id":4095402,"reputation":2030,"user_id":3362334,"accept_rate":28,"display_name":"user3362334"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75211709,"answer_count":1,"score":0,"last_activity_date":1674488227,"creation_date":1674241195,"question_id":75188341,"body_markdown":"I am trying to run a simple app in Jakarta 9 that has a simple REST web service that returns hello world. However, when I try to access the web service using the localhost:8080/&lt;context_root&gt;/&lt;application_path&gt;/&lt;resource_path I get 404. When I just target localhost:8080/&lt;context_root&gt; everything runs fine (I have an index.html in the project).\r\n\r\nHere is some additional info. I am running the app packaged as a WAR inside Wildfly 25 running inside the Docker container.\r\n\r\nHere&#39;s the relevant file content\r\n\r\npom.xml: \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.tyuiop32&lt;/groupId&gt;\r\n      &lt;artifactId&gt;TimeTracking&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencies&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\r\n          &lt;version&gt;9.0.0&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n          &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n          &lt;version&gt;1.11.23.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;TimeTracking&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10.1&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.2&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nApplicationConfig.java:\r\n\r\n    package com.poortoys;\r\n    \r\n    import jakarta.ws.rs.ApplicationPath;\r\n    import jakarta.ws.rs.core.Application;\r\n    \r\n    /**\r\n     * Register Jakarta REST resources.\r\n     *\r\n     */\r\n    @ApplicationPath(&quot;&quot;)\r\n    public class ApplicationConfig extends Application {\r\n    \r\n    }\r\n\r\n\r\nHelloResource.java:\r\n\r\n    package com.poortoys.examples;\r\n    \r\n    import jakarta.enterprise.context.RequestScoped;\r\n    import jakarta.ws.rs.GET;\r\n    import jakarta.ws.rs.Path;\r\n    import jakarta.ws.rs.Produces;\r\n    import jakarta.ws.rs.core.MediaType;\r\n    \r\n    /**\r\n     * Sample JAX-RS resources.\r\n     *\r\n     */\r\n    @Path(&quot;test&quot;)\r\n    @RequestScoped\r\n    public class HelloResource {\r\n        \r\n        @GET\r\n        @Path(&quot;hello&quot;)\r\n        @Produces(MediaType.APPLICATION_JSON)\r\n        public String getMessage() {\r\n            return &quot;Hello, world&quot;;\r\n        }\r\n        \r\n    }\r\n\r\nWhen I try to GET http://localhost:8080/TimeTracking/test/hello I get 404\r\n\r\nTargeting just http://localhost:8080/TimeTracking returns the content of the index.html page that is placed inside the webapp folder\r\n\r\nPS: I went trough all the relevant threads and didn&#39;t find the asnwer","title":"JAX-RS resources return 404","body":"<p>I am trying to run a simple app in Jakarta 9 that has a simple REST web service that returns hello world. However, when I try to access the web service using the localhost:8080/&lt;context_root&gt;/&lt;application_path&gt;/&lt;resource_path I get 404. When I just target localhost:8080/&lt;context_root&gt; everything runs fine (I have an index.html in the project).</p>\n<p>Here is some additional info. I am running the app packaged as a WAR inside Wildfly 25 running inside the Docker container.</p>\n<p>Here's the relevant file content</p>\n<p>pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.tyuiop32&lt;/groupId&gt;\n  &lt;artifactId&gt;TimeTracking&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\n      &lt;version&gt;9.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n      &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n      &lt;version&gt;3.8.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n      &lt;version&gt;1.11.23.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;TimeTracking&lt;/finalName&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.10.1&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>ApplicationConfig.java:</p>\n<pre><code>package com.poortoys;\n\nimport jakarta.ws.rs.ApplicationPath;\nimport jakarta.ws.rs.core.Application;\n\n/**\n * Register Jakarta REST resources.\n *\n */\n@ApplicationPath(&quot;&quot;)\npublic class ApplicationConfig extends Application {\n\n}\n</code></pre>\n<p>HelloResource.java:</p>\n<pre><code>package com.poortoys.examples;\n\nimport jakarta.enterprise.context.RequestScoped;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\n\n/**\n * Sample JAX-RS resources.\n *\n */\n@Path(&quot;test&quot;)\n@RequestScoped\npublic class HelloResource {\n    \n    @GET\n    @Path(&quot;hello&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public String getMessage() {\n        return &quot;Hello, world&quot;;\n    }\n    \n}\n</code></pre>\n<p>When I try to GET http://localhost:8080/TimeTracking/test/hello I get 404</p>\n<p>Targeting just http://localhost:8080/TimeTracking returns the content of the index.html page that is placed inside the webapp folder</p>\n<p>PS: I went trough all the relevant threads and didn't find the asnwer</p>\n"},{"tags":["java","spring","spring-boot","oauth","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":12824542,"reputation":36,"user_id":20511960,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674488136,"creation_date":1674488136,"answer_id":75211690,"question_id":75210274,"body_markdown":"These libraries are deprecated and most likely not compatible with your version of spring boot:\r\n```\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n   &lt;version&gt;2.5.2.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHere is the stack overflow post about this:\r\nhttps://stackoverflow.com/questions/59273338/what-is-the-replacement-for-the-deprecated-authorizationserver-in-spring-securit\r\n\r\nHere is a video on how to use the new spring security:\r\nhttps://www.youtube.com/watch?v=b9O9NI-RJ3o","title":"Use OAuth library for Spring Boot","body":"<p>These libraries are deprecated and most likely not compatible with your version of spring boot:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n   &lt;version&gt;2.5.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is the stack overflow post about this:\n<a href=\"https://stackoverflow.com/questions/59273338/what-is-the-replacement-for-the-deprecated-authorizationserver-in-spring-securit\">What is the replacement for the deprecated AuthorizationServer in Spring Security?</a></p>\n<p>Here is a video on how to use the new spring security:\n<a href=\"https://www.youtube.com/watch?v=b9O9NI-RJ3o\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=b9O9NI-RJ3o</a></p>\n"}],"owner":{"account_id":9032481,"reputation":1228,"user_id":6729603,"accept_rate":58,"display_name":"Captai-N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674488136,"creation_date":1674480958,"question_id":75210274,"body_markdown":"I&#39;m trying to include the oauth library in Spring Boot. I don&#39;t know why, but it doesn&#39;t seem to be working. In any case, I cannot use the following libraries:\r\n\r\n\r\n&gt; ProtectedResourceDetails cannot be resolved to a type\r\n&gt; \r\n&gt; OAuthConsumerSupport cannot be resolved to a type\r\n&gt; \r\n&gt; BaseProtectedResourceDetails cannot be resolved to a type\r\n\r\nPom.xml:\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nrequired libraries to use the following classes:\r\n\r\n     \tOAuthConsumerSupport oAuthConsumerSupport = new CoreOAuthConsumerSupport();\r\n\t\tProtectedResourceDetails is24ClientKeyDetails = createIs24ClientKeyDetails();\r\n\t\tBaseProtectedResourceDetails protectedResourceDetails = new BaseProtectedResourceDetails();\r\n\r\n\r\n\r\n","title":"Use OAuth library for Spring Boot","body":"<p>I'm trying to include the oauth library in Spring Boot. I don't know why, but it doesn't seem to be working. In any case, I cannot use the following libraries:</p>\n<blockquote>\n<p>ProtectedResourceDetails cannot be resolved to a type</p>\n<p>OAuthConsumerSupport cannot be resolved to a type</p>\n<p>BaseProtectedResourceDetails cannot be resolved to a type</p>\n</blockquote>\n<p>Pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>required libraries to use the following classes:</p>\n<pre><code>    OAuthConsumerSupport oAuthConsumerSupport = new CoreOAuthConsumerSupport();\n    ProtectedResourceDetails is24ClientKeyDetails = createIs24ClientKeyDetails();\n    BaseProtectedResourceDetails protectedResourceDetails = new BaseProtectedResourceDetails();\n</code></pre>\n"},{"tags":["java","discord","bots"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1674573792,"post_id":75211673,"comment_id":132740143,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75211673/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26363666,"reputation":1,"user_id":20019506,"display_name":"Dessischment"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674488044,"creation_date":1674488044,"answer_id":75211673,"question_id":70009965,"body_markdown":"This is because Discord only supports slash commands. That means you have to teach yourself how to work with slash commands (:","title":"JDA / Javacord Event Problems","body":"<p>This is because Discord only supports slash commands. That means you have to teach yourself how to work with slash commands (:</p>\n"}],"owner":{"account_id":22565118,"reputation":61,"user_id":16752257,"display_name":"LeleEdits"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674488044,"creation_date":1637174875,"question_id":70009965,"body_markdown":"So im having a jda script with some GuildMessageReceivedEvent Events for commands. But if I try to use them nothing happenes, no error, no message, nothing\r\nI have enabled all Intents and the Bot has the permission to send messages","title":"JDA / Javacord Event Problems","body":"<p>So im having a jda script with some GuildMessageReceivedEvent Events for commands. But if I try to use them nothing happenes, no error, no message, nothing\nI have enabled all Intents and the Bot has the permission to send messages</p>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674486417,"creation_date":1674486417,"answer_id":75211346,"question_id":75210996,"body_markdown":"You can even rephrase by replacing the **`name`** on the right hand side by an ampersand **`&amp;`** as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;name&quot;: &quot;[&amp;1].&amp;&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nin order to replicate it  \r\n\r\nPrepending both **`[&amp;1]`** and **`&amp;1`** targets the same level which&#39;s going up the tree **1** level in order to reach the level of the indexes of the outermost array by traversing opening curly brace(s) (**`{`**) once. But the first one yields arraywise result instead of index numbers 0,1,2 ... those are generated by the second one.","title":"what is the significance of [] in RHS in JOLT specification?","body":"<p>You can even rephrase by replacing the <strong><code>name</code></strong> on the right hand side by an ampersand <strong><code>&amp;</code></strong> as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;name&quot;: &quot;[&amp;1].&amp;&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>in order to replicate it</p>\n<p>Prepending both <strong><code>[&amp;1]</code></strong> and <strong><code>&amp;1</code></strong> targets the same level which's going up the tree <strong>1</strong> level in order to reach the level of the indexes of the outermost array by traversing opening curly brace(s) (<strong><code>{</code></strong>) once. But the first one yields arraywise result instead of index numbers 0,1,2 ... those are generated by the second one.</p>\n"},{"tags":[],"owner":{"account_id":11500422,"reputation":2541,"user_id":8428397,"display_name":"Mohammadreza Khedri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674487260,"creation_date":1674487260,"answer_id":75211532,"question_id":75210996,"body_markdown":"**Both two spec is valid.**\r\n\r\n**`&amp;1`:** get 1 level up **key**.\r\n\r\n**`[&amp;1]`:** get 1 level up **index**.\r\n\r\n\r\nFor example in your spec, `&amp;1` means `0` and `1` as **key** and your output can be like this:\r\n\r\n```json\r\n{\r\n  &quot;0&quot;: {\r\n    &quot;name&quot;: &quot;my name1&quot;\r\n  },\r\n  &quot;1&quot;: {\r\n    &quot;name&quot;: &quot;my name2&quot;\r\n  }\r\n}\r\n```\r\n\r\nAnd when you using the `[&amp;1]` means `0` and `1` as **index** of array and your output can be like this:\r\n\r\n```json\r\n[\r\n  {\r\n\t&quot;name&quot;: &quot;my name1&quot;\r\n  },\r\n  {\r\n\t&quot;name&quot;: &quot;my name2&quot;\r\n  }\r\n]\r\n```","title":"what is the significance of [] in RHS in JOLT specification?","body":"<p><strong>Both two spec is valid.</strong></p>\n<p><strong><code>&amp;1</code>:</strong> get 1 level up <strong>key</strong>.</p>\n<p><strong><code>[&amp;1]</code>:</strong> get 1 level up <strong>index</strong>.</p>\n<p>For example in your spec, <code>&amp;1</code> means <code>0</code> and <code>1</code> as <strong>key</strong> and your output can be like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;0&quot;: {\n    &quot;name&quot;: &quot;my name1&quot;\n  },\n  &quot;1&quot;: {\n    &quot;name&quot;: &quot;my name2&quot;\n  }\n}\n</code></pre>\n<p>And when you using the <code>[&amp;1]</code> means <code>0</code> and <code>1</code> as <strong>index</strong> of array and your output can be like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;name&quot;: &quot;my name1&quot;\n  },\n  {\n    &quot;name&quot;: &quot;my name2&quot;\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":9578778,"reputation":23,"user_id":7113943,"display_name":"Shrey Bansod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75211532,"answer_count":2,"score":0,"last_activity_date":1674487260,"creation_date":1674484580,"question_id":75210996,"body_markdown":"I am new to JOLT. I am creating a JOLT specification to parse a JSON from one format to another. However when i use the RHS as **`&quot;&amp;1.name&quot;`** it doesn&#39;t work as expected and creates a different format. But when i use **`&quot;[&amp;1].name&quot;`**, it works.\r\n\r\nI cannot share the data due to policy constraints. Giving an example\r\n\r\neg. \r\nInput JSON:\r\n```json\r\n[\r\n  {\r\n    &quot;name&quot;: &quot;my name1&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;my name2&quot;\r\n  }\r\n]\r\n```\r\nJOLT spec (*Not working*) :\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;name&quot;: &quot;&amp;1.name&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nJOLT spec (*working*) :\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;name&quot;: &quot;[&amp;1].name&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nPlease help me understand the purpose of [] on RHS.","title":"what is the significance of [] in RHS in JOLT specification?","body":"<p>I am new to JOLT. I am creating a JOLT specification to parse a JSON from one format to another. However when i use the RHS as <strong><code>&quot;&amp;1.name&quot;</code></strong> it doesn't work as expected and creates a different format. But when i use <strong><code>&quot;[&amp;1].name&quot;</code></strong>, it works.</p>\n<p>I cannot share the data due to policy constraints. Giving an example</p>\n<p>eg.\nInput JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;name&quot;: &quot;my name1&quot;\n  },\n  {\n    &quot;name&quot;: &quot;my name2&quot;\n  }\n]\n</code></pre>\n<p>JOLT spec (<em>Not working</em>) :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;name&quot;: &quot;&amp;1.name&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>JOLT spec (<em>working</em>) :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;name&quot;: &quot;[&amp;1].name&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>Please help me understand the purpose of [] on RHS.</p>\n"},{"tags":["java","spring","maven","jhipster"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1484570276,"post_id":41674065,"comment_id":70550254,"body_markdown":"Please delete the pdfbox label, this isn&#39;t about pdfbox.","body":"Please delete the pdfbox label, this isn&#39;t about pdfbox."}],"answers":[{"comments":[{"owner":{"account_id":3428983,"reputation":214,"user_id":2873982,"accept_rate":82,"display_name":"Emir Masic"},"score":0,"creation_date":1484564460,"post_id":41674325,"comment_id":70546943,"body_markdown":"Thanks for the quick reply mate. I added the config to the test but to no avail. I don&#39;t think the problem is in finding the file (since the file is located in both /src/test/resource as well as /src/main/resource) but it seems more like something with the locale, as if the file is being &quot;read wrong&quot; for whatever reason... I believe, I am trying all possible solutions and will update as soon as i find an answer.","body":"Thanks for the quick reply mate. I added the config to the test but to no avail. I don&#39;t think the problem is in finding the file (since the file is located in both /src/test/resource as well as /src/main/resource) but it seems more like something with the locale, as if the file is being &quot;read wrong&quot; for whatever reason... I believe, I am trying all possible solutions and will update as soon as i find an answer."},{"owner":{"account_id":3428983,"reputation":214,"user_id":2873982,"accept_rate":82,"display_name":"Emir Masic"},"score":0,"creation_date":1484641797,"post_id":41674325,"comment_id":70580550,"body_markdown":"Thank you very much for pointing that bean out. It was creating an empty messageSource (DelegatedMessageSource) which is why the NotNull test kept returning true. However the object itself was empty and missing the path. Once I added the Bean to the Application.java it worked perfectly. :) Cheers","body":"Thank you very much for pointing that bean out. It was creating an empty messageSource (DelegatedMessageSource) which is why the NotNull test kept returning true. However the object itself was empty and missing the path. Once I added the Bean to the Application.java it worked perfectly. :) Cheers"}],"tags":[],"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1484573513,"creation_date":1484562739,"answer_id":41674325,"question_id":41674065,"body_markdown":"In your config you need :\r\n\r\n    @Bean\r\n    public ResourceBundleMessageSource messageSource() {\r\n        ResourceBundleMessageSource source = new ResourceBundleMessageSource();\r\n        source.setBasenames(&quot;i18n/messages&quot;);\r\n        return source;\r\n    }\r\n\r\nMy test is\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = Application.class)\r\n    public class Test1 {\r\n    \r\n        @Autowired\r\n        private MessageSource messageSource;\r\n    \r\n        @Test\r\n        public void test1() {\r\n            assertNotNull(messageSource);\r\n            assertEquals(&quot;test greg de&quot;, messageSource.getMessage(&quot;pdf.klasse&quot;, null, Locale.GERMANY));\r\n        }\r\n    }","title":"MessageSource not being read properly during testing","body":"<p>In your config you need :</p>\n\n<pre><code>@Bean\npublic ResourceBundleMessageSource messageSource() {\n    ResourceBundleMessageSource source = new ResourceBundleMessageSource();\n    source.setBasenames(\"i18n/messages\");\n    return source;\n}\n</code></pre>\n\n<p>My test is</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = Application.class)\npublic class Test1 {\n\n    @Autowired\n    private MessageSource messageSource;\n\n    @Test\n    public void test1() {\n        assertNotNull(messageSource);\n        assertEquals(\"test greg de\", messageSource.getMessage(\"pdf.klasse\", null, Locale.GERMANY));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13776163,"reputation":21,"user_id":9942465,"display_name":"oliver carrasco"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528989369,"creation_date":1528989369,"answer_id":50860831,"question_id":41674065,"body_markdown":"My solution.\r\n\r\nDeclare MessageSource in the test class and autowired DelegatingMessageSource in the test class.\r\n\r\n    private MessageSource messageSource;\r\n    \r\n    @Autowired\r\n    private DelegatingMessageSource delegatingMessageSource;\r\n\r\nCreate the setup as shown below\r\n\r\n    @Before\r\n    public void setUp() {\r\n      messageSource = Mockito.mock(MessageSource.class);\r\n      when(messageSource.getMessage(anyString(), any(Object[].class),any(Locale.class))).thenReturn(&quot;&quot;);\r\n      delegatingMessageSource.setParentMessageSource(messageSource);\r\n    }\r\n\r\nIt should work fine.\r\n","title":"MessageSource not being read properly during testing","body":"<p>My solution.</p>\n\n<p>Declare MessageSource in the test class and autowired DelegatingMessageSource in the test class.</p>\n\n<pre><code>private MessageSource messageSource;\n\n@Autowired\nprivate DelegatingMessageSource delegatingMessageSource;\n</code></pre>\n\n<p>Create the setup as shown below</p>\n\n<pre><code>@Before\npublic void setUp() {\n  messageSource = Mockito.mock(MessageSource.class);\n  when(messageSource.getMessage(anyString(), any(Object[].class),any(Locale.class))).thenReturn(\"\");\n  delegatingMessageSource.setParentMessageSource(messageSource);\n}\n</code></pre>\n\n<p>It should work fine.</p>\n"},{"tags":[],"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1674486685,"creation_date":1674486685,"answer_id":75211401,"question_id":41674065,"body_markdown":"I&#39;m not yet sure why, but it seems that MessageSource autoconfiguration was not read during tests, I had to add it explicitly:\r\n\r\n```\r\n@SpringBootTest(classes = {\r\n        StrategyValidationAutoconfiguration.class,\r\n        MessageSourceAutoConfiguration.class\r\n})\r\n```","title":"MessageSource not being read properly during testing","body":"<p>I'm not yet sure why, but it seems that MessageSource autoconfiguration was not read during tests, I had to add it explicitly:</p>\n<pre><code>@SpringBootTest(classes = {\n        StrategyValidationAutoconfiguration.class,\n        MessageSourceAutoConfiguration.class\n})\n</code></pre>\n"}],"owner":{"account_id":3428983,"reputation":214,"user_id":2873982,"accept_rate":82,"display_name":"Emir Masic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13396,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":41674325,"answer_count":3,"score":12,"last_activity_date":1674486685,"creation_date":1484561886,"question_id":41674065,"body_markdown":"I already checked with most similar questions and could not find a helpful answer. \r\n\r\nI am making a WebApplication via JHipster using Maven v3.3.9. Among other things, there is a PDF-generation that takes place. The web app is multilingual and uses the \r\n\r\n/resources/i18n/..\r\n\r\nresource files for the different translation. On live testing everything works perfectly with no problems or errors. \r\n\r\nI am now trying to create a test which will generate a PDF and compare it to an existing PDF so development can continue. The problem is, no matter which locale I use for testing, I get the same error:\r\n\r\n[![org.springframeworkcontext.NoSuchMessageException: No message found under code &#39;pdf.klasse&#39; for locale &#39;de&#39;][1]][1]\r\n\r\nI am not sure what the cause of the error is. Since the messages are there and during live testing they work perfectly. \r\n\r\nHere is the test code:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = DeviceDataCheckApp.class)\r\n    public class PDFGeneratorTest\r\n    {\r\n    private MockMvc mockMvc;\r\n\r\n    private CalculationMapperImpl calculationMapperImpl;\r\n\r\n    private Calculation calculation;\r\n    private CalculationDTO calculationDTO;\r\n    private CalculationResult calculationResult;\r\n    private String langval = &quot;de&quot;;\r\n    private String name = &quot;&quot;;\r\n\r\n    private PDFGenerator pdfGenerator;\r\n\r\n    @Autowired\r\n    private MessageSource messageSource;\r\n\r\n    @Autowired\r\n    private WebApplicationContext webApplicationContext;\r\n\r\n    @Before\r\n    public void setup() throws IOException, URISyntaxException, IllegalAccessException, InstantiationException\r\n    {\r\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\r\n\r\n        calculation = new Calculation()\r\n                .producerName(&quot;test&quot;)\r\n                .airVolumeSupply(2.0)\r\n                .airVolumeExhaust(2.0)\r\n                .statedAirVelocitySupply(2.0)\r\n                .statedAirVelocityExhaust(2.0)\r\n                .staticPressureLossSupply(2.0)\r\n                .staticPressureLossExhaust(2.0)\r\n                .pMSupply(2.0)\r\n                .pMExhaust(2.0)\r\n                .pMAnfSupply(2.0)\r\n                .pMAnfExhaust(2.0)\r\n                .pressureLossWrgSupply(2.0)\r\n                .pressureLossWrgExhaust(2.0)\r\n                .pressureLossMediumSupply(2.0)\r\n                .pressureLossMediumExhaust(2.0)\r\n                .enginePowerRotor(0.0)\r\n                .dryThermalPerformance(0.0)\r\n                .ofHeatRecovery(2.0)\r\n                .wrgType(WrgType.PLATTENTAUSCHER)\r\n                .earlyPressureLossFilterSupply(2.0)\r\n                .earlyPressureLossFilterExhaust(2.0)\r\n                .dimensioningPressureLossFilterSupply(2.0)\r\n                .dimensioningPressureLossFilterExchaust(2.0)\r\n                .referenceConfigurationFilterSupply(false)\r\n                .referenceConfigurationFilterExhaust(false)\r\n                .additionalFilterStageSupply(false)\r\n                .additionalFilterStageExhaust(false)\r\n                .hepaFilterSupply(false)\r\n                .hepaFilterExhaust(false)\r\n                .gasFilterSupply(false)\r\n                .gasFilterExhaust(false)\r\n                .highPerformanceCondenserSupply(false)\r\n                .highPerformanceCondenserExhaust(false)\r\n                .heightInnerDimensionSupply(2.0)\r\n                .heightInnerDimensionExhaust(2.0)\r\n                .depthInnerDimensionSupply(2.0)\r\n                .depthInnerDimensionExhaust(2.0);\r\n\r\n        calculationMapperImpl = new CalculationMapperImpl();\r\n        calculationDTO = calculationMapperImpl.calculationToCalculationDTO(calculation);\r\n\r\n        calculationResult = new CalculationResult();\r\n        calculationResult.setRealAreaSA(0.00);\r\n        calculationResult.setRealAreaEA(0.00);\r\n        calculationResult.setRealAirVelocitySA(138.89);\r\n        calculationResult.setRealAirVelocityEA(138.89);\r\n        calculationResult.setCheckedVClassSA(&quot;V9&quot;);\r\n        calculationResult.setCheckedVClassEA(&quot;V9&quot;);\r\n        calculationResult.setDeclaredVClassSA(&quot;V4&quot;);\r\n        calculationResult.setDeclaredVClassEA(&quot;V4&quot;);\r\n\r\n        calculationResult.setpMRefSA(0.00);\r\n        calculationResult.setpMRefEA(0.00);\r\n        calculationResult.setpMMaxSA(0.00);\r\n        calculationResult.setpMMaxEA(0.00);\r\n        calculationResult.setpClassSA(&quot;-&quot;);\r\n        calculationResult.setpClassEA(&quot;-&quot;);\r\n\r\n        calculationResult.setPressureLossWrg(4);\r\n        calculationResult.setPressureLossMedium(0);\r\n        calculationResult.setRatedAirVolume(2);\r\n        calculationResult.setDryThermalPower(0.00);\r\n        calculationResult.setAuxiliaryPower(0.00);\r\n        calculationResult.setElectricalPowerInput(0.00);\r\n        calculationResult.setPerformanceReferenceNumber(72.29);\r\n        calculationResult.setEfficiency(1.97);\r\n        calculationResult.sethClass(&quot;H6&quot;);\r\n\r\n        calculationResult.setpSfpVSA(3600000.00);\r\n        calculationResult.setpSfpVEA(3600000.00);\r\n        calculationResult.setExtraPSfpSA(0);\r\n        calculationResult.setExtraPSfpEA(0);\r\n        calculationResult.setSfpVClassSA(&quot;SFP7&quot;);\r\n        calculationResult.setSfpVClassEA(&quot;SFP7&quot;);\r\n\r\n        calculationResult.setSystemEfficiencySA(0.00);\r\n        calculationResult.setSystemEfficiencyEA(0.00);\r\n\r\n        calculationResult.setInternalPressureLossSA(2);\r\n        calculationResult.setInternalPressureLossEA(2);\r\n        calculationResult.setInternalPressureLossTotal(4);\r\n        calculationResult.setSfpIntSA(3600000);\r\n        calculationResult.setSfpIntEA(3600000);\r\n        calculationResult.setSfpIntTotal(7200000);\r\n\r\n        calculationResult.seteBonus2016(0);\r\n        calculationResult.seteBonus2018(0);\r\n        calculationResult.setfCorrection2016(360);\r\n        calculationResult.setfCorrection2018(340);\r\n        calculationResult.setSfpMax2016(840);\r\n        calculationResult.setSfpMax2018(760);\r\n        calculationResult.setAchieved2016(false);\r\n        calculationResult.setAchieved2018(false);\r\n\r\n\r\n\r\n        pdfGenerator = new PDFGenerator(calculationDTO, calculationResult, langval, messageSource, name);\r\n    }\r\n\r\n    @Test\r\n    public void compareFilesTest() throws IOException\r\n    {\r\n        System.out.println(calculation);\r\n\r\n        File f1 = new File(&quot;../PDFData/testPDF.pdf&quot;);\r\n        File f2 = new File(&quot;../PDFData/testPDF2.pdf&quot;);\r\n\r\n        boolean areSame = FileUtils.contentEquals(f1, f2);\r\n        System.out.println(&quot;Files were compared...&quot;);\r\n        assertTrue(areSame);\r\n\r\n    }\r\n\r\n\r\n    }\r\n\r\nThe PDFGenerator creates the testPDF2.pdf file and saves it. \r\n\r\n**UPDATE**\r\nAdding the:\r\n\r\n    @PropertySource(&quot;classpath:/src/main/resources/i18n/messages_de.properties&quot;)\r\n\r\nto the config did not do much. I also changed the locale from \r\n\r\n    String locale = &quot;de&quot;\r\n\r\nto \r\n\r\n    Locale locale = Locale.GERMAN;\r\n\r\nand I threw in the line: \r\n\r\n    System.out.println(messageSource.getMessage(&quot;pdf.klasse&quot;, null, this.locale));\r\n\r\ndirectly at the beginning of the test. I get the same error. It seems the problem is not in finding the file but in reading it. \r\n  [1]: https://i.stack.imgur.com/saf4Y.png","title":"MessageSource not being read properly during testing","body":"<p>I already checked with most similar questions and could not find a helpful answer. </p>\n\n<p>I am making a WebApplication via JHipster using Maven v3.3.9. Among other things, there is a PDF-generation that takes place. The web app is multilingual and uses the </p>\n\n<p>/resources/i18n/..</p>\n\n<p>resource files for the different translation. On live testing everything works perfectly with no problems or errors. </p>\n\n<p>I am now trying to create a test which will generate a PDF and compare it to an existing PDF so development can continue. The problem is, no matter which locale I use for testing, I get the same error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/saf4Y.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/saf4Y.png\" alt=\"org.springframeworkcontext.NoSuchMessageException: No message found under code &#39;pdf.klasse&#39; for locale &#39;de&#39;\"></a></p>\n\n<p>I am not sure what the cause of the error is. Since the messages are there and during live testing they work perfectly. </p>\n\n<p>Here is the test code:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = DeviceDataCheckApp.class)\npublic class PDFGeneratorTest\n{\nprivate MockMvc mockMvc;\n\nprivate CalculationMapperImpl calculationMapperImpl;\n\nprivate Calculation calculation;\nprivate CalculationDTO calculationDTO;\nprivate CalculationResult calculationResult;\nprivate String langval = \"de\";\nprivate String name = \"\";\n\nprivate PDFGenerator pdfGenerator;\n\n@Autowired\nprivate MessageSource messageSource;\n\n@Autowired\nprivate WebApplicationContext webApplicationContext;\n\n@Before\npublic void setup() throws IOException, URISyntaxException, IllegalAccessException, InstantiationException\n{\n    mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n\n    calculation = new Calculation()\n            .producerName(\"test\")\n            .airVolumeSupply(2.0)\n            .airVolumeExhaust(2.0)\n            .statedAirVelocitySupply(2.0)\n            .statedAirVelocityExhaust(2.0)\n            .staticPressureLossSupply(2.0)\n            .staticPressureLossExhaust(2.0)\n            .pMSupply(2.0)\n            .pMExhaust(2.0)\n            .pMAnfSupply(2.0)\n            .pMAnfExhaust(2.0)\n            .pressureLossWrgSupply(2.0)\n            .pressureLossWrgExhaust(2.0)\n            .pressureLossMediumSupply(2.0)\n            .pressureLossMediumExhaust(2.0)\n            .enginePowerRotor(0.0)\n            .dryThermalPerformance(0.0)\n            .ofHeatRecovery(2.0)\n            .wrgType(WrgType.PLATTENTAUSCHER)\n            .earlyPressureLossFilterSupply(2.0)\n            .earlyPressureLossFilterExhaust(2.0)\n            .dimensioningPressureLossFilterSupply(2.0)\n            .dimensioningPressureLossFilterExchaust(2.0)\n            .referenceConfigurationFilterSupply(false)\n            .referenceConfigurationFilterExhaust(false)\n            .additionalFilterStageSupply(false)\n            .additionalFilterStageExhaust(false)\n            .hepaFilterSupply(false)\n            .hepaFilterExhaust(false)\n            .gasFilterSupply(false)\n            .gasFilterExhaust(false)\n            .highPerformanceCondenserSupply(false)\n            .highPerformanceCondenserExhaust(false)\n            .heightInnerDimensionSupply(2.0)\n            .heightInnerDimensionExhaust(2.0)\n            .depthInnerDimensionSupply(2.0)\n            .depthInnerDimensionExhaust(2.0);\n\n    calculationMapperImpl = new CalculationMapperImpl();\n    calculationDTO = calculationMapperImpl.calculationToCalculationDTO(calculation);\n\n    calculationResult = new CalculationResult();\n    calculationResult.setRealAreaSA(0.00);\n    calculationResult.setRealAreaEA(0.00);\n    calculationResult.setRealAirVelocitySA(138.89);\n    calculationResult.setRealAirVelocityEA(138.89);\n    calculationResult.setCheckedVClassSA(\"V9\");\n    calculationResult.setCheckedVClassEA(\"V9\");\n    calculationResult.setDeclaredVClassSA(\"V4\");\n    calculationResult.setDeclaredVClassEA(\"V4\");\n\n    calculationResult.setpMRefSA(0.00);\n    calculationResult.setpMRefEA(0.00);\n    calculationResult.setpMMaxSA(0.00);\n    calculationResult.setpMMaxEA(0.00);\n    calculationResult.setpClassSA(\"-\");\n    calculationResult.setpClassEA(\"-\");\n\n    calculationResult.setPressureLossWrg(4);\n    calculationResult.setPressureLossMedium(0);\n    calculationResult.setRatedAirVolume(2);\n    calculationResult.setDryThermalPower(0.00);\n    calculationResult.setAuxiliaryPower(0.00);\n    calculationResult.setElectricalPowerInput(0.00);\n    calculationResult.setPerformanceReferenceNumber(72.29);\n    calculationResult.setEfficiency(1.97);\n    calculationResult.sethClass(\"H6\");\n\n    calculationResult.setpSfpVSA(3600000.00);\n    calculationResult.setpSfpVEA(3600000.00);\n    calculationResult.setExtraPSfpSA(0);\n    calculationResult.setExtraPSfpEA(0);\n    calculationResult.setSfpVClassSA(\"SFP7\");\n    calculationResult.setSfpVClassEA(\"SFP7\");\n\n    calculationResult.setSystemEfficiencySA(0.00);\n    calculationResult.setSystemEfficiencyEA(0.00);\n\n    calculationResult.setInternalPressureLossSA(2);\n    calculationResult.setInternalPressureLossEA(2);\n    calculationResult.setInternalPressureLossTotal(4);\n    calculationResult.setSfpIntSA(3600000);\n    calculationResult.setSfpIntEA(3600000);\n    calculationResult.setSfpIntTotal(7200000);\n\n    calculationResult.seteBonus2016(0);\n    calculationResult.seteBonus2018(0);\n    calculationResult.setfCorrection2016(360);\n    calculationResult.setfCorrection2018(340);\n    calculationResult.setSfpMax2016(840);\n    calculationResult.setSfpMax2018(760);\n    calculationResult.setAchieved2016(false);\n    calculationResult.setAchieved2018(false);\n\n\n\n    pdfGenerator = new PDFGenerator(calculationDTO, calculationResult, langval, messageSource, name);\n}\n\n@Test\npublic void compareFilesTest() throws IOException\n{\n    System.out.println(calculation);\n\n    File f1 = new File(\"../PDFData/testPDF.pdf\");\n    File f2 = new File(\"../PDFData/testPDF2.pdf\");\n\n    boolean areSame = FileUtils.contentEquals(f1, f2);\n    System.out.println(\"Files were compared...\");\n    assertTrue(areSame);\n\n}\n\n\n}\n</code></pre>\n\n<p>The PDFGenerator creates the testPDF2.pdf file and saves it. </p>\n\n<p><strong>UPDATE</strong>\nAdding the:</p>\n\n<pre><code>@PropertySource(\"classpath:/src/main/resources/i18n/messages_de.properties\")\n</code></pre>\n\n<p>to the config did not do much. I also changed the locale from </p>\n\n<pre><code>String locale = \"de\"\n</code></pre>\n\n<p>to </p>\n\n<pre><code>Locale locale = Locale.GERMAN;\n</code></pre>\n\n<p>and I threw in the line: </p>\n\n<pre><code>System.out.println(messageSource.getMessage(\"pdf.klasse\", null, this.locale));\n</code></pre>\n\n<p>directly at the beginning of the test. I get the same error. It seems the problem is not in finding the file but in reading it. </p>\n"},{"tags":["java","android","authentication","active-directory","android-11"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1674577532,"post_id":75210712,"comment_id":132741583,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":27000534,"reputation":285,"user_id":20561885,"display_name":"Mellik"},"score":0,"creation_date":1674638574,"post_id":75210712,"comment_id":132755084,"body_markdown":"I do not have any code. I am trying to find a way to code it.","body":"I do not have any code. I am trying to find a way to code it."}],"answers":[{"tags":[],"owner":{"account_id":22275407,"reputation":61,"user_id":16504677,"display_name":"mike crowley"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674486455,"creation_date":1674486455,"answer_id":75211357,"question_id":75210712,"body_markdown":"Assuming you want to connect directly to domain controllers (and not an AD-authenticated web site, for example), you can use NTLMv2 and LDAP.\r\n\r\nThis question is discussed here: \r\n\r\nhttps://stackoverflow.com/questions/20124111/how-to-use-ldap-authentication-in-our-app-in-android\r\n\r\nSpecifically, here is detail for authenticating with the SDK mentioned above (though the above link includes others):\r\n\r\nhttps://docs.ldap.com/ldap-sdk/docs/getting-started/connections.html\r\n\r\nIf the user/password combination is valid, you&#39;ll get a success for the bindResponse.","title":"How do I validate a Username and Password in an Active Directory from an Android Application?","body":"<p>Assuming you want to connect directly to domain controllers (and not an AD-authenticated web site, for example), you can use NTLMv2 and LDAP.</p>\n<p>This question is discussed here:</p>\n<p><a href=\"https://stackoverflow.com/questions/20124111/how-to-use-ldap-authentication-in-our-app-in-android\">How to use LDAP authentication in our app in android?</a></p>\n<p>Specifically, here is detail for authenticating with the SDK mentioned above (though the above link includes others):</p>\n<p><a href=\"https://docs.ldap.com/ldap-sdk/docs/getting-started/connections.html\" rel=\"nofollow noreferrer\">https://docs.ldap.com/ldap-sdk/docs/getting-started/connections.html</a></p>\n<p>If the user/password combination is valid, you'll get a success for the bindResponse.</p>\n"}],"owner":{"account_id":27000534,"reputation":285,"user_id":20561885,"display_name":"Mellik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75211357,"answer_count":1,"score":-2,"last_activity_date":1674486455,"creation_date":1674483189,"question_id":75210712,"body_markdown":"I am trying to validate an entered Username and Password in an Active Directory hosted on a Server inside my Network and then retrieving a single value from said user object. The User enters the Credentials on an Device running Android 11. The Device is connected to a Subnet within the Network. The application is coded in Java. I am using Android Studio as my IDE.\r\n\r\nI would like to authenticate User credentials using an Active Directory and retrieve a single value.","title":"How do I validate a Username and Password in an Active Directory from an Android Application?","body":"<p>I am trying to validate an entered Username and Password in an Active Directory hosted on a Server inside my Network and then retrieving a single value from said user object. The User enters the Credentials on an Device running Android 11. The Device is connected to a Subnet within the Network. The application is coded in Java. I am using Android Studio as my IDE.</p>\n<p>I would like to authenticate User credentials using an Active Directory and retrieve a single value.</p>\n"},{"tags":["java","pdf","digital-signature"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1366500032,"post_id":16126235,"comment_id":23034344,"body_markdown":"Related: http://stackoverflow.com/q/6118635/1065197","body":"Related: <a href=\"http://stackoverflow.com/q/6118635/1065197\">stackoverflow.com/q/6118635/1065197</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1366536528,"post_id":16126235,"comment_id":23040105,"body_markdown":"If you merely want to create empty signature fields and it is not important to be sota, you can consider using the latest iText version published under LGPL, i.e. 2.1.7 or (the unofficial) 4.2.0.","body":"If you merely want to create empty signature fields and it is not important to be sota, you can consider using the latest iText version published under LGPL, i.e. 2.1.7 or (the unofficial) 4.2.0."},{"owner":{"account_id":1580717,"reputation":548,"user_id":1466159,"accept_rate":76,"display_name":"Jovo Krneta"},"score":0,"creation_date":1366549053,"post_id":16126235,"comment_id":23042854,"body_markdown":"Yes that is the best solution but I can&#39;t understand that there is no other lib in java that is free and able to do that and that php is with TCPDF lib a better than java for this!?","body":"Yes that is the best solution but I can&#39;t understand that there is no other lib in java that is free and able to do that and that php is with TCPDF lib a better than java for this!?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1366606188,"post_id":16126235,"comment_id":23057304,"body_markdown":"I am sure that you can somehow do that with PDFBox, too, because that library exposes the low level objects quite publicly. I don&#39;t know how, though.","body":"I am sure that you can somehow do that with PDFBox, too, because that library exposes the low level objects quite publicly. I don&#39;t know how, though."}],"answers":[{"comments":[{"owner":{"account_id":1580717,"reputation":548,"user_id":1466159,"accept_rate":76,"display_name":"Jovo Krneta"},"score":0,"creation_date":1366500987,"post_id":16126329,"comment_id":23034533,"body_markdown":"I think that JasperReports uses Itext .","body":"I think that JasperReports uses Itext ."},{"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"score":0,"creation_date":1366501141,"post_id":16126329,"comment_id":23034562,"body_markdown":"True, but it is published under LGPL.","body":"True, but it is published under LGPL."},{"owner":{"account_id":1580717,"reputation":548,"user_id":1466159,"accept_rate":76,"display_name":"Jovo Krneta"},"score":0,"creation_date":1366501239,"post_id":16126329,"comment_id":23034582,"body_markdown":"If I want to generate empty signature fields I must also download Itext for which I have to pay , yes?","body":"If I want to generate empty signature fields I must also download Itext for which I have to pay , yes?"},{"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"score":0,"creation_date":1366501562,"post_id":16126329,"comment_id":23034634,"body_markdown":"No. No additional downloads are required. It is true that JasperReports uses IText internally, but since it is published under LGPL, I guess you can use it commercially, so long as it is dynamically linked. Anyway, this is in fact a legal question, which is not supposed to be asked on Stackoverflow.","body":"No. No additional downloads are required. It is true that JasperReports uses IText internally, but since it is published under LGPL, I guess you can use it commercially, so long as it is dynamically linked. Anyway, this is in fact a legal question, which is not supposed to be asked on Stackoverflow."},{"owner":{"account_id":1580717,"reputation":548,"user_id":1466159,"accept_rate":76,"display_name":"Jovo Krneta"},"score":0,"creation_date":1366501917,"post_id":16126329,"comment_id":23034707,"body_markdown":"I could use some earlier version of Itext but I can not be true that there is no other free java pdf lib for empty signature generation and that php TCPDF is in this by far better , that php has better support for this than java !?","body":"I could use some earlier version of Itext but I can not be true that there is no other free java pdf lib for empty signature generation and that php TCPDF is in this by far better , that php has better support for this than java !?"},{"owner":{"account_id":1779372,"reputation":76342,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1366616571,"post_id":16126329,"comment_id":23060889,"body_markdown":"If you are doing business, you generate revenue; then what&#39;s your problem having to pay for iText? Somehow your question doesn&#39;t make sense.","body":"If you are doing business, you generate revenue; then what&#39;s your problem having to pay for iText? Somehow your question doesn&#39;t make sense."}],"tags":[],"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"comment_count":6,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1366500685,"creation_date":1366500685,"answer_id":16126329,"question_id":16126235,"body_markdown":"Try [JasperReports][1]. It has a nice GUI for designing your PDFs.\r\n\r\n\r\n  [1]: http://community.jaspersoft.com/project/jasperreports-library","title":"Generate pdf empty signature fields free for commercial use","body":"<p>Try <a href=\"http://community.jaspersoft.com/project/jasperreports-library\" rel=\"nofollow\">JasperReports</a>. It has a nice GUI for designing your PDFs.</p>\n"},{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674486033,"creation_date":1366619130,"answer_id":16142519,"question_id":16126235,"body_markdown":"As there was no answer but the JasperReports one yet (and it can be considered an overkill to use a full-blown reporting suite just to add an empty signature field to a document), I&#39;m consolidating my comments as a second answer here:\r\n\r\nYou want to *to generate empty digital signature fields in java* but don&#39;t want to use iText because *it is not free to use for commercial sites*.\r\n\r\n1. If you merely want to create empty signature fields and it is not important to be state-of-the-art concerning the many additions and bug fixes in newer versions of iText, you can consider using the latest iText version published under LGPL, i.e. 2.1.7 or (the unofficial) 4.2.0. There are some minor fixes in the latter one as compared to the former one, so you might want to prefer that version.\r\n\r\n   In that case I would propose you check out the SVN branch in question and build it yourself instead of using one of the versions built by some third parties because some of them include undocumented changes.\r\n\r\n2. I am sure that you can somehow do that with PDFBox, too, because that library exposes the low level objects of PDFs it processes quite publicly. As I&#39;m not really into that library, I cannot tell how to do that in detail. You can simply take some PDFBox samples creating form fields, consult the PDF specification [ISO 32000-1:2008][1], and implement it, it should not be too difficult.\r\n\r\n3. A newer player among the free PDF libraries is PDF Clown. According to its doc, it doesn&#39;t deal with signatures yet. It does work with form fields and general annotations, though, so it should not be difficult to add the functionality required by you, either --- empty signature fields actually are very simple form fields, the cryptographic fun does not start before actually signing a PDF, either using an empty signature field or creating a new one on the fly.\r\n\r\n   In this case you might have to change the lib itself while in case of PDFBox I assume you can simply use the lib. But you may be able to fascinate Stefano Chizzolini, the PDF Clown creatror, to integrate that change.\r\n\r\nAll this being said, I do agree with Bruno&#39;s comment that anyone making profit (*commercial use*) by using a library created by someone else (*iText* in the case at hand) should not restrain from somehow sharing, either by sharing his code (i.e. using iText according to the AGPL) or by paying for iText.\r\n\r\nOf course, there sometimes are adverse constraints, e.g. a management very slow to allow sharing but very quick to demand realization from its dev staff... &amp;lt;sigh&amp;gt;\r\n\r\n\r\n  [1]: https://adobe.com/go/pdfreference","title":"Generate pdf empty signature fields free for commercial use","body":"<p>As there was no answer but the JasperReports one yet (and it can be considered an overkill to use a full-blown reporting suite just to add an empty signature field to a document), I'm consolidating my comments as a second answer here:</p>\n<p>You want to <em>to generate empty digital signature fields in java</em> but don't want to use iText because <em>it is not free to use for commercial sites</em>.</p>\n<ol>\n<li><p>If you merely want to create empty signature fields and it is not important to be state-of-the-art concerning the many additions and bug fixes in newer versions of iText, you can consider using the latest iText version published under LGPL, i.e. 2.1.7 or (the unofficial) 4.2.0. There are some minor fixes in the latter one as compared to the former one, so you might want to prefer that version.</p>\n<p>In that case I would propose you check out the SVN branch in question and build it yourself instead of using one of the versions built by some third parties because some of them include undocumented changes.</p>\n</li>\n<li><p>I am sure that you can somehow do that with PDFBox, too, because that library exposes the low level objects of PDFs it processes quite publicly. As I'm not really into that library, I cannot tell how to do that in detail. You can simply take some PDFBox samples creating form fields, consult the PDF specification <a href=\"https://adobe.com/go/pdfreference\" rel=\"nofollow noreferrer\">ISO 32000-1:2008</a>, and implement it, it should not be too difficult.</p>\n</li>\n<li><p>A newer player among the free PDF libraries is PDF Clown. According to its doc, it doesn't deal with signatures yet. It does work with form fields and general annotations, though, so it should not be difficult to add the functionality required by you, either --- empty signature fields actually are very simple form fields, the cryptographic fun does not start before actually signing a PDF, either using an empty signature field or creating a new one on the fly.</p>\n<p>In this case you might have to change the lib itself while in case of PDFBox I assume you can simply use the lib. But you may be able to fascinate Stefano Chizzolini, the PDF Clown creatror, to integrate that change.</p>\n</li>\n</ol>\n<p>All this being said, I do agree with Bruno's comment that anyone making profit (<em>commercial use</em>) by using a library created by someone else (<em>iText</em> in the case at hand) should not restrain from somehow sharing, either by sharing his code (i.e. using iText according to the AGPL) or by paying for iText.</p>\n<p>Of course, there sometimes are adverse constraints, e.g. a management very slow to allow sharing but very quick to demand realization from its dev staff... &lt;sigh&gt;</p>\n"}],"owner":{"account_id":1580717,"reputation":548,"user_id":1466159,"accept_rate":76,"display_name":"Jovo Krneta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2586,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":16142519,"answer_count":2,"score":-4,"last_activity_date":1674486033,"creation_date":1366499937,"question_id":16126235,"body_markdown":"Is there any java lib that I can use (Itext is not free to use for commercial sites) to generate empty digital signature fields in java from servlets or jsp . I must have more than one empty signature field generated . Php has TCPDF , is there something similar in java . ","title":"Generate pdf empty signature fields free for commercial use","body":"<p>Is there any java lib that I can use (Itext is not free to use for commercial sites) to generate empty digital signature fields in java from servlets or jsp . I must have more than one empty signature field generated . Php has TCPDF , is there something similar in java . </p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":6836018,"reputation":803,"user_id":5257981,"display_name":"kaweesha"},"score":0,"creation_date":1674933012,"post_id":75211142,"comment_id":132821161,"body_markdown":"Please add an example code to reproduce your error.","body":"Please add an example code to reproduce your error."}],"owner":{"account_id":20482132,"reputation":1,"user_id":15030122,"display_name":"Rahul Kumbhare"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674485988,"creation_date":1674485317,"question_id":75211142,"body_markdown":"I&#39;m running simple Selenium test, which uses selenium version 4.0.0 and chromedriver version 109. I&#39;m running automation test on Salesforce application, which logs into the application and performs some operation. In the middle of the test execution, I get below error:\r\n\r\n```\r\nJan 23, 2023 7:58:23 PM org.openqa.selenium.devtools.Connection handle\r\nINFO: &lt;- {&quot;method&quot;:&quot;Inspector.detached&quot;,&quot;params&quot;:{&quot;reason&quot;:&quot;target_closed&quot;}}\r\nJan 23, 2023 7:58:23 PM org.openqa.selenium.devtools.Connection handle\r\nINFO: Method Inspector.detached called with 0 callbacks available\r\n```\r\n\r\nAfter this connection to the browser is lost and when any further selenium webdriver statement(e.g. findElement) is executed, I gives exception:\r\n\r\n```\r\norg.openqa.selenium.NoSuchWindowException: no such window: target window already closed\r\nfrom unknown error: web view not found\r\n```\r\n\r\nCan someone please help me with this ?\r\n\r\nI tried different ways to fix the problem, Removed &#39;Thread.sleep&#39; and updated browser capabilities as mentioned in this post, but it didn&#39;t work:  \r\nhttps://stackoverflow.com/questions/59369088/org-openqa-selenium-webdriverexception-disconnected-received-inspector-detache","title":"Getting {&quot;method&quot;:&quot;Inspector.detached&quot;,&quot;params&quot;:{&quot;reason&quot;:&quot;target_closed&quot;}} error in running selenium chromedriver","body":"<p>I'm running simple Selenium test, which uses selenium version 4.0.0 and chromedriver version 109. I'm running automation test on Salesforce application, which logs into the application and performs some operation. In the middle of the test execution, I get below error:</p>\n<pre><code>Jan 23, 2023 7:58:23 PM org.openqa.selenium.devtools.Connection handle\nINFO: &lt;- {&quot;method&quot;:&quot;Inspector.detached&quot;,&quot;params&quot;:{&quot;reason&quot;:&quot;target_closed&quot;}}\nJan 23, 2023 7:58:23 PM org.openqa.selenium.devtools.Connection handle\nINFO: Method Inspector.detached called with 0 callbacks available\n</code></pre>\n<p>After this connection to the browser is lost and when any further selenium webdriver statement(e.g. findElement) is executed, I gives exception:</p>\n<pre><code>org.openqa.selenium.NoSuchWindowException: no such window: target window already closed\nfrom unknown error: web view not found\n</code></pre>\n<p>Can someone please help me with this ?</p>\n<p>I tried different ways to fix the problem, Removed 'Thread.sleep' and updated browser capabilities as mentioned in this post, but it didn't work:<br />\n<a href=\"https://stackoverflow.com/questions/59369088/org-openqa-selenium-webdriverexception-disconnected-received-inspector-detache\">org.openqa.selenium.WebDriverException: disconnected: received Inspector.detached event error during test execution using Selenium and Chromedriver</a></p>\n"},{"tags":["java","abstract-class","abstract","abstract-methods"],"comments":[{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":1,"creation_date":1266431889,"post_id":2283399,"comment_id":2246841,"body_markdown":"See also http://stackoverflow.com/questions/362446/abstract-class-with-all-concrete-methods, but I don&#39;t think it&#39;s *quite* a duplicate.","body":"See also <a href=\"http://stackoverflow.com/questions/362446/abstract-class-with-all-concrete-methods\" title=\"abstract class with all concrete methods\">stackoverflow.com/questions/362446/&hellip;</a>, but I don&#39;t think it&#39;s <i>quite</i> a duplicate."}],"answers":[{"comments":[{"owner":{"account_id":179087,"reputation":1570,"user_id":411494,"accept_rate":95,"display_name":"TheDevOpsGuru"},"score":3,"creation_date":1378058472,"post_id":2283410,"comment_id":27307603,"body_markdown":"+1 This answer the the most &quot;to the point&quot; and concise answer here.  Thanks!","body":"+1 This answer the the most &quot;to the point&quot; and concise answer here.  Thanks!"}],"tags":[],"owner":{"account_id":29404,"reputation":45520,"user_id":79439,"accept_rate":62,"display_name":"thecoop"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1266431870,"creation_date":1266431870,"answer_id":2283410,"question_id":2283399,"body_markdown":"No - you can declare a class abstract without having any abstract methods. It may not make any sense conceptually for an instance of that class to exist, or you may want to ensure that only subclasses of that class can be instantiated (for whatever reason)","title":"Should an abstract class have at least one abstract method?","body":"<p>No - you can declare a class abstract without having any abstract methods. It may not make any sense conceptually for an instance of that class to exist, or you may want to ensure that only subclasses of that class can be instantiated (for whatever reason)</p>\n"},{"comments":[{"owner":{"account_id":12204,"reputation":67782,"user_id":23903,"accept_rate":66,"display_name":"dsimcha"},"score":0,"creation_date":1266433146,"post_id":2283411,"comment_id":2247008,"body_markdown":"+1 because this is a good point at least occasionally, though I find it a little strange that any template method pattern class could have a sane default for everything.","body":"+1 because this is a good point at least occasionally, though I find it a little strange that any template method pattern class could have a sane default for everything."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1266433300,"post_id":2283411,"comment_id":2247026,"body_markdown":"In case of `HttpServlet` it is useful, it definies to return HTTP error 503 &quot;Method not allowed&quot; in any of the default implemented `doXXX()` methods, fully as per the HTTP specification.","body":"In case of <code>HttpServlet</code> it is useful, it definies to return HTTP error 503 &quot;Method not allowed&quot; in any of the default implemented <code>doXXX()</code> methods, fully as per the HTTP specification."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1674485480,"creation_date":1266431872,"answer_id":2283411,"question_id":2283399,"body_markdown":"No, it is not necessary. You see this often back in [&quot;template method&quot;][1] design pattern, like [`HttpServlet`][2], wherein each method already has default behaviour definied and you&#39;re free to override just one (or more) of them instead of *all* of them.\r\n\r\nThe `HttpServlet` class is merely `abstract` to prevent direct initialization by inadvertendly using `new HttpServlet()` which would otherwise basically have returned an empty, unimplemented and useless servlet instance.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Template_method_pattern\r\n  [2]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpservlet","title":"Should an abstract class have at least one abstract method?","body":"<p>No, it is not necessary. You see this often back in <a href=\"https://en.wikipedia.org/wiki/Template_method_pattern\" rel=\"nofollow noreferrer\">&quot;template method&quot;</a> design pattern, like <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpservlet\" rel=\"nofollow noreferrer\"><code>HttpServlet</code></a>, wherein each method already has default behaviour definied and you're free to override just one (or more) of them instead of <em>all</em> of them.</p>\n<p>The <code>HttpServlet</code> class is merely <code>abstract</code> to prevent direct initialization by inadvertendly using <code>new HttpServlet()</code> which would otherwise basically have returned an empty, unimplemented and useless servlet instance.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1266434683,"creation_date":1266432113,"answer_id":2283437,"question_id":2283399,"body_markdown":"In JDK 1.0 it was indeed necessary to have at least one abstract method in an abstract class. This restriction was removed in JDK 1.1 (1997? (I&#39;m old)) and such classes added to the Java library, such as `java.awt.event.KeyAdapter`.\r\n\r\nIn C++ you need at least one pure virtual function to make a subclass necessary, and at least one virtual function to add RTTI to the class. Typically it makes sense to use the destructor.\r\n\r\nNote when overriding non-abstract methods, using `@Override` is a good idea. It not only tells the reader important information about what the code is attempting to do, but also spots common errors where typos or incorrect parameter types prevents the override.","title":"Should an abstract class have at least one abstract method?","body":"<p>In JDK 1.0 it was indeed necessary to have at least one abstract method in an abstract class. This restriction was removed in JDK 1.1 (1997? (I'm old)) and such classes added to the Java library, such as <code>java.awt.event.KeyAdapter</code>.</p>\n\n<p>In C++ you need at least one pure virtual function to make a subclass necessary, and at least one virtual function to add RTTI to the class. Typically it makes sense to use the destructor.</p>\n\n<p>Note when overriding non-abstract methods, using <code>@Override</code> is a good idea. It not only tells the reader important information about what the code is attempting to do, but also spots common errors where typos or incorrect parameter types prevents the override.</p>\n"},{"comments":[{"owner":{"account_id":29404,"reputation":45520,"user_id":79439,"accept_rate":62,"display_name":"thecoop"},"score":0,"creation_date":1266432567,"post_id":2283450,"comment_id":2246928,"body_markdown":"There may be conceptual reasons why you may want an abstract class that happens to not have any abstract methods in it...","body":"There may be conceptual reasons why you may want an abstract class that happens to not have any abstract methods in it..."},{"owner":{"account_id":99559,"reputation":17675,"user_id":268850,"accept_rate":68,"display_name":"java_geek"},"score":0,"creation_date":1266432784,"post_id":2283450,"comment_id":2246961,"body_markdown":"Any example of one such scenario where you dont need an abstract method in an abstract class?","body":"Any example of one such scenario where you dont need an abstract method in an abstract class?"},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":0,"creation_date":1266435482,"post_id":2283450,"comment_id":2247335,"body_markdown":"@sai praveen, MouseAdapter is an example (if a bit specialty and highly language specific).","body":"@sai praveen, MouseAdapter is an example (if a bit specialty and highly language specific)."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1266436952,"post_id":2283450,"comment_id":2247539,"body_markdown":"@Yishai, my point is that a class like this could get by with a private constructor just as well. Superclasses can then change the visibility of the constructor as need be. With that said though, I don&#39;t think this is that important of a stylistic point, and isn&#39;t exactly something I would ever be all that strict about personally.","body":"@Yishai, my point is that a class like this could get by with a private constructor just as well. Superclasses can then change the visibility of the constructor as need be. With that said though, I don&#39;t think this is that important of a stylistic point, and isn&#39;t exactly something I would ever be all that strict about personally."},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":0,"creation_date":1266438111,"post_id":2283450,"comment_id":2247696,"body_markdown":"@matt b, that is not true, subclasses cannot change the visibility of the superclass contructor. A class with only private constructors cannot be subclassed by other (non-nested or non-inner) classes.","body":"@matt b, that is not true, subclasses cannot change the visibility of the superclass contructor. A class with only private constructors cannot be subclassed by other (non-nested or non-inner) classes."},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":2,"creation_date":1266466224,"post_id":2283450,"comment_id":2250106,"body_markdown":"@matt b, protected constructors don&#39;t give you exactly the same restrictions. For example, a class in the same package could instantiate it. But I agree that the difference is small, and for most projects unimportant.","body":"@matt b, protected constructors don&#39;t give you exactly the same restrictions. For example, a class in the same package could instantiate it. But I agree that the difference is small, and for most projects unimportant."}],"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"comment_count":6,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1266456760,"creation_date":1266432212,"answer_id":2283450,"question_id":2283399,"body_markdown":"The subject of this post and the body ask two different questions:\r\n\r\n1. Should it have at least one abstract member?\r\n2. Is it necessary to have at least one abstract member?\r\n\r\nThe answer to #2 is definitively no.\r\n\r\nThe answer to #1 is subjective and a matter of style. Personally I would say yes. If your intent is to prevent a class (with no abstract methods) from being instantiated, the best way to handle this is with a &lt;strike&gt;`private`&lt;/strike&gt;`protected` constructor, not by marking it `abstract`.","title":"Should an abstract class have at least one abstract method?","body":"<p>The subject of this post and the body ask two different questions:</p>\n\n<ol>\n<li>Should it have at least one abstract member?</li>\n<li>Is it necessary to have at least one abstract member?</li>\n</ol>\n\n<p>The answer to #2 is definitively no.</p>\n\n<p>The answer to #1 is subjective and a matter of style. Personally I would say yes. If your intent is to prevent a class (with no abstract methods) from being instantiated, the best way to handle this is with a <strike><code>private</code></strike><code>protected</code> constructor, not by marking it <code>abstract</code>.</p>\n"},{"comments":[{"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"score":2,"creation_date":1266435522,"post_id":2283473,"comment_id":2247342,"body_markdown":"It is perfectly valid syntactically to define a class as abstract when it has no abstract methods.  I&#39;m not downvoting, but this answer is factually incorrect.  Note that the language for the question is Java, not C++.","body":"It is perfectly valid syntactically to define a class as abstract when it has no abstract methods.  I&#39;m not downvoting, but this answer is factually incorrect.  Note that the language for the question is Java, not C++."},{"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"score":0,"creation_date":1266436898,"post_id":2283473,"comment_id":2247531,"body_markdown":"@CPerkins - I am saying that by saying &quot;Not the other way around&quot;.","body":"@CPerkins - I am saying that by saying &quot;Not the other way around&quot;."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1266455439,"post_id":2283473,"comment_id":2249431,"body_markdown":"And you&#39;re still wrong. If a class has the &#39;abstract&#39; modifier it is abstract by definition, whether it has abstract methods or not.","body":"And you&#39;re still wrong. If a class has the &#39;abstract&#39; modifier it is abstract by definition, whether it has abstract methods or not."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1266487465,"post_id":2283473,"comment_id":2251635,"body_markdown":"So what did &#39;not the other way round&#39; mean?","body":"So what did &#39;not the other way round&#39; mean?"},{"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"score":1,"creation_date":1266538313,"post_id":2283473,"comment_id":2257710,"body_markdown":"Your second paragraph is correct, but the first one still, to my reading, even informed by the edit, is not.  I just can&#39;t parse your first paragraph in a way which makes it the same as the second.  \n\nMy recommendation would be to delete the first paragraph entirely, and the &quot;edit: I guess I wasn&#39;t clear enough&quot;.   You&#39;d then be clearly saying something that is correct, and not confusing other readers.  Of course, the advice being unsought and free, is only guaranteed to be worth what you pay for it.","body":"Your second paragraph is correct, but the first one still, to my reading, even informed by the edit, is not.  I just can&#39;t parse your first paragraph in a way which makes it the same as the second.    My recommendation would be to delete the first paragraph entirely, and the &quot;edit: I guess I wasn&#39;t clear enough&quot;.   You&#39;d then be clearly saying something that is correct, and not confusing other readers.  Of course, the advice being unsought and free, is only guaranteed to be worth what you pay for it."}],"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":5,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1384207264,"creation_date":1266432452,"answer_id":2283473,"question_id":2283399,"body_markdown":"If a class has an `abstract` modifier on its declaration it becomes `abstract` class.","title":"Should an abstract class have at least one abstract method?","body":"<p>If a class has an <code>abstract</code> modifier on its declaration it becomes <code>abstract</code> class.</p>\n"}],"owner":{"account_id":99559,"reputation":17675,"user_id":268850,"accept_rate":68,"display_name":"java_geek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39499,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":2283450,"answer_count":5,"score":23,"last_activity_date":1674485480,"creation_date":1266431718,"question_id":2283399,"body_markdown":"Is it necessary for an abstract class to have at least one abstract method?","title":"Should an abstract class have at least one abstract method?","body":"<p>Is it necessary for an abstract class to have at least one abstract method?</p>\n"},{"tags":["java","eclipse","rcp","nattable"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1674473904,"post_id":75208466,"comment_id":132714195,"body_markdown":"Which OS is this?","body":"Which OS is this?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1674481029,"post_id":75208466,"comment_id":132716489,"body_markdown":"It&#39;s a visual thing, so please show screenshots of it. Please improve your question instead of commenting on it.","body":"It&#39;s a visual thing, so please show screenshots of it. Please improve your question instead of commenting on it."}],"owner":{"account_id":27599438,"reputation":1,"user_id":21064976,"display_name":"Rezan Hannan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674485338,"creation_date":1674471172,"question_id":75208466,"body_markdown":"[Screenshot: on monitor with scale 125%][1]\r\nI develop an eclipse rcp app and face a strange phenomenon. When run the app through eclipse rcp ide, the dropdown(Compobox from org.eclipse.nebula.widgets.nattable.widget) behaves in an expected manner on all monitor scales(100%, 125%,..): the menu direction is up when opened on the edge of the screen.\r\nWhen run the local created app (exe) the dropdown behaves differently on 125%: the direction is down so the menu is hidden. \r\nI use eclipse IDE 2022-12, java 17, plug-ins: Eclipse 4 RCP 4.26.0.v20221123-2302, Eclipse e4 tools: 4.26.0.v.20221111-1233 on Windows 10 Enterprise version 21H2\r\nHow can I solve this problem?\r\n\r\nI have tried to copy plug-ins from the ide to my app, but could not get desired results\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KKFFD.png","title":"Difference between local built and that through eclipse rcp ide running app","body":"<p><a href=\"https://i.stack.imgur.com/KKFFD.png\" rel=\"nofollow noreferrer\">Screenshot: on monitor with scale 125%</a>\nI develop an eclipse rcp app and face a strange phenomenon. When run the app through eclipse rcp ide, the dropdown(Compobox from org.eclipse.nebula.widgets.nattable.widget) behaves in an expected manner on all monitor scales(100%, 125%,..): the menu direction is up when opened on the edge of the screen.\nWhen run the local created app (exe) the dropdown behaves differently on 125%: the direction is down so the menu is hidden.\nI use eclipse IDE 2022-12, java 17, plug-ins: Eclipse 4 RCP 4.26.0.v20221123-2302, Eclipse e4 tools: 4.26.0.v.20221111-1233 on Windows 10 Enterprise version 21H2\nHow can I solve this problem?</p>\n<p>I have tried to copy plug-ins from the ide to my app, but could not get desired results</p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1674484680,"post_id":75210998,"comment_id":132717823,"body_markdown":"You are trying to delete a parent row without first removing all its children rows","body":"You are trying to delete a parent row without first removing all its children rows"},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1674484780,"post_id":75210998,"comment_id":132717867,"body_markdown":"You might consider adding a Delete Cascade to the schema, if that makes sense to your database design","body":"You might consider adding a Delete Cascade to the schema, if that makes sense to your database design"}],"answers":[{"comments":[{"owner":{"account_id":27547046,"reputation":11,"user_id":21022811,"display_name":"James Coding"},"score":1,"creation_date":1674554339,"post_id":75211113,"comment_id":132733492,"body_markdown":"Im not sure how that would work ? where and how would you integrate a boolean into deleting an item?","body":"Im not sure how that would work ? where and how would you integrate a boolean into deleting an item?"},{"owner":{"account_id":3719229,"reputation":1,"user_id":3094642,"display_name":"sayekooie"},"score":0,"creation_date":1674719553,"post_id":75211113,"comment_id":132774762,"body_markdown":"change your boolean to false and update your document after that you have it but in your selects you should filter documents with that property boolean with true then you actually delete that document but you have it as archived","body":"change your boolean to false and update your document after that you have it but in your selects you should filter documents with that property boolean with true then you actually delete that document but you have it as archived"}],"tags":[],"owner":{"account_id":3719229,"reputation":1,"user_id":3094642,"display_name":"sayekooie"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674485188,"creation_date":1674485188,"answer_id":75211113,"question_id":75210998,"body_markdown":"best practice is to have remove boolean in your document and make it true or false it cause to have soft delete instead of hard delete","title":"Error when deleting item from database in SpringBoot: Cannot delete or update a parent row: a foreign key constraint fails","body":"<p>best practice is to have remove boolean in your document and make it true or false it cause to have soft delete instead of hard delete</p>\n"}],"owner":{"account_id":27547046,"reputation":11,"user_id":21022811,"display_name":"James Coding"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674485188,"creation_date":1674484582,"question_id":75210998,"body_markdown":"I have two tables, item and user, userId is a foreign key in item table using @ManyToOne mapping. I need to delete an item just by pressing a button on a bootstrap front end but I get the error: Cannot delete or update a parent row: a foreign key constraint fails (`jdbc`.`ms_item`, CONSTRAINT `FKli14y8viufmofrho0tdmgqawy` FOREIGN KEY (`id`) REFERENCES `ms_users` (`id`)). I understand that I can&#39;t delete a row from a db which has reference to another entity so Im wondering how I can delete. Another thing to note is that update works fine!\r\n\r\nHere is my code: \r\n\r\n    @Controller\r\n    public class ProductController {\r\n\r\n    @Autowired\r\n    private ItemRepository itemRepository;\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private ItemServiceImp itemServiceImp;\r\n\r\n    @GetMapping(&quot;/listItems&quot;)\r\n    public String listing(Model model) {\r\n        model.addAttribute(&quot;item&quot;, new Item());\r\n        model.addAttribute(&quot;pageTitle&quot;, &quot;Sell Product&quot;);\r\n        return &quot;addItem&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/products&quot;)\r\n    public String listItems(Model model, Principal principal) {\r\n        User user = userRepository.findByEmail(principal.getName());\r\n        List&lt;Item&gt; listItems = itemRepository.findByUser(user);\r\n        model.addAttribute(&quot;listItems&quot;, listItems);\r\n        return &quot;productList&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/products/save&quot;)\r\n    public String itemAdd(Item item, Principal principal, RedirectAttributes redirectAttributes) {\r\n        User user = userRepository.findByEmail(principal.getName());\r\n        item.setUser(user);\r\n        itemRepository.save(item);\r\n        redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Product Listed for sale&quot;);\r\n        return &quot;home_page&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/products/update/{itemId}&quot;)\r\n        public String updateItem(@PathVariable(&quot;itemId&quot;) Long itemId, Model model, RedirectAttributes redirectAttributes) {\r\n        try {\r\n            Item item = itemServiceImp.get(itemId);\r\n            model.addAttribute(&quot;item&quot;, item);\r\n            model.addAttribute(&quot;pageTitle&quot;, &quot;Update Product&quot;);\r\n            return &quot;addItem&quot;;\r\n        } catch (ItemNotFoundException e) {\r\n            redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Product Updated&quot;);\r\n            return &quot;home_page&quot;;\r\n        }\r\n\r\n    }\r\n\r\n    @GetMapping(&quot;/products/delete/{itemId}&quot;)\r\n    public String deleteItem(@PathVariable(&quot;itemId&quot;) Long itemId) {\r\n\r\n        itemServiceImp.delete(itemId);\r\n        return &quot;redirect/productList&quot;;\r\n    }\r\n\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;msItem&quot;)\r\n    public class Item {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long itemId;\r\n\t@Column(nullable = false, length = 45)\r\n\tprivate String itemName;\r\n\t@Column(nullable = false)\r\n\tprivate int itemPrice;\r\n\t@Column(nullable = false, length = 100)\r\n\tprivate String itemDesc;\r\n\t@Column(nullable = false, length = 100)\r\n\tprivate String category;\r\n\t@Column(nullable = false, length = 100)\r\n\tprivate String image;\r\n\t@ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;id&quot;)\r\n        private User user;\r\n\r\n\r\n    @Service\r\n    public class ItemServiceImp{\r\n\r\n    @Autowired\r\n    private ItemRepository itemRepository;\r\n\r\n    public List&lt;Item&gt; listItems(User user) {\r\n         return itemRepository.findByUser(user);\r\n    }\r\n\r\n    public Item get(Long itemId) throws ItemNotFoundException {\r\n        Optional&lt;Item&gt; result = itemRepository.findById(itemId);\r\n\r\n        if (result.isPresent()) {\r\n            return result.get();\r\n        }\r\n\r\n        throw new ItemNotFoundException(&quot;No Item with id: &quot; + itemId);\r\n    }\r\n\r\n    public void delete(Long itemId) {\r\n        itemRepository.deleteById(itemId);\r\n    }\r\n    }\r\n\r\n\r\n","title":"Error when deleting item from database in SpringBoot: Cannot delete or update a parent row: a foreign key constraint fails","body":"<p>I have two tables, item and user, userId is a foreign key in item table using @ManyToOne mapping. I need to delete an item just by pressing a button on a bootstrap front end but I get the error: Cannot delete or update a parent row: a foreign key constraint fails (<code>jdbc</code>.<code>ms_item</code>, CONSTRAINT <code>FKli14y8viufmofrho0tdmgqawy</code> FOREIGN KEY (<code>id</code>) REFERENCES <code>ms_users</code> (<code>id</code>)). I understand that I can't delete a row from a db which has reference to another entity so Im wondering how I can delete. Another thing to note is that update works fine!</p>\n<p>Here is my code:</p>\n<pre><code>@Controller\npublic class ProductController {\n\n@Autowired\nprivate ItemRepository itemRepository;\n@Autowired\nprivate UserRepository userRepository;\n\n@Autowired\nprivate ItemServiceImp itemServiceImp;\n\n@GetMapping(&quot;/listItems&quot;)\npublic String listing(Model model) {\n    model.addAttribute(&quot;item&quot;, new Item());\n    model.addAttribute(&quot;pageTitle&quot;, &quot;Sell Product&quot;);\n    return &quot;addItem&quot;;\n}\n\n@GetMapping(&quot;/products&quot;)\npublic String listItems(Model model, Principal principal) {\n    User user = userRepository.findByEmail(principal.getName());\n    List&lt;Item&gt; listItems = itemRepository.findByUser(user);\n    model.addAttribute(&quot;listItems&quot;, listItems);\n    return &quot;productList&quot;;\n}\n\n@PostMapping(&quot;/products/save&quot;)\npublic String itemAdd(Item item, Principal principal, RedirectAttributes redirectAttributes) {\n    User user = userRepository.findByEmail(principal.getName());\n    item.setUser(user);\n    itemRepository.save(item);\n    redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Product Listed for sale&quot;);\n    return &quot;home_page&quot;;\n}\n\n@GetMapping(&quot;/products/update/{itemId}&quot;)\n    public String updateItem(@PathVariable(&quot;itemId&quot;) Long itemId, Model model, RedirectAttributes redirectAttributes) {\n    try {\n        Item item = itemServiceImp.get(itemId);\n        model.addAttribute(&quot;item&quot;, item);\n        model.addAttribute(&quot;pageTitle&quot;, &quot;Update Product&quot;);\n        return &quot;addItem&quot;;\n    } catch (ItemNotFoundException e) {\n        redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Product Updated&quot;);\n        return &quot;home_page&quot;;\n    }\n\n}\n\n@GetMapping(&quot;/products/delete/{itemId}&quot;)\npublic String deleteItem(@PathVariable(&quot;itemId&quot;) Long itemId) {\n\n    itemServiceImp.delete(itemId);\n    return &quot;redirect/productList&quot;;\n}\n\n}\n\n\n@Entity\n@Table(name = &quot;msItem&quot;)\npublic class Item {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long itemId;\n@Column(nullable = false, length = 45)\nprivate String itemName;\n@Column(nullable = false)\nprivate int itemPrice;\n@Column(nullable = false, length = 100)\nprivate String itemDesc;\n@Column(nullable = false, length = 100)\nprivate String category;\n@Column(nullable = false, length = 100)\nprivate String image;\n@ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;id&quot;)\n    private User user;\n\n\n@Service\npublic class ItemServiceImp{\n\n@Autowired\nprivate ItemRepository itemRepository;\n\npublic List&lt;Item&gt; listItems(User user) {\n     return itemRepository.findByUser(user);\n}\n\npublic Item get(Long itemId) throws ItemNotFoundException {\n    Optional&lt;Item&gt; result = itemRepository.findById(itemId);\n\n    if (result.isPresent()) {\n        return result.get();\n    }\n\n    throw new ItemNotFoundException(&quot;No Item with id: &quot; + itemId);\n}\n\npublic void delete(Long itemId) {\n    itemRepository.deleteById(itemId);\n}\n}\n</code></pre>\n"},{"tags":["java","ssl","ca"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1674453135,"post_id":75206000,"comment_id":132709373,"body_markdown":"It gets the certificate from the server when requesting a HTTPS website.","body":"It gets the certificate from the server when requesting a HTTPS website."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674486071,"post_id":75206000,"comment_id":132718373,"body_markdown":"@tkausl: that&#39;s technically correct, but it **trusts** the certificates it gets from the server, because they are signed by the well-known CAs.","body":"@tkausl: that&#39;s technically correct, but it <b>trusts</b> the certificates it gets from the server, because they are signed by the well-known CAs."}],"answers":[{"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675159483,"post_id":75210994,"comment_id":132863747,"body_markdown":"Was this answer complete/understandable, please accept the answer. If not, please comment.","body":"Was this answer complete/understandable, please accept the answer. If not, please comment."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674484574,"creation_date":1674484574,"answer_id":75210994,"question_id":75206000,"body_markdown":"You are correct - if a cert provided by a server is not signed by recognised CA then the cert that signed the provided cert needs to be added to CACERTS. By recognised CA I mean one that is the CACERTS of the default Java install.\r\n\r\nStrictly speaking it&#39;s a bit more complicated. A cert will be trusted if it&#39;s signing path (signed-by, signed-by...) can be traced back in the cert chain provided by the server to one in CACERTS.\r\n\r\nThe public keys are part of the certs. If you want to see all the public keys in CACERTS run the following from your JAVA_HOME with bin on the path:\r\n\r\n    keytool -list -rfc -keystore jre/lib/security/cacerts\r\n\r\npassword is changeit\r\n\r\nThis will give you lots of output that will include the actual certs, eg:\r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    MIICsDCCAhmgAwIBAgIQZ8jh6OO+HL38kTuOpiOHSTANBgkqhkiG9w0BAQUFADCB\r\n    izELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTEUMBIGA1UEBxML\r\n    RHVyYmFudmlsbGUxDzANBgNVBAoTBlRoYXd0ZTEdMBsGA1UECxMUVGhhd3RlIENl\r\n    cnRpZmljYXRpb24xHzAdBgNVBAMTFlRoYXd0ZSBUaW1lc3RhbXBpbmcgQ0EwHhcN\r\n    OTcwMTAxMDAwMDAwWhcNMjEwMTAxMjM1OTU5WjCBizELMAkGA1UEBhMCWkExFTAT\r\n    BgNVBAgTDFdlc3Rlcm4gQ2FwZTEUMBIGA1UEBxMLRHVyYmFudmlsbGUxDzANBgNV\r\n    BAoTBlRoYXd0ZTEdMBsGA1UECxMUVGhhd3RlIENlcnRpZmljYXRpb24xHzAdBgNV\r\n    BAMTFlRoYXd0ZSBUaW1lc3RhbXBpbmcgQ0EwgZ8wDQYJKoZIhvcNAQEBBQADgY0A\r\n    MIGJAoGBANYrWHhhRYZT6jR7UZztsOYuGA7+4F+oJ9O0yeB8WU4WDnNUYMF/9p8u\r\n    6TqFJBU820cEY8OexJQaWt9MevPZQx08EHp5JduQ/vBR5zDWQQD9nyjfeb6Uu522\r\n    FOMjhdepQeBMpHmwKxqL8vg7ij5FrHGSALSQQZj7X+36ty6K+Ig3AgMBAAGjEzAR\r\n    MA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQEFBQADgYEAS+mqF4EF+3kKMZ/F\r\n    QfRWVKvpwuWXjhj+kckMPiZkyaFMJ2SnvQGTVXFuF0853BvcSTUQOSP/ypvIz2Y/\r\n    3Ewa1IEGQlIf4SaxFhe65nByMUToTo1b5NP50OOPJWQx5yr4GIg2GlLFDUE1G2m3\r\n    JvUXzMEZXkt8XOKDgJH6L/uatxY=\r\n    -----END CERTIFICATE-----\r\n\r\nThen use a site like [this][1] to inspect the public key - it is under &#39;RAW OUTPUT&quot;\r\n\r\n       Subject Public Key Info:\r\n            Public Key Algorithm: rsaEncryption\r\n                Public-Key: (1024 bit)\r\n                Modulus:\r\n                     00:d6:2b:58:78:61:45:86:53:ea:34:7b:51:9c:ed:\r\n                    b0:e6:2e:18:0e:fe:e0:5f:a8:27:d3:b4:c9:e0:7c:\r\n                    59:4e:16:0e:73:54:60:c1:7f:f6:9f:2e:e9:3a:85:\r\n                    24:15:3c:db:47:04:63:c3:9e:c4:94:1a:5a:df:4c:\r\n                    7a:f3:d9:43:1d:3c:10:7a:79:25:db:90:fe:f0:51:\r\n                    e7:30:d6:41:00:fd:9f:28:df:79:be:94:bb:9d:b6:\r\n                    14:e3:23:85:d7:a9:41:e0:4c:a4:79:b0:2b:1a:8b:\r\n                    f2:f8:3b:8a:3e:45:ac:71:92:00:b4:90:41:98:fb:\r\n                    5f:ed:fa:b7:2e:8a:f8:88:37\r\n                Exponent: 65537 (0x10001)\r\n\r\n \r\n\r\n\r\n  [1]: https://www.sslchecker.com/certdecoder","title":"java ssl certificate &amp; CA","body":"<p>You are correct - if a cert provided by a server is not signed by recognised CA then the cert that signed the provided cert needs to be added to CACERTS. By recognised CA I mean one that is the CACERTS of the default Java install.</p>\n<p>Strictly speaking it's a bit more complicated. A cert will be trusted if it's signing path (signed-by, signed-by...) can be traced back in the cert chain provided by the server to one in CACERTS.</p>\n<p>The public keys are part of the certs. If you want to see all the public keys in CACERTS run the following from your JAVA_HOME with bin on the path:</p>\n<pre><code>keytool -list -rfc -keystore jre/lib/security/cacerts\n</code></pre>\n<p>password is changeit</p>\n<p>This will give you lots of output that will include the actual certs, eg:</p>\n<pre><code>-----BEGIN CERTIFICATE-----\nMIICsDCCAhmgAwIBAgIQZ8jh6OO+HL38kTuOpiOHSTANBgkqhkiG9w0BAQUFADCB\nizELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTEUMBIGA1UEBxML\nRHVyYmFudmlsbGUxDzANBgNVBAoTBlRoYXd0ZTEdMBsGA1UECxMUVGhhd3RlIENl\ncnRpZmljYXRpb24xHzAdBgNVBAMTFlRoYXd0ZSBUaW1lc3RhbXBpbmcgQ0EwHhcN\nOTcwMTAxMDAwMDAwWhcNMjEwMTAxMjM1OTU5WjCBizELMAkGA1UEBhMCWkExFTAT\nBgNVBAgTDFdlc3Rlcm4gQ2FwZTEUMBIGA1UEBxMLRHVyYmFudmlsbGUxDzANBgNV\nBAoTBlRoYXd0ZTEdMBsGA1UECxMUVGhhd3RlIENlcnRpZmljYXRpb24xHzAdBgNV\nBAMTFlRoYXd0ZSBUaW1lc3RhbXBpbmcgQ0EwgZ8wDQYJKoZIhvcNAQEBBQADgY0A\nMIGJAoGBANYrWHhhRYZT6jR7UZztsOYuGA7+4F+oJ9O0yeB8WU4WDnNUYMF/9p8u\n6TqFJBU820cEY8OexJQaWt9MevPZQx08EHp5JduQ/vBR5zDWQQD9nyjfeb6Uu522\nFOMjhdepQeBMpHmwKxqL8vg7ij5FrHGSALSQQZj7X+36ty6K+Ig3AgMBAAGjEzAR\nMA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQEFBQADgYEAS+mqF4EF+3kKMZ/F\nQfRWVKvpwuWXjhj+kckMPiZkyaFMJ2SnvQGTVXFuF0853BvcSTUQOSP/ypvIz2Y/\n3Ewa1IEGQlIf4SaxFhe65nByMUToTo1b5NP50OOPJWQx5yr4GIg2GlLFDUE1G2m3\nJvUXzMEZXkt8XOKDgJH6L/uatxY=\n-----END CERTIFICATE-----\n</code></pre>\n<p>Then use a site like <a href=\"https://www.sslchecker.com/certdecoder\" rel=\"nofollow noreferrer\">this</a> to inspect the public key - it is under 'RAW OUTPUT&quot;</p>\n<pre><code>   Subject Public Key Info:\n        Public Key Algorithm: rsaEncryption\n            Public-Key: (1024 bit)\n            Modulus:\n                 00:d6:2b:58:78:61:45:86:53:ea:34:7b:51:9c:ed:\n                b0:e6:2e:18:0e:fe:e0:5f:a8:27:d3:b4:c9:e0:7c:\n                59:4e:16:0e:73:54:60:c1:7f:f6:9f:2e:e9:3a:85:\n                24:15:3c:db:47:04:63:c3:9e:c4:94:1a:5a:df:4c:\n                7a:f3:d9:43:1d:3c:10:7a:79:25:db:90:fe:f0:51:\n                e7:30:d6:41:00:fd:9f:28:df:79:be:94:bb:9d:b6:\n                14:e3:23:85:d7:a9:41:e0:4c:a4:79:b0:2b:1a:8b:\n                f2:f8:3b:8a:3e:45:ac:71:92:00:b4:90:41:98:fb:\n                5f:ed:fa:b7:2e:8a:f8:88:37\n            Exponent: 65537 (0x10001)\n</code></pre>\n"}],"owner":{"account_id":20860846,"reputation":1,"user_id":15323117,"display_name":"Andrey Pylyptiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674484574,"creation_date":1674452735,"question_id":75206000,"body_markdown":"How does my java application get a public key, for example the google or facebook domains WITHOUT THE NEED to add their .cer files in cacerts keystore? \r\n\r\nI suspect that the reason is that such domains use well-known Certification authority, CA, that may already be in java cacerts keystore file (depending on version java? I tried to see if there are certificates up to 2030-2040 validity, or I&#39;m wrong in my theory). But if I guess correctly, then where are the public keys from these domains stored? I would like an expert opinion on this matter.","title":"java ssl certificate &amp; CA","body":"<p>How does my java application get a public key, for example the google or facebook domains WITHOUT THE NEED to add their .cer files in cacerts keystore?</p>\n<p>I suspect that the reason is that such domains use well-known Certification authority, CA, that may already be in java cacerts keystore file (depending on version java? I tried to see if there are certificates up to 2030-2040 validity, or I'm wrong in my theory). But if I guess correctly, then where are the public keys from these domains stored? I would like an expert opinion on this matter.</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674483182,"post_id":75210044,"comment_id":132717237,"body_markdown":"Do you have a JPA query? I am not sure how supported it is to filter the relationship beforehand. Something I found [is this related question](https://stackoverflow.com/questions/60863789/select-only-a-subset-of-an-entities-collection)","body":"Do you have a JPA query? I am not sure how supported it is to filter the relationship beforehand. Something I found <a href=\"https://stackoverflow.com/questions/60863789/select-only-a-subset-of-an-entities-collection\">is this related question</a>"},{"owner":{"account_id":8256521,"reputation":133,"user_id":6209532,"display_name":"Sotiris Oik"},"score":0,"creation_date":1674483784,"post_id":75210044,"comment_id":132717459,"body_markdown":"It looks relevant but it that case the function would be findeAsByeBsByeCs (or something like that) which does not seem to be possible cause its the &quot;third level&quot; which I need to apply the clause to","body":"It looks relevant but it that case the function would be findeAsByeBsByeCs (or something like that) which does not seem to be possible cause its the &quot;third level&quot; which I need to apply the clause to"}],"answers":[{"comments":[{"owner":{"account_id":8256521,"reputation":133,"user_id":6209532,"display_name":"Sotiris Oik"},"score":0,"creation_date":1674486453,"post_id":75210932,"comment_id":132718493,"body_markdown":"Thanks for the info! I used JPA Buddy and it was a big help but unfortunately the results are the same. I passed the ids but i get every EntityB and inside each one I get every EntityC","body":"Thanks for the info! I used JPA Buddy and it was a big help but unfortunately the results are the same. I passed the ids but i get every EntityB and inside each one I get every EntityC"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674491960,"post_id":75210932,"comment_id":132720444,"body_markdown":"I know this works, I&#39;ve done it before (not nested 3 levels deep, but 2). [Here is another SO Q&amp;A that&#39;s basically the same](https://stackoverflow.com/a/56418909/639520)","body":"I know this works, I&#39;ve done it before (not nested 3 levels deep, but 2). <a href=\"https://stackoverflow.com/a/56418909/639520\">Here is another SO Q&amp;A that&#39;s basically the same</a>"},{"owner":{"account_id":8256521,"reputation":133,"user_id":6209532,"display_name":"Sotiris Oik"},"score":0,"creation_date":1674495077,"post_id":75210932,"comment_id":132721373,"body_markdown":"Yeah I know it works too. I have used it before. It seems to work now. I get results but I get all the rows from Entity C. They do not get filtered out by the ids I am passing as an argument.","body":"Yeah I know it works too. I have used it before. It seems to work now. I get results but I get all the rows from Entity C. They do not get filtered out by the ids I am passing as an argument."}],"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674484235,"creation_date":1674484235,"answer_id":75210932,"question_id":75210044,"body_markdown":"You should be able to use a [derived query method][1] in your repository interface, no SQL needed. Spring Data can derive queries based only on the name of a repository method and its parameter type(s). It&#39;s a powerful feature, useful to avoid the need to write SQL or JPQL queries manually. [Here is another useful explanation][2] with some examples.\r\n\r\nFor your case, the repository method name to filter nested objects would be somewhat complex, but doable. The exact repository method name depends on the field names in your entity classes, which you didn&#39;t show us. So assuming classes like this (annotations omitted):\r\n\r\n```java\r\npublic class A {\r\n    private long id;\r\n    private Collection&lt;B&gt; entityBs;\r\n}\r\n\r\npublic class B {\r\n    private long id;\r\n    private Collection&lt;C&gt; entityCs;\r\n}\r\n\r\npublic class C {\r\n    private long id;\r\n}\r\n```\r\n\r\nThe repository method would look like this:\r\n\r\n```java\r\npublic interface EntityARepository extends JPARepository&lt;A, long&gt; {\r\n    Collection&lt;A&gt; findByEntityBsEntityCsIdIn(long[] ids);\r\n}\r\n```\r\n\r\nThe return type of the repo method can be other types, [as documented here][3], depending on how you want the results returned.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods\r\n  [2]: https://www.baeldung.com/spring-data-derived-queries\r\n  [3]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-return-types","title":"Spring boot JPA filter data based on relation","body":"<p>You should be able to use a <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods\" rel=\"nofollow noreferrer\">derived query method</a> in your repository interface, no SQL needed. Spring Data can derive queries based only on the name of a repository method and its parameter type(s). It's a powerful feature, useful to avoid the need to write SQL or JPQL queries manually. <a href=\"https://www.baeldung.com/spring-data-derived-queries\" rel=\"nofollow noreferrer\">Here is another useful explanation</a> with some examples.</p>\n<p>For your case, the repository method name to filter nested objects would be somewhat complex, but doable. The exact repository method name depends on the field names in your entity classes, which you didn't show us. So assuming classes like this (annotations omitted):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    private long id;\n    private Collection&lt;B&gt; entityBs;\n}\n\npublic class B {\n    private long id;\n    private Collection&lt;C&gt; entityCs;\n}\n\npublic class C {\n    private long id;\n}\n</code></pre>\n<p>The repository method would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface EntityARepository extends JPARepository&lt;A, long&gt; {\n    Collection&lt;A&gt; findByEntityBsEntityCsIdIn(long[] ids);\n}\n</code></pre>\n<p>The return type of the repo method can be other types, <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-return-types\" rel=\"nofollow noreferrer\">as documented here</a>, depending on how you want the results returned.</p>\n"}],"owner":{"account_id":8256521,"reputation":133,"user_id":6209532,"display_name":"Sotiris Oik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":881,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1674484287,"creation_date":1674479655,"question_id":75210044,"body_markdown":"I have 3 entities in my Project. Entity A (eA) has an One-to-Many relationship with Entity B (eB) and eB has an One-to-Many relationship with Entity C (eC). I have fetch = eager in all of them.\r\n\r\nI want to get eA with eB and eC nested but i want to get specific entries from eC. I have created a simple query like this\r\n\r\n```\r\nSELECT eA.* from eA\r\nINNER JOIN eB on eA.eB_id = eB.id\r\nINNER JOIN eC on eB.eC_id = eC.id\r\nWHERE eC.id IN (1,2,3)\r\n```\r\n\r\nIt actually seems to work when I run this directly in the database but when I create function in my repository with this query it returns all data from eB and eC and the right ones based on the WHERE clause.\r\n\r\nI have tried switching fetch to lazy but with no luck.\r\n\r\nDo you have any idea how I can achieve this?\r\n\r\nThanks!","title":"Spring boot JPA filter data based on relation","body":"<p>I have 3 entities in my Project. Entity A (eA) has an One-to-Many relationship with Entity B (eB) and eB has an One-to-Many relationship with Entity C (eC). I have fetch = eager in all of them.</p>\n<p>I want to get eA with eB and eC nested but i want to get specific entries from eC. I have created a simple query like this</p>\n<pre><code>SELECT eA.* from eA\nINNER JOIN eB on eA.eB_id = eB.id\nINNER JOIN eC on eB.eC_id = eC.id\nWHERE eC.id IN (1,2,3)\n</code></pre>\n<p>It actually seems to work when I run this directly in the database but when I create function in my repository with this query it returns all data from eB and eC and the right ones based on the WHERE clause.</p>\n<p>I have tried switching fetch to lazy but with no luck.</p>\n<p>Do you have any idea how I can achieve this?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","swagger-ui"],"owner":{"account_id":6838304,"reputation":55,"user_id":5259478,"display_name":"Mark Vilkel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674484146,"creation_date":1674484146,"question_id":75210907,"body_markdown":"I have Spring Boot RESTful application:\r\n\r\n    &lt;parent&gt;\r\n\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n  \t    &lt;version&gt;2.7.7&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\nAll client requests are signed with HAWK:\r\n\r\n\t&lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.wealdtech.hawk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hawk-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\nAlso I&#39;ve enabled swagger-ui with:\r\n\r\n\t&lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.9&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nIs it possible somehow to execute hawk signed rest methods on that swagger-ui?\r\nI&#39;ve tried to use\r\n\r\n    @SecurityScheme(type = SecuritySchemeType.APIKEY, name = &quot;api_key&quot;, in = SecuritySchemeIn.HEADER)\r\n\r\nBut it has no HAWK.","title":"How to execute HAWK signed REST methods using Springdoc Open API swagger UI?","body":"<p>I have Spring Boot RESTful application:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.7&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>All client requests are signed with HAWK:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.wealdtech.hawk&lt;/groupId&gt;\n    &lt;artifactId&gt;hawk-core&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also I've enabled swagger-ui with:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Is it possible somehow to execute hawk signed rest methods on that swagger-ui?\nI've tried to use</p>\n<pre><code>@SecurityScheme(type = SecuritySchemeType.APIKEY, name = &quot;api_key&quot;, in = SecuritySchemeIn.HEADER)\n</code></pre>\n<p>But it has no HAWK.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1674486209,"post_id":75210169,"comment_id":132718413,"body_markdown":"The simple answer is because Kotlin is awesome.","body":"The simple answer is because Kotlin is awesome."}],"answers":[{"tags":[],"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674482059,"creation_date":1674482059,"answer_id":75210500,"question_id":75210169,"body_markdown":"I believe mutability plays an important part. The java example doesn&#39;t work because `List`s are mutable, as in, you are able to add new elements to it. If it allowed the assignment and you would add a `Note` to `notes` you run into the problem that `favouriteNotes` would contain a non-`FavouriteNote` since it refers to the same list.\r\n\r\nKotlin&#39;s `emptyList` and `listOf` returns non-mutable lists. It allows the assignment because you can&#39;t add anything to `notes` anyway. Notice that if you change `notes`&#39;s declaration as\r\n\r\n    var notes = mutableListOf&lt;Note&gt;()\r\n\r\n\r\nyou will run in the same compiler error as in Java","title":"Why is one able to assign a list of child type to a list of its superclass type, in Kotlin?","body":"<p>I believe mutability plays an important part. The java example doesn't work because <code>List</code>s are mutable, as in, you are able to add new elements to it. If it allowed the assignment and you would add a <code>Note</code> to <code>notes</code> you run into the problem that <code>favouriteNotes</code> would contain a non-<code>FavouriteNote</code> since it refers to the same list.</p>\n<p>Kotlin's <code>emptyList</code> and <code>listOf</code> returns non-mutable lists. It allows the assignment because you can't add anything to <code>notes</code> anyway. Notice that if you change <code>notes</code>'s declaration as</p>\n<pre><code>var notes = mutableListOf&lt;Note&gt;()\n</code></pre>\n<p>you will run in the same compiler error as in Java</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674484102,"creation_date":1674482792,"answer_id":75210632,"question_id":75210169,"body_markdown":"For the following examples, let&#39;s introduce one more class to use:\r\n\r\n```java\r\nclass ShortNote extends Note {\r\n    public ShortNote(String name) {\r\n        super(name);\r\n    }\r\n}\r\n```\r\nThe biggest difference between Kotlin and Java generics is that Kotlin introduces *declaration site* variance for classes and interfaces. Java only has *use site* variance for classes and interfaces.\r\n\r\nThe variance of variable in Java can only be declared at the use site. If you don&#39;t specifically declare a List to be covariant, it is invariant:\r\n\r\n```java\r\nList&lt;Note&gt; notes = new ArrayList&lt;Note&gt;();\r\nList&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\r\nnotes = favouriteNotes; // error\r\n```\r\n\r\nThis is the type system preventing you from making a mistake. Suppose the above code didn&#39;t throw an error. Then this could happen:\r\n\r\n```java\r\nList&lt;Note&gt; notes = new ArrayList&lt;Note&gt;();\r\nList&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\r\nnotes = favouriteNotes; // Invalid code, but pretend compiler allows it.\r\nnotes.add(new ShortNote(&quot;Hello&quot;)); // Permitted, a List&lt;Note&gt; is a Note consumer and\r\n                                   // a ShortNote is a Note.\r\nFavouriteNote aFavouriteNote = favouriteNotes.get(0); // ClassCastException!\r\n```\r\n\r\nIncidentally, Kotlin&#39;s MutableList does not make use of declaration site variance, so you would have the exact same restriction:\r\n\r\n```kotlin\r\nvar notes: MutableList&lt;Note&gt; = ArrayList&lt;Note&gt;()\r\nvar favouriteNotes: MutableList&lt;FavoriteNote&gt; = ArrayList&lt;FavoriteNote&gt;()\r\nnotes = favouriteNotes // error\r\n```\r\n\r\nHowever, you can use use-site variance to make the cast possible. We can declare the list to be covariant at the use site:\r\n\r\n```java\r\n//Java\r\nList&lt;? extends Note&gt; notes = new ArrayList&lt;Note&gt;();\r\nList&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\r\nnotes = favouriteNotes; // OK\r\n```\r\n\r\n```kotlin\r\n//Kotlin\r\nvar notes: MutableList&lt;out Note&gt; = ArrayList&lt;Note&gt;()\r\nvar favouriteNotes: MutableList&lt;out FavoriteNote&gt; = ArrayList&lt;FavoriteNote&gt;()\r\nnotes = favouriteNotes// OK\r\n```\r\nYou are protected from the ClassCastException situation above because the compiler prevents you from adding items to a covariant list.\r\n\r\n----\r\n\r\nNow getting to declaration site variance. Kotlin declares the read-only List interface&#39;s type to be `&lt;out T&gt;` right in the definition of the interface. This means all Lists are automatically assumed to be covariant, even if you don&#39;t bother to declare it to be covariant at the use site.\r\n\r\nIf you declare variance at a class or interface&#39;s declaration site, the compiler will restrict you from making functions or properties that violate that variance. The read-only List interface doesn&#39;t have any `add` functions, so it is fine for it to be a `T` producer and not consumer.","title":"Why is one able to assign a list of child type to a list of its superclass type, in Kotlin?","body":"<p>For the following examples, let's introduce one more class to use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ShortNote extends Note {\n    public ShortNote(String name) {\n        super(name);\n    }\n}\n</code></pre>\n<p>The biggest difference between Kotlin and Java generics is that Kotlin introduces <em>declaration site</em> variance for classes and interfaces. Java only has <em>use site</em> variance for classes and interfaces.</p>\n<p>The variance of variable in Java can only be declared at the use site. If you don't specifically declare a List to be covariant, it is invariant:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Note&gt; notes = new ArrayList&lt;Note&gt;();\nList&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\nnotes = favouriteNotes; // error\n</code></pre>\n<p>This is the type system preventing you from making a mistake. Suppose the above code didn't throw an error. Then this could happen:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Note&gt; notes = new ArrayList&lt;Note&gt;();\nList&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\nnotes = favouriteNotes; // Invalid code, but pretend compiler allows it.\nnotes.add(new ShortNote(&quot;Hello&quot;)); // Permitted, a List&lt;Note&gt; is a Note consumer and\n                                   // a ShortNote is a Note.\nFavouriteNote aFavouriteNote = favouriteNotes.get(0); // ClassCastException!\n</code></pre>\n<p>Incidentally, Kotlin's MutableList does not make use of declaration site variance, so you would have the exact same restriction:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var notes: MutableList&lt;Note&gt; = ArrayList&lt;Note&gt;()\nvar favouriteNotes: MutableList&lt;FavoriteNote&gt; = ArrayList&lt;FavoriteNote&gt;()\nnotes = favouriteNotes // error\n</code></pre>\n<p>However, you can use use-site variance to make the cast possible. We can declare the list to be covariant at the use site:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Java\nList&lt;? extends Note&gt; notes = new ArrayList&lt;Note&gt;();\nList&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\nnotes = favouriteNotes; // OK\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>//Kotlin\nvar notes: MutableList&lt;out Note&gt; = ArrayList&lt;Note&gt;()\nvar favouriteNotes: MutableList&lt;out FavoriteNote&gt; = ArrayList&lt;FavoriteNote&gt;()\nnotes = favouriteNotes// OK\n</code></pre>\n<p>You are protected from the ClassCastException situation above because the compiler prevents you from adding items to a covariant list.</p>\n<hr />\n<p>Now getting to declaration site variance. Kotlin declares the read-only List interface's type to be <code>&lt;out T&gt;</code> right in the definition of the interface. This means all Lists are automatically assumed to be covariant, even if you don't bother to declare it to be covariant at the use site.</p>\n<p>If you declare variance at a class or interface's declaration site, the compiler will restrict you from making functions or properties that violate that variance. The read-only List interface doesn't have any <code>add</code> functions, so it is fine for it to be a <code>T</code> producer and not consumer.</p>\n"}],"owner":{"account_id":23842063,"reputation":646,"user_id":17846993,"display_name":"bighugedev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75210632,"answer_count":2,"score":3,"last_activity_date":1674484102,"creation_date":1674480342,"question_id":75210169,"body_markdown":"I have read topics on Generics and Wildcards in Kotlin and also their differences compared with Java, I have tried to search online, but I couldn&#39;t find the answer to this question nor make sure if anyone has asked it.\r\n\r\nI&#39;ve got the class `Note` and the class `FavouriteNote`, derived from the class `Note`. I&#39;ve also got an array list with type parameter `Note` and an array list with type parameter `FavouriteNote`. I&#39;m trying to assign `List&lt;FavouriteNote&gt;` to `List&lt;Note&gt;`, which of course won&#39;t work in Java.\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;Note&gt; notes = new ArrayList&lt;Note&gt;();\r\n        List&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\r\n\r\n        notes = favouriteNotes; // this won&#39;t compile\r\n    }\r\n}\r\n\r\n\r\nclass Note {\r\n    public final String name;\r\n\r\n    public Note(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n\r\nclass FavouriteNote extends Note {\r\n    public FavouriteNote(String name) {\r\n        super(name);\r\n    }\r\n}\r\n```\r\n\r\nIn Kotlin, though, I am free to assign `List&lt;FavouriteNote&gt;` to `List&lt;Note&gt;`:\r\n```kotlin\r\nfun main() {\r\n    var notes = emptyList&lt;Note&gt;()\r\n    val favouriteNotes = emptyList&lt;FavouriteNote&gt;()\r\n\r\n    notes = favouriteNotes // compiles and runs successfully\r\n}\r\n\r\nopen class Note(val name: String)\r\n\r\nclass FavouriteNote(name: String) : Note(name)\r\n```\r\nWhy is that or what can I read to learn more about how this works in Kotlin and what is happening under the hood?","title":"Why is one able to assign a list of child type to a list of its superclass type, in Kotlin?","body":"<p>I have read topics on Generics and Wildcards in Kotlin and also their differences compared with Java, I have tried to search online, but I couldn't find the answer to this question nor make sure if anyone has asked it.</p>\n<p>I've got the class <code>Note</code> and the class <code>FavouriteNote</code>, derived from the class <code>Note</code>. I've also got an array list with type parameter <code>Note</code> and an array list with type parameter <code>FavouriteNote</code>. I'm trying to assign <code>List&lt;FavouriteNote&gt;</code> to <code>List&lt;Note&gt;</code>, which of course won't work in Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        List&lt;Note&gt; notes = new ArrayList&lt;Note&gt;();\n        List&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\n\n        notes = favouriteNotes; // this won't compile\n    }\n}\n\n\nclass Note {\n    public final String name;\n\n    public Note(String name) {\n        this.name = name;\n    }\n}\n\nclass FavouriteNote extends Note {\n    public FavouriteNote(String name) {\n        super(name);\n    }\n}\n</code></pre>\n<p>In Kotlin, though, I am free to assign <code>List&lt;FavouriteNote&gt;</code> to <code>List&lt;Note&gt;</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n    var notes = emptyList&lt;Note&gt;()\n    val favouriteNotes = emptyList&lt;FavouriteNote&gt;()\n\n    notes = favouriteNotes // compiles and runs successfully\n}\n\nopen class Note(val name: String)\n\nclass FavouriteNote(name: String) : Note(name)\n</code></pre>\n<p>Why is that or what can I read to learn more about how this works in Kotlin and what is happening under the hood?</p>\n"},{"tags":["java","git","jenkins","exception","bitbucket"],"comments":[{"owner":{"account_id":1307867,"reputation":457735,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1655263531,"post_id":72618126,"comment_id":128288669,"body_markdown":"The `git.exe rev-list --no-walk ccf77e05e663dac6e1e32d2614ead22962da557b` should have produced a simple single revision number (the same result you&#39;d get from `git rev-parse ccf77e05e663dac6e1e32d2614ead22962da557b^{commit}`, probably `ccf77e05e663dac6e1e32d2614ead22962da557b`). That should be perfectly readable. The exception you got suggests that the Java reader encountered, instead, some malformed Unicode. How that could happen, I have no idea. Well, almost:","body":"The <code>git.exe rev-list --no-walk ccf77e05e663dac6e1e32d2614ead22962da557b</code> should have produced a simple single revision number (the same result you&#39;d get from <code>git rev-parse ccf77e05e663dac6e1e32d2614ead22962da557b^{commit}</code>, probably <code>ccf77e05e663dac6e1e32d2614ead22962da557b</code>). That should be perfectly readable. The exception you got suggests that the Java reader encountered, instead, some malformed Unicode. How that could happen, I have no idea. Well, almost:"},{"owner":{"account_id":1307867,"reputation":457735,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1655263695,"post_id":72618126,"comment_id":128288698,"body_markdown":"Here&#39;s one possibility: the Git part works perfectly. The revision contains a `Jenkinsfile`. This Jenkinsfile itself is, or somehow builds to, malformed non-Unicode text, which then trips up the code that&#39;s attempting to *write* some file (the stack trace shows that Jenkins is trying to write a file). So examine the raw bytes of any Jenkinsfile in the commit you find by running `git rev-parse` (or `git rev-list --no-walk`) on that hash ID.","body":"Here&#39;s one possibility: the Git part works perfectly. The revision contains a <code>Jenkinsfile</code>. This Jenkinsfile itself is, or somehow builds to, malformed non-Unicode text, which then trips up the code that&#39;s attempting to <i>write</i> some file (the stack trace shows that Jenkins is trying to write a file). So examine the raw bytes of any Jenkinsfile in the commit you find by running <code>git rev-parse</code> (or <code>git rev-list --no-walk</code>) on that hash ID."},{"owner":{"account_id":25553819,"reputation":1,"user_id":19337739,"display_name":"Genis Bonet Garcia"},"score":0,"creation_date":1655730776,"post_id":72618126,"comment_id":128394014,"body_markdown":"Thanks for the response @torek. I did not add a Jenkinsfile to my repository, would it be created automatically by the pipeline? Otherwise I&#39;m pretty sure that coulsn&#39;t be the problem, unless Jenkins is trying to read an unexistent Jenkinsfile.","body":"Thanks for the response @torek. I did not add a Jenkinsfile to my repository, would it be created automatically by the pipeline? Otherwise I&#39;m pretty sure that coulsn&#39;t be the problem, unless Jenkins is trying to read an unexistent Jenkinsfile."},{"owner":{"account_id":1307867,"reputation":457735,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1655790392,"post_id":72618126,"comment_id":128408194,"body_markdown":"I don&#39;t really know. I&#39;m not a Jenkins expert (and I think the idea is fine but the implementation is awful). The stack trace, though, definitely indicates that Jenkins is *writing* something, and blows up with a character-set exception.","body":"I don&#39;t really know. I&#39;m not a Jenkins expert (and I think the idea is fine but the implementation is awful). The stack trace, though, definitely indicates that Jenkins is <i>writing</i> something, and blows up with a character-set exception."}],"answers":[{"tags":[],"owner":{"account_id":25843173,"reputation":1,"user_id":19578431,"display_name":"Razerfs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661671217,"creation_date":1661262423,"answer_id":73459913,"question_id":72618126,"body_markdown":"I solved the problem by setting the language for non-Unicode programs:\r\nIn Start -&gt; Settings -&gt; Time &amp; Language -&gt; Language -&gt; Administrative language settings. Administrative tab.\r\n\r\nScreenshot here\r\n\r\n![1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CMOAL.png","title":"Jenkins java.nio.charset.UnmappableCharacterException: Input length = 1","body":"<p>I solved the problem by setting the language for non-Unicode programs:\nIn Start -&gt; Settings -&gt; Time &amp; Language -&gt; Language -&gt; Administrative language settings. Administrative tab.</p>\n<p>Screenshot here</p>\n<p><img src=\"https://i.stack.imgur.com/CMOAL.png\" alt=\"1\" /></p>\n"},{"comments":[{"owner":{"account_id":12211993,"reputation":343,"user_id":8913512,"display_name":"howardButcher"},"score":0,"creation_date":1674478976,"post_id":73725765,"comment_id":132715744,"body_markdown":"Saved my day. &lt;3","body":"Saved my day. &lt;3"}],"tags":[],"owner":{"account_id":26341182,"reputation":41,"user_id":20000255,"display_name":"Chatri Ngambenchawong"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663217377,"creation_date":1663217377,"answer_id":73725765,"question_id":72618126,"body_markdown":"If you run Jenkins on windows. I solved the problem by \r\n\r\n 1. add System Environment Variable\r\n    - KEY JAVA_TOOL_OPTIONS\r\n    - VALUE -Dfile.encoding=UTF8\r\n 2. restart system \r\n 3. test build\r\n\r\nBecause on Jenkins 2.361.1 (LTS). It read jenkinsfile by using system default Encoding (Windows = x-windows-874)","title":"Jenkins java.nio.charset.UnmappableCharacterException: Input length = 1","body":"<p>If you run Jenkins on windows. I solved the problem by</p>\n<ol>\n<li>add System Environment Variable\n<ul>\n<li>KEY JAVA_TOOL_OPTIONS</li>\n<li>VALUE -Dfile.encoding=UTF8</li>\n</ul>\n</li>\n<li>restart system</li>\n<li>test build</li>\n</ol>\n<p>Because on Jenkins 2.361.1 (LTS). It read jenkinsfile by using system default Encoding (Windows = x-windows-874)</p>\n"},{"tags":[],"owner":{"account_id":12211993,"reputation":343,"user_id":8913512,"display_name":"howardButcher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674483854,"creation_date":1674483854,"answer_id":75210848,"question_id":72618126,"body_markdown":"Add `-Dfile.encoding=UTF-8` to your `jenkins.xml`\r\nExample:\r\n\r\n    &lt;arguments&gt;-Xrs -Xss4096k -Xmx2048m -XX:MaxPermSize=512m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -Dfile.encoding=UTF-8&lt;/arguments&gt;","title":"Jenkins java.nio.charset.UnmappableCharacterException: Input length = 1","body":"<p>Add <code>-Dfile.encoding=UTF-8</code> to your <code>jenkins.xml</code>\nExample:</p>\n<pre><code>&lt;arguments&gt;-Xrs -Xss4096k -Xmx2048m -XX:MaxPermSize=512m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -Dfile.encoding=UTF-8&lt;/arguments&gt;\n</code></pre>\n"}],"owner":{"account_id":25553819,"reputation":1,"user_id":19337739,"display_name":"Genis Bonet Garcia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1674483854,"creation_date":1655214439,"question_id":72618126,"body_markdown":"I am working on a Jenkins application and pipeline to test and deploy Apex Code from a Bitbucket repository to Salesforce. So far I&#39;ve managed to communicate my repository with my Jenkins environment. My Jenkins instance is running on Windows 10 in my company laptop, and I&#39;ve reached the final steps in this guide:\r\nhttps://medium.com/@r.kurchenko/setup-continuous-integration-based-on-salesforcedx-c9f461c4db03\r\n\r\nThe problem I&#39;m trying to deal with right now is that on a push to my repository, although the pipeline starts it doesn&#39;t even get to the build step and gives me the following error message:\r\n\r\n```\r\nStarted by an SCM change\r\nStarted by an SCM change\r\nRunning as SYSTEM\r\nBuilding in workspace C:\\JenkinsHome\\workspace\\sfdx-ci-force-push-build\r\nThe recommended git tool is: NONE\r\nNo credentials specified\r\n &gt; git.exe rev-parse --resolve-git-dir C:\\JenkinsHome\\workspace\\sfdx-ci-force-push-build\\.git # timeout=10\r\nFetching changes from the remote Git repository\r\n &gt; git.exe config remote.origin.url {repositoryURL} # timeout=10\r\nFetching upstream changes from {repositoryURL}\r\n &gt; git.exe --version # timeout=10\r\n &gt; git --version # &#39;git version 2.35.1.windows.2&#39;\r\n &gt; git.exe fetch --tags --force --progress -- {repositoryURL} +refs/heads/*:refs/remotes/origin/* # timeout=10\r\n &gt; git.exe rev-parse &quot;refs/remotes/origin/master^{commit}&quot; # timeout=10\r\nChecking out Revision ee36df199b17d11bd7a8a020239dab1abafc5e6e (refs/remotes/origin/master)\r\n &gt; git.exe config core.sparsecheckout # timeout=10\r\n &gt; git.exe checkout -f ee36df199b17d11bd7a8a020239dab1abafc5e6e # timeout=10\r\nCommit message: &quot;Changes&quot;\r\n &gt; git.exe rev-list --no-walk ccf77e05e663dac6e1e32d2614ead22962da557b # timeout=10\r\nFATAL: Unable to produce a script file\r\njava.nio.charset.UnmappableCharacterException: Input length = 1\r\n\tat java.base/java.nio.charset.CoderResult.throwException(CoderResult.java:275)\r\n\tat java.base/sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:306)\r\n\tat java.base/sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:281)\r\n\tat java.base/sun.nio.cs.StreamEncoder.write(StreamEncoder.java:125)\r\n\tat java.base/java.io.OutputStreamWriter.write(OutputStreamWriter.java:208)\r\n\tat java.base/java.io.BufferedWriter.flushBuffer(BufferedWriter.java:120)\r\n\tat java.base/java.io.BufferedWriter.close(BufferedWriter.java:268)\r\n\tat hudson.FilePath$CreateTextTempFile.invoke(FilePath.java:1660)\r\n\tat hudson.FilePath$CreateTextTempFile.invoke(FilePath.java:1630)\r\n\tat hudson.FilePath.act(FilePath.java:1200)\r\n\tat hudson.FilePath.act(FilePath.java:1183)\r\n\tat hudson.FilePath.createTextTempFile(FilePath.java:1624)\r\nCaused: java.io.IOException: Failed to create a temp file on C:\\JenkinsHome\\workspace\\sfdx-ci-force-push-build\r\n\tat hudson.FilePath.createTextTempFile(FilePath.java:1626)\r\n\tat hudson.tasks.CommandInterpreter.createScriptFile(CommandInterpreter.java:202)\r\n\tat hudson.tasks.CommandInterpreter.perform(CommandInterpreter.java:120)\r\n\tat hudson.tasks.CommandInterpreter.perform(CommandInterpreter.java:92)\r\n\tat hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:814)\r\n\tat hudson.model.Build$BuildExecution.build(Build.java:199)\r\n\tat hudson.model.Build$BuildExecution.doRun(Build.java:164)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:522)\r\n\tat hudson.model.Run.execute(Run.java:1896)\r\n\tat hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:44)\r\n\tat hudson.model.ResourceController.execute(ResourceController.java:101)\r\n\tat hudson.model.Executor.run(Executor.java:442)\r\nBuild step &#39;Execute shell&#39; marked build as failure\r\nFinished: FAILURE\r\n```\r\n\r\nInitially, I thought it might be a permission error, as I am not the laptop&#39;s administrator, and the home directory of my Jenkins Instance was inside my user files, but after changing the directory to somewhere else I still get the same error. I figured it might be the ```java.nio.charset.UnmappableCharacterException: Input length = 1``` exception but, after researching it thoroughly, I cannot figure out where in Jenkins&#39; pull operation this is executed and whether there is a way for me to solve it.\r\n\r\nI would greatly appreciate any leads or information on what could be causing this issue.","title":"Jenkins java.nio.charset.UnmappableCharacterException: Input length = 1","body":"<p>I am working on a Jenkins application and pipeline to test and deploy Apex Code from a Bitbucket repository to Salesforce. So far I've managed to communicate my repository with my Jenkins environment. My Jenkins instance is running on Windows 10 in my company laptop, and I've reached the final steps in this guide:\n<a href=\"https://medium.com/@r.kurchenko/setup-continuous-integration-based-on-salesforcedx-c9f461c4db03\" rel=\"nofollow noreferrer\">https://medium.com/@r.kurchenko/setup-continuous-integration-based-on-salesforcedx-c9f461c4db03</a></p>\n<p>The problem I'm trying to deal with right now is that on a push to my repository, although the pipeline starts it doesn't even get to the build step and gives me the following error message:</p>\n<pre><code>Started by an SCM change\nStarted by an SCM change\nRunning as SYSTEM\nBuilding in workspace C:\\JenkinsHome\\workspace\\sfdx-ci-force-push-build\nThe recommended git tool is: NONE\nNo credentials specified\n &gt; git.exe rev-parse --resolve-git-dir C:\\JenkinsHome\\workspace\\sfdx-ci-force-push-build\\.git # timeout=10\nFetching changes from the remote Git repository\n &gt; git.exe config remote.origin.url {repositoryURL} # timeout=10\nFetching upstream changes from {repositoryURL}\n &gt; git.exe --version # timeout=10\n &gt; git --version # 'git version 2.35.1.windows.2'\n &gt; git.exe fetch --tags --force --progress -- {repositoryURL} +refs/heads/*:refs/remotes/origin/* # timeout=10\n &gt; git.exe rev-parse &quot;refs/remotes/origin/master^{commit}&quot; # timeout=10\nChecking out Revision ee36df199b17d11bd7a8a020239dab1abafc5e6e (refs/remotes/origin/master)\n &gt; git.exe config core.sparsecheckout # timeout=10\n &gt; git.exe checkout -f ee36df199b17d11bd7a8a020239dab1abafc5e6e # timeout=10\nCommit message: &quot;Changes&quot;\n &gt; git.exe rev-list --no-walk ccf77e05e663dac6e1e32d2614ead22962da557b # timeout=10\nFATAL: Unable to produce a script file\njava.nio.charset.UnmappableCharacterException: Input length = 1\n    at java.base/java.nio.charset.CoderResult.throwException(CoderResult.java:275)\n    at java.base/sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:306)\n    at java.base/sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:281)\n    at java.base/sun.nio.cs.StreamEncoder.write(StreamEncoder.java:125)\n    at java.base/java.io.OutputStreamWriter.write(OutputStreamWriter.java:208)\n    at java.base/java.io.BufferedWriter.flushBuffer(BufferedWriter.java:120)\n    at java.base/java.io.BufferedWriter.close(BufferedWriter.java:268)\n    at hudson.FilePath$CreateTextTempFile.invoke(FilePath.java:1660)\n    at hudson.FilePath$CreateTextTempFile.invoke(FilePath.java:1630)\n    at hudson.FilePath.act(FilePath.java:1200)\n    at hudson.FilePath.act(FilePath.java:1183)\n    at hudson.FilePath.createTextTempFile(FilePath.java:1624)\nCaused: java.io.IOException: Failed to create a temp file on C:\\JenkinsHome\\workspace\\sfdx-ci-force-push-build\n    at hudson.FilePath.createTextTempFile(FilePath.java:1626)\n    at hudson.tasks.CommandInterpreter.createScriptFile(CommandInterpreter.java:202)\n    at hudson.tasks.CommandInterpreter.perform(CommandInterpreter.java:120)\n    at hudson.tasks.CommandInterpreter.perform(CommandInterpreter.java:92)\n    at hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:814)\n    at hudson.model.Build$BuildExecution.build(Build.java:199)\n    at hudson.model.Build$BuildExecution.doRun(Build.java:164)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:522)\n    at hudson.model.Run.execute(Run.java:1896)\n    at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:44)\n    at hudson.model.ResourceController.execute(ResourceController.java:101)\n    at hudson.model.Executor.run(Executor.java:442)\nBuild step 'Execute shell' marked build as failure\nFinished: FAILURE\n</code></pre>\n<p>Initially, I thought it might be a permission error, as I am not the laptop's administrator, and the home directory of my Jenkins Instance was inside my user files, but after changing the directory to somewhere else I still get the same error. I figured it might be the <code>java.nio.charset.UnmappableCharacterException: Input length = 1</code> exception but, after researching it thoroughly, I cannot figure out where in Jenkins' pull operation this is executed and whether there is a way for me to solve it.</p>\n<p>I would greatly appreciate any leads or information on what could be causing this issue.</p>\n"},{"tags":["java","postgresql","jooq"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1674480372,"post_id":75210096,"comment_id":132716263,"body_markdown":"The exact SQL statement is an implementation detail of the library - it can and will change. What is the problem exactly?","body":"The exact SQL statement is an implementation detail of the library - it can and will change. What is the problem exactly?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674480641,"post_id":75210096,"comment_id":132716353,"body_markdown":"Please ask only one question per question, and asking for off-site resources like release notes or documents summarizing changes across versions are off-topic as well.","body":"Please ask only one question per question, and asking for off-site resources like release notes or documents summarizing changes across versions are off-topic as well."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1674480815,"post_id":75210096,"comment_id":132716410,"body_markdown":"Also, the `FETCH` clause is part of the PostgreSQL syntax, so it is unclear what problem you&#39;re trying to solve, other than that apparently you don&#39;t like change(?).","body":"Also, the <code>FETCH</code> clause is part of the PostgreSQL syntax, so it is unclear what problem you&#39;re trying to solve, other than that apparently you don&#39;t like change(?)."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1674481561,"post_id":75210096,"comment_id":132716666,"body_markdown":"`FETCH NEXT 10 ROWS ONLY` will do exactly the same thing as `LIMIT 10` - what exactly is the problem you are encountering?","body":"<code>FETCH NEXT 10 ROWS ONLY</code> will do exactly the same thing as <code>LIMIT 10</code> - what exactly is the problem you are encountering?"},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1674482152,"post_id":75210096,"comment_id":132716877,"body_markdown":"&quot;*Is there any documentation link which summarizes all changes*&quot; - this is typically covered in the [release notes](https://www.jooq.org/notes)","body":"&quot;<i>Is there any documentation link which summarizes all changes</i>&quot; - this is typically covered in the <a href=\"https://www.jooq.org/notes\" rel=\"nofollow noreferrer\">release notes</a>"}],"answers":[{"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1674487691,"post_id":75210840,"comment_id":132718948,"body_markdown":"`FETCH FIRST` was introduced in Postgres 8.4 - it would be really bad if that version was still in production.","body":"<code>FETCH FIRST</code> was introduced in Postgres 8.4 - it would be really bad if that version was still in production."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1674488645,"post_id":75210840,"comment_id":132719309,"body_markdown":"@a_horse_with_no_name: Probably not actually PostgreSQL: https://docs.aws.amazon.com/redshift/latest/dg/r_SELECT_synopsis.html","body":"@a_horse_with_no_name: Probably not actually PostgreSQL: <a href=\"https://docs.aws.amazon.com/redshift/latest/dg/r_SELECT_synopsis.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/redshift/latest/dg/r_SELECT_synopsis.htm&zwnj;&#8203;l</a>"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1674490822,"post_id":75210840,"comment_id":132720060,"body_markdown":"Well, if tuk is really using Redshift, the question should have been tagged with that, not with Postgres","body":"Well, if tuk is really using Redshift, the question should have been tagged with that, not with Postgres"},{"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"score":1,"creation_date":1674492649,"post_id":75210840,"comment_id":132720658,"body_markdown":"I am using JOOQ open-source version which supports Postgres 14. Postgres version is older than 14 in a few of our services. So was trying to understand if there is a way I can get a list of all SQL changes (like the LIMIT one) and if there is a way I can generate a sql code compatible with a previous version of Jooq. As suggested I will upgrade the postgres to 14 in all services and then upgrade jooq to 17. Thanks Lukas and @a_horse_with_no_name for replying.","body":"I am using JOOQ open-source version which supports Postgres 14. Postgres version is older than 14 in a few of our services. So was trying to understand if there is a way I can get a list of all SQL changes (like the LIMIT one) and if there is a way I can generate a sql code compatible with a previous version of Jooq. As suggested I will upgrade the postgres to 14 in all services and then upgrade jooq to 17. Thanks Lukas and @a_horse_with_no_name for replying."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674483816,"creation_date":1674483816,"answer_id":75210840,"question_id":75210096,"body_markdown":"### Older PostgreSQL version support\r\n\r\nYou might be using an older version of PostgreSQL that didn&#39;t support the standard SQL `FETCH` clause yet? Please refer to the [support matrix][1] to see which jOOQ version (and edition) supports which PostgreSQL version. The commercial editions still support a lot of old PostgreSQL versions.\r\n\r\n### Your specific questions:\r\n\r\n&gt; If there are any settings in jooq codegen (version 3.17.5) which will allow me to have the generated SQL same as in 3.14.6?\r\n\r\nNo, there&#39;s no configuration for this particular syntax, other than the `SQLDialect`, which is integration tested against every supported PostgreSQL version.\r\n\r\n&gt; Is there any documentation link which summarizes all changes in generated SQL across Jooq versions from 3.14.6 to 3.175?\r\n\r\nYes, the [release notes][2] or the [issue tracker][3]. This particular change was probably introduced in jOOQ 3.15 with PostgreSQL 13 support:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/10645\r\n\r\nIn particular, the native PostgreSQL `FETCH FIRST .. WITH TIES` support probably triggered this change.\r\n\r\n### Possible solutions:\r\n\r\n- You can stick with jOOQ 3.14.x, where the jOOQ Open Source Edition (assuming you&#39;re using that) did yet support PostgreSQL 13 and this syntax\r\n- You can upgrade to a commercial jOOQ edition, which still supports PostgreSQL 12 and less\r\n- You can upgrade PostgreSQL to something more recent\r\n- You can patch the generated SQL string with a regex in an [`ExecuteListener`][4]: Search `FETCH NEXT (\\?|\\d+) ROWS ONLY` and replace by `LIMIT $1`. Note that while it&#39;s `OFFSET .. FETCH`, it&#39;s `LIMIT .. OFFSET`, so if you want to use this approach, beware of having to invert the order of the bind values as well. This is more of a hack, of course, the other options are much better.\r\n\r\n\r\n  [1]: https://www.jooq.org/download/support-matrix\r\n  [2]: https://www.jooq.org/notes\r\n  [3]: https://github.com/jOOQ/jOOQ/issues\r\n  [4]: https://www.jooq.org/doc/latest/manual/sql-execution/execute-listeners/","title":"Change in LIMIT clause while upgrading jooq from 3.14.6 to 3.17.5","body":"<h3>Older PostgreSQL version support</h3>\n<p>You might be using an older version of PostgreSQL that didn't support the standard SQL <code>FETCH</code> clause yet? Please refer to the <a href=\"https://www.jooq.org/download/support-matrix\" rel=\"nofollow noreferrer\">support matrix</a> to see which jOOQ version (and edition) supports which PostgreSQL version. The commercial editions still support a lot of old PostgreSQL versions.</p>\n<h3>Your specific questions:</h3>\n<blockquote>\n<p>If there are any settings in jooq codegen (version 3.17.5) which will allow me to have the generated SQL same as in 3.14.6?</p>\n</blockquote>\n<p>No, there's no configuration for this particular syntax, other than the <code>SQLDialect</code>, which is integration tested against every supported PostgreSQL version.</p>\n<blockquote>\n<p>Is there any documentation link which summarizes all changes in generated SQL across Jooq versions from 3.14.6 to 3.175?</p>\n</blockquote>\n<p>Yes, the <a href=\"https://www.jooq.org/notes\" rel=\"nofollow noreferrer\">release notes</a> or the <a href=\"https://github.com/jOOQ/jOOQ/issues\" rel=\"nofollow noreferrer\">issue tracker</a>. This particular change was probably introduced in jOOQ 3.15 with PostgreSQL 13 support:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/10645\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/10645</a></li>\n</ul>\n<p>In particular, the native PostgreSQL <code>FETCH FIRST .. WITH TIES</code> support probably triggered this change.</p>\n<h3>Possible solutions:</h3>\n<ul>\n<li>You can stick with jOOQ 3.14.x, where the jOOQ Open Source Edition (assuming you're using that) did yet support PostgreSQL 13 and this syntax</li>\n<li>You can upgrade to a commercial jOOQ edition, which still supports PostgreSQL 12 and less</li>\n<li>You can upgrade PostgreSQL to something more recent</li>\n<li>You can patch the generated SQL string with a regex in an <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/execute-listeners/\" rel=\"nofollow noreferrer\"><code>ExecuteListener</code></a>: Search <code>FETCH NEXT (\\?|\\d+) ROWS ONLY</code> and replace by <code>LIMIT $1</code>. Note that while it's <code>OFFSET .. FETCH</code>, it's <code>LIMIT .. OFFSET</code>, so if you want to use this approach, beware of having to invert the order of the bind values as well. This is more of a hack, of course, the other options are much better.</li>\n</ul>\n"}],"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75210840,"answer_count":1,"score":2,"last_activity_date":1674483816,"creation_date":1674479979,"question_id":75210096,"body_markdown":"I am trying to upgrade JOOQ from 3.14.6 to 3.17.5. I am observing that generated SQL across two versions are different\r\n\r\nJooq 3.14.6\r\n\r\n    SELECT \r\n      public.payment.request_id \r\n    FROM \r\n      payment \r\n    WHERE \r\n      payment.status_expire_at &lt; cast(\r\n        &#39;2007-12-03 10:15:30+00:00&#39; as timestamp(6) with time zone\r\n      )\r\n    ) \r\n    order by \r\n      public.payment.status_expire_at ASC LIMIT 10;\r\n\r\nIn Jooq 3.17.5\r\n\r\n    SELECT \r\n      public.payment.request_id \r\n    FROM \r\n      payment \r\n    WHERE \r\n      payment.status_expire_at &lt; cast(\r\n        &#39;2007-12-03 10:15:30+00:00&#39; as timestamp(6) with time zone\r\n      )\r\n    ) \r\n    order by \r\n      public.payment.status_expire_at ASC FETCH NEXT 10 ROWS ONLY;\r\n\r\nCan someone let me know \r\n\r\n 1. If there are any settings in jooq codegen (version 3.17.5) which will allow me to have the generated SQL same as in 3.14.6?\r\n 2. Is there any documentation link which summarizes all changes in generated SQL across Jooq versions from 3.14.6 to 3.175?\r\n\r\nDB - Postgres ","title":"Change in LIMIT clause while upgrading jooq from 3.14.6 to 3.17.5","body":"<p>I am trying to upgrade JOOQ from 3.14.6 to 3.17.5. I am observing that generated SQL across two versions are different</p>\n<p>Jooq 3.14.6</p>\n<pre><code>SELECT \n  public.payment.request_id \nFROM \n  payment \nWHERE \n  payment.status_expire_at &lt; cast(\n    '2007-12-03 10:15:30+00:00' as timestamp(6) with time zone\n  )\n) \norder by \n  public.payment.status_expire_at ASC LIMIT 10;\n</code></pre>\n<p>In Jooq 3.17.5</p>\n<pre><code>SELECT \n  public.payment.request_id \nFROM \n  payment \nWHERE \n  payment.status_expire_at &lt; cast(\n    '2007-12-03 10:15:30+00:00' as timestamp(6) with time zone\n  )\n) \norder by \n  public.payment.status_expire_at ASC FETCH NEXT 10 ROWS ONLY;\n</code></pre>\n<p>Can someone let me know</p>\n<ol>\n<li>If there are any settings in jooq codegen (version 3.17.5) which will allow me to have the generated SQL same as in 3.14.6?</li>\n<li>Is there any documentation link which summarizes all changes in generated SQL across Jooq versions from 3.14.6 to 3.175?</li>\n</ol>\n<p>DB - Postgres</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":4,"creation_date":1603570189,"post_id":64517537,"comment_id":114081386,"body_markdown":"Yes, you are using primitive that&#39;s why you are getting 0. You can use Integer then you will get null when you don&#39;t send the node. And you can use @NotNull to validate the field. And use `@Valid` on `@RequestBody` A good article about validation [here](https://www.baeldung.com/spring-boot-bean-validation)","body":"Yes, you are using primitive that&#39;s why you are getting 0. You can use Integer then you will get null when you don&#39;t send the node. And you can use @NotNull to validate the field. And use <code>@Valid</code> on <code>@RequestBody</code> A good article about validation <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1603570754,"post_id":64517537,"comment_id":114081486,"body_markdown":"May I ask if it is possible to achieve the same keeping the type int, not Integer?","body":"May I ask if it is possible to achieve the same keeping the type int, not Integer?"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1603570999,"post_id":64517537,"comment_id":114081545,"body_markdown":"Yes you can use `@Min(1)` and use `@Valid` on `@RequestBody`. Read [here](https://www.baeldung.com/javax-validation) for details","body":"Yes you can use <code>@Min(1)</code> and use <code>@Valid</code> on <code>@RequestBody</code>. Read <a href=\"https://www.baeldung.com/javax-validation\" rel=\"nofollow noreferrer\">here</a> for details"},{"owner":{"account_id":2466481,"reputation":2619,"user_id":2149453,"display_name":"Himeshgiri gosvami"},"score":0,"creation_date":1604061130,"post_id":64517537,"comment_id":114238849,"body_markdown":"https://reflectoring.io/bean-validation-with-spring-boot/","body":"<a href=\"https://reflectoring.io/bean-validation-with-spring-boot/\" rel=\"nofollow noreferrer\">reflectoring.io/bean-validation-with-spring-boot</a>"}],"answers":[{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1603570774,"post_id":64517618,"comment_id":114081492,"body_markdown":"May I ask if it is possible to achieve the same keeping the type int, not Integer? (upvote for the post)","body":"May I ask if it is possible to achieve the same keeping the type int, not Integer? (upvote for the post)"},{"owner":{"account_id":3922427,"reputation":508,"user_id":3249603,"display_name":"Łukasz Monkiewicz"},"score":0,"creation_date":1603571130,"post_id":64517618,"comment_id":114081576,"body_markdown":"You may configure Jackson in such a way, that it will throw DeserializationException when it will try to deserialize `null` (missing field) into `int` using `DeserializationFeature`: `FAIL_ON_NULL_FOR_PRIMITIVES`\nhttps://fasterxml.github.io/jackson-databind/javadoc/2.4/index.html?com/fasterxml/jackson/databind/DeserializationFeature.html","body":"You may configure Jackson in such a way, that it will throw DeserializationException when it will try to deserialize <code>null</code> (missing field) into <code>int</code> using <code>DeserializationFeature</code>: <code>FAIL_ON_NULL_FOR_PRIMITIVES</code> <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.4/index.html?com/fasterxml/jackson/databind/DeserializationFeature.html\" rel=\"nofollow noreferrer\">fasterxml.github.io/jackson-databind/javadoc/2.4/index.html?&zwnj;&#8203;com/&hellip;</a>"},{"owner":{"account_id":4910770,"reputation":906,"user_id":3988992,"accept_rate":65,"display_name":"RBz"},"score":0,"creation_date":1620009676,"post_id":64517618,"comment_id":119066871,"body_markdown":"@ŁukaszMonkiewicz Link is broken","body":"@ŁukaszMonkiewicz Link is broken"},{"owner":{"account_id":3922427,"reputation":508,"user_id":3249603,"display_name":"Łukasz Monkiewicz"},"score":0,"creation_date":1620105928,"post_id":64517618,"comment_id":119095334,"body_markdown":"@RBz Try this: https://lmonkiewicz.medium.com/the-power-of-spring-rest-api-validation-77be83edef","body":"@RBz Try this: <a href=\"https://lmonkiewicz.medium.com/the-power-of-spring-rest-api-validation-77be83edef\" rel=\"nofollow noreferrer\">lmonkiewicz.medium.com/&hellip;</a>"},{"owner":{"account_id":16305411,"reputation":455,"user_id":11775515,"display_name":"Prashant Joshi"},"score":10,"creation_date":1640851919,"post_id":64517618,"comment_id":124674012,"body_markdown":"You also need to add these as dependency to use `@Valid` , `@NotNull` etc .                                                      `&lt;dependency&gt; \n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; \n&lt;/dependency&gt;`","body":"You also need to add these as dependency to use <code>@Valid</code> , <code>@NotNull</code> etc .                                                      <code>&lt;dependency&gt;          &lt;groupId&gt;org.springframework.boot&lt;&#47;groupId&gt;          &lt;artifactId&gt;spring-boot-starter-validation&lt;&#47;artifactId&gt;  &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":5748288,"reputation":75,"user_id":4538858,"display_name":"David A&#241;ez"},"score":0,"creation_date":1686515498,"post_id":64517618,"comment_id":134805411,"body_markdown":"Just wanted to say that thanks for reminding me that @Valid does not work on primitives. I expect at least 1 hour wondering my validation wasn&#39;t working. In my defense, I stopped coding Java/SpringBoot for about 4 years","body":"Just wanted to say that thanks for reminding me that @Valid does not work on primitives. I expect at least 1 hour wondering my validation wasn&#39;t working. In my defense, I stopped coding Java/SpringBoot for about 4 years"}],"tags":[],"owner":{"account_id":3922427,"reputation":508,"user_id":3249603,"display_name":"Łukasz Monkiewicz"},"comment_count":6,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1620286803,"creation_date":1603570489,"answer_id":64517618,"question_id":64517537,"body_markdown":"Add @NotNull annotation on a field (you may need to change type to Integer), and add @Valid annotation on the method parameter of the controller.\r\n\r\n    Mono&lt;String&gt; question(@Valid @RequestBody Foo foo) {\r\n        ...\r\n    }\r\n\r\n```\r\npublic class Foo {\r\n\r\n    @NotNull\r\n    private Integer important;\r\n    private String something;\r\n\r\n//constructors, getter, seters, toString\r\n}\r\n```\r\n\r\n\r\nYou can find more information here: https://lmonkiewicz.medium.com/the-power-of-spring-rest-api-validation-77be83edef","title":"Springboot - validate @RequestBody","body":"<p>Add @NotNull annotation on a field (you may need to change type to Integer), and add @Valid annotation on the method parameter of the controller.</p>\n<pre><code>Mono&lt;String&gt; question(@Valid @RequestBody Foo foo) {\n    ...\n}\n</code></pre>\n<pre><code>public class Foo {\n\n    @NotNull\n    private Integer important;\n    private String something;\n\n//constructors, getter, seters, toString\n}\n</code></pre>\n<p>You can find more information here: <a href=\"https://lmonkiewicz.medium.com/the-power-of-spring-rest-api-validation-77be83edef\" rel=\"noreferrer\">https://lmonkiewicz.medium.com/the-power-of-spring-rest-api-validation-77be83edef</a></p>\n"},{"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1674483575,"creation_date":1603572792,"answer_id":64517912,"question_id":64517537,"body_markdown":"The already provided [answer][1] addresses the question.\r\n\r\nHowever I would like to elaborate on one thing that you asked.\r\n\r\nHow to fail on this\r\n    `&quot;importantWithTypo&quot;: 42,`\r\n\r\n2 aspects to it. \r\n\r\n1. you want to return a 4XX if a required field is not present (this can be achieved by the already given answer) -- `@NonNull`/`@NonEmpty` in conjunction with `@Validate` annotation\r\n2. You want to error out on presence of an unknown field `importantWithTypo`. This can be achieved by jackson&#39;s `fail_on_unknown_properties` property. (May be default is `fail_on_unknown_properties = enabled`, I haven&#39;t checked so not sure).\r\n\r\n**Don&#39;t** do this 2nd thing. This will make your 2 services tightly coupled. By doing this `fail_on_unknown_properties = enabled`, you are forfeiting the opportunity to enhance the consumer/caller service in a nonbreaking manner. Then, if you are introducing a new attribute in the entity, you will have to coordinate both the apps releases in such a manner that consumer release will be held until producer/provider makes it. Same goes for rollback, this time in reverse order.\r\n\r\n  [1]: https://stackoverflow.com/a/64517618/6785908\r\n","title":"Springboot - validate @RequestBody","body":"<p>The already provided <a href=\"https://stackoverflow.com/a/64517618/6785908\">answer</a> addresses the question.</p>\n<p>However I would like to elaborate on one thing that you asked.</p>\n<p>How to fail on this\n<code>&quot;importantWithTypo&quot;: 42,</code></p>\n<p>2 aspects to it.</p>\n<ol>\n<li>you want to return a 4XX if a required field is not present (this can be achieved by the already given answer) -- <code>@NonNull</code>/<code>@NonEmpty</code> in conjunction with <code>@Validate</code> annotation</li>\n<li>You want to error out on presence of an unknown field <code>importantWithTypo</code>. This can be achieved by jackson's <code>fail_on_unknown_properties</code> property. (May be default is <code>fail_on_unknown_properties = enabled</code>, I haven't checked so not sure).</li>\n</ol>\n<p><strong>Don't</strong> do this 2nd thing. This will make your 2 services tightly coupled. By doing this <code>fail_on_unknown_properties = enabled</code>, you are forfeiting the opportunity to enhance the consumer/caller service in a nonbreaking manner. Then, if you are introducing a new attribute in the entity, you will have to coordinate both the apps releases in such a manner that consumer release will be held until producer/provider makes it. Same goes for rollback, this time in reverse order.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67665,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":64517618,"answer_count":2,"score":31,"last_activity_date":1674483575,"creation_date":1603569859,"question_id":64517537,"body_markdown":"Question: It is possible to validate the JSON payload of a request body, without specifically writing if statements? Maybe via annotation or configuration?\r\n\r\nI have a very easy POJO:\r\n```\r\npublic class Foo {\r\n\r\n    private int important;\r\n    private String something;\r\n\r\n//constructors, getter, seters, toString\r\n}\r\n```\r\n\r\nAnd a very easy controller class:\r\n```\r\n@SpringBootApplication\r\n@RestController\r\npublic class QuestionController {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(QuestionController.class, args);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/question&quot;)\r\n    Mono&lt;String&gt; question(@RequestBody Foo foo) {\r\n        System.out.println(&quot;The object foo, with value for important = &quot; + foo.getImportant() + &quot; and something = &quot; + foo.getSomething());\r\n\t    return Mono.just(&quot;question&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf I query with a payload such as:\r\n```\r\n{\r\n    &quot;important&quot;: 42,\r\n    &quot;something&quot;: &quot;value&quot;\r\n}\r\n```\r\n\r\nEverything is working perfectly fine, very happy.\r\n\r\nHowever, if there is a typo: (note the typo on &quot;important&quot;)\r\n\r\n```\r\n{\r\n    &quot;importantWithTypo&quot;: 42,\r\n    &quot;something&quot;: &quot;value&quot;\r\n}\r\n```\r\n\r\nOr the required &quot;important&quot; is absent (note the JSON is not even complete)\r\n\r\n```\r\n{\r\n    &quot;something&quot;: &quot;value&quot;\r\n}\r\n```\r\n\r\nThe request and computation are still valid! And the value of &quot;important&quot; is 0!\r\n\r\nI do not want Spring to default to 0 and to thinks everything is fine.\r\n\r\nI also do not want to change my types from primitives to boxed object.\r\n\r\nWithout me writing something like:\r\n\r\n```\r\n @GetMapping(value = &quot;/question&quot;)\r\n    Mono&lt;String&gt; question(@RequestBody Foo foo) {\r\n        if (0 == foo.getImportant()) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        System.out.println(&quot;The object foo, with value for important = &quot; + foo.getImportant() + &quot; and something = &quot; + foo.getSomething());\r\n\t    return Mono.just(&quot;question&quot;);\r\n    }\r\n```\r\n\r\nWhat is the most efficient way to resolve this? Some kind of annotation? Or maybe Spring boot configuration?\r\n\r\nThank you","title":"Springboot - validate @RequestBody","body":"<p>Question: It is possible to validate the JSON payload of a request body, without specifically writing if statements? Maybe via annotation or configuration?</p>\n<p>I have a very easy POJO:</p>\n<pre><code>public class Foo {\n\n    private int important;\n    private String something;\n\n//constructors, getter, seters, toString\n}\n</code></pre>\n<p>And a very easy controller class:</p>\n<pre><code>@SpringBootApplication\n@RestController\npublic class QuestionController {\n\n    public static void main(String[] args) {\n        SpringApplication.run(QuestionController.class, args);\n    }\n\n    @GetMapping(value = &quot;/question&quot;)\n    Mono&lt;String&gt; question(@RequestBody Foo foo) {\n        System.out.println(&quot;The object foo, with value for important = &quot; + foo.getImportant() + &quot; and something = &quot; + foo.getSomething());\n        return Mono.just(&quot;question&quot;);\n    }\n\n}\n</code></pre>\n<p>If I query with a payload such as:</p>\n<pre><code>{\n    &quot;important&quot;: 42,\n    &quot;something&quot;: &quot;value&quot;\n}\n</code></pre>\n<p>Everything is working perfectly fine, very happy.</p>\n<p>However, if there is a typo: (note the typo on &quot;important&quot;)</p>\n<pre><code>{\n    &quot;importantWithTypo&quot;: 42,\n    &quot;something&quot;: &quot;value&quot;\n}\n</code></pre>\n<p>Or the required &quot;important&quot; is absent (note the JSON is not even complete)</p>\n<pre><code>{\n    &quot;something&quot;: &quot;value&quot;\n}\n</code></pre>\n<p>The request and computation are still valid! And the value of &quot;important&quot; is 0!</p>\n<p>I do not want Spring to default to 0 and to thinks everything is fine.</p>\n<p>I also do not want to change my types from primitives to boxed object.</p>\n<p>Without me writing something like:</p>\n<pre><code> @GetMapping(value = &quot;/question&quot;)\n    Mono&lt;String&gt; question(@RequestBody Foo foo) {\n        if (0 == foo.getImportant()) {\n            throw new IllegalArgumentException();\n        }\n        System.out.println(&quot;The object foo, with value for important = &quot; + foo.getImportant() + &quot; and something = &quot; + foo.getSomething());\n        return Mono.just(&quot;question&quot;);\n    }\n</code></pre>\n<p>What is the most efficient way to resolve this? Some kind of annotation? Or maybe Spring boot configuration?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-el","spring-expression-language"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674472453,"post_id":75208677,"comment_id":132713758,"body_markdown":"*I tried this one but got wrong expression.* Please share the exact message","body":"<i>I tried this one but got wrong expression.</i> Please share the exact message"},{"owner":{"account_id":6362842,"reputation":97,"user_id":4937792,"display_name":"Anas Altarazi"},"score":0,"creation_date":1674472554,"post_id":75208677,"comment_id":132713783,"body_markdown":"sorry, I will update the question","body":"sorry, I will update the question"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1674472676,"post_id":75208677,"comment_id":132713821,"body_markdown":"By the way, that errors means you&#39;re not sharing the full expression. Please include a [example].","body":"By the way, that errors means you&#39;re not sharing the full expression. Please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":6362842,"reputation":97,"user_id":4937792,"display_name":"Anas Altarazi"},"score":0,"creation_date":1674472746,"post_id":75208677,"comment_id":132713842,"body_markdown":"I shared the full unit test function","body":"I shared the full unit test function"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1674473464,"post_id":75208677,"comment_id":132714071,"body_markdown":"I&#39;m not familiar with spring-el, but are you absolutely positive it supports method references? Because I can&#39;t find anything about them in the documentation, and the text of the error implies it doesn&#39;t like `Integer::sum`.","body":"I&#39;m not familiar with spring-el, but are you absolutely positive it supports method references? Because I can&#39;t find anything about them in the documentation, and the text of the error implies it doesn&#39;t like <code>Integer::sum</code>."},{"owner":{"account_id":6362842,"reputation":97,"user_id":4937792,"display_name":"Anas Altarazi"},"score":0,"creation_date":1674473576,"post_id":75208677,"comment_id":132714099,"body_markdown":"@FedericoklezCulloca this is my question\nwhat should I do to sum this numbers","body":"@FedericoklezCulloca this is my question what should I do to sum this numbers"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1674482859,"post_id":75208677,"comment_id":132717114,"body_markdown":"SpEL stands for Spring Expression **LANGUAGE**. It is not Java; no lambdas, or method references are supported.","body":"SpEL stands for Spring Expression <b>LANGUAGE</b>. It is not Java; no lambdas, or method references are supported."}],"answers":[{"comments":[{"owner":{"account_id":6362842,"reputation":97,"user_id":4937792,"display_name":"Anas Altarazi"},"score":0,"creation_date":1674483414,"post_id":75210646,"comment_id":132717303,"body_markdown":"thanks for your answer, but the requirement said we need to do it without any additional methods. do you have any trick to do it ?","body":"thanks for your answer, but the requirement said we need to do it without any additional methods. do you have any trick to do it ?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1674484747,"post_id":75210646,"comment_id":132717855,"body_markdown":"No, there is no way to do that. The SpEL was designed mostly for simple properties access and it is significantly slow because it uses a reflection to call all those methods. What you trying to do (no additional methods) is an abuse of SpEL capabilities. Consider to use a scripting feature in Spring Integration instead: https://docs.spring.io/spring-integration/reference/html/scripting.html#scripting","body":"No, there is no way to do that. The SpEL was designed mostly for simple properties access and it is significantly slow because it uses a reflection to call all those methods. What you trying to do (no additional methods) is an abuse of SpEL capabilities. Consider to use a scripting feature in Spring Integration instead: <a href=\"https://docs.spring.io/spring-integration/reference/html/scripting.html#scripting\" rel=\"nofollow noreferrer\">docs.spring.io/spring-integration/reference/html/&hellip;</a>"}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674482866,"creation_date":1674482866,"answer_id":75210646,"question_id":75208677,"body_markdown":"SpEL stands for Spring Expression **LANGUAGE**. It is not Java; no lambdas, or method references are supported.\r\n\r\nYou can, however, register lambdas as SpEL functions; see https://stackoverflow.com/questions/48840190/spring-expression-language-java-8-foreach-or-stream-on-list/48842973#48842973","title":"java Spel with stream API","body":"<p>SpEL stands for Spring Expression <strong>LANGUAGE</strong>. It is not Java; no lambdas, or method references are supported.</p>\n<p>You can, however, register lambdas as SpEL functions; see <a href=\"https://stackoverflow.com/questions/48840190/spring-expression-language-java-8-foreach-or-stream-on-list/48842973#48842973\">Spring Expression Language - Java 8 forEach or stream on list</a></p>\n"}],"owner":{"account_id":6362842,"reputation":97,"user_id":4937792,"display_name":"Anas Altarazi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674482866,"creation_date":1674472296,"question_id":75208677,"body_markdown":"I have this string `1|1|1|1` and I want to sum the numbers inside spel statement.\r\nI tried this one but got wrong expression.\r\n\r\n    T(java.util.Arrays).stream(SERVICE_CLASS.split(&#39;|&#39;)).reduce(Integer::sum)\r\n\r\nthe log : \r\n\r\n    org.springframework.expression.spel.SpelParseException: Expression [new Object[] {T(java.util.Arrays).stream(SERVICE_CLASS.split(&#39;|&#39;)).reduce(Integer::sum)}] @81: EL1043E: Unexpected token. Expected &#39;rparen())&#39; but was &#39;colon(:)&#39;\r\n\r\nthe full code : \r\n\r\n     @Test fun `test sum values`() {\r\n        val cont = ScriptingContext.default();\r\n\r\n        val contextrecord: Map&lt;String, String&gt; = mapOf(\r\n            &quot;value&quot; to &quot;1|1|1|1&quot;\r\n        )\r\n\r\n\r\n        val context = cont.getEvalContext()\r\n        context.setRootObject(contextrecord)\r\n        val value = cont.parser.parseExpression(&quot;new Object[] {T(java.util.Arrays).stream(value.split(&#39;|&#39;)).reduce(Integer::sum)}&quot;).getValue(context) as Array&lt;Object&gt;\r\n        println(value.toString())\r\n        assertEquals(value[0], &quot;4&quot;)\r\n    }\r\n\r\nany suggest to do it ?","title":"java Spel with stream API","body":"<p>I have this string <code>1|1|1|1</code> and I want to sum the numbers inside spel statement.\nI tried this one but got wrong expression.</p>\n<pre><code>T(java.util.Arrays).stream(SERVICE_CLASS.split('|')).reduce(Integer::sum)\n</code></pre>\n<p>the log :</p>\n<pre><code>org.springframework.expression.spel.SpelParseException: Expression [new Object[] {T(java.util.Arrays).stream(SERVICE_CLASS.split('|')).reduce(Integer::sum)}] @81: EL1043E: Unexpected token. Expected 'rparen())' but was 'colon(:)'\n</code></pre>\n<p>the full code :</p>\n<pre><code> @Test fun `test sum values`() {\n    val cont = ScriptingContext.default();\n\n    val contextrecord: Map&lt;String, String&gt; = mapOf(\n        &quot;value&quot; to &quot;1|1|1|1&quot;\n    )\n\n\n    val context = cont.getEvalContext()\n    context.setRootObject(contextrecord)\n    val value = cont.parser.parseExpression(&quot;new Object[] {T(java.util.Arrays).stream(value.split('|')).reduce(Integer::sum)}&quot;).getValue(context) as Array&lt;Object&gt;\n    println(value.toString())\n    assertEquals(value[0], &quot;4&quot;)\n}\n</code></pre>\n<p>any suggest to do it ?</p>\n"},{"tags":["java","redis","tibco","tibco-business-works"],"answers":[{"tags":[],"owner":{"account_id":21563659,"reputation":46,"user_id":15897824,"display_name":"Allen Terleto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674482834,"creation_date":1674482834,"answer_id":75210638,"question_id":75204633,"body_markdown":"The easiest path to Redis integration via JDBC is through Redis SQL - https://github.com/redis-field-engineering/redis-sql-trino\r\n\r\n&gt; Redis SQL Trino lets lets you easily integrate with visualization\r\n&gt; frameworks — like Tableau and SuperSet — and platforms that support\r\n&gt; JDBC-compatible databases (e.g., Mulesoft). Query support includes\r\n&gt; SELECT statements across secondary indexes on both Redis hashes &amp;\r\n&gt; JSON, aggregations (e.g., count, min, max, avg), ordering, and more.\r\n\r\nHowever, if you want to build your own integration then [TIBCO ActiveMatrix BusinessWorks™ Plug-in Development Kit (PDK)][1] could be the way.\r\n\r\n\r\n  [1]: https://docs.tibco.com/products/tibco-activematrix-businessworks-plug-in-development-kit-6-3-1","title":"Connect to Redis using TIBCO BusinessWorks 5","body":"<p>The easiest path to Redis integration via JDBC is through Redis SQL - <a href=\"https://github.com/redis-field-engineering/redis-sql-trino\" rel=\"nofollow noreferrer\">https://github.com/redis-field-engineering/redis-sql-trino</a></p>\n<blockquote>\n<p>Redis SQL Trino lets lets you easily integrate with visualization\nframeworks — like Tableau and SuperSet — and platforms that support\nJDBC-compatible databases (e.g., Mulesoft). Query support includes\nSELECT statements across secondary indexes on both Redis hashes &amp;\nJSON, aggregations (e.g., count, min, max, avg), ordering, and more.</p>\n</blockquote>\n<p>However, if you want to build your own integration then <a href=\"https://docs.tibco.com/products/tibco-activematrix-businessworks-plug-in-development-kit-6-3-1\" rel=\"nofollow noreferrer\">TIBCO ActiveMatrix BusinessWorks™ Plug-in Development Kit (PDK)</a> could be the way.</p>\n"}],"owner":{"account_id":7686451,"reputation":33,"user_id":5824057,"display_name":"NotMoftah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75210638,"answer_count":1,"score":0,"last_activity_date":1674482834,"creation_date":1674430095,"question_id":75204633,"body_markdown":"I wanna connect to a Redis Cluster via TIBCO BW5, So far I&#39;ve no idea where to start!\r\n\r\nIs there a way to connect via JDBC or should I write my own custom Java code?\r\n\r\n\r\nSo far I haven&#39;t tried anything yet.","title":"Connect to Redis using TIBCO BusinessWorks 5","body":"<p>I wanna connect to a Redis Cluster via TIBCO BW5, So far I've no idea where to start!</p>\n<p>Is there a way to connect via JDBC or should I write my own custom Java code?</p>\n<p>So far I haven't tried anything yet.</p>\n"},{"tags":["java","spring","keystore","client-certificates","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1674564698,"post_id":75179903,"comment_id":132736641,"body_markdown":"It looks like you are creating a client manager without the key entry. You added a certificate entry to the in memory keystores which in this case only contains the certificate entry aka  as trusted certificate. The key/identity is missing. You should add a key entry with a private key and certificate chain to your in memory keystores to get it working","body":"It looks like you are creating a client manager without the key entry. You added a certificate entry to the in memory keystores which in this case only contains the certificate entry aka  as trusted certificate. The key/identity is missing. You should add a key entry with a private key and certificate chain to your in memory keystores to get it working"}],"owner":{"account_id":55837,"reputation":3854,"user_id":167304,"accept_rate":33,"display_name":"Jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674482645,"creation_date":1674179336,"question_id":75179903,"body_markdown":"How can I include client certificate using latest HttpClient (httpclient5)?\r\n\r\nI&#39;m using hakky54 sslcontext with latest RestTemplate (rest framework 6.0.4) and HttpClient.  It throws exception when I create an in-mem keystore (same result with &quot;PKCS12&quot; and &quot;JKS&quot;) with just my certificate\r\n\r\n&gt; 500 Internal Server Error: &quot;{&quot;ErrorCode&quot;:&quot;APPAP330E&quot;,&quot;ErrorMsg&quot;:&quot;Failed to verify application authentication data: Could not obtain client certificate details.&quot;}&quot;\r\n\r\nSyntax in Kotlin:\r\n\r\n    val x509 : X509Certificate = getCertificateFromStore(...)\r\n    val restTemplate = RestTemplate()\r\n    val request = HttpComponentsClientHttpRequestFactory()\r\n    val httpClient : HttpClientBuilder = HttpClients.custom()\r\n    \r\n    val clientStore = KeyStore.getInstance(KeyStore.getDefaultType())\r\n    val clientManager = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm())\r\n    clientStore.load(null)\r\n    clientStore.setCertificateEntry(&quot;clientCert&quot;, x509 )\r\n    clientManager.init(clientStore, null)\r\n    \r\n    val sslFactory = SSLFactory.builder()\r\n            .withIdentityMaterial(clientManager)\r\n            .build()\r\n    val connectionManager : HttpClientConnectionManager = PoolingHttpClientConnectionManagerBuilder.create()\r\n            .setSSLSocketFactory(Apache5SslUtils.toSocketFactory(sslFactory))\r\n            .build()\r\n    httpClient.setConnectionManager(connectionManager)\r\n    \r\n    request.httpClient = httpClient.build()\r\n    restTemplate.requestFactory = request\r\n    ...\r\n    val response : ResponseEntity&lt;String&gt; = restTemplate.getForEntity(...)\r\n\r\nIn Windows if I replace keystore init with `val clientStore = KeyStore.getInstance(&quot;Windows-MY&quot;)` with just one client cert in the store it works fine\r\n\r\nI need the ability to pick a different cert that&#39;s in the store or use a cert that&#39;s not pre-installed\r\n\r\nAm I not configuring the keystore correctly?  How can I inject a client cert into a resttemplate request in the latest Spring Framework.  It seems the latest Spring Framework and httpclient5 are not compatible with all the samples I have found online that rely on httpclient4","title":"Spring RestTemplate with HttpClient Client Certificate","body":"<p>How can I include client certificate using latest HttpClient (httpclient5)?</p>\n<p>I'm using hakky54 sslcontext with latest RestTemplate (rest framework 6.0.4) and HttpClient.  It throws exception when I create an in-mem keystore (same result with &quot;PKCS12&quot; and &quot;JKS&quot;) with just my certificate</p>\n<blockquote>\n<p>500 Internal Server Error: &quot;{&quot;ErrorCode&quot;:&quot;APPAP330E&quot;,&quot;ErrorMsg&quot;:&quot;Failed to verify application authentication data: Could not obtain client certificate details.&quot;}&quot;</p>\n</blockquote>\n<p>Syntax in Kotlin:</p>\n<pre><code>val x509 : X509Certificate = getCertificateFromStore(...)\nval restTemplate = RestTemplate()\nval request = HttpComponentsClientHttpRequestFactory()\nval httpClient : HttpClientBuilder = HttpClients.custom()\n\nval clientStore = KeyStore.getInstance(KeyStore.getDefaultType())\nval clientManager = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm())\nclientStore.load(null)\nclientStore.setCertificateEntry(&quot;clientCert&quot;, x509 )\nclientManager.init(clientStore, null)\n\nval sslFactory = SSLFactory.builder()\n        .withIdentityMaterial(clientManager)\n        .build()\nval connectionManager : HttpClientConnectionManager = PoolingHttpClientConnectionManagerBuilder.create()\n        .setSSLSocketFactory(Apache5SslUtils.toSocketFactory(sslFactory))\n        .build()\nhttpClient.setConnectionManager(connectionManager)\n\nrequest.httpClient = httpClient.build()\nrestTemplate.requestFactory = request\n...\nval response : ResponseEntity&lt;String&gt; = restTemplate.getForEntity(...)\n</code></pre>\n<p>In Windows if I replace keystore init with <code>val clientStore = KeyStore.getInstance(&quot;Windows-MY&quot;)</code> with just one client cert in the store it works fine</p>\n<p>I need the ability to pick a different cert that's in the store or use a cert that's not pre-installed</p>\n<p>Am I not configuring the keystore correctly?  How can I inject a client cert into a resttemplate request in the latest Spring Framework.  It seems the latest Spring Framework and httpclient5 are not compatible with all the samples I have found online that rely on httpclient4</p>\n"},{"tags":["java","spring-boot","maven","build"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674480837,"post_id":75210226,"comment_id":132716420,"body_markdown":"The code was compiled with a newer Version of the jdk as it has at runtime","body":"The code was compiled with a newer Version of the jdk as it has at runtime"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1674498517,"post_id":75210226,"comment_id":132722368,"body_markdown":"Spring Boot 3.X requires JDK17+ simply...","body":"Spring Boot 3.X requires JDK17+ simply..."}],"answers":[{"tags":[],"owner":{"account_id":14889478,"reputation":124,"user_id":10751633,"display_name":"bosowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674481109,"creation_date":1674481109,"answer_id":75210308,"question_id":75210226,"body_markdown":"class file version 61.0 = Java 17. If you are trying to run the project via your IDE, it will be using an independant java version from what&#39;s configured for your terminal&#39;s classpath.\r\nThe tutorial mentiones Intellij, so I&#39;ll assume that&#39;s what you&#39;re using. Go into `File -&gt; Project Structure` and you will have your SDK and Language Level in there for that project, make sure they&#39;re the correct versions.","title":"Spring Boot application build failed","body":"<p>class file version 61.0 = Java 17. If you are trying to run the project via your IDE, it will be using an independant java version from what's configured for your terminal's classpath.\nThe tutorial mentiones Intellij, so I'll assume that's what you're using. Go into <code>File -&gt; Project Structure</code> and you will have your SDK and Language Level in there for that project, make sure they're the correct versions.</p>\n"},{"comments":[{"owner":{"account_id":18714472,"reputation":25,"user_id":13643838,"display_name":"Marian Nișcov"},"score":0,"creation_date":1674483916,"post_id":75210562,"comment_id":132717516,"body_markdown":"Yeah.. In the pom.xml file the java version is set to 17 &lt;java.version&gt;17&lt;/java.version&gt;..I updated the Java to Java 17, and the build was successful. It&#39;s strange because the repo said &quot;it should work just as well with Java 11 or newer&quot;..Thank you!","body":"Yeah.. In the pom.xml file the java version is set to 17 &lt;java.version&gt;17&lt;/java.version&gt;..I updated the Java to Java 17, and the build was successful. It&#39;s strange because the repo said &quot;it should work just as well with Java 11 or newer&quot;..Thank you!"}],"tags":[],"owner":{"account_id":3702936,"reputation":120,"user_id":3082137,"display_name":"Dev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674482411,"creation_date":1674482411,"answer_id":75210562,"question_id":75210226,"body_markdown":"Try Java 14 or above to handle this:\r\n\r\nJava SE 14 (or JDK 14) is the version that handles class files with a version number of 61.0","title":"Spring Boot application build failed","body":"<p>Try Java 14 or above to handle this:</p>\n<p>Java SE 14 (or JDK 14) is the version that handles class files with a version number of 61.0</p>\n"}],"owner":{"account_id":18714472,"reputation":25,"user_id":13643838,"display_name":"Marian Nișcov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":994,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75210562,"answer_count":2,"score":0,"last_activity_date":1674482411,"creation_date":1674480718,"question_id":75210226,"body_markdown":"I am trying to build locally this repository https://github.com/spring-projects/spring-petclinic\r\nI followed the steps from the repo but the build result looks like this:\r\n\r\n`[INFO] BUILD FAILURE`\r\n\r\n`[INFO] ------------------------------------------------------------------------`\r\n\r\n`[INFO] Total time:  6.757 s`\r\n\r\n`[INFO] Finished at: 2023-01-23T15:27:08+02:00`\r\n\r\n`[INFO] ------------------------------------------------------------------------`\r\n\r\n`[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.1:build-info (default) on project spring-petclinic: Execution default of goal org.springframework.boot:spring-boot-maven-plugin:3.0.1:build-info failed: Unable to load the mojo &#39;build-info&#39; in the plugin &#39;org.springframework.boot:spring-boot-maven-plugin:3.0.1&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: org/springframework/boot/maven/BuildInfoMojo has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0.`\r\n\r\nMy Java version is:\r\n\r\n`$ java -version`\r\n\r\n`openjdk version &quot;11.0.17&quot; 2022-10-18`\r\n\r\n`OpenJDK Runtime Environment (build 11.0.17+8-post-Ubuntu-1ubuntu218.04)`\r\n\r\n`OpenJDK 64-Bit Server VM (build 11.0.17+8-post-Ubuntu-1ubuntu218.04, mixed mode)`\r\n\r\nAnd Maven version is:\r\n\r\n`$ mvn -v`\r\n\r\n`Apache Maven 3.6.0`\r\n\r\n`Maven home: /usr/share/maven`\r\n\r\n`Java version: 11.0.17, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64`\r\n\r\n`Default locale: en, platform encoding: UTF-8`\r\n\r\n`OS name: &quot;linux&quot;, version: &quot;5.10.102.1-microsoft-standard-wsl2&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;`\r\n\r\nI tried to run the steps from the repo, but that didn&#39;t worked for me. ","title":"Spring Boot application build failed","body":"<p>I am trying to build locally this repository <a href=\"https://github.com/spring-projects/spring-petclinic\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-petclinic</a>\nI followed the steps from the repo but the build result looks like this:</p>\n<p><code>[INFO] BUILD FAILURE</code></p>\n<p><code>[INFO] ------------------------------------------------------------------------</code></p>\n<p><code>[INFO] Total time:  6.757 s</code></p>\n<p><code>[INFO] Finished at: 2023-01-23T15:27:08+02:00</code></p>\n<p><code>[INFO] ------------------------------------------------------------------------</code></p>\n<p><code>[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.1:build-info (default) on project spring-petclinic: Execution default of goal org.springframework.boot:spring-boot-maven-plugin:3.0.1:build-info failed: Unable to load the mojo 'build-info' in the plugin 'org.springframework.boot:spring-boot-maven-plugin:3.0.1' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: org/springframework/boot/maven/BuildInfoMojo has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0.</code></p>\n<p>My Java version is:</p>\n<p><code>$ java -version</code></p>\n<p><code>openjdk version &quot;11.0.17&quot; 2022-10-18</code></p>\n<p><code>OpenJDK Runtime Environment (build 11.0.17+8-post-Ubuntu-1ubuntu218.04)</code></p>\n<p><code>OpenJDK 64-Bit Server VM (build 11.0.17+8-post-Ubuntu-1ubuntu218.04, mixed mode)</code></p>\n<p>And Maven version is:</p>\n<p><code>$ mvn -v</code></p>\n<p><code>Apache Maven 3.6.0</code></p>\n<p><code>Maven home: /usr/share/maven</code></p>\n<p><code>Java version: 11.0.17, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64</code></p>\n<p><code>Default locale: en, platform encoding: UTF-8</code></p>\n<p><code>OS name: &quot;linux&quot;, version: &quot;5.10.102.1-microsoft-standard-wsl2&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;</code></p>\n<p>I tried to run the steps from the repo, but that didn't worked for me.</p>\n"},{"tags":["java","swing","window","custom-cursor"],"comments":[{"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"score":0,"creation_date":1674239822,"post_id":75188013,"comment_id":132679981,"body_markdown":"@PM77-1 I&#39;m new, and I started learning like 3 months ago, and switch apparently works in that way (above java 14) https://betterprogramming.pub/a-look-at-the-new-switch-expressions-in-java-14-ed209c802ba0 Anyway, in standard way, it won&#39;t work to...","body":"@PM77-1 I&#39;m new, and I started learning like 3 months ago, and switch apparently works in that way (above java 14) <a href=\"https://betterprogramming.pub/a-look-at-the-new-switch-expressions-in-java-14-ed209c802ba0\" rel=\"nofollow noreferrer\">betterprogramming.pub/&hellip;</a> Anyway, in standard way, it won&#39;t work to..."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1674240958,"post_id":75188013,"comment_id":132680296,"body_markdown":"You are right about the new switch syntax.","body":"You are right about the new switch syntax."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1674241050,"post_id":75188013,"comment_id":132680321,"body_markdown":"Please [edit] your question to explain what &quot;*won&#39;t work*&quot; means in your case. Any errors? Unexpected results?","body":"Please <a href=\"https://stackoverflow.com/posts/75188013/edit\">edit</a> your question to explain what &quot;<i>won&#39;t work</i>&quot; means in your case. Any errors? Unexpected results?"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1674244165,"post_id":75188013,"comment_id":132681102,"body_markdown":"How can you prove that the call to `updateCursor()` actually happened?","body":"How can you prove that the call to <code>updateCursor()</code> actually happened?"},{"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"score":0,"creation_date":1674244733,"post_id":75188013,"comment_id":132681222,"body_markdown":"@PM77-1 I tested it with `System.out.println();` - the method call and the switch works fine.","body":"@PM77-1 I tested it with <code>System.out.println();</code> - the method call and the switch works fine."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1674244869,"post_id":75188013,"comment_id":132681258,"body_markdown":"My last try: Have you by any chance declared `frame` in your other class?","body":"My last try: Have you by any chance declared <code>frame</code> in your other class?"},{"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"score":0,"creation_date":1674245254,"post_id":75188013,"comment_id":132681345,"body_markdown":"@PM77-1 No, only in `Window` class. I also added `frame.add(new Painter());` and `frame.addKeyListener(new InputManager());` to the code later, but I thing thats not a problem.","body":"@PM77-1 No, only in <code>Window</code> class. I also added <code>frame.add(new Painter());</code> and <code>frame.addKeyListener(new InputManager());</code> to the code later, but I thing thats not a problem."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674255991,"post_id":75188013,"comment_id":132683487,"body_markdown":"It’s possible that the cursor is defined only for the component it’s set on - so when you add a new component to the frame, it’s that component’s cursor which is been applied, not the frame - I’d consider either moving the logic to the top level component or researching the glassPane","body":"It’s possible that the cursor is defined only for the component it’s set on - so when you add a new component to the frame, it’s that component’s cursor which is been applied, not the frame - I’d consider either moving the logic to the top level component or researching the glassPane"},{"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"score":0,"creation_date":1674304385,"post_id":75188013,"comment_id":132688616,"body_markdown":"@MadProgrammer The problem is i can&#39;t update the cursor. It works, when I use `updateCursor` function for the first time. If I understood you correctly, it&#39;s not going to help. Or, can you give me a example? Sorry, I&#39;m new here... :)","body":"@MadProgrammer The problem is i can&#39;t update the cursor. It works, when I use <code>updateCursor</code> function for the first time. If I understood you correctly, it&#39;s not going to help. Or, can you give me a example? Sorry, I&#39;m new here... :)"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674335871,"post_id":75188013,"comment_id":132694298,"body_markdown":"I understand your problem, but, your updating the cursor for the `JFrame` component, but a `JFrame` is a compound component (there are a number of components on top of it), plus what ever you place on it - all of these components have their own &quot;cursor&quot; settings.  From the JavaDocs *&quot; This cursor image is displayed when the contains method for this component returns true for the current cursor location&quot;* - This would suggest that the component which the mouse is over is actually determining the cursor state","body":"I understand your problem, but, your updating the cursor for the <code>JFrame</code> component, but a <code>JFrame</code> is a compound component (there are a number of components on top of it), plus what ever you place on it - all of these components have their own &quot;cursor&quot; settings.  From the JavaDocs <i>&quot; This cursor image is displayed when the contains method for this component returns true for the current cursor location&quot;</i> - This would suggest that the component which the mouse is over is actually determining the cursor state"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674371648,"post_id":75188013,"comment_id":132697709,"body_markdown":"I stand corrected, after some testing, it doesn’t seem to matter, so long as the component is visible on the frame, which suggests that the issue is somewhere in the code you’re not sharing","body":"I stand corrected, after some testing, it doesn’t seem to matter, so long as the component is visible on the frame, which suggests that the issue is somewhere in the code you’re not sharing"},{"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"score":0,"creation_date":1674400843,"post_id":75188013,"comment_id":132702079,"body_markdown":"@MadProgrammer I updated the code. It may not be super clean, but like I said, I&#39;m new here, and I&#39;m learning java. By the way, I&#39;m starting to think, that maybe my it&#39;s something wrong with my computer...","body":"@MadProgrammer I updated the code. It may not be super clean, but like I said, I&#39;m new here, and I&#39;m learning java. By the way, I&#39;m starting to think, that maybe my it&#39;s something wrong with my computer..."}],"answers":[{"comments":[{"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"score":0,"creation_date":1674400975,"post_id":75192797,"comment_id":132702104,"body_markdown":"Your example works, but when I tried to implement it to my code, there is no result (default windows cursor). I even copied it to difrent project, and it still the same.","body":"Your example works, but when I tried to implement it to my code, there is no result (default windows cursor). I even copied it to difrent project, and it still the same."},{"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"score":0,"creation_date":1674426486,"post_id":75192797,"comment_id":132706696,"body_markdown":"I updated my answer. The problem is that in MainMenu.java, you create a new Window instance instead of using the existing instance.","body":"I updated my answer. The problem is that in MainMenu.java, you create a new Window instance instead of using the existing instance."}],"tags":[],"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674481954,"creation_date":1674298732,"answer_id":75192797,"question_id":75188013,"body_markdown":"You are creating a new instance of your Window class in your keyPressed(..) method, therefore your cursor update does not work:\r\n\r\n&gt;  new Window().updateCursor(Window.ACTIVE);\r\n\r\nYou need to pass your existing Window instance to your MainMenu class and call this instance.\r\n\r\n       \r\n\r\n\r\nHere&#39;s a working example:\r\n\r\n**Main App**:\r\n\r\n\tpublic class MyApp extends JFrame {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tMyApp app = new MyApp();\r\n\t\t\t\t\tapp.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tprivate MyApp() {\r\n\t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tsetSize(600, 600);\r\n\r\n\t\t\t// Create cursors\r\n\t\t\tCursor c1 = Util.getCursor(&quot;c1.png&quot;);\r\n\t\t\tCursor c2 = Util.getCursor(&quot;c2.png&quot;);\r\n\r\n\t\t\tsetCursor(c1);\r\n\r\n\t\t\tJButton button1 = new JButton(&quot;Change to Cursor1&quot;);\r\n\t\t\tbutton1.setActionCommand(&quot;c1&quot;);\r\n\t\t\tbutton1.addActionListener(new MyActionListener(this));\r\n\r\n\t\t\tJButton button2 = new JButton(&quot;Change to Cursor2&quot;);\r\n\t\t\tbutton2.setActionCommand(&quot;c2&quot;);\r\n\t\t\tbutton2.addActionListener(new MyActionListener(this));\r\n\r\n\t\t\tadd(button1, BorderLayout.NORTH);\r\n\t\t\tadd(button2, BorderLayout.SOUTH);\r\n\t\t}\r\n\r\n\t}\r\n\r\n**ActionListener** (handles the button clicks):\r\n\r\n\tpublic class MyActionListener implements ActionListener {\r\n\r\n\t\tprivate JFrame jFrame;\r\n\r\n\t\tpublic MyActionListener(JFrame jFrame) {\r\n\t\t\tthis.jFrame = jFrame;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tswitch (e.getActionCommand()){\r\n\t\t\t\tcase &quot;c1&quot;:\r\n\t\t\t\t\tjFrame.setCursor(Util.getCursor(&quot;c1.png&quot;));\r\n\t\t\t\t\tSystem.out.println(&quot;switch to c1&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;c2&quot;:\r\n\t\t\t\t\tjFrame.setCursor(Util.getCursor(&quot;c2.png&quot;));\r\n\t\t\t\t\tSystem.out.println(&quot;switch to c2&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n**Util** (read cursor image):\r\n\r\n\tpublic class Util {\r\n\t\tpublic static Cursor getCursor(String fileName) {\r\n\t\t\tBufferedImage img = null;\r\n\t\t\ttry {\r\n\t\t\t\timg = ImageIO.read(Util.class.getResourceAsStream(fileName));\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t\treturn Toolkit.getDefaultToolkit().createCustomCursor(img, new Point(0, 0), fileName);\r\n\t\t}\r\n\r\n\t}\r\n","title":"Updating custom cursor in java swing window","body":"<p>You are creating a new instance of your Window class in your keyPressed(..) method, therefore your cursor update does not work:</p>\n<blockquote>\n<p>new Window().updateCursor(Window.ACTIVE);</p>\n</blockquote>\n<p>You need to pass your existing Window instance to your MainMenu class and call this instance.</p>\n<p>Here's a working example:</p>\n<p><strong>Main App</strong>:</p>\n<pre><code>public class MyApp extends JFrame {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                MyApp app = new MyApp();\n                app.setVisible(true);\n            }\n        });\n    }\n\n    private MyApp() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(600, 600);\n\n        // Create cursors\n        Cursor c1 = Util.getCursor(&quot;c1.png&quot;);\n        Cursor c2 = Util.getCursor(&quot;c2.png&quot;);\n\n        setCursor(c1);\n\n        JButton button1 = new JButton(&quot;Change to Cursor1&quot;);\n        button1.setActionCommand(&quot;c1&quot;);\n        button1.addActionListener(new MyActionListener(this));\n\n        JButton button2 = new JButton(&quot;Change to Cursor2&quot;);\n        button2.setActionCommand(&quot;c2&quot;);\n        button2.addActionListener(new MyActionListener(this));\n\n        add(button1, BorderLayout.NORTH);\n        add(button2, BorderLayout.SOUTH);\n    }\n\n}\n</code></pre>\n<p><strong>ActionListener</strong> (handles the button clicks):</p>\n<pre><code>public class MyActionListener implements ActionListener {\n\n    private JFrame jFrame;\n\n    public MyActionListener(JFrame jFrame) {\n        this.jFrame = jFrame;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        switch (e.getActionCommand()){\n            case &quot;c1&quot;:\n                jFrame.setCursor(Util.getCursor(&quot;c1.png&quot;));\n                System.out.println(&quot;switch to c1&quot;);\n                break;\n            case &quot;c2&quot;:\n                jFrame.setCursor(Util.getCursor(&quot;c2.png&quot;));\n                System.out.println(&quot;switch to c2&quot;);\n                break;\n        }\n    }\n\n}\n</code></pre>\n<p><strong>Util</strong> (read cursor image):</p>\n<pre><code>public class Util {\n    public static Cursor getCursor(String fileName) {\n        BufferedImage img = null;\n        try {\n            img = ImageIO.read(Util.class.getResourceAsStream(fileName));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        return Toolkit.getDefaultToolkit().createCustomCursor(img, new Point(0, 0), fileName);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"score":0,"creation_date":1674494368,"post_id":75203659,"comment_id":132721159,"body_markdown":"Thanks, it works now! But I have only one last question (it may be dumb, but I&#39;m interested) - Why in `try` (`main`), did you use `Logger.log()` instead of just `System.out.println(ex)`?","body":"Thanks, it works now! But I have only one last question (it may be dumb, but I&#39;m interested) - Why in <code>try</code> (<code>main</code>), did you use <code>Logger.log()</code> instead of just <code>System.out.println(ex)</code>?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674506123,"post_id":75203659,"comment_id":132724629,"body_markdown":"@Adamm The logging system is very flexible, apart from been able to give you information about the class/file and line of the log message, you can also log it to a file our other output source","body":"@Adamm The logging system is very flexible, apart from been able to give you information about the class/file and line of the log message, you can also log it to a file our other output source"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674419494,"creation_date":1674419173,"answer_id":75203659,"question_id":75188013,"body_markdown":"You can&#39;t do ...\r\n\r\n    new Window().updateCursor(Window.ACTIVE);\r\n\r\nand magically expect the other instance of `Window` to be updated, in fact, you don&#39;t need to do this at all.\r\n\r\nThis is going to create another instance/copy of `Window`, which is not present on the screen and it will have no effect on the instance which is been displayed.\r\n\r\nYou could call `setCursor` directly on the instance `MainMenu`.\r\n\r\nNow, if you want to &quot;centralise&quot; the functionality, I would start by creating a &quot;manager&quot; class, for example...\r\n\r\n    public class CursorManager {\r\n\r\n        public enum CusorType {\r\n            NORMAL, ACTIVE, INACTIVE;\r\n        }\r\n\r\n        private Cursor cursorNormal, cursorActive, cursorInactive;\r\n\r\n        public CursorManager() throws IOException {\r\n            cursorNormal = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_normal)), new Point(0, 0), &quot;custom cursor (normal)&quot;);\r\n            cursorActive = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_active)), new Point(0, 0), &quot;custom cursor (active)&quot;);\r\n            cursorInactive = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_inactive)), new Point(0, 0), &quot;custom cursor (inactive)&quot;);\r\n        }\r\n\r\n        public void setCursor(CusorType cursorType, Component comp) {\r\n            switch (cursorType) {\r\n                case NORMAL -&gt;\r\n                    comp.setCursor(cursorNormal);\r\n                case ACTIVE -&gt;\r\n                    comp.setCursor(cursorActive);\r\n                case INACTIVE -&gt;\r\n                    comp.setCursor(cursorInactive);\r\n            }\r\n        }\r\n    }\r\n\r\nI would then create this instance of the manager during the initialisation phase of your code\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    CursorManager cursorManager = new CursorManager();\r\n                    //.. Every thing else...\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\nAnd then pass this instance to every class that might need it...\r\n\r\n    // You&#39;ll need to update Window to accept this parameter\r\n    new Window(cursorManager).open();\r\n\r\nAnd...\r\n\r\n    public class MainMenu extends JPanel implements KeyListener {\r\n\r\n        private CursorManager cursorManager;\r\n        \r\n        private MainMenu(CursorManager cursorManager) {\r\n            this.cursorManager = cursorManager;\r\n        }\r\n\r\n        @Override\r\n        public void keyPressed(KeyEvent e) {\r\n            // testing\r\n            cursorManager.setCursor(CursorManager.CusorType.ACTIVE, this);\r\n        }\r\n\r\n        //...\r\n    }\r\n\r\nThis is commonly known as &quot;dependency injection&quot; and is VERY powerful\r\n\r\n# Feedback\r\n\r\nJust as a side note, if I was doing something like this, it would be very different, but I tried to keep it simple.\r\n\r\n* We&#39;re generally discouraged from extending from top level containers like `JFrame`, as stated, `JFrame` is not a simple component and you&#39;re not actually adding any new functionality to the class and in the process, locking yourself into a single use, there by reducing re-usability.  Better to start with a `JPanel` as your base component and simply create an instance of `JFrame` or `JDialog or what ever top level container you want to use, when you need it\r\n* `KeyListener` is a poor choice for monitoring keyboard input (seriously, just do a search for &quot;my key listener won&#39;t work&quot;.  Instead, take a look at [How to Use Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)","title":"Updating custom cursor in java swing window","body":"<p>You can't do ...</p>\n<pre><code>new Window().updateCursor(Window.ACTIVE);\n</code></pre>\n<p>and magically expect the other instance of <code>Window</code> to be updated, in fact, you don't need to do this at all.</p>\n<p>This is going to create another instance/copy of <code>Window</code>, which is not present on the screen and it will have no effect on the instance which is been displayed.</p>\n<p>You could call <code>setCursor</code> directly on the instance <code>MainMenu</code>.</p>\n<p>Now, if you want to &quot;centralise&quot; the functionality, I would start by creating a &quot;manager&quot; class, for example...</p>\n<pre><code>public class CursorManager {\n\n    public enum CusorType {\n        NORMAL, ACTIVE, INACTIVE;\n    }\n\n    private Cursor cursorNormal, cursorActive, cursorInactive;\n\n    public CursorManager() throws IOException {\n        cursorNormal = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_normal)), new Point(0, 0), &quot;custom cursor (normal)&quot;);\n        cursorActive = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_active)), new Point(0, 0), &quot;custom cursor (active)&quot;);\n        cursorInactive = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_inactive)), new Point(0, 0), &quot;custom cursor (inactive)&quot;);\n    }\n\n    public void setCursor(CusorType cursorType, Component comp) {\n        switch (cursorType) {\n            case NORMAL -&gt;\n                comp.setCursor(cursorNormal);\n            case ACTIVE -&gt;\n                comp.setCursor(cursorActive);\n            case INACTIVE -&gt;\n                comp.setCursor(cursorInactive);\n        }\n    }\n}\n</code></pre>\n<p>I would then create this instance of the manager during the initialisation phase of your code</p>\n<pre><code>public static void main(String[] args) {\n    EventQueue.invokeLater(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                CursorManager cursorManager = new CursorManager();\n                //.. Every thing else...\n            } catch (IOException ex) {\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n    });\n}\n</code></pre>\n<p>And then pass this instance to every class that might need it...</p>\n<pre><code>// You'll need to update Window to accept this parameter\nnew Window(cursorManager).open();\n</code></pre>\n<p>And...</p>\n<pre><code>public class MainMenu extends JPanel implements KeyListener {\n\n    private CursorManager cursorManager;\n    \n    private MainMenu(CursorManager cursorManager) {\n        this.cursorManager = cursorManager;\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        // testing\n        cursorManager.setCursor(CursorManager.CusorType.ACTIVE, this);\n    }\n\n    //...\n}\n</code></pre>\n<p>This is commonly known as &quot;dependency injection&quot; and is VERY powerful</p>\n<h1>Feedback</h1>\n<p>Just as a side note, if I was doing something like this, it would be very different, but I tried to keep it simple.</p>\n<ul>\n<li>We're generally discouraged from extending from top level containers like <code>JFrame</code>, as stated, <code>JFrame</code> is not a simple component and you're not actually adding any new functionality to the class and in the process, locking yourself into a single use, there by reducing re-usability.  Better to start with a <code>JPanel</code> as your base component and simply create an instance of <code>JFrame</code> or `JDialog or what ever top level container you want to use, when you need it</li>\n<li><code>KeyListener</code> is a poor choice for monitoring keyboard input (seriously, just do a search for &quot;my key listener won't work&quot;.  Instead, take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">How to Use Key Bindings</a></li>\n</ul>\n"}],"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75203659,"answer_count":2,"score":1,"last_activity_date":1674481954,"creation_date":1674239064,"question_id":75188013,"body_markdown":"I want to set custom cursor in my java swing app, and then edit it.\r\n\r\nI set a custom cusrsor after showing window (in &quot;Window&quot; class).\r\nLater in code (in the other class), I want to chainge it again, so i call this `updateCursor()` funcion (in &quot;Window&quot; class again), and it and it won&#39;t work. There is no errors or warnings, but the cursor isn&#39;t changing - just stays the same. I tried, and I can&#39;t find answer anywhere. I appreciate any help.\r\n\r\nThis is full code - **Window.java**:\r\n```java\r\nimport MainMenu;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class Window {\r\n    public static final int WIDTH = 817, HEIGHT = 640;\r\n\r\n    JFrame frame = new JFrame(&quot;&quot;);\r\n\r\n    public void open() {\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        frame.setResizable(false);\r\n        frame.setSize(WIDTH - 33, HEIGHT - 25);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        frame.setFocusable(true);\r\n        frame.requestFocus();\r\n        frame.setFocusTraversalKeysEnabled(true);\r\n\r\n        frame.addKeyListener(new InputManager());\r\n        frame.addMouseListener(new InputManager());\r\n        frame.add(new MainMenu());\r\n        frame.add(new Game());\r\n\r\n        loadCursors();\r\n\r\n        updateCursor(0);\r\n    }\r\n\r\n    public static final int NORMAL = 0, ACTIVE = 1, INACTIVE = 2;\r\n\r\n    Cursor cursor_normal, cursor_active, cursor_inactive;\r\n\r\n    public void loadCursors() {\r\n        try {\r\n            cursor_normal = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_normal)), new Point(0, 0), &quot;custom cursor (normal)&quot;);\r\n            cursor_active = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_active)), new Point(0, 0), &quot;custom cursor (active)&quot;);\r\n            cursor_inactive = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_inactive)), new Point(0, 0), &quot;custom cursor (inactive)&quot;);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void updateCursor(int cursorType) {\r\n        switch (cursorType) {\r\n            case NORMAL -&gt; frame.setCursor(cursor_normal);\r\n            case ACTIVE -&gt; frame.setCursor(cursor_active);\r\n            case INACTIVE -&gt; frame.setCursor(cursor_inactive);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**MainMenu.java**:\r\n```java\r\nimport Window;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\npublic class MainMenu extends JPanel implements KeyListener {\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        // testing\r\n        new Window().updateCursor(Window.ACTIVE);\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n\r\n    }\r\n}\r\n```","title":"Updating custom cursor in java swing window","body":"<p>I want to set custom cursor in my java swing app, and then edit it.</p>\n<p>I set a custom cusrsor after showing window (in &quot;Window&quot; class).\nLater in code (in the other class), I want to chainge it again, so i call this <code>updateCursor()</code> funcion (in &quot;Window&quot; class again), and it and it won't work. There is no errors or warnings, but the cursor isn't changing - just stays the same. I tried, and I can't find answer anywhere. I appreciate any help.</p>\n<p>This is full code - <strong>Window.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import MainMenu;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Window {\n    public static final int WIDTH = 817, HEIGHT = 640;\n\n    JFrame frame = new JFrame(&quot;&quot;);\n\n    public void open() {\n        frame.pack();\n        frame.setVisible(true);\n        frame.setResizable(false);\n        frame.setSize(WIDTH - 33, HEIGHT - 25);\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.setFocusable(true);\n        frame.requestFocus();\n        frame.setFocusTraversalKeysEnabled(true);\n\n        frame.addKeyListener(new InputManager());\n        frame.addMouseListener(new InputManager());\n        frame.add(new MainMenu());\n        frame.add(new Game());\n\n        loadCursors();\n\n        updateCursor(0);\n    }\n\n    public static final int NORMAL = 0, ACTIVE = 1, INACTIVE = 2;\n\n    Cursor cursor_normal, cursor_active, cursor_inactive;\n\n    public void loadCursors() {\n        try {\n            cursor_normal = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_normal)), new Point(0, 0), &quot;custom cursor (normal)&quot;);\n            cursor_active = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_active)), new Point(0, 0), &quot;custom cursor (active)&quot;);\n            cursor_inactive = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_inactive)), new Point(0, 0), &quot;custom cursor (inactive)&quot;);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void updateCursor(int cursorType) {\n        switch (cursorType) {\n            case NORMAL -&gt; frame.setCursor(cursor_normal);\n            case ACTIVE -&gt; frame.setCursor(cursor_active);\n            case INACTIVE -&gt; frame.setCursor(cursor_inactive);\n        }\n    }\n}\n</code></pre>\n<p><strong>MainMenu.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import Window;\n\nimport javax.swing.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class MainMenu extends JPanel implements KeyListener {\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        // testing\n        new Window().updateCursor(Window.ACTIVE);\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","single-sign-on","saml"],"owner":{"account_id":2405770,"reputation":1942,"user_id":2102292,"accept_rate":69,"display_name":"Cheknov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674481160,"creation_date":1674481160,"question_id":75210327,"body_markdown":"**Requirements:**\r\n\r\n- Given a webapp: &#39;myapp.com&#39; that is hosted on AWS.\r\n- We want 20 unrelated companies to be able to access myapp.com via SSO (SAML)\r\n- Each company has its own domain(s) (company1.com, company2.net, and so on).\r\n- Each user connects from the office with their computer (Windows). \r\n- Each user belongs to the company&#39;s AD (could be ADFS, Azure AD or whatever).\r\n\r\n**What I&#39;ve tried:**\r\n\r\nI have been able to understand and test the OneLogin toolkit for one organization but I don&#39;t know how to do it when there is more than one organization.\r\n\r\n**The problem:**\r\n\r\nMaybe it&#39;s a software design or architecture issue but I don&#39;t know how to scale the SAML implementations I see online (OneLogin&#39;s is an example) for more than one company/organization. \r\n\r\n\r\n**My findings (2 possible options):**\r\n\r\n**First option: Each company has its own IdP in addition to an AD (could be ADFS, Azure AD or whatever)**\r\n- In authenticindication.com we register the 20 or 40 IdPs and to each IdP we associate the domain of the company.\r\n- When the user tries to access authenticindication.com, if there is no open session, the user is asked to enter the email and from there we get the domain.\r\n- In case of having an IdP associated with that domain, the user would be redirected.\r\n- In case of not having an associated IdP, the user would be asked for a password since it would be considered a local user.\r\n\r\n**Second option:The companies do not have their own IdP**\r\n- In this case, we would have to deploy a common IdP and have that IdP connect to their ADs, but that would require those companies to give the IdP machine access/permissions to be able to perform queries to authenticate users.\r\n\r\n**What I expect:**\r\n\r\nI would like to know if the approach I am taking is wrong and if the only options are to create an IdP for those companies that do not have their own IdP and for those companies that do have their own IdP to reuse them. Is there a single solution that covers both cases? I was reading in Spring Security but I did not find anything.\r\n\r\nIf anyone has implemented anything similar, it would also be appreciated if they could share their knowledge.","title":"How to implement SSO for a Spring webapp giving access to multiple organizations with different domains","body":"<p><strong>Requirements:</strong></p>\n<ul>\n<li>Given a webapp: 'myapp.com' that is hosted on AWS.</li>\n<li>We want 20 unrelated companies to be able to access myapp.com via SSO (SAML)</li>\n<li>Each company has its own domain(s) (company1.com, company2.net, and so on).</li>\n<li>Each user connects from the office with their computer (Windows).</li>\n<li>Each user belongs to the company's AD (could be ADFS, Azure AD or whatever).</li>\n</ul>\n<p><strong>What I've tried:</strong></p>\n<p>I have been able to understand and test the OneLogin toolkit for one organization but I don't know how to do it when there is more than one organization.</p>\n<p><strong>The problem:</strong></p>\n<p>Maybe it's a software design or architecture issue but I don't know how to scale the SAML implementations I see online (OneLogin's is an example) for more than one company/organization.</p>\n<p><strong>My findings (2 possible options):</strong></p>\n<p><strong>First option: Each company has its own IdP in addition to an AD (could be ADFS, Azure AD or whatever)</strong></p>\n<ul>\n<li>In authenticindication.com we register the 20 or 40 IdPs and to each IdP we associate the domain of the company.</li>\n<li>When the user tries to access authenticindication.com, if there is no open session, the user is asked to enter the email and from there we get the domain.</li>\n<li>In case of having an IdP associated with that domain, the user would be redirected.</li>\n<li>In case of not having an associated IdP, the user would be asked for a password since it would be considered a local user.</li>\n</ul>\n<p><strong>Second option:The companies do not have their own IdP</strong></p>\n<ul>\n<li>In this case, we would have to deploy a common IdP and have that IdP connect to their ADs, but that would require those companies to give the IdP machine access/permissions to be able to perform queries to authenticate users.</li>\n</ul>\n<p><strong>What I expect:</strong></p>\n<p>I would like to know if the approach I am taking is wrong and if the only options are to create an IdP for those companies that do not have their own IdP and for those companies that do have their own IdP to reuse them. Is there a single solution that covers both cases? I was reading in Spring Security but I did not find anything.</p>\n<p>If anyone has implemented anything similar, it would also be appreciated if they could share their knowledge.</p>\n"},{"tags":["java","api","rest","postman"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":1,"creation_date":1674464059,"post_id":75207234,"comment_id":132711387,"body_markdown":"What do you mean by testing in browser? You can&#39;t do POST requests in browser by just typing in the URL. The error (Method not allowed) implies that you are not doing a POST request, but instead a GET or something. You need to do an AJAX POST request with Javascript. Can you show how you are testing it via browser?","body":"What do you mean by testing in browser? You can&#39;t do POST requests in browser by just typing in the URL. The error (Method not allowed) implies that you are not doing a POST request, but instead a GET or something. You need to do an AJAX POST request with Javascript. Can you show how you are testing it via browser?"},{"owner":{"account_id":14512731,"reputation":249,"user_id":10482658,"display_name":"Michal"},"score":0,"creation_date":1674464187,"post_id":75207234,"comment_id":132711424,"body_markdown":"@Tarmo I test this URL http://localhost:28852/purchase?row=3&amp;column=4 in browser. That&#39;s it. I didnt know I cant do POST requests in browser.","body":"@Tarmo I test this URL <a href=\"http://localhost:28852/purchase?row=3&amp;column=4\" rel=\"nofollow noreferrer\">localhost:28852/purchase?row=3&amp;column=4</a> in browser. That&#39;s it. I didnt know I cant do POST requests in browser."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1674464424,"post_id":75207234,"comment_id":132711480,"body_markdown":"You can, but to do it, you need to create a HTML page which does AJAX request either natively or with some library. Then you can test it via that. Here&#39;s the native way to do it: https://stackoverflow.com/questions/6396101/pure-javascript-send-post-data-without-a-form. But I&#39;d use some library like axios or fetch. Makes it a lot cleaner and easier.","body":"You can, but to do it, you need to create a HTML page which does AJAX request either natively or with some library. Then you can test it via that. Here&#39;s the native way to do it: <a href=\"https://stackoverflow.com/questions/6396101/pure-javascript-send-post-data-without-a-form\" title=\"pure javascript send post data without a form\">stackoverflow.com/questions/6396101/&hellip;</a>. But I&#39;d use some library like axios or fetch. Makes it a lot cleaner and easier."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1674464663,"post_id":75207234,"comment_id":132711541,"body_markdown":"And `row=3&amp;column=4` doesn&#39;t work. Those are query parameters not request body. Two different things and one is not converted to anohter.","body":"And <code>row=3&amp;column=4</code> doesn&#39;t work. Those are query parameters not request body. Two different things and one is not converted to anohter."},{"owner":{"account_id":14512731,"reputation":249,"user_id":10482658,"display_name":"Michal"},"score":0,"creation_date":1674464831,"post_id":75207234,"comment_id":132711593,"body_markdown":"@Tarmo Ok. Thank you. Let&#39;s forget about testing in browser then and lets focus on testing in Postman. Would you know how to do it?","body":"@Tarmo Ok. Thank you. Let&#39;s forget about testing in browser then and lets focus on testing in Postman. Would you know how to do it?"},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1674464936,"post_id":75207234,"comment_id":132711630,"body_markdown":"On of the reasons why you get `500` for POST request is because you don;t have a no arguments constructor in the `Seat ` class.","body":"On of the reasons why you get <code>500</code> for POST request is because you don;t have a no arguments constructor in the <code>Seat </code> class."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1674465000,"post_id":75207234,"comment_id":132711653,"body_markdown":"Also. Any time you get a 500, theres probably an error in your Spring log which leads you to the actual root cause.","body":"Also. Any time you get a 500, theres probably an error in your Spring log which leads you to the actual root cause."},{"owner":{"account_id":14512731,"reputation":249,"user_id":10482658,"display_name":"Michal"},"score":0,"creation_date":1674465228,"post_id":75207234,"comment_id":132711718,"body_markdown":"@artiomi &quot;no arguments constructor in the Seat  class&quot;  I don&#39;t think I follow you. Could you show me an example in Java?","body":"@artiomi &quot;no arguments constructor in the Seat  class&quot;  I don&#39;t think I follow you. Could you show me an example in Java?"},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":1,"creation_date":1674465352,"post_id":75207234,"comment_id":132711762,"body_markdown":"@Michal here it is: `public Seat() {}`","body":"@Michal here it is: <code>public Seat() {}</code>"},{"owner":{"account_id":14512731,"reputation":249,"user_id":10482658,"display_name":"Michal"},"score":0,"creation_date":1674465531,"post_id":75207234,"comment_id":132711816,"body_markdown":"@artiomi OMG that was it :) Now it works just as it should in Postman. Thank you very much!","body":"@artiomi OMG that was it :) Now it works just as it should in Postman. Thank you very much!"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674481031,"creation_date":1674481031,"answer_id":75210288,"question_id":75207234,"body_markdown":"You can&#39;t do a POST from a browser, except via a js fetch. You can only a GET. The &quot;Method Not Allowed, status=405 error&quot; is telling you that, ie GET not allowed.\r\n\r\nThe error you get from postman shows you got past the 405 (because it is a POST) but the server is throwing and exception. You need to check logs or step through in debug.","title":"How to post a Post request by passing an object in Postman or as URL in browser","body":"<p>You can't do a POST from a browser, except via a js fetch. You can only a GET. The &quot;Method Not Allowed, status=405 error&quot; is telling you that, ie GET not allowed.</p>\n<p>The error you get from postman shows you got past the 405 (because it is a POST) but the server is throwing and exception. You need to check logs or step through in debug.</p>\n"}],"owner":{"account_id":14512731,"reputation":249,"user_id":10482658,"display_name":"Michal"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674481031,"creation_date":1674463817,"question_id":75207234,"body_markdown":"I&#39;m testing my Rest APIs on Postman and URL in browser, but I don&#39;t know how to test an API with a POST method that takes an object as a parameter. I know there is nothing wrong with my code because it is part of Hyperskill projects and it passed all the tests. It&#39;s really just I dont know how to test it and I can&#39;t find an answer anywhere.\r\n\r\nHere is what I should test and what results I should get:\r\n\r\n*Request body:*\r\n```\r\n{\r\n    &quot;row&quot;: 3,\r\n    &quot;column&quot;: 4\r\n}\r\n```\r\n*Response body:*\r\n```\r\n{\r\n    &quot;row&quot;: 3,\r\n    &quot;column&quot;: 4,\r\n}\r\n```\r\nWhen I try the same *Request body* again:\r\n```\r\n{\r\n    &quot;row&quot;: 3,\r\n    &quot;column&quot;: 4\r\n}\r\n```\r\n*Response body* should give me an error message:\r\n```\r\n{\r\n    &quot;error&quot;: &quot;The ticket has been already purchased!&quot;\r\n}\r\n```\r\nInstead when I test following URL http://localhost:28852/purchase?row=3&amp;column=4 in browser I get:\r\n\r\n&gt; Whitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\nMon Jan 23 08:53:33 CET 2023 There was an unexpected error (type=Method Not Allowed, status=405).\r\n\r\nWhen I try to test my code in Postman I get: [![enter image description here][1]][1]\r\n\r\nAnd here&#39;s my full code in Java:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Main.class, args);\r\n    }\r\n}\r\n```\r\n```\r\n@RestController\r\npublic class SeatController {\r\n    public SeatController() {}\r\n    \tprivate ScreenRoom screenRoom = new ScreenRoom(9, 9);\r\n    \t@GetMapping(&quot;/seats&quot;)\r\n    \tpublic ScreenRoom getSeat(){\r\n\t\t\treturn screenRoom;\r\n    \t}\r\n\r\n\t@PostMapping(&quot;/purchase&quot;)\r\n\tpublic synchronized ResponseEntity&lt;?&gt; postSeat(@RequestBody Seat seat){\r\n\t\tif (seat.getRow() &lt; 1 || seat.getRow() &gt; 9 || seat.getColumn() &lt; 1 || seat.getColumn() &gt; 9) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(Map.of(&quot;error&quot;, &quot;The number of a row or a column is out of bounds!&quot;), HttpStatus.BAD_REQUEST);\r\n\t\t}\r\n\t\tif (screenRoom.getAvailable_seats().contains(seat)) {\r\n\t\t\tscreenRoom.removeFromAvailableSeats(seat);\r\n\t\t\treturn new ResponseEntity&lt;&gt;(seat, HttpStatus.OK);\r\n\t\t} else {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(Map.of(&quot;error&quot;, &quot;The ticket has been already purchased!&quot;), HttpStatus.BAD_REQUEST);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n```\r\npublic class ScreenRoom {\r\n    private int total_rows;\r\n\tprivate int total_columns;\r\n\tprivate List&lt;Seat&gt; available_seats = new ArrayList&lt;&gt;();\r\n\r\n\tpublic ScreenRoom(int total_rows, int total_columns) {\r\n\t\tthis.total_rows = total_rows;\r\n\t\tthis.total_columns = total_columns;\r\n\r\n\t\tfor (int i = 1; i &lt;= total_rows; i++) {\r\n\t\t\tfor (int j = 1; j &lt;= total_columns; j++) {\r\n\t\t\t\tavailable_seats.add(new Seat(i, j));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tpublic int getTotal_rows() {\r\n\t\treturn total_rows;\r\n\t}\r\n\tpublic void setTotal_rows(int total_rows) {\r\n\t\tthis.total_rows = total_rows;\r\n\t}\r\n\tpublic int getTotal_columns() {\r\n\t\treturn total_columns;\r\n\t}\r\n\tpublic void setTotal_columns(int total_columns) {\r\n\t\tthis.total_columns = total_columns;\r\n\t}\r\n\tpublic List&lt;Seat&gt; getAvailable_seats() {\r\n\t\treturn available_seats;\r\n\t}\r\n\tpublic void setAvailable_seats(List&lt;Seat&gt; available_seats) {\r\n\t\tthis.available_seats = available_seats;\r\n\t}\r\n\tpublic void removeFromAvailableSeats(Seat seat) {\r\n\t\tthis.available_seats.remove(seat);\r\n\t}\r\n\tpublic void getSeat(Seat seat) {\r\n\t\tthis.available_seats.get(this.available_seats.indexOf(seat));\r\n\t}\r\n}\r\n```\r\n```\r\npublic class Seat {\r\n\tprivate int row;\r\n\tprivate int column;\r\n\tpublic Seat(int row, int column) {\r\n\t\tthis.row = row;\r\n\t\tthis.column = column;\r\n\t}\r\n\tpublic int getRow() {\r\n\t\treturn row;\r\n\t}\r\n\tpublic void setRow(int row) {\r\n\t\tthis.row = row;\r\n\t}\r\n\tpublic int getColumn() {\r\n\t\treturn column;\r\n\t}\r\n\tpublic void setColumn(int column) {\r\n\t\tthis.column = column;\r\n\t}\r\n\t@Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n\r\n        Seat seat = (Seat) o;\r\n        if (row != seat.row) return false;\r\n        return column == seat.column;\r\n    }\r\n}\r\n```\r\nWhat exactly I&#39;m doing wrong regarding testing? Thank you for your time and answers.\r\n\r\n  [1]: https://i.stack.imgur.com/fgDub.png","title":"How to post a Post request by passing an object in Postman or as URL in browser","body":"<p>I'm testing my Rest APIs on Postman and URL in browser, but I don't know how to test an API with a POST method that takes an object as a parameter. I know there is nothing wrong with my code because it is part of Hyperskill projects and it passed all the tests. It's really just I dont know how to test it and I can't find an answer anywhere.</p>\n<p>Here is what I should test and what results I should get:</p>\n<p><em>Request body:</em></p>\n<pre><code>{\n    &quot;row&quot;: 3,\n    &quot;column&quot;: 4\n}\n</code></pre>\n<p><em>Response body:</em></p>\n<pre><code>{\n    &quot;row&quot;: 3,\n    &quot;column&quot;: 4,\n}\n</code></pre>\n<p>When I try the same <em>Request body</em> again:</p>\n<pre><code>{\n    &quot;row&quot;: 3,\n    &quot;column&quot;: 4\n}\n</code></pre>\n<p><em>Response body</em> should give me an error message:</p>\n<pre><code>{\n    &quot;error&quot;: &quot;The ticket has been already purchased!&quot;\n}\n</code></pre>\n<p>Instead when I test following URL http://localhost:28852/purchase?row=3&amp;column=4 in browser I get:</p>\n<blockquote>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\nMon Jan 23 08:53:33 CET 2023 There was an unexpected error (type=Method Not Allowed, status=405).</p>\n</blockquote>\n<p>When I try to test my code in Postman I get: <a href=\"https://i.stack.imgur.com/fgDub.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fgDub.png\" alt=\"enter image description here\" /></a></p>\n<p>And here's my full code in Java:</p>\n<pre><code>@SpringBootApplication\npublic class Main {\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class, args);\n    }\n}\n</code></pre>\n<pre><code>@RestController\npublic class SeatController {\n    public SeatController() {}\n        private ScreenRoom screenRoom = new ScreenRoom(9, 9);\n        @GetMapping(&quot;/seats&quot;)\n        public ScreenRoom getSeat(){\n            return screenRoom;\n        }\n\n    @PostMapping(&quot;/purchase&quot;)\n    public synchronized ResponseEntity&lt;?&gt; postSeat(@RequestBody Seat seat){\n        if (seat.getRow() &lt; 1 || seat.getRow() &gt; 9 || seat.getColumn() &lt; 1 || seat.getColumn() &gt; 9) {\n            return new ResponseEntity&lt;&gt;(Map.of(&quot;error&quot;, &quot;The number of a row or a column is out of bounds!&quot;), HttpStatus.BAD_REQUEST);\n        }\n        if (screenRoom.getAvailable_seats().contains(seat)) {\n            screenRoom.removeFromAvailableSeats(seat);\n            return new ResponseEntity&lt;&gt;(seat, HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;&gt;(Map.of(&quot;error&quot;, &quot;The ticket has been already purchased!&quot;), HttpStatus.BAD_REQUEST);\n        }\n    }\n}\n\n</code></pre>\n<pre><code>public class ScreenRoom {\n    private int total_rows;\n    private int total_columns;\n    private List&lt;Seat&gt; available_seats = new ArrayList&lt;&gt;();\n\n    public ScreenRoom(int total_rows, int total_columns) {\n        this.total_rows = total_rows;\n        this.total_columns = total_columns;\n\n        for (int i = 1; i &lt;= total_rows; i++) {\n            for (int j = 1; j &lt;= total_columns; j++) {\n                available_seats.add(new Seat(i, j));\n            }\n        }\n    }\n    public int getTotal_rows() {\n        return total_rows;\n    }\n    public void setTotal_rows(int total_rows) {\n        this.total_rows = total_rows;\n    }\n    public int getTotal_columns() {\n        return total_columns;\n    }\n    public void setTotal_columns(int total_columns) {\n        this.total_columns = total_columns;\n    }\n    public List&lt;Seat&gt; getAvailable_seats() {\n        return available_seats;\n    }\n    public void setAvailable_seats(List&lt;Seat&gt; available_seats) {\n        this.available_seats = available_seats;\n    }\n    public void removeFromAvailableSeats(Seat seat) {\n        this.available_seats.remove(seat);\n    }\n    public void getSeat(Seat seat) {\n        this.available_seats.get(this.available_seats.indexOf(seat));\n    }\n}\n</code></pre>\n<pre><code>public class Seat {\n    private int row;\n    private int column;\n    public Seat(int row, int column) {\n        this.row = row;\n        this.column = column;\n    }\n    public int getRow() {\n        return row;\n    }\n    public void setRow(int row) {\n        this.row = row;\n    }\n    public int getColumn() {\n        return column;\n    }\n    public void setColumn(int column) {\n        this.column = column;\n    }\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Seat seat = (Seat) o;\n        if (row != seat.row) return false;\n        return column == seat.column;\n    }\n}\n</code></pre>\n<p>What exactly I'm doing wrong regarding testing? Thank you for your time and answers.</p>\n"},{"tags":["java","xml","rest","soapui"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1674478711,"post_id":75209733,"comment_id":132715671,"body_markdown":"Looks right to me. What response are you getting that indicates the ClientSessionId is missing? Maybe it&#39;s wrong or some other issue.","body":"Looks right to me. What response are you getting that indicates the ClientSessionId is missing? Maybe it&#39;s wrong or some other issue."},{"owner":{"account_id":14391825,"reputation":13,"user_id":10396246,"display_name":"Thomas Andreas Kocher"},"score":0,"creation_date":1674811613,"post_id":75209733,"comment_id":132796933,"body_markdown":"i was an erre in tje header jnow it wworls","body":"i was an erre in tje header jnow it wworls"}],"owner":{"account_id":14391825,"reputation":13,"user_id":10396246,"display_name":"Thomas Andreas Kocher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674480796,"creation_date":1674477957,"question_id":75209733,"body_markdown":"I have the following POST  Request in SOAPUI which seams to work\r\n\r\n[![enter image description here][1]][1]\r\n\r\nso i have  an endpoint a resource  A Header and a Header Parameter\r\n\r\n\r\nwhen i want to implement this with  the RestTemplate i dont know how to add the header parameter  what i tried is \r\n \r\n\r\n        public void setForward(String sessionId,String dn, String cf) {\r\n        try {\r\n            final String setForwardURL = &quot;https://&quot;+  getHost() + &quot;:&quot;+  getPort() +  &quot;/inyama/service/logicaldevice/setForwarding&quot;;\r\n            RestTemplate restTemplateSetForward =  new RestTemplate();\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.add(&quot;ClientSessionId&quot;,sessionId);\r\n            headers.setContentType(MediaType.APPLICATION_XML);\r\n            List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\r\n            messageConverters.add(new StringHttpMessageConverter());\r\n            restTemplateSetForward.setMessageConverters(messageConverters);\r\n            String requestBodyCallForward =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;yes\\&quot;?&gt;&quot; +\r\n                &quot;&lt;ns3:SetForwarding xmlns:ns14=\\&quot;http://calllog.common.avaya.com/\\&quot;&quot; +\r\n                &quot;xmlns:ns15=\\&quot;http://recording.common.avaya.com/\\&quot;&quot; +\r\n                &quot;xmlns:ns9=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&quot; +\r\n                &quot;xmlns:ns5=\\&quot;http://schemas.xmlsoap.org/ws/2004/08/addressing\\&quot;&quot; +\r\n                &quot;xmlns:ns12=\\&quot;http://conferencing.avaya.com/\\&quot; xmlns:ns6=\\&quot;http://com.avaya.inkaba.dal\\&quot;&quot; +\r\n                &quot;xmlns:ns13=\\&quot;http://voicemail.common.avaya.com/\\&quot;&quot; +\r\n                &quot;xmlns:ns7=\\&quot;http://com.avaya.inkaba.wstransfer\\&quot;&quot; +\r\n                &quot;xmlns:ns10=\\&quot;http://ccragent.common.avaya.com/\\&quot;&quot; +\r\n                &quot;xmlns:ns8=\\&quot;http://com.avaya.common.csta.extended\\&quot;&quot; +\r\n                &quot;xmlns:ns11=\\&quot;http://conferencing.common.avaya.com/\\&quot;&quot; +\r\n                &quot;xmlns:ns2=\\&quot;http://openapi.common.avaya.com/\\&quot;&quot; +\r\n                &quot;xmlns:ns4=\\&quot;http://schemas.xmlsoap.org/ws/2004/09/transfer\\&quot;&quot; +\r\n                &quot;xmlns:ns3=\\&quot;http://www.ecma-international.org/standards/ecma-323/csta/ed4\\&quot;&gt;&quot; +\r\n                &quot;&lt;ns3:device&quot; +\r\n                &quot;typeOfNumber=\\&quot;dialingNumber\\&quot;&gt;&quot; + dn + &quot;&lt;/ns3:device&gt;&quot; +\r\n                &quot;&lt;ns3:forwardingType&gt;forwardImmediate&lt;/ns3:forwardingType&gt;&quot; +\r\n                &quot;&lt;ns3:activateForward&gt;true&lt;/ns3:activateForward&gt;&quot; +\r\n                &quot;&lt;ns3:forwardDN typeOfNumber=\\&quot;dialingNumber\\&quot;&gt;&quot;+ cf + &quot;&lt;/ns3:forwardDN&gt;&quot; +\r\n                &quot;&lt;/ns3:SetForwarding&gt;&quot;;\r\n            HttpEntity&lt;String&gt; restRequest = new HttpEntity&lt;String&gt;(requestBodyCallForward, headers);\r\n            final ResponseEntity&lt;String&gt; responseSetForward = restTemplateSetForward.postForEntity(setForwardURL, restRequest, String.class);\r\n            HttpStatus statusCallForward =  responseSetForward.getStatusCode();\r\n            boolean success = statusCallForward.is2xxSuccessful();\r\n        } catch (RestClientException e) {\r\n            reporter.problemStackTrace(getClass(), e.getMessage(), e);\r\n        } catch (Exception e) {\r\n            reporter.problemStackTrace(getClass(), e.getMessage(), e);\r\n        }\r\n    }\r\n\r\n\r\n\r\nI tried to set the header parameter with add but this does not work how can i add dies simple Header Parameter to my request\r\n\r\nI get  a estClientException Bad Request  ehn i do no add my clienSessiinid i get a unauthorized access  Bot th login which is almost the same works but the login ha no parameter\r\n\r\n        public String login() {\r\n        String sessionId = &quot;&quot;;\r\n        try {\r\n            final String loginURL = &quot;https://&quot;+  getHost() + &quot;:&quot;+  getPort() +  &quot;/inyama/service/session&quot;;\r\n            String requestBody =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot; +\r\n                    &quot;&lt;ns:userLoginRequest xmlns:ns=\\&quot;http://openapi.common.avaya.com/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot;+\r\n                    &quot;&lt;userName&gt;&quot; +getUserName() + &quot;&lt;/userName&gt;&quot;+\r\n                    &quot;&lt;userPassword&gt;&quot; + getUserPassword()+ &quot;&lt;/userPassword&gt;&quot;+\r\n                    &quot;&lt;applicationName&gt;talkbase&lt;/applicationName&gt;&quot;+\r\n                    &quot;&lt;loginSubscriptionRequest httpMethod=\\&quot;WEBSOCKET\\&quot; callBackUrl=\\&quot;&quot;+ callBackUrl() +&quot; \\&quot;&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;CapabilityExchangeServicesCallbackEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;MonitoringServicesCallbackEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;SnapshotServicesCallbackEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;CallControlFeaturesEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;CallAssociatedFeaturesEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;PhysicalDeviceFeaturesEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;LogicalDeviceFeaturesEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;DeviceMaintenanceEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;VoicemailServicesEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;RecordingServicesEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;CallLogEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;DirectoryEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;ImEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;PresenceEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;LogoutEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;/loginSubscriptionRequest&gt;&quot;+\r\n                    &quot;&lt;/ns:userLoginRequest&gt;&quot;;\r\n            RestTemplate restTemplateLogin =  new RestTemplate();\r\n            List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\r\n            messageConverters.add(new StringHttpMessageConverter());\r\n            restTemplateLogin.setMessageConverters(messageConverters);\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_XML);\r\n            HttpEntity&lt;String&gt; restRequest = new HttpEntity&lt;String&gt;(requestBody, headers);\r\n            final ResponseEntity&lt;String&gt; responseLogin = restTemplateLogin.postForEntity(loginURL, restRequest, String.class);\r\n            HttpStatus status =  responseLogin.getStatusCode();\r\n            boolean success = status.is2xxSuccessful();\r\n            if ( success  ) {\r\n                if ( responseLogin.hasBody() ) {\r\n                    String body = responseLogin.getBody();\r\n                    sessionId = getStringElement(body,&quot;clientSessionID&quot;);\r\n                }\r\n            }\r\n        } catch (RestClientException e) {\r\n            reporter.problemStackTrace(getClass(), e.getMessage(), e);\r\n        } catch (Exception e) {\r\n            reporter.problemStackTrace(getClass(), e.getMessage(), e);\r\n        }\r\n        return sessionId;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZmKr3.png","title":"I have a working POST Request in SOAPUI an want to implement the same with Java Resttemplate","body":"<p>I have the following POST  Request in SOAPUI which seams to work</p>\n<p><a href=\"https://i.stack.imgur.com/ZmKr3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZmKr3.png\" alt=\"enter image description here\" /></a></p>\n<p>so i have  an endpoint a resource  A Header and a Header Parameter</p>\n<p>when i want to implement this with  the RestTemplate i dont know how to add the header parameter  what i tried is</p>\n<pre><code>    public void setForward(String sessionId,String dn, String cf) {\n    try {\n        final String setForwardURL = &quot;https://&quot;+  getHost() + &quot;:&quot;+  getPort() +  &quot;/inyama/service/logicaldevice/setForwarding&quot;;\n        RestTemplate restTemplateSetForward =  new RestTemplate();\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;ClientSessionId&quot;,sessionId);\n        headers.setContentType(MediaType.APPLICATION_XML);\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\n        messageConverters.add(new StringHttpMessageConverter());\n        restTemplateSetForward.setMessageConverters(messageConverters);\n        String requestBodyCallForward =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;yes\\&quot;?&gt;&quot; +\n            &quot;&lt;ns3:SetForwarding xmlns:ns14=\\&quot;http://calllog.common.avaya.com/\\&quot;&quot; +\n            &quot;xmlns:ns15=\\&quot;http://recording.common.avaya.com/\\&quot;&quot; +\n            &quot;xmlns:ns9=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&quot; +\n            &quot;xmlns:ns5=\\&quot;http://schemas.xmlsoap.org/ws/2004/08/addressing\\&quot;&quot; +\n            &quot;xmlns:ns12=\\&quot;http://conferencing.avaya.com/\\&quot; xmlns:ns6=\\&quot;http://com.avaya.inkaba.dal\\&quot;&quot; +\n            &quot;xmlns:ns13=\\&quot;http://voicemail.common.avaya.com/\\&quot;&quot; +\n            &quot;xmlns:ns7=\\&quot;http://com.avaya.inkaba.wstransfer\\&quot;&quot; +\n            &quot;xmlns:ns10=\\&quot;http://ccragent.common.avaya.com/\\&quot;&quot; +\n            &quot;xmlns:ns8=\\&quot;http://com.avaya.common.csta.extended\\&quot;&quot; +\n            &quot;xmlns:ns11=\\&quot;http://conferencing.common.avaya.com/\\&quot;&quot; +\n            &quot;xmlns:ns2=\\&quot;http://openapi.common.avaya.com/\\&quot;&quot; +\n            &quot;xmlns:ns4=\\&quot;http://schemas.xmlsoap.org/ws/2004/09/transfer\\&quot;&quot; +\n            &quot;xmlns:ns3=\\&quot;http://www.ecma-international.org/standards/ecma-323/csta/ed4\\&quot;&gt;&quot; +\n            &quot;&lt;ns3:device&quot; +\n            &quot;typeOfNumber=\\&quot;dialingNumber\\&quot;&gt;&quot; + dn + &quot;&lt;/ns3:device&gt;&quot; +\n            &quot;&lt;ns3:forwardingType&gt;forwardImmediate&lt;/ns3:forwardingType&gt;&quot; +\n            &quot;&lt;ns3:activateForward&gt;true&lt;/ns3:activateForward&gt;&quot; +\n            &quot;&lt;ns3:forwardDN typeOfNumber=\\&quot;dialingNumber\\&quot;&gt;&quot;+ cf + &quot;&lt;/ns3:forwardDN&gt;&quot; +\n            &quot;&lt;/ns3:SetForwarding&gt;&quot;;\n        HttpEntity&lt;String&gt; restRequest = new HttpEntity&lt;String&gt;(requestBodyCallForward, headers);\n        final ResponseEntity&lt;String&gt; responseSetForward = restTemplateSetForward.postForEntity(setForwardURL, restRequest, String.class);\n        HttpStatus statusCallForward =  responseSetForward.getStatusCode();\n        boolean success = statusCallForward.is2xxSuccessful();\n    } catch (RestClientException e) {\n        reporter.problemStackTrace(getClass(), e.getMessage(), e);\n    } catch (Exception e) {\n        reporter.problemStackTrace(getClass(), e.getMessage(), e);\n    }\n}\n</code></pre>\n<p>I tried to set the header parameter with add but this does not work how can i add dies simple Header Parameter to my request</p>\n<p>I get  a estClientException Bad Request  ehn i do no add my clienSessiinid i get a unauthorized access  Bot th login which is almost the same works but the login ha no parameter</p>\n<pre><code>    public String login() {\n    String sessionId = &quot;&quot;;\n    try {\n        final String loginURL = &quot;https://&quot;+  getHost() + &quot;:&quot;+  getPort() +  &quot;/inyama/service/session&quot;;\n        String requestBody =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot; +\n                &quot;&lt;ns:userLoginRequest xmlns:ns=\\&quot;http://openapi.common.avaya.com/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot;+\n                &quot;&lt;userName&gt;&quot; +getUserName() + &quot;&lt;/userName&gt;&quot;+\n                &quot;&lt;userPassword&gt;&quot; + getUserPassword()+ &quot;&lt;/userPassword&gt;&quot;+\n                &quot;&lt;applicationName&gt;talkbase&lt;/applicationName&gt;&quot;+\n                &quot;&lt;loginSubscriptionRequest httpMethod=\\&quot;WEBSOCKET\\&quot; callBackUrl=\\&quot;&quot;+ callBackUrl() +&quot; \\&quot;&gt;&quot;+\n                &quot;&lt;eventTypes&gt;CapabilityExchangeServicesCallbackEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;MonitoringServicesCallbackEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;SnapshotServicesCallbackEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;CallControlFeaturesEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;CallAssociatedFeaturesEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;PhysicalDeviceFeaturesEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;LogicalDeviceFeaturesEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;DeviceMaintenanceEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;VoicemailServicesEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;RecordingServicesEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;CallLogEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;DirectoryEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;ImEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;PresenceEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;LogoutEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;/loginSubscriptionRequest&gt;&quot;+\n                &quot;&lt;/ns:userLoginRequest&gt;&quot;;\n        RestTemplate restTemplateLogin =  new RestTemplate();\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\n        messageConverters.add(new StringHttpMessageConverter());\n        restTemplateLogin.setMessageConverters(messageConverters);\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_XML);\n        HttpEntity&lt;String&gt; restRequest = new HttpEntity&lt;String&gt;(requestBody, headers);\n        final ResponseEntity&lt;String&gt; responseLogin = restTemplateLogin.postForEntity(loginURL, restRequest, String.class);\n        HttpStatus status =  responseLogin.getStatusCode();\n        boolean success = status.is2xxSuccessful();\n        if ( success  ) {\n            if ( responseLogin.hasBody() ) {\n                String body = responseLogin.getBody();\n                sessionId = getStringElement(body,&quot;clientSessionID&quot;);\n            }\n        }\n    } catch (RestClientException e) {\n        reporter.problemStackTrace(getClass(), e.getMessage(), e);\n    } catch (Exception e) {\n        reporter.problemStackTrace(getClass(), e.getMessage(), e);\n    }\n    return sessionId;\n}\n</code></pre>\n"},{"tags":["java","jsf","xpages","session-scope"],"comments":[{"owner":{"account_id":412150,"reputation":21391,"user_id":785061,"accept_rate":60,"display_name":"Per Henrik Lausten"},"score":0,"creation_date":1674480115,"post_id":75209812,"comment_id":132716154,"body_markdown":"Does your clearMap method not work as expected?","body":"Does your clearMap method not work as expected?"},{"owner":{"account_id":1879268,"reputation":2000,"user_id":1699830,"accept_rate":37,"display_name":"Patrick Kwinten"},"score":0,"creation_date":1674480260,"post_id":75209812,"comment_id":132716216,"body_markdown":"no same values before and after :-?","body":"no same values before and after :-?"}],"answers":[{"comments":[{"owner":{"account_id":1879268,"reputation":2000,"user_id":1699830,"accept_rate":37,"display_name":"Patrick Kwinten"},"score":0,"creation_date":1674549187,"post_id":75210216,"comment_id":132731928,"body_markdown":"thanks! this one works :-)","body":"thanks! this one works :-)"}],"tags":[],"owner":{"account_id":412150,"reputation":21391,"user_id":785061,"accept_rate":60,"display_name":"Per Henrik Lausten"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674480658,"creation_date":1674480658,"answer_id":75210216,"question_id":75209812,"body_markdown":"I do this to clear sessionScope:\r\n\r\n    for (final String key : JSFUtil.getSessionScope().keySet()) {\r\n\t\tJSFUtil.getSessionScope().remove(key);\r\n    }","title":"JSF / Xpages how to clear sessionscopes?","body":"<p>I do this to clear sessionScope:</p>\n<pre><code>for (final String key : JSFUtil.getSessionScope().keySet()) {\n    JSFUtil.getSessionScope().remove(key);\n}\n</code></pre>\n"}],"owner":{"account_id":1879268,"reputation":2000,"user_id":1699830,"accept_rate":37,"display_name":"Patrick Kwinten"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75210216,"answer_count":1,"score":1,"last_activity_date":1674480658,"creation_date":1674478412,"question_id":75209812,"body_markdown":"I want to clear the current sessionscopes in my xpages application and reload them again.  I have tried:\r\n\r\n    public Map&lt;String, Object&gt; sesScope;\r\n    this.sesScope = JSFUtil.getSessionScope();\r\n    \r\n    clearMap(sesScope);\r\n    \r\n    private void clearMap(Map&lt;String, Object&gt; map ){ // Get iterator for the keys\r\n    \tString methodName = new Object(){}.getClass().getEnclosingMethod().getName();\r\n    \tutils.printToConsole(this.getClass().getSimpleName().toString() + &quot; &quot; + methodName);\r\n    \tutils.printToConsole(&quot;-------before removing------&quot;);\r\n    \tutils.printToConsole(map.toString());\r\n    \r\n    \tSet keyset = map.keySet();\r\n    \tIterator itr = keyset.iterator();\r\n    \twhile (itr.hasNext()) {\r\n    \t\titr.next();\r\n    \t\titr.remove();\r\n    \t}\r\n    \r\n    \tutils.printToConsole(&quot;--------After removing-------&quot;);\r\n    \tutils.printToConsole(map.toString());\r\n    }\r\n\t\r\nSomehow I can not simply say sesScope.clear() since that would result in an error:\r\n\r\n&gt; java.lang.UnsupportedOperationException at\r\n&gt; com.sun.faces.context.BaseContextMap.clear(ExternalContextImpl.java:392)\r\n\r\nHow do I clear the sessionscope properly?\r\n ","title":"JSF / Xpages how to clear sessionscopes?","body":"<p>I want to clear the current sessionscopes in my xpages application and reload them again.  I have tried:</p>\n<pre><code>public Map&lt;String, Object&gt; sesScope;\nthis.sesScope = JSFUtil.getSessionScope();\n\nclearMap(sesScope);\n\nprivate void clearMap(Map&lt;String, Object&gt; map ){ // Get iterator for the keys\n    String methodName = new Object(){}.getClass().getEnclosingMethod().getName();\n    utils.printToConsole(this.getClass().getSimpleName().toString() + &quot; &quot; + methodName);\n    utils.printToConsole(&quot;-------before removing------&quot;);\n    utils.printToConsole(map.toString());\n\n    Set keyset = map.keySet();\n    Iterator itr = keyset.iterator();\n    while (itr.hasNext()) {\n        itr.next();\n        itr.remove();\n    }\n\n    utils.printToConsole(&quot;--------After removing-------&quot;);\n    utils.printToConsole(map.toString());\n}\n</code></pre>\n<p>Somehow I can not simply say sesScope.clear() since that would result in an error:</p>\n<blockquote>\n<p>java.lang.UnsupportedOperationException at\ncom.sun.faces.context.BaseContextMap.clear(ExternalContextImpl.java:392)</p>\n</blockquote>\n<p>How do I clear the sessionscope properly?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674435051,"post_id":75204908,"comment_id":132707696,"body_markdown":"I&#39;d also consider `ProcessBuilder` as it provides more configuration options","body":"I&#39;d also consider <code>ProcessBuilder</code> as it provides more configuration options"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674480539,"creation_date":1674480539,"answer_id":75210194,"question_id":75204908,"body_markdown":"You shouldn&#39;t put command line options into the environment. They are not environment variables! Put them into the command array ... as individual array elements; e.g. \r\n\r\n    String[] cmdarray = {\r\n                &quot;node&quot;, &quot;./node_modules/someModule/create.js&quot;, \r\n                &quot;-c&quot;, &quot;control&quot;, &quot;-b&quot;, &quot;1&quot;};\r\n \r\n&gt; And is there a difference, when I run this on Windows and Mac?\r\n\r\nIf you do it this way, there *should be* no difference between Windows and Mac.  But obviously it is up to you to test your code on all platforms you intend to support! \r\n\r\nNote also that when you use a simple command name (e.g. `node`) the command needs to be on command search path; i.e. `$PATH` or `%PATH%`. ","title":"Node running in Runtime.getRuntime().exec()","body":"<p>You shouldn't put command line options into the environment. They are not environment variables! Put them into the command array ... as individual array elements; e.g.</p>\n<pre><code>String[] cmdarray = {\n            &quot;node&quot;, &quot;./node_modules/someModule/create.js&quot;, \n            &quot;-c&quot;, &quot;control&quot;, &quot;-b&quot;, &quot;1&quot;};\n</code></pre>\n<blockquote>\n<p>And is there a difference, when I run this on Windows and Mac?</p>\n</blockquote>\n<p>If you do it this way, there <em>should be</em> no difference between Windows and Mac.  But obviously it is up to you to test your code on all platforms you intend to support!</p>\n<p>Note also that when you use a simple command name (e.g. <code>node</code>) the command needs to be on command search path; i.e. <code>$PATH</code> or <code>%PATH%</code>.</p>\n"}],"owner":{"account_id":551931,"reputation":4661,"user_id":916937,"accept_rate":60,"display_name":"Dinkheller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75210194,"answer_count":1,"score":0,"last_activity_date":1674480539,"creation_date":1674434512,"question_id":75204908,"body_markdown":"I can run the following command from the terminal in Windows:\r\n\r\n    D:\\myProject&gt; node ./node_modules/someModule/create.js -c control -b 1\r\n\r\nBut not if I try to run this within `Runtime.getRuntime().exec(cmdarray, envp, dir)`.\r\n\r\n    String[] cmdarray = {&quot;node&quot;, &quot;./node_modules/someModule/create.js&quot;};\r\n    String[] envp     = {&quot;-c=control&quot;, &quot;-b=1&quot;};\r\n    File startingPath = new File(&quot;D:\\myProject&quot;);\r\n\r\n    Process process = Runtime.getRuntime().exec(cmdarray, envp, startingPath);\r\n\r\nI also tried to the cmdarray as a single entry and even adding the arguments at the end and leaving envp empty.\r\nBut it&#39;s not working.\r\n\r\nHow would be the correct way to write the command? And is there a difference, when I run this on Windows and Mac?","title":"Node running in Runtime.getRuntime().exec()","body":"<p>I can run the following command from the terminal in Windows:</p>\n<pre><code>D:\\myProject&gt; node ./node_modules/someModule/create.js -c control -b 1\n</code></pre>\n<p>But not if I try to run this within <code>Runtime.getRuntime().exec(cmdarray, envp, dir)</code>.</p>\n<pre><code>String[] cmdarray = {&quot;node&quot;, &quot;./node_modules/someModule/create.js&quot;};\nString[] envp     = {&quot;-c=control&quot;, &quot;-b=1&quot;};\nFile startingPath = new File(&quot;D:\\myProject&quot;);\n\nProcess process = Runtime.getRuntime().exec(cmdarray, envp, startingPath);\n</code></pre>\n<p>I also tried to the cmdarray as a single entry and even adding the arguments at the end and leaving envp empty.\nBut it's not working.</p>\n<p>How would be the correct way to write the command? And is there a difference, when I run this on Windows and Mac?</p>\n"},{"tags":["java","arraylist","hashmap"],"comments":[{"owner":{"account_id":11757171,"reputation":13,"user_id":8604495,"display_name":"Karlz-Bandz"},"score":0,"creation_date":1674482091,"post_id":75210170,"comment_id":132716856,"body_markdown":"Why my question is closed? This case describe totally different situation than in the question you have attached here. I want to delete duplicates of ArrayList inside HashMap and unfortunately your question doesn&#39;t help me in this situation.","body":"Why my question is closed? This case describe totally different situation than in the question you have attached here. I want to delete duplicates of ArrayList inside HashMap and unfortunately your question doesn&#39;t help me in this situation."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1674484719,"post_id":75210170,"comment_id":132717842,"body_markdown":"Actually the duplicate cited will solve your issue. Check out [this answer](http://stackoverflow.com/a/26135521/1552534). Starting with the solution and not the data either change the Collection type from `Object` to `List&lt;Integer&gt;` or from `Object` to `? extends Object`. It will delete the duplicate values from your map.   But remember that the keys are unordered so the remaining value may be a different key than what you want.","body":"Actually the duplicate cited will solve your issue. Check out <a href=\"http://stackoverflow.com/a/26135521/1552534\">this answer</a>. Starting with the solution and not the data either change the Collection type from <code>Object</code> to <code>List&lt;Integer&gt;</code> or from <code>Object</code> to <code>? extends Object</code>. It will delete the duplicate values from your map.   But remember that the keys are unordered so the remaining value may be a different key than what you want."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1674487080,"post_id":75210170,"comment_id":132718730,"body_markdown":"Correction.  ...the remaining value may be *`associated with`* a different key than what you want.","body":"Correction.  ...the remaining value may be <i><code>associated with</code></i> a different key than what you want."}],"owner":{"account_id":11757171,"reputation":13,"user_id":8604495,"display_name":"Karlz-Bandz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674481057,"answer_count":0,"score":0,"last_activity_date":1674480415,"creation_date":1674480355,"question_id":75210170,"body_markdown":"I need to delete all duplicates from my HashMap but those duplicates are the                  lists inside the HashMap.\r\n\r\nFor example:\r\n\r\n\r\n```\r\n\r\n\r\n      HashMap&lt;Integer, ArrayList&lt;Intteger&gt;&gt; myList = new HashMap&lt;&gt;();\r\n\r\n      myList.put(0, list0);\r\n      myList.put(1, list1);\r\n      myList.put(2, list2);\r\n      myList.put(3, list3);\r\n      myList.put(4, list4);\r\n\r\n\r\n```\r\n   Now when I display all elements of the HashMap I&#39;ve got:\r\n \r\n      0 [1,3]\r\n       1 [0,3]\r\n       2 [1,3]\r\n       3 [1,4]\r\n       4 [2,4]\r\n\r\n\r\n\r\n\r\n   How can I remove array&#39;s duplicate?\r\n      As you can see in this case elements with key 0 and 2\r\n      have the same values so I want to remove the duplicate.\r\n`\r\n\r\n\r\n","title":"How to delete duplicates values from HashMap&lt;Integer, ArrayList&lt;Integer&gt;&gt;?","body":"<p>I need to delete all duplicates from my HashMap but those duplicates are the                  lists inside the HashMap.</p>\n<p>For example:</p>\n<pre><code>\n\n      HashMap&lt;Integer, ArrayList&lt;Intteger&gt;&gt; myList = new HashMap&lt;&gt;();\n\n      myList.put(0, list0);\n      myList.put(1, list1);\n      myList.put(2, list2);\n      myList.put(3, list3);\n      myList.put(4, list4);\n\n\n</code></pre>\n<p>Now when I display all elements of the HashMap I've got:</p>\n<pre><code>  0 [1,3]\n   1 [0,3]\n   2 [1,3]\n   3 [1,4]\n   4 [2,4]\n</code></pre>\n<p>How can I remove array's duplicate?\nAs you can see in this case elements with key 0 and 2\nhave the same values so I want to remove the duplicate.\n`</p>\n"},{"tags":["java","spring","mongodb","jackson","spring-data-mongodb"],"answers":[{"comments":[{"owner":{"account_id":7377225,"reputation":1389,"user_id":5615357,"accept_rate":58,"display_name":"Philippe Simo"},"score":1,"creation_date":1602601512,"post_id":64326041,"comment_id":113768696,"body_markdown":"Thanks for this idea. Your answer actually inspired me; I&#39;ll have to add a custom converter to Spring-data MongoDB and inform him that i want to use this Jackson Serializer. Annotating the model is not enought as it turns out that Spring Data Mongo DB do not read that. I Will set up what is working for me and answer.","body":"Thanks for this idea. Your answer actually inspired me; I&#39;ll have to add a custom converter to Spring-data MongoDB and inform him that i want to use this Jackson Serializer. Annotating the model is not enought as it turns out that Spring Data Mongo DB do not read that. I Will set up what is working for me and answer."}],"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602604995,"creation_date":1602541196,"answer_id":64326041,"question_id":64316345,"body_markdown":"Since old format is predefined and you know a structure of it you can implement custom deserialiser to handle old and new format at the same time. If `errorBody` `JSON Object` contains any of these keys: `_children`, `_nodeFactory` or `_class` you know it is an old format and you need to iterate over keys in `_children` `JSON Object` and get `_value` key to find a real value. Rest of keys and values you can ignore. Simple implementation could look like below:\r\n\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.TreeNode;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonDeserializer;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n    import com.fasterxml.jackson.databind.json.JsonMapper;\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n    import lombok.Data;\r\n    import lombok.ToString;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.Iterator;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    public class JsonMongo2FormatsApp {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tFile jsonFile = new File(&quot;./resource/test.json&quot;).getAbsoluteFile();\r\n    \r\n    \t\tJsonMapper mapper = JsonMapper.builder().build();\r\n    \t\tResponse response = mapper.readValue(jsonFile, Response.class);\r\n    \t\tSystem.out.println(response.getErrorBody());\r\n    \t}\r\n    }\r\n    \r\n    @Data\r\n    @ToString\r\n    class Response {\r\n    \r\n    \t@JsonDeserialize(using = ErrorMapJsonDeserializer.class)\r\n    \tprivate Map&lt;String, String&gt; errorBody;\r\n    }\r\n    \r\n    class ErrorMapJsonDeserializer extends JsonDeserializer&lt;Map&lt;String, String&gt;&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic Map&lt;String, String&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n    \t\tTreeNode root = p.readValueAsTree();\r\n    \t\tif (!root.isObject()) {\r\n    \t\t\t// ignore everything except JSON Object\r\n    \t\t\treturn Collections.emptyMap();\r\n    \t\t}\r\n    \t\tObjectNode objectNode = (ObjectNode) root;\r\n    \t\tif (isOldFormat(objectNode)) {\r\n    \t\t\treturn deserialize(objectNode);\r\n    \t\t}\r\n    \r\n    \t\treturn toMap(objectNode);\r\n    \t}\r\n    \r\n    \tprotected boolean isOldFormat(ObjectNode objectNode) {\r\n    \t\tfinal List&lt;String&gt; oldFormatKeys = Arrays.asList(&quot;_children&quot;, &quot;_nodeFactory&quot;, &quot;_class&quot;);\r\n    \t\tfinal Iterator&lt;String&gt; iterator = objectNode.fieldNames();\r\n    \r\n    \t\twhile (iterator.hasNext()) {\r\n    \t\t\tString field = iterator.next();\r\n    \t\t\treturn oldFormatKeys.contains(field);\r\n    \t\t}\r\n    \r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tprotected Map&lt;String, String&gt; deserialize(ObjectNode root) {\r\n    \t\tJsonNode children = root.get(&quot;_children&quot;);\r\n    \t\tMap&lt;String, String&gt; result = new LinkedHashMap&lt;&gt;();\r\n    \t\tchildren.fields().forEachRemaining(entry -&gt; {\r\n    \t\t\tresult.put(entry.getKey(), entry.getValue().get(&quot;_value&quot;).toString());\r\n    \t\t});\r\n    \r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tprivate Map&lt;String, String&gt; toMap(ObjectNode objectNode) {\r\n    \t\tMap&lt;String, String&gt; result = new LinkedHashMap&lt;&gt;();\r\n    \t\tobjectNode.fields().forEachRemaining(entry -&gt; {\r\n    \t\t\tresult.put(entry.getKey(), entry.getValue().toString());\r\n    \t\t});\r\n    \r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\nAbove deserialiser should handle both formats.","title":"How to read a com.fasterxml.jackson.databind.node.TextNode from a Mongo DB and convert to a Map &lt;String, Object&gt;?","body":"<p>Since old format is predefined and you know a structure of it you can implement custom deserialiser to handle old and new format at the same time. If <code>errorBody</code> <code>JSON Object</code> contains any of these keys: <code>_children</code>, <code>_nodeFactory</code> or <code>_class</code> you know it is an old format and you need to iterate over keys in <code>_children</code> <code>JSON Object</code> and get <code>_value</code> key to find a real value. Rest of keys and values you can ignore. Simple implementation could look like below:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.TreeNode;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport lombok.Data;\nimport lombok.ToString;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Iterator;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class JsonMongo2FormatsApp {\n    public static void main(String[] args) throws IOException {\n        File jsonFile = new File(&quot;./resource/test.json&quot;).getAbsoluteFile();\n\n        JsonMapper mapper = JsonMapper.builder().build();\n        Response response = mapper.readValue(jsonFile, Response.class);\n        System.out.println(response.getErrorBody());\n    }\n}\n\n@Data\n@ToString\nclass Response {\n\n    @JsonDeserialize(using = ErrorMapJsonDeserializer.class)\n    private Map&lt;String, String&gt; errorBody;\n}\n\nclass ErrorMapJsonDeserializer extends JsonDeserializer&lt;Map&lt;String, String&gt;&gt; {\n\n    @Override\n    public Map&lt;String, String&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        TreeNode root = p.readValueAsTree();\n        if (!root.isObject()) {\n            // ignore everything except JSON Object\n            return Collections.emptyMap();\n        }\n        ObjectNode objectNode = (ObjectNode) root;\n        if (isOldFormat(objectNode)) {\n            return deserialize(objectNode);\n        }\n\n        return toMap(objectNode);\n    }\n\n    protected boolean isOldFormat(ObjectNode objectNode) {\n        final List&lt;String&gt; oldFormatKeys = Arrays.asList(&quot;_children&quot;, &quot;_nodeFactory&quot;, &quot;_class&quot;);\n        final Iterator&lt;String&gt; iterator = objectNode.fieldNames();\n\n        while (iterator.hasNext()) {\n            String field = iterator.next();\n            return oldFormatKeys.contains(field);\n        }\n\n        return false;\n    }\n\n    protected Map&lt;String, String&gt; deserialize(ObjectNode root) {\n        JsonNode children = root.get(&quot;_children&quot;);\n        Map&lt;String, String&gt; result = new LinkedHashMap&lt;&gt;();\n        children.fields().forEachRemaining(entry -&gt; {\n            result.put(entry.getKey(), entry.getValue().get(&quot;_value&quot;).toString());\n        });\n\n        return result;\n    }\n\n    private Map&lt;String, String&gt; toMap(ObjectNode objectNode) {\n        Map&lt;String, String&gt; result = new LinkedHashMap&lt;&gt;();\n        objectNode.fields().forEachRemaining(entry -&gt; {\n            result.put(entry.getKey(), entry.getValue().toString());\n        });\n\n        return result;\n    }\n}\n</code></pre>\n<p>Above deserialiser should handle both formats.</p>\n"},{"comments":[{"owner":{"account_id":7377225,"reputation":1389,"user_id":5615357,"accept_rate":58,"display_name":"Philippe Simo"},"score":1,"creation_date":1602601303,"post_id":64328251,"comment_id":113768562,"body_markdown":"Thanks @Kenany for this. According to what is currently done in the project, i&#39;ll rather go for a custom deserializer inspired by Michal Ziober [answer](https://stackoverflow.com/a/64326041/5615357).","body":"Thanks @Kenany for this. According to what is currently done in the project, i&#39;ll rather go for a custom deserializer inspired by Michal Ziober <a href=\"https://stackoverflow.com/a/64326041/5615357\">answer</a>."}],"tags":[],"owner":{"account_id":10770525,"reputation":526,"user_id":7924110,"display_name":"Kenany"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602561320,"creation_date":1602561320,"answer_id":64328251,"question_id":64316345,"body_markdown":"As I understood your issue, with the first model, you didn&#39;t really have a problem to save or to read in database but, once you wanted to fetch these datas, you noticed that the output is difficult to read. So your problem is to fetch a well readable output then you don&#39;t need to change the first model but to extends these classes and overide the **toString** method to change its behavior while fetching.\r\n\r\nThere are at least three classes to extends:\r\n\r\n - TextNode : you can&#39;t overide the toString method do that the custom class just print the value\r\n\r\n - ObjectNode : I can see that there are at least four field inside this class that you want to fecth the value: **code**, **message**, **description**. They are type of **TextNode** so you can replace them by thier extended classes. Then overide the **toString** method so that It print `fieldName: field.toString()` for each field\r\n\r\n - JsonNode : You can then extend this class and use the custom classes created above, overide the **toString** method so that It print as you want and use It instead of the common JsonNode\r\n\r\nTo work like that will make you avoid the way you save or you read the datas but just to fecth on the view.\r\n\r\nYou can consider it as a little part of the **SOLID** principle especially the **OCP** (Open an close principle: avoid to change the class behavoir but extends it to create a custom behavior) and the **LSP** (Liskov Substitution Principle: Subtypes must be behaviorlly substituable for thier base types).","title":"How to read a com.fasterxml.jackson.databind.node.TextNode from a Mongo DB and convert to a Map &lt;String, Object&gt;?","body":"<p>As I understood your issue, with the first model, you didn't really have a problem to save or to read in database but, once you wanted to fetch these datas, you noticed that the output is difficult to read. So your problem is to fetch a well readable output then you don't need to change the first model but to extends these classes and overide the <strong>toString</strong> method to change its behavior while fetching.</p>\n<p>There are at least three classes to extends:</p>\n<ul>\n<li><p>TextNode : you can't overide the toString method do that the custom class just print the value</p>\n</li>\n<li><p>ObjectNode : I can see that there are at least four field inside this class that you want to fecth the value: <strong>code</strong>, <strong>message</strong>, <strong>description</strong>. They are type of <strong>TextNode</strong> so you can replace them by thier extended classes. Then overide the <strong>toString</strong> method so that It print <code>fieldName: field.toString()</code> for each field</p>\n</li>\n<li><p>JsonNode : You can then extend this class and use the custom classes created above, overide the <strong>toString</strong> method so that It print as you want and use It instead of the common JsonNode</p>\n</li>\n</ul>\n<p>To work like that will make you avoid the way you save or you read the datas but just to fecth on the view.</p>\n<p>You can consider it as a little part of the <strong>SOLID</strong> principle especially the <strong>OCP</strong> (Open an close principle: avoid to change the class behavoir but extends it to create a custom behavior) and the <strong>LSP</strong> (Liskov Substitution Principle: Subtypes must be behaviorlly substituable for thier base types).</p>\n"},{"tags":[],"owner":{"account_id":7377225,"reputation":1389,"user_id":5615357,"accept_rate":58,"display_name":"Philippe Simo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674480403,"creation_date":1602684707,"answer_id":64355190,"question_id":64316345,"body_markdown":"Michal Ziober&#39;s answer did not completely solve the problem as we need to tell SpringData MongoDb that we want it to use the custom deserializer\r\n(Annotating the model does not work with Spring data mongodb):\r\n\r\n1) Define the custom deserializer\r\n````\r\npublic class ErrorMapJsonDeserializer extends JsonDeserializer&lt;Map&lt;String, Object&gt;&gt; {\r\n\r\n    @Override\r\n    public Map&lt;String, Object&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n        TreeNode root = p.readValueAsTree();\r\n        if (!root.isObject()) {\r\n            // ignore everything except JSON Object\r\n            return Collections.emptyMap();\r\n        }\r\n        ObjectNode objectNode = (ObjectNode) root;\r\n        if (isOldFormat(objectNode)) {\r\n            return deserialize(objectNode);\r\n        }\r\n        return toMap(objectNode);\r\n    }\r\n\r\n    protected boolean isOldFormat(ObjectNode objectNode) {\r\n        final List&lt;String&gt; oldFormatKeys = Arrays.asList(&quot;_children&quot;, &quot;_nodeFactory&quot;, &quot;_class&quot;);\r\n        final Iterator&lt;String&gt; iterator = objectNode.fieldNames();\r\n        while (iterator.hasNext()) {\r\n            String field = iterator.next();\r\n            return oldFormatKeys.contains(field);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    protected Map&lt;String, Object&gt; deserialize(ObjectNode root) {\r\n        JsonNode children = root.get(&quot;_children&quot;);\r\n        if (children.isArray()) {\r\n            children = children.get(0);\r\n            children = children.get(&quot;_children&quot;);\r\n        }\r\n        return extractValues(children);\r\n    }\r\n\r\n    private Map&lt;String, Object&gt; extractValues(JsonNode children) {\r\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\r\n        children.fields().forEachRemaining(entry -&gt; {\r\n            String key = entry.getKey();\r\n            if (!key.equals(&quot;_class&quot;))\r\n                result.put(key, entry.getValue().get(&quot;_value&quot;).toString());\r\n        });\r\n        return result;\r\n    }\r\n\r\n\r\n    private Map&lt;String, Object&gt; toMap(ObjectNode objectNode) {\r\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\r\n        objectNode.fields().forEachRemaining(entry -&gt; {\r\n            result.put(entry.getKey(), entry.getValue().toString());\r\n        });\r\n        return result;\r\n    }\r\n}\r\n````\r\n\r\n2) Create a Custom mongo converter and pass it the custom deserializer.\r\n  \r\nActually we do not pass the serializer directly but by means of an **ObjectMapper configured with that Custom deserializer**\r\n\r\n````\r\npublic class CustomMappingMongoConverter extends MappingMongoConverter {\r\n\r\n    //The configured objectMapper that will be passed during instantiation\r\n    private ObjectMapper objectMapper; \r\n\r\n    public CustomMappingMongoConverter(DbRefResolver dbRefResolver, MappingContext&lt;? extends MongoPersistentEntity&lt;?&gt;, MongoPersistentProperty&gt; mappingContext, ObjectMapper objectMapper) {\r\n        super(dbRefResolver, mappingContext);\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    @Override\r\n    public &lt;S&gt; S read(Class&lt;S&gt; clazz, Bson dbObject) {\r\n        try {\r\n            return objectMapper.readValue(dbObject.toString(), clazz);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(dbObject.toString(), e);\r\n        }\r\n    }\r\n\r\n\r\n    //in case you want to serialize with your custom objectMapper as well\r\n    @Override\r\n    public void write(Object obj, Bson dbo) {\r\n        String string = null;\r\n        try {\r\n            string = objectMapper.writeValueAsString(obj);\r\n        } catch (JsonProcessingException e) {\r\n            throw new RuntimeException(string, e);\r\n        }\r\n        ((DBObject) dbo).putAll((DBObject) BasicDBObject.parse(string));\r\n    }\r\n\r\n}\r\n````\r\n\r\n3. Create and configure the object mapper then instantiate the custom MongoMappingConverter and add it to Mongo configurations\r\n\r\n```\r\npublic class MongoConfiguration extends AbstractMongoClientConfiguration {\r\n\r\n   \r\n    //... other configuration method beans\r\n   \r\n    @Bean\r\n    @Override\r\n    public MappingMongoConverter mappingMongoConverter() throws Exception {\r\n        DbRefResolver dbRefResolver = new DefaultDbRefResolver(mongoDbFactory());\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        objectMapper.registerModule(new SimpleModule() {\r\n            {\r\n                addDeserializer(Map.class, new ErrorMapJsonDeserializer());\r\n            }\r\n        });\r\n        return new CustomMappingMongoConverter(dbRefResolver, mongoMappingContext(), objectMapper);\r\n    }\r\n}\r\n```\r\n","title":"How to read a com.fasterxml.jackson.databind.node.TextNode from a Mongo DB and convert to a Map &lt;String, Object&gt;?","body":"<p>Michal Ziober's answer did not completely solve the problem as we need to tell SpringData MongoDb that we want it to use the custom deserializer\n(Annotating the model does not work with Spring data mongodb):</p>\n<ol>\n<li>Define the custom deserializer</li>\n</ol>\n<pre><code>public class ErrorMapJsonDeserializer extends JsonDeserializer&lt;Map&lt;String, Object&gt;&gt; {\n\n    @Override\n    public Map&lt;String, Object&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        TreeNode root = p.readValueAsTree();\n        if (!root.isObject()) {\n            // ignore everything except JSON Object\n            return Collections.emptyMap();\n        }\n        ObjectNode objectNode = (ObjectNode) root;\n        if (isOldFormat(objectNode)) {\n            return deserialize(objectNode);\n        }\n        return toMap(objectNode);\n    }\n\n    protected boolean isOldFormat(ObjectNode objectNode) {\n        final List&lt;String&gt; oldFormatKeys = Arrays.asList(&quot;_children&quot;, &quot;_nodeFactory&quot;, &quot;_class&quot;);\n        final Iterator&lt;String&gt; iterator = objectNode.fieldNames();\n        while (iterator.hasNext()) {\n            String field = iterator.next();\n            return oldFormatKeys.contains(field);\n        }\n        return false;\n    }\n\n    protected Map&lt;String, Object&gt; deserialize(ObjectNode root) {\n        JsonNode children = root.get(&quot;_children&quot;);\n        if (children.isArray()) {\n            children = children.get(0);\n            children = children.get(&quot;_children&quot;);\n        }\n        return extractValues(children);\n    }\n\n    private Map&lt;String, Object&gt; extractValues(JsonNode children) {\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\n        children.fields().forEachRemaining(entry -&gt; {\n            String key = entry.getKey();\n            if (!key.equals(&quot;_class&quot;))\n                result.put(key, entry.getValue().get(&quot;_value&quot;).toString());\n        });\n        return result;\n    }\n\n\n    private Map&lt;String, Object&gt; toMap(ObjectNode objectNode) {\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\n        objectNode.fields().forEachRemaining(entry -&gt; {\n            result.put(entry.getKey(), entry.getValue().toString());\n        });\n        return result;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Create a Custom mongo converter and pass it the custom deserializer.</li>\n</ol>\n<p>Actually we do not pass the serializer directly but by means of an <strong>ObjectMapper configured with that Custom deserializer</strong></p>\n<pre><code>public class CustomMappingMongoConverter extends MappingMongoConverter {\n\n    //The configured objectMapper that will be passed during instantiation\n    private ObjectMapper objectMapper; \n\n    public CustomMappingMongoConverter(DbRefResolver dbRefResolver, MappingContext&lt;? extends MongoPersistentEntity&lt;?&gt;, MongoPersistentProperty&gt; mappingContext, ObjectMapper objectMapper) {\n        super(dbRefResolver, mappingContext);\n        this.objectMapper = objectMapper;\n    }\n\n    @Override\n    public &lt;S&gt; S read(Class&lt;S&gt; clazz, Bson dbObject) {\n        try {\n            return objectMapper.readValue(dbObject.toString(), clazz);\n        } catch (IOException e) {\n            throw new RuntimeException(dbObject.toString(), e);\n        }\n    }\n\n\n    //in case you want to serialize with your custom objectMapper as well\n    @Override\n    public void write(Object obj, Bson dbo) {\n        String string = null;\n        try {\n            string = objectMapper.writeValueAsString(obj);\n        } catch (JsonProcessingException e) {\n            throw new RuntimeException(string, e);\n        }\n        ((DBObject) dbo).putAll((DBObject) BasicDBObject.parse(string));\n    }\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>Create and configure the object mapper then instantiate the custom MongoMappingConverter and add it to Mongo configurations</li>\n</ol>\n<pre><code>public class MongoConfiguration extends AbstractMongoClientConfiguration {\n\n   \n    //... other configuration method beans\n   \n    @Bean\n    @Override\n    public MappingMongoConverter mappingMongoConverter() throws Exception {\n        DbRefResolver dbRefResolver = new DefaultDbRefResolver(mongoDbFactory());\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);\n        objectMapper.registerModule(new SimpleModule() {\n            {\n                addDeserializer(Map.class, new ErrorMapJsonDeserializer());\n            }\n        });\n        return new CustomMappingMongoConverter(dbRefResolver, mongoMappingContext(), objectMapper);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7377225,"reputation":1389,"user_id":5615357,"accept_rate":58,"display_name":"Philippe Simo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64355190,"answer_count":3,"score":1,"last_activity_date":1674480403,"creation_date":1602499640,"question_id":64316345,"body_markdown":"We are using SpringDataMongoDB in a Spring-boot app to manage our data.\r\n\r\nOur previous model was this:\r\n\r\n```\r\npublic class Response implements Serializable {\r\n    //...\r\n    private JsonNode errorBody; //&lt;-- Dynamic\r\n    //...\r\n}\r\n```\r\n```JsonNode``` FQDN is ```com.fasterxml.jackson.databind.JsonNode```\r\n\r\nWhich saved documents like so in the DB:\r\n\r\n\r\n``` \r\n&quot;response&quot;: {\r\n  ...\r\n        &quot;errorBody&quot;: {\r\n          &quot;_children&quot;: {\r\n            &quot;code&quot;: {\r\n              &quot;_value&quot;: &quot;Error-code-value&quot;,\r\n              &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.TextNode&quot;\r\n            },\r\n            &quot;message&quot;: {\r\n              &quot;_value&quot;: &quot;Error message value&quot;,\r\n              &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.TextNode&quot;\r\n            },\r\n            &quot;description&quot;: {\r\n              &quot;_value&quot;: &quot;Error description value&quot;,\r\n              &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.TextNode&quot;\r\n            }\r\n          },\r\n          &quot;_nodeFactory&quot;: {\r\n            &quot;_cfgBigDecimalExact&quot;: false\r\n          },\r\n          &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.ObjectNode&quot;\r\n     },\r\n  ...\r\n }\r\n```\r\nWe&#39;ve saved hundreds of documents like this **on the production database** without ever the need to read them programmatically as they are just kind of logs.\r\n\r\nAs we noticed that this output could be difficult to read in the future, we&#39;ve decided to change the model to this:\r\n\r\n```\r\npublic class Response implements Serializable {\r\n    //...\r\n    private Map&lt;String,Object&gt; errorBody;\r\n    //...\r\n}\r\n```\r\n\r\nThe data are now saved like so:\r\n\r\n``` \r\n&quot;response&quot;: {\r\n  ...\r\n        &quot;errorBody&quot;: {\r\n          &quot;code&quot;: &quot;Error code value&quot;,\r\n          &quot;message&quot;: &quot;Error message value&quot;,\r\n          &quot;description&quot;: &quot;Error description value&quot;,\r\n          ...\r\n        },\r\n  ...\r\n }\r\n```\r\n\r\nWhich, as you may have noticed is pretty much more simple.\r\n\r\nWhen reading the data, ex: ````repository.findAll()````\r\n\r\nThe new format is read without any issue.\r\n\r\nBut we face these issues with the old format:\r\n\r\n````org.springframework.data.mapping.MappingException: No property v found on entity class com.fasterxml.jackson.databind.node.TextNode to bind constructor parameter to! ````  \r\n\r\nOr\r\n\r\n```` org.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate com.fasterxml.jackson.databind.node.ObjectNode using constructor NO_CONSTRUCTOR with arguments ````\r\n\r\n\r\n\r\nOf course the ````TextNode```` class has a constructor with ````v```` as param but the property name is ````_value```` and ````ObjectNode```` has no default constructor: We simply can&#39;t change that.\r\n\r\nWe&#39;ve created custom converters that we&#39;ve added to our configurations.\r\n\r\n````\r\npublic class ObjectNodeWriteConverter implements Converter&lt;ObjectNode, DBObject&gt; {    \r\n    @Override\r\n    public DBObject convert(ObjectNode source) {\r\n        return BasicDBObject.parse(source.toString());\r\n    }\r\n}\r\n````\r\n````\r\npublic class ObjectNodeReadConverter implements Converter&lt;DBObject, ObjectNode&gt; {\r\n    @Override\r\n    public ObjectNode convert(DBObject source) {\r\n        try {\r\n            return new ObjectMapper().readValue(source.toString(), ObjectNode.class);\r\n        } catch (IOException e) {\r\n            throw new UncheckedIOException(e);\r\n        }\r\n    }\r\n}\r\n````\r\n\r\nWe did the same for ````TextNode````\r\n\r\nBut we still got the errors.\r\n\r\nThe converters are read as we have a ````ZonedDateTimeConverter```` that is doing his job.\r\n\r\nWe can not just wipe out or ignore the old data as we need to read them too in order to study them.\r\n\r\nHow can we set up a custom reader that will not fail reading the old format ?","title":"How to read a com.fasterxml.jackson.databind.node.TextNode from a Mongo DB and convert to a Map &lt;String, Object&gt;?","body":"<p>We are using SpringDataMongoDB in a Spring-boot app to manage our data.</p>\n<p>Our previous model was this:</p>\n<pre><code>public class Response implements Serializable {\n    //...\n    private JsonNode errorBody; //&lt;-- Dynamic\n    //...\n}\n</code></pre>\n<p><code>JsonNode</code> FQDN is <code>com.fasterxml.jackson.databind.JsonNode</code></p>\n<p>Which saved documents like so in the DB:</p>\n<pre><code>&quot;response&quot;: {\n  ...\n        &quot;errorBody&quot;: {\n          &quot;_children&quot;: {\n            &quot;code&quot;: {\n              &quot;_value&quot;: &quot;Error-code-value&quot;,\n              &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.TextNode&quot;\n            },\n            &quot;message&quot;: {\n              &quot;_value&quot;: &quot;Error message value&quot;,\n              &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.TextNode&quot;\n            },\n            &quot;description&quot;: {\n              &quot;_value&quot;: &quot;Error description value&quot;,\n              &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.TextNode&quot;\n            }\n          },\n          &quot;_nodeFactory&quot;: {\n            &quot;_cfgBigDecimalExact&quot;: false\n          },\n          &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.ObjectNode&quot;\n     },\n  ...\n }\n</code></pre>\n<p>We've saved hundreds of documents like this <strong>on the production database</strong> without ever the need to read them programmatically as they are just kind of logs.</p>\n<p>As we noticed that this output could be difficult to read in the future, we've decided to change the model to this:</p>\n<pre><code>public class Response implements Serializable {\n    //...\n    private Map&lt;String,Object&gt; errorBody;\n    //...\n}\n</code></pre>\n<p>The data are now saved like so:</p>\n<pre><code>&quot;response&quot;: {\n  ...\n        &quot;errorBody&quot;: {\n          &quot;code&quot;: &quot;Error code value&quot;,\n          &quot;message&quot;: &quot;Error message value&quot;,\n          &quot;description&quot;: &quot;Error description value&quot;,\n          ...\n        },\n  ...\n }\n</code></pre>\n<p>Which, as you may have noticed is pretty much more simple.</p>\n<p>When reading the data, ex: <code>repository.findAll()</code></p>\n<p>The new format is read without any issue.</p>\n<p>But we face these issues with the old format:</p>\n<p><code>org.springframework.data.mapping.MappingException: No property v found on entity class com.fasterxml.jackson.databind.node.TextNode to bind constructor parameter to! </code></p>\n<p>Or</p>\n<p><code>org.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate com.fasterxml.jackson.databind.node.ObjectNode using constructor NO_CONSTRUCTOR with arguments</code></p>\n<p>Of course the <code>TextNode</code> class has a constructor with <code>v</code> as param but the property name is <code>_value</code> and <code>ObjectNode</code> has no default constructor: We simply can't change that.</p>\n<p>We've created custom converters that we've added to our configurations.</p>\n<pre><code>public class ObjectNodeWriteConverter implements Converter&lt;ObjectNode, DBObject&gt; {    \n    @Override\n    public DBObject convert(ObjectNode source) {\n        return BasicDBObject.parse(source.toString());\n    }\n}\n</code></pre>\n<pre><code>public class ObjectNodeReadConverter implements Converter&lt;DBObject, ObjectNode&gt; {\n    @Override\n    public ObjectNode convert(DBObject source) {\n        try {\n            return new ObjectMapper().readValue(source.toString(), ObjectNode.class);\n        } catch (IOException e) {\n            throw new UncheckedIOException(e);\n        }\n    }\n}\n</code></pre>\n<p>We did the same for <code>TextNode</code></p>\n<p>But we still got the errors.</p>\n<p>The converters are read as we have a <code>ZonedDateTimeConverter</code> that is doing his job.</p>\n<p>We can not just wipe out or ignore the old data as we need to read them too in order to study them.</p>\n<p>How can we set up a custom reader that will not fail reading the old format ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":4,"creation_date":1674472314,"post_id":75208637,"comment_id":132713717,"body_markdown":"The error message is about the `getInventory` method, which is not present in the interface, so it can&#39;t be overridden.","body":"The error message is about the <code>getInventory</code> method, which is not present in the interface, so it can&#39;t be overridden."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674472490,"post_id":75208637,"comment_id":132713765,"body_markdown":"the Override annotation indicates that it&#39;s either in an interface you implement, or in a super class. If it&#39;s not, it can&#39;t be an overrided method, and can&#39;t have that annotation","body":"the Override annotation indicates that it&#39;s either in an interface you implement, or in a super class. If it&#39;s not, it can&#39;t be an overrided method, and can&#39;t have that annotation"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674472561,"post_id":75208637,"comment_id":132713789,"body_markdown":"You are sure that the question is swing related? Please review the used tags","body":"You are sure that the question is swing related? Please review the used tags"},{"owner":{"account_id":21884076,"reputation":107,"user_id":16171930,"display_name":"Aniket Thorat"},"score":0,"creation_date":1674480451,"post_id":75208637,"comment_id":132716288,"body_markdown":"sorry I have uploaded wrong  image of error message its get pet method only","body":"sorry I have uploaded wrong  image of error message its get pet method only"}],"owner":{"account_id":21884076,"reputation":107,"user_id":16171930,"display_name":"Aniket Thorat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674480332,"creation_date":1674472114,"question_id":75208637,"body_markdown":"I am having same method name and signature in both Service and implementation class and I am getting error ```Remove @Override annotation``` for add addPet\r\n\r\n``` PetApiService interface```\r\n\r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.JavaJAXRSCXFCDIServerCodegen&quot;, date = &quot;2023-01-18T09:57:54.080Z[GMT]&quot;)public interface PetApiService {\r\n          public Response addPet(Pet body, SecurityContext securityContext);\r\n          public Response addPet(Long id, String name, Category category, List&lt;String&gt; photoUrls, List&lt;Tag&gt; tags, String status, SecurityContext securityContext);\r\n          public Response deletePet(Long petId, String apiKey, SecurityContext securityContext);\r\n          public Response findPetsByStatus(String status, SecurityContext securityContext);\r\n          public Response findPetsByTags(List&lt;String&gt; tags, SecurityContext securityContext);\r\n          public Response getPetById(Long petId, SecurityContext securityContext);\r\n          public Response updatePet(Pet body, SecurityContext securityContext);\r\n          public Response updatePet(Long id, String name, Category category, List&lt;String&gt; photoUrls, List&lt;Tag&gt; tags, String status, SecurityContext securityContext);\r\n          public Response updatePetWithForm(Long petId, String name, String status, SecurityContext securityContext);\r\n          public Response uploadFile(Long petId, Object body, String additionalMetadata, SecurityContext securityContext);\r\n    }\r\n\r\n\r\n\r\n\r\n```PetApiServiceImpl.class```\r\n\r\n    @RequestScoped\r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.JavaJAXRSCXFCDIServerCodegen&quot;, date = &quot;2023-01-18T09:57:54.080Z[GMT]&quot;)public class PetApiServiceImpl implements PetApiService {\r\n          @Override\r\n          public Response addPet(Pet body, SecurityContext securityContext) {\r\n          // do some magic!\r\n          return Response.ok().entity(&quot;magic!&quot;).build();\r\n      }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wEDXb.png","title":"Remove @Override annotation java","body":"<p>I am having same method name and signature in both Service and implementation class and I am getting error <code>Remove @Override annotation</code> for add addPet</p>\n<p><code> PetApiService interface</code></p>\n<pre><code>@javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.JavaJAXRSCXFCDIServerCodegen&quot;, date = &quot;2023-01-18T09:57:54.080Z[GMT]&quot;)public interface PetApiService {\n      public Response addPet(Pet body, SecurityContext securityContext);\n      public Response addPet(Long id, String name, Category category, List&lt;String&gt; photoUrls, List&lt;Tag&gt; tags, String status, SecurityContext securityContext);\n      public Response deletePet(Long petId, String apiKey, SecurityContext securityContext);\n      public Response findPetsByStatus(String status, SecurityContext securityContext);\n      public Response findPetsByTags(List&lt;String&gt; tags, SecurityContext securityContext);\n      public Response getPetById(Long petId, SecurityContext securityContext);\n      public Response updatePet(Pet body, SecurityContext securityContext);\n      public Response updatePet(Long id, String name, Category category, List&lt;String&gt; photoUrls, List&lt;Tag&gt; tags, String status, SecurityContext securityContext);\n      public Response updatePetWithForm(Long petId, String name, String status, SecurityContext securityContext);\n      public Response uploadFile(Long petId, Object body, String additionalMetadata, SecurityContext securityContext);\n}\n</code></pre>\n<p><code>PetApiServiceImpl.class</code></p>\n<pre><code>@RequestScoped\n@javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.JavaJAXRSCXFCDIServerCodegen&quot;, date = &quot;2023-01-18T09:57:54.080Z[GMT]&quot;)public class PetApiServiceImpl implements PetApiService {\n      @Override\n      public Response addPet(Pet body, SecurityContext securityContext) {\n      // do some magic!\n      return Response.ok().entity(&quot;magic!&quot;).build();\n  }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wEDXb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wEDXb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1674241467,"post_id":75188237,"comment_id":132680433,"body_markdown":"Hello. Could you include more details about *what* is confusing you? For instance is it some fragment of [documentation](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-) of that method, or maybe from tutorial about [reduction](https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html)?","body":"Hello. Could you include more details about <i>what</i> is confusing you? For instance is it some fragment of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\">documentation</a> of that method, or maybe from tutorial about <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html\" rel=\"nofollow noreferrer\">reduction</a>?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1674241624,"post_id":75188237,"comment_id":132680475,"body_markdown":"Also have you seen description of reduction in documentation https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction?","body":"Also have you seen description of reduction in documentation <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>?"},{"owner":{"account_id":8246209,"reputation":2826,"user_id":6202210,"accept_rate":52,"display_name":"s1n7ax"},"score":0,"creation_date":1674242017,"post_id":75188237,"comment_id":132680589,"body_markdown":"@Pshemo The example in the doc looks like same can be achieved using 2nd overload of the reduce, or is it? Reduction does not include an example of the 3rd overload I think.","body":"@Pshemo The example in the doc looks like same can be achieved using 2nd overload of the reduce, or is it? Reduction does not include an example of the 3rd overload I think."},{"owner":{"account_id":4500804,"reputation":2165,"user_id":3659361,"accept_rate":62,"display_name":"May Rest in Peace"},"score":2,"creation_date":1674242443,"post_id":75188237,"comment_id":132680690,"body_markdown":"@s1n7ax, If you are transforming from Collection&lt;T&gt; to T, you don&#39; t need the third version. Or if you are using sequential stream, you don&#39;t need the third version. You only need the third version when you are transforming from Collection&lt;T&gt; to U using parallel streams","body":"@s1n7ax, If you are transforming from Collection&lt;T&gt; to T, you don&#39; t need the third version. Or if you are using sequential stream, you don&#39;t need the third version. You only need the third version when you are transforming from Collection&lt;T&gt; to U using parallel streams"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1674242827,"post_id":75188237,"comment_id":132680768,"body_markdown":"&quot;How it works?&quot; the specific *implementation* of that method depends on context so it is hard to say how it *works*, we can only describe main idea behind it, which is that in some cases it *may be* possible to improve performance by splitting data in stream into some portions, and letting more threads reduce them. The `accumulator` describes how each thread should do it. But when those threads are done (or at least some of them are) we need some way to *combine* those result. That is the job of `combiner`.","body":"&quot;How it works?&quot; the specific <i>implementation</i> of that method depends on context so it is hard to say how it <i>works</i>, we can only describe main idea behind it, which is that in some cases it <i>may be</i> possible to improve performance by splitting data in stream into some portions, and letting more threads reduce them. The <code>accumulator</code> describes how each thread should do it. But when those threads are done (or at least some of them are) we need some way to <i>combine</i> those result. That is the job of <code>combiner</code>."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1674246626,"post_id":75188237,"comment_id":132681616,"body_markdown":"Does this answer your question? [Why is a combiner needed for reduce method that converts type in java 8](https://stackoverflow.com/questions/24308146/why-is-a-combiner-needed-for-reduce-method-that-converts-type-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24308146/why-is-a-combiner-needed-for-reduce-method-that-converts-type-in-java-8\">Why is a combiner needed for reduce method that converts type in java 8</a>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1674246664,"post_id":75188237,"comment_id":132681620,"body_markdown":"Also https://stackoverflow.com/q/30015971/525036","body":"Also <a href=\"https://stackoverflow.com/q/30015971/525036\">stackoverflow.com/q/30015971/525036</a>"}],"answers":[{"comments":[{"owner":{"account_id":8246209,"reputation":2826,"user_id":6202210,"accept_rate":52,"display_name":"s1n7ax"},"score":0,"creation_date":1674242931,"post_id":75188458,"comment_id":132680801,"body_markdown":"Ok I see. So does that mean the copies of `identity` are created in each thread and using the `combiner` function to help combine all of them?","body":"Ok I see. So does that mean the copies of <code>identity</code> are created in each thread and using the <code>combiner</code> function to help combine all of them?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1674243230,"post_id":75188458,"comment_id":132680879,"body_markdown":"@s1n7ax There is no need to create copy of `identity`, since it is never modified. Note that *reduction* only uses elements to create *new result*.","body":"@s1n7ax There is no need to create copy of <code>identity</code>, since it is never modified. Note that <i>reduction</i> only uses elements to create <i>new result</i>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1674244037,"post_id":75188458,"comment_id":132681074,"body_markdown":"@s1n7ax Actually main difference between `reduce` and `collect` is that `accumulator` in reduce *produces* new object representing current result, which at each &quot;iteration&quot; is reassigned to local variable ***result***. It is expressed via `result = accumulator.apply(result, element)`. In case of *collecting* the accumulator *modifies initial identity* and never creates new object to assign it to ***result***. This is expressed via `accumulator.accept(result, element);` (there is no need for `result = ...` part).","body":"@s1n7ax Actually main difference between <code>reduce</code> and <code>collect</code> is that <code>accumulator</code> in reduce <i>produces</i> new object representing current result, which at each &quot;iteration&quot; is reassigned to local variable <b><i>result</i></b>. It is expressed via <code>result = accumulator.apply(result, element)</code>. In case of <i>collecting</i> the accumulator <i>modifies initial identity</i> and never creates new object to assign it to <b><i>result</i></b>. This is expressed via <code>accumulator.accept(result, element);</code> (there is no need for <code>result = ...</code> part)."}],"tags":[],"owner":{"account_id":4500804,"reputation":2165,"user_id":3659361,"accept_rate":62,"display_name":"May Rest in Peace"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674241989,"creation_date":1674241989,"answer_id":75188458,"question_id":75188237,"body_markdown":"If I understand correctly, your question is about the third argument `combiner`.\r\n\r\nFirstly, one of the goals of Java was to have similar APIs for sequential and parallel streams.\r\nThe 3-argument version of `reduce` is useful for parallel streams.\r\n\r\nSuppose you are reducing from value of `Collection&lt;T&gt;` to `U` type and you are using parallel stream versions. The parallel stream splits the collection T into smaller streams and generates a u&#39; value for each by using the second function. But now these different u&#39; values have to be combined ? How do they get *combined* ? The third function is the one that provides that logic.","title":"How Stream.reduce(identity, accumulator, combiner) works?","body":"<p>If I understand correctly, your question is about the third argument <code>combiner</code>.</p>\n<p>Firstly, one of the goals of Java was to have similar APIs for sequential and parallel streams.\nThe 3-argument version of <code>reduce</code> is useful for parallel streams.</p>\n<p>Suppose you are reducing from value of <code>Collection&lt;T&gt;</code> to <code>U</code> type and you are using parallel stream versions. The parallel stream splits the collection T into smaller streams and generates a u' value for each by using the second function. But now these different u' values have to be combined ? How do they get <em>combined</em> ? The third function is the one that provides that logic.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674480274,"creation_date":1674246708,"answer_id":75189051,"question_id":75188237,"body_markdown":"**Note:** Some of the examples are contrived for demonstration.  In some instances a simple `.sum()` could have been used.\r\n\r\nThe big difference, imo, is that the third form has a `BiFunction` as a second argument instead of a `BinaryOperator`.  So you can use the third form to change the result type.  It also has a `BinaryOperator` as a combiner to combine the different results from parallel operations.\r\n\r\nGenerate some data\r\n```\r\nrecord Data(String name, int value) {}\r\n\r\nRandom r = new Random();\r\nList&lt;Data&gt; dataList = r.ints(1000, 1, 20).mapToObj(i-&gt;new Data(&quot;Item&quot;+i, i)).toList();\r\n```\r\nNo parallel operation but different types.  But the third argument is required so just return the sum.\r\n```\r\nint sum = dataList.stream().reduce(0, (item, data) -&gt; item + data.value,\r\n        (finalSum, partialSum) -&gt; finalSum);\r\nSystem.out.println(sum);\r\n\r\n```\r\nprints\r\n```\r\n10162\r\n```\r\nThe second form.  Use map to get the value to be summed. `BinaryOperator` used here since types are the same and no parallel operation.\r\n```\r\nsum = dataList.stream().map(Data::value).reduce(0, (sum1,val)-&gt;sum1+val);\r\nSystem.out.println(sum); // print same as above\r\n```\r\nThis shows the same as above but in parallel.  The third argument accumulates partial sums. And those sums are accumulated as the next thread finishes so there may not be a sensible order to the output.\r\n```\r\nsum = dataList.parallelStream().reduce(0, (sum1, data) -&gt; sum1 + data.value,\r\n        (finalSum, partialSum) -&gt; {\r\n           \r\n            System.out.println(&quot;Adding &quot; + partialSum + &quot; to &quot; + finalSum);\r\n            finalSum += partialSum;\r\n            return finalSum;\r\n        });\r\nSystem.out.println(sum);\r\n```\r\nprints something like the following\r\n```\r\nAdding 586 to 670\r\nAdding 567 to 553\r\nAdding 1256 to 1120\r\nAdding 715 to 620\r\nAdding 624 to 601\r\nAdding 1335 to 1225\r\nAdding 2560 to 2376\r\nAdding 662 to 579\r\nAdding 706 to 715\r\nAdding 1421 to 1241\r\nAdding 713 to 689\r\nAdding 576 to 586\r\nAdding 1402 to 1162\r\nAdding 2662 to 2564\r\nAdding 4936 to 5226\r\n10162\r\n```\r\nOne final note.  None of the  `Collectors.reducing` methods have a `BiFunction` to handle different types.  To handle this the second argument is  a `Function` to act as a mapper so the third argument, a `BinaryOperator` can collect the values.\r\n```\r\nsum = dataList.parallelStream().collect(\r\n       Collectors.reducing(0, Data::value, (finalSum, partialSum) -&gt; {\r\n           System.out.println(\r\n                   &quot;Adding &quot; + partialSum + &quot; to &quot; + finalSum);      \r\n           return finalSum + partialSum;\r\n       }));\r\n\r\nSystem.out.println(sum);\r\n```\r\n","title":"How Stream.reduce(identity, accumulator, combiner) works?","body":"<p><strong>Note:</strong> Some of the examples are contrived for demonstration.  In some instances a simple <code>.sum()</code> could have been used.</p>\n<p>The big difference, imo, is that the third form has a <code>BiFunction</code> as a second argument instead of a <code>BinaryOperator</code>.  So you can use the third form to change the result type.  It also has a <code>BinaryOperator</code> as a combiner to combine the different results from parallel operations.</p>\n<p>Generate some data</p>\n<pre><code>record Data(String name, int value) {}\n\nRandom r = new Random();\nList&lt;Data&gt; dataList = r.ints(1000, 1, 20).mapToObj(i-&gt;new Data(&quot;Item&quot;+i, i)).toList();\n</code></pre>\n<p>No parallel operation but different types.  But the third argument is required so just return the sum.</p>\n<pre><code>int sum = dataList.stream().reduce(0, (item, data) -&gt; item + data.value,\n        (finalSum, partialSum) -&gt; finalSum);\nSystem.out.println(sum);\n\n</code></pre>\n<p>prints</p>\n<pre><code>10162\n</code></pre>\n<p>The second form.  Use map to get the value to be summed. <code>BinaryOperator</code> used here since types are the same and no parallel operation.</p>\n<pre><code>sum = dataList.stream().map(Data::value).reduce(0, (sum1,val)-&gt;sum1+val);\nSystem.out.println(sum); // print same as above\n</code></pre>\n<p>This shows the same as above but in parallel.  The third argument accumulates partial sums. And those sums are accumulated as the next thread finishes so there may not be a sensible order to the output.</p>\n<pre><code>sum = dataList.parallelStream().reduce(0, (sum1, data) -&gt; sum1 + data.value,\n        (finalSum, partialSum) -&gt; {\n           \n            System.out.println(&quot;Adding &quot; + partialSum + &quot; to &quot; + finalSum);\n            finalSum += partialSum;\n            return finalSum;\n        });\nSystem.out.println(sum);\n</code></pre>\n<p>prints something like the following</p>\n<pre><code>Adding 586 to 670\nAdding 567 to 553\nAdding 1256 to 1120\nAdding 715 to 620\nAdding 624 to 601\nAdding 1335 to 1225\nAdding 2560 to 2376\nAdding 662 to 579\nAdding 706 to 715\nAdding 1421 to 1241\nAdding 713 to 689\nAdding 576 to 586\nAdding 1402 to 1162\nAdding 2662 to 2564\nAdding 4936 to 5226\n10162\n</code></pre>\n<p>One final note.  None of the  <code>Collectors.reducing</code> methods have a <code>BiFunction</code> to handle different types.  To handle this the second argument is  a <code>Function</code> to act as a mapper so the third argument, a <code>BinaryOperator</code> can collect the values.</p>\n<pre><code>sum = dataList.parallelStream().collect(\n       Collectors.reducing(0, Data::value, (finalSum, partialSum) -&gt; {\n           System.out.println(\n                   &quot;Adding &quot; + partialSum + &quot; to &quot; + finalSum);      \n           return finalSum + partialSum;\n       }));\n\nSystem.out.println(sum);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674467333,"post_id":75189377,"comment_id":132712341,"body_markdown":"Maybe, it’s better with an example of only potentially skipping conversion costs, e.g. `(d, n) -&gt; d.equals(&quot;1&quot;)? n: new BigDecimal(n).multiply(d)`. This still is only useful in cases with significant likelihood of encountering `&quot;1&quot;` in the stream. I’m not sure whether I ever saw an actual real life example exploiting the advantages of this method. Even weirder is [the collector](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#reducing(U,java.util.function.Function,java.util.function.BinaryOperator)) which has no optimization potential at all.","body":"Maybe, it’s better with an example of only potentially skipping conversion costs, e.g. <code>(d, n) -&gt; d.equals(&quot;1&quot;)? n: new BigDecimal(n).multiply(d)</code>. This still is only useful in cases with significant likelihood of encountering <code>&quot;1&quot;</code> in the stream. I’m not sure whether I ever saw an actual real life example exploiting the advantages of this method. Even weirder is <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#reducing(U,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\">the collector</a> which has no optimization potential at all."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1674467761,"post_id":75189377,"comment_id":132712470,"body_markdown":"@Holger `d.equals(&quot;1&quot;)` could be implemented as a preemptive `filter`. Why do you say the collector has no optimization potential?","body":"@Holger <code>d.equals(&quot;1&quot;)</code> could be implemented as a preemptive <code>filter</code>. Why do you say the collector has no optimization potential?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674468094,"post_id":75189377,"comment_id":132712556,"body_markdown":"Note that I have `n` and `d` swapped in my example. And yes, it could have been filtered instead. As said, it’s hard to come up with an actual useful example. Maybe, `(d, s) -&gt; s.equals(&quot;2&quot;)? d.add(d): new BigDecimal(s).multiply(d)`. The collector has no optimization potential because, unlike the three-arg `reduce`, there is no fusion of the conversion and the reduction function; it receives exactly the same kind of `Function`, a preceding `map` (or `Collector.mapping`) step would get and it can’t be implemented differently than what `mapping(function, reducing(…))` does.","body":"Note that I have <code>n</code> and <code>d</code> swapped in my example. And yes, it could have been filtered instead. As said, it’s hard to come up with an actual useful example. Maybe, <code>(d, s) -&gt; s.equals(&quot;2&quot;)? d.add(d): new BigDecimal(s).multiply(d)</code>. The collector has no optimization potential because, unlike the three-arg <code>reduce</code>, there is no fusion of the conversion and the reduction function; it receives exactly the same kind of <code>Function</code>, a preceding <code>map</code> (or <code>Collector.mapping</code>) step would get and it can’t be implemented differently than what <code>mapping(function, reducing(…))</code> does."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674249114,"creation_date":1674249114,"answer_id":75189377,"question_id":75188237,"body_markdown":"Basically it combines a mapping function with a reduction. Most of the examples I&#39;ve seen for this don&#39;t really demonstrate why it&#39;s preferrable to calling `map()` and a normal `reduce()` in separate steps. The API Note comes in handy here:\r\n\r\n&gt; Many reductions using this form can be represented more simply by an explicit combination of `map` and `reduce` operations. The `accumulator` function acts as a fused mapper and accumulator, which can sometimes be more efficient than separate mapping and reduction, such as when knowing the previously reduced value allows you to avoid some computation.\r\n\r\nSo let&#39;s say we have a `Stream&lt;String&gt; numbers`, and we want to parse them to `BigDecimal` and calculate their product. We could do something like this:\r\n\r\n    BigDecimal product = numbers.map(BigDecimal::new)\r\n            .reduce(BigDecimal.ONE, BigDecimal::multiply);\r\n\r\nBut this has an inefficiency. If one of the numbers is &quot;0&quot;, we&#39;re wasting cycles converting the remainder to `BigDecimal`. We can use the 3-arg `reduce()` here to bypass the mapping logic:\r\n\r\n    BigDecimal product = numbers.reduce(BigDecimal.ONE,\r\n            (d, n) -&gt; d.equals(BigDecimal.ZERO) ? BigDecimal.ZERO : new BigDecimal(n).multiply(d),\r\n            BigDecimal::multiply);\r\n\r\nOf course it would be even more efficient to short-circuit the stream entirely, but that&#39;s tricky to do in a stream, especially in parallel. And this is just an example to get the concept across.","title":"How Stream.reduce(identity, accumulator, combiner) works?","body":"<p>Basically it combines a mapping function with a reduction. Most of the examples I've seen for this don't really demonstrate why it's preferrable to calling <code>map()</code> and a normal <code>reduce()</code> in separate steps. The API Note comes in handy here:</p>\n<blockquote>\n<p>Many reductions using this form can be represented more simply by an explicit combination of <code>map</code> and <code>reduce</code> operations. The <code>accumulator</code> function acts as a fused mapper and accumulator, which can sometimes be more efficient than separate mapping and reduction, such as when knowing the previously reduced value allows you to avoid some computation.</p>\n</blockquote>\n<p>So let's say we have a <code>Stream&lt;String&gt; numbers</code>, and we want to parse them to <code>BigDecimal</code> and calculate their product. We could do something like this:</p>\n<pre><code>BigDecimal product = numbers.map(BigDecimal::new)\n        .reduce(BigDecimal.ONE, BigDecimal::multiply);\n</code></pre>\n<p>But this has an inefficiency. If one of the numbers is &quot;0&quot;, we're wasting cycles converting the remainder to <code>BigDecimal</code>. We can use the 3-arg <code>reduce()</code> here to bypass the mapping logic:</p>\n<pre><code>BigDecimal product = numbers.reduce(BigDecimal.ONE,\n        (d, n) -&gt; d.equals(BigDecimal.ZERO) ? BigDecimal.ZERO : new BigDecimal(n).multiply(d),\n        BigDecimal::multiply);\n</code></pre>\n<p>Of course it would be even more efficient to short-circuit the stream entirely, but that's tricky to do in a stream, especially in parallel. And this is just an example to get the concept across.</p>\n"}],"owner":{"account_id":8246209,"reputation":2826,"user_id":6202210,"accept_rate":52,"display_name":"s1n7ax"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1674480274,"creation_date":1674240507,"question_id":75188237,"body_markdown":"`Stream.reduce` has 3 method overloads.\r\n\r\n```\r\nreduce(BinaryOperator&lt;T&gt; accumulator)\r\nreduce(T identity, BinaryOperator&lt;T&gt; accumulator)\r\nreduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)\r\n```\r\n\r\n* 1st overload can be used to calculate sum of integer list for example.\r\n* 2nd overload is the same but if the list is empty it just returns the default value.\r\n\r\nI&#39;m having a hard time understanding how third overload (`Stream.reduce(identity, accumulator, combiner)`) works and what is a use case of that. So, how does it work, and why does that exists?","title":"How Stream.reduce(identity, accumulator, combiner) works?","body":"<p><code>Stream.reduce</code> has 3 method overloads.</p>\n<pre><code>reduce(BinaryOperator&lt;T&gt; accumulator)\nreduce(T identity, BinaryOperator&lt;T&gt; accumulator)\nreduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)\n</code></pre>\n<ul>\n<li>1st overload can be used to calculate sum of integer list for example.</li>\n<li>2nd overload is the same but if the list is empty it just returns the default value.</li>\n</ul>\n<p>I'm having a hard time understanding how third overload (<code>Stream.reduce(identity, accumulator, combiner)</code>) works and what is a use case of that. So, how does it work, and why does that exists?</p>\n"},{"tags":["java","postgresql"],"answers":[{"comments":[{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1674480903,"post_id":75210130,"comment_id":132716443,"body_markdown":"Many Thanks for ur valuable suggestion. Will implement and try out this and let u know the result.","body":"Many Thanks for ur valuable suggestion. Will implement and try out this and let u know the result."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674480139,"creation_date":1674480139,"answer_id":75210130,"question_id":75209780,"body_markdown":"You can call [`Statement.getWarnings()`](https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#getWarnings--) like\r\n\r\n    isSuccess = (status == 0) || (status &gt; 0);\r\n    if (!isSuccess) {\r\n        SQLWarning swarn = stmt.getWarnings();\r\n        while (swarn != null) {\r\n            LOGGER.warn(swarn);\r\n            swarn = swarn.getNextWarning();\r\n        }\r\n    }\r\n\r\n","title":"How to CATCH the error raised from Postgresql stored procedure in JAVA","body":"<p>You can call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#getWarnings--\" rel=\"nofollow noreferrer\"><code>Statement.getWarnings()</code></a> like</p>\n<pre><code>isSuccess = (status == 0) || (status &gt; 0);\nif (!isSuccess) {\n    SQLWarning swarn = stmt.getWarnings();\n    while (swarn != null) {\n        LOGGER.warn(swarn);\n        swarn = swarn.getNextWarning();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674480139,"creation_date":1674478231,"question_id":75209780,"body_markdown":"I have the below error code inside a SP. The SP is being created to save records in the postgresql DB. Before the record insert it checks if the combination is already present in the DB. Sorry I can not provide all SP code details but I would replicate the error scenario as below :\r\n\r\n    IF (var_RecordCount &lt;&gt; 0) THEN\r\n        \r\n        RAISE &#39;Error %, severity %, state % was raised. Message: %.&#39;, &#39;50000&#39;, 5, 1, &#39;Selected combination is already present in Database...&#39; USING ERRCODE = &#39;50000&#39;;\r\n\r\n    ELSE\r\n        --- DO Something Else\r\n\r\nI am using java (Spring Boot) to call the SP as below :\r\n\r\n        Connection conn = DatabaseConnection.connect();\r\n\t\tPreparedStatement stmt = null;\r\n\t\t\r\n\t\tBoolean isSuccess = false;\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\t\t\r\n\t\t\tstmt = conn.prepareStatement(&quot;call public.my-sp(?,?,?,?,?,?);&quot;);\r\n\t\t\tstmt.setInt(1, &quot;&quot;);\r\n\t\t\tstmt.setString(2, &quot;&quot;);\r\n\t\t\tstmt.setString(3, &quot;&quot;);\r\n\t\t\tstmt.setString(4, &quot;&quot;);\r\n\t\t\tstmt.setString(5, &quot;&quot;);\r\n\t\t\tstmt.setString(6, &quot;&quot;);\r\n\t\t\t\r\n\t\t\tint status = stmt.executeUpdate();\r\n\t\t\tisSuccess = (status == 0) || (status &gt; 0);\r\n\t\t\t\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(&quot;Error occurred during calling SP : my_sp().&quot;, e);\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tstmt.close();\r\n\t\t\t\tconn.close();\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\tLOGGER.error(&quot;Error in connection close.&quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\treturn isSuccess;\r\n\r\n\r\nMy question is in Java how can I catch the error being raised from inside the SP. Are there any available methods to do that.\r\n","title":"How to CATCH the error raised from Postgresql stored procedure in JAVA","body":"<p>I have the below error code inside a SP. The SP is being created to save records in the postgresql DB. Before the record insert it checks if the combination is already present in the DB. Sorry I can not provide all SP code details but I would replicate the error scenario as below :</p>\n<pre><code>IF (var_RecordCount &lt;&gt; 0) THEN\n    \n    RAISE 'Error %, severity %, state % was raised. Message: %.', '50000', 5, 1, 'Selected combination is already present in Database...' USING ERRCODE = '50000';\n\nELSE\n    --- DO Something Else\n</code></pre>\n<p>I am using java (Spring Boot) to call the SP as below :</p>\n<pre><code>    Connection conn = DatabaseConnection.connect();\n    PreparedStatement stmt = null;\n    \n    Boolean isSuccess = false;\n    \n    try {\n                \n        stmt = conn.prepareStatement(&quot;call public.my-sp(?,?,?,?,?,?);&quot;);\n        stmt.setInt(1, &quot;&quot;);\n        stmt.setString(2, &quot;&quot;);\n        stmt.setString(3, &quot;&quot;);\n        stmt.setString(4, &quot;&quot;);\n        stmt.setString(5, &quot;&quot;);\n        stmt.setString(6, &quot;&quot;);\n        \n        int status = stmt.executeUpdate();\n        isSuccess = (status == 0) || (status &gt; 0);\n        \n\n    } catch (Exception e) {\n        LOGGER.error(&quot;Error occurred during calling SP : my_sp().&quot;, e);\n    } finally {\n        try {\n            stmt.close();\n            conn.close();\n        } catch (SQLException e) {\n            LOGGER.error(&quot;Error in connection close.&quot;, e);\n        }\n    }\n\n\n    return isSuccess;\n</code></pre>\n<p>My question is in Java how can I catch the error being raised from inside the SP. Are there any available methods to do that.</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":1,"creation_date":1674418410,"post_id":75202618,"comment_id":132705364,"body_markdown":"Maybe use [RecyclerView.Adapter#notifyItemRemoved(int)](https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.Adapter#notifyItemRemoved(int))?","body":"Maybe use <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.Adapter#notifyItemRemoved(int)\" rel=\"nofollow noreferrer\">RecyclerView.Adapter#notifyItemRemoved(int)</a>?"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1674419129,"post_id":75202618,"comment_id":132705509,"body_markdown":"You are using `notifyItemChanged` which is usually used to notify the adapter that an item at a given position is &quot;changed&quot;. You should be using `notifyItemRemoved` to notify that adapter that the item at given position should be removed from RV.","body":"You are using <code>notifyItemChanged</code> which is usually used to notify the adapter that an item at a given position is &quot;changed&quot;. You should be using <code>notifyItemRemoved</code> to notify that adapter that the item at given position should be removed from RV."},{"owner":{"account_id":19217402,"reputation":67,"user_id":14041897,"display_name":"Hamza Khan"},"score":0,"creation_date":1674419494,"post_id":75202618,"comment_id":132705579,"body_markdown":"Changing `notifyItemChanged` to `notifyItemRemoved` still doesn&#39;t work.","body":"Changing <code>notifyItemChanged</code> to <code>notifyItemRemoved</code> still doesn&#39;t work."}],"answers":[{"comments":[{"owner":{"account_id":26184382,"reputation":9,"user_id":19867158,"display_name":"Nader"},"score":0,"creation_date":1674424240,"post_id":75204102,"comment_id":132706389,"body_markdown":"try to remove this line &quot;adapter = new ItemAdapter(itemList);&quot; and just make one instance in onCreate().","body":"try to remove this line &quot;adapter = new ItemAdapter(itemList);&quot; and just make one instance in onCreate()."},{"owner":{"account_id":1951,"reputation":26904,"user_id":2684,"accept_rate":87,"display_name":"Martin Marconcini"},"score":0,"creation_date":1674466162,"post_id":75204102,"comment_id":132711992,"body_markdown":"Do not use `notifyDataSetChanged()` it has nothing to do with the problem at hand.","body":"Do not use <code>notifyDataSetChanged()</code> it has nothing to do with the problem at hand."}],"tags":[],"owner":{"account_id":26184382,"reputation":9,"user_id":19867158,"display_name":"Nader"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674423446,"creation_date":1674423446,"answer_id":75204102,"question_id":75202618,"body_markdown":"You are telling the adapter that one item is changed, instead of that use:\r\n\r\n`notifyDataSetChanged()`\r\n\r\nthis should reload all items","title":"Delete item in RecyclerView works only once","body":"<p>You are telling the adapter that one item is changed, instead of that use:</p>\n<p><code>notifyDataSetChanged()</code></p>\n<p>this should reload all items</p>\n"},{"comments":[{"owner":{"account_id":19217402,"reputation":67,"user_id":14041897,"display_name":"Hamza Khan"},"score":0,"creation_date":1674474307,"post_id":75204487,"comment_id":132714311,"body_markdown":"Thank you very much. I replaced `adapter = new ItemAdapter(itemList);` with `adapter.notifyItemInserted(itemList.size()-1);`. This seems to work for those wondering.","body":"Thank you very much. I replaced <code>adapter = new ItemAdapter(itemList);</code> with <code>adapter.notifyItemInserted(itemList.size()-1);</code>. This seems to work for those wondering."}],"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674480076,"creation_date":1674428079,"answer_id":75204487,"question_id":75202618,"body_markdown":"In _Home.java_, you are setting the click listener:\r\n\r\n    adapter.setOnItemClickListener(new ItemAdapter.OnItemClickListener() {...}\r\n\r\nIn `addItem()`, you are creating a new adapter:\r\n\r\n    adapter = new ItemAdapter(itemList);\r\n\r\nThe problem is that you never set a click listener on this new adapter.\r\n\r\nI would consider not creating a new adapter but calling a notify method to alert the adapter to a new item.","title":"Delete item in RecyclerView works only once","body":"<p>In <em>Home.java</em>, you are setting the click listener:</p>\n<pre><code>adapter.setOnItemClickListener(new ItemAdapter.OnItemClickListener() {...}\n</code></pre>\n<p>In <code>addItem()</code>, you are creating a new adapter:</p>\n<pre><code>adapter = new ItemAdapter(itemList);\n</code></pre>\n<p>The problem is that you never set a click listener on this new adapter.</p>\n<p>I would consider not creating a new adapter but calling a notify method to alert the adapter to a new item.</p>\n"},{"tags":[],"owner":{"account_id":22997531,"reputation":119,"user_id":17122042,"display_name":"Majed Al-Moqbeli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674465241,"creation_date":1674465241,"answer_id":75207458,"question_id":75202618,"body_markdown":"Try to change `adapter.notifyItemChanged(position);` to `adapter.notifyItemRemoved(position);`","title":"Delete item in RecyclerView works only once","body":"<p>Try to change <code>adapter.notifyItemChanged(position);</code> to <code>adapter.notifyItemRemoved(position);</code></p>\n"}],"owner":{"account_id":19217402,"reputation":67,"user_id":14041897,"display_name":"Hamza Khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75204487,"answer_count":3,"score":1,"last_activity_date":1674480076,"creation_date":1674409819,"question_id":75202618,"body_markdown":"When I delete an item from the RecyclerView, I am no longer able to delete another item. When I make an item I am also unable to delete that item and any other item in the RecyclerView.\r\n\r\nBelow is the code.\r\n\r\n`Home.java`:\r\n\r\n```java\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState){\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.home_activity);\r\n\r\n        itemImage = findViewById(R.id.image_holder);\r\n        itemName = findViewById(R.id.add_item_name);\r\n        itemPrice = findViewById(R.id.add_price);\r\n        itemDesc = findViewById(R.id.add_desc);\r\n\r\n        // Initialize Firebase Auth\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        addPhotoButton = findViewById(R.id.getCameraBtn);\r\n        addFileButton = findViewById(R.id.getGalleryBtn);\r\n\r\n        imageView = findViewById(R.id.image_holder);\r\n\r\n        addPhotoButton.setOnClickListener(this);\r\n        addFileButton.setOnClickListener(this);\r\n\r\n        itemList = new ArrayList&lt;Item&gt;();\r\n\r\n        // add item for testing\r\n        itemList.add(new Item(R.drawable.ic_logo, &quot;Baby Stroller&quot;, &quot;A stroller for baby&quot;, &quot;59.99&quot;));\r\n\r\n        recyclerView = findViewById(R.id.recyclerView);\r\n        recyclerView.setHasFixedSize(true);\r\n\r\n        layoutManager = new LinearLayoutManager(this);\r\n        adapter = new ItemAdapter(itemList);\r\n\r\n\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        adapter.setOnItemClickListener(new ItemAdapter.OnItemClickListener() {\r\n            @Override\r\n            public void onDeleteClick(int position) {\r\n                removeItem(position);\r\n            }\r\n\r\n            @Override\r\n            public void onEditClick(int position) {\r\n                editItem(position);\r\n            }\r\n        });\r\n    }\r\n\r\n    // log out back to start page\r\n    public void goToStart(View view){\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        switch (view.getId()) {\r\n\r\n            case R.id.getCameraBtn:\r\n                //post a photo from the camera\r\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                startActivityForResult(takePictureIntent, CAMERA_CODE);\r\n\r\n                break;\r\n\r\n            case R.id.getGalleryBtn:\r\n                //post an image\r\n\r\n                Intent galleryIntent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                galleryIntent.setType(&quot;image/*&quot;); //anything that is image related\r\n                startActivityForResult(galleryIntent, GALLERY_CODE);\r\n\r\n                break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == GALLERY_CODE &amp;&amp; resultCode == RESULT_OK) {\r\n            if (data != null) {\r\n                imageUri = data.getData(); //we have the actual path\r\n                imageView.setImageURI(imageUri); //show image\r\n\r\n            }\r\n        } else if (requestCode == CAMERA_CODE &amp;&amp; resultCode == RESULT_OK) {\r\n            Bundle extras = data.getExtras();\r\n            Bitmap imageBitmap = (Bitmap) extras.get(&quot;data&quot;);\r\n            imageView.setImageBitmap(imageBitmap);\r\n        }\r\n    }\r\n\r\n    public void addItem(View view){\r\n        if(itemName.getText().toString().trim().length() != 0 || itemPrice.getText().toString().trim().length() != 0 || itemDesc.getText().toString().trim().length() != 0){\r\n            itemList.add(new Item(R.drawable.ic_logo, itemName.getText().toString(), itemPrice.getText().toString(), itemDesc.getText().toString()));\r\n            adapter = new ItemAdapter(itemList);\r\n            recyclerView.setAdapter(adapter);\r\n\r\n            itemName.setText(&quot;&quot;);\r\n            itemPrice.setText(&quot;&quot;);\r\n            itemDesc.setText(&quot;&quot;);\r\n\r\n        }\r\n        else{\r\n            Toast.makeText(Home.this, &quot;All fields must be filled when creating a new item.&quot;,\r\n                    Toast.LENGTH_LONG).show();\r\n        }\r\n\r\n    }\r\n\r\n    public void removeItem(int position){\r\n        itemList.remove(position);\r\n        adapter.notifyItemChanged(position);\r\n    }\r\n```\r\n\r\n`ItemAdapter.java`:\r\n\r\n```java\r\n    public class ItemAdapter extends RecyclerView.Adapter&lt;ItemAdapter.ViewHolder&gt;{\r\n\r\n    private ArrayList&lt;Item&gt; ItemList;\r\n    private OnItemClickListener Listener;\r\n\r\n    public void setOnItemClickListener(OnItemClickListener listener) {Listener = listener;}\r\n\r\n    public interface OnItemClickListener{\r\n        void onDeleteClick(int position);\r\n        \r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder{\r\n        public ImageView item_image;\r\n        public TextView item_name;\r\n        public TextView item_desc;\r\n        public TextView item_price;\r\n\r\n        public ImageView deleteBtn;\r\n        public ImageView editBtn;\r\n\r\n        public ViewHolder(@NonNull View itemView, OnItemClickListener listener) {\r\n            super(itemView);\r\n\r\n            item_image = itemView.findViewById(R.id.item_image);\r\n            item_name = itemView.findViewById(R.id.item_name);\r\n            item_desc = itemView.findViewById(R.id.desc);\r\n            item_price = itemView.findViewById(R.id.price);\r\n\r\n            deleteBtn = itemView.findViewById(R.id.delete_item);\r\n            editBtn = itemView.findViewById(R.id.edit_item);\r\n\r\n            deleteBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(listener != null){\r\n                        int position = getAdapterPosition();\r\n                        if (position != RecyclerView.NO_POSITION){\r\n                            listener.onDeleteClick(position);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n            \r\n        }\r\n    }\r\n\r\n    public ItemAdapter(ArrayList&lt;Item&gt; itemList) {ItemList = itemList;}\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_items, parent, false);\r\n        ViewHolder vh = new ViewHolder(v, Listener);\r\n\r\n        return vh;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        Item currentItem = ItemList.get(position);\r\n        holder.item_image.setImageResource(currentItem.getItemImage());\r\n        holder.item_name.setText(currentItem.getItemName());\r\n        holder.item_desc.setText(currentItem.getItemDesc());\r\n        holder.item_price.setText(currentItem.getItemPrice());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return ItemList.size();\r\n    }\r\n\r\n}\r\n```\r\n\r\n`Item.java`:\r\n\r\n```java\r\n    public class Item {\r\n    private int itemImage;\r\n    private String itemName;\r\n    private String itemDesc;\r\n    private String itemPrice;\r\n\r\n    public Item(int itemImage, String itemName, String itemDesc, String itemPrice){\r\n        this.itemImage = itemImage;\r\n        this.itemName = itemName;\r\n        this.itemDesc = itemDesc;\r\n        this.itemPrice = itemPrice;\r\n    }\r\n\r\n    public int getItemImage(){return itemImage;}\r\n\r\n    public String getItemName(){return itemName;}\r\n\r\n    public String getItemDesc(){return itemDesc;}\r\n\r\n    public String getItemPrice(){return itemPrice;}\r\n\r\n}\r\n```\r\n\r\nWhen the user clicks the delete button, it will work the first time and remove that particular item but when another item needs to be removed, the button is not responding. The same happens when the user adds an item and is unable to delete any items. Not really sure what could cause this. Thanks.\r\n\r\n**Edit:**\r\nThe delete function works correctly when I hardcode items into the RecyclerView. It is only when adding a new item, it doesn&#39;t work anymore including the hardcoded items.","title":"Delete item in RecyclerView works only once","body":"<p>When I delete an item from the RecyclerView, I am no longer able to delete another item. When I make an item I am also unable to delete that item and any other item in the RecyclerView.</p>\n<p>Below is the code.</p>\n<p><code>Home.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    protected void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.home_activity);\n\n        itemImage = findViewById(R.id.image_holder);\n        itemName = findViewById(R.id.add_item_name);\n        itemPrice = findViewById(R.id.add_price);\n        itemDesc = findViewById(R.id.add_desc);\n\n        // Initialize Firebase Auth\n        mAuth = FirebaseAuth.getInstance();\n\n        addPhotoButton = findViewById(R.id.getCameraBtn);\n        addFileButton = findViewById(R.id.getGalleryBtn);\n\n        imageView = findViewById(R.id.image_holder);\n\n        addPhotoButton.setOnClickListener(this);\n        addFileButton.setOnClickListener(this);\n\n        itemList = new ArrayList&lt;Item&gt;();\n\n        // add item for testing\n        itemList.add(new Item(R.drawable.ic_logo, &quot;Baby Stroller&quot;, &quot;A stroller for baby&quot;, &quot;59.99&quot;));\n\n        recyclerView = findViewById(R.id.recyclerView);\n        recyclerView.setHasFixedSize(true);\n\n        layoutManager = new LinearLayoutManager(this);\n        adapter = new ItemAdapter(itemList);\n\n\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.setAdapter(adapter);\n\n        adapter.setOnItemClickListener(new ItemAdapter.OnItemClickListener() {\n            @Override\n            public void onDeleteClick(int position) {\n                removeItem(position);\n            }\n\n            @Override\n            public void onEditClick(int position) {\n                editItem(position);\n            }\n        });\n    }\n\n    // log out back to start page\n    public void goToStart(View view){\n        Intent intent = new Intent(this, MainActivity.class);\n        startActivity(intent);\n    }\n\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n\n            case R.id.getCameraBtn:\n                //post a photo from the camera\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(takePictureIntent, CAMERA_CODE);\n\n                break;\n\n            case R.id.getGalleryBtn:\n                //post an image\n\n                Intent galleryIntent = new Intent(Intent.ACTION_GET_CONTENT);\n                galleryIntent.setType(&quot;image/*&quot;); //anything that is image related\n                startActivityForResult(galleryIntent, GALLERY_CODE);\n\n                break;\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == GALLERY_CODE &amp;&amp; resultCode == RESULT_OK) {\n            if (data != null) {\n                imageUri = data.getData(); //we have the actual path\n                imageView.setImageURI(imageUri); //show image\n\n            }\n        } else if (requestCode == CAMERA_CODE &amp;&amp; resultCode == RESULT_OK) {\n            Bundle extras = data.getExtras();\n            Bitmap imageBitmap = (Bitmap) extras.get(&quot;data&quot;);\n            imageView.setImageBitmap(imageBitmap);\n        }\n    }\n\n    public void addItem(View view){\n        if(itemName.getText().toString().trim().length() != 0 || itemPrice.getText().toString().trim().length() != 0 || itemDesc.getText().toString().trim().length() != 0){\n            itemList.add(new Item(R.drawable.ic_logo, itemName.getText().toString(), itemPrice.getText().toString(), itemDesc.getText().toString()));\n            adapter = new ItemAdapter(itemList);\n            recyclerView.setAdapter(adapter);\n\n            itemName.setText(&quot;&quot;);\n            itemPrice.setText(&quot;&quot;);\n            itemDesc.setText(&quot;&quot;);\n\n        }\n        else{\n            Toast.makeText(Home.this, &quot;All fields must be filled when creating a new item.&quot;,\n                    Toast.LENGTH_LONG).show();\n        }\n\n    }\n\n    public void removeItem(int position){\n        itemList.remove(position);\n        adapter.notifyItemChanged(position);\n    }\n</code></pre>\n<p><code>ItemAdapter.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class ItemAdapter extends RecyclerView.Adapter&lt;ItemAdapter.ViewHolder&gt;{\n\n    private ArrayList&lt;Item&gt; ItemList;\n    private OnItemClickListener Listener;\n\n    public void setOnItemClickListener(OnItemClickListener listener) {Listener = listener;}\n\n    public interface OnItemClickListener{\n        void onDeleteClick(int position);\n        \n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder{\n        public ImageView item_image;\n        public TextView item_name;\n        public TextView item_desc;\n        public TextView item_price;\n\n        public ImageView deleteBtn;\n        public ImageView editBtn;\n\n        public ViewHolder(@NonNull View itemView, OnItemClickListener listener) {\n            super(itemView);\n\n            item_image = itemView.findViewById(R.id.item_image);\n            item_name = itemView.findViewById(R.id.item_name);\n            item_desc = itemView.findViewById(R.id.desc);\n            item_price = itemView.findViewById(R.id.price);\n\n            deleteBtn = itemView.findViewById(R.id.delete_item);\n            editBtn = itemView.findViewById(R.id.edit_item);\n\n            deleteBtn.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    if(listener != null){\n                        int position = getAdapterPosition();\n                        if (position != RecyclerView.NO_POSITION){\n                            listener.onDeleteClick(position);\n                        }\n                    }\n                }\n            });\n\n            \n        }\n    }\n\n    public ItemAdapter(ArrayList&lt;Item&gt; itemList) {ItemList = itemList;}\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_items, parent, false);\n        ViewHolder vh = new ViewHolder(v, Listener);\n\n        return vh;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        Item currentItem = ItemList.get(position);\n        holder.item_image.setImageResource(currentItem.getItemImage());\n        holder.item_name.setText(currentItem.getItemName());\n        holder.item_desc.setText(currentItem.getItemDesc());\n        holder.item_price.setText(currentItem.getItemPrice());\n    }\n\n    @Override\n    public int getItemCount() {\n        return ItemList.size();\n    }\n\n}\n</code></pre>\n<p><code>Item.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class Item {\n    private int itemImage;\n    private String itemName;\n    private String itemDesc;\n    private String itemPrice;\n\n    public Item(int itemImage, String itemName, String itemDesc, String itemPrice){\n        this.itemImage = itemImage;\n        this.itemName = itemName;\n        this.itemDesc = itemDesc;\n        this.itemPrice = itemPrice;\n    }\n\n    public int getItemImage(){return itemImage;}\n\n    public String getItemName(){return itemName;}\n\n    public String getItemDesc(){return itemDesc;}\n\n    public String getItemPrice(){return itemPrice;}\n\n}\n</code></pre>\n<p>When the user clicks the delete button, it will work the first time and remove that particular item but when another item needs to be removed, the button is not responding. The same happens when the user adds an item and is unable to delete any items. Not really sure what could cause this. Thanks.</p>\n<p><strong>Edit:</strong>\nThe delete function works correctly when I hardcode items into the RecyclerView. It is only when adding a new item, it doesn't work anymore including the hardcoded items.</p>\n"},{"tags":["java","spring-boot","liquibase","junit5","embedded-database"],"comments":[{"owner":{"account_id":17217428,"reputation":53,"user_id":13959870,"display_name":"fckNewbee"},"score":1,"creation_date":1674482107,"post_id":75210029,"comment_id":132716862,"body_markdown":"Well... I just upgraded the liquibase version and it worked. Okay.","body":"Well... I just upgraded the liquibase version and it worked. Okay."}],"owner":{"account_id":17217428,"reputation":53,"user_id":13959870,"display_name":"fckNewbee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674479557,"creation_date":1674479557,"question_id":75210029,"body_markdown":"I have a **spring-boot** application. I use a **postgres database**. Migration of the database is done **with liquibase**. When executing liquibase changesets I fill some tables, with some characters. For testing, I found a technology such as Zonky Embedded Postgres. And when I test the logic of my application on a real database, the application works correctly.\r\n\r\nThe problem is that when I run the **tests**, the **zonky test database** gets strange characters through liquibase. It looks like the encoding for non Latin letters is off.\r\n\r\n**For example.**\r\nExpected georgian letter: ა;\r\nactually: бѓђ \r\n\r\nBut everything is **fine with English letters and the coding does not fly off**. \r\n\r\nWhat may be the problem, **please advise**?\r\n\r\nMy spring-boot-test annotations on the class:\r\n\r\n    @SpringBootTest(\r\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT\r\n    )\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @TestPropertySource(locations = [&quot;classpath:application-test.yml&quot;])\r\n    @AutoConfigureEmbeddedDatabase(\r\n        provider = AutoConfigureEmbeddedDatabase.DatabaseProvider.ZONKY,\r\n        type = AutoConfigureEmbeddedDatabase.DatabaseType.POSTGRES,\r\n        refresh = AutoConfigureEmbeddedDatabase.RefreshMode.AFTER_EACH_TEST_METHOD\r\n    )","title":"How do I set the encoding for non-Latin characters in zonky Embedded?","body":"<p>I have a <strong>spring-boot</strong> application. I use a <strong>postgres database</strong>. Migration of the database is done <strong>with liquibase</strong>. When executing liquibase changesets I fill some tables, with some characters. For testing, I found a technology such as Zonky Embedded Postgres. And when I test the logic of my application on a real database, the application works correctly.</p>\n<p>The problem is that when I run the <strong>tests</strong>, the <strong>zonky test database</strong> gets strange characters through liquibase. It looks like the encoding for non Latin letters is off.</p>\n<p><strong>For example.</strong>\nExpected georgian letter: ა;\nactually: бѓђ</p>\n<p>But everything is <strong>fine with English letters and the coding does not fly off</strong>.</p>\n<p>What may be the problem, <strong>please advise</strong>?</p>\n<p>My spring-boot-test annotations on the class:</p>\n<pre><code>@SpringBootTest(\n    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT\n)\n@ActiveProfiles(&quot;test&quot;)\n@TestPropertySource(locations = [&quot;classpath:application-test.yml&quot;])\n@AutoConfigureEmbeddedDatabase(\n    provider = AutoConfigureEmbeddedDatabase.DatabaseProvider.ZONKY,\n    type = AutoConfigureEmbeddedDatabase.DatabaseType.POSTGRES,\n    refresh = AutoConfigureEmbeddedDatabase.RefreshMode.AFTER_EACH_TEST_METHOD\n)\n</code></pre>\n"},{"tags":["java","spring","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674479265,"creation_date":1674479265,"answer_id":75209980,"question_id":75204776,"body_markdown":"please see https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html\r\n\r\n```\r\ndependencies {\r\n    implementation project(&#39;:shared&#39;)\r\n}\r\n```","title":"Gradle Local Module Transitive Dependency","body":"<p>please see <a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html</a></p>\n<pre><code>dependencies {\n    implementation project(':shared')\n}\n</code></pre>\n"}],"owner":{"account_id":333191,"reputation":921,"user_id":658913,"accept_rate":25,"display_name":"CR Sardar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674479265,"creation_date":1674432240,"question_id":75204776,"body_markdown":"My project structure is -\r\n\r\n    ParentDirectory\\\r\n        GradleProjectA\\\r\n            build.gradle\r\n        GradleProjectB\\\r\n            build.gradle\r\n       \r\nadded `Spring` dependency in `GradleProjectA`, \r\n\r\nnow -\r\nHow can I add the `GradleProjectA` in `GradleProjectB`, so that same Spring dependency will be added/transited to `GradleProjectB`?\r\nSo that I need not to add Spring dependency again in `GradleProjectB`.\r\n\r\nIf I make a JAR of `GradleProjectA` and add the JAR to `GradleProjectB`, then `Spring` dependency is **not** transited to `GradleProjectB`","title":"Gradle Local Module Transitive Dependency","body":"<p>My project structure is -</p>\n<pre><code>ParentDirectory\\\n    GradleProjectA\\\n        build.gradle\n    GradleProjectB\\\n        build.gradle\n   \n</code></pre>\n<p>added <code>Spring</code> dependency in <code>GradleProjectA</code>,</p>\n<p>now -\nHow can I add the <code>GradleProjectA</code> in <code>GradleProjectB</code>, so that same Spring dependency will be added/transited to <code>GradleProjectB</code>?\nSo that I need not to add Spring dependency again in <code>GradleProjectB</code>.</p>\n<p>If I make a JAR of <code>GradleProjectA</code> and add the JAR to <code>GradleProjectB</code>, then <code>Spring</code> dependency is <strong>not</strong> transited to <code>GradleProjectB</code></p>\n"},{"tags":["java","spring","lombok"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1674478839,"post_id":75209785,"comment_id":132715712,"body_markdown":"i can understand your instructor, he wants to see the encapsulation principle implemented in your code, and Lombok obscures it with autogenerated methods. \ni also use Lombok, reluctantly, and i have issues with it. for instance, your app is crashing because a member in a class has a bad value set to it. now you need to put a breakpoint in the setter method to see which method puts the bad value there. how do you do that with Lombok? put a breakpoint in every &quot;.setXXX()&quot; line in the entire code base?\nLombok also creates problems with Spring Rest methods when it can&#39;t deserialize the POJOs","body":"i can understand your instructor, he wants to see the encapsulation principle implemented in your code, and Lombok obscures it with autogenerated methods.  i also use Lombok, reluctantly, and i have issues with it. for instance, your app is crashing because a member in a class has a bad value set to it. now you need to put a breakpoint in the setter method to see which method puts the bad value there. how do you do that with Lombok? put a breakpoint in every &quot;.setXXX()&quot; line in the entire code base? Lombok also creates problems with Spring Rest methods when it can&#39;t deserialize the POJOs"}],"answers":[{"comments":[{"owner":{"account_id":7591192,"reputation":21,"user_id":6663020,"display_name":"bemoty"},"score":0,"creation_date":1674479148,"post_id":75209833,"comment_id":132715805,"body_markdown":"Thank you so much for your response, I wasn&#39;t aware of Delombok. This did the job :)","body":"Thank you so much for your response, I wasn&#39;t aware of Delombok. This did the job :)"}],"tags":[],"owner":{"account_id":7106895,"reputation":33839,"user_id":5436257,"accept_rate":100,"display_name":"Joe Clay"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674478846,"creation_date":1674478498,"answer_id":75209833,"question_id":75209785,"body_markdown":"The Lombok .jar file provides a [&#39;delombok&#39; tool](https://projectlombok.org/features/delombok), which will process all of the Java files in a given directory and output the generated code to another directory.\r\n\r\nThe usage looks like this:\r\n\r\n```\r\njava -jar lombok.jar delombok src -d src-delomboked\r\n```\r\n\r\nThere is also a [Maven plugin](https://github.com/awhitford/lombok.maven) for this.\r\n\r\nAlternatively, if you&#39;re using IntelliJ, the Lombok plugin also provides this functionality, under &#39;Refactor&#39; -&gt; &#39;Delombok&#39;.\r\n\r\nI have just tested this out on one of my own projects, and the resulting code does not have any references to Lombok, so hopefully it will be enough to make your instructor happy :)","title":"How to (quickly) replace all Lombok annotations with generated methods?","body":"<p>The Lombok .jar file provides a <a href=\"https://projectlombok.org/features/delombok\" rel=\"nofollow noreferrer\">'delombok' tool</a>, which will process all of the Java files in a given directory and output the generated code to another directory.</p>\n<p>The usage looks like this:</p>\n<pre><code>java -jar lombok.jar delombok src -d src-delomboked\n</code></pre>\n<p>There is also a <a href=\"https://github.com/awhitford/lombok.maven\" rel=\"nofollow noreferrer\">Maven plugin</a> for this.</p>\n<p>Alternatively, if you're using IntelliJ, the Lombok plugin also provides this functionality, under 'Refactor' -&gt; 'Delombok'.</p>\n<p>I have just tested this out on one of my own projects, and the resulting code does not have any references to Lombok, so hopefully it will be enough to make your instructor happy :)</p>\n"},{"comments":[{"owner":{"account_id":7591192,"reputation":21,"user_id":6663020,"display_name":"bemoty"},"score":0,"creation_date":1674478661,"post_id":75209838,"comment_id":132715651,"body_markdown":"I&#39;m using IntelliJ IDEA which, as far as I can see, is only able to generated getters &amp; setters per classes (not for all at once) — also, it&#39;s not only getters &amp; setters that need to be generated since I&#39;m also using constructor generator annotations (@RequiredArgsConstructor) and compound annotations (@Data)","body":"I&#39;m using IntelliJ IDEA which, as far as I can see, is only able to generated getters &amp; setters per classes (not for all at once) — also, it&#39;s not only getters &amp; setters that need to be generated since I&#39;m also using constructor generator annotations (@RequiredArgsConstructor) and compound annotations (@Data)"}],"tags":[],"owner":{"account_id":10892421,"reputation":567,"user_id":8007713,"display_name":"Guilherme Barboza"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674478510,"creation_date":1674478510,"answer_id":75209838,"question_id":75209785,"body_markdown":"What is the IDE you&#39;re using? Most IDEs have shotcuts for this. For instance, in Eclipse, you could generate Getters and Setters with &quot;Right click&quot; --&gt; &quot;Source&quot; --&gt; &quot;Generate Getters and Setters&quot;","title":"How to (quickly) replace all Lombok annotations with generated methods?","body":"<p>What is the IDE you're using? Most IDEs have shotcuts for this. For instance, in Eclipse, you could generate Getters and Setters with &quot;Right click&quot; --&gt; &quot;Source&quot; --&gt; &quot;Generate Getters and Setters&quot;</p>\n"}],"owner":{"account_id":7591192,"reputation":21,"user_id":6663020,"display_name":"bemoty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75209833,"answer_count":2,"score":1,"last_activity_date":1674478846,"creation_date":1674478247,"question_id":75209785,"body_markdown":"I&#39;m working on a Spring Boot project for university. The deadline is in a week and I&#39;m 99% done with everything. Now, my instructor has reached out to me and asked me to remove Lombok from my project because (from how I understand it) he has a personal issue with it.\r\n\r\nWhile I can&#39;t fathom why anyone would give such a requirement and really don&#39;t want to remove Lombok, I have to obey.\r\n\r\nSo now my question is: Is there a way to quickly replace all my Lombok annotations with its generated methods? If there is no way, I guess I&#39;ll have to resort to refactoring everything manually...\r\n\r\nThanks for any help.","title":"How to (quickly) replace all Lombok annotations with generated methods?","body":"<p>I'm working on a Spring Boot project for university. The deadline is in a week and I'm 99% done with everything. Now, my instructor has reached out to me and asked me to remove Lombok from my project because (from how I understand it) he has a personal issue with it.</p>\n<p>While I can't fathom why anyone would give such a requirement and really don't want to remove Lombok, I have to obey.</p>\n<p>So now my question is: Is there a way to quickly replace all my Lombok annotations with its generated methods? If there is no way, I guess I'll have to resort to refactoring everything manually...</p>\n<p>Thanks for any help.</p>\n"},{"tags":["java","spring-boot","spring-cloud-sleuth","open-telemetry","distributed-tracing"],"answers":[{"comments":[{"owner":{"account_id":8186103,"reputation":525,"user_id":6161878,"display_name":"Radu Sebastian LAZIN"},"score":0,"creation_date":1701164993,"post_id":75209536,"comment_id":136738577,"body_markdown":"For Brave it doesn&#39;t seem to work for propagation to another service if: B3Propagation.Format.SINGLE_NO_PARENT is set, it still propagates all `X-B3-*` headers instead of the single `B3` one.","body":"For Brave it doesn&#39;t seem to work for propagation to another service if: B3Propagation.Format.SINGLE_NO_PARENT is set, it still propagates all <code>X-B3-*</code> headers instead of the single <code>B3</code> one."}],"tags":[],"owner":{"account_id":246941,"reputation":1582,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674478719,"creation_date":1674477051,"answer_id":75209536,"question_id":75207994,"body_markdown":"I was able to get it working. By default, the propagation style is set to use \r\n a single header which needs to be changed to use multiple headers. This can be done by following steps:-\r\n Using brave:- \r\n\r\n    @Bean\r\n    PropagationFactorySupplier myPropagationFactorySupplier() {\r\n      return () -&gt; B3Propagation.newFactoryBuilder().injectFormat(B3Propagation.Format.MULTI).build();\r\n    }\r\n\r\nWithout using brave:- \r\n\r\n        @Bean\r\n        public B3Propagator b3Propagator() {\r\n            return B3Propagator.injectingMultiHeaders();\r\n        }\r\n\r\n","title":"Headers not getting propagated with open-telemetry and spring-cloud-sleuth","body":"<p>I was able to get it working. By default, the propagation style is set to use\na single header which needs to be changed to use multiple headers. This can be done by following steps:-\nUsing brave:-</p>\n<pre><code>@Bean\nPropagationFactorySupplier myPropagationFactorySupplier() {\n  return () -&gt; B3Propagation.newFactoryBuilder().injectFormat(B3Propagation.Format.MULTI).build();\n}\n</code></pre>\n<p>Without using brave:-</p>\n<pre><code>    @Bean\n    public B3Propagator b3Propagator() {\n        return B3Propagator.injectingMultiHeaders();\n    }\n</code></pre>\n"}],"owner":{"account_id":246941,"reputation":1582,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75209536,"answer_count":1,"score":0,"last_activity_date":1674478719,"creation_date":1674468356,"question_id":75207994,"body_markdown":"I have integrated open-telemetry collector with spring-cloud-sleuth and trying to test distributed tracing with it. My basic requirement is if app1 receives a header for traceId, it should use the same for logging and tracing. If not, it can generate it&#39;s own traceId\r\n\r\nI have configured spring.sleuth.baggage.remoteFields/correlationFields as traceId. \r\n\r\n    spring:\r\n      application:\r\n        name: spring-cloud-sleuth-otel-slf4j\r\n      sleuth:\r\n        otel:\r\n          config:\r\n            trace-id-ratio-based: 1.0\r\n          exporter:\r\n            otlp:\r\n              endpoint: http://otel-collector:4317\r\n        baggage:\r\n         remoteFields: requestId,serviceName,trace_id\r\n         correlationFields: requestId,serviceName,traceId\r\n         tagFields: requestId,serviceName,traceId\r\n\r\nI am calling an API in app1 from postman with header **X-B3-TraceId**. This header gets used in the logs and traces emitted by app1. Now, I call an app2 API from app1 using RestTemplate. In the app2, I am seeing an header named **b3** instead of **X-B3-TraceId**.\r\n\r\nHowever, if I change header name to **traceId** instead of **X-B3-TraceId** when calling app1 from postman, it gets propagated to app2. However, in this case, the generated trace by app1 does not use this header **traceId** but creates a new one. Do I need to add any additional configuration for these headers to get propagated with correct names?","title":"Headers not getting propagated with open-telemetry and spring-cloud-sleuth","body":"<p>I have integrated open-telemetry collector with spring-cloud-sleuth and trying to test distributed tracing with it. My basic requirement is if app1 receives a header for traceId, it should use the same for logging and tracing. If not, it can generate it's own traceId</p>\n<p>I have configured spring.sleuth.baggage.remoteFields/correlationFields as traceId.</p>\n<pre><code>spring:\n  application:\n    name: spring-cloud-sleuth-otel-slf4j\n  sleuth:\n    otel:\n      config:\n        trace-id-ratio-based: 1.0\n      exporter:\n        otlp:\n          endpoint: http://otel-collector:4317\n    baggage:\n     remoteFields: requestId,serviceName,trace_id\n     correlationFields: requestId,serviceName,traceId\n     tagFields: requestId,serviceName,traceId\n</code></pre>\n<p>I am calling an API in app1 from postman with header <strong>X-B3-TraceId</strong>. This header gets used in the logs and traces emitted by app1. Now, I call an app2 API from app1 using RestTemplate. In the app2, I am seeing an header named <strong>b3</strong> instead of <strong>X-B3-TraceId</strong>.</p>\n<p>However, if I change header name to <strong>traceId</strong> instead of <strong>X-B3-TraceId</strong> when calling app1 from postman, it gets propagated to app2. However, in this case, the generated trace by app1 does not use this header <strong>traceId</strong> but creates a new one. Do I need to add any additional configuration for these headers to get propagated with correct names?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674472160,"post_id":75208616,"comment_id":132713656,"body_markdown":"can you share the json please?","body":"can you share the json please?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674472353,"post_id":75208616,"comment_id":132713731,"body_markdown":"The first part of the error messages say, that you should add a non argument constructor to your class: `public OptionsDto(){}`","body":"The first part of the error messages say, that you should add a non argument constructor to your class: <code>public OptionsDto(){}</code>"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1674477859,"post_id":75208616,"comment_id":132715356,"body_markdown":"thank you for your answer Jens , I updated my post I put the json format","body":"thank you for your answer Jens , I updated my post I put the json format"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674478181,"post_id":75208616,"comment_id":132715472,"body_markdown":"`ingredients` is a string in your `OptionsDto`, but not in the json","body":"<code>ingredients</code> is a string in your <code>OptionsDto</code>, but not in the json"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1674478403,"post_id":75208616,"comment_id":132715551,"body_markdown":"Thank you for the answer Jens. Would you please have a link that explains the sending of a json or how to configure ingredient in the dto so that it receives a json? sorry I recently started with springboot","body":"Thank you for the answer Jens. Would you please have a link that explains the sending of a json or how to configure ingredient in the dto so that it receives a json? sorry I recently started with springboot"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674478518,"post_id":75208616,"comment_id":132715592,"body_markdown":"It is not primarely   spring boot, it is the onject mapping in the json library. As I understand your json correctly, `ingredients` must be a `Map&lt;String,String&gt;`","body":"It is not primarely   spring boot, it is the onject mapping in the json library. As I understand your json correctly, <code>ingredients</code> must be a <code>Map&lt;String,String&gt;</code>"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1674479486,"post_id":75208616,"comment_id":132715926,"body_markdown":"I tried to modify but I couldn&#39;t @Jens","body":"I tried to modify but I couldn&#39;t @Jens"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674479548,"post_id":75208616,"comment_id":132715944,"body_markdown":"why can&#39;t you modify?","body":"why can&#39;t you modify?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674479643,"post_id":75208616,"comment_id":132715979,"body_markdown":"Also the json you post does not fit to  the expected struture: `Map&lt;String, OptionsDto &gt; options`","body":"Also the json you post does not fit to  the expected struture: <code>Map&lt;String, OptionsDto &gt; options</code>"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1674480258,"post_id":75208616,"comment_id":132716215,"body_markdown":"I am a little lost. Do you have an example to show me please?","body":"I am a little lost. Do you have an example to show me please?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674480481,"post_id":75208616,"comment_id":132716302,"body_markdown":"It is hard, becuase i do not know which is correct, your example json or your code snipped","body":"It is hard, becuase i do not know which is correct, your example json or your code snipped"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1674480860,"post_id":75208616,"comment_id":132716425,"body_markdown":"It doesn&#39;t matter, I&#39;ll continue my research :) . Thank you for the time you took to try to help me :).","body":"It doesn&#39;t matter, I&#39;ll continue my research :) . Thank you for the time you took to try to help me :)."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1674480918,"post_id":75208616,"comment_id":132716447,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251335/discussion-between-jens-and-tony).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251335/discussion-between-jens-and-tony\">continue this discussion in chat</a>."},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1674484675,"post_id":75208616,"comment_id":132717816,"body_markdown":"Thanks for help\n de jens I succeeded thank you","body":"Thanks for help  de jens I succeeded thank you"}],"answers":[{"comments":[{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1674479429,"post_id":75209875,"comment_id":132715907,"body_markdown":"Thank you for help @Kristiyan Mihov . I added the annotation: AllArgsConstructor and NoArgsConstructor. I also removed the map","body":"Thank you for help @Kristiyan Mihov . I added the annotation: AllArgsConstructor and NoArgsConstructor. I also removed the map"}],"tags":[],"owner":{"account_id":22735383,"reputation":1,"user_id":16897641,"display_name":"Kristiyan Mihov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674478676,"creation_date":1674478676,"answer_id":75209875,"question_id":75208616,"body_markdown":"As Jens mentioned, you need a default constructor in the OptionDto class. Also, you must decide whether `ingredients` is a String or a Map.\r\n\r\nIn the controller, you are asking for a Map&lt;&gt; but what you pass in the JSON is not a map. Your controller must be asking for an OptionsDto and not a Map.","title":"Post request with springboot json format","body":"<p>As Jens mentioned, you need a default constructor in the OptionDto class. Also, you must decide whether <code>ingredients</code> is a String or a Map.</p>\n<p>In the controller, you are asking for a Map&lt;&gt; but what you pass in the JSON is not a map. Your controller must be asking for an OptionsDto and not a Map.</p>\n"}],"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674478676,"creation_date":1674472025,"question_id":75208616,"body_markdown":"I have a product table, I have a second option table. I cannot manage to create my options for the product at the same time as I create the product. I tried to create the options individually by creating an option table and a category join table. When I send the options in json format it doesn&#39;t work. I get the bad request error and in the console: \r\n\r\n&gt; JSON parse error: Cannot construct instance of\r\n&gt; `com.pastrycertified.cda.dto.OptionsDto` (although at least one\r\n&gt; Creator exists): no String-argument constructor/factory method to\r\n&gt; deserialize from String value(&#39;pie&#39;); nested exception is\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\r\n&gt; construct instance of `com.pastrycertified.cda.dto.OptionsDto`\r\n&gt; (although at least one Creator exists): no String-argument\r\n&gt; constructor/factory method to deserialize from String value\r\n&gt; (&#39;pie&#39;)&lt;EOL&gt; at [Source:\r\n&gt; (org.springframework.util.StreamUtils$NonClosingInputStream); line: 2,\r\n&gt; column: 19] (through reference chain:\r\n&gt; java.util.LinkedHashMap[&quot;typeOption&quot;])]\r\n\r\nThank you for help\r\n\r\ndata\r\n```\r\n{\r\n    &quot;typeOption&quot;: &quot;product&quot;,\r\n    &quot;ingredients&quot;: {\r\n        &quot;option1&quot;: &quot;test&quot;,\r\n        &quot;option2&quot;:&quot;test1&quot;\r\n    }\r\n}\r\n```\r\n\r\ncontroller option\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/options&quot;)\r\n@RequiredArgsConstructor\r\npublic class OptionsController {\r\n\r\n    private final OptionsService optionsService;\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public void save(\r\n            @RequestBody Map&lt;String, OptionsDto &gt; options\r\n    ) {\r\n        return ResponseEntity.ok(optionsService.save(options));\r\n    }\r\n}\r\n```\r\n\r\noptionService\r\n```\r\npublic interface OptionsService {\r\n\r\n    Options save(OptionsDto options);\r\n}\r\n```\r\noptionServiceImpl\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class OptionsServiceImpl implements OptionsService {\r\n\r\n\r\n    @Override\r\n    public Options save(OptionsDto options) {\r\n\r\n        Options option = OptionsDto.toEntity(options);\r\n        option.setTypeOption(option.getTypeOption());\r\n        option.setIngredients(option.getIngredients());\r\n\r\n        return option;\r\n    }\r\n}\r\n```\r\noptionDto\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@Builder\r\npublic class OptionsDto {\r\n\r\n    private Integer id;\r\n\r\n    private String typeOption;\r\n\r\n    private String ingredients;\r\n\r\n    private String nameCategory;\r\n\r\n    private CategoryDto category;\r\n\r\n    public static OptionsDto fromEntity(Options options) {\r\n\r\n        return OptionsDto.builder()\r\n                .id(options.getId())\r\n                .typeOption(options.getTypeOption())\r\n                .ingredients(options.getIngredients())\r\n                .nameCategory(options.getCategory().getName())\r\n                .build();\r\n    }\r\n\r\n    public static Options toEntity(OptionsDto options) {\r\n\r\n        return Options.builder()\r\n                .id(options.getId())\r\n                .typeOption(options.getTypeOption())\r\n                .ingredients(options.getIngredients())\r\n                .build();\r\n    }\r\n}\r\n```","title":"Post request with springboot json format","body":"<p>I have a product table, I have a second option table. I cannot manage to create my options for the product at the same time as I create the product. I tried to create the options individually by creating an option table and a category join table. When I send the options in json format it doesn't work. I get the bad request error and in the console:</p>\n<blockquote>\n<p>JSON parse error: Cannot construct instance of\n<code>com.pastrycertified.cda.dto.OptionsDto</code> (although at least one\nCreator exists): no String-argument constructor/factory method to\ndeserialize from String value('pie'); nested exception is\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\nconstruct instance of <code>com.pastrycertified.cda.dto.OptionsDto</code>\n(although at least one Creator exists): no String-argument\nconstructor/factory method to deserialize from String value\n('pie') at [Source:\n(org.springframework.util.StreamUtils$NonClosingInputStream); line: 2,\ncolumn: 19] (through reference chain:\njava.util.LinkedHashMap[&quot;typeOption&quot;])]</p>\n</blockquote>\n<p>Thank you for help</p>\n<p>data</p>\n<pre><code>{\n    &quot;typeOption&quot;: &quot;product&quot;,\n    &quot;ingredients&quot;: {\n        &quot;option1&quot;: &quot;test&quot;,\n        &quot;option2&quot;:&quot;test1&quot;\n    }\n}\n</code></pre>\n<p>controller option</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/options&quot;)\n@RequiredArgsConstructor\npublic class OptionsController {\n\n    private final OptionsService optionsService;\n\n    @PostMapping(&quot;/&quot;)\n    public void save(\n            @RequestBody Map&lt;String, OptionsDto &gt; options\n    ) {\n        return ResponseEntity.ok(optionsService.save(options));\n    }\n}\n</code></pre>\n<p>optionService</p>\n<pre><code>public interface OptionsService {\n\n    Options save(OptionsDto options);\n}\n</code></pre>\n<p>optionServiceImpl</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class OptionsServiceImpl implements OptionsService {\n\n\n    @Override\n    public Options save(OptionsDto options) {\n\n        Options option = OptionsDto.toEntity(options);\n        option.setTypeOption(option.getTypeOption());\n        option.setIngredients(option.getIngredients());\n\n        return option;\n    }\n}\n</code></pre>\n<p>optionDto</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@Builder\npublic class OptionsDto {\n\n    private Integer id;\n\n    private String typeOption;\n\n    private String ingredients;\n\n    private String nameCategory;\n\n    private CategoryDto category;\n\n    public static OptionsDto fromEntity(Options options) {\n\n        return OptionsDto.builder()\n                .id(options.getId())\n                .typeOption(options.getTypeOption())\n                .ingredients(options.getIngredients())\n                .nameCategory(options.getCategory().getName())\n                .build();\n    }\n\n    public static Options toEntity(OptionsDto options) {\n\n        return Options.builder()\n                .id(options.getId())\n                .typeOption(options.getTypeOption())\n                .ingredients(options.getIngredients())\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1402419771,"post_id":24146885,"comment_id":37261795,"body_markdown":"What is the error msg EXACTLY? Show us some minimal code that shows your problem.","body":"What is the error msg EXACTLY? Show us some minimal code that shows your problem."},{"owner":{"account_id":330005,"reputation":132780,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":3,"creation_date":1402419803,"post_id":24146885,"comment_id":37261818,"body_markdown":"check if you have errors in resource files fix it. Remove `import android.R` and cleand and build your project.","body":"check if you have errors in resource files fix it. Remove <code>import android.R</code> and cleand and build your project."},{"owner":{"account_id":4594193,"reputation":27,"user_id":3726747,"display_name":"user3726747"},"score":0,"creation_date":1402421135,"post_id":24146885,"comment_id":37262647,"body_markdown":"I checked all the files, everything is fine, the only problem is in the Main_Activity(Which named just as &#39;java&#39; is the start while creating the project)...","body":"I checked all the files, everything is fine, the only problem is in the Main_Activity(Which named just as &#39;java&#39; is the start while creating the project)..."}],"answers":[{"comments":[{"owner":{"account_id":4594193,"reputation":27,"user_id":3726747,"display_name":"user3726747"},"score":0,"creation_date":1402423288,"post_id":24147712,"comment_id":37263920,"body_markdown":"Thanks, but I don&#39;t know how to do that(Open the console).","body":"Thanks, but I don&#39;t know how to do that(Open the console)."},{"owner":{"account_id":3320388,"reputation":3229,"user_id":2791708,"display_name":"Andrew Schuster"},"score":0,"creation_date":1402424450,"post_id":24147712,"comment_id":37264561,"body_markdown":"@user3726747 Instead of doing the console, in Android Studio go to `Build-&gt;Clean Project`","body":"@user3726747 Instead of doing the console, in Android Studio go to <code>Build-&gt;Clean Project</code>"},{"owner":{"account_id":4594193,"reputation":27,"user_id":3726747,"display_name":"user3726747"},"score":0,"creation_date":1402486783,"post_id":24147712,"comment_id":37289532,"body_markdown":"@Andrew Schuster , I did that, and nothing happen.","body":"@Andrew Schuster , I did that, and nothing happen."},{"owner":{"account_id":126262,"reputation":39126,"user_id":322642,"accept_rate":73,"display_name":"ligi"},"score":0,"creation_date":1402486832,"post_id":24147712,"comment_id":37289564,"body_markdown":"on which OS are you on?","body":"on which OS are you on?"}],"tags":[],"owner":{"account_id":126262,"reputation":39126,"user_id":322642,"accept_rate":73,"display_name":"ligi"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402422675,"creation_date":1402422675,"answer_id":24147712,"question_id":24146885,"body_markdown":"the R gets red when there is a problem generating this file. This can e.g. happen when you have mistakes in your grade-files. I would suggest to open a console in the path of your project and type:\r\n\r\n    gradle clean build\r\n\r\nthis should show you the root-cause - and if this works out fine then the red should be gone ( you might have to sync )","title":"&#39;cannot resolve symbol R&#39; in Android Studio","body":"<p>the R gets red when there is a problem generating this file. This can e.g. happen when you have mistakes in your grade-files. I would suggest to open a console in the path of your project and type:</p>\n\n<pre><code>gradle clean build\n</code></pre>\n\n<p>this should show you the root-cause - and if this works out fine then the red should be gone ( you might have to sync )</p>\n"},{"tags":[],"owner":{"account_id":5219264,"reputation":6043,"user_id":4173238,"accept_rate":75,"display_name":"bastami82"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444671918,"creation_date":1444671918,"answer_id":33087178,"question_id":24146885,"body_markdown":"do not fiddle with any code , this &quot;R getting red&quot; issue is very common(and all is to do with gradle), I had it a lot in the past but with new gradle and sdk it is much less nowadays, but for anyone has the same issue do as follow hope it will work for you too,\r\n\r\nThis worked for me:\r\n\r\n 1. Close and reopen project\r\n 2. Press &quot; Sync Project with Gradle file &quot; (is next to AVD manager icon\r\n    in top menu)\r\n\r\nrepeat 1-2 if Gradle could not Sync for first time. (mine worked in second time).\r\n\r\nsource, https://stackoverflow.com/a/31127514/4173238\r\n","title":"&#39;cannot resolve symbol R&#39; in Android Studio","body":"<p>do not fiddle with any code , this \"R getting red\" issue is very common(and all is to do with gradle), I had it a lot in the past but with new gradle and sdk it is much less nowadays, but for anyone has the same issue do as follow hope it will work for you too,</p>\n\n<p>This worked for me:</p>\n\n<ol>\n<li>Close and reopen project</li>\n<li>Press \" Sync Project with Gradle file \" (is next to AVD manager icon\nin top menu)</li>\n</ol>\n\n<p>repeat 1-2 if Gradle could not Sync for first time. (mine worked in second time).</p>\n\n<p>source, <a href=\"https://stackoverflow.com/a/31127514/4173238\">https://stackoverflow.com/a/31127514/4173238</a></p>\n"},{"tags":[],"owner":{"display_name":"user6460587"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477065602,"creation_date":1477065602,"answer_id":40181008,"question_id":24146885,"body_markdown":"You can rebuild the project by going to build -&gt; rebuild. If that doesn&#39;t work, make sure that the names of all assets are lowercase. That really got me, because it prevents the rebuild.","title":"&#39;cannot resolve symbol R&#39; in Android Studio","body":"<p>You can rebuild the project by going to build -> rebuild. If that doesn't work, make sure that the names of all assets are lowercase. That really got me, because it prevents the rebuild.</p>\n"},{"tags":[],"owner":{"account_id":7921811,"reputation":1,"user_id":5982566,"display_name":"Dina Mansour"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480565095,"creation_date":1480559194,"answer_id":40901640,"question_id":24146885,"body_markdown":"This seems to be a problem for Gradle settings, check your Gradle configuration in the `build.gradle` file \r\nAlso make sure to go to \r\n\r\n**Preferences-&gt; Build,Execution and Deployment -&gt; Gradle -&gt; use gradle default wrapper** \r\n\r\nThen, Clean and Rebuild your project","title":"&#39;cannot resolve symbol R&#39; in Android Studio","body":"<p>This seems to be a problem for Gradle settings, check your Gradle configuration in the <code>build.gradle</code> file \nAlso make sure to go to </p>\n\n<p><strong>Preferences-> Build,Execution and Deployment -> Gradle -> use gradle default wrapper</strong> </p>\n\n<p>Then, Clean and Rebuild your project</p>\n"},{"tags":[],"owner":{"account_id":7611420,"reputation":29,"user_id":5772137,"display_name":"Rachit Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554279384,"creation_date":1554277310,"answer_id":55489630,"question_id":24146885,"body_markdown":"Just update your Gradle version \r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.1.2&#39;  \r\n    }","title":"&#39;cannot resolve symbol R&#39; in Android Studio","body":"<p>Just update your Gradle version </p>\n\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:3.1.2'  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21674920,"reputation":11,"user_id":15992046,"display_name":"Arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674478563,"creation_date":1674478314,"answer_id":75209796,"question_id":24146885,"body_markdown":"Make sure you added the package name in the Android ***Manifest file***\r\n\r\nStep 1:\r\n`&lt;manifest ... package=&quot;your.package.name&quot;&gt;\r\n.....\r\n.....\r\n.....\r\n&lt;/manifest&gt;`\r\n\r\nStep 2:\r\nMake sure you have the same sdk version in [build.gradle::app]\r\n\r\ncompileSdkVersion 30\r\n\r\nbuildToolsVersion &#39;30.0.3&#39;","title":"&#39;cannot resolve symbol R&#39; in Android Studio","body":"<p>Make sure you added the package name in the Android <em><strong>Manifest file</strong></em></p>\n<p>Step 1:\n<code>&lt;manifest ... package=&quot;your.package.name&quot;&gt; ..... ..... ..... &lt;/manifest&gt;</code></p>\n<p>Step 2:\nMake sure you have the same sdk version in [build.gradle::app]</p>\n<p>compileSdkVersion 30</p>\n<p>buildToolsVersion '30.0.3'</p>\n"}],"owner":{"account_id":4594193,"reputation":27,"user_id":3726747,"display_name":"user3726747"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7035,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":6,"score":2,"last_activity_date":1674478563,"creation_date":1402419731,"question_id":24146885,"body_markdown":"I just finished  my app, and when I try to save it as an APK, this error\r\nappears, all the &#39;R&#39;s in the code turned red.\r\nThis is not the first time it happens.\r\nHow do I fix it?\r\n\r\n \r\n1. This are all the line with errors in the code, all the R. are in red.:\r\n\r\n        setContentView(R.layout.dise);\r\n        final EditText e=(EditText)findViewById(R.id.escribiraqui);\r\n        TextView T=(TextView)findViewById(R.id.traduccion);\r\n        Button TRAD=(Button) findViewById(R.id.traducir);\r\n        getMenuInflater().inflate(R.menu.java, menu);\r\n        if (id == R.id.action_settings) {\r\n\r\n\r\n2. I tried importing android.R, and now the R isn&#39;t red anymore, now the error\r\nis after the R.id... or R.layout... or R.menu...\r\nAll my variables are in red now, with the same error:\r\n\r\n    &quot;cannot resolve symbol &#39;dise&#39;&quot;, etc.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n3.I just did `alt+Enter` on the R, then clicked on Create a class &#39;R&#39;...\r\nThe error disappeared, is this correct or it could lead to another error?","title":"&#39;cannot resolve symbol R&#39; in Android Studio","body":"<p>I just finished  my app, and when I try to save it as an APK, this error\nappears, all the 'R's in the code turned red.\nThis is not the first time it happens.\nHow do I fix it?</p>\n\n<ol>\n<li><p>This are all the line with errors in the code, all the R. are in red.:</p>\n\n<pre><code>setContentView(R.layout.dise);\nfinal EditText e=(EditText)findViewById(R.id.escribiraqui);\nTextView T=(TextView)findViewById(R.id.traduccion);\nButton TRAD=(Button) findViewById(R.id.traducir);\ngetMenuInflater().inflate(R.menu.java, menu);\nif (id == R.id.action_settings) {\n</code></pre></li>\n<li><p>I tried importing android.R, and now the R isn't red anymore, now the error\nis after the R.id... or R.layout... or R.menu...\nAll my variables are in red now, with the same error:</p>\n\n<p>\"cannot resolve symbol 'dise'\", etc.</p></li>\n</ol>\n\n<p>3.I just did <code>alt+Enter</code> on the R, then clicked on Create a class 'R'...\nThe error disappeared, is this correct or it could lead to another error?</p>\n"},{"tags":["java","web-services","soap","xsd","wsdl"],"owner":{"account_id":12892395,"reputation":131,"user_id":9323939,"display_name":"kruzexx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674478319,"creation_date":1674478319,"question_id":75209798,"body_markdown":"There is a remote SOAP webservice. In the SomeService.wsdl file published on the server there is an import statement:  \r\n```xml\r\n&lt;xs:import namespace=&quot;http://www.someserver.com/someschema/v1&quot; schemaLocation=&quot;xsd/something.xsd&quot;/&gt;\r\n```\r\n\r\nI generated clients from Apache CXF. When I try to connect with the client..\r\n```java\r\nSomeService service = new SomeService(new URL(&quot;http://someserver.com/ws/someservice&quot;));\r\n```\r\n.. then the client code parses the wsdl and gets to the point where it tries to load the xsd but since it is referenced as `xsd/something.xsd` it tries to find it on the local machine where the client runs and I get an exception:\r\n```text\r\njava.io.FileNotFoundException: /home/myuser/Projects/SomeProject/build/classes/java/main/xsd/something.xsd (No such file or directory)\r\n```\r\n\r\nI have no access to the remote server. I&#39;m expected to solve this from the client side. I&#39;ve read several articles and books and forum posts and I have no clue how to resolve this.  \r\n\r\n**Question:** What am I supposed to do with this? Can I resolve this from the client side?","title":"Published SOAP service wsdl has xsd import pointing to file system which results in client creation failure","body":"<p>There is a remote SOAP webservice. In the SomeService.wsdl file published on the server there is an import statement:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xs:import namespace=&quot;http://www.someserver.com/someschema/v1&quot; schemaLocation=&quot;xsd/something.xsd&quot;/&gt;\n</code></pre>\n<p>I generated clients from Apache CXF. When I try to connect with the client..</p>\n<pre class=\"lang-java prettyprint-override\"><code>SomeService service = new SomeService(new URL(&quot;http://someserver.com/ws/someservice&quot;));\n</code></pre>\n<p>.. then the client code parses the wsdl and gets to the point where it tries to load the xsd but since it is referenced as <code>xsd/something.xsd</code> it tries to find it on the local machine where the client runs and I get an exception:</p>\n<pre><code>java.io.FileNotFoundException: /home/myuser/Projects/SomeProject/build/classes/java/main/xsd/something.xsd (No such file or directory)\n</code></pre>\n<p>I have no access to the remote server. I'm expected to solve this from the client side. I've read several articles and books and forum posts and I have no clue how to resolve this.</p>\n<p><strong>Question:</strong> What am I supposed to do with this? Can I resolve this from the client side?</p>\n"},{"tags":["java","performance","tostring"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1674477729,"post_id":75209630,"comment_id":132715316,"body_markdown":"If you&#39;re asking if there&#39;s a performance difference between calling toString implicitly and explicitly, the answer is no.  If you&#39;re asking whether doing extra work in toString() will cause it to use more clock cycles, of course it will.  Whether that makes any difference in your particular situation is unknowable in a Stack Overflow question.","body":"If you&#39;re asking if there&#39;s a performance difference between calling toString implicitly and explicitly, the answer is no.  If you&#39;re asking whether doing extra work in toString() will cause it to use more clock cycles, of course it will.  Whether that makes any difference in your particular situation is unknowable in a Stack Overflow question."},{"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"score":0,"creation_date":1674477803,"post_id":75209630,"comment_id":132715332,"body_markdown":"the question is about whether `toString()` might get called by something outside of my java code","body":"the question is about whether <code>toString()</code> might get called by something outside of my java code"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1674477804,"post_id":75209630,"comment_id":132715333,"body_markdown":"Your title says &quot;explicitly&quot; and your question body says &quot;explicitly *or implicitly*&quot;. What scenarios do you actually mean to specify by these qualifiers?","body":"Your title says &quot;explicitly&quot; and your question body says &quot;explicitly <i>or implicitly</i>&quot;. What scenarios do you actually mean to specify by these qualifiers?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1674477815,"post_id":75209630,"comment_id":132715338,"body_markdown":"The only &quot;magic&quot; invocation of `toString()` that I can think of is when using a debugger, and even then it tends to be limited to items you view in the values view. And it shouldn&#39;t ever impact production environments. Unless you somehow call `toString()` in logging (even when log level is disabled), you should be fine.","body":"The only &quot;magic&quot; invocation of <code>toString()</code> that I can think of is when using a debugger, and even then it tends to be limited to items you view in the values view. And it shouldn&#39;t ever impact production environments. Unless you somehow call <code>toString()</code> in logging (even when log level is disabled), you should be fine."},{"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"score":0,"creation_date":1674477958,"post_id":75209630,"comment_id":132715400,"body_markdown":"I do call `toString()` in logging with debug level but I wrap that into `if (LOG.isDebugEnabled())`; but still, the question is whether something else than my code might be calling `toString()`","body":"I do call <code>toString()</code> in logging with debug level but I wrap that into <code>if (LOG.isDebugEnabled())</code>; but still, the question is whether something else than my code might be calling <code>toString()</code>"}],"answers":[{"comments":[{"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"score":0,"creation_date":1674478092,"post_id":75209739,"comment_id":132715452,"body_markdown":"The implicit calls I mentioned in the question, and yes, I do wrap the logging statements with `isDebugEnabled()`","body":"The implicit calls I mentioned in the question, and yes, I do wrap the logging statements with <code>isDebugEnabled()</code>"}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674477984,"creation_date":1674477984,"answer_id":75209739,"question_id":75209630,"body_markdown":"`toString()` is called whenever an object needs to be converted to a string. There are cases where it&#39;s implicit. To name a few:\r\n\r\n* Concatenating the object to a string (`&quot;hello &quot; + object`)\r\n* Appending the object to a `StringBuilder` or `StringBuffer`\r\n* Calling `System.out.println(object)`\r\n* Using the object in message interpolation, like `System.out.printf`, `String.format`, but also in logging like `LOGGER.debug(&quot;Hello {}&quot;, object)`\r\n\r\nI&#39;m guessing that you&#39;re using something like the latter - `LOGGER.debug(&quot;Hello {}&quot;, object)`. The good news is that any properly written logging framework will only perform interpolation if the given level is enabled. In this example, if the logger is using level `INFO` or higher, the interpolation is skipped. Some frameworks like SLF4J even have overloads for 1 or 2 arguments to prevent creating an array to handle the varargs call.\r\n\r\nIn case the arguments to the logger are dynamic, you can still prevent unnecessarily calculating them. The following two are mostly identical:\r\n```\r\nLOGGER.debug(&quot;Hello {}&quot;, object);\r\n```\r\n```\r\nif (LOGGER.isDebugEnabled()) {\r\n    LOGGER.debug(&quot;Hello {}&quot;, object.toString());\r\n}\r\n```","title":"Is java&#39;s toString() evaluated if you don&#39;t call it in your code?","body":"<p><code>toString()</code> is called whenever an object needs to be converted to a string. There are cases where it's implicit. To name a few:</p>\n<ul>\n<li>Concatenating the object to a string (<code>&quot;hello &quot; + object</code>)</li>\n<li>Appending the object to a <code>StringBuilder</code> or <code>StringBuffer</code></li>\n<li>Calling <code>System.out.println(object)</code></li>\n<li>Using the object in message interpolation, like <code>System.out.printf</code>, <code>String.format</code>, but also in logging like <code>LOGGER.debug(&quot;Hello {}&quot;, object)</code></li>\n</ul>\n<p>I'm guessing that you're using something like the latter - <code>LOGGER.debug(&quot;Hello {}&quot;, object)</code>. The good news is that any properly written logging framework will only perform interpolation if the given level is enabled. In this example, if the logger is using level <code>INFO</code> or higher, the interpolation is skipped. Some frameworks like SLF4J even have overloads for 1 or 2 arguments to prevent creating an array to handle the varargs call.</p>\n<p>In case the arguments to the logger are dynamic, you can still prevent unnecessarily calculating them. The following two are mostly identical:</p>\n<pre><code>LOGGER.debug(&quot;Hello {}&quot;, object);\n</code></pre>\n<pre><code>if (LOGGER.isDebugEnabled()) {\n    LOGGER.debug(&quot;Hello {}&quot;, object.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674478029,"creation_date":1674478029,"answer_id":75209751,"question_id":75209630,"body_markdown":"There&#39;s really no magic about `toString()`, it&#39;s never &quot;magically&quot; invoked. However, given that it&#39;s a method on `java.lang.Object`  calls to it can be hidden in many places (and if you worry about `MyExpensiveClass.toString()` then you might have to inspect all call sites to `Object.toString()`).\r\n\r\nThe most common source of calling `toString()` is logging (or its simpler smaller brother `System.out.println`):\r\n\r\nIt&#39;s very easy to &quot;accidentally&quot; call `toString` on an object, even if it&#39;s not neded. If you had a hypothetical `Logger.debug(myExpensiveObject)` call, then the log framework *could* (and usually does) avoid calling `toString` if its not actually logging at `DEBUG` level.\r\n\r\n**However** if you do the very similar `Logger.debug(&quot;something is &quot; + myExpensiveObject)` then the logging framework **can not** stop the `toString` method being called, because that happens *before* you even call the method.\r\n\r\nSo to summarize: no *magic* invocation of `toString()` will happen, but the non-magic ones can be hidden in plain sight.","title":"Is java&#39;s toString() evaluated if you don&#39;t call it in your code?","body":"<p>There's really no magic about <code>toString()</code>, it's never &quot;magically&quot; invoked. However, given that it's a method on <code>java.lang.Object</code>  calls to it can be hidden in many places (and if you worry about <code>MyExpensiveClass.toString()</code> then you might have to inspect all call sites to <code>Object.toString()</code>).</p>\n<p>The most common source of calling <code>toString()</code> is logging (or its simpler smaller brother <code>System.out.println</code>):</p>\n<p>It's very easy to &quot;accidentally&quot; call <code>toString</code> on an object, even if it's not neded. If you had a hypothetical <code>Logger.debug(myExpensiveObject)</code> call, then the log framework <em>could</em> (and usually does) avoid calling <code>toString</code> if its not actually logging at <code>DEBUG</code> level.</p>\n<p><strong>However</strong> if you do the very similar <code>Logger.debug(&quot;something is &quot; + myExpensiveObject)</code> then the logging framework <strong>can not</strong> stop the <code>toString</code> method being called, because that happens <em>before</em> you even call the method.</p>\n<p>So to summarize: no <em>magic</em> invocation of <code>toString()</code> will happen, but the non-magic ones can be hidden in plain sight.</p>\n"},{"tags":[],"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1674478122,"creation_date":1674478122,"answer_id":75209769,"question_id":75209630,"body_markdown":"Not likely but given you state &quot;JVM Internals&quot; or &quot;Frameworks&quot; and not exactly which JVM implementations or what framework, it&#39;s hard to give guarantees.\r\n\r\nA way is to find out if you have any implicit or under the hood calls by doing something nasty in the toString, like crashing, exception, logg, exit or Thread.sleep(10000) and make a test run to see if your application hits the toString. If not, there should be no performance implications since even if there is an odd case of something calling toString, it shouldn&#39;t be in the hot path.","title":"Is java&#39;s toString() evaluated if you don&#39;t call it in your code?","body":"<p>Not likely but given you state &quot;JVM Internals&quot; or &quot;Frameworks&quot; and not exactly which JVM implementations or what framework, it's hard to give guarantees.</p>\n<p>A way is to find out if you have any implicit or under the hood calls by doing something nasty in the toString, like crashing, exception, logg, exit or Thread.sleep(10000) and make a test run to see if your application hits the toString. If not, there should be no performance implications since even if there is an odd case of something calling toString, it shouldn't be in the hot path.</p>\n"}],"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1674484260,"accepted_answer_id":75209769,"answer_count":3,"score":-1,"last_activity_date":1674478275,"creation_date":1674477492,"question_id":75209630,"body_markdown":"If you never explicitly or implicitly call a `toString()` method in your java code is there a chance it might still be evaluated by some JVM internals (or frameworks)?\r\n\r\nThe reason for asking is to understand if doing extra work in the `toString()` method of a class might have any performance impact.\r\n\r\nThe underlying use case for having the `toString()` is to make debugging and logging more comfortable, i.e. the method is only used with `DEBUG` logging level for diagnostic purposes but not in regular production mode.","title":"Is java&#39;s toString() evaluated if you don&#39;t call it in your code?","body":"<p>If you never explicitly or implicitly call a <code>toString()</code> method in your java code is there a chance it might still be evaluated by some JVM internals (or frameworks)?</p>\n<p>The reason for asking is to understand if doing extra work in the <code>toString()</code> method of a class might have any performance impact.</p>\n<p>The underlying use case for having the <code>toString()</code> is to make debugging and logging more comfortable, i.e. the method is only used with <code>DEBUG</code> logging level for diagnostic purposes but not in regular production mode.</p>\n"},{"tags":["java","json","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674477077,"creation_date":1674477077,"answer_id":75209542,"question_id":75209271,"body_markdown":"Property names in json start with uppercase - `Risk`, etc. Fields in POJO start with lowercase - `risk`, so they can&#39;t be matched automatically. You can either:\r\n\r\n 1. Change them in json to be lowercase\r\n 2. Use annotation [JsonProperty][1] on the fields to specify the name of the property to match for this field.\r\n```\r\npublic class RiskClass {\r\n\r\n  @JsonProperty(&quot;Risk&quot;)\r\n  String risk;\r\n}\r\n```\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonProperty.html","title":"ObjectMapper returns null value on date field","body":"<p>Property names in json start with uppercase - <code>Risk</code>, etc. Fields in POJO start with lowercase - <code>risk</code>, so they can't be matched automatically. You can either:</p>\n<ol>\n<li>Change them in json to be lowercase</li>\n<li>Use annotation <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonProperty.html\" rel=\"nofollow noreferrer\">JsonProperty</a> on the fields to specify the name of the property to match for this field.</li>\n</ol>\n<pre><code>public class RiskClass {\n\n  @JsonProperty(&quot;Risk&quot;)\n  String risk;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1674478268,"creation_date":1674477550,"answer_id":75209643,"question_id":75209271,"body_markdown":"Add an annotation over your property `lastDefaultDate`:&lt;br&gt;\r\n \r\n\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n        LocalDateTime lastDefaultDate;\r\n\r\nAlso change type `Date` to `LocalDateTime` as Date type is outdated (pun intended). For more details look at this question and its best answer: [Spring Data JPA - ZonedDateTime format for json serialization][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization","title":"ObjectMapper returns null value on date field","body":"<p>Add an annotation over your property <code>lastDefaultDate</code>:<br></p>\n<pre><code>    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n    LocalDateTime lastDefaultDate;\n</code></pre>\n<p>Also change type <code>Date</code> to <code>LocalDateTime</code> as Date type is outdated (pun intended). For more details look at this question and its best answer: <a href=\"https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization\">Spring Data JPA - ZonedDateTime format for json serialization</a></p>\n"}],"owner":{"account_id":3242692,"reputation":10516,"user_id":2735275,"accept_rate":45,"display_name":"Aditya Sethi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1674480742,"accepted_answer_id":75209643,"answer_count":2,"score":-1,"last_activity_date":1674478268,"creation_date":1674475660,"question_id":75209271,"body_markdown":"My data is as below and saved in test folder with name risk.json\r\n```\r\n[{\r\n    &quot;Risk&quot;: &quot;BN&quot;,\r\n    &quot;Classification&quot;: null,\r\n    &quot;LastDefaultDate&quot;: &quot;1915-04-14 00:00:00&quot;\r\n  }]\r\n```\r\n\r\nI have RiskClass defined as below\r\n```\r\n@Data\r\n@JsonIgnoreProperties({&quot;document&quot;})\r\npublic class RiskClass implements KeyedObject {\r\n\r\n    String risk;\r\n    String classification;\r\n    Date lastDefaultDate;\r\n\r\n    @Override\r\n    public String getKey() {\r\n        return risk;\r\n    }\r\n}\r\n```\r\n\r\nIn my data prepare class i am trying to populate one of the map by doing below\r\n```\r\nList&lt;RiskClass&gt; rList = ObjectUtils.jsonStringToObjList(readFileAsString(&quot;test&quot;, &quot;risk.json&quot;), RiskClass.class);\r\nMap&lt;String, RiskClass&gt; riskMapLocal = new HashMap&lt;&gt;();\r\nfor (RiskClass rMap : rList) {\r\n    riskMapLocal.put(rMap.getRisk(), rMap);\r\n}\r\n```\r\n\r\nnow when i try to print riskMapLocal, under lastDefaultDate i get null value.\r\n","title":"ObjectMapper returns null value on date field","body":"<p>My data is as below and saved in test folder with name risk.json</p>\n<pre><code>[{\n    &quot;Risk&quot;: &quot;BN&quot;,\n    &quot;Classification&quot;: null,\n    &quot;LastDefaultDate&quot;: &quot;1915-04-14 00:00:00&quot;\n  }]\n</code></pre>\n<p>I have RiskClass defined as below</p>\n<pre><code>@Data\n@JsonIgnoreProperties({&quot;document&quot;})\npublic class RiskClass implements KeyedObject {\n\n    String risk;\n    String classification;\n    Date lastDefaultDate;\n\n    @Override\n    public String getKey() {\n        return risk;\n    }\n}\n</code></pre>\n<p>In my data prepare class i am trying to populate one of the map by doing below</p>\n<pre><code>List&lt;RiskClass&gt; rList = ObjectUtils.jsonStringToObjList(readFileAsString(&quot;test&quot;, &quot;risk.json&quot;), RiskClass.class);\nMap&lt;String, RiskClass&gt; riskMapLocal = new HashMap&lt;&gt;();\nfor (RiskClass rMap : rList) {\n    riskMapLocal.put(rMap.getRisk(), rMap);\n}\n</code></pre>\n<p>now when i try to print riskMapLocal, under lastDefaultDate i get null value.</p>\n"},{"tags":["java","spring","spring-boot","logging","logback"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1674478395,"post_id":75209707,"comment_id":132715548,"body_markdown":"I think you need `logging.level.org.hibernate.type=TRACE` as well for values","body":"I think you need <code>logging.level.org.hibernate.type=TRACE</code> as well for values"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1674478421,"post_id":75209707,"comment_id":132715563,"body_markdown":"Hibernate team have moved `org.hibernate.type.descriptor.sql.BasicBinder` to another package, now I believe the correct configuration is `logging.level.org.hibernate.orm.jdbc.bind=TRACE`. Please also check https://docs.jboss.org/hibernate/orm/6.1/logging/logging.html","body":"Hibernate team have moved <code>org.hibernate.type.descriptor.sql.BasicBinder</code> to another package, now I believe the correct configuration is <code>logging.level.org.hibernate.orm.jdbc.bind=TRACE</code>. Please also check <a href=\"https://docs.jboss.org/hibernate/orm/6.1/logging/logging.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.1/logging/logging.html</a>"},{"owner":{"account_id":9999928,"reputation":143,"user_id":7396271,"display_name":"Abdou"},"score":0,"creation_date":1674478539,"post_id":75209707,"comment_id":132715601,"body_markdown":"it worked ! logging.level.org.hibernate.orm.jdbc.bind=TRACE fixed it @AndreyB.Panfilov\nput it in an answer pls, i&#39;ll accept it right away","body":"it worked ! logging.level.org.hibernate.orm.jdbc.bind=TRACE fixed it @AndreyB.Panfilov put it in an answer pls, i&#39;ll accept it right away"}],"owner":{"account_id":9999928,"reputation":143,"user_id":7396271,"display_name":"Abdou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674477851,"creation_date":1674477851,"question_id":75209707,"body_markdown":"I have read [this article][1] and googled a bit and came up with this `application.properties` file : \r\n\r\n    spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/erp\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    \r\n    spring.jpa.hibernate.ddl-auto = create\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    \r\n    # Default exception handling\r\n    server.error.include-message=always\r\n    \r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n    logging.pattern.console=%clr(%d{yy-MM-dd E HH:mm:ss.SSS}){blue} %clr(%-5p) %clr(${PID}){faint} %clr(---){faint} %clr([%8.15t]){cyan} %clr(%-40.40logger{0}){blue} %clr(:){red} %clr(%m){faint}%n\r\n\r\n## The Problem\r\nI have is that my sql queries are shown but the binding parameter are still hidden &quot;?&quot;.\r\n\r\ni also noticed that even tho i have `logging.level.org.hibernate.type.descriptor.sql.BasicBinder`&#39;s loggin set to `trace` the lowest level i&#39;ve seen is DEBUG, here is what my logs look like when i start the app : \r\n\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v3.0.1)\r\n    \r\n    23-01-23 Mon 13:39:56.320 INFO  7900 --- [    main] ErpApplication                           : Starting ErpApplication using Java 17.0.1 with PID 7900 (G:\\Workspaces\\ERP-SYSTEM\\ERP\\target\\classes started by DEV-ABDOU in G:\\Workspaces\\ERP-SYSTEM\\ERP)\r\n    23-01-23 Mon 13:39:56.337 INFO  7900 --- [    main] ErpApplication                           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    23-01-23 Mon 13:39:56.786 INFO  7900 --- [    main] RepositoryConfigurationDelegate          : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    23-01-23 Mon 13:39:56.827 INFO  7900 --- [    main] RepositoryConfigurationDelegate          : Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.\r\n    23-01-23 Mon 13:39:57.200 INFO  7900 --- [    main] TomcatWebServer                          : Tomcat initialized with port(s): 8080 (http)\r\n    23-01-23 Mon 13:39:57.217 INFO  7900 --- [    main] StandardService                          : Starting service [Tomcat]\r\n    23-01-23 Mon 13:39:57.218 INFO  7900 --- [    main] StandardEngine                           : Starting Servlet engine: [Apache Tomcat/10.1.4]\r\n    23-01-23 Mon 13:39:57.295 INFO  7900 --- [    main] [/]                                      : Initializing Spring embedded WebApplicationContext\r\n    23-01-23 Mon 13:39:57.295 INFO  7900 --- [    main] ServletWebServerApplicationContext       : Root WebApplicationContext: initialization completed in 928 ms\r\n    23-01-23 Mon 13:39:57.397 INFO  7900 --- [    main] LogHelper                                : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    23-01-23 Mon 13:39:57.434 INFO  7900 --- [    main] Version                                  : HHH000412: Hibernate ORM core version 6.1.6.Final\r\n    23-01-23 Mon 13:39:57.553 WARN  7900 --- [    main] deprecation                              : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n    23-01-23 Mon 13:39:57.637 INFO  7900 --- [    main] HikariDataSource                         : HikariPool-1 - Starting...\r\n    23-01-23 Mon 13:39:57.868 INFO  7900 --- [    main] HikariPool                               : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@101c15ad\r\n    23-01-23 Mon 13:39:57.870 INFO  7900 --- [    main] HikariDataSource                         : HikariPool-1 - Start completed.\r\n    23-01-23 Mon 13:39:57.914 INFO  7900 --- [    main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n    23-01-23 Mon 13:39:58.514 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles drop foreign key FKoapb2199m0cu5gdwiy4xibqqu\r\n    23-01-23 Mon 13:39:58.529 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles drop foreign key FKolk7a861hdu0lghxspabptiqj\r\n    23-01-23 Mon 13:39:58.536 DEBUG 7900 --- [    main] SQL                                      : drop table if exists roles\r\n    23-01-23 Mon 13:39:58.545 DEBUG 7900 --- [    main] SQL                                      : drop table if exists users\r\n    23-01-23 Mon 13:39:58.556 DEBUG 7900 --- [    main] SQL                                      : drop table if exists users_to_roles\r\n    23-01-23 Mon 13:39:58.569 DEBUG 7900 --- [    main] SQL                                      : create table roles (id bigint not null auto_increment, name varchar(255), primary key (id)) engine=InnoDB\r\n    23-01-23 Mon 13:39:58.582 DEBUG 7900 --- [    main] SQL                                      : create table users (id bigint not null auto_increment, email varchar(255), password varchar(255), username varchar(255), primary key (id)) engine=InnoDB\r\n    23-01-23 Mon 13:39:58.594 DEBUG 7900 --- [    main] SQL                                      : create table users_to_roles (user_id bigint not null, role_id bigint not null, primary key (user_id, role_id)) engine=InnoDB\r\n    23-01-23 Mon 13:39:58.605 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles add constraint FKoapb2199m0cu5gdwiy4xibqqu foreign key (role_id) references roles (id)\r\n    23-01-23 Mon 13:39:58.647 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles add constraint FKolk7a861hdu0lghxspabptiqj foreign key (user_id) references users (id)\r\n    23-01-23 Mon 13:39:58.687 INFO  7900 --- [    main] JtaPlatformInitiator                     : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    23-01-23 Mon 13:39:58.695 INFO  7900 --- [    main] LocalContainerEntityManagerFactoryBean   : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    23-01-23 Mon 13:39:58.981 WARN  7900 --- [    main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    23-01-23 Mon 13:39:59.149 INFO  7900 --- [    main] DefaultSecurityFilterChain               : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@47629063, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d67e3d3, org.springframework.security.web.context.SecurityContextHolderFilter@209d0037, org.springframework.security.web.header.HeaderWriterFilter@5f6ba085, org.springframework.web.filter.CorsFilter@14af57c3, org.springframework.security.web.authentication.logout.LogoutFilter@758ac46, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b39bee2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b7dd173, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@795949fb, org.springframework.security.web.access.ExceptionTranslationFilter@6c569caf, org.springframework.security.web.access.intercept.AuthorizationFilter@30d944d8]\r\n    23-01-23 Mon 13:39:59.325 INFO  7900 --- [    main] TomcatWebServer                          : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    23-01-23 Mon 13:39:59.331 INFO  7900 --- [    main] ErpApplication                           : Started ErpApplication in 3.286 seconds (process running for 3.916)\r\n    23-01-23 Mon 13:39:59.419 DEBUG 7900 --- [    main] SQL                                      : select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?\r\n    23-01-23 Mon 13:39:59.451 DEBUG 7900 --- [    main] SQL                                      : insert into roles (name) values (?)\r\n    23-01-23 Mon 13:39:59.462 DEBUG 7900 --- [    main] SQL                                      : select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?\r\n    23-01-23 Mon 13:39:59.463 DEBUG 7900 --- [    main] SQL                                      : insert into roles (name) values (?)\r\n    23-01-23 Mon 13:39:59.467 DEBUG 7900 --- [    main] SQL                                      : select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?\r\n    23-01-23 Mon 13:39:59.468 DEBUG 7900 --- [    main] SQL                                      : insert into roles (name) values (?)\r\n\r\nI didn&#39;t modify the logback config ( created my own logback.properties or logback-spring.properties ) i&#39;m using what ever default config spring boot comes with.\r\n\r\n\r\n  [1]: https://thorben-janssen.com/hibernate-tips-how-to-log-sql-statements-and-their-parameters/","title":"SQL statement&#39;s parameters not logged in console - spring boot v3 app","body":"<p>I have read <a href=\"https://thorben-janssen.com/hibernate-tips-how-to-log-sql-statements-and-their-parameters/\" rel=\"nofollow noreferrer\">this article</a> and googled a bit and came up with this <code>application.properties</code> file :</p>\n<pre><code>spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/erp\nspring.datasource.username=root\nspring.datasource.password=root\n\nspring.jpa.hibernate.ddl-auto = create\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n# Default exception handling\nserver.error.include-message=always\n\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\nlogging.pattern.console=%clr(%d{yy-MM-dd E HH:mm:ss.SSS}){blue} %clr(%-5p) %clr(${PID}){faint} %clr(---){faint} %clr([%8.15t]){cyan} %clr(%-40.40logger{0}){blue} %clr(:){red} %clr(%m){faint}%n\n</code></pre>\n<h2>The Problem</h2>\n<p>I have is that my sql queries are shown but the binding parameter are still hidden &quot;?&quot;.</p>\n<p>i also noticed that even tho i have <code>logging.level.org.hibernate.type.descriptor.sql.BasicBinder</code>'s loggin set to <code>trace</code> the lowest level i've seen is DEBUG, here is what my logs look like when i start the app :</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.1)\n\n23-01-23 Mon 13:39:56.320 INFO  7900 --- [    main] ErpApplication                           : Starting ErpApplication using Java 17.0.1 with PID 7900 (G:\\Workspaces\\ERP-SYSTEM\\ERP\\target\\classes started by DEV-ABDOU in G:\\Workspaces\\ERP-SYSTEM\\ERP)\n23-01-23 Mon 13:39:56.337 INFO  7900 --- [    main] ErpApplication                           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n23-01-23 Mon 13:39:56.786 INFO  7900 --- [    main] RepositoryConfigurationDelegate          : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n23-01-23 Mon 13:39:56.827 INFO  7900 --- [    main] RepositoryConfigurationDelegate          : Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.\n23-01-23 Mon 13:39:57.200 INFO  7900 --- [    main] TomcatWebServer                          : Tomcat initialized with port(s): 8080 (http)\n23-01-23 Mon 13:39:57.217 INFO  7900 --- [    main] StandardService                          : Starting service [Tomcat]\n23-01-23 Mon 13:39:57.218 INFO  7900 --- [    main] StandardEngine                           : Starting Servlet engine: [Apache Tomcat/10.1.4]\n23-01-23 Mon 13:39:57.295 INFO  7900 --- [    main] [/]                                      : Initializing Spring embedded WebApplicationContext\n23-01-23 Mon 13:39:57.295 INFO  7900 --- [    main] ServletWebServerApplicationContext       : Root WebApplicationContext: initialization completed in 928 ms\n23-01-23 Mon 13:39:57.397 INFO  7900 --- [    main] LogHelper                                : HHH000204: Processing PersistenceUnitInfo [name: default]\n23-01-23 Mon 13:39:57.434 INFO  7900 --- [    main] Version                                  : HHH000412: Hibernate ORM core version 6.1.6.Final\n23-01-23 Mon 13:39:57.553 WARN  7900 --- [    main] deprecation                              : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\n23-01-23 Mon 13:39:57.637 INFO  7900 --- [    main] HikariDataSource                         : HikariPool-1 - Starting...\n23-01-23 Mon 13:39:57.868 INFO  7900 --- [    main] HikariPool                               : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@101c15ad\n23-01-23 Mon 13:39:57.870 INFO  7900 --- [    main] HikariDataSource                         : HikariPool-1 - Start completed.\n23-01-23 Mon 13:39:57.914 INFO  7900 --- [    main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\n23-01-23 Mon 13:39:58.514 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles drop foreign key FKoapb2199m0cu5gdwiy4xibqqu\n23-01-23 Mon 13:39:58.529 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles drop foreign key FKolk7a861hdu0lghxspabptiqj\n23-01-23 Mon 13:39:58.536 DEBUG 7900 --- [    main] SQL                                      : drop table if exists roles\n23-01-23 Mon 13:39:58.545 DEBUG 7900 --- [    main] SQL                                      : drop table if exists users\n23-01-23 Mon 13:39:58.556 DEBUG 7900 --- [    main] SQL                                      : drop table if exists users_to_roles\n23-01-23 Mon 13:39:58.569 DEBUG 7900 --- [    main] SQL                                      : create table roles (id bigint not null auto_increment, name varchar(255), primary key (id)) engine=InnoDB\n23-01-23 Mon 13:39:58.582 DEBUG 7900 --- [    main] SQL                                      : create table users (id bigint not null auto_increment, email varchar(255), password varchar(255), username varchar(255), primary key (id)) engine=InnoDB\n23-01-23 Mon 13:39:58.594 DEBUG 7900 --- [    main] SQL                                      : create table users_to_roles (user_id bigint not null, role_id bigint not null, primary key (user_id, role_id)) engine=InnoDB\n23-01-23 Mon 13:39:58.605 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles add constraint FKoapb2199m0cu5gdwiy4xibqqu foreign key (role_id) references roles (id)\n23-01-23 Mon 13:39:58.647 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles add constraint FKolk7a861hdu0lghxspabptiqj foreign key (user_id) references users (id)\n23-01-23 Mon 13:39:58.687 INFO  7900 --- [    main] JtaPlatformInitiator                     : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n23-01-23 Mon 13:39:58.695 INFO  7900 --- [    main] LocalContainerEntityManagerFactoryBean   : Initialized JPA EntityManagerFactory for persistence unit 'default'\n23-01-23 Mon 13:39:58.981 WARN  7900 --- [    main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n23-01-23 Mon 13:39:59.149 INFO  7900 --- [    main] DefaultSecurityFilterChain               : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@47629063, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d67e3d3, org.springframework.security.web.context.SecurityContextHolderFilter@209d0037, org.springframework.security.web.header.HeaderWriterFilter@5f6ba085, org.springframework.web.filter.CorsFilter@14af57c3, org.springframework.security.web.authentication.logout.LogoutFilter@758ac46, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b39bee2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b7dd173, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@795949fb, org.springframework.security.web.access.ExceptionTranslationFilter@6c569caf, org.springframework.security.web.access.intercept.AuthorizationFilter@30d944d8]\n23-01-23 Mon 13:39:59.325 INFO  7900 --- [    main] TomcatWebServer                          : Tomcat started on port(s): 8080 (http) with context path ''\n23-01-23 Mon 13:39:59.331 INFO  7900 --- [    main] ErpApplication                           : Started ErpApplication in 3.286 seconds (process running for 3.916)\n23-01-23 Mon 13:39:59.419 DEBUG 7900 --- [    main] SQL                                      : select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?\n23-01-23 Mon 13:39:59.451 DEBUG 7900 --- [    main] SQL                                      : insert into roles (name) values (?)\n23-01-23 Mon 13:39:59.462 DEBUG 7900 --- [    main] SQL                                      : select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?\n23-01-23 Mon 13:39:59.463 DEBUG 7900 --- [    main] SQL                                      : insert into roles (name) values (?)\n23-01-23 Mon 13:39:59.467 DEBUG 7900 --- [    main] SQL                                      : select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?\n23-01-23 Mon 13:39:59.468 DEBUG 7900 --- [    main] SQL                                      : insert into roles (name) values (?)\n</code></pre>\n<p>I didn't modify the logback config ( created my own logback.properties or logback-spring.properties ) i'm using what ever default config spring boot comes with.</p>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1674248969,"post_id":75189233,"comment_id":132682119,"body_markdown":"You only have access to files in `Documents/` that your app created. The same holds true for `Downloads/`.","body":"You only have access to files in <code>Documents&#47;</code> that your app created. The same holds true for <code>Downloads&#47;</code>."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1674249157,"post_id":75189233,"comment_id":132682147,"body_markdown":"`How to get a list of files that already exist ...` Well what about non existing files? Looks just more interesting ;-)","body":"<code>How to get a list of files that already exist ...</code> Well what about non existing files? Looks just more interesting ;-)"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674482229,"post_id":75189233,"comment_id":132716908,"body_markdown":"The two `ACTION_` prefixed values are NOT permissions, they are the names of actions that launch various settings pages. Requesting them as permissions will do nothing useful.","body":"The two <code>ACTION_</code> prefixed values are NOT permissions, they are the names of actions that launch various settings pages. Requesting them as permissions will do nothing useful."}],"owner":{"account_id":25246559,"reputation":1,"user_id":19079738,"display_name":"Felipe Damaro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674477747,"creation_date":1674247902,"question_id":75189233,"body_markdown":"I&#39;m trying to get a list of files from directories, but I never get the name of files that already exist, it just returns the files I created with my app.\r\n\r\nFor example, inside the Documents folder I have 3 pdf files that I loaded from Android Studio and a test.txt that my app created, but when I run the code to list the files, only test.txt appears.\r\n\r\nI already put the permissions in the Manifest, what do I need to do for it to work?\r\n\r\n```kotlin\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.os.Environment\r\nimport java.io.File\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    private val externalStorage: String = Environment.getExternalStorageDirectory().absolutePath\r\n    private val documentsDir: String = Environment.DIRECTORY_DOCUMENTS\r\n    private val documentsPath: String = &quot;$externalStorage/$documentsDir&quot;\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        createFile()\r\n        getFilesList(documentsPath)\r\n    }\r\n\r\n    private fun createFile() {\r\n        val fileName = &quot;test.txt&quot;\r\n        val file = File(documentsPath, fileName)\r\n        file.writeText(&quot;testing file...&quot;)\r\n    }\r\n\r\n    private fun getFilesList(path: String) {\r\n        File(path).walk()\r\n            .forEach {\r\n                println(&quot;WALK: $it&quot;)\r\n            }\r\n    }\r\n}\r\n```\r\n\r\nThe permissions in AndroidManifest.xml\r\n\r\n```xml\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION&quot; /&gt;\r\n```\r\n\r\nThe logs\r\n\r\n```\r\n/com.example.filereaderpoc I/System.out: WALK: /storage/emulated/0/Documents\r\n/com.example.filereaderpoc I/System.out: WALK: /storage/emulated/0/Documents/test.txt\r\n```\r\n\r\nMy directory tree is like:\r\n\r\n```\r\n- DCIM\r\n- Download\r\n- Documents\r\n    test.txt\r\n    test1.pdf\r\n    test2.pdf\r\n    test3.pdf\r\n```\r\n\r\n","title":"How to get a list of files that already exist on the device with Kotlin?","body":"<p>I'm trying to get a list of files from directories, but I never get the name of files that already exist, it just returns the files I created with my app.</p>\n<p>For example, inside the Documents folder I have 3 pdf files that I loaded from Android Studio and a test.txt that my app created, but when I run the code to list the files, only test.txt appears.</p>\n<p>I already put the permissions in the Manifest, what do I need to do for it to work?</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.os.Environment\nimport java.io.File\n\nclass MainActivity : AppCompatActivity() {\n\n    private val externalStorage: String = Environment.getExternalStorageDirectory().absolutePath\n    private val documentsDir: String = Environment.DIRECTORY_DOCUMENTS\n    private val documentsPath: String = &quot;$externalStorage/$documentsDir&quot;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        createFile()\n        getFilesList(documentsPath)\n    }\n\n    private fun createFile() {\n        val fileName = &quot;test.txt&quot;\n        val file = File(documentsPath, fileName)\n        file.writeText(&quot;testing file...&quot;)\n    }\n\n    private fun getFilesList(path: String) {\n        File(path).walk()\n            .forEach {\n                println(&quot;WALK: $it&quot;)\n            }\n    }\n}\n</code></pre>\n<p>The permissions in AndroidManifest.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION&quot; /&gt;\n</code></pre>\n<p>The logs</p>\n<pre><code>/com.example.filereaderpoc I/System.out: WALK: /storage/emulated/0/Documents\n/com.example.filereaderpoc I/System.out: WALK: /storage/emulated/0/Documents/test.txt\n</code></pre>\n<p>My directory tree is like:</p>\n<pre><code>- DCIM\n- Download\n- Documents\n    test.txt\n    test1.pdf\n    test2.pdf\n    test3.pdf\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1674477525,"post_id":75209594,"comment_id":132715247,"body_markdown":"`select i.* from ...` missing star to tell SQL you want all columns","body":"<code>select i.* from ...</code> missing star to tell SQL you want all columns"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1674477755,"post_id":75209594,"comment_id":132715322,"body_markdown":"@grekier the OP does not manually create the sql statement, it is the ORM that does it.","body":"@grekier the OP does not manually create the sql statement, it is the ORM that does it."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1674478275,"post_id":75209594,"comment_id":132715508,"body_markdown":"@Shadow I thought that ORM was bypassed when the query is marked as native=true","body":"@Shadow I thought that ORM was bypassed when the query is marked as native=true"},{"owner":{"account_id":27600197,"reputation":27,"user_id":21065590,"display_name":"Jcoder"},"score":0,"creation_date":1674492117,"post_id":75209594,"comment_id":132720495,"body_markdown":"@grekier In first case when i.* -&gt;  i give exception  Unknown column &#39;i.user.userEmail&#39; in &#39;where clause&#39;","body":"@grekier In first case when i.* -&gt;  i give exception  Unknown column &#39;i.user.userEmail&#39; in &#39;where clause&#39;"},{"owner":{"account_id":27600197,"reputation":27,"user_id":21065590,"display_name":"Jcoder"},"score":0,"creation_date":1674492160,"post_id":75209594,"comment_id":132720509,"body_markdown":"@Shadow In second when i delete query native=true, i give exception EL1011E: Method call: Attempted to call method getInstructorId() on null context object","body":"@Shadow In second when i delete query native=true, i give exception EL1011E: Method call: Attempted to call method getInstructorId() on null context object"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1674545082,"post_id":75209594,"comment_id":132730884,"body_markdown":"Native means that you need to join the tables yourself: `select i.* from Instructor as i join users as u on u.user_id = i.user_id where u.email = userEmail`. You might need to update a column name but the point is that, when nativeQuery is true, the query should be the same as you would run it in an SQL client (with column names and not variable names from your classes) except for the parameter value you pass to the query.","body":"Native means that you need to join the tables yourself: <code>select i.* from Instructor as i join users as u on u.user_id = i.user_id where u.email = userEmail</code>. You might need to update a column name but the point is that, when nativeQuery is true, the query should be the same as you would run it in an SQL client (with column names and not variable names from your classes) except for the parameter value you pass to the query."},{"owner":{"account_id":27600197,"reputation":27,"user_id":21065590,"display_name":"Jcoder"},"score":0,"creation_date":1674637113,"post_id":75209594,"comment_id":132754655,"body_markdown":"Again the same exception, Unknown column &#39;userEmail&#39; in &#39;where clause&#39;","body":"Again the same exception, Unknown column &#39;userEmail&#39; in &#39;where clause&#39;"}],"owner":{"account_id":27600197,"reputation":27,"user_id":21065590,"display_name":"Jcoder"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674477710,"creation_date":1674477312,"question_id":75209594,"body_markdown":"my problem is next. I have two table. Table1 that name &quot;Instructor&quot; and Table2 that name &quot;User&quot;.\r\nWhen i displaying information in my template, i need retrieve information about user from table Instructor.\r\n\r\nMy entity Instructor join column to users\r\n`@Entity\r\n@Table (name = &quot;Instructor&quot;)\r\npublic class Instructor {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue (strategy = GenerationType.IDENTITY)\r\n\t@Column (name = &quot;instructor_id&quot;, nullable = false)\r\n\tprivate Long instructorId;\r\n\t\r\n\t@Basic\r\n\t@Column (name = &quot;name&quot;, nullable = false, length = 45)\r\n\tprivate String firstName;\r\n\t\r\n\t@Basic\t\r\n\t@Column (name = &quot;lastName&quot;, nullable = false, length = 45)\r\n\tprivate String lastName;\r\n\t\r\n\t@Basic\r\n\t@Column (name = &quot;summary&quot;, nullable = false, length = 45)\r\n\tprivate String instructorSummary;\r\n\t\r\n\t@OneToMany (mappedBy = &quot;instructor&quot;, fetch = FetchType.LAZY)\r\n\tprivate Set &lt;Course&gt; courses = new HashSet&lt;&gt;();\r\n\t\r\n\t@OneToOne (cascade = CascadeType.REMOVE)\r\n\t@JoinColumn (name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;, nullable = false)\r\n\tprivate User user; `\r\n\r\nDao layer when i have Exception \r\n`\r\n@Query (nativeQuery=true, value = &quot;select i from Instructor as i where i.user.userEmail =:userEmail&quot;)\r\n\tInstructor findInstructByuserEmail (@Param (&quot;userEmail&quot;) String userEmail);`\r\n\r\n\r\nUser Entity\r\n\r\n`@Entity\r\n@Table (name = &quot;users&quot;)\r\npublic class User {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue (strategy = GenerationType.IDENTITY)\r\n\t@Column (name = &quot;user_id&quot;, nullable = false)\r\n\tprivate Long userId;\r\n\t\r\n\t@Basic\r\n\t@Column (name = &quot;email&quot;, nullable = false, length = 96, unique = true)\r\n\tprivate String userEmail;\r\n\t\r\n\t@Basic\r\n\t@Column (name = &quot;password&quot;, nullable = false, length = 96)\r\n\tprivate String userPassword;\r\n\t\r\n\t@ManyToMany (fetch = FetchType.EAGER)\r\n\t@NotFound(action = NotFoundAction.IGNORE)\r\n\t@JoinTable (name = &quot;user_role&quot;, \r\n\t                               joinColumns = {@JoinColumn (name = &quot;user_id&quot;)}, \r\n\t                               inverseJoinColumns = {@JoinColumn (name = &quot;role_id&quot;)})\r\n\tprivate Set &lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\t\r\n\t\r\n\t@OneToOne (mappedBy = &quot;user&quot;)\r\n\tprivate Student student;\r\n\t\r\n\t@OneToOne (mappedBy = &quot;user&quot;)\r\n\tprivate Instructor instructor;`\r\n\r\nCouple time i change Query in Dao layer, but it does&#39;t help me.\r\n\r\nMy Stack trace \r\n\r\nIn there Hibernate create request !\r\nHibernate: select i from Instructor as i where i.user.userEmail =?\r\n2023-01-23T14:30:30.682+02:00  WARN 32888 --- [nio-8071-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1054, SQLState: 42S22\r\n2023-01-23T14:30:30.682+02:00 ERROR 32888 --- [nio-8071-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column &#39;i&#39; in &#39;field list&#39;\r\n2023-01-23T14:30:30.688+02:00 ERROR 32888 --- [nio-8071-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select i from Instructor as i where i.user.userEmail =?]; SQL [n/a]] with root cause\r\n \r\nand than i give Exception !\r\njava.sql.SQLSyntaxErrorException: Unknown column &#39;i&#39; in &#39;field list&#39;\r\n\r\nAlso if you know good material, about Query it will be very useful for me, tnx!","title":"Hibernate can&#39;t select need column in table2 across table1?","body":"<p>my problem is next. I have two table. Table1 that name &quot;Instructor&quot; and Table2 that name &quot;User&quot;.\nWhen i displaying information in my template, i need retrieve information about user from table Instructor.</p>\n<p>My entity Instructor join column to users\n`@Entity\n@Table (name = &quot;Instructor&quot;)\npublic class Instructor {</p>\n<pre><code>@Id\n@GeneratedValue (strategy = GenerationType.IDENTITY)\n@Column (name = &quot;instructor_id&quot;, nullable = false)\nprivate Long instructorId;\n\n@Basic\n@Column (name = &quot;name&quot;, nullable = false, length = 45)\nprivate String firstName;\n\n@Basic  \n@Column (name = &quot;lastName&quot;, nullable = false, length = 45)\nprivate String lastName;\n\n@Basic\n@Column (name = &quot;summary&quot;, nullable = false, length = 45)\nprivate String instructorSummary;\n\n@OneToMany (mappedBy = &quot;instructor&quot;, fetch = FetchType.LAZY)\nprivate Set &lt;Course&gt; courses = new HashSet&lt;&gt;();\n\n@OneToOne (cascade = CascadeType.REMOVE)\n@JoinColumn (name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;, nullable = false)\nprivate User user; `\n</code></pre>\n<p>Dao layer when i have Exception\n<code> @Query (nativeQuery=true, value = &quot;select i from Instructor as i where i.user.userEmail =:userEmail&quot;) Instructor findInstructByuserEmail (@Param (&quot;userEmail&quot;) String userEmail);</code></p>\n<p>User Entity</p>\n<p>`@Entity\n@Table (name = &quot;users&quot;)\npublic class User {</p>\n<pre><code>@Id\n@GeneratedValue (strategy = GenerationType.IDENTITY)\n@Column (name = &quot;user_id&quot;, nullable = false)\nprivate Long userId;\n\n@Basic\n@Column (name = &quot;email&quot;, nullable = false, length = 96, unique = true)\nprivate String userEmail;\n\n@Basic\n@Column (name = &quot;password&quot;, nullable = false, length = 96)\nprivate String userPassword;\n\n@ManyToMany (fetch = FetchType.EAGER)\n@NotFound(action = NotFoundAction.IGNORE)\n@JoinTable (name = &quot;user_role&quot;, \n                               joinColumns = {@JoinColumn (name = &quot;user_id&quot;)}, \n                               inverseJoinColumns = {@JoinColumn (name = &quot;role_id&quot;)})\nprivate Set &lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n\n@OneToOne (mappedBy = &quot;user&quot;)\nprivate Student student;\n\n@OneToOne (mappedBy = &quot;user&quot;)\nprivate Instructor instructor;`\n</code></pre>\n<p>Couple time i change Query in Dao layer, but it does't help me.</p>\n<p>My Stack trace</p>\n<p>In there Hibernate create request !\nHibernate: select i from Instructor as i where i.user.userEmail =?\n2023-01-23T14:30:30.682+02:00  WARN 32888 --- [nio-8071-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1054, SQLState: 42S22\n2023-01-23T14:30:30.682+02:00 ERROR 32888 --- [nio-8071-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column 'i' in 'field list'\n2023-01-23T14:30:30.688+02:00 ERROR 32888 --- [nio-8071-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select i from Instructor as i where i.user.userEmail =?]; SQL [n/a]] with root cause</p>\n<p>and than i give Exception !\njava.sql.SQLSyntaxErrorException: Unknown column 'i' in 'field list'</p>\n<p>Also if you know good material, about Query it will be very useful for me, tnx!</p>\n"},{"tags":["java","firebase","firebase-realtime-database","firebase-authentication"],"answers":[{"comments":[{"owner":{"account_id":4630428,"reputation":439,"user_id":3753107,"display_name":"xaunlopez"},"score":3,"creation_date":1573705752,"post_id":40799378,"comment_id":103971895,"body_markdown":"Where should the JSON file be kept?","body":"Where should the JSON file be kept?"},{"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"score":0,"creation_date":1573715545,"post_id":40799378,"comment_id":103974987,"body_markdown":"@xaunlopez anywhere in your project sources, or on your own server side, just put path the file &quot;.setServiceAccount(new FileInputStream(&quot;path/to/serviceAccountCredentials.json&quot;))&quot;","body":"@xaunlopez anywhere in your project sources, or on your own server side, just put path the file &quot;.setServiceAccount(new FileInputStream(&quot;path/to/serviceAccountCredentials.json&quot;))&quot;"},{"owner":{"account_id":4630428,"reputation":439,"user_id":3753107,"display_name":"xaunlopez"},"score":1,"creation_date":1573776544,"post_id":40799378,"comment_id":104006019,"body_markdown":"project sources isn&#39;t good because can&#39;t check into version control, and by server side do you mean firebase storage?? I am just using firebase firestore and cloud functions.","body":"project sources isn&#39;t good because can&#39;t check into version control, and by server side do you mean firebase storage?? I am just using firebase firestore and cloud functions."},{"owner":{"account_id":75560,"reputation":5183,"user_id":216685,"accept_rate":83,"display_name":"Massimo Fazzolari"},"score":6,"creation_date":1575388823,"post_id":40799378,"comment_id":104546302,"body_markdown":"When you generate a new private key will the old key stop working immediately?","body":"When you generate a new private key will the old key stop working immediately?"},{"owner":{"account_id":8697286,"reputation":845,"user_id":6508289,"accept_rate":38,"display_name":"perrosnk"},"score":0,"creation_date":1586369438,"post_id":40799378,"comment_id":108106244,"body_markdown":"Has anyone understood if you generate a new private key wether the old key will stop working?","body":"Has anyone understood if you generate a new private key wether the old key will stop working?"},{"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"score":1,"creation_date":1591944976,"post_id":40799378,"comment_id":110251994,"body_markdown":"@perrosnk yes, it will stop working. `This file is only generated once. If you lose or leak the key, you can repeat the instructions above to create a new JSON key for the service account.`","body":"@perrosnk yes, it will stop working. <code>This file is only generated once. If you lose or leak the key, you can repeat the instructions above to create a new JSON key for the service account.</code>"},{"owner":{"account_id":20711429,"reputation":724,"user_id":15207965,"display_name":"markWanka"},"score":0,"creation_date":1632245140,"post_id":40799378,"comment_id":122438537,"body_markdown":"If I have an existing firebase in the previous project, ant I go to the link above to get servicekey.json, it is my apiKey and the other credentials will be overwritten or still will be this same as before?","body":"If I have an existing firebase in the previous project, ant I go to the link above to get servicekey.json, it is my apiKey and the other credentials will be overwritten or still will be this same as before?"}],"tags":[],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"comment_count":7,"down_vote_count":0,"up_vote_count":125,"is_accepted":true,"score":125,"last_activity_date":1674477373,"creation_date":1480057311,"answer_id":40799378,"question_id":40799258,"body_markdown":"Found details about this in [this link][1]\r\n\r\n[UPDATED 30.11.2021]\r\n&gt;  To **generate a private key file** for your service account:\r\n&gt; \r\n&gt;    In the Firebase console, open Settings &gt; [Service Accounts][2].\r\n&gt; \r\n&gt;    Click Generate New Private Key, then confirm by clicking Generate Key.\r\n&gt; \r\n&gt;    Securely store the JSON file containing the key.\r\n&gt; \r\n&gt; When authorizing via a service account, you have two choices for\r\n&gt; providing the credentials to your application. You can either set the\r\n&gt; GOOGLE_APPLICATION_CREDENTIALS environment variable, or you can\r\n&gt; explicitly pass the path to the service account key in code. The first\r\n&gt; option is more secure and is strongly recommended. \r\n\r\n\r\n**NB: When you generate a new private key, the old key will stop working immediately**\r\n\r\nTo create the a new private key file you need to go to this link\r\n\r\n    https://console.firebase.google.com/project/**YOUR_PROJECT**/settings/serviceaccounts/adminsdk\r\n\r\n    \r\n[OLD] \r\n   \r\nQuote from [firebase docs][3]:\r\n&gt; 2. Navigate to the [Service Accounts][2] tab in your project&#39;s settings page.   \r\n&gt; 3. Click the **Generate New Private Key** button at the bottom of the **Firebase Admin SDK** section of the **Service Accounts** tab.\r\n&gt; \r\n&gt; After you click the button, a JSON file containing your service\r\n&gt; account&#39;s credentials will be downloaded. You&#39;ll need this to\r\n&gt; initialize the SDK in the next step. \r\n&gt; \r\n&gt; *Warning: Use extra caution when\r\n&gt; handling service account credentials in your code. Do not commit them\r\n&gt; to a public repository, deploy them in a client app, or expose them in\r\n&gt; any way that could compromise the security of your Firebase project.*\r\n&gt; \r\n&gt; This file is only generated once. If you lose or leak the key, you can\r\n&gt; repeat the instructions above to create a new JSON key for the service\r\n&gt; account.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/admin/setup#initialize_the_sdk_in_non-google_environments\r\n  [2]: https://console.firebase.google.com/project/_/settings/serviceaccounts/adminsdk\r\n  [3]: https://firebase.google.com/docs/admin/setup","title":"Where can I get &quot;serviceAccountCredentials.json&quot; for Firebase Admin?","body":"<p>Found details about this in <a href=\"https://firebase.google.com/docs/admin/setup#initialize_the_sdk_in_non-google_environments\" rel=\"noreferrer\">this link</a></p>\n<p>[UPDATED 30.11.2021]</p>\n<blockquote>\n<p>To <strong>generate a private key file</strong> for your service account:</p>\n<p>In the Firebase console, open Settings &gt; <a href=\"https://console.firebase.google.com/project/_/settings/serviceaccounts/adminsdk\" rel=\"noreferrer\">Service Accounts</a>.</p>\n<p>Click Generate New Private Key, then confirm by clicking Generate Key.</p>\n<p>Securely store the JSON file containing the key.</p>\n<p>When authorizing via a service account, you have two choices for\nproviding the credentials to your application. You can either set the\nGOOGLE_APPLICATION_CREDENTIALS environment variable, or you can\nexplicitly pass the path to the service account key in code. The first\noption is more secure and is strongly recommended.</p>\n</blockquote>\n<p><strong>NB: When you generate a new private key, the old key will stop working immediately</strong></p>\n<p>To create the a new private key file you need to go to this link</p>\n<pre><code>https://console.firebase.google.com/project/**YOUR_PROJECT**/settings/serviceaccounts/adminsdk\n</code></pre>\n<p>[OLD]</p>\n<p>Quote from <a href=\"https://firebase.google.com/docs/admin/setup\" rel=\"noreferrer\">firebase docs</a>:</p>\n<blockquote>\n<ol start=\"2\">\n<li>Navigate to the <a href=\"https://console.firebase.google.com/project/_/settings/serviceaccounts/adminsdk\" rel=\"noreferrer\">Service Accounts</a> tab in your project's settings page.</li>\n<li>Click the <strong>Generate New Private Key</strong> button at the bottom of the <strong>Firebase Admin SDK</strong> section of the <strong>Service Accounts</strong> tab.</li>\n</ol>\n<p>After you click the button, a JSON file containing your service\naccount's credentials will be downloaded. You'll need this to\ninitialize the SDK in the next step.</p>\n<p><em>Warning: Use extra caution when\nhandling service account credentials in your code. Do not commit them\nto a public repository, deploy them in a client app, or expose them in\nany way that could compromise the security of your Firebase project.</em></p>\n<p>This file is only generated once. If you lose or leak the key, you can\nrepeat the instructions above to create a new JSON key for the service\naccount.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18163475,"reputation":181,"user_id":13214490,"display_name":"Clement"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1603793390,"creation_date":1603793390,"answer_id":64552168,"question_id":40799258,"body_markdown":"You can directly go to your **Firebase portal** --&gt; **Project Settings** then **Service accounts**.\r\nI made a tutorial that explain all the details : [How to get my Firebase Service Account Key file][1] \r\n\r\n\r\n  [1]: https://clemfournier.medium.com/how-to-get-my-firebase-service-account-key-file-f0ec97a21620","title":"Where can I get &quot;serviceAccountCredentials.json&quot; for Firebase Admin?","body":"<p>You can directly go to your <strong>Firebase portal</strong> --&gt; <strong>Project Settings</strong> then <strong>Service accounts</strong>.\nI made a tutorial that explain all the details : <a href=\"https://clemfournier.medium.com/how-to-get-my-firebase-service-account-key-file-f0ec97a21620\" rel=\"noreferrer\">How to get my Firebase Service Account Key file</a></p>\n"}],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89272,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":40799378,"answer_count":2,"score":86,"last_activity_date":1674477373,"creation_date":1480056770,"question_id":40799258,"body_markdown":"[Here][1] is said what I need to set up Firebase on java:\r\n\r\n    FirebaseOptions options = new FirebaseOptions.Builder()\r\n        .setDatabaseUrl(&quot;https://databaseName.firebaseio.com&quot;)\r\n        .setServiceAccount(new FileInputStream(&quot;path/to/serviceAccountCredentials.json&quot;))\r\n        .build();\r\n    FirebaseApp.initializeApp(options);\r\n\r\nBut where can I get **serviceAccountCredentials.json** ?\r\n\r\n**UPDATED:** \r\nI found that this file seems should have this fields, but where get this values?\r\n\r\n    {\r\n      &quot;type&quot;: &quot;&quot;,\r\n      &quot;project_id&quot;: &quot;&quot;,\r\n      &quot;private_key_id&quot;: &quot;&quot;,\r\n      &quot;private_key&quot;: &quot;&quot;,\r\n      &quot;client_email&quot;: &quot;&quot;,\r\n      &quot;client_id&quot;: &quot;&quot;,\r\n      &quot;auth_uri&quot;: &quot;&quot;,\r\n      &quot;token_uri&quot;: &quot;&quot;,\r\n      &quot;auth_provider_x509_cert_url&quot;: &quot;&quot;,\r\n      &quot;client_x509_cert_url&quot;: &quot;&quot;\r\n    }\r\n\r\n  [1]: https://firebase.google.com/docs/database/admin/start#authenticate-with-admin-privileges","title":"Where can I get &quot;serviceAccountCredentials.json&quot; for Firebase Admin?","body":"<p><a href=\"https://firebase.google.com/docs/database/admin/start#authenticate-with-admin-privileges\" rel=\"noreferrer\">Here</a> is said what I need to set up Firebase on java:</p>\n<pre><code>FirebaseOptions options = new FirebaseOptions.Builder()\n    .setDatabaseUrl(&quot;https://databaseName.firebaseio.com&quot;)\n    .setServiceAccount(new FileInputStream(&quot;path/to/serviceAccountCredentials.json&quot;))\n    .build();\nFirebaseApp.initializeApp(options);\n</code></pre>\n<p>But where can I get <strong>serviceAccountCredentials.json</strong> ?</p>\n<p><strong>UPDATED:</strong>\nI found that this file seems should have this fields, but where get this values?</p>\n<pre><code>{\n  &quot;type&quot;: &quot;&quot;,\n  &quot;project_id&quot;: &quot;&quot;,\n  &quot;private_key_id&quot;: &quot;&quot;,\n  &quot;private_key&quot;: &quot;&quot;,\n  &quot;client_email&quot;: &quot;&quot;,\n  &quot;client_id&quot;: &quot;&quot;,\n  &quot;auth_uri&quot;: &quot;&quot;,\n  &quot;token_uri&quot;: &quot;&quot;,\n  &quot;auth_provider_x509_cert_url&quot;: &quot;&quot;,\n  &quot;client_x509_cert_url&quot;: &quot;&quot;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-security","annotations"],"comments":[{"owner":{"account_id":2580719,"reputation":5582,"user_id":2237467,"accept_rate":60,"display_name":"Snackoverflow"},"score":0,"creation_date":1535456530,"post_id":47574480,"comment_id":91064139,"body_markdown":"Is there a reason why this solution worked with Spring Boot 2.0.2.RELEASE and not with 2.0.4.RELEASE? All the strings containing SpEL are not translated anymore and stay as `${settings.cors_origin}` for example.","body":"Is there a reason why this solution worked with Spring Boot 2.0.2.RELEASE and not with 2.0.4.RELEASE? All the strings containing SpEL are not translated anymore and stay as <code>${settings.cors_origin}</code> for example."}],"answers":[{"comments":[{"owner":{"account_id":11205579,"reputation":501,"user_id":8221303,"accept_rate":40,"display_name":"Hannes"},"score":2,"creation_date":1512050488,"post_id":47575025,"comment_id":82107319,"body_markdown":"I already tried that, it is not working:  Found ...annotation.value ... required java.lang.string[]..","body":"I already tried that, it is not working:  Found ...annotation.value ... required java.lang.string[].."},{"owner":{"account_id":8046768,"reputation":545,"user_id":6066756,"display_name":"Amr Alaa"},"score":0,"creation_date":1512051292,"post_id":47575025,"comment_id":82107847,"body_markdown":"try to configure CORS for the while application \nhttps://docs.spring.io/spring/docs/4.2.x/spring-framework-reference/html/cors.html#_global_cors_configuration","body":"try to configure CORS for the while application  <a href=\"https://docs.spring.io/spring/docs/4.2.x/spring-framework-reference/html/cors.html#_global_cors_configuration\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/4.2.x/spring-framework-reference/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":11205579,"reputation":501,"user_id":8221303,"accept_rate":40,"display_name":"Hannes"},"score":0,"creation_date":1512056024,"post_id":47575025,"comment_id":82111082,"body_markdown":"I tried it to configure Global CORS with the documentation but cant get it to work...","body":"I tried it to configure Global CORS with the documentation but cant get it to work..."},{"owner":{"account_id":6257712,"reputation":443,"user_id":4865750,"accept_rate":80,"display_name":"iChrome"},"score":0,"creation_date":1624714175,"post_id":47575025,"comment_id":120436212,"body_markdown":"This expression doesn&#39;t even compile","body":"This expression doesn&#39;t even compile"},{"owner":{"account_id":6612592,"reputation":103,"user_id":5107086,"accept_rate":80,"display_name":"Imran AK"},"score":0,"creation_date":1701248635,"post_id":47575025,"comment_id":136750921,"body_markdown":"This doesn&#39;t work","body":"This doesn&#39;t work"}],"tags":[],"owner":{"account_id":8046768,"reputation":545,"user_id":6066756,"display_name":"Amr Alaa"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1512049688,"creation_date":1512049688,"answer_id":47575025,"question_id":47574480,"body_markdown":"you can try to access the property directly in the origins parameter\r\n\r\n    @CrossOrigin(origins = @Value(&quot;${settings.cors_origin}&quot;))","title":"Use Spring Properties in Java with CrossOrigin Annotation or in Spring-Config XML","body":"<p>you can try to access the property directly in the origins parameter</p>\n\n<pre><code>@CrossOrigin(origins = @Value(\"${settings.cors_origin}\"))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11205579,"reputation":501,"user_id":8221303,"accept_rate":40,"display_name":"Hannes"},"score":0,"creation_date":1512114329,"post_id":47576510,"comment_id":82134656,"body_markdown":"I specified settings.cors_origin in my properties file which is in the resource folder located. I use the PropertyPlaceholder. The setting is not working. It will not translate the path to the setting to the right value..","body":"I specified settings.cors_origin in my properties file which is in the resource folder located. I use the PropertyPlaceholder. The setting is not working. It will not translate the path to the setting to the right value.."},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1512116414,"post_id":47576510,"comment_id":82135572,"body_markdown":"do you get an error that the property is not found? Or is cors not working? It&#39;s hard to help if you do not show the relevant part of your configuration and the usage. I tried this, putting the cors_origin in my application.properties and running and testing a REST service.","body":"do you get an error that the property is not found? Or is cors not working? It&#39;s hard to help if you do not show the relevant part of your configuration and the usage. I tried this, putting the cors_origin in my application.properties and running and testing a REST service."},{"owner":{"account_id":11205579,"reputation":501,"user_id":8221303,"accept_rate":40,"display_name":"Hannes"},"score":1,"creation_date":1512117162,"post_id":47576510,"comment_id":82135922,"body_markdown":"Cors is working but there is the wrong value in the cors header (Allowed-Origin), because the variable from the settings is not translating to the value.I dont get anyhting about the property that is not found or something like that. I get HTTP 403 from the Webservice. I think all relevant informations are in my post at the top. What do you need for informations regarding the configuration/usage?! Thanks!","body":"Cors is working but there is the wrong value in the cors header (Allowed-Origin), because the variable from the settings is not translating to the value.I dont get anyhting about the property that is not found or something like that. I get HTTP 403 from the Webservice. I think all relevant informations are in my post at the top. What do you need for informations regarding the configuration/usage?! Thanks!"},{"owner":{"account_id":11205579,"reputation":501,"user_id":8221303,"accept_rate":40,"display_name":"Hannes"},"score":1,"creation_date":1512117653,"post_id":47576510,"comment_id":82136137,"body_markdown":"But when i add the IP address directly without the property and without the port in the spring-config, cors will work -&gt; when i set this: allowed-origins=&quot;http://192.168.1.200&quot; it works without the port. Thats why i think it is not a problem with the cors value. It is a problem with the settings itself?! But i tried to add the port and it changed nothing.","body":"But when i add the IP address directly without the property and without the port in the spring-config, cors will work -&gt; when i set this: allowed-origins=&quot;<a href=\"http://192.168.1.200\" rel=\"nofollow noreferrer\">192.168.1.200</a>&quot; it works without the port. Thats why i think it is not a problem with the cors value. It is a problem with the settings itself?! But i tried to add the port and it changed nothing."},{"owner":{"account_id":11205579,"reputation":501,"user_id":8221303,"accept_rate":40,"display_name":"Hannes"},"score":1,"creation_date":1512118986,"post_id":47576510,"comment_id":82136777,"body_markdown":"Yes i am sure.In another controller i tested this: @Value(&quot;${test}&quot;) String Test; System.out.println(Test); and i get the right value from the properties file. I start the service with the jetty maven plugin.","body":"Yes i am sure.In another controller i tested this: @Value(&quot;${test}&quot;) String Test; System.out.println(Test); and i get the right value from the properties file. I start the service with the jetty maven plugin."},{"owner":{"account_id":2580719,"reputation":5582,"user_id":2237467,"accept_rate":60,"display_name":"Snackoverflow"},"score":1,"creation_date":1535313137,"post_id":47576510,"comment_id":91009872,"body_markdown":"With Spring Boot version 2.0.2.RELEASE this solution worked: `@CrossOrigin(origins = {&quot;${settings.cors_origin}&quot;})`. However, with 2.0.4.RELEASE it does not anymore, any suggestions for how to get it to work? Currently, the string does not get translated to the configuration value anymore, but stays as `${settings.cors_origin}` during runtime...","body":"With Spring Boot version 2.0.2.RELEASE this solution worked: <code>@CrossOrigin(origins = {&quot;${settings.cors_origin}&quot;})</code>. However, with 2.0.4.RELEASE it does not anymore, any suggestions for how to get it to work? Currently, the string does not get translated to the configuration value anymore, but stays as <code>${settings.cors_origin}</code> during runtime..."}],"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":6,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1623961436,"creation_date":1512054315,"answer_id":47576510,"question_id":47574480,"body_markdown":"you need to pass an array of strings to the `origins` argument of the `@CrossOrigin` annotation. This is done with curly braces:\r\n\r\n    @CrossOrigin(origins = {&quot;${settings.cors_origin}&quot;})\r\n\r\n\r\n\r\nThen in Spring, src/main/resources/application.properties:\r\n\r\n    settings.cors_origin:http://localhost:4200\r\n\r\nNote, don&#39;t include comments or extra spaces to the right of the key-value pair in application.properties. The extra spaces after the value might cause the key-value pair to be read incorrectly.\r\n\r\n","title":"Use Spring Properties in Java with CrossOrigin Annotation or in Spring-Config XML","body":"<p>you need to pass an array of strings to the <code>origins</code> argument of the <code>@CrossOrigin</code> annotation. This is done with curly braces:</p>\n<pre><code>@CrossOrigin(origins = {&quot;${settings.cors_origin}&quot;})\n</code></pre>\n<p>Then in Spring, src/main/resources/application.properties:</p>\n<pre><code>settings.cors_origin:http://localhost:4200\n</code></pre>\n<p>Note, don't include comments or extra spaces to the right of the key-value pair in application.properties. The extra spaces after the value might cause the key-value pair to be read incorrectly.</p>\n"}],"owner":{"account_id":11205579,"reputation":501,"user_id":8221303,"accept_rate":40,"display_name":"Hannes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8358,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1674476896,"creation_date":1512047977,"question_id":47574480,"body_markdown":"I use the CrossOrigin annotation in Spring. \r\nNow i want to inject a Property as value to the annotation. I dont get this to work.\r\n\r\nNow i access my property like this:\r\n\r\n    @Value(&quot;${settings.cors_origin}&quot;)\r\n    String cors_origin;\r\n\r\nI want to inject this property to the CrossOrigin annotation:\r\n\r\n    ....\r\n    @CrossOrigin(origins = cors_origin)\r\n    @RequestMapping(value=&quot;/request&quot;, method= RequestMethod.GET, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;?&gt; getMethod()\r\n    {\r\n    ...\r\n\r\nI tried already something like this:\r\n\r\n    @CrossOrigin(origins = &quot;${settings.cors_origin}&quot;)\r\n\r\n\r\n**Edit 1:**\r\n\r\nNow i try to set the CORS-Header Globally in my spring config:\r\n\r\n      &lt;context:property-placeholder location=&quot;classpath*:*appsettings.properties&quot;/&gt;\r\n    \r\n     &lt;mvc:cors&gt;\r\n     &lt;mvc:mapping path=&quot;/api/**&quot;\r\n                 allowed-origins=&quot;${test}&quot;\r\n                 allowed-methods=&quot;GET, PUT, OPTIONS, POST&quot;/&gt;\r\n    &lt;/mvc:cors&gt;\r\n\r\nThis setting is also not working! The allowed origin is not the same as the one specified in the properties file. I think it will not translate the variable to the value? When i set the IP-Address in the spring config allowed-origins manually it is working. There is something wrong with the settings...\r\n\r\n\r\n*appsettings.properties:*\r\n\r\n    test=http://192.168.1.200\r\n\r\n\r\n**Edit 2:**\r\n \r\n**S   O   L   V   E   D**\r\n\r\nI solved it for me now after a hart time of troubleshooting :-)\r\nNow i work again with the annotation @CrossOrigin. I had to add the ***RequestMethod Options*** to the Spring RequestMapping:\r\n\r\n\r\n     @RestController\r\n     @CrossOrigin(origins = {&quot;${settings.cors_origin}&quot;})\r\n     @RequestMapping(&quot;/api/v1&quot;)\r\n     public class MainController {\r\n\r\n\r\n      @RequestMapping(value=&quot;/request&quot;, method = {RequestMethod.GET, RequestMethod.OPTIONS}, produces = &quot;application/json&quot;)\r\n      public ResponseEntity&lt;?&gt; getMethod()\r\n      {\r\n\r\n\r\nThanks for your help!","title":"Use Spring Properties in Java with CrossOrigin Annotation or in Spring-Config XML","body":"<p>I use the CrossOrigin annotation in Spring. \nNow i want to inject a Property as value to the annotation. I dont get this to work.</p>\n\n<p>Now i access my property like this:</p>\n\n<pre><code>@Value(\"${settings.cors_origin}\")\nString cors_origin;\n</code></pre>\n\n<p>I want to inject this property to the CrossOrigin annotation:</p>\n\n<pre><code>....\n@CrossOrigin(origins = cors_origin)\n@RequestMapping(value=\"/request\", method= RequestMethod.GET, produces = \"application/json\")\npublic ResponseEntity&lt;?&gt; getMethod()\n{\n...\n</code></pre>\n\n<p>I tried already something like this:</p>\n\n<pre><code>@CrossOrigin(origins = \"${settings.cors_origin}\")\n</code></pre>\n\n<p><strong>Edit 1:</strong></p>\n\n<p>Now i try to set the CORS-Header Globally in my spring config:</p>\n\n<pre><code>  &lt;context:property-placeholder location=\"classpath*:*appsettings.properties\"/&gt;\n\n &lt;mvc:cors&gt;\n &lt;mvc:mapping path=\"/api/**\"\n             allowed-origins=\"${test}\"\n             allowed-methods=\"GET, PUT, OPTIONS, POST\"/&gt;\n&lt;/mvc:cors&gt;\n</code></pre>\n\n<p>This setting is also not working! The allowed origin is not the same as the one specified in the properties file. I think it will not translate the variable to the value? When i set the IP-Address in the spring config allowed-origins manually it is working. There is something wrong with the settings...</p>\n\n<p><em>appsettings.properties:</em></p>\n\n<pre><code>test=http://192.168.1.200\n</code></pre>\n\n<p><strong>Edit 2:</strong></p>\n\n<p><strong>S   O   L   V   E   D</strong></p>\n\n<p>I solved it for me now after a hart time of troubleshooting :-)\nNow i work again with the annotation @CrossOrigin. I had to add the <strong><em>RequestMethod Options</em></strong> to the Spring RequestMapping:</p>\n\n<pre><code> @RestController\n @CrossOrigin(origins = {\"${settings.cors_origin}\"})\n @RequestMapping(\"/api/v1\")\n public class MainController {\n\n\n  @RequestMapping(value=\"/request\", method = {RequestMethod.GET, RequestMethod.OPTIONS}, produces = \"application/json\")\n  public ResponseEntity&lt;?&gt; getMethod()\n  {\n</code></pre>\n\n<p>Thanks for your help!</p>\n"},{"tags":["java","arrays","multidimensional-array"],"answers":[{"comments":[{"owner":{"account_id":2188743,"reputation":1941,"user_id":1936461,"accept_rate":88,"display_name":"RajSharma"},"score":0,"creation_date":1463877572,"post_id":37363726,"comment_id":62251270,"body_markdown":"Thanks fro your suggestions and answer... It helped me a lot.","body":"Thanks fro your suggestions and answer... It helped me a lot."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1481709840,"post_id":37363726,"comment_id":69482387,"body_markdown":"@Stun_Gravy Because `&lt;4` means max value is `3`, and hourglass goes up to `+2` so max is `5`, which happens to be max index in array of size `6`. Don&#39;t know what you mean by *&quot;array size was not specified&quot;*, since you can&#39;t allocate an array without giving a size.","body":"@Stun_Gravy Because <code>&lt;4</code> means max value is <code>3</code>, and hourglass goes up to <code>+2</code> so max is <code>5</code>, which happens to be max index in array of size <code>6</code>. Don&#39;t know what you mean by <i>&quot;array size was not specified&quot;</i>, since you can&#39;t allocate an array without giving a size."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1481728998,"post_id":37363726,"comment_id":69494738,"body_markdown":"@Stun_Gravy I just submitted it, and it passed all 8 test cases, so I have no idea what you are talking about.","body":"@Stun_Gravy I just submitted it, and it passed all 8 test cases, so I have no idea what you are talking about."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1463839098,"creation_date":1463838157,"answer_id":37363726,"question_id":37363674,"body_markdown":"Remove the `if (arr[arr_i][arr_j] &gt; 0)` statement. It prevents finding the answer at row 1, column 0, because that cell is `0`.\r\n\r\nComments for other improvements to your code:\r\n\r\n - What if the best hourglass sum is `-4`? You should initialize `tmp_sum` to `Integer.MIN_VALUE`. And name it `maxSum`, to better describe it&#39;s purpose.\r\n\r\n - You shouldn&#39;t define `sum` outside the loop. Declare it when it is first assigned, then you don&#39;t have to reset it to `0` afterwards.\r\n\r\n - Your iterators should be just `i` and `j`. Those are standard names for integer iterators, and keeps code ... cleaner.  \r\n   If you prefer longer names, use `row` and `col`, since that is what they represent.\r\n\r\n - You don&#39;t need parenthesis around the array lookups.\r\n\r\n - For clarity, I formatted the code below to show the hourglass shape in the array lookups.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tScanner in = new Scanner(System.in);\r\n\tint arr[][] = new int[6][6];\r\n\tfor (int i = 0; i &lt; 6; i++){\r\n\t\tfor (int j = 0; j &lt; 6; j++){\r\n\t\t\tarr[i][j] = in.nextInt();\r\n\t\t}\r\n\t}\r\n\t\r\n\tint maxSum = Integer.MIN_VALUE;\r\n\tfor (int i = 0; i &lt; 4; i++) {\r\n\t\tfor (int j = 0; j &lt; 4; j++) {\r\n\t\t\tint sum = arr[i    ][j] + arr[i    ][j + 1] + arr[i    ][j + 2]\r\n\t\t\t                        + arr[i + 1][j + 1]\r\n\t\t\t        + arr[i + 2][j] + arr[i + 2][j + 1] + arr[i + 2][j + 2];\r\n\t\t\tif (maxSum &lt; sum) {\r\n\t\t\t\tmaxSum = sum;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tSystem.out.println(maxSum);","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Remove the <code>if (arr[arr_i][arr_j] &gt; 0)</code> statement. It prevents finding the answer at row 1, column 0, because that cell is <code>0</code>.</p>\n\n<p>Comments for other improvements to your code:</p>\n\n<ul>\n<li><p>What if the best hourglass sum is <code>-4</code>? You should initialize <code>tmp_sum</code> to <code>Integer.MIN_VALUE</code>. And name it <code>maxSum</code>, to better describe it's purpose.</p></li>\n<li><p>You shouldn't define <code>sum</code> outside the loop. Declare it when it is first assigned, then you don't have to reset it to <code>0</code> afterwards.</p></li>\n<li><p>Your iterators should be just <code>i</code> and <code>j</code>. Those are standard names for integer iterators, and keeps code ... cleaner.<br>\nIf you prefer longer names, use <code>row</code> and <code>col</code>, since that is what they represent.</p></li>\n<li><p>You don't need parenthesis around the array lookups.</p></li>\n<li><p>For clarity, I formatted the code below to show the hourglass shape in the array lookups.</p></li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\nint arr[][] = new int[6][6];\nfor (int i = 0; i &lt; 6; i++){\n    for (int j = 0; j &lt; 6; j++){\n        arr[i][j] = in.nextInt();\n    }\n}\n\nint maxSum = Integer.MIN_VALUE;\nfor (int i = 0; i &lt; 4; i++) {\n    for (int j = 0; j &lt; 4; j++) {\n        int sum = arr[i    ][j] + arr[i    ][j + 1] + arr[i    ][j + 2]\n                                + arr[i + 1][j + 1]\n                + arr[i + 2][j] + arr[i + 2][j + 1] + arr[i + 2][j + 2];\n        if (maxSum &lt; sum) {\n            maxSum = sum;\n        }\n    }\n}\nSystem.out.println(maxSum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9081955,"reputation":1,"user_id":6761495,"display_name":"M.dinesh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476632945,"creation_date":1476628573,"answer_id":40071481,"question_id":37363674,"body_markdown":"    import java.io.*;\r\n    import java.util.Scanner;\r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int low = -9,high = 5;\r\n            int lh = low * high;\r\n            int sum = 0, i, j;\r\n            int max = 0;\r\n            int a[][] = new int[6][6];\r\n            for (i = 0; i &lt; 6; i++) {\r\n                for (j = 0; j &lt; 6; j++) {\r\n                    a[i][j] = in.nextInt();\r\n                }\r\n            }\r\n    \r\n            for (i = 0; i &lt; 4; i++) {\r\n               for (j = 0; j &lt; 4; j++) {\r\n                   sum = (a[i][j] + a[i][j+1] + a[i][j+2]); \r\n                   sum = sum + a[i+1][j+1];\r\n                   sum = sum + (a[i+2][j] + a[i+2][j+1] + a[i+2][j+2]);\r\n    \r\n                   if (sum &gt; lh) lh = sum;\r\n                }\r\n            }\r\n            System.out.print(lh);\r\n        }\r\n    }\r\n","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<pre><code>import java.io.*;\nimport java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int low = -9,high = 5;\n        int lh = low * high;\n        int sum = 0, i, j;\n        int max = 0;\n        int a[][] = new int[6][6];\n        for (i = 0; i &lt; 6; i++) {\n            for (j = 0; j &lt; 6; j++) {\n                a[i][j] = in.nextInt();\n            }\n        }\n\n        for (i = 0; i &lt; 4; i++) {\n           for (j = 0; j &lt; 4; j++) {\n               sum = (a[i][j] + a[i][j+1] + a[i][j+2]); \n               sum = sum + a[i+1][j+1];\n               sum = sum + (a[i+2][j] + a[i+2][j+1] + a[i+2][j+2]);\n\n               if (sum &gt; lh) lh = sum;\n            }\n        }\n        System.out.print(lh);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7326862,"reputation":1,"user_id":5581017,"display_name":"Stuti Bisht"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481382738,"creation_date":1481382738,"answer_id":41076984,"question_id":37363674,"body_markdown":"Here you go..\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tint a[][] = new int[6][6];\r\n\t\tint max = 0;\r\n\t\tfor (int i = 0; i &lt; 6; i++) {\r\n\t\t\tfor (int j = 0; j &lt; 6; j++) {\r\n\t\t\t\ta[i][j] = in.nextInt();\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; 4; i++) {\r\n\t\t\tfor (int j = 0; j &lt; 4; j++) {\r\n\t\t\t\tint sum = a[i][j] + a[i][j + 1] + a[i][j + 2] + a[i + 1][j + 1]\r\n\t\t\t\t\t\t+ a[i + 2][j] + a[i + 2][j + 1] + a[i + 2][j + 2];\r\n\t\t\t\tif (sum &gt; max || (i == 0 &amp;&amp; j == 0)) {\r\n\t\t\t\t\tmax = sum;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(max);\r\n\t}\r\n\r\n","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Here you go..</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int a[][] = new int[6][6];\n    int max = 0;\n    for (int i = 0; i &lt; 6; i++) {\n        for (int j = 0; j &lt; 6; j++) {\n            a[i][j] = in.nextInt();\n        }\n    }\n    for (int i = 0; i &lt; 4; i++) {\n        for (int j = 0; j &lt; 4; j++) {\n            int sum = a[i][j] + a[i][j + 1] + a[i][j + 2] + a[i + 1][j + 1]\n                    + a[i + 2][j] + a[i + 2][j + 1] + a[i + 2][j + 2];\n            if (sum &gt; max || (i == 0 &amp;&amp; j == 0)) {\n                max = sum;\n            }\n        }\n    }\n    System.out.println(max);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7405841,"reputation":897,"user_id":5634808,"display_name":"Amos Kosgei"},"score":0,"creation_date":1560073747,"post_id":41453359,"comment_id":99613278,"body_markdown":"You dont need this line:   `if (i + 2 &lt; 6 &amp;&amp; j + 2 &lt; 6) ` ... The iteration along i can only have 4 complete 3by3 arrays. Both your  ` for(int j=0; j &lt; 6; j++) ` and     `for(int i=0; i &lt; 6; i++)`. statements should end at 4.\n\ni.e\n`   for (int i = 0; i &lt; 4; ++i) {\n            for (int j = 0; j &lt; 4; ++j) {`","body":"You dont need this line:   <code>if (i + 2 &lt; 6 &amp;&amp; j + 2 &lt; 6) </code> ... The iteration along i can only have 4 complete 3by3 arrays. Both your  ` for(int j=0; j &lt; 6; j++) ` and     <code>for(int i=0; i &lt; 6; i++)</code>. statements should end at 4.  i.e `   for (int i = 0; i &lt; 4; ++i) {             for (int j = 0; j &lt; 4; ++j) {`"}],"tags":[],"owner":{"account_id":4342081,"reputation":571,"user_id":3545083,"accept_rate":58,"display_name":"sean le roy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483482407,"creation_date":1483482407,"answer_id":41453359,"question_id":37363674,"body_markdown":"This was my solution. I wrapped an if statement around the code that calculates the sum, that makes sure we don&#39;t go out of bounds.\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int arr[][] = new int[6][6];\r\n        int max = Integer.MIN_VALUE;\r\n        int tempMax = 0;\r\n        \r\n        for(int i=0; i &lt; 6; i++){\r\n            for(int j=0; j &lt; 6; j++){\r\n                arr[i][j] = in.nextInt();\r\n            }\r\n        }\r\n        \r\n        for(int i=0; i &lt; 6; i++){\r\n            for(int j=0; j &lt; 6; j++){\r\n                if (i + 2 &lt; 6 &amp;&amp; j + 2 &lt; 6) {\r\n                    tempMax += arr[i][j] + arr[i][j + 1] + arr[i][j + 2];\r\n                    tempMax += arr[i + 1][j + 1];\r\n                    tempMax += arr[i + 2][j] + arr[i + 2][j + 1] + arr[i + 2][j + 2];\r\n                \r\n                    if (max &lt; tempMax) {\r\n                        max = tempMax;\r\n                    } \r\n                    \r\n                    tempMax = 0;\r\n                }           \r\n            }\r\n        }\r\n        \r\n        System.out.println(max);\r\n    }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>This was my solution. I wrapped an if statement around the code that calculates the sum, that makes sure we don't go out of bounds.</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int arr[][] = new int[6][6];\n    int max = Integer.MIN_VALUE;\n    int tempMax = 0;\n\n    for(int i=0; i &lt; 6; i++){\n        for(int j=0; j &lt; 6; j++){\n            arr[i][j] = in.nextInt();\n        }\n    }\n\n    for(int i=0; i &lt; 6; i++){\n        for(int j=0; j &lt; 6; j++){\n            if (i + 2 &lt; 6 &amp;&amp; j + 2 &lt; 6) {\n                tempMax += arr[i][j] + arr[i][j + 1] + arr[i][j + 2];\n                tempMax += arr[i + 1][j + 1];\n                tempMax += arr[i + 2][j] + arr[i + 2][j + 1] + arr[i + 2][j + 2];\n\n                if (max &lt; tempMax) {\n                    max = tempMax;\n                } \n\n                tempMax = 0;\n            }           \n        }\n    }\n\n    System.out.println(max);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8224025,"reputation":136,"user_id":6186837,"display_name":"ABajpai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487359434,"creation_date":1487359434,"answer_id":42305875,"question_id":37363674,"body_markdown":"Here&#39;s the simple and easy to understand C# equivalent code for your hourglass problem.\r\n\r\n    class Class1\r\n    {\r\n        static int[][] CreateHourGlassForIndex(int p, int q, int[][] arr)\r\n        {\r\n            int[][] hourGlass = new int[3][];\r\n\r\n            int x = 0, y = 0;\r\n            for (int i = p; i &lt;= p + 2; i++)\r\n            {\r\n                hourGlass[x] = new int[3];\r\n                int[] temp = new int[3];\r\n                int k = 0;\r\n                for (int j = q; j &lt;= q + 2; j++)\r\n                {\r\n                    temp[k] = arr[i][j];\r\n                    k++;\r\n                }\r\n                hourGlass[x] = temp;\r\n                x++;\r\n            }\r\n\r\n            return hourGlass;\r\n        }\r\n\r\n        static int findSumOfEachHourGlass(int[][] arr)\r\n        {\r\n            int sum = 0;\r\n            for (int i = 0; i &lt; arr.Length; i++)\r\n            {\r\n                for (int j = 0; j &lt; arr.Length; j++)\r\n                {\r\n                    if (!((i == 1 &amp;&amp; j == 0) || (i == 1 &amp;&amp; j == 2)))\r\n                        sum += arr[i][j];\r\n                }\r\n\r\n            }\r\n\r\n            return sum;\r\n        }\r\n\r\n        static void Main(string[] args)\r\n        {\r\n            int[][] arr = new int[6][];\r\n            for (int arr_i = 0; arr_i &lt; 6; arr_i++)\r\n            {\r\n                string[] arr_temp = Console.ReadLine().Split(&#39; &#39;);\r\n                arr[arr_i] = Array.ConvertAll(arr_temp, Int32.Parse);\r\n            }\r\n\r\n            int[] sum = new int[16];\r\n            int k = 0;\r\n            for (int i = 0; i &lt; 4; i++)\r\n            {\r\n                for (int j = 0; j &lt; 4; j++)\r\n                {\r\n                    int[][] hourGlass = CreateHourGlassForIndex(i, j, arr);\r\n                    sum[k] = findSumOfEachHourGlass(hourGlass);\r\n                    k++;\r\n                }\r\n            }\r\n            //max in sum array\r\n            Console.WriteLine(sum.Max());\r\n\r\n        }\r\n    }\r\n\r\nHappy Coding.\r\nThanks,\r\nAnkit Bajpai","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Here's the simple and easy to understand C# equivalent code for your hourglass problem.</p>\n\n<pre><code>class Class1\n{\n    static int[][] CreateHourGlassForIndex(int p, int q, int[][] arr)\n    {\n        int[][] hourGlass = new int[3][];\n\n        int x = 0, y = 0;\n        for (int i = p; i &lt;= p + 2; i++)\n        {\n            hourGlass[x] = new int[3];\n            int[] temp = new int[3];\n            int k = 0;\n            for (int j = q; j &lt;= q + 2; j++)\n            {\n                temp[k] = arr[i][j];\n                k++;\n            }\n            hourGlass[x] = temp;\n            x++;\n        }\n\n        return hourGlass;\n    }\n\n    static int findSumOfEachHourGlass(int[][] arr)\n    {\n        int sum = 0;\n        for (int i = 0; i &lt; arr.Length; i++)\n        {\n            for (int j = 0; j &lt; arr.Length; j++)\n            {\n                if (!((i == 1 &amp;&amp; j == 0) || (i == 1 &amp;&amp; j == 2)))\n                    sum += arr[i][j];\n            }\n\n        }\n\n        return sum;\n    }\n\n    static void Main(string[] args)\n    {\n        int[][] arr = new int[6][];\n        for (int arr_i = 0; arr_i &lt; 6; arr_i++)\n        {\n            string[] arr_temp = Console.ReadLine().Split(' ');\n            arr[arr_i] = Array.ConvertAll(arr_temp, Int32.Parse);\n        }\n\n        int[] sum = new int[16];\n        int k = 0;\n        for (int i = 0; i &lt; 4; i++)\n        {\n            for (int j = 0; j &lt; 4; j++)\n            {\n                int[][] hourGlass = CreateHourGlassForIndex(i, j, arr);\n                sum[k] = findSumOfEachHourGlass(hourGlass);\n                k++;\n            }\n        }\n        //max in sum array\n        Console.WriteLine(sum.Max());\n\n    }\n}\n</code></pre>\n\n<p>Happy Coding.\nThanks,\nAnkit Bajpai</p>\n"},{"comments":[{"owner":{"account_id":3277088,"reputation":1557,"user_id":2758774,"accept_rate":72,"display_name":"filipst"},"score":0,"creation_date":1488372765,"post_id":42531698,"comment_id":72200213,"body_markdown":"You should explain what was wrong with the code, not just post plain code.","body":"You should explain what was wrong with the code, not just post plain code."}],"tags":[],"owner":{"account_id":10360568,"reputation":1,"user_id":7641175,"display_name":"Ashishkumar Teotia"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488392824,"creation_date":1488371175,"answer_id":42531698,"question_id":37363674,"body_markdown":"You can try this code:       \r\nI think this will be easy to understand for beginners.    \r\n\r\n\r\n    public class Solution {\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int arr[][] = new int[6][6];\r\n            for(int arr_i=0; arr_i &lt; 6; arr_i++){\r\n                for(int arr_j=0; arr_j &lt; 6; arr_j++){\r\n                    arr[arr_i][arr_j] = in.nextInt();\r\n                }\r\n            }\r\n            int sum = 0;\r\n            int sum2 = 0;\r\n            int sum3 = 0;\r\n            int x = 0;\r\n            int max = Integer.MIN_VALUE;\r\n            for(int i = 0; i &lt; 4; i++){\r\n                for(int j = 0; j &lt; 4; j++){\r\n                    for(int k = 0; k &lt; 3; k++){\r\n                        sum += arr[i][j+k]; //top elements of hour glass\r\n                        sum2 += arr[i+2][j+k]; //bottom elements of hour glass\r\n                        sum3 = arr[i+1][j+1]; //middle elements of hour glass\r\n                        x = sum + sum2 + sum3; //add all elements of hour glass\r\n                    }\r\n                    if(max &lt; x){\r\n                        max  = x;\r\n                    }\r\n                    sum = 0; \r\n                    sum2 = 0; \r\n                    sum3 = 0;\r\n                    x = 0;\r\n                }            \r\n            }\r\n            System.out.println(max);\r\n        }\r\n    }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>You can try this code:<br>\nI think this will be easy to understand for beginners.    </p>\n\n<pre><code>public class Solution {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int arr[][] = new int[6][6];\n        for(int arr_i=0; arr_i &lt; 6; arr_i++){\n            for(int arr_j=0; arr_j &lt; 6; arr_j++){\n                arr[arr_i][arr_j] = in.nextInt();\n            }\n        }\n        int sum = 0;\n        int sum2 = 0;\n        int sum3 = 0;\n        int x = 0;\n        int max = Integer.MIN_VALUE;\n        for(int i = 0; i &lt; 4; i++){\n            for(int j = 0; j &lt; 4; j++){\n                for(int k = 0; k &lt; 3; k++){\n                    sum += arr[i][j+k]; //top elements of hour glass\n                    sum2 += arr[i+2][j+k]; //bottom elements of hour glass\n                    sum3 = arr[i+1][j+1]; //middle elements of hour glass\n                    x = sum + sum2 + sum3; //add all elements of hour glass\n                }\n                if(max &lt; x){\n                    max  = x;\n                }\n                sum = 0; \n                sum2 = 0; \n                sum3 = 0;\n                x = 0;\n            }            \n        }\n        System.out.println(max);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2608237,"reputation":11,"user_id":2258933,"display_name":"palslav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492497553,"creation_date":1492497553,"answer_id":43465271,"question_id":37363674,"body_markdown":"Here is another easy option, hope it helps:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.text.*;\r\n    import java.math.*;\r\n    import java.util.regex.*;\r\n\r\n    public class Solution {\r\n\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int a[][] = new int[6][6];\r\n            for(int i=0; i &lt; 6; i++){\r\n                for(int j=0; j &lt; 6; j++){\r\n                    a[i][j] = in.nextInt();\r\n                }\r\n            }\r\n            int hg = Integer.MIN_VALUE, sum;\r\n            for(int i=0; i&lt;4; i++){\r\n                for(int j=0; j&lt;4; j++){\r\n                   sum = 0;\r\n                   sum = sum + a[i][j] + a[i][j+1] + a[i][j+2];\r\n                   sum = sum + a[i+1][j+1];\r\n                   sum = sum + a[i+2][j] + a[i+2][j+1] + a[i+2][j+2];\r\n                   if(sum&gt;hg)\r\n                       hg = sum;\r\n                }\r\n            }\r\n            System.out.println(hg);\r\n            in.close();\r\n        }\r\n    }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Here is another easy option, hope it helps:</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.text.*;\nimport java.math.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int a[][] = new int[6][6];\n        for(int i=0; i &lt; 6; i++){\n            for(int j=0; j &lt; 6; j++){\n                a[i][j] = in.nextInt();\n            }\n        }\n        int hg = Integer.MIN_VALUE, sum;\n        for(int i=0; i&lt;4; i++){\n            for(int j=0; j&lt;4; j++){\n               sum = 0;\n               sum = sum + a[i][j] + a[i][j+1] + a[i][j+2];\n               sum = sum + a[i+1][j+1];\n               sum = sum + a[i+2][j] + a[i+2][j+1] + a[i+2][j+2];\n               if(sum&gt;hg)\n                   hg = sum;\n            }\n        }\n        System.out.println(hg);\n        in.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7311271,"reputation":1,"user_id":5570364,"display_name":"chitrendra chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509951867,"creation_date":1509949614,"answer_id":47130984,"question_id":37363674,"body_markdown":"\r\n\r\n\r\nthere is another opetion in case of -(minus) and zero output we can use shorted ser Treeset for the same . below is the sameple code \r\n\r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int arr[][] = new int[6][6];\r\n\r\n            for(int i=0; i &lt; 6; i++){\r\n                for(int j=0; j &lt; 6; j++){\r\n                    arr[i][j] = in.nextInt();\r\n                }\r\n            }\r\n\r\n            int sum=0;int output=0;\r\n            Set&lt;Integer&gt; set=new TreeSet&lt;Integer&gt;();\r\n\r\n            for(int k=0;k&lt;4;k++ )\r\n            {\r\n                for(int y=0;y&lt;4;y++)\r\n                {\r\n                    sum=arr[k][y]+arr[k][y+1]+arr[k][y+2]+arr[k+1][y+1]+arr[k+2][y]+arr[k+2][y+1]+arr[k+2][y+2];                                         set.add(sum);\r\n                }\r\n            }\r\n\r\n            int p=0;\r\n\r\n            for(int u:set)\r\n            {\r\n                p++;\r\n                if(p==set.size())\r\n                output=u;\r\n            }\r\n\r\n            System.out.println(output);\r\n        }\r\n    }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>there is another opetion in case of -(minus) and zero output we can use shorted ser Treeset for the same . below is the sameple code </p>\n\n<pre><code>public class Solution {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int arr[][] = new int[6][6];\n\n        for(int i=0; i &lt; 6; i++){\n            for(int j=0; j &lt; 6; j++){\n                arr[i][j] = in.nextInt();\n            }\n        }\n\n        int sum=0;int output=0;\n        Set&lt;Integer&gt; set=new TreeSet&lt;Integer&gt;();\n\n        for(int k=0;k&lt;4;k++ )\n        {\n            for(int y=0;y&lt;4;y++)\n            {\n                sum=arr[k][y]+arr[k][y+1]+arr[k][y+2]+arr[k+1][y+1]+arr[k+2][y]+arr[k+2][y+1]+arr[k+2][y+2];                                         set.add(sum);\n            }\n        }\n\n        int p=0;\n\n        for(int u:set)\n        {\n            p++;\n            if(p==set.size())\n            output=u;\n        }\n\n        System.out.println(output);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7782382,"reputation":61,"user_id":5888393,"display_name":"Rafi Mahmud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515650779,"creation_date":1515650779,"answer_id":48200726,"question_id":37363674,"body_markdown":"Solved in PHP, may be helpful.\r\n\r\n    &lt;?php\r\n    \r\n    $handle = fopen (&quot;php://stdin&quot;,&quot;r&quot;);\r\n    $input = [];\r\n    \r\n    while(!feof($handle))\r\n    {\r\n       $temp = fgets($handle);\r\n       $input[] = explode(&quot; &quot;,$temp);\r\n    }\r\n    \r\n    $maxSum = PHP_INT_MIN;\r\n    for($i=0; $i&lt;4; $i++)\r\n    {\r\n        for($j=0; $j&lt;4; $j++)\r\n        {\r\n            $sum = $input[$i][$j] + $input[$i][$j + 1] + $input[$i][$j + 2] \r\n                                        + $input[$i + 1][$j + 1] + \r\n                      $input[$i + 2][$j] + $input[$i + 2][$j + 1] + $input[$i + 2][$j + 2]; \r\n            \r\n            if($sum &gt; $maxSum)\r\n            {\r\n                $maxSum = $sum;\r\n            }\r\n        }\r\n    }\r\n    echo $maxSum;\r\n    \r\n    ?&gt;\r\n\r\n","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Solved in PHP, may be helpful.</p>\n\n<pre><code>&lt;?php\n\n$handle = fopen (\"php://stdin\",\"r\");\n$input = [];\n\nwhile(!feof($handle))\n{\n   $temp = fgets($handle);\n   $input[] = explode(\" \",$temp);\n}\n\n$maxSum = PHP_INT_MIN;\nfor($i=0; $i&lt;4; $i++)\n{\n    for($j=0; $j&lt;4; $j++)\n    {\n        $sum = $input[$i][$j] + $input[$i][$j + 1] + $input[$i][$j + 2] \n                                    + $input[$i + 1][$j + 1] + \n                  $input[$i + 2][$j] + $input[$i + 2][$j + 1] + $input[$i + 2][$j + 2]; \n\n        if($sum &gt; $maxSum)\n        {\n            $maxSum = $sum;\n        }\n    }\n}\necho $maxSum;\n\n?&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9207039,"reputation":1,"user_id":6841863,"display_name":"Aravinth Sundaram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516901609,"creation_date":1516901609,"answer_id":48448790,"question_id":37363674,"body_markdown":"Passes all test cases\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n\r\n    public class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner read = new Scanner(System.in);\r\n        int rowSize = 6;\r\n        int colSize = 6;\r\n        int[][] array = new int[rowSize][colSize];\r\n        for(int row = 0; row &lt; rowSize; row++) {\r\n            for(int col = 0; col &lt; colSize; col++) {\r\n                array[row][col] = read.nextInt();\r\n            }\r\n        }\r\n        read.close();\r\n        int max = Integer.MIN_VALUE;\r\n        for(int row = 0; row &lt; 4; row++) {\r\n            for(int col = 0; col &lt; 4; col++) {\r\n                int sum = calculateHourglassSum(array, row, col);\r\n                if(sum &gt; max) {\r\n                    max = sum;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(max);\r\n    }\r\n    \r\n    private static int calculateHourglassSum(int[][] array, int rowIndex, int colIndex) {\r\n        int sum = 0;\r\n        for(int row = rowIndex; row &lt; rowIndex + 3; row++) {\r\n            for(int col = colIndex; col &lt; colIndex + 3; col++) {\r\n                if(row == rowIndex + 1 &amp;&amp; col != colIndex + 1) {\r\n                    continue;\r\n                }\r\n                sum += array[row][col];\r\n            }\r\n        }\r\n        return sum;\r\n    }\r\n    }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Passes all test cases</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Solution {\n\npublic static void main(String[] args) {\n    Scanner read = new Scanner(System.in);\n    int rowSize = 6;\n    int colSize = 6;\n    int[][] array = new int[rowSize][colSize];\n    for(int row = 0; row &lt; rowSize; row++) {\n        for(int col = 0; col &lt; colSize; col++) {\n            array[row][col] = read.nextInt();\n        }\n    }\n    read.close();\n    int max = Integer.MIN_VALUE;\n    for(int row = 0; row &lt; 4; row++) {\n        for(int col = 0; col &lt; 4; col++) {\n            int sum = calculateHourglassSum(array, row, col);\n            if(sum &gt; max) {\n                max = sum;\n            }\n        }\n    }\n    System.out.println(max);\n}\n\nprivate static int calculateHourglassSum(int[][] array, int rowIndex, int colIndex) {\n    int sum = 0;\n    for(int row = rowIndex; row &lt; rowIndex + 3; row++) {\n        for(int col = colIndex; col &lt; colIndex + 3; col++) {\n            if(row == rowIndex + 1 &amp;&amp; col != colIndex + 1) {\n                continue;\n            }\n            sum += array[row][col];\n        }\n    }\n    return sum;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2019763,"reputation":226,"user_id":1806231,"accept_rate":0,"display_name":"prudhvireddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532516112,"creation_date":1532516112,"answer_id":51517191,"question_id":37363674,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function galssSum(array) {\r\n      let maxGlass = 0;\r\n      if (array[0].length == 3) {\r\n        maxGlass = 1;\r\n      } else if (array[0].length &gt; 3) {\r\n        maxGlass = array.length - 2;\r\n      }\r\n\r\n      let maxValue = -100000;\r\n      for (let i = 0; i &lt; maxGlass; i++) {\r\n        for (let j = 0; j &lt; maxGlass; j++) {\r\n          let a = array[i][j] + array[i][j + 1] + array[i][j + 2];\r\n          let b = array[i + 1][j + 1];\r\n          let c = array[i + 2][j] + array[i + 2][j + 1] + array[i + 2][j + 2];\r\n\r\n          let sum = a + b + c;\r\n\r\n          if (maxValue&lt;sum) {\r\n            maxValue = sum;\r\n          }\r\n        }\r\n      }\r\n\r\n      return maxValue;\r\n    }\r\n\r\n    console.log(galssSum([[1, 1, 1, 0, 0, 0], [0, 1, 0, 0, 0, 0], [1, 1, 1, 0, 0, 0], [0, 0, 2, 4, 4, 0], [0, 0, 0, 2, 0, 0], [0, 0, 1, 2, 4, 0]]));\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function galssSum(array) {\r\n  let maxGlass = 0;\r\n  if (array[0].length == 3) {\r\n    maxGlass = 1;\r\n  } else if (array[0].length &gt; 3) {\r\n    maxGlass = array.length - 2;\r\n  }\r\n\r\n  let maxValue = -100000;\r\n  for (let i = 0; i &lt; maxGlass; i++) {\r\n    for (let j = 0; j &lt; maxGlass; j++) {\r\n      let a = array[i][j] + array[i][j + 1] + array[i][j + 2];\r\n      let b = array[i + 1][j + 1];\r\n      let c = array[i + 2][j] + array[i + 2][j + 1] + array[i + 2][j + 2];\r\n\r\n      let sum = a + b + c;\r\n\r\n      if (maxValue&lt;sum) {\r\n        maxValue = sum;\r\n      }\r\n    }\r\n  }\r\n\r\n  return maxValue;\r\n}\r\n\r\nconsole.log(galssSum([[1, 1, 1, 0, 0, 0], [0, 1, 0, 0, 0, 0], [1, 1, 1, 0, 0, 0], [0, 0, 2, 4, 4, 0], [0, 0, 0, 2, 0, 0], [0, 0, 1, 2, 4, 0]]));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":14339296,"reputation":11,"user_id":10462806,"display_name":"mudunuri ramesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538756769,"creation_date":1538756769,"answer_id":52669815,"question_id":37363674,"body_markdown":"    int hourglassSum(vector&lt;vector&lt;int&gt;&gt; vec) {\r\n    \r\n        int res = 0;\r\n        int size = ((vec[0].size())-2) * ((vec.size())-2);\r\n        //cout&lt;&lt;size&lt;&lt;endl;\r\n        vector&lt;int&gt; res_vec(size);\r\n        int j = 0;\r\n        int itr =0 ;\r\n        int cnt = 0;\r\n        int mid = 0;\r\n        int l =0;\r\n        while((l+2) &lt; vec.size())\r\n        {\r\n    while((j+2) &lt; vec.size())\r\n    {\r\n            for(int i =j ;i&lt;j+3; i+=2)\r\n            {\r\n                //cout&lt;&lt;i&lt;&lt;&quot; :&quot;;\r\n                for(int k=l;k&lt;l+3;k++)\r\n                {\r\n                    //cout&lt;&lt;k&lt;&lt;&quot; &quot;;\r\n                    res_vec[itr] += vec[i][k];\r\n                }\r\n                //cout&lt;&lt;endl;\r\n            }\r\n            res_vec[itr] += vec[j+1][l+1];\r\n            //cout&lt;&lt;endl;\r\n    itr++;\r\n            j++;\r\n    }\r\n    l++;\r\n    j=0;\r\n        }\r\n    \r\n        int max=res_vec[0];\r\n    for(int i =1;i&lt;res_vec.size();i++)\r\n    {\r\n    if(max &lt; res_vec[i])\r\n    {\r\n        max = res_vec[i];\r\n    }\r\n        //cout&lt;&lt;res_vec[i]&lt;&lt; &quot; &quot;;\r\n    }\r\n    res = max;\r\n    //cout&lt;&lt;endl;\r\n        return res;\r\n    }\r\n\r\n    ","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<pre><code>int hourglassSum(vector&lt;vector&lt;int&gt;&gt; vec) {\n\n    int res = 0;\n    int size = ((vec[0].size())-2) * ((vec.size())-2);\n    //cout&lt;&lt;size&lt;&lt;endl;\n    vector&lt;int&gt; res_vec(size);\n    int j = 0;\n    int itr =0 ;\n    int cnt = 0;\n    int mid = 0;\n    int l =0;\n    while((l+2) &lt; vec.size())\n    {\nwhile((j+2) &lt; vec.size())\n{\n        for(int i =j ;i&lt;j+3; i+=2)\n        {\n            //cout&lt;&lt;i&lt;&lt;\" :\";\n            for(int k=l;k&lt;l+3;k++)\n            {\n                //cout&lt;&lt;k&lt;&lt;\" \";\n                res_vec[itr] += vec[i][k];\n            }\n            //cout&lt;&lt;endl;\n        }\n        res_vec[itr] += vec[j+1][l+1];\n        //cout&lt;&lt;endl;\nitr++;\n        j++;\n}\nl++;\nj=0;\n    }\n\n    int max=res_vec[0];\nfor(int i =1;i&lt;res_vec.size();i++)\n{\nif(max &lt; res_vec[i])\n{\n    max = res_vec[i];\n}\n    //cout&lt;&lt;res_vec[i]&lt;&lt; \" \";\n}\nres = max;\n//cout&lt;&lt;endl;\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4533824,"reputation":21,"user_id":4232005,"display_name":"Mohamed Elkady"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559975551,"creation_date":1559975551,"answer_id":56504091,"question_id":37363674,"body_markdown":"    // Complete the hourglassSum function below.\r\n    static int hourglassSum(int[][] arr) {\r\n        int max = Integer.MIN_VALUE;\r\n        for (int i = 0; i &lt; arr.length - 2; i++) {\r\n            for (int j = 0; j &lt; arr.length - 2; j++) {\r\n                int hourGlassSum = (arr[i][j] + arr[i][j + 1] + arr[i][j + 2])\r\n                        + (arr[i + 1][j + 1])\r\n                        + (arr[i + 2][j] + arr[i + 2][j + 1] + arr[i + 2][j + 2]);\r\n                max = Math.max(hourGlassSum,max);\r\n            }\r\n\r\n        }\r\n        return max;\r\n    }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<pre><code>// Complete the hourglassSum function below.\nstatic int hourglassSum(int[][] arr) {\n    int max = Integer.MIN_VALUE;\n    for (int i = 0; i &lt; arr.length - 2; i++) {\n        for (int j = 0; j &lt; arr.length - 2; j++) {\n            int hourGlassSum = (arr[i][j] + arr[i][j + 1] + arr[i][j + 2])\n                    + (arr[i + 1][j + 1])\n                    + (arr[i + 2][j] + arr[i + 2][j + 1] + arr[i + 2][j + 2]);\n            max = Math.max(hourGlassSum,max);\n        }\n\n    }\n    return max;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3975707,"reputation":1021,"user_id":3278943,"display_name":"Arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646481456,"creation_date":1646481456,"answer_id":71361975,"question_id":37363674,"body_markdown":"     public static int hourglassSum(List&lt;List&lt;Integer&gt;&gt; arr) {\r\n        // Write your code here\r\n        \r\n        \r\n        int maxSum = Integer.MIN_VALUE;\r\n    for (int i = 0; i &lt; 4; i++) {\r\n        for (int j = 0; j &lt; 4; j++) {\r\n            int sum = arr.get(i).get(j) +arr.get(i).get(j+1) + \r\n            arr.get(i).get(j+2)+arr.get(i+1).get(j+1)+\r\n            arr.get(i+2).get(j)+arr.get(i+2).get(j+1)+arr.get(i+2).get(j+2);\r\n            if (maxSum &lt; sum) {\r\n                maxSum = sum;\r\n            }\r\n        }\r\n    }\r\n    \r\n    return maxSum;\r\n    \r\n        }\r\n   \r\n    }\r\n\r\n","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<pre><code> public static int hourglassSum(List&lt;List&lt;Integer&gt;&gt; arr) {\n    // Write your code here\n    \n    \n    int maxSum = Integer.MIN_VALUE;\nfor (int i = 0; i &lt; 4; i++) {\n    for (int j = 0; j &lt; 4; j++) {\n        int sum = arr.get(i).get(j) +arr.get(i).get(j+1) + \n        arr.get(i).get(j+2)+arr.get(i+1).get(j+1)+\n        arr.get(i+2).get(j)+arr.get(i+2).get(j+1)+arr.get(i+2).get(j+2);\n        if (maxSum &lt; sum) {\n            maxSum = sum;\n        }\n    }\n}\n\nreturn maxSum;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665562931,"creation_date":1665562931,"answer_id":74038645,"question_id":37363674,"body_markdown":"Iterative way,Passing all test cases in hackerank web\r\n\r\n     public static int hourglassSum(List&lt;List&lt;Integer&gt;&gt; arr) {\r\n        // Write your code here\r\n        int rowsCount=arr.size();\r\n        int colCount=arr.get(0).size();\r\n        Integer max=Integer.MIN_VALUE;\r\n        Integer subSum=0;\r\n        for(int r=0; (r+3)&lt;=rowsCount; r++)\r\n        {\r\n             for(int c=0; (c+3)&lt;=colCount; c++)\r\n               {\r\n            subSum= hourglassSubSum(arr,r,c);\r\n                    System.out.println(&quot;r,c,subSum &quot;+r+&quot; &quot;+c+&quot; &quot;+&quot; &quot;+subSum);\r\n            if(subSum&gt;max)\r\n            {\r\n                max=subSum;\r\n            }\r\n                }\r\n        }      \r\n        return max;\r\n        }\r\n    \r\n    public static int hourglassSubSum(List&lt;List&lt;Integer&gt;&gt; hourglassArray,\r\n    int rowIndex,int colIndex) {\r\n        // Write your code here\r\n        Integer subSum=0;\r\n         for(int i=rowIndex;i&lt;(rowIndex+3);i++)\r\n         {\r\n             for(int j=colIndex;j&lt;(colIndex+3);j++)\r\n                {\r\n                    if(i==(rowIndex+1) &amp;&amp; (j==colIndex || j==colIndex+2))\r\n                    {\r\n                        continue;\r\n                    }\r\n                    subSum=subSum+hourglassArray.get(i).get(j);\r\n                }\r\n         }\r\n        return subSum;\r\n        }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Iterative way,Passing all test cases in hackerank web</p>\n<pre><code> public static int hourglassSum(List&lt;List&lt;Integer&gt;&gt; arr) {\n    // Write your code here\n    int rowsCount=arr.size();\n    int colCount=arr.get(0).size();\n    Integer max=Integer.MIN_VALUE;\n    Integer subSum=0;\n    for(int r=0; (r+3)&lt;=rowsCount; r++)\n    {\n         for(int c=0; (c+3)&lt;=colCount; c++)\n           {\n        subSum= hourglassSubSum(arr,r,c);\n                System.out.println(&quot;r,c,subSum &quot;+r+&quot; &quot;+c+&quot; &quot;+&quot; &quot;+subSum);\n        if(subSum&gt;max)\n        {\n            max=subSum;\n        }\n            }\n    }      \n    return max;\n    }\n\npublic static int hourglassSubSum(List&lt;List&lt;Integer&gt;&gt; hourglassArray,\nint rowIndex,int colIndex) {\n    // Write your code here\n    Integer subSum=0;\n     for(int i=rowIndex;i&lt;(rowIndex+3);i++)\n     {\n         for(int j=colIndex;j&lt;(colIndex+3);j++)\n            {\n                if(i==(rowIndex+1) &amp;&amp; (j==colIndex || j==colIndex+2))\n                {\n                    continue;\n                }\n                subSum=subSum+hourglassArray.get(i).get(j);\n            }\n     }\n    return subSum;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674476557,"creation_date":1674476557,"answer_id":75209445,"question_id":37363674,"body_markdown":"Solution for actual &quot;2D Array - DS&quot; challenge from HackerRank https://www.hackerrank.com/challenges/2d-array\r\n\r\n    public static int hourglassSum(List&lt;List&lt;Integer&gt;&gt; arr) {        \r\n        int maxSum = Integer.MIN_VALUE;\r\n        for (int col=0; col &lt;= 3; col++) {\r\n            for (int row=0; row &lt;= 3; row++) {\r\n                int sum = calcHourglass(arr, col, row);                \r\n                maxSum = Math.max(sum, maxSum);\r\n            }\r\n        }\r\n        return maxSum;\r\n    }\r\n    \r\n    private static int calcHourglass(List&lt;List&lt;Integer&gt;&gt; arr, int col, int row) {        \r\n        int sum = 0;\r\n        for (int i=0; i &lt; 3; i++) {\r\n            sum += arr.get(row).get(col+i);   // the top of the hourglass\r\n            sum += arr.get(row+2).get(col+i); // the bottom of the hourglass\r\n        }        \r\n        sum += arr.get(row+1).get(col+1);     // the center\r\n        return sum;\r\n    }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Solution for actual &quot;2D Array - DS&quot; challenge from HackerRank <a href=\"https://www.hackerrank.com/challenges/2d-array\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/2d-array</a></p>\n<pre><code>public static int hourglassSum(List&lt;List&lt;Integer&gt;&gt; arr) {        \n    int maxSum = Integer.MIN_VALUE;\n    for (int col=0; col &lt;= 3; col++) {\n        for (int row=0; row &lt;= 3; row++) {\n            int sum = calcHourglass(arr, col, row);                \n            maxSum = Math.max(sum, maxSum);\n        }\n    }\n    return maxSum;\n}\n\nprivate static int calcHourglass(List&lt;List&lt;Integer&gt;&gt; arr, int col, int row) {        \n    int sum = 0;\n    for (int i=0; i &lt; 3; i++) {\n        sum += arr.get(row).get(col+i);   // the top of the hourglass\n        sum += arr.get(row+2).get(col+i); // the bottom of the hourglass\n    }        \n    sum += arr.get(row+1).get(col+1);     // the center\n    return sum;\n}\n</code></pre>\n"}],"owner":{"account_id":2188743,"reputation":1941,"user_id":1936461,"accept_rate":88,"display_name":"RajSharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28674,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":37363726,"answer_count":16,"score":7,"last_activity_date":1674476557,"creation_date":1463837825,"question_id":37363674,"body_markdown":"I am working on a problem where I&#39;ve to print the largest sum among all the hourglasses in the array. You can find the details about the problem [here-][1]\r\n\r\n\r\n**What I tried:**\r\n\r\n    public class Solution {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tint arr[][] = new int[6][6];\r\n    \t\tfor (int arr_i = 0; arr_i &lt; 6; arr_i++) {\r\n    \t\t\tfor (int arr_j = 0; arr_j &lt; 6; arr_j++) {\r\n    \t\t\t\tarr[arr_i][arr_j] = in.nextInt();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tint sum = 0;\r\n    \t\tint tmp_sum = 0;\r\n    \t\tfor (int arr_i = 0; arr_i &lt; 4; arr_i++) {\r\n    \t\t\tfor (int arr_j = 0; arr_j &lt; 4; arr_j++) {\r\n    \t\t\t\tif (arr[arr_i][arr_j] &gt; 0) {\r\n    \t\t\t\t\tsum = sum + (arr[arr_i][arr_j]) + (arr[arr_i][arr_j + 1]) + (arr[arr_i][arr_j + 2]);\r\n    \t\t\t\t\tsum = sum + (arr[arr_i + 1][arr_j + 1]);\r\n    \t\t\t\t\tsum = sum + (arr[arr_i + 2][arr_j]) + (arr[arr_i + 2][arr_j + 1]) + (arr[arr_i + 2][arr_j + 2]);\r\n    \t\t\t\t\tif (tmp_sum &lt; sum) {\r\n    \t\t\t\t\t\ttmp_sum = sum;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tsum = 0;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(tmp_sum);\r\n    \t}\r\n    }\r\n\r\n**Input:**\r\n\r\n    1 1 1 0 0 0\r\n    0 1 0 0 0 0\r\n    1 1 1 0 0 0\r\n    0 9 2 -4 -4 0\r\n    0 0 0 -2 0 0\r\n    0 0 -1 -2 -4 0\r\n\r\n**Output:**\r\n\r\n    12\r\n\r\n**Expected Output:**\r\n\r\n    13\r\n\r\n**Screenshot:**\r\n[![enter image description here][2]][2]\r\n\r\nI don&#39;t know where I&#39;m doing wrong. I cannot understand why the expected output is `13`. According to the description given in the problem it should be `10`. Is this a wrong question or my understanding about this is wrong?\r\n\r\n  [1]: https://www.hackerrank.com/challenges/2d-array\r\n  [2]: http://i.stack.imgur.com/rnrhW.png","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>I am working on a problem where I've to print the largest sum among all the hourglasses in the array. You can find the details about the problem <a href=\"https://www.hackerrank.com/challenges/2d-array\" rel=\"noreferrer\">here-</a></p>\n\n<p><strong>What I tried:</strong></p>\n\n<pre><code>public class Solution {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int arr[][] = new int[6][6];\n        for (int arr_i = 0; arr_i &lt; 6; arr_i++) {\n            for (int arr_j = 0; arr_j &lt; 6; arr_j++) {\n                arr[arr_i][arr_j] = in.nextInt();\n            }\n        }\n\n        int sum = 0;\n        int tmp_sum = 0;\n        for (int arr_i = 0; arr_i &lt; 4; arr_i++) {\n            for (int arr_j = 0; arr_j &lt; 4; arr_j++) {\n                if (arr[arr_i][arr_j] &gt; 0) {\n                    sum = sum + (arr[arr_i][arr_j]) + (arr[arr_i][arr_j + 1]) + (arr[arr_i][arr_j + 2]);\n                    sum = sum + (arr[arr_i + 1][arr_j + 1]);\n                    sum = sum + (arr[arr_i + 2][arr_j]) + (arr[arr_i + 2][arr_j + 1]) + (arr[arr_i + 2][arr_j + 2]);\n                    if (tmp_sum &lt; sum) {\n                        tmp_sum = sum;\n                    }\n                    sum = 0;\n                }\n            }\n        }\n        System.out.println(tmp_sum);\n    }\n}\n</code></pre>\n\n<p><strong>Input:</strong></p>\n\n<pre><code>1 1 1 0 0 0\n0 1 0 0 0 0\n1 1 1 0 0 0\n0 9 2 -4 -4 0\n0 0 0 -2 0 0\n0 0 -1 -2 -4 0\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>12\n</code></pre>\n\n<p><strong>Expected Output:</strong></p>\n\n<pre><code>13\n</code></pre>\n\n<p><strong>Screenshot:</strong>\n<a href=\"https://i.stack.imgur.com/rnrhW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rnrhW.png\" alt=\"enter image description here\"></a></p>\n\n<p>I don't know where I'm doing wrong. I cannot understand why the expected output is <code>13</code>. According to the description given in the problem it should be <code>10</code>. Is this a wrong question or my understanding about this is wrong?</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1674231783,"post_id":75177756,"comment_id":132677413,"body_markdown":"Maybe test with openssl, the URI would correspond to `openssl s_client -connect host:37017 -CAfile &quot;path to .pem file&quot; -quiet -no_ign_eof -status &lt;&lt;&lt; Q` What is the config file of the MongoDB?","body":"Maybe test with openssl, the URI would correspond to <code>openssl s_client -connect host:37017 -CAfile &quot;path to .pem file&quot; -quiet -no_ign_eof -status &lt;&lt;&lt; Q</code> What is the config file of the MongoDB?"}],"answers":[{"tags":[],"owner":{"account_id":80984,"reputation":825,"user_id":228649,"display_name":"Corneil du Plessis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674475749,"creation_date":1674475749,"answer_id":75209293,"question_id":75177756,"body_markdown":"MongoDB Java Client requires the certificate be loaded in the JVM keystore.\r\n\r\n[https://mongodb.github.io/mongo-java-driver/3.0/driver/reference/connecting/ssl/][1]\r\n\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/3.0/driver/reference/connecting/ssl/","title":"Issue while setting up tls/ssl for mongo db connection in a spring boot application","body":"<p>MongoDB Java Client requires the certificate be loaded in the JVM keystore.</p>\n<p><a href=\"https://mongodb.github.io/mongo-java-driver/3.0/driver/reference/connecting/ssl/\" rel=\"nofollow noreferrer\">https://mongodb.github.io/mongo-java-driver/3.0/driver/reference/connecting/ssl/</a></p>\n"}],"owner":{"account_id":7365432,"reputation":45,"user_id":5607275,"accept_rate":0,"display_name":"Aadil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674475749,"creation_date":1674159055,"question_id":75177756,"body_markdown":"I am trying to setup mongodb connection settings for a spring boot application which needs ssl settings enabled and a .pem file.\r\nMy application.yml file looks like   \r\n\r\n     spring:\r\n          data:\r\n            mongodb:\r\n              uri: mongodb://user:Pass@host:37017/DEV?authSource=admin&amp;tls=true&amp;tlsCAFile=path to .pem\r\n        file      \r\n              database: DEV\r\n\r\nI am using spring mongodb-driver-core of 4.6.1 version.\r\n\r\nBut I get the following error \r\n\r\n    com.mongodb.MongoSocketWriteException: Exception sending message\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329)\r\n    \tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101)\r\n    \tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182)\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:353)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:296)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:291)\r\n    \tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654)\r\n    \tat java.base/sun.security.ssl.CertificateStatus$CertificateStatusConsumer.consume(CertificateStatus.java:295)\r\n    \tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n\r\nThankyou.\r\n\t","title":"Issue while setting up tls/ssl for mongo db connection in a spring boot application","body":"<p>I am trying to setup mongodb connection settings for a spring boot application which needs ssl settings enabled and a .pem file.\nMy application.yml file looks like</p>\n<pre><code> spring:\n      data:\n        mongodb:\n          uri: mongodb://user:Pass@host:37017/DEV?authSource=admin&amp;tls=true&amp;tlsCAFile=path to .pem\n    file      \n          database: DEV\n</code></pre>\n<p>I am using spring mongodb-driver-core of 4.6.1 version.</p>\n<p>But I get the following error</p>\n<pre><code>com.mongodb.MongoSocketWriteException: Exception sending message\n    at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329)\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101)\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45)\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131)\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73)\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182)\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:353)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:296)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:291)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654)\n    at java.base/sun.security.ssl.CertificateStatus$CertificateStatusConsumer.consume(CertificateStatus.java:295)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n</code></pre>\n<p>Thankyou.</p>\n"},{"tags":["java","spring","spring-boot","togglz"],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674475486,"creation_date":1674475486,"question_id":75209239,"body_markdown":"I&#39;m trying to use `Togglz` with `Spring Boot 2.7.8`. \r\n\r\nI created this test application to get it up and running:\r\n\r\n```Java\r\n@SpringBootApplication\r\npublic class Testproject2Application {\r\n\r\n\t@Autowired\r\n\tprivate static FeatureManager manager;\r\n\r\n\tpublic static final Feature TOGGLZ_TEST = new NamedFeature(&quot;TOGGLZ_TEST&quot;);\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSpringApplication.run(Testproject2Application.class, args);\r\n\r\n\t\tif (manager.isActive(TOGGLZ_TEST)) {\r\n\t\t\tTogglzTest togglz = new TogglzTest(manager);\r\n\t\t\ttogglz.getTogglzStatus();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```Java\r\n@Configurable\r\npublic class TogglzTest {\r\n\r\n    @Autowired\r\n    private FeatureManager manager;\r\n\r\n    @Autowired\r\n    public TogglzTest(FeatureManager manager) {\r\n        this.manager = manager;\r\n    }\r\n\r\n    public void getTogglzStatus(){\r\n        System.out.println(&quot;togglzOn is working&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy pom looks like this:\r\n\r\n```XML\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.me&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;testproject2&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;testproject2&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.togglz&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;togglz-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI set these in application.properties:\r\n\r\n```properties\r\ntogglz.enabled=true\r\ntogglz.features.TOGGLZ_TEST.enabled=true\r\n```\r\n\r\nWhen I run it I get:\r\n\r\n&gt;Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.togglz.core.manager.FeatureManager.isActive(org.togglz.core.Feature)&quot; because &quot;com.paulcarron.testproject2.Testproject2Application.manager&quot; is null\r\n\tat com.paulcarron.testproject2.Testproject2Application.main(Testproject2Application.java:22)\r\n\r\nI&#39;m not sure what I should do with manager as nothing about this is mentioned in the [Spring Boot Starter documentation][1].\r\n\r\nWhat should I do to resolve this?\r\n\r\n\r\n  [1]: https://www.togglz.org/documentation/spring-boot-starter.html","title":"Manager throws NullPointerException when using Togglz in Spring Boot application","body":"<p>I'm trying to use <code>Togglz</code> with <code>Spring Boot 2.7.8</code>.</p>\n<p>I created this test application to get it up and running:</p>\n<pre><code>@SpringBootApplication\npublic class Testproject2Application {\n\n    @Autowired\n    private static FeatureManager manager;\n\n    public static final Feature TOGGLZ_TEST = new NamedFeature(&quot;TOGGLZ_TEST&quot;);\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(Testproject2Application.class, args);\n\n        if (manager.isActive(TOGGLZ_TEST)) {\n            TogglzTest togglz = new TogglzTest(manager);\n            togglz.getTogglzStatus();\n        }\n    }\n\n}\n</code></pre>\n<pre><code>@Configurable\npublic class TogglzTest {\n\n    @Autowired\n    private FeatureManager manager;\n\n    @Autowired\n    public TogglzTest(FeatureManager manager) {\n        this.manager = manager;\n    }\n\n    public void getTogglzStatus(){\n        System.out.println(&quot;togglzOn is working&quot;);\n    }\n\n}\n</code></pre>\n<p>My pom looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.me&lt;/groupId&gt;\n    &lt;artifactId&gt;testproject2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;testproject2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.togglz&lt;/groupId&gt;\n            &lt;artifactId&gt;togglz-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I set these in application.properties:</p>\n<pre><code>togglz.enabled=true\ntogglz.features.TOGGLZ_TEST.enabled=true\n</code></pre>\n<p>When I run it I get:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.togglz.core.manager.FeatureManager.isActive(org.togglz.core.Feature)&quot; because &quot;com.paulcarron.testproject2.Testproject2Application.manager&quot; is null\nat com.paulcarron.testproject2.Testproject2Application.main(Testproject2Application.java:22)</p>\n</blockquote>\n<p>I'm not sure what I should do with manager as nothing about this is mentioned in the <a href=\"https://www.togglz.org/documentation/spring-boot-starter.html\" rel=\"nofollow noreferrer\">Spring Boot Starter documentation</a>.</p>\n<p>What should I do to resolve this?</p>\n"},{"tags":["java","spring-boot","extentreports"],"answers":[{"comments":[{"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"score":0,"creation_date":1674485325,"post_id":75209233,"comment_id":132718088,"body_markdown":"Thnaks for your answer. I did it by another complex way. Hope it will help others.","body":"Thnaks for your answer. I did it by another complex way. Hope it will help others."}],"tags":[],"owner":{"account_id":24285607,"reputation":26,"user_id":18231425,"display_name":"Vinith Vishal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674475450,"creation_date":1674475450,"answer_id":75209233,"question_id":71606554,"body_markdown":"I was able to remove/hide any Element from extent report using below code. you can add the below line to your extent report class and locate the element that you want to remove/hide from the report being generated.\r\n\r\n&quot;ExtentSparkReporterObject.config().setJs(&quot;document.getElementsByClassName(&#39;Class_Name_Of_Element_Needed_to_Be_Removed&#39;)[0].style.setProperty(&#39;display&#39;,&#39;none&#39;);&quot;);&quot;\r\n\r\nMy Actual code\r\n\r\n\r\n    public class ExtentReport {\r\n    \t static ExtentReports extent;\r\n    \t    final static String filePath = &quot;Report.html&quot;;\r\n    \t    static Map&lt;Integer, ExtentTest&gt; extentTestMap = new HashMap&lt;Integer, ExtentTest&gt;();\r\n    \r\n    \t    public synchronized static ExtentReports getReporter() {\r\n    \t        if (extent == null) {\r\n    \t        \tExtentSparkReporter html = new ExtentSparkReporter(&quot;Report.html&quot;);\r\n    \t        \thtml.config().setDocumentTitle(&quot;Web Automation Test Result&quot;);\r\n    \t        \thtml.config().setReportName(&quot;WBHM&quot;);\r\n    \t        \thtml.config().setTheme(Theme.DARK);\r\n    \t        \thtml.config().enableOfflineMode(true);\r\n    \t        \thtml.config().thumbnailForBase64();\r\n    \t        \thtml.config().setTimelineEnabled(false);\r\n    \t        \thtml.config().setJs(&quot;document.getElementsByClassName&quot;\r\n    \t        \t\t\t+ &quot;(&#39;col-md-6&#39;)[0].style.setProperty(&#39;display&#39;,&#39;none&#39;);&quot;);       \t\r\n    \t            extent = new ExtentReports();\r\n    \t            extent.attachReporter(html);\r\n    \t            extent.setSystemInfo(&quot;OS&quot;, &quot;Windows10&quot;);\r\n    \t            extent.setSystemInfo(&quot;Browser&quot;, &quot;Chrome&quot;);         \r\n    \t        }\r\n    \t        return extent;\r\n    \t    }\r\n    \t    \r\n    \t    public static synchronized ExtentTest getTest() {\r\n    \t        return (ExtentTest) extentTestMap.get((int) (long) (Thread.currentThread().getId()));\r\n    \t    }\r\n    \r\n    \t    public static synchronized ExtentTest startTest(String testName, String desc) {\r\n    \t        ExtentTest test = getReporter().createTest(testName, desc);\r\n    \t        extentTestMap.put((int) (long) (Thread.currentThread().getId()), test);\r\n    \t        return test;\r\n    \t    }\r\n    \t}\r\n\r\n","title":"How to remove few items from Extent Report","body":"<p>I was able to remove/hide any Element from extent report using below code. you can add the below line to your extent report class and locate the element that you want to remove/hide from the report being generated.</p>\n<p>&quot;ExtentSparkReporterObject.config().setJs(&quot;document.getElementsByClassName('Class_Name_Of_Element_Needed_to_Be_Removed')[0].style.setProperty('display','none');&quot;);&quot;</p>\n<p>My Actual code</p>\n<pre><code>public class ExtentReport {\n     static ExtentReports extent;\n        final static String filePath = &quot;Report.html&quot;;\n        static Map&lt;Integer, ExtentTest&gt; extentTestMap = new HashMap&lt;Integer, ExtentTest&gt;();\n\n        public synchronized static ExtentReports getReporter() {\n            if (extent == null) {\n                ExtentSparkReporter html = new ExtentSparkReporter(&quot;Report.html&quot;);\n                html.config().setDocumentTitle(&quot;Web Automation Test Result&quot;);\n                html.config().setReportName(&quot;WBHM&quot;);\n                html.config().setTheme(Theme.DARK);\n                html.config().enableOfflineMode(true);\n                html.config().thumbnailForBase64();\n                html.config().setTimelineEnabled(false);\n                html.config().setJs(&quot;document.getElementsByClassName&quot;\n                        + &quot;('col-md-6')[0].style.setProperty('display','none');&quot;);          \n                extent = new ExtentReports();\n                extent.attachReporter(html);\n                extent.setSystemInfo(&quot;OS&quot;, &quot;Windows10&quot;);\n                extent.setSystemInfo(&quot;Browser&quot;, &quot;Chrome&quot;);         \n            }\n            return extent;\n        }\n        \n        public static synchronized ExtentTest getTest() {\n            return (ExtentTest) extentTestMap.get((int) (long) (Thread.currentThread().getId()));\n        }\n\n        public static synchronized ExtentTest startTest(String testName, String desc) {\n            ExtentTest test = getReporter().createTest(testName, desc);\n            extentTestMap.put((int) (long) (Thread.currentThread().getId()), test);\n            return test;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75209233,"answer_count":1,"score":0,"last_activity_date":1674475450,"creation_date":1648141352,"question_id":71606554,"body_markdown":"I used Extent Reporting Framework (https://www.extentreports.com/) to generate a nice-looking report in my java / springboot app. There are a few unnecessary items that I would like to remove. Here is my report:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn the Dashboard view, I want to remove Log Events. How to remove it? Also in the list view, there are 2 items marked. It looks like time and #test-id=1. I want to remove them. I have no idea what are those? Please let me know how to remove them? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6VUjo.png","title":"How to remove few items from Extent Report","body":"<p>I used Extent Reporting Framework (<a href=\"https://www.extentreports.com/\" rel=\"nofollow noreferrer\">https://www.extentreports.com/</a>) to generate a nice-looking report in my java / springboot app. There are a few unnecessary items that I would like to remove. Here is my report:-</p>\n<p><a href=\"https://i.stack.imgur.com/6VUjo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6VUjo.png\" alt=\"enter image description here\" /></a></p>\n<p>In the Dashboard view, I want to remove Log Events. How to remove it? Also in the list view, there are 2 items marked. It looks like time and #test-id=1. I want to remove them. I have no idea what are those? Please let me know how to remove them?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9515,"page":708,"page_size":100}
